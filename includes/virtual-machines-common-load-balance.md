

<span data-ttu-id="fcca9-101">Hay dos niveles de equilibrio de carga disponibles para Servicios de infraestructura de Azure:</span><span class="sxs-lookup"><span data-stu-id="fcca9-101">There are two levels of load balancing available for Azure infrastructure services:</span></span>

* <span data-ttu-id="fcca9-102">**Nivel de DNS**: equilibrio de carga para servicios en la nube de tráfico toodifferent ubicados en datos diferentes centros, toodifferent sitios Web de Azure ubicados en distintos centros de datos, o tooexternal los puntos de conexión.</span><span class="sxs-lookup"><span data-stu-id="fcca9-102">**DNS Level**:  Load balancing for traffic toodifferent cloud services located in different data centers, toodifferent Azure websites located in different data centers, or tooexternal endpoints.</span></span> <span data-ttu-id="fcca9-103">Esto se hace con el Administrador de tráfico de Azure y método de equilibrio de carga de hello Round Robin.</span><span class="sxs-lookup"><span data-stu-id="fcca9-103">This is done with Azure Traffic Manager and hello Round Robin load balancing method.</span></span>
* <span data-ttu-id="fcca9-104">**Nivel de red**: equilibrio de carga de entrada Internet tráfico toodifferent máquinas virtuales a de un servicio de nube o el equilibrio de carga de tráfico entre máquinas virtuales en un servicio en la nube o red virtual.</span><span class="sxs-lookup"><span data-stu-id="fcca9-104">**Network Level**:  Load balancing of incoming Internet traffic toodifferent virtual machines of a cloud service, or load balancing of traffic between virtual machines in a cloud service or virtual network.</span></span> <span data-ttu-id="fcca9-105">Esto se realiza con el equilibrador de carga de Azure Hola.</span><span class="sxs-lookup"><span data-stu-id="fcca9-105">This is done with hello Azure load balancer.</span></span>

## <a name="traffic-manager-load-balancing-for-cloud-services-and-websites"></a><span data-ttu-id="fcca9-106">Equilibrio de carga del Administrador de tráfico para servicios en la nube y sitios web</span><span class="sxs-lookup"><span data-stu-id="fcca9-106">Traffic Manager load balancing for cloud services and websites</span></span>
<span data-ttu-id="fcca9-107">Traffic Manager permite la distribución de hello toocontrol de tooendpoints de tráfico de usuario, que pueden incluir servicios en la nube, sitios Web, sitios externos y otros perfiles de Traffic Manager.</span><span class="sxs-lookup"><span data-stu-id="fcca9-107">Traffic Manager allows you toocontrol hello distribution of user traffic tooendpoints, which can include cloud services, websites, external sites, and other Traffic Manager profiles.</span></span> <span data-ttu-id="fcca9-108">Traffic Manager funciona aplicando un consultas de sistema de nombres (DNS) de directivas inteligente motor tooDomain Hola nombres de dominio de los recursos de Internet.</span><span class="sxs-lookup"><span data-stu-id="fcca9-108">Traffic Manager works by applying an intelligent policy engine tooDomain Name System (DNS) queries for hello domain names of your Internet resources.</span></span> <span data-ttu-id="fcca9-109">Los servicios en la nube o sitios Web puede ejecutarse en distintos centros de datos a través de Hola a todos.</span><span class="sxs-lookup"><span data-stu-id="fcca9-109">Your cloud services or websites can be running in different datacenters across hello world.</span></span>

<span data-ttu-id="fcca9-110">Debe usar REST o Windows PowerShell extremos externos tooconfigure o perfiles de administrador de tráfico como extremos.</span><span class="sxs-lookup"><span data-stu-id="fcca9-110">You must use either REST or Windows PowerShell tooconfigure external endpoints or Traffic Manager profiles as endpoints.</span></span>

<span data-ttu-id="fcca9-111">Administrador de tráfico usa tres tráfico de toodistribute de métodos de equilibrio de carga:</span><span class="sxs-lookup"><span data-stu-id="fcca9-111">Traffic Manager uses three load-balancing methods toodistribute traffic:</span></span>

* <span data-ttu-id="fcca9-112">**Conmutación por error**: Utilice este método cuando desee toouse un extremo principal para todo el tráfico, pero proporcionar copias de seguridad en caso de hello principal deja de estar disponible.</span><span class="sxs-lookup"><span data-stu-id="fcca9-112">**Failover**:  Use this method when you want toouse a primary endpoint for all traffic, but provide backups in case hello primary becomes unavailable.</span></span>
* <span data-ttu-id="fcca9-113">**Rendimiento**: Utilice este método cuando tenga extremos en diferentes ubicaciones geográficas y desee solicitar clientes toouse Hola "más cercano" punto de conexión en términos de latencia más baja de Hola.</span><span class="sxs-lookup"><span data-stu-id="fcca9-113">**Performance**:  Use this method when you have endpoints in different geographic locations and you want requesting clients toouse hello "closest" endpoint in terms of hello lowest latency.</span></span>
* <span data-ttu-id="fcca9-114">**Operación por turnos:** Utilice este método cuando desee toodistribute carga a través de un conjunto de nube de servicios en hello mismo centro de datos o a través de servicios en la nube o sitios Web en distintos centros de datos.</span><span class="sxs-lookup"><span data-stu-id="fcca9-114">**Round Robin:**  Use this method when you want toodistribute load across a set of cloud services in hello same datacenter or across cloud services or websites in different datacenters.</span></span>

<span data-ttu-id="fcca9-115">Para más información, consulte [Métodos de enrutamiento de tráfico de Traffic Manager](../articles/traffic-manager/traffic-manager-routing-methods.md).</span><span class="sxs-lookup"><span data-stu-id="fcca9-115">For more information, see [About Traffic Manager Load Balancing Methods](../articles/traffic-manager/traffic-manager-routing-methods.md).</span></span>

<span data-ttu-id="fcca9-116">Hola siguiente diagrama muestra un ejemplo de Hola método de equilibrio de carga Round Robin para distribuir el tráfico entre servicios en la nube diferente.</span><span class="sxs-lookup"><span data-stu-id="fcca9-116">hello following diagram shows an example of hello Round Robin load balancing method for distributing traffic between different cloud services.</span></span>

![equilibrio de carga](./media/virtual-machines-common-load-balance/TMSummary.png)

<span data-ttu-id="fcca9-118">proceso básico de Hello es siguiente de hello:</span><span class="sxs-lookup"><span data-stu-id="fcca9-118">hello basic process is hello following:</span></span>

1. <span data-ttu-id="fcca9-119">Un cliente de Internet consulta un servicio nombres de dominio correspondientes tooa web.</span><span class="sxs-lookup"><span data-stu-id="fcca9-119">An Internet client queries a domain name corresponding tooa web service.</span></span>
2. <span data-ttu-id="fcca9-120">DNS reenvía tooTraffic Manager de la solicitud de consulta del nombre hello.</span><span class="sxs-lookup"><span data-stu-id="fcca9-120">DNS forwards hello name query request tooTraffic Manager.</span></span>
3. <span data-ttu-id="fcca9-121">Administrador de tráfico elige Hola siguiente servicio en la nube en la lista de operación por turnos de Hola y le responde Hola nombre DNS.</span><span class="sxs-lookup"><span data-stu-id="fcca9-121">Traffic Manager chooses hello next cloud service in hello Round Robin list and sends back hello DNS name.</span></span> <span data-ttu-id="fcca9-122">servidor DNS del cliente de Internet de Hello resuelve la dirección IP de hello nombre tooan y envía al cliente de Internet toohello.</span><span class="sxs-lookup"><span data-stu-id="fcca9-122">hello Internet client's DNS server resolves hello name tooan IP address and sends it toohello Internet client.</span></span>
4. <span data-ttu-id="fcca9-123">cliente de Internet de Hola se conecta con el servicio de nube de hello elegido por el Administrador de tráfico.</span><span class="sxs-lookup"><span data-stu-id="fcca9-123">hello Internet client connects with hello cloud service chosen by Traffic Manager.</span></span>

<span data-ttu-id="fcca9-124">Para obtener más información, consulte [Administrador de tráfico](../articles/traffic-manager/traffic-manager-overview.md).</span><span class="sxs-lookup"><span data-stu-id="fcca9-124">For more information, see [Traffic Manager](../articles/traffic-manager/traffic-manager-overview.md).</span></span>

## <a name="azure-load-balancing-for-virtual-machines"></a><span data-ttu-id="fcca9-125">Equilibrio de carga de Azure para máquinas virtuales</span><span class="sxs-lookup"><span data-stu-id="fcca9-125">Azure load balancing for virtual machines</span></span>
<span data-ttu-id="fcca9-126">Hola de máquinas virtuales en el mismo servicio en la nube o red virtual puede comunicarse entre sí directamente mediante sus direcciones IP privadas.</span><span class="sxs-lookup"><span data-stu-id="fcca9-126">Virtual machines in hello same cloud service or virtual network can communicate with each other directly using their private IP addresses.</span></span> <span data-ttu-id="fcca9-127">Servicio de nube de equipos y servicios fuera de Hola o red virtual sólo puede comunicarse con máquinas virtuales en un servicio en la nube o red virtual con un punto de conexión configurado.</span><span class="sxs-lookup"><span data-stu-id="fcca9-127">Computers and services outside hello cloud service or virtual network can only communicate with virtual machines in a cloud service or virtual network with a configured endpoint.</span></span> <span data-ttu-id="fcca9-128">Un punto de conexión es una asignación de una dirección IP pública y la dirección IP privada de toothat del puerto y el puerto de una máquina virtual o el rol web dentro de un servicio de nube de Azure.</span><span class="sxs-lookup"><span data-stu-id="fcca9-128">An endpoint is a mapping of a public IP address and port toothat private IP address and port of a virtual machine or web role within an Azure cloud service.</span></span>

<span data-ttu-id="fcca9-129">Hola equilibrador de carga de Azure distribuye aleatoriamente un tipo específico de tráfico entrante entre varias máquinas virtuales o servicios en una configuración que se conoce como un conjunto de equilibrio de carga.</span><span class="sxs-lookup"><span data-stu-id="fcca9-129">hello Azure Load Balancer randomly distributes a specific type of incoming traffic across multiple virtual machines or services in a configuration known as a load-balanced set.</span></span> <span data-ttu-id="fcca9-130">Por ejemplo, se puede propagar carga Hola de tráfico de solicitudes web en varios servidores web o roles web.</span><span class="sxs-lookup"><span data-stu-id="fcca9-130">For example, you can spread hello load of web request traffic across multiple web servers or web roles.</span></span>

<span data-ttu-id="fcca9-131">Hello siguiente diagrama muestra un extremo con equilibrio de carga para tráfico de web (sin cifrar) estándar que se comparte entre tres máquinas virtuales para hello pública y privada puerto TCP 80.</span><span class="sxs-lookup"><span data-stu-id="fcca9-131">hello following diagram shows a load-balanced endpoint for standard (unencrypted) web traffic that is shared among three virtual machines for hello public and private TCP port of 80.</span></span> <span data-ttu-id="fcca9-132">Estas tres máquinas virtuales se encuentran en un conjunto con equilibrio de carga.</span><span class="sxs-lookup"><span data-stu-id="fcca9-132">These three virtual machines are in a load-balanced set.</span></span>

![equilibrio de carga](./media/virtual-machines-common-load-balance/LoadBalancing.png)

<span data-ttu-id="fcca9-134">Para obtener más información, consulte [Equilibrador de carga de Azure](../articles/load-balancer/load-balancer-overview.md).</span><span class="sxs-lookup"><span data-stu-id="fcca9-134">For more information, see [Azure Load Balancer](../articles/load-balancer/load-balancer-overview.md).</span></span> <span data-ttu-id="fcca9-135">Para los pasos de hello toocreate un conjunto de equilibrio de carga, consulte [configurar un conjunto con equilibrio de carga](../articles/load-balancer/load-balancer-get-started-internet-arm-ps.md).</span><span class="sxs-lookup"><span data-stu-id="fcca9-135">For hello steps toocreate a load-balanced set, see [Configure a load-balanced set](../articles/load-balancer/load-balancer-get-started-internet-arm-ps.md).</span></span>

<span data-ttu-id="fcca9-136">Azure también puede equilibrar la carga en un servicio en la nube o una red virtual.</span><span class="sxs-lookup"><span data-stu-id="fcca9-136">Azure can also load balance within a cloud service or virtual network.</span></span> <span data-ttu-id="fcca9-137">Esto se conoce como Equilibrio de carga interno y puede utilizarse en hello siguientes maneras:</span><span class="sxs-lookup"><span data-stu-id="fcca9-137">This is known as internal load balancing and can be used in hello following ways:</span></span>

* <span data-ttu-id="fcca9-138">saldo de tooload entre los servidores de distintos niveles de una aplicación de varios niveles (por ejemplo, entre las capas web y de base de datos).</span><span class="sxs-lookup"><span data-stu-id="fcca9-138">tooload balance between servers in different tiers of a multi-tier application (for example, between web and database tiers).</span></span>
* <span data-ttu-id="fcca9-139">tooload equilibrar la línea de negocio (LOB) las aplicaciones hospedadas en Azure sin necesidad de software o hardware de equilibrador de carga adicional.</span><span class="sxs-lookup"><span data-stu-id="fcca9-139">tooload balance line-of-business (LOB) applications hosted in Azure without requiring additional load balancer hardware or software.</span></span>
* <span data-ttu-id="fcca9-140">tooinclude servidores locales en conjunto de Hola de equipos cuyo tráfico tiene equilibrada de carga.</span><span class="sxs-lookup"><span data-stu-id="fcca9-140">tooinclude on-premises servers in hello set of computers whose traffic is load balanced.</span></span>

<span data-ttu-id="fcca9-141">Similar tooAzure equilibrio de carga, equilibrio de carga interno se facilita mediante la configuración de un conjunto de equilibrio de carga interno.</span><span class="sxs-lookup"><span data-stu-id="fcca9-141">Similar tooAzure load balancing, internal load balancing is facilitated by configuring an internal load-balanced set.</span></span>

<span data-ttu-id="fcca9-142">Hola siguiente diagrama muestra un ejemplo de un extremo con equilibrio de carga interno para una aplicación de línea de negocio (LOB) que se comparte entre tres máquinas virtuales en una red virtual entre entornos.</span><span class="sxs-lookup"><span data-stu-id="fcca9-142">hello following diagram shows an example of an internal load-balanced endpoint for a line of business (LOB) application that is shared among three virtual machines in a cross-premises virtual network.</span></span>

![equilibrio de carga](./media/virtual-machines-common-load-balance/LOBServers.png)

## <a name="load-balancer-considerations"></a><span data-ttu-id="fcca9-144">Consideraciones sobre el equilibrador de carga</span><span class="sxs-lookup"><span data-stu-id="fcca9-144">Load balancer considerations</span></span>
<span data-ttu-id="fcca9-145">Un equilibrador de carga se configura de forma predeterminada tootimeout una sesión inactiva en 4 minutos.</span><span class="sxs-lookup"><span data-stu-id="fcca9-145">A load balancer is configured by default tootimeout an idle session in 4 minutes.</span></span> <span data-ttu-id="fcca9-146">Si la aplicación detrás de un equilibrador de carga sale de una conexión inactiva durante más de 4 minutos y no tiene una configuración Keep-Alive, conexión Hola se van a quitar.</span><span class="sxs-lookup"><span data-stu-id="fcca9-146">If your application behind a load balancer leaves a connection idle for more than 4 minutes and it doesn't have a Keep-Alive configuration, hello connection will be dropped.</span></span> <span data-ttu-id="fcca9-147">Puede cambiar tooallow de comportamiento de equilibrador de carga de hello un [más configuración de tiempo de espera para el equilibrador de carga de Azure de](../articles/load-balancer/load-balancer-tcp-idle-timeout.md).</span><span class="sxs-lookup"><span data-stu-id="fcca9-147">You can change hello load balancer behavior tooallow a [longer timeout setting for Azure load balancer](../articles/load-balancer/load-balancer-tcp-idle-timeout.md).</span></span>

<span data-ttu-id="fcca9-148">Otra consideración es tipo hello del modo de distribución compatible con el equilibrador de carga de Azure.</span><span class="sxs-lookup"><span data-stu-id="fcca9-148">Other consideration is hello type of distribution mode supported by Azure Load Balancer.</span></span> <span data-ttu-id="fcca9-149">Puede configurar la afinidad de dirección IP de origen (dirección de IP de origen, dirección IP de destino) o el protocolo IP de origen (dirección IP de origen, protocolo y dirección IP de destino).</span><span class="sxs-lookup"><span data-stu-id="fcca9-149">You can configure source IP affinity (source IP, destination IP) or source IP protocol (source IP , destination IP and protocol).</span></span> <span data-ttu-id="fcca9-150">Revise el [modo de distribución del equilibrador de carga de Azure (afinidad de dirección IP de origen)](../articles/load-balancer/load-balancer-distribution-mode.md) para más información.</span><span class="sxs-lookup"><span data-stu-id="fcca9-150">Check out [Azure Load Balancer distribution mode (source IP affinity)](../articles/load-balancer/load-balancer-distribution-mode.md) for more information.</span></span>

## <a name="next-steps"></a><span data-ttu-id="fcca9-151">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="fcca9-151">Next steps</span></span>
<span data-ttu-id="fcca9-152">Para los pasos de hello toocreate un conjunto de equilibrio de carga, consulte [configurar un conjunto de equilibrio de carga interno](../articles/load-balancer/load-balancer-get-started-ilb-arm-ps.md).</span><span class="sxs-lookup"><span data-stu-id="fcca9-152">For hello steps toocreate a load-balanced set, see [Configure an internal load-balanced set](../articles/load-balancer/load-balancer-get-started-ilb-arm-ps.md).</span></span>

<span data-ttu-id="fcca9-153">Para obtener más información, consulte [Equilibrio de carga interno](../articles/load-balancer/load-balancer-internal-overview.md).</span><span class="sxs-lookup"><span data-stu-id="fcca9-153">For more information about load balancer, see [Internal load balancing](../articles/load-balancer/load-balancer-internal-overview.md).</span></span>

