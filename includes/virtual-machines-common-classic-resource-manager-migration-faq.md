# <a name="frequently-asked-questions-about-classic-to-azure-resource-manager-migration"></a><span data-ttu-id="8fbf0-101">Preguntas más frecuentes sobre la migración del método clásico al de Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="8fbf0-101">Frequently asked questions about classic to Azure Resource Manager migration</span></span>

## <a name="does-this-migration-plan-affect-any-of-my-existing-services-or-applications-that-run-on-azure-virtual-machines"></a><span data-ttu-id="8fbf0-102">¿Afecta este plan de migración a alguno de los servicios o las aplicaciones existentes que se ejecutan en máquinas virtuales de Azure?</span><span class="sxs-lookup"><span data-stu-id="8fbf0-102">Does this migration plan affect any of my existing services or applications that run on Azure virtual machines?</span></span> 

<span data-ttu-id="8fbf0-103">No.</span><span class="sxs-lookup"><span data-stu-id="8fbf0-103">No.</span></span> <span data-ttu-id="8fbf0-104">Las máquinas virtuales (clásicas) son servicios totalmente compatibles en la disponibilidad general.</span><span class="sxs-lookup"><span data-stu-id="8fbf0-104">The VMs (classic) are fully supported services in general availability.</span></span> <span data-ttu-id="8fbf0-105">Puede seguir usando estos recursos para expandir su huella en Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="8fbf0-105">You can continue to use these resources to expand your footprint on Microsoft Azure.</span></span>

## <a name="what-happens-to-my-vms-if-i-dont-plan-on-migrating-in-the-near-future"></a><span data-ttu-id="8fbf0-106">¿Qué ocurre con mis máquinas virtuales si por ahora no tengo planeado migrar?</span><span class="sxs-lookup"><span data-stu-id="8fbf0-106">What happens to my VMs if I don’t plan on migrating in the near future?</span></span> 

<span data-ttu-id="8fbf0-107">Las API y el modelo de recursos clásicos existentes no van a quedar en desuso.</span><span class="sxs-lookup"><span data-stu-id="8fbf0-107">We are not deprecating the existing classic APIs and resource model.</span></span> <span data-ttu-id="8fbf0-108">Queremos facilitar la migración, dadas las características avanzadas disponibles en el modelo de implementación de Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="8fbf0-108">We want to make migration easy, considering the advanced features that are available in the Resource Manager deployment model.</span></span> <span data-ttu-id="8fbf0-109">Es muy recomendable que repase [algunos de los avances realizados](../articles/azure-resource-manager/resource-manager-deployment-model.md) como parte de IaaS en Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="8fbf0-109">We highly recommend that you review [some of the advancements](../articles/azure-resource-manager/resource-manager-deployment-model.md) that are part of IaaS under Resource Manager.</span></span>

## <a name="what-does-this-migration-plan-mean-for-my-existing-tooling"></a><span data-ttu-id="8fbf0-110">¿Qué supone este plan de migración para las herramientas existentes?</span><span class="sxs-lookup"><span data-stu-id="8fbf0-110">What does this migration plan mean for my existing tooling?</span></span> 

<span data-ttu-id="8fbf0-111">La actualización de sus herramientas al modelo de implementación de Resource Manager es uno de los cambios más importantes que tendrá que considerar en sus planes de migración.</span><span class="sxs-lookup"><span data-stu-id="8fbf0-111">Updating your tooling to the Resource Manager deployment model is one of the most important changes that you have to account for in your migration plans.</span></span>

## <a name="how-long-will-the-management-plane-downtime-be"></a><span data-ttu-id="8fbf0-112">¿Cuánto tiempo durará el tiempo de inactividad del plano de administración?</span><span class="sxs-lookup"><span data-stu-id="8fbf0-112">How long will the management-plane downtime be?</span></span> 

<span data-ttu-id="8fbf0-113">Depende del número de recursos que se vayan a migrar.</span><span class="sxs-lookup"><span data-stu-id="8fbf0-113">It depends on the number of resources that are being migrated.</span></span> <span data-ttu-id="8fbf0-114">Para las implementaciones más pequeñas (unas decenas de máquinas virtuales), el proceso completo de migración debería tardar menos de una hora.</span><span class="sxs-lookup"><span data-stu-id="8fbf0-114">For smaller deployments (a few tens of VMs), the whole migration should take less than an hour.</span></span> <span data-ttu-id="8fbf0-115">Para implementaciones a gran escala (cientos de máquinas virtuales), la migración puede tardar unas horas.</span><span class="sxs-lookup"><span data-stu-id="8fbf0-115">For large-scale deployments (hundreds of VMs), the migration can take a few hours.</span></span>

## <a name="can-i-roll-back-after-my-migrating-resources-are-committed-in-resource-manager"></a><span data-ttu-id="8fbf0-116">¿Puedo revertir el proceso después de que la migración de los recursos esté confirmada en Resource Manager?</span><span class="sxs-lookup"><span data-stu-id="8fbf0-116">Can I roll back after my migrating resources are committed in Resource Manager?</span></span> 

<span data-ttu-id="8fbf0-117">Puede anular la migración siempre que los recursos se encuentren en el estado preparado.</span><span class="sxs-lookup"><span data-stu-id="8fbf0-117">You can abort your migration as long as the resources are in the prepared state.</span></span> <span data-ttu-id="8fbf0-118">No se puede revertir una vez que los recursos se hayan migrado correctamente mediante la operación de confirmación.</span><span class="sxs-lookup"><span data-stu-id="8fbf0-118">Rollback is not supported after the resources have been successfully migrated through the commit operation.</span></span>

## <a name="can-i-roll-back-my-migration-if-the-commit-operation-fails"></a><span data-ttu-id="8fbf0-119">¿Puedo revertir la migración si se produce un error en la operación de confirmación?</span><span class="sxs-lookup"><span data-stu-id="8fbf0-119">Can I roll back my migration if the commit operation fails?</span></span> 

<span data-ttu-id="8fbf0-120">No se puede anular la migración si se produce un error en la operación de confirmación.</span><span class="sxs-lookup"><span data-stu-id="8fbf0-120">You cannot abort migration if the commit operation fails.</span></span> <span data-ttu-id="8fbf0-121">Todas las operaciones de migración, incluida la de confirmación, son idempotentes.</span><span class="sxs-lookup"><span data-stu-id="8fbf0-121">All migration operations, including the commit operation, are idempotent.</span></span> <span data-ttu-id="8fbf0-122">Por consiguiente, se recomienda que vuelva a intentar la operación en breve.</span><span class="sxs-lookup"><span data-stu-id="8fbf0-122">So we recommend that you retry the operation after a short time.</span></span> <span data-ttu-id="8fbf0-123">Si sigue apareciendo un error, cree una incidencia de soporte técnico o publique una entrada con la etiqueta ClassicIaaSMigration en el [foro de máquinas virtuales](https://social.msdn.microsoft.com/Forums/azure/home?forum=WAVirtualMachinesforWindows).</span><span class="sxs-lookup"><span data-stu-id="8fbf0-123">If you still face an error, create a support ticket or create a forum post with the ClassicIaaSMigration tag on our [VM forum](https://social.msdn.microsoft.com/Forums/azure/home?forum=WAVirtualMachinesforWindows).</span></span>

## <a name="do-i-have-to-buy-another-express-route-circuit-if-i-have-to-use-iaas-under-resource-manager"></a><span data-ttu-id="8fbf0-124">¿Tengo que comprar otro circuito de ExpressRoute para usar IaaS en Resource Manager?</span><span class="sxs-lookup"><span data-stu-id="8fbf0-124">Do I have to buy another express route circuit if I have to use IaaS under Resource Manager?</span></span> 

<span data-ttu-id="8fbf0-125">No.</span><span class="sxs-lookup"><span data-stu-id="8fbf0-125">No.</span></span> <span data-ttu-id="8fbf0-126">Hace poco hemos habilitado la [transición de los circuitos ExpressRoute del modelo de implementación clásica al modelo de implementación de Resource Manager](../articles/expressroute/expressroute-move.md).</span><span class="sxs-lookup"><span data-stu-id="8fbf0-126">We recently enabled [moving ExpressRoute circuits from the classic to the Resource Manager deployment model](../articles/expressroute/expressroute-move.md).</span></span> <span data-ttu-id="8fbf0-127">No hace falta que compre un nuevo circuito de ExpressRoute si ya tiene uno.</span><span class="sxs-lookup"><span data-stu-id="8fbf0-127">You don’t have to buy a new ExpressRoute circuit if you already have one.</span></span>

## <a name="what-if-i-had-configured-role-based-access-control-policies-for-my-classic-iaas-resources"></a><span data-ttu-id="8fbf0-128">¿Qué ocurre si había configurado las directivas de control de acceso basado en rol para mis recursos IaaS clásicos?</span><span class="sxs-lookup"><span data-stu-id="8fbf0-128">What if I had configured Role-Based Access Control policies for my classic IaaS resources?</span></span> 

<span data-ttu-id="8fbf0-129">Durante la migración, los recursos se transforman del modelo clásico al de Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="8fbf0-129">During migration, the resources transform from classic to Resource Manager.</span></span> <span data-ttu-id="8fbf0-130">Por lo tanto, se recomienda que planee las actualizaciones de directiva de RBAC que deben producirse después de la migración.</span><span class="sxs-lookup"><span data-stu-id="8fbf0-130">So we recommend that you plan the RBAC policy updates that need to happen after migration.</span></span>

## <a name="i-backed-up-my-classic-vms-in-a-backup-vault-can-i-migrate-my-vms-from-classic-mode-to-resource-manager-mode-and-protect-them-in-a-recovery-services-vault"></a><span data-ttu-id="8fbf0-131">He realizado copias de seguridad de mis máquinas virtuales clásicas en un almacén de Backup.</span><span class="sxs-lookup"><span data-stu-id="8fbf0-131">I backed up my classic VMs in a Backup vault.</span></span> <span data-ttu-id="8fbf0-132">¿Puedo migrar mis máquinas virtuales del modo clásico al modo de Resource Manager y protegerlos en un almacén de Recovery Services?</span><span class="sxs-lookup"><span data-stu-id="8fbf0-132">Can I migrate my VMs from classic mode to Resource Manager mode and protect them in a Recovery Services vault?</span></span> 

<span data-ttu-id="8fbf0-133">Los puntos de recuperación de máquinas virtuales clásicas en un almacén de Backup no migran automáticamente a un almacén de Recovery Services cuando se mueve la máquina virtual del modo clásico al modo de Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="8fbf0-133">Classic VM recovery points in a backup vault don't automatically migrate to a Recovery Services vault when you move the VM from classic to Resource Manager mode.</span></span> <span data-ttu-id="8fbf0-134">Siga estos pasos para transferir las copias de seguridad de máquinas virtuales:</span><span class="sxs-lookup"><span data-stu-id="8fbf0-134">Follow these steps to transfer your VM backups:</span></span>

1. <span data-ttu-id="8fbf0-135">En el almacén de Backup, vaya a la pestaña **Elementos protegidos** y seleccione la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="8fbf0-135">In the Backup vault, go to the **Protected Items** tab and select the VM.</span></span> <span data-ttu-id="8fbf0-136">Haga clic en [Detener protección](../articles/backup/backup-azure-manage-vms-classic.md#stop-protecting-virtual-machines).</span><span class="sxs-lookup"><span data-stu-id="8fbf0-136">Click [Stop Protection](../articles/backup/backup-azure-manage-vms-classic.md#stop-protecting-virtual-machines).</span></span> <span data-ttu-id="8fbf0-137">Deje la opción *Eliminar los datos de copia de seguridad asociados***desactivada**.</span><span class="sxs-lookup"><span data-stu-id="8fbf0-137">Leave *Delete associated backup data* option **unchecked**.</span></span>
2. <span data-ttu-id="8fbf0-138">Elimine la extensión de instantánea o copia de seguridad de la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="8fbf0-138">Delete the backup/snapshot extension from the VM.</span></span>
3. <span data-ttu-id="8fbf0-139">Migre la máquina virtual del modo clásico al modo de Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="8fbf0-139">Migrate the virtual machine from classic mode to Resource Manager mode.</span></span> <span data-ttu-id="8fbf0-140">Asegúrese de que la información de almacenamiento y red correspondiente a la máquina virtual también se migra al modo de Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="8fbf0-140">Make sure the storage and network information corresponding to the virtual machine is also migrated to Resource Manager mode.</span></span>
4. <span data-ttu-id="8fbf0-141">Cree un almacén de Recovery Services y configure la copia de seguridad de la máquina virtual migrada mediante la acción **Copia de seguridad** sobre el panel del almacén.</span><span class="sxs-lookup"><span data-stu-id="8fbf0-141">Create a Recovery Services vault and configure backup on the migrated virtual machine using **Backup** action on top of vault dashboard.</span></span> <span data-ttu-id="8fbf0-142">Para más información sobre la copia de seguridad de una máquina virtual en un almacén de Recovery Services, consulte el artículo [Primer análisis: protección de máquinas virtuales con un almacén de Recovery Services](../articles/backup/backup-azure-vms-first-look-arm.md).</span><span class="sxs-lookup"><span data-stu-id="8fbf0-142">For detailed information on backing up a VM to a Recovery Services vault, see the article, [Protect Azure VMs with a Recovery Services vault](../articles/backup/backup-azure-vms-first-look-arm.md).</span></span>

## <a name="can-i-validate-my-subscription-or-resources-to-see-if-theyre-capable-of-migration"></a><span data-ttu-id="8fbf0-143">¿Puedo validar mi suscripción o mis recursos para ver si son aptos para la migración?</span><span class="sxs-lookup"><span data-stu-id="8fbf0-143">Can I validate my subscription or resources to see if they're capable of migration?</span></span> 

<span data-ttu-id="8fbf0-144">Sí.</span><span class="sxs-lookup"><span data-stu-id="8fbf0-144">Yes.</span></span> <span data-ttu-id="8fbf0-145">En la opción de migración compatible con la plataforma, el primer paso para preparar la migración consiste en validar si los recursos pueden migrarse.</span><span class="sxs-lookup"><span data-stu-id="8fbf0-145">In the platform-supported migration option, the first step in preparing for migration is to validate that the resources are capable of migration.</span></span> <span data-ttu-id="8fbf0-146">Si se produce un error en la operación de validación, recibe todos los mensajes con todas las razones por las que no se puede completar la migración.</span><span class="sxs-lookup"><span data-stu-id="8fbf0-146">In case the validate operation fails, you receive messages for all the reasons the migration cannot be completed.</span></span>

## <a name="what-happens-if-i-run-into-a-quota-error-while-preparing-the-iaas-resources-for-migration"></a><span data-ttu-id="8fbf0-147">¿Qué ocurre si se produce un error de cuota mientras preparo los recursos IaaS para la migración?</span><span class="sxs-lookup"><span data-stu-id="8fbf0-147">What happens if I run into a quota error while preparing the IaaS resources for migration?</span></span> 

<span data-ttu-id="8fbf0-148">Se recomienda que anule la migración y, a continuación, presente una solicitud de soporte técnico para que se aumenten las cuotas en la región donde vaya a migrar las máquinas virtuales.</span><span class="sxs-lookup"><span data-stu-id="8fbf0-148">We recommend that you abort your migration and then log a support request to increase the quotas in the region where you are migrating the VMs.</span></span> <span data-ttu-id="8fbf0-149">Una vez aprobada la solicitud de cuotas, puede empezar a ejecutar los pasos de la migración.</span><span class="sxs-lookup"><span data-stu-id="8fbf0-149">After the quota request is approved, you can start executing the migration steps again.</span></span>

## <a name="how-do-i-report-an-issue"></a><span data-ttu-id="8fbf0-150">¿Cómo se informa de un problema?</span><span class="sxs-lookup"><span data-stu-id="8fbf0-150">How do I report an issue?</span></span> 

<span data-ttu-id="8fbf0-151">Publique sus problemas y preguntas sobre la migración en nuestro [foro de máquinas virtuales](https://social.msdn.microsoft.com/Forums/azure/home?forum=WAVirtualMachinesforWindows)con la palabra clave ClassicIaaSMigration.</span><span class="sxs-lookup"><span data-stu-id="8fbf0-151">Post your issues and questions about migration to our [VM forum](https://social.msdn.microsoft.com/Forums/azure/home?forum=WAVirtualMachinesforWindows), with the keyword ClassicIaaSMigration.</span></span> <span data-ttu-id="8fbf0-152">Se recomienda registrar todas sus preguntas en este foro.</span><span class="sxs-lookup"><span data-stu-id="8fbf0-152">We recommend posting all your questions on this forum.</span></span> <span data-ttu-id="8fbf0-153">Si tiene un contrato de soporte técnico, también puede presentar una incidencia de soporte técnico.</span><span class="sxs-lookup"><span data-stu-id="8fbf0-153">If you have a support contract, you're welcome to log a support ticket as well.</span></span>

## <a name="what-if-i-dont-like-the-names-of-the-resources-that-the-platform-chose-during-migration"></a><span data-ttu-id="8fbf0-154">¿Qué hago si no me gustan los nombres que eligió la plataforma para los recursos durante la migración?</span><span class="sxs-lookup"><span data-stu-id="8fbf0-154">What if I don't like the names of the resources that the platform chose during migration?</span></span> 

<span data-ttu-id="8fbf0-155">Todos los recursos para los que se proporcionen nombres explícitamente en el modelo de implementación clásica se conservan durante la migración.</span><span class="sxs-lookup"><span data-stu-id="8fbf0-155">All the resources that you explicitly provide names for in the classic deployment model are retained during migration.</span></span> <span data-ttu-id="8fbf0-156">En algunos casos, se crean recursos nuevos.</span><span class="sxs-lookup"><span data-stu-id="8fbf0-156">In some cases, new resources are created.</span></span> <span data-ttu-id="8fbf0-157">Por ejemplo, se crea una interfaz de red para cada máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="8fbf0-157">For example: a network interface is created for every VM.</span></span> <span data-ttu-id="8fbf0-158">Actualmente, no se admite la capacidad de controlar los nombres de estos recursos nuevos creados durante la migración.</span><span class="sxs-lookup"><span data-stu-id="8fbf0-158">We currently don't support the ability to control the names of these new resources created during migration.</span></span> <span data-ttu-id="8fbf0-159">Registre sus votos para esta característica en el [foro de comentarios de Azure](http://feedback.azure.com).</span><span class="sxs-lookup"><span data-stu-id="8fbf0-159">Log your votes for this feature on the [Azure feedback forum](http://feedback.azure.com).</span></span>

## <a name="can-i-migrate-expressroute-circuits-used-across-subscriptions-with-authorization-links"></a><span data-ttu-id="8fbf0-160">¿Puedo migrar circuitos de ExpressRoute utilizados en las suscripciones con vínculos de autorización?</span><span class="sxs-lookup"><span data-stu-id="8fbf0-160">Can I migrate ExpressRoute circuits used across subscriptions with authorization links?</span></span> 

<span data-ttu-id="8fbf0-161">Los circuitos de ExpressRoute que usan vínculos de autorización entre suscripciones no se pueden migrar automáticamente sin tiempo de inactividad.</span><span class="sxs-lookup"><span data-stu-id="8fbf0-161">ExpressRoute circuits which use cross-subscription authorization links cannot be migrated automatically without downtime.</span></span> <span data-ttu-id="8fbf0-162">Contamos con instrucciones sobre cómo se pueden migrar mediante pasos manuales.</span><span class="sxs-lookup"><span data-stu-id="8fbf0-162">We have guidance on how these can be migrated using manual steps.</span></span> <span data-ttu-id="8fbf0-163">Para conocer los pasos que deben darse y obtener más información, consulte [Migración de circuitos ExpressRoute y las redes virtuales asociadas del modelo de implementación clásica a Resource Manager](../articles/expressroute/expressroute-migration-classic-resource-manager.md).</span><span class="sxs-lookup"><span data-stu-id="8fbf0-163">See [Migrate ExpressRoute circuits and associated virtual networks from the classic to the Resource Manager deployment model](../articles/expressroute/expressroute-migration-classic-resource-manager.md) for steps and more information.</span></span>

## <a name="i-got-a-message-vm-is-reporting-the-overall-agent-status-as-not-ready-hence-the-vm-cannot-be-migrated-ensure-that-the-vm-agent-is-reporting-overall-agent-status-as-ready-or-vm-contains-extension-whose-status-is-not-being-reported-from-the-vm-hence-this-vm-cannot-be-migrated-"></a><span data-ttu-id="8fbf0-164">Aparece el mensaje *"La máquina virtual notifica el estado de agente general No preparado. Por lo tanto, la VM no se puede migra. Asegúrese de que el agente de VM notifica el estado de agente general como Preparado"* o *"La máquina virtual contiene la extensión cuyo estado no se notifica desde la VM.</span><span class="sxs-lookup"><span data-stu-id="8fbf0-164">I got a message *"VM is reporting the overall agent status as Not Ready. Hence, the VM cannot be migrated. Ensure that the VM Agent is reporting overall agent status as Ready"* or *"VM contains Extension whose Status is not being reported from the VM.</span></span> <span data-ttu-id="8fbf0-165">Por lo tanto, esta máquina virtual no se puede migrar."</span><span class="sxs-lookup"><span data-stu-id="8fbf0-165">Hence, this VM cannot be migrated."</span></span> *

<span data-ttu-id="8fbf0-166">Este mensaje se recibe cuando la máquina virtual no tiene conectividad saliente a Internet.</span><span class="sxs-lookup"><span data-stu-id="8fbf0-166">This message is received when the VM does not have outbound connectivity to the internet.</span></span> <span data-ttu-id="8fbf0-167">El agente de VM utiliza conectividad saliente para llegar a la cuenta de almacenamiento de Azure a fin de actualizar el estado del agente cada cinco minutos.</span><span class="sxs-lookup"><span data-stu-id="8fbf0-167">The VM agent uses outbound connectivity to reach the Azure storage account for updating the agent status every five minutes.</span></span>
