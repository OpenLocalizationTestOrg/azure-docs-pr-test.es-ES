

<span data-ttu-id="0b9e4-101">Las extensiones de VM pueden ayudarle a:</span><span class="sxs-lookup"><span data-stu-id="0b9e4-101">VM extensions can help you:</span></span>

* <span data-ttu-id="0b9e4-102">Modificar las características de seguridad e identidad, como el restablecimiento de valores de cuenta y el uso de antimalware</span><span class="sxs-lookup"><span data-stu-id="0b9e4-102">Modify security and identity features, such as resetting account values and using antimalware</span></span>
* <span data-ttu-id="0b9e4-103">Iniciar, detener o configurar la supervisión y el diagnóstico</span><span class="sxs-lookup"><span data-stu-id="0b9e4-103">Start, stop, or configure monitoring and diagnostics</span></span>
* <span data-ttu-id="0b9e4-104">Restablecer o instalar características de conectividad, como RDP y SSH</span><span class="sxs-lookup"><span data-stu-id="0b9e4-104">Reset or install connectivity features, such as RDP and SSH</span></span>
* <span data-ttu-id="0b9e4-105">Diagnosticar, supervisar y administrar las máquinas virtuales</span><span class="sxs-lookup"><span data-stu-id="0b9e4-105">Diagnose, monitor, and manage your VMs</span></span>

<span data-ttu-id="0b9e4-106">Hay muchas otras características.</span><span class="sxs-lookup"><span data-stu-id="0b9e4-106">There are many other features as well.</span></span> <span data-ttu-id="0b9e4-107">Periódicamente se lanzan nuevas características de extensión de máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="0b9e4-107">New VM Extension features are released regularly.</span></span> <span data-ttu-id="0b9e4-108">Este artículo describe hello Azure VM agentes para Windows y Linux, y su compatibilidad con funcionalidad de extensión de máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="0b9e4-108">This article describes hello Azure VM Agents for Windows and Linux, and how they support VM Extension functionality.</span></span> <span data-ttu-id="0b9e4-109">Si desea obtener un listado de las extensiones de máquina virtual por categoría de característica, consulte [Características y extensiones de VM de Azure](../articles/virtual-machines/windows/extensions-features.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="0b9e4-109">For a listing of VM Extensions by feature category, see [Azure VM Extensions and Features](../articles/virtual-machines/windows/extensions-features.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

## <a name="azure-vm-agents-for-windows-and-linux"></a><span data-ttu-id="0b9e4-110">Agentes de VM de Azure para Windows y Linux</span><span class="sxs-lookup"><span data-stu-id="0b9e4-110">Azure VM Agents for Windows and Linux</span></span>
<span data-ttu-id="0b9e4-111">Hola agente de máquinas virtuales de Azure (agente de VM) es un proceso protegido y ligera que instala, configura y quita las extensiones de VM en las instancias de máquinas virtuales de Azure.</span><span class="sxs-lookup"><span data-stu-id="0b9e4-111">hello Azure Virtual Machines Agent (VM Agent) is a secured, light-weight process that installs, configures, and removes VM extensions on instances of Azure Virtual Machines.</span></span> <span data-ttu-id="0b9e4-112">Hola agente de máquina virtual actúa como servicio de control local seguro hello para la máquina virtual de Azure.</span><span class="sxs-lookup"><span data-stu-id="0b9e4-112">hello VM Agent acts as hello secure local control service for your Azure VM.</span></span> <span data-ttu-id="0b9e4-113">extensiones de Hola que Hola cargas de agente proporcionan tooincrease características específicas su productividad con la instancia de Hola.</span><span class="sxs-lookup"><span data-stu-id="0b9e4-113">hello extensions that hello agent loads provide specific features tooincrease your productivity using hello instance.</span></span>

<span data-ttu-id="0b9e4-114">Existen dos agentes de Azure Virtual Machines, uno para máquinas virtuales Windows y otro para máquinas virtuales Linux.</span><span class="sxs-lookup"><span data-stu-id="0b9e4-114">Two Azure VM Agents exist, one for Windows VMs and one for Linux VMs.</span></span>

<span data-ttu-id="0b9e4-115">Si desea un toouse de la instancia de máquina virtual en una o varias extensiones VM, instancia de hello debe tener un agente de VM instalado.</span><span class="sxs-lookup"><span data-stu-id="0b9e4-115">If you want a virtual machine instance toouse one or more VM extensions, hello instance must have an installed VM Agent.</span></span> <span data-ttu-id="0b9e4-116">Una imagen de máquina virtual creada mediante Hola portal de Azure y una imagen de hello **Marketplace** instala automáticamente un agente de máquina virtual en el proceso de creación de hello.</span><span class="sxs-lookup"><span data-stu-id="0b9e4-116">A virtual machine image created by using hello Azure portal and an image from hello **Marketplace** automatically installs a VM Agent in hello creation process.</span></span> <span data-ttu-id="0b9e4-117">Si una instancia de la máquina virtual no tiene a un agente de máquina virtual, puede instalar Hola agente de máquina virtual una vez creada la instancia de la máquina virtual de Hola.</span><span class="sxs-lookup"><span data-stu-id="0b9e4-117">If a virtual machine instance lacks a VM Agent, you can install hello VM Agent after hello virtual machine instance is created.</span></span> <span data-ttu-id="0b9e4-118">O bien, puede instalar al agente de hello en una imagen de máquina virtual personalizada que carga posteriormente.</span><span class="sxs-lookup"><span data-stu-id="0b9e4-118">Or, you can install hello agent in a custom VM image that you then upload.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="0b9e4-119">Estos agentes de máquina virtual son servicios muy ligeros que permiten la administración protegida de las instancias de máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="0b9e4-119">These VM Agents are very light-weight, services that enable secured administration of virtual machine instances.</span></span> <span data-ttu-id="0b9e4-120">Podría haber casos en los que no desea Hola agente de máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="0b9e4-120">There might be cases in which you do not want hello VM Agent.</span></span> <span data-ttu-id="0b9e4-121">Si es así, ser VM toocreate seguro de que no tienen Hola agente de VM instalado con hello Azure CLI o PowerShell.</span><span class="sxs-lookup"><span data-stu-id="0b9e4-121">If so, be sure toocreate VMs that do not have hello VM Agent installed using hello Azure CLI or PowerShell.</span></span> <span data-ttu-id="0b9e4-122">Aunque Hola agente de máquina virtual se puede quitar físicamente, el comportamiento de Hola de extensiones de máquina virtual en la instancia de hello es indefinido.</span><span class="sxs-lookup"><span data-stu-id="0b9e4-122">Although hello VM Agent can be removed physically, hello behavior of VM Extensions on hello instance is undefined.</span></span> <span data-ttu-id="0b9e4-123">Como consecuencia, no se admite la eliminación de agentes de máquina virtual instalados.</span><span class="sxs-lookup"><span data-stu-id="0b9e4-123">As a result, removing an installed VM Agent is not supported.</span></span>
>

<span data-ttu-id="0b9e4-124">Hola agente de máquina virtual está habilitada en hello siguientes situaciones:</span><span class="sxs-lookup"><span data-stu-id="0b9e4-124">hello VM Agent is enabled in hello following situations:</span></span>

* <span data-ttu-id="0b9e4-125">Cuando se crea una instancia de una máquina virtual mediante el uso de Hola portal de Azure y selecciona una imagen de hello **Marketplace**,</span><span class="sxs-lookup"><span data-stu-id="0b9e4-125">When you create an instance of a VM by using hello Azure portal and selecting an image from hello **Marketplace**,</span></span>
* <span data-ttu-id="0b9e4-126">Cuando se crea una instancia de una máquina virtual con hello [New-AzureVM](https://msdn.microsoft.com/library/azure/dn495254.aspx) o hello [New-AzureQuickVM](https://msdn.microsoft.com/library/azure/dn495183.aspx) cmdlet.</span><span class="sxs-lookup"><span data-stu-id="0b9e4-126">When you create an instance of a VM by using hello [New-AzureVM](https://msdn.microsoft.com/library/azure/dn495254.aspx) or hello [New-AzureQuickVM](https://msdn.microsoft.com/library/azure/dn495183.aspx) cmdlet.</span></span> <span data-ttu-id="0b9e4-127">Puede crear una máquina virtual sin un agente de máquina virtual mediante la adición de hello **– DisableGuestAgent** parámetro toohello [Add-AzureProvisioningConfig](https://msdn.microsoft.com/library/azure/dn495299.aspx) cmdlet,</span><span class="sxs-lookup"><span data-stu-id="0b9e4-127">You can create a VM without a VM Agent by adding hello **–DisableGuestAgent** parameter toohello [Add-AzureProvisioningConfig](https://msdn.microsoft.com/library/azure/dn495299.aspx) cmdlet,</span></span>

* <span data-ttu-id="0b9e4-128">Cuando se manualmente descargar e instalar Hola agente de máquina virtual en una instancia existente de la máquina virtual y establecer hello **ProvisionGuestAgent** valor demasiado**true**.</span><span class="sxs-lookup"><span data-stu-id="0b9e4-128">When you manually download and install hello VM Agent on an existing VM instance, and set hello **ProvisionGuestAgent** value too**true**.</span></span> <span data-ttu-id="0b9e4-129">Esta técnica se puede usar para agentes Windows y Linux, mediante el uso de un comando de PowerShell o una llamada de REST.</span><span class="sxs-lookup"><span data-stu-id="0b9e4-129">You can use this technique for Windows and Linux agents, by using a PowerShell command or a REST call.</span></span> <span data-ttu-id="0b9e4-130">(Si no establece hello **ProvisionGuestAgent** valor después de instalar manualmente Hola agente de máquina virtual, adición de Hola de hello agente de máquina virtual no se detecta correctamente.) Hola siguiendo el ejemplo de código muestra cómo toodo esta mediante PowerShell donde hello `$svc` y `$name` ya que se hayan determinado argumentos:</span><span class="sxs-lookup"><span data-stu-id="0b9e4-130">(If you do not set hello **ProvisionGuestAgent** value after manually installing hello VM Agent, hello addition of hello VM Agent is not detected properly.) hello following code example shows how toodo this using PowerShell where hello `$svc` and `$name` arguments have already been determined:</span></span>

      $vm = Get-AzureVM –ServiceName $svc –Name $name
      $vm.VM.ProvisionGuestAgent = $TRUE
      Update-AzureVM –Name $name –VM $vm.VM –ServiceName $svc

* <span data-ttu-id="0b9e4-131">Cuando se crea una imagen de máquina virtual que incluye a un agente de máquina virtual instalado.</span><span class="sxs-lookup"><span data-stu-id="0b9e4-131">When you create a VM image that includes an installed VM Agent.</span></span> <span data-ttu-id="0b9e4-132">Una vez creada la imagen de hello con hello agente de máquina virtual, puede cargar ese tooAzure de imagen.</span><span class="sxs-lookup"><span data-stu-id="0b9e4-132">Once hello image with hello VM Agent exists, you can upload that image tooAzure.</span></span> <span data-ttu-id="0b9e4-133">Para una máquina virtual de Windows, descargue hello [archivo .msi del agente de VM de Windows](http://go.microsoft.com/fwlink/?LinkID=394789) e instalar Hola agente de máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="0b9e4-133">For a Windows VM, download hello [Windows VM Agent .msi file](http://go.microsoft.com/fwlink/?LinkID=394789) and install hello VM Agent.</span></span> <span data-ttu-id="0b9e4-134">Para una VM de Linux, instale Hola agente de máquina virtual del repositorio de GitHub de hello ubicado en <https://github.com/Azure/WALinuxAgent>.</span><span class="sxs-lookup"><span data-stu-id="0b9e4-134">For a Linux VM, install hello VM Agent from hello GitHub repository located at <https://github.com/Azure/WALinuxAgent>.</span></span> <span data-ttu-id="0b9e4-135">Para obtener más información sobre cómo tooinstall Hola agente de VM en Linux, vea hello [Guía de usuario de agente de VM de Linux de Azure](../articles/virtual-machines/linux/agent-user-guide.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="0b9e4-135">For more information on how tooinstall hello VM Agent on Linux, see hello [Azure Linux VM Agent User Guide](../articles/virtual-machines/linux/agent-user-guide.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>

> [!NOTE]
> <span data-ttu-id="0b9e4-136">En PaaS, hello agente de máquina virtual se denomina **WindowsAzureGuestAgent**y siempre está disponible en Web y máquinas virtuales de rol de trabajo.</span><span class="sxs-lookup"><span data-stu-id="0b9e4-136">In PaaS, hello VM Agent is called **WindowsAzureGuestAgent**, and is always available on Web and Worker Role VMs.</span></span> <span data-ttu-id="0b9e4-137">(Para obtener más información, consulte [Azure Role Architecture](http://blogs.msdn.com/b/kwill/archive/2011/05/05/windows-azure-role-architecture.aspx).) Hola agente de máquina virtual para máquinas virtuales de rol ahora puede agregar máquinas virtuales del servicio de nube extensiones toohello Hola igual que lo hace para las máquinas virtuales persistentes.</span><span class="sxs-lookup"><span data-stu-id="0b9e4-137">(For more information, see [Azure Role Architecture](http://blogs.msdn.com/b/kwill/archive/2011/05/05/windows-azure-role-architecture.aspx).) hello VM Agent for Role VMs can now add extensions toohello cloud service VMs in hello same way that it does for persistent Virtual Machines.</span></span> <span data-ttu-id="0b9e4-138">mayor diferencia entre las extensiones de máquina virtual en función de las máquinas virtuales y las máquinas virtuales persistentes de Hello es cuando se agregan las extensiones de VM de Hola.</span><span class="sxs-lookup"><span data-stu-id="0b9e4-138">hello biggest difference between VM Extensions on role VMs and persistent VMs is when hello VM extensions are added.</span></span> <span data-ttu-id="0b9e4-139">Con máquinas virtuales de rol, las extensiones se agregan primer servicio de nube toohello, a continuación, las implementaciones de toohello dentro de ese servicio en la nube.</span><span class="sxs-lookup"><span data-stu-id="0b9e4-139">With role VMs, extensions are added first toohello cloud service, then toohello deployments within that cloud service.</span></span>
>
> <span data-ttu-id="0b9e4-140">Use la [Get-AzureServiceAvailableExtension](https://msdn.microsoft.com/library/azure/dn722498.aspx) toolist cmdlet todas las extensiones VM de rol disponibles.</span><span class="sxs-lookup"><span data-stu-id="0b9e4-140">Use the [Get-AzureServiceAvailableExtension](https://msdn.microsoft.com/library/azure/dn722498.aspx) cmdlet toolist all available role VM extensions.</span></span>
>
>

## <a name="find-add-update-and-remove-vm-extensions"></a><span data-ttu-id="0b9e4-141">Buscar, agregar, actualizar y quitar extensiones de VM</span><span class="sxs-lookup"><span data-stu-id="0b9e4-141">Find, Add, Update, and Remove VM Extensions</span></span>
<span data-ttu-id="0b9e4-142">Para obtener información sobre estas tareas, consulte [Adición, búsqueda, actualización y eliminación de extensiones de máquina virtual de Azure](../articles/virtual-machines/windows/classic/manage-extensions.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="0b9e4-142">For details on these tasks, see [Add, Find, Update, and Remove Azure VM Extensions](../articles/virtual-machines/windows/classic/manage-extensions.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json).</span></span>
