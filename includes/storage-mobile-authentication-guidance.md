## <a name="configure-your-application-to-access-azure-storage"></a><span data-ttu-id="3ca96-101">Configuración de la aplicación para obtener acceso al almacenamiento de Azure</span><span class="sxs-lookup"><span data-stu-id="3ca96-101">Configure your application to access Azure Storage</span></span>
<span data-ttu-id="3ca96-102">Hay dos maneras para autenticar una aplicación para tener acceso a los servicios de almacenamiento:</span><span class="sxs-lookup"><span data-stu-id="3ca96-102">There are two ways to authenticate your application to access Storage services:</span></span>

* <span data-ttu-id="3ca96-103">Clave compartida: la clave compartida solo se usa para realizar pruebas.</span><span class="sxs-lookup"><span data-stu-id="3ca96-103">Shared Key: Use Shared Key for testing purposes only</span></span>
* <span data-ttu-id="3ca96-104">Firma de acceso compartido (SAS): SAS para aplicaciones de producción.</span><span class="sxs-lookup"><span data-stu-id="3ca96-104">Shared Access Signature (SAS): Use SAS for production applications</span></span>

### <a name="shared-key"></a><span data-ttu-id="3ca96-105">Clave compartida</span><span class="sxs-lookup"><span data-stu-id="3ca96-105">Shared Key</span></span>
<span data-ttu-id="3ca96-106">La autenticación de clave compartida significa que la aplicación usará el nombre y la clave de la cuenta para tener acceso a los servicios de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="3ca96-106">Shared Key authentication means that your application will use your account name and account key to access Storage services.</span></span> <span data-ttu-id="3ca96-107">Con el fin de mostrar rápidamente cómo usar esta biblioteca, emplearemos la autenticación de clave compartida en esta introducción.</span><span class="sxs-lookup"><span data-stu-id="3ca96-107">For the purposes of quickly showing how to use this library, we will be using Shared Key authentication in this getting started.</span></span>

> [!WARNING] 
> <span data-ttu-id="3ca96-108">**Use la autenticación de clave compartida solamente para las pruebas.**</span><span class="sxs-lookup"><span data-stu-id="3ca96-108">**Only use Shared Key authentication for testing purposes!**</span></span> <span data-ttu-id="3ca96-109">El nombre de cuenta y la clave de cuenta, que ofrecen acceso total de lectura y escritura a la cuenta de almacenamiento asociada, se distribuirán a todas las personas que descarguen la aplicación.</span><span class="sxs-lookup"><span data-stu-id="3ca96-109">Your account name and account key, which give full read/write access to the associated Storage account, will be distributed to every person that downloads your app.</span></span> <span data-ttu-id="3ca96-110">Esta práctica **no** se recomienda, ya que se corre el riesgo de que los clientes en los que no se confía pongan la clave en peligro.</span><span class="sxs-lookup"><span data-stu-id="3ca96-110">This is **not** a good practice as you risk having your key compromised by untrusted clients.</span></span>
> 
> 

<span data-ttu-id="3ca96-111">Si se usa la autenticación de clave compartida, se creará una [cadena de conexión](../articles/storage/common/storage-configure-connection-string.md).</span><span class="sxs-lookup"><span data-stu-id="3ca96-111">When using Shared Key authentication, you will create a [connection string](../articles/storage/common/storage-configure-connection-string.md).</span></span> <span data-ttu-id="3ca96-112">La cadena de conexión consta de:</span><span class="sxs-lookup"><span data-stu-id="3ca96-112">The connection string is comprised of:</span></span>  

* <span data-ttu-id="3ca96-113">Protocolo **DefaultEndpointsProtocol** : puede elegir si usar HTTP o HTTPS.</span><span class="sxs-lookup"><span data-stu-id="3ca96-113">The **DefaultEndpointsProtocol** - you can choose HTTP or HTTPS.</span></span> <span data-ttu-id="3ca96-114">De todos modos, se recomienda encarecidamente el uso de HTTPS.</span><span class="sxs-lookup"><span data-stu-id="3ca96-114">However, using HTTPS is highly recommended.</span></span>
* <span data-ttu-id="3ca96-115">**Nombre de cuenta** : es el nombre de la cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="3ca96-115">The **Account Name** - the name of your storage account</span></span>
* <span data-ttu-id="3ca96-116">**Clave de cuenta**: en [Azure Portal](https://portal.azure.com), navegue a la cuenta de almacenamiento y haga clic en el icono **Claves** para buscar esta información.</span><span class="sxs-lookup"><span data-stu-id="3ca96-116">The **Account Key** - On the [Azure Portal](https://portal.azure.com), navigate to your storage account and click the **Keys** icon to find this information.</span></span>
* <span data-ttu-id="3ca96-117">(Opcional) **EndpointSuffix** : se usa para servicios de almacenamiento en regiones con distintos sufijos de punto de conexión, como Azure China o Azure Governance.</span><span class="sxs-lookup"><span data-stu-id="3ca96-117">(Optional) **EndpointSuffix** - This is used for storage services in regions with different endpoint suffixes, such as Azure China or Azure Governance.</span></span>

<span data-ttu-id="3ca96-118">Este es un ejemplo de cadena de conexión que usa la autenticación de clave compartida.</span><span class="sxs-lookup"><span data-stu-id="3ca96-118">Here is an example of connection string using Shared Key authentication:</span></span>

`"DefaultEndpointsProtocol=https;AccountName=your_account_name_here;AccountKey=your_account_key_here"`

### <a name="shared-access-signatures-sas"></a><span data-ttu-id="3ca96-119">Firmas de acceso compartido (SAS)</span><span class="sxs-lookup"><span data-stu-id="3ca96-119">Shared Access Signatures (SAS)</span></span>
<span data-ttu-id="3ca96-120">Para una aplicación móvil, el método recomendado para la autenticación de una solicitud por un cliente en el servicio Azure Storage es el uso de una firma de acceso compartido (SAS).</span><span class="sxs-lookup"><span data-stu-id="3ca96-120">For a mobile application, the recommended method for authenticating a request by a client against the Azure Storage service is by using a Shared Access Signature (SAS).</span></span> <span data-ttu-id="3ca96-121">SAS permite conceder a los clientes acceso a un recurso durante un período especificado, con un conjunto de permisos especificado.</span><span class="sxs-lookup"><span data-stu-id="3ca96-121">SAS allows you to grant a client access to a resource for a specified period of time, with a specified set of permissions.</span></span>
<span data-ttu-id="3ca96-122">Como propietario de cuenta de almacenamiento, será preciso que genere una SAS para que la consuman los clientes móviles.</span><span class="sxs-lookup"><span data-stu-id="3ca96-122">As the storage account owner, you'll need to generate a SAS for your mobile clients to consume.</span></span> <span data-ttu-id="3ca96-123">Para generar la SAS, puede escribir un servicio independiente que genere la SAS que se va a distribuir a los clientes.</span><span class="sxs-lookup"><span data-stu-id="3ca96-123">To generate the SAS, you'll probably want to write a separate service that generates the SAS to be distributed to your clients.</span></span> <span data-ttu-id="3ca96-124">Para la realización de pruebas puede usar el [Explorador de Microsoft Azure Storage](http://storageexplorer.com) o [Azure Portal](https://portal.azure.com) para generar una SAS.</span><span class="sxs-lookup"><span data-stu-id="3ca96-124">For testing purposes, you can use the [Microsoft Azure Storage Explorer](http://storageexplorer.com) or the [Azure Portal](https://portal.azure.com) to generate a SAS.</span></span> <span data-ttu-id="3ca96-125">Al crear la SAS, se puede especificar el intervalo de tiempo durante el que la SAS es válida y los permisos la SAS concede al cliente.</span><span class="sxs-lookup"><span data-stu-id="3ca96-125">When you create the SAS, you can specify the time interval over which the SAS is valid, and the permissions that the SAS grants to the client.</span></span>

<span data-ttu-id="3ca96-126">El siguiente ejemplo muestra cómo usar el Explorador de almacenamiento de Microsoft Azure para generar una SAS.</span><span class="sxs-lookup"><span data-stu-id="3ca96-126">The following example shows how to use the Microsoft Azure Storage Explorer to generate a SAS.</span></span>

1. <span data-ttu-id="3ca96-127">Si no lo ha hecho ya, [instale el Explorador de Microsoft Azure Storage](http://storageexplorer.com)</span><span class="sxs-lookup"><span data-stu-id="3ca96-127">If you haven't already, [Install the Microsoft Azure Storage Explorer](http://storageexplorer.com)</span></span>
2. <span data-ttu-id="3ca96-128">Conéctese a su suscripción.</span><span class="sxs-lookup"><span data-stu-id="3ca96-128">Connect to your subscription.</span></span>
3. <span data-ttu-id="3ca96-129">Haga clic en la cuenta de almacenamiento y haga clic en la pestaña "Acciones" en la parte inferior izquierda.</span><span class="sxs-lookup"><span data-stu-id="3ca96-129">Click on your Storage account and click on the "Actions" tab at the bottom left.</span></span> <span data-ttu-id="3ca96-130">Haga clic en "Get Shared Access Signature" (Obtener firma de acceso compartido) para generar una "cadena de conexión" para la SAS.</span><span class="sxs-lookup"><span data-stu-id="3ca96-130">Click "Get Shared Access Signature" to generate a "connection string" for your SAS.</span></span>
4. <span data-ttu-id="3ca96-131">Este es un ejemplo de una cadena de conexión de SAS que concede permisos de lectura y escritura en el nivel de servicio, contenedor y objeto para el servicio Blob de la cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="3ca96-131">Here is an example of a SAS connection string that grants read and write permissions at the service, container and object level for the blob service of the Storage account.</span></span>
   
   `"SharedAccessSignature=sv=2015-04-05&ss=b&srt=sco&sp=rw&se=2016-07-21T18%3A00%3A00Z&sig=3ABdLOJZosCp0o491T%2BqZGKIhafF1nlM3MzESDDD3Gg%3D;BlobEndpoint=https://youraccount.blob.core.windows.net"`

<span data-ttu-id="3ca96-132">Como puede ver, cuando usa una SAS, no expone su clave de cuenta en la aplicación.</span><span class="sxs-lookup"><span data-stu-id="3ca96-132">As you can see, when using a SAS, you’re not exposing your account key in your application.</span></span> <span data-ttu-id="3ca96-133">Para más información sobre SAS y los procedimientos de uso recomendados, consulte [Firmas de acceso compartido, Parte 1: Descripción del modelo SAS](../articles/storage/common/storage-dotnet-shared-access-signature-part-1.md).</span><span class="sxs-lookup"><span data-stu-id="3ca96-133">You can learn more about SAS and best practices for using SAS by checking out [Shared Access Signatures: Understanding the SAS model](../articles/storage/common/storage-dotnet-shared-access-signature-part-1.md).</span></span>

