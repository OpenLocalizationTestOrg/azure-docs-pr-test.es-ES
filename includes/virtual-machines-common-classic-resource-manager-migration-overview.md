# <a name="platform-supported-migration-of-iaas-resources-from-classic-to-azure-resource-manager"></a><span data-ttu-id="06da3-101">Migración compatible con la plataforma de recursos de IaaS del modelo clásico al de Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="06da3-101">Platform-supported migration of IaaS resources from classic to Azure Resource Manager</span></span>
<span data-ttu-id="06da3-102">En este artículo, se describe cómo se permite la migración de recursos de infraestructura como servicio (IaaS) del modelo de implementación clásica al de Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="06da3-102">In this article, we describe how we're enabling migration of infrastructure as a service (IaaS) resources from the Classic to Resource Manager deployment models.</span></span> <span data-ttu-id="06da3-103">Se puede leer más información sobre [características y ventajas de Azure Resource Manager](../articles/azure-resource-manager/resource-group-overview.md).</span><span class="sxs-lookup"><span data-stu-id="06da3-103">You can read more about [Azure Resource Manager features and benefits](../articles/azure-resource-manager/resource-group-overview.md).</span></span> <span data-ttu-id="06da3-104">Se explica detalladamente cómo conectar los recursos de los dos modelos de implementación en su suscripción mediante las puertas de enlace de red virtual de sitio a sitio.</span><span class="sxs-lookup"><span data-stu-id="06da3-104">We detail how to connect resources from the two deployment models that coexist in your subscription by using virtual network site-to-site gateways.</span></span>

## <a name="goal-for-migration"></a><span data-ttu-id="06da3-105">Objetivo para la migración</span><span class="sxs-lookup"><span data-stu-id="06da3-105">Goal for migration</span></span>
<span data-ttu-id="06da3-106">Resource Manager permite implementar aplicaciones complejas a través de plantillas, configura las máquinas virtuales mediante extensiones de máquina virtual e incorpora la administración de acceso y el etiquetado.</span><span class="sxs-lookup"><span data-stu-id="06da3-106">Resource Manager enables deploying complex applications through templates, configures virtual machines by using VM extensions, and incorporates access management and tagging.</span></span> <span data-ttu-id="06da3-107">Azure Resource Manager incluye una implementación escalable en paralelo para máquinas virtuales en conjuntos de disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="06da3-107">Azure Resource Manager includes scalable, parallel deployment for virtual machines into availability sets.</span></span> <span data-ttu-id="06da3-108">El nuevo modelo de implementación también proporciona administración del ciclo de vida para procesos, redes y almacenamiento por separado.</span><span class="sxs-lookup"><span data-stu-id="06da3-108">The new deployment model also provides lifecycle management of compute, network, and storage independently.</span></span> <span data-ttu-id="06da3-109">Por último, también se centra en habilitar la seguridad de forma predeterminada con la aplicación de máquinas virtuales en una red virtual.</span><span class="sxs-lookup"><span data-stu-id="06da3-109">Finally, there’s a focus on enabling security by default with the enforcement of virtual machines in a virtual network.</span></span>

<span data-ttu-id="06da3-110">En Azure Resource Manager, se admiten casi todas las características del modelo de implementación clásica en cuanto a proceso, red y almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="06da3-110">Almost all the features from the classic deployment model are supported for compute, network, and storage under Azure Resource Manager.</span></span> <span data-ttu-id="06da3-111">Para sacar partido de las nuevas funcionalidades de Resource Manager, puede migrar las implementaciones existentes desde el modelo de implementación clásica.</span><span class="sxs-lookup"><span data-stu-id="06da3-111">To benefit from the new capabilities in Azure Resource Manager, you can migrate existing deployments from the Classic deployment model.</span></span>

## <a name="supported-resources-for-migration"></a><span data-ttu-id="06da3-112">Recursos que se admiten en la migración</span><span class="sxs-lookup"><span data-stu-id="06da3-112">Supported resources for migration</span></span>
<span data-ttu-id="06da3-113">Estos recursos de IaaS clásicos se admiten durante la migración</span><span class="sxs-lookup"><span data-stu-id="06da3-113">These classic IaaS resources are supported during migration</span></span>

* <span data-ttu-id="06da3-114">Máquinas virtuales</span><span class="sxs-lookup"><span data-stu-id="06da3-114">Virtual Machines</span></span>
* <span data-ttu-id="06da3-115">Conjuntos de disponibilidad</span><span class="sxs-lookup"><span data-stu-id="06da3-115">Availability Sets</span></span>
* <span data-ttu-id="06da3-116">Cloud Services</span><span class="sxs-lookup"><span data-stu-id="06da3-116">Cloud Services</span></span>
* <span data-ttu-id="06da3-117">Cuentas de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="06da3-117">Storage Accounts</span></span>
* <span data-ttu-id="06da3-118">Redes virtuales</span><span class="sxs-lookup"><span data-stu-id="06da3-118">Virtual Networks</span></span>
* <span data-ttu-id="06da3-119">Puertas de enlace de VPN</span><span class="sxs-lookup"><span data-stu-id="06da3-119">VPN Gateways</span></span>
* <span data-ttu-id="06da3-120">Puertas de enlace de ExpressRoute _(en la misma suscripción que solo Virtual Network)_</span><span class="sxs-lookup"><span data-stu-id="06da3-120">Express Route Gateways _(in the same subscription as Virtual Network only)_</span></span>
* <span data-ttu-id="06da3-121">Grupos de seguridad de red</span><span class="sxs-lookup"><span data-stu-id="06da3-121">Network Security Groups</span></span> 
* <span data-ttu-id="06da3-122">Tablas de ruta</span><span class="sxs-lookup"><span data-stu-id="06da3-122">Route Tables</span></span> 
* <span data-ttu-id="06da3-123">Direcciones IP reservadas</span><span class="sxs-lookup"><span data-stu-id="06da3-123">Reserved IPs</span></span> 

## <a name="supported-scopes-of-migration"></a><span data-ttu-id="06da3-124">Ámbitos admitidos de la migración</span><span class="sxs-lookup"><span data-stu-id="06da3-124">Supported scopes of migration</span></span>
<span data-ttu-id="06da3-125">Hay 4 maneras diferentes de completar la migración de los recursos de proceso, red y almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="06da3-125">There are 4 different ways to complete migration of compute, network, and storage resources.</span></span> <span data-ttu-id="06da3-126">Dichas maneras son</span><span class="sxs-lookup"><span data-stu-id="06da3-126">These are</span></span> 

* <span data-ttu-id="06da3-127">Migración de máquinas virtuales (NO en una red virtual)</span><span class="sxs-lookup"><span data-stu-id="06da3-127">Migration of virtual machines (NOT in a virtual network)</span></span>
* <span data-ttu-id="06da3-128">Migración de máquinas virtuales (en una red virtual)</span><span class="sxs-lookup"><span data-stu-id="06da3-128">Migration of virtual machines (in a virtual network)</span></span>
* <span data-ttu-id="06da3-129">Migración de cuentas de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="06da3-129">Storage accounts migration</span></span>
* <span data-ttu-id="06da3-130">Recursos sin conectar (grupos de seguridad de red, tablas de ruta e IP reservadas)</span><span class="sxs-lookup"><span data-stu-id="06da3-130">Unattached resources (Network Security Groups, Route Tables & Reserved IPs)</span></span>

### <a name="migration-of-virtual-machines-not-in-a-virtual-network"></a><span data-ttu-id="06da3-131">Migración de máquinas virtuales (NO en una red virtual)</span><span class="sxs-lookup"><span data-stu-id="06da3-131">Migration of virtual machines (NOT in a virtual network)</span></span>
<span data-ttu-id="06da3-132">En el modelo de implementación de Resource Manager, la seguridad de las aplicaciones se aplica de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="06da3-132">In the Resource Manager deployment model, security is enforced for your applications by default.</span></span> <span data-ttu-id="06da3-133">En este modelo, todas las máquinas virtuales deben estar en una red virtual.</span><span class="sxs-lookup"><span data-stu-id="06da3-133">All VMs need to be in a virtual network in the Resource Manager model.</span></span> <span data-ttu-id="06da3-134">La plataforma Azure reinicia (`Stop`, `Deallocate` y `Start`) las máquinas virtuales como parte de la migración.</span><span class="sxs-lookup"><span data-stu-id="06da3-134">The Azure platform restarts (`Stop`, `Deallocate`, and `Start`) the VMs as part of the migration.</span></span> <span data-ttu-id="06da3-135">Hay dos opciones para las redes virtuales a las que se Virtual Machines va a migrar:</span><span class="sxs-lookup"><span data-stu-id="06da3-135">You have two options for the virtual networks that the Virtual Machines will be migrated to:</span></span>

* <span data-ttu-id="06da3-136">Puede solicitar que la plataforma cree una red virtual y migrar la máquina virtual a ella.</span><span class="sxs-lookup"><span data-stu-id="06da3-136">You can request the platform to create a new virtual network and migrate the virtual machine into the new virtual network.</span></span>
* <span data-ttu-id="06da3-137">Puede migrar la máquina virtual a una red virtual existente en Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="06da3-137">You can migrate the virtual machine into an existing virtual network in Resource Manager.</span></span>

> [!NOTE]
> <span data-ttu-id="06da3-138">En este ámbito de migración, es posible que haya un determinado período durante la migración en que no se permitan las operaciones en el plano de administración y el plano de datos.</span><span class="sxs-lookup"><span data-stu-id="06da3-138">In this migration scope, both the management-plane operations and the data-plane operations may not be allowed for a period of time during the migration.</span></span>
>
>

### <a name="migration-of-virtual-machines-in-a-virtual-network"></a><span data-ttu-id="06da3-139">Migración de máquinas virtuales (en una red virtual)</span><span class="sxs-lookup"><span data-stu-id="06da3-139">Migration of virtual machines (in a virtual network)</span></span>
<span data-ttu-id="06da3-140">Para la mayoría de las configuraciones de máquina virtual, solo se migran los metadatos entre el modelo de implementación clásica y el de Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="06da3-140">For most VM configurations, only the metadata is migrating between the Classic and Resource Manager deployment models.</span></span> <span data-ttu-id="06da3-141">Las máquinas virtuales subyacentes se ejecutan en el mismo hardware, en la misma red y con el mismo almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="06da3-141">The underlying VMs are running on the same hardware, in the same network, and with the same storage.</span></span> <span data-ttu-id="06da3-142">Es posible que haya un determinado período durante la migración en que no se permitan las operaciones en el plano de administración.</span><span class="sxs-lookup"><span data-stu-id="06da3-142">The management-plane operations may not be allowed for a certain period of time during the migration.</span></span> <span data-ttu-id="06da3-143">Sin embargo, el plano de datos sigue funcionando.</span><span class="sxs-lookup"><span data-stu-id="06da3-143">However, the data plane continues to work.</span></span> <span data-ttu-id="06da3-144">Es decir, las aplicaciones que se ejecutan en máquinas virtuales (clásicas) no experimentan tiempo de inactividad durante la migración.</span><span class="sxs-lookup"><span data-stu-id="06da3-144">That is, your applications running on top of VMs (classic) do not incur downtime during the migration.</span></span>

<span data-ttu-id="06da3-145">Actualmente no se admiten las siguientes configuraciones.</span><span class="sxs-lookup"><span data-stu-id="06da3-145">The following configurations are not currently supported.</span></span> <span data-ttu-id="06da3-146">Si se agrega compatibilidad en el futuro, es posible que algunas máquinas virtuales en esta configuración sufran tiempos de inactividad (pasen por operaciones de detención, desasignación y reinicio).</span><span class="sxs-lookup"><span data-stu-id="06da3-146">If support is added in the future, some VMs in this configuration might incur downtime (go through stop, deallocate, and restart VM operations).</span></span>

* <span data-ttu-id="06da3-147">Tiene más de un conjunto de disponibilidad en un único servicio en la nube.</span><span class="sxs-lookup"><span data-stu-id="06da3-147">You have more than one availability set in a single cloud service.</span></span>
* <span data-ttu-id="06da3-148">Tiene uno o varios conjuntos de disponibilidad y máquinas virtuales que no están en un conjunto de disponibilidad en un único servicio en la nube.</span><span class="sxs-lookup"><span data-stu-id="06da3-148">You have one or more availability sets and VMs that are not in an availability set in a single cloud service.</span></span>

> [!NOTE]
> <span data-ttu-id="06da3-149">En este ámbito de migración, es posible que haya un determinado período durante la migración en que no se permitan las operaciones en el plano de administración.</span><span class="sxs-lookup"><span data-stu-id="06da3-149">In this migration scope, the management plane may not be allowed for a period of time during the migration.</span></span> <span data-ttu-id="06da3-150">Para determinadas configuraciones descritas anteriormente, se producirá un tiempo de inactividad en el plano de datos.</span><span class="sxs-lookup"><span data-stu-id="06da3-150">For certain configurations as described earlier, data-plane downtime occurs.</span></span>
>
>

### <a name="storage-accounts-migration"></a><span data-ttu-id="06da3-151">Migración de cuentas de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="06da3-151">Storage accounts migration</span></span>
<span data-ttu-id="06da3-152">Para lograr una migración sin problemas, se pueden implementar máquinas virtuales de Resource Manager en una cuenta de almacenamiento clásico.</span><span class="sxs-lookup"><span data-stu-id="06da3-152">To allow seamless migration, you can deploy Resource Manager VMs in a classic storage account.</span></span> <span data-ttu-id="06da3-153">Con esta funcionalidad, los recursos de procesos y redes se pueden y se deben migrar con independencia de las cuentas de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="06da3-153">With this capability, compute and network resources can and should be migrated independently of storage accounts.</span></span> <span data-ttu-id="06da3-154">Una vez migradas las máquinas virtuales y la red virtual, se deben migrar las cuentas de almacenamiento para completar el proceso de migración.</span><span class="sxs-lookup"><span data-stu-id="06da3-154">Once you migrate over your Virtual Machines and Virtual Network, you need to migrate over your storage accounts to complete the migration process.</span></span>

> [!NOTE]
> <span data-ttu-id="06da3-155">El modelo de implementación de Resource Manager carece del concepto de discos e imágenes de la implementación clásica.</span><span class="sxs-lookup"><span data-stu-id="06da3-155">The Resource Manager deployment model doesn't have the concept of Classic images and disks.</span></span> <span data-ttu-id="06da3-156">Cuando se migra la cuenta de almacenamiento, los discos e imágenes de la implementación clásica no están visibles en la pila de Resource Manager pero los discos duros virtuales de respaldo permanecen en la cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="06da3-156">When the storage account is migrated, Classic images and disks are not visible in the Resource Manager stack but the backing VHDs remain in the storage account.</span></span>
>
>

### <a name="unattached-resources-network-security-groups-route-tables--reserved-ips"></a><span data-ttu-id="06da3-157">Recursos sin conectar (grupos de seguridad de red, tablas de ruta e IP reservadas)</span><span class="sxs-lookup"><span data-stu-id="06da3-157">Unattached resources (Network Security Groups, Route Tables & Reserved IPs)</span></span>
<span data-ttu-id="06da3-158">Los grupos de seguridad de red, las tablas de ruta y las IP reservadas que no están conectadas a ninguna máquina virtual y red virtual se pueden migrar de forma independiente.</span><span class="sxs-lookup"><span data-stu-id="06da3-158">Network Security Groups, Route Tables & Reserved IPs that are not attached to any Virtual Machines and Virtual Networks can be migrated independently.</span></span>

<br>

## <a name="unsupported-features-and-configurations"></a><span data-ttu-id="06da3-159">Configuraciones y características no admitidas</span><span class="sxs-lookup"><span data-stu-id="06da3-159">Unsupported features and configurations</span></span>
<span data-ttu-id="06da3-160">Actualmente, no se admiten determinadas características y configuraciones.</span><span class="sxs-lookup"><span data-stu-id="06da3-160">We do not currently support some features and configurations.</span></span> <span data-ttu-id="06da3-161">En las secciones siguientes se describen nuestras recomendaciones a este respecto.</span><span class="sxs-lookup"><span data-stu-id="06da3-161">The following sections describe our recommendations around them.</span></span>

### <a name="unsupported-features"></a><span data-ttu-id="06da3-162">Características no admitidas</span><span class="sxs-lookup"><span data-stu-id="06da3-162">Unsupported features</span></span>
<span data-ttu-id="06da3-163">Actualmente no se admiten las siguientes características.</span><span class="sxs-lookup"><span data-stu-id="06da3-163">The following features are not currently supported.</span></span> <span data-ttu-id="06da3-164">Opcionalmente, puede quitar estas configuraciones, migrar las máquinas virtuales y después volver a habilitar dichas configuraciones en el modelo de implementación de Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="06da3-164">You can optionally remove these settings, migrate the VMs, and then re-enable the settings in the Resource Manager deployment model.</span></span>

| <span data-ttu-id="06da3-165">Proveedor de recursos</span><span class="sxs-lookup"><span data-stu-id="06da3-165">Resource provider</span></span> | <span data-ttu-id="06da3-166">Característica</span><span class="sxs-lookup"><span data-stu-id="06da3-166">Feature</span></span> | <span data-ttu-id="06da3-167">Recomendación</span><span class="sxs-lookup"><span data-stu-id="06da3-167">Recommendation</span></span> |
| --- | --- | --- |
| <span data-ttu-id="06da3-168">Proceso</span><span class="sxs-lookup"><span data-stu-id="06da3-168">Compute</span></span> |<span data-ttu-id="06da3-169">Discos de máquinas virtuales no asociados.</span><span class="sxs-lookup"><span data-stu-id="06da3-169">Unassociated virtual machine disks.</span></span> | <span data-ttu-id="06da3-170">Los blobs de VHD que hay detrás de estos discos se migrarán cuando lo haga la cuenta de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="06da3-170">The VHD blobs behind these disks will get migrated when the Storage Account is migrated</span></span> |
| <span data-ttu-id="06da3-171">Proceso</span><span class="sxs-lookup"><span data-stu-id="06da3-171">Compute</span></span> |<span data-ttu-id="06da3-172">Imágenes de máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="06da3-172">Virtual machine images.</span></span> | <span data-ttu-id="06da3-173">Los blobs de VHD que hay detrás de estos discos se migrarán cuando lo haga la cuenta de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="06da3-173">The VHD blobs behind these disks will get migrated when the Storage Account is migrated</span></span> |
| <span data-ttu-id="06da3-174">Red</span><span class="sxs-lookup"><span data-stu-id="06da3-174">Network</span></span> |<span data-ttu-id="06da3-175">ACL de puntos de conexión.</span><span class="sxs-lookup"><span data-stu-id="06da3-175">Endpoint ACLs.</span></span> | <span data-ttu-id="06da3-176">Quitar las ACL de los puntos de conexión y vuelva a intentar la migración.</span><span class="sxs-lookup"><span data-stu-id="06da3-176">Remove Endpoint ACLs and retry migration.</span></span> |
| <span data-ttu-id="06da3-177">Red</span><span class="sxs-lookup"><span data-stu-id="06da3-177">Network</span></span> |<span data-ttu-id="06da3-178">Red virtual con ExpressRoute Gateway y VPN Gateway</span><span class="sxs-lookup"><span data-stu-id="06da3-178">Virtual network with both ExpressRoute Gateway and VPN Gateway</span></span>  | <span data-ttu-id="06da3-179">Quite VPN Gateway antes de comenzar la migración y, después, vuelva a crearlo una vez que la migración se complete.</span><span class="sxs-lookup"><span data-stu-id="06da3-179">Remove the VPN Gateway before beginning migration and then recreate the VPN Gateway once migration is complete.</span></span> <span data-ttu-id="06da3-180">Más información acerca de la [migración de ExpressRoute](../articles/expressroute/expressroute-migration-classic-resource-manager.md).</span><span class="sxs-lookup"><span data-stu-id="06da3-180">Learn more about [ExpressRoute migration](../articles/expressroute/expressroute-migration-classic-resource-manager.md).</span></span>|
| <span data-ttu-id="06da3-181">Red</span><span class="sxs-lookup"><span data-stu-id="06da3-181">Network</span></span> |<span data-ttu-id="06da3-182">ExpressRoute con vínculos de autorización</span><span class="sxs-lookup"><span data-stu-id="06da3-182">ExpressRoute with authorization links</span></span>  | <span data-ttu-id="06da3-183">Quite el circuito de ExpressRoute en la conexión de red virtual antes de comenzar la migración y, después, vuelva a crear la conexión una vez que se complete la migración.</span><span class="sxs-lookup"><span data-stu-id="06da3-183">Remove the ExpressRoute circuit to virtaul network connection before beginning migration and then recreate the connection once migration is complete.</span></span> <span data-ttu-id="06da3-184">Más información acerca de la [migración de ExpressRoute](../articles/expressroute/expressroute-migration-classic-resource-manager.md).</span><span class="sxs-lookup"><span data-stu-id="06da3-184">Learn more about [ExpressRoute migration](../articles/expressroute/expressroute-migration-classic-resource-manager.md).</span></span> |
| <span data-ttu-id="06da3-185">Red</span><span class="sxs-lookup"><span data-stu-id="06da3-185">Network</span></span> |<span data-ttu-id="06da3-186">Application Gateway</span><span class="sxs-lookup"><span data-stu-id="06da3-186">Application Gateway</span></span> | <span data-ttu-id="06da3-187">Quite Application Gateway antes de comenzar la migración y, después, vuelva a crearlo una vez que la migración se complete.</span><span class="sxs-lookup"><span data-stu-id="06da3-187">Remove the Application Gateway before beginning migration and then recreate the Application Gateway once migration is complete.</span></span> |
| <span data-ttu-id="06da3-188">Red</span><span class="sxs-lookup"><span data-stu-id="06da3-188">Network</span></span> |<span data-ttu-id="06da3-189">Redes virtuales que usan el emparejamiento de VNET.</span><span class="sxs-lookup"><span data-stu-id="06da3-189">Virtual networks using VNet Peering.</span></span> | <span data-ttu-id="06da3-190">Migrar Virtual Network a Resource Manager y, después, del mismo nivel.</span><span class="sxs-lookup"><span data-stu-id="06da3-190">Migrate Virtual Network to Resource Manager, then peer.</span></span> <span data-ttu-id="06da3-191">Más información acerca del [emparejamiento de VNET](../articles/virtual-network/virtual-network-peering-overview.md).</span><span class="sxs-lookup"><span data-stu-id="06da3-191">Learn more about [VNet Peering](../articles/virtual-network/virtual-network-peering-overview.md).</span></span> | 

### <a name="unsupported-configurations"></a><span data-ttu-id="06da3-192">Configuraciones no admitidas</span><span class="sxs-lookup"><span data-stu-id="06da3-192">Unsupported configurations</span></span>
<span data-ttu-id="06da3-193">Actualmente no se admiten las siguientes configuraciones.</span><span class="sxs-lookup"><span data-stu-id="06da3-193">The following configurations are not currently supported.</span></span>

| <span data-ttu-id="06da3-194">Servicio</span><span class="sxs-lookup"><span data-stu-id="06da3-194">Service</span></span> | <span data-ttu-id="06da3-195">Configuración</span><span class="sxs-lookup"><span data-stu-id="06da3-195">Configuration</span></span> | <span data-ttu-id="06da3-196">Recomendación</span><span class="sxs-lookup"><span data-stu-id="06da3-196">Recommendation</span></span> |
| --- | --- | --- |
| <span data-ttu-id="06da3-197">Resource Manager</span><span class="sxs-lookup"><span data-stu-id="06da3-197">Resource Manager</span></span> |<span data-ttu-id="06da3-198">Control de acceso basado en rol para recursos clásicos</span><span class="sxs-lookup"><span data-stu-id="06da3-198">Role Based Access Control (RBAC) for classic resources</span></span> |<span data-ttu-id="06da3-199">Puesto que el identificador URI de los recursos se modifica después de la migración, se recomienda planear las actualizaciones de directiva del control de acceso basado en rol que deben producirse después de la migración.</span><span class="sxs-lookup"><span data-stu-id="06da3-199">Because the URI of the resources is modified after migration, it is recommended that you plan the RBAC policy updates that need to happen after migration.</span></span> |
| <span data-ttu-id="06da3-200">Proceso</span><span class="sxs-lookup"><span data-stu-id="06da3-200">Compute</span></span> |<span data-ttu-id="06da3-201">Varias subredes asociadas con una máquina virtual</span><span class="sxs-lookup"><span data-stu-id="06da3-201">Multiple subnets associated with a VM</span></span> |<span data-ttu-id="06da3-202">Actualice la configuración de la subred para que solo haga referencia a las subredes.</span><span class="sxs-lookup"><span data-stu-id="06da3-202">Update the subnet configuration to reference only subnets.</span></span> |
| <span data-ttu-id="06da3-203">Proceso</span><span class="sxs-lookup"><span data-stu-id="06da3-203">Compute</span></span> |<span data-ttu-id="06da3-204">Máquinas virtuales que pertenecen a una red virtual, pero no tienen una subred explícita asignada</span><span class="sxs-lookup"><span data-stu-id="06da3-204">Virtual machines that belong to a virtual network but don't have an explicit subnet assigned</span></span> |<span data-ttu-id="06da3-205">Opcionalmente, puede eliminar la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="06da3-205">You can optionally delete the VM.</span></span> |
| <span data-ttu-id="06da3-206">Proceso</span><span class="sxs-lookup"><span data-stu-id="06da3-206">Compute</span></span> |<span data-ttu-id="06da3-207">Máquinas virtuales que tienen alertas, directivas de escalado automático</span><span class="sxs-lookup"><span data-stu-id="06da3-207">Virtual machines that have alerts, Autoscale policies</span></span> |<span data-ttu-id="06da3-208">Se efectúa la migración y se descartan estos valores.</span><span class="sxs-lookup"><span data-stu-id="06da3-208">The migration goes through and these settings are dropped.</span></span> <span data-ttu-id="06da3-209">Es muy recomendable evaluar el entorno antes de realizar la migración.</span><span class="sxs-lookup"><span data-stu-id="06da3-209">It is highly recommended that you evaluate your environment before you do the migration.</span></span> <span data-ttu-id="06da3-210">Como alternativa, puede reconfigurar los valores de las alertas una vez completada la migración.</span><span class="sxs-lookup"><span data-stu-id="06da3-210">Alternatively, you can reconfigure the alert settings after migration is complete.</span></span> |
| <span data-ttu-id="06da3-211">Proceso</span><span class="sxs-lookup"><span data-stu-id="06da3-211">Compute</span></span> |<span data-ttu-id="06da3-212">Extensiones XML de máquina virtual (BGInfo 1.*, depurador de Visual Studio, Web Deploy y depuración remota)</span><span class="sxs-lookup"><span data-stu-id="06da3-212">XML VM extensions (BGInfo 1.*, Visual Studio Debugger, Web Deploy, and Remote Debugging)</span></span> |<span data-ttu-id="06da3-213">ya que no es compatible.</span><span class="sxs-lookup"><span data-stu-id="06da3-213">This is not supported.</span></span> <span data-ttu-id="06da3-214">Se recomienda que quite estas extensiones de la máquina virtual para continuar la migración o se quitarán automáticamente durante el proceso.</span><span class="sxs-lookup"><span data-stu-id="06da3-214">It is recommended that you remove these extensions from the virtual machine to continue migration or they will be dropped automatically during the migration process.</span></span> |
| <span data-ttu-id="06da3-215">Proceso</span><span class="sxs-lookup"><span data-stu-id="06da3-215">Compute</span></span> |<span data-ttu-id="06da3-216">Diagnóstico de arranque con Almacenamiento premium</span><span class="sxs-lookup"><span data-stu-id="06da3-216">Boot diagnostics with Premium storage</span></span> |<span data-ttu-id="06da3-217">Deshabilite la característica de diagnósticos de arranque para las máquinas virtuales antes de continuar con la migración.</span><span class="sxs-lookup"><span data-stu-id="06da3-217">Disable Boot Diagnostics feature for the VMs before continuing with migration.</span></span> <span data-ttu-id="06da3-218">Puede volver a habilitar los diagnósticos de arranque en la pila de Resource Manager una vez completada la migración.</span><span class="sxs-lookup"><span data-stu-id="06da3-218">You can re-enable boot diagnostics in the Resource Manager stack after the migration is complete.</span></span> <span data-ttu-id="06da3-219">Además, se deben eliminar los blobs que se utilizan para los registros de captura de pantalla y de serie, por lo que ya no se cobra por los blobs.</span><span class="sxs-lookup"><span data-stu-id="06da3-219">Additionally, blobs that are being used for screenshot and serial logs should be deleted so you are no longer charged for those blobs.</span></span> |
| <span data-ttu-id="06da3-220">Proceso</span><span class="sxs-lookup"><span data-stu-id="06da3-220">Compute</span></span> |<span data-ttu-id="06da3-221">Servicios en la nube que contienen roles web y de trabajo</span><span class="sxs-lookup"><span data-stu-id="06da3-221">Cloud services that contain web/worker roles</span></span> |<span data-ttu-id="06da3-222">Actualmente no se admite.</span><span class="sxs-lookup"><span data-stu-id="06da3-222">This is currently not supported.</span></span> |
| <span data-ttu-id="06da3-223">Red</span><span class="sxs-lookup"><span data-stu-id="06da3-223">Network</span></span> |<span data-ttu-id="06da3-224">Redes virtuales que contienen máquinas virtuales y roles web y de trabajo</span><span class="sxs-lookup"><span data-stu-id="06da3-224">Virtual networks that contain virtual machines and web/worker roles</span></span> |<span data-ttu-id="06da3-225">Actualmente no se admite.</span><span class="sxs-lookup"><span data-stu-id="06da3-225">This is currently not supported.</span></span> |
| <span data-ttu-id="06da3-226">Servicio de aplicaciones de Azure</span><span class="sxs-lookup"><span data-stu-id="06da3-226">Azure App Service</span></span> |<span data-ttu-id="06da3-227">Redes virtuales que contienen entornos del Servicio de aplicaciones</span><span class="sxs-lookup"><span data-stu-id="06da3-227">Virtual networks that contain App Service environments</span></span> |<span data-ttu-id="06da3-228">Actualmente no se admite.</span><span class="sxs-lookup"><span data-stu-id="06da3-228">This is currently not supported.</span></span> |
| <span data-ttu-id="06da3-229">HDInsight de Azure</span><span class="sxs-lookup"><span data-stu-id="06da3-229">Azure HDInsight</span></span> |<span data-ttu-id="06da3-230">Redes virtuales que contienen servicios de HDInsight</span><span class="sxs-lookup"><span data-stu-id="06da3-230">Virtual networks that contain HDInsight services</span></span> |<span data-ttu-id="06da3-231">Actualmente no se admite.</span><span class="sxs-lookup"><span data-stu-id="06da3-231">This is currently not supported.</span></span> |
| <span data-ttu-id="06da3-232">Dynamics Lifecycle Services</span><span class="sxs-lookup"><span data-stu-id="06da3-232">Microsoft Dynamics Lifecycle Services</span></span> |<span data-ttu-id="06da3-233">Redes virtuales que contienen máquinas virtuales administradas por Dynamics Lifecycle Services</span><span class="sxs-lookup"><span data-stu-id="06da3-233">Virtual networks that contain virtual machines that are managed by Dynamics Lifecycle Services</span></span> |<span data-ttu-id="06da3-234">Actualmente no se admite.</span><span class="sxs-lookup"><span data-stu-id="06da3-234">This is currently not supported.</span></span> |
| <span data-ttu-id="06da3-235">Azure AD Domain Services</span><span class="sxs-lookup"><span data-stu-id="06da3-235">Azure AD Domain Services</span></span> |<span data-ttu-id="06da3-236">Redes virtuales que contienen servicios de dominio de Azure AD</span><span class="sxs-lookup"><span data-stu-id="06da3-236">Virtual networks that contain Azure AD Domain services</span></span> |<span data-ttu-id="06da3-237">Actualmente no se admite.</span><span class="sxs-lookup"><span data-stu-id="06da3-237">This is currently not supported.</span></span> |
| <span data-ttu-id="06da3-238">Azure RemoteApp</span><span class="sxs-lookup"><span data-stu-id="06da3-238">Azure RemoteApp</span></span> |<span data-ttu-id="06da3-239">Redes virtuales que contienen implementaciones de Azure RemoteApp</span><span class="sxs-lookup"><span data-stu-id="06da3-239">Virtual networks that contain Azure RemoteApp deployments</span></span> |<span data-ttu-id="06da3-240">Actualmente no se admite.</span><span class="sxs-lookup"><span data-stu-id="06da3-240">This is currently not supported.</span></span> |
| <span data-ttu-id="06da3-241">Administración de API de Azure</span><span class="sxs-lookup"><span data-stu-id="06da3-241">Azure API Management</span></span> |<span data-ttu-id="06da3-242">Redes virtuales que contienen implementaciones de Azure API Management</span><span class="sxs-lookup"><span data-stu-id="06da3-242">Virtual networks that contain Azure API Management deployments</span></span> |<span data-ttu-id="06da3-243">Actualmente no se admite.</span><span class="sxs-lookup"><span data-stu-id="06da3-243">This is currently not supported.</span></span> <span data-ttu-id="06da3-244">Para migrar la red virtual de IaaS, cambie la red virtual de la implementación de API Management que no es una operación de tiempo de inactividad.</span><span class="sxs-lookup"><span data-stu-id="06da3-244">To migrate the IaaS VNET, please change the VNET of the API Management deployment which is a no downtime operation.</span></span> |
| <span data-ttu-id="06da3-245">Proceso</span><span class="sxs-lookup"><span data-stu-id="06da3-245">Compute</span></span> |<span data-ttu-id="06da3-246">Extensiones de Azure Security Center con una red virtual que tiene VPN Gateway en conectividad de tránsito o una puerta de enlace de ExpressRoute con servidor DNS local</span><span class="sxs-lookup"><span data-stu-id="06da3-246">Azure Security Center extensions with a VNET that has a VPN gateway in transit connectivity or ExpressRoute gateway with on-prem DNS server</span></span> |<span data-ttu-id="06da3-247">Azure Security Center instala automáticamente las extensiones en las máquinas virtuales para supervisar la seguridad y generar alertas.</span><span class="sxs-lookup"><span data-stu-id="06da3-247">Azure Security Center automatically installs extensions on your Virtual Machines to monitor their security and raise alerts.</span></span> <span data-ttu-id="06da3-248">Si está habilitada la directiva de Azure Security Center en la suscripción, estas extensiones se suelen instalar automáticamente.</span><span class="sxs-lookup"><span data-stu-id="06da3-248">These extensions usually get installed automatically if the Azure Security Center policy is enabled on the subscription.</span></span> <span data-ttu-id="06da3-249">La migración de la puerta de enlace de ExpressRoute no se admite actualmente y las puertas de enlace de VPN con conectividad de tránsito pierde el acceso local.</span><span class="sxs-lookup"><span data-stu-id="06da3-249">ExpressRoute gateway migration is not supported currently, and VPN gateways with transit connectivity loses on-premises access.</span></span> <span data-ttu-id="06da3-250">La eliminación de la puerta de enlace de ExpressRoute o la migración de la puerta de enlace VPN con conectividad de tránsito provoca que el acceso de Internet a la cuenta de almacenamiento de VM se pierda cuando se realiza la confirmación de la migración.</span><span class="sxs-lookup"><span data-stu-id="06da3-250">Deleting ExpressRoute gateway or migrating VPN gateway with transit connectivity causes internet access to VM storage account to be lost when proceeding with committing the migration.</span></span> <span data-ttu-id="06da3-251">Si esto ocurre, la migración no continúa, ya que no se puede rellenar el blob de estado del agente invitado.</span><span class="sxs-lookup"><span data-stu-id="06da3-251">The migration will not proceed when this happens as the guest agent status blob cannot be populated.</span></span> <span data-ttu-id="06da3-252">Se recomienda deshabilitar la directiva de Azure Security Center en la suscripción 3 horas antes de continuar con la migración.</span><span class="sxs-lookup"><span data-stu-id="06da3-252">It is recommended to disable Azure Security Center policy on the subscription 3 hours before proceeding with migration.</span></span> |

