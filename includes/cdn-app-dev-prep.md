## <a name="prerequisites"></a><span data-ttu-id="8c8d6-101">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="8c8d6-101">Prerequisites</span></span>
<span data-ttu-id="8c8d6-102">Antes de que podemos escribir código de administración de red CDN, necesitamos toodo algunos tooenable preparación nuestro toointeract de código con hello Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="8c8d6-102">Before we can write CDN management code, we need toodo some preparation tooenable our code toointeract with hello Azure Resource Manager.</span></span>  <span data-ttu-id="8c8d6-103">toodo esto, necesitará:</span><span class="sxs-lookup"><span data-stu-id="8c8d6-103">toodo this, you'll need to:</span></span>

* <span data-ttu-id="8c8d6-104">Crear un hello toocontain de grupo de recursos perfil de CDN se creará en este tutorial</span><span class="sxs-lookup"><span data-stu-id="8c8d6-104">Create a resource group toocontain hello CDN profile we create in this tutorial</span></span>
* <span data-ttu-id="8c8d6-105">Configurar la autenticación de Azure Active Directory tooprovide para nuestra aplicación</span><span class="sxs-lookup"><span data-stu-id="8c8d6-105">Configure Azure Active Directory tooprovide authentication for our application</span></span>
* <span data-ttu-id="8c8d6-106">Aplicar los permisos de grupo de recursos de toohello para que solo los usuarios desde el inquilino de Azure AD autorizados puede interactuar con nuestro perfil de CDN</span><span class="sxs-lookup"><span data-stu-id="8c8d6-106">Apply permissions toohello resource group so that only authorized users from our Azure AD tenant can interact with our CDN profile</span></span>

### <a name="creating-hello-resource-group"></a><span data-ttu-id="8c8d6-107">Creando grupo de recursos de Hola</span><span class="sxs-lookup"><span data-stu-id="8c8d6-107">Creating hello resource group</span></span>
1. <span data-ttu-id="8c8d6-108">Inicie sesión en hello [Portal de Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="8c8d6-108">Log into hello [Azure Portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="8c8d6-109">Haga clic en hello **New** en la parte superior izquierda de hello, botón y, a continuación, **administración**, y **grupo de recursos**.</span><span class="sxs-lookup"><span data-stu-id="8c8d6-109">Click hello **New** button in hello upper left, and then **Management**, and **Resource Group**.</span></span>

    ![Crear un grupo de recursos](./media/cdn-app-dev-prep/cdn-new-rg-1-include.png)
3. <span data-ttu-id="8c8d6-111">Llame a su grupo de recursos *CdnConsoleTutorial*.</span><span class="sxs-lookup"><span data-stu-id="8c8d6-111">Call your resource group *CdnConsoleTutorial*.</span></span>  <span data-ttu-id="8c8d6-112">Seleccione la suscripción y elija una ubicación cercana.</span><span class="sxs-lookup"><span data-stu-id="8c8d6-112">Select your subscription and choose a location near you.</span></span>  <span data-ttu-id="8c8d6-113">Si lo desea, puede hacer clic en hello **toodashboard Pin** casilla toopin Hola recursos grupo toohello panel Hola portal.</span><span class="sxs-lookup"><span data-stu-id="8c8d6-113">If you wish, you may click hello **Pin toodashboard** checkbox toopin hello resource group toohello dashboard in hello portal.</span></span>  <span data-ttu-id="8c8d6-114">Esto hará que sea más fácil toofind más tarde.</span><span class="sxs-lookup"><span data-stu-id="8c8d6-114">This will make it easier toofind later.</span></span>  <span data-ttu-id="8c8d6-115">Cuando termine las selecciones, haga clic en **Crear**.</span><span class="sxs-lookup"><span data-stu-id="8c8d6-115">After you've made your selections, click **Create**.</span></span>

    ![Grupo de recursos de nomenclatura Hola](./media/cdn-app-dev-prep/cdn-new-rg-2-include.png)
4. <span data-ttu-id="8c8d6-117">Después de crea grupo de recursos de hello, si no ancla tooyour panel, puede buscarlo haciendo clic en **examinar**, a continuación, **grupos de recursos**.</span><span class="sxs-lookup"><span data-stu-id="8c8d6-117">After hello resource group is created, if you didn't pin it tooyour dashboard, you can find it by clicking **Browse**, then **Resource Groups**.</span></span>  <span data-ttu-id="8c8d6-118">Haga clic en tooopen de grupo de recursos de Hola.</span><span class="sxs-lookup"><span data-stu-id="8c8d6-118">Click hello resource group tooopen it.</span></span>  <span data-ttu-id="8c8d6-119">Tome nota del valor en **Id. de suscripción**.</span><span class="sxs-lookup"><span data-stu-id="8c8d6-119">Make a note of your **Subscription ID**.</span></span>  <span data-ttu-id="8c8d6-120">lo necesitará más adelante.</span><span class="sxs-lookup"><span data-stu-id="8c8d6-120">We'll need it later.</span></span>

    ![Grupo de recursos de nomenclatura Hola](./media/cdn-app-dev-prep/cdn-subscription-id-include.png)

### <a name="creating-hello-azure-ad-application-and-applying-permissions"></a><span data-ttu-id="8c8d6-122">Crear aplicación hello Azure AD y aplicar los permisos</span><span class="sxs-lookup"><span data-stu-id="8c8d6-122">Creating hello Azure AD application and applying permissions</span></span>
<span data-ttu-id="8c8d6-123">Existen dos enfoques tooapp autenticación con Azure Active Directory: usuarios individuales o a una entidad de servicio.</span><span class="sxs-lookup"><span data-stu-id="8c8d6-123">There are two approaches tooapp authentication with Azure Active Directory: Individual users or a service principal.</span></span> <span data-ttu-id="8c8d6-124">Una entidad de servicio es la cuenta de servicio de tooa similares en Windows.</span><span class="sxs-lookup"><span data-stu-id="8c8d6-124">A service principal is similar tooa service account in Windows.</span></span>  <span data-ttu-id="8c8d6-125">En lugar de conceder un toointeract de permisos de usuario determinado con perfiles de red CDN Hola, en su lugar, concedemos a permisos de hello toohello servicio principal.</span><span class="sxs-lookup"><span data-stu-id="8c8d6-125">Instead of granting a particular user permissions toointeract with hello CDN profiles, we instead grant hello permissions toohello service principal.</span></span>  <span data-ttu-id="8c8d6-126">Las entidades de servicio se suelen utilizar para procesos automatizados no interactivos.</span><span class="sxs-lookup"><span data-stu-id="8c8d6-126">Service principals are generally used for automated, non-interactive processes.</span></span>  <span data-ttu-id="8c8d6-127">Aunque este tutorial está escribiendo una aplicación de consola interactiva, nos centraremos en el enfoque principal de servicio de Hola.</span><span class="sxs-lookup"><span data-stu-id="8c8d6-127">Even though this tutorial is writing an interactive console app, we'll focus on hello service principal approach.</span></span>

<span data-ttu-id="8c8d6-128">Para crear una entidad de servicio, se siguen varios pasos, incluida la creación de una aplicación de Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="8c8d6-128">Creating a service principal consists of several steps, including creating an Azure Active Directory application.</span></span>  <span data-ttu-id="8c8d6-129">toodo, vamos a demasiado[seguir este tutorial](../articles/resource-group-create-service-principal-portal.md).</span><span class="sxs-lookup"><span data-stu-id="8c8d6-129">toodo this, we're going too[follow this tutorial](../articles/resource-group-create-service-principal-portal.md).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="8c8d6-130">Ser seguro toofollow todos los pasos de Hola Hola [tutorial vinculado](../articles/resource-group-create-service-principal-portal.md).</span><span class="sxs-lookup"><span data-stu-id="8c8d6-130">Be sure toofollow all hello steps in hello [linked tutorial](../articles/resource-group-create-service-principal-portal.md).</span></span>  <span data-ttu-id="8c8d6-131">Es *muy importante* que lo complete exactamente como se describe.</span><span class="sxs-lookup"><span data-stu-id="8c8d6-131">It is *extremely important* that you complete it exactly as described.</span></span>  <span data-ttu-id="8c8d6-132">Realizar toonote seguro su **identificador de inquilino**, **nombre_de_dominio_de** (habitualmente un *. onmicrosoft.com* dominio a menos que haya especificado un dominio personalizado), **Id. de cliente** , y **clave de autenticación de cliente**, tal y como se necesitará más adelante.</span><span class="sxs-lookup"><span data-stu-id="8c8d6-132">Make sure toonote your **tenant ID**, **tenant domain name** (commonly a *.onmicrosoft.com* domain unless you've specified a custom domain), **client ID**, and **client authentication key**, as we will need these later.</span></span>  <span data-ttu-id="8c8d6-133">Tener mucho cuidado tooguard su **Id. de cliente** y **clave de autenticación de cliente**, ya que estas credenciales pueden ser usado por alguien tooexecute operaciones como entidad de servicio de Hola.</span><span class="sxs-lookup"><span data-stu-id="8c8d6-133">Be very careful tooguard your **client ID** and **client authentication key**, as these credentials can be used by anyone tooexecute operations as hello service principal.</span></span>
>
> <span data-ttu-id="8c8d6-134">Cuando obtenga paso toohello denominado Configurar aplicación multiempresa, seleccione **No**.</span><span class="sxs-lookup"><span data-stu-id="8c8d6-134">When you get toohello step named Configure multi-tenant application, select **No**.</span></span>
>
> <span data-ttu-id="8c8d6-135">Al obtener paso toohello [asignar aplicaciones toorole](../articles/azure-resource-manager/resource-group-create-service-principal-portal.md#assign-application-to-role), grupo de recursos de uso Hola hemos creado con anterioridad, *CdnConsoleTutorial*, pero en lugar de hello **lector** rol, asignar Hola **colaborador de perfil de CDN** rol.</span><span class="sxs-lookup"><span data-stu-id="8c8d6-135">When you get toohello step [Assign application toorole](../articles/azure-resource-manager/resource-group-create-service-principal-portal.md#assign-application-to-role), use hello resource group we created earlier,  *CdnConsoleTutorial*, but instead of hello **Reader** role, assign hello **CDN Profile Contributor** role.</span></span>  <span data-ttu-id="8c8d6-136">Después de asignar Hola de aplicación Hola **colaborador de perfil de CDN** rol en el grupo de recursos, tutorial toothis devuelto.</span><span class="sxs-lookup"><span data-stu-id="8c8d6-136">After you assign hello application hello **CDN Profile Contributor** role on your resource group, return toothis tutorial.</span></span> 
>
>

<span data-ttu-id="8c8d6-137">Una vez que ha creado su Hola de servicio principal y que se asignaron **colaborador de perfil de CDN** rol, hello **usuarios** hoja para el grupo de recursos debe tener un aspecto similar toothis.</span><span class="sxs-lookup"><span data-stu-id="8c8d6-137">Once you've created your service principal and assigned hello **CDN Profile Contributor** role, hello **Users** blade for your resource group should look similar toothis.</span></span>

![Hoja Usuarios](./media/cdn-app-dev-prep/cdn-service-principal-include.png)

### <a name="interactive-user-authentication"></a><span data-ttu-id="8c8d6-139">Autenticación interactiva de usuarios</span><span class="sxs-lookup"><span data-stu-id="8c8d6-139">Interactive user authentication</span></span>
<span data-ttu-id="8c8d6-140">Si, en lugar de una entidad de servicio, que prefiere tener autenticación de usuario individuales interactivo, el proceso de hello es toothat muy similar para una entidad de servicio.</span><span class="sxs-lookup"><span data-stu-id="8c8d6-140">If, instead of a service principal, you'd rather have interactive individual user authentication, hello process is very similar toothat for a service principal.</span></span>  <span data-ttu-id="8c8d6-141">De hecho, necesitará toofollow Hola mismo procedimiento, pero realizar algunos cambios menores.</span><span class="sxs-lookup"><span data-stu-id="8c8d6-141">In fact, you will need toofollow hello same procedure, but make a few minor changes.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="8c8d6-142">Sólo siga estos pasos si elige toouse autenticación de usuario individuales en lugar de una entidad de servicio.</span><span class="sxs-lookup"><span data-stu-id="8c8d6-142">Only follow these next steps if you are choosing toouse individual user authentication instead of a service principal.</span></span>
>
>

1. <span data-ttu-id="8c8d6-143">Al crear la aplicación, en lugar de **Aplicación web**, elija **Aplicación nativa**.</span><span class="sxs-lookup"><span data-stu-id="8c8d6-143">When creating your application, instead of **Web Application**, choose **Native application**.</span></span>

    ![Aplicación nativa](./media/cdn-app-dev-prep/cdn-native-application-include.png)
2. <span data-ttu-id="8c8d6-145">En la página siguiente de hello, se le pedirá una **URI de redireccionamiento**.</span><span class="sxs-lookup"><span data-stu-id="8c8d6-145">On hello next page, you will be prompted for a **redirect URI**.</span></span>  <span data-ttu-id="8c8d6-146">Hola URI no puede validar, pero recuerde lo que ha escrito.</span><span class="sxs-lookup"><span data-stu-id="8c8d6-146">hello URI won't be validated, but remember what you entered.</span></span>  <span data-ttu-id="8c8d6-147">Lo necesitará más adelante.</span><span class="sxs-lookup"><span data-stu-id="8c8d6-147">You'll need it later.</span></span>
3. <span data-ttu-id="8c8d6-148">No hay ninguna necesidad de toocreate una **clave de autenticación de cliente**.</span><span class="sxs-lookup"><span data-stu-id="8c8d6-148">There is no need toocreate a **client authentication key**.</span></span>
4. <span data-ttu-id="8c8d6-149">En lugar de asignar una toohello de entidad de seguridad de servicio **colaborador de perfil de CDN** rol, vamos a grupos o usuarios individuales de tooassign.</span><span class="sxs-lookup"><span data-stu-id="8c8d6-149">Instead of assigning a service principal toohello **CDN Profile Contributor** role, we're going tooassign individual users or groups.</span></span>  <span data-ttu-id="8c8d6-150">En este ejemplo, puede ver que asigné *CDN demostración usuario* toohello **colaborador de perfil de CDN** rol.</span><span class="sxs-lookup"><span data-stu-id="8c8d6-150">In this example, you can see that I've assigned  *CDN Demo User* toohello **CDN Profile Contributor** role.</span></span>  

    ![Acceso de usuario individual](./media/cdn-app-dev-prep/cdn-aad-user-include.png)
