
## <a name="about-vhds"></a><span data-ttu-id="a7281-101">Acerca de los discos duros virtuales</span><span class="sxs-lookup"><span data-stu-id="a7281-101">About VHDs</span></span>

<span data-ttu-id="a7281-102">Los discos duros virtuales usados en Azure son archivos .vhd almacenados como blobs en páginas en una cuenta de almacenamiento estándar o premium de Azure.</span><span class="sxs-lookup"><span data-stu-id="a7281-102">The VHDs used in Azure are .vhd files stored as page blobs in a standard or premium storage account in Azure.</span></span> <span data-ttu-id="a7281-103">Para obtener información detallada sobre blobs en páginas, consulte [Introducción a los blobs en bloques y a los blobs en páginas](/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs/).</span><span class="sxs-lookup"><span data-stu-id="a7281-103">For details about page blobs, see [Understanding block blobs and page blobs](/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs/).</span></span> <span data-ttu-id="a7281-104">Para más información sobre Premium Storage, consulte [Premium Storage de alto rendimiento y máquinas virtuales de Azure](../articles/storage/common/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="a7281-104">For details about premium storage, see [High-performance premium storage and Azure VMs](../articles/storage/common/storage-premium-storage.md).</span></span>

<span data-ttu-id="a7281-105">Azure admite el formato VHD de disco fijo.</span><span class="sxs-lookup"><span data-stu-id="a7281-105">Azure supports the fixed disk VHD format.</span></span> <span data-ttu-id="a7281-106">El formato fijo coloca el disco lógico linealmente dentro del archivo, de manera que el desplazamiento de disco X se almacena en el desplazamiento de blob X. Un pequeño pie de página al final del blob describe las propiedades del VHD.</span><span class="sxs-lookup"><span data-stu-id="a7281-106">The fixed format lays the logical disk out linearly within the file, so that disk offset X is stored at blob offset X. A small footer at the end of the blob describes the properties of the VHD.</span></span> <span data-ttu-id="a7281-107">El formato fijo a menudo desaprovecha el espacio porque la mayoría de discos contienen grandes rangos sin utilizar.</span><span class="sxs-lookup"><span data-stu-id="a7281-107">Often, the fixed format wastes space because most disks have large unused ranges in them.</span></span> <span data-ttu-id="a7281-108">Sin embargo, Azure almacena los archivos .vhd en un formato disperso; así pues, se beneficia de las ventajas de los discos fijos y dinámicos al mismo tiempo.</span><span class="sxs-lookup"><span data-stu-id="a7281-108">However, Azure stores .vhd files in a sparse format, so you receive the benefits of both the fixed and dynamic disks at the same time.</span></span> <span data-ttu-id="a7281-109">Para obtener más información, consulte [Introducción a los discos duros virtuales](https://technet.microsoft.com/library/dd979539.aspx).</span><span class="sxs-lookup"><span data-stu-id="a7281-109">For more details, see [Getting started with virtual hard disks](https://technet.microsoft.com/library/dd979539.aspx).</span></span>

<span data-ttu-id="a7281-110">Todos los archivos .vhd de Azure que desea usar como origen para crear discos o imágenes son de solo lectura.</span><span class="sxs-lookup"><span data-stu-id="a7281-110">All .vhd files in Azure that you want to use as a source to create disks or images are read-only.</span></span> <span data-ttu-id="a7281-111">Cuando se crea un disco o una imagen, Azure hace copias de los archivos .vhd.</span><span class="sxs-lookup"><span data-stu-id="a7281-111">When you create a disk or image, Azure makes copies of the .vhd files.</span></span> <span data-ttu-id="a7281-112">Estas copias pueden ser de solo lectura o de lectura y escritura, en función de cómo use el disco duro virtual.</span><span class="sxs-lookup"><span data-stu-id="a7281-112">These copies can be read-only or read-and-write, depending on how you use the VHD.</span></span>

<span data-ttu-id="a7281-113">Cuando se crea una máquina virtual desde una imagen, Azure crea un disco para la máquina virtual que es una copia del archivo .vhd de origen.</span><span class="sxs-lookup"><span data-stu-id="a7281-113">When you create a virtual machine from an image, Azure creates a disk for the virtual machine that is a copy of the source .vhd file.</span></span> <span data-ttu-id="a7281-114">Para proteger contra la eliminación accidental, Azure coloca una concesión en cada archivo .vhd de origen que se usa para crear una imagen, un disco del sistema operativo o un disco de datos.</span><span class="sxs-lookup"><span data-stu-id="a7281-114">To protect against accidental deletion, Azure places a lease on any source .vhd file that’s used to create an image, an operating system disk, or a data disk.</span></span>

<span data-ttu-id="a7281-115">Para poder eliminar un archivo .vhd de origen, deberá quitar la concesión eliminando el disco o la imagen.</span><span class="sxs-lookup"><span data-stu-id="a7281-115">Before you can delete a source .vhd file, you’ll need to remove the lease by deleting the disk or image.</span></span> <span data-ttu-id="a7281-116">Para eliminar un archivo .vhd que está siendo usado por una máquina virtual como disco del sistema operativo, puede eliminar la máquina virtual, el disco del sistema operativo y el archivo .vhd de origen a la vez, eliminando la máquina virtual y todos los discos asociados.</span><span class="sxs-lookup"><span data-stu-id="a7281-116">To delete a .vhd file that is being used by a virtual machine as an operating system disk, you can delete the virtual machine, the operating system disk, and the source .vhd file all at once by deleting the virtual machine and deleting all associated disks.</span></span> <span data-ttu-id="a7281-117">Sin embargo, para eliminar un archivo .vhd que es el origen de un disco de datos es necesario realizar varios pasos en un orden determinado.</span><span class="sxs-lookup"><span data-stu-id="a7281-117">However, deleting a .vhd file that’s a source for a data disk requires several steps in a set order.</span></span> <span data-ttu-id="a7281-118">Primero, desasocie el disco de la máquina virtual y, a continuación, elimine el disco y el archivo .vhd.</span><span class="sxs-lookup"><span data-stu-id="a7281-118">First you detach the disk from the virtual machine, then delete the disk, and then delete the .vhd file.</span></span>

> [!WARNING]
> <span data-ttu-id="a7281-119">Si elimina un archivo .vhd de origen del almacenamiento o elimina la cuenta de almacenamiento, Microsoft no puede recuperar esos datos por usted.</span><span class="sxs-lookup"><span data-stu-id="a7281-119">If you delete a source .vhd file from storage, or delete your storage account, Microsoft can't recover that data for you.</span></span>
> 

## <a name="types-of-disks"></a><span data-ttu-id="a7281-120">Tipos de discos</span><span class="sxs-lookup"><span data-stu-id="a7281-120">Types of disks</span></span> 

<span data-ttu-id="a7281-121">Los discos de Azure están diseñados para ofrecer una disponibilidad del 99,999 %.</span><span class="sxs-lookup"><span data-stu-id="a7281-121">Azure Disks are designed for 99.999% availability.</span></span> <span data-ttu-id="a7281-122">Los discos de Azure ofrecen durabilidad de nivel empresarial, con una tasa de error anualizada del 0 %.</span><span class="sxs-lookup"><span data-stu-id="a7281-122">Azure Disks have consistently delivered enterprise-grade durability, with an industry-leading ZERO% Annualized Failure Rate.</span></span>

<span data-ttu-id="a7281-123">Hay dos niveles de rendimiento para el almacenamiento que puede elegir al crear los discos: almacenamiento estándar y Premium Storage.</span><span class="sxs-lookup"><span data-stu-id="a7281-123">There are two performance tiers for storage that you can choose from when creating your disks -- Standard Storage and Premium Storage.</span></span> <span data-ttu-id="a7281-124">Además, hay dos tipos de discos, no administrados y administrados, y pueden residir en cualquier nivel de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="a7281-124">Also, there are two types of disks -- unmanaged and managed -- and they can reside in either performance tier.</span></span>


### <a name="standard-storage"></a><span data-ttu-id="a7281-125">Standard Storage</span><span class="sxs-lookup"><span data-stu-id="a7281-125">Standard storage</span></span> 

<span data-ttu-id="a7281-126">El almacenamiento estándar está respaldado por unidades de disco duro y ofrece un almacenamiento rentable al mismo tiempo que tiene un rendimiento superior.</span><span class="sxs-lookup"><span data-stu-id="a7281-126">Standard Storage is backed by HDDs, and delivers cost-effective storage while still being performant.</span></span> <span data-ttu-id="a7281-127">El almacenamiento estándar se puede replicar de forma local en un centro de datos, o tener redundancia geográfica con centros de datos principales y secundarios.</span><span class="sxs-lookup"><span data-stu-id="a7281-127">Standard storage can be replicated locally in one datacenter, or be geo-redundant with primary and secondary data centers.</span></span> <span data-ttu-id="a7281-128">Para más información sobre la replicación almacenamiento, consulte [Replicación de Azure Storage](../articles/storage/common/storage-redundancy.md).</span><span class="sxs-lookup"><span data-stu-id="a7281-128">For more information about storage replication, please see [Azure Storage replication](../articles/storage/common/storage-redundancy.md).</span></span> 

<span data-ttu-id="a7281-129">Para más información sobre el uso del almacenamiento estándar con discos de máquina virtual, consulte el artículo sobre [Almacenamiento estándar y discos](../articles/storage/common/storage-standard-storage.md).</span><span class="sxs-lookup"><span data-stu-id="a7281-129">For more information about using Standard Storage with VM disks, please see [Standard Storage and Disks](../articles/storage/common/storage-standard-storage.md).</span></span>

### <a name="premium-storage"></a><span data-ttu-id="a7281-130">Premium Storage</span><span class="sxs-lookup"><span data-stu-id="a7281-130">Premium storage</span></span> 

<span data-ttu-id="a7281-131">Premium Storage está respaldado por discos SSD y ofrece compatibilidad con discos de alto rendimiento y baja latencia para máquinas virtuales con cargas de trabajo intensivas de E/S.</span><span class="sxs-lookup"><span data-stu-id="a7281-131">Premium Storage is backed by SSDs, and delivers high-performance, low-latency disk support for VMs running I/O-intensive workloads.</span></span> <span data-ttu-id="a7281-132">Puede usar Premium Storage con máquinas virtuales de Azure de las series DS, DSv2, GS, Ls o FS.</span><span class="sxs-lookup"><span data-stu-id="a7281-132">You can use Premium Storage with DS, DSv2, GS, Ls, or FS series Azure VMs.</span></span> <span data-ttu-id="a7281-133">Para más información, consulte [Premium Storage](../articles/storage/common/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="a7281-133">For more information, please see [Premium Storage](../articles/storage/common/storage-premium-storage.md).</span></span>

### <a name="unmanaged-disks"></a><span data-ttu-id="a7281-134">Discos no administrados</span><span class="sxs-lookup"><span data-stu-id="a7281-134">Unmanaged disks</span></span>

<span data-ttu-id="a7281-135">Los discos no administrados constituyen el tipo tradicional de discos que han usado las máquinas virtuales.</span><span class="sxs-lookup"><span data-stu-id="a7281-135">Unmanaged disks are the traditional type of disks that have been used by VMs.</span></span> <span data-ttu-id="a7281-136">Con esto, cree su propia cuenta de almacenamiento y especifique esa cuenta de almacenamiento al crear el disco.</span><span class="sxs-lookup"><span data-stu-id="a7281-136">With these, you create your own storage account and specify that storage account when you create the disk.</span></span> <span data-ttu-id="a7281-137">Tiene que asegurarse de que no incluir demasiados discos en la misma cuenta de almacenamiento, porque podría superar los [objetivos de escalabilidad](../articles/storage/common/storage-scalability-targets.md) de la cuenta de almacenamiento (20 000 IOPS, por ejemplo), lo que da como resultado una limitación de las máquinas virtuales.</span><span class="sxs-lookup"><span data-stu-id="a7281-137">You have to make sure you don't put too many disks in the same storage account, because you could exceed the [scalability targets](../articles/storage/common/storage-scalability-targets.md) of the storage account (20,000 IOPS, for example), resulting in the VMs being throttled.</span></span> <span data-ttu-id="a7281-138">Con los discos no administrados, tendrá que averiguar cómo maximizar el uso de una o varias cuentas de almacenamiento para obtener el máximo rendimiento de las máquinas virtuales.</span><span class="sxs-lookup"><span data-stu-id="a7281-138">With unmanaged disks, you have to figure out how to maximize the use of one or more storage accounts to get the best performance out of your VMs.</span></span>

### <a name="managed-disks"></a><span data-ttu-id="a7281-139">Discos administrados</span><span class="sxs-lookup"><span data-stu-id="a7281-139">Managed disks</span></span> 

<span data-ttu-id="a7281-140">El servicio Managed Disks controla la creación y administración de las cuentas de almacenamiento en segundo plano y se asegura de que no tiene que preocuparse de los límites de escalabilidad de la cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="a7281-140">Managed Disks handles the storage account creation/management in the background for you, and ensures that you do not have to worry about the scalability limits of the storage account.</span></span> <span data-ttu-id="a7281-141">Simplemente especifique el tamaño del disco y el nivel de rendimiento (Estándar o Premium) y Azure crea y administra el disco en su nombre.</span><span class="sxs-lookup"><span data-stu-id="a7281-141">You simply specify the disk size and the performance tier (Standard/Premium), and Azure creates and manages the disk for you.</span></span> <span data-ttu-id="a7281-142">Incluso a medida que agrega discos o escala y reduce verticalmente la máquina virtual, no tendrá que preocuparse por el almacenamiento que se va a usar.</span><span class="sxs-lookup"><span data-stu-id="a7281-142">Even as you add disks or scale the VM up and down, you don't have to worry about the storage being used.</span></span> 

<span data-ttu-id="a7281-143">También puede administrar sus imágenes personalizadas en una cuenta de almacenamiento por región de Azure y utilizarlas para crear cientos de máquinas virtuales en la misma suscripción.</span><span class="sxs-lookup"><span data-stu-id="a7281-143">You can also manage your custom images in one storage account per Azure region, and use them to create hundreds of VMs in the same subscription.</span></span> <span data-ttu-id="a7281-144">Para más información sobre Managed Disks, consulte [Información general de Managed Disks](../articles/virtual-machines/windows/managed-disks-overview.md).</span><span class="sxs-lookup"><span data-stu-id="a7281-144">For more information about Managed Disks, please see the [Managed Disks Overview](../articles/virtual-machines/windows/managed-disks-overview.md).</span></span>

<span data-ttu-id="a7281-145">Se recomienda usar Azure Managed Disks para las nuevas máquinas virtuales y que convierta los discos no administrados anteriores en discos administrados, para aprovechar las múltiples características disponibles en Managed Disks.</span><span class="sxs-lookup"><span data-stu-id="a7281-145">We recommend that you use Azure Managed Disks for new VMs, and that you convert your previous unmanaged disks to managed disks, to take advantage of the many features available in Managed Disks.</span></span>

### <a name="disk-comparison"></a><span data-ttu-id="a7281-146">Comparación de discos</span><span class="sxs-lookup"><span data-stu-id="a7281-146">Disk comparison</span></span>

<span data-ttu-id="a7281-147">En la tabla siguiente se ofrece una comparación de almacenamiento premium y estándar para discos administrados y no administrados para ayudar a decidir cuál utilizar.</span><span class="sxs-lookup"><span data-stu-id="a7281-147">The following table provides a comparison of Premium vs Standard for both unmanaged and managed disks to help you decide what to use.</span></span>

|    | <span data-ttu-id="a7281-148">Disco Premium de Azure</span><span class="sxs-lookup"><span data-stu-id="a7281-148">Azure Premium Disk</span></span> | <span data-ttu-id="a7281-149">Disco Estándar de Azure</span><span class="sxs-lookup"><span data-stu-id="a7281-149">Azure Standard Disk</span></span> |
|--- | ------------------ | ------------------- |
| <span data-ttu-id="a7281-150">Tipo de disco</span><span class="sxs-lookup"><span data-stu-id="a7281-150">Disk Type</span></span> | <span data-ttu-id="a7281-151">Unidades de estado sólido (SSD)</span><span class="sxs-lookup"><span data-stu-id="a7281-151">Solid State Drives (SSD)</span></span> | <span data-ttu-id="a7281-152">Unidades de disco duro (HDD)</span><span class="sxs-lookup"><span data-stu-id="a7281-152">Hard Disk Drives (HDD)</span></span>  |
| <span data-ttu-id="a7281-153">Información general</span><span class="sxs-lookup"><span data-stu-id="a7281-153">Overview</span></span>  | <span data-ttu-id="a7281-154">Compatibilidad con discos de alto rendimiento y baja latencia basados en SSD para máquinas virtuales que ejecutan cargas de trabajo intensivas de E/S o que hospedan un entorno de producción crítico</span><span class="sxs-lookup"><span data-stu-id="a7281-154">SSD-based high-performance, low-latency disk support for VMs running IO-intensive workloads or hosting mission critical production environment</span></span> | <span data-ttu-id="a7281-155">Compatibilidad rentable con discos basados en HHD para escenarios de máquinas virtuales de desarrollo o pruebas</span><span class="sxs-lookup"><span data-stu-id="a7281-155">HDD-based cost effective disk support for Dev/Test VM scenarios</span></span> |
| <span data-ttu-id="a7281-156">Escenario</span><span class="sxs-lookup"><span data-stu-id="a7281-156">Scenario</span></span>  | <span data-ttu-id="a7281-157">Cargas de trabajo confidenciales de producción y rendimiento</span><span class="sxs-lookup"><span data-stu-id="a7281-157">Production and performance sensitive workloads</span></span> | <span data-ttu-id="a7281-158">Desarrollo y pruebas, no crítico,</span><span class="sxs-lookup"><span data-stu-id="a7281-158">Dev/Test, non-critical,</span></span> <br><span data-ttu-id="a7281-159">Acceso infrecuente</span><span class="sxs-lookup"><span data-stu-id="a7281-159">Infrequent access</span></span> |
| <span data-ttu-id="a7281-160">Tamaño del disco</span><span class="sxs-lookup"><span data-stu-id="a7281-160">Disk Size</span></span> | <span data-ttu-id="a7281-161">P4: 32 GB (solo Managed Disks)</span><span class="sxs-lookup"><span data-stu-id="a7281-161">P4: 32 GB (Managed Disks only)</span></span><br><span data-ttu-id="a7281-162">P6: 64 GB (solo Managed Disks)</span><span class="sxs-lookup"><span data-stu-id="a7281-162">P6: 64 GB (Managed Disks only)</span></span><br><span data-ttu-id="a7281-163">P10: 128 GB</span><span class="sxs-lookup"><span data-stu-id="a7281-163">P10: 128 GB</span></span><br><span data-ttu-id="a7281-164">P20: 512 GB</span><span class="sxs-lookup"><span data-stu-id="a7281-164">P20: 512 GB</span></span><br><span data-ttu-id="a7281-165">P30: 1024 GB</span><span class="sxs-lookup"><span data-stu-id="a7281-165">P30: 1024 GB</span></span><br><span data-ttu-id="a7281-166">P40: 2048 GB</span><span class="sxs-lookup"><span data-stu-id="a7281-166">P40: 2048 GB</span></span><br><span data-ttu-id="a7281-167">P50: 4095 GB</span><span class="sxs-lookup"><span data-stu-id="a7281-167">P50: 4095 GB</span></span> | <span data-ttu-id="a7281-168">Discos no administrados: de 1 GB a 4 TB (4095 GB)</span><span class="sxs-lookup"><span data-stu-id="a7281-168">Unmanaged Disks: 1 GB – 4 TB (4095 GB)</span></span> <br><br><span data-ttu-id="a7281-169">Discos administrados:</span><span class="sxs-lookup"><span data-stu-id="a7281-169">Managed Disks:</span></span><br> <span data-ttu-id="a7281-170">S4: 32 GB</span><span class="sxs-lookup"><span data-stu-id="a7281-170">S4: 32 GB</span></span> <br><span data-ttu-id="a7281-171">S6: 64 GB</span><span class="sxs-lookup"><span data-stu-id="a7281-171">S6: 64 GB</span></span> <br><span data-ttu-id="a7281-172">S10: 128 GB</span><span class="sxs-lookup"><span data-stu-id="a7281-172">S10: 128 GB</span></span> <br><span data-ttu-id="a7281-173">S20: 512 GB</span><span class="sxs-lookup"><span data-stu-id="a7281-173">S20: 512 GB</span></span> <br><span data-ttu-id="a7281-174">S30: 1024 GB</span><span class="sxs-lookup"><span data-stu-id="a7281-174">S30: 1024 GB</span></span> <br><span data-ttu-id="a7281-175">S40: 2048 GB</span><span class="sxs-lookup"><span data-stu-id="a7281-175">S40: 2048 GB</span></span><br><span data-ttu-id="a7281-176">S50: 4095 GB</span><span class="sxs-lookup"><span data-stu-id="a7281-176">S50: 4095 GB</span></span>| 
| <span data-ttu-id="a7281-177">Rendimiento máximo por disco</span><span class="sxs-lookup"><span data-stu-id="a7281-177">Max Throughput per Disk</span></span> | <span data-ttu-id="a7281-178">250 MB/s</span><span class="sxs-lookup"><span data-stu-id="a7281-178">250 MB/s</span></span> | <span data-ttu-id="a7281-179">60 MB/s</span><span class="sxs-lookup"><span data-stu-id="a7281-179">60 MB/s</span></span> | 
| <span data-ttu-id="a7281-180">IOPS máximas por disco</span><span class="sxs-lookup"><span data-stu-id="a7281-180">Max IOPS per Disk</span></span> | <span data-ttu-id="a7281-181">7500 IOPS</span><span class="sxs-lookup"><span data-stu-id="a7281-181">7500 IOPS</span></span> | <span data-ttu-id="a7281-182">500 IOPS</span><span class="sxs-lookup"><span data-stu-id="a7281-182">500 IOPS</span></span> | 

