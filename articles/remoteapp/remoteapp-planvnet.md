---
title: "Planeación de la red virtual para una colección de Azure RemoteApp | Microsoft Docs"
description: "Información sobre cómo planificar la red virtual para una colección de Azure RemoteApp."
services: remoteapp
documentationcenter: 
author: mghosh1616
manager: mbaldwin
ms.assetid: ad9aff0e-f374-49c0-951d-4a7be1c36de0
ms.service: remoteapp
ms.workload: compute
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 11/23/2016
ms.author: mbaldwin
ms.openlocfilehash: 1eb8115b13fb18074b4c4726b69e3d9faf387c32
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 07/11/2017
---
# <a name="how-to-plan-your-virtual-network-for-azure-remoteapp"></a><span data-ttu-id="df12e-103">Cómo planificar la red virtual para Azure RemoteApp</span><span class="sxs-lookup"><span data-stu-id="df12e-103">How to plan your virtual network for Azure RemoteApp</span></span>
> [!IMPORTANT]
> <span data-ttu-id="df12e-104">Azure RemoteApp dejará de estar disponible el 31 de agosto de 2017.</span><span class="sxs-lookup"><span data-stu-id="df12e-104">Azure RemoteApp is being discontinued on August 31, 2017.</span></span> <span data-ttu-id="df12e-105">Para obtener más información, lea el [anuncio](https://go.microsoft.com/fwlink/?linkid=821148) .</span><span class="sxs-lookup"><span data-stu-id="df12e-105">Read the [announcement](https://go.microsoft.com/fwlink/?linkid=821148) for details.</span></span>
> 
> 

<span data-ttu-id="df12e-106">En este documento se describe cómo configurar la red virtual (VNET) de Azure y la subred para Azure RemoteApp.</span><span class="sxs-lookup"><span data-stu-id="df12e-106">This document describes how to set up your Azure virtual network (VNET) and the subnet for Azure RemoteApp.</span></span> <span data-ttu-id="df12e-107">Si no estás familiarizado con las redes virtuales de Azure, esta es una capacidad que te ayuda a virtualizar tu infraestructura de red en la nube y a crear soluciones híbridas con Azure y con tus recursos locales.</span><span class="sxs-lookup"><span data-stu-id="df12e-107">If you are unfamiliar with Azure virtual networks, this is a capability that helps you to virtualize your network infrastructure to the cloud and to create hybrid solutions with Azure and your on-premises resources.</span></span> <span data-ttu-id="df12e-108">Puede leer más sobre este tema [aquí](../virtual-network/virtual-networks-overview.md).</span><span class="sxs-lookup"><span data-stu-id="df12e-108">You can read more about it [here](../virtual-network/virtual-networks-overview.md).</span></span>

<span data-ttu-id="df12e-109">Si quieres definir directivas de seguridad para el tráfico (entrante y saliente) en la red virtual donde vas a implementar Azure RemoteApp, te recomendamos que crees una subred de Azure RemoteApp independiente del resto de las implementaciones de la red virtual de Azure.</span><span class="sxs-lookup"><span data-stu-id="df12e-109">If you want to define security policies for traffic (both incoming and outgoing) in your virtual network where you are deploying Azure RemoteApp, we strongly recommend creating a separate subnet for Azure RemoteApp from the rest of your deployments in the Azure virtual network.</span></span> <span data-ttu-id="df12e-110">Para obtener más información sobre cómo definir las directivas de seguridad de la subred de red virtual de Azure, lee [¿Qué es un grupo de seguridad de red (NSG)?](../virtual-network/virtual-networks-nsg.md).</span><span class="sxs-lookup"><span data-stu-id="df12e-110">For more information on how to define security policies on your Azure virtual network subnet, please read [What is a Network Security Group (NSG)?](../virtual-network/virtual-networks-nsg.md).</span></span>

## <a name="types-of-azure-remoteapp-collections-with-azure-virtual-networks"></a><span data-ttu-id="df12e-111">Tipos de colecciones de RemoteApp de Azure con redes virtuales de Azure</span><span class="sxs-lookup"><span data-stu-id="df12e-111">Types of Azure RemoteApp collections with Azure virtual networks</span></span>
<span data-ttu-id="df12e-112">Los gráficos siguientes muestran las dos opciones de colección diferentes para cuando quieres usar una red virtual.</span><span class="sxs-lookup"><span data-stu-id="df12e-112">The following graphics show the two different collection options when you want to use a virtual network.</span></span>

### <a name="azure-remoteapp-cloud-collection-with-vnet"></a><span data-ttu-id="df12e-113">Colección en la nube de Azure RemoteApp con VNET</span><span class="sxs-lookup"><span data-stu-id="df12e-113">Azure RemoteApp cloud collection with VNET</span></span>
 ![Colección en la nube de Azure RemoteApp con una VNET](./media/remoteapp-planvpn/ra-cloudvpn.png)

<span data-ttu-id="df12e-115">Esto representa una colección de Azure RemoteApp donde se implementan en Azure todos los recursos a los que necesitan acceder los hosts de sesión de RemoteApp.</span><span class="sxs-lookup"><span data-stu-id="df12e-115">This represents an Azure RemoteApp collection where all the resources that the RemoteApp session hosts need to access are deployed in Azure.</span></span> <span data-ttu-id="df12e-116">Pueden estar en la misma VNET que la VNET de RemoteApp o en una VNET de Azure diferente.</span><span class="sxs-lookup"><span data-stu-id="df12e-116">They can be in the same VNET as the RemoteApp VNET or a different VNET in Azure.</span></span>

### <a name="azure-remoteapp-hybrid-collection-with-vnet"></a><span data-ttu-id="df12e-117">Colección híbrida de Azure RemoteApp con VNET</span><span class="sxs-lookup"><span data-stu-id="df12e-117">Azure RemoteApp hybrid collection with VNET</span></span>
![Colección híbrida de Azure RemoteApp con una VNET](./media/remoteapp-planvpn/ra-hybridvpn.png)

<span data-ttu-id="df12e-119">Esto representa una colección de Azure RemoteApp donde se implementan localmente algunos de los recursos a los que necesitan acceder los hosts de sesión de RemoteApp.</span><span class="sxs-lookup"><span data-stu-id="df12e-119">This represents an Azure RemoteApp collection where some of the resources that the RemoteApp session hosts need to access are deployed on-premises.</span></span> <span data-ttu-id="df12e-120">La RemoteApp de VNET está vinculada a la red local mediante tecnologías híbridas de Azure como las VPN de sitio a sitio o Express Route.</span><span class="sxs-lookup"><span data-stu-id="df12e-120">The RemoteApp VNET is linked to the on-premises network using Azure hybrid technologies like site-to-site VPN or Express Route.</span></span>

## <a name="how-the-system-works"></a><span data-ttu-id="df12e-121">Funcionamiento del sistema</span><span class="sxs-lookup"><span data-stu-id="df12e-121">How the system works</span></span>
<span data-ttu-id="df12e-122">En un segundo plano, Azure RemoteApp implementa máquinas virtuales de Azure (con tu imagen cargada) a la subred de red virtual que elegiste durante el aprovisionamiento.</span><span class="sxs-lookup"><span data-stu-id="df12e-122">Under the covers Azure RemoteApp deploys Azure virtual machines (with your uploaded image) to the virtual network subnet that you chose during provisioning.</span></span> <span data-ttu-id="df12e-123">Si optaste por una colección híbrida, se intenta resolver el FQDN del controlador de dominio que escribiste en el flujo de trabajo de aprovisionamiento con el servidor DNS proporcionado en la red virtual.</span><span class="sxs-lookup"><span data-stu-id="df12e-123">If you opted for a hybrid collection, we try to resolve the FQDN of the domain controller you entered in the provisioning workflow with the DNS server provided in the virtual network.</span></span>  
<span data-ttu-id="df12e-124">Si te conectas a una red virtual existente, asegúrate de exponer los puertos necesarios en los grupos de seguridad de red en la subred de Azure RemoteApp.</span><span class="sxs-lookup"><span data-stu-id="df12e-124">If you are connecting to an existing virtual network, make sure to expose the necessary ports in your network security groups in your Azure RemoteApp subnet.</span></span> 

<span data-ttu-id="df12e-125">Se recomienda usar una [subred lo suficientemente grande como para Azure RemoteApp](remoteapp-vnetsizing.md).</span><span class="sxs-lookup"><span data-stu-id="df12e-125">We recommend you use a [large enough  subnet for Azure RemoteApp](remoteapp-vnetsizing.md).</span></span> <span data-ttu-id="df12e-126">La más grande compatible con la Red virtual de Azure es de /8 (usando las definiciones de subred CIDR).</span><span class="sxs-lookup"><span data-stu-id="df12e-126">The largest supported by Azure Virtual network is /8 (using CIDR subnet definitions).</span></span> <span data-ttu-id="df12e-127">La subred tiene que ser lo suficientemente grande como para dar cabida a todas las VM de Azure RemoteApp durante la escala vertical cuando hay más usuarios accediendo a las aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="df12e-127">Your subnet should be large enough to accommodate all the Azure RemoteApp VMs during scale-up when more users are accessing the apps.</span></span> 

<span data-ttu-id="df12e-128">Esto es lo que tienes que habilitar en la subred de red virtual:</span><span class="sxs-lookup"><span data-stu-id="df12e-128">Following are the things you will need to enable on your virtual network subnet:</span></span> 

1. <span data-ttu-id="df12e-129">Se debe permitir el tráfico saliente de la subred en el intervalo de puertos 10101-10175 para que se pueda comunicar con uno de los servicios internos de Azure RemoteApp.</span><span class="sxs-lookup"><span data-stu-id="df12e-129">Outbound traffic from the subnet should be allowed on port range 10101-10175 to communicate with one of the internal Azure RemoteApp services.</span></span>
2. <span data-ttu-id="df12e-130">Se debe permitir el tráfico saliente desde tu subred para que se pueda conectar al almacenamiento de Azure en el puerto 443</span><span class="sxs-lookup"><span data-stu-id="df12e-130">Outbound traffic should be allowed from your subnet to connect to Azure Storage on port 443</span></span>
3. <span data-ttu-id="df12e-131">Si dispones de Active Directory hospedado en Azure, asegúrate de que todas las VM de la subred de red virtual de RemoteApp de Azure se pueden conxtar a ese controlador de dominio.</span><span class="sxs-lookup"><span data-stu-id="df12e-131">If you have Active Directory hosted in Azure, make sure any VM within the virtual network subnet for Azure RemoteApp is able to connect to that domain controller.</span></span> <span data-ttu-id="df12e-132">El DNS de la red virtual tiene que poder resolver el FQDN de este controlador de dominio.</span><span class="sxs-lookup"><span data-stu-id="df12e-132">The DNS in the virtual network should be able to resolve the FQDN of this domain controller.</span></span>

## <a name="virtual-network-with-forced-tunneling"></a><span data-ttu-id="df12e-133">Red virtual con tunelización forzada</span><span class="sxs-lookup"><span data-stu-id="df12e-133">Virtual network with forced tunneling</span></span>
<span data-ttu-id="df12e-134">[Tunelización forzada](../vpn-gateway/vpn-gateway-about-forced-tunneling.md) es compatible con todas las colecciones nuevas de Azure RemoteApp.</span><span class="sxs-lookup"><span data-stu-id="df12e-134">[Forced tunneling](../vpn-gateway/vpn-gateway-about-forced-tunneling.md) is now supported for all new Azure RemoteApp collections.</span></span> <span data-ttu-id="df12e-135">Actualmente no se admite que la migración de una colección existente admita la tunelización forzada.</span><span class="sxs-lookup"><span data-stu-id="df12e-135">We currently do not support the migration of an existing collection to support forced tunneling.</span></span>  <span data-ttu-id="df12e-136">Tendrás que eliminar todas las colecciones existentes mediante la VNET que quieres vincular a Azure RemoteApp y crear una nueva para tener habilitada la tunelización forzada en las colecciones.</span><span class="sxs-lookup"><span data-stu-id="df12e-136">You will have to delete all your existing collections using the VNET that you are linking to Azure RemoteApp and create a new one to get forced tunneling enabled on your collections.</span></span> 

