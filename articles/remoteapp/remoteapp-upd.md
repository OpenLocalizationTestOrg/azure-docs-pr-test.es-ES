---
title: "¿Cómo guarda Azure RemoteApp la configuración y datos de usuario? | Microsoft Docs"
description: "Descubra cómo Azure RemoteApp guarda los datos de usuario usando el disco de perfil de usuario."
services: remoteapp
documentationcenter: 
author: msmbaldwin
manager: mbaldwin
ms.assetid: e125af62-5c1a-4186-a238-52f537f7bb34
ms.service: remoteapp
ms.workload: compute
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 04/26/2017
ms.author: mbaldwin
ms.openlocfilehash: 4993bf507536659d7951e1552559cf0a6061d345
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 07/11/2017
---
# <a name="how-does-azure-remoteapp-save-user-data-and-settings"></a><span data-ttu-id="ee1d0-104">¿Cómo guarda Azure RemoteApp la configuración y datos de usuario?</span><span class="sxs-lookup"><span data-stu-id="ee1d0-104">How does Azure RemoteApp save user data and settings?</span></span>
> [!IMPORTANT]
> <span data-ttu-id="ee1d0-105">Azure RemoteApp dejará de estar disponible el 31 de agosto de 2017.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-105">Azure RemoteApp is being discontinued on August 31, 2017.</span></span> <span data-ttu-id="ee1d0-106">Para obtener más información, lea el [anuncio](https://go.microsoft.com/fwlink/?linkid=821148) .</span><span class="sxs-lookup"><span data-stu-id="ee1d0-106">Read the [announcement](https://go.microsoft.com/fwlink/?linkid=821148) for details.</span></span>
> 
> 

<span data-ttu-id="ee1d0-107">Azure RemoteApp guarda la identidad y las personalizaciones de los usuarios en dispositivos y sesiones.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-107">Azure RemoteApp saves user identity and customizations across devices and sessions.</span></span> <span data-ttu-id="ee1d0-108">Estos datos de los usuarios se almacenan en un disco para cada colección y cada usuario, conocido como disco de perfil de usuario (UDP).</span><span class="sxs-lookup"><span data-stu-id="ee1d0-108">This user data is stored in a per-user per-collection disk, known as a user profile disk (UPD).</span></span> <span data-ttu-id="ee1d0-109">El disco sigue al usuario y garantiza que este tenga una experiencia coherente, independientemente de donde inicie sesión.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-109">The disk follows the user and ensures the user has a consistent experience, regardless of where they sign in.</span></span>

<span data-ttu-id="ee1d0-110">Los discos de perfil de usuario son completamente transparentes ante el usuario. Los usuarios guardan documentos en su carpeta de documentos (en lo que parece ser una unidad local) y cambian la configuración de sus aplicaciones como de costumbre).</span><span class="sxs-lookup"><span data-stu-id="ee1d0-110">User profile disks are completely transparent to the user — users save documents to their Documents folder (on what appears to be a local drive) and change their app settings as usual.</span></span> <span data-ttu-id="ee1d0-111">Al mismo tiempo, se conservan todas las configuraciones personales al conectarse a Azure RemoteApp desde cualquier dispositivo.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-111">At the same time, all personal settings persist when connecting to Azure RemoteApp from any device.</span></span> <span data-ttu-id="ee1d0-112">El usuario ve es sus datos en el mismo lugar.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-112">All the user sees is their data in the same place.</span></span>

<span data-ttu-id="ee1d0-113">Cada UPD tiene 50 GB de almacenamiento persistente y contiene datos de usuarios y configuraciones de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-113">Each UPD has 50GB of persistent storage and contains both user data and application settings.</span></span> 

<span data-ttu-id="ee1d0-114">Siga leyendo para obtener información específica sobre los datos del perfil de usuario.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-114">Read on for specifics on user profile data.</span></span>

> [!NOTE]
> <span data-ttu-id="ee1d0-115">¿Necesidad de deshabilitar el UPD?</span><span class="sxs-lookup"><span data-stu-id="ee1d0-115">Need to disable the UPD?</span></span> <span data-ttu-id="ee1d0-116">Puede hacerlo ahora: compruebe la entrada de blog de Pavithra, [Deshabilitar discos de perfil de usuario (UPD) en Azure RemoteApp](https://blogs.technet.microsoft.com/enterprisemobility/2015/11/11/disable-user-profile-disks-upds-in-azure-remoteapp/), para más información.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-116">You can do that now - check out Pavithra's blog post, [Disable User Profile Disks (UPDs) in Azure RemoteApp](https://blogs.technet.microsoft.com/enterprisemobility/2015/11/11/disable-user-profile-disks-upds-in-azure-remoteapp/), for details.</span></span>
> 
> 

## <a name="how-can-an-admin-get-to-the-data"></a><span data-ttu-id="ee1d0-117">¿Cómo puede un administrador acceder a los datos?</span><span class="sxs-lookup"><span data-stu-id="ee1d0-117">How can an admin get to the data?</span></span>
<span data-ttu-id="ee1d0-118">Si necesita obtener acceso a los datos de uno de los usuarios (para efectuar la recuperación ante desastres o si el usuario abandona la empresa), póngase en contacto con el soporte técnico de Azure y ofrezca la información de suscripción de la recopilación y la identidad del usuario.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-118">If you need to access the data for one of your users (for disaster recovery or if the user leaves the company), contact Azure Support and provide the subscription information for the collection and the user identity.</span></span> <span data-ttu-id="ee1d0-119">El equipo de Azure RemoteApp le proporcionará una dirección URL para el disco duro virtual.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-119">The Azure RemoteApp team will provide you a URL to the VHD.</span></span> <span data-ttu-id="ee1d0-120">Descargue ese VHD y recupere los documentos o archivos que necesite.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-120">Download that VHD and retrieve any documents or files you need.</span></span> <span data-ttu-id="ee1d0-121">Tenga en cuenta que el disco duro virtual es de 50 GB, por lo que tardará un poco en descargarlo.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-121">Note that the VHD is 50GB, so it will take a bit to download it.</span></span>

## <a name="is-the-data-backed-up"></a><span data-ttu-id="ee1d0-122">¿Se efectúa una copia de seguridad de los datos?</span><span class="sxs-lookup"><span data-stu-id="ee1d0-122">Is the data backed up?</span></span>
<span data-ttu-id="ee1d0-123">Sí, se guarda una copia de seguridad de los datos del usuario por ubicación geográfica.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-123">Yes, we save a backup of the user data per geographic location.</span></span> <span data-ttu-id="ee1d0-124">Los datos son de solo lectura y se puede tener acceso a ellos de la misma manera que a los datos normales (póngase en contacto con Azure RemoteApp para conocer la forma de hacerlo) si el centro de datos principal está inactivo.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-124">The data is read-only and can be accessed in the same way as the regular data would be (contact Azure RemoteApp to get it), if the primary data center is down.</span></span> <span data-ttu-id="ee1d0-125">Los datos se copian en tiempo real a la ubicación de copia de seguridad, y no conservamos copias de las distintas versiones.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-125">The data is copied real-time to the backup location and we do not keep copies of different versions.</span></span> <span data-ttu-id="ee1d0-126">Por lo tanto, en caso de daño en los datos, no podremos restaurarlos a una versión buena conocida anteriormente; sin embargo, si el centro de datos principal está inactivo, podrá obtener los datos del usuario desde la otra ubicación.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-126">So, on data corruption, we will not be able to restore it to a previously known good version but if the primary data center is down, you will be able to get user data from the other location.</span></span>

## <a name="how-do-users-see-the-upd-on-the-server-side"></a><span data-ttu-id="ee1d0-127">¿Cómo ven los usuarios el UPD en el servidor?</span><span class="sxs-lookup"><span data-stu-id="ee1d0-127">How do users see the UPD on the server side?</span></span>
<span data-ttu-id="ee1d0-128">Cada usuario tendrá su propio directorio en el servidor que se asigna a su UPD: c:\Users\username.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-128">Each user will have their own directory on the server that maps to their UPD: c:\Users\username.</span></span>

## <a name="whats-the-best-way-to-use-outlook-and-upd"></a><span data-ttu-id="ee1d0-129">¿Cuál es la mejor manera de usar Outlook y UPD?</span><span class="sxs-lookup"><span data-stu-id="ee1d0-129">What's the best way to use Outlook and UPD?</span></span>
<span data-ttu-id="ee1d0-130">Azure RemoteApp guarda el estado de Outlook (buzones, PST) entre sesiones.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-130">Azure RemoteApp saves the Outlook state (mailboxes, PSTs) between sessions.</span></span> <span data-ttu-id="ee1d0-131">Para ello, necesitamos que el PST se almacene en los datos del perfil de usuario (c:\users\<username>).</span><span class="sxs-lookup"><span data-stu-id="ee1d0-131">To enable this, we need the PST to be stored in the user profile data (c:\users\<username>).</span></span> <span data-ttu-id="ee1d0-132">Se trata de la ubicación predeterminada de los datos, por lo que siempre y cuando no cambie la ubicación, se conservarán los datos entre sesiones.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-132">This is the default location for the data, so as long as you do not change the location, the data will persist between sessions.</span></span>

<span data-ttu-id="ee1d0-133">También se recomienda usar el modo "en caché" en Outlook y usar el modo "servidor/online" para buscar.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-133">We also recommend that you use "cached" mode in Outlook and use "server/online" mode for searching.</span></span>

<span data-ttu-id="ee1d0-134">Consulte [este artículo](remoteapp-outlook.md) para más información sobre el uso de Outlook y Azure RemoteApp.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-134">Check out [this article](remoteapp-outlook.md) for more information on using Outlook and Azure RemoteApp.</span></span>

## <a name="what-about-redirection"></a><span data-ttu-id="ee1d0-135">Información acerca del redireccionamiento</span><span class="sxs-lookup"><span data-stu-id="ee1d0-135">What about redirection?</span></span>
<span data-ttu-id="ee1d0-136">Puede configurar Azure RemoteApp para permitir a los usuarios obtener acceso a dispositivos locales configurando el [redireccionamiento](remoteapp-redirection.md).</span><span class="sxs-lookup"><span data-stu-id="ee1d0-136">You can configure Azure RemoteApp to let users access local devices by setting up [redirection](remoteapp-redirection.md).</span></span> <span data-ttu-id="ee1d0-137">A continuación, los dispositivos locales podrán tener acceso a los datos en el UPD.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-137">Local devices will then be able to access the data on the UPD.</span></span>

## <a name="can-i-use-my-upd-as-a-network-share"></a><span data-ttu-id="ee1d0-138">¿Puedo usar mi UPD como un recurso compartido de red?</span><span class="sxs-lookup"><span data-stu-id="ee1d0-138">Can I use my UPD as a network share?</span></span>
<span data-ttu-id="ee1d0-139">No.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-139">No.</span></span> <span data-ttu-id="ee1d0-140">Los UPD no pueden utilizarse como un recurso compartido de red.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-140">UPDs cannot be used as a network share.</span></span> <span data-ttu-id="ee1d0-141">Los UPD solo están disponibles si el usuario está conectado activamente a Azure RemoteApp.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-141">A UPD is only available to the user when the user is actively connected to Azure RemoteApp.</span></span>

## <a name="if-i-delete-a-user-from-a-collection-is-their-upd-deleted"></a><span data-ttu-id="ee1d0-142">Si se elimina un usuario de una colección, ¿se elimina su UPD?</span><span class="sxs-lookup"><span data-stu-id="ee1d0-142">If I delete a user from a collection, is their UPD deleted?</span></span>
<span data-ttu-id="ee1d0-143">No, cuando se elimina un usuario, no se elimina automáticamente el UPD. En su lugar, almacenamos los datos hasta que se elimina la colección.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-143">No, when you delete a user, we do not automatically delete the UPD - instead, we store the data until you delete the collection.</span></span> <span data-ttu-id="ee1d0-144">90 días después de eliminar la colección, eliminamos todos los UPD.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-144">90 days after you delete the collection, we delete all UPDs.</span></span> 

<span data-ttu-id="ee1d0-145">Si necesita eliminar un UPD de una colección, póngase en contacto con Azure RemoteApp (podemos eliminar UPD desde nuestra ubicación).</span><span class="sxs-lookup"><span data-stu-id="ee1d0-145">If you need to delete a UPD from a collection, contact Azure RemoteApp - we can delete UPD from our side.</span></span>

## <a name="can-i-access-my-users-upds-either-current-or-deleted-users"></a><span data-ttu-id="ee1d0-146">¿Puedo acceder a los UPD de mis usuarios (de los usuarios actuales o eliminados)?</span><span class="sxs-lookup"><span data-stu-id="ee1d0-146">Can I access my users' UPDs (either current or deleted users)?</span></span>
<span data-ttu-id="ee1d0-147">Sí, si se pone en contacto con [Azure RemoteApp](mailto:remoteappforum@microsoft.com), podemos configurarlo con una dirección URL para tener acceso a los datos.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-147">Yes, if you contact [Azure RemoteApp](mailto:remoteappforum@microsoft.com), we can set you up with a URL to access the data.</span></span> <span data-ttu-id="ee1d0-148">Tendrá aproximadamente 10 horas para descargar los datos o los archivos del UPD antes de que caduque el acceso.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-148">You'll have about 10 hours to download any data or files from the UPD before the access expires.</span></span>

## <a name="are-upds-available-offline"></a><span data-ttu-id="ee1d0-149">¿Están los UPD disponibles sin conexión?</span><span class="sxs-lookup"><span data-stu-id="ee1d0-149">Are UPDs available offline?</span></span>
<span data-ttu-id="ee1d0-150">En estos momentos no proporcionamos acceso sin conexión a UPD, aparte de las 10 horas de acceso descritas anteriormente.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-150">Right now we do not provide offline access to UPDs, beyond the 10 hour access window described above.</span></span> <span data-ttu-id="ee1d0-151">Esto significa que actualmente no tenemos manera de proporcionarle acceso durante el tiempo suficiente para completar las tareas más complicadas, como ejecutar software antivirus en los UPD o tener acceso a los datos para efectuar una auditoría.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-151">This means that we do not currently have a way to provide you with access for long enough to complete more complicated tasks, like running anti-virus software on the UPDs or accessing data for an audit.</span></span>

## <a name="do-registry-key-settings-persist"></a><span data-ttu-id="ee1d0-152">¿La configuración de la clave del Registro se conserva?</span><span class="sxs-lookup"><span data-stu-id="ee1d0-152">Do registry key settings persist?</span></span>
<span data-ttu-id="ee1d0-153">Sí, todo lo escrito en HKEY_Current_User forma parte de los UPD.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-153">Yes, anything written to HKEY_Current_User is part of the UPD.</span></span>

## <a name="can-i-disable-upds-for-a-collection"></a><span data-ttu-id="ee1d0-154">¿Puedo deshabilitar los UPD para una colección?</span><span class="sxs-lookup"><span data-stu-id="ee1d0-154">Can I disable UPDs for a collection?</span></span>
<span data-ttu-id="ee1d0-155">Sí, puede pedir a Azure RemoteApp que deshabilite los UPD para una suscripción, pero no puede hacerlo usted.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-155">Yes, you can ask Azure RemoteApp to disable UPDs for a subscription, but you cannot do that yourself.</span></span> <span data-ttu-id="ee1d0-156">Esto significa que los UPD se deshabilitarán para todas las colecciones de la suscripción.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-156">This means that UPDs will be disabled for all collections in the subscription.</span></span>

<span data-ttu-id="ee1d0-157">Es posible que quiera deshabilitar UPD en cualquiera de las siguientes situaciones:</span><span class="sxs-lookup"><span data-stu-id="ee1d0-157">You might want to disable UPDs in any of the following situations:</span></span> 

* <span data-ttu-id="ee1d0-158">Debe completar el acceso y el control de los datos de usuario (para fines de auditoría y revisión como instituciones financieras).</span><span class="sxs-lookup"><span data-stu-id="ee1d0-158">You need complete access and control of user data (for audit and review purposes such as financial institutions).</span></span>
* <span data-ttu-id="ee1d0-159">Dispone de soluciones de administración de perfiles de usuario de terceros locales y quiere seguir usándolas en su implementación de Azure RemoteApp unida al dominio.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-159">You have 3rd-party user profile management solutions on-premises and want to continue using them in your domain-joined Azure RemoteApp deployment.</span></span> <span data-ttu-id="ee1d0-160">Esto requeriría que se cargue el agente de perfil en la imagen dorada.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-160">This would require the profile agent to be loaded into the gold image.</span></span> 
* <span data-ttu-id="ee1d0-161">No necesita ningún almacenamiento de datos local o tiene todos los datos en la nube o un recurso compartido de archivos y quiere controlar el almacenamiento local de datos con Azure RemoteApp.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-161">You don’t need any local data storage or you have all data in the cloud or file share and would like to control saving of data locally using Azure RemoteApp.</span></span>

<span data-ttu-id="ee1d0-162">Vea [Deshabilitar discos de perfil de usuario (UPD) en Azure RemoteApp](https://blogs.technet.microsoft.com/enterprisemobility/2015/11/11/disable-user-profile-disks-upds-in-azure-remoteapp/) para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-162">See  [Disable User Profile Disks (UPDs) in Azure RemoteApp](https://blogs.technet.microsoft.com/enterprisemobility/2015/11/11/disable-user-profile-disks-upds-in-azure-remoteapp/) for more information.</span></span>

## <a name="can-i-restrict-users-from-saving-data-to-the-system-drive"></a><span data-ttu-id="ee1d0-163">¿Puedo impedir que los usuarios guardar los datos en la unidad del sistema?</span><span class="sxs-lookup"><span data-stu-id="ee1d0-163">Can I restrict users from saving data to the system drive?</span></span>
<span data-ttu-id="ee1d0-164">Sí, pero deberá configurarla en la imagen de la plantilla antes de crear la colección.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-164">Yes, but you'll need to set that up in the template image before you create the collection.</span></span> <span data-ttu-id="ee1d0-165">Lleve a cabo los pasos siguientes para bloquear el acceso a la unidad del sistema:</span><span class="sxs-lookup"><span data-stu-id="ee1d0-165">Use the following steps to block access to the system drive:</span></span>

1. <span data-ttu-id="ee1d0-166">Ejecute **gpedit.msc** en la imagen de la plantilla.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-166">Run **gpedit.msc** on the template image.</span></span>
2. <span data-ttu-id="ee1d0-167">Vaya a **Configuración de usuario > Plantillas administrativas > Componentes de Windows > Explorador**.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-167">Navigate to **User Configuration > Administrative Templates > Windows Components > Explorer**.</span></span>
3. <span data-ttu-id="ee1d0-168">Seleccione las opciones siguientes:</span><span class="sxs-lookup"><span data-stu-id="ee1d0-168">Select the following options:</span></span>
   * <span data-ttu-id="ee1d0-169">**Ocultar estas unidades especificadas en Mi PC**</span><span class="sxs-lookup"><span data-stu-id="ee1d0-169">**Hide these specified drives in My Computer**</span></span>
   * <span data-ttu-id="ee1d0-170">**Impedir el acceso a las unidades desde Mi PC**</span><span class="sxs-lookup"><span data-stu-id="ee1d0-170">**Prevent access to drives from My Computer**</span></span>

## <a name="can-i-seed-upds-i-want-to-put-some-data-in-the-upd-thats-available-the-first-time-the-user-signs-in"></a><span data-ttu-id="ee1d0-171">¿Se pueden propagar los UPD?</span><span class="sxs-lookup"><span data-stu-id="ee1d0-171">Can I seed UPDs?</span></span> <span data-ttu-id="ee1d0-172">Deseo colocar algunos datos en el UPD que está disponible la primera vez que el usuario inicia sesión.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-172">I want to put some data in the UPD that's available the first time the user signs in.</span></span>
<span data-ttu-id="ee1d0-173">Sí, al crear la imagen de plantilla, puede agregar información al perfil predeterminado.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-173">Yes, when you create the template image, you can add information to the default profile.</span></span> <span data-ttu-id="ee1d0-174">A continuación, esa información se agrega al UPD.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-174">That information is then added to the UPD.</span></span>

## <a name="can-i-change-the-size-of-the-upd-depending-on-how-much-data-i-want-to-store"></a><span data-ttu-id="ee1d0-175">¿Puedo cambiar el tamaño del UPD en función de la cantidad de datos que deseo almacenar?</span><span class="sxs-lookup"><span data-stu-id="ee1d0-175">Can I change the size of the UPD depending on how much data I want to store?</span></span>
<span data-ttu-id="ee1d0-176">No, todos los UPD tienen 50 GB de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-176">No, all UPDs have 50 GB of storage.</span></span> <span data-ttu-id="ee1d0-177">Si desea almacenar distintas cantidades de datos, intente lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="ee1d0-177">If you want to store different amounts of data, try the following:</span></span>

1. <span data-ttu-id="ee1d0-178">Deshabilite los UPD para la colección.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-178">Disable UPDs for the collection.</span></span>
2. <span data-ttu-id="ee1d0-179">Configure un recurso compartido de archivos para que accedan los usuarios.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-179">Set up a file share for users to access.</span></span>
3. <span data-ttu-id="ee1d0-180">Cargue el recurso compartido de archivos mediante un script de inicio.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-180">Load the file share by using a startup script.</span></span> <span data-ttu-id="ee1d0-181">Consulte a continuación para obtener detalles sobre los scripts de inicio en Azure RemoteApp.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-181">See below for details on startup scripts in Azure RemoteApp.</span></span>
4. <span data-ttu-id="ee1d0-182">Indique a los usuarios que guarden todos los datos en el recurso compartido de archivos.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-182">Direct users to save all data to the file share.</span></span>

## <a name="how-do-i-run-a-startup-script-in-azure-remoteapp"></a><span data-ttu-id="ee1d0-183">¿Cómo se ejecuta un script de inicio en Azure RemoteApp?</span><span class="sxs-lookup"><span data-stu-id="ee1d0-183">How do I run a startup script in Azure RemoteApp?</span></span>
<span data-ttu-id="ee1d0-184">Si desea ejecutar un script de inicio, comience por crear una tarea programada en la imagen de plantilla que se va a usar para la colección.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-184">If you want to run a startup script, start by creating a scheduled task in the template image you are going to use for the collection.</span></span> <span data-ttu-id="ee1d0-185">(Haga esto *antes* de ejecutar sysprep).</span><span class="sxs-lookup"><span data-stu-id="ee1d0-185">(Do this *before* you run sysprep.)</span></span> 

![Crear una tarea del sistema](./media/remoteapp-upd/upd1.png)

![Crear una tarea del sistema que se ejecute cuando un usuario inicia sesión](./media/remoteapp-upd/upd2.png)

<span data-ttu-id="ee1d0-188">En la pestaña **General**, asegúrese de cambiar la **Cuenta de usuario** que aparece en Seguridad a BUILTIN\Users.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-188">On the **General** tab, be sure to change the **User Account** under Security to "BUILTIN\Users."</span></span>

![Cambiar la cuenta de usuario a un grupo](./media/remoteapp-upd/upd4.png)

<span data-ttu-id="ee1d0-190">La tarea programada iniciará el script de inicio usando las credenciales del usuario.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-190">The scheduled task will launch your startup script, using the user's credentials.</span></span> <span data-ttu-id="ee1d0-191">Programe la tarea para ejecutarse cada una vez que un usuario inicie sesión.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-191">Schedule the task to run every a time a user logs on.</span></span>

![Establezca el desencadenador para la tarea como "Al iniciar la sesión"](./media/remoteapp-upd/upd3.png)

<span data-ttu-id="ee1d0-193">También puede usar [Scripts de inicio basados en directivas de grupo](https://technet.microsoft.com/library/cc779329%28v=ws.10%29.aspx).</span><span class="sxs-lookup"><span data-stu-id="ee1d0-193">You can also use [Group Policy-based startup scripts](https://technet.microsoft.com/library/cc779329%28v=ws.10%29.aspx).</span></span> 

## <a name="what-about-placing-a-startup-script-in-the-start-menu-would-that-work"></a><span data-ttu-id="ee1d0-194">¿Qué sucede si se coloca un script de inicio en el menú Inicio?</span><span class="sxs-lookup"><span data-stu-id="ee1d0-194">What about placing a startup script in the Start menu?</span></span> <span data-ttu-id="ee1d0-195">¿Funcionaría?</span><span class="sxs-lookup"><span data-stu-id="ee1d0-195">Would that work?</span></span>
<span data-ttu-id="ee1d0-196">En otras palabras, ¿puedo crear un archivo .bat que ejecute un script de ventana de configuración y guardarlo en la carpeta c:\ProgramData\Microsoft\Windows\Start Menu\Programs\StartUp y, a continuación, que ese script se ejecute cuando un usuario inicie una sesión de RemoteApp?</span><span class="sxs-lookup"><span data-stu-id="ee1d0-196">In other words, can I create a .bat file that runs a config window script and save it to the c:\ProgramData\Microsoft\Windows\Start Menu\Programs\StartUp folder, and then have that script run whenever a user starts a RemoteApp session?</span></span>

<span data-ttu-id="ee1d0-197">No, eso no es compatible con Azure RemoteApp, que usa RDSH, que a su vez tampoco admite scripts de inicio en el menú Inicio.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-197">No, that's not supported with Azure RemoteApp, which uses RDSH, which also does not support startup scripts in the Start menu.</span></span>

## <a name="can-i-use-mstscexe-the-remote-desktop-program-to-configure-logon-scripts"></a><span data-ttu-id="ee1d0-198">¿Puedo usar mstsc.exe (el programa de escritorio remoto) para configurar scripts de inicio de sesión?</span><span class="sxs-lookup"><span data-stu-id="ee1d0-198">Can I use mstsc.exe (the Remote Desktop program) to configure logon scripts?</span></span>
<span data-ttu-id="ee1d0-199">No, no es compatible con Azure RemoteApp.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-199">Nope, not supported by Azure RemoteApp.</span></span>

## <a name="can-i-store-data-on-the-vm-locally"></a><span data-ttu-id="ee1d0-200">¿Se pueden almacenar datos en la máquina virtual de forma local?</span><span class="sxs-lookup"><span data-stu-id="ee1d0-200">Can I store data on the VM locally?</span></span>
<span data-ttu-id="ee1d0-201">No, los datos almacenados en un lugar distinto del UPD dentro de la máquina virtual se perderán.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-201">NO, data stored anywhere on the VM other than in the UPD will be lost.</span></span> <span data-ttu-id="ee1d0-202">Hay muchas posibilidades de que el usuario no disponga de la misma máquina virtual la siguiente vez que inicie sesión en Azure RemoteApp.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-202">There is a high chance the user will not get the same VM the next time that they sign into Azure RemoteApp.</span></span> <span data-ttu-id="ee1d0-203">No mantenemos la persistencia de VM del usuario, de modo que el usuario no iniciará sesión en la misma máquina virtual y los datos se perderán.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-203">We do not maintain user-VM persistence, so the user will not sign into the same VM, and the data will be lost.</span></span> <span data-ttu-id="ee1d0-204">Además, cuando se actualiza la colección, las máquinas virtuales existentes se reemplazan por un nuevo conjunto de máquinas virtuales, lo que significa que los datos almacenados en la propia VM se pierden.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-204">Additionally, when we update the collection, the existing VMs are replaced with a new set of VMs - that means any data stored on the VM itself is lost.</span></span> <span data-ttu-id="ee1d0-205">La recomendación es almacenar los datos en el UPD, en el almacenamiento compartido, como archivos de Azure, en un servidor de archivos dentro de una red virtual o en la nube con un sistema de almacenamiento en la nube, como DropBox.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-205">The recommendation is to store data in the UPD, shared storage like Azure Files, a file server inside a VNET, or on the cloud using a cloud storage system like DropBox.</span></span>

## <a name="how-do-i-mount-an-azure-file-share-on-a-vm-using-powershell"></a><span data-ttu-id="ee1d0-206">¿Cómo se puede montar un recurso compartido de Archivos de Azure en una máquina virtual usando PowerShell?</span><span class="sxs-lookup"><span data-stu-id="ee1d0-206">How do I mount an Azure File share on a VM, using PowerShell?</span></span>
<span data-ttu-id="ee1d0-207">Se puede usar el cmdlet de Net-PSDrive para montar la unidad como se indica:</span><span class="sxs-lookup"><span data-stu-id="ee1d0-207">You can use the Net-PSDrive cmdlet to mount the drive, as follows:</span></span>

    New-PSDrive -Name <drive-name> -PSProvider FileSystem -Root \\<storage-account-name>.file.core.windows.net\<share-name> -Credential :<storage-account-name>


<span data-ttu-id="ee1d0-208">También se pueden guardar las credenciales ejecutando lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="ee1d0-208">You can also save your credentials by running the following:</span></span>

    cmdkey /add:<storage-account-name>.file.core.windows.net /user:<storage-account-name> /pass:<storage-account-key>


<span data-ttu-id="ee1d0-209">Así, se puede omitir el parámetro -Credential en el cmdlet New-PSDrive.</span><span class="sxs-lookup"><span data-stu-id="ee1d0-209">That lets you skip the -Credential parameter in the New-PSDrive cmdlet.</span></span>

