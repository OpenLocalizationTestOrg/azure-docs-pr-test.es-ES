---
title: "Azure Active Directory B2C: aplicaciones de una página con el flujo implícito | Microsoft Docs"
description: "Obtenga información acerca de cómo toobuild página aplicaciones directamente mediante el uso de OAuth 2.0 implícita fluyen con Azure Active Directory B2C."
services: active-directory-b2c
documentationcenter: 
author: parakhj
manager: krassk
editor: parakhj
ms.assetid: a45cc74c-a37e-453f-b08b-af75855e0792
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 02/06/2017
ms.author: parakhj
ms.openlocfilehash: 5e52abc18fe545f0f6d1745cdb2ea42c5b2698cc
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="azure-ad-b2c-single-page-app-sign-in-by-using-oauth-20-implicit-flow"></a><span data-ttu-id="51b66-103">Azure AD B2C: inicio de sesión de aplicaciones de una página con el flujo implícito de OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="51b66-103">Azure AD B2C: Single-page app sign-in by using OAuth 2.0 implicit flow</span></span>

> [!NOTE]
> <span data-ttu-id="51b66-104">Esta característica se encuentra en su versión preliminar.</span><span class="sxs-lookup"><span data-stu-id="51b66-104">This feature is in preview.</span></span>
> 

<span data-ttu-id="51b66-105">Muchas aplicaciones modernas tienen un front-end de aplicación de una página escrito principalmente en JavaScript.</span><span class="sxs-lookup"><span data-stu-id="51b66-105">Many modern apps have a single-page app front end that primarily is written in JavaScript.</span></span> <span data-ttu-id="51b66-106">A menudo, la aplicación hello se escribe con el marco como AngularJS, Ember.js o Durandal.</span><span class="sxs-lookup"><span data-stu-id="51b66-106">Often, hello app is written by using a framework like AngularJS, Ember.js, or Durandal.</span></span> <span data-ttu-id="51b66-107">Las aplicaciones de una sola página y otras aplicaciones JavaScript que se ejecutan principalmente en un explorador tienen algunos retos adicionales para la autenticación:</span><span class="sxs-lookup"><span data-stu-id="51b66-107">Single-page apps and other JavaScript apps that run primarily in a browser have some additional challenges for authentication:</span></span>

* <span data-ttu-id="51b66-108">características de seguridad de Hola de estas aplicaciones son significativamente diferentes de las aplicaciones web tradicionales basados en servidor.</span><span class="sxs-lookup"><span data-stu-id="51b66-108">hello security characteristics of these apps are significantly different from traditional server-based web applications.</span></span>
* <span data-ttu-id="51b66-109">Muchos proveedores de identidades y servidores de autorización no admiten solicitudes de uso compartido de recursos entre orígenes (CORS).</span><span class="sxs-lookup"><span data-stu-id="51b66-109">Many authorization servers and identity providers do not support cross-origin resource sharing (CORS) requests.</span></span>
* <span data-ttu-id="51b66-110">Las redirecciones de página completa explorador fuera de la aplicación hello pueden ser toohello invasiva considerablemente la experiencia del usuario.</span><span class="sxs-lookup"><span data-stu-id="51b66-110">Full-page browser redirects away from hello app can be significantly invasive toohello user experience.</span></span>

<span data-ttu-id="51b66-111">toosupport estas aplicaciones, Azure Active Directory B2C (Azure AD B2C) usa flujo implícito hello OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="51b66-111">toosupport these applications, Azure Active Directory B2C (Azure AD B2C) uses hello OAuth 2.0 implicit flow.</span></span> <span data-ttu-id="51b66-112">se describe el flujo de concesión implícita de autorización de Hello OAuth 2.0 en [sección 4.2 de especificación de hello OAuth 2.0](http://tools.ietf.org/html/rfc6749).</span><span class="sxs-lookup"><span data-stu-id="51b66-112">hello OAuth 2.0 authorization implicit grant flow is described in [section 4.2 of hello OAuth 2.0 specification](http://tools.ietf.org/html/rfc6749).</span></span> <span data-ttu-id="51b66-113">En el flujo implícito, aplicación hello recibe los tokens directamente de hello Azure Active Directory (Azure AD) autorizar el punto de conexión, sin ningún servidor a servidor exchange.</span><span class="sxs-lookup"><span data-stu-id="51b66-113">In implicit flow, hello app receives tokens directly from hello Azure Active Directory (Azure AD) authorize endpoint, without any server-to-server exchange.</span></span> <span data-ttu-id="51b66-114">Todos los lógica de autenticación y control de la toma de la sesión colocan completamente en el cliente de JavaScript de hello, sin las redirecciones de páginas adicionales.</span><span class="sxs-lookup"><span data-stu-id="51b66-114">All authentication logic and session handling takes place entirely in hello JavaScript client, without additional page redirects.</span></span>

<span data-ttu-id="51b66-115">Azure AD B2C amplía hello toomore de flujo implícitos de OAuth 2.0 estándar de autorización y autenticación simples.</span><span class="sxs-lookup"><span data-stu-id="51b66-115">Azure AD B2C extends hello standard OAuth 2.0 implicit flow toomore than simple authentication and authorization.</span></span> <span data-ttu-id="51b66-116">Azure AD B2C presenta hello [parámetro policy](active-directory-b2c-reference-policies.md).</span><span class="sxs-lookup"><span data-stu-id="51b66-116">Azure AD B2C introduces hello [policy parameter](active-directory-b2c-reference-policies.md).</span></span> <span data-ttu-id="51b66-117">Con el parámetro de directiva de hello, puede usar OAuth 2.0 tooadd usuario experimenta tooyour aplicación, como inicio de sesión, inicio de sesión y la administración de perfiles.</span><span class="sxs-lookup"><span data-stu-id="51b66-117">With hello policy parameter, you can use OAuth 2.0 tooadd user experiences tooyour app, such as sign-up, sign-in, and profile management.</span></span> <span data-ttu-id="51b66-118">En este artículo, le mostraremos cómo toouse Hola flujo implícito y Azure AD tooimplement cada de estas experiencias en las aplicaciones de la página.</span><span class="sxs-lookup"><span data-stu-id="51b66-118">In this article, we show you how toouse hello implicit flow and Azure AD tooimplement each of these experiences in your single-page applications.</span></span> <span data-ttu-id="51b66-119">toohelp comenzar, eche un vistazo a nuestro [Node.js](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-nodejs-webapi) y [Microsoft .NET](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-dotnet-webapi) ejemplos.</span><span class="sxs-lookup"><span data-stu-id="51b66-119">toohelp you get started, take a look at our [Node.js](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-nodejs-webapi) and [Microsoft .NET](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-dotnet-webapi) samples.</span></span>

<span data-ttu-id="51b66-120">En solicitudes de HTTP de ejemplo de Hola en este artículo, se utiliza el directorio de Azure AD B2C de ejemplo, **fabrikamb2c.onmicrosoft.com**. También se usa nuestra propia aplicación y nuestras directivas de ejemplo.</span><span class="sxs-lookup"><span data-stu-id="51b66-120">In hello example HTTP requests in this article, we use our sample Azure AD B2C directory, **fabrikamb2c.onmicrosoft.com**. We also use our own sample application and policies.</span></span> <span data-ttu-id="51b66-121">Puede intentar Hola solicitudes mediante el uso de estos valores o reemplazarlos con sus propios valores.</span><span class="sxs-lookup"><span data-stu-id="51b66-121">You can try hello requests yourself by using these values, or you can replace them with your own values.</span></span>
<span data-ttu-id="51b66-122">Obtenga información acerca de cómo demasiado[obtener su propio directorio, aplicaciones y directivas de Azure AD B2C](#use-your-own-b2c-tenant).</span><span class="sxs-lookup"><span data-stu-id="51b66-122">Learn how too[get your own Azure AD B2C directory, application, and policies](#use-your-own-b2c-tenant).</span></span>


## <a name="protocol-diagram"></a><span data-ttu-id="51b66-123">Diagrama de protocolo</span><span class="sxs-lookup"><span data-stu-id="51b66-123">Protocol diagram</span></span>

<span data-ttu-id="51b66-124">el flujo de inicio de sesión implícito de Hello es algo parecido a Hola figura siguiente.</span><span class="sxs-lookup"><span data-stu-id="51b66-124">hello implicit sign-in flow looks something like hello following figure.</span></span> <span data-ttu-id="51b66-125">Cada paso se describe en detalle más adelante en el artículo de Hola.</span><span class="sxs-lookup"><span data-stu-id="51b66-125">Each step is described in detail later in hello article.</span></span>

![Calles OpenID Connect](../media/active-directory-v2-flows/convergence_scenarios_implicit.png)

## <a name="send-authentication-requests"></a><span data-ttu-id="51b66-127">Envío de solicitudes de autenticación</span><span class="sxs-lookup"><span data-stu-id="51b66-127">Send authentication requests</span></span>
<span data-ttu-id="51b66-128">Cuando la aplicación web necesita el usuario de hello tooauthenticate y ejecutar una directiva, dirige Hola usuario toohello `/authorize` punto de conexión.</span><span class="sxs-lookup"><span data-stu-id="51b66-128">When your web app needs tooauthenticate hello user and execute a policy, it directs hello user toohello `/authorize` endpoint.</span></span> <span data-ttu-id="51b66-129">Es Hola parte interactiva del flujo de Hola donde usuario Hola realiza una acción, dependiendo de la directiva de Hola.</span><span class="sxs-lookup"><span data-stu-id="51b66-129">This is hello interactive portion of hello flow, where hello user takes action, depending on hello policy.</span></span> <span data-ttu-id="51b66-130">usuario de Hola Obtiene un identificador de token Hola extremo de Azure AD.</span><span class="sxs-lookup"><span data-stu-id="51b66-130">hello user gets an ID token from hello Azure AD endpoint.</span></span>

<span data-ttu-id="51b66-131">En esta solicitud, el cliente de Hola indica Hola `scope` permisos de Hola de parámetro que necesita tooacquire de usuario de Hola.</span><span class="sxs-lookup"><span data-stu-id="51b66-131">In this request, hello client indicates in hello `scope` parameter hello permissions that it needs tooacquire from hello user.</span></span> <span data-ttu-id="51b66-132">Hola `p` parámetro, indica Hola directiva tooexecute.</span><span class="sxs-lookup"><span data-stu-id="51b66-132">In hello `p` parameter, it indicates hello policy tooexecute.</span></span> <span data-ttu-id="51b66-133">Hello tres ejemplos siguientes (con saltos de línea para mejorar la legibilidad) utilizan una directiva diferente.</span><span class="sxs-lookup"><span data-stu-id="51b66-133">hello following three examples (with line breaks for readability) each use a different policy.</span></span> <span data-ttu-id="51b66-134">tooget una idea de cómo funciona cada solicitud, intente la solicitud de Hola de pegado en un explorador y ejecutarlo.</span><span class="sxs-lookup"><span data-stu-id="51b66-134">tooget a feel for how each request works, try pasting hello request into a browser and running it.</span></span>

### <a name="use-a-sign-in-policy"></a><span data-ttu-id="51b66-135">Uso de una directiva de inicio de sesión</span><span class="sxs-lookup"><span data-stu-id="51b66-135">Use a sign-in policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=id_token+token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=fragment
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_sign_in
```

### <a name="use-a-sign-up-policy"></a><span data-ttu-id="51b66-136">Uso de una directiva de registro</span><span class="sxs-lookup"><span data-stu-id="51b66-136">Use a sign-up policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=id_token+token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=fragment
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_sign_up
```

### <a name="use-an-edit-profile-policy"></a><span data-ttu-id="51b66-137">Uso de una directiva de edición de perfil</span><span class="sxs-lookup"><span data-stu-id="51b66-137">Use an edit-profile policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=id_token+token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=fragment
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_edit_profile
```

| <span data-ttu-id="51b66-138">Parámetro</span><span class="sxs-lookup"><span data-stu-id="51b66-138">Parameter</span></span> | <span data-ttu-id="51b66-139">¿Necesario?</span><span class="sxs-lookup"><span data-stu-id="51b66-139">Required?</span></span> | <span data-ttu-id="51b66-140">Description</span><span class="sxs-lookup"><span data-stu-id="51b66-140">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="51b66-141">client_id</span><span class="sxs-lookup"><span data-stu-id="51b66-141">client_id</span></span> |<span data-ttu-id="51b66-142">Obligatorio</span><span class="sxs-lookup"><span data-stu-id="51b66-142">Required</span></span> |<span data-ttu-id="51b66-143">Identificador de la aplicación Hello asignado tooyour aplicación Hola [portal de Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="51b66-143">hello application ID assigned tooyour app in hello [Azure portal](https://portal.azure.com).</span></span> |
| <span data-ttu-id="51b66-144">response_type</span><span class="sxs-lookup"><span data-stu-id="51b66-144">response_type</span></span> |<span data-ttu-id="51b66-145">Obligatorio</span><span class="sxs-lookup"><span data-stu-id="51b66-145">Required</span></span> |<span data-ttu-id="51b66-146">Debe incluir `id_token` para el inicio de sesión en OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="51b66-146">Must include `id_token` for OpenID Connect sign-in.</span></span> <span data-ttu-id="51b66-147">También puede incluir el tipo de respuesta de hello `token`.</span><span class="sxs-lookup"><span data-stu-id="51b66-147">It also can include hello response type `token`.</span></span> <span data-ttu-id="51b66-148">Si usa `token`, la aplicación puede recibir inmediatamente un token de acceso de hello autorizar el punto de conexión, sin realizar una segunda toohello solicitud extremo authorize.</span><span class="sxs-lookup"><span data-stu-id="51b66-148">If you use `token`, your app can immediately receive an access token from hello authorize endpoint, without making a second request toohello authorize endpoint.</span></span>  <span data-ttu-id="51b66-149">Si usas hello `token` tipo de respuesta, hello `scope` parámetro debe contener un ámbito que indica qué token de recurso tooissue Hola para.</span><span class="sxs-lookup"><span data-stu-id="51b66-149">If you use hello `token` response type, hello `scope` parameter must contain a scope that indicates which resource tooissue hello token for.</span></span> |
| <span data-ttu-id="51b66-150">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="51b66-150">redirect_uri</span></span> |<span data-ttu-id="51b66-151">Recomendado</span><span class="sxs-lookup"><span data-stu-id="51b66-151">Recommended</span></span> |<span data-ttu-id="51b66-152">Hola URI de redireccionamiento de la aplicación, donde las respuestas de autenticación pueden ser enviadas y recibidas por la aplicación.</span><span class="sxs-lookup"><span data-stu-id="51b66-152">hello redirect URI of your app, where authentication responses can be sent and received by your app.</span></span> <span data-ttu-id="51b66-153">Debe coincidir exactamente con uno de redirección de hello URI que se ha registrado en el portal de hello, excepto en que debe ser codificados de dirección URL.</span><span class="sxs-lookup"><span data-stu-id="51b66-153">It must exactly match one of hello redirect URIs that you registered in hello portal, except that it must be URL-encoded.</span></span> |
| <span data-ttu-id="51b66-154">response_mode</span><span class="sxs-lookup"><span data-stu-id="51b66-154">response_mode</span></span> |<span data-ttu-id="51b66-155">Recomendado</span><span class="sxs-lookup"><span data-stu-id="51b66-155">Recommended</span></span> |<span data-ttu-id="51b66-156">Especifica el método toouse toosend Hola resultante token tooyour atrás aplicación hello.</span><span class="sxs-lookup"><span data-stu-id="51b66-156">Specifies hello method toouse toosend hello resulting token back tooyour app.</span></span>  <span data-ttu-id="51b66-157">Para los flujos implícitos, use `fragment`.</span><span class="sxs-lookup"><span data-stu-id="51b66-157">For implicit flows, use `fragment`.</span></span> |
| <span data-ttu-id="51b66-158">ámbito</span><span class="sxs-lookup"><span data-stu-id="51b66-158">scope</span></span> |<span data-ttu-id="51b66-159">Obligatorio</span><span class="sxs-lookup"><span data-stu-id="51b66-159">Required</span></span> |<span data-ttu-id="51b66-160">Una lista de ámbitos separada por espacios.</span><span class="sxs-lookup"><span data-stu-id="51b66-160">A space-separated list of scopes.</span></span> <span data-ttu-id="51b66-161">Un valor de ámbito único indica tooAzure AD tanto de los permisos de Hola que se ha solicitado.</span><span class="sxs-lookup"><span data-stu-id="51b66-161">A single scope value indicates tooAzure AD both of hello permissions that are being requested.</span></span> <span data-ttu-id="51b66-162">Hola `openid` ámbito indica una toosign permiso en los datos de usuario y get de hello acerca del usuario de hello en forma de Hola de tokens de identificador.</span><span class="sxs-lookup"><span data-stu-id="51b66-162">hello `openid` scope indicates a permission toosign in hello user and get data about hello user in hello form of ID tokens.</span></span> <span data-ttu-id="51b66-163">(Hablaremos sobre esto más adelante en el artículo de Hola.) Hola `offline_access` ámbito es opcional para las aplicaciones web.</span><span class="sxs-lookup"><span data-stu-id="51b66-163">(We'll talk about this more later in hello article.) hello `offline_access` scope is optional for web apps.</span></span> <span data-ttu-id="51b66-164">Indica que la aplicación necesita un token de actualización para tooresources de acceso de larga duración.</span><span class="sxs-lookup"><span data-stu-id="51b66-164">It indicates that your app needs a refresh token for long-lived access tooresources.</span></span> |
| <span data-ttu-id="51b66-165">state</span><span class="sxs-lookup"><span data-stu-id="51b66-165">state</span></span> |<span data-ttu-id="51b66-166">Recomendado</span><span class="sxs-lookup"><span data-stu-id="51b66-166">Recommended</span></span> |<span data-ttu-id="51b66-167">Un valor incluido en la solicitud de Hola que también se devuelve en la respuesta de token de Hola.</span><span class="sxs-lookup"><span data-stu-id="51b66-167">A value included in hello request that also is returned in hello token response.</span></span> <span data-ttu-id="51b66-168">Puede ser una cadena de contenido que desee toouse.</span><span class="sxs-lookup"><span data-stu-id="51b66-168">It can be a string of any content that you want toouse.</span></span> <span data-ttu-id="51b66-169">Por lo general, se usa un valor único, generado de forma aleatoria, ataques de falsificación de solicitud entre sitios tooprevent.</span><span class="sxs-lookup"><span data-stu-id="51b66-169">Usually, a randomly generated, unique value is used, tooprevent cross-site request forgery attacks.</span></span> <span data-ttu-id="51b66-170">Hello estado también es tooencode usa información acerca del estado del usuario de hello en la aplicación hello antes de que se ha producido la solicitud de autenticación de hello, al igual que la página de hello estuvieran en.</span><span class="sxs-lookup"><span data-stu-id="51b66-170">hello state is also used tooencode information about hello user's state in hello app before hello authentication request occurred, like hello page they were on.</span></span> |
| <span data-ttu-id="51b66-171">valor de seguridad</span><span class="sxs-lookup"><span data-stu-id="51b66-171">nonce</span></span> |<span data-ttu-id="51b66-172">Obligatorio</span><span class="sxs-lookup"><span data-stu-id="51b66-172">Required</span></span> |<span data-ttu-id="51b66-173">Un valor incluido en la solicitud de hello (generado por la aplicación hello) que se incluye en el token de identificador resultante de hello como una notificación.</span><span class="sxs-lookup"><span data-stu-id="51b66-173">A value included in hello request (generated by hello app) that is included in hello resulting ID token as a claim.</span></span> <span data-ttu-id="51b66-174">aplicación Hello, a continuación, puede comprobar que los ataques de reproducción de tokens de toomitigate este valor.</span><span class="sxs-lookup"><span data-stu-id="51b66-174">hello app can then verify this value toomitigate token replay attacks.</span></span> <span data-ttu-id="51b66-175">Por lo general, el valor de hello es una cadena aleatoria, única que puede ser utilizados tooidentify Hola origen de solicitud de Hola.</span><span class="sxs-lookup"><span data-stu-id="51b66-175">Usually, hello value is a randomized, unique string that can be used tooidentify hello origin of hello request.</span></span> |
| <span data-ttu-id="51b66-176">p</span><span class="sxs-lookup"><span data-stu-id="51b66-176">p</span></span> |<span data-ttu-id="51b66-177">Obligatorio</span><span class="sxs-lookup"><span data-stu-id="51b66-177">Required</span></span> |<span data-ttu-id="51b66-178">Hola tooexecute de directiva.</span><span class="sxs-lookup"><span data-stu-id="51b66-178">hello policy tooexecute.</span></span> <span data-ttu-id="51b66-179">Su Hola nombre de una directiva que se crea en el inquilino de Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="51b66-179">It's hello name of a policy that is created in your Azure AD B2C tenant.</span></span> <span data-ttu-id="51b66-180">valor de nombre de directiva de Hello debe comenzar por **b2c\_1\_**.</span><span class="sxs-lookup"><span data-stu-id="51b66-180">hello policy name value should begin with **b2c\_1\_**.</span></span> <span data-ttu-id="51b66-181">Para obtener más información, vea [Directivas integradas de Azure AD B2C](active-directory-b2c-reference-policies.md).</span><span class="sxs-lookup"><span data-stu-id="51b66-181">For more information, see [Azure AD B2C built-in policies](active-directory-b2c-reference-policies.md).</span></span> |
| <span data-ttu-id="51b66-182">símbolo del sistema</span><span class="sxs-lookup"><span data-stu-id="51b66-182">prompt</span></span> |<span data-ttu-id="51b66-183">Opcional</span><span class="sxs-lookup"><span data-stu-id="51b66-183">Optional</span></span> |<span data-ttu-id="51b66-184">tipo de Hello de interacción del usuario que se necesita.</span><span class="sxs-lookup"><span data-stu-id="51b66-184">hello type of user interaction that's required.</span></span> <span data-ttu-id="51b66-185">Actualmente, Hola único valor válido es `login`.</span><span class="sxs-lookup"><span data-stu-id="51b66-185">Currently, hello only valid value is `login`.</span></span> <span data-ttu-id="51b66-186">Esto obliga a Hola usuario tooenter sus credenciales en esa solicitud.</span><span class="sxs-lookup"><span data-stu-id="51b66-186">This forces hello user tooenter their credentials on that request.</span></span> <span data-ttu-id="51b66-187">El inicio de sesión único no surtirá efecto.</span><span class="sxs-lookup"><span data-stu-id="51b66-187">Single sign-on will not take effect.</span></span> |

<span data-ttu-id="51b66-188">En este momento, usuario Hola se solicita el flujo de trabajo de la directiva de toocomplete Hola.</span><span class="sxs-lookup"><span data-stu-id="51b66-188">At this point, hello user is asked toocomplete hello policy's workflow.</span></span> <span data-ttu-id="51b66-189">Ello puede significar tener a usuario Hola escribir su nombre de usuario y una contraseña, inicio de sesión con una identidad de redes sociales, registrarse para el directorio de Hola o cualquier otro número de pasos.</span><span class="sxs-lookup"><span data-stu-id="51b66-189">This might involve hello user entering their username and password, signing in with a social identity, signing up for hello directory, or any other number of steps.</span></span> <span data-ttu-id="51b66-190">Las acciones del usuario dependen de cómo se define la directiva de Hola.</span><span class="sxs-lookup"><span data-stu-id="51b66-190">User actions depend on how hello policy is defined.</span></span>

<span data-ttu-id="51b66-191">Al finalizar usuario Hola directiva hello, Azure AD devuelve una aplicación de tooyour de respuesta al valor de Hola que utilizó para `redirect_uri`.</span><span class="sxs-lookup"><span data-stu-id="51b66-191">After hello user completes hello policy, Azure AD returns a response tooyour app at hello value you used for `redirect_uri`.</span></span> <span data-ttu-id="51b66-192">Se utiliza método hello especificado en hello `response_mode` parámetro.</span><span class="sxs-lookup"><span data-stu-id="51b66-192">It uses hello method specified in hello `response_mode` parameter.</span></span> <span data-ttu-id="51b66-193">respuesta de Hello es exactamente Hola mismo para cada uno de los escenarios de acción de usuario hello, independientemente de la directiva de Hola que se ejecutó.</span><span class="sxs-lookup"><span data-stu-id="51b66-193">hello response is exactly hello same for each of hello user action scenarios, independent of hello policy that was executed.</span></span>

### <a name="successful-response"></a><span data-ttu-id="51b66-194">Respuesta correcta</span><span class="sxs-lookup"><span data-stu-id="51b66-194">Successful response</span></span>
<span data-ttu-id="51b66-195">Una respuesta correcta que utiliza `response_mode=fragment` y `response_type=id_token+token` siguiente hello, saltos de línea por legibilidad aspecto:</span><span class="sxs-lookup"><span data-stu-id="51b66-195">A successful response that uses `response_mode=fragment` and `response_type=id_token+token` looks like hello following, with line breaks for legibility:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
access_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&token_type=Bearer
&expires_in=3599
&scope="90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access",
&id_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&state=arbitrary_data_you_sent_earlier
```

| <span data-ttu-id="51b66-196">Parámetro</span><span class="sxs-lookup"><span data-stu-id="51b66-196">Parameter</span></span> | <span data-ttu-id="51b66-197">Description</span><span class="sxs-lookup"><span data-stu-id="51b66-197">Description</span></span> |
| --- | --- |
| <span data-ttu-id="51b66-198">access_token</span><span class="sxs-lookup"><span data-stu-id="51b66-198">access_token</span></span> |<span data-ttu-id="51b66-199">token de acceso de Hola que Hola aplicación solicitada.</span><span class="sxs-lookup"><span data-stu-id="51b66-199">hello access token that hello app requested.</span></span>  <span data-ttu-id="51b66-200">token de acceso de Hello no se debe descodificar o inspeccionar en caso contrario.</span><span class="sxs-lookup"><span data-stu-id="51b66-200">hello access token should not be decoded or otherwise inspected.</span></span> <span data-ttu-id="51b66-201">Puede tratarse como una cadena opaca.</span><span class="sxs-lookup"><span data-stu-id="51b66-201">It can be treated as an opaque string.</span></span> |
| <span data-ttu-id="51b66-202">token_type</span><span class="sxs-lookup"><span data-stu-id="51b66-202">token_type</span></span> |<span data-ttu-id="51b66-203">valor de tipo de token de Hola.</span><span class="sxs-lookup"><span data-stu-id="51b66-203">hello token type value.</span></span> <span data-ttu-id="51b66-204">Hola solo escriba que admite Azure AD es portador.</span><span class="sxs-lookup"><span data-stu-id="51b66-204">hello only type that Azure AD supports is Bearer.</span></span> |
| <span data-ttu-id="51b66-205">expires_in</span><span class="sxs-lookup"><span data-stu-id="51b66-205">expires_in</span></span> |<span data-ttu-id="51b66-206">Hola longitud de tiempo que Hola token de acceso es válida (en segundos).</span><span class="sxs-lookup"><span data-stu-id="51b66-206">hello length of time that hello access token is valid (in seconds).</span></span> |
| <span data-ttu-id="51b66-207">ámbito</span><span class="sxs-lookup"><span data-stu-id="51b66-207">scope</span></span> |<span data-ttu-id="51b66-208">ámbitos de Hola Hola token es válido para.</span><span class="sxs-lookup"><span data-stu-id="51b66-208">hello scopes that hello token is valid for.</span></span> <span data-ttu-id="51b66-209">También puede utilizar tokens de toocache ámbitos para su uso posterior.</span><span class="sxs-lookup"><span data-stu-id="51b66-209">You also can use scopes toocache tokens for later use.</span></span> |
| <span data-ttu-id="51b66-210">ID_token</span><span class="sxs-lookup"><span data-stu-id="51b66-210">id_token</span></span> |<span data-ttu-id="51b66-211">Hello Id. de símbolo (token) que solicita la aplicación hello.</span><span class="sxs-lookup"><span data-stu-id="51b66-211">hello ID token that hello app requested.</span></span> <span data-ttu-id="51b66-212">Puede usar identidad de usuario de hello identificador tooverify token hello y empezar una sesión de usuario de Hola.</span><span class="sxs-lookup"><span data-stu-id="51b66-212">You can use hello ID token tooverify hello user's identity and begin a session with hello user.</span></span> <span data-ttu-id="51b66-213">Para obtener más información sobre los tokens de identificador y su contenido, vea hello [referencia del token de Azure AD B2C](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="51b66-213">For more information about ID tokens and their contents, see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> |
| <span data-ttu-id="51b66-214">state</span><span class="sxs-lookup"><span data-stu-id="51b66-214">state</span></span> |<span data-ttu-id="51b66-215">Si un `state` parámetro se incluye en la solicitud de hello, hello mismo valor aparecerán en la respuesta de Hola.</span><span class="sxs-lookup"><span data-stu-id="51b66-215">If a `state` parameter is included in hello request, hello same value should appear in hello response.</span></span> <span data-ttu-id="51b66-216">Hello aplicación debe comprobar que hello `state` valores de hello solicitud y respuesta son idénticos.</span><span class="sxs-lookup"><span data-stu-id="51b66-216">hello app should verify that hello `state` values in hello request and response are identical.</span></span> |

### <a name="error-response"></a><span data-ttu-id="51b66-217">Respuesta de error</span><span class="sxs-lookup"><span data-stu-id="51b66-217">Error response</span></span>
<span data-ttu-id="51b66-218">Las respuestas de error también se pueden enviar toohello el URI de redireccionamiento para que hello aplicación pueda controlarlos adecuadamente:</span><span class="sxs-lookup"><span data-stu-id="51b66-218">Error responses also can be sent toohello redirect URI so that hello app can handle them appropriately:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
error=access_denied
&error_description=the+user+canceled+the+authentication
&state=arbitrary_data_you_can_receive_in_the_response
```

| <span data-ttu-id="51b66-219">Parámetro</span><span class="sxs-lookup"><span data-stu-id="51b66-219">Parameter</span></span> | <span data-ttu-id="51b66-220">Description</span><span class="sxs-lookup"><span data-stu-id="51b66-220">Description</span></span> |
| --- | --- |
| <span data-ttu-id="51b66-221">error</span><span class="sxs-lookup"><span data-stu-id="51b66-221">error</span></span> |<span data-ttu-id="51b66-222">Una cadena de código de error usa tooclassify tipos de errores que se producen.</span><span class="sxs-lookup"><span data-stu-id="51b66-222">An error code string used tooclassify types of errors that occur.</span></span> <span data-ttu-id="51b66-223">También puede utilizar el código de error de hello para el control de errores.</span><span class="sxs-lookup"><span data-stu-id="51b66-223">You also can use hello error code for error handling.</span></span> |
| <span data-ttu-id="51b66-224">error_description</span><span class="sxs-lookup"><span data-stu-id="51b66-224">error_description</span></span> |<span data-ttu-id="51b66-225">Un mensaje de error específico que puede ayudarle a identificar la causa de raíz de Hola de un error de autenticación.</span><span class="sxs-lookup"><span data-stu-id="51b66-225">A specific error message that can help you identify hello root cause of an authentication error.</span></span> |
| <span data-ttu-id="51b66-226">state</span><span class="sxs-lookup"><span data-stu-id="51b66-226">state</span></span> |<span data-ttu-id="51b66-227">Consulte la descripción completa de Hola Hola tabla anterior.</span><span class="sxs-lookup"><span data-stu-id="51b66-227">See hello full description in hello preceding table.</span></span> <span data-ttu-id="51b66-228">Si un `state` parámetro se incluye en la solicitud de hello, hello mismo valor aparecerán en la respuesta de Hola.</span><span class="sxs-lookup"><span data-stu-id="51b66-228">If a `state` parameter is included in hello request, hello same value should appear in hello response.</span></span> <span data-ttu-id="51b66-229">Hello aplicación debe comprobar que hello `state` valores de hello solicitud y respuesta son idénticos.</span><span class="sxs-lookup"><span data-stu-id="51b66-229">hello app should verify that hello `state` values in hello request and response are identical.</span></span>|

## <a name="validate-hello-id-token"></a><span data-ttu-id="51b66-230">Validar el token del identificador hello</span><span class="sxs-lookup"><span data-stu-id="51b66-230">Validate hello ID token</span></span>
<span data-ttu-id="51b66-231">Recibir un identificador de token no es suficiente usuario de hello tooauthenticate.</span><span class="sxs-lookup"><span data-stu-id="51b66-231">Receiving an ID token is not enough tooauthenticate hello user.</span></span> <span data-ttu-id="51b66-232">Debe validar la firma del token de Id. de Hola y comprobar las notificaciones de Hola de token de hello según los requisitos de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="51b66-232">You must validate hello ID token's signature, and verify hello claims in hello token per your app's requirements.</span></span> <span data-ttu-id="51b66-233">Usa Azure AD B2C [Tokens de Web JSON (Jwt)](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html) y públicos tokens toosign de criptografía de clave y compruebe que son válidos.</span><span class="sxs-lookup"><span data-stu-id="51b66-233">Azure AD B2C uses [JSON Web Tokens (JWTs)](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html) and public key cryptography toosign tokens and verify that they are valid.</span></span>

<span data-ttu-id="51b66-234">Existen muchas bibliotecas de código abierto para validar los Jwt, según el lenguaje de hello prefiere toouse.</span><span class="sxs-lookup"><span data-stu-id="51b66-234">Many open-source libraries are available for validating JWTs, depending on hello language you prefer toouse.</span></span> <span data-ttu-id="51b66-235">Considere la posibilidad de explorar las bibliotecas de código abierto disponibles, en lugar de implementar su propia lógica de validación.</span><span class="sxs-lookup"><span data-stu-id="51b66-235">Consider exploring available open-source libraries rather than implementing your own validation logic.</span></span> <span data-ttu-id="51b66-236">Puede utilizar información de hello en toohelp de este artículo aprenderá cómo tooproperly utilizar dichas bibliotecas.</span><span class="sxs-lookup"><span data-stu-id="51b66-236">You can use hello information in this article toohelp you learn how tooproperly use those libraries.</span></span>

<span data-ttu-id="51b66-237">Azure AD B2C tiene un punto de conexión de metadatos OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="51b66-237">Azure AD B2C has an OpenID Connect metadata endpoint.</span></span> <span data-ttu-id="51b66-238">Una aplicación puede utilizar la información de toofetch de punto de conexión de hello sobre Azure AD B2C en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="51b66-238">An app can use hello endpoint toofetch information about Azure AD B2C at runtime.</span></span> <span data-ttu-id="51b66-239">En esta información se incluyen los extremos, los contenidos del token y las claves de firma de los token.</span><span class="sxs-lookup"><span data-stu-id="51b66-239">This information includes endpoints, token contents, and token signing keys.</span></span> <span data-ttu-id="51b66-240">Hay un documento de metadatos JSON para cada directiva en su inquilino de Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="51b66-240">There is a JSON metadata document for each policy in your Azure AD B2C tenant.</span></span> <span data-ttu-id="51b66-241">Por ejemplo, el documento de metadatos de hello para la directiva de b2c_1_sign_in hello en el inquilino de hello fabrikamb2c.onmicrosoft.com se encuentra en:</span><span class="sxs-lookup"><span data-stu-id="51b66-241">For example, hello metadata document for hello b2c_1_sign_in policy in hello fabrikamb2c.onmicrosoft.com tenant is located at:</span></span>

`https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=b2c_1_sign_in`

<span data-ttu-id="51b66-242">Una de las propiedades de Hola de este documento de configuración es hello `jwks_uri`.</span><span class="sxs-lookup"><span data-stu-id="51b66-242">One of hello properties of this configuration document is hello `jwks_uri`.</span></span> <span data-ttu-id="51b66-243">valor de Hola para hello sería la misma directiva:</span><span class="sxs-lookup"><span data-stu-id="51b66-243">hello value for hello same policy would be:</span></span>

`https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/discovery/v2.0/keys?p=b2c_1_sign_in`

<span data-ttu-id="51b66-244">toodetermine qué directiva era toosign usa un identificador de token (y donde toofetch Hola metadatos de), tiene dos opciones.</span><span class="sxs-lookup"><span data-stu-id="51b66-244">toodetermine which policy was used toosign an ID token (and where toofetch hello metadata from), you have two options.</span></span> <span data-ttu-id="51b66-245">En primer lugar, se incluye el nombre de la directiva de Hola Hola `acr` de notificación en `id_token`.</span><span class="sxs-lookup"><span data-stu-id="51b66-245">First, hello policy name is included in hello `acr` claim in `id_token`.</span></span> <span data-ttu-id="51b66-246">Para obtener información acerca de cómo tooparse Hola notificaciones desde un identificador de token, consulte hello [referencia del token de Azure AD B2C](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="51b66-246">For information about how tooparse hello claims from an ID token, see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> <span data-ttu-id="51b66-247">La otra opción es la directiva de hello tooencode en valor de Hola de hello `state` parámetro cuando se emite la solicitud de saludo.</span><span class="sxs-lookup"><span data-stu-id="51b66-247">Your other option is tooencode hello policy in hello value of hello `state` parameter when you issue hello request.</span></span> <span data-ttu-id="51b66-248">A continuación, descodificar hello `state` toodetermine parámetro directiva que se utilizó.</span><span class="sxs-lookup"><span data-stu-id="51b66-248">Then, decode hello `state` parameter toodetermine which policy was used.</span></span> <span data-ttu-id="51b66-249">Cualquiera de estos métodos es válido.</span><span class="sxs-lookup"><span data-stu-id="51b66-249">Either method is valid.</span></span>

<span data-ttu-id="51b66-250">Una vez que haya adquirido el documento de metadatos de hello del extremo de metadatos de OpenID Connect de hello, puede usar Hola RSA-256 claves públicas (que se encuentra en este extremo) toovalidate Hola firma de token de Id. de Hola.</span><span class="sxs-lookup"><span data-stu-id="51b66-250">After you've acquired hello metadata document from hello OpenID Connect metadata endpoint, you can use hello RSA-256 public keys (located at this endpoint) toovalidate hello signature of hello ID token.</span></span> <span data-ttu-id="51b66-251">Podría haber varias claves enumeradas en este punto de conexión en cualquier momento, cada una identificada con una `kid`.</span><span class="sxs-lookup"><span data-stu-id="51b66-251">There might be multiple keys listed at this endpoint at any given time, each identified by a `kid`.</span></span> <span data-ttu-id="51b66-252">encabezado de Hola de `id_token` también contiene un `kid` de notificación.</span><span class="sxs-lookup"><span data-stu-id="51b66-252">hello header of `id_token` also contains a `kid` claim.</span></span> <span data-ttu-id="51b66-253">Indica cuál de estas claves era el token del identificador hello toosign usado.</span><span class="sxs-lookup"><span data-stu-id="51b66-253">It indicates which of these keys was used toosign hello ID token.</span></span> <span data-ttu-id="51b66-254">Para obtener más información, aprender a [validar los tokens](active-directory-b2c-reference-tokens.md#token-validation), vea hello [referencia del token de Azure AD B2C](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="51b66-254">For more information, including learning about [validating tokens](active-directory-b2c-reference-tokens.md#token-validation), see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span>
<!--TODO: Improve hello information on this-->

<span data-ttu-id="51b66-255">Después de validar la firma de Hola de token de Id. de hello, varias notificaciones requieran comprobación.</span><span class="sxs-lookup"><span data-stu-id="51b66-255">After you validate hello signature of hello ID token, several claims require verification.</span></span> <span data-ttu-id="51b66-256">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="51b66-256">For example:</span></span>

* <span data-ttu-id="51b66-257">Validar hello `nonce` tooprevent ataques de reproducción de tokens de notificaciones.</span><span class="sxs-lookup"><span data-stu-id="51b66-257">Validate hello `nonce` claim tooprevent token replay attacks.</span></span> <span data-ttu-id="51b66-258">Su valor debe ser lo que hayas especificado en una solicitud de inicio de sesión Hola.</span><span class="sxs-lookup"><span data-stu-id="51b66-258">Its value should be what you specified in hello sign-in request.</span></span>
* <span data-ttu-id="51b66-259">Validar hello `aud` tooensure que Hola identificador de token haya sido emitido para la aplicación de notificaciones.</span><span class="sxs-lookup"><span data-stu-id="51b66-259">Validate hello `aud` claim tooensure that hello ID token was issued for your app.</span></span> <span data-ttu-id="51b66-260">Su valor debe ser el identificador de la aplicación hello de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="51b66-260">Its value should be hello application ID of your app.</span></span>
* <span data-ttu-id="51b66-261">Validar hello `iat` y `exp` notificaciones tooensure que Hola identificador de token no ha expirado.</span><span class="sxs-lookup"><span data-stu-id="51b66-261">Validate hello `iat` and `exp` claims tooensure that hello ID token has not expired.</span></span>

<span data-ttu-id="51b66-262">Varias validaciones más que se deben realizar se describen en detalle en hello [especificación de OpenID conectarse Core](http://openid.net/specs/openid-connect-core-1_0.html). Puede que le interese toovalidate notificaciones adicionales, según el escenario.</span><span class="sxs-lookup"><span data-stu-id="51b66-262">Several more validations that you should perform are described in detail in hello [OpenID Connect Core Spec](http://openid.net/specs/openid-connect-core-1_0.html). You might also want toovalidate additional claims, depending on your scenario.</span></span> <span data-ttu-id="51b66-263">Algunas validaciones comunes incluyen:</span><span class="sxs-lookup"><span data-stu-id="51b66-263">Some common validations include:</span></span>

* <span data-ttu-id="51b66-264">Garantizar ese usuario de Hola o la organización ha registrado para la aplicación hello.</span><span class="sxs-lookup"><span data-stu-id="51b66-264">Ensuring that hello user or organization has signed up for hello app.</span></span>
* <span data-ttu-id="51b66-265">Asegurarse de que el usuario hello tiene la autorización adecuada y privilegios.</span><span class="sxs-lookup"><span data-stu-id="51b66-265">Ensuring that hello user has proper authorization and privileges.</span></span>
* <span data-ttu-id="51b66-266">Asegurarse de que se haya producido un determinado nivel de autenticación, como al usar Azure Multi-Factor Authentication.</span><span class="sxs-lookup"><span data-stu-id="51b66-266">Ensuring that a certain strength of authentication has occurred, such as by using Azure Multi-Factor Authentication.</span></span>

<span data-ttu-id="51b66-267">Para obtener más información sobre notificaciones de hello en un identificador de token, consulte hello [referencia del token de Azure AD B2C](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="51b66-267">For more information about hello claims in an ID token, see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span>

<span data-ttu-id="51b66-268">Después de haber validado por completo el token del identificador hello, puede comenzar una sesión por usuario de Hola.</span><span class="sxs-lookup"><span data-stu-id="51b66-268">After you have completely validated hello ID token, you can begin a session with hello user.</span></span> <span data-ttu-id="51b66-269">En la aplicación, utilizar notificaciones de hello en información de símbolo (token) tooobtain de Id. de hello acerca del usuario de Hola.</span><span class="sxs-lookup"><span data-stu-id="51b66-269">In your app, use hello claims in hello ID token tooobtain information about hello user.</span></span> <span data-ttu-id="51b66-270">Esta información puede usarse para su visualización, registros, autorizaciones, etc.</span><span class="sxs-lookup"><span data-stu-id="51b66-270">This information can be used for display, records, authorization, and so on.</span></span>

## <a name="get-access-tokens"></a><span data-ttu-id="51b66-271">Obtención de tokens de acceso</span><span class="sxs-lookup"><span data-stu-id="51b66-271">Get access tokens</span></span>
<span data-ttu-id="51b66-272">Si lo único que hello es su toodo de necesidades de las aplicaciones web ejecuta las directivas, puede omitir Hola siguientes secciones.</span><span class="sxs-lookup"><span data-stu-id="51b66-272">If hello only thing your web apps needs toodo is execute policies, you can skip hello next few sections.</span></span> <span data-ttu-id="51b66-273">información de Hello en hello siguientes secciones es aplicable solo tooweb las aplicaciones que necesitan toomake autenticado llamadas tooa web API, y que están protegidos por Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="51b66-273">hello information in hello following sections are applicable only tooweb apps that need toomake authenticated calls tooa web API, and which are protected by Azure AD B2C.</span></span>

<span data-ttu-id="51b66-274">Ahora que has iniciado la sesión de usuario hello en tooyour página aplicación, puede obtener tokens de acceso web que realiza la llamada API que están protegidas por Azure AD.</span><span class="sxs-lookup"><span data-stu-id="51b66-274">Now that you've signed hello user in tooyour single-page app, you can get access tokens for calling web APIs that are secured by Azure AD.</span></span> <span data-ttu-id="51b66-275">Incluso si ya ha recibido un token mediante el uso de hello `token` tipo de respuesta, puede utilizar los tokens de tooacquire de este método para obtener recursos adicionales sin redirigir toosign de usuario de Hola de nuevo.</span><span class="sxs-lookup"><span data-stu-id="51b66-275">Even if you have already received a token by using hello `token` response type, you can use this method tooacquire tokens for additional resources without redirecting hello user toosign in again.</span></span>

<span data-ttu-id="51b66-276">En un flujo de aplicación web típica, podría hacer esto mediante la realización de una solicitud toohello `/token` punto de conexión.</span><span class="sxs-lookup"><span data-stu-id="51b66-276">In a typical web app flow, you would do this by making a request toohello `/token` endpoint.</span></span>  <span data-ttu-id="51b66-277">Sin embargo, el punto de conexión de hello no compatibilidad con CORS las solicitudes, para realizar AJAX llamadas tooget y tokens de actualización no es una opción.</span><span class="sxs-lookup"><span data-stu-id="51b66-277">However, hello endpoint does not support CORS requests, so making AJAX calls tooget and refresh tokens is not an option.</span></span> <span data-ttu-id="51b66-278">En su lugar, puede usar flujo implícito de hello en un oculto HTML iframe elemento tooget nuevos tokens para otras API web.</span><span class="sxs-lookup"><span data-stu-id="51b66-278">Instead, you can use hello implicit flow in a hidden HTML iframe element tooget new tokens for other web APIs.</span></span> <span data-ttu-id="51b66-279">Aquí se muestra un ejemplo, con saltos de línea por motivos de legibilidad:</span><span class="sxs-lookup"><span data-stu-id="51b66-279">Here's an example, with line breaks for legibility:</span></span>

```

https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&scope=https%3A%2F%2Fapi.contoso.com%2Ftasks.read
&response_mode=fragment
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&prompt=none
&domain_hint=organizations
&login_hint=myuser@mycompany.com
&p=b2c_1_sign_in
```

| <span data-ttu-id="51b66-280">Parámetro</span><span class="sxs-lookup"><span data-stu-id="51b66-280">Parameter</span></span> | <span data-ttu-id="51b66-281">¿Necesario?</span><span class="sxs-lookup"><span data-stu-id="51b66-281">Required?</span></span> | <span data-ttu-id="51b66-282">Description</span><span class="sxs-lookup"><span data-stu-id="51b66-282">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="51b66-283">client_id</span><span class="sxs-lookup"><span data-stu-id="51b66-283">client_id</span></span> |<span data-ttu-id="51b66-284">Obligatorio</span><span class="sxs-lookup"><span data-stu-id="51b66-284">Required</span></span> |<span data-ttu-id="51b66-285">Identificador de la aplicación Hello asignado tooyour aplicación Hola [portal de Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="51b66-285">hello application ID assigned tooyour app in hello [Azure portal](https://portal.azure.com).</span></span> |
| <span data-ttu-id="51b66-286">response_type</span><span class="sxs-lookup"><span data-stu-id="51b66-286">response_type</span></span> |<span data-ttu-id="51b66-287">Obligatorio</span><span class="sxs-lookup"><span data-stu-id="51b66-287">Required</span></span> |<span data-ttu-id="51b66-288">Debe incluir `id_token` para el inicio de sesión en OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="51b66-288">Must include `id_token` for OpenID Connect sign-in.</span></span>  <span data-ttu-id="51b66-289">También puede incluir el tipo de respuesta de hello `token`.</span><span class="sxs-lookup"><span data-stu-id="51b66-289">It might also include hello response type `token`.</span></span> <span data-ttu-id="51b66-290">Si utiliza `token` en este caso, la aplicación inmediatamente puede recibir un token de acceso de hello autorizar el punto de conexión, sin realizar una segunda toohello solicitud extremo authorize.</span><span class="sxs-lookup"><span data-stu-id="51b66-290">If you use `token` here, your app can immediately receive an access token from hello authorize endpoint, without making a second request toohello authorize endpoint.</span></span> <span data-ttu-id="51b66-291">Si usas hello `token` tipo de respuesta, hello `scope` parámetro debe contener un ámbito que indica qué token de recurso tooissue Hola para.</span><span class="sxs-lookup"><span data-stu-id="51b66-291">If you use hello `token` response type, hello `scope` parameter must contain a scope that indicates which resource tooissue hello token for.</span></span> |
| <span data-ttu-id="51b66-292">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="51b66-292">redirect_uri</span></span> |<span data-ttu-id="51b66-293">Recomendado</span><span class="sxs-lookup"><span data-stu-id="51b66-293">Recommended</span></span> |<span data-ttu-id="51b66-294">Hola URI de redireccionamiento de la aplicación, donde las respuestas de autenticación pueden ser enviadas y recibidas por la aplicación.</span><span class="sxs-lookup"><span data-stu-id="51b66-294">hello redirect URI of your app, where authentication responses can be sent and received by your app.</span></span> <span data-ttu-id="51b66-295">Debe coincidir exactamente con uno de redirección de hello URI que registró en el portal de hello, excepto en que debe ser codificados de dirección URL.</span><span class="sxs-lookup"><span data-stu-id="51b66-295">It must exactly match one of hello redirect URIs you registered in hello portal, except that it must be URL-encoded.</span></span> |
| <span data-ttu-id="51b66-296">ámbito</span><span class="sxs-lookup"><span data-stu-id="51b66-296">scope</span></span> |<span data-ttu-id="51b66-297">Obligatorio</span><span class="sxs-lookup"><span data-stu-id="51b66-297">Required</span></span> |<span data-ttu-id="51b66-298">Una lista de ámbitos separada por espacios.</span><span class="sxs-lookup"><span data-stu-id="51b66-298">A space-separated list of scopes.</span></span>  <span data-ttu-id="51b66-299">Para obtener los tokens, incluir todos los ámbitos que necesite para el recurso de hello prevista.</span><span class="sxs-lookup"><span data-stu-id="51b66-299">For getting tokens, include all scopes that you require for hello intended resource.</span></span> |
| <span data-ttu-id="51b66-300">response_mode</span><span class="sxs-lookup"><span data-stu-id="51b66-300">response_mode</span></span> |<span data-ttu-id="51b66-301">Recomendado</span><span class="sxs-lookup"><span data-stu-id="51b66-301">Recommended</span></span> |<span data-ttu-id="51b66-302">Especifica el método de Hola que es usado toosend Hola resultante token tooyour atrás aplicación.</span><span class="sxs-lookup"><span data-stu-id="51b66-302">Specifies hello method that is used toosend hello resulting token back tooyour app.</span></span>  <span data-ttu-id="51b66-303">Puede ser `query`, `form_post` o `fragment`.</span><span class="sxs-lookup"><span data-stu-id="51b66-303">Can be `query`, `form_post`, or `fragment`.</span></span> |
| <span data-ttu-id="51b66-304">state</span><span class="sxs-lookup"><span data-stu-id="51b66-304">state</span></span> |<span data-ttu-id="51b66-305">Recomendado</span><span class="sxs-lookup"><span data-stu-id="51b66-305">Recommended</span></span> |<span data-ttu-id="51b66-306">Un valor incluido en la solicitud de Hola que se devuelve en la respuesta de token de Hola.</span><span class="sxs-lookup"><span data-stu-id="51b66-306">A value included in hello request that is returned in hello token response.</span></span>  <span data-ttu-id="51b66-307">Puede ser una cadena de contenido que desee toouse.</span><span class="sxs-lookup"><span data-stu-id="51b66-307">It can be a string of any content that you want toouse.</span></span>  <span data-ttu-id="51b66-308">Por lo general, se usa un valor único, generado de forma aleatoria, ataques de falsificación de solicitud entre sitios tooprevent.</span><span class="sxs-lookup"><span data-stu-id="51b66-308">Usually, a randomly generated, unique value is used, tooprevent cross-site request forgery attacks.</span></span>  <span data-ttu-id="51b66-309">estado de Hello también es tooencode usa información acerca del estado del usuario de hello en la aplicación hello antes de que se produjo la solicitud de autenticación de Hola.</span><span class="sxs-lookup"><span data-stu-id="51b66-309">hello state also is used tooencode information about hello user's state in hello app before hello authentication request occurred.</span></span> <span data-ttu-id="51b66-310">Por ejemplo, el usuario de Hola de página o la vista de Hola estaba en.</span><span class="sxs-lookup"><span data-stu-id="51b66-310">For example, hello page or view hello user was on.</span></span> |
| <span data-ttu-id="51b66-311">valor de seguridad</span><span class="sxs-lookup"><span data-stu-id="51b66-311">nonce</span></span> |<span data-ttu-id="51b66-312">Obligatorio</span><span class="sxs-lookup"><span data-stu-id="51b66-312">Required</span></span> |<span data-ttu-id="51b66-313">Un valor incluido en solicitud de hello, generado por la aplicación hello, que se incluye en el token de identificador resultante de hello como una notificación.</span><span class="sxs-lookup"><span data-stu-id="51b66-313">A value included in hello request, generated by hello app, that is included in hello resulting ID token as a claim.</span></span>  <span data-ttu-id="51b66-314">aplicación Hello, a continuación, puede comprobar que los ataques de reproducción de tokens de toomitigate este valor.</span><span class="sxs-lookup"><span data-stu-id="51b66-314">hello app can then verify this value toomitigate token replay attacks.</span></span> <span data-ttu-id="51b66-315">Por lo general, valor de hello es una cadena aleatoria única que identifica el origen de saludo de solicitud de saludo.</span><span class="sxs-lookup"><span data-stu-id="51b66-315">Usually, hello value is a randomized, unique string that identifies hello origin of hello request.</span></span> |
| <span data-ttu-id="51b66-316">símbolo del sistema</span><span class="sxs-lookup"><span data-stu-id="51b66-316">prompt</span></span> |<span data-ttu-id="51b66-317">Obligatorio</span><span class="sxs-lookup"><span data-stu-id="51b66-317">Required</span></span> |<span data-ttu-id="51b66-318">usar tokens toorefresh y get en un iframe oculto, `prompt=none` tooensure que Hola iframe no atascar en página de inicio de sesión de Hola y vuelve inmediatamente.</span><span class="sxs-lookup"><span data-stu-id="51b66-318">toorefresh and get tokens in a hidden iframe, use `prompt=none` tooensure that hello iframe does not get stuck on hello sign-in page, and returns immediately.</span></span> |
| <span data-ttu-id="51b66-319">login_hint</span><span class="sxs-lookup"><span data-stu-id="51b66-319">login_hint</span></span> |<span data-ttu-id="51b66-320">Obligatorio</span><span class="sxs-lookup"><span data-stu-id="51b66-320">Required</span></span> |<span data-ttu-id="51b66-321">los tokens de toorefresh y get en un iframe oculto, incluyen hello nombre del usuario con hello en este toodistinguish sugerencia entre varias sesiones de usuario de hello podría tener en un momento dado.</span><span class="sxs-lookup"><span data-stu-id="51b66-321">toorefresh and get tokens in a hidden iframe, include hello username of hello user in this hint toodistinguish between multiple sessions hello user might have at a given  time.</span></span> <span data-ttu-id="51b66-322">Puede extraer el nombre de usuario de Hola desde un inicio de sesión anterior mediante hello `preferred_username` de notificación.</span><span class="sxs-lookup"><span data-stu-id="51b66-322">You can extract hello username from an earlier sign-in by using hello `preferred_username` claim.</span></span> |
| <span data-ttu-id="51b66-323">domain_hint</span><span class="sxs-lookup"><span data-stu-id="51b66-323">domain_hint</span></span> |<span data-ttu-id="51b66-324">Obligatorio</span><span class="sxs-lookup"><span data-stu-id="51b66-324">Required</span></span> |<span data-ttu-id="51b66-325">Puede ser `consumers` o `organizations`.</span><span class="sxs-lookup"><span data-stu-id="51b66-325">Can be `consumers` or `organizations`.</span></span>  <span data-ttu-id="51b66-326">Para actualizar y obtener tokens en un iframe oculto, debe incluir hello `domain_hint` valor de solicitud de saludo.</span><span class="sxs-lookup"><span data-stu-id="51b66-326">For refreshing and getting tokens in a hidden iframe, you must include hello `domain_hint` value in hello request.</span></span>  <span data-ttu-id="51b66-327">Extraer hello `tid` notificación de token de Id. de Hola de una anterior de inicio de sesión toodetermine qué toouse de valor.</span><span class="sxs-lookup"><span data-stu-id="51b66-327">Extract hello `tid` claim from hello ID token of an earlier sign-in toodetermine which value toouse.</span></span>  <span data-ttu-id="51b66-328">Si hello `tid` es el valor de notificación `9188040d-6c67-4c5b-b112-36a304b66dad`, utilice `domain_hint=consumers`.</span><span class="sxs-lookup"><span data-stu-id="51b66-328">If hello `tid` claim value is `9188040d-6c67-4c5b-b112-36a304b66dad`,  use `domain_hint=consumers`.</span></span>  <span data-ttu-id="51b66-329">De lo contrario, use `domain_hint=organizations`.</span><span class="sxs-lookup"><span data-stu-id="51b66-329">Otherwise, use `domain_hint=organizations`.</span></span> |

<span data-ttu-id="51b66-330">Al establecer hello `prompt=none` parámetro, esta solicitud ya sea correctamente o se produce un error inmediatamente y se devuelva tooyour aplicación.</span><span class="sxs-lookup"><span data-stu-id="51b66-330">By setting hello `prompt=none` parameter, this request either succeeds or fails immediately, and returns tooyour application.</span></span>  <span data-ttu-id="51b66-331">Se envía una respuesta correcta tooyour aplicación Hola indicado en el URI de redirección de, utilizando el método hello especificado en hello `response_mode` parámetro.</span><span class="sxs-lookup"><span data-stu-id="51b66-331">A successful response is sent tooyour app at hello indicated redirect URI, by using hello method specified in hello `response_mode` parameter.</span></span>

### <a name="successful-response"></a><span data-ttu-id="51b66-332">Respuesta correcta</span><span class="sxs-lookup"><span data-stu-id="51b66-332">Successful response</span></span>
<span data-ttu-id="51b66-333">Una respuesta correcta al usar `response_mode=fragment` tiene el siguiente aspecto:</span><span class="sxs-lookup"><span data-stu-id="51b66-333">A successful response by using `response_mode=fragment` looks like this:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
access_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&state=arbitrary_data_you_sent_earlier
&token_type=Bearer
&expires_in=3599
&scope=https%3A%2F%2Fapi.contoso.com%2Ftasks.read
```

| <span data-ttu-id="51b66-334">Parámetro</span><span class="sxs-lookup"><span data-stu-id="51b66-334">Parameter</span></span> | <span data-ttu-id="51b66-335">Description</span><span class="sxs-lookup"><span data-stu-id="51b66-335">Description</span></span> |
| --- | --- |
| <span data-ttu-id="51b66-336">access_token</span><span class="sxs-lookup"><span data-stu-id="51b66-336">access_token</span></span> |<span data-ttu-id="51b66-337">Hola símbolo (token) de esa aplicación hello solicitada.</span><span class="sxs-lookup"><span data-stu-id="51b66-337">hello token that hello app requested.</span></span> |
| <span data-ttu-id="51b66-338">token_type</span><span class="sxs-lookup"><span data-stu-id="51b66-338">token_type</span></span> |<span data-ttu-id="51b66-339">el tipo de token Hola siempre será portador.</span><span class="sxs-lookup"><span data-stu-id="51b66-339">hello token type will always be Bearer.</span></span> |
| <span data-ttu-id="51b66-340">state</span><span class="sxs-lookup"><span data-stu-id="51b66-340">state</span></span> |<span data-ttu-id="51b66-341">Si un `state` parámetro se incluye en la solicitud de hello, hello mismo valor aparecerán en la respuesta de Hola.</span><span class="sxs-lookup"><span data-stu-id="51b66-341">If a `state` parameter is included in hello request, hello same value should appear in hello response.</span></span> <span data-ttu-id="51b66-342">Hello aplicación debe comprobar que hello `state` valores de hello solicitud y respuesta son idénticos.</span><span class="sxs-lookup"><span data-stu-id="51b66-342">hello app should verify that hello `state` values in hello request and response are identical.</span></span> |
| <span data-ttu-id="51b66-343">expires_in</span><span class="sxs-lookup"><span data-stu-id="51b66-343">expires_in</span></span> |<span data-ttu-id="51b66-344">¿Durante cuánto tiempo el token de acceso de hello es válida (en segundos).</span><span class="sxs-lookup"><span data-stu-id="51b66-344">How long hello access token is valid (in seconds).</span></span> |
| <span data-ttu-id="51b66-345">ámbito</span><span class="sxs-lookup"><span data-stu-id="51b66-345">scope</span></span> |<span data-ttu-id="51b66-346">ámbitos de Hola Hola token de acceso es válida para.</span><span class="sxs-lookup"><span data-stu-id="51b66-346">hello scopes that hello access token is valid for.</span></span> |

### <a name="error-response"></a><span data-ttu-id="51b66-347">Respuesta de error</span><span class="sxs-lookup"><span data-stu-id="51b66-347">Error response</span></span>
<span data-ttu-id="51b66-348">Las respuestas de error también pueden enviarse toohello el URI de redireccionamiento para que hello aplicación pueda controlarlos adecuadamente.</span><span class="sxs-lookup"><span data-stu-id="51b66-348">Error responses also can be sent toohello redirect URI so that hello app can handle them appropriately.</span></span>  <span data-ttu-id="51b66-349">Para `prompt=none`, un error esperado tiene este aspecto:</span><span class="sxs-lookup"><span data-stu-id="51b66-349">For `prompt=none`, an expected error looks like this:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
error=user_authentication_required
&error_description=the+request+could+not+be+completed+silently
```

| <span data-ttu-id="51b66-350">Parámetro</span><span class="sxs-lookup"><span data-stu-id="51b66-350">Parameter</span></span> | <span data-ttu-id="51b66-351">Description</span><span class="sxs-lookup"><span data-stu-id="51b66-351">Description</span></span> |
| --- | --- |
| <span data-ttu-id="51b66-352">error</span><span class="sxs-lookup"><span data-stu-id="51b66-352">error</span></span> |<span data-ttu-id="51b66-353">Una cadena de código de error que puede ser utilizados tooclassify tipos de errores que se producen.</span><span class="sxs-lookup"><span data-stu-id="51b66-353">An error code string that can be used tooclassify types of errors that occur.</span></span> <span data-ttu-id="51b66-354">También puede usar Hola cadena tooreact tooerrors.</span><span class="sxs-lookup"><span data-stu-id="51b66-354">You also can use hello string tooreact tooerrors.</span></span> |
| <span data-ttu-id="51b66-355">error_description</span><span class="sxs-lookup"><span data-stu-id="51b66-355">error_description</span></span> |<span data-ttu-id="51b66-356">Un mensaje de error específico que puede ayudarle a identificar la causa de raíz de Hola de un error de autenticación.</span><span class="sxs-lookup"><span data-stu-id="51b66-356">A specific error message that can help you identify hello root cause of an authentication error.</span></span> |

<span data-ttu-id="51b66-357">Si recibe este error en la solicitud de iframe de hello, Hola usuario debe iniciar interactivamente en nuevo tooretrieve un nuevo token.</span><span class="sxs-lookup"><span data-stu-id="51b66-357">If you receive this error in hello iframe request, hello user must interactively sign in again tooretrieve a new token.</span></span> <span data-ttu-id="51b66-358">Puede controlar esto de manera que tenga sentido para su aplicación.</span><span class="sxs-lookup"><span data-stu-id="51b66-358">You can handle this in a way that makes sense for your application.</span></span>

## <a name="refresh-tokens"></a><span data-ttu-id="51b66-359">Tokens de actualización</span><span class="sxs-lookup"><span data-stu-id="51b66-359">Refresh tokens</span></span>
<span data-ttu-id="51b66-360">Los tokens de identificador y los tokens de acceso expiran tras un breve período de tiempo.</span><span class="sxs-lookup"><span data-stu-id="51b66-360">ID tokens and access tokens both expire after a short period of time.</span></span> <span data-ttu-id="51b66-361">La aplicación debe estar preparada toorefresh estos tokens periódicamente.</span><span class="sxs-lookup"><span data-stu-id="51b66-361">Your app must be prepared toorefresh these tokens periodically.</span></span>  <span data-ttu-id="51b66-362">realizar cualquier tipo de símbolo (token), de toorefresh Hola misma solicitud iframe oculto que hemos usado en un ejemplo anterior, mediante el uso de hello `prompt=none` pasos toocontrol Azure AD de parámetro.</span><span class="sxs-lookup"><span data-stu-id="51b66-362">toorefresh either type of token, perform hello same hidden iframe request we used in an earlier example, by using hello `prompt=none` parameter toocontrol Azure AD steps.</span></span>  <span data-ttu-id="51b66-363">tooreceive un nuevo `id_token` valor, ser seguro toouse `response_type=id_token` y `scope=openid`y un `nonce` parámetro.</span><span class="sxs-lookup"><span data-stu-id="51b66-363">tooreceive a new `id_token` value, be sure toouse `response_type=id_token` and `scope=openid`, and a `nonce` parameter.</span></span>

## <a name="send-a-sign-out-request"></a><span data-ttu-id="51b66-364">Envío de una solicitud de cierre de sesión</span><span class="sxs-lookup"><span data-stu-id="51b66-364">Send a sign-out request</span></span>
<span data-ttu-id="51b66-365">Si desea que el usuario de hello toosign fuera de la aplicación hello, redirigir Hola usuario tooAzure AD toosign out. Si no lo hace, el usuario de hello podría ser capaz de tooreauthenticate tooyour aplicaciones sin escribir sus credenciales de nuevo.</span><span class="sxs-lookup"><span data-stu-id="51b66-365">When you want toosign hello user out of hello app, redirect hello user tooAzure AD toosign out. If you don't do this, hello user might be able tooreauthenticate tooyour app without entering their credentials again.</span></span> <span data-ttu-id="51b66-366">Esto se debe a que el usuario tendrá una sesión válida de inicio de sesión único con Azure AD.</span><span class="sxs-lookup"><span data-stu-id="51b66-366">This is because they will have a valid single sign-on session with Azure AD.</span></span>

<span data-ttu-id="51b66-367">Simplemente puede redirigir Hola usuario toohello `end_session_endpoint` decir enumerado en hello mismo documento de metadatos de OpenID Connect se describe en [validar el token del identificador hello](#validate-the-id-token).</span><span class="sxs-lookup"><span data-stu-id="51b66-367">You can simply redirect hello user toohello `end_session_endpoint` that is listed in hello same OpenID Connect metadata document described in [Validate hello ID token](#validate-the-id-token).</span></span> <span data-ttu-id="51b66-368">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="51b66-368">For example:</span></span>

```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/logout?
p=b2c_1_sign_in
&post_logout_redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
```

| <span data-ttu-id="51b66-369">Parámetro</span><span class="sxs-lookup"><span data-stu-id="51b66-369">Parameter</span></span> | <span data-ttu-id="51b66-370">¿Necesario?</span><span class="sxs-lookup"><span data-stu-id="51b66-370">Required?</span></span> | <span data-ttu-id="51b66-371">Description</span><span class="sxs-lookup"><span data-stu-id="51b66-371">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="51b66-372">p</span><span class="sxs-lookup"><span data-stu-id="51b66-372">p</span></span> |<span data-ttu-id="51b66-373">Obligatorio</span><span class="sxs-lookup"><span data-stu-id="51b66-373">Required</span></span> |<span data-ttu-id="51b66-374">Hola directiva toouse toosign Hola el usuario de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="51b66-374">hello policy toouse toosign hello user out of your application.</span></span> |
| <span data-ttu-id="51b66-375">post_logout_redirect_uri</span><span class="sxs-lookup"><span data-stu-id="51b66-375">post_logout_redirect_uri</span></span> |<span data-ttu-id="51b66-376">Recomendado</span><span class="sxs-lookup"><span data-stu-id="51b66-376">Recommended</span></span> |<span data-ttu-id="51b66-377">Hello ese usuario Hola de dirección URL debe ser redirigido tooafter correcta cierre de sesión. Si no se incluye, Azure AD B2C muestra un usuario de toohello mensaje genérico.</span><span class="sxs-lookup"><span data-stu-id="51b66-377">hello URL that hello user should be redirected tooafter successful sign-out. If it is not included, Azure AD B2C displays a generic message toohello user.</span></span> |

> [!NOTE]
> <span data-ttu-id="51b66-378">Dirigir Hola usuario toohello `end_session_endpoint` borra algunos Hola del único inicio de sesión de estado del usuario con Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="51b66-378">Directing hello user toohello `end_session_endpoint` clears some of hello user's single sign-on state with Azure AD B2C.</span></span> <span data-ttu-id="51b66-379">Sin embargo, no inicie sesión usuario Hola fuera de sesión del usuario de hello del proveedor de identidades sociales.</span><span class="sxs-lookup"><span data-stu-id="51b66-379">However, it doesn't sign hello user out of hello user's social identity provider session.</span></span> <span data-ttu-id="51b66-380">Si el usuario de hello selecciona Hola mismo identificar proveedor durante un inicio de sesión posteriores, se vuelve a autenticar el usuario de hello, sin proporcionar sus credenciales.</span><span class="sxs-lookup"><span data-stu-id="51b66-380">If hello user selects hello same identify provider during a subsequent sign-in, hello user is reauthenticated, without entering their credentials.</span></span> <span data-ttu-id="51b66-381">Si un usuario desea toosign fuera de la aplicación de Azure AD B2C, no necesariamente significa que desean toocompletely cerrado su sesión en su cuenta de Facebook, por ejemplo.</span><span class="sxs-lookup"><span data-stu-id="51b66-381">If a user wants toosign out of your Azure AD B2C application, it does not necessarily mean they want toocompletely sign out of their Facebook account, for example.</span></span> <span data-ttu-id="51b66-382">Sin embargo, para las cuentas locales, sesión de usuario de Hola se finalizará correctamente.</span><span class="sxs-lookup"><span data-stu-id="51b66-382">However, for local accounts, hello user's session will be ended properly.</span></span>
> 
> 

## <a name="use-your-own-azure-ad-b2c-tenant"></a><span data-ttu-id="51b66-383">Usar su propio inquilino de Azure AD B2C</span><span class="sxs-lookup"><span data-stu-id="51b66-383">Use your own Azure AD B2C tenant</span></span>
<span data-ttu-id="51b66-384">tootry estas solicitudes usted mismo, completar Hola siga tres pasos.</span><span class="sxs-lookup"><span data-stu-id="51b66-384">tootry these requests yourself, complete hello following three steps.</span></span> <span data-ttu-id="51b66-385">Reemplace los valores de ejemplo de Hola que se usan en este artículo con sus propios valores:</span><span class="sxs-lookup"><span data-stu-id="51b66-385">Replace hello example values we use in this article with your own values:</span></span>

1. <span data-ttu-id="51b66-386">[Crear un inquilino de Azure AD B2C](active-directory-b2c-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="51b66-386">[Create an Azure AD B2C tenant](active-directory-b2c-get-started.md).</span></span> <span data-ttu-id="51b66-387">Usar el nombre de hello del inquilino en las solicitudes de Hola.</span><span class="sxs-lookup"><span data-stu-id="51b66-387">Use hello name of your tenant in hello requests.</span></span>
2. <span data-ttu-id="51b66-388">[Crear una aplicación](active-directory-b2c-app-registration.md) tooobtain un identificador de aplicación y un `redirect_uri` valor.</span><span class="sxs-lookup"><span data-stu-id="51b66-388">[Create an application](active-directory-b2c-app-registration.md) tooobtain an application ID and a `redirect_uri` value.</span></span> <span data-ttu-id="51b66-389">Incluya una aplicación web o una API web en la aplicación.</span><span class="sxs-lookup"><span data-stu-id="51b66-389">Include a web app or web API in your app.</span></span> <span data-ttu-id="51b66-390">Opcionalmente, puede crear un secreto de aplicación.</span><span class="sxs-lookup"><span data-stu-id="51b66-390">Optionally, you can create an application secret.</span></span>
3. <span data-ttu-id="51b66-391">[Crear las directivas de](active-directory-b2c-reference-policies.md) tooobtain los nombres de directiva.</span><span class="sxs-lookup"><span data-stu-id="51b66-391">[Create your policies](active-directory-b2c-reference-policies.md) tooobtain your policy names.</span></span>

## <a name="samples"></a><span data-ttu-id="51b66-392">Muestras</span><span class="sxs-lookup"><span data-stu-id="51b66-392">Samples</span></span>

* [<span data-ttu-id="51b66-393">Creación de una aplicación de una página mediante Node.js</span><span class="sxs-lookup"><span data-stu-id="51b66-393">Create a single-page app by using Node.js</span></span>](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-nodejs-webapi)
* [<span data-ttu-id="51b66-394">Creación de una aplicación de una página mediante .NET</span><span class="sxs-lookup"><span data-stu-id="51b66-394">Create a single-page app by using .NET</span></span>](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-dotnet-webapi)

