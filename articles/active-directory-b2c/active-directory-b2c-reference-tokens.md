---
title: 'Azure Active Directory B2C: referencia de tokens | Microsoft Docs'
description: tipos de Hola de tokens emitidos en Azure Active Directory B2C
services: active-directory-b2c
documentationcenter: 
author: dstrockis
manager: mbaldwin
editor: 
ms.assetid: 6df79878-65cb-4dfc-98bb-2b328055bc2e
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 3/17/2017
ms.author: dastrock
ms.openlocfilehash: 776bc88cc0308875ac6e576f19ac9edf50319d08
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="azure-ad-b2c-token-reference"></a><span data-ttu-id="f30b2-103">Azure AD B2C: referencia de tokens</span><span class="sxs-lookup"><span data-stu-id="f30b2-103">Azure AD B2C: Token reference</span></span>
<span data-ttu-id="f30b2-104">Azure Active Directory B2C (Azure AD B2C) emite varios tipos de tokens de seguridad a medida que procesa cada [flujo de autenticación](active-directory-b2c-apps.md).</span><span class="sxs-lookup"><span data-stu-id="f30b2-104">Azure Active Directory B2C (Azure AD B2C) emits several types of security tokens as it processes each [authentication flow](active-directory-b2c-apps.md).</span></span> <span data-ttu-id="f30b2-105">Este documento describe el formato de hello, características de seguridad y el contenido de cada tipo de símbolo (token).</span><span class="sxs-lookup"><span data-stu-id="f30b2-105">This document describes hello format, security characteristics, and contents of each type of token.</span></span>

## <a name="types-of-tokens"></a><span data-ttu-id="f30b2-106">Tipos de tokens</span><span class="sxs-lookup"><span data-stu-id="f30b2-106">Types of tokens</span></span>
<span data-ttu-id="f30b2-107">B2C de Azure AD admite hello [protocolo de autorización de OAuth 2.0](active-directory-b2c-reference-protocols.md), que hace uso de los tokens de acceso y tokens de actualización.</span><span class="sxs-lookup"><span data-stu-id="f30b2-107">Azure AD B2C supports hello [OAuth 2.0 authorization protocol](active-directory-b2c-reference-protocols.md), which makes use of both access tokens and refresh tokens.</span></span> <span data-ttu-id="f30b2-108">También admite la autenticación e inicio de sesión a través de [OpenID Connect](active-directory-b2c-reference-protocols.md), que presenta un tercer tipo de símbolo (token): identificador de token de Hola.</span><span class="sxs-lookup"><span data-stu-id="f30b2-108">It also supports authentication and sign-in via [OpenID Connect](active-directory-b2c-reference-protocols.md), which introduces a third type of token: hello ID token.</span></span> <span data-ttu-id="f30b2-109">Todos estos tokens se representan como un token de portador.</span><span class="sxs-lookup"><span data-stu-id="f30b2-109">Each of these tokens is represented as a bearer token.</span></span>

<span data-ttu-id="f30b2-110">Un token de portador es un token de seguridad ligero que concede Hola tooa de "portador" acceso al recurso protegido.</span><span class="sxs-lookup"><span data-stu-id="f30b2-110">A bearer token is a lightweight security token that grants hello "bearer" access tooa protected resource.</span></span> <span data-ttu-id="f30b2-111">portador de Hello es cualquier entidad que puede presentar el token de Hola.</span><span class="sxs-lookup"><span data-stu-id="f30b2-111">hello bearer is any party that can present hello token.</span></span> <span data-ttu-id="f30b2-112">Para que una parte pueda recibir un token de portador, es necesario que Azure AD la autentique previamente.</span><span class="sxs-lookup"><span data-stu-id="f30b2-112">Azure AD must first authenticate a party before it can receive a bearer token.</span></span> <span data-ttu-id="f30b2-113">Pero si Hola necesario no se toman medidas toosecure Hola símbolo (token) de transmisión y el almacenamiento, se puede interceptar y utilizado por una entidad no deseada.</span><span class="sxs-lookup"><span data-stu-id="f30b2-113">But if hello required steps are not taken toosecure hello token in transmission and storage, it can be intercepted and used by an unintended party.</span></span> <span data-ttu-id="f30b2-114">Algunos tokens de seguridad disponen de un mecanismo integrado para evitar que usuarios no autorizados puedan usarlos, pero los tokens de portador no tienen este mecanismo.</span><span class="sxs-lookup"><span data-stu-id="f30b2-114">Some security tokens have a built-in mechanism for preventing unauthorized parties from using them, but bearer tokens do not have this mechanism.</span></span> <span data-ttu-id="f30b2-115">Deberán ser transportados en un canal seguro, como Seguridad de la capa de transporte (HTTPS).</span><span class="sxs-lookup"><span data-stu-id="f30b2-115">They must be transported in a secure channel, such as transport layer security (HTTPS).</span></span>

<span data-ttu-id="f30b2-116">Si se transmite un token de portador fuera de un canal seguro, un usuario malintencionado puede usar un token de ataque de man-in-the-middle tooacquire hello y usar recursos de tooa protegido del acceso de toogain no autorizado.</span><span class="sxs-lookup"><span data-stu-id="f30b2-116">If a bearer token is transmitted outside a secure channel, a malicious party can use a man-in-the-middle attack tooacquire hello token and use it toogain unauthorized access tooa protected resource.</span></span> <span data-ttu-id="f30b2-117">Hola mismos principios de seguridad que se aplican cuando se almacena tokens de portador o se almacena en caché para su uso posterior.</span><span class="sxs-lookup"><span data-stu-id="f30b2-117">hello same security principles apply when bearer tokens are stored or cached for later use.</span></span> <span data-ttu-id="f30b2-118">Asegúrate siempre de que la aplicación transmite y almacena los tokens de portador de manera segura.</span><span class="sxs-lookup"><span data-stu-id="f30b2-118">Always ensure that your app transmits and stores bearer tokens in a secure manner.</span></span>

<span data-ttu-id="f30b2-119">Para ver más consideraciones de seguridad relativas a los tokens de portador, consulte la [sección 5 de RFC 6750](http://tools.ietf.org/html/rfc6750).</span><span class="sxs-lookup"><span data-stu-id="f30b2-119">For additional security considerations on bearer tokens, see [RFC 6750 Section 5](http://tools.ietf.org/html/rfc6750).</span></span>

<span data-ttu-id="f30b2-120">Muchos de los tokens de Hola que emite Azure AD B2C se implementan como tokens de web JSON (Jwt).</span><span class="sxs-lookup"><span data-stu-id="f30b2-120">Many of hello tokens that Azure AD B2C issues are implemented as JSON web tokens (JWTs).</span></span> <span data-ttu-id="f30b2-121">Un JWT es un medio compacto y seguro de la dirección URL para transferir información entre dos partes.</span><span class="sxs-lookup"><span data-stu-id="f30b2-121">A JWT is a compact, URL-safe means of transferring information between two parties.</span></span> <span data-ttu-id="f30b2-122">Los JWT contienen información conocida como notificaciones.</span><span class="sxs-lookup"><span data-stu-id="f30b2-122">JWTs contain information known as claims.</span></span> <span data-ttu-id="f30b2-123">Se trata de aserciones de información sobre el portador de Hola y Hola del asunto del token de Hola.</span><span class="sxs-lookup"><span data-stu-id="f30b2-123">These are assertions of information about hello bearer and hello subject of hello token.</span></span> <span data-ttu-id="f30b2-124">notificaciones de Hola de Jwt son objetos JSON que se codifican y se serializan para la transmisión.</span><span class="sxs-lookup"><span data-stu-id="f30b2-124">hello claims in JWTs are JSON objects that are encoded and serialized for transmission.</span></span> <span data-ttu-id="f30b2-125">Porque hello Jwt emitidos por Azure AD B2C está firmado pero no cifrado, fácilmente puede inspeccionar el contenido de Hola de un toodebug JWT se.</span><span class="sxs-lookup"><span data-stu-id="f30b2-125">Because hello JWTs issued by Azure AD B2C are signed but not encrypted, you can easily inspect hello contents of a JWT toodebug it.</span></span> <span data-ttu-id="f30b2-126">Hay varias herramientas para hacerlo, entre ellas [calebb.net](http://calebb.net).</span><span class="sxs-lookup"><span data-stu-id="f30b2-126">Several tools are available that can do this, including [calebb.net](http://calebb.net).</span></span> <span data-ttu-id="f30b2-127">Para obtener más información acerca de Jwt, consulte demasiado[especificaciones de JWT](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html).</span><span class="sxs-lookup"><span data-stu-id="f30b2-127">For more information about JWTs, refer too[JWT specifications](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html).</span></span>

### <a name="id-tokens"></a><span data-ttu-id="f30b2-128">Tokens de identificador</span><span class="sxs-lookup"><span data-stu-id="f30b2-128">ID tokens</span></span>
<span data-ttu-id="f30b2-129">Un identificador de token es una forma de token de seguridad que recibe de la aplicación de Azure AD B2C hello `authorize` y `token` los puntos de conexión.</span><span class="sxs-lookup"><span data-stu-id="f30b2-129">An ID token is a form of security token that your app receives from hello Azure AD B2C `authorize` and `token` endpoints.</span></span> <span data-ttu-id="f30b2-130">Tokens de identificador se representan como [JWTs](#types-of-tokens), y contienen notificaciones que puede usar tooidentify a los usuarios de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="f30b2-130">ID tokens are represented as [JWTs](#types-of-tokens), and they contain claims that you can use tooidentify users in your app.</span></span> <span data-ttu-id="f30b2-131">Cuando se adquieren los tokens de Id. de hello `authorize` punto de conexión, suelen ser toosign usado en aplicaciones de tooweb de los usuarios.</span><span class="sxs-lookup"><span data-stu-id="f30b2-131">When ID tokens are acquired from hello `authorize` endpoint, they are often used toosign in users tooweb applications.</span></span> <span data-ttu-id="f30b2-132">Cuando se adquieren los tokens de Id. de hello `token` punto de conexión, se pueden enviar en solicitudes HTTP durante la comunicación entre dos componentes de hello misma aplicación o servicio.</span><span class="sxs-lookup"><span data-stu-id="f30b2-132">When ID tokens are acquired from hello `token` endpoint, they can be sent in HTTP requests during communication between two components of hello same application or service.</span></span> <span data-ttu-id="f30b2-133">Puede usar notificaciones de hello en un identificador de token como considere oportuno.</span><span class="sxs-lookup"><span data-stu-id="f30b2-133">You can use hello claims in an ID token as you see fit.</span></span> <span data-ttu-id="f30b2-134">Únicamente son utilizadas toodisplay cuenta información o toomake decisiones control de acceso en una aplicación.</span><span class="sxs-lookup"><span data-stu-id="f30b2-134">They are commonly used toodisplay account information or toomake access control decisions in an app.</span></span>  

<span data-ttu-id="f30b2-135">Los tokens de identificador están firmados, pero actualmente no están cifrados.</span><span class="sxs-lookup"><span data-stu-id="f30b2-135">ID tokens are signed, but they are not currently encrypted.</span></span> <span data-ttu-id="f30b2-136">Cuando su aplicación o API recibe un identificador de token, debe [validar la firma de hello](#token-validation) tooprove que Hola token es auténtico.</span><span class="sxs-lookup"><span data-stu-id="f30b2-136">When your app or API receives an ID token, it must [validate hello signature](#token-validation) tooprove that hello token is authentic.</span></span> <span data-ttu-id="f30b2-137">Su aplicación o la API también debe validar algunas notificaciones de hello tooprove símbolo (token) que es válido.</span><span class="sxs-lookup"><span data-stu-id="f30b2-137">Your app or API must also validate a few claims in hello token tooprove that it is valid.</span></span> <span data-ttu-id="f30b2-138">Según los requisitos de escenario de hello, pueden variar notificaciones Hola validados por una aplicación, pero la aplicación debe realizar algunas [validaciones de notificación comunes](#token-validation) en cada escenario.</span><span class="sxs-lookup"><span data-stu-id="f30b2-138">Depending on hello scenario requirements, hello claims validated by an app can vary, but your app must perform some [common claim validations](#token-validation) in every scenario.</span></span>

#### <a name="sample-id-token"></a><span data-ttu-id="f30b2-139">Token de identificador de ejemplo</span><span class="sxs-lookup"><span data-stu-id="f30b2-139">Sample ID token</span></span>
```
// Line breaks for display purposes only

eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IklkVG9rZW5TaWduaW5nS2V5Q29udGFpbmVyIn0.
eyJleHAiOjE0NDIzNjAwMzQsIm5iZiI6MTQ0MjM1NjQzNCwidmVyIjoiMS4wIiwiaXNzIjoiaHR0cHM6Ly9s
b2dpbi5taWNyb3NvZnRvbmxpbmUuY29tLzc3NTUyN2ZmLTlhMzctNDMwNy04YjNkLWNjMzExZjU4ZDkyNS92
Mi4wLyIsImFjciI6ImIyY18xX3NpZ25faW5fc3RvY2siLCJzdWIiOiJOb3Qgc3VwcG9ydGVkIGN1cnJlbnRs
eS4gVXNlIG9pZCBjbGFpbS4iLCJhdWQiOiI5MGMwZmU2My1iY2YyLTQ0ZDUtOGZiNy1iOGJiYzBiMjlkYzYi
LCJpYXQiOjE0NDIzNTY0MzQsImF1dGhfdGltZSI6MTQ0MjM1NjQzNCwiaWRwIjoiZmFjZWJvb2suY29tIn0.
h-uiKcrT882pSKUtWCpj-_3b3vPs3bOWsESAhPMrL-iIIacKc6_uZrWxaWvIYkLra5czBcGKWrYwrAC8ZvQe
DJWZ50WXQrZYODEW1OUwzaD_I1f1HE0c2uvaWdGXBpDEVdsD3ExKaFlKGjFR2V7F-fPThkVDdKmkUDQX3bVc
yyj2V2nlCQ9jd7aGnokTPfLfpOjuIrTsAdPcGpe5hfSEuwYDmqOJjGs9Jp1f-eSNEiCDQOaTBSvr479L5ptP
XWeQZyX2SypN05Rjr05bjZh3j70ZUimiocfJzjibeoDCaQTz907yAg91WYuFOrQxb-5BaUoR7K-O7vxr2M-_
CQhoFA

```

### <a name="access-tokens"></a><span data-ttu-id="f30b2-140">Tokens de acceso</span><span class="sxs-lookup"><span data-stu-id="f30b2-140">Access tokens</span></span>
<span data-ttu-id="f30b2-141">Un token de acceso también es una forma de token de seguridad que recibe de la aplicación de Azure AD B2C hello `authorize` y `token` los puntos de conexión.</span><span class="sxs-lookup"><span data-stu-id="f30b2-141">An access token is also a form of security token that your app receives from hello Azure AD B2C `authorize` and `token` endpoints.</span></span> <span data-ttu-id="f30b2-142">Tokens de acceso también se representan como [JWTs](#types-of-tokens), y contienen notificaciones que se puede usar hello tooidentify concedido permisos tooyour API.</span><span class="sxs-lookup"><span data-stu-id="f30b2-142">Access tokens are also represented as [JWTs](#types-of-tokens), and they contain claims that you can use tooidentify hello granted permissions tooyour APIs.</span></span> <span data-ttu-id="f30b2-143">Los tokens de acceso están firmados, pero actualmente no están cifrados.</span><span class="sxs-lookup"><span data-stu-id="f30b2-143">Access tokens are signed, but they are not currently encrypted.</span></span> <span data-ttu-id="f30b2-144">Tokens de acceso deben ser servidores de tooAPIs y recursos de acceso de tooprovide usado.</span><span class="sxs-lookup"><span data-stu-id="f30b2-144">Access tokens should be used tooprovide access tooAPIs and resource servers.</span></span> <span data-ttu-id="f30b2-145">Más información acerca de cómo demasiado[usar tokens de acceso](active-directory-b2c-access-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="f30b2-145">Learn more about how too[use access tokens](active-directory-b2c-access-tokens.md).</span></span> 

<span data-ttu-id="f30b2-146">Cuando su API recibe un token de acceso, debe [validar la firma de hello](#token-validation) tooprove que Hola token es auténtico.</span><span class="sxs-lookup"><span data-stu-id="f30b2-146">When your API receives an access token, it must [validate hello signature](#token-validation) tooprove that hello token is authentic.</span></span> <span data-ttu-id="f30b2-147">La API también debe validar algunas notificaciones de hello tooprove símbolo (token) que es válido.</span><span class="sxs-lookup"><span data-stu-id="f30b2-147">Your API must also validate a few claims in hello token tooprove that it is valid.</span></span> <span data-ttu-id="f30b2-148">Según los requisitos de escenario de hello, pueden variar notificaciones Hola validados por una aplicación, pero la aplicación debe realizar algunas [validaciones de notificación comunes](#token-validation) en cada escenario.</span><span class="sxs-lookup"><span data-stu-id="f30b2-148">Depending on hello scenario requirements, hello claims validated by an app can vary, but your app must perform some [common claim validations](#token-validation) in every scenario.</span></span>

### <a name="claims-in-id-and-access-tokens"></a><span data-ttu-id="f30b2-149">Notificaciones en los tokens de identificador y de acceso</span><span class="sxs-lookup"><span data-stu-id="f30b2-149">Claims in ID and access tokens</span></span>
<span data-ttu-id="f30b2-150">Cuando se usa Azure AD B2C, tendrá un control específico sobre el contenido de Hola de sus tokens.</span><span class="sxs-lookup"><span data-stu-id="f30b2-150">When you use Azure AD B2C, you have fine-grained control over hello content of your tokens.</span></span> <span data-ttu-id="f30b2-151">Puede configurar [directivas](active-directory-b2c-reference-policies.md) toosend cierto conjuntos de datos de usuario en las notificaciones que requiere la aplicación para sus operaciones.</span><span class="sxs-lookup"><span data-stu-id="f30b2-151">You can configure [policies](active-directory-b2c-reference-policies.md) toosend certain sets of user data in claims that your app requires for its operations.</span></span> <span data-ttu-id="f30b2-152">Estas notificaciones pueden incluir propiedades estándar como del usuario de hello `displayName` y `emailAddress`.</span><span class="sxs-lookup"><span data-stu-id="f30b2-152">These claims can include standard properties such as hello user's `displayName` and `emailAddress`.</span></span> <span data-ttu-id="f30b2-153">También pueden incluir [atributos de usuario personalizados](active-directory-b2c-reference-custom-attr.md) que se pueden definir en el directorio de B2C.</span><span class="sxs-lookup"><span data-stu-id="f30b2-153">They can also include [custom user attributes](active-directory-b2c-reference-custom-attr.md) that you can define in your B2C directory.</span></span> <span data-ttu-id="f30b2-154">Todos los tokens de identificador y de acceso que reciba contienen un conjunto concreto de notificaciones relacionadas con la seguridad.</span><span class="sxs-lookup"><span data-stu-id="f30b2-154">Every ID and access token that you receive contains a certain set of security-related claims.</span></span> <span data-ttu-id="f30b2-155">Las aplicaciones pueden usar estas notificaciones toosecurely autenticar usuarios y solicitudes.</span><span class="sxs-lookup"><span data-stu-id="f30b2-155">Your applications can use these claims toosecurely authenticate users and requests.</span></span>

<span data-ttu-id="f30b2-156">Tenga en cuenta que no se devuelven notificaciones de hello en tokens de identificador en ningún orden concreto.</span><span class="sxs-lookup"><span data-stu-id="f30b2-156">Note that hello claims in ID tokens are not returned in any particular order.</span></span> <span data-ttu-id="f30b2-157">Además, se pueden agregar nuevas notificaciones en tokens de identificador en cualquier momento.</span><span class="sxs-lookup"><span data-stu-id="f30b2-157">In addition, new claims can be introduced in ID tokens at any time.</span></span> <span data-ttu-id="f30b2-158">No se debe interrumpir la aplicación cuando se agreguen nuevas notificaciones.</span><span class="sxs-lookup"><span data-stu-id="f30b2-158">Your app should not break as new claims are introduced.</span></span> <span data-ttu-id="f30b2-159">Estos son Hola de notificaciones que se espera tooexist de acceso y el Id. de tokens emitidos por Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="f30b2-159">Here are hello claims that you expect tooexist in ID and access tokens issued by Azure AD B2C.</span></span> <span data-ttu-id="f30b2-160">Las directivas determinan otras notificaciones adicionales.</span><span class="sxs-lookup"><span data-stu-id="f30b2-160">Any additional claims are determined by policies.</span></span> <span data-ttu-id="f30b2-161">Para practicar, intente inspeccionar notificaciones de hello en el token de Id. de ejemplo de Hola pegándolos en [calebb.net](http://calebb.net).</span><span class="sxs-lookup"><span data-stu-id="f30b2-161">For practice, try inspecting hello claims in hello sample ID token by pasting it into [calebb.net](http://calebb.net).</span></span> <span data-ttu-id="f30b2-162">Encontrará más detalles en hello [especificación OpenID Connect](http://openid.net/specs/openid-connect-core-1_0.html).</span><span class="sxs-lookup"><span data-stu-id="f30b2-162">Further details can be found in hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span></span>

| <span data-ttu-id="f30b2-163">Nombre</span><span class="sxs-lookup"><span data-stu-id="f30b2-163">Name</span></span> | <span data-ttu-id="f30b2-164">Notificación</span><span class="sxs-lookup"><span data-stu-id="f30b2-164">Claim</span></span> | <span data-ttu-id="f30b2-165">Valor de ejemplo</span><span class="sxs-lookup"><span data-stu-id="f30b2-165">Example value</span></span> | <span data-ttu-id="f30b2-166">Descripción</span><span class="sxs-lookup"><span data-stu-id="f30b2-166">Description</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="f30b2-167">Público</span><span class="sxs-lookup"><span data-stu-id="f30b2-167">Audience</span></span> |`aud` |`90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6` |<span data-ttu-id="f30b2-168">Una notificación de audiencia identifica a destinatario Hola prevista del token de Hola.</span><span class="sxs-lookup"><span data-stu-id="f30b2-168">An audience claim identifies hello intended recipient of hello token.</span></span> <span data-ttu-id="f30b2-169">Para Azure AD B2C, Hola está dirigido Id. de aplicación de la aplicación, como aplicación de tooyour asignado en el portal de registro de aplicación Hola.</span><span class="sxs-lookup"><span data-stu-id="f30b2-169">For Azure AD B2C, hello audience is your app's application ID, as assigned tooyour app in hello app registration portal.</span></span> <span data-ttu-id="f30b2-170">La aplicación debe validar este valor y rechazar el token de hello si no coincide.</span><span class="sxs-lookup"><span data-stu-id="f30b2-170">Your app should validate this value and reject hello token if it does not match.</span></span> |
| <span data-ttu-id="f30b2-171">Emisor</span><span class="sxs-lookup"><span data-stu-id="f30b2-171">Issuer</span></span> |`iss` |`https://login.microsoftonline.com/775527ff-9a37-4307-8b3d-cc311f58d925/v2.0/` |<span data-ttu-id="f30b2-172">Esta notificación identifica Hola símbolo (token) servicio de seguridad (STS) que construye y devuelve el símbolo (token) de Hola.</span><span class="sxs-lookup"><span data-stu-id="f30b2-172">This claim identifies hello security token service (STS) that constructs and returns hello token.</span></span> <span data-ttu-id="f30b2-173">También identifica el directorio de Azure AD de hello en qué Hola se ha autenticado el usuario.</span><span class="sxs-lookup"><span data-stu-id="f30b2-173">It also identifies hello Azure AD directory in which hello user was authenticated.</span></span> <span data-ttu-id="f30b2-174">La aplicación debe validar la notificación de emisor de hello tooensure que Hola token procede de extremo v2.0 de hello Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="f30b2-174">Your app should validate hello issuer claim tooensure that hello token came from hello Azure Active Directory v2.0 endpoint.</span></span> |
| <span data-ttu-id="f30b2-175">Emitido a las</span><span class="sxs-lookup"><span data-stu-id="f30b2-175">Issued at</span></span> |`iat` |`1438535543` |<span data-ttu-id="f30b2-176">Esta notificación es el momento de Hola a qué Hola se emitió el token, representado en tiempo base.</span><span class="sxs-lookup"><span data-stu-id="f30b2-176">This claim is hello time at which hello token was issued, represented in epoch time.</span></span> |
| <span data-ttu-id="f30b2-177">Fecha de expiración</span><span class="sxs-lookup"><span data-stu-id="f30b2-177">Expiration time</span></span> |`exp` |`1438539443` |<span data-ttu-id="f30b2-178">Hola notificación de tiempo de expiración es hora de hello en qué Hola símbolo (token) se vuelve no válido, se representan en tiempo.</span><span class="sxs-lookup"><span data-stu-id="f30b2-178">hello expiration time claim is hello time at which hello token becomes invalid, represented in epoch time.</span></span> <span data-ttu-id="f30b2-179">La aplicación debe utilizar este validez de hello tooverify de notificación de duración del token Hola.</span><span class="sxs-lookup"><span data-stu-id="f30b2-179">Your app should use this claim tooverify hello validity of hello token lifetime.</span></span> |
| <span data-ttu-id="f30b2-180">No antes de</span><span class="sxs-lookup"><span data-stu-id="f30b2-180">Not before</span></span> |`nbf` |`1438535543` |<span data-ttu-id="f30b2-181">Esta notificación es el momento de hello en qué Hola símbolo (token) se convierte en válido, se representan en tiempo base.</span><span class="sxs-lookup"><span data-stu-id="f30b2-181">This claim is hello time at which hello token becomes valid, represented in epoch time.</span></span> <span data-ttu-id="f30b2-182">Esto se suele Hola a mismo como Hola tiempo Hola token haya sido emitido.</span><span class="sxs-lookup"><span data-stu-id="f30b2-182">This is usually hello same as hello time hello token was issued.</span></span> <span data-ttu-id="f30b2-183">La aplicación debe utilizar este validez de hello tooverify de notificación de duración del token Hola.</span><span class="sxs-lookup"><span data-stu-id="f30b2-183">Your app should use this claim tooverify hello validity of hello token lifetime.</span></span> |
| <span data-ttu-id="f30b2-184">Versión</span><span class="sxs-lookup"><span data-stu-id="f30b2-184">Version</span></span> |`ver` |`1.0` |<span data-ttu-id="f30b2-185">Esta es la versión de Hola de token de Id. de hello, tal como se define por Azure AD.</span><span class="sxs-lookup"><span data-stu-id="f30b2-185">This is hello version of hello ID token, as defined by Azure AD.</span></span> |
| <span data-ttu-id="f30b2-186">Código hash</span><span class="sxs-lookup"><span data-stu-id="f30b2-186">Code hash</span></span> |`c_hash` |`SGCPtt01wxwfgnYZy2VJtQ` |<span data-ttu-id="f30b2-187">Un hash de código se incluye en un identificador de token solo cuando se emite el token de hello junto con un código de autorización de OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="f30b2-187">A code hash is included in an ID token only when hello token is issued together with an OAuth 2.0 authorization code.</span></span> <span data-ttu-id="f30b2-188">Un hash de código puede ser usado toovalidate Hola autenticidad de un código de autorización.</span><span class="sxs-lookup"><span data-stu-id="f30b2-188">A code hash can be used toovalidate hello authenticity of an authorization code.</span></span> <span data-ttu-id="f30b2-189">Para obtener más información acerca de cómo tooperform esta validación, vea hello [especificación OpenID Connect](http://openid.net/specs/openid-connect-core-1_0.html).</span><span class="sxs-lookup"><span data-stu-id="f30b2-189">For more details on how tooperform this validation, see hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span></span>  |
| <span data-ttu-id="f30b2-190">Hash de token de acceso</span><span class="sxs-lookup"><span data-stu-id="f30b2-190">Access token hash</span></span> |`at_hash` |`SGCPtt01wxwfgnYZy2VJtQ` |<span data-ttu-id="f30b2-191">Un hash de token de acceso se incluye en un identificador de token solo cuando se emite el token de hello junto con un token de acceso de OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="f30b2-191">An access token hash is included in an ID token only when hello token is issued together with an OAuth 2.0 access token.</span></span> <span data-ttu-id="f30b2-192">Un hash de token de acceso puede ser usado toovalidate Hola autenticidad de un token de acceso.</span><span class="sxs-lookup"><span data-stu-id="f30b2-192">An access token hash can be used toovalidate hello authenticity of an access token.</span></span> <span data-ttu-id="f30b2-193">Para obtener más información acerca de cómo tooperform esta validación, vea hello [especificación OpenID Connect](http://openid.net/specs/openid-connect-core-1_0.html)</span><span class="sxs-lookup"><span data-stu-id="f30b2-193">For more details on how tooperform this validation, see hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html)</span></span>  |
| <span data-ttu-id="f30b2-194">Valor de seguridad</span><span class="sxs-lookup"><span data-stu-id="f30b2-194">Nonce</span></span> |`nonce` |`12345` |<span data-ttu-id="f30b2-195">Un nonce es que usa una estrategia mediante ataques de reproducción de tokens de toomitigate.</span><span class="sxs-lookup"><span data-stu-id="f30b2-195">A nonce is a strategy used toomitigate token replay attacks.</span></span> <span data-ttu-id="f30b2-196">La aplicación puede especificar un valor nonce en una solicitud de autorización mediante hello `nonce` parámetro de consulta.</span><span class="sxs-lookup"><span data-stu-id="f30b2-196">Your app can specify a nonce in an authorization request by using hello `nonce` query parameter.</span></span> <span data-ttu-id="f30b2-197">valor de Hola que proporcione en solicitud de saludo se emitirá sin modificar en hello `nonce` de notificación de un identificador de token solo.</span><span class="sxs-lookup"><span data-stu-id="f30b2-197">hello value you provide in hello request will be emitted unmodified in hello `nonce` claim of an ID token only.</span></span> <span data-ttu-id="f30b2-198">Esto permite que el valor de aplicación tooverify Hola con valor de hello que lo especificado en la solicitud de hello, que asocia la sesión de la aplicación hello con un determinado identificador de token.</span><span class="sxs-lookup"><span data-stu-id="f30b2-198">This allows your app tooverify hello value against hello value it specified on hello request, which associates hello app's session with a given ID token.</span></span> <span data-ttu-id="f30b2-199">La aplicación debe realizar esta validación durante el proceso de validación del token de Id. de Hola.</span><span class="sxs-lookup"><span data-stu-id="f30b2-199">Your app should perform this validation during hello ID token validation process.</span></span> |
| <span data-ttu-id="f30b2-200">Asunto</span><span class="sxs-lookup"><span data-stu-id="f30b2-200">Subject</span></span> |`sub` |`884408e1-2918-4cz0-b12d-3aa027d7563b` |<span data-ttu-id="f30b2-201">Se trata de entidad de seguridad de hello sobre qué Hola token valida información, como el usuario de una aplicación Hola.</span><span class="sxs-lookup"><span data-stu-id="f30b2-201">This is hello principal about which hello token asserts information, such as hello user of an app.</span></span> <span data-ttu-id="f30b2-202">Este valor es inmutable y no se puede reasignar ni volver a usar.</span><span class="sxs-lookup"><span data-stu-id="f30b2-202">This value is immutable and cannot be reassigned or reused.</span></span> <span data-ttu-id="f30b2-203">Puede ser usado tooperform las comprobaciones de autorización de forma segura, como cuando el token de Hola se tooaccess usa un recurso.</span><span class="sxs-lookup"><span data-stu-id="f30b2-203">It can be used tooperform authorization checks safely, such as when hello token is used tooaccess a resource.</span></span> <span data-ttu-id="f30b2-204">De forma predeterminada, notificación de asunto Hola se rellena con hello Id. de objeto de usuario de hello en el directorio de Hola.</span><span class="sxs-lookup"><span data-stu-id="f30b2-204">By default, hello subject claim is populated with hello object ID of hello user in hello directory.</span></span> <span data-ttu-id="f30b2-205">más información, consulte toolearn [Azure Active Directory B2C: símbolo (token), la sesión y la configuración de inicio de sesión único](active-directory-b2c-token-session-sso.md).</span><span class="sxs-lookup"><span data-stu-id="f30b2-205">toolearn more, see [Azure Active Directory B2C: Token, session, and single sign-on configuration](active-directory-b2c-token-session-sso.md).</span></span> |
| <span data-ttu-id="f30b2-206">Referencia de clase de contexto de autenticación</span><span class="sxs-lookup"><span data-stu-id="f30b2-206">Authentication context class reference</span></span> |`acr` |<span data-ttu-id="f30b2-207">No aplicable</span><span class="sxs-lookup"><span data-stu-id="f30b2-207">Not applicable</span></span> |<span data-ttu-id="f30b2-208">No se usa actualmente, excepto en el caso de hello de directivas anteriores.</span><span class="sxs-lookup"><span data-stu-id="f30b2-208">Not used currently, except in hello case of older policies.</span></span> <span data-ttu-id="f30b2-209">más información, consulte toolearn [Azure Active Directory B2C: símbolo (token), la sesión y la configuración de inicio de sesión único](active-directory-b2c-token-session-sso.md).</span><span class="sxs-lookup"><span data-stu-id="f30b2-209">toolearn more, see [Azure Active Directory B2C: Token, session, and single sign-on configuration](active-directory-b2c-token-session-sso.md).</span></span> |
| <span data-ttu-id="f30b2-210">Directiva de marco de confianza</span><span class="sxs-lookup"><span data-stu-id="f30b2-210">Trust framework policy</span></span> |`tfp` |`b2c_1_sign_in` |<span data-ttu-id="f30b2-211">Este es el nombre de Hola de directiva de Hola que era el token del identificador hello tooacquire usado.</span><span class="sxs-lookup"><span data-stu-id="f30b2-211">This is hello name of hello policy that was used tooacquire hello ID token.</span></span> |
| <span data-ttu-id="f30b2-212">Hora de autenticación</span><span class="sxs-lookup"><span data-stu-id="f30b2-212">Authentication time</span></span> |`auth_time` |`1438535543` |<span data-ttu-id="f30b2-213">Esta notificación es el momento de hello en el que un último especificado credenciales de usuario se representan en tiempo base.</span><span class="sxs-lookup"><span data-stu-id="f30b2-213">This claim is hello time at which a user last entered credentials, represented in epoch time.</span></span> |

### <a name="refresh-tokens"></a><span data-ttu-id="f30b2-214">Tokens de actualización</span><span class="sxs-lookup"><span data-stu-id="f30b2-214">Refresh tokens</span></span>
<span data-ttu-id="f30b2-215">Actualizar los tokens son tokens de seguridad que la aplicación puede usar tooacquire nuevos tokens de identificador y tokens de acceso en un flujo de OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="f30b2-215">Refresh tokens are security tokens that your app can use tooacquire new ID tokens and access tokens in an OAuth 2.0 flow.</span></span> <span data-ttu-id="f30b2-216">Proporcionan la aplicación tooresources de acceso a largo plazo en nombre de los usuarios sin necesidad de interacción con los usuarios.</span><span class="sxs-lookup"><span data-stu-id="f30b2-216">They provide your app with long-term access tooresources on behalf of users without requiring interaction with those users.</span></span>

<span data-ttu-id="f30b2-217">tooreceive un token de actualización en una respuesta de token, la aplicación debe solicitar hello `offline_acesss` ámbito.</span><span class="sxs-lookup"><span data-stu-id="f30b2-217">tooreceive a refresh token in a token response, your app must request hello `offline_acesss` scope.</span></span> <span data-ttu-id="f30b2-218">más información acerca de hello toolearn `offline_access` ámbito, consulte toohello [referencia del protocolo de Azure AD B2C](active-directory-b2c-reference-protocols.md).</span><span class="sxs-lookup"><span data-stu-id="f30b2-218">toolearn more about hello `offline_access` scope, refer toohello [Azure AD B2C protocol reference](active-directory-b2c-reference-protocols.md).</span></span>

<span data-ttu-id="f30b2-219">Tokens de actualización son y siempre será, aplicación tooyour completamente opaco.</span><span class="sxs-lookup"><span data-stu-id="f30b2-219">Refresh tokens are, and will always be, completely opaque tooyour app.</span></span> <span data-ttu-id="f30b2-220">Los emite Azure AD y solo Azure AD los puede inspeccionar e interpretar.</span><span class="sxs-lookup"><span data-stu-id="f30b2-220">They are issued by Azure AD and can be inspected and interpreted only by Azure AD.</span></span> <span data-ttu-id="f30b2-221">Son de larga duración, pero la aplicación no debe escribirse con la expectativa de Hola que un token de actualización durarán durante un período de tiempo específico.</span><span class="sxs-lookup"><span data-stu-id="f30b2-221">They are long-lived, but your app should not be written with hello expectation that a refresh token will last for a specific period of time.</span></span> <span data-ttu-id="f30b2-222">Los tokens de actualización pueden invalidarse en cualquier momento por varios motivos.</span><span class="sxs-lookup"><span data-stu-id="f30b2-222">Refresh tokens can be invalidated at any moment for a variety of reasons.</span></span> <span data-ttu-id="f30b2-223">Hola solo tooattempt tooredeem de forma para su tooknow de aplicación si un token de actualización es válido, realizando una tooAzure de solicitud de token AD.</span><span class="sxs-lookup"><span data-stu-id="f30b2-223">hello only way for your app tooknow if a refresh token is valid is tooattempt tooredeem it by making a token request tooAzure AD.</span></span>

<span data-ttu-id="f30b2-224">Al canjear un token de actualización para un nuevo token (y si la aplicación se ha concedido hello `offline_access` ámbito), recibirá un nuevo token de actualización en la respuesta de token de Hola.</span><span class="sxs-lookup"><span data-stu-id="f30b2-224">When you redeem a refresh token for a new token (and if your app has been granted hello `offline_access` scope), you will receive a new refresh token in hello token response.</span></span> <span data-ttu-id="f30b2-225">Debe guardar el token de actualización de hello recién emitido.</span><span class="sxs-lookup"><span data-stu-id="f30b2-225">You should save hello newly issued refresh token.</span></span> <span data-ttu-id="f30b2-226">Debe reemplazar el token de actualización de Hola que había utilizado previamente en la solicitud de saludo.</span><span class="sxs-lookup"><span data-stu-id="f30b2-226">It should replace hello refresh token you previously used in hello request.</span></span> <span data-ttu-id="f30b2-227">Esto ayuda a garantizar que los tokens de actualización sigan siendo válidos mientras sea posible.</span><span class="sxs-lookup"><span data-stu-id="f30b2-227">This helps guarantee that your refresh tokens remain valid for as long as possible.</span></span>

## <a name="token-validation"></a><span data-ttu-id="f30b2-228">Validación de tokens</span><span class="sxs-lookup"><span data-stu-id="f30b2-228">Token validation</span></span>
<span data-ttu-id="f30b2-229">toovalidate un token, la aplicación debe comprobar firma hello y notificaciones del token de Hola.</span><span class="sxs-lookup"><span data-stu-id="f30b2-229">toovalidate a token, your app should check both hello signature and claims of hello token.</span></span>

<span data-ttu-id="f30b2-230">Hay muchas bibliotecas de código abierto disponibles para validar los JWT según su lenguaje preferido.</span><span class="sxs-lookup"><span data-stu-id="f30b2-230">Many open source libraries are available for validating JWTs, depending on your preferred language.</span></span> <span data-ttu-id="f30b2-231">Se recomienda explorar esas opciones en lugar de implementar su propia lógica de validación.</span><span class="sxs-lookup"><span data-stu-id="f30b2-231">We recommend that you explore those options rather than implement your own validation logic.</span></span> <span data-ttu-id="f30b2-232">información de Hello en esta guía puede ayudarle a aprender cómo tooproperly utilizar dichas bibliotecas.</span><span class="sxs-lookup"><span data-stu-id="f30b2-232">hello information in this guide can help you learn how tooproperly use those libraries.</span></span>

### <a name="validate-hello-signature"></a><span data-ttu-id="f30b2-233">Validar la firma de Hola</span><span class="sxs-lookup"><span data-stu-id="f30b2-233">Validate hello signature</span></span>
<span data-ttu-id="f30b2-234">Un JWT contiene tres segmentos, separados por hello `.` caracteres.</span><span class="sxs-lookup"><span data-stu-id="f30b2-234">A JWT contains three segments, separated by hello `.` character.</span></span> <span data-ttu-id="f30b2-235">primer segmento de Hello es hello *encabezado*, hello en segundo lugar es hello *cuerpo*, y el tercero, hello es hello *firma*.</span><span class="sxs-lookup"><span data-stu-id="f30b2-235">hello first segment is hello *header*, hello second is hello *body*, and hello third is hello *signature*.</span></span> <span data-ttu-id="f30b2-236">segmento de firma de Hello puede ser usado toovalidate Hola autenticidad del token de Hola para que lo puede ser de confianza para la aplicación.</span><span class="sxs-lookup"><span data-stu-id="f30b2-236">hello signature segment can be used toovalidate hello authenticity of hello token so that it can be trusted by your app.</span></span>

<span data-ttu-id="f30b2-237">Los tokens de Azure AD B2C se firman con algoritmos de cifrado asimétrico estándar del sector, como RSA 256.</span><span class="sxs-lookup"><span data-stu-id="f30b2-237">Azure AD B2C tokens are signed by using industry-standard asymmetric encryption algorithms, such as RSA 256.</span></span> <span data-ttu-id="f30b2-238">encabezado de Hello del token de hello contiene información acerca de la clave de Hola y método de cifrado usa el token de Hola toosign:</span><span class="sxs-lookup"><span data-stu-id="f30b2-238">hello header of hello token contains information about hello key and encryption method used toosign hello token:</span></span>

```
{
        "typ": "JWT",
        "alg": "RS256",
        "kid": "GvnPApfWMdLRi8PDmisFn7bprKg"
}
```

<span data-ttu-id="f30b2-239">Hola `alg` notificación indica el algoritmo de Hola que era el token de hello toosign usado.</span><span class="sxs-lookup"><span data-stu-id="f30b2-239">hello `alg` claim indicates hello algorithm that was used toosign hello token.</span></span> <span data-ttu-id="f30b2-240">Hola `kid` notificación indica la clave pública determinada Hola que era el token de hello toosign usado.</span><span class="sxs-lookup"><span data-stu-id="f30b2-240">hello `kid` claim indicates hello particular public key that was used toosign hello token.</span></span>

<span data-ttu-id="f30b2-241">En cualquier momento, Azure AD puede firmar un token mediante cualquiera de un determinado conjunto de pares de claves pública y privada.</span><span class="sxs-lookup"><span data-stu-id="f30b2-241">At any given time, Azure AD can sign a token by using any one of a certain set of public-private key pairs.</span></span> <span data-ttu-id="f30b2-242">Azure AD gira posible conjunto de claves de hello periódicamente, por lo que la aplicación debe escribirse toohandle esos clave cambia automáticamente.</span><span class="sxs-lookup"><span data-stu-id="f30b2-242">Azure AD rotates hello possible set of keys periodically, so your app should be written toohandle those key changes automatically.</span></span> <span data-ttu-id="f30b2-243">Un toocheck frecuencia razonable para claves públicas de las actualizaciones toohello usa Azure AD es cada 24 horas.</span><span class="sxs-lookup"><span data-stu-id="f30b2-243">A reasonable frequency toocheck for updates toohello public keys used by Azure AD is every 24 hours.</span></span>

<span data-ttu-id="f30b2-244">Azure AD B2C tiene un punto de conexión de metadatos OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="f30b2-244">Azure AD B2C has an OpenID Connect metadata endpoint.</span></span> <span data-ttu-id="f30b2-245">Esto permite a las aplicaciones toofetch información acerca de Azure AD B2C en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="f30b2-245">This allows apps toofetch information about Azure AD B2C at runtime.</span></span> <span data-ttu-id="f30b2-246">En esta información se incluyen los extremos, los contenidos del token y las claves de firma de los token.</span><span class="sxs-lookup"><span data-stu-id="f30b2-246">This information includes endpoints, token contents, and token signing keys.</span></span> <span data-ttu-id="f30b2-247">Su directorio B2C contiene un documento de metadatos JSON para cada directiva.</span><span class="sxs-lookup"><span data-stu-id="f30b2-247">Your B2C directory contains a JSON metadata document for each policy.</span></span> <span data-ttu-id="f30b2-248">Por ejemplo, documento de metadatos de Hola para hello `b2c_1_sign_in` directiva en `fabrikamb2c.onmicrosoft.com` se encuentra en:</span><span class="sxs-lookup"><span data-stu-id="f30b2-248">For example, hello metadata document for hello `b2c_1_sign_in` policy in  `fabrikamb2c.onmicrosoft.com` is located at:</span></span>

```
https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=b2c_1_sign_in
```

<span data-ttu-id="f30b2-249">`fabrikamb2c.onmicrosoft.com`es usuario de hello tooauthenticate, que usa directory Hola B2C y `b2c_1_sign_in` es Directiva hello usa el token de hello tooacquire.</span><span class="sxs-lookup"><span data-stu-id="f30b2-249">`fabrikamb2c.onmicrosoft.com` is hello B2C directory used tooauthenticate hello user, and `b2c_1_sign_in` is hello policy used tooacquire hello token.</span></span> <span data-ttu-id="f30b2-250">toodetermine qué directiva era toosign usa un token (y donde toogo toofetch Hola metadatos), tiene dos opciones.</span><span class="sxs-lookup"><span data-stu-id="f30b2-250">toodetermine which policy was used toosign a token (and where toogo toofetch hello metadata), you have two options.</span></span> <span data-ttu-id="f30b2-251">En primer lugar, se incluye el nombre de la directiva de Hola Hola `acr` de notificación en el token de Hola.</span><span class="sxs-lookup"><span data-stu-id="f30b2-251">First, hello policy name is included in hello `acr` claim in hello token.</span></span> <span data-ttu-id="f30b2-252">Puede analizar notificaciones del cuerpo de Hola de hello JWT por cuerpo Hola descodificación de Base64 y deserializar Hola que da como resultado de cadena de JSON.</span><span class="sxs-lookup"><span data-stu-id="f30b2-252">You can parse claims out of hello body of hello JWT by base-64 decoding hello body and deserializing hello JSON string that results.</span></span> <span data-ttu-id="f30b2-253">Hola `acr` notificación estará formado por nombre de Hola de directiva de Hola que era el token de hello tooissue usado.</span><span class="sxs-lookup"><span data-stu-id="f30b2-253">hello `acr` claim will be hello name of hello policy that was used tooissue hello token.</span></span>  <span data-ttu-id="f30b2-254">La otra opción es la directiva de hello tooencode en valor de Hola de hello `state` parámetro al emitir la solicitud de Hola y decodificarlo toodetermine directiva que se utilizó.</span><span class="sxs-lookup"><span data-stu-id="f30b2-254">Your other option is tooencode hello policy in hello value of hello `state` parameter when you issue hello request, and then decode it toodetermine which policy was used.</span></span> <span data-ttu-id="f30b2-255">Cualquiera de estos métodos es válido.</span><span class="sxs-lookup"><span data-stu-id="f30b2-255">Either method is valid.</span></span>

<span data-ttu-id="f30b2-256">documento de metadatos de Hello es un objeto JSON que contiene varias piezas útiles de información.</span><span class="sxs-lookup"><span data-stu-id="f30b2-256">hello metadata document is a JSON object that contains several useful pieces of information.</span></span> <span data-ttu-id="f30b2-257">Estos incluyen la ubicación de Hola de hello extremos requiere tooperform autenticación OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="f30b2-257">These include hello location of hello endpoints required tooperform OpenID Connect authentication.</span></span> <span data-ttu-id="f30b2-258">También incluyen `jwks_uri`, que proporciona la ubicación de Hola de conjunto de Hola de claves públicas que son tokens de toosign usado.</span><span class="sxs-lookup"><span data-stu-id="f30b2-258">They also include `jwks_uri`, which gives hello location of hello set of public keys that are used toosign tokens.</span></span> <span data-ttu-id="f30b2-259">Aquí se proporciona esa ubicación, pero es mejor ubicación de hello toofetch dinámicamente mediante el documento de metadatos de Hola y analizar `jwks_uri`:</span><span class="sxs-lookup"><span data-stu-id="f30b2-259">That location is provided here, but it is best toofetch hello location dynamically by using hello metadata document and parsing out `jwks_uri`:</span></span>

```
https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/discovery/v2.0/keys?p=b2c_1_sign_in
```

<span data-ttu-id="f30b2-260">documento JSON de Hello ubicado en esta dirección URL contiene todos los Hola información de clave pública en uso en un momento determinado.</span><span class="sxs-lookup"><span data-stu-id="f30b2-260">hello JSON document located at this URL contains all hello public key information in use at a particular moment.</span></span> <span data-ttu-id="f30b2-261">Puede usar su aplicación Hola `kid` de notificación en hello JWT encabezado tooselect Hola clave pública de documento JSON de hello es toosign usa un símbolo concreto.</span><span class="sxs-lookup"><span data-stu-id="f30b2-261">Your app can use hello `kid` claim in hello JWT header tooselect hello public key in hello JSON document that is used toosign a particular token.</span></span> <span data-ttu-id="f30b2-262">A continuación, puede realizar la validación de firma mediante una clave pública correcta Hola y Hola indicado algoritmo.</span><span class="sxs-lookup"><span data-stu-id="f30b2-262">It can then perform signature validation by using hello correct public key and hello indicated algorithm.</span></span>

<span data-ttu-id="f30b2-263">Una descripción de cómo validar la firma tooperform es exterior Hola alcance de este documento.</span><span class="sxs-lookup"><span data-stu-id="f30b2-263">A description of how tooperform signature validation is outside hello scope of this document.</span></span> <span data-ttu-id="f30b2-264">Muchas bibliotecas de código abierto son toohelp disponible con este si se necesita.</span><span class="sxs-lookup"><span data-stu-id="f30b2-264">Many open source libraries are available toohelp you with this if you need it.</span></span>

### <a name="validate-hello-claims"></a><span data-ttu-id="f30b2-265">Validar las reclamaciones de Hola</span><span class="sxs-lookup"><span data-stu-id="f30b2-265">Validate hello claims</span></span>
<span data-ttu-id="f30b2-266">Cuando su aplicación o API recibe un identificador de token, también debe realizar varias comprobaciones frente a las notificaciones de hello en el token del identificador hello.</span><span class="sxs-lookup"><span data-stu-id="f30b2-266">When your app or API receives an ID token, it should also perform several checks against hello claims in hello ID token.</span></span> <span data-ttu-id="f30b2-267">Estas incluyen, pero no se limitan a:</span><span class="sxs-lookup"><span data-stu-id="f30b2-267">These include, but are not limited to:</span></span>

* <span data-ttu-id="f30b2-268">Hola **audiencia** de notificación: este modo se comprueba ese token de Id. de hello estaba previsto toobe dado tooyour aplicación.</span><span class="sxs-lookup"><span data-stu-id="f30b2-268">hello **audience** claim: This verifies that hello ID token was intended toobe given tooyour app.</span></span>
* <span data-ttu-id="f30b2-269">Hola **no antes** y **tiempo de expiración** notificaciones: estos comprobar ese token de Id. de hello no ha expirado.</span><span class="sxs-lookup"><span data-stu-id="f30b2-269">hello **not before** and **expiration time** claims: These verify that hello ID token has not expired.</span></span>
* <span data-ttu-id="f30b2-270">Hola **emisor** de notificación: este modo se comprueba ese token Hola emitió tooyour aplicación Azure AD.</span><span class="sxs-lookup"><span data-stu-id="f30b2-270">hello **issuer** claim: This verifies that hello token was issued tooyour app by Azure AD.</span></span>
* <span data-ttu-id="f30b2-271">Hola **nonce**: se trata de una estrategia de mitigación de ataques de reproducción de tokens.</span><span class="sxs-lookup"><span data-stu-id="f30b2-271">hello **nonce**: This is a strategy for token replay attack mitigation.</span></span>

<span data-ttu-id="f30b2-272">Para obtener una lista completa de las validaciones que se debe realizar la aplicación, consulte toohello [especificación OpenID Connect](https://openid.net).</span><span class="sxs-lookup"><span data-stu-id="f30b2-272">For a full list of validations your app should perform, refer toohello [OpenID Connect specification](https://openid.net).</span></span> <span data-ttu-id="f30b2-273">Detalles de los valores esperados de Hola para estas notificaciones se incluyen en hello anterior [token sección](#types-of-tokens).</span><span class="sxs-lookup"><span data-stu-id="f30b2-273">Details of hello expected values for these claims are included in hello preceding [token section](#types-of-tokens).</span></span>  

## <a name="token-lifetimes"></a><span data-ttu-id="f30b2-274">Vigencia de los tokens</span><span class="sxs-lookup"><span data-stu-id="f30b2-274">Token lifetimes</span></span>
<span data-ttu-id="f30b2-275">Hola siguiendo la vigencia de los tokens es proporciona toofurther su conocimiento.</span><span class="sxs-lookup"><span data-stu-id="f30b2-275">hello following token lifetimes are provided toofurther your knowledge.</span></span> <span data-ttu-id="f30b2-276">Pueden ayudarle a desarrollar y depurar aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="f30b2-276">They can help you when you develop and debug apps.</span></span> <span data-ttu-id="f30b2-277">Tenga en cuenta que las aplicaciones no deben estar escrito tooexpect cualquiera de estos constante de tooremain duraciones.</span><span class="sxs-lookup"><span data-stu-id="f30b2-277">Note that your apps should not be written tooexpect any of these lifetimes tooremain constant.</span></span> <span data-ttu-id="f30b2-278">Pueden cambiar y lo harán.</span><span class="sxs-lookup"><span data-stu-id="f30b2-278">They can and will change.</span></span> <span data-ttu-id="f30b2-279">Obtener más información acerca de hello [personalización de la duración de token de](active-directory-b2c-token-session-sso.md) en Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="f30b2-279">Read more about hello [customization of token lifetimes](active-directory-b2c-token-session-sso.md) in Azure AD B2C.</span></span>

| <span data-ttu-id="f30b2-280">SWT</span><span class="sxs-lookup"><span data-stu-id="f30b2-280">Token</span></span> | <span data-ttu-id="f30b2-281">Vigencia</span><span class="sxs-lookup"><span data-stu-id="f30b2-281">Lifetime</span></span> | <span data-ttu-id="f30b2-282">Descripción</span><span class="sxs-lookup"><span data-stu-id="f30b2-282">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="f30b2-283">Tokens de identificador</span><span class="sxs-lookup"><span data-stu-id="f30b2-283">ID tokens</span></span> |<span data-ttu-id="f30b2-284">Una hora</span><span class="sxs-lookup"><span data-stu-id="f30b2-284">One hour</span></span> |<span data-ttu-id="f30b2-285">Los tokens de identificador normalmente son válidos durante una hora.</span><span class="sxs-lookup"><span data-stu-id="f30b2-285">ID tokens are typically valid for an hour.</span></span> <span data-ttu-id="f30b2-286">La aplicación web puede usar este toomaintain duración sus propias sesiones con los usuarios (recomendados).</span><span class="sxs-lookup"><span data-stu-id="f30b2-286">Your web app can use this lifetime toomaintain its own sessions with users (recommended).</span></span> <span data-ttu-id="f30b2-287">También puede elegir una vigencia de sesión diferente.</span><span class="sxs-lookup"><span data-stu-id="f30b2-287">You can also choose a different session lifetime.</span></span> <span data-ttu-id="f30b2-288">Si la aplicación necesita tooget un nuevo token de identificador, simplemente debe toomake un nuevo tooAzure de solicitud de inicio de sesión de AD.</span><span class="sxs-lookup"><span data-stu-id="f30b2-288">If your app needs tooget a new ID token, it simply needs toomake a new sign-in request tooAzure AD.</span></span> <span data-ttu-id="f30b2-289">Si un usuario tiene una sesión de explorador válidas con Azure AD, ese usuario podría no ser necesario tooenter credenciales nuevo.</span><span class="sxs-lookup"><span data-stu-id="f30b2-289">If a user has a valid browser session with Azure AD, that user might not be required tooenter credentials again.</span></span> |
| <span data-ttu-id="f30b2-290">Tokens de actualización</span><span class="sxs-lookup"><span data-stu-id="f30b2-290">Refresh tokens</span></span> |<span data-ttu-id="f30b2-291">Los días de too14</span><span class="sxs-lookup"><span data-stu-id="f30b2-291">Up too14 days</span></span> |<span data-ttu-id="f30b2-292">Un token de actualización solo es válido durante un máximo de 14 días.</span><span class="sxs-lookup"><span data-stu-id="f30b2-292">A single refresh token is valid for a maximum of 14 days.</span></span> <span data-ttu-id="f30b2-293">Pero un token de actualización puede dejar de ser válido en cualquier momento por una serie de motivos.</span><span class="sxs-lookup"><span data-stu-id="f30b2-293">However, a refresh token can become invalid at any time for a number of reasons.</span></span> <span data-ttu-id="f30b2-294">La aplicación debe continuar tootry toouse un token de actualización hasta que se produce un error en la solicitud de hello, o hasta que la aplicación reemplaza el token de actualización de hello con uno nuevo.</span><span class="sxs-lookup"><span data-stu-id="f30b2-294">Your app should continue tootry toouse a refresh token until hello request fails, or until your app replaces hello refresh token with a new one.</span></span> <span data-ttu-id="f30b2-295">Un token de actualización también puede volverse no válido si han pasado 90 días desde que el último elemento usuario Hola introducido credenciales.</span><span class="sxs-lookup"><span data-stu-id="f30b2-295">A refresh token can also become invalid if 90 days have passed since hello user last entered credentials.</span></span> |
| <span data-ttu-id="f30b2-296">Códigos de autorización</span><span class="sxs-lookup"><span data-stu-id="f30b2-296">Authorization codes</span></span> |<span data-ttu-id="f30b2-297">Cinco minutos</span><span class="sxs-lookup"><span data-stu-id="f30b2-297">Five minutes</span></span> |<span data-ttu-id="f30b2-298">Los códigos de autorización son de corta duración intencionadamente.</span><span class="sxs-lookup"><span data-stu-id="f30b2-298">Authorization codes are intentionally short-lived.</span></span> <span data-ttu-id="f30b2-299">Deben canjearse inmediatamente por tokens de acceso, tokens de identificador o tokens de actualización cuando se reciben.</span><span class="sxs-lookup"><span data-stu-id="f30b2-299">They should be redeemed immediately for access tokens, ID tokens, or refresh tokens when they are received.</span></span> |

