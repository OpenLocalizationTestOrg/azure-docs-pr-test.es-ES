---
title: 'Azure Active Directory B2C: directivas personalizadas | Microsoft Docs'
description: Un tema acerca de las directivas personalizadas de Azure Active Directory B2C
services: active-directory-b2c
documentationcenter: 
author: parakhj
manager: krassk
editor: parakhj
ms.assetid: 1ff398a4-2079-4615-94f1-57de22c0aad6
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.topic: article
ms.devlang: na
ms.date: 04/04/2017
ms.author: parakhj
ms.openlocfilehash: bada9cf5f1a86f3dd047536f6fd9359c0231a384
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="azure-active-directory-b2c-custom-policies"></a><span data-ttu-id="d5166-103">Azure Active Directory B2C: directivas personalizadas</span><span class="sxs-lookup"><span data-stu-id="d5166-103">Azure Active Directory B2C: Custom policies</span></span>

[!INCLUDE [active-directory-b2c-advanced-audience-warning](../../includes/active-directory-b2c-advanced-audience-warning.md)]

## <a name="what-are-custom-policies"></a><span data-ttu-id="d5166-104">¿Qué son las directivas personalizadas?</span><span class="sxs-lookup"><span data-stu-id="d5166-104">What are custom policies?</span></span>

<span data-ttu-id="d5166-105">Las directivas personalizadas son archivos de configuración que definen el comportamiento de Hola de su inquilino de Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="d5166-105">Custom policies are configuration files that define hello behavior of your Azure AD B2C tenant.</span></span> <span data-ttu-id="d5166-106">Mientras que **directivas integradas** están predefinidos en portal de Azure AD B2C Hola para hello tareas más habituales de identidad, las directivas personalizadas puede editarse con un toocomplete de desarrollador de identidad un número casi ilimitado de tareas.</span><span class="sxs-lookup"><span data-stu-id="d5166-106">Whereas **built-in policies** are predefined in hello Azure AD B2C portal for hello most common identity tasks, custom policies can be fully edited by an identity developer toocomplete a near unlimited number of tasks.</span></span> <span data-ttu-id="d5166-107">Siga leyendo toodetermine si las directivas personalizadas son mejores para usted y su escenario de identidad.</span><span class="sxs-lookup"><span data-stu-id="d5166-107">Read on toodetermine if custom policies are right for you and your identity scenario.</span></span>

<span data-ttu-id="d5166-108">**Editar directivas personalizadas no es para todos los usuarios.**</span><span class="sxs-lookup"><span data-stu-id="d5166-108">**Custom policy editing is not for everyone.**</span></span> <span data-ttu-id="d5166-109">curva de aprendizaje de Hello es exigentes, tiempo de inicio de hello es más largo, y directivas de cambios futuros toocustom requerirá toomaintain de experiencia similar.</span><span class="sxs-lookup"><span data-stu-id="d5166-109">hello learning curve is demanding, hello startup time is longer, and future changes toocustom policies will require similar expertise toomaintain.</span></span> <span data-ttu-id="d5166-110">Es necesario considerar cuidadosamente las directivas integradas para su escenario antes de usar las directivas personalizadas.</span><span class="sxs-lookup"><span data-stu-id="d5166-110">Built-in policies should be carefully considered first for your scenario before using custom policies.</span></span>

## <a name="comparing-built-in-policies-and-custom-policies"></a><span data-ttu-id="d5166-111">Comparación entre directivas integradas y directivas personalizadas</span><span class="sxs-lookup"><span data-stu-id="d5166-111">Comparing built-in policies and custom policies</span></span>

| | <span data-ttu-id="d5166-112">Directivas integradas</span><span class="sxs-lookup"><span data-stu-id="d5166-112">Built-in policies</span></span> | <span data-ttu-id="d5166-113">Directivas personalizadas</span><span class="sxs-lookup"><span data-stu-id="d5166-113">Custom policies</span></span> |
|-|-------------------|-----------------|
|<span data-ttu-id="d5166-114">Usuarios de destino</span><span class="sxs-lookup"><span data-stu-id="d5166-114">Target users</span></span> | <span data-ttu-id="d5166-115">Todos los desarrolladores de aplicaciones con o sin conocimientos sobre la identidad</span><span class="sxs-lookup"><span data-stu-id="d5166-115">All app developers with or without identity expertise</span></span> | <span data-ttu-id="d5166-116">Profesionales de identidad: integradores de sistemas, consultores y equipos internos de identidad.</span><span class="sxs-lookup"><span data-stu-id="d5166-116">Identity pros: systems integrators, consultants and in-house identity teams.</span></span> <span data-ttu-id="d5166-117">Se sienten cómodos con los flujos de OpenIDConnect y comprenden a los proveedores de identidades y la autenticación basada en notificaciones</span><span class="sxs-lookup"><span data-stu-id="d5166-117">They are comfortable with OpenIDConnect flows, and understand identity providers and claims-based authentication</span></span> |
|<span data-ttu-id="d5166-118">Método de configuración</span><span class="sxs-lookup"><span data-stu-id="d5166-118">Configuration method</span></span> | <span data-ttu-id="d5166-119">Azure Portal con una interfaz de usuario fácil de usar</span><span class="sxs-lookup"><span data-stu-id="d5166-119">Azure portal with a user-friendly UI</span></span> | <span data-ttu-id="d5166-120">Editar directamente los archivos XML y, a continuación, cargar toohello portal de Azure</span><span class="sxs-lookup"><span data-stu-id="d5166-120">Directly editing XML files and then uploading toohello Azure portal</span></span> |
|<span data-ttu-id="d5166-121">Personalización de la interfaz de usuario</span><span class="sxs-lookup"><span data-stu-id="d5166-121">UI customization</span></span> | <span data-ttu-id="d5166-122">Personalización completa de la interfaz de usuario, incluida compatibilidad con HTML, CSS y JScript (requiere un dominio personalizado)</span><span class="sxs-lookup"><span data-stu-id="d5166-122">Full UI customization, including HTML, CSS, and jscript support(requires custom domain)</span></span><br><br><span data-ttu-id="d5166-123">Compatibilidad multilingüe con cadenas personalizadas</span><span class="sxs-lookup"><span data-stu-id="d5166-123">Multilanguage support with Custom strings</span></span> | <span data-ttu-id="d5166-124">Iguales</span><span class="sxs-lookup"><span data-stu-id="d5166-124">Same</span></span> |
| <span data-ttu-id="d5166-125">Personalización de atributos</span><span class="sxs-lookup"><span data-stu-id="d5166-125">Attribute customization</span></span> | <span data-ttu-id="d5166-126">Atributos estándar y personalizados</span><span class="sxs-lookup"><span data-stu-id="d5166-126">Standard and custom attributes</span></span> | <span data-ttu-id="d5166-127">Iguales</span><span class="sxs-lookup"><span data-stu-id="d5166-127">Same</span></span> |
|<span data-ttu-id="d5166-128">Administración de tokens y sesiones</span><span class="sxs-lookup"><span data-stu-id="d5166-128">Token and session management</span></span> | <span data-ttu-id="d5166-129">Varias opciones de sesiones y tokens personalizados</span><span class="sxs-lookup"><span data-stu-id="d5166-129">Custom token and multiple session options</span></span> | <span data-ttu-id="d5166-130">Iguales</span><span class="sxs-lookup"><span data-stu-id="d5166-130">Same</span></span> |
|<span data-ttu-id="d5166-131">Proveedores de identidades</span><span class="sxs-lookup"><span data-stu-id="d5166-131">Identity Providers</span></span>| <span data-ttu-id="d5166-132">**Actualmente**: proveedor social local predefinido</span><span class="sxs-lookup"><span data-stu-id="d5166-132">**Today**: predefined local, social provider</span></span><br><br><span data-ttu-id="d5166-133">**En el futuro**: OIDC, SAML, OAuth basado en estándares</span><span class="sxs-lookup"><span data-stu-id="d5166-133">**Future**: Standards-based OIDC, SAML, OAuth</span></span> | <span data-ttu-id="d5166-134">**Actualmente**: OIDC, OAUTH, SAML basado en estándares</span><span class="sxs-lookup"><span data-stu-id="d5166-134">**Today**: Standards-based OIDC, OAUTH, SAML</span></span><br><br><span data-ttu-id="d5166-135">**En el futuro**: WsFed</span><span class="sxs-lookup"><span data-stu-id="d5166-135">**Future**: WsFed</span></span> |
|<span data-ttu-id="d5166-136">Tareas de identidad (ejemplos)</span><span class="sxs-lookup"><span data-stu-id="d5166-136">Identity Tasks (examples)</span></span> | <span data-ttu-id="d5166-137">Registro o inicio de sesión con muchas cuentas sociales y cuentas locales</span><span class="sxs-lookup"><span data-stu-id="d5166-137">Signup or SignIn with local and many social accounts</span></span><br><br><span data-ttu-id="d5166-138">Restablecimiento de contraseña de autoservicio</span><span class="sxs-lookup"><span data-stu-id="d5166-138">Self-Service Password Reset</span></span><br><br><span data-ttu-id="d5166-139">Edición de perfil</span><span class="sxs-lookup"><span data-stu-id="d5166-139">Profile Edit</span></span><br><br><span data-ttu-id="d5166-140">Escenarios de Multi-Factor Authentication</span><span class="sxs-lookup"><span data-stu-id="d5166-140">Multi-Factor Auth scenarios</span></span><br><br><span data-ttu-id="d5166-141">Sesiones y tokens personalizados</span><span class="sxs-lookup"><span data-stu-id="d5166-141">Customize Tokens and sessions</span></span><br><br><span data-ttu-id="d5166-142">Flujos de token de acceso</span><span class="sxs-lookup"><span data-stu-id="d5166-142">Access Token flows</span></span> | <span data-ttu-id="d5166-143">Completar Hola mismo tareas como directivas integradas con proveedores de identidades personalizados o usar ámbitos personalizados</span><span class="sxs-lookup"><span data-stu-id="d5166-143">Complete hello same tasks as built-in policies using custom identity providers or use custom scopes</span></span><br><br><span data-ttu-id="d5166-144">Usuario de aprovisionar en otro sistema en tiempo de presentación del registro</span><span class="sxs-lookup"><span data-stu-id="d5166-144">Provision user in another system at hello time of registration</span></span><br><br><span data-ttu-id="d5166-145">Enviar un mensaje de bienvenida con su propio proveedor de servicios de correo electrónico</span><span class="sxs-lookup"><span data-stu-id="d5166-145">Send a welcome email using your own email service provider</span></span><br><br><span data-ttu-id="d5166-146">Usar un almacén de usuario externo a B2C</span><span class="sxs-lookup"><span data-stu-id="d5166-146">Use a user store outside B2C</span></span><br><br><span data-ttu-id="d5166-147">Validar la información proporcionada por el usuario con un sistema de confianza a través de API</span><span class="sxs-lookup"><span data-stu-id="d5166-147">Validate user provided information with a trusted system via API</span></span> |

## <a name="policy-files"></a><span data-ttu-id="d5166-148">Archivos de directivas</span><span class="sxs-lookup"><span data-stu-id="d5166-148">Policy files</span></span>

<span data-ttu-id="d5166-149">Una directiva personalizada se representa como uno o varios archivos de formato XML que hacen referencia tooeach otro en una cadena jerárquica.</span><span class="sxs-lookup"><span data-stu-id="d5166-149">A custom policy is represented as one or several XML-formatted files which refer tooeach other in a hierarchical chain.</span></span> <span data-ttu-id="d5166-150">definen elementos XML de Hello: esquema de notificaciones, notificaciones de transformaciones, definiciones de contenido, perfiles técnica y proveedores de notificaciones y los pasos de orquestación Userjourney, entre otros elementos.</span><span class="sxs-lookup"><span data-stu-id="d5166-150">hello XML elements define: Claims schema, claims transformations, content definitions, claims providers/technical profiles, and Userjourney orchestration steps, among other elements.</span></span>

<span data-ttu-id="d5166-151">Se recomienda el uso de Hola de tres tipos de archivos de directivas:</span><span class="sxs-lookup"><span data-stu-id="d5166-151">We recommend hello use of three types of policy files:</span></span>

- <span data-ttu-id="d5166-152">**Un archivo de BASE**, que contiene la mayor parte de las definiciones de Hola y para que Azure proporciona un ejemplo completo.</span><span class="sxs-lookup"><span data-stu-id="d5166-152">**A BASE file**, which contains most of hello definitions and for which Azure provides a complete sample.</span></span>  <span data-ttu-id="d5166-153">Se recomienda que realice un número mínimo de cambios toothis archivo toohelp con la solución de problemas y mantenimiento a largo plazo de las directivas</span><span class="sxs-lookup"><span data-stu-id="d5166-153">We recommend you make a minimum number of changes toothis file toohelp with troubleshooting, and long-term maintenance of your policies</span></span>
- <span data-ttu-id="d5166-154">**un archivo de extensiones** que contiene cambios de configuración unívoco hello para el inquilino</span><span class="sxs-lookup"><span data-stu-id="d5166-154">**an EXTensions file** that holds hello unique configuration changes for your tenant</span></span>
- <span data-ttu-id="d5166-155">**un archivo de confianza (RP)** que es único basado en tareas archivo hello invocada directamente por la aplicación hello o servicio (también conocido como usuario de confianza).</span><span class="sxs-lookup"><span data-stu-id="d5166-155">**a Relying Party (RP) file** which is hello single task-focused file that is invoked directly by hello application or service (aka Relying Party).</span></span>  <span data-ttu-id="d5166-156">Lea el artículo de hello en las definiciones del archivo de directiva para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="d5166-156">Read hello article on Policy file definitions for more information.</span></span>  <span data-ttu-id="d5166-157">Cada tarea único requiere su propio RP y según los requisitos de personalización de marca, número de Hola podría ser "total de las aplicaciones x número total de casos de uso".</span><span class="sxs-lookup"><span data-stu-id="d5166-157">Each unique task requires its own RP and depending on branding requirements hello number might be "total of applications x total number of use cases".</span></span>


<span data-ttu-id="d5166-158">Directivas integradas en Azure AD B2C siguen el patrón de archivo de 3 de hello descrito anteriormente, pero el desarrollador de hello solo ve Hola archivo de confianza (RP), mientras que el portal de hello realiza cambios en el archivo de hello fondo toohello EXTenstions.</span><span class="sxs-lookup"><span data-stu-id="d5166-158">Built-in policies in Azure AD B2C follow hello 3-file pattern depicted above, but hello developer only sees hello Relying Party (RP) file, while hello portal makes changes in hello background toohello EXTenstions file.</span></span>

## <a name="core-concepts-you-should-know-when-using-custom-policies"></a><span data-ttu-id="d5166-159">Conceptos básicos que debe saber cuando usa las directivas personalizadas</span><span class="sxs-lookup"><span data-stu-id="d5166-159">Core concepts you should know when using custom policies</span></span>

### <a name="azure-active-directory-b2c"></a><span data-ttu-id="d5166-160">Azure Active Directory B2C</span><span class="sxs-lookup"><span data-stu-id="d5166-160">Azure Active Directory B2C</span></span>

<span data-ttu-id="d5166-161">Servicio de administración de identidades y acceso de cliente (CIAM) de Azure.</span><span class="sxs-lookup"><span data-stu-id="d5166-161">Azure’s customer identity and access management (CIAM) service.</span></span> <span data-ttu-id="d5166-162">el servicio de Hello incluye:</span><span class="sxs-lookup"><span data-stu-id="d5166-162">hello service includes:</span></span>

1. <span data-ttu-id="d5166-163">Un directorio de usuario en forma de Hola de un especial Azure Active Directory sea accesible a través de Microsoft Graph y que contiene datos de usuario para las cuentas locales y federados</span><span class="sxs-lookup"><span data-stu-id="d5166-163">A user directory in hello form of a special-purpose Azure Active Directory accessible via Microsoft Graph and which holds user data for both local accounts and federated accounts</span></span> 
2. <span data-ttu-id="d5166-164">Obtener acceso a toohello **identidad experiencia Framework** que organiza la relación de confianza entre los usuarios y entidades y pasa notificaciones entre ellos toocomplete una tarea de administración de identidades y acceso</span><span class="sxs-lookup"><span data-stu-id="d5166-164">Access toohello **Identity Experience Framework** which orchestrates trust between users and entities and passes claims between them toocomplete an identity/access management task</span></span> 
3. <span data-ttu-id="d5166-165">Un símbolo (token) servicio de seguridad (STS) emite Id. tokens, la actualización de tokens y acceso tokens (y las aserciones de SAML equivalente) y validarlos tooprotect recursos.</span><span class="sxs-lookup"><span data-stu-id="d5166-165">A security token service (STS) issuing id tokens, refresh tokens, and access tokens (and equivalent SAML assertions) and validating them tooprotect resources.</span></span>

<span data-ttu-id="d5166-166">Azure AD B2C interactúa con proveedores de identidades, los usuarios, otros sistemas y con el directorio de usuario local de hello en secuencia tooachieve una tarea de identidad (por ejemplo, inicio de sesión de un usuario, registrar un nuevo usuario, restablecer una contraseña).</span><span class="sxs-lookup"><span data-stu-id="d5166-166">Azure AD B2C interacts with identity providers, users, other systems, and with hello local user directory in sequence tooachieve an identity task (e.g. login a user, register a new user, reset a password).</span></span> <span data-ttu-id="d5166-167">Hello plataforma subyacente que establece la confianza de varias parte y ejecuta estos pasos se denomina Hola Framework de la experiencia de identidad y una directiva (también denominados un viaje de usuario o una directiva de framework de confianza) explícitamente define actores hello, acciones de hello, hello protocolos y hello secuencia de pasos toocomplete.</span><span class="sxs-lookup"><span data-stu-id="d5166-167">hello underlying platform which establishes multi-party trust and executes these steps is called hello Identity Experience Framework and a policy (also called an user journey or a Trust framework policy) explicitly defines hello actors, hello actions, hello protocols, and hello sequence of steps toocomplete.</span></span>

### <a name="identity-experience-framework"></a><span data-ttu-id="d5166-168">Marco de experiencia de identidad</span><span class="sxs-lookup"><span data-stu-id="d5166-168">Identity Experience Framework</span></span>

<span data-ttu-id="d5166-169">Una plataforma de Azure basada en la nube, controlada por directivas y completamente configurable que orquesta la confianza entre entidades (en general, proveedores de confianza) en formatos de protocolo estándar como OpenIDConnect, OAuth, SAML, WSFed y algunos no estándar (como intercambios de notificaciones sistema a sistema basados en API de REST, por ejemplo).</span><span class="sxs-lookup"><span data-stu-id="d5166-169">A fully configurable, policy-driven, cloud-based Azure platform that orchestrates trust between entities (broadly Claims Providers) in standard protocol formats such as OpenIDConnect, OAuth, SAML, WSFed, and a few non-standard ones (e.g. REST API-based system-to-system claims exchanges).</span></span> <span data-ttu-id="d5166-170">Hola I2E crea fácil de usar, whitelabelled experiencias que admiten HTML, CSS y jscript.</span><span class="sxs-lookup"><span data-stu-id="d5166-170">hello I2E creates user-friendly, whitelabelled experiences that support HTML, CSS, and jscript.</span></span>  <span data-ttu-id="d5166-171">Hoy en día, Hola identidad experiencia Framework está disponible solo en el contexto de Hola de servicio de Azure AD B2C hello y nivel de prioridad para las tareas relacionadas tooCIAM.</span><span class="sxs-lookup"><span data-stu-id="d5166-171">Today, hello Identity Experience Framework is available only in hello context of hello Azure AD B2C service and prioritized for tasks related tooCIAM.</span></span>

### <a name="built-in-policies"></a><span data-ttu-id="d5166-172">Directivas integradas</span><span class="sxs-lookup"><span data-stu-id="d5166-172">Built-in policies</span></span>

<span data-ttu-id="d5166-173">Archivos de configuración que comportamiento Hola directa de la identidad de Azure AD B2C tooperform hello más frecuente de tareas (es decir, el registro de usuario, inicio de sesión, restablecimiento de contraseña) e interactuar con entidades de confianza cuya relación también está predefinido en Azure AD B2C (de predefinidos Por ejemplo, Facebook proveedor de identidades, LinkedIn, Microsoft Account, cuentas de Google).</span><span class="sxs-lookup"><span data-stu-id="d5166-173">Predefined configuration files that direct hello behavior of Azure AD B2C tooperform hello most commonly used identity tasks (i.e. user registration, signin, password reset) and interact with trusted parties whose relationship is also predefined in Azure AD B2C (e.g. Facebook identity provider, LinkedIn, Microsoft Account, Google accounts).</span></span>  <span data-ttu-id="d5166-174">Hola futuras, también pueden proporcionar directivas integradas para la personalización de los proveedores de identidades que se encuentran normalmente en territorio de enterprise hello como Azure Active Directory Premium, Active Directory o ADFS, Salesforce Id. de proveedor etcetera.</span><span class="sxs-lookup"><span data-stu-id="d5166-174">In hello future, built-in policies may also provide for customization of identity providers which are typically in hello enterprise realm such as Azure Active Directory Premium, Active Directory/ADFS, Salesforce ID Provider etc.</span></span>


### <a name="custom-policies"></a><span data-ttu-id="d5166-175">Directivas personalizadas</span><span class="sxs-lookup"><span data-stu-id="d5166-175">Custom policies</span></span>

<span data-ttu-id="d5166-176">Archivos de configuración que definen el comportamiento de hello del marco de la experiencia de identidad en el inquilino de Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="d5166-176">Configuration files that define hello behavior of Identity Experience Framework in your Azure AD B2C tenant.</span></span> <span data-ttu-id="d5166-177">Una directiva personalizada es accesible como uno o varios archivos XML (vea las definiciones de los archivos de directivas) que se ejecutan en hello identidad experiencia Framework cuando es invocado por un usuario de confianza (por ejemplo, una aplicación).</span><span class="sxs-lookup"><span data-stu-id="d5166-177">A custom policy is accessible as one or several XML files (see Policy Files definitions) which are executed by hello Identity Experience Framework when invoked by a relying party (e.g. an application).</span></span> <span data-ttu-id="d5166-178">Las directivas personalizadas se pueden editar directamente por una toocomplete de desarrollador de identidad un número casi ilimitado de tareas.</span><span class="sxs-lookup"><span data-stu-id="d5166-178">Custom policies can be directly edited by an identity developer toocomplete a near unlimited number of tasks.</span></span> <span data-ttu-id="d5166-179">Deben definir la configuración de directivas personalizadas de los desarrolladores Hola existen relaciones de confianza en los extremos de metadatos de tooinclude detalle cuidado, notificaciones exactas definiciones de exchange y configure secretos, claves y certificados según sea necesario por cada proveedor de identidades.</span><span class="sxs-lookup"><span data-stu-id="d5166-179">Developers configuring custom policies must define hello trusted relationships in careful detail tooinclude metadata endpoints, exact claims exchange definitions, and configure secrets, keys and certificates as needed by each identity provider.</span></span>

## <a name="policy-file-definitions-for-identity-experience-framework-trustframeworks"></a><span data-ttu-id="d5166-180">Definiciones de archivos de directivas para marcos de confianza de Identity Experience Framework</span><span class="sxs-lookup"><span data-stu-id="d5166-180">Policy File Definitions for Identity Experience Framework Trustframeworks</span></span>

### <a name="policy-files"></a><span data-ttu-id="d5166-181">Archivos de directivas</span><span class="sxs-lookup"><span data-stu-id="d5166-181">Policy Files</span></span>

<span data-ttu-id="d5166-182">Una directiva personalizada se representa como uno o varios archivos de formato XML que hacen referencia tooeach otro en una cadena jerárquica.</span><span class="sxs-lookup"><span data-stu-id="d5166-182">A custom policy is represented as one or several XML-formatted files which refer tooeach other in a hierarchical chain.</span></span> <span data-ttu-id="d5166-183">definen elementos XML de Hello: esquema de notificaciones, notificaciones de transformaciones, definiciones de contenido, perfiles técnica y proveedores de notificaciones y los pasos de orquestación Userjourney, entre otros elementos.</span><span class="sxs-lookup"><span data-stu-id="d5166-183">hello XML elements define: Claims schema, claims transformations, content definitions, claims providers/technical profiles, and Userjourney orchestration steps, among other elements.</span></span>  <span data-ttu-id="d5166-184">Se recomienda el uso de Hola de tres tipos de archivos de directivas:</span><span class="sxs-lookup"><span data-stu-id="d5166-184">We recommend hello use of three types of policy files:</span></span>

- <span data-ttu-id="d5166-185">**Un archivo de BASE**, que contiene la mayor parte de las definiciones de Hola y para que Azure proporciona un ejemplo completo.</span><span class="sxs-lookup"><span data-stu-id="d5166-185">**A BASE file**, which contains most of hello definitions and for which Azure provides a complete sample.</span></span>  <span data-ttu-id="d5166-186">Se recomienda que realice un número mínimo de cambios toothis archivo toohelp con la solución de problemas y mantenimiento a largo plazo de las directivas</span><span class="sxs-lookup"><span data-stu-id="d5166-186">We recommend you make a minimum number of changes toothis file toohelp with troubleshooting, and long-term maintenance of your policies</span></span>
- <span data-ttu-id="d5166-187">**un archivo de extensiones** que contiene cambios de configuración unívoco hello para el inquilino</span><span class="sxs-lookup"><span data-stu-id="d5166-187">**an EXTensions file** that holds hello unique configuration changes for your tenant</span></span>
- <span data-ttu-id="d5166-188">**un archivo de confianza (RP)** que es único basado en tareas archivo hello invocada directamente por la aplicación hello o servicio (también conocido como usuario de confianza).</span><span class="sxs-lookup"><span data-stu-id="d5166-188">**a Relying Party (RP) file** which is hello single task-focused file that is invoked directly by hello application or service (aka Relying Party).</span></span>  <span data-ttu-id="d5166-189">Lea el artículo de hello en las definiciones del archivo de directiva para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="d5166-189">Read hello article on Policy file definitions for more information.</span></span>  <span data-ttu-id="d5166-190">Cada tarea único requiere su propio RP y según los requisitos de personalización de marca, número de Hola podría ser "total de las aplicaciones x número total de casos de uso".</span><span class="sxs-lookup"><span data-stu-id="d5166-190">Each unique task requires its own RP and depending on branding requirements hello number might be "total of applications x total number of use cases".</span></span>

![Tipos de archivos de directivas](media/active-directory-b2c-overview-custom/active-directory-b2c-overview-custom-policy-files.png)

| <span data-ttu-id="d5166-192">Tipo de archivo de directiva</span><span class="sxs-lookup"><span data-stu-id="d5166-192">Type of policy file</span></span> | <span data-ttu-id="d5166-193">Ejemplos de nombre de archivo</span><span class="sxs-lookup"><span data-stu-id="d5166-193">Examples file name</span></span> | <span data-ttu-id="d5166-194">Uso recomendado</span><span class="sxs-lookup"><span data-stu-id="d5166-194">Recommended use</span></span> | <span data-ttu-id="d5166-195">Hereda de</span><span class="sxs-lookup"><span data-stu-id="d5166-195">Inherits from</span></span> |
|---------------------|--------------------|-----------------|---------------|
| <span data-ttu-id="d5166-196">BASE</span><span class="sxs-lookup"><span data-stu-id="d5166-196">BASE</span></span> |<span data-ttu-id="d5166-197">TrustFrameworkBase.xml</span><span class="sxs-lookup"><span data-stu-id="d5166-197">TrustFrameworkBase.xml</span></span><br><br><span data-ttu-id="d5166-198">Mytenant.onmicrosoft.com-B2C-1A_BASE1.xml</span><span class="sxs-lookup"><span data-stu-id="d5166-198">Mytenant.onmicrosoft.com-B2C-1A_BASE1.xml</span></span> | <span data-ttu-id="d5166-199">Incluye el esquema de notificaciones de núcleo de hello, las transformaciones de notificaciones, proveedores de notificaciones y viajes de usuario configurados por Microsoft</span><span class="sxs-lookup"><span data-stu-id="d5166-199">Includes hello core claims schema, claims transformations, claims providers, and user journeys configured by Microsoft</span></span><br><br><span data-ttu-id="d5166-200">Defina los archivos de toothis unos cambios mínimos</span><span class="sxs-lookup"><span data-stu-id="d5166-200">Make minimal changes toothis file</span></span> | <span data-ttu-id="d5166-201">None</span><span class="sxs-lookup"><span data-stu-id="d5166-201">None</span></span> |
| <span data-ttu-id="d5166-202">Extensión (EXT)</span><span class="sxs-lookup"><span data-stu-id="d5166-202">Extension (EXT)</span></span> | <span data-ttu-id="d5166-203">TrustFrameworkExtensions.xml</span><span class="sxs-lookup"><span data-stu-id="d5166-203">TrustFrameworkExtensions.xml</span></span><br><br><span data-ttu-id="d5166-204">Mytenant.onmicrosoft.com-B2C-1A_EXT.xml</span><span class="sxs-lookup"><span data-stu-id="d5166-204">Mytenant.onmicrosoft.com-B2C-1A_EXT.xml</span></span> | <span data-ttu-id="d5166-205">Consolidar los cambios toohello BASE archivo aquí</span><span class="sxs-lookup"><span data-stu-id="d5166-205">Consolidate your changes toohello BASE file here</span></span><br><br><span data-ttu-id="d5166-206">Proveedores de notificaciones modificadas</span><span class="sxs-lookup"><span data-stu-id="d5166-206">Modified claims providers</span></span><br><br><span data-ttu-id="d5166-207">Recorridos de usuario modificados</span><span class="sxs-lookup"><span data-stu-id="d5166-207">Modified user journeys</span></span><br><br><span data-ttu-id="d5166-208">Sus propias definiciones de esquemas personalizados</span><span class="sxs-lookup"><span data-stu-id="d5166-208">Your own custom schema definitions</span></span> | <span data-ttu-id="d5166-209">Archivo BASE</span><span class="sxs-lookup"><span data-stu-id="d5166-209">BASE file</span></span> |
| <span data-ttu-id="d5166-210">Usuario de confianza</span><span class="sxs-lookup"><span data-stu-id="d5166-210">Relying Party (RP)</span></span> | <span data-ttu-id="d5166-211">B2C_1A_sign_up_sign_in.xml</span><span class="sxs-lookup"><span data-stu-id="d5166-211">B2C_1A_sign_up_sign_in.xml</span></span>| <span data-ttu-id="d5166-212">Cambiar aquí la configuración de la sesión y la forma del token</span><span class="sxs-lookup"><span data-stu-id="d5166-212">Change token shape and session settings here</span></span>| <span data-ttu-id="d5166-213">Archivo Extensions(EXT)</span><span class="sxs-lookup"><span data-stu-id="d5166-213">Extensions(EXT) file</span></span> |

### <a name="inheritance-model"></a><span data-ttu-id="d5166-214">Modelo de herencia</span><span class="sxs-lookup"><span data-stu-id="d5166-214">Inheritance model</span></span>

<span data-ttu-id="d5166-215">Cuando una aplicación llama a archivo de directiva de RP de hello, Hola Identity Framework de experiencia en B2C agregará todos los elementos de Hola de BASE, a continuación, desde las extensiones y por último de Hola RP directiva archivo tooassemble Hola en vigor la directiva actual.</span><span class="sxs-lookup"><span data-stu-id="d5166-215">When an application calls hello RP Policy file, hello Identity Experience Framework in B2C will add all hello elements from BASE, then from EXTENSIONS, and lastly from hello RP policy file tooassemble hello current policy in effect.</span></span>  <span data-ttu-id="d5166-216">Elementos del programa Hola a mismo tipo y el nombre en el archivo de Hola RP invalidará en hello extensiones e invalidaciones de extensiones BASE.</span><span class="sxs-lookup"><span data-stu-id="d5166-216">Elements of hello same type and name in hello RP file will override those in hello EXTENSIONS, and EXTENSIONS overrides BASE.</span></span>

<span data-ttu-id="d5166-217">**Directivas integradas** en Azure AD B2C siguen el patrón de archivo de 3 de hello descrito anteriormente, pero el desarrollador de hello solo ve Hola archivo de confianza (RP), mientras que el portal de hello realiza cambios en el archivo de hello fondo toohello EXTenstions.</span><span class="sxs-lookup"><span data-stu-id="d5166-217">**Built-in policies** in Azure AD B2C follow hello 3-file pattern depicted above, but hello developer only sees hello Relying Party (RP) file, while hello portal makes changes in hello background toohello EXTenstions file.</span></span>  <span data-ttu-id="d5166-218">Todo de Azure AD B2C comparte un archivo de BASE de directiva que está bajo control de Hola de equipo de hello B2C de Azure y se actualiza con frecuencia.</span><span class="sxs-lookup"><span data-stu-id="d5166-218">All of Azure AD B2C shares a BASE policy file that is under hello control of hello Azure B2C team and is updated frequently.</span></span>
