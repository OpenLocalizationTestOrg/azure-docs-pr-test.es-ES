---
title: "aaaOptimize su entorno de SQL Server con análisis de registros de Azure | Documentos de Microsoft"
description: "Con análisis de registros de Azure, puede usar Hola evaluación de SQL solución tooassess Hola a riesgo y el estado de los entornos de SQL server a intervalos regulares."
services: log-analytics
documentationcenter: 
author: bandersmsft
manager: carmonm
editor: 
ms.assetid: e297eb57-1718-4cfe-a241-b9e84b2c42ac
ms.service: log-analytics
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/11/2017
ms.author: banders
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: f31326d8cdad3ef5d5a190614d1a18c1dac826ed
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="optimize-your-sql-server-environment-with-hello-sql-assessment-solution-in-log-analytics"></a><span data-ttu-id="dc342-103">Optimizar el entorno de SQL Server con hello soluciones de evaluación de SQL de análisis de registros</span><span class="sxs-lookup"><span data-stu-id="dc342-103">Optimize your SQL Server environment with hello SQL Assessment solution in Log Analytics</span></span>

![Símbolo de SQL Assessment](./media/log-analytics-sql-assessment/sql-assessment-symbol.png)

<span data-ttu-id="dc342-105">Puede usar Hola evaluación de SQL solución tooassess Hola a riesgo y el estado de los entornos de servidor a intervalos regulares.</span><span class="sxs-lookup"><span data-stu-id="dc342-105">You can use hello SQL Assessment solution tooassess hello risk and health of your server environments on a regular interval.</span></span> <span data-ttu-id="dc342-106">En este artículo le ayudará a instalar la solución de Hola para que pueda tomar medidas correctivas para detectar posibles problemas.</span><span class="sxs-lookup"><span data-stu-id="dc342-106">This article will help you install hello solution so that you can take corrective actions for potential problems.</span></span>

<span data-ttu-id="dc342-107">Esta solución proporciona una lista de prioridades de infraestructura de servidor implementada tooyour específico de recomendaciones.</span><span class="sxs-lookup"><span data-stu-id="dc342-107">This solution provides a prioritized list of recommendations specific tooyour deployed server infrastructure.</span></span> <span data-ttu-id="dc342-108">recomendaciones de Hola se clasifican en seis foco áreas que le ayudarán a rápidamente comprender Hola a riesgo y tomar medidas correctivas.</span><span class="sxs-lookup"><span data-stu-id="dc342-108">hello recommendations are categorized across six focus areas which help you quickly understand hello risk and take corrective action.</span></span>

<span data-ttu-id="dc342-109">recomendaciones de Hello efectuadas se basan en los conocimientos de Hola y experiencias adquiridas por los ingenieros de Microsoft de miles de visitas de clientes.</span><span class="sxs-lookup"><span data-stu-id="dc342-109">hello recommendations made are based on hello knowledge and experience gained by Microsoft engineers from thousands of customer visits.</span></span> <span data-ttu-id="dc342-110">Cada recomendación proporcionan instrucciones acerca de por qué un problema podría ser importante tooyou y cómo tooimplement Hola sugiere cambios.</span><span class="sxs-lookup"><span data-stu-id="dc342-110">Each recommendation provides guidance about why an issue might matter tooyou and how tooimplement hello suggested changes.</span></span>

<span data-ttu-id="dc342-111">Puede elegir las áreas de enfoque que son más importante organización tooyour y realizar un seguimiento del progreso hacia la consecución de un entorno de riesgo libre y en buen estado.</span><span class="sxs-lookup"><span data-stu-id="dc342-111">You can choose focus areas that are most important tooyour organization and track your progress toward running a risk free and healthy environment.</span></span>

<span data-ttu-id="dc342-112">Después de que haya agregado la solución de Hola y una evaluación haya finalizado, resumen se muestra información de las áreas de enfoque en hello **evaluación de SQL** panel para la infraestructura de hello en su entorno.</span><span class="sxs-lookup"><span data-stu-id="dc342-112">After you've added hello solution and an assessment is completed, summary information for focus areas is shown on hello **SQL Assessment** dashboard for hello infrastructure in your environment.</span></span> <span data-ttu-id="dc342-113">Hello las secciones siguientes describen cómo toouse Hola información en hello **evaluación de SQL** panel, donde puede ver y, a continuación, tomar las acciones recomendadas para su infraestructura de SQL server.</span><span class="sxs-lookup"><span data-stu-id="dc342-113">hello following sections describe how toouse hello information on hello **SQL Assessment** dashboard, where you can view and then take recommended actions for your SQL server infrastructure.</span></span>

![imagen del icono de evaluación de SQL](./media/log-analytics-sql-assessment/sql-assess-tile.png)

![imagen del panel de evaluación de SQL](./media/log-analytics-sql-assessment/sql-assess-dash.png)

## <a name="installing-and-configuring-hello-solution"></a><span data-ttu-id="dc342-116">Instalar y configurar soluciones de Hola</span><span class="sxs-lookup"><span data-stu-id="dc342-116">Installing and configuring hello solution</span></span>
<span data-ttu-id="dc342-117">Evaluación de SQL funciona con todas las versiones actualmente compatibles de SQL Server para las ediciones Standard, Developer y Enterprise de Hola.</span><span class="sxs-lookup"><span data-stu-id="dc342-117">SQL Assessment works with all currently supported versions of SQL Server for hello Standard, Developer, and Enterprise editions.</span></span>

<span data-ttu-id="dc342-118">Usar hello después tooinstall de información y configurar soluciones de Hola.</span><span class="sxs-lookup"><span data-stu-id="dc342-118">Use hello following information tooinstall and configure hello solution.</span></span>

* <span data-ttu-id="dc342-119">Deben instalarse agentes en servidores con SQL Server instalado.</span><span class="sxs-lookup"><span data-stu-id="dc342-119">Agents must be installed on servers that have SQL Server installed.</span></span>
* <span data-ttu-id="dc342-120">Hola solución de evaluación de SQL requiere una versión compatible de .NET Framework 4 instalado en cada equipo que tiene un agente OMS.</span><span class="sxs-lookup"><span data-stu-id="dc342-120">hello SQL Assessment solution requires a supported version of .NET Framework 4 installed on each computer that has an OMS agent.</span></span>
* <span data-ttu-id="dc342-121">En soluciones de orden tooinstall hello, usuario de hello debe ser un administrador o colaborador toohello suscripción de Azure cuando utilizando Hola portal de Azure.</span><span class="sxs-lookup"><span data-stu-id="dc342-121">In order tooinstall hello solution, hello user must be an administrator or contributor toohello Azure subscription when using hello Azure portal.</span></span> <span data-ttu-id="dc342-122">Además, el usuario de hello debe ser un miembro de hello OMS área de trabajo colaborador o administrador de rol en el portal de OMS de Hola.</span><span class="sxs-lookup"><span data-stu-id="dc342-122">In addition, hello user must be a member of hello OMS workspace contributor or administrator role in hello OMS portal.</span></span>
* <span data-ttu-id="dc342-123">Cuando se utiliza el agente de Operations Manager Hola con la evaluación de SQL, necesitará una cuenta de Operations Manager Run-As toouse.</span><span class="sxs-lookup"><span data-stu-id="dc342-123">When using hello Operations Manager agent with SQL Assessment, you'll need toouse an Operations Manager Run-As account.</span></span> <span data-ttu-id="dc342-124">Para más información, consulte [Cuentas de ejecución de Operations Manager para OMS](#operations-manager-run-as-accounts-for-oms) más adelante.</span><span class="sxs-lookup"><span data-stu-id="dc342-124">See [Operations Manager run-as accounts for OMS](#operations-manager-run-as-accounts-for-oms) below for more information.</span></span>

  > [!NOTE]
  > <span data-ttu-id="dc342-125">Hola MMA agente no admite cuentas de Operations Manager Run-As.</span><span class="sxs-lookup"><span data-stu-id="dc342-125">hello MMA agent does not support Operations Manager Run-As accounts.</span></span>
  >
  >
* <span data-ttu-id="dc342-126">Agregar tooyour de solución de evaluación de SQL Hola se describe el área de trabajo OMS mediante el proceso de hello en [soluciones de análisis de registro agregar desde la Galería de soluciones de hello](log-analytics-add-solutions.md).</span><span class="sxs-lookup"><span data-stu-id="dc342-126">Add hello SQL Assessment solution tooyour OMS workspace using hello process described in [Add Log Analytics solutions from hello Solutions Gallery](log-analytics-add-solutions.md).</span></span> <span data-ttu-id="dc342-127">No es necesario realizar ninguna configuración más.</span><span class="sxs-lookup"><span data-stu-id="dc342-127">There is no further configuration required.</span></span>

> [!NOTE]
> <span data-ttu-id="dc342-128">Después de Agregar solución hello, archivo de hello AdvisorAssessment.exe se agrega tooservers con agentes.</span><span class="sxs-lookup"><span data-stu-id="dc342-128">After you've added hello solution, hello AdvisorAssessment.exe file is added tooservers with agents.</span></span> <span data-ttu-id="dc342-129">Datos de configuración se leen y, a continuación, envían toohello servicio OMS en la nube de Hola para su procesamiento.</span><span class="sxs-lookup"><span data-stu-id="dc342-129">Configuration data is read and then sent toohello OMS service in hello cloud for processing.</span></span> <span data-ttu-id="dc342-130">Lógica es aplicado toohello recibe datos y servicio de nube de hello registra datos de Hola.</span><span class="sxs-lookup"><span data-stu-id="dc342-130">Logic is applied toohello received data and hello cloud service records hello data.</span></span>

## <a name="sql-assessment-data-collection-details"></a><span data-ttu-id="dc342-131">Detalles de la recopilación de datos de la evaluación de SQL</span><span class="sxs-lookup"><span data-stu-id="dc342-131">SQL Assessment data collection details</span></span>
<span data-ttu-id="dc342-132">Evaluación de SQL recopila datos WMI, datos del registro, los datos de rendimiento y los resultados de vista de administración dinámica de SQL Server que se utilizan a agentes de Hola que se ha habilitado.</span><span class="sxs-lookup"><span data-stu-id="dc342-132">SQL Assessment collects WMI data, registry data, performance data, and SQL Server dynamic management view results using hello agents that you have enabled.</span></span>

<span data-ttu-id="dc342-133">Hello tabla siguiente muestran los métodos de recopilación de datos para los agentes, si es necesario Operations Manager (SCOM) y cómo se recopilan los datos a menudo por un agente.</span><span class="sxs-lookup"><span data-stu-id="dc342-133">hello following table shows data collection methods for agents, whether Operations Manager (SCOM) is required, and how often data is collected by an agent.</span></span>

| <span data-ttu-id="dc342-134">plataforma</span><span class="sxs-lookup"><span data-stu-id="dc342-134">platform</span></span> | <span data-ttu-id="dc342-135">Agente directo</span><span class="sxs-lookup"><span data-stu-id="dc342-135">Direct Agent</span></span> | <span data-ttu-id="dc342-136">Agente de SCOM</span><span class="sxs-lookup"><span data-stu-id="dc342-136">SCOM agent</span></span> | <span data-ttu-id="dc342-137">Azure Storage</span><span class="sxs-lookup"><span data-stu-id="dc342-137">Azure Storage</span></span> | <span data-ttu-id="dc342-138">¿Se necesita SCOM?</span><span class="sxs-lookup"><span data-stu-id="dc342-138">SCOM required?</span></span> | <span data-ttu-id="dc342-139">Datos del agente de SCOM enviados a través del grupo de administración</span><span class="sxs-lookup"><span data-stu-id="dc342-139">SCOM agent data sent via management group</span></span> | <span data-ttu-id="dc342-140">Frecuencia de recopilación</span><span class="sxs-lookup"><span data-stu-id="dc342-140">collection frequency</span></span> |
| --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="dc342-141">Windows</span><span class="sxs-lookup"><span data-stu-id="dc342-141">Windows</span></span> | <span data-ttu-id="dc342-142">&#8226;</span><span class="sxs-lookup"><span data-stu-id="dc342-142">&#8226;</span></span> | <span data-ttu-id="dc342-143">&#8226;</span><span class="sxs-lookup"><span data-stu-id="dc342-143">&#8226;</span></span> |  |  | <span data-ttu-id="dc342-144">&#8226;</span><span class="sxs-lookup"><span data-stu-id="dc342-144">&#8226;</span></span> |<span data-ttu-id="dc342-145">7 días</span><span class="sxs-lookup"><span data-stu-id="dc342-145">7 days</span></span> |

## <a name="operations-manager-run-as-accounts-for-oms"></a><span data-ttu-id="dc342-146">Cuentas de ejecución de Operations Manager para OMS</span><span class="sxs-lookup"><span data-stu-id="dc342-146">Operations Manager run-as accounts for OMS</span></span>
<span data-ttu-id="dc342-147">Análisis de registros de OMS utilizan hello agente de Operations Manager y toocollect del grupo de administración y servicio OMS de toohello de datos de envío.</span><span class="sxs-lookup"><span data-stu-id="dc342-147">Log Analytics in OMS uses hello Operations Manager agent and management group toocollect and send data toohello OMS service.</span></span> <span data-ttu-id="dc342-148">OMS se basa en módulos de administración para las cargas de trabajo tooprovide servicios de valor añadido.</span><span class="sxs-lookup"><span data-stu-id="dc342-148">OMS builds upon management packs for workloads tooprovide value-add services.</span></span> <span data-ttu-id="dc342-149">Cada carga de trabajo requiere los módulos de administración de toorun de privilegios de cargas de trabajo específicas en un contexto de seguridad diferente, como una cuenta de dominio.</span><span class="sxs-lookup"><span data-stu-id="dc342-149">Each workload requires workload-specific privileges toorun management packs in a different security context, such as a domain account.</span></span> <span data-ttu-id="dc342-150">Necesita información de credenciales de tooprovide mediante la configuración de una cuenta de Operations Manager ejecutar como.</span><span class="sxs-lookup"><span data-stu-id="dc342-150">You need tooprovide credential information by configuring an Operations Manager Run As account.</span></span>

<span data-ttu-id="dc342-151">Usar hello siga información tooset Hola Operations Manager cuenta de ejecución para la evaluación de SQL.</span><span class="sxs-lookup"><span data-stu-id="dc342-151">Use hello following information tooset hello Operations Manager run-as account for SQL Assessment.</span></span>

### <a name="set-hello-run-as-account-for-sql-assessment"></a><span data-ttu-id="dc342-152">Defina Hola ejecutar como cuenta de evaluación de SQL</span><span class="sxs-lookup"><span data-stu-id="dc342-152">Set hello Run As account for SQL assessment</span></span>
 <span data-ttu-id="dc342-153">Si ya usas Hola módulo de administración de SQL Server, debe utilizar esa cuenta de ejecución.</span><span class="sxs-lookup"><span data-stu-id="dc342-153">If you are already using hello SQL Server management pack, you should use that Run As account.</span></span>

#### <a name="tooconfigure-hello-sql-run-as-account-in-hello-operations-console"></a><span data-ttu-id="dc342-154">Hola tooconfigure SQL cuenta de ejecución en la consola del operador Hola</span><span class="sxs-lookup"><span data-stu-id="dc342-154">tooconfigure hello SQL Run As account in hello Operations console</span></span>
> [!NOTE]
> <span data-ttu-id="dc342-155">Si utilizas hello OMS dirigir el agente, en lugar de agente SCOM hello, módulo de administración de hello siempre se ejecuta en el contexto de seguridad de Hola de hello cuenta de sistema Local.</span><span class="sxs-lookup"><span data-stu-id="dc342-155">If you are using hello OMS direct agent, rather than hello SCOM agent, hello management pack always runs in hello security context of hello Local System account.</span></span> <span data-ttu-id="dc342-156">Omitir pasos 1-5 siguiente y, a continuación, ejecución o Hola ejemplo de T-SQL o Powershell, especificando NT AUTHORITY\SYSTEM como nombre de usuario de Hola.</span><span class="sxs-lookup"><span data-stu-id="dc342-156">Skip steps 1-5 below, and run either hello T-SQL or Powershell sample, specifying NT AUTHORITY\SYSTEM as hello user name.</span></span>
>
>

1. <span data-ttu-id="dc342-157">En Operations Manager, abra la consola del operador de hello y, a continuación, haga clic en **administración**.</span><span class="sxs-lookup"><span data-stu-id="dc342-157">In Operations Manager, open hello Operations console, and then click **Administration**.</span></span>
2. <span data-ttu-id="dc342-158">En **Run As Configuration** (Configuración de ejecución), haga clic en **Perfiles** y abra **OMS SQL Assessment Run As Profile** (Perfil de ejecución de evaluación de SQL para OMS).</span><span class="sxs-lookup"><span data-stu-id="dc342-158">Under **Run As Configuration**, click **Profiles**, and open **OMS SQL Assessment Run As Profile**.</span></span>
3. <span data-ttu-id="dc342-159">En hello **cuentas de ejecución** página, haga clic en **agregar**.</span><span class="sxs-lookup"><span data-stu-id="dc342-159">On hello **Run As Accounts** page, click **Add**.</span></span>
4. <span data-ttu-id="dc342-160">Seleccione una cuenta de identificación de Windows que contiene las credenciales de hello necesarias para SQL Server, o haga clic en **New** toocreate uno.</span><span class="sxs-lookup"><span data-stu-id="dc342-160">Select a Windows Run As account that contains hello credentials needed for SQL Server, or click **New** toocreate one.</span></span>

   > [!NOTE]
   > <span data-ttu-id="dc342-161">Hola ejecutar como el tipo de cuenta debe ser Windows.</span><span class="sxs-lookup"><span data-stu-id="dc342-161">hello Run As account type must be Windows.</span></span> <span data-ttu-id="dc342-162">Hola cuenta de ejecución también debe formar parte del grupo de administradores Local en todos los servidores de Windows que hospedan instancias de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="dc342-162">hello Run As account must also be part of Local Administrators group on all Windows Servers hosting SQL Server Instances.</span></span>
   >
   >
5. <span data-ttu-id="dc342-163">Haga clic en **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="dc342-163">Click **Save**.</span></span>
6. <span data-ttu-id="dc342-164">Modifique y, a continuación, ejecute hello según la muestra de T-SQL en cada tooRun necesario de instancia de SQL Server toogrant permisos mínimos cuenta tooperform evaluación de SQL.</span><span class="sxs-lookup"><span data-stu-id="dc342-164">Modify and then execute hello following T-SQL sample on each SQL Server Instance toogrant minimum permissions required tooRun As Account tooperform SQL Assessment.</span></span> <span data-ttu-id="dc342-165">Sin embargo, esto no es necesario toodo si una cuenta de ejecución ya forma parte del rol de servidor sysadmin de hello en instancias de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="dc342-165">However, you don’t need toodo this if a Run As Account is already part of hello sysadmin server role on SQL Server Instances.</span></span>

```
---
    -- Replace <UserName> with hello actual user name being used as Run As Account.
    USE master

    -- Create login for hello user, comment this line if login is already created.
    CREATE LOGIN [<UserName>] FROM WINDOWS

    -- Grant permissions toouser.
    GRANT VIEW SERVER STATE too[<UserName>]
    GRANT VIEW ANY DEFINITION too[<UserName>]
    GRANT VIEW ANY DATABASE too[<UserName>]

    -- Add database user for all hello databases on SQL Server Instance, this is required for connecting tooindividual databases.
    -- NOTE: This command must be run anytime new databases are added tooSQL Server instances.
    EXEC sp_msforeachdb N'USE [?]; CREATE USER [<UserName>] FOR LOGIN [<UserName>];'

```
#### <a name="tooconfigure-hello-sql-run-as-account-using-windows-powershell"></a><span data-ttu-id="dc342-166">Hola tooconfigure SQL cuenta de ejecución mediante Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="dc342-166">tooconfigure hello SQL Run As account using Windows PowerShell</span></span>
<span data-ttu-id="dc342-167">Abra una ventana de PowerShell y ejecute Hola siguiente secuencia de comandos después de haberlo actualizado con la información:</span><span class="sxs-lookup"><span data-stu-id="dc342-167">Open a PowerShell window and run hello following script after you’ve updated it with your information:</span></span>

```

    import-module OperationsManager
    New-SCOMManagementGroupConnection "<your management group name>"

    $profile = Get-SCOMRunAsProfile -DisplayName "OMS SQL Assessment Run As Profile"
    $account = Get-SCOMrunAsAccount | Where-Object {$_.Name -eq "<your run as account name>"}
    Set-SCOMRunAsProfile -Action "Add" -Profile $Profile -Account $Account
```

## <a name="understanding-how-recommendations-are-prioritized"></a><span data-ttu-id="dc342-168">Cómo se establecen prioridades entre las recomendaciones</span><span class="sxs-lookup"><span data-stu-id="dc342-168">Understanding how recommendations are prioritized</span></span>
<span data-ttu-id="dc342-169">Cada recomendación efectuada se proporciona un valor de ponderación que identifica Hola importancia relativa de la recomendación de Hola.</span><span class="sxs-lookup"><span data-stu-id="dc342-169">Every recommendation made is given a weighting value that identifies hello relative importance of hello recommendation.</span></span> <span data-ttu-id="dc342-170">Hola solo se muestran diez recomendaciones más importantes.</span><span class="sxs-lookup"><span data-stu-id="dc342-170">Only hello ten most important recommendations are shown.</span></span>

### <a name="how-weights-are-calculated"></a><span data-ttu-id="dc342-171">Cálculo de las ponderaciones</span><span class="sxs-lookup"><span data-stu-id="dc342-171">How weights are calculated</span></span>
<span data-ttu-id="dc342-172">Las ponderaciones son valores agregados en función de tres factores principales:</span><span class="sxs-lookup"><span data-stu-id="dc342-172">Weightings are aggregate values based on three key factors:</span></span>

* <span data-ttu-id="dc342-173">Hola *probabilidad* que un asunto identificado pueda causar problemas.</span><span class="sxs-lookup"><span data-stu-id="dc342-173">hello *probability* that an issue identified will cause problems.</span></span> <span data-ttu-id="dc342-174">Una probabilidad más alta equivale tooa mayor puntuación total de recomendación de Hola.</span><span class="sxs-lookup"><span data-stu-id="dc342-174">A higher probability equates tooa larger overall score for hello recommendation.</span></span>
* <span data-ttu-id="dc342-175">Hola *impacto* de problema de hello en su organización en caso de que se produzca un problema.</span><span class="sxs-lookup"><span data-stu-id="dc342-175">hello *impact* of hello issue on your organization if it does cause a problem.</span></span> <span data-ttu-id="dc342-176">Un mayor impacto equivale tooa mayor puntuación total de recomendación de Hola.</span><span class="sxs-lookup"><span data-stu-id="dc342-176">A higher impact equates tooa larger overall score for hello recommendation.</span></span>
* <span data-ttu-id="dc342-177">Hola *esfuerzo* necesario recomendación de hello tooimplement.</span><span class="sxs-lookup"><span data-stu-id="dc342-177">hello *effort* required tooimplement hello recommendation.</span></span> <span data-ttu-id="dc342-178">Un mayor esfuerzo equivale tooa de puntuación total menor para la recomendación de Hola.</span><span class="sxs-lookup"><span data-stu-id="dc342-178">A higher effort equates tooa smaller overall score for hello recommendation.</span></span>

<span data-ttu-id="dc342-179">Hola ponderación de cada recomendación se expresa como un porcentaje de hello puntuación total disponible para cada área de enfoque.</span><span class="sxs-lookup"><span data-stu-id="dc342-179">hello weighting for each recommendation is expressed as a percentage of hello total score available for each focus area.</span></span> <span data-ttu-id="dc342-180">Por ejemplo, si una recomendación de seguridad de Hola y de área de enfoque de cumplimiento tiene una puntuación del 5%, implementación de esa recomendación aumentará la seguridad y cumplimiento de normas puntuación total por 5%.</span><span class="sxs-lookup"><span data-stu-id="dc342-180">For example, if a recommendation in hello Security and Compliance focus area has a score of 5%, implementing that recommendation will increase your overall Security and Compliance score by 5%.</span></span>

### <a name="focus-areas"></a><span data-ttu-id="dc342-181">Áreas de enfoque</span><span class="sxs-lookup"><span data-stu-id="dc342-181">Focus areas</span></span>
<span data-ttu-id="dc342-182">**Seguridad y cumplimiento** : este apartado muestra recomendaciones en caso de posibles amenazas e infracciones de seguridad, directivas corporativas y requisitos de cumplimiento técnico, legal y reglamentario.</span><span class="sxs-lookup"><span data-stu-id="dc342-182">**Security and Compliance** - This focus area shows recommendations for potential security threats and breaches, corporate policies, and technical, legal and regulatory compliance requirements.</span></span>

<span data-ttu-id="dc342-183">**Disponibilidad y continuidad empresarial** : este apartado muestra recomendaciones relacionadas con la disponibilidad de servicio, la resistencia de la infraestructura y la protección del negocio.</span><span class="sxs-lookup"><span data-stu-id="dc342-183">**Availability and Business Continuity** - This focus area shows recommendations for service availability, resiliency of your infrastructure, and business protection.</span></span>

<span data-ttu-id="dc342-184">**Rendimiento y escalabilidad** -esta área de enfoque muestra toohelp recomendaciones de su organización crecer de infraestructura de TI, asegúrese de que su entorno de TI cumple los requisitos de rendimiento actuales y es capaz de toorespond toochanging necesidades de infraestructura.</span><span class="sxs-lookup"><span data-stu-id="dc342-184">**Performance and Scalability** - This focus area shows recommendations toohelp your organization's IT infrastructure grow, ensure that your IT environment meets current performance requirements, and is able toorespond toochanging infrastructure needs.</span></span>

<span data-ttu-id="dc342-185">**Actualización, migración e implementación** : toohelp recomendaciones actualizar muestra esta área de enfoque, migración e implementar la infraestructura existente de SQL Server tooyour.</span><span class="sxs-lookup"><span data-stu-id="dc342-185">**Upgrade, Migration and Deployment** - This focus area shows recommendations toohelp you upgrade, migrate, and deploy SQL Server tooyour existing infrastructure.</span></span>

<span data-ttu-id="dc342-186">**Operaciones y supervisión** : esta área de enfoque muestra recomendaciones toohelp agilizar las operaciones de TI, implementar el mantenimiento preventivo y maximizar el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="dc342-186">**Operations and Monitoring** - This focus area shows recommendations toohelp streamline your IT operations, implement preventative maintenance, and maximize performance.</span></span>

<span data-ttu-id="dc342-187">**Administración de cambios y configuración** -recomendaciones muestra esta área de enfoque toohelp proteger las operaciones diarias, asegúrese de que cambios no negativamente afectar a la infraestructura, establecer procedimientos de control de cambios y tootrack y auditoría configuraciones del sistema.</span><span class="sxs-lookup"><span data-stu-id="dc342-187">**Change and Configuration Management** - This focus area shows recommendations toohelp protect day-to-day operations, ensure that changes don't negatively affect your infrastructure, establish change control procedures, and tootrack and audit system configurations.</span></span>

### <a name="should-you-aim-tooscore-100-in-every-focus-area"></a><span data-ttu-id="dc342-188">¿Debe conseguir tooscore 100% en cada área de enfoque?</span><span class="sxs-lookup"><span data-stu-id="dc342-188">Should you aim tooscore 100% in every focus area?</span></span>
<span data-ttu-id="dc342-189">No necesariamente.</span><span class="sxs-lookup"><span data-stu-id="dc342-189">Not necessarily.</span></span> <span data-ttu-id="dc342-190">Hola recomendaciones se basan en los conocimientos de Hola y las experiencias adquiridas por los ingenieros de Microsoft fruto de miles de visitas de clientes.</span><span class="sxs-lookup"><span data-stu-id="dc342-190">hello recommendations are based on hello knowledge and experiences gained by Microsoft engineers across thousands of customer visits.</span></span> <span data-ttu-id="dc342-191">Sin embargo, no hay dos infraestructuras de servidores son Hola igual y determinadas recomendaciones puedan ser tooyou más o menos relevante.</span><span class="sxs-lookup"><span data-stu-id="dc342-191">However, no two server infrastructures are hello same, and specific recommendations may be more or less relevant tooyou.</span></span> <span data-ttu-id="dc342-192">Por ejemplo, algunas recomendaciones de seguridad pueden ser menos relevantes si las máquinas virtuales no están expuesto toohello Internet.</span><span class="sxs-lookup"><span data-stu-id="dc342-192">For example, some security recommendations might be less relevant if your virtual machines are not exposed toohello Internet.</span></span> <span data-ttu-id="dc342-193">Algunas recomendaciones de disponibilidad pueden ser menos relevantes para los servicios que proporcionan informes y recopilaciones de datos ad hoc de baja prioridad.</span><span class="sxs-lookup"><span data-stu-id="dc342-193">Some availability recommendations may be less relevant for services that provide low priority ad hoc data collection and reporting.</span></span> <span data-ttu-id="dc342-194">Los problemas que son tooa importante para el negocio maduro pueden inicio de tooa menos importante.</span><span class="sxs-lookup"><span data-stu-id="dc342-194">Issues that are important tooa mature business may be less important tooa start-up.</span></span> <span data-ttu-id="dc342-195">Puede desea tooidentify qué áreas de enfoque son prioritarias para usted y, a continuación, observar cómo cambian las puntuaciones con el tiempo.</span><span class="sxs-lookup"><span data-stu-id="dc342-195">You may want tooidentify which focus areas are your priorities and then look at how your scores change over time.</span></span>

<span data-ttu-id="dc342-196">Cada recomendación incluye pautas que indican por qué es importante.</span><span class="sxs-lookup"><span data-stu-id="dc342-196">Every recommendation includes guidance about why it is important.</span></span> <span data-ttu-id="dc342-197">Debe usar esta guía tooevaluate si implementa la recomendación de hello es adecuado para usted, dada la naturaleza de Hola de sus necesidades de negocio de hello y servicios de TI de su organización.</span><span class="sxs-lookup"><span data-stu-id="dc342-197">You should use this guidance tooevaluate whether implementing hello recommendation is appropriate for you, given hello nature of your IT services and hello business needs of your organization.</span></span>

## <a name="use-assessment-focus-area-recommendations"></a><span data-ttu-id="dc342-198">Uso de las recomendaciones de área de enfoque de evaluación</span><span class="sxs-lookup"><span data-stu-id="dc342-198">Use assessment focus area recommendations</span></span>
<span data-ttu-id="dc342-199">Antes de poder usar una solución de evaluación en OMS, debe tener instalada la solución de Hola.</span><span class="sxs-lookup"><span data-stu-id="dc342-199">Before you can use an assessment solution in OMS, you must have hello solution installed.</span></span> <span data-ttu-id="dc342-200">tooread más acerca de cómo instalar soluciones, consulte [soluciones de análisis de registro agregar desde la Galería de soluciones de hello](log-analytics-add-solutions.md).</span><span class="sxs-lookup"><span data-stu-id="dc342-200">tooread more about installing solutions, see [Add Log Analytics solutions from hello Solutions Gallery](log-analytics-add-solutions.md).</span></span> <span data-ttu-id="dc342-201">Después de instalarlo, puede ver resumen de Hola de recomendaciones mediante el icono de evaluación de SQL de hello en la página de información general de Hola de OMS.</span><span class="sxs-lookup"><span data-stu-id="dc342-201">After it is installed, you can view hello summary of recommendations by using hello SQL Assessment tile on hello Overview page in OMS.</span></span>

<span data-ttu-id="dc342-202">Hola de vista resume de las evaluaciones de cumplimiento para su infraestructura y, a continuación, profundizar en recomendaciones.</span><span class="sxs-lookup"><span data-stu-id="dc342-202">View hello summarized compliance assessments for your infrastructure and then drill-into recommendations.</span></span>

### <a name="tooview-recommendations-for-a-focus-area-and-take-corrective-action"></a><span data-ttu-id="dc342-203">recomendaciones de tooview para una acción correctora foco área y take</span><span class="sxs-lookup"><span data-stu-id="dc342-203">tooview recommendations for a focus area and take corrective action</span></span>
1. <span data-ttu-id="dc342-204">En hello **Introducción** página, haga clic en hello **evaluación de SQL** icono.</span><span class="sxs-lookup"><span data-stu-id="dc342-204">On hello **Overview** page, click hello **SQL Assessment** tile.</span></span>
2. <span data-ttu-id="dc342-205">En hello **evaluación de SQL** página, revise la información de resumen de hello en uno de los módulos de área de enfoque de hello y, a continuación, haga clic en uno tooview recomendaciones para dicha área de enfoque.</span><span class="sxs-lookup"><span data-stu-id="dc342-205">On hello **SQL Assessment** page, review hello summary information in one of hello focus area blades and then click one tooview recommendations for that focus area.</span></span>
3. <span data-ttu-id="dc342-206">En cualquiera de las páginas de área de enfoque de hello, puede ver recomendaciones de hello prioridad diseñadas para su entorno.</span><span class="sxs-lookup"><span data-stu-id="dc342-206">On any of hello focus area pages, you can view hello prioritized recommendations made for your environment.</span></span> <span data-ttu-id="dc342-207">Haga clic en una recomendación en **objetos afectados** tooview detalles sobre por qué se realiza la recomendación de Hola.</span><span class="sxs-lookup"><span data-stu-id="dc342-207">Click a recommendation under **Affected Objects** tooview details about why hello recommendation is made.</span></span>  
    <span data-ttu-id="dc342-208">![imagen de las recomendaciones de evaluación de SQL](./media/log-analytics-sql-assessment/sql-assess-focus.png)</span><span class="sxs-lookup"><span data-stu-id="dc342-208">![image of SQL Assessment recommendations](./media/log-analytics-sql-assessment/sql-assess-focus.png)</span></span>
4. <span data-ttu-id="dc342-209">Puede tomar las medidas correctivas que se sugieren en **Acciones sugeridas**.</span><span class="sxs-lookup"><span data-stu-id="dc342-209">You can take corrective actions suggested in **Suggested Actions**.</span></span> <span data-ttu-id="dc342-210">Cuando se haya tratado elemento hello, evaluaciones posteriores registrarán que recomienda acciones se han realizado y aumentará su calificación de cumplimiento de normas.</span><span class="sxs-lookup"><span data-stu-id="dc342-210">When hello item has been addressed, later assessments will record that recommended actions were taken and your compliance score will increase.</span></span> <span data-ttu-id="dc342-211">Los asuntos que se hayan corregido aparecerán en **Objetos superados**.</span><span class="sxs-lookup"><span data-stu-id="dc342-211">Corrected items appear as **Passed Objects**.</span></span>

## <a name="ignore-recommendations"></a><span data-ttu-id="dc342-212">Omisión de las recomendaciones</span><span class="sxs-lookup"><span data-stu-id="dc342-212">Ignore recommendations</span></span>
<span data-ttu-id="dc342-213">Si tiene las recomendaciones que desea tooignore, puede crear un archivo de texto que utilice OMS tooprevent recomendaciones que aparecen en los resultados de la evaluación.</span><span class="sxs-lookup"><span data-stu-id="dc342-213">If you have recommendations that you want tooignore, you can create a text file that OMS will use tooprevent recommendations from appearing in your assessment results.</span></span>

[!include[log-analytics-log-search-nextgeneration](../../includes/log-analytics-log-search-nextgeneration.md)]

### <a name="tooidentify-recommendations-that-you-will-ignore"></a><span data-ttu-id="dc342-214">recomendaciones de tooidentify que pasarán por alto</span><span class="sxs-lookup"><span data-stu-id="dc342-214">tooidentify recommendations that you will ignore</span></span>
1. <span data-ttu-id="dc342-215">Inicie sesión en el área de trabajo de tooyour y abra búsqueda de registros.</span><span class="sxs-lookup"><span data-stu-id="dc342-215">Sign in tooyour workspace and open Log Search.</span></span> <span data-ttu-id="dc342-216">Usar hello siguiendo las recomendaciones de toolist de consultas con error para los equipos de su entorno.</span><span class="sxs-lookup"><span data-stu-id="dc342-216">Use hello following query toolist recommendations that have failed for computers in your environment.</span></span>

   ```
   Type=SQLAssessmentRecommendation RecommendationResult=Failed | select  Computer, RecommendationId, Recommendation | sort  Computer
   ```

   <span data-ttu-id="dc342-217">Esta es una consulta de búsqueda de registros de captura de pantalla mostrando hello: ![no se pudo recomendaciones](./media/log-analytics-sql-assessment/sql-assess-failed-recommendations.png)</span><span class="sxs-lookup"><span data-stu-id="dc342-217">Here's a screen shot showing hello Log Search query: ![failed recommendations](./media/log-analytics-sql-assessment/sql-assess-failed-recommendations.png)</span></span>
2. <span data-ttu-id="dc342-218">Elija las recomendaciones que desea tooignore.</span><span class="sxs-lookup"><span data-stu-id="dc342-218">Choose recommendations that you want tooignore.</span></span> <span data-ttu-id="dc342-219">Usará los valores de hello de RecommendationId en el procedimiento siguiente Hola.</span><span class="sxs-lookup"><span data-stu-id="dc342-219">You’ll use hello values for RecommendationId in hello next procedure.</span></span>

### <a name="toocreate-and-use-an-ignorerecommendationstxt-text-file"></a><span data-ttu-id="dc342-220">toocreate y usar un archivo de texto IgnoreRecommendations.txt</span><span class="sxs-lookup"><span data-stu-id="dc342-220">toocreate and use an IgnoreRecommendations.txt text file</span></span>
1. <span data-ttu-id="dc342-221">Cree un archivo llamado IgnoreRecommendations.txt.</span><span class="sxs-lookup"><span data-stu-id="dc342-221">Create a file named IgnoreRecommendations.txt.</span></span>
2. <span data-ttu-id="dc342-222">Pegue o escriba cada valor de RecommendationId para cada recomendación desea tooignore OMS en una línea independiente y, a continuación, guarde y cierre el archivo hello.</span><span class="sxs-lookup"><span data-stu-id="dc342-222">Paste or type each RecommendationId for each recommendation that you want OMS tooignore on a separate line and then save and close hello file.</span></span>
3. <span data-ttu-id="dc342-223">Coloque el archivo de Hola Hola después de carpeta en cada equipo donde desea que las recomendaciones de tooignore OMS.</span><span class="sxs-lookup"><span data-stu-id="dc342-223">Put hello file in hello following folder on each computer where you want OMS tooignore recommendations.</span></span>
   * <span data-ttu-id="dc342-224">En equipos con Microsoft Monitoring Agent (conectado directamente o a través de Operations Manager): hello *SystemDrive*: \Program Files\Microsoft Monitoring Agent\Agent</span><span class="sxs-lookup"><span data-stu-id="dc342-224">On computers with hello Microsoft Monitoring Agent (connected directly or through Operations Manager) - *SystemDrive*:\Program Files\Microsoft Monitoring Agent\Agent</span></span>
   * <span data-ttu-id="dc342-225">En el servidor de administración de Operations Manager de hello - *SystemDrive*: \Program Files\Microsoft System Center 2012 R2\Operations Manager\Server</span><span class="sxs-lookup"><span data-stu-id="dc342-225">On hello Operations Manager management server - *SystemDrive*:\Program Files\Microsoft System Center 2012 R2\Operations Manager\Server</span></span>

### <a name="tooverify-that-recommendations-are-ignored"></a><span data-ttu-id="dc342-226">tooverify que se omiten las recomendaciones</span><span class="sxs-lookup"><span data-stu-id="dc342-226">tooverify that recommendations are ignored</span></span>
1. <span data-ttu-id="dc342-227">Después de hello próxima evaluación programada se ejecuta de forma predeterminada cada 7 días, Hola especificado se marcan como omitidas y no aparecerán en el panel de evaluación de hello recomendaciones.</span><span class="sxs-lookup"><span data-stu-id="dc342-227">After hello next scheduled assessment runs, by default every 7 days, hello specified recommendations are marked Ignored and will not appear on hello assessment dashboard.</span></span>
2. <span data-ttu-id="dc342-228">Puede usar Hola después a toolist de las consultas de búsqueda de registros todas las recomendaciones de hello pasa por alto.</span><span class="sxs-lookup"><span data-stu-id="dc342-228">You can use hello following Log Search queries toolist all hello ignored recommendations.</span></span>

   ```
   Type=SQLAssessmentRecommendation RecommendationResult=Ignored | select  Computer, RecommendationId, Recommendation | sort  Computer
   ```
3. <span data-ttu-id="dc342-229">Si más adelante decide que desea que las recomendaciones de toosee pasa por alto, quite todos los archivos IgnoreRecommendations.txt o quite los valores de Recommendationid de ellos.</span><span class="sxs-lookup"><span data-stu-id="dc342-229">If you decide later that you want toosee ignored recommendations, remove any IgnoreRecommendations.txt files, or you can remove RecommendationIDs from them.</span></span>

## <a name="sql-assessment-solution-faq"></a><span data-ttu-id="dc342-230">Preguntas más frecuentes sobre soluciones de evaluación de SQL</span><span class="sxs-lookup"><span data-stu-id="dc342-230">SQL Assessment solution FAQ</span></span>
<span data-ttu-id="dc342-231">*¿Con qué frecuencia se ejecuta una evaluación?*</span><span class="sxs-lookup"><span data-stu-id="dc342-231">*How often does an assessment run?*</span></span>

* <span data-ttu-id="dc342-232">evaluación de Hola se realiza cada 7 días.</span><span class="sxs-lookup"><span data-stu-id="dc342-232">hello assessment runs every 7 days.</span></span>

<span data-ttu-id="dc342-233">*¿Cuál es la frecuencia con un tooconfigure manera Hola evaluación se realiza?*</span><span class="sxs-lookup"><span data-stu-id="dc342-233">*Is there a way tooconfigure how often hello assessment runs?*</span></span>

* <span data-ttu-id="dc342-234">De momento, no.</span><span class="sxs-lookup"><span data-stu-id="dc342-234">Not at this time.</span></span>

<span data-ttu-id="dc342-235">*¿Si se detecta otro servidor después de que he agregado Hola solución de evaluación de SQL, se evaluará?*</span><span class="sxs-lookup"><span data-stu-id="dc342-235">*If another server is discovered after I’ve added hello SQL assessment solution, will it be assessed?*</span></span>

* <span data-ttu-id="dc342-236">Sí, una vez que se detecte, se evaluará cada 7 días a partir de entonces.</span><span class="sxs-lookup"><span data-stu-id="dc342-236">Yes, once it is discovered it is assessed from then on, every 7 days.</span></span>

<span data-ttu-id="dc342-237">*¿Si se retira un servidor, cuándo se quitará de evaluación de hello?*</span><span class="sxs-lookup"><span data-stu-id="dc342-237">*If a server is decommissioned, when will it be removed from hello assessment?*</span></span>

* <span data-ttu-id="dc342-238">Si un servidor no envía datos durante 3 semanas, se quitará.</span><span class="sxs-lookup"><span data-stu-id="dc342-238">If a server does not submit data for 3 weeks, it is removed.</span></span>

<span data-ttu-id="dc342-239">*¿Cuál es el nombre de hello del proceso de Hola que Hola la recopilación de datos?*</span><span class="sxs-lookup"><span data-stu-id="dc342-239">*What is hello name of hello process that does hello data collection?*</span></span>

* <span data-ttu-id="dc342-240">AdvisorAssessment.exe</span><span class="sxs-lookup"><span data-stu-id="dc342-240">AdvisorAssessment.exe</span></span>

<span data-ttu-id="dc342-241">*¿Cuánto tarda para toobe de datos que se recopilan?*</span><span class="sxs-lookup"><span data-stu-id="dc342-241">*How long does it take for data toobe collected?*</span></span>

* <span data-ttu-id="dc342-242">recopilación de datos reales de Hello en servidor hello tarda aproximadamente 1 hora.</span><span class="sxs-lookup"><span data-stu-id="dc342-242">hello actual data collection on hello server takes about 1 hour.</span></span> <span data-ttu-id="dc342-243">Puede tardar más en servidores que tengan un gran número de bases de datos o instancias de SQL.</span><span class="sxs-lookup"><span data-stu-id="dc342-243">It may take longer on servers that have a large number of SQL instances or databases.</span></span>

<span data-ttu-id="dc342-244">*¿Qué tipo de datos se recopila?*</span><span class="sxs-lookup"><span data-stu-id="dc342-244">*What type of data is collected?*</span></span>

* <span data-ttu-id="dc342-245">se recopila Hola siguientes tipos de datos:</span><span class="sxs-lookup"><span data-stu-id="dc342-245">hello following types of data are collected:</span></span>
  * <span data-ttu-id="dc342-246">WMI</span><span class="sxs-lookup"><span data-stu-id="dc342-246">WMI</span></span>
  * <span data-ttu-id="dc342-247">Registro</span><span class="sxs-lookup"><span data-stu-id="dc342-247">Registry</span></span>
  * <span data-ttu-id="dc342-248">Contadores de rendimiento</span><span class="sxs-lookup"><span data-stu-id="dc342-248">Performance counters</span></span>
  * <span data-ttu-id="dc342-249">Vistas de administración dinámica (DMV) de SQL</span><span class="sxs-lookup"><span data-stu-id="dc342-249">SQL dynamic management views (DMV).</span></span>

<span data-ttu-id="dc342-250">*¿Hay una manera tooconfigure cuando los datos se recopilan?*</span><span class="sxs-lookup"><span data-stu-id="dc342-250">*Is there a way tooconfigure when data is collected?*</span></span>

* <span data-ttu-id="dc342-251">De momento, no.</span><span class="sxs-lookup"><span data-stu-id="dc342-251">Not at this time.</span></span>

<span data-ttu-id="dc342-252">*¿Por qué tengo tooconfigure una cuenta de ejecución?*</span><span class="sxs-lookup"><span data-stu-id="dc342-252">*Why do I have tooconfigure a Run As Account?*</span></span>

* <span data-ttu-id="dc342-253">Para SQL Server, se ejecuta un número reducido de consultas SQL.</span><span class="sxs-lookup"><span data-stu-id="dc342-253">For SQL Server, a small number of SQL queries are run.</span></span> <span data-ttu-id="dc342-254">En orden para ellos se debe usar toorun, una cuenta de ejecución con tooSQL de permisos VIEW SERVER STATE.</span><span class="sxs-lookup"><span data-stu-id="dc342-254">In order for them toorun, a Run As Account with VIEW SERVER STATE permissions tooSQL must be used.</span></span>  <span data-ttu-id="dc342-255">Además, en orden tooquery WMI, se necesitan credenciales de administrador local.</span><span class="sxs-lookup"><span data-stu-id="dc342-255">In addition, in order tooquery WMI, local administrator credentials are required.</span></span>

<span data-ttu-id="dc342-256">*¿Por qué se muestran solo Hola 10 recomendaciones principales?*</span><span class="sxs-lookup"><span data-stu-id="dc342-256">*Why display only hello top 10 recommendations?*</span></span>

* <span data-ttu-id="dc342-257">En lugar de darle una lista exhaustiva y abrumadora de tareas, se recomienda centrarse primero en un nivel de prioridad de hello recomendaciones.</span><span class="sxs-lookup"><span data-stu-id="dc342-257">Instead of giving you an exhaustive overwhelming list of tasks, we recommend that you focus on addressing hello prioritized recommendations first.</span></span> <span data-ttu-id="dc342-258">Después de aplicarlas, se mostrarán más recomendaciones.</span><span class="sxs-lookup"><span data-stu-id="dc342-258">After you address them, additional recommendations will become available.</span></span> <span data-ttu-id="dc342-259">Si lo prefiere lista detallada de toosee hello, puede ver todas las recomendaciones mediante la búsqueda de registros OMS Hola.</span><span class="sxs-lookup"><span data-stu-id="dc342-259">If you prefer toosee hello detailed list, you can view all recommendations using hello OMS log search.</span></span>

<span data-ttu-id="dc342-260">*¿Hay una manera tooignore una recomendación?*</span><span class="sxs-lookup"><span data-stu-id="dc342-260">*Is there a way tooignore a recommendation?*</span></span>

* <span data-ttu-id="dc342-261">Sí, consulte la sección [Omisión de las recomendaciones](#ignore-recommendations) anterior.</span><span class="sxs-lookup"><span data-stu-id="dc342-261">Yes, see [Ignore recommendations](#ignore-recommendations) section above.</span></span>

## <a name="next-steps"></a><span data-ttu-id="dc342-262">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="dc342-262">Next steps</span></span>
* <span data-ttu-id="dc342-263">[Buscar registros](log-analytics-log-searches.md) tooview obtener datos de la evaluación de SQL y las recomendaciones.</span><span class="sxs-lookup"><span data-stu-id="dc342-263">[Search logs](log-analytics-log-searches.md) tooview detailed SQL Assessment data and recommendations.</span></span>
