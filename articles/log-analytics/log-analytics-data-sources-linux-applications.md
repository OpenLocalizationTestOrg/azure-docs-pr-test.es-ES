---
title: Recopilar el rendimiento de las aplicaciones de Linux en Log Analytics de OMS | Microsoft Docs
description: "En este artículo se proporciona información para configurar el agente de OMS para Linux a fin de recopilar los contadores de rendimiento para MySQL y el servidor HTTP de Apache."
services: log-analytics
documentationcenter: 
author: mgoedtel
manager: carmonm
editor: tysonn
ms.assetid: f1d5bde4-6b86-4b8e-b5c1-3ecbaba76198
ms.service: log-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 05/04/2017
ms.author: magoedte
ms.openlocfilehash: 04ea6f728e59ec8b47e54fe45e1adc6cbbfb85ff
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 07/11/2017
---
# <a name="collect-performance-counters-for-linux-applications-in-log-analytics"></a><span data-ttu-id="fca50-103">Recopilar los contadores de rendimiento para aplicaciones de Linux en Log Analytics</span><span class="sxs-lookup"><span data-stu-id="fca50-103">Collect performance counters for Linux applications in Log Analytics</span></span> 
<span data-ttu-id="fca50-104">En este artículo se proporciona información para configurar el [agente de OMS para Linux](https://github.com/Microsoft/OMS-Agent-for-Linux) a fin de recopilar los contadores de rendimiento para aplicaciones específicas.</span><span class="sxs-lookup"><span data-stu-id="fca50-104">This article provides details for configuring the [OMS Agent for Linux](https://github.com/Microsoft/OMS-Agent-for-Linux) to collect performance counters for specific applications.</span></span>  <span data-ttu-id="fca50-105">Las aplicaciones incluidas en este artículo son las siguientes:</span><span class="sxs-lookup"><span data-stu-id="fca50-105">The applications included in this article are:</span></span>  

- [<span data-ttu-id="fca50-106">MySQL</span><span class="sxs-lookup"><span data-stu-id="fca50-106">MySQL</span></span>](#MySQL)
- [<span data-ttu-id="fca50-107">Servidor HTTP de Apache</span><span class="sxs-lookup"><span data-stu-id="fca50-107">Apache HTTP Server</span></span>](#apache-http-server)

## <a name="mysql"></a><span data-ttu-id="fca50-108">MySQL</span><span class="sxs-lookup"><span data-stu-id="fca50-108">MySQL</span></span>
<span data-ttu-id="fca50-109">Si se detecta en el equipo un servidor de MySQL o de MariaDB cuando se instala el agente de OMS, se instalará automáticamente un proveedor de supervisión de rendimiento para el servidor MySQL.</span><span class="sxs-lookup"><span data-stu-id="fca50-109">If MySQL Server or MariaDB Server is detected on the computer when the OMS agent is installed, a performance monitoring provider for MySQL Server will be automatically installed.</span></span> <span data-ttu-id="fca50-110">Este proveedor se conecta al servidor MySQL o MariaDB local para exponer las estadísticas de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="fca50-110">This provider connects to the local MySQL/MariaDB server to expose performance statistics.</span></span> <span data-ttu-id="fca50-111">Debe configurar las credenciales de usuario de MySQL para que el proveedor pueda tener acceso al servidor de MySQL.</span><span class="sxs-lookup"><span data-stu-id="fca50-111">MySQL user credentials must be configured so that the provider can access the MySQL Server.</span></span>

### <a name="configure-mysql-credentials"></a><span data-ttu-id="fca50-112">Configurar las credenciales de MySQL</span><span class="sxs-lookup"><span data-stu-id="fca50-112">Configure MySQL credentials</span></span>
<span data-ttu-id="fca50-113">El proveedor de MySQL para OMI necesita un usuario de MySQL preconfigurado y bibliotecas de cliente de MySQL instaladas para consultar la información de rendimiento y mantenimiento de la instancia de MySQL.</span><span class="sxs-lookup"><span data-stu-id="fca50-113">The MySQL OMI provider requires a preconfigured MySQL user and installed MySQL client libraries in order to query the performance and health information from the MySQL instance.</span></span>  <span data-ttu-id="fca50-114">Estas credenciales se almacenan en un archivo de autenticación que se almacena en el agente de Linux.</span><span class="sxs-lookup"><span data-stu-id="fca50-114">These credentials are stored in an authentication file that's stored on the Linux agent.</span></span>  <span data-ttu-id="fca50-115">El archivo de autenticación especifica la dirección de enlace y el puerto que usa la instancia de MySQL para escuchar y las credenciales que tiene que usar para recopilar métricas.</span><span class="sxs-lookup"><span data-stu-id="fca50-115">The authentication file specifies what bind-address and port the MySQL instance is listening on and what credentials to use to gather metrics.</span></span>  

<span data-ttu-id="fca50-116">Durante la instalación del agente de OMS para Linux, el proveedor de MySQL para OMI examinará los archivos de configuración my.cnf de MySQL (ubicaciones predeterminadas) para encontrar la dirección de enlace y el puerto, y establecer parcialmente el archivo de autenticación de MySQL para OMI.</span><span class="sxs-lookup"><span data-stu-id="fca50-116">During installation of the OMS Agent for Linux the MySQL OMI provider will scan MySQL my.cnf configuration files (default locations) for bind-address and port and partially set the MySQL OMI authentication file.</span></span>

<span data-ttu-id="fca50-117">El archivo de autenticación de MySQL se almacena en `/var/opt/microsoft/mysql-cimprov/auth/omsagent/mysql-auth`.</span><span class="sxs-lookup"><span data-stu-id="fca50-117">The MySQL authentication file is stored at `/var/opt/microsoft/mysql-cimprov/auth/omsagent/mysql-auth`.</span></span>


### <a name="authentication-file-format"></a><span data-ttu-id="fca50-118">Formato del archivo de autenticación</span><span class="sxs-lookup"><span data-stu-id="fca50-118">Authentication file format</span></span>
<span data-ttu-id="fca50-119">A continuación se muestra el formato del archivo de autenticación de MySQL para OMI.</span><span class="sxs-lookup"><span data-stu-id="fca50-119">Following is the format for the MySQL OMI authentication file</span></span>

    [Port]=[Bind-Address], [username], [Base64 encoded Password]
    (Port)=(Bind-Address), (username), (Base64 encoded Password)
    (Port)=(Bind-Address), (username), (Base64 encoded Password)
    AutoUpdate=[true|false]

<span data-ttu-id="fca50-120">Las entradas del archivo de autenticación se describen en la tabla siguiente.</span><span class="sxs-lookup"><span data-stu-id="fca50-120">The entries in the authentication file are described in the following table.</span></span>

| <span data-ttu-id="fca50-121">Propiedad</span><span class="sxs-lookup"><span data-stu-id="fca50-121">Property</span></span> | <span data-ttu-id="fca50-122">Descripción</span><span class="sxs-lookup"><span data-stu-id="fca50-122">Description</span></span> |
|:--|:--|
| <span data-ttu-id="fca50-123">Port</span><span class="sxs-lookup"><span data-stu-id="fca50-123">Port</span></span> | <span data-ttu-id="fca50-124">Representa el puerto actual en el que está escuchando la instancia de MySQL.</span><span class="sxs-lookup"><span data-stu-id="fca50-124">Represents the current port the MySQL instance is listening on.</span></span> <span data-ttu-id="fca50-125">El puerto 0 especifica que las propiedades que siguen se usan para la instancia predeterminada.</span><span class="sxs-lookup"><span data-stu-id="fca50-125">Port 0 specifies that the properties following are used for default instance.</span></span> |
| <span data-ttu-id="fca50-126">Dirección de enlace</span><span class="sxs-lookup"><span data-stu-id="fca50-126">Bind-Address</span></span>| <span data-ttu-id="fca50-127">Dirección de enlace actual de MySQL.</span><span class="sxs-lookup"><span data-stu-id="fca50-127">Current MySQL bind-address.</span></span> |
| <span data-ttu-id="fca50-128">nombre de usuario</span><span class="sxs-lookup"><span data-stu-id="fca50-128">username</span></span>| <span data-ttu-id="fca50-129">Usuario de MySQL usado para supervisar la instancia del servidor MySQL.</span><span class="sxs-lookup"><span data-stu-id="fca50-129">MySQL user used to use to monitor the MySQL server instance.</span></span> |
| <span data-ttu-id="fca50-130">Contraseña codificada en Base64</span><span class="sxs-lookup"><span data-stu-id="fca50-130">Base64 encoded Password</span></span>| <span data-ttu-id="fca50-131">Contraseña del usuario de supervisión de MySQL codificada en Base64.</span><span class="sxs-lookup"><span data-stu-id="fca50-131">Password of the MySQL monitoring user encoded in Base64.</span></span> |
| <span data-ttu-id="fca50-132">Actualización automática</span><span class="sxs-lookup"><span data-stu-id="fca50-132">AutoUpdate</span></span>| <span data-ttu-id="fca50-133">Especifica si se volverán a examinar los cambios en el archivo my.cnf y si se sobrescribirá el archivo de autenticación de MySQL para OMI cuando el proveedor de MySQL para OMI se actualice.</span><span class="sxs-lookup"><span data-stu-id="fca50-133">Specifies whether to rescan for changes in the my.cnf file and overwrite the MySQL OMI Authentication file when the MySQL OMI Provider is upgraded.</span></span> |

### <a name="default-instance"></a><span data-ttu-id="fca50-134">Instancia predeterminada</span><span class="sxs-lookup"><span data-stu-id="fca50-134">Default instance</span></span>
<span data-ttu-id="fca50-135">El archivo de autenticación de MySQL para OMI puede definir una instancia predeterminada y un número de puerto para facilitar la administración de varias instancias de MySQL en un host de Linux.</span><span class="sxs-lookup"><span data-stu-id="fca50-135">The MySQL OMI authentication file can define a default instance and port number to make managing multiple MySQL instances on one Linux host easier.</span></span>  <span data-ttu-id="fca50-136">La instancia predeterminada se indica mediante una instancia con el puerto 0.</span><span class="sxs-lookup"><span data-stu-id="fca50-136">The default instance is denoted by an instance with port 0.</span></span> <span data-ttu-id="fca50-137">Todas las instancias adicionales heredarán las propiedades establecidas en la instancia predeterminada, a menos que se especifiquen valores diferentes.</span><span class="sxs-lookup"><span data-stu-id="fca50-137">All additional instances will inherit properties set from the default instance unless they specify different values.</span></span> <span data-ttu-id="fca50-138">Por ejemplo, si se agrega la instancia de MySQL que escucha en el puerto "3308", se usará la dirección de enlace, el nombre de usuario y la contraseña codificada en Base64 de la instancia predeterminada para probar y supervisar la instancia que escucha en 3308.</span><span class="sxs-lookup"><span data-stu-id="fca50-138">For example, if MySQL instance listening on port ‘3308’ is added, the default instance’s bind-address, username, and Base64 encoded password will be used to try and monitor the instance listening on 3308.</span></span> <span data-ttu-id="fca50-139">Si la instancia en 3308 está enlazada a otra dirección y usa el mismo par de nombre de usuario y contraseña que MySQL, solo se necesitará la dirección de enlace, y las demás propiedades se heredarán.</span><span class="sxs-lookup"><span data-stu-id="fca50-139">If the instance on 3308 is bound to another address and uses the same MySQL username and password pair only the bind-address is needed, and the other properties will be inherited.</span></span>

<span data-ttu-id="fca50-140">En la tabla siguiente se indica una configuración de ejemplo de la instancia.</span><span class="sxs-lookup"><span data-stu-id="fca50-140">The following table has example instance settings</span></span> 

| <span data-ttu-id="fca50-141">Descripción</span><span class="sxs-lookup"><span data-stu-id="fca50-141">Description</span></span> | <span data-ttu-id="fca50-142">Archivo</span><span class="sxs-lookup"><span data-stu-id="fca50-142">File</span></span> |
|:--|:--|
| <span data-ttu-id="fca50-143">Instancia predeterminada e instancia con el puerto 3308.</span><span class="sxs-lookup"><span data-stu-id="fca50-143">Default instance and instance with port 3308.</span></span> | `0=127.0.0.1, myuser, cnBwdA==`<br>`3308=, ,`<br>`AutoUpdate=true` |
| <span data-ttu-id="fca50-144">Instancia predeterminada e instancia con el puerto 3308 y nombre de usuario y contraseña diferentes.</span><span class="sxs-lookup"><span data-stu-id="fca50-144">Default instance and instance with port 3308 and different user name and password.</span></span> | `0=127.0.0.1, myuser, cnBwdA==`<br>`3308=127.0.1.1, myuser2,cGluaGVhZA==`<br>`AutoUpdate=true` |


### <a name="mysql-omi-authentication-file-program"></a><span data-ttu-id="fca50-145">Programa del archivo de autenticación de MySQL para OMI</span><span class="sxs-lookup"><span data-stu-id="fca50-145">MySQL OMI Authentication File Program</span></span>
<span data-ttu-id="fca50-146">Con la instalación del proveedor de MySQL para OMI se incluye un programa del archivo de autenticación de MySQL para OMI que se puede usar para editar el archivo de autenticación de MySQL para OMI.</span><span class="sxs-lookup"><span data-stu-id="fca50-146">Included with the installation of the MySQL OMI provider is a MySQL OMI authentication file program which can be used to edit the MySQL OMI Authentication file.</span></span> <span data-ttu-id="fca50-147">El programa del archivo de autenticación se encuentra en la ubicación siguiente.</span><span class="sxs-lookup"><span data-stu-id="fca50-147">The authentication file program can be found at the following location.</span></span>

    /opt/microsoft/mysql-cimprov/bin/mycimprovauth

> [!NOTE]
> <span data-ttu-id="fca50-148">El archivo de credenciales tiene que ser legible para la cuenta omsagent.</span><span class="sxs-lookup"><span data-stu-id="fca50-148">The credentials file must be readable by the omsagent account.</span></span> <span data-ttu-id="fca50-149">Se recomienda ejecutar el comando mycimprovauth como omsgent.</span><span class="sxs-lookup"><span data-stu-id="fca50-149">Running the mycimprovauth command as omsgent is recommended.</span></span>

<span data-ttu-id="fca50-150">En la tabla siguiente se proporciona información sobre la sintaxis para usar mycimprovauth.</span><span class="sxs-lookup"><span data-stu-id="fca50-150">The following table provides details on the syntax for using mycimprovauth.</span></span>

| <span data-ttu-id="fca50-151">Operación</span><span class="sxs-lookup"><span data-stu-id="fca50-151">Operation</span></span> | <span data-ttu-id="fca50-152">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="fca50-152">Example</span></span> | <span data-ttu-id="fca50-153">Descripción</span><span class="sxs-lookup"><span data-stu-id="fca50-153">Description</span></span>
|:--|:--|:--|
| <span data-ttu-id="fca50-154">actualización automática *false\\</span><span class="sxs-lookup"><span data-stu-id="fca50-154">autoupdate *false\\</span></span>|<span data-ttu-id="fca50-155">true*</span><span class="sxs-lookup"><span data-stu-id="fca50-155">true*</span></span> | <span data-ttu-id="fca50-156">mycimprovauth autoupdate false</span><span class="sxs-lookup"><span data-stu-id="fca50-156">mycimprovauth autoupdate false</span></span> | <span data-ttu-id="fca50-157">Establece si el archivo de autenticación se actualizará automáticamente o no al reiniciar o actualizar.</span><span class="sxs-lookup"><span data-stu-id="fca50-157">Sets whether or not the authentication file will be automatically updated on restart or update.</span></span> |
| <span data-ttu-id="fca50-158">*nombre de usuario y contraseña de la dirección de enlace* predeterminada</span><span class="sxs-lookup"><span data-stu-id="fca50-158">default *bind-address username password*</span></span> | <span data-ttu-id="fca50-159">mycimprovauth default 127.0.0.1 root pwd</span><span class="sxs-lookup"><span data-stu-id="fca50-159">mycimprovauth default 127.0.0.1 root pwd</span></span> | <span data-ttu-id="fca50-160">Establece la instancia predeterminada del archivo de autenticación de MySQL para OMI.</span><span class="sxs-lookup"><span data-stu-id="fca50-160">Sets the default instance in the MySQL OMI authentication file.</span></span><br><span data-ttu-id="fca50-161">El campo de contraseña debe escribirse en texto sin formato, ya que la contraseña del archivo de autenticación de MySQL para OMI se codificará en Base 64.</span><span class="sxs-lookup"><span data-stu-id="fca50-161">The password field should be entered in plain text - the password in the MySQL OMI authentication file will be Base 64 encoded.</span></span> |
| <span data-ttu-id="fca50-162">eliminar *valor predeterminado\\</span><span class="sxs-lookup"><span data-stu-id="fca50-162">delete *default\\</span></span>|<span data-ttu-id="fca50-163">número de puerto*</span><span class="sxs-lookup"><span data-stu-id="fca50-163">port_num*</span></span> | <span data-ttu-id="fca50-164">mycimprovauth 3308</span><span class="sxs-lookup"><span data-stu-id="fca50-164">mycimprovauth 3308</span></span> | <span data-ttu-id="fca50-165">Elimina la instancia especificada, ya sea por el valor predeterminado o por número de puerto.</span><span class="sxs-lookup"><span data-stu-id="fca50-165">Deletes the specified instance by either default or by port number.</span></span> |
| <span data-ttu-id="fca50-166">help</span><span class="sxs-lookup"><span data-stu-id="fca50-166">help</span></span> | <span data-ttu-id="fca50-167">mycimprov help</span><span class="sxs-lookup"><span data-stu-id="fca50-167">mycimprov help</span></span> | <span data-ttu-id="fca50-168">Imprime una lista de comandos que se pueden usar.</span><span class="sxs-lookup"><span data-stu-id="fca50-168">Prints out a list of commands to use.</span></span> |
| <span data-ttu-id="fca50-169">imprimir</span><span class="sxs-lookup"><span data-stu-id="fca50-169">print</span></span> | <span data-ttu-id="fca50-170">mycimprov print</span><span class="sxs-lookup"><span data-stu-id="fca50-170">mycimprov print</span></span> | <span data-ttu-id="fca50-171">Imprime un archivo de autenticación de MySQL para OMI fácil de leer.</span><span class="sxs-lookup"><span data-stu-id="fca50-171">Prints out an easy to read MySQL OMI authentication file.</span></span> |
| <span data-ttu-id="fca50-172">actualizar *nombre de usuario y contraseña de la dirección de enlace* del número de puerto</span><span class="sxs-lookup"><span data-stu-id="fca50-172">update port_num *bind-address username password*</span></span> | <span data-ttu-id="fca50-173">mycimprov update 3307 127.0.0.1 root pwd</span><span class="sxs-lookup"><span data-stu-id="fca50-173">mycimprov update 3307 127.0.0.1 root pwd</span></span> | <span data-ttu-id="fca50-174">Actualiza la instancia especificada o, si no existe, agrega la instancia.</span><span class="sxs-lookup"><span data-stu-id="fca50-174">Updates the specified instance or adds the instance if it does not exist.</span></span> |

<span data-ttu-id="fca50-175">Los comandos del ejemplo siguiente definen una cuenta de usuario predeterminada para el servidor MySQL en localhost.</span><span class="sxs-lookup"><span data-stu-id="fca50-175">The following example commands define a default user account for the MySQL server on localhost.</span></span>  <span data-ttu-id="fca50-176">El campo de contraseña debe escribirse en texto sin formato, ya que la contraseña del archivo de autenticación de MySQL para OMI se codificará en Base 64.</span><span class="sxs-lookup"><span data-stu-id="fca50-176">The password field should be entered in plain text - the password in the MySQL OMI authentication file will be Base 64 encoded</span></span>

    sudo su omsagent -c '/opt/microsoft/mysql-cimprov/bin/mycimprovauth default 127.0.0.1 <username> <password>'
    sudo /opt/omi/bin/service_control restart

### <a name="database-permissions-required-for-mysql-performance-counters"></a><span data-ttu-id="fca50-177">Permisos necesarios de la base de datos para los contadores de rendimiento de MySQL</span><span class="sxs-lookup"><span data-stu-id="fca50-177">Database Permissions Required for MySQL Performance Counters</span></span>
<span data-ttu-id="fca50-178">El usuario de MySQL necesita acceso a las consultas siguientes para recopilar datos de rendimiento del servidor MySQL.</span><span class="sxs-lookup"><span data-stu-id="fca50-178">The MySQL User requires access to the following queries to collect MySQL Server performance data.</span></span> 

    SHOW GLOBAL STATUS;
    SHOW GLOBAL VARIABLES:


<span data-ttu-id="fca50-179">El usuario de MySQL también necesita el acceso SELECT a las siguientes tablas predeterminadas.</span><span class="sxs-lookup"><span data-stu-id="fca50-179">The MySQL user also requires SELECT access to the following default tables.</span></span>

- <span data-ttu-id="fca50-180">information_schema</span><span class="sxs-lookup"><span data-stu-id="fca50-180">information_schema</span></span>
- <span data-ttu-id="fca50-181">mysql.</span><span class="sxs-lookup"><span data-stu-id="fca50-181">mysql.</span></span> 

<span data-ttu-id="fca50-182">Estos privilegios se pueden conceder ejecutando los siguientes comandos de concesión.</span><span class="sxs-lookup"><span data-stu-id="fca50-182">These privileges can be granted by running the following grant commands.</span></span>

    GRANT SELECT ON information_schema.* TO ‘monuser’@’localhost’;
    GRANT SELECT ON mysql.* TO ‘monuser’@’localhost’;


> [!NOTE]
> <span data-ttu-id="fca50-183">Para conceder permisos a un usuario de supervisión de MySQL, el usuario que concede el permiso tiene que tener el privilegio "GRANT option", además del privilegio que se va a conceder.</span><span class="sxs-lookup"><span data-stu-id="fca50-183">To grant permissions to a MySQL monitoring user the granting user must have the ‘GRANT option’ privilege as well as the privilege being granted.</span></span>

### <a name="define-performance-counters"></a><span data-ttu-id="fca50-184">Definir contadores de rendimiento</span><span class="sxs-lookup"><span data-stu-id="fca50-184">Define performance counters</span></span>

<span data-ttu-id="fca50-185">Una vez configurado el agente de OMS para Linux de modo que envíe datos a Log Analytics, debe configurar los contadores de rendimiento para que recopilen.</span><span class="sxs-lookup"><span data-stu-id="fca50-185">Once you configure the OMS Agent for Linux to send data to Log Analytics, you must configure the performance counters to collect.</span></span>  <span data-ttu-id="fca50-186">Use el procedimiento descrito en [Orígenes de datos de rendimiento de Windows y Linux en Log Analytics](log-analytics-data-sources-windows-events.md) con los contadores de la tabla siguiente.</span><span class="sxs-lookup"><span data-stu-id="fca50-186">Use the procedure in [Windows and Linux performance data sources in Log Analytics](log-analytics-data-sources-windows-events.md) with the counters in the following table.</span></span>

| <span data-ttu-id="fca50-187">Nombre de objeto</span><span class="sxs-lookup"><span data-stu-id="fca50-187">Object Name</span></span> | <span data-ttu-id="fca50-188">Nombre del contador</span><span class="sxs-lookup"><span data-stu-id="fca50-188">Counter Name</span></span> |
|:--|:--|
| <span data-ttu-id="fca50-189">Base de datos MySQL</span><span class="sxs-lookup"><span data-stu-id="fca50-189">MySQL Database</span></span> | <span data-ttu-id="fca50-190">Espacio en disco en bytes</span><span class="sxs-lookup"><span data-stu-id="fca50-190">Disk Space in Bytes</span></span> |
| <span data-ttu-id="fca50-191">Base de datos MySQL</span><span class="sxs-lookup"><span data-stu-id="fca50-191">MySQL Database</span></span> | <span data-ttu-id="fca50-192">Tablas</span><span class="sxs-lookup"><span data-stu-id="fca50-192">Tables</span></span> |
| <span data-ttu-id="fca50-193">MySQL Server</span><span class="sxs-lookup"><span data-stu-id="fca50-193">MySQL Server</span></span> | <span data-ttu-id="fca50-194">Porcentaje de conexiones anuladas</span><span class="sxs-lookup"><span data-stu-id="fca50-194">Aborted Connection Pct</span></span> |
| <span data-ttu-id="fca50-195">MySQL Server</span><span class="sxs-lookup"><span data-stu-id="fca50-195">MySQL Server</span></span> | <span data-ttu-id="fca50-196">Porcentaje de uso de conexión</span><span class="sxs-lookup"><span data-stu-id="fca50-196">Connection Use Pct</span></span> |
| <span data-ttu-id="fca50-197">MySQL Server</span><span class="sxs-lookup"><span data-stu-id="fca50-197">MySQL Server</span></span> | <span data-ttu-id="fca50-198">Uso de espacio en disco en bytes</span><span class="sxs-lookup"><span data-stu-id="fca50-198">Disk Space Use in Bytes</span></span> |
| <span data-ttu-id="fca50-199">MySQL Server</span><span class="sxs-lookup"><span data-stu-id="fca50-199">MySQL Server</span></span> | <span data-ttu-id="fca50-200">Porcentaje de análisis de tabla completa</span><span class="sxs-lookup"><span data-stu-id="fca50-200">Full Table Scan Pct</span></span> |
| <span data-ttu-id="fca50-201">MySQL Server</span><span class="sxs-lookup"><span data-stu-id="fca50-201">MySQL Server</span></span> | <span data-ttu-id="fca50-202">Porcentaje de aciertos del grupo de búferes InnoDB</span><span class="sxs-lookup"><span data-stu-id="fca50-202">InnoDB Buffer Pool Hit Pct</span></span> |
| <span data-ttu-id="fca50-203">MySQL Server</span><span class="sxs-lookup"><span data-stu-id="fca50-203">MySQL Server</span></span> | <span data-ttu-id="fca50-204">Porcentaje de uso del grupo de búferes InnoDB</span><span class="sxs-lookup"><span data-stu-id="fca50-204">InnoDB Buffer Pool Use Pct</span></span> |
| <span data-ttu-id="fca50-205">MySQL Server</span><span class="sxs-lookup"><span data-stu-id="fca50-205">MySQL Server</span></span> | <span data-ttu-id="fca50-206">Porcentaje de uso del grupo de búferes InnoDB</span><span class="sxs-lookup"><span data-stu-id="fca50-206">InnoDB Buffer Pool Use Pct</span></span> |
| <span data-ttu-id="fca50-207">MySQL Server</span><span class="sxs-lookup"><span data-stu-id="fca50-207">MySQL Server</span></span> | <span data-ttu-id="fca50-208">Porcentaje de aciertos de la caché de claves</span><span class="sxs-lookup"><span data-stu-id="fca50-208">Key Cache Hit Pct</span></span> |
| <span data-ttu-id="fca50-209">MySQL Server</span><span class="sxs-lookup"><span data-stu-id="fca50-209">MySQL Server</span></span> | <span data-ttu-id="fca50-210">Porcentaje de uso de la caché de claves</span><span class="sxs-lookup"><span data-stu-id="fca50-210">Key Cache Use Pct</span></span> |
| <span data-ttu-id="fca50-211">MySQL Server</span><span class="sxs-lookup"><span data-stu-id="fca50-211">MySQL Server</span></span> | <span data-ttu-id="fca50-212">Porcentaje de escritura de la caché de claves</span><span class="sxs-lookup"><span data-stu-id="fca50-212">Key Cache Write Pct</span></span> |
| <span data-ttu-id="fca50-213">MySQL Server</span><span class="sxs-lookup"><span data-stu-id="fca50-213">MySQL Server</span></span> | <span data-ttu-id="fca50-214">Porcentaje de aciertos de la caché de consultas</span><span class="sxs-lookup"><span data-stu-id="fca50-214">Query Cache Hit Pct</span></span> |
| <span data-ttu-id="fca50-215">MySQL Server</span><span class="sxs-lookup"><span data-stu-id="fca50-215">MySQL Server</span></span> | <span data-ttu-id="fca50-216">Porcentaje de eliminaciones de la caché de consultas</span><span class="sxs-lookup"><span data-stu-id="fca50-216">Query Cache Prunes Pct</span></span> |
| <span data-ttu-id="fca50-217">MySQL Server</span><span class="sxs-lookup"><span data-stu-id="fca50-217">MySQL Server</span></span> | <span data-ttu-id="fca50-218">Porcentaje de uso de la caché de consultas</span><span class="sxs-lookup"><span data-stu-id="fca50-218">Query Cache Use Pct</span></span> |
| <span data-ttu-id="fca50-219">MySQL Server</span><span class="sxs-lookup"><span data-stu-id="fca50-219">MySQL Server</span></span> | <span data-ttu-id="fca50-220">Porcentaje de aciertos de la caché de tablas</span><span class="sxs-lookup"><span data-stu-id="fca50-220">Table Cache Hit Pct</span></span> |
| <span data-ttu-id="fca50-221">MySQL Server</span><span class="sxs-lookup"><span data-stu-id="fca50-221">MySQL Server</span></span> | <span data-ttu-id="fca50-222">Porcentaje de uso de la caché de tablas</span><span class="sxs-lookup"><span data-stu-id="fca50-222">Table Cache Use Pct</span></span> |
| <span data-ttu-id="fca50-223">MySQL Server</span><span class="sxs-lookup"><span data-stu-id="fca50-223">MySQL Server</span></span> | <span data-ttu-id="fca50-224">Porcentaje de contención de bloqueo de tablas</span><span class="sxs-lookup"><span data-stu-id="fca50-224">Table Lock Contention Pct</span></span> |

## <a name="apache-http-server"></a><span data-ttu-id="fca50-225">Servidor HTTP de Apache</span><span class="sxs-lookup"><span data-stu-id="fca50-225">Apache HTTP Server</span></span> 
<span data-ttu-id="fca50-226">Si se detecta en el equipo un servidor HTTP de Apache cuando se instala la agrupación de omsagent, se instalará automáticamente un proveedor de supervisión de rendimiento para el servidor HTTP de Apache.</span><span class="sxs-lookup"><span data-stu-id="fca50-226">If Apache HTTP Server is detected on the computer when the omsagent bundle is installed, a performance monitoring provider for Apache HTTP Server will be automatically installed.</span></span> <span data-ttu-id="fca50-227">Este proveedor se basa en un módulo de Apache que se tiene que cargar en el servidor HTTP de Apache para tener acceso a los datos de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="fca50-227">This provider relies on an Apache module that must be loaded into the Apache HTTP Server in order to access performance data.</span></span> <span data-ttu-id="fca50-228">Puede cargar el módulo con el comando siguiente:</span><span class="sxs-lookup"><span data-stu-id="fca50-228">The module can be loaded with the following command:</span></span>
```
sudo /opt/microsoft/apache-cimprov/bin/apache_config.sh -c
```

<span data-ttu-id="fca50-229">Para cargar el módulo de supervisión de Apache, ejecute el siguiente comando:</span><span class="sxs-lookup"><span data-stu-id="fca50-229">To unload the Apache monitoring module, run the following command:</span></span>
```
sudo /opt/microsoft/apache-cimprov/bin/apache_config.sh -u
```

### <a name="define-performance-counters"></a><span data-ttu-id="fca50-230">Definir contadores de rendimiento</span><span class="sxs-lookup"><span data-stu-id="fca50-230">Define performance counters</span></span>

<span data-ttu-id="fca50-231">Una vez configurado el agente de OMS para Linux de modo que envíe datos a Log Analytics, debe configurar los contadores de rendimiento para que recopilen.</span><span class="sxs-lookup"><span data-stu-id="fca50-231">Once you configure the OMS Agent for Linux to send data to Log Analytics, you must configure the performance counters to collect.</span></span>  <span data-ttu-id="fca50-232">Use el procedimiento descrito en [Orígenes de datos de rendimiento de Windows y Linux en Log Analytics](log-analytics-data-sources-windows-events.md) con los contadores de la tabla siguiente.</span><span class="sxs-lookup"><span data-stu-id="fca50-232">Use the procedure in [Windows and Linux performance data sources in Log Analytics](log-analytics-data-sources-windows-events.md) with the counters in the following table.</span></span>

| <span data-ttu-id="fca50-233">Nombre de objeto</span><span class="sxs-lookup"><span data-stu-id="fca50-233">Object Name</span></span> | <span data-ttu-id="fca50-234">Nombre del contador</span><span class="sxs-lookup"><span data-stu-id="fca50-234">Counter Name</span></span> |
|:--|:--|
| <span data-ttu-id="fca50-235">Servidor HTTP de Apache</span><span class="sxs-lookup"><span data-stu-id="fca50-235">Apache HTTP Server</span></span> | <span data-ttu-id="fca50-236">Trabajadores ocupados</span><span class="sxs-lookup"><span data-stu-id="fca50-236">Busy Workers</span></span> |
| <span data-ttu-id="fca50-237">Servidor HTTP de Apache</span><span class="sxs-lookup"><span data-stu-id="fca50-237">Apache HTTP Server</span></span> | <span data-ttu-id="fca50-238">Trabajadores inactivos</span><span class="sxs-lookup"><span data-stu-id="fca50-238">Idle Workers</span></span> |
| <span data-ttu-id="fca50-239">Servidor HTTP de Apache</span><span class="sxs-lookup"><span data-stu-id="fca50-239">Apache HTTP Server</span></span> | <span data-ttu-id="fca50-240">Porcentaje de trabajadores ocupados</span><span class="sxs-lookup"><span data-stu-id="fca50-240">Pct Busy Workers</span></span> |
| <span data-ttu-id="fca50-241">Servidor HTTP de Apache</span><span class="sxs-lookup"><span data-stu-id="fca50-241">Apache HTTP Server</span></span> | <span data-ttu-id="fca50-242">Porcentaje total de CPU</span><span class="sxs-lookup"><span data-stu-id="fca50-242">Total Pct CPU</span></span> |
| <span data-ttu-id="fca50-243">Host virtual de Apache</span><span class="sxs-lookup"><span data-stu-id="fca50-243">Apache Virtual Host</span></span> | <span data-ttu-id="fca50-244">Errores por minuto, cliente</span><span class="sxs-lookup"><span data-stu-id="fca50-244">Errors per Minute - Client</span></span> |
| <span data-ttu-id="fca50-245">Host virtual de Apache</span><span class="sxs-lookup"><span data-stu-id="fca50-245">Apache Virtual Host</span></span> | <span data-ttu-id="fca50-246">Errores por minuto, servidor</span><span class="sxs-lookup"><span data-stu-id="fca50-246">Errors per Minute - Server</span></span> |
| <span data-ttu-id="fca50-247">Host virtual de Apache</span><span class="sxs-lookup"><span data-stu-id="fca50-247">Apache Virtual Host</span></span> | <span data-ttu-id="fca50-248">KB por solicitud</span><span class="sxs-lookup"><span data-stu-id="fca50-248">KB per Request</span></span> |
| <span data-ttu-id="fca50-249">Host virtual de Apache</span><span class="sxs-lookup"><span data-stu-id="fca50-249">Apache Virtual Host</span></span> | <span data-ttu-id="fca50-250">KB de solicitudes por segundo</span><span class="sxs-lookup"><span data-stu-id="fca50-250">Requests KB per Second</span></span> |
| <span data-ttu-id="fca50-251">Host virtual de Apache</span><span class="sxs-lookup"><span data-stu-id="fca50-251">Apache Virtual Host</span></span> | <span data-ttu-id="fca50-252">Solicitudes por segundo</span><span class="sxs-lookup"><span data-stu-id="fca50-252">Requests per Second</span></span> |



## <a name="next-steps"></a><span data-ttu-id="fca50-253">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="fca50-253">Next steps</span></span>
* <span data-ttu-id="fca50-254">[Recopilar contadores de rendimiento](log-analytics-data-sources-performance-counters.md) en agentes de Linux.</span><span class="sxs-lookup"><span data-stu-id="fca50-254">[Collect performance counters](log-analytics-data-sources-performance-counters.md) from Linux agents.</span></span>
* <span data-ttu-id="fca50-255">Obtenga información acerca de las [búsquedas de registros](log-analytics-log-searches.md) para analizar los datos recopilados de las soluciones y los orígenes de datos.</span><span class="sxs-lookup"><span data-stu-id="fca50-255">Learn about [log searches](log-analytics-log-searches.md) to analyze the data collected from data sources and solutions.</span></span> 