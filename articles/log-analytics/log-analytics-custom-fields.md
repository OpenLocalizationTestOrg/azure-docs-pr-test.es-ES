---
title: Campos personalizados de Log Analytics | Microsoft Docs
description: "La característica Custom Fields (Campos personalizados) de Log Analytics le permite crear sus propios campos de búsqueda a partir de datos de OMS y agregarlos a las propiedades de un registro recopilado.  En este artículo, se describe el proceso que debe seguir para crear un campo personalizado y se incluye un tutorial detallado con un evento de ejemplo."
services: log-analytics
documentationcenter: 
author: bwren
manager: jwhit
editor: tysonn
ms.assetid: 31572b51-6b57-4945-8208-ecfc3b5304fc
ms.service: log-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 10/18/2016
ms.author: bwren
ms.openlocfilehash: 9e02094f155eaade9bc5fb49c4fbb798e546e989
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 07/11/2017
---
# <a name="custom-fields-in-log-analytics"></a><span data-ttu-id="f231b-104">Campos personalizados de Log Analytics</span><span class="sxs-lookup"><span data-stu-id="f231b-104">Custom fields in Log Analytics</span></span>
<span data-ttu-id="f231b-105">La característica **Custom Fields** (Campos personalizados) de Log Analytics le permite ampliar los registros existentes en el repositorio de OMS agregando sus propios campos de búsqueda.</span><span class="sxs-lookup"><span data-stu-id="f231b-105">The **Custom Fields** feature of Log Analytics allows you to extend existing records in the OMS repository by adding your own searchable fields.</span></span>  <span data-ttu-id="f231b-106">Los campos personalizados se rellenan automáticamente a partir de los datos extraídos de otras propiedades del mismo registro.</span><span class="sxs-lookup"><span data-stu-id="f231b-106">Custom fields are automatically populated from data extracted from other properties in the same record.</span></span>

![Introducción a los campos personalizados](media/log-analytics-custom-fields/overview.png)

<span data-ttu-id="f231b-108">Por ejemplo, en el registro que se muestra a continuación, hay información útil que está escondida en la descripción del evento.</span><span class="sxs-lookup"><span data-stu-id="f231b-108">For example, the sample record below has useful data buried in the event description.</span></span>  <span data-ttu-id="f231b-109">Si estos datos se extraen en diferentes propiedades, estarán disponibles para ciertas acciones, como la ordenación y el filtrado.</span><span class="sxs-lookup"><span data-stu-id="f231b-109">Extracting this data into separate properties makes it available for such actions as sorting and filtering.</span></span>

![Botón Log Search (Búsqueda de registros)](media/log-analytics-custom-fields/sample-extract.png)

> [!NOTE]
> <span data-ttu-id="f231b-111">En la versión preliminar, el área de trabajo tiene un límite de 100 campos personalizados.</span><span class="sxs-lookup"><span data-stu-id="f231b-111">In the Preview, you are limited to 100 custom fields in your workspace.</span></span>  <span data-ttu-id="f231b-112">Este límite se ampliará cuando esta característica esté disponible con carácter general.</span><span class="sxs-lookup"><span data-stu-id="f231b-112">This limit will be expanded when this feature reaches general availability.</span></span>
> 
> 

## <a name="creating-a-custom-field"></a><span data-ttu-id="f231b-113">Creación de un campo personalizado</span><span class="sxs-lookup"><span data-stu-id="f231b-113">Creating a custom field</span></span>
<span data-ttu-id="f231b-114">Cuando se crea un campo personalizado, Log Analytics necesita saber qué datos debe usar para rellenar el valor.</span><span class="sxs-lookup"><span data-stu-id="f231b-114">When you create a custom field, Log Analytics must understand which data to use to populate its value.</span></span>  <span data-ttu-id="f231b-115">Para identificar rápidamente estos datos, utiliza una tecnología de Microsoft Research denominada FlashExtract.</span><span class="sxs-lookup"><span data-stu-id="f231b-115">It uses a technology from Microsoft Research called FlashExtract to quickly identify this data.</span></span>  <span data-ttu-id="f231b-116">Log Analytics es capaz de reconocer los datos que debe extraer a partir de los ejemplos proporcionados, por lo que no es necesario especificar instrucciones explícitas.</span><span class="sxs-lookup"><span data-stu-id="f231b-116">Rather than requiring you to provide explicit instructions, Log Analytics learns about the data you want to extract from examples that you provide.</span></span>

<span data-ttu-id="f231b-117">En las secciones siguientes, se describe el procedimiento necesario para crear un campo personalizado.</span><span class="sxs-lookup"><span data-stu-id="f231b-117">The following sections provide the procedure for creating a custom field.</span></span>  <span data-ttu-id="f231b-118">Al final de este artículo, encontrará un tutorial con una extracción de ejemplo.</span><span class="sxs-lookup"><span data-stu-id="f231b-118">At the bottom of this article is a walkthrough of a sample extraction.</span></span>

> [!NOTE]
> <span data-ttu-id="f231b-119">El campo personalizado se rellena a medida que los registros que cumplen los criterios especificados se agregan al almacén de datos de OMS; por tanto, el campo personalizado solo aparecerá en los registros recopilados una vez que se haya creado.</span><span class="sxs-lookup"><span data-stu-id="f231b-119">The custom field is populated as records matching the specified criteria are added to the OMS data store, so it will only appear on records collected after the custom field is created.</span></span>  <span data-ttu-id="f231b-120">El campo personalizado no se agregará a los registros que ya se encuentren en el almacén de datos en el momento de su creación.</span><span class="sxs-lookup"><span data-stu-id="f231b-120">The custom field will not be added to records that are already in the data store when it’s created.</span></span>
> 
> 

### <a name="step-1--identify-records-that-will-have-the-custom-field"></a><span data-ttu-id="f231b-121">Paso 1: Identificación de los registros que incluirán el campo personalizado</span><span class="sxs-lookup"><span data-stu-id="f231b-121">Step 1 – Identify records that will have the custom field</span></span>
<span data-ttu-id="f231b-122">El primer paso consiste en identificar los registros que incluirán el campo personalizado.</span><span class="sxs-lookup"><span data-stu-id="f231b-122">The first step is to identify the records that will get the custom field.</span></span>  <span data-ttu-id="f231b-123">Comience con una [búsqueda de registros estándar](log-analytics-log-searches.md) y, después, seleccione un registro que sirva de modelo para que Log Analytics aprenda de él.</span><span class="sxs-lookup"><span data-stu-id="f231b-123">You start with a [standard log search](log-analytics-log-searches.md) and then select a record to act as the model that Log Analytics will learn from.</span></span>  <span data-ttu-id="f231b-124">Cuando especifique que va a extraer los datos en un campo personalizado, se abrirá **Field Extraction Wizard** y (Asistente para extraer campos) podrá validar y delimitar los criterios.</span><span class="sxs-lookup"><span data-stu-id="f231b-124">When you specify that you are going to extract data into a custom field, the **Field Extraction Wizard** is opened where you validate and refine the criteria.</span></span>

1. <span data-ttu-id="f231b-125">Vaya a **Log Search** (Búsqueda de registros) y utilice una [consulta para recuperar los registros](log-analytics-log-searches.md) que incluirán el campo personalizado.</span><span class="sxs-lookup"><span data-stu-id="f231b-125">Go to **Log Search** and use a [query to retrieve the records](log-analytics-log-searches.md) that will have the custom field.</span></span>
2. <span data-ttu-id="f231b-126">Seleccione el registro que Log Analytics utilizará como modelo para extraer los datos y rellenar el campo personalizado.</span><span class="sxs-lookup"><span data-stu-id="f231b-126">Select a record that Log Analytics will use to act as a model for extracting data to populate the custom field.</span></span>  <span data-ttu-id="f231b-127">Deberá identificar los datos que quiere extraer de este registro. Log Analytics utilizará esa información para determinar la lógica con la que rellenará el campo personalizado en todos los registros que sean similares.</span><span class="sxs-lookup"><span data-stu-id="f231b-127">You will identify the data that you want to extract from this record, and Log Analytics will use this information to determine the logic to populate the custom field for all similar records.</span></span>
3. <span data-ttu-id="f231b-128">Haga clic en el botón situado a la izquierda de una propiedad de texto del registro y seleccione **Extract fields from**(Extraer campos de).</span><span class="sxs-lookup"><span data-stu-id="f231b-128">Click the button to the left of any text property of the record and select **Extract fields from**.</span></span>
4. <span data-ttu-id="f231b-129">A continuación, se abrirá **Field Extraction Wizard** (Asistente para extraer archivos) y el registro seleccionado aparecerá en la columna **Ejemplo principal**.</span><span class="sxs-lookup"><span data-stu-id="f231b-129">The **Field Extraction Wizard is opened**, and the record you selected is displayed in the **Main Example** column.</span></span>  <span data-ttu-id="f231b-130">El campo personalizado se va a definir para aquellos recursos que tengan los mismos valores en las propiedades seleccionadas.</span><span class="sxs-lookup"><span data-stu-id="f231b-130">The custom field will be defined for those records with the same values in the properties that are selected.</span></span>  
5. <span data-ttu-id="f231b-131">Si la selección no coincide exactamente con sus expectativas, seleccione otros campos para restringir los criterios.</span><span class="sxs-lookup"><span data-stu-id="f231b-131">If the selection is not exactly what you want, select additional fields to narrow the criteria.</span></span>  <span data-ttu-id="f231b-132">Para cambiar los valores de campo de los criterios, debe cancelar y seleccionar otro registro que coincida con los criterios que quiere usar.</span><span class="sxs-lookup"><span data-stu-id="f231b-132">In order to change the field values for the criteria, you must cancel and select a different record matching the criteria you want.</span></span>

### <a name="step-2---perform-initial-extract"></a><span data-ttu-id="f231b-133">Paso 2: Ejecución de la extracción inicial.</span><span class="sxs-lookup"><span data-stu-id="f231b-133">Step 2 - Perform initial extract.</span></span>
<span data-ttu-id="f231b-134">Una vez identificados los registros que incluirán el campo personalizado, deberá identificar los datos que desea extraer.</span><span class="sxs-lookup"><span data-stu-id="f231b-134">Once you’ve identified the records that will have the custom field, you identify the data that you want to extract.</span></span>  <span data-ttu-id="f231b-135">Log Analytics utilizará esta información para identificar patrones parecidos en registros similares.</span><span class="sxs-lookup"><span data-stu-id="f231b-135">Log Analytics will use this information to identify similar patterns in similar records.</span></span>  <span data-ttu-id="f231b-136">En el paso siguiente, podrá validar los resultados y proporcionar más detalles para que Log Analytics los utilice en su análisis.</span><span class="sxs-lookup"><span data-stu-id="f231b-136">In the step after this you will be able to validate the results and provide further details for Log Analytics to use in its analysis.</span></span>

1. <span data-ttu-id="f231b-137">Resalte el texto del registro de ejemplo con el que desea rellenar el campo personalizado.</span><span class="sxs-lookup"><span data-stu-id="f231b-137">Highlight the text in the sample record that you want to populate the custom field.</span></span>  <span data-ttu-id="f231b-138">A continuación, aparecerá un cuadro de diálogo en el que tendrá que especificar un nombre para el campo y realizar la extracción inicial.</span><span class="sxs-lookup"><span data-stu-id="f231b-138">You will then be presented with a dialog box to provide a name for the field and to perform the initial extract.</span></span>  <span data-ttu-id="f231b-139">Los caracteres **\_CF** se anexarán automáticamente.</span><span class="sxs-lookup"><span data-stu-id="f231b-139">The characters **\_CF** will automatically be appended.</span></span>
2. <span data-ttu-id="f231b-140">Haga clic en **Extract** (Extraer) para realizar un análisis de los registros recopilados.</span><span class="sxs-lookup"><span data-stu-id="f231b-140">Click **Extract** to perform an analysis of collected records.</span></span>  
3. <span data-ttu-id="f231b-141">En las secciones **Resumen**y **Resultados de búsqueda**, se muestran los resultados de la extracción para que pueda revisar si son correctos.</span><span class="sxs-lookup"><span data-stu-id="f231b-141">The **Summary** and **Search Results** sections display the results of the extract so you can inspect its accuracy.</span></span>  <span data-ttu-id="f231b-142">**Summary** (Resumen), aparecen los criterios utilizados para identificar registros y el recuento de cada uno de los valores de datos identificados.</span><span class="sxs-lookup"><span data-stu-id="f231b-142">**Summary** displays the criteria used to identify records and a count for each of the data values identified.</span></span>  <span data-ttu-id="f231b-143">**Search Results** (Resultados de búsqueda), aparece una lista detallada de los registros que cumplen los criterios.</span><span class="sxs-lookup"><span data-stu-id="f231b-143">**Search Results** provides a detailed list of records matching the criteria.</span></span>

### <a name="step-3--verify-accuracy-of-the-extract-and-create-custom-field"></a><span data-ttu-id="f231b-144">Paso 3: Comprobación de la precisión de la extracción y creación de un campo personalizado</span><span class="sxs-lookup"><span data-stu-id="f231b-144">Step 3 – Verify accuracy of the extract and create custom field</span></span>
<span data-ttu-id="f231b-145">Una vez realizada la extracción inicial, Log Analytics mostrará los resultados en función de los datos que ya se han recopilado.</span><span class="sxs-lookup"><span data-stu-id="f231b-145">Once you have performed the initial extract, Log Analytics will display its results based on data that has already been collected.</span></span>  <span data-ttu-id="f231b-146">Si los resultados parecen correctos, puede crear el campo personalizado sin necesidad de realizar ninguna otra operación.</span><span class="sxs-lookup"><span data-stu-id="f231b-146">If the results look accurate then you can create the custom field with no further work.</span></span>  <span data-ttu-id="f231b-147">De lo contrario, puede delimitar los resultados para que Log Analytics mejore su lógica.</span><span class="sxs-lookup"><span data-stu-id="f231b-147">If not, then you can refine the results so that Log Analytics can improve its logic.</span></span>

1. <span data-ttu-id="f231b-148">Si alguno de los valores de la extracción inicial no es correcto, haga clic en el icono **Editar** que encontrará junto al registro incorrecto y seleccione **Modificar este resaltado** para poder realizar los cambios.</span><span class="sxs-lookup"><span data-stu-id="f231b-148">If any values in the initial extract aren’t correct, then click the **Edit** icon next to an inaccurate record and select **Modify this highlight** in order to modify the selection.</span></span>
2. <span data-ttu-id="f231b-149">La entrada se copia en la sección **Ejemplos adicionales**, bajo **Ejemplo principal**.</span><span class="sxs-lookup"><span data-stu-id="f231b-149">The entry is copied to the **Additional examples** section underneath the **Main Example**.</span></span>  <span data-ttu-id="f231b-150">En esta sección, puede ajustar el texto resaltado para ayudar a Log Analytics a entender qué selección debería haber hecho.</span><span class="sxs-lookup"><span data-stu-id="f231b-150">You can adjust the highlight here to help Log Analytics understand the selection it should have made.</span></span>
3. <span data-ttu-id="f231b-151">Haga clic en **Extract** (Extraer) si desea utilizar esta nueva información para evaluar todos los registros existentes.</span><span class="sxs-lookup"><span data-stu-id="f231b-151">Click **Extract** to use this new information to evaluate all the existing records.</span></span>  <span data-ttu-id="f231b-152">Los resultados pueden modificarse en función de esta nueva información para otros registros distintos del que acaba de modificar.</span><span class="sxs-lookup"><span data-stu-id="f231b-152">The results may be modified for records other than the one you just modified based on this new intelligence.</span></span>
4. <span data-ttu-id="f231b-153">Continúe con las correcciones hasta que todos los registros de la extracción identifiquen correctamente los datos que van a incluirse en el nuevo campo personalizado.</span><span class="sxs-lookup"><span data-stu-id="f231b-153">Continue to add corrections until all records in the extract correctly identify the data to populate the new custom field.</span></span>
5. <span data-ttu-id="f231b-154">Haga clic en **Save Extract** (Guardar extracción) cuando esté satisfecho con los resultados.</span><span class="sxs-lookup"><span data-stu-id="f231b-154">Click **Save Extract** when you are satisfied with the results.</span></span>  <span data-ttu-id="f231b-155">Ahora, el campo personalizado está definido, pero aún no se ha agregado a ningún registro.</span><span class="sxs-lookup"><span data-stu-id="f231b-155">The custom field is now defined, but it won’t be added to any records yet.</span></span>
6. <span data-ttu-id="f231b-156">Espere a que se recopilen los registros nuevos que cumplan los criterios y vuelva a ejecutar la búsqueda de registros.</span><span class="sxs-lookup"><span data-stu-id="f231b-156">Wait for new records matching the specified criteria to be collected and then run the log search again.</span></span> <span data-ttu-id="f231b-157">Los nuevos registros deberían incluir el campo personalizado.</span><span class="sxs-lookup"><span data-stu-id="f231b-157">New records should have the custom field.</span></span>
7. <span data-ttu-id="f231b-158">Utilice el campo personalizado como cualquier otra propiedad del registro.</span><span class="sxs-lookup"><span data-stu-id="f231b-158">Use the custom field like any other record property.</span></span>  <span data-ttu-id="f231b-159">Puede usarlo para agregar y agrupar datos, e incluso para generar nueva información.</span><span class="sxs-lookup"><span data-stu-id="f231b-159">You can use it to aggregate and group data and even use it to produce new insights.</span></span>

## <a name="viewing-custom-fields"></a><span data-ttu-id="f231b-160">Presentación de los de campos personalizados</span><span class="sxs-lookup"><span data-stu-id="f231b-160">Viewing custom fields</span></span>
<span data-ttu-id="f231b-161">Puede ver una lista de todos los campos personalizados en el grupo de administración del icono **Settings** (Configuración) del panel de OMS.</span><span class="sxs-lookup"><span data-stu-id="f231b-161">You can view a list of all custom fields in your management group from the **Settings** tile of the OMS dashboard.</span></span>  <span data-ttu-id="f231b-162">Seleccione **Datos** y después **Campos personalizados** para obtener una lista de todos los campos personalizados del área de trabajo.</span><span class="sxs-lookup"><span data-stu-id="f231b-162">Select **Data** and then **Custom fields** for a list of all custom fields in your workspace.</span></span>  

![Custom Fields](media/log-analytics-custom-fields/list.png)

## <a name="removing-a-custom-field"></a><span data-ttu-id="f231b-164">Eliminación de un campo personalizado</span><span class="sxs-lookup"><span data-stu-id="f231b-164">Removing a custom field</span></span>
<span data-ttu-id="f231b-165">Existen dos formas de quitar un campo personalizado.</span><span class="sxs-lookup"><span data-stu-id="f231b-165">There are two ways to remove a custom field.</span></span>  <span data-ttu-id="f231b-166">La primera es a través de la opción **Remove** (Quitar) que aparece en cada campo cuando se consulta la lista completa, tal y como que se describió anteriormente.</span><span class="sxs-lookup"><span data-stu-id="f231b-166">The first is the **Remove** option for each field when viewing the complete list as described above.</span></span>  <span data-ttu-id="f231b-167">El otro método consiste en recuperar un registro y hacer clic en el botón situado a la izquierda del campo.</span><span class="sxs-lookup"><span data-stu-id="f231b-167">The other method is to retrieve a record and click the button to the left of the field.</span></span>  <span data-ttu-id="f231b-168">El menú incluirá una opción para quitar el campo personalizado.</span><span class="sxs-lookup"><span data-stu-id="f231b-168">The menu will have an option to remove the custom field.</span></span>

## <a name="sample-walkthrough"></a><span data-ttu-id="f231b-169">Tutorial de ejemplo</span><span class="sxs-lookup"><span data-stu-id="f231b-169">Sample walkthrough</span></span>
<span data-ttu-id="f231b-170">La siguiente sección contiene un ejemplo completo que le guiará por el proceso de creación de un campo personalizado.</span><span class="sxs-lookup"><span data-stu-id="f231b-170">The following section walks through a complete example of creating a custom field.</span></span>  <span data-ttu-id="f231b-171">En este ejemplo, se extrae el nombre de servicio de los eventos de Windows que indican un cambio de estado en el servicio.</span><span class="sxs-lookup"><span data-stu-id="f231b-171">This example extracts the service name in Windows events that indicate a service changing state.</span></span>  <span data-ttu-id="f231b-172">En este ejemplo, se utilizan eventos creados por el Administrador de control de servicios en el registro del sistema de equipos Windows.</span><span class="sxs-lookup"><span data-stu-id="f231b-172">This relies on events created by Service Control Manager in the System log on Windows computers.</span></span>  <span data-ttu-id="f231b-173">Si desea seguir este ejemplo, debe [recopilar eventos de información del registro del sistema](log-analytics-data-sources-windows-events.md).</span><span class="sxs-lookup"><span data-stu-id="f231b-173">If you want to follow this example, you must be [collecting Information events for the System log](log-analytics-data-sources-windows-events.md).</span></span>

<span data-ttu-id="f231b-174">En primer lugar, escribimos la siguiente consulta para que devuelva todos los eventos del Administrador de control de servicios que tengan el identificador 7036, que es el evento que indica el inicio o la detención de un servicio.</span><span class="sxs-lookup"><span data-stu-id="f231b-174">We enter the following query to return all events from Service Control Manager that have an Event ID of 7036 which is the event that indicates a service starting or stopping.</span></span>

![Consultar](media/log-analytics-custom-fields/query.png)

<span data-ttu-id="f231b-176">A continuación, seleccionamos cualquier registro con el identificador de evento 7036.</span><span class="sxs-lookup"><span data-stu-id="f231b-176">We then select any record with event ID 7036.</span></span>

![Registro de origen](media/log-analytics-custom-fields/source-record.png)

<span data-ttu-id="f231b-178">El nombre de servicio que buscamos es el que aparece en la propiedad **RenderedDescription** , por lo que seleccionamos el botón que aparece junto a ella.</span><span class="sxs-lookup"><span data-stu-id="f231b-178">We want the service name that appears in the **RenderedDescription** property and select the button next to this property.</span></span>

![Extraer campos](media/log-analytics-custom-fields/extract-fields.png)

<span data-ttu-id="f231b-180">Se abre **Field Extraction Wizard** (Asistente para extraer campos), donde los campos **EventLog** y **EventID** aparecen seleccionados en la columna **Ejemplo principal**.</span><span class="sxs-lookup"><span data-stu-id="f231b-180">The **Field Extraction Wizard** is opened, and the **EventLog** and **EventID** fields are selected in the **Main Example** column.</span></span>  <span data-ttu-id="f231b-181">Esto indica que el campo personalizado se va a definir para los eventos del registro del sistema que tengan el identificador 7036.</span><span class="sxs-lookup"><span data-stu-id="f231b-181">This indicates that the custom field will be defined for events from the System log with an event ID of 7036.</span></span>  <span data-ttu-id="f231b-182">Como es suficiente, no es necesario seleccionar ningún otro campo.</span><span class="sxs-lookup"><span data-stu-id="f231b-182">This is sufficient so we don’t need to select any other fields.</span></span>

![Main Example](media/log-analytics-custom-fields/main-example.png)

<span data-ttu-id="f231b-184">Ahora, resaltamos el nombre del servicio en la propiedad **RenderedDescription** y utilizamos **Servicio** para identificar el nombre del servicio.</span><span class="sxs-lookup"><span data-stu-id="f231b-184">We highlight the name of the service in the **RenderedDescription** property and use **Service** to identify the service name.</span></span>  <span data-ttu-id="f231b-185">El campo personalizado se llamará **Service_CF**.</span><span class="sxs-lookup"><span data-stu-id="f231b-185">The custom field will be called **Service_CF**.</span></span>

![Título del campo](media/log-analytics-custom-fields/field-title.png)

<span data-ttu-id="f231b-187">Como podemos ver, el nombre del servicio se identifica correctamente en algunos registros, pero no en otros.</span><span class="sxs-lookup"><span data-stu-id="f231b-187">We see that the service name is identified properly for some records but not for others.</span></span>   <span data-ttu-id="f231b-188">En **Resultados de búsqueda**, vemos que parte del nombre del **Adaptador de rendimiento de WMI** no aparece seleccionado.</span><span class="sxs-lookup"><span data-stu-id="f231b-188">The **Search Results** show that part of the name for the **WMI Performance Adapter** wasn’t selected.</span></span>  <span data-ttu-id="f231b-189">En **Resumen**, vemos que hay cuatro registros con **DPRMA** que contienen una palabra adicional incorrecta, y dos registros identificados como **Instalador de módulos** en lugar de como **Instalador de Módulos de Windows**.</span><span class="sxs-lookup"><span data-stu-id="f231b-189">The **Summary** shows that four records with **DPRMA** service incorrectly included an extra word, and two records identified **Modules Installer** instead of **Windows Modules Installer**.</span></span>  

![Search Results](media/log-analytics-custom-fields/search-results-01.png)

<span data-ttu-id="f231b-191">Vamos a comenzar con el registro **WMI Performance Adapter** (Adaptador de rendimiento de WMI).</span><span class="sxs-lookup"><span data-stu-id="f231b-191">We start with the **WMI Performance Adapter** record.</span></span>  <span data-ttu-id="f231b-192">Hacemos clic en el icono de edición y luego en **Modify this highlight**(Modificar texto resaltado).</span><span class="sxs-lookup"><span data-stu-id="f231b-192">We click its edit icon and then **Modify this highlight**.</span></span>  

![Modificar texto resaltado](media/log-analytics-custom-fields/modify-highlight.png)

<span data-ttu-id="f231b-194">Ampliamos la selección para que incluya la palabra **WMI** y ejecutamos de nuevo la extracción.</span><span class="sxs-lookup"><span data-stu-id="f231b-194">We increase    the highlight to include the word **WMI** and then rerun the extract.</span></span>  

![Ejemplo adicional](media/log-analytics-custom-fields/additional-example-01.png)

<span data-ttu-id="f231b-196">Ahora, podemos ver que las entradas de **Adaptador de rendimiento de WMI** se han corregido. Log Analytics utilizará esta información para corregir los registros de **Instalador de módulos de Windows**.</span><span class="sxs-lookup"><span data-stu-id="f231b-196">We can see that the entries for **WMI Performance Adapter** have been corrected, and Log Analytics also used that information to correct the records for **Windows Module Installer**.</span></span>  <span data-ttu-id="f231b-197">Sin embargo, en la sección **Resumen**, vemos que **DPMRA** sigue sin identificarse correctamente.</span><span class="sxs-lookup"><span data-stu-id="f231b-197">We can see in the **Summary** section though that **DPMRA** is still not being identified correctly.</span></span>

![Search Results](media/log-analytics-custom-fields/search-results-02.png)

<span data-ttu-id="f231b-199">Nos desplazamos a un registro que tenga el servicio DPMRA y repetimos el mismo proceso para corregirlo.</span><span class="sxs-lookup"><span data-stu-id="f231b-199">We scroll to a record with the DPMRA service and use the same process to correct that record.</span></span>

![Ejemplo adicional](media/log-analytics-custom-fields/additional-example-02.png)

 <span data-ttu-id="f231b-201">Cuando ejecutamos de nuevo la extracción, podemos ver que ahora todos los resultados son correctos.</span><span class="sxs-lookup"><span data-stu-id="f231b-201">When we run the extraction, we can see that all of our results are now accurate.</span></span>

![Search Results](media/log-analytics-custom-fields/search-results-03.png)

<span data-ttu-id="f231b-203">También vemos que se ha creado **Service_CF**, aunque aún no se ha agregado a ningún registro.</span><span class="sxs-lookup"><span data-stu-id="f231b-203">We can see that **Service_CF** is created but is not yet added to any records.</span></span>

![Recuento inicial](media/log-analytics-custom-fields/initial-count.png)

<span data-ttu-id="f231b-205">A medida que pasa el tiempo, se recopilan nuevos eventos y podemos ver que el campo **Service_CF** se va agregando a los registros que cumplen nuestros criterios.</span><span class="sxs-lookup"><span data-stu-id="f231b-205">After some time has passed so new events are collected, we can see that that the **Service_CF** field is now being added to records that match our criteria.</span></span>

![Resultados finales](media/log-analytics-custom-fields/final-results.png)

<span data-ttu-id="f231b-207">Ahora, podemos usar el campo personalizado como cualquier otra propiedad del registro.</span><span class="sxs-lookup"><span data-stu-id="f231b-207">We can now use the custom field like any other record property.</span></span>  <span data-ttu-id="f231b-208">Para comprobarlo, creamos una consulta que agrupe los datos en función del nuevo campo **Service_CF** y que analice qué servicios son los más activos.</span><span class="sxs-lookup"><span data-stu-id="f231b-208">To illustrate this, we create a query that groups by the new **Service_CF** field to inspect which services are the most active.</span></span>

![Agrupar por consulta](media/log-analytics-custom-fields/query-group.png)

## <a name="next-steps"></a><span data-ttu-id="f231b-210">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="f231b-210">Next steps</span></span>
* <span data-ttu-id="f231b-211">Si desea crear consultas con campos personalizados en función de unos criterios, obtenga más información acerca de las [búsquedas de registros](log-analytics-log-searches.md) .</span><span class="sxs-lookup"><span data-stu-id="f231b-211">Learn about [log searches](log-analytics-log-searches.md) to build queries using custom fields for criteria.</span></span>
* <span data-ttu-id="f231b-212">Supervise los [archivos de registro personalizados](log-analytics-data-sources-custom-logs.md) que se analizan con campos personalizados.</span><span class="sxs-lookup"><span data-stu-id="f231b-212">Monitor [custom log files](log-analytics-data-sources-custom-logs.md) that you parse using custom fields.</span></span>

