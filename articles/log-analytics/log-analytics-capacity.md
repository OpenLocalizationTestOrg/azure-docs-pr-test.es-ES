---
title: "Solución Capacidad y rendimiento en Azure Log Analytics | Microsoft Docs"
description: "Use la solución Capacidad y rendimiento en Log Analytics para conocer la capacidad de los servidores de Hyper-V."
services: log-analytics
documentationcenter: 
author: bandersmsft
manager: carmonm
editor: 
ms.assetid: 51617a6f-ffdd-4ed2-8b74-1257149ce3d4
ms.service: log-analytics
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/13/2017
ms.author: banders
ms.openlocfilehash: 5ca005127721092b8efcf0ac83cc967ab15fe72d
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/03/2017
---
# <a name="plan-hyper-v-virtual-machine-capacity-with-the-capacity-and-performance-solution-preview"></a><span data-ttu-id="f87e6-103">Con la solución Capacidad y rendimiento (versión preliminar) puede planear la capacidad de máquinas virtuales de Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="f87e6-103">Plan Hyper-V virtual machine capacity with the Capacity and Performance solution (Preview)</span></span>

![Símbolo de capacidad y rendimiento](./media/log-analytics-capacity/capacity-solution.png)

<span data-ttu-id="f87e6-105">La solución Capacidad y rendimiento se puede usar en Log Analytics para conocer la capacidad de los servidores de Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="f87e6-105">You can use the Capacity and Performance solution in Log Analytics to help you understand the capacity of your Hyper-V servers.</span></span> <span data-ttu-id="f87e6-106">La solución proporciona información sobre el entorno de Hyper-V, ya que muestra el uso general (CPU, memoria y disco) de los hosts y las máquinas virtuales que se ejecutan en esos hosts de Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="f87e6-106">The solution provides insights into your Hyper-V environment by showing you the overall utilization (CPU, memory, and disk) of the hosts and the VMs running on those Hyper-V hosts.</span></span> <span data-ttu-id="f87e6-107">Se recopilan métricas de la CPU, la memoria y los discos en todos los hosts y en las máquinas virtuales que se ejecutan en ellos.</span><span class="sxs-lookup"><span data-stu-id="f87e6-107">Metrics are collected for CPU, memory, and disks across all your hosts and the VMs running on them.</span></span>

<span data-ttu-id="f87e6-108">La solución consigue lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="f87e6-108">The solution:</span></span>

-   <span data-ttu-id="f87e6-109">Muestra los hosts con el uso máximo y mínimo de la CPU y de la memoria</span><span class="sxs-lookup"><span data-stu-id="f87e6-109">Shows hosts with highest and lowest CPU and memory utilization</span></span>
-   <span data-ttu-id="f87e6-110">Muestra las máquinas virtuales con el uso máximo y mínimo de la CPU y de la memoria</span><span class="sxs-lookup"><span data-stu-id="f87e6-110">Shows VMs with highest and lowest CPU and memory utilization</span></span>
-   <span data-ttu-id="f87e6-111">Muestra las máquinas virtuales con el uso máximo y mínimo de las IOPS y del rendimiento</span><span class="sxs-lookup"><span data-stu-id="f87e6-111">Shows VMs with highest and lowest IOPS and throughput utilization</span></span>
-   <span data-ttu-id="f87e6-112">Muestra qué máquinas virtuales se ejecutan en los hosts</span><span class="sxs-lookup"><span data-stu-id="f87e6-112">Shows which VMs are running on which hosts</span></span>
-   <span data-ttu-id="f87e6-113">Muestra los discos con mayor rendimiento, IOPS y latencia en volúmenes compartidos de clúster</span><span class="sxs-lookup"><span data-stu-id="f87e6-113">Shows the top disks with high throughput, IOPS, and latency in cluster shared volumes</span></span>
- <span data-ttu-id="f87e6-114">Permite personalizar y filtrar por grupos</span><span class="sxs-lookup"><span data-stu-id="f87e6-114">Allows you to customize and filter based on groups</span></span>

> [!NOTE]
> <span data-ttu-id="f87e6-115">La versión anterior de la solución Capacidad y rendimiento, denominada Administración de capacidad, requiere System Center Operations Manager y System Center Virtual Machine Manager.</span><span class="sxs-lookup"><span data-stu-id="f87e6-115">The previous version of the Capacity and Performance solution called Capacity Management required both System Center Operations Manager and System Center Virtual Machine Manager.</span></span> <span data-ttu-id="f87e6-116">Esta solución actualizada no tiene esas dependencias.</span><span class="sxs-lookup"><span data-stu-id="f87e6-116">This updated solution doesn't have those dependencies.</span></span>


## <a name="connected-sources"></a><span data-ttu-id="f87e6-117">Orígenes conectados</span><span class="sxs-lookup"><span data-stu-id="f87e6-117">Connected sources</span></span>

<span data-ttu-id="f87e6-118">En la tabla siguiente se describen los orígenes conectados que son compatibles con esta solución.</span><span class="sxs-lookup"><span data-stu-id="f87e6-118">The following table describes the connected sources that are supported by this solution.</span></span>

| <span data-ttu-id="f87e6-119">Origen conectado</span><span class="sxs-lookup"><span data-stu-id="f87e6-119">Connected Source</span></span> | <span data-ttu-id="f87e6-120">Soporte técnico</span><span class="sxs-lookup"><span data-stu-id="f87e6-120">Support</span></span> | <span data-ttu-id="f87e6-121">Descripción</span><span class="sxs-lookup"><span data-stu-id="f87e6-121">Description</span></span> |
|---|---|---|
| [<span data-ttu-id="f87e6-122">Agentes de Windows</span><span class="sxs-lookup"><span data-stu-id="f87e6-122">Windows agents</span></span>](log-analytics-windows-agents.md) | <span data-ttu-id="f87e6-123">Sí</span><span class="sxs-lookup"><span data-stu-id="f87e6-123">Yes</span></span> | <span data-ttu-id="f87e6-124">La solución recopila información de datos de rendimiento y capacidad de los agentes de Windows.</span><span class="sxs-lookup"><span data-stu-id="f87e6-124">The solution collects capacity and performance data information from Windows agents.</span></span> |
| [<span data-ttu-id="f87e6-125">Agentes de Linux</span><span class="sxs-lookup"><span data-stu-id="f87e6-125">Linux agents</span></span>](log-analytics-linux-agents.md) | <span data-ttu-id="f87e6-126">No</span><span class="sxs-lookup"><span data-stu-id="f87e6-126">No</span></span>    | <span data-ttu-id="f87e6-127">La solución no recopila información de datos de rendimiento y capacidad de los agentes directos de Linux.</span><span class="sxs-lookup"><span data-stu-id="f87e6-127">The solution does not collect capacity and performance data information from direct Linux agents.</span></span>|
| [<span data-ttu-id="f87e6-128">Grupo de administración de SCOM</span><span class="sxs-lookup"><span data-stu-id="f87e6-128">SCOM management group</span></span>](log-analytics-om-agents.md) | <span data-ttu-id="f87e6-129">Sí</span><span class="sxs-lookup"><span data-stu-id="f87e6-129">Yes</span></span> |<span data-ttu-id="f87e6-130">La solución recopila datos de rendimiento y capacidad de los agentes de un grupo de administración de SCOM conectado.</span><span class="sxs-lookup"><span data-stu-id="f87e6-130">The solution collects capacity and performance data from agents in a connected SCOM management group.</span></span> <span data-ttu-id="f87e6-131">No se requiere una conexión directa entre el agente de SCOM y OMS.</span><span class="sxs-lookup"><span data-stu-id="f87e6-131">A direct connection from the SCOM agent to OMS is not required.</span></span> <span data-ttu-id="f87e6-132">Los datos se reenvían del grupo de administración al repositorio de OMS.</span><span class="sxs-lookup"><span data-stu-id="f87e6-132">Data is forwarded from the management group to the OMS repository.</span></span>|
| [<span data-ttu-id="f87e6-133">Cuenta de Azure Storage</span><span class="sxs-lookup"><span data-stu-id="f87e6-133">Azure storage account</span></span>](log-analytics-azure-storage.md) | <span data-ttu-id="f87e6-134">No</span><span class="sxs-lookup"><span data-stu-id="f87e6-134">No</span></span> | <span data-ttu-id="f87e6-135">Azure Storage no incluye datos de capacidad y rendimiento.</span><span class="sxs-lookup"><span data-stu-id="f87e6-135">Azure storage does not include capacity and performance data.</span></span>|

## <a name="prerequisites"></a><span data-ttu-id="f87e6-136">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="f87e6-136">Prerequisites</span></span>

- <span data-ttu-id="f87e6-137">Los agentes de Windows o de Operations Manager deben instalarse en hosts de Hyper-V, no máquinas virtuales, con Windows Server 2012, o cualquier versión superior.</span><span class="sxs-lookup"><span data-stu-id="f87e6-137">Windows or Operations Manager agents must be installed on Windows Server 2012 or higher Hyper-V hosts, not virtual machines.</span></span>


## <a name="configuration"></a><span data-ttu-id="f87e6-138">Configuración</span><span class="sxs-lookup"><span data-stu-id="f87e6-138">Configuration</span></span>

<span data-ttu-id="f87e6-139">Realice el siguiente paso para agregar la solución Capacidad y rendimiento a un área de trabajo.</span><span class="sxs-lookup"><span data-stu-id="f87e6-139">Perform the following step to add the Capacity and Performance solution to your workspace.</span></span>

- <span data-ttu-id="f87e6-140">Agregue la solución Capacidad y rendimiento a un área de trabajo de OMS mediante el proceso que se describe en [Adición de soluciones de administración de Azure Log Analytics al área de trabajo](log-analytics-add-solutions.md).</span><span class="sxs-lookup"><span data-stu-id="f87e6-140">Add the Capacity and Performance solution to your OMS workspace using the process described in [Add Log Analytics solutions from the Solutions Gallery](log-analytics-add-solutions.md).</span></span>

## <a name="management-packs"></a><span data-ttu-id="f87e6-141">Módulos de administración</span><span class="sxs-lookup"><span data-stu-id="f87e6-141">Management packs</span></span>

<span data-ttu-id="f87e6-142">Si el grupo de administración de SCOM está conectado al área de trabajo de OMS, los módulos de administración siguientes se instalarán en SCOM al agregar esta solución.</span><span class="sxs-lookup"><span data-stu-id="f87e6-142">If your SCOM management group is connected to your OMS workspace, then the following management packs will be installed in SCOM when you add this solution.</span></span> <span data-ttu-id="f87e6-143">No es necesario realizar tareas de configuración o mantenimiento de estos módulos de administración.</span><span class="sxs-lookup"><span data-stu-id="f87e6-143">There is no configuration or maintenance of these management packs required.</span></span>

- <span data-ttu-id="f87e6-144">Microsoft.IntelligencePacks.CapacityPerformance</span><span class="sxs-lookup"><span data-stu-id="f87e6-144">Microsoft.IntelligencePacks.CapacityPerformance</span></span>

<span data-ttu-id="f87e6-145">El evento 1201 es similar:</span><span class="sxs-lookup"><span data-stu-id="f87e6-145">The 1201 event resembles:</span></span>


```
New Management Pack with id:"Microsoft.IntelligencePacks.CapacityPerformance", version:"1.10.3190.0" received.
```

<span data-ttu-id="f87e6-146">Cuando se actualice la solución Capacidad y rendimiento, el número de versión cambiará.</span><span class="sxs-lookup"><span data-stu-id="f87e6-146">When the Capacity and Performance solution is updated, the version number will change.</span></span>

<span data-ttu-id="f87e6-147">Para obtener más información sobre cómo se actualizan los módulos de administración de soluciones, consulte [Conexión de Operations Manager con Log Analytics](log-analytics-om-agents.md).</span><span class="sxs-lookup"><span data-stu-id="f87e6-147">For more information on how solution management packs are updated, see [Connect Operations Manager to Log Analytics](log-analytics-om-agents.md).</span></span>

## <a name="using-the-solution"></a><span data-ttu-id="f87e6-148">Uso de la solución</span><span class="sxs-lookup"><span data-stu-id="f87e6-148">Using the solution</span></span>

<span data-ttu-id="f87e6-149">Al agregar la solución Capacidad y rendimiento a un área de trabajo, se agrega al panel Información general.</span><span class="sxs-lookup"><span data-stu-id="f87e6-149">When you add the Capacity and Performance solution to your workspace, the Capacity and Performance is added to the Overview dashboard.</span></span> <span data-ttu-id="f87e6-150">Este icono muestra un recuento del número de hosts de Hyper-V activos actualmente y el número de máquinas virtuales activas que se han supervisado durante el período seleccionado.</span><span class="sxs-lookup"><span data-stu-id="f87e6-150">This tile displays a count of the number of currently active Hyper-V hosts  and the number of active virtual machines that were monitored for the time period selected.</span></span>

![Icono Capacidad y rendimiento](./media/log-analytics-capacity/capacity-tile.png)


### <a name="review-utilization"></a><span data-ttu-id="f87e6-152">Revisión de la utilización</span><span class="sxs-lookup"><span data-stu-id="f87e6-152">Review utilization</span></span>

<span data-ttu-id="f87e6-153">Haga clic en el icono Capacidad y rendimiento para abrir el panel Capacidad y rendimiento.</span><span class="sxs-lookup"><span data-stu-id="f87e6-153">Click on the Capacity and Performance tile to open the Capacity and Performance dashboard.</span></span> <span data-ttu-id="f87e6-154">El panel incluye las columnas de la tabla siguiente.</span><span class="sxs-lookup"><span data-stu-id="f87e6-154">The dashboard includes the columns in the following table.</span></span> <span data-ttu-id="f87e6-155">Cada columna muestra hasta los diez principales elementos que coinciden con los criterios de esa columna para el ámbito e intervalo de tiempo especificados.</span><span class="sxs-lookup"><span data-stu-id="f87e6-155">Each column lists up to ten items matching that column's criteria for the specified scope and time range.</span></span> <span data-ttu-id="f87e6-156">Puede ejecutar una búsqueda de registros que devuelva todos los registros haciendo clic en **Ver todo** en la parte inferior de la columna o haciendo clic en el encabezado de la columna.</span><span class="sxs-lookup"><span data-stu-id="f87e6-156">You can run a log search that returns all records by clicking **See all** at the bottom of the column or by clicking the column header.</span></span>

- <span data-ttu-id="f87e6-157">**Hosts**</span><span class="sxs-lookup"><span data-stu-id="f87e6-157">**Hosts**</span></span>
    - <span data-ttu-id="f87e6-158">**Utilización de la CPU del host** Muestra una tendencia gráfica de la utilización de la CPU de los equipos host y una lista de hosts, basándose en el período seleccionado.</span><span class="sxs-lookup"><span data-stu-id="f87e6-158">**Host CPU Utilization** Shows a graphical trend of the CPU utilization of host computers and a list of hosts, based on the selected time period.</span></span> <span data-ttu-id="f87e6-159">Mantenga el puntero sobre el gráfico de líneas para ver los detalles de un momento dado concreto.</span><span class="sxs-lookup"><span data-stu-id="f87e6-159">Hover over the line chart to view details for a specific point in time.</span></span> <span data-ttu-id="f87e6-160">Haga clic en el gráfico para ver más detalles en la búsqueda de registros.</span><span class="sxs-lookup"><span data-stu-id="f87e6-160">Click the chart to view more details in log search.</span></span> <span data-ttu-id="f87e6-161">Haga clic en cualquier nombre de host para abrir la búsqueda de registros y ver datos del contador de CPU relativos a máquinas virtuales hospedadas.</span><span class="sxs-lookup"><span data-stu-id="f87e6-161">Click any host name to open log search and view CPU counter details for hosted VMs.</span></span>
    - <span data-ttu-id="f87e6-162">**Utilización de memoria del host** Muestra una tendencia gráfica de la utilización de la memoria de los equipos host y una lista de hosts, basándose en el período seleccionado.</span><span class="sxs-lookup"><span data-stu-id="f87e6-162">**Host Memory Utilization** Shows a graphical trend of the memory utilization of host computers and a list of hosts, based on the selected time period.</span></span> <span data-ttu-id="f87e6-163">Mantenga el puntero sobre el gráfico de líneas para ver los detalles de un momento dado concreto.</span><span class="sxs-lookup"><span data-stu-id="f87e6-163">Hover over the line chart to view details for a specific point in time.</span></span> <span data-ttu-id="f87e6-164">Haga clic en el gráfico para ver más detalles en la búsqueda de registros.</span><span class="sxs-lookup"><span data-stu-id="f87e6-164">Click the chart to view more details in log search.</span></span> <span data-ttu-id="f87e6-165">Haga clic en cualquier nombre de host para abrir la búsqueda de registros y ver datos del contador de la memoria relativos a máquinas virtuales hospedadas.</span><span class="sxs-lookup"><span data-stu-id="f87e6-165">Click any host name to open log search and view memory counter details for hosted VMs.</span></span>
- <span data-ttu-id="f87e6-166">**Máquinas virtuales**</span><span class="sxs-lookup"><span data-stu-id="f87e6-166">**Virtual Machines**</span></span>
    - <span data-ttu-id="f87e6-167">**Utilización de la CPU de VM** Muestra una tendencia gráfica de la utilización de la CPU de las máquinas virtuales y una lista de máquinas virtuales, basándose en el período seleccionado.</span><span class="sxs-lookup"><span data-stu-id="f87e6-167">**VM CPU Utilization** Shows a graphical trend of the CPU utilization of virtual machines and a list of virtual machines, based on the selected time period.</span></span> <span data-ttu-id="f87e6-168">Mantenga el puntero sobre el gráfico de líneas para ver los detalles de un momento dado concreto de las 3 principales máquinas virtuales.</span><span class="sxs-lookup"><span data-stu-id="f87e6-168">Hover over the line chart to view details for a specific point in time for the top 3 VMs.</span></span> <span data-ttu-id="f87e6-169">Haga clic en el gráfico para ver más detalles en la búsqueda de registros.</span><span class="sxs-lookup"><span data-stu-id="f87e6-169">Click the chart to view more details in log search.</span></span> <span data-ttu-id="f87e6-170">Haga clic en cualquier nombre de máquina virtual para abrir la búsqueda de registros y ver detalles agregados del contador de CPU relativos a la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="f87e6-170">Click any VM name to open log search and view aggregated CPU counter details for the VM.</span></span>
    - <span data-ttu-id="f87e6-171">**Utilización de la memoria de VM** Muestra una tendencia gráfica de la utilización de la memoria de las máquinas virtuales y una lista de máquinas virtuales, basándose en el período seleccionado.</span><span class="sxs-lookup"><span data-stu-id="f87e6-171">**VM Memory Utilization** Shows a graphical trend of the memory utilization of virtual machines and a list of virtual machines, based on the selected time period.</span></span> <span data-ttu-id="f87e6-172">Mantenga el puntero sobre el gráfico de líneas para ver los detalles de un momento dado concreto de las 3 principales máquinas virtuales.</span><span class="sxs-lookup"><span data-stu-id="f87e6-172">Hover over the line chart to view details for a specific point in time for the top 3 VMs.</span></span> <span data-ttu-id="f87e6-173">Haga clic en el gráfico para ver más detalles en la búsqueda de registros.</span><span class="sxs-lookup"><span data-stu-id="f87e6-173">Click the chart to view more details in log search.</span></span> <span data-ttu-id="f87e6-174">Haga clic en cualquier nombre de máquina virtual para abrir la búsqueda de registros y ver detalles agregados del contador de memoria relativos a la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="f87e6-174">Click any VM name to open log search and view aggregated memory counter details for the VM.</span></span>
    - <span data-ttu-id="f87e6-175">**E/S por segundo de disco total de VM** Muestra una tendencia gráfica de las IOPS de disco totales de las máquinas virtuales y una lista de las máquinas virtuales con las IOPS de cada una de ellas, basándose en el período seleccionado.</span><span class="sxs-lookup"><span data-stu-id="f87e6-175">**VM Total Disk IOPS** Shows a graphical trend of the total disk IOPS for virtual machines and a list of virtual machines with the IOPS for each, based on the selected time period.</span></span> <span data-ttu-id="f87e6-176">Mantenga el puntero sobre el gráfico de líneas para ver los detalles de un momento dado concreto de las 3 principales máquinas virtuales.</span><span class="sxs-lookup"><span data-stu-id="f87e6-176">Hover over the line chart to view details for a specific point in time for the top 3 VMs.</span></span> <span data-ttu-id="f87e6-177">Haga clic en el gráfico para ver más detalles en la búsqueda de registros.</span><span class="sxs-lookup"><span data-stu-id="f87e6-177">Click the chart to view more details in log search.</span></span> <span data-ttu-id="f87e6-178">Haga clic en cualquier nombre de máquina virtual para abrir la búsqueda de registros y ver detalles agregados del contador de IOPS de disco relativos a la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="f87e6-178">Click any VM name to open log search and view aggregated disk IOPS counter details for the VM.</span></span>
    - <span data-ttu-id="f87e6-179">**Rendimiento de disco total de VM** Muestra una tendencia gráfica del rendimiento de disco total de las máquinas virtuales y una lista de las máquinas virtuales con el rendimiento de disco total de cada una de ellas, basándose en el período seleccionado.</span><span class="sxs-lookup"><span data-stu-id="f87e6-179">**VM Total Disk Throughput** Shows a graphical trend of the total disk throughput for virtual machines and a list of virtual machines with the total disk throughput for each, based on the selected time period.</span></span> <span data-ttu-id="f87e6-180">Mantenga el puntero sobre el gráfico de líneas para ver los detalles de un momento dado concreto de las 3 principales máquinas virtuales.</span><span class="sxs-lookup"><span data-stu-id="f87e6-180">Hover over the line chart to view details for a specific point in time for the top 3 VMs.</span></span> <span data-ttu-id="f87e6-181">Haga clic en el gráfico para ver más detalles en la búsqueda de registros.</span><span class="sxs-lookup"><span data-stu-id="f87e6-181">Click the chart to view more details in log search.</span></span> <span data-ttu-id="f87e6-182">Haga clic en cualquier nombre de máquina virtual para abrir la búsqueda de registros y ver detalles agregados del contador del el rendimiento de disco total relativos a la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="f87e6-182">Click any VM name to open log search and view aggregated total disk throughput counter details for the VM.</span></span>
- <span data-ttu-id="f87e6-183">**Volúmenes compartidos en clúster**</span><span class="sxs-lookup"><span data-stu-id="f87e6-183">**Clustered Shared Volumes**</span></span>
    - <span data-ttu-id="f87e6-184">**Rendimiento total** Muestra la suma de las operaciones de lectura y de escritura en los volúmenes compartidos en clúster.</span><span class="sxs-lookup"><span data-stu-id="f87e6-184">**Total Throughput** Shows the sum of both reads and writes on clustered shared volumes.</span></span>
    - <span data-ttu-id="f87e6-185">**Total de E/S por segundo** Muestra la suma de las operaciones de entrada y salida por segundo en los volúmenes compartidos en clúster.</span><span class="sxs-lookup"><span data-stu-id="f87e6-185">**Total IOPS** Shows the sum of input/output operations per second on clustered shared volumes.</span></span>
    - <span data-ttu-id="f87e6-186">**Latencia total** Muestra la latencia total en los volúmenes compartidos en clúster.</span><span class="sxs-lookup"><span data-stu-id="f87e6-186">**Total Latency** Shows the total latency on clustered shared volumes.</span></span>
- <span data-ttu-id="f87e6-187">**Densidad de host** El icono superior muestra el número total de hosts y máquinas virtuales disponibles para la solución.</span><span class="sxs-lookup"><span data-stu-id="f87e6-187">**Host Density** The top tile shows the total number of hosts and virtual machines available to the solution.</span></span> <span data-ttu-id="f87e6-188">Haga clic en el icono superior para ver más detalles en la búsqueda de registros.</span><span class="sxs-lookup"><span data-stu-id="f87e6-188">Click the top tile to view additional details in log search.</span></span> <span data-ttu-id="f87e6-189">También se enumeran todos los hosts y el número de máquinas virtuales que se hospedan.</span><span class="sxs-lookup"><span data-stu-id="f87e6-189">Also lists all hosts and the number of virtual machines that are hosted.</span></span> <span data-ttu-id="f87e6-190">Haga clic en un host para profundizar en los resultados de la máquina virtual en una búsqueda de registros.</span><span class="sxs-lookup"><span data-stu-id="f87e6-190">Click a host to drill into the VM results in a log search.</span></span>


![Hoja Hosts de panel](./media/log-analytics-capacity/dashboard-hosts.png)

![Hoja Máquinas virtuales de panel](./media/log-analytics-capacity/dashboard-vms.png)


### <a name="evaluate-performance"></a><span data-ttu-id="f87e6-193">Evaluación del rendimiento</span><span class="sxs-lookup"><span data-stu-id="f87e6-193">Evaluate performance</span></span>

<span data-ttu-id="f87e6-194">Los entornos informáticos de producción difieren considerablemente de una organización a otra.</span><span class="sxs-lookup"><span data-stu-id="f87e6-194">Production computing environments differ greatly from one organization to another.</span></span> <span data-ttu-id="f87e6-195">Además, la capacidad y las cargas de trabajo de rendimiento pueden depender del funcionamiento de las máquinas virtuales y de lo que se considere normal.</span><span class="sxs-lookup"><span data-stu-id="f87e6-195">Also, capacity and performance workloads might depend on how your VMs are running, and what you consider normal.</span></span> <span data-ttu-id="f87e6-196">Es probable que los procedimientos concretos que le ayudan a medir el rendimiento no se apliquen a su entorno.</span><span class="sxs-lookup"><span data-stu-id="f87e6-196">Specific procedures to help you measure performance would probably not apply to your environment.</span></span> <span data-ttu-id="f87e6-197">Por consiguiente, es mejor usar instrucciones más generales.</span><span class="sxs-lookup"><span data-stu-id="f87e6-197">So, more generalized prescriptive guidance is better suited to help.</span></span> <span data-ttu-id="f87e6-198">Microsoft publica varios artículos con instrucciones que pueden ayudarle a medir el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="f87e6-198">Microsoft publishes a variety of prescriptive guidance articles to help you measure performance.</span></span>

<span data-ttu-id="f87e6-199">En resumen, la solución recopila datos de capacidad y rendimiento de varios orígenes, entre los que se incluyen los contadores de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="f87e6-199">To summarize, the solution collects capacity and performance data from a variety of sources including performance counters.</span></span> <span data-ttu-id="f87e6-200">Use los datos de capacidad y rendimiento que se presentan en distintas superficies en la solución y compare los resultados con los del artículo [Measuring Performance on Hyper-V](https://msdn.microsoft.com/library/cc768535.aspx) (Medición del rendimiento en Hyper-V).</span><span class="sxs-lookup"><span data-stu-id="f87e6-200">Use that capacity and performance data that presented in various surfaces in the solution and compare your results to those at the [Measuring Performance on Hyper-V](https://msdn.microsoft.com/library/cc768535.aspx) article.</span></span> <span data-ttu-id="f87e6-201">Aunque el artículo se publicó hace un tiempo, las métricas, consideraciones y directrices siguen teniendo la validez.</span><span class="sxs-lookup"><span data-stu-id="f87e6-201">Although the article was published some time ago, the metrics, considerations, and guidelines are still valid.</span></span> <span data-ttu-id="f87e6-202">El artículo contiene vínculos a otros recursos útiles.</span><span class="sxs-lookup"><span data-stu-id="f87e6-202">The article contains links to other useful resources.</span></span>


## <a name="sample-log-searches"></a><span data-ttu-id="f87e6-203">Búsquedas de registros de ejemplo</span><span class="sxs-lookup"><span data-stu-id="f87e6-203">Sample log searches</span></span>

<span data-ttu-id="f87e6-204">En la tabla siguiente se proporcionan búsquedas de registros de ejemplo en los datos de capacidad y rendimiento que ha recopilado y calculado esta solución.</span><span class="sxs-lookup"><span data-stu-id="f87e6-204">The following table provides sample log searches for capacity and performance data collected and calculated by this solution.</span></span>

| <span data-ttu-id="f87e6-205">Consultar</span><span class="sxs-lookup"><span data-stu-id="f87e6-205">Query</span></span> | <span data-ttu-id="f87e6-206">Descripción</span><span class="sxs-lookup"><span data-stu-id="f87e6-206">Description</span></span> |
|---|---|
| <span data-ttu-id="f87e6-207">Todas las configuraciones de memoria del host</span><span class="sxs-lookup"><span data-stu-id="f87e6-207">All host memory configurations</span></span> | <code>Type=Perf ObjectName="Capacity and Performance" CounterName="Host Assigned Memory MB" &#124; measure avg(CounterValue) as MB by InstanceName</code> |
| <span data-ttu-id="f87e6-208">Todas las configuraciones de memoria de la máquina virtual</span><span class="sxs-lookup"><span data-stu-id="f87e6-208">All VM memory configurations</span></span> | <code>Type=Perf ObjectName="Capacity and Performance" CounterName="VM Assigned Memory MB" &#124; measure avg(CounterValue) as MB by InstanceName</code> |
| <span data-ttu-id="f87e6-209">Desglose de E/S por segundo total del disco en todas las máquinas virtuales</span><span class="sxs-lookup"><span data-stu-id="f87e6-209">Breakdown of Total Disk IOPS across all VMs</span></span> | <code>Type=Perf ObjectName="Capacity and Performance" (CounterName="VHD Reads/s" OR CounterName="VHD Writes/s") &#124; top 2500 &#124; measure avg(CounterValue) by CounterName, InstanceName interval 1HOUR</code> |
| <span data-ttu-id="f87e6-210">Desglose del rendimiento total del disco en todas las máquinas virtuales</span><span class="sxs-lookup"><span data-stu-id="f87e6-210">Breakdown of Total Disk Throughput across all VMs</span></span> | <code>Type=Perf ObjectName="Capacity and Performance" (CounterName="VHD Read MB/s" OR CounterName="VHD Write MB/s") &#124; top 2500 &#124; measure avg(CounterValue) by CounterName, InstanceName interval 1HOUR</code> |
| <span data-ttu-id="f87e6-211">Desglose de E/S por segundo total en todos los CSV</span><span class="sxs-lookup"><span data-stu-id="f87e6-211">Breakdown of Total IOPS across all CSVs</span></span> | <code>Type=Perf ObjectName="Capacity and Performance" (CounterName="CSV Reads/s" OR CounterName="CSV Writes/s") &#124; top 2500 &#124; measure avg(CounterValue) by CounterName, InstanceName interval 1HOUR</code> |
| <span data-ttu-id="f87e6-212">Desglose del rendimiento total del disco en todos los CSV</span><span class="sxs-lookup"><span data-stu-id="f87e6-212">Breakdown of Total Throughput across all CSVs</span></span> | <code>Type=Perf ObjectName="Capacity and Performance" (CounterName="CSV Read MB/s" OR CounterName="CSV Write MB/s") &#124; top 2500 &#124; measure avg(CounterValue) by CounterName, InstanceName interval 1HOUR</code> |
| <span data-ttu-id="f87e6-213">Desglose de la latencia total en todos los CSV</span><span class="sxs-lookup"><span data-stu-id="f87e6-213">Breakdown of Total Latency across all CSVs</span></span> | <code> Type=Perf ObjectName="Capacity and Performance" (CounterName="CSV Read Latency" OR CounterName="CSV Write Latency") &#124; top 2500 &#124; measure avg(CounterValue) by CounterName, InstanceName interval 1HOUR</code> |

>[!NOTE]
> <span data-ttu-id="f87e6-214">Si el área de trabajo se ha actualizado al [nuevo lenguaje de consulta Log Analytics](log-analytics-log-search-upgrade.md), las consultas anteriores cambiarían como sigue.</span><span class="sxs-lookup"><span data-stu-id="f87e6-214">If your workspace has been upgraded to the [new Log Analytics query language](log-analytics-log-search-upgrade.md), then the above queries would change to the following.</span></span>

> | <span data-ttu-id="f87e6-215">Consultar</span><span class="sxs-lookup"><span data-stu-id="f87e6-215">Query</span></span> | <span data-ttu-id="f87e6-216">Descripción</span><span class="sxs-lookup"><span data-stu-id="f87e6-216">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="f87e6-217">Todas las configuraciones de memoria del host</span><span class="sxs-lookup"><span data-stu-id="f87e6-217">All host memory configurations</span></span> | <span data-ttu-id="f87e6-218">Perf &#124; where ObjectName == "Capacity and Performance" and CounterName == "Host Assigned Memory MB" &#124; summarize MB = avg(CounterValue) by InstanceName</span><span class="sxs-lookup"><span data-stu-id="f87e6-218">Perf &#124; where ObjectName == "Capacity and Performance" and CounterName == "Host Assigned Memory MB" &#124; summarize MB = avg(CounterValue) by InstanceName</span></span> |
| <span data-ttu-id="f87e6-219">Todas las configuraciones de memoria de la máquina virtual</span><span class="sxs-lookup"><span data-stu-id="f87e6-219">All VM memory configurations</span></span> | <span data-ttu-id="f87e6-220">Perf &#124; where ObjectName == "Capacity and Performance" and CounterName == "VM Assigned Memory MB" &#124; summarize MB = avg(CounterValue) by InstanceName</span><span class="sxs-lookup"><span data-stu-id="f87e6-220">Perf &#124; where ObjectName == "Capacity and Performance" and CounterName == "VM Assigned Memory MB" &#124; summarize MB = avg(CounterValue) by InstanceName</span></span> |
| <span data-ttu-id="f87e6-221">Desglose de E/S por segundo total del disco en todas las máquinas virtuales</span><span class="sxs-lookup"><span data-stu-id="f87e6-221">Breakdown of Total Disk IOPS across all VMs</span></span> | <span data-ttu-id="f87e6-222">Perf &#124; where ObjectName == "Capacity and Performance" and (CounterName == "VHD Reads/s" or CounterName == "VHD Writes/s") &#124; summarize AggregatedValue = avg(CounterValue) by bin(TimeGenerated, 1h), CounterName, InstanceName</span><span class="sxs-lookup"><span data-stu-id="f87e6-222">Perf &#124; where ObjectName == "Capacity and Performance" and (CounterName == "VHD Reads/s" or CounterName == "VHD Writes/s") &#124; summarize AggregatedValue = avg(CounterValue) by bin(TimeGenerated, 1h), CounterName, InstanceName</span></span> |
| <span data-ttu-id="f87e6-223">Desglose del rendimiento total del disco en todas las máquinas virtuales</span><span class="sxs-lookup"><span data-stu-id="f87e6-223">Breakdown of Total Disk Throughput across all VMs</span></span> | <span data-ttu-id="f87e6-224">Perf &#124; where ObjectName == "Capacity and Performance" and (CounterName == "VHD Read MB/s" or CounterName == "VHD Write MB/s") &#124; summarize AggregatedValue = avg(CounterValue) by bin(TimeGenerated, 1h), CounterName, InstanceName</span><span class="sxs-lookup"><span data-stu-id="f87e6-224">Perf &#124; where ObjectName == "Capacity and Performance" and (CounterName == "VHD Read MB/s" or CounterName == "VHD Write MB/s") &#124; summarize AggregatedValue = avg(CounterValue) by bin(TimeGenerated, 1h), CounterName, InstanceName</span></span> |
| <span data-ttu-id="f87e6-225">Desglose de E/S por segundo total en todos los CSV</span><span class="sxs-lookup"><span data-stu-id="f87e6-225">Breakdown of Total IOPS across all CSVs</span></span> | <span data-ttu-id="f87e6-226">Perf &#124; where ObjectName == "Capacity and Performance" and (CounterName == "CSV Reads/s" or CounterName == "CSV Writes/s") &#124; summarize AggregatedValue = avg(CounterValue) by bin(TimeGenerated, 1h), CounterName, InstanceName</span><span class="sxs-lookup"><span data-stu-id="f87e6-226">Perf &#124; where ObjectName == "Capacity and Performance" and (CounterName == "CSV Reads/s" or CounterName == "CSV Writes/s") &#124; summarize AggregatedValue = avg(CounterValue) by bin(TimeGenerated, 1h), CounterName, InstanceName</span></span> |
| <span data-ttu-id="f87e6-227">Desglose del rendimiento total del disco en todos los CSV</span><span class="sxs-lookup"><span data-stu-id="f87e6-227">Breakdown of Total Throughput across all CSVs</span></span> | <span data-ttu-id="f87e6-228">Perf &#124; where ObjectName == "Capacity and Performance" and (CounterName == "CSV Reads/s" or CounterName == "CSV Writes/s") &#124; summarize AggregatedValue = avg(CounterValue) by bin(TimeGenerated, 1h), CounterName, InstanceName</span><span class="sxs-lookup"><span data-stu-id="f87e6-228">Perf &#124; where ObjectName == "Capacity and Performance" and (CounterName == "CSV Reads/s" or CounterName == "CSV Writes/s") &#124; summarize AggregatedValue = avg(CounterValue) by bin(TimeGenerated, 1h), CounterName, InstanceName</span></span> |
| <span data-ttu-id="f87e6-229">Desglose de la latencia total en todos los CSV</span><span class="sxs-lookup"><span data-stu-id="f87e6-229">Breakdown of Total Latency across all CSVs</span></span> | <span data-ttu-id="f87e6-230">Perf &#124; where ObjectName == "Capacity and Performance" and (CounterName == "CSV Read Latency" or CounterName == "CSV Write Latency") &#124; summarize AggregatedValue = avg(CounterValue) by bin(TimeGenerated, 1h), CounterName, InstanceName</span><span class="sxs-lookup"><span data-stu-id="f87e6-230">Perf &#124; where ObjectName == "Capacity and Performance" and (CounterName == "CSV Read Latency" or CounterName == "CSV Write Latency") &#124; summarize AggregatedValue = avg(CounterValue) by bin(TimeGenerated, 1h), CounterName, InstanceName</span></span> |


## <a name="next-steps"></a><span data-ttu-id="f87e6-231">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="f87e6-231">Next steps</span></span>
* <span data-ttu-id="f87e6-232">Use [Búsqueda de datos mediante búsquedas de registros](log-analytics-log-searches.md) para ver datos detallados de Capacidad y rendimiento.</span><span class="sxs-lookup"><span data-stu-id="f87e6-232">Use [Log searches in Log Analytics](log-analytics-log-searches.md) to view detailed Capacity and Performance data.</span></span>
