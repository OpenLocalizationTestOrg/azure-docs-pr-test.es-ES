---
title: "aaaUser acción iniciada por Azure automatización de Runbook en análisis de registros | Documentos de Microsoft"
description: "Este artículo describe cómo toorun un runbook de automatización de un análisis de registros buscar resultados a petición."
services: log-analytics
documentationcenter: 
author: mgoedtel
manager: carmonm
editor: tysonn
ms.assetid: 
ms.service: log-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 05/04/2017
ms.author: magoedte
ms.openlocfilehash: 53c25431572babd5fd54bf964e4683077e2a4c2d
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="take-action-with-an-automation-runbook-from-a-log-analytics-log-search-result"></a><span data-ttu-id="8f39e-103">Realizar acciones con un runbook de Automation desde un resultado de búsqueda de registros de Log Analytics</span><span class="sxs-lookup"><span data-stu-id="8f39e-103">Take Action with an Automation Runbook from a Log Analytics log search result</span></span>

<span data-ttu-id="8f39e-104">Desde un resultado de búsqueda de registros de análisis de registros de Azure, ahora puede seleccionar **actuar** toorun un runbook de automatización.</span><span class="sxs-lookup"><span data-stu-id="8f39e-104">From a log search result in Azure Log Analytics, you can now select **Take action** toorun an Automation runbook.</span></span>  <span data-ttu-id="8f39e-105">Hello runbook puede utilizarse tooremediate Hola problema o realizar alguna otra acción, como recopilar información de solución de problemas, envíe un correo electrónico o crear una solicitud de servicio.</span><span class="sxs-lookup"><span data-stu-id="8f39e-105">hello runbook can be used tooremediate hello issue or take some other action such as collect troubleshooting information, send an email, or create a service request.</span></span> 

## <a name="components-and-features-used"></a><span data-ttu-id="8f39e-106">Componentes y características usados</span><span class="sxs-lookup"><span data-stu-id="8f39e-106">Components and features used</span></span>
* [<span data-ttu-id="8f39e-107">Cuenta de Azure Automation</span><span class="sxs-lookup"><span data-stu-id="8f39e-107">Azure Automation account</span></span>](../automation/automation-offering-get-started.md)
* [<span data-ttu-id="8f39e-108">Área de trabajo de Log Analytics</span><span class="sxs-lookup"><span data-stu-id="8f39e-108">Log Analytics workspace</span></span>](../log-analytics/log-analytics-overview.md)

## <a name="tooinitiate-runbook-from-log-search"></a><span data-ttu-id="8f39e-109">runbook tooinitiate de búsqueda de registros</span><span class="sxs-lookup"><span data-stu-id="8f39e-109">tooinitiate runbook from log search</span></span>

<span data-ttu-id="8f39e-110">acción de tootake en un evento e iniciar un runbook desde los resultados de búsqueda de registros, primero debe crear una búsqueda de registros y de resultados de hello puede invocar un runbook a petición.</span><span class="sxs-lookup"><span data-stu-id="8f39e-110">tootake action on an event and initiate a runbook from your log search results, you start by creating a log search and from hello results you can invoke a runbook on-demand.</span></span>  <span data-ttu-id="8f39e-111">Esto se puede lograr de la característica de búsqueda de registro de hello en hello Azure o [portal de OMS](../log-analytics/log-analytics-log-searches.md).</span><span class="sxs-lookup"><span data-stu-id="8f39e-111">This can be achieved from hello log search feature in hello Azure or [OMS portal](../log-analytics/log-analytics-log-searches.md).</span></span>  <span data-ttu-id="8f39e-112">En este ejemplo, llevamos a cabo una búsqueda de registros de hello portal de Azure con una demostración básica de esta característica.</span><span class="sxs-lookup"><span data-stu-id="8f39e-112">In this example, we perform a log search from hello Azure portal with a basic demonstration of this feature.</span></span>

1. <span data-ttu-id="8f39e-113">Hola portal de Azure, en el menú del concentrador de hello, haga clic en **más servicios** y seleccione **análisis de registros**.</span><span class="sxs-lookup"><span data-stu-id="8f39e-113">In hello Azure portal, on hello Hub menu click **More services** and select **Log Analytics**.</span></span>  
2. <span data-ttu-id="8f39e-114">En la hoja de análisis de registros de hello, seleccione el área de trabajo de análisis de registros y en la hoja de área de trabajo de hello seleccione **búsqueda de registros**.</span><span class="sxs-lookup"><span data-stu-id="8f39e-114">On hello Log Analytics blade, select your Log Analytics workspace and on hello workspace blade select **Log Search**.</span></span>  
3. <span data-ttu-id="8f39e-115">En la hoja de la búsqueda de registros de hello, realice una búsqueda de registros.</span><span class="sxs-lookup"><span data-stu-id="8f39e-115">On hello Log Search blade, perform a log search.</span></span>  
4. <span data-ttu-id="8f39e-116">En resultados de la búsqueda de registro de hello, haga clic en izquierda de toohello de elipse Hola de uno de los campos de Hola y de la ventana emergente de hello, seleccione **actuar**.</span><span class="sxs-lookup"><span data-stu-id="8f39e-116">From hello log search results, click hello ellipse toohello left of one of hello fields and from hello popup, select **Take action on**.</span></span><br><br> <span data-ttu-id="8f39e-117">![Seleccionar Realizar acción a partir del resultado de búsqueda](./media/log-analytics-log-search-takeaction/log-search-takeaction-menuoption.png)</span><span class="sxs-lookup"><span data-stu-id="8f39e-117">![Select Take Action from search result](./media/log-analytics-log-search-takeaction/log-search-takeaction-menuoption.png)</span></span> 
5. <span data-ttu-id="8f39e-118">En la hoja de acción de hello Take, seleccione **ejecutar un runbook**y en hello **ejecutar un runbook** hoja puede seleccionar un runbook toorun.</span><span class="sxs-lookup"><span data-stu-id="8f39e-118">From hello Take action blade, select **Run a runbook**, and on hello **Run a runbook** blade you can select a runbook toorun.</span></span>  <span data-ttu-id="8f39e-119">Puede seleccionar cualquier runbook Hola cuenta de automatización que es el área de trabajo de análisis de registros de toohello vinculado.</span><span class="sxs-lookup"><span data-stu-id="8f39e-119">You can select any runbook in hello Automation account that is linked toohello Log Analytics workspace.</span></span>  <span data-ttu-id="8f39e-120">Tenga en cuenta los siguiente hello:</span><span class="sxs-lookup"><span data-stu-id="8f39e-120">Note hello following:</span></span>

    * <span data-ttu-id="8f39e-121">Los runbooks se organizan por etiquetas.</span><span class="sxs-lookup"><span data-stu-id="8f39e-121">Runbooks are organized by tags</span></span>
    * <span data-ttu-id="8f39e-122">Valores de parámetro de entrada del runbook se pueden seleccionar directamente de campos de Hola Hola del resultado de búsqueda.</span><span class="sxs-lookup"><span data-stu-id="8f39e-122">Runbook input parameter values can be selected directly from hello fields of hello search result.</span></span>  <span data-ttu-id="8f39e-123">Aparecerá una lista de lista desplegable para mostrar todos los campos disponibles de Hola de hello resultado tooselect desde.</span><span class="sxs-lookup"><span data-stu-id="8f39e-123">A drop-down list will appear displaying all hello available fields from hello result tooselect from.</span></span>  
    * <span data-ttu-id="8f39e-124">Puede elegir toorun Hola runbook en un [runbook worker híbrido](../automation/automation-hybrid-runbook-worker.md) que ha instalado en la máquina de Hola que tienes problemas de hello si tiene un grupo de Hybrid Runbook Worker correspondiente que contenga solo este equipo como miembro.</span><span class="sxs-lookup"><span data-stu-id="8f39e-124">You can choose toorun hello runbook on a [hybrid runbook worker](../automation/automation-hybrid-runbook-worker.md) that you have installed on hello machine that has hello issue if you have a corresponding Hybrid Runbook Worker group that only contains this machine as a member.</span></span>  <span data-ttu-id="8f39e-125">Si Hola nombre del grupo de Hybrid Worker Hola coincide con hello del equipo de Hola que se encuentra en el resultado de búsqueda de registro de hello, el grupo de Hola se selecciona automáticamente.</span><span class="sxs-lookup"><span data-stu-id="8f39e-125">If hello name of hello Hybrid Worker group matches hello name of hello computer that is in hello log search result, then hello group is selected automatically.</span></span>    

6. <span data-ttu-id="8f39e-126">Tras hacer clic en **ejecutar**, abrirá la hoja de trabajo de runbook de hello tooallow se tooreview Hola estado del trabajo de Hola.</span><span class="sxs-lookup"><span data-stu-id="8f39e-126">After you click **Run**, hello runbook job blade will open tooallow you tooreview hello status of hello job.</span></span>   

<span data-ttu-id="8f39e-127">Si selecciona un runbook que estaba configurado toobe [llama desde una alerta de análisis de registros](../automation/automation-invoke-runbook-from-omsla-alert.md), tiene un parámetro de entrada llamado **WebhookData** decir **objeto** tipo.</span><span class="sxs-lookup"><span data-stu-id="8f39e-127">If you select a runbook that was configured toobe [called from a Log Analytics alert](../automation/automation-invoke-runbook-from-omsla-alert.md), it has an input parameter called **WebhookData** that is **Object** type.</span></span>  <span data-ttu-id="8f39e-128">Si el parámetro de entrada de hello es obligatorio, debe toopass Hola búsqueda resultados toohello runbook por lo que puede convertir la cadena con formato JSON de hello en un tipo de objeto que permite toofilter en elementos específicos que se hace referencia en las actividades de runbooks.</span><span class="sxs-lookup"><span data-stu-id="8f39e-128">If hello input parameter is mandatory, you need toopass hello search results toohello runbook so it can convert hello JSON-formatted string into an object type allowing you toofilter on specific items that you will reference in runbook activities.</span></span>  <span data-ttu-id="8f39e-129">Puede hacer esto seleccionando **buscar resultados (objeto)** de lista desplegable de Hola.</span><span class="sxs-lookup"><span data-stu-id="8f39e-129">You do this by selecting **Search result (Object)** from hello drop-down list.</span></span><br><br> <span data-ttu-id="8f39e-130">![Seleccionar el objeto de datos de webhook para el parámetro de runbook](media/log-analytics-log-search-takeaction/select-runbook-and-properties.png)</span><span class="sxs-lookup"><span data-stu-id="8f39e-130">![Select Webhook data object for runbook parameter](media/log-analytics-log-search-takeaction/select-runbook-and-properties.png)</span></span>   
    
## <a name="next-steps"></a><span data-ttu-id="8f39e-131">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="8f39e-131">Next steps</span></span>

* <span data-ttu-id="8f39e-132">Hola de revisión [referencia de búsqueda de registro de análisis de registros](log-analytics-search-reference.md) tooview todos Hola buscar campos y facetas disponibles en el análisis de registros.</span><span class="sxs-lookup"><span data-stu-id="8f39e-132">Review hello [Log Analytics log search reference](log-analytics-search-reference.md) tooview all of hello search fields and facets available in Log Analytics.</span></span>
* <span data-ttu-id="8f39e-133">toolearn cómo revisar automáticamente, tooinvoke un runbook de automatización [llamar a un runbook de automatización de Azure desde una alerta de análisis de registros de OMS](../automation/automation-invoke-runbook-from-omsla-alert.md).</span><span class="sxs-lookup"><span data-stu-id="8f39e-133">toolearn how tooinvoke an Automation runbook automatically, review [calling an Azure Automation runbook from an OMS Log Analytics alert](../automation/automation-invoke-runbook-from-omsla-alert.md).</span></span>  
