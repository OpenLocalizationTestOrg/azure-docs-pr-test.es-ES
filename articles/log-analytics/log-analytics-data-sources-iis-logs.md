---
title: "aaaIIS registros de análisis de registros | Documentos de Microsoft"
description: "Internet Information Services (IIS) almacena la actividad de usuario en archivos de registro que Log Analytics puede recopilar.  Este artículo describe cómo tooconfigure colección de registros de IIS y los detalles de los registros de hello crean en el repositorio de OMS Hola."
services: log-analytics
documentationcenter: 
author: bwren
manager: jwhit
editor: tysonn
ms.assetid: cec5ff0a-01f5-4262-b2e8-e3db7b7467d2
ms.service: log-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 07/12/2017
ms.author: bwren
ms.openlocfilehash: c5575351090cdabaf651bcb49867794ee3a4b6e6
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="iis-logs-in-log-analytics"></a><span data-ttu-id="e7722-104">Registros de IIS en Log Analytics</span><span class="sxs-lookup"><span data-stu-id="e7722-104">IIS logs in Log Analytics</span></span>
<span data-ttu-id="e7722-105">Internet Information Services (IIS) almacena la actividad de usuario en archivos de registro que Log Analytics puede recopilar.</span><span class="sxs-lookup"><span data-stu-id="e7722-105">Internet Information Services (IIS) stores user activity in log files that can be collected by Log Analytics.</span></span>  

![Registros IIS](media/log-analytics-data-sources-iis-logs/overview.png)

## <a name="configuring-iis-logs"></a><span data-ttu-id="e7722-107">Configuración de registros de IIS</span><span class="sxs-lookup"><span data-stu-id="e7722-107">Configuring IIS logs</span></span>
<span data-ttu-id="e7722-108">Log Analytics recopila entradas de archivos de registro creados por IIS, por lo que debe [configurar IIS para el registro](https://technet.microsoft.com/library/hh831775.aspx).</span><span class="sxs-lookup"><span data-stu-id="e7722-108">Log Analytics collects entries from log files created by IIS, so you must [configure IIS for logging](https://technet.microsoft.com/library/hh831775.aspx).</span></span>

<span data-ttu-id="e7722-109">Log Analytics solo admite archivos de registro de IIS almacenados en el formato W3C y no admite campos personalizados ni Advanced Logging de IIS.</span><span class="sxs-lookup"><span data-stu-id="e7722-109">Log Analytics only supports IIS log files stored in W3C format and does not support custom fields or IIS Advanced Logging.</span></span>  
<span data-ttu-id="e7722-110">Log Analytics no recopila registros en formato nativo de IIS ni NCSA.</span><span class="sxs-lookup"><span data-stu-id="e7722-110">Log Analytics does not collect logs in NCSA or IIS native format.</span></span>

<span data-ttu-id="e7722-111">Configurar registros de IIS en el análisis de registros de hello [menú datos de configuración de análisis de registro](log-analytics-data-sources.md#configuring-data-sources).</span><span class="sxs-lookup"><span data-stu-id="e7722-111">Configure IIS logs in Log Analytics from hello [Data menu in Log Analytics Settings](log-analytics-data-sources.md#configuring-data-sources).</span></span>  <span data-ttu-id="e7722-112">No se requiere otra configuración que seleccionar **Collect W3C format IIS log files**(Recopilar archivos de registro de IIS en formato W3C).</span><span class="sxs-lookup"><span data-stu-id="e7722-112">There is no configuration required other than selecting **Collect W3C format IIS log files**.</span></span>

<span data-ttu-id="e7722-113">Se recomienda que, cuando se habilita la recopilación de registros IIS, debe configurar configuración de sustitución incremental de registro IIS de hello en cada servidor.</span><span class="sxs-lookup"><span data-stu-id="e7722-113">We recommend that when you enable IIS log collection, you should configure hello IIS log rollover setting on each server.</span></span>

## <a name="data-collection"></a><span data-ttu-id="e7722-114">Colección de datos</span><span class="sxs-lookup"><span data-stu-id="e7722-114">Data collection</span></span>
<span data-ttu-id="e7722-115">Log Analytics recopila entradas de registro de IIS de cada origen conectado a intervalos de, aproximadamente, 15 minutos.</span><span class="sxs-lookup"><span data-stu-id="e7722-115">Log Analytics collects IIS log entries from each connected source approximately every 15 minutes.</span></span>  <span data-ttu-id="e7722-116">agente de Hello registra su lugar en cada registro de eventos que recopila de.</span><span class="sxs-lookup"><span data-stu-id="e7722-116">hello agent records its place in each event log that it collects from.</span></span>  <span data-ttu-id="e7722-117">Si el agente de Hola se queda sin conexión, análisis de registros recopila eventos desde donde se quedó, incluso si se crearon los eventos mientras el agente de hello estaba sin conexión.</span><span class="sxs-lookup"><span data-stu-id="e7722-117">If hello agent goes offline, then Log Analytics collects events from where it last left off, even if those events were created while hello agent was offline.</span></span>

## <a name="iis-log-record-properties"></a><span data-ttu-id="e7722-118">Propiedades de registro de IIS</span><span class="sxs-lookup"><span data-stu-id="e7722-118">IIS log record properties</span></span>
<span data-ttu-id="e7722-119">Entradas del registro de IIS tienen un tipo de **W3CIISLog** y que tienen propiedades de hello en hello en la tabla siguiente:</span><span class="sxs-lookup"><span data-stu-id="e7722-119">IIS log records have a type of **W3CIISLog** and have hello properties in hello following table:</span></span>

| <span data-ttu-id="e7722-120">Propiedad</span><span class="sxs-lookup"><span data-stu-id="e7722-120">Property</span></span> | <span data-ttu-id="e7722-121">Descripción</span><span class="sxs-lookup"><span data-stu-id="e7722-121">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="e7722-122">Equipo</span><span class="sxs-lookup"><span data-stu-id="e7722-122">Computer</span></span> |<span data-ttu-id="e7722-123">Nombre del equipo de Hola que Hola eventos se recopilaron de.</span><span class="sxs-lookup"><span data-stu-id="e7722-123">Name of hello computer that hello event was collected from.</span></span> |
| <span data-ttu-id="e7722-124">cIP</span><span class="sxs-lookup"><span data-stu-id="e7722-124">cIP</span></span> |<span data-ttu-id="e7722-125">Dirección IP del cliente de Hola.</span><span class="sxs-lookup"><span data-stu-id="e7722-125">IP address of hello client.</span></span> |
| <span data-ttu-id="e7722-126">csMethod</span><span class="sxs-lookup"><span data-stu-id="e7722-126">csMethod</span></span> |<span data-ttu-id="e7722-127">Método de solicitud de hello como GET o POST.</span><span class="sxs-lookup"><span data-stu-id="e7722-127">Method of hello request such as GET or POST.</span></span> |
| <span data-ttu-id="e7722-128">csReferer</span><span class="sxs-lookup"><span data-stu-id="e7722-128">csReferer</span></span> |<span data-ttu-id="e7722-129">Sitio que Hola usuario seguido un vínculo de sitio actual toohello.</span><span class="sxs-lookup"><span data-stu-id="e7722-129">Site that hello user followed a link from toohello current site.</span></span> |
| <span data-ttu-id="e7722-130">csUserAgent</span><span class="sxs-lookup"><span data-stu-id="e7722-130">csUserAgent</span></span> |<span data-ttu-id="e7722-131">Tipo de explorador del cliente de Hola.</span><span class="sxs-lookup"><span data-stu-id="e7722-131">Browser type of hello client.</span></span> |
| <span data-ttu-id="e7722-132">csUserName</span><span class="sxs-lookup"><span data-stu-id="e7722-132">csUserName</span></span> |<span data-ttu-id="e7722-133">Nombre del programa Hola a autentica el usuario que ha tenido acceso Hola servidor.</span><span class="sxs-lookup"><span data-stu-id="e7722-133">Name of hello authenticated user that accessed hello server.</span></span> <span data-ttu-id="e7722-134">Los usuarios anónimos se indican con un guion.</span><span class="sxs-lookup"><span data-stu-id="e7722-134">Anonymous users are indicated by a hyphen.</span></span> |
| <span data-ttu-id="e7722-135">csUriStem</span><span class="sxs-lookup"><span data-stu-id="e7722-135">csUriStem</span></span> |<span data-ttu-id="e7722-136">Destino de la solicitud de hello como una página web.</span><span class="sxs-lookup"><span data-stu-id="e7722-136">Target of hello request such as a web page.</span></span> |
| <span data-ttu-id="e7722-137">csUriQuery</span><span class="sxs-lookup"><span data-stu-id="e7722-137">csUriQuery</span></span> |<span data-ttu-id="e7722-138">Consulta, si los hay, ese cliente hello estaba intentando tooperform.</span><span class="sxs-lookup"><span data-stu-id="e7722-138">Query, if any, that hello client was trying tooperform.</span></span> |
| <span data-ttu-id="e7722-139">ManagementGroupName</span><span class="sxs-lookup"><span data-stu-id="e7722-139">ManagementGroupName</span></span> |<span data-ttu-id="e7722-140">Nombre del grupo de administración de hello agentes de Operations Manager.</span><span class="sxs-lookup"><span data-stu-id="e7722-140">Name of hello management group for Operations Manager agents.</span></span>  <span data-ttu-id="e7722-141">En el caso de los otros agentes, es AOI-\<id. de área de trabajo\>.</span><span class="sxs-lookup"><span data-stu-id="e7722-141">For other agents, this is AOI-\<workspace ID\></span></span> |
| <span data-ttu-id="e7722-142">RemoteIPCountry</span><span class="sxs-lookup"><span data-stu-id="e7722-142">RemoteIPCountry</span></span> |<span data-ttu-id="e7722-143">País de dirección IP de hello del cliente de Hola.</span><span class="sxs-lookup"><span data-stu-id="e7722-143">Country of hello IP address of hello client.</span></span> |
| <span data-ttu-id="e7722-144">RemoteIPLatitude</span><span class="sxs-lookup"><span data-stu-id="e7722-144">RemoteIPLatitude</span></span> |<span data-ttu-id="e7722-145">Latitud de la dirección IP del cliente Hola.</span><span class="sxs-lookup"><span data-stu-id="e7722-145">Latitude of hello client IP address.</span></span> |
| <span data-ttu-id="e7722-146">RemoteIPLongitude</span><span class="sxs-lookup"><span data-stu-id="e7722-146">RemoteIPLongitude</span></span> |<span data-ttu-id="e7722-147">Longitud de dirección IP del cliente Hola.</span><span class="sxs-lookup"><span data-stu-id="e7722-147">Longitude of hello client IP address.</span></span> |
| <span data-ttu-id="e7722-148">scStatus</span><span class="sxs-lookup"><span data-stu-id="e7722-148">scStatus</span></span> |<span data-ttu-id="e7722-149">Código de estado HTTP.</span><span class="sxs-lookup"><span data-stu-id="e7722-149">HTTP status code.</span></span> |
| <span data-ttu-id="e7722-150">scSubStatus</span><span class="sxs-lookup"><span data-stu-id="e7722-150">scSubStatus</span></span> |<span data-ttu-id="e7722-151">Código de error de subestado.</span><span class="sxs-lookup"><span data-stu-id="e7722-151">Substatus error code.</span></span> |
| <span data-ttu-id="e7722-152">scWin32Status</span><span class="sxs-lookup"><span data-stu-id="e7722-152">scWin32Status</span></span> |<span data-ttu-id="e7722-153">Código de estado de Windows.</span><span class="sxs-lookup"><span data-stu-id="e7722-153">Windows status code.</span></span> |
| <span data-ttu-id="e7722-154">sIP</span><span class="sxs-lookup"><span data-stu-id="e7722-154">sIP</span></span> |<span data-ttu-id="e7722-155">Dirección IP del servidor web de Hola.</span><span class="sxs-lookup"><span data-stu-id="e7722-155">IP address of hello web server.</span></span> |
| <span data-ttu-id="e7722-156">SourceSystem</span><span class="sxs-lookup"><span data-stu-id="e7722-156">SourceSystem</span></span> |<span data-ttu-id="e7722-157">OpsMgr</span><span class="sxs-lookup"><span data-stu-id="e7722-157">OpsMgr</span></span> |
| <span data-ttu-id="e7722-158">sPort</span><span class="sxs-lookup"><span data-stu-id="e7722-158">sPort</span></span> |<span data-ttu-id="e7722-159">Puerto en el cliente de Hola Hola server conectado a.</span><span class="sxs-lookup"><span data-stu-id="e7722-159">Port on hello server hello client connected to.</span></span> |
| <span data-ttu-id="e7722-160">sSiteName</span><span class="sxs-lookup"><span data-stu-id="e7722-160">sSiteName</span></span> |<span data-ttu-id="e7722-161">Nombre del sitio IIS de Hola.</span><span class="sxs-lookup"><span data-stu-id="e7722-161">Name of hello IIS site.</span></span> |
| <span data-ttu-id="e7722-162">TimeGenerated</span><span class="sxs-lookup"><span data-stu-id="e7722-162">TimeGenerated</span></span> |<span data-ttu-id="e7722-163">Se registró la entrada de Hola de fecha y hora.</span><span class="sxs-lookup"><span data-stu-id="e7722-163">Date and time hello entry was logged.</span></span> |
| <span data-ttu-id="e7722-164">TimeTaken</span><span class="sxs-lookup"><span data-stu-id="e7722-164">TimeTaken</span></span> |<span data-ttu-id="e7722-165">Solicitud de longitud de hello tooprocess de tiempo en milisegundos.</span><span class="sxs-lookup"><span data-stu-id="e7722-165">Length of time tooprocess hello request in milliseconds.</span></span> |

## <a name="log-searches-with-iis-logs"></a><span data-ttu-id="e7722-166">Búsquedas de registros con registros de IIS</span><span class="sxs-lookup"><span data-stu-id="e7722-166">Log searches with IIS logs</span></span>
<span data-ttu-id="e7722-167">Hello tabla siguiente proporciona diferentes ejemplos de consultas de registro que recuperar entradas de registro IIS.</span><span class="sxs-lookup"><span data-stu-id="e7722-167">hello following table provides different examples of log queries that retrieve IIS log records.</span></span>

| <span data-ttu-id="e7722-168">Consultar</span><span class="sxs-lookup"><span data-stu-id="e7722-168">Query</span></span> | <span data-ttu-id="e7722-169">Descripción</span><span class="sxs-lookup"><span data-stu-id="e7722-169">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="e7722-170">Type=W3CIISLog</span><span class="sxs-lookup"><span data-stu-id="e7722-170">Type=W3CIISLog</span></span> |<span data-ttu-id="e7722-171">Todos los registros de IIS.</span><span class="sxs-lookup"><span data-stu-id="e7722-171">All IIS log records.</span></span> |
| <span data-ttu-id="e7722-172">Type=W3CIISLog scStatus=500</span><span class="sxs-lookup"><span data-stu-id="e7722-172">Type=W3CIISLog scStatus=500</span></span> |<span data-ttu-id="e7722-173">Todas las entradas de registro IIS con un estado de retorno de 500.</span><span class="sxs-lookup"><span data-stu-id="e7722-173">All IIS log records with a return status of 500.</span></span> |
| <span data-ttu-id="e7722-174">Type=W3CIISLog &#124; Measure count() by cIP</span><span class="sxs-lookup"><span data-stu-id="e7722-174">Type=W3CIISLog &#124; Measure count() by cIP</span></span> |<span data-ttu-id="e7722-175">Contador de entradas de registro de IIS por dirección IP del cliente.</span><span class="sxs-lookup"><span data-stu-id="e7722-175">Count of IIS log entries by client IP address.</span></span> |
| <span data-ttu-id="e7722-176">Type=W3CIISLog csHost="www.contoso.com" &#124; Measure count() by csUriStem</span><span class="sxs-lookup"><span data-stu-id="e7722-176">Type=W3CIISLog csHost="www.contoso.com" &#124; Measure count() by csUriStem</span></span> |<span data-ttu-id="e7722-177">Recuento de IIS entradas del registro por dirección URL sobre Hola host www.contoso.com.</span><span class="sxs-lookup"><span data-stu-id="e7722-177">Count of IIS log entries by URL for hello host www.contoso.com.</span></span> |
| <span data-ttu-id="e7722-178">Type=W3CIISLog &#124; Measure Sum(csBytes) by Computer &#124; top 500000</span><span class="sxs-lookup"><span data-stu-id="e7722-178">Type=W3CIISLog &#124; Measure Sum(csBytes) by Computer &#124; top 500000</span></span> |<span data-ttu-id="e7722-179">Total de bytes recibidos por cada equipo de IIS</span><span class="sxs-lookup"><span data-stu-id="e7722-179">Total bytes received by each IIS computer.</span></span> |

>[!NOTE]
> <span data-ttu-id="e7722-180">Si el área de trabajo se ha actualizado toohello [lenguaje de consulta de análisis de registros nueva](log-analytics-log-search-upgrade.md), a continuación, Hola por encima de las consultas cambiaría toohello siguiente.</span><span class="sxs-lookup"><span data-stu-id="e7722-180">If your workspace has been upgraded toohello [new Log Analytics query language](log-analytics-log-search-upgrade.md), then hello above queries would change toohello following.</span></span>

> | <span data-ttu-id="e7722-181">Consultar</span><span class="sxs-lookup"><span data-stu-id="e7722-181">Query</span></span> | <span data-ttu-id="e7722-182">Descripción</span><span class="sxs-lookup"><span data-stu-id="e7722-182">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="e7722-183">W3CIISLog</span><span class="sxs-lookup"><span data-stu-id="e7722-183">W3CIISLog</span></span> |<span data-ttu-id="e7722-184">Todos los registros de IIS.</span><span class="sxs-lookup"><span data-stu-id="e7722-184">All IIS log records.</span></span> |
| <span data-ttu-id="e7722-185">W3CIISLog &#124; where scStatus==500</span><span class="sxs-lookup"><span data-stu-id="e7722-185">W3CIISLog &#124; where scStatus==500</span></span> |<span data-ttu-id="e7722-186">Todas las entradas de registro IIS con un estado de retorno de 500.</span><span class="sxs-lookup"><span data-stu-id="e7722-186">All IIS log records with a return status of 500.</span></span> |
| <span data-ttu-id="e7722-187">W3CIISLog &#124; summarize count() by cIP</span><span class="sxs-lookup"><span data-stu-id="e7722-187">W3CIISLog &#124; summarize count() by cIP</span></span> |<span data-ttu-id="e7722-188">Contador de entradas de registro de IIS por dirección IP del cliente.</span><span class="sxs-lookup"><span data-stu-id="e7722-188">Count of IIS log entries by client IP address.</span></span> |
| <span data-ttu-id="e7722-189">W3CIISLog &#124; where csHost=="www.contoso.com" &#124; summarize count() by csUriStem</span><span class="sxs-lookup"><span data-stu-id="e7722-189">W3CIISLog &#124; where csHost=="www.contoso.com" &#124; summarize count() by csUriStem</span></span> |<span data-ttu-id="e7722-190">Recuento de IIS entradas del registro por dirección URL sobre Hola host www.contoso.com.</span><span class="sxs-lookup"><span data-stu-id="e7722-190">Count of IIS log entries by URL for hello host www.contoso.com.</span></span> |
| <span data-ttu-id="e7722-191">W3CIISLog &#124; summarize sum(csBytes) by Computer &#124; take 500000</span><span class="sxs-lookup"><span data-stu-id="e7722-191">W3CIISLog &#124; summarize sum(csBytes) by Computer &#124; take 500000</span></span> |<span data-ttu-id="e7722-192">Total de bytes recibidos por cada equipo de IIS</span><span class="sxs-lookup"><span data-stu-id="e7722-192">Total bytes received by each IIS computer.</span></span> |

## <a name="next-steps"></a><span data-ttu-id="e7722-193">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="e7722-193">Next steps</span></span>
* <span data-ttu-id="e7722-194">Configurar análisis de registros toocollect otros [orígenes de datos](log-analytics-data-sources.md) para el análisis.</span><span class="sxs-lookup"><span data-stu-id="e7722-194">Configure Log Analytics toocollect other [data sources](log-analytics-data-sources.md) for analysis.</span></span>
* <span data-ttu-id="e7722-195">Obtenga información acerca de [búsquedas de registro](log-analytics-log-searches.md) recopilan los datos de Hola de tooanalyze desde orígenes de datos y soluciones.</span><span class="sxs-lookup"><span data-stu-id="e7722-195">Learn about [log searches](log-analytics-log-searches.md) tooanalyze hello data collected from data sources and solutions.</span></span>
* <span data-ttu-id="e7722-196">Configurar alertas en los análisis de registros tooproactively avisarle de condiciones importantes que se encuentra en los registros de IIS.</span><span class="sxs-lookup"><span data-stu-id="e7722-196">Configure alerts in Log Analytics tooproactively notify you of important conditions found in IIS logs.</span></span>
