---
title: "Recopilación y análisis de registros de eventos de Windows en Log Analytics (OMS) | Microsoft Docs"
description: "Los registros de eventos de Windows son uno de los orígenes de datos más comunes que usa Log Analytics.  En este artículo se describe cómo configurar la recopilación de registros de eventos de Windows y detalles de los registros que crean en el repositorio de OMS."
services: log-analytics
documentationcenter: 
author: bwren
manager: carmonm
editor: tysonn
ms.assetid: ee52f564-995b-450f-a6ba-0d7b1dac3f32
ms.service: log-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 08/15/2017
ms.author: bwren
ms.openlocfilehash: 1be8500ec2cb78ef0edf57f4d8561336cf00ebcb
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/18/2017
---
# <a name="windows-event-log-data-sources-in-log-analytics"></a><span data-ttu-id="8db24-104">Orígenes de datos de registros de eventos de Windows en Log Analytics</span><span class="sxs-lookup"><span data-stu-id="8db24-104">Windows event log data sources in Log Analytics</span></span>
<span data-ttu-id="8db24-105">Muchas aplicaciones escriben en el registro de eventos de Windows, por lo que constituye uno de los [orígenes de datos](log-analytics-data-sources.md) más comunes para recopilar información mediante agentes de Windows.</span><span class="sxs-lookup"><span data-stu-id="8db24-105">Windows Event logs are one of the most common [data sources](log-analytics-data-sources.md) for collecting data using Windows agents since many applications write to the Windows event log.</span></span>  <span data-ttu-id="8db24-106">Puede recopilar eventos de registros estándar, como el sistema y la aplicación, además de especificar cualquier registro personalizado creado por las aplicaciones que debe supervisar.</span><span class="sxs-lookup"><span data-stu-id="8db24-106">You can collect events from standard logs such as System and Application in addition to specifying any custom logs created by applications you need to monitor.</span></span>

![Eventos de Windows](media/log-analytics-data-sources-windows-events/overview.png)     

## <a name="configuring-windows-event-logs"></a><span data-ttu-id="8db24-108">Configuración de registros de eventos de Windows</span><span class="sxs-lookup"><span data-stu-id="8db24-108">Configuring Windows Event logs</span></span>
<span data-ttu-id="8db24-109">Configure los registros de eventos de Windows en el [menú Datos en Configuración de Log Analytics](log-analytics-data-sources.md#configuring-data-sources).</span><span class="sxs-lookup"><span data-stu-id="8db24-109">Configure Windows Event logs from the [Data menu in Log Analytics Settings](log-analytics-data-sources.md#configuring-data-sources).</span></span>

<span data-ttu-id="8db24-110">Log Analytics solo recopila eventos de los registros de eventos de Windows que se especifican en la configuración.</span><span class="sxs-lookup"><span data-stu-id="8db24-110">Log Analytics only collects events from the Windows event logs that are specified in the settings.</span></span>  <span data-ttu-id="8db24-111">Para agregar un registro nuevo, escriba el nombre y haga clic en **+**.</span><span class="sxs-lookup"><span data-stu-id="8db24-111">You can add an event log by typing in the name of the log and clicking **+**.</span></span>  <span data-ttu-id="8db24-112">Para cada registro, solo se recopilan los eventos con los niveles de gravedad seleccionados.</span><span class="sxs-lookup"><span data-stu-id="8db24-112">For each log, only the events with the selected severities are collected.</span></span>  <span data-ttu-id="8db24-113">Compruebe las gravedades del registro determinado que desea recopilar.</span><span class="sxs-lookup"><span data-stu-id="8db24-113">Check the severities for the particular log that you want to collect.</span></span>  <span data-ttu-id="8db24-114">No puede proporcionar criterios adicionales para filtrar eventos.</span><span class="sxs-lookup"><span data-stu-id="8db24-114">You cannot provide any additional criteria to filter events.</span></span>

<span data-ttu-id="8db24-115">A medida que escribe el nombre de un registro de eventos, Log Analytics da sugerencias de nombres comunes de este tipo de registros.</span><span class="sxs-lookup"><span data-stu-id="8db24-115">As you type the name of an event log, Log Analytics provides suggestions of common event log names.</span></span> <span data-ttu-id="8db24-116">Aun cuando el registro que desea agregar no aparezca en la lista, puede incluirlo escribiendo su nombre completo.</span><span class="sxs-lookup"><span data-stu-id="8db24-116">If the log you want to add does not appear in the list, you can still add it by typing in the full name of the log.</span></span> <span data-ttu-id="8db24-117">Encontrará el nombre completo del registro en el Visor de eventos.</span><span class="sxs-lookup"><span data-stu-id="8db24-117">You can find the full name of the log by using event viewer.</span></span> <span data-ttu-id="8db24-118">En el Visor de eventos, abra la página *Propiedades* del registro y copie la cadena del campo *Nombre completo*.</span><span class="sxs-lookup"><span data-stu-id="8db24-118">In event viewer, open the *Properties* page for the log and copy the string from the *Full Name* field.</span></span>

![Configurar eventos de Windows](media/log-analytics-data-sources-windows-events/configure.png)

## <a name="data-collection"></a><span data-ttu-id="8db24-120">Colección de datos</span><span class="sxs-lookup"><span data-stu-id="8db24-120">Data collection</span></span>
<span data-ttu-id="8db24-121">Log Analytics recopila cada evento que coincide con una gravedad seleccionada de un registro de eventos supervisado al crear el evento.</span><span class="sxs-lookup"><span data-stu-id="8db24-121">Log Analytics collects each event that matches a selected severity from a monitored event log as the event is created.</span></span>  <span data-ttu-id="8db24-122">El agente registra su lugar en cada registro de eventos del que recopila entradas.</span><span class="sxs-lookup"><span data-stu-id="8db24-122">The agent records its place in each event log that it collects from.</span></span>  <span data-ttu-id="8db24-123">Si el agente queda sin conexión durante un período, Log Analytics recopila los eventos desde donde quedó, aunque esos eventos se hayan creado mientras el agente estaba sin conexión.</span><span class="sxs-lookup"><span data-stu-id="8db24-123">If the agent goes offline for a period of time, then Log Analytics collects events from where it last left off, even if those events were created while the agent was offline.</span></span>  <span data-ttu-id="8db24-124">Sin embargo, existe la posibilidad de que estos eventos no se recopilen si el registro de eventos hace que los eventos no recopilados se sobrescriban mientras el agente está sin conexión.</span><span class="sxs-lookup"><span data-stu-id="8db24-124">There is a potential for these events to not be collected if the event log wraps with uncollected events being overwritten while the agent is offline.</span></span>

>[!NOTE]
><span data-ttu-id="8db24-125">Log Analytics no recopila eventos de auditoría creados por SQL Server del origen *MSSQLSERVER* con Id. de evento 18453 que contengan palabras clave *Classic* o *Audit Success* y la palabra clave *0xa0000000000000*.</span><span class="sxs-lookup"><span data-stu-id="8db24-125">Log Analytics does not collect audit events created by SQL Server from source *MSSQLSERVER* with event ID 18453 that contains keywords - *Classic* or *Audit Success* and keyword *0xa0000000000000*.</span></span>
>

## <a name="windows-event-records-properties"></a><span data-ttu-id="8db24-126">Propiedades de los registros de eventos de Windows</span><span class="sxs-lookup"><span data-stu-id="8db24-126">Windows event records properties</span></span>
<span data-ttu-id="8db24-127">Los registros de eventos de Windows tienen un tipo **Event** y las propiedades que aparecen en la tabla siguiente:</span><span class="sxs-lookup"><span data-stu-id="8db24-127">Windows event records have a type of **Event** and have the properties in the following table:</span></span>

| <span data-ttu-id="8db24-128">Propiedad</span><span class="sxs-lookup"><span data-stu-id="8db24-128">Property</span></span> | <span data-ttu-id="8db24-129">Descripción</span><span class="sxs-lookup"><span data-stu-id="8db24-129">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="8db24-130">Equipo</span><span class="sxs-lookup"><span data-stu-id="8db24-130">Computer</span></span> |<span data-ttu-id="8db24-131">Nombre del equipo desde el que se recopiló el evento.</span><span class="sxs-lookup"><span data-stu-id="8db24-131">Name of the computer that the event was collected from.</span></span> |
| <span data-ttu-id="8db24-132">EventCategory</span><span class="sxs-lookup"><span data-stu-id="8db24-132">EventCategory</span></span> |<span data-ttu-id="8db24-133">Categoría del evento.</span><span class="sxs-lookup"><span data-stu-id="8db24-133">Category of the event.</span></span> |
| <span data-ttu-id="8db24-134">EventData</span><span class="sxs-lookup"><span data-stu-id="8db24-134">EventData</span></span> |<span data-ttu-id="8db24-135">Todos los datos con formato sin procesar.</span><span class="sxs-lookup"><span data-stu-id="8db24-135">All event data in raw format.</span></span> |
| <span data-ttu-id="8db24-136">EventId</span><span class="sxs-lookup"><span data-stu-id="8db24-136">EventID</span></span> |<span data-ttu-id="8db24-137">El número del evento.</span><span class="sxs-lookup"><span data-stu-id="8db24-137">Number of the event.</span></span> |
| <span data-ttu-id="8db24-138">EventLevel</span><span class="sxs-lookup"><span data-stu-id="8db24-138">EventLevel</span></span> |<span data-ttu-id="8db24-139">La gravedad del evento en formato numérico.</span><span class="sxs-lookup"><span data-stu-id="8db24-139">Severity of the event in numeric form.</span></span> |
| <span data-ttu-id="8db24-140">EventLevelName</span><span class="sxs-lookup"><span data-stu-id="8db24-140">EventLevelName</span></span> |<span data-ttu-id="8db24-141">La gravedad del evento en formato de texto.</span><span class="sxs-lookup"><span data-stu-id="8db24-141">Severity of the event in text form.</span></span> |
| <span data-ttu-id="8db24-142">EventLog</span><span class="sxs-lookup"><span data-stu-id="8db24-142">EventLog</span></span> |<span data-ttu-id="8db24-143">El nombre del registro de eventos desde el que se recopiló el evento.</span><span class="sxs-lookup"><span data-stu-id="8db24-143">Name of the event log that the event was collected from.</span></span> |
| <span data-ttu-id="8db24-144">ParameterXml</span><span class="sxs-lookup"><span data-stu-id="8db24-144">ParameterXml</span></span> |<span data-ttu-id="8db24-145">Los valores de parámetro de evento en formato XML.</span><span class="sxs-lookup"><span data-stu-id="8db24-145">Event parameter values in XML format.</span></span> |
| <span data-ttu-id="8db24-146">ManagementGroupName</span><span class="sxs-lookup"><span data-stu-id="8db24-146">ManagementGroupName</span></span> |<span data-ttu-id="8db24-147">Nombre del grupo de administración de agentes de System Center Operations Manager.</span><span class="sxs-lookup"><span data-stu-id="8db24-147">Name of the management group for System Center Operations Manager agents.</span></span>  <span data-ttu-id="8db24-148">En el caso de los otros agentes, este valor es AOI-<workspace ID>.</span><span class="sxs-lookup"><span data-stu-id="8db24-148">For other agents, this value is AOI-<workspace ID></span></span> |
| <span data-ttu-id="8db24-149">RenderedDescription</span><span class="sxs-lookup"><span data-stu-id="8db24-149">RenderedDescription</span></span> |<span data-ttu-id="8db24-150">La descripción del evento con valores de parámetro.</span><span class="sxs-lookup"><span data-stu-id="8db24-150">Event description with parameter values</span></span> |
| <span data-ttu-id="8db24-151">Origen</span><span class="sxs-lookup"><span data-stu-id="8db24-151">Source</span></span> |<span data-ttu-id="8db24-152">El origen del evento.</span><span class="sxs-lookup"><span data-stu-id="8db24-152">Source of the event.</span></span> |
| <span data-ttu-id="8db24-153">SourceSystem</span><span class="sxs-lookup"><span data-stu-id="8db24-153">SourceSystem</span></span> |<span data-ttu-id="8db24-154">El tipo de agente desde el que se recopiló el evento.</span><span class="sxs-lookup"><span data-stu-id="8db24-154">Type of agent the event was collected from.</span></span> <br> <span data-ttu-id="8db24-155">OpsManager: agente de Windows, ya sea una conexión directa o administrado por Operations Manager</span><span class="sxs-lookup"><span data-stu-id="8db24-155">OpsManager – Windows agent, either direct connect or Operations Manager managed</span></span> <br> <span data-ttu-id="8db24-156">Linux: todos los agentes de Linux.</span><span class="sxs-lookup"><span data-stu-id="8db24-156">Linux – All Linux agents</span></span>  <br> <span data-ttu-id="8db24-157">AzureStorage: Diagnósticos de Azure</span><span class="sxs-lookup"><span data-stu-id="8db24-157">AzureStorage – Azure Diagnostics</span></span> |
| <span data-ttu-id="8db24-158">TimeGenerated</span><span class="sxs-lookup"><span data-stu-id="8db24-158">TimeGenerated</span></span> |<span data-ttu-id="8db24-159">La fecha y la hora de creación del evento en Windows.</span><span class="sxs-lookup"><span data-stu-id="8db24-159">Date and time the event was created in Windows.</span></span> |
| <span data-ttu-id="8db24-160">UserName</span><span class="sxs-lookup"><span data-stu-id="8db24-160">UserName</span></span> |<span data-ttu-id="8db24-161">El nombre de usuario de la cuenta que registró el evento.</span><span class="sxs-lookup"><span data-stu-id="8db24-161">User name of the account that logged the event.</span></span> |

## <a name="log-searches-with-windows-events"></a><span data-ttu-id="8db24-162">Búsquedas de registros con eventos de Windows</span><span class="sxs-lookup"><span data-stu-id="8db24-162">Log searches with Windows Events</span></span>
<span data-ttu-id="8db24-163">La tabla siguiente proporciona distintos ejemplos de búsquedas de registros que recuperar registros de eventos de Windows.</span><span class="sxs-lookup"><span data-stu-id="8db24-163">The following table provides different examples of log searches that retrieve Windows Event records.</span></span>

| <span data-ttu-id="8db24-164">Consultar</span><span class="sxs-lookup"><span data-stu-id="8db24-164">Query</span></span> | <span data-ttu-id="8db24-165">Descripción</span><span class="sxs-lookup"><span data-stu-id="8db24-165">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="8db24-166">Type=Event</span><span class="sxs-lookup"><span data-stu-id="8db24-166">Type=Event</span></span> |<span data-ttu-id="8db24-167">Todos los eventos de Windows.</span><span class="sxs-lookup"><span data-stu-id="8db24-167">All Windows events.</span></span> |
| <span data-ttu-id="8db24-168">Type=Event EventLevelName=error</span><span class="sxs-lookup"><span data-stu-id="8db24-168">Type=Event EventLevelName=error</span></span> |<span data-ttu-id="8db24-169">Todos los eventos de Windows con gravedad de error.</span><span class="sxs-lookup"><span data-stu-id="8db24-169">All Windows events with severity of error.</span></span> |
| <span data-ttu-id="8db24-170">Type=Event &#124; Measure count() by Source</span><span class="sxs-lookup"><span data-stu-id="8db24-170">Type=Event &#124; Measure count() by Source</span></span> |<span data-ttu-id="8db24-171">Contador de eventos de Windows por origen.</span><span class="sxs-lookup"><span data-stu-id="8db24-171">Count of Windows events by source.</span></span> |
| <span data-ttu-id="8db24-172">Type=Event EventLevelName=error &#124; Measure count() by Source</span><span class="sxs-lookup"><span data-stu-id="8db24-172">Type=Event EventLevelName=error &#124; Measure count() by Source</span></span> |<span data-ttu-id="8db24-173">Contador de eventos de error de Windows por origen.</span><span class="sxs-lookup"><span data-stu-id="8db24-173">Count of Windows error events by source.</span></span> |


>[!NOTE]
> <span data-ttu-id="8db24-174">Si el área de trabajo se ha actualizado al [nuevo lenguaje de consulta de Log Analytics](log-analytics-log-search-upgrade.md), las consultas anteriores cambiarían como sigue.</span><span class="sxs-lookup"><span data-stu-id="8db24-174">If your workspace has been upgraded to the [new Log Analytics query language](log-analytics-log-search-upgrade.md), then the above queries would change to the following.</span></span>
>
>| <span data-ttu-id="8db24-175">Consultar</span><span class="sxs-lookup"><span data-stu-id="8db24-175">Query</span></span> | <span data-ttu-id="8db24-176">Descripción</span><span class="sxs-lookup"><span data-stu-id="8db24-176">Description</span></span> |
|:---|:---|
| <span data-ttu-id="8db24-177">Evento</span><span class="sxs-lookup"><span data-stu-id="8db24-177">Event</span></span> |<span data-ttu-id="8db24-178">Todos los eventos de Windows.</span><span class="sxs-lookup"><span data-stu-id="8db24-178">All Windows events.</span></span> |
| <span data-ttu-id="8db24-179">Event &#124; where EventLevelName == "error"</span><span class="sxs-lookup"><span data-stu-id="8db24-179">Event &#124; where EventLevelName == "error"</span></span> |<span data-ttu-id="8db24-180">Todos los eventos de Windows con gravedad de error.</span><span class="sxs-lookup"><span data-stu-id="8db24-180">All Windows events with severity of error.</span></span> |
| <span data-ttu-id="8db24-181">Event &#124; summarize count() by Source</span><span class="sxs-lookup"><span data-stu-id="8db24-181">Event &#124; summarize count() by Source</span></span> |<span data-ttu-id="8db24-182">Contador de eventos de Windows por origen.</span><span class="sxs-lookup"><span data-stu-id="8db24-182">Count of Windows events by source.</span></span> |
| <span data-ttu-id="8db24-183">Event &#124; where EventLevelName == "error" &#124; summarize count() by Source</span><span class="sxs-lookup"><span data-stu-id="8db24-183">Event &#124; where EventLevelName == "error" &#124; summarize count() by Source</span></span> |<span data-ttu-id="8db24-184">Contador de eventos de error de Windows por origen.</span><span class="sxs-lookup"><span data-stu-id="8db24-184">Count of Windows error events by source.</span></span> |


## <a name="next-steps"></a><span data-ttu-id="8db24-185">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="8db24-185">Next steps</span></span>
* <span data-ttu-id="8db24-186">Configure Log Analytics para recopilar otros [orígenes de datos](log-analytics-data-sources.md) para su análisis.</span><span class="sxs-lookup"><span data-stu-id="8db24-186">Configure Log Analytics to collect other [data sources](log-analytics-data-sources.md) for analysis.</span></span>
* <span data-ttu-id="8db24-187">Obtenga información sobre las [búsquedas de registros](log-analytics-log-searches.md) para analizar los datos recopilados desde soluciones y orígenes de datos.</span><span class="sxs-lookup"><span data-stu-id="8db24-187">Learn about [log searches](log-analytics-log-searches.md) to analyze the data collected from data sources and solutions.</span></span>  
* <span data-ttu-id="8db24-188">Use [Campos personalizados](log-analytics-custom-fields.md) para redistribuir los registros de eventos en campos individuales.</span><span class="sxs-lookup"><span data-stu-id="8db24-188">Use [Custom Fields](log-analytics-custom-fields.md) to parse the event records into individual fields.</span></span>
* <span data-ttu-id="8db24-189">Configure la [recopilación de contadores de rendimiento](log-analytics-data-sources-performance-counters.md) desde los agentes de Windows.</span><span class="sxs-lookup"><span data-stu-id="8db24-189">Configure [collection of performance counters](log-analytics-data-sources-performance-counters.md) from your Windows agents.</span></span>
