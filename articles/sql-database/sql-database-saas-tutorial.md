---
title: "aaaDeploy y explore la aplicación de SaaS Wingtip multiempresa de Hola que utiliza la base de datos de SQL de Azure | Documentos de Microsoft"
description: "Implementar y explore la aplicación de varios inquilinos de SaaS Wingtip hello, que muestra los patrones de SaaS con la base de datos de SQL Azure."
keywords: tutorial de SQL Database
services: sql-database
documentationcenter: 
author: stevestein
manager: jhubbard
editor: 
ms.assetid: 
ms.service: sql-database
ms.custom: scale out apps
ms.workload: data-management
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/26/2017
ms.author: sstein
ms.openlocfilehash: 7c528ee19472d3b8c7a285b2f86013945e8f4bf4
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="deploy-and-explore-a-multi-tenant-application-that-uses-azure-sql-database---wingtip-saas"></a><span data-ttu-id="e40e8-104">Implementación y exploración de una aplicación SaaS multiinquilino que usa Azure SQL Database</span><span class="sxs-lookup"><span data-stu-id="e40e8-104">Deploy and explore a multi-tenant application that uses Azure SQL Database - Wingtip SaaS</span></span>

<span data-ttu-id="e40e8-105">En este tutorial, implementar y explorar la aplicación de SaaS Wingtip hello.</span><span class="sxs-lookup"><span data-stu-id="e40e8-105">In this tutorial, you deploy and explore hello Wingtip SaaS application.</span></span> <span data-ttu-id="e40e8-106">aplicación Hello usa un base de datos-por inquilino, patrón de aplicación de SaaS, tooservice varios inquilinos.</span><span class="sxs-lookup"><span data-stu-id="e40e8-106">hello application uses a database-per-tenant, SaaS application pattern, tooservice multiple tenants.</span></span> <span data-ttu-id="e40e8-107">aplicación Hello es características de tooshowcase diseño de base de datos de SQL Azure que simplifican la habilitar escenarios de SaaS.</span><span class="sxs-lookup"><span data-stu-id="e40e8-107">hello application is designed tooshowcase features of Azure SQL Database that simplify enabling SaaS scenarios.</span></span>

<span data-ttu-id="e40e8-108">Hola de cinco minutos después de hacer clic *implementar tooAzure* botón siguiente, tiene una aplicación de SaaS multiempresa, usando la base de datos de SQL, hasta y ejecutando en la nube de Hola.</span><span class="sxs-lookup"><span data-stu-id="e40e8-108">Five minutes after clicking hello *Deploy tooAzure* button below, you have a multi-tenant SaaS application, using SQL Database, up and running in hello cloud.</span></span> <span data-ttu-id="e40e8-109">aplicación Hello se implementa con tres de los inquilinos de ejemplo, cada uno con su propia base de datos, todos los implementados en un grupo elástico de SQL.</span><span class="sxs-lookup"><span data-stu-id="e40e8-109">hello application is deployed with three sample tenants, each with its own database, all deployed into a SQL elastic pool.</span></span> <span data-ttu-id="e40e8-110">aplicación Hello es implementado tooyour suscripción de Azure, lo que le proporciona acceso completo tooexplore y trabajar con componentes de aplicaciones individuales de Hola.</span><span class="sxs-lookup"><span data-stu-id="e40e8-110">hello app is deployed tooyour Azure subscription, giving you full access tooexplore and work with hello individual application components.</span></span> <span data-ttu-id="e40e8-111">Hola aplicación origen código y administración de las secuencias de comandos están disponibles en hello repositorio WingtipSaaS GitHub.</span><span class="sxs-lookup"><span data-stu-id="e40e8-111">hello application source code and management scripts are available in hello WingtipSaaS GitHub repo.</span></span>


<span data-ttu-id="e40e8-112">En este tutorial, obtendrá información:</span><span class="sxs-lookup"><span data-stu-id="e40e8-112">In this tutorial you learn:</span></span>

> [!div class="checklist"]

> * <span data-ttu-id="e40e8-113">¿Cómo toodeploy Hola aplicación Wingtip SaaS</span><span class="sxs-lookup"><span data-stu-id="e40e8-113">How toodeploy hello Wingtip SaaS application</span></span>
> * <span data-ttu-id="e40e8-114">Donde tooget Hola código fuente de aplicación y las secuencias de comandos de administración</span><span class="sxs-lookup"><span data-stu-id="e40e8-114">Where tooget hello application source code, and management scripts</span></span>
> * <span data-ttu-id="e40e8-115">Acerca de los servidores de hello, los grupos y las bases de datos que forman la aplicación hello</span><span class="sxs-lookup"><span data-stu-id="e40e8-115">About hello servers, pools, and databases that make up hello app</span></span>
> * <span data-ttu-id="e40e8-116">Cómo los inquilinos asignan datos tootheir con hello *catálogo*</span><span class="sxs-lookup"><span data-stu-id="e40e8-116">How tenants are mapped tootheir data with hello *catalog*</span></span>
> * <span data-ttu-id="e40e8-117">¿Cómo tooprovision un nuevo inquilino</span><span class="sxs-lookup"><span data-stu-id="e40e8-117">How tooprovision a new tenant</span></span>
> * <span data-ttu-id="e40e8-118">¿Cómo toomonitor inquilino actividad en la aplicación hello</span><span class="sxs-lookup"><span data-stu-id="e40e8-118">How toomonitor tenant activity in hello app</span></span>

<span data-ttu-id="e40e8-119">tooexplore diferentes SaaS modelos de diseño y administración, un [serie de tutoriales relacionados](sql-database-wtp-overview.md#sql-database-wingtip-saas-tutorials) está disponible que se basan en esta implementación inicial.</span><span class="sxs-lookup"><span data-stu-id="e40e8-119">tooexplore various SaaS design and management patterns, a [series of related tutorials](sql-database-wtp-overview.md#sql-database-wingtip-saas-tutorials) is available that build upon this initial deployment.</span></span> <span data-ttu-id="e40e8-120">Al pasar por los tutoriales de hello, profundizar en las secuencias de comandos de hello proporcionado y examinar cómo se implementan los patrones de SaaS diferentes Hola.</span><span class="sxs-lookup"><span data-stu-id="e40e8-120">While going through hello tutorials, dive into hello provided scripts, and examine how hello different SaaS patterns are implemented.</span></span> <span data-ttu-id="e40e8-121">Paso a paso a través de scripts de hello en cada tutorial toogain una comprensión más profunda cómo tooimplement Hola la base de datos de SQL muchas características que simplifican el desarrollo de aplicaciones de SaaS.</span><span class="sxs-lookup"><span data-stu-id="e40e8-121">Step through hello scripts in each tutorial toogain a deeper understanding how tooimplement hello many SQL Database features that simplify developing SaaS applications.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="e40e8-122">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="e40e8-122">Prerequisites</span></span>

<span data-ttu-id="e40e8-123">toocomplete se ha completado este tutorial, asegúrese de hello seguro después de requisitos previos:</span><span class="sxs-lookup"><span data-stu-id="e40e8-123">toocomplete this tutorial, make sure hello following prerequisites are completed:</span></span>

* <span data-ttu-id="e40e8-124">Azure PowerShell está instalado.</span><span class="sxs-lookup"><span data-stu-id="e40e8-124">Azure PowerShell is installed.</span></span> <span data-ttu-id="e40e8-125">Para más información, consulte [Introducción a Azure PowerShell](https://docs.microsoft.com/powershell/azure/get-started-azureps).</span><span class="sxs-lookup"><span data-stu-id="e40e8-125">For details, see [Getting started with Azure PowerShell](https://docs.microsoft.com/powershell/azure/get-started-azureps)</span></span>

## <a name="deploy-hello-wingtip-saas-application"></a><span data-ttu-id="e40e8-126">Implementar aplicaciones de SaaS Wingtip Hola</span><span class="sxs-lookup"><span data-stu-id="e40e8-126">Deploy hello Wingtip SaaS application</span></span>

<span data-ttu-id="e40e8-127">Implementar la aplicación de SaaS Wingtip hello:</span><span class="sxs-lookup"><span data-stu-id="e40e8-127">Deploy hello Wingtip SaaS app:</span></span>

1. <span data-ttu-id="e40e8-128">Si hace clic en hello **implementar tooAzure** botón abre la plantilla de implementación de hello toohello portal Azure Wingtip SaaS.</span><span class="sxs-lookup"><span data-stu-id="e40e8-128">Clicking hello **Deploy tooAzure** button opens hello Azure portal toohello Wingtip SaaS deployment template.</span></span> <span data-ttu-id="e40e8-129">plantilla de Hello requiere dos valores de parámetro; un nombre para un nuevo grupo de recursos y un nombre de usuario que distingue esta implementación de otras implementaciones de aplicación de SaaS Wingtip hello.</span><span class="sxs-lookup"><span data-stu-id="e40e8-129">hello template requires two parameter values; a name for a new resource group, and a user name that distinguishes this deployment from other deployments of hello Wingtip SaaS app.</span></span> <span data-ttu-id="e40e8-130">paso siguiente Hola proporciona detalles para establecer estos valores.</span><span class="sxs-lookup"><span data-stu-id="e40e8-130">hello next step provides details for setting these values.</span></span>

   <span data-ttu-id="e40e8-131">Asegúrese de seguro toonote Hola exactamente los valores que use, ya que necesitará tooenter en una configuración de archivo más adelante.</span><span class="sxs-lookup"><span data-stu-id="e40e8-131">Make sure toonote hello exact values that you use, because you will need tooenter them into a configuration file later.</span></span>

   <a href="http://aka.ms/deploywtpapp" target="_blank"><img src="http://azuredeploy.net/deploybutton.png"/></a>

1. <span data-ttu-id="e40e8-132">Escriba los valores de parámetro necesario para la implementación de hello:</span><span class="sxs-lookup"><span data-stu-id="e40e8-132">Enter required parameter values for hello deployment:</span></span>

    > [!IMPORTANT]
    > <span data-ttu-id="e40e8-133">Para realizar la demostración, se ha eliminado intencionadamente la protección de varios firewalls de autenticación y del servidor.</span><span class="sxs-lookup"><span data-stu-id="e40e8-133">Some authentication, and server firewalls are intentionally unsecured for demonstration purposes.</span></span> <span data-ttu-id="e40e8-134">**Cree un nuevo grupo de recursos** y no use grupos de recursos, servidores o grupos existentes.</span><span class="sxs-lookup"><span data-stu-id="e40e8-134">**Create a new resource group**, and do not use existing resource groups, servers, or pools.</span></span> <span data-ttu-id="e40e8-135">No use esta aplicación, ni ninguno de los recursos que se crean, para producción.</span><span class="sxs-lookup"><span data-stu-id="e40e8-135">Do not use this application, or any resources it creates, for production.</span></span> <span data-ttu-id="e40e8-136">Eliminar este recurso del grupo cuando haya terminado con hello aplicación toostop relacionados con la facturación.</span><span class="sxs-lookup"><span data-stu-id="e40e8-136">Delete this resource group when you are finished with hello application toostop related billing.</span></span>

    * <span data-ttu-id="e40e8-137">**Grupo de recursos** : seleccione esta opción **crear nuevo** y proporcionar un **nombre** Hola para grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="e40e8-137">**Resource group** - Select **Create new** and provide a **Name** for hello resource group.</span></span> <span data-ttu-id="e40e8-138">Seleccione un **ubicación** de lista desplegable de Hola.</span><span class="sxs-lookup"><span data-stu-id="e40e8-138">Select a **Location** from hello drop-down list.</span></span>
    * <span data-ttu-id="e40e8-139">**Usuario**: algunos recursos requieren nombres que sean globalmente únicos.</span><span class="sxs-lookup"><span data-stu-id="e40e8-139">**User** - Some resources require names that are globally unique.</span></span> <span data-ttu-id="e40e8-140">unicidad de tooensure, cada vez que implemente la aplicación hello proporcionar un valor de recursos de toodifferentiate que ha creado, de recursos creados por cualquier otra implementación de aplicación Wingtip Hola.</span><span class="sxs-lookup"><span data-stu-id="e40e8-140">tooensure uniqueness, each time you deploy hello application provide a value toodifferentiate resources you create, from resources created by any other deployment of hello Wingtip application.</span></span> <span data-ttu-id="e40e8-141">Se recomienda un valor bajo toouse **usuario** nombre, como sus iniciales junto con un número (por ejemplo, *bg1*) y, a continuación, usarla en nombre de grupo de recursos de hello (por ejemplo, *wingtip-bg1*).</span><span class="sxs-lookup"><span data-stu-id="e40e8-141">It’s recommended toouse a short **User** name, such as your initials plus a number (for example, *bg1*), and then use that in hello resource group name (for example, *wingtip-bg1*).</span></span> <span data-ttu-id="e40e8-142">El parámetro **Usuario** solo puede contener letras, números y guiones (sin espacios).</span><span class="sxs-lookup"><span data-stu-id="e40e8-142">The **User** parameter can only contain letters, numbers, and hyphens (no spaces).</span></span> <span data-ttu-id="e40e8-143">Hello primero y último carácter debe ser una letra o un número (se recomienda todas las minúsculas).</span><span class="sxs-lookup"><span data-stu-id="e40e8-143">hello first and last character must be a letter or a number (all lowercase is recommended).</span></span>


1. <span data-ttu-id="e40e8-144">**Implementar la aplicación hello**.</span><span class="sxs-lookup"><span data-stu-id="e40e8-144">**Deploy hello application**.</span></span>

    * <span data-ttu-id="e40e8-145">Haga clic en tooagree toohello términos y condiciones.</span><span class="sxs-lookup"><span data-stu-id="e40e8-145">Click tooagree toohello terms and conditions.</span></span>
    * <span data-ttu-id="e40e8-146">Haga clic en **Comprar**.</span><span class="sxs-lookup"><span data-stu-id="e40e8-146">Click **Purchase**.</span></span>

1. <span data-ttu-id="e40e8-147">Supervisar el estado de implementación, haga clic en **notificaciones** (icono de campana Hola derecha del cuadro de búsqueda de hello).</span><span class="sxs-lookup"><span data-stu-id="e40e8-147">Monitor deployment status by clicking **Notifications** (hello bell icon right of hello search box).</span></span> <span data-ttu-id="e40e8-148">Implementar aplicaciones de SaaS Wingtip Hola tarda aproximadamente cinco minutos.</span><span class="sxs-lookup"><span data-stu-id="e40e8-148">Deploying hello Wingtip SaaS app takes approximately five minutes.</span></span>

   ![implementación correcta](media/sql-database-saas-tutorial/succeeded.png)

## <a name="download-and-unblock-hello-wingtip-saas-scripts"></a><span data-ttu-id="e40e8-150">Descargar y desbloquear scripts de SaaS Wingtip Hola</span><span class="sxs-lookup"><span data-stu-id="e40e8-150">Download and unblock hello Wingtip SaaS scripts</span></span>

<span data-ttu-id="e40e8-151">Mientras se está implementando la aplicación hello, descargar scripts de administración y el código de origen de Hola.</span><span class="sxs-lookup"><span data-stu-id="e40e8-151">While hello application is deploying, download hello source code and management scripts.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="e40e8-152">Es posible que Windows bloquee el contenido ejecutable (scripts, archivos DLL) cuando se descarguen y extraigan archivos ZIP desde un origen externo.</span><span class="sxs-lookup"><span data-stu-id="e40e8-152">Executable contents (scripts, dlls) may be blocked by Windows when zip files are downloaded from an external source and extracted.</span></span> <span data-ttu-id="e40e8-153">Al extraer los scripts de Hola desde un archivo zip, siga los pasos de Hola a continuación el archivo .zip de toounblock Hola antes de extraer.</span><span class="sxs-lookup"><span data-stu-id="e40e8-153">When extracting hello scripts from a zip file, follow hello steps below toounblock hello .zip file before extracting.</span></span> <span data-ttu-id="e40e8-154">Esto garantiza que las secuencias de comandos de Hola se permiten toorun.</span><span class="sxs-lookup"><span data-stu-id="e40e8-154">This ensures hello scripts are allowed toorun.</span></span>

1. <span data-ttu-id="e40e8-155">Examinar demasiado[repositorio de github de SaaS Wingtip hello](https://github.com/Microsoft/WingtipSaaS).</span><span class="sxs-lookup"><span data-stu-id="e40e8-155">Browse too[hello Wingtip SaaS github repo](https://github.com/Microsoft/WingtipSaaS).</span></span>
1. <span data-ttu-id="e40e8-156">Haga clic en **Clone or download** (Clonar o descargar).</span><span class="sxs-lookup"><span data-stu-id="e40e8-156">Click **Clone or download**.</span></span>
1. <span data-ttu-id="e40e8-157">Haga clic en **Download ZIP** y guarde el archivo hello.</span><span class="sxs-lookup"><span data-stu-id="e40e8-157">Click **Download ZIP** and save hello file.</span></span>
1. <span data-ttu-id="e40e8-158">Menú contextual hello **WingtipSaaS master.zip** de archivos y seleccione **propiedades**.</span><span class="sxs-lookup"><span data-stu-id="e40e8-158">Right-click hello **WingtipSaaS-master.zip** file, and select **Properties**.</span></span>
1. <span data-ttu-id="e40e8-159">En hello **General** ficha, seleccione **Unblock**y haga clic en **aplicar**.</span><span class="sxs-lookup"><span data-stu-id="e40e8-159">On hello **General** tab, select **Unblock**, and click **Apply**.</span></span>
1. <span data-ttu-id="e40e8-160">Haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="e40e8-160">Click **OK**.</span></span>
1. <span data-ttu-id="e40e8-161">Extraiga los archivos de saludo.</span><span class="sxs-lookup"><span data-stu-id="e40e8-161">Extract hello files.</span></span>

<span data-ttu-id="e40e8-162">Las secuencias de comandos se encuentran en hello *... \\WingtipSaaS master\\módulos de aprendizaje* carpeta.</span><span class="sxs-lookup"><span data-stu-id="e40e8-162">Scripts are located in hello *..\\WingtipSaaS-master\\Learning Modules* folder.</span></span>

## <a name="update-hello-configuration-file-for-this-deployment"></a><span data-ttu-id="e40e8-163">Actualizar archivo de configuración de Hola para esta implementación</span><span class="sxs-lookup"><span data-stu-id="e40e8-163">Update hello configuration file for this deployment</span></span>

<span data-ttu-id="e40e8-164">Antes de ejecutar cualquier secuencia de comandos, establezca hello *grupo de recursos* y *usuario* valores en **UserConfig.psm1**.</span><span class="sxs-lookup"><span data-stu-id="e40e8-164">Before running any scripts, set hello *resource group* and *user* values in **UserConfig.psm1**.</span></span> <span data-ttu-id="e40e8-165">Establecer valores toohello establecidos durante la implementación de estas variables.</span><span class="sxs-lookup"><span data-stu-id="e40e8-165">Set these variables toohello values you set during deployment.</span></span>

1. <span data-ttu-id="e40e8-166">Abra... \\Módulos de aprendizaje\\*UserConfig.psm1* en hello *PowerShell ISE*</span><span class="sxs-lookup"><span data-stu-id="e40e8-166">Open ...\\Learning Modules\\*UserConfig.psm1* in hello *PowerShell ISE*</span></span>
1. <span data-ttu-id="e40e8-167">Actualización *ResourceGroupName* y *nombre* con valores específicos de hello para la implementación (en líneas 10 y 11 solo).</span><span class="sxs-lookup"><span data-stu-id="e40e8-167">Update *ResourceGroupName* and *Name* with hello specific values for your deployment (on lines 10 and 11 only).</span></span>
1. <span data-ttu-id="e40e8-168">¡Guardar los cambios de Hola!</span><span class="sxs-lookup"><span data-stu-id="e40e8-168">Save hello changes!</span></span>

<span data-ttu-id="e40e8-169">Si se define aquí simplemente evita tener tooupdate estos valores específicos de la implementación en todos los scripts.</span><span class="sxs-lookup"><span data-stu-id="e40e8-169">Setting this here simply keeps you from having tooupdate these deployment-specific values in every script.</span></span>

## <a name="run-hello-application"></a><span data-ttu-id="e40e8-170">Ejecutar la aplicación hello</span><span class="sxs-lookup"><span data-stu-id="e40e8-170">Run hello application</span></span>

<span data-ttu-id="e40e8-171">aplicación Hello muestra lugares, como salas de concierto, tréboles jazz, deportes tréboles, que hospedan los eventos.</span><span class="sxs-lookup"><span data-stu-id="e40e8-171">hello app showcases venues, such as concert halls, jazz clubs, sports clubs, that host events.</span></span> <span data-ttu-id="e40e8-172">Recintos registrar como clientes (o inquilinos) de plataforma de Wingtip hello, para eventos de toolist fácilmente y venden entradas.</span><span class="sxs-lookup"><span data-stu-id="e40e8-172">Venues register as customers (or tenants) of hello Wingtip platform, for an easy way toolist events and sell tickets.</span></span> <span data-ttu-id="e40e8-173">Cada lugar obtiene una toomanage de aplicación web personalizado y enumerar a sus eventos y vender vales, independientes y aislados de otros inquilinos.</span><span class="sxs-lookup"><span data-stu-id="e40e8-173">Each venue gets a personalized web app toomanage and list their events and sell tickets, independent and isolated from other tenants.</span></span> <span data-ttu-id="e40e8-174">Tras bastidores de hello, cada inquilino Obtiene una base de datos SQL que se implementa en un grupo elástico de SQL.</span><span class="sxs-lookup"><span data-stu-id="e40e8-174">Under hello covers, each tenant gets a SQL database deployed into a SQL elastic pool.</span></span>

<span data-ttu-id="e40e8-175">Un centro de **concentrador de eventos** proporciona una lista del inquilino de implementación de tooyour específico de direcciones URL.</span><span class="sxs-lookup"><span data-stu-id="e40e8-175">A central **Events Hub** provides a list of tenant URLs specific tooyour deployment.</span></span>

1. <span data-ttu-id="e40e8-176">Abra hello _concentrador de eventos_ en el explorador web: http://events.wtp.&lt; USUARIO&gt;. trafficmanager.net (reemplazar por el nombre de usuario de su implementación):</span><span class="sxs-lookup"><span data-stu-id="e40e8-176">Open hello _Events Hub_ in your web browser: http://events.wtp.&lt;USER&gt;.trafficmanager.net (replace with your deployment's user name):</span></span>

    ![events hub](media/sql-database-saas-tutorial/events-hub.png)

1. <span data-ttu-id="e40e8-178">Haga clic en **Fabrikam Jazz Club** en el *centro de eventos*.</span><span class="sxs-lookup"><span data-stu-id="e40e8-178">Click **Fabrikam Jazz Club** in the *Events Hub*.</span></span>

   ![Eventos](./media/sql-database-saas-tutorial/fabrikam.png)


<span data-ttu-id="e40e8-180">distribución de hello toocontrol de las solicitudes entrantes, usos de aplicación Hola [ *Azure Traffic Manager*](https://docs.microsoft.com/azure/traffic-manager/traffic-manager-overview).</span><span class="sxs-lookup"><span data-stu-id="e40e8-180">toocontrol hello distribution of incoming requests, hello app uses [*Azure Traffic Manager*](https://docs.microsoft.com/azure/traffic-manager/traffic-manager-overview).</span></span> <span data-ttu-id="e40e8-181">páginas de eventos de Hello, que son específicos del inquilino, requieren que se incluyen nombres de inquilino en hello las direcciones URL.</span><span class="sxs-lookup"><span data-stu-id="e40e8-181">hello events pages, which are tenant-specific, require that tenant names are included in hello URLs.</span></span> <span data-ttu-id="e40e8-182">Hola a todos los inquilinos las direcciones URL incluyen específica de su *usuario* valor y seguir este formato: http://events.wtp.&lt; USUARIO&gt;.trafficmanager.net/*fabrikamjazzclub*.</span><span class="sxs-lookup"><span data-stu-id="e40e8-182">All hello tenant URLs include your specific *User* value and follow this format: http://events.wtp.&lt;USER&gt;.trafficmanager.net/*fabrikamjazzclub*.</span></span> <span data-ttu-id="e40e8-183">aplicación de eventos de Hello analiza el nombre del inquilino Hola de dirección URL de Hola y usa una clave tooaccess un catálogo mediante toocreate [ *administración de mapa de particiones*](https://docs.microsoft.com/azure/sql-database/sql-database-elastic-scale-shard-map-management).</span><span class="sxs-lookup"><span data-stu-id="e40e8-183">hello events app parses hello tenant name from hello URL and uses it toocreate a key tooaccess a catalog using [*shard map management*](https://docs.microsoft.com/azure/sql-database/sql-database-elastic-scale-shard-map-management).</span></span> <span data-ttu-id="e40e8-184">Hola ubicación de base de datos del inquilino de catálogo mapas hello toohello clave.</span><span class="sxs-lookup"><span data-stu-id="e40e8-184">hello catalog maps hello key toohello tenant's database location.</span></span> <span data-ttu-id="e40e8-185">Hola **concentrador de eventos** usa metadatos extendidos en nombre del inquilino de hello catálogo tooretrieve Hola asociado a cada lista de hello tooprovide de base de datos de direcciones URL.</span><span class="sxs-lookup"><span data-stu-id="e40e8-185">hello **Events Hub** uses extended metadata in hello catalog tooretrieve hello tenant’s name associated with each database tooprovide hello list of URLs.</span></span>

<span data-ttu-id="e40e8-186">En un entorno de producción, normalmente se crearía un registro CNAME DNS para [ *apuntar un dominio de internet de la empresa* ](https://docs.microsoft.com/azure/traffic-manager/traffic-manager-point-internet-domain) perfil del Administrador de tráfico de Hola.</span><span class="sxs-lookup"><span data-stu-id="e40e8-186">In a production environment, you would typically create a CNAME DNS record to [*point a company internet domain*](https://docs.microsoft.com/azure/traffic-manager/traffic-manager-point-internet-domain) to hello traffic manager profile.</span></span>

## <a name="start-generating-load-on-hello-tenant-databases"></a><span data-ttu-id="e40e8-187">Iniciar la generación de carga en las bases de datos del inquilino de Hola</span><span class="sxs-lookup"><span data-stu-id="e40e8-187">Start generating load on hello tenant databases</span></span>

<span data-ttu-id="e40e8-188">Ahora que hello aplicación se implementa, vamos a colocarla toowork!</span><span class="sxs-lookup"><span data-stu-id="e40e8-188">Now that hello app is deployed, let’s put it toowork!</span></span> <span data-ttu-id="e40e8-189">Hola *LoadGenerator demostración* script de PowerShell inicia una carga de trabajo que se ejecutan en todas las bases de datos de inquilino.</span><span class="sxs-lookup"><span data-stu-id="e40e8-189">hello *Demo-LoadGenerator* PowerShell script starts a workload running against all tenant databases.</span></span> <span data-ttu-id="e40e8-190">carga de Hola mundo real en muchas aplicaciones de SaaS normalmente es esporádico e imprevisibles.</span><span class="sxs-lookup"><span data-stu-id="e40e8-190">hello real-world load on many SaaS apps is typically sporadic and unpredictable.</span></span> <span data-ttu-id="e40e8-191">toosimulate este tipo de carga, el generador de hello genera una carga que se distribuye entre todos los inquilinos, con ráfagas aleatorios en cada inquilino que se producen en intervalos aleatorios.</span><span class="sxs-lookup"><span data-stu-id="e40e8-191">toosimulate this type of load, hello generator produces a load distributed across all tenants, with randomized bursts on each tenant occurring at randomized intervals.</span></span> <span data-ttu-id="e40e8-192">Por este motivo tarda varios minutos para tooemerge de patrón de carga de hello, por lo que es mejor generador de hello toolet ejecutar para al menos tres o cuatro minutos antes de supervisión Hola de carga.</span><span class="sxs-lookup"><span data-stu-id="e40e8-192">Because of this it takes several minutes for hello load pattern tooemerge, so it’s best toolet hello generator run for at least three or four minutes before monitoring hello load.</span></span>

1. <span data-ttu-id="e40e8-193">Hola *PowerShell ISE*, abra Hola... \\Módulos de aprendizaje\\utilidades\\*LoadGenerator.ps1 demostración* secuencia de comandos.</span><span class="sxs-lookup"><span data-stu-id="e40e8-193">In hello *PowerShell ISE*, open hello ...\\Learning Modules\\Utilities\\*Demo-LoadGenerator.ps1* script.</span></span>
1. <span data-ttu-id="e40e8-194">Presione **F5** para ejecutar el script de Hola e iniciar el generador de carga de hello (deje Hola valores de parámetros predeterminados por ahora).</span><span class="sxs-lookup"><span data-stu-id="e40e8-194">Press **F5** to run hello script and start hello load generator (leave hello default parameter values for now).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="e40e8-195">toorun otras secuencias de comandos, abra una nueva ventana de PowerShell ISE.</span><span class="sxs-lookup"><span data-stu-id="e40e8-195">toorun other scripts, open a new PowerShell ISE window.</span></span> <span data-ttu-id="e40e8-196">Generador de carga de saludo se está ejecutando como una serie de trabajos en la sesión de PowerShell local.</span><span class="sxs-lookup"><span data-stu-id="e40e8-196">hello load generator is running as a series of jobs in your local PowerShell session.</span></span> <span data-ttu-id="e40e8-197">Hola *LoadGenerator.ps1 demostración* script inicia Hola carga real generador de comandos, que se ejecuta como una serie de trabajos en segundo plano generación de carga más de una tarea en primer plano.</span><span class="sxs-lookup"><span data-stu-id="e40e8-197">hello *Demo-LoadGenerator.ps1* script kicks off hello actual load generator script, which runs as a foreground task plus a series of background load-generation jobs.</span></span> <span data-ttu-id="e40e8-198">Un trabajo del generador de carga se invoca para cada base de datos registrado en el catálogo de Hola.</span><span class="sxs-lookup"><span data-stu-id="e40e8-198">A load-generator job is invoked for each database registered in hello catalog.</span></span> <span data-ttu-id="e40e8-199">Hola trabajos en ejecución en la sesión de PowerShell local, por lo que cerrar sesión de PowerShell de hello deja todos los trabajos.</span><span class="sxs-lookup"><span data-stu-id="e40e8-199">hello jobs are running in your local PowerShell session, so closing hello PowerShell session stops all jobs.</span></span> <span data-ttu-id="e40e8-200">Si se suspende el equipo, se pausa la generación de carga y se reanudará cuando reactive el equipo.</span><span class="sxs-lookup"><span data-stu-id="e40e8-200">If you suspend your machine, load generation is paused and will resume when you wake up your machine.</span></span>

<span data-ttu-id="e40e8-201">Una vez que el generador de carga de hello invoca trabajos de generación de carga para cada inquilino, tarea de primer plano de hello permanece en un estado de invocación de trabajo, donde se inicia trabajos en segundo plano adicionales para los nuevos inquilinos proporcionados posteriormente.</span><span class="sxs-lookup"><span data-stu-id="e40e8-201">Once hello load generator invokes load-generation jobs for each tenant, hello foreground task remains in a job-invoking state, where it starts additional background jobs for any new tenants that are subsequently provisioned.</span></span> <span data-ttu-id="e40e8-202">Puede usar *Ctrl-C* o presione hello *detener* tarea de primer plano de botón toostop hello, pero fondo existente los trabajos continuarán generar carga en cada base de datos.</span><span class="sxs-lookup"><span data-stu-id="e40e8-202">You can use *Ctrl-C* or press hello *Stop* button toostop hello foreground task, but existing background jobs will continue generating load on each database.</span></span> <span data-ttu-id="e40e8-203">Si necesita toomonitor y controlar los trabajos en segundo plano hello, use *Get-Job*, *Receive-Job* y *Stop-Job*.</span><span class="sxs-lookup"><span data-stu-id="e40e8-203">If you need toomonitor and control hello background jobs, use *Get-Job*, *Receive-Job* and *Stop-Job*.</span></span> <span data-ttu-id="e40e8-204">Mientras está ejecutando tarea de primer plano de hello no se use Hola mismo tooexecute de sesión de PowerShell otras secuencias de comandos.</span><span class="sxs-lookup"><span data-stu-id="e40e8-204">While hello foreground task is running you cannot use hello same PowerShell session tooexecute other scripts.</span></span> <span data-ttu-id="e40e8-205">toorun otras secuencias de comandos, abra una nueva ventana de PowerShell ISE.</span><span class="sxs-lookup"><span data-stu-id="e40e8-205">toorun other scripts, open a new PowerShell ISE window.</span></span>

<span data-ttu-id="e40e8-206">Si desea que la sesión del generador de carga de toorestart hello, por ejemplo con parámetros diferentes, puede detener tarea de primer plano de hello y, a continuación, vuelva a ejecutar hello *LoadGenerator.ps1 demostración* secuencia de comandos.</span><span class="sxs-lookup"><span data-stu-id="e40e8-206">If you want toorestart hello load generator session, for example with different parameters, you can stop hello foreground task and then re-run hello *Demo-LoadGenerator.ps1* script.</span></span> <span data-ttu-id="e40e8-207">Volver a ejecutar *LoadGenerator.ps1 demostración* primero detiene cualquier actualmente ejecuta trabajos y, a continuación, el generador de Hola de reinicios, que inicia un nuevo conjunto de trabajos con los parámetros actuales de Hola.</span><span class="sxs-lookup"><span data-stu-id="e40e8-207">Re-running *Demo-LoadGenerator.ps1* first stops any currently running jobs, and then restarts hello generator, which kicks off a new set of jobs using hello current parameters.</span></span>

<span data-ttu-id="e40e8-208">Por ahora, déjelo generador de carga de hello ejecutando en el estado de invocación de trabajo Hola.</span><span class="sxs-lookup"><span data-stu-id="e40e8-208">For now, leave hello load generator running in hello job-invoking state.</span></span>


## <a name="provision-a-new-tenant"></a><span data-ttu-id="e40e8-209">Aprovisionamiento de un nuevo inquilino</span><span class="sxs-lookup"><span data-stu-id="e40e8-209">Provision a new tenant</span></span>

<span data-ttu-id="e40e8-210">implementación inicial de Hello crea tres de los inquilinos de ejemplo, pero vamos a crear otro toosee inquilino cómo esto afecta a la aplicación hello implementado.</span><span class="sxs-lookup"><span data-stu-id="e40e8-210">hello initial deployment creates three sample tenants, but let’s create another tenant toosee how this impacts hello deployed application.</span></span> <span data-ttu-id="e40e8-211">flujo de trabajo de Hello inquilinos el aprovisionamiento de Wingtip SaaS se detalla en hello [tutorial aprovisionar y catálogo](sql-database-saas-tutorial-provision-and-catalog.md).</span><span class="sxs-lookup"><span data-stu-id="e40e8-211">hello Wingtip SaaS provisioning-tenants workflow is detailed in hello [Provision and catalog tutorial](sql-database-saas-tutorial-provision-and-catalog.md).</span></span> <span data-ttu-id="e40e8-212">En este paso, se crea rápidamente un inquilino.</span><span class="sxs-lookup"><span data-stu-id="e40e8-212">In this step, you quickly create a new tenant.</span></span>

1. <span data-ttu-id="e40e8-213">Abra... \\Modules\Provision de aprendizaje y catálogo\\*demostración ProvisionAndCatalog.ps1* en hello *PowerShell ISE*.</span><span class="sxs-lookup"><span data-stu-id="e40e8-213">Open ...\\Learning Modules\Provision and Catalog\\*Demo-ProvisionAndCatalog.ps1* in hello *PowerShell ISE*.</span></span>
1. <span data-ttu-id="e40e8-214">Presione **F5** para ejecutar el script de Hola (deje Hola predeterminada valores por ahora).</span><span class="sxs-lookup"><span data-stu-id="e40e8-214">Press **F5** to run hello script (leave hello default values for now).</span></span>

   > [!NOTE]
   > <span data-ttu-id="e40e8-215">Usan muchas secuencias de comandos de SaaS Wingtip *$PSScriptRoot* tooallow navegar por las funciones de toocall de carpetas en otros scripts.</span><span class="sxs-lookup"><span data-stu-id="e40e8-215">Many Wingtip SaaS scripts use *$PSScriptRoot* tooallow navigating folders toocall functions in other scripts.</span></span> <span data-ttu-id="e40e8-216">Esta variable se evalúa solo cuando se ejecuta el script de Hola presionando **F5**.</span><span class="sxs-lookup"><span data-stu-id="e40e8-216">This variable is only evaluated when hello script is executed by pressing **F5**.</span></span>  <span data-ttu-id="e40e8-217">Resaltar y ejecutar una selección (**F8**) puede dar lugar a errores, por tanto, presione **F5** al ejecutar los scripts.</span><span class="sxs-lookup"><span data-stu-id="e40e8-217">Highlighting and running a selection (**F8**) can result in errors, so press **F5** when running scripts.</span></span>

<span data-ttu-id="e40e8-218">base de datos nuevos inquilinos Hola se crea en un grupo elástico de SQL, inicializado y registra en el catálogo de Hola.</span><span class="sxs-lookup"><span data-stu-id="e40e8-218">hello new tenant database is created in a SQL elastic pool, initialized and registered in hello catalog.</span></span> <span data-ttu-id="e40e8-219">Después de aprovisionar correcta, nuevo inquilino de hello del vale de venta *eventos* sitio aparece en el explorador:</span><span class="sxs-lookup"><span data-stu-id="e40e8-219">After successful provisioning, hello new tenant's ticket-selling *Events* site appears in your browser:</span></span>

![Nuevo inquilino](./media/sql-database-saas-tutorial/red-maple-racing.png)

<span data-ttu-id="e40e8-221">Actualizar hello *concentrador de eventos* y nuevo inquilino de hello ahora no aparece en la lista de Hola.</span><span class="sxs-lookup"><span data-stu-id="e40e8-221">Refresh hello *Events Hub* and hello new tenant now appears in hello list.</span></span>


## <a name="explore-hello-servers-pools-and-tenant-databases"></a><span data-ttu-id="e40e8-222">Explorar servidores hello, grupos y las bases de datos de inquilinos</span><span class="sxs-lookup"><span data-stu-id="e40e8-222">Explore hello servers, pools, and tenant databases</span></span>

<span data-ttu-id="e40e8-223">Ahora que ha iniciado la ejecución de una carga en colección Hola de inquilinos, echemos un vistazo a algunos de los recursos de Hola que se implementaron:</span><span class="sxs-lookup"><span data-stu-id="e40e8-223">Now that you've started running a load against hello collection of tenants, let’s look at some of hello resources that were deployed:</span></span>

1. <span data-ttu-id="e40e8-224">En el [portal de Azure](http://portal.azure.com), busque tooyour lista de servidores SQL Server y abra el **catálogo -&lt;usuario&gt;**  server.</span><span class="sxs-lookup"><span data-stu-id="e40e8-224">In the [Azure portal](http://portal.azure.com), browse tooyour list of SQL servers and open the **catalog-&lt;USER&gt;** server.</span></span> <span data-ttu-id="e40e8-225">servidor de catálogo de Hello contiene dos bases de datos.</span><span class="sxs-lookup"><span data-stu-id="e40e8-225">hello catalog server contains two databases.</span></span> <span data-ttu-id="e40e8-226">Hola **tenantcatalog**, hello y **basetenantdb** (vacío *dorada* o copia de base de datos de plantilla que está toocreate nuevos inquilinos).</span><span class="sxs-lookup"><span data-stu-id="e40e8-226">hello **tenantcatalog**, and hello **basetenantdb** (an empty *golden* or template database that is copied toocreate new tenants).</span></span>

   ![bases de datos](./media/sql-database-saas-tutorial/databases.png)

1. <span data-ttu-id="e40e8-228">Vuelva tooyour lista de servidores SQL Server y abra hello **tenants1 -&lt;usuario&gt;**  servidor que hospeda las bases de datos del inquilino de Hola.</span><span class="sxs-lookup"><span data-stu-id="e40e8-228">Go back tooyour list of SQL servers and open hello **tenants1-&lt;USER&gt;** server that holds hello tenant databases.</span></span> <span data-ttu-id="e40e8-229">Todas las bases de datos de inquilinos son _elásticas estándar_ en un conjunto estándar de 50 eDTU.</span><span class="sxs-lookup"><span data-stu-id="e40e8-229">Each tenant database is an _Elastic Standard_ database in a 50 eDTU standard pool.</span></span> <span data-ttu-id="e40e8-230">Observe también hay un _arce rojo competir_ base de datos, base de datos de inquilinos de hello ha aprovisionado anteriormente.</span><span class="sxs-lookup"><span data-stu-id="e40e8-230">Also notice there is a _Red Maple Racing_ database, hello tenant database you provisioned previously.</span></span>

   ![Servidor](./media/sql-database-saas-tutorial/server.png)

## <a name="monitor-hello-pool"></a><span data-ttu-id="e40e8-232">Grupo de Hola de Monitor</span><span class="sxs-lookup"><span data-stu-id="e40e8-232">Monitor hello pool</span></span>

<span data-ttu-id="e40e8-233">Si se ha ejecutado el generador de carga de Hola durante varios minutos, suficiente datos deben estar disponible toostart observar algunos de hello las funciones integradas en grupos y las bases de datos de seguimiento.</span><span class="sxs-lookup"><span data-stu-id="e40e8-233">If hello load generator has been running for several minutes, enough data should be available toostart looking at some of hello monitoring capabilities built into pools and databases.</span></span>

1. <span data-ttu-id="e40e8-234">Examinar el servidor de toohello **tenants1 -&lt;usuario&gt;**y haga clic en **Pool1** para ver el uso de recursos para el grupo de hello (generador de carga de Hola se ejecutó durante una hora en hello después de gráficos) :</span><span class="sxs-lookup"><span data-stu-id="e40e8-234">Browse toohello server **tenants1-&lt;USER&gt;**, and click **Pool1** to view resource utilization for hello pool (hello load generator ran for an hour in hello following charts):</span></span>

   ![supervisar grupo](./media/sql-database-saas-tutorial/monitor-pool.png)

<span data-ttu-id="e40e8-236">Estos dos gráficos ilustran es el grado de idoneidad de los grupos elásticos y de SQL Database para las cargas de trabajo de una aplicación SaaS.</span><span class="sxs-lookup"><span data-stu-id="e40e8-236">What these two charts nicely illustrate, is how well suited elastic pools and SQL Database are for SaaS application workloads.</span></span> <span data-ttu-id="e40e8-237">Cuatro bases de datos que están entre irrupción tooas hasta 40 Edtu fácilmente admitidos en un grupo de eDTU de 50.</span><span class="sxs-lookup"><span data-stu-id="e40e8-237">Four databases that are each bursting tooas much as 40 eDTUs are easily being supported in a 50 eDTU pool.</span></span> <span data-ttu-id="e40e8-238">Si ya se han aprovisionado como bases de datos independiente, desean contar con cada toobe necesita un S2 (50 DTU) toosupport Hola ráfagas.</span><span class="sxs-lookup"><span data-stu-id="e40e8-238">If they were provisioned as standalone databases, they would each need toobe an S2 (50 DTU) toosupport hello bursts.</span></span> <span data-ttu-id="e40e8-239">costo de Hola de bases de datos de 4 independiente S2 sería precio de hello casi 3 veces de grupo de Hola y grupo Hola todavía tiene una gran cantidad de espacio en cabeza para muchas bases de datos más.</span><span class="sxs-lookup"><span data-stu-id="e40e8-239">hello cost of 4 standalone S2 databases would be nearly 3 times hello price of hello pool, and hello pool still has plenty of headroom for many more databases.</span></span> <span data-ttu-id="e40e8-240">En situaciones del mundo real, los clientes de la base de datos SQL se están ejecutando actualmente seguridad too500 bases de datos en grupos de eDTU 200.</span><span class="sxs-lookup"><span data-stu-id="e40e8-240">In real-world situations, SQL Database customers are currently running up too500 databases in 200 eDTU pools.</span></span> <span data-ttu-id="e40e8-241">Para obtener más información, vea hello [tutorial de supervisión de rendimiento](sql-database-saas-tutorial-performance-monitoring.md).</span><span class="sxs-lookup"><span data-stu-id="e40e8-241">For more information, see hello [performance monitoring tutorial](sql-database-saas-tutorial-performance-monitoring.md).</span></span>


## <a name="next-steps"></a><span data-ttu-id="e40e8-242">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="e40e8-242">Next steps</span></span>

<span data-ttu-id="e40e8-243">En este tutorial ha obtenido información:</span><span class="sxs-lookup"><span data-stu-id="e40e8-243">In this tutorial you learned:</span></span>

> [!div class="checklist"]

> * <span data-ttu-id="e40e8-244">¿Cómo toodeploy Hola aplicación Wingtip SaaS</span><span class="sxs-lookup"><span data-stu-id="e40e8-244">How toodeploy hello Wingtip SaaS application</span></span>
> * <span data-ttu-id="e40e8-245">Acerca de los servidores de hello, los grupos y las bases de datos que forman la aplicación hello</span><span class="sxs-lookup"><span data-stu-id="e40e8-245">About hello servers, pools, and databases that make up hello app</span></span>
> * <span data-ttu-id="e40e8-246">Los inquilinos son datos tootheir asignada con hello *catálogo*</span><span class="sxs-lookup"><span data-stu-id="e40e8-246">Tenants are mapped tootheir data with hello *catalog*</span></span>
> * <span data-ttu-id="e40e8-247">¿Cómo tooprovision nuevos inquilinos</span><span class="sxs-lookup"><span data-stu-id="e40e8-247">How tooprovision new tenants</span></span>
> * <span data-ttu-id="e40e8-248">¿Cómo tooview grupo uso toomonitor inquilino actividad</span><span class="sxs-lookup"><span data-stu-id="e40e8-248">How tooview pool utilization toomonitor tenant activity</span></span>
> * <span data-ttu-id="e40e8-249">¿Cómo toostop de recursos de ejemplo toodelete relacionados con la facturación</span><span class="sxs-lookup"><span data-stu-id="e40e8-249">How toodelete sample resources toostop related billing</span></span>

<span data-ttu-id="e40e8-250">Ahora, intente hello [tutorial aprovisionar y catálogo](sql-database-saas-tutorial-provision-and-catalog.md)</span><span class="sxs-lookup"><span data-stu-id="e40e8-250">Now try hello [Provision and catalog tutorial](sql-database-saas-tutorial-provision-and-catalog.md)</span></span>



## <a name="additional-resources"></a><span data-ttu-id="e40e8-251">Recursos adicionales</span><span class="sxs-lookup"><span data-stu-id="e40e8-251">Additional resources</span></span>

* <span data-ttu-id="e40e8-252">Adicionales [tutoriales que se basan en Hola aplicación Wingtip SaaS](sql-database-wtp-overview.md#sql-database-wingtip-saas-tutorials)</span><span class="sxs-lookup"><span data-stu-id="e40e8-252">Additional [tutorials that build on hello Wingtip SaaS application](sql-database-wtp-overview.md#sql-database-wingtip-saas-tutorials)</span></span>
* <span data-ttu-id="e40e8-253">toolearn sobre grupos elásticos, consulte [ *¿qué es un grupo elástico de SQL Azure*](https://docs.microsoft.com/azure/sql-database/sql-database-elastic-pool)</span><span class="sxs-lookup"><span data-stu-id="e40e8-253">toolearn about elastic pools, see [*What is an Azure SQL elastic pool*](https://docs.microsoft.com/azure/sql-database/sql-database-elastic-pool)</span></span>
* <span data-ttu-id="e40e8-254">toolearn acerca de los trabajos elásticos, consulte [ *bases de datos de escala horizontal en la nube de administración*](https://docs.microsoft.com/azure/sql-database/sql-database-elastic-jobs-overview)</span><span class="sxs-lookup"><span data-stu-id="e40e8-254">toolearn about elastic jobs, see [*Managing scaled-out cloud databases*](https://docs.microsoft.com/azure/sql-database/sql-database-elastic-jobs-overview)</span></span>
* <span data-ttu-id="e40e8-255">toolearn acerca de las aplicaciones SaaS de varios inquilinos, consulte [ *diseñar modelos para las aplicaciones SaaS de varios inquilinos*](https://docs.microsoft.com/azure/sql-database/sql-database-design-patterns-multi-tenancy-saas-applications)</span><span class="sxs-lookup"><span data-stu-id="e40e8-255">toolearn about multi-tenant SaaS applications, see [*Design patterns for multi-tenant SaaS applications*](https://docs.microsoft.com/azure/sql-database/sql-database-design-patterns-multi-tenancy-saas-applications)</span></span>
