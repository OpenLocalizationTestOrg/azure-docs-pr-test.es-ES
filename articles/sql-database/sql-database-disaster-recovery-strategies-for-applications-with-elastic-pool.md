---
title: "soluciones de recuperación ante desastres de aaaDesign - base de datos de SQL de Azure | Documentos de Microsoft"
description: "Obtenga información acerca de cómo toodesign la solución de nube para la recuperación ante desastres eligiendo el patrón de hello derecho de conmutación por error."
services: sql-database
documentationcenter: 
author: anosov1960
manager: jhubbard
editor: monicar
ms.assetid: 2db99057-0c79-4fb0-a7f1-d1c057ec787f
ms.service: sql-database
ms.custom: business continuity
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 04/07/2017
ms.author: sashan;carlrab
ms.openlocfilehash: 9d9eca7570c7a01c992d0b33d449721709b471c3
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="disaster-recovery-strategies-for-applications-using-sql-database-elastic-pools"></a><span data-ttu-id="290e0-103">Estrategias de recuperación ante desastres para aplicaciones que usan grupos elásticos de SQL Database</span><span class="sxs-lookup"><span data-stu-id="290e0-103">Disaster recovery strategies for applications using SQL Database elastic pools</span></span>
<span data-ttu-id="290e0-104">Durante años de Hola hemos hemos visto que Servicios de nube no son infalible y producen incidentes catastróficos.</span><span class="sxs-lookup"><span data-stu-id="290e0-104">Over hello years we have learned that cloud services are not foolproof and catastrophic incidents happen.</span></span> <span data-ttu-id="290e0-105">Base de datos SQL proporciona varios tooprovide capacidades de continuidad del negocio hello de la aplicación cuando se producen estos incidentes.</span><span class="sxs-lookup"><span data-stu-id="290e0-105">SQL Database provides several capabilities tooprovide for hello business continuity of your application when these incidents occur.</span></span> <span data-ttu-id="290e0-106">[Grupos elásticos](sql-database-elastic-pool.md) y bases de datos solo admiten Hola mismo tipo de recuperación de desastres.</span><span class="sxs-lookup"><span data-stu-id="290e0-106">[Elastic pools](sql-database-elastic-pool.md) and single databases support hello same kind of disaster recovery capabilities.</span></span> <span data-ttu-id="290e0-107">En este artículo se describen varias estrategias de recuperación ante desastres para grupos elásticos que sacan partido a esas características de continuidad de negocio de Base de datos SQL.</span><span class="sxs-lookup"><span data-stu-id="290e0-107">This article describes several DR strategies for elastic pools that leverage these SQL Database business continuity features.</span></span>

<span data-ttu-id="290e0-108">Este artículo usa Hola siguiendo el patrón de aplicación de ISV de SaaS canónico:</span><span class="sxs-lookup"><span data-stu-id="290e0-108">This article uses hello following canonical SaaS ISV application pattern:</span></span>

<span data-ttu-id="290e0-109"><i>Una aplicación web modernos basados en la nube aprovisiona una base de datos SQL para cada usuario final. Hola ISV tiene muchos clientes y, por tanto, utiliza muchas bases de datos, conocidas como bases de datos de inquilino. Ya que las bases de datos del inquilino de hello normalmente tienen patrones de actividad imprevisible, Hola ISV usa un costo de base de datos de grupo elástico toomake Hola muy predecible durante períodos ampliados de tiempo. grupo elástico Hello también simplifica la administración del rendimiento de hello cuando pico de actividad de usuario de hello. Además la aplicación hello de toohello inquilino bases de datos también utiliza varias bases de datos toomanage los perfiles de usuario, seguridad, recopilan etcetera los patrones de uso. Disponibilidad de inquilinos individuales de hello no afecta a la disponibilidad de la aplicación hello como todo. Sin embargo, hello disponibilidad y el rendimiento de las bases de datos de administración es fundamentales para la función de la aplicación hello y si las bases de datos de administración de hello son Hola sin conexión de la aplicación completa está sin conexión.</i></span><span class="sxs-lookup"><span data-stu-id="290e0-109"><i>A modern cloud-based web application provisions one SQL database for each end user. hello ISV has many customers and therefore uses many databases, known as tenant databases. Because hello tenant databases typically have unpredictable activity patterns, hello ISV uses an elastic pool toomake hello database cost very predictable over extended periods of time. hello elastic pool also simplifies hello performance management when hello user activity spikes. In addition toohello tenant databases hello application also uses several databases toomanage user profiles, security, collect usage patterns etc. Availability of hello individual tenants does not impact hello application’s availability as whole. However, hello availability and performance of management databases is critical for hello application’s function and if hello management databases are offline hello entire application is offline.</i></span></span>  

<span data-ttu-id="290e0-110">En este artículo se describe las estrategias de recuperación ante desastres que abarcan una variedad de escenarios de costo inicio confidencial aplicaciones tooones con requisitos estrictos de disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="290e0-110">This article discusses DR strategies covering a range of scenarios from cost sensitive startup applications tooones with stringent availability requirements.</span></span>

## <a name="scenario-1-cost-sensitive-startup"></a><span data-ttu-id="290e0-111">Escenario 1.</span><span class="sxs-lookup"><span data-stu-id="290e0-111">Scenario 1.</span></span> <span data-ttu-id="290e0-112">Inicio sensible al costo</span><span class="sxs-lookup"><span data-stu-id="290e0-112">Cost sensitive startup</span></span>
<span data-ttu-id="290e0-113"><i>Acabo de crear una empresa y me preocupan sobremanera los costos.  Desea toosimplify implementación y administración de la aplicación hello y ¿tengo un SLA limitado para los clientes individuales. Pero desea aplicación hello de tooensure como un todo nunca está sin conexión.</i></span><span class="sxs-lookup"><span data-stu-id="290e0-113"><i>I am a startup business and am extremely cost sensitive.  I want toosimplify deployment and management of hello application and I can have a limited SLA for individual customers. But I want tooensure hello application as a whole is never offline.</i></span></span>

<span data-ttu-id="290e0-114">requisito de toosatisfy Hola simplicidad, implementar todas las bases de datos de inquilino en un grupo elástico Hola región de Azure de su elección e implementar bases de datos de administración como la replicación geográfica de las bases de datos únicos.</span><span class="sxs-lookup"><span data-stu-id="290e0-114">toosatisfy hello simplicity requirement, deploy all tenant databases into one elastic pool in hello Azure region of your choice and deploy management databases as geo-replicated single databases.</span></span> <span data-ttu-id="290e0-115">Para la recuperación ante desastres de Hola de inquilinos, use la restauración geográfica, que se incluye sin costo adicional alguno.</span><span class="sxs-lookup"><span data-stu-id="290e0-115">For hello disaster recovery of tenants, use geo-restore, which comes at no additional cost.</span></span> <span data-ttu-id="290e0-116">disponibilidad de hello tooensure de Hola bases de datos de administración, replicar geográficamente ellos región tooanother uso de un grupo de conmutación por error automática (en vista previa) (paso 1).</span><span class="sxs-lookup"><span data-stu-id="290e0-116">tooensure hello availability of hello management databases, geo-replicate them tooanother region using an auto-failover group (in-preview) (step 1).</span></span> <span data-ttu-id="290e0-117">costo actual de Hola de configuración de recuperación ante desastres de hello en este escenario es toohello igual costo total de bases de datos secundarias de Hola.</span><span class="sxs-lookup"><span data-stu-id="290e0-117">hello ongoing cost of hello disaster recovery configuration in this scenario is equal toohello total cost of hello secondary databases.</span></span> <span data-ttu-id="290e0-118">Esta configuración se muestra en el diagrama siguiente Hola.</span><span class="sxs-lookup"><span data-stu-id="290e0-118">This configuration is illustrated on hello next diagram.</span></span>

![En la Ilustración 1](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-1.png)

<span data-ttu-id="290e0-120">Si se produce una interrupción en la región principal de hello, Hola toobring de pasos de recuperación se ilustran la aplicación en línea con un diagrama siguiente Hola.</span><span class="sxs-lookup"><span data-stu-id="290e0-120">If an outage occurs in hello primary region, hello recovery steps toobring your application online are illustrated by hello next diagram.</span></span>

* <span data-ttu-id="290e0-121">grupo de conmutación por error de Hello inicia la conmutación automática por error de región de recuperación ante desastres de toohello de hello administración base de datos.</span><span class="sxs-lookup"><span data-stu-id="290e0-121">hello failover group initiates automatic failover of hello management database toohello DR region.</span></span> <span data-ttu-id="290e0-122">aplicación Hello es toohello reconectada automáticamente nuevas principal y todas las nuevas cuentas y las bases de datos de inquilinos se crean en la región de recuperación ante desastres de Hola.</span><span class="sxs-lookup"><span data-stu-id="290e0-122">hello application is automatically reconnected toohello new primary and all new accounts and tenant databases are created in hello DR region.</span></span> <span data-ttu-id="290e0-123">los clientes existentes de Hello verán sus datos no está disponibles temporalmente.</span><span class="sxs-lookup"><span data-stu-id="290e0-123">hello existing customers see their data temporarily unavailable.</span></span>
* <span data-ttu-id="290e0-124">Crear grupo elástico Hola con hello misma configuración que el grupo original de hello (2).</span><span class="sxs-lookup"><span data-stu-id="290e0-124">Create hello elastic pool with hello same configuration as hello original pool (2).</span></span>
* <span data-ttu-id="290e0-125">Utilizar la restauración geográfica toocreate copias de bases de datos de inquilino de hello (3).</span><span class="sxs-lookup"><span data-stu-id="290e0-125">Use geo-restore toocreate copies of hello tenant databases (3).</span></span> <span data-ttu-id="290e0-126">Puede considerar desencadenar restauraciones individuales hello las conexiones de usuario final de Hola o utilizar algún otro esquema de prioridad específica de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="290e0-126">You can consider triggering hello individual restores by hello end-user connections or use some other application-specific priority scheme.</span></span>


<span data-ttu-id="290e0-127">En este momento la aplicación está vuelve a estar conectada en la región de recuperación ante desastres de hello, pero algunos clientes experimentan retraso al tener acceso a sus datos.</span><span class="sxs-lookup"><span data-stu-id="290e0-127">At this point your application is back online in hello DR region, but some customers experience delay when accessing their data.</span></span>

![Ilustración 2](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-2.png)

<span data-ttu-id="290e0-129">Si la interrupción de hello era temporal, es posible que esa región principal Hola se recuperarán a Azure antes de que todas las restauraciones de base de datos de hello están completadas en la región de hello recuperación ante desastres.</span><span class="sxs-lookup"><span data-stu-id="290e0-129">If hello outage was temporary, it is possible that hello primary region is recovered by Azure before all hello database restores are complete in hello DR region.</span></span> <span data-ttu-id="290e0-130">En este caso, organizar móvil región principal de hello aplicación toohello atrás.</span><span class="sxs-lookup"><span data-stu-id="290e0-130">In this case, orchestrate moving hello application back toohello primary region.</span></span> <span data-ttu-id="290e0-131">proceso de Hello lleva a cabo los pasos de Hola se muestra en el diagrama siguiente Hola.</span><span class="sxs-lookup"><span data-stu-id="290e0-131">hello process takes hello steps illustrated on hello next diagram.</span></span>

* <span data-ttu-id="290e0-132">Cancele todas las solicitudes de restauración geográfica pendientes.</span><span class="sxs-lookup"><span data-stu-id="290e0-132">Cancel all outstanding geo-restore requests.</span></span>   
* <span data-ttu-id="290e0-133">Conmutar por región principal bases de datos toohello administración de hello (5).</span><span class="sxs-lookup"><span data-stu-id="290e0-133">Fail over hello management databases toohello primary region (5).</span></span> <span data-ttu-id="290e0-134">Después de la recuperación de la región de hello, los elementos antiguos Hola automáticamente han convertido en secundarias.</span><span class="sxs-lookup"><span data-stu-id="290e0-134">After hello region’s recovery, hello old primaries have automatically become secondaries.</span></span> <span data-ttu-id="290e0-135">Ahora vuelven a cambiar los roles.</span><span class="sxs-lookup"><span data-stu-id="290e0-135">Now they switch roles again.</span></span> 
* <span data-ttu-id="290e0-136">Cambiar la región principal de la aplicación hello conexión cadena toopoint toohello atrás.</span><span class="sxs-lookup"><span data-stu-id="290e0-136">Change hello application's connection string toopoint back toohello primary region.</span></span> <span data-ttu-id="290e0-137">Ahora todas las cuentas nuevas y las bases de datos de inquilinos se crean en la región principal de Hola.</span><span class="sxs-lookup"><span data-stu-id="290e0-137">Now all new accounts and tenant databases are created in hello primary region.</span></span> <span data-ttu-id="290e0-138">Algunos clientes existentes verán que sus datos no están disponibles temporalmente.</span><span class="sxs-lookup"><span data-stu-id="290e0-138">Some existing customers see their data temporarily unavailable.</span></span>   
* <span data-ttu-id="290e0-139">Establecer todas las bases de datos en hello DR grupo solo tooread tooensure que no se puede modificar en la región de recuperación ante desastres de hello (6).</span><span class="sxs-lookup"><span data-stu-id="290e0-139">Set all databases in hello DR pool tooread-only tooensure they cannot be modified in hello DR region (6).</span></span> 
* <span data-ttu-id="290e0-140">Para cada base de datos en el grupo de recuperación ante desastres que ha cambiado desde la recuperación de Hola Hola, cambie el nombre o eliminar bases de datos correspondientes de hello en el grupo principal de hello (7).</span><span class="sxs-lookup"><span data-stu-id="290e0-140">For each database in hello DR pool that has changed since hello recovery, rename or delete hello corresponding databases in hello primary pool (7).</span></span> 
* <span data-ttu-id="290e0-141">Hola copia actualiza bases de datos de hello conjunto principal de toohello de grupo de recuperación ante desastres (8).</span><span class="sxs-lookup"><span data-stu-id="290e0-141">Copy hello updated databases from hello DR pool toohello primary pool (8).</span></span> 
* <span data-ttu-id="290e0-142">Eliminar grupo de recuperación ante desastres de hello (9)</span><span class="sxs-lookup"><span data-stu-id="290e0-142">Delete hello DR pool (9)</span></span>

<span data-ttu-id="290e0-143">En este momento la aplicación está en línea en la región principal de Hola a todos los inquilinos bases de datos disponibles en el grupo principal de Hola.</span><span class="sxs-lookup"><span data-stu-id="290e0-143">At this point your application is online in hello primary region with all tenant databases available in hello primary pool.</span></span>

![Ilustración 3](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-3.png)

<span data-ttu-id="290e0-145">clave de Hello **beneficiarse** de esta estrategia es de bajo coste en curso para la redundancia de nivel de datos.</span><span class="sxs-lookup"><span data-stu-id="290e0-145">hello key **benefit** of this strategy is low ongoing cost for data tier redundancy.</span></span> <span data-ttu-id="290e0-146">Las copias de seguridad se realizan automáticamente por hello servicio de base de datos de SQL con ninguna aplicación de reescritura y sin costo adicional alguno.</span><span class="sxs-lookup"><span data-stu-id="290e0-146">Backups are taken automatically by hello SQL Database service with no application rewrite and at no additional cost.</span></span>  <span data-ttu-id="290e0-147">Hola se incurre solo cuando se restauran las bases de datos elástica Hola.</span><span class="sxs-lookup"><span data-stu-id="290e0-147">hello cost is incurred only when hello elastic databases are restored.</span></span> <span data-ttu-id="290e0-148">Hola **equilibrio** es que la recuperación completa de Hola de todas las bases de datos de inquilino tarda mucho tiempo.</span><span class="sxs-lookup"><span data-stu-id="290e0-148">hello **trade-off** is that hello complete recovery of all tenant databases takes significant time.</span></span> <span data-ttu-id="290e0-149">Hello período de tiempo depende Hola número total de la restauración iniciar Hola recuperación ante desastres de región y el tamaño total de hello las bases de datos de inquilinos.</span><span class="sxs-lookup"><span data-stu-id="290e0-149">hello length of time depends on hello total number of restores you initiate in hello DR region and overall size of hello tenant databases.</span></span> <span data-ttu-id="290e0-150">Incluso si se da prioridad a restauraciones algunos inquilinos sobre otras, debe competir con hello todos los otros restauraciones que se inician en Hola misma región como servicio de hello arbitra y limita toominimize Hola impacto global en las bases de datos de hello los clientes existentes.</span><span class="sxs-lookup"><span data-stu-id="290e0-150">Even if you prioritize some tenants' restores over others, you are competing with all hello other restores that are initiated in hello same region as hello service arbitrates and throttles toominimize hello overall impact on hello existing customers' databases.</span></span> <span data-ttu-id="290e0-151">Además, no se puede iniciar recuperación Hola de bases de datos de inquilino de hello hasta que se cree el nuevo grupo elástico hello en la región de recuperación ante desastres de Hola.</span><span class="sxs-lookup"><span data-stu-id="290e0-151">In addition, hello recovery of hello tenant databases cannot start until hello new elastic pool in hello DR region is created.</span></span>

## <a name="scenario-2-mature-application-with-tiered-service"></a><span data-ttu-id="290e0-152">Escenario 2.</span><span class="sxs-lookup"><span data-stu-id="290e0-152">Scenario 2.</span></span> <span data-ttu-id="290e0-153">Aplicación madura con servicio en capas</span><span class="sxs-lookup"><span data-stu-id="290e0-153">Mature application with tiered service</span></span>
<span data-ttu-id="290e0-154"><i>Tengo una aplicación de SaaS desarrollada con ofertas de servicio en capas y distintos Acuerdos de Nivel de Servicio para clientes de versiones de prueba y de pago. Para los clientes de prueba de hello, tengo tooreduce Hola costo tanto como sea posible. Clientes de prueba pueden tardar un tiempo de inactividad, pero deseo tooreduce su probabilidad. Para los clientes que pagan de hello, los tiempos de inactividad es un riesgo de vuelo. Por lo que deseo toomake Asegúrese de que los clientes que pagan siempre son tooaccess capaz de sus datos.</i></span><span class="sxs-lookup"><span data-stu-id="290e0-154"><i>I am a mature SaaS application with tiered service offers and different SLAs for trial customers and for paying customers. For hello trial customers, I have tooreduce hello cost as much as possible. Trial customers can take downtime but I want tooreduce its likelihood. For hello paying customers, any downtime is a flight risk. So I want toomake sure that paying customers are always able tooaccess their data.</i></span></span> 

<span data-ttu-id="290e0-155">toosupport este escenario, independiente Hola inquilinos de prueba de pago, los inquilinos colocándolos en diferentes grupos elásticos.</span><span class="sxs-lookup"><span data-stu-id="290e0-155">toosupport this scenario, separate hello trial tenants from paid tenants by putting them into separate elastic pools.</span></span> <span data-ttu-id="290e0-156">los clientes de prueba de Hello tienen inferior eDTU por inquilino y SLA inferior con un tiempo de recuperación.</span><span class="sxs-lookup"><span data-stu-id="290e0-156">hello trial customers have lower eDTU per tenant and lower SLA with a longer recovery time.</span></span> <span data-ttu-id="290e0-157">los clientes que pagan Hola están en un grupo con mayor eDTU por inquilino y un SLA superior.</span><span class="sxs-lookup"><span data-stu-id="290e0-157">hello paying customers are in a pool with higher eDTU per tenant and a higher SLA.</span></span> <span data-ttu-id="290e0-158">tooguarantee Hola menor tiempo de recuperación de, las bases de datos del inquilino de hello pago los clientes tienen replicación geográfica.</span><span class="sxs-lookup"><span data-stu-id="290e0-158">tooguarantee hello lowest recovery time, hello paying customers' tenant databases are geo-replicated.</span></span> <span data-ttu-id="290e0-159">Esta configuración se muestra en el diagrama siguiente Hola.</span><span class="sxs-lookup"><span data-stu-id="290e0-159">This configuration is illustrated on hello next diagram.</span></span> 

![Ilustración 4](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-4.png)

<span data-ttu-id="290e0-161">Como en el primer escenario hello, bases de datos de administración de hello están muy activas, por lo que usar una sola base de datos replicadas geográficamente para él (1).</span><span class="sxs-lookup"><span data-stu-id="290e0-161">As in hello first scenario, hello management databases are quite active so you use a single geo-replicated database for it (1).</span></span> <span data-ttu-id="290e0-162">Esto garantiza un rendimiento predecible Hola para nuevas suscripciones de cliente, las actualizaciones de perfiles y otras operaciones de administración.</span><span class="sxs-lookup"><span data-stu-id="290e0-162">This ensures hello predictable performance for new customer subscriptions, profile updates, and other management operations.</span></span> <span data-ttu-id="290e0-163">Hello en el que residen primarios Hola de bases de datos de administración de Hola Hola principal región está y hello en el que residen secundarias Hola de bases de datos de administración de Hola Hola DR región está.</span><span class="sxs-lookup"><span data-stu-id="290e0-163">hello region in which hello primaries of hello management databases reside is hello primary region and hello region in which hello secondaries of hello management databases reside is hello DR region.</span></span>

<span data-ttu-id="290e0-164">Hello las bases de datos del inquilino de pago de los clientes tienen bases de datos activas en hello "pago" grupo aprovisionado en la región principal de Hola.</span><span class="sxs-lookup"><span data-stu-id="290e0-164">hello paying customers’ tenant databases have active databases in hello “paid” pool provisioned in hello primary region.</span></span> <span data-ttu-id="290e0-165">Aprovisionar un grupo secundario con hello mismo nombre en la región de hello recuperación ante desastres.</span><span class="sxs-lookup"><span data-stu-id="290e0-165">Provision a secondary pool with hello same name in hello DR region.</span></span> <span data-ttu-id="290e0-166">Cada inquilino es grupo de replicación geográfica toohello secundaria (2).</span><span class="sxs-lookup"><span data-stu-id="290e0-166">Each tenant is geo-replicated toohello secondary pool (2).</span></span> <span data-ttu-id="290e0-167">Esto permite una recuperación rápida de todas las bases de datos de inquilino mediante la conmutación por error.</span><span class="sxs-lookup"><span data-stu-id="290e0-167">This enables quick recovery of all tenant databases using failover.</span></span> 

<span data-ttu-id="290e0-168">Si se produce una interrupción en la región principal de hello, Hola toobring de pasos de recuperación en línea la aplicación se ilustran en el diagrama siguiente hello:</span><span class="sxs-lookup"><span data-stu-id="290e0-168">If an outage occurs in hello primary region, hello recovery steps toobring your application online are illustrated in hello next diagram:</span></span>

![Ilustración 5.](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-5.png)

* <span data-ttu-id="290e0-170">Conmutar inmediatamente por región de recuperación ante desastres de hello administración bases de datos toohello (3).</span><span class="sxs-lookup"><span data-stu-id="290e0-170">Immediately fail over hello management databases toohello DR region (3).</span></span>
* <span data-ttu-id="290e0-171">Cambiar región de la aplicación hello conexión cadena toopoint toohello recuperación ante desastres.</span><span class="sxs-lookup"><span data-stu-id="290e0-171">Change hello application’s connection string toopoint toohello DR region.</span></span> <span data-ttu-id="290e0-172">Ahora todas las cuentas nuevas y las bases de datos de inquilinos se crean en el área de recuperación ante desastres de Hola.</span><span class="sxs-lookup"><span data-stu-id="290e0-172">Now all new accounts and tenant databases are created in hello DR region.</span></span> <span data-ttu-id="290e0-173">los clientes de prueba existentes de Hello verán sus datos no está disponibles temporalmente.</span><span class="sxs-lookup"><span data-stu-id="290e0-173">hello existing trial customers see their data temporarily unavailable.</span></span>
* <span data-ttu-id="290e0-174">Conmutar por error Hola pago toohello grupo de bases de datos del inquilino en hello DR región tooimmediately restaurar su disponibilidad (4).</span><span class="sxs-lookup"><span data-stu-id="290e0-174">Fail over hello paid tenant's databases toohello pool in hello DR region tooimmediately restore their availability (4).</span></span> <span data-ttu-id="290e0-175">Puesto que Hola conmutación por error es un cambio del nivel de metadatos rápido, considere la posibilidad de una optimización donde se activan Hola individuales, las conmutaciones por error a petición por las conexiones de usuario final de Hola.</span><span class="sxs-lookup"><span data-stu-id="290e0-175">Since hello failover is a quick metadata level change, consider an optimization where hello individual failovers are triggered on demand by hello end-user connections.</span></span> 
* <span data-ttu-id="290e0-176">Si el tamaño del grupo secundario de eDTU ha sido inferior a Hola principal porque Hola bases de datos secundarias solo Hola requiere capacidad tooprocess Hola cambio registros mientras estaban elementos secundarios, inmediatamente aumentar la capacidad del grupo de hello ahora tooaccommodate Hola completa carga de trabajo de todos los inquilinos (5).</span><span class="sxs-lookup"><span data-stu-id="290e0-176">If your secondary pool eDTU size was lower than hello primary because hello secondary databases only required hello capacity tooprocess hello change logs while they were secondaries, immediately increase hello pool capacity now tooaccommodate hello full workload of all tenants (5).</span></span> 
* <span data-ttu-id="290e0-177">Crear nuevo grupo de elástico de hello con hello mismo nombre y Hola misma configuración de región de hello recuperación ante desastres para bases de datos de hello prueba los clientes (6).</span><span class="sxs-lookup"><span data-stu-id="290e0-177">Create hello new elastic pool with hello same name and hello same configuration in hello DR region for hello trial customers' databases (6).</span></span> 
* <span data-ttu-id="290e0-178">Una vez que se crea el grupo de hello prueba los clientes, utilizar bases de datos de la restauración geográfica toorestore Hola inquilino de prueba individual en el nuevo grupo de hello (7).</span><span class="sxs-lookup"><span data-stu-id="290e0-178">Once hello trial customers’ pool is created, use geo-restore toorestore hello individual trial tenant databases into hello new pool (7).</span></span> <span data-ttu-id="290e0-179">Considere la posibilidad de activar restauraciones individuales hello las conexiones de usuario final de Hola o utilizar algún otro esquema de prioridad específica de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="290e0-179">Consider triggering hello individual restores by hello end-user connections or use some other application-specific priority scheme.</span></span>

<span data-ttu-id="290e0-180">En este momento la aplicación está vuelve a estar conectada en la región de recuperación ante desastres de Hola.</span><span class="sxs-lookup"><span data-stu-id="290e0-180">At this point your application is back online in hello DR region.</span></span> <span data-ttu-id="290e0-181">Todos los clientes que pagan tienen acceso a datos de tootheir mientras los clientes de prueba de hello experimentar retraso al tener acceso a sus datos.</span><span class="sxs-lookup"><span data-stu-id="290e0-181">All paying customers have access tootheir data while hello trial customers experience delay when accessing their data.</span></span>

<span data-ttu-id="290e0-182">Cuando se recupera la región principal de hello Azure *después* se haya restaurado la aplicación hello en región Hola DR puede continuar ejecutando la aplicación hello en dicha región. también puede optar región principal de toofail toohello atrás.</span><span class="sxs-lookup"><span data-stu-id="290e0-182">When hello primary region is recovered by Azure *after* you have restored hello application in hello DR region you can continue running hello application in that region or you can decide toofail back toohello primary region.</span></span> <span data-ttu-id="290e0-183">Si se recupera la región principal de hello *antes de* se completa el proceso de conmutación por error de Hola, considere la posibilidad de errores de copia de forma inmediata.</span><span class="sxs-lookup"><span data-stu-id="290e0-183">If hello primary region is recovered *before* hello failover process is completed, consider failing back right away.</span></span> <span data-ttu-id="290e0-184">conmutación por recuperación de Hello lleva a cabo los pasos de Hola se muestra en el diagrama siguiente hello:</span><span class="sxs-lookup"><span data-stu-id="290e0-184">hello failback takes hello steps illustrated in hello next diagram:</span></span> 

![Ilustración 6.](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-6.png)

* <span data-ttu-id="290e0-186">Cancele todas las solicitudes de restauración geográfica pendientes.</span><span class="sxs-lookup"><span data-stu-id="290e0-186">Cancel all outstanding geo-restore requests.</span></span>   
* <span data-ttu-id="290e0-187">Conmutar por error bases de datos de administración de hello (8).</span><span class="sxs-lookup"><span data-stu-id="290e0-187">Fail over hello management databases (8).</span></span> <span data-ttu-id="290e0-188">Después de la recuperación de la región de hello, hello antiguo principal pone automáticamente Hola secundaria.</span><span class="sxs-lookup"><span data-stu-id="290e0-188">After hello region’s recovery, hello old primary automatically become hello secondary.</span></span> <span data-ttu-id="290e0-189">Ahora se convierte en Hola principal nuevo.</span><span class="sxs-lookup"><span data-stu-id="290e0-189">Now it becomes hello primary again.</span></span>  
* <span data-ttu-id="290e0-190">Conmutar por error Hola pagada bases de datos de inquilino (9).</span><span class="sxs-lookup"><span data-stu-id="290e0-190">Fail over hello paid tenant databases (9).</span></span> <span data-ttu-id="290e0-191">Del mismo modo, después de la recuperación de la región de hello, primarios antiguo Hola pone automáticamente secundarias Hola.</span><span class="sxs-lookup"><span data-stu-id="290e0-191">Similarly, after hello region’s recovery, hello old primaries automatically become hello secondaries.</span></span> <span data-ttu-id="290e0-192">Ahora vuelven a ser primarios Hola.</span><span class="sxs-lookup"><span data-stu-id="290e0-192">Now they become hello primaries again.</span></span> 
* <span data-ttu-id="290e0-193">Conjunto Hola restaura bases de datos de prueba que han cambiado en la región de recuperación ante desastres de hello solo tooread (10).</span><span class="sxs-lookup"><span data-stu-id="290e0-193">Set hello restored trial databases that have changed in hello DR region tooread-only (10).</span></span>
* <span data-ttu-id="290e0-194">Para cada base de datos en el grupo de recuperación ante desastres de clientes de prueba de Hola que ha cambiado desde la recuperación de hello, cambie el nombre o eliminar base de datos correspondiente de hello en el conjunto principal de los clientes de prueba hello (11).</span><span class="sxs-lookup"><span data-stu-id="290e0-194">For each database in hello trial customers DR pool that changed since hello recovery, rename or delete hello corresponding database in hello trial customers primary pool (11).</span></span> 
* <span data-ttu-id="290e0-195">Hola copia actualiza bases de datos de hello conjunto principal de toohello de grupo de recuperación ante desastres (12).</span><span class="sxs-lookup"><span data-stu-id="290e0-195">Copy hello updated databases from hello DR pool toohello primary pool (12).</span></span> 
* <span data-ttu-id="290e0-196">Eliminar grupo de recuperación ante desastres de hello (13)</span><span class="sxs-lookup"><span data-stu-id="290e0-196">Delete hello DR pool (13)</span></span> 

> [!NOTE]
> <span data-ttu-id="290e0-197">operación de conmutación por error de Hello es asincrónica.</span><span class="sxs-lookup"><span data-stu-id="290e0-197">hello failover operation is asynchronous.</span></span> <span data-ttu-id="290e0-198">tiempo de recuperación de toominimize hello es importante que ejecute el comando de conmutación por error de hello inquilino bases de datos en lotes de al menos 20 bases de datos.</span><span class="sxs-lookup"><span data-stu-id="290e0-198">toominimize hello recovery time it is important that you execute hello tenant databases' failover command in batches of at least 20 databases.</span></span> 
> 
> 

<span data-ttu-id="290e0-199">clave de Hello **beneficiarse** de esta estrategia es que proporciona SLA más alto de Hola para los clientes que pagan de Hola.</span><span class="sxs-lookup"><span data-stu-id="290e0-199">hello key **benefit** of this strategy is that it provides hello highest SLA for hello paying customers.</span></span> <span data-ttu-id="290e0-200">También garantiza que evaluaciones nueva Hola se desbloquean en cuanto se crea el grupo de recuperación ante desastres de pruebas de Hola.</span><span class="sxs-lookup"><span data-stu-id="290e0-200">It also guarantees that hello new trials are unblocked as soon as hello trial DR pool is created.</span></span> <span data-ttu-id="290e0-201">Hola **equilibrio** es que este programa de instalación aumenta el costo total Hola de bases de datos de inquilino de Hola por costo de Hola de grupo de recuperación ante desastres secundario hello para los clientes de pago.</span><span class="sxs-lookup"><span data-stu-id="290e0-201">hello **trade-off** is that this setup increases hello total cost of hello tenant databases by hello cost of hello secondary DR pool for paid customers.</span></span> <span data-ttu-id="290e0-202">Además, si grupo secundario de hello tiene un tamaño diferente, los clientes que pagan Hola experimentan un rendimiento inferior tras la conmutación por error hasta que hello actualización de grupo de región de hello DR se complete.</span><span class="sxs-lookup"><span data-stu-id="290e0-202">In addition, if hello secondary pool has a different size, hello paying customers experience lower performance after failover until hello pool upgrade in hello DR region is completed.</span></span> 

## <a name="scenario-3-geographically-distributed-application-with-tiered-service"></a><span data-ttu-id="290e0-203">Escenario 3.</span><span class="sxs-lookup"><span data-stu-id="290e0-203">Scenario 3.</span></span> <span data-ttu-id="290e0-204">Aplicación distribuida geográficamente con servicio en capas</span><span class="sxs-lookup"><span data-stu-id="290e0-204">Geographically distributed application with tiered service</span></span>
<span data-ttu-id="290e0-205"><i>Tengo una aplicación de SaaS desarrollada con ofertas de servicio en capas. Desea toooffer una toomy SLA muy agresiva los clientes de pago y minimizar el riesgo de Hola de impacto cuando se producen interrupciones, ya que incluso breve interrupción puede provocar descontento de los clientes. Es fundamental que los clientes que pagan de hello siempre puede tener acceso a sus datos. las evaluaciones de Hello son gratuitos y no se ofrece un SLA durante el período de prueba de Hola.</i></span><span class="sxs-lookup"><span data-stu-id="290e0-205"><i>I have a mature SaaS application with tiered service offers. I want toooffer a very aggressive SLA toomy paid customers and minimize hello risk of impact when outages occur because even brief interruption can cause customer dissatisfaction. It is critical that hello paying customers can always access their data. hello trials are free and an SLA is not offered during hello trial period. </i></span></span> 

<span data-ttu-id="290e0-206">toosupport este escenario, utilice grupos elásticos independiente tres.</span><span class="sxs-lookup"><span data-stu-id="290e0-206">toosupport this scenario, use three separate elastic pools.</span></span> <span data-ttu-id="290e0-207">Las bases de datos del inquilino de los clientes de pago, aprovisionar dos grupos de igual tamaño con alta Edtu por base de datos en dos hello toocontain de diferentes regiones.</span><span class="sxs-lookup"><span data-stu-id="290e0-207">Provision two equal size pools with high eDTUs per database in two different regions toocontain hello paid customers' tenant databases.</span></span> <span data-ttu-id="290e0-208">Hola tercer grupo servidor que contiene a los inquilinos de prueba de hello puede tener inferior Edtu por base de datos y haber aprovisionado en uno de dos regiones de Hola.</span><span class="sxs-lookup"><span data-stu-id="290e0-208">hello third pool containing hello trial tenants can have lower eDTUs per database and be provisioned in one of hello two regions.</span></span>

<span data-ttu-id="290e0-209">tooguarantee Hola menor tiempo de recuperación durante las interrupciones, las bases de datos del inquilino de hello pago los clientes tienen replicación geográfica en el 50% de bases de datos principales de hello en cada una de las regiones de hello dos.</span><span class="sxs-lookup"><span data-stu-id="290e0-209">tooguarantee hello lowest recovery time during outages, hello paying customers' tenant databases are geo-replicated with 50% of hello primary databases in each of hello two regions.</span></span> <span data-ttu-id="290e0-210">Del mismo modo, cada región tiene 50% de bases de datos secundarias de Hola.</span><span class="sxs-lookup"><span data-stu-id="290e0-210">Similarly, each region has 50% of hello secondary databases.</span></span> <span data-ttu-id="290e0-211">De esta manera, si una región está sin conexión, solo el 50% de hello las bases de datos de los clientes de pago se ven afectado y toofail sobre.</span><span class="sxs-lookup"><span data-stu-id="290e0-211">This way, if a region is offline, only 50% of hello paid customers' databases are impacted and have toofail over.</span></span> <span data-ttu-id="290e0-212">Hello otras bases de datos permanecen intactos.</span><span class="sxs-lookup"><span data-stu-id="290e0-212">hello other databases remain intact.</span></span> <span data-ttu-id="290e0-213">Esta configuración se muestra en hello siguiente diagrama:</span><span class="sxs-lookup"><span data-stu-id="290e0-213">This configuration is illustrated in hello following diagram:</span></span>

![Ilustración 4](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-7.png)

<span data-ttu-id="290e0-215">Como en escenarios anteriores de hello, bases de datos de administración de hello están muy activos por lo que se configuran bases de datos de replicación geográfica como una sola (1).</span><span class="sxs-lookup"><span data-stu-id="290e0-215">As in hello previous scenarios, hello management databases are quite active so configure them as single geo-replicated databases (1).</span></span> <span data-ttu-id="290e0-216">Esto garantiza un rendimiento predecible Hola de nuevas suscripciones de cliente hello, las actualizaciones de perfiles y otras operaciones de administración.</span><span class="sxs-lookup"><span data-stu-id="290e0-216">This ensures hello predictable performance of hello new customer subscriptions, profile updates and other management operations.</span></span> <span data-ttu-id="290e0-217">Región A es la región principal de Hola para bases de datos de administración de Hola y Hola región B se usará para la recuperación de bases de datos de administración de Hola.</span><span class="sxs-lookup"><span data-stu-id="290e0-217">Region A is hello primary region for hello management databases and hello region B is used for recovery of hello management databases.</span></span>

<span data-ttu-id="290e0-218">las bases de datos del inquilino de Hello pago los clientes también tienen replicación geográfica pero con colores primarios y secundarios se divide entre región A y la región B (2).</span><span class="sxs-lookup"><span data-stu-id="290e0-218">hello paying customers’ tenant databases are also geo-replicated but with primaries and secondaries split between region A and region B (2).</span></span> <span data-ttu-id="290e0-219">De esta manera, bases de datos de hello inquilino principal afectados por la interrupción de hello pueden conmutar por error toohello otra región y estén disponibles.</span><span class="sxs-lookup"><span data-stu-id="290e0-219">This way, hello tenant primary databases impacted by hello outage can fail over toohello other region and become available.</span></span> <span data-ttu-id="290e0-220">Hola sí la mitad de las bases de datos del inquilino de hello no se afecta en absoluto.</span><span class="sxs-lookup"><span data-stu-id="290e0-220">hello other half of hello tenant databases are not be impacted at all.</span></span> 

<span data-ttu-id="290e0-221">diagrama siguiente de Hello muestra tootake de pasos de recuperación de hello si se produce una interrupción en la región A.</span><span class="sxs-lookup"><span data-stu-id="290e0-221">hello next diagram illustrates hello recovery steps tootake if  an outage occurs in region A.</span></span>

![Ilustración 5.](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-8.png)

* <span data-ttu-id="290e0-223">Conmutar inmediatamente tooregion de bases de datos de administración de hello B (3).</span><span class="sxs-lookup"><span data-stu-id="290e0-223">Immediately fail over hello management databases tooregion B (3).</span></span>
* <span data-ttu-id="290e0-224">Cambiar conexión cadena toopoint toohello administración bases de datos la aplicación hello en la región B. modificar Hola administración bases de datos toomake seguro Hola nuevas cuentas y las bases de datos de inquilinos se crean en la región B y bases de datos de inquilino existentes Hola se encuentran allí como bueno.</span><span class="sxs-lookup"><span data-stu-id="290e0-224">Change hello application’s connection string toopoint toohello management databases in region B. Modify hello management databases toomake sure hello new accounts and tenant databases are created in region B and hello existing tenant databases are found there as well.</span></span> <span data-ttu-id="290e0-225">los clientes de prueba existentes de Hello verán sus datos no está disponibles temporalmente.</span><span class="sxs-lookup"><span data-stu-id="290e0-225">hello existing trial customers see their data temporarily unavailable.</span></span>
* <span data-ttu-id="290e0-226">Conmutar por error Hola pago toopool de bases de datos del inquilino 2 en la región B tooimmediately restaurar su disponibilidad (4).</span><span class="sxs-lookup"><span data-stu-id="290e0-226">Fail over hello paid tenant's databases toopool 2 in region B tooimmediately restore their availability (4).</span></span> <span data-ttu-id="290e0-227">Puesto que Hola conmutación por error es un cambio del nivel de metadatos rápido, puede considerar una optimización donde se activan Hola individuales, las conmutaciones por error a petición por las conexiones de usuario final de Hola.</span><span class="sxs-lookup"><span data-stu-id="290e0-227">Since hello failover is a quick metadata level change, you may consider an optimization where hello individual failovers are triggered on demand by hello end-user connections.</span></span> 
* <span data-ttu-id="290e0-228">Desde ahora grupo 2 contiene solo las bases de datos principales, Hola cargas de trabajo total en hello grupo aumenta e inmediatamente puede aumentar su tamaño eDTU (5).</span><span class="sxs-lookup"><span data-stu-id="290e0-228">Since now pool 2 contains only primary databases, hello total workload in hello pool increases and can immediately increase its eDTU size (5).</span></span> 
* <span data-ttu-id="290e0-229">Crear nuevo grupo de elástico de hello con hello mismo nombre y Hola misma configuración en la región de hello B para bases de datos de hello prueba los clientes (6).</span><span class="sxs-lookup"><span data-stu-id="290e0-229">Create hello new elastic pool with hello same name and hello same configuration in hello region B for hello trial customers' databases (6).</span></span> 
* <span data-ttu-id="290e0-230">Una vez que se crea al grupo de hello usar base de datos de la restauración geográfica toorestore Hola inquilino de prueba individual en el grupo de hello (7).</span><span class="sxs-lookup"><span data-stu-id="290e0-230">Once hello pool is created use geo-restore toorestore hello individual trial tenant database into hello pool (7).</span></span> <span data-ttu-id="290e0-231">Puede considerar desencadenar restauraciones individuales hello las conexiones de usuario final de Hola o utilizar algún otro esquema de prioridad específica de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="290e0-231">You can consider triggering hello individual restores by hello end-user connections or use some other application-specific priority scheme.</span></span>

> [!NOTE]
> <span data-ttu-id="290e0-232">operación de conmutación por error de Hello es asincrónica.</span><span class="sxs-lookup"><span data-stu-id="290e0-232">hello failover operation is asynchronous.</span></span> <span data-ttu-id="290e0-233">tiempo de recuperación de toominimize hello, es importante que ejecute el comando de conmutación por error de hello inquilino bases de datos en lotes de al menos 20 bases de datos.</span><span class="sxs-lookup"><span data-stu-id="290e0-233">toominimize hello recovery time, it is important that you execute hello tenant databases' failover command in batches of at least 20 databases.</span></span> 
> 

<span data-ttu-id="290e0-234">En este momento la aplicación está vuelve a estar conectada en la región B. Todos los clientes que pagan tienen acceso a datos de tootheir mientras los clientes de prueba de hello experimentar retraso al tener acceso a sus datos.</span><span class="sxs-lookup"><span data-stu-id="290e0-234">At this point your application is back online in region B. All paying customers have access tootheir data while hello trial customers experience delay when accessing their data.</span></span>

<span data-ttu-id="290e0-235">Cuando se recupera la región A necesita toodecide si desea toouse región B para clientes de prueba o un grupo de clientes de prueba de conmutación por recuperación toousing hello en la región A. Un criterio podría ser Hola % de las bases de datos de inquilino de prueba modificado desde la recuperación de Hola.</span><span class="sxs-lookup"><span data-stu-id="290e0-235">When region A is recovered you need toodecide if you want toouse region B for trial customers or failback toousing hello trial customers pool in region A. One criteria could be hello % of trial tenant databases modified since hello recovery.</span></span> <span data-ttu-id="290e0-236">Sin tener en cuenta esa decisión, debe equilibrar toore Hola pago inquilinos entre dos grupos.</span><span class="sxs-lookup"><span data-stu-id="290e0-236">Regardless of that decision, you need toore-balance hello paid tenants between two pools.</span></span> <span data-ttu-id="290e0-237">diagrama de Hello siguiente ilustra el proceso de hello cuando las bases de datos del inquilino de prueba de hello producirá un error A. tooregion back-</span><span class="sxs-lookup"><span data-stu-id="290e0-237">hello next diagram illustrates hello process when hello trial tenant databases fail back tooregion A.</span></span>  

![Ilustración 6.](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-9.png)

* <span data-ttu-id="290e0-239">Cancelar todos los bloques de tootrial recuperación ante desastres de las solicitudes de restauración geográfica pendientes.</span><span class="sxs-lookup"><span data-stu-id="290e0-239">Cancel all outstanding geo-restore requests tootrial DR pool.</span></span>   
* <span data-ttu-id="290e0-240">Conmutar por base de datos de administración de hello (8).</span><span class="sxs-lookup"><span data-stu-id="290e0-240">Fail over hello management database (8).</span></span> <span data-ttu-id="290e0-241">Después de la recuperación de la región de hello, principal antiguo Hola automáticamente se convirtió en hello secundaria.</span><span class="sxs-lookup"><span data-stu-id="290e0-241">After hello region’s recovery, hello old primary automatically became hello secondary.</span></span> <span data-ttu-id="290e0-242">Ahora se convierte en Hola principal nuevo.</span><span class="sxs-lookup"><span data-stu-id="290e0-242">Now it becomes hello primary again.</span></span>  
* <span data-ttu-id="290e0-243">Seleccione qué bases de datos de pago inquilino producirá un error toopool back-1 e iniciar conmutación por error tootheir secundarias (9).</span><span class="sxs-lookup"><span data-stu-id="290e0-243">Select which paid tenant databases fail back toopool 1 and initiate failover tootheir secondaries (9).</span></span> <span data-ttu-id="290e0-244">Después de la recuperación de la región de hello, todas las bases de datos en el grupo 1 automáticamente pasara a ser elementos secundarios.</span><span class="sxs-lookup"><span data-stu-id="290e0-244">After hello region’s recovery, all databases in pool 1 automatically became secondaries.</span></span> <span data-ttu-id="290e0-245">Ahora el 50 % volverán a ser principales.</span><span class="sxs-lookup"><span data-stu-id="290e0-245">Now 50% of them become primaries again.</span></span> 
* <span data-ttu-id="290e0-246">Reducir tamaño de Hola de eDTU del grupo 2 toohello original (10).</span><span class="sxs-lookup"><span data-stu-id="290e0-246">Reduce hello size of pool 2 toohello original eDTU (10).</span></span>
* <span data-ttu-id="290e0-247">Restaurar de conjunto de todas las bases de datos de prueba en la región de hello B solo tooread (11).</span><span class="sxs-lookup"><span data-stu-id="290e0-247">Set all restored trial databases in hello region B tooread-only (11).</span></span>
* <span data-ttu-id="290e0-248">Para cada base de datos de prueba grupo de recuperación ante desastres de Hola que ha cambiado desde la recuperación de hello, cambiar ni eliminar la base de datos correspondiente de hello en grupo principal prueba de hello (12).</span><span class="sxs-lookup"><span data-stu-id="290e0-248">For each database in hello trial DR pool that has changed since hello recovery, rename or delete hello corresponding database in hello trial primary pool (12).</span></span> 
* <span data-ttu-id="290e0-249">Hola copia actualiza bases de datos de hello conjunto principal de toohello de grupo de recuperación ante desastres (13).</span><span class="sxs-lookup"><span data-stu-id="290e0-249">Copy hello updated databases from hello DR pool toohello primary pool (13).</span></span> 
* <span data-ttu-id="290e0-250">Eliminar grupo de recuperación ante desastres de hello (14)</span><span class="sxs-lookup"><span data-stu-id="290e0-250">Delete hello DR pool (14)</span></span> 

<span data-ttu-id="290e0-251">clave de Hello **ventajas** de esta estrategia son:</span><span class="sxs-lookup"><span data-stu-id="290e0-251">hello key **benefits** of this strategy are:</span></span>

* <span data-ttu-id="290e0-252">Admite SLA más exigente de Hola Hola los clientes que pagan porque garantiza que una interrupción del servicio no puede afectar a más del 50% de las bases de datos del inquilino de Hola.</span><span class="sxs-lookup"><span data-stu-id="290e0-252">It supports hello most aggressive SLA for hello paying customers because it ensures that an outage cannot impact more than 50% of hello tenant databases.</span></span> 
* <span data-ttu-id="290e0-253">Garantiza que los ensayos nueva Hola sean desbloqueados tan pronto como pista de hello grupo de recuperación ante desastres se crea durante la recuperación de Hola.</span><span class="sxs-lookup"><span data-stu-id="290e0-253">It guarantees that hello new trials are unblocked as soon as hello trail DR pool is created during hello recovery.</span></span> 
* <span data-ttu-id="290e0-254">Permite el uso más eficaz de la capacidad del grupo de hello como 50% de las bases de datos secundarias en el grupo 1 y grupo 2 se garantiza que toobe menos activo de bases de datos principales de Hola.</span><span class="sxs-lookup"><span data-stu-id="290e0-254">It allows more efficient use of hello pool capacity as 50% of secondary databases in pool 1 and pool 2 are guaranteed toobe less active than hello primary databases.</span></span>

<span data-ttu-id="290e0-255">Hola principal **ventajas e inconvenientes** son:</span><span class="sxs-lookup"><span data-stu-id="290e0-255">hello main **trade-offs** are:</span></span>

* <span data-ttu-id="290e0-256">las operaciones CRUD de Hello en bases de datos de administración de hello tienen menor latencia para hello los usuarios finales conectados tooregion A que para los usuarios finales conectados de hello tooregion B mientras se ejecutan contra Hola principal de bases de datos de administración de Hola.</span><span class="sxs-lookup"><span data-stu-id="290e0-256">hello CRUD operations against hello management databases have lower latency for hello end users connected tooregion A than for hello end users connected tooregion B as they are executed against hello primary of hello management databases.</span></span>
* <span data-ttu-id="290e0-257">Requiere un diseño más complejo de base de datos de administración de Hola.</span><span class="sxs-lookup"><span data-stu-id="290e0-257">It requires more complex design of hello management database.</span></span> <span data-ttu-id="290e0-258">Por ejemplo, cada registro de inquilino tiene una etiqueta de ubicación que necesita toobe cambiado durante la conmutación por error y conmutación por recuperación.</span><span class="sxs-lookup"><span data-stu-id="290e0-258">For example, each tenant record has a location tag that needs toobe changed during failover and failback.</span></span>  
* <span data-ttu-id="290e0-259">Hola, los clientes que pagan puede experimentar un rendimiento menor de lo habitual hasta que hello actualización de grupo de región B se complete.</span><span class="sxs-lookup"><span data-stu-id="290e0-259">hello paying customers may experience lower performance than usual until hello pool upgrade in region B is completed.</span></span> 

## <a name="summary"></a><span data-ttu-id="290e0-260">Resumen</span><span class="sxs-lookup"><span data-stu-id="290e0-260">Summary</span></span>
<span data-ttu-id="290e0-261">En este artículo se centra en estrategias de recuperación ante desastres de hello para el nivel de base de datos de hello utilizado por una aplicación de varios inquilinos de ISV de SaaS.</span><span class="sxs-lookup"><span data-stu-id="290e0-261">This article focuses on hello disaster recovery strategies for hello database tier used by a SaaS ISV multi-tenant application.</span></span> <span data-ttu-id="290e0-262">Hello estrategia que elija depende de necesidades de hello de la aplicación hello, como modelo de negocio de hello, SLA de Hola desee toooffer tooyour clientes, presupuesto restricción etcetera. Describe cada una estrategia contornos Hola ventajas y compensaciones por lo que puede tomar una decisión informada.</span><span class="sxs-lookup"><span data-stu-id="290e0-262">hello strategy you choose is based on hello needs of hello application, such as hello business model, hello SLA you want toooffer tooyour customers, budget constraint etc. Each described strategy outlines hello benefits and trade-off so you could make an informed decision.</span></span> <span data-ttu-id="290e0-263">Además, la aplicación específica probablemente incluya otros componentes de Azure.</span><span class="sxs-lookup"><span data-stu-id="290e0-263">Also, your specific application likely includes other Azure components.</span></span> <span data-ttu-id="290e0-264">Para revisar su orientación de continuidad del negocio y coordinar la recuperación de Hola de nivel de base de datos de hello con ellos.</span><span class="sxs-lookup"><span data-stu-id="290e0-264">So you review their business continuity guidance and orchestrate hello recovery of hello database tier with them.</span></span> <span data-ttu-id="290e0-265">toolearn más información acerca de la administración de recuperación de aplicaciones de base de datos en Azure, consulte demasiado[diseño de soluciones de nube para recuperación ante desastres](sql-database-designing-cloud-solutions-for-disaster-recovery.md).</span><span class="sxs-lookup"><span data-stu-id="290e0-265">toolearn more about managing recovery of database applications in Azure, refer too[Designing cloud solutions for disaster recovery](sql-database-designing-cloud-solutions-for-disaster-recovery.md).</span></span>  

## <a name="next-steps"></a><span data-ttu-id="290e0-266">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="290e0-266">Next steps</span></span>
* <span data-ttu-id="290e0-267">toolearn acerca de las copias de seguridad automatizada de base de datos SQL Azure, consulte [copias de seguridad automáticas de base de datos SQL](sql-database-automated-backups.md).</span><span class="sxs-lookup"><span data-stu-id="290e0-267">toolearn about Azure SQL Database automated backups, see [SQL Database automated backups](sql-database-automated-backups.md).</span></span>
* <span data-ttu-id="290e0-268">Para obtener una descripción general y los escenarios de la continuidad empresarial, consulte [Información general sobre la continuidad empresarial](sql-database-business-continuity.md).</span><span class="sxs-lookup"><span data-stu-id="290e0-268">For a business continuity overview and scenarios, see [Business continuity overview](sql-database-business-continuity.md).</span></span>
* <span data-ttu-id="290e0-269">toolearn sobre el uso de copias de seguridad automatizadas para la recuperación, consulte [restaurar una base de datos de copias de seguridad de hello iniciadas por el servicio](sql-database-recovery-using-backups.md).</span><span class="sxs-lookup"><span data-stu-id="290e0-269">toolearn about using automated backups for recovery, see [restore a database from hello service-initiated backups](sql-database-recovery-using-backups.md).</span></span>
* <span data-ttu-id="290e0-270">toolearn acerca de las opciones de recuperación más rápidos, consulte [replicación geográfica activa](sql-database-geo-replication-overview.md).</span><span class="sxs-lookup"><span data-stu-id="290e0-270">toolearn about faster recovery options, see [active geo-replication](sql-database-geo-replication-overview.md).</span></span>
* <span data-ttu-id="290e0-271">toolearn sobre el uso de copias de seguridad automatizadas para el archivado, vea [copiar base de datos](sql-database-copy.md).</span><span class="sxs-lookup"><span data-stu-id="290e0-271">toolearn about using automated backups for archiving, see [database copy](sql-database-copy.md).</span></span>

