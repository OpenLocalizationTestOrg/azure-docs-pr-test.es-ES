---
title: "enmascaramiento dinámico de datos de base de datos SQL de aaaAzure | Documentos de Microsoft"
description: "Enmascaramiento de datos dinámicos de la base de datos SQL limita la exposición de información confidencial ocultándola a los usuarios privilegios toonon"
services: sql-database
documentationcenter: 
author: ronitr
manager: jhubbard
editor: 
ms.assetid: 4b36d78e-7749-4f26-9774-eed1120a9182
ms.service: sql-database
ms.custom: security
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: data-services
ms.date: 03/09/2017
ms.author: ronitr; ronmat
ms.openlocfilehash: 68b55128dc096f7e3dd0e5ed1427b39da5d64736
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="sql-database-dynamic-data-masking"></a><span data-ttu-id="5d7b2-103">Enmascaramiento dinámico de datos de SQL Database</span><span class="sxs-lookup"><span data-stu-id="5d7b2-103">SQL Database dynamic data masking</span></span>

<span data-ttu-id="5d7b2-104">Enmascaramiento de datos dinámicos de la base de datos SQL limita la exposición de información confidencial ocultándola a los usuarios privilegios toonon.</span><span class="sxs-lookup"><span data-stu-id="5d7b2-104">SQL Database dynamic data masking limits sensitive data exposure by masking it toonon-privileged users.</span></span> 

<span data-ttu-id="5d7b2-105">Enmascaramiento dinámico de datos ayuda a evitar datos toosensitive de acceso no autorizado al habilitar clientes toodesignate cuánto Hola confidencial tooreveal con un impacto mínimo en el nivel de aplicación Hola.</span><span class="sxs-lookup"><span data-stu-id="5d7b2-105">Dynamic data masking helps prevent unauthorized access toosensitive data by enabling customers toodesignate how much of hello sensitive data tooreveal with minimal impact on hello application layer.</span></span> <span data-ttu-id="5d7b2-106">Es una característica de seguridad basada en directivas que oculta los datos confidenciales Hola Hola conjunto de resultados de una consulta de campos de la base de datos designada, Hola datos en la base de datos de hello no cambian.</span><span class="sxs-lookup"><span data-stu-id="5d7b2-106">It’s a policy-based security feature that hides hello sensitive data in hello result set of a query over designated database fields, while hello data in hello database is not changed.</span></span>

<span data-ttu-id="5d7b2-107">Por ejemplo, un representante del servicio en un centro de llamadas puede identificar a los llamadores mediante varios dígitos de su número de tarjeta de crédito, pero esos elementos no deben estar completamente los datos expuestos a toohello representante del servicio.</span><span class="sxs-lookup"><span data-stu-id="5d7b2-107">For example, a service representative at a call center may identify callers by several digits of their credit card number, but those data items should not be fully exposed toohello service representative.</span></span> <span data-ttu-id="5d7b2-108">Puede definir una regla de enmascaramiento que enmascare todos excepto Hola los últimos cuatro dígitos de cualquier número de tarjeta de crédito en el conjunto de resultados de Hola de cualquier consulta.</span><span class="sxs-lookup"><span data-stu-id="5d7b2-108">A masking rule can be defined that masks all but hello last four digits of any credit card number in hello result set of any query.</span></span> <span data-ttu-id="5d7b2-109">Como otro ejemplo, una máscara de datos apropiados puede ser datos de información personal identificable (PII) de tooprotect definido, por lo que un desarrollador puede realizar consultas en entornos de producción para resolver problemas sin infringir las normativas de cumplimiento.</span><span class="sxs-lookup"><span data-stu-id="5d7b2-109">As another example, an appropriate data mask can be defined tooprotect personally identifiable information (PII) data, so that a developer can query production environments for troubleshooting purposes without violating compliance regulations.</span></span>

## <a name="sql-database-dynamic-data-masking-basics"></a><span data-ttu-id="5d7b2-110">Conceptos básicos del enmascaramiento dinámico de datos de SQL Database</span><span class="sxs-lookup"><span data-stu-id="5d7b2-110">SQL Database dynamic data masking basics</span></span>
<span data-ttu-id="5d7b2-111">Configurar una directiva de Hola de enmascaramiento de datos dinámicos portal de Azure mediante la selección de la operación en la hoja de configuración de base de datos SQL o una hoja de configuración de enmascaramiento de datos dinámicos de Hola.</span><span class="sxs-lookup"><span data-stu-id="5d7b2-111">You set up a dynamic data masking policy in hello Azure portal by selecting hello dynamic data masking operation in your SQL Database configuration blade or settings blade.</span></span>

### <a name="dynamic-data-masking-permissions"></a><span data-ttu-id="5d7b2-112">Permisos de enmascaramiento de datos dinámicos</span><span class="sxs-lookup"><span data-stu-id="5d7b2-112">Dynamic data masking permissions</span></span>
<span data-ttu-id="5d7b2-113">Enmascaramiento dinámico de datos puede configurarse Hola, Administrador de base de datos de Azure, el Administrador de servidor o roles de seguridad responsable de seguridad.</span><span class="sxs-lookup"><span data-stu-id="5d7b2-113">Dynamic data masking can be configured by hello Azure Database admin, server admin, or security officer roles.</span></span>

### <a name="dynamic-data-masking-policy"></a><span data-ttu-id="5d7b2-114">Directiva de enmascaramiento de datos dinámicos</span><span class="sxs-lookup"><span data-stu-id="5d7b2-114">Dynamic data masking policy</span></span>
* <span data-ttu-id="5d7b2-115">**Los usuarios SQL excluidos del enmascaramiento** : conjunto de usuarios SQL o resultados de la consulta de las identidades AAD que obtienen datos sin enmascarar Hola SQL.</span><span class="sxs-lookup"><span data-stu-id="5d7b2-115">**SQL users excluded from masking** - A set of SQL users or AAD identities that get unmasked data in hello SQL query results.</span></span> <span data-ttu-id="5d7b2-116">Los usuarios con privilegios de administrador siempre quedan excluidos del enmascaramiento y vean Hola de datos original sin ninguna máscara.</span><span class="sxs-lookup"><span data-stu-id="5d7b2-116">Users with administrator privileges are always excluded from masking, and see hello original data without any mask.</span></span>
* <span data-ttu-id="5d7b2-117">**Reglas de enmascaramiento** -un conjunto de reglas que definen Hola designado toobe campos enmascarada y Hola función que se usa de enmascaramiento.</span><span class="sxs-lookup"><span data-stu-id="5d7b2-117">**Masking rules** - A set of rules that define hello designated fields toobe masked and hello masking function that is used.</span></span> <span data-ttu-id="5d7b2-118">Hola designado campos puede definirse mediante un nombre de esquema de base de datos, el nombre de la tabla y el nombre de columna.</span><span class="sxs-lookup"><span data-stu-id="5d7b2-118">hello designated fields can be defined using a database schema name, table name, and column name.</span></span>
* <span data-ttu-id="5d7b2-119">**Funciones de enmascaramiento** -un conjunto de métodos que controlan la exposición de Hola de datos para diferentes escenarios.</span><span class="sxs-lookup"><span data-stu-id="5d7b2-119">**Masking functions** - A set of methods that control hello exposure of data for different scenarios.</span></span>

| <span data-ttu-id="5d7b2-120">Función de enmascaramiento</span><span class="sxs-lookup"><span data-stu-id="5d7b2-120">Masking Function</span></span> | <span data-ttu-id="5d7b2-121">Lógica de enmascaramiento</span><span class="sxs-lookup"><span data-stu-id="5d7b2-121">Masking Logic</span></span> |
| --- | --- |
| <span data-ttu-id="5d7b2-122">**Valor predeterminado**</span><span class="sxs-lookup"><span data-stu-id="5d7b2-122">**Default**</span></span> |<span data-ttu-id="5d7b2-123">**Completa el enmascaramiento de datos correspondiente de toohello tipos de hello describen campos**</span><span class="sxs-lookup"><span data-stu-id="5d7b2-123">**Full masking according toohello data types of hello designated fields**</span></span><br/><br/><span data-ttu-id="5d7b2-124">• Use XXXX o número menor de x si el tamaño de Hola de campo de hello es inferior a 4 caracteres para los tipos de datos de cadena (nchar, ntext, nvarchar).</span><span class="sxs-lookup"><span data-stu-id="5d7b2-124">• Use XXXX or fewer Xs if hello size of hello field is less than 4 characters for string data types (nchar, ntext, nvarchar).</span></span><br/><span data-ttu-id="5d7b2-125">• Use un valor de cero para los tipos de datos numéricos (bigint, bit, decimal, int, money, numeric, smallint, smallmoney, tinyint, float, real).</span><span class="sxs-lookup"><span data-stu-id="5d7b2-125">• Use a zero value for numeric data types (bigint, bit, decimal, int, money, numeric, smallint, smallmoney, tinyint, float, real).</span></span><br/><span data-ttu-id="5d7b2-126">• Use 01-01-1900 para los tipos de datos de fecha y hora (date, datetime2, datetime, datetimeoffset, smalldatetime, time).</span><span class="sxs-lookup"><span data-stu-id="5d7b2-126">• Use 01-01-1900 for date/time data types (date, datetime2, datetime, datetimeoffset, smalldatetime, time).</span></span><br/><span data-ttu-id="5d7b2-127">• Para SQL variant, Hola valor del tipo actual Hola se utiliza.</span><span class="sxs-lookup"><span data-stu-id="5d7b2-127">• For SQL variant, hello default value of hello current type is used.</span></span><br/><span data-ttu-id="5d7b2-128">• Para de documento XML hello <masked/> se utiliza.</span><span class="sxs-lookup"><span data-stu-id="5d7b2-128">• For XML hello document <masked/> is used.</span></span><br/><span data-ttu-id="5d7b2-129">• Use un valor vacío para los tipos de datos especiales (tipos timestamp table, hierarchyid, GUID, binary, image, varbinary spatial).</span><span class="sxs-lookup"><span data-stu-id="5d7b2-129">• Use an empty value for special data types (timestamp table, hierarchyid, GUID, binary, image, varbinary spatial types).</span></span> |
| <span data-ttu-id="5d7b2-130">**Tarjeta de crédito**</span><span class="sxs-lookup"><span data-stu-id="5d7b2-130">**Credit card**</span></span> |<span data-ttu-id="5d7b2-131">**Método de enmascaramiento, que expone Hola los últimos cuatro dígitos de hello designado campos** y agrega una cadena constante como un prefijo en forma de Hola de una tarjeta de crédito.</span><span class="sxs-lookup"><span data-stu-id="5d7b2-131">**Masking method, which exposes hello last four digits of hello designated fields** and adds a constant string as a prefix in hello form of a credit card.</span></span><br/><br/><span data-ttu-id="5d7b2-132">XXXX-XXXX-XXXX-1234</span><span class="sxs-lookup"><span data-stu-id="5d7b2-132">XXXX-XXXX-XXXX-1234</span></span> |
| <span data-ttu-id="5d7b2-133">**Correo electrónico**</span><span class="sxs-lookup"><span data-stu-id="5d7b2-133">**Email**</span></span> |<span data-ttu-id="5d7b2-134">**Método de enmascaramiento, que expone la primera letra de Hola y reemplaza el dominio Hola con XXX.com** utilizando un prefijo de cadena constante en forma de Hola de una dirección de correo electrónico.</span><span class="sxs-lookup"><span data-stu-id="5d7b2-134">**Masking method, which exposes hello first letter and replaces hello domain with XXX.com** using a constant string prefix in hello form of an email address.</span></span><br/><br/>aXX@XXXX.com |
| <span data-ttu-id="5d7b2-135">**Número aleatorio**</span><span class="sxs-lookup"><span data-stu-id="5d7b2-135">**Random number**</span></span> |<span data-ttu-id="5d7b2-136">**Método de enmascaramiento, que genera un número aleatorio** según toohello seleccionado los límites y los tipos de datos reales.</span><span class="sxs-lookup"><span data-stu-id="5d7b2-136">**Masking method, which generates a random number** according toohello selected boundaries and actual data types.</span></span> <span data-ttu-id="5d7b2-137">Si Hola designado límites es igual, función de enmascaramiento de hello es un número constante.</span><span class="sxs-lookup"><span data-stu-id="5d7b2-137">If hello designated boundaries are equal, then hello masking function is a constant number.</span></span><br/><br/><span data-ttu-id="5d7b2-138">![Panel de navegación](./media/sql-database-dynamic-data-masking-get-started/1_DDM_Random_number.png)</span><span class="sxs-lookup"><span data-stu-id="5d7b2-138">![Navigation pane](./media/sql-database-dynamic-data-masking-get-started/1_DDM_Random_number.png)</span></span> |
| <span data-ttu-id="5d7b2-139">**Texto personalizado**</span><span class="sxs-lookup"><span data-stu-id="5d7b2-139">**Custom text**</span></span> |<span data-ttu-id="5d7b2-140">**Método, que expone Hola primeros y últimos caracteres de enmascaramiento** y agrega una cadena de relleno personalizada en medio de Hola.</span><span class="sxs-lookup"><span data-stu-id="5d7b2-140">**Masking method, which exposes hello first and last characters** and adds a custom padding string in hello middle.</span></span> <span data-ttu-id="5d7b2-141">Si cadena original hello es menor que sufijo y prefijo de hello expuesto, se usa solo Hola cadena de relleno.</span><span class="sxs-lookup"><span data-stu-id="5d7b2-141">If hello original string is shorter than hello exposed prefix and suffix, only hello padding string is used.</span></span> <br/><span data-ttu-id="5d7b2-142">prefijo[relleno]sufijo</span><span class="sxs-lookup"><span data-stu-id="5d7b2-142">prefix[padding]suffix</span></span><br/><br/><span data-ttu-id="5d7b2-143">![Panel de navegación](./media/sql-database-dynamic-data-masking-get-started/2_DDM_Custom_text.png)</span><span class="sxs-lookup"><span data-stu-id="5d7b2-143">![Navigation pane](./media/sql-database-dynamic-data-masking-get-started/2_DDM_Custom_text.png)</span></span> |

<a name="Anchor1"></a>

### <a name="recommended-fields-toomask"></a><span data-ttu-id="5d7b2-144">Campos recomendados toomask</span><span class="sxs-lookup"><span data-stu-id="5d7b2-144">Recommended fields toomask</span></span>
<span data-ttu-id="5d7b2-145">Hello motor de recomendaciones de DDM, marcas de algunos de los campos de la base de datos como campos potencialmente confidenciales, que pueden ser buenas candidatas para la máscara.</span><span class="sxs-lookup"><span data-stu-id="5d7b2-145">hello DDM recommendations engine, flags certain fields from your database as potentially sensitive fields, which may be good candidates for masking.</span></span> <span data-ttu-id="5d7b2-146">En la hoja de enmascaramiento de datos dinámicos de hello en el portal de hello, verá Hola recomienda las columnas de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="5d7b2-146">In hello Dynamic Data Masking blade in hello portal, you will see hello recommended columns for your database.</span></span> <span data-ttu-id="5d7b2-147">Todo lo que necesita toodo es hacer clic en **agregar máscara** para una o varias columnas y, a continuación, **guardar** tooapply una máscara para estos campos.</span><span class="sxs-lookup"><span data-stu-id="5d7b2-147">All you need toodo is click **Add Mask** for one or more columns and then **Save** tooapply a mask for these fields.</span></span>

## <a name="set-up-dynamic-data-masking-for-your-database-using-powershell-cmdlets"></a><span data-ttu-id="5d7b2-148">Configuración del enmascaramiento de datos dinámicos para la base de datos mediante cmdlets de PowerShell</span><span class="sxs-lookup"><span data-stu-id="5d7b2-148">Set up dynamic data masking for your database using Powershell cmdlets</span></span>
<span data-ttu-id="5d7b2-149">Consulte [Cmdlets de Base de datos SQL de Azure](https://msdn.microsoft.com/library/azure/mt574084.aspx).</span><span class="sxs-lookup"><span data-stu-id="5d7b2-149">See [Azure SQL Database Cmdlets](https://msdn.microsoft.com/library/azure/mt574084.aspx).</span></span>

## <a name="set-up-dynamic-data-masking-for-your-database-using-rest-api"></a><span data-ttu-id="5d7b2-150">Configuración del enmascaramiento de datos dinámicos para la base de datos mediante la API de REST</span><span class="sxs-lookup"><span data-stu-id="5d7b2-150">Set up dynamic data masking for your database using REST API</span></span>
<span data-ttu-id="5d7b2-151">Consulte [Operaciones para Bases de datos SQL de Azure](https://msdn.microsoft.com/library/dn505719.aspx).</span><span class="sxs-lookup"><span data-stu-id="5d7b2-151">See [Operations for Azure SQL Databases](https://msdn.microsoft.com/library/dn505719.aspx).</span></span>

