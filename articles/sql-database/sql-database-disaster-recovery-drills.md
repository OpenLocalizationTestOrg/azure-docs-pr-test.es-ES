---
title: "Maniobras de recuperación ante desastres de SQL Database | Microsoft Docs"
description: "Obtenga instrucciones e información sobre prácticas recomendadas del uso de Azure SQL Database para la realización de tareas de obtención de detalles de la recuperación ante desastres. Dichas tareas lo ayudarán a mantener la capacidad de recuperación ante errores y errores de las aplicaciones de negocio críticas."
services: sql-database
documentationcenter: 
author: anosov1960
manager: jhubbard
editor: monicar
ms.assetid: b44a269c-fe2a-404f-b013-290030860bd1
ms.service: sql-database
ms.custom: business continuity
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: data-management
ms.date: 07/31/2016
ms.author: sashan
ms.openlocfilehash: 1b1d65a41a794a566287dcffe3581ac58e2a965f
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 07/11/2017
---
# <a name="performing-disaster-recovery-drill"></a><span data-ttu-id="2dd39-103">Obtención de detalles de la recuperación ante desastres</span><span class="sxs-lookup"><span data-stu-id="2dd39-103">Performing Disaster Recovery Drill</span></span>
<span data-ttu-id="2dd39-104">Se recomienda validar periódicamente el flujo de trabajo de preparación de la aplicación para la recuperación.</span><span class="sxs-lookup"><span data-stu-id="2dd39-104">It is recommended that validation of application readiness for recovery workflow is performed periodically.</span></span> <span data-ttu-id="2dd39-105">Comprobar el comportamiento de la aplicación y las implicaciones de las pérdidas de datos o de las interrupciones que conlleva la conmutación por error es una buena práctica de ingeniería.</span><span class="sxs-lookup"><span data-stu-id="2dd39-105">Verifying the application behavior and implications of data loss and/or the disruption that failover involves is a good engineering practice.</span></span> <span data-ttu-id="2dd39-106">También es un requisito de la mayoría de estándares del sector como parte de la certificación de continuidad del negocio.</span><span class="sxs-lookup"><span data-stu-id="2dd39-106">It is also a requirement by most industry standards as part of business continuity certification.</span></span>

<span data-ttu-id="2dd39-107">Obtener los detalles de una recuperación ante desastres implica lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="2dd39-107">Performing a disaster recovery drill consists of:</span></span>

* <span data-ttu-id="2dd39-108">Simular la interrupción del nivel de datos.</span><span class="sxs-lookup"><span data-stu-id="2dd39-108">Simulating data tier outage</span></span>
* <span data-ttu-id="2dd39-109">Realizar la recuperación.</span><span class="sxs-lookup"><span data-stu-id="2dd39-109">Recovering</span></span>
* <span data-ttu-id="2dd39-110">Validar la integridad de la aplicación tras la recuperación.</span><span class="sxs-lookup"><span data-stu-id="2dd39-110">Validate application integrity post recovery</span></span>

<span data-ttu-id="2dd39-111">Dependiendo de cómo [diseñó su aplicación para la continuidad del negocio](sql-database-business-continuity.md), el flujo de trabajo para la ejecución del proceso de obtención de detalles puede variar.</span><span class="sxs-lookup"><span data-stu-id="2dd39-111">Depending on how you [designed your application for business continuity](sql-database-business-continuity.md), the workflow to execute the drill can vary.</span></span> <span data-ttu-id="2dd39-112">A continuación se describen prácticas recomendadas de obtención de detalles de la recuperación ante desastres en el contexto de base de datos SQL de Azure.</span><span class="sxs-lookup"><span data-stu-id="2dd39-112">Below we describe the best practices conducting a disaster recovery drill in the context of Azure SQL Database.</span></span>

## <a name="geo-restore"></a><span data-ttu-id="2dd39-113">Restauración geográfica</span><span class="sxs-lookup"><span data-stu-id="2dd39-113">Geo-restore</span></span>
<span data-ttu-id="2dd39-114">Para evitar la posible pérdida de datos durante la obtención de detalles de la recuperación ante desastres, se recomienda obtener los detalles mediante la creación de una copia del entorno de producción y utilizando dicho entorno para comprobar el flujo de trabajo de conmutación por error de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="2dd39-114">To prevent the potential data loss when conducting a disaster recovery drill, we recommend performing the drill using a test environment by creating a copy of the production environment and using it to verify the application’s failover workflow.</span></span>

#### <a name="outage-simulation"></a><span data-ttu-id="2dd39-115">Simulación de interrupción</span><span class="sxs-lookup"><span data-stu-id="2dd39-115">Outage simulation</span></span>
<span data-ttu-id="2dd39-116">Puede simular la interrupción mediante la eliminación o el cambio de nombre de la base de datos de origen.</span><span class="sxs-lookup"><span data-stu-id="2dd39-116">To simulate the outage, you can delete or rename the source database.</span></span> <span data-ttu-id="2dd39-117">Tenga en cuenta que esto puede producir un error de conectividad de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="2dd39-117">This causes application connectivity failures.</span></span>

#### <a name="recovery"></a><span data-ttu-id="2dd39-118">Recuperación</span><span class="sxs-lookup"><span data-stu-id="2dd39-118">Recovery</span></span>
* <span data-ttu-id="2dd39-119">Realice la restauración geográfica de la base de datos en un servidor diferente, tal como se describe [aquí](sql-database-disaster-recovery.md).</span><span class="sxs-lookup"><span data-stu-id="2dd39-119">Perform the geo-restore of the database into a different server as described [here](sql-database-disaster-recovery.md).</span></span>
* <span data-ttu-id="2dd39-120">Cambie la configuración de la aplicación para conectarse a las bases de datos recuperadas y siga las directrices de la guía [Configuración de una base de datos recuperada](sql-database-disaster-recovery.md) para completar la recuperación.</span><span class="sxs-lookup"><span data-stu-id="2dd39-120">Change the application configuration to connect to the recovered database and follow the [Configure a database after recovery](sql-database-disaster-recovery.md) guide to complete the recovery.</span></span>

#### <a name="validation"></a><span data-ttu-id="2dd39-121">Validación</span><span class="sxs-lookup"><span data-stu-id="2dd39-121">Validation</span></span>
* <span data-ttu-id="2dd39-122">Complete la obtención de detalles mediante la comprobación de la integridad de la aplicación posterior a la recuperación (es decir, las cadenas de conexión, los inicios de sesión, la comprobación de funciones básicas u otras validaciones que formen parte de los procedimientos estándar de validación de aplicaciones).</span><span class="sxs-lookup"><span data-stu-id="2dd39-122">Complete the drill by verifying the application integrity post recovery (including connection strings, logins, basic functionality testing or other validations part of standard application signoffs procedures).</span></span>

## <a name="geo-replication"></a><span data-ttu-id="2dd39-123">Replicación geográfica</span><span class="sxs-lookup"><span data-stu-id="2dd39-123">Geo-replication</span></span>
<span data-ttu-id="2dd39-124">En una base de datos protegida mediante replicación geográfica, el ejercicio de obtención de detalles incluirá la conmutación por error planeada de la base de datos secundaria.</span><span class="sxs-lookup"><span data-stu-id="2dd39-124">For a database that is protected using geo-replication the drill exercise involves planned failover to the secondary database.</span></span> <span data-ttu-id="2dd39-125">La conmutación por error planeada garantiza que las bases de datos principal y secundaria permanezcan sincronizadas cuando se cambian los roles.</span><span class="sxs-lookup"><span data-stu-id="2dd39-125">The planned failover ensures that the primary and the secondary databases remain in sync when the roles are switched.</span></span> <span data-ttu-id="2dd39-126">A diferencia de la conmutación por error no planeada, esta operación no provocará la pérdida de datos, por lo que la obtención de detalles se puede realizar en el entorno de producción.</span><span class="sxs-lookup"><span data-stu-id="2dd39-126">Unlike the unplanned failover, this operation does not result in data loss, so the drill can be performed in the production environment.</span></span>

#### <a name="outage-simulation"></a><span data-ttu-id="2dd39-127">Simulación de interrupción</span><span class="sxs-lookup"><span data-stu-id="2dd39-127">Outage simulation</span></span>
<span data-ttu-id="2dd39-128">Para simular una interrupción puede deshabilitar la aplicación web o la máquina virtual conectada a la base de datos.</span><span class="sxs-lookup"><span data-stu-id="2dd39-128">To simulate the outage, you can disable the web application or virtual machine connected to the database.</span></span> <span data-ttu-id="2dd39-129">Esto provocará errores de conectividad de los clientes web.</span><span class="sxs-lookup"><span data-stu-id="2dd39-129">This results in the connectivity failures for the web clients.</span></span>

#### <a name="recovery"></a><span data-ttu-id="2dd39-130">Recuperación</span><span class="sxs-lookup"><span data-stu-id="2dd39-130">Recovery</span></span>
* <span data-ttu-id="2dd39-131">Asegúrese de que la configuración de la aplicación en la región de recuperación ante desastres apunta a la base de datos secundaria anterior; recuerde que esta se convertirá en una base de datos principal nueva y totalmente accesible.</span><span class="sxs-lookup"><span data-stu-id="2dd39-131">Make sure the application configuration in the DR region points to the former secondary which becomes the fully accessible new primary.</span></span>
* <span data-ttu-id="2dd39-132">Realice la [conmutación por error planeada](scripts/sql-database-setup-geodr-and-failover-database-powershell.md) para hacer que la base de datos secundaria se convierta en una primaria</span><span class="sxs-lookup"><span data-stu-id="2dd39-132">Perform [planned failover](scripts/sql-database-setup-geodr-and-failover-database-powershell.md) to make the secondary database a new primary</span></span>
* <span data-ttu-id="2dd39-133">Siga las instrucciones de la guía [Configurar una base de datos recuperada](sql-database-disaster-recovery.md) para completar la recuperación.</span><span class="sxs-lookup"><span data-stu-id="2dd39-133">Follow the [Configure a database after recovery](sql-database-disaster-recovery.md) guide to complete the recovery.</span></span>

#### <a name="validation"></a><span data-ttu-id="2dd39-134">Validación</span><span class="sxs-lookup"><span data-stu-id="2dd39-134">Validation</span></span>
* <span data-ttu-id="2dd39-135">Complete la obtención de detalles mediante la comprobación de la integridad de la aplicación posterior a la recuperación (es decir, las cadenas de conexión, los inicios de sesión, la comprobación de funciones básicas u otras validaciones que formen parte de los procedimientos estándar de validación de aplicaciones).</span><span class="sxs-lookup"><span data-stu-id="2dd39-135">Complete the drill by verifying the application integrity post recovery (including connection strings, logins, basic functionality testing or other validations part of standard application signoffs procedures).</span></span>

## <a name="next-steps"></a><span data-ttu-id="2dd39-136">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="2dd39-136">Next steps</span></span>
* <span data-ttu-id="2dd39-137">Para obtener información sobre los escenarios de continuidad empresarial, consulte el artículo sobre [escenarios de continuidad](sql-database-business-continuity.md)</span><span class="sxs-lookup"><span data-stu-id="2dd39-137">To learn about business continuity scenarios, see [Continuity scenarios](sql-database-business-continuity.md)</span></span>
* <span data-ttu-id="2dd39-138">Para obtener información sobre las copias de seguridad automatizadas de Base de datos SQL de Azure, consulte [Copias de seguridad automatizadas de Base de datos SQL](sql-database-automated-backups.md)</span><span class="sxs-lookup"><span data-stu-id="2dd39-138">To learn about Azure SQL Database automated backups, see [SQL Database automated backups](sql-database-automated-backups.md)</span></span>
* <span data-ttu-id="2dd39-139">Si quiere saber cómo utilizar las copias de seguridad automatizadas para procesos de recuperación, consulte [Restore a database from the service-initiated backups](sql-database-recovery-using-backups.md)</span><span class="sxs-lookup"><span data-stu-id="2dd39-139">To learn about using automated backups for recovery, see [restore a database from the service-initiated backups](sql-database-recovery-using-backups.md)</span></span>
* <span data-ttu-id="2dd39-140">Para conocer las opciones de recuperación más rápidas, consulte [Replicación geográfica activa](sql-database-geo-replication-overview.md)</span><span class="sxs-lookup"><span data-stu-id="2dd39-140">To learn about faster recovery options, see [active geo-replication](sql-database-geo-replication-overview.md)</span></span>  
