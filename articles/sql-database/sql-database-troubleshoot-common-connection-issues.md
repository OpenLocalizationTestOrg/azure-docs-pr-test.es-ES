---
title: "tooAzure de problemas de conexión comunes de aaaTroubleshoot base de datos SQL"
description: "Pasos tooidentify y resolver comunes errores de conexión de base de datos de SQL Azure."
services: sql-database
documentationcenter: 
author: dalechen
manager: cshepard
editor: 
ms.assetid: ac463d1c-aec8-443d-b66e-fa5eadcccfa8
ms.service: sql-database
ms.custom: monitor & tune
ms.workload: data-management
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/13/2017
ms.author: daleche
ms.openlocfilehash: eb5f2d7b123a76942c7e4a84a7f475344fbcb144
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="troubleshoot-connection-issues-tooazure-sql-database"></a><span data-ttu-id="5a554-103">Solucionar problemas de conexión tooAzure base de datos SQL</span><span class="sxs-lookup"><span data-stu-id="5a554-103">Troubleshoot connection issues tooAzure SQL Database</span></span>
<span data-ttu-id="5a554-104">Cuando se produce un error en la conexión de hello tooAzure base de datos de SQL, recibirá [mensajes de error](sql-database-develop-error-messages.md).</span><span class="sxs-lookup"><span data-stu-id="5a554-104">When hello connection tooAzure SQL Database fails, you receive [error messages](sql-database-develop-error-messages.md).</span></span> <span data-ttu-id="5a554-105">Este artículo es un tema centralizado que ayuda a la solución de problemas de conectividad de Base de datos SQL de Azure.</span><span class="sxs-lookup"><span data-stu-id="5a554-105">This article is a centralized topic that helps you troubleshoot Azure SQL Database connectivity issues.</span></span> <span data-ttu-id="5a554-106">Introduce [Hola causas comunes](#cause) de problemas de conexión, se recomienda [una herramienta de solución de problemas](#try-the-troubleshooter-for-azure-sql-database-connectivity-issues) que le ayuda a un problema de Hola de identidad y proporciona la solución de problemas de pasos toosolve [ los errores transitorios](#troubleshoot-transient-errors) y [persistentes o no transitorio errores](#troubleshoot-persistent-errors).</span><span class="sxs-lookup"><span data-stu-id="5a554-106">It introduces [hello common causes](#cause) of connection issues, recommends [a troubleshooting tool](#try-the-troubleshooter-for-azure-sql-database-connectivity-issues) that helps you identity hello problem, and provides troubleshooting steps toosolve [transient errors](#troubleshoot-transient-errors) and [persistent or non-transient errors](#troubleshoot-persistent-errors).</span></span> 

<span data-ttu-id="5a554-107">Si encuentra problemas de conexión de hello, intente Hola solucionar problemas de los pasos que se describen en este artículo.</span><span class="sxs-lookup"><span data-stu-id="5a554-107">If you encounter hello connection issues, try hello troubleshoot steps that are described in this article.</span></span>
[!INCLUDE [support-disclaimer](../../includes/support-disclaimer.md)]

## <a name="cause"></a><span data-ttu-id="5a554-108">Causa</span><span class="sxs-lookup"><span data-stu-id="5a554-108">Cause</span></span>
<span data-ttu-id="5a554-109">Problemas de conexión pueden deberse a alguna de hello siguientes:</span><span class="sxs-lookup"><span data-stu-id="5a554-109">Connection problems may be caused by any of hello following:</span></span>

* <span data-ttu-id="5a554-110">Error tooapply mejores prácticas y directrices de diseño durante el proceso de diseño de aplicación Hola.</span><span class="sxs-lookup"><span data-stu-id="5a554-110">Failure tooapply best practices and design guidelines during hello application design process.</span></span>  <span data-ttu-id="5a554-111">Vea [información general sobre el desarrollo de base de datos de SQL](sql-database-develop-overview.md) tooget iniciado.</span><span class="sxs-lookup"><span data-stu-id="5a554-111">See [SQL Database Development Overview](sql-database-develop-overview.md) tooget started.</span></span>
* <span data-ttu-id="5a554-112">Reconfiguración de la Base de datos SQL de Azure</span><span class="sxs-lookup"><span data-stu-id="5a554-112">Azure SQL Database reconfiguration</span></span>
* <span data-ttu-id="5a554-113">Configuración de firewall</span><span class="sxs-lookup"><span data-stu-id="5a554-113">Firewall settings</span></span>
* <span data-ttu-id="5a554-114">Tiempo de espera de conexión agotado</span><span class="sxs-lookup"><span data-stu-id="5a554-114">Connection time-out</span></span>
* <span data-ttu-id="5a554-115">Información de inicio de sesión incorrecta</span><span class="sxs-lookup"><span data-stu-id="5a554-115">Incorrect login information</span></span>
* <span data-ttu-id="5a554-116">Límite máximo alcanzado en algunos recursos de Base de datos SQL de Azure</span><span class="sxs-lookup"><span data-stu-id="5a554-116">Maximum limit reached on some Azure SQL Database resources</span></span>

<span data-ttu-id="5a554-117">Por lo general, tooAzure de problemas de conexión base de datos SQL se puede clasificar como sigue:</span><span class="sxs-lookup"><span data-stu-id="5a554-117">Generally, connection issues tooAzure SQL Database can be classified as follows:</span></span>

* [<span data-ttu-id="5a554-118">Errores transitorios (corta duración o intermitentes)</span><span class="sxs-lookup"><span data-stu-id="5a554-118">Transient errors (short-lived or intermittent)</span></span>](#troubleshoot-transient-errors)
* [<span data-ttu-id="5a554-119">Errores persistentes o no transitorios (errores que se repiten con frecuencia)</span><span class="sxs-lookup"><span data-stu-id="5a554-119">Persistent or non-transient errors (errors that regularly recur)</span></span>](#troubleshoot-persistent-errors)

## <a name="try-hello-troubleshooter-for-azure-sql-database-connectivity-issues"></a><span data-ttu-id="5a554-120">Pruebe Hola Solucionador de problemas para los problemas de conectividad de base de datos de SQL Azure</span><span class="sxs-lookup"><span data-stu-id="5a554-120">Try hello troubleshooter for Azure SQL Database connectivity issues</span></span>
<span data-ttu-id="5a554-121">Si se produce un error de conexión específico, pruebe [esta herramienta](https://support.microsoft.com/help/10085/troubleshooting-connectivity-issues-with-microsoft-azure-sql-database), que le ayudará a identificar y resolver el problema.</span><span class="sxs-lookup"><span data-stu-id="5a554-121">If you encounter a specific connection error, try [this tool](https://support.microsoft.com/help/10085/troubleshooting-connectivity-issues-with-microsoft-azure-sql-database), which will help you quickly identity and resolve your problem.</span></span>

## <a name="troubleshoot-transient-errors"></a><span data-ttu-id="5a554-122">Solución de problemas de errores transitorios</span><span class="sxs-lookup"><span data-stu-id="5a554-122">Troubleshoot transient errors</span></span>

<span data-ttu-id="5a554-123">Cuando una aplicación conecta a base de datos de SQL Azure tooan, recibirá Hola mensaje de error siguiente:</span><span class="sxs-lookup"><span data-stu-id="5a554-123">When an application connects tooan Azure SQL database, you receive hello following error message:</span></span>

```
Error code 40613: "Database <x> on server <y> is not currently available. Please retry hello connection later. If hello problem persists, contact customer support, and provide them hello session tracing ID of <z>"
```

> [!NOTE]
> <span data-ttu-id="5a554-124">Este mensaje de error suele ser transitorio (breve).</span><span class="sxs-lookup"><span data-stu-id="5a554-124">This error message is typically transient (short-lived).</span></span>
> 
> 

<span data-ttu-id="5a554-125">Este error se produce cuando hello Azure base de datos se va a mover (o volver a configurar) y la aplicación pierde su base de datos SQL de toohello de conexión.</span><span class="sxs-lookup"><span data-stu-id="5a554-125">This error occurs when hello Azure database is being moved (or reconfigured) and your application loses its connection toohello SQL database.</span></span> <span data-ttu-id="5a554-126">Los eventos de reconfiguración de la base de datos SQL se producen debido a un evento planeado (por ejemplo, una actualización de software) o a un evento no planeado (por ejemplo, el bloqueo de un proceso o un equilibrio de carga).</span><span class="sxs-lookup"><span data-stu-id="5a554-126">SQL database reconfiguration events occur because of a planned event (for example, a software upgrade) or an unplanned event (for example, a process crash, or load balancing).</span></span> <span data-ttu-id="5a554-127">La mayoría de los eventos de reconfiguración son generalmente de corta duración y se completarán en menos de 60 segundos.</span><span class="sxs-lookup"><span data-stu-id="5a554-127">Most reconfiguration events are generally short-lived and should be completed in less than 60 seconds at most.</span></span> <span data-ttu-id="5a554-128">Sin embargo, estos eventos en ocasiones pueden tardar más tiempo toofinish, por ejemplo, cuando una transacción de grande provoca una recuperación de larga duración.</span><span class="sxs-lookup"><span data-stu-id="5a554-128">However, these events can occasionally take longer toofinish, such as when a large transaction causes a long-running recovery.</span></span>

### <a name="steps-tooresolve-transient-connectivity-issues"></a><span data-ttu-id="5a554-129">Problemas de conectividad temporal tooresolve de pasos</span><span class="sxs-lookup"><span data-stu-id="5a554-129">Steps tooresolve transient connectivity issues</span></span>

1. <span data-ttu-id="5a554-130">Comprobar hello [panel de servicios de Microsoft Azure](https://azure.microsoft.com/status) para los que las interrupciones conocidas que se produjeron durante el tiempo de Hola durante qué Hola haya notificado errores aplicación hello.</span><span class="sxs-lookup"><span data-stu-id="5a554-130">Check hello [Microsoft Azure Service Dashboard](https://azure.microsoft.com/status) for any known outages that occurred during hello time during which hello errors were reported by hello application.</span></span>
2. <span data-ttu-id="5a554-131">Las aplicaciones que se conectan tooa servicio en la nube como base de datos de SQL Azure debe esperar eventos periódicos volver a configurar e implementar Reintentar lógica toohandle estos errores en lugar de así como la exposición como toousers de errores de aplicación.</span><span class="sxs-lookup"><span data-stu-id="5a554-131">Applications that connect tooa cloud service such as Azure SQL Database should expect periodic reconfiguration events and implement retry logic toohandle these errors instead of surfacing these as application errors toousers.</span></span> <span data-ttu-id="5a554-132">Hola de revisión [errores transitorios](sql-database-connectivity-issues.md) hello y sección prácticas recomendadas y directrices en de diseño [información general sobre el desarrollo de base de datos de SQL](sql-database-develop-overview.md) para obtener más información y general de las estrategias de reintento.</span><span class="sxs-lookup"><span data-stu-id="5a554-132">Review hello [Transient errors](sql-database-connectivity-issues.md) section and hello best practices and design guidelines at [SQL Database Development Overview](sql-database-develop-overview.md) for more information and general retry strategies.</span></span> <span data-ttu-id="5a554-133">Después, para información específica, consulte ejemplos de código en [Bibliotecas de conexiones para Base de datos SQL y SQL Server](sql-database-libraries.md) .</span><span class="sxs-lookup"><span data-stu-id="5a554-133">Then, see code samples at [Connection Libraries for SQL Database and SQL Server](sql-database-libraries.md) for specifics.</span></span>
3. <span data-ttu-id="5a554-134">Como una base de datos acerca a su límite de recursos, que puede parecer toobe un problema de conectividad temporal.</span><span class="sxs-lookup"><span data-stu-id="5a554-134">As a database approaches its resource limits, it can seem toobe a transient connectivity issue.</span></span> <span data-ttu-id="5a554-135">Vea [Solucionar problemas de rendimiento](sql-database-troubleshoot-performance.md).</span><span class="sxs-lookup"><span data-stu-id="5a554-135">See [Troubleshooting Performance Issues](sql-database-troubleshoot-performance.md).</span></span>
4. <span data-ttu-id="5a554-136">Si continúan los problemas de conectividad o si hello duración para la que la aplicación encuentra errores de hello supera los 60 segundos o si observa varias repeticiones del error de hello en un día determinado, una solicitud de soporte técnico de Azure de archivos seleccionando **obtener admite** en hello [soporte técnico de Azure](https://azure.microsoft.com/support/options) sitio.</span><span class="sxs-lookup"><span data-stu-id="5a554-136">If connectivity problems continue, or if hello duration for which your application encounters hello error exceeds 60 seconds or if you see multiple occurrences of hello error in a given day, file an Azure support request by selecting **Get Support** on hello [Azure Support](https://azure.microsoft.com/support/options) site.</span></span>

## <a name="troubleshoot-persistent-errors"></a><span data-ttu-id="5a554-137">Solución de problemas de los errores persistentes</span><span class="sxs-lookup"><span data-stu-id="5a554-137">Troubleshoot persistent errors</span></span>
<span data-ttu-id="5a554-138">Si aplicación hello no persistente tooconnect tooAzure base de datos SQL, suele indicar un problema con uno de hello siguientes:</span><span class="sxs-lookup"><span data-stu-id="5a554-138">If hello application persistently fails tooconnect tooAzure SQL Database, it usually indicates an issue with one of hello following:</span></span>

* <span data-ttu-id="5a554-139">Configuración del firewall.</span><span class="sxs-lookup"><span data-stu-id="5a554-139">Firewall configuration.</span></span> <span data-ttu-id="5a554-140">firewall de base de datos o de cliente de SQL Azure Hola está bloqueando las conexiones tooAzure base de datos SQL.</span><span class="sxs-lookup"><span data-stu-id="5a554-140">hello Azure SQL database or client-side firewall is blocking connections tooAzure SQL Database.</span></span>
* <span data-ttu-id="5a554-141">Volver a configurar en el lado del cliente de Hola de red: por ejemplo, una nueva dirección IP o un servidor proxy.</span><span class="sxs-lookup"><span data-stu-id="5a554-141">Network reconfiguration on hello client side: for example, a new IP address or a proxy server.</span></span>
* <span data-ttu-id="5a554-142">Error de usuario: por ejemplo, esté escrita incorrectamente los parámetros de conexión, como nombre del servidor hello en la cadena de conexión de Hola.</span><span class="sxs-lookup"><span data-stu-id="5a554-142">User error: for example, mistyped connection parameters, such as hello server name in hello connection string.</span></span>

### <a name="steps-tooresolve-persistent-connectivity-issues"></a><span data-ttu-id="5a554-143">Problemas de conectividad persistente de tooresolve de pasos</span><span class="sxs-lookup"><span data-stu-id="5a554-143">Steps tooresolve persistent connectivity issues</span></span>
1. <span data-ttu-id="5a554-144">Configurar [las reglas de firewall](sql-database-configure-firewall-settings.md) dirección IP del cliente de tooallow Hola.</span><span class="sxs-lookup"><span data-stu-id="5a554-144">Set up [firewall rules](sql-database-configure-firewall-settings.md) tooallow hello client IP address.</span></span> <span data-ttu-id="5a554-145">Para temporal con fines de prueba, configure una regla de firewall mediante 0.0.0.0 como Hola a partir de intervalo de direcciones IP y 255.255.255.255 como Hola final del intervalo de direcciones IP.</span><span class="sxs-lookup"><span data-stu-id="5a554-145">For temporary testing purposes, set up a firewall rule using 0.0.0.0 as hello starting IP address range and using 255.255.255.255 as hello ending IP address range.</span></span> <span data-ttu-id="5a554-146">Se abrirá hello tooall direcciones IP.</span><span class="sxs-lookup"><span data-stu-id="5a554-146">This will open hello server tooall IP addresses.</span></span> <span data-ttu-id="5a554-147">Si se resuelve el problema de conectividad, quite esta regla y cree una regla de firewall para una dirección IP o intervalo de direcciones apropiadamente limitados.</span><span class="sxs-lookup"><span data-stu-id="5a554-147">If this resolves your connectivity issue, remove this rule and create a firewall rule for an appropriately limited IP address or address range.</span></span> 
2. <span data-ttu-id="5a554-148">En todos los firewalls entre el cliente de Hola y Hola Internet, asegúrese de que el puerto 1433 está abierto para las conexiones salientes.</span><span class="sxs-lookup"><span data-stu-id="5a554-148">On all firewalls between hello client and hello Internet, make sure that port 1433 is open for outbound connections.</span></span> <span data-ttu-id="5a554-149">Revisión [configurar Firewall de Windows de hello tooAllow acceso a SQL Server](https://msdn.microsoft.com/library/cc646023.aspx) y [híbrida identidad requiere puertos y protocolos](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect-ports) para punteros adicionales relacionados con tooadditional puertos que necesita tooopen para Autenticación de Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="5a554-149">Review [Configure hello Windows Firewall tooAllow SQL Server Access](https://msdn.microsoft.com/library/cc646023.aspx) and [Hybrid Identity Required Ports and Protocols](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect-ports) for additional pointers related tooadditional ports that you need tooopen for Azure Active Directory authentication.</span></span>
3. <span data-ttu-id="5a554-150">Compruebe la cadena de conexión y otras opciones de conexión.</span><span class="sxs-lookup"><span data-stu-id="5a554-150">Verify your connection string and other connection settings.</span></span> <span data-ttu-id="5a554-151">Consulte la sección de la cadena de conexión en Hola Hola [tema de problemas de conectividad](sql-database-connectivity-issues.md#connections-to-azure-sql-database).</span><span class="sxs-lookup"><span data-stu-id="5a554-151">See hello Connection String section in hello [connectivity issues topic](sql-database-connectivity-issues.md#connections-to-azure-sql-database).</span></span>
4. <span data-ttu-id="5a554-152">Compruebe el estado del servicio en el panel de Hola.</span><span class="sxs-lookup"><span data-stu-id="5a554-152">Check service health in hello dashboard.</span></span> <span data-ttu-id="5a554-153">Si cree que existe una interrupción regional, consulte [recuperarse de una interrupción](sql-database-disaster-recovery.md) de toorecover tooa nueva área de pasos.</span><span class="sxs-lookup"><span data-stu-id="5a554-153">If you think there’s a regional outage, see [Recover from an outage](sql-database-disaster-recovery.md) for steps toorecover tooa new region.</span></span>

## <a name="next-steps"></a><span data-ttu-id="5a554-154">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="5a554-154">Next steps</span></span>
* [<span data-ttu-id="5a554-155">Evaluación y mejora del rendimiento de la base de datos con la Base de datos SQL de Azure</span><span class="sxs-lookup"><span data-stu-id="5a554-155">Troubleshoot Azure SQL Database performance issues</span></span>](sql-database-troubleshoot-performance.md)
* [<span data-ttu-id="5a554-156">Documentación de Hola de búsqueda en Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="5a554-156">Search hello documentation on Microsoft Azure</span></span>](http://azure.microsoft.com/search/documentation/)
* [<span data-ttu-id="5a554-157">Hola vista actualizaciones más recientes toohello servicio de base de datos de SQL Azure</span><span class="sxs-lookup"><span data-stu-id="5a554-157">View hello latest updates toohello Azure SQL Database service</span></span>](http://azure.microsoft.com/updates/?service=sql-database)

## <a name="additional-resources"></a><span data-ttu-id="5a554-158">Recursos adicionales</span><span class="sxs-lookup"><span data-stu-id="5a554-158">Additional resources</span></span>
* [<span data-ttu-id="5a554-159">Información general de desarrollo de Base de datos SQL</span><span class="sxs-lookup"><span data-stu-id="5a554-159">SQL Database Development Overview</span></span>](sql-database-develop-overview.md)
* [<span data-ttu-id="5a554-160">Orientación general sobre reintentos</span><span class="sxs-lookup"><span data-stu-id="5a554-160">General transient fault-handling guidance</span></span>](../best-practices-retry-general.md)
* [<span data-ttu-id="5a554-161">Bibliotecas de conexiones para Base de datos SQL y SQL Server</span><span class="sxs-lookup"><span data-stu-id="5a554-161">Connection libraries for SQL Database and SQL Server</span></span>](sql-database-libraries.md)

