---
title: "Autenticación de Azure Active Directory: Azure SQL (Introducción) | Microsoft Docs"
description: "Aprenda a usar Azure Active Directory para la autenticación con SQL Database y SQL Data Warehouse"
services: sql-database
documentationcenter: 
author: BYHAM
manager: jhubbard
editor: 
tags: 
ms.assetid: 7e2508a1-347e-4f15-b060-d46602c5ce7e
ms.service: sql-database
ms.custom: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-management
ms.date: 08/11/2017
ms.author: rickbyh
ms.openlocfilehash: c83d482eaf476388a174dfb02ae6ef53ebe921bc
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/18/2017
---
# <a name="use-azure-active-directory-authentication-for-authentication-with-sql-database-or-sql-data-warehouse"></a><span data-ttu-id="7b760-103">Uso de la autenticación de Azure Active Directory con SQL Database o SQL Data Warehouse</span><span class="sxs-lookup"><span data-stu-id="7b760-103">Use Azure Active Directory Authentication for authentication with SQL Database or SQL Data Warehouse</span></span>
<span data-ttu-id="7b760-104">La autenticación de Azure Active Directory es un mecanismo de conexión a la Base de datos SQL de Microsoft Azure y [Almacenamiento de datos SQL](../sql-data-warehouse/sql-data-warehouse-overview-what-is.md) mediante identidades de Azure Active Directory (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="7b760-104">Azure Active Directory authentication is a mechanism of connecting to Microsoft Azure SQL Database and [SQL Data Warehouse](../sql-data-warehouse/sql-data-warehouse-overview-what-is.md) by using identities in Azure Active Directory (Azure AD).</span></span> <span data-ttu-id="7b760-105">Con la autenticación de Azure AD puede administrar centralmente las identidades de los usuarios de la base de datos y otros servicios de Microsoft en una ubicación central.</span><span class="sxs-lookup"><span data-stu-id="7b760-105">With Azure AD authentication, you can centrally manage the identities of database users and other Microsoft services in one central location.</span></span> <span data-ttu-id="7b760-106">La administración de identificadores central ofrece una ubicación única para administrar usuarios de base de datos y simplifica la administración de permisos.</span><span class="sxs-lookup"><span data-stu-id="7b760-106">Central ID management provides a single place to manage database users and simplifies permission management.</span></span> <span data-ttu-id="7b760-107">Entre las ventajas se incluyen las siguientes:</span><span class="sxs-lookup"><span data-stu-id="7b760-107">Benefits include the following:</span></span>

* <span data-ttu-id="7b760-108">Ofrece una alternativa a la autenticación de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="7b760-108">It provides an alternative to SQL Server authentication.</span></span>
* <span data-ttu-id="7b760-109">Ayuda a detener la proliferación de identidades de usuario en los servidores de base de datos.</span><span class="sxs-lookup"><span data-stu-id="7b760-109">Helps stop the proliferation of user identities across database servers.</span></span>
* <span data-ttu-id="7b760-110">Permite la rotación de contraseñas en un solo lugar</span><span class="sxs-lookup"><span data-stu-id="7b760-110">Allows password rotation in a single place</span></span>
* <span data-ttu-id="7b760-111">Los clientes pueden administrar los permisos de la base de datos con grupos externos (AAD).</span><span class="sxs-lookup"><span data-stu-id="7b760-111">Customers can manage database permissions using external (AAD) groups.</span></span>
* <span data-ttu-id="7b760-112">Puede eliminar el almacenamiento de contraseñas mediante la habilitación de la autenticación integrada de Windows y otras formas de autenticación compatibles con Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="7b760-112">It can eliminate storing passwords by enabling integrated Windows authentication and other forms of authentication supported by Azure Active Directory.</span></span>
* <span data-ttu-id="7b760-113">La autenticación de Azure AD utiliza usuarios de base de datos independiente para autenticar las identidades en el nivel de base de datos.</span><span class="sxs-lookup"><span data-stu-id="7b760-113">Azure AD authentication uses contained database users to authenticate identities at the database level.</span></span>
* <span data-ttu-id="7b760-114">Azure AD admite la autenticación basada en token para las aplicaciones que se conectan a SQL Database.</span><span class="sxs-lookup"><span data-stu-id="7b760-114">Azure AD supports token-based authentication for applications connecting to SQL Database.</span></span>
* <span data-ttu-id="7b760-115">La autenticación de Azure AD es compatible con ADFS (federación de dominio) o la autenticación nativa de usuario y contraseña para una instancia de Azure Active Directory local sin sincronización de dominios.</span><span class="sxs-lookup"><span data-stu-id="7b760-115">Azure AD authentication supports ADFS (domain federation) or native user/password authentication for a local Azure Active Directory without domain synchronization.</span></span>  
* <span data-ttu-id="7b760-116">Azure AD admite conexiones de SQL Server Management Studio que usan la autenticación universal de Active Directory, lo cual incluye Multi-Factor Authentication (MFA).</span><span class="sxs-lookup"><span data-stu-id="7b760-116">Azure AD supports connections from SQL Server Management Studio that use Active Directory Universal Authentication, which includes Multi-Factor Authentication (MFA).</span></span>  <span data-ttu-id="7b760-117">MFA incluye una sólida autenticación con una gama de sencillas opciones de comprobación: llamada de teléfono, mensaje de texto, tarjetas inteligentes con PIN o notificación de aplicación móvil.</span><span class="sxs-lookup"><span data-stu-id="7b760-117">MFA includes strong authentication with a range of easy verification options — phone call, text message, smart cards with pin, or mobile app notification.</span></span> <span data-ttu-id="7b760-118">Para obtener más información, consulte [Compatibilidad de SSMS con Azure AD MFA con Base de datos SQL y Almacenamiento de datos SQL](sql-database-ssms-mfa-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="7b760-118">For more information, see [SSMS support for Azure AD MFA with SQL Database and SQL Data Warehouse](sql-database-ssms-mfa-authentication.md).</span></span>  

>  [!NOTE]  
>  <span data-ttu-id="7b760-119">La conexión a SQL Server que se ejecuta en una VM de Azure no se admite con una cuenta de Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="7b760-119">Connecting to SQL Server running on an Azure VM is not supported using an Azure Active Directory account.</span></span> <span data-ttu-id="7b760-120">Utilice en su lugar una cuenta de Active Directory del dominio.</span><span class="sxs-lookup"><span data-stu-id="7b760-120">Use a domain Active Directory account instead.</span></span>  

<span data-ttu-id="7b760-121">En los pasos de configuración se incluyen los siguientes procedimientos para configurar y usar la autenticación de Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="7b760-121">The configuration steps include the following procedures to configure and use Azure Active Directory authentication.</span></span>

1. <span data-ttu-id="7b760-122">Cree y rellene una instancia de Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7b760-122">Create and populate Azure AD.</span></span>
2. <span data-ttu-id="7b760-123">Opcional: asocie o cambie la instancia de Active Directory que está asociada a la suscripción de Azure.</span><span class="sxs-lookup"><span data-stu-id="7b760-123">Optional: Associate or change the active directory that is currently associated with your Azure Subscription.</span></span>
3. <span data-ttu-id="7b760-124">Cree un administrador de Azure Active Directory para Azure SQL Server o para [Azure SQL Data Warehouse](https://azure.microsoft.com/services/sql-data-warehouse/).</span><span class="sxs-lookup"><span data-stu-id="7b760-124">Create an Azure Active Directory administrator for Azure SQL server or [Azure SQL Data Warehouse](https://azure.microsoft.com/services/sql-data-warehouse/).</span></span>
4. <span data-ttu-id="7b760-125">Configure los equipos cliente.</span><span class="sxs-lookup"><span data-stu-id="7b760-125">Configure your client computers.</span></span>
5. <span data-ttu-id="7b760-126">Cree usuarios de bases de datos independientes en la base de datos y asignados a identidades de Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7b760-126">Create contained database users in your database mapped to Azure AD identities.</span></span>
6. <span data-ttu-id="7b760-127">Conéctese a la base de datos mediante identidades de Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7b760-127">Connect to your database by using Azure AD identities.</span></span>

> [!NOTE]
> <span data-ttu-id="7b760-128">Para aprender a crear y rellenar Azure AD y, posteriormente, configurarlo con Azure SQL Database y SQL Data Warehouse, consulte [Configure Azure AD with Azure SQL Database](sql-database-aad-authentication-configure.md) (Configuración de Azure AD con Azure SQL Database).</span><span class="sxs-lookup"><span data-stu-id="7b760-128">To learn how to create and populate Azure AD, and then configure Azure AD with Azure SQL Database and SQL Data Warehouse, see [Configure Azure AD with Azure SQL Database](sql-database-aad-authentication-configure.md).</span></span>
>

## <a name="trust-architecture"></a><span data-ttu-id="7b760-129">Arquitectura de confianza</span><span class="sxs-lookup"><span data-stu-id="7b760-129">Trust architecture</span></span>
<span data-ttu-id="7b760-130">En el siguiente diagrama de alto nivel se resume la arquitectura de la solución del uso de la autenticación de Azure AD con la Base de datos SQL de Azure.</span><span class="sxs-lookup"><span data-stu-id="7b760-130">The following high-level diagram summarizes the solution architecture of using Azure AD authentication with Azure SQL Database.</span></span> <span data-ttu-id="7b760-131">Los mismos conceptos se aplican a Almacenamiento de datos SQL.</span><span class="sxs-lookup"><span data-stu-id="7b760-131">The same concepts apply to SQL Data Warehouse.</span></span> <span data-ttu-id="7b760-132">Para admitir la contraseña de usuario nativa de Azure AD, se considera solo la parte de la nube y SQL Database de Azure o Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7b760-132">To support Azure AD native user password, only the Cloud portion and Azure AD/Azure SQL Database is considered.</span></span> <span data-ttu-id="7b760-133">Para admitir la autenticación federada (o el usuario o contraseña para las credenciales de Windows), se requiere la comunicación con el bloque ADFS.</span><span class="sxs-lookup"><span data-stu-id="7b760-133">To support Federated authentication (or user/password for Windows credentials), the communication with ADFS block is required.</span></span> <span data-ttu-id="7b760-134">Las flechas indican las rutas de comunicación.</span><span class="sxs-lookup"><span data-stu-id="7b760-134">The arrows indicate communication pathways.</span></span>

![diagrama de autenticación de aad][1]

<span data-ttu-id="7b760-136">En el diagrama siguiente se indica la federación, la confianza y las relaciones de hospedaje que permiten que un cliente se conecte a una base de datos mediante el envío de un token</span><span class="sxs-lookup"><span data-stu-id="7b760-136">The following diagram indicates the federation, trust, and hosting relationships that allow a client to connect to a database by submitting a token.</span></span> <span data-ttu-id="7b760-137">que una instancia de Azure AD autenticó y que es de confianza para la base de datos.</span><span class="sxs-lookup"><span data-stu-id="7b760-137">The token is authenticated by an Azure AD, and is trusted by the database.</span></span> <span data-ttu-id="7b760-138">El cliente 1 puede representar una instancia de Azure Active Directory con usuarios nativos o una instancia de AD con usuarios federados.</span><span class="sxs-lookup"><span data-stu-id="7b760-138">Customer 1 can represent an Azure Active Directory with native users or an Azure AD with federated users.</span></span> <span data-ttu-id="7b760-139">El cliente 2 representa una posible solución, incluidos los usuarios importados; en este ejemplo proceden de una instancia de Azure Active Directory federada con ADFS sincronizado con Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="7b760-139">Customer 2 represents a possible solution including imported users; in this example coming from a federated Azure Active Directory with ADFS being synchronized with Azure Active Directory.</span></span> <span data-ttu-id="7b760-140">Es importante comprender que el acceso a una base de datos mediante la autenticación de Azure AD requiere que la suscripción de hospedaje esté asociada a Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7b760-140">It's important to understand that access to a database using Azure AD authentication requires that the hosting subscription is associated to the Azure AD.</span></span> <span data-ttu-id="7b760-141">Debe utilizarse la misma suscripción para crear el servidor SQL Server que hospeda la Base de datos SQL de Azure o el Almacenamiento de datos SQL.</span><span class="sxs-lookup"><span data-stu-id="7b760-141">The same subscription must be used to create the SQL Server hosting the Azure SQL Database or SQL Data Warehouse.</span></span>

![relación de suscripción][2]

## <a name="administrator-structure"></a><span data-ttu-id="7b760-143">Estructura del administrador</span><span class="sxs-lookup"><span data-stu-id="7b760-143">Administrator structure</span></span>
<span data-ttu-id="7b760-144">Cuando se usa la autenticación de Azure AD, existen dos cuentas de administrador para el servidor de Base de datos SQL: el administrador del servidor SQL Server original y el administrador de Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7b760-144">When using Azure AD authentication, there are two Administrator accounts for the SQL Database server; the original SQL Server administrator and the Azure AD administrator.</span></span> <span data-ttu-id="7b760-145">Los mismos conceptos se aplican a Almacenamiento de datos SQL.</span><span class="sxs-lookup"><span data-stu-id="7b760-145">The same concepts apply to SQL Data Warehouse.</span></span> <span data-ttu-id="7b760-146">Solo el administrador basado en una cuenta de Azure AD puede crear el primer usuario de base de datos independiente en Azure AD en una base de datos de usuario.</span><span class="sxs-lookup"><span data-stu-id="7b760-146">Only the administrator based on an Azure AD account can create the first Azure AD contained database user in a user database.</span></span> <span data-ttu-id="7b760-147">El inicio de sesión del administrador de Azure AD puede ser un usuario de Azure AD o un grupo de Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7b760-147">The Azure AD administrator login can be an Azure AD user or an Azure AD group.</span></span> <span data-ttu-id="7b760-148">Cuando el administrador es una cuenta de grupo, cualquier miembro del grupo lo puede usar, lo que permite varios administradores de Azure AD para la instancia de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="7b760-148">When the administrator is a group account, it can be used by any group member, enabling multiple Azure AD administrators for the SQL Server instance.</span></span> <span data-ttu-id="7b760-149">Mediante el uso de la cuenta de grupo como un administrador, se mejora la administración al permitir agregar y quitar miembros de grupo de forma centralizada en Azure AD sin cambiar los usuarios ni los permisos de Base de datos SQL.</span><span class="sxs-lookup"><span data-stu-id="7b760-149">Using group account as an administrator enhances manageability by allowing you to centrally add and remove group members in Azure AD without changing the users or permissions in SQL Database.</span></span> <span data-ttu-id="7b760-150">Solo un administrador de Azure AD (un usuario o grupo) se puede configurar en cualquier momento.</span><span class="sxs-lookup"><span data-stu-id="7b760-150">Only one Azure AD administrator (a user or group) can be configured at any time.</span></span>

![estructura de administración][3]

## <a name="permissions"></a><span data-ttu-id="7b760-152">Permisos</span><span class="sxs-lookup"><span data-stu-id="7b760-152">Permissions</span></span>
<span data-ttu-id="7b760-153">Para crear nuevos usuarios, debe tener el permiso `ALTER ANY USER` en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="7b760-153">To create new users, you must have the `ALTER ANY USER` permission in the database.</span></span> <span data-ttu-id="7b760-154">El permiso `ALTER ANY USER` se puede conceder a cualquier usuario de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="7b760-154">The `ALTER ANY USER` permission can be granted to any database user.</span></span> <span data-ttu-id="7b760-155">Las cuentas de administrador del servidor también disponen del permiso `ALTER ANY USER`, así como los usuarios de la base de datos con los permisos `CONTROL ON DATABASE` o `ALTER ON DATABASE` para esa base de datos y los miembros del rol de la base de datos `db_owner`.</span><span class="sxs-lookup"><span data-stu-id="7b760-155">The `ALTER ANY USER` permission is also held by the server administrator accounts, and database users with the `CONTROL ON DATABASE` or `ALTER ON DATABASE` permission for that database, and by members of the `db_owner` database role.</span></span>

<span data-ttu-id="7b760-156">Para crear un usuario de base de datos independiente en la Base de datos SQL de Azure o en Almacenamiento de datos SQL, debe conectarse a la base de datos con una identidad de Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7b760-156">To create a contained database user in Azure SQL Database or SQL Data Warehouse, you must connect to the database using an Azure AD identity.</span></span> <span data-ttu-id="7b760-157">Para crear el primer usuario de base de datos independiente , debe conectarse a la base de datos con un administrador de Azure AD (que es el propietario de la base de datos).</span><span class="sxs-lookup"><span data-stu-id="7b760-157">To create the first contained database user, you must connect to the database by using an Azure AD administrator (who is the owner of the database).</span></span> <span data-ttu-id="7b760-158">Esto se muestra a continuación, en los pasos 4 y 5.</span><span class="sxs-lookup"><span data-stu-id="7b760-158">This is demonstrated in steps 4 and 5 below.</span></span> <span data-ttu-id="7b760-159">La autenticación de Azure AD solo es posible si se creó el administrador de Azure AD para Azure SQL Database o para el servidor de SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="7b760-159">Any Azure AD authentication is only possible if the Azure AD admin was created for Azure SQL Database or SQL Data Warehouse server.</span></span> <span data-ttu-id="7b760-160">Si se ha quitado el administrador de Azure Active Directory desde el servidor, los usuarios de Azure Active Directory creados previamente en SQL Server ya no podrán conectarse a la base de datos utilizando sus credenciales de Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="7b760-160">If the Azure Active Directory admin was removed from the server, existing Azure Active Directory users created previously inside SQL Server can no longer connect to the database using their Azure Active Directory credentials.</span></span>

## <a name="azure-ad-features-and-limitations"></a><span data-ttu-id="7b760-161">Características y limitaciones de Azure AD</span><span class="sxs-lookup"><span data-stu-id="7b760-161">Azure AD features and limitations</span></span>
<span data-ttu-id="7b760-162">Los siguientes miembros de Azure AD se pueden aprovisionar en Azure SQL Server o en SQL Data Warehouse:</span><span class="sxs-lookup"><span data-stu-id="7b760-162">The following members of Azure AD can be provisioned in Azure SQL server or SQL Data Warehouse:</span></span>

* <span data-ttu-id="7b760-163">Miembros nativos: un miembro creado en Azure AD en el dominio administrado o en un dominio personalizado.</span><span class="sxs-lookup"><span data-stu-id="7b760-163">Native members: A member created in Azure AD in the managed domain or in a customer domain.</span></span> <span data-ttu-id="7b760-164">Para más información, consulte [Incorporación de su nombre de dominio personalizado a Azure Active Directory](../active-directory/active-directory-add-domain.md).</span><span class="sxs-lookup"><span data-stu-id="7b760-164">For more information, see [Add your own domain name to Azure AD](../active-directory/active-directory-add-domain.md).</span></span>
* <span data-ttu-id="7b760-165">Miembros de dominio federado: un miembro creado en Azure AD con un dominio federado.</span><span class="sxs-lookup"><span data-stu-id="7b760-165">Federated domain members: A member created in Azure AD with a federated domain.</span></span> <span data-ttu-id="7b760-166">Para más información, consulte [Microsoft Azure now supports federation with Windows Server Active Directory](https://azure.microsoft.com/blog/2012/11/28/windows-azure-now-supports-federation-with-windows-server-active-directory/)(Microsoft Azure ya admite la federación con Windows Server Active Directory).</span><span class="sxs-lookup"><span data-stu-id="7b760-166">For more information, see [Microsoft Azure now supports federation with Windows Server Active Directory](https://azure.microsoft.com/blog/2012/11/28/windows-azure-now-supports-federation-with-windows-server-active-directory/).</span></span>
* <span data-ttu-id="7b760-167">Miembros importados de otros directorios de Azure AD que son miembros nativos o miembros de dominio federado.</span><span class="sxs-lookup"><span data-stu-id="7b760-167">Imported members from other Azure AD's who are native or federated domain members.</span></span>
* <span data-ttu-id="7b760-168">Grupos de Active Directory creados como grupos de seguridad.</span><span class="sxs-lookup"><span data-stu-id="7b760-168">Active Directory groups created as security groups.</span></span>

<span data-ttu-id="7b760-169">No se admiten las cuentas de Microsoft (por ejemplo, outlook.com, hotmail.com, live.com) ni otras cuentas de invitado (por ejemplo, gmail.com, yahoo.com).</span><span class="sxs-lookup"><span data-stu-id="7b760-169">Microsoft accounts (for example outlook.com, hotmail.com, live.com) or other guest accounts (for example gmail.com, yahoo.com) are not supported.</span></span> <span data-ttu-id="7b760-170">Si puede iniciar sesión en [https://login.live.com](https://login.live.com) con la cuenta y la contraseña, está usando una cuenta Microsoft que no se admite para la autenticación de Azure AD para Base de datos SQL de Azure o Almacenamiento de datos SQL de Azure.</span><span class="sxs-lookup"><span data-stu-id="7b760-170">If you can log in to [https://login.live.com](https://login.live.com) using the account and password, then you are using a Microsoft account, which is not supported for Azure AD authentication for Azure SQL Database or Azure SQL Data Warehouse.</span></span>

## <a name="connecting-using-azure-ad-identities"></a><span data-ttu-id="7b760-171">Conexión mediante identidades de Azure AD</span><span class="sxs-lookup"><span data-stu-id="7b760-171">Connecting using Azure AD identities</span></span>

<span data-ttu-id="7b760-172">La autenticación de Azure Active Directory admite los siguientes métodos de conexión a una base de datos mediante identidades de Azure AD:</span><span class="sxs-lookup"><span data-stu-id="7b760-172">Azure Active Directory authentication supports the following methods of connecting to a database using Azure AD identities:</span></span>

* <span data-ttu-id="7b760-173">Mediante la autenticación integrada de Windows.</span><span class="sxs-lookup"><span data-stu-id="7b760-173">Using integrated Windows authentication</span></span>
* <span data-ttu-id="7b760-174">Mediante el nombre y contraseña de una entidad de seguridad de Azure AD</span><span class="sxs-lookup"><span data-stu-id="7b760-174">Using an Azure AD principal name and a password</span></span>
* <span data-ttu-id="7b760-175">Mediante la autenticación de token de aplicación</span><span class="sxs-lookup"><span data-stu-id="7b760-175">Using Application token authentication</span></span>

### <a name="additional-considerations"></a><span data-ttu-id="7b760-176">Consideraciones adicionales</span><span class="sxs-lookup"><span data-stu-id="7b760-176">Additional considerations</span></span>

* <span data-ttu-id="7b760-177">Para mejorar la capacidad de administración, se recomienda que aprovisione un grupo dedicado de Azure AD como administrador.</span><span class="sxs-lookup"><span data-stu-id="7b760-177">To enhance manageability, we recommended you provision a dedicated Azure AD group as an administrator.</span></span>   
* <span data-ttu-id="7b760-178">Solo un administrador de Azure AD (un usuario o grupo) se puede configurar en un servidor de Azure SQL Server o Azure SQL Data Warehouse en cualquier momento.</span><span class="sxs-lookup"><span data-stu-id="7b760-178">Only one Azure AD administrator (a user or group) can be configured for an Azure SQL server or Azure SQL Data Warehouse at any time.</span></span>   
* <span data-ttu-id="7b760-179">Inicialmente, solo un administrador de Azure AD para SQL Server puede conectarse al servidor de Azure SQL Server o Azure SQL Data Warehouse con una cuenta de Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="7b760-179">Only an Azure AD administrator for SQL Server can initially connect to the Azure SQL server or Azure SQL Data Warehouse using an Azure Active Directory account.</span></span> <span data-ttu-id="7b760-180">El administrador de Active Directory puede configurar los usuarios de la base de datos de Azure AD sucesivos.</span><span class="sxs-lookup"><span data-stu-id="7b760-180">The Active Directory administrator can configure subsequent Azure AD database users.</span></span>   
* <span data-ttu-id="7b760-181">Se recomienda establecer el tiempo de espera de conexión a 30 segundos.</span><span class="sxs-lookup"><span data-stu-id="7b760-181">We recommend setting the connection timeout to 30 seconds.</span></span>   
* <span data-ttu-id="7b760-182">SQL Server 2016 Management Studio y SQL Server Data Tools para Visual Studio 2015 (versión 14.0.60311.1 abril de 2016 o posterior) admiten la autenticación de Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="7b760-182">SQL Server 2016 Management Studio and SQL Server Data Tools for Visual Studio 2015 (version 14.0.60311.1April 2016 or later) support Azure Active Directory authentication.</span></span> <span data-ttu-id="7b760-183">(La autenticación de Azure AD es compatible con el **proveedor de datos .NET Framework para SqlServer**; al menos la versión 4.6 de .NET Framework).</span><span class="sxs-lookup"><span data-stu-id="7b760-183">(Azure AD authentication is supported by the **.NET Framework Data Provider for SqlServer**; at least version .NET Framework 4.6).</span></span> <span data-ttu-id="7b760-184">Por lo tanto, las versiones más recientes de estas herramientas y aplicaciones de capa de datos (DAC y .bacpac) pueden usar la autenticación de Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7b760-184">Therefore the newest versions of these tools and data-tier applications (DAC and .bacpac) can use Azure AD authentication.</span></span>   
* <span data-ttu-id="7b760-185">[La versión 13.1 de ODBC](https://www.microsoft.com/download/details.aspx?id=53339) es compatible con la autenticación de Azure Active Directory; sin embargo, `bcp.exe` no se puede conectar mediante la autenticación de Azure Active Directory porque usa un proveedor de ODBC anterior.</span><span class="sxs-lookup"><span data-stu-id="7b760-185">[ODBC version 13.1](https://www.microsoft.com/download/details.aspx?id=53339) supports Azure Active Directory authentication however `bcp.exe` cannot connect using Azure Active Directory authentication because it uses an older ODBC provider.</span></span>   
* <span data-ttu-id="7b760-186">`sqlcmd` admite la autenticación de Azure Active Directory a partir de la versión 13.1, disponible en el [Centro de descarga](http://go.microsoft.com/fwlink/?LinkID=825643).</span><span class="sxs-lookup"><span data-stu-id="7b760-186">`sqlcmd` supports Azure Active Directory authentication beginning with version 13.1 available from the [Download Center](http://go.microsoft.com/fwlink/?LinkID=825643).</span></span>   
* <span data-ttu-id="7b760-187">SQL Server Data Tools para Visual Studio 2015 requiere al menos la versión de abril de 2016 de Data Tools (versión 14.0.60311.1).</span><span class="sxs-lookup"><span data-stu-id="7b760-187">SQL Server Data Tools for Visual Studio 2015 requires at least the April 2016 version of the Data Tools (version 14.0.60311.1).</span></span> <span data-ttu-id="7b760-188">Actualmente, los usuarios de Azure AD no se muestran en el explorador de objetos de SSDT.</span><span class="sxs-lookup"><span data-stu-id="7b760-188">Currently Azure AD users are not shown in SSDT Object Explorer.</span></span> <span data-ttu-id="7b760-189">Como solución alternativa, vea los usuarios de [sys.database_principals](https://msdn.microsoft.com/library/ms187328.aspx).</span><span class="sxs-lookup"><span data-stu-id="7b760-189">As a workaround, view the users in [sys.database_principals](https://msdn.microsoft.com/library/ms187328.aspx).</span></span>   
* <span data-ttu-id="7b760-190">[Microsoft JDBC Driver 6.0 para SQL Server](https://www.microsoft.com/download/details.aspx?id=11774) es compatible con la autenticación de Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7b760-190">[Microsoft JDBC Driver 6.0 for SQL Server](https://www.microsoft.com/download/details.aspx?id=11774) supports Azure AD authentication.</span></span> <span data-ttu-id="7b760-191">Consulte también [Configurar las propiedades de conexión](https://msdn.microsoft.com/library/ms378988.aspx).</span><span class="sxs-lookup"><span data-stu-id="7b760-191">Also, see [Setting the Connection Properties](https://msdn.microsoft.com/library/ms378988.aspx).</span></span>   
* <span data-ttu-id="7b760-192">PolyBase no se puede autenticar mediante la autenticación de Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7b760-192">PolyBase cannot authenticate by using Azure AD authentication.</span></span>   
* <span data-ttu-id="7b760-193">La autenticación de Azure AD se admite para SQL Database con las hojas **Importar base de datos** y **Exportar base de datos de Azure Portal**.</span><span class="sxs-lookup"><span data-stu-id="7b760-193">Azure AD authentication is supported for SQL Database by the Azure portal **Import Database** and **Export Database** blades.</span></span> <span data-ttu-id="7b760-194">La importación y exportación mediante la autenticación de Azure AD también se admite desde el comando de PowerShell.</span><span class="sxs-lookup"><span data-stu-id="7b760-194">Import and export using Azure AD authentication is also supported from the PowerShell command.</span></span>   
* <span data-ttu-id="7b760-195">La autenticación de Azure AD se admite para SQL Database y SQL Data Warehouse mediante el uso de la CLI.</span><span class="sxs-lookup"><span data-stu-id="7b760-195">Azure AD authentication is supported for SQL Database and SQL Data Warehouse by use CLI.</span></span> <span data-ttu-id="7b760-196">Para obtener más información, consulte [Configuración y administración de la autenticación de Azure Active Directory con SQL Database o SQL Data Warehouse](sql-database-aad-authentication-configure.md) y [SQL Server - az sql server](https://docs.microsoft.com/en-us/cli/azure/sql/server).</span><span class="sxs-lookup"><span data-stu-id="7b760-196">For more information, see [Configure and manage Azure Active Directory authentication with SQL Database or SQL Data Warehouse](sql-database-aad-authentication-configure.md) and [SQL Server - az sql server](https://docs.microsoft.com/en-us/cli/azure/sql/server).</span></span>

## <a name="next-steps"></a><span data-ttu-id="7b760-197">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="7b760-197">Next steps</span></span>
- <span data-ttu-id="7b760-198">Para aprender a crear y rellenar Azure AD y, posteriormente, configurarlo con Azure SQL Database o Azure SQL Data Warehouse, consulte [Configuración y administración de la autenticación de Azure Active Directory con SQL Database o SQL Data Warehouse](sql-database-aad-authentication-configure.md).</span><span class="sxs-lookup"><span data-stu-id="7b760-198">To learn how to create and populate Azure AD, and then configure Azure AD with Azure SQL Database or Azure SQL Data Warehouse, see [Configure and manage Azure Active Directory authentication with SQL Database or SQL Data Warehouse](sql-database-aad-authentication-configure.md).</span></span>
- <span data-ttu-id="7b760-199">Para obtener información general de acceso y control en SQL Database, consulte [Control de acceso a Azure SQL Database](sql-database-control-access.md).</span><span class="sxs-lookup"><span data-stu-id="7b760-199">For an overview of access and control in SQL Database, see [SQL Database access and control](sql-database-control-access.md).</span></span>
- <span data-ttu-id="7b760-200">Para obtener información general de los inicios de sesión, usuarios y roles de base de datos de SQL Database, consulte [Control y concesión de acceso a bases de datos](sql-database-manage-logins.md).</span><span class="sxs-lookup"><span data-stu-id="7b760-200">For an overview of logins, users, and database roles in SQL Database, see [Logins, users, and database roles](sql-database-manage-logins.md).</span></span>
- <span data-ttu-id="7b760-201">Para más información acerca de las entidades de seguridad de bases de datos, consulte [Entidades de seguridad](https://msdn.microsoft.com/library/ms181127.aspx).</span><span class="sxs-lookup"><span data-stu-id="7b760-201">For more information about database principals, see [Principals](https://msdn.microsoft.com/library/ms181127.aspx).</span></span>
- <span data-ttu-id="7b760-202">Para más información acerca de los roles de base de datos, consulte [Roles de nivel de base de datos](https://msdn.microsoft.com/library/ms189121.aspx).</span><span class="sxs-lookup"><span data-stu-id="7b760-202">For more information about database roles, see [Database roles](https://msdn.microsoft.com/library/ms189121.aspx).</span></span>
- <span data-ttu-id="7b760-203">Para más información general acerca de las reglas de firewall de SQL Database, consulte [Introducción a las reglas de firewall de Azure SQL Database](sql-database-firewall-configure.md).</span><span class="sxs-lookup"><span data-stu-id="7b760-203">For more information about firewall rules in SQL Database, see [SQL Database firewall rules](sql-database-firewall-configure.md).</span></span>

<!--Image references-->

[1]: ./media/sql-database-aad-authentication/1aad-auth-diagram.png
[2]: ./media/sql-database-aad-authentication/2subscription-relationship.png
[3]: ./media/sql-database-aad-authentication/3admin-structure.png
[4]: ./media/sql-database-aad-authentication/4select-subscription.png
[5]: ./media/sql-database-aad-authentication/5ad-settings-portal.png
[6]: ./media/sql-database-aad-authentication/6edit-directory-select.png
[7]: ./media/sql-database-aad-authentication/7edit-directory-confirm.png
[8]: ./media/sql-database-aad-authentication/8choose-ad.png
[9]: ./media/sql-database-aad-authentication/9ad-settings.png
[10]: ./media/sql-database-aad-authentication/10choose-admin.png
[11]: ./media/sql-database-aad-authentication/11connect-using-int-auth.png
[12]: ./media/sql-database-aad-authentication/12connect-using-pw-auth.png
[13]: ./media/sql-database-aad-authentication/13connect-to-db.png

