---
title: las reglas de firewall de base de datos SQL de aaaAzure | Documentos de Microsoft
description: "Obtenga información acerca de cómo tooconfigure SQL base de datos firewall con acceso de toomanage de reglas de firewall de nivel de servidor y base de datos."
keywords: firewall de base de datos
services: sql-database
documentationcenter: 
author: BYHAM
manager: jhubbard
editor: cgronlun
tags: 
ms.assetid: ac57f84c-35c3-4975-9903-241c8059011e
ms.service: sql-database
ms.custom: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-management
ms.date: 04/10/2017
ms.author: rickbyh
ms.openlocfilehash: 6a8cdf629d0d0e55421a5e9f9b894a21371be568
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="azure-sql-database-server-level-and-database-level-firewall-rules"></a><span data-ttu-id="26d51-104">Reglas de firewall de nivel de servidor y de nivel de base de datos de Azure SQL Database</span><span class="sxs-lookup"><span data-stu-id="26d51-104">Azure SQL Database server-level and database-level firewall rules</span></span> 

<span data-ttu-id="26d51-105">Microsoft Azure SQL Database ofrece un servicio de base de datos relacional para Azure y otras aplicaciones basadas en Internet.</span><span class="sxs-lookup"><span data-stu-id="26d51-105">Microsoft Azure SQL Database provides a relational database service for Azure and other Internet-based applications.</span></span> <span data-ttu-id="26d51-106">toohelp proteger los datos, firewalls impedir que todos los servidores de base de datos de access tooyour hasta que especifique qué equipos tienen permiso.</span><span class="sxs-lookup"><span data-stu-id="26d51-106">toohelp protect your data, firewalls prevent all access tooyour database server until you specify which computers have permission.</span></span> <span data-ttu-id="26d51-107">firewall de Hello otorga toodatabases de acceso basado en hello procedentes de la dirección IP de cada solicitud.</span><span class="sxs-lookup"><span data-stu-id="26d51-107">hello firewall grants access toodatabases based on hello originating IP address of each request.</span></span>

## <a name="overview"></a><span data-ttu-id="26d51-108">Información general</span><span class="sxs-lookup"><span data-stu-id="26d51-108">Overview</span></span>

<span data-ttu-id="26d51-109">Inicialmente, todos los servidor de SQL Azure de tooyour de acceso de Transact-SQL está bloqueado por firewall de Hola.</span><span class="sxs-lookup"><span data-stu-id="26d51-109">Initially, all Transact-SQL access tooyour Azure SQL server is blocked by hello firewall.</span></span> <span data-ttu-id="26d51-110">toobegin con el servidor SQL Azure, debe especificar una o varias reglas de firewall de nivel de servidor que permiten el acceso a tooyour Azure SQL server.</span><span class="sxs-lookup"><span data-stu-id="26d51-110">toobegin using your Azure SQL server, you must specify one or more server-level firewall rules that enable access tooyour Azure SQL server.</span></span> <span data-ttu-id="26d51-111">Utilice toospecify de reglas de firewall de hello dirección IP que va de hello Internet se permiten y si las aplicaciones de Azure pueden intentar tooconnect tooyour servidor SQL de Azure.</span><span class="sxs-lookup"><span data-stu-id="26d51-111">Use hello firewall rules toospecify which IP address ranges from hello Internet are allowed, and whether Azure applications can attempt tooconnect tooyour Azure SQL server.</span></span>

<span data-ttu-id="26d51-112">tooselectively toojust de acceso de concesión de una de las bases de datos de hello en el servidor de SQL Azure, debe crear una regla de nivel de base de datos para la base de datos necesarios de Hola.</span><span class="sxs-lookup"><span data-stu-id="26d51-112">tooselectively grant access toojust one of hello databases in your Azure SQL server, you must create a database-level rule for hello required database.</span></span> <span data-ttu-id="26d51-113">Especifique un intervalo de direcciones IP de regla de firewall de base de datos de Hola que está más allá de hello intervalo especificado en la regla de firewall de nivel de servidor de Hola de direcciones IP y asegúrese de que Hola dirección IP del Hola cliente está en intervalo de hello especificado en la regla de nivel de base de datos de Hola.</span><span class="sxs-lookup"><span data-stu-id="26d51-113">Specify an IP address range for hello database firewall rule that is beyond hello IP address range specified in hello server-level firewall rule, and ensure that hello IP address of hello client falls in hello range specified in hello database-level rule.</span></span>

<span data-ttu-id="26d51-114">Hola de intentos de conexión desde Internet y Azure debe atravesar primero firewall Hola antes de poder alcanzar su servidor de SQL Azure o base de datos de SQL, como se muestra en hello siguiente diagrama:</span><span class="sxs-lookup"><span data-stu-id="26d51-114">Connection attempts from hello Internet and Azure must first pass through hello firewall before they can reach your Azure SQL server or SQL Database, as shown in hello following diagram:</span></span>

   ![Diagrama donde se describe la configuración del firewall.][1]

* <span data-ttu-id="26d51-116">**Las reglas de firewall de nivel de servidor:** estas reglas permiten a los clientes tooaccess todo el servidor de SQL Azure, es decir, todas las bases de datos de Hola de Hola mismo servidor lógico.</span><span class="sxs-lookup"><span data-stu-id="26d51-116">**Server-level firewall rules:** These rules enable clients tooaccess your entire Azure SQL server, that is, all hello databases within hello same logical server.</span></span> <span data-ttu-id="26d51-117">Estas reglas se almacenan en hello **maestro** base de datos.</span><span class="sxs-lookup"><span data-stu-id="26d51-117">These rules are stored in hello **master** database.</span></span> <span data-ttu-id="26d51-118">Las reglas de firewall de nivel de servidor pueden configurarse mediante el portal de Hola o mediante instrucciones Transact-SQL.</span><span class="sxs-lookup"><span data-stu-id="26d51-118">Server-level firewall rules can be configured by using hello portal or by using Transact-SQL statements.</span></span> <span data-ttu-id="26d51-119">reglas de firewall de nivel de servidor de toocreate con hello portal de Azure o con PowerShell, debe ser propietario de la suscripción de Hola o de un colaborador de suscripción.</span><span class="sxs-lookup"><span data-stu-id="26d51-119">toocreate server-level firewall rules using hello Azure portal or PowerShell, you must be hello subscription owner or a subscription contributor.</span></span> <span data-ttu-id="26d51-120">toocreate una regla de firewall de nivel de servidor mediante Transact-SQL, debe conectarse la instancia de base de datos SQL de toohello como inicio de sesión principal del nivel de servidor de Hola o un administrador de Azure Active Directory hello (lo que significa que primero se debe crear una regla de firewall de nivel de servidor un usuario con permisos de nivel de Azure).</span><span class="sxs-lookup"><span data-stu-id="26d51-120">toocreate a server-level firewall rule using Transact-SQL, you must connect toohello SQL Database instance as hello server-level principal login or hello Azure Active Directory administrator (which means that a server-level firewall rule must first be created by a user with Azure-level permissions).</span></span>
* <span data-ttu-id="26d51-121">**Las reglas de firewall de nivel de base de datos:** estas reglas permiten a clientes tooaccess ciertos (seguro) bases de datos dentro de hello mismo servidor lógico.</span><span class="sxs-lookup"><span data-stu-id="26d51-121">**Database-level firewall rules:** These rules enable clients tooaccess certain (secure) databases within hello same logical server.</span></span> <span data-ttu-id="26d51-122">Puede crear estas reglas para cada base de datos (incluidos hello **maestro** database0) y se almacenan en bases de datos individuales de Hola.</span><span class="sxs-lookup"><span data-stu-id="26d51-122">You can create these rules for each database (including hello **master** database0) and they are stored in hello individual databases.</span></span> <span data-ttu-id="26d51-123">Las reglas de firewall de nivel de base de datos solo pueden configurarse mediante instrucciones Transact-SQL y solo después de haber configurado Hola primer firewall de nivel de servidor.</span><span class="sxs-lookup"><span data-stu-id="26d51-123">Database-level firewall rules can only be configured by using Transact-SQL statements and only after you have configured hello first server-level firewall.</span></span> <span data-ttu-id="26d51-124">Si especifica un intervalo de direcciones IP en la regla de firewall de nivel de base de datos de Hola que es el intervalo de hello exterior especificado en la regla de firewall de nivel de servidor de hello, solo los clientes que tengan direcciones IP en el intervalo de nivel de base de datos de hello pueden tener acceso a la base de datos de Hola.</span><span class="sxs-lookup"><span data-stu-id="26d51-124">If you specify an IP address range in hello database-level firewall rule that is outside hello range specified in hello server-level firewall rule, only those clients that have IP addresses in hello database-level range can access hello database.</span></span> <span data-ttu-id="26d51-125">Puede tener un máximo de 128 reglas de firewall de nivel de base de datos para una base de datos.</span><span class="sxs-lookup"><span data-stu-id="26d51-125">You can have a maximum of 128 database-level firewall rules for a database.</span></span> <span data-ttu-id="26d51-126">Solo se pueden crear reglas de firewall de nivel de base de datos para las bases de datos de usuario y maestras y administrarse a través de Transact-SQL.</span><span class="sxs-lookup"><span data-stu-id="26d51-126">Database-level firewall rules for master and user databases can only be created and managed through Transact-SQL.</span></span> <span data-ttu-id="26d51-127">Para obtener más información acerca de cómo configurar las reglas de firewall de nivel de base de datos, vea ejemplo de Hola más adelante en este artículo y vea [sp_set_database_firewall_rule (bases de datos de SQL Azure)](https://msdn.microsoft.com/library/dn270010.aspx).</span><span class="sxs-lookup"><span data-stu-id="26d51-127">For more information on configuring database-level firewall rules, see hello example later in this article and see [sp_set_database_firewall_rule (Azure SQL Databases)](https://msdn.microsoft.com/library/dn270010.aspx).</span></span>

<span data-ttu-id="26d51-128">**Recomendación:** Microsoft recomienda el uso de reglas de firewall de nivel de base de datos siempre que sea posible tooenhance seguridad y toomake la base de datos más portátil.</span><span class="sxs-lookup"><span data-stu-id="26d51-128">**Recommendation:** Microsoft recommends using database-level firewall rules whenever possible tooenhance security and toomake your database more portable.</span></span> <span data-ttu-id="26d51-129">Utilizar reglas de firewall de nivel de servidor para los administradores y si tiene muchas bases de datos que han Hola mismos requisitos de acceso y no desea tiempo toospend configurar individualmente cada base de datos.</span><span class="sxs-lookup"><span data-stu-id="26d51-129">Use server-level firewall rules for administrators and when you have many databases that have hello same access requirements and you don't want toospend time configuring each database individually.</span></span>

> [!Note]
> <span data-ttu-id="26d51-130">Para obtener información acerca de las bases de datos portables en contexto de Hola de continuidad del negocio, consulte [requisitos de autenticación para la recuperación ante desastres](sql-database-geo-replication-security-config.md).</span><span class="sxs-lookup"><span data-stu-id="26d51-130">For information about portable databases in hello context of business continuity, see [Authentication requirements for disaster recovery](sql-database-geo-replication-security-config.md).</span></span>
>

### <a name="connecting-from-hello-internet"></a><span data-ttu-id="26d51-131">La conexión desde Internet Hola</span><span class="sxs-lookup"><span data-stu-id="26d51-131">Connecting from hello Internet</span></span>

<span data-ttu-id="26d51-132">Cuando un equipo intenta tooconnect tooyour servidor de base de datos de Internet de hello, firewall de hello comprueba primero Hola procedentes de la dirección IP de solicitud de hello según las reglas de firewall de nivel de base de datos de hello, para base de datos de Hola que está solicitando conexión hello:</span><span class="sxs-lookup"><span data-stu-id="26d51-132">When a computer attempts tooconnect tooyour database server from hello Internet, hello firewall first checks hello originating IP address of hello request against hello database-level firewall rules, for hello database that hello connection is requesting:</span></span>

* <span data-ttu-id="26d51-133">Si es dirección IP de saludo de solicitud de hello en uno de los intervalos de hello especificados en las reglas de firewall de nivel de base de datos de hello, conexión Hola se concede toohello base de datos de SQL que contiene la regla de Hola.</span><span class="sxs-lookup"><span data-stu-id="26d51-133">If hello IP address of hello request is within one of hello ranges specified in hello database-level firewall rules, hello connection is granted toohello SQL Database that contains hello rule.</span></span>
* <span data-ttu-id="26d51-134">Si dirección IP de saludo de solicitud de hello no está dentro de uno de los intervalos de hello especificados en la regla de firewall de nivel de base de datos de hello, se comprueban las reglas de firewall de nivel de servidor de Hola.</span><span class="sxs-lookup"><span data-stu-id="26d51-134">If hello IP address of hello request is not within one of hello ranges specified in hello database-level firewall rule, hello server-level firewall rules are checked.</span></span> <span data-ttu-id="26d51-135">Si dirección IP de saludo de solicitud de hello es dentro de uno de los intervalos de hello especificados en las reglas de firewall de nivel de servidor de hello, se concede la conexión Hola.</span><span class="sxs-lookup"><span data-stu-id="26d51-135">If hello IP address of hello request is within one of hello ranges specified in hello server-level firewall rules, hello connection is granted.</span></span> <span data-ttu-id="26d51-136">Las reglas de firewall de nivel de servidor aplican tooall bases de datos SQL en el servidor de SQL Azure Hola.</span><span class="sxs-lookup"><span data-stu-id="26d51-136">Server-level firewall rules apply tooall SQL databases on hello Azure SQL server.</span></span>  
* <span data-ttu-id="26d51-137">Si dirección IP de saludo de solicitud de hello no está dentro de intervalos de hello especifican en cualquiera de hello nivel de base de datos o reglas de firewall de nivel de servidor, se produce un error en la solicitud de conexión de Hola.</span><span class="sxs-lookup"><span data-stu-id="26d51-137">If hello IP address of hello request is not within hello ranges specified in any of hello database-level or server-level firewall rules, hello connection request fails.</span></span>

> [!NOTE]
> <span data-ttu-id="26d51-138">tooaccess base de datos de SQL Azure desde el equipo local, asegúrese de firewall de hello en la red y el equipo local permita la comunicación saliente en el puerto TCP 1433.</span><span class="sxs-lookup"><span data-stu-id="26d51-138">tooaccess Azure SQL Database from your local computer, ensure hello firewall on your network and local computer allows outgoing communication on TCP port 1433.</span></span>
> 

### <a name="connecting-from-azure"></a><span data-ttu-id="26d51-139">Conexión desde Azure</span><span class="sxs-lookup"><span data-stu-id="26d51-139">Connecting from Azure</span></span>
<span data-ttu-id="26d51-140">deben habilitarse tooallow aplicaciones de Azure tooconnect tooyour servidor SQL Azure, las conexiones de Azure.</span><span class="sxs-lookup"><span data-stu-id="26d51-140">tooallow applications from Azure tooconnect tooyour Azure SQL server, Azure connections must be enabled.</span></span> <span data-ttu-id="26d51-141">Cuando una aplicación de Azure intenta el servidor de base de datos de tooconnect tooyour, firewall de hello comprueba que se permiten las conexiones de Azure.</span><span class="sxs-lookup"><span data-stu-id="26d51-141">When an application from Azure attempts tooconnect tooyour database server, hello firewall verifies that Azure connections are allowed.</span></span> <span data-ttu-id="26d51-142">Un configuración del firewall con inicial y final too0.0.0.0 igual de dirección indica que se permiten las conexiones.</span><span class="sxs-lookup"><span data-stu-id="26d51-142">A firewall setting with starting and ending address equal too0.0.0.0 indicates these connections are allowed.</span></span> <span data-ttu-id="26d51-143">Si no se permite el intento de conexión de hello, solicitud de hello no alcanza servidor de base de datos de SQL Azure Hola.</span><span class="sxs-lookup"><span data-stu-id="26d51-143">If hello connection attempt is not allowed, hello request does not reach hello Azure SQL Database server.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="26d51-144">Esta opción configura Hola firewall tooallow todas las conexiones desde las conexiones incluidas Azure en suscripciones de Hola de otros clientes.</span><span class="sxs-lookup"><span data-stu-id="26d51-144">This option configures hello firewall tooallow all connections from Azure including connections from hello subscriptions of other customers.</span></span> <span data-ttu-id="26d51-145">Al seleccionar esta opción, asegúrese de que el inicio de sesión y permisos de usuario limitan tooonly de acceso a los usuarios autorización.</span><span class="sxs-lookup"><span data-stu-id="26d51-145">When selecting this option, make sure your login and user permissions limit access tooonly authorized users.</span></span>
> 

## <a name="creating-and-managing-firewall-rules"></a><span data-ttu-id="26d51-146">Creación y administración de reglas de firewall</span><span class="sxs-lookup"><span data-stu-id="26d51-146">Creating and managing firewall rules</span></span>
<span data-ttu-id="26d51-147">primera configuración del firewall de nivel de servidor Hello puede crearse con hello [portal de Azure](https://portal.azure.com/) o utilizando mediante programación [Azure PowerShell](https://msdn.microsoft.com/library/azure/dn546724.aspx), [Azure CLI](/cli/azure/sql/server/firewall-rule#create), o hello [API de REST](https://msdn.microsoft.com/library/azure/dn505712.aspx).</span><span class="sxs-lookup"><span data-stu-id="26d51-147">hello first server-level firewall setting can be created using hello [Azure portal](https://portal.azure.com/) or programmatically using [Azure PowerShell](https://msdn.microsoft.com/library/azure/dn546724.aspx), [Azure CLI](/cli/azure/sql/server/firewall-rule#create), or hello [REST API](https://msdn.microsoft.com/library/azure/dn505712.aspx).</span></span> <span data-ttu-id="26d51-148">Las reglas de firewall de nivel de servidor posteriores se pueden crear y administrar mediante estos métodos, y mediante Transact-SQL.</span><span class="sxs-lookup"><span data-stu-id="26d51-148">Subsequent server-level firewall rules can be created and managed using these methods, and through Transact-SQL.</span></span> 

> [!IMPORTANT]
> <span data-ttu-id="26d51-149">Las reglas de firewall de nivel de base de datos solo pueden crearse y administrarse mediante Transact-SQL.</span><span class="sxs-lookup"><span data-stu-id="26d51-149">Database-level firewall rules can only be created and managed using Transact-SQL.</span></span> 
>

<span data-ttu-id="26d51-150">rendimiento de tooimprove, firewall de nivel de servidor se almacenan en caché temporalmente las reglas en el nivel de base de datos de Hola.</span><span class="sxs-lookup"><span data-stu-id="26d51-150">tooimprove performance, server-level firewall rules are temporarily cached at hello database level.</span></span> <span data-ttu-id="26d51-151">caché de hello toorefresh, consulte [DBCC FLUSHAUTHCACHE](https://msdn.microsoft.com/library/mt627793.aspx).</span><span class="sxs-lookup"><span data-stu-id="26d51-151">toorefresh hello cache, see [DBCC FLUSHAUTHCACHE](https://msdn.microsoft.com/library/mt627793.aspx).</span></span> 

> [!TIP]
> <span data-ttu-id="26d51-152">Puede usar [auditoría de base de datos de SQL](sql-database-auditing.md) tooaudit cambios en el firewall de nivel de servidor y base de datos.</span><span class="sxs-lookup"><span data-stu-id="26d51-152">You can use [SQL Database Auditing](sql-database-auditing.md) tooaudit server-level and database-level firewall changes.</span></span>
>

### <a name="azure-portal"></a><span data-ttu-id="26d51-153">Azure Portal</span><span class="sxs-lookup"><span data-stu-id="26d51-153">Azure portal</span></span>

<span data-ttu-id="26d51-154">tooset una regla de firewall de nivel de servidor en hello portal de Azure, o bien puede ir toohello página de información general de la página de información general de Hola o de base de datos de SQL Azure del servidor lógico de la base de datos de Azure.</span><span class="sxs-lookup"><span data-stu-id="26d51-154">tooset a server-level firewall rule in hello Azure portal, you can either go toohello Overview page for your Azure SQL database or hello Overview page for your Azure Database logical server.</span></span>

> [!TIP]
> <span data-ttu-id="26d51-155">Para obtener un tutorial, vea [crear una base de datos con Hola portal de Azure](sql-database-get-started-portal.md).</span><span class="sxs-lookup"><span data-stu-id="26d51-155">For a tutorial, see [Create a DB using hello Azure portal](sql-database-get-started-portal.md).</span></span>
>

<span data-ttu-id="26d51-156">**Desde la página de información general de la base de datos**</span><span class="sxs-lookup"><span data-stu-id="26d51-156">**From database overview page**</span></span>

1. <span data-ttu-id="26d51-157">tooset una regla de firewall de nivel de servidor de la página de información general de la base de datos de hello, haga clic en **Configurar firewall de servidor** en barra de herramientas de hello como se muestra en hello después de imagen: Hola **configuración del Firewall** página de hello SQL Se abre el servidor de base de datos.</span><span class="sxs-lookup"><span data-stu-id="26d51-157">tooset a server-level firewall rule from hello database overview page, click **Set server firewall** on hello toolbar as shown in hello following image: hello **Firewall settings** page for hello SQL Database server opens.</span></span>

      ![regla de firewall del servidor](./media/sql-database-get-started-portal/server-firewall-rule.png) 

2. <span data-ttu-id="26d51-159">Haga clic en **agregar dirección IP del cliente** en hello barra de herramientas tooadd Hola dirección IP del equipo de Hola que está usando actualmente y, a continuación, haga clic en **guardar**.</span><span class="sxs-lookup"><span data-stu-id="26d51-159">Click **Add client IP** on hello toolbar tooadd hello IP address of hello computer you are currently using and then click **Save**.</span></span> <span data-ttu-id="26d51-160">Se creará una regla de firewall de nivel de servidor para la dirección IP actual.</span><span class="sxs-lookup"><span data-stu-id="26d51-160">A server-level firewall rule is created for your current IP address.</span></span>

      ![establecer regla de firewall del servidor](./media/sql-database-get-started-portal/server-firewall-rule-set.png) 

<span data-ttu-id="26d51-162">**Desde la página de información general del servidor**</span><span class="sxs-lookup"><span data-stu-id="26d51-162">**From server overview page**</span></span>

<span data-ttu-id="26d51-163">página de información general para abrir el servidor, que muestra que Hola totalmente Hello calificado nombre del servidor (como **mynewserver20170403.database.windows.net**) y proporciona opciones para otra configuración.</span><span class="sxs-lookup"><span data-stu-id="26d51-163">hello overview page for your server opens, showing you hello fully qualified server name (such as **mynewserver20170403.database.windows.net**) and provides options for further configuration.</span></span>

1. <span data-ttu-id="26d51-164">tooset una regla de nivel de servidor de la página de información general del servidor, haga clic en **Firewall** en el menú izquierdo de hello en la configuración tal y como se ha explicado en hello después de la imagen:</span><span class="sxs-lookup"><span data-stu-id="26d51-164">tooset a server-level rule from server overview page, click **Firewall** in hello left-hand menu under Settings as showed in hello following image:</span></span> 

     ![información general del servidor lógico](./media/sql-database-migrate-your-sql-server-database/logical-server-overview.png)

2. <span data-ttu-id="26d51-166">Haga clic en **agregar dirección IP del cliente** en hello barra de herramientas tooadd Hola dirección IP del equipo de Hola que está usando actualmente y, a continuación, haga clic en **guardar**.</span><span class="sxs-lookup"><span data-stu-id="26d51-166">Click **Add client IP** on hello toolbar tooadd hello IP address of hello computer you are currently using and then click **Save**.</span></span> <span data-ttu-id="26d51-167">Se creará una regla de firewall de nivel de servidor para la dirección IP actual.</span><span class="sxs-lookup"><span data-stu-id="26d51-167">A server-level firewall rule is created for your current IP address.</span></span>

     ![establecer regla de firewall del servidor](./media/sql-database-migrate-your-sql-server-database/server-firewall-rule-set.png)

### <a name="transact-sql"></a><span data-ttu-id="26d51-169">Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="26d51-169">Transact-SQL</span></span>
| <span data-ttu-id="26d51-170">Vista de catálogo o un procedimiento almacenado</span><span class="sxs-lookup"><span data-stu-id="26d51-170">Catalog View or Stored Procedure</span></span> | <span data-ttu-id="26d51-171">Level</span><span class="sxs-lookup"><span data-stu-id="26d51-171">Level</span></span> | <span data-ttu-id="26d51-172">Descripción</span><span class="sxs-lookup"><span data-stu-id="26d51-172">Description</span></span> |
| --- | --- | --- |
| [<span data-ttu-id="26d51-173">sys.firewall_rules</span><span class="sxs-lookup"><span data-stu-id="26d51-173">sys.firewall_rules</span></span>](https://msdn.microsoft.com/library/dn269980.aspx) |<span data-ttu-id="26d51-174">Server</span><span class="sxs-lookup"><span data-stu-id="26d51-174">Server</span></span> |<span data-ttu-id="26d51-175">Muestra las reglas de firewall de nivel de servidor actuales Hola</span><span class="sxs-lookup"><span data-stu-id="26d51-175">Displays hello current server-level firewall rules</span></span> |
| [<span data-ttu-id="26d51-176">sp_set_firewall_rule</span><span class="sxs-lookup"><span data-stu-id="26d51-176">sp_set_firewall_rule</span></span>](https://msdn.microsoft.com/library/dn270017.aspx) |<span data-ttu-id="26d51-177">Server</span><span class="sxs-lookup"><span data-stu-id="26d51-177">Server</span></span> |<span data-ttu-id="26d51-178">Crea o actualiza las reglas de firewall de nivel de servidor</span><span class="sxs-lookup"><span data-stu-id="26d51-178">Creates or updates server-level firewall rules</span></span> |
| [<span data-ttu-id="26d51-179">sp_delete_firewall_rule</span><span class="sxs-lookup"><span data-stu-id="26d51-179">sp_delete_firewall_rule</span></span>](https://msdn.microsoft.com/library/dn270024.aspx) |<span data-ttu-id="26d51-180">Server</span><span class="sxs-lookup"><span data-stu-id="26d51-180">Server</span></span> |<span data-ttu-id="26d51-181">Elimina las reglas de firewall de nivel de servidor</span><span class="sxs-lookup"><span data-stu-id="26d51-181">Removes server-level firewall rules</span></span> |
| [<span data-ttu-id="26d51-182">sys.database_firewall_rules</span><span class="sxs-lookup"><span data-stu-id="26d51-182">sys.database_firewall_rules</span></span>](https://msdn.microsoft.com/library/dn269982.aspx) |<span data-ttu-id="26d51-183">Base de datos</span><span class="sxs-lookup"><span data-stu-id="26d51-183">Database</span></span> |<span data-ttu-id="26d51-184">Muestra las reglas de firewall de nivel de base de datos actual Hola</span><span class="sxs-lookup"><span data-stu-id="26d51-184">Displays hello current database-level firewall rules</span></span> |
| [<span data-ttu-id="26d51-185">sp_set_database_firewall_rule</span><span class="sxs-lookup"><span data-stu-id="26d51-185">sp_set_database_firewall_rule</span></span>](https://msdn.microsoft.com/library/dn270010.aspx) |<span data-ttu-id="26d51-186">Base de datos</span><span class="sxs-lookup"><span data-stu-id="26d51-186">Database</span></span> |<span data-ttu-id="26d51-187">Crea o actualiza las reglas de firewall de nivel de base de datos de Hola</span><span class="sxs-lookup"><span data-stu-id="26d51-187">Creates or updates hello database-level firewall rules</span></span> |
| [<span data-ttu-id="26d51-188">sp_delete_database_firewall_rule</span><span class="sxs-lookup"><span data-stu-id="26d51-188">sp_delete_database_firewall_rule</span></span>](https://msdn.microsoft.com/library/dn270030.aspx) |<span data-ttu-id="26d51-189">Bases de datos</span><span class="sxs-lookup"><span data-stu-id="26d51-189">Databases</span></span> |<span data-ttu-id="26d51-190">Elimina las reglas de firewall de nivel de base de datos</span><span class="sxs-lookup"><span data-stu-id="26d51-190">Removes database-level firewall rules</span></span> |


<span data-ttu-id="26d51-191">Hello en los ejemplos siguientes revisión las reglas existentes hello, habilite un intervalo de direcciones IP en el servidor de hello Contoso y elimina una regla de firewall:</span><span class="sxs-lookup"><span data-stu-id="26d51-191">hello following examples review hello existing rules, enable a range of IP addresses on hello server Contoso, and deletes a firewall rule:</span></span>
   
```sql
SELECT * FROM sys.firewall_rules ORDER BY name;
```
  
<span data-ttu-id="26d51-192">A continuación, agregue una regla de firewall.</span><span class="sxs-lookup"><span data-stu-id="26d51-192">Next, add a firewall rule.</span></span>
   
```sql
EXECUTE sp_set_firewall_rule @name = N'ContosoFirewallRule',
   @start_ip_address = '192.168.1.1', @end_ip_address = '192.168.1.10'
```

<span data-ttu-id="26d51-193">toodelete una regla de firewall de nivel de servidor, Ejecutar procedimiento sp_delete_firewall_rule almacenado de Hola.</span><span class="sxs-lookup"><span data-stu-id="26d51-193">toodelete a server-level firewall rule, execute hello sp_delete_firewall_rule stored procedure.</span></span> <span data-ttu-id="26d51-194">Hello en el ejemplo siguiente se elimina regla Hola denominada ContosoFirewallRule:</span><span class="sxs-lookup"><span data-stu-id="26d51-194">hello following example deletes hello rule named ContosoFirewallRule:</span></span>
   
```sql
EXECUTE sp_delete_firewall_rule @name = N'ContosoFirewallRule'
```   

### <a name="azure-powershell"></a><span data-ttu-id="26d51-195">Azure PowerShell</span><span class="sxs-lookup"><span data-stu-id="26d51-195">Azure PowerShell</span></span>
| <span data-ttu-id="26d51-196">Cmdlet</span><span class="sxs-lookup"><span data-stu-id="26d51-196">Cmdlet</span></span> | <span data-ttu-id="26d51-197">Level</span><span class="sxs-lookup"><span data-stu-id="26d51-197">Level</span></span> | <span data-ttu-id="26d51-198">Description</span><span class="sxs-lookup"><span data-stu-id="26d51-198">Description</span></span> |
| --- | --- | --- |
| [<span data-ttu-id="26d51-199">Get-AzureSqlDatabaseServerFirewallRule</span><span class="sxs-lookup"><span data-stu-id="26d51-199">Get-AzureSqlDatabaseServerFirewallRule</span></span>](https://msdn.microsoft.com/library/azure/dn546731.aspx) |<span data-ttu-id="26d51-200">Server</span><span class="sxs-lookup"><span data-stu-id="26d51-200">Server</span></span> |<span data-ttu-id="26d51-201">Devuelve las reglas de firewall de nivel de servidor actuales Hola</span><span class="sxs-lookup"><span data-stu-id="26d51-201">Returns hello current server-level firewall rules</span></span> |
| [<span data-ttu-id="26d51-202">New-AzureSqlDatabaseServerFirewallRule</span><span class="sxs-lookup"><span data-stu-id="26d51-202">New-AzureSqlDatabaseServerFirewallRule</span></span>](https://msdn.microsoft.com/library/azure/dn546724.aspx) |<span data-ttu-id="26d51-203">Server</span><span class="sxs-lookup"><span data-stu-id="26d51-203">Server</span></span> |<span data-ttu-id="26d51-204">Crear una regla de firewall de nivel de servidor</span><span class="sxs-lookup"><span data-stu-id="26d51-204">Creates a new server-level firewall rule</span></span> |
| [<span data-ttu-id="26d51-205">Set-AzureSqlDatabaseServerFirewallRule</span><span class="sxs-lookup"><span data-stu-id="26d51-205">Set-AzureSqlDatabaseServerFirewallRule</span></span>](https://msdn.microsoft.com/library/azure/dn546739.aspx) |<span data-ttu-id="26d51-206">Server</span><span class="sxs-lookup"><span data-stu-id="26d51-206">Server</span></span> |<span data-ttu-id="26d51-207">Actualiza las propiedades de Hola de una regla de firewall de nivel de servidor existente</span><span class="sxs-lookup"><span data-stu-id="26d51-207">Updates hello properties of an existing server-level firewall rule</span></span> |
| [<span data-ttu-id="26d51-208">Remove-AzureSqlDatabaseServerFirewallRule</span><span class="sxs-lookup"><span data-stu-id="26d51-208">Remove-AzureSqlDatabaseServerFirewallRule</span></span>](https://msdn.microsoft.com/library/azure/dn546727.aspx) |<span data-ttu-id="26d51-209">Server</span><span class="sxs-lookup"><span data-stu-id="26d51-209">Server</span></span> |<span data-ttu-id="26d51-210">Elimina las reglas de firewall de nivel de servidor</span><span class="sxs-lookup"><span data-stu-id="26d51-210">Removes server-level firewall rules</span></span> |


<span data-ttu-id="26d51-211">Hola de ejemplo siguiente establece una regla de firewall de nivel de servidor mediante PowerShell:</span><span class="sxs-lookup"><span data-stu-id="26d51-211">hello following example sets a server-level firewall rule using PowerShell:</span></span>

```powershell
New-AzureRmSqlServerFirewallRule -ResourceGroupName "myResourceGroup" `
    -ServerName $servername `
    -FirewallRuleName "AllowSome" -StartIpAddress "0.0.0.0" -EndIpAddress "0.0.0.0"
```

> [!TIP]
> <span data-ttu-id="26d51-212">En los ejemplos de PowerShell de contexto de Hola de un inicio rápido, consulte [crear DB - PowerShell](sql-database-get-started-powershell.md) y [crear una base de datos y configurar una regla de firewall con PowerShell](scripts/sql-database-create-and-configure-database-powershell.md)</span><span class="sxs-lookup"><span data-stu-id="26d51-212">For PowerShell examples in hello context of a quick start, see [Create DB - PowerShell](sql-database-get-started-powershell.md) and [Create a single database and configure a firewall rule using PowerShell](scripts/sql-database-create-and-configure-database-powershell.md)</span></span>
>

### <a name="azure-cli"></a><span data-ttu-id="26d51-213">CLI de Azure</span><span class="sxs-lookup"><span data-stu-id="26d51-213">Azure CLI</span></span>
| <span data-ttu-id="26d51-214">Cmdlet</span><span class="sxs-lookup"><span data-stu-id="26d51-214">Cmdlet</span></span> | <span data-ttu-id="26d51-215">Level</span><span class="sxs-lookup"><span data-stu-id="26d51-215">Level</span></span> | <span data-ttu-id="26d51-216">Descripción</span><span class="sxs-lookup"><span data-stu-id="26d51-216">Description</span></span> |
| --- | --- | --- |
| [<span data-ttu-id="26d51-217">az sql server firewall create</span><span class="sxs-lookup"><span data-stu-id="26d51-217">az sql server firewall create</span></span>](/cli/azure/sql/server/firewall-rule#create) | <span data-ttu-id="26d51-218">Crea un tooall de acceso tooallow de regla de firewall bases de datos SQL en servidor de Hola de intervalo de direcciones IP de hello especificado.</span><span class="sxs-lookup"><span data-stu-id="26d51-218">Creates a firewall rule tooallow access tooall SQL Databases on hello server from hello entered IP address range.</span></span>|
| [<span data-ttu-id="26d51-219">az sql server firewall delete</span><span class="sxs-lookup"><span data-stu-id="26d51-219">az sql server firewall delete</span></span>](/cli/azure/sql/server/firewall-rule#delete)| <span data-ttu-id="26d51-220">Elimina una regla de firewall.</span><span class="sxs-lookup"><span data-stu-id="26d51-220">Deletes a firewall rule.</span></span>|
| [<span data-ttu-id="26d51-221">az sql server firewall list</span><span class="sxs-lookup"><span data-stu-id="26d51-221">az sql server firewall list</span></span>](/cli/azure/sql/server/firewall-rule#list)| <span data-ttu-id="26d51-222">Enumera las reglas de firewall de Hola.</span><span class="sxs-lookup"><span data-stu-id="26d51-222">Lists hello firewall rules.</span></span>|
| [<span data-ttu-id="26d51-223">az sql server firewall rule show</span><span class="sxs-lookup"><span data-stu-id="26d51-223">az sql server firewall rule show</span></span>](/cli/azure/sql/server/firewall-rule#show)| <span data-ttu-id="26d51-224">Muestra los detalles de Hola de una regla de firewall.</span><span class="sxs-lookup"><span data-stu-id="26d51-224">Shows hello details of a firewall rule.</span></span>|
| [<span data-ttu-id="26d51-225">ax sql server firewall rule update</span><span class="sxs-lookup"><span data-stu-id="26d51-225">ax sql server firewall rule update</span></span>](/cli/azure/sql/server/firewall-rule#update)| <span data-ttu-id="26d51-226">Actualiza una regla de firewall.</span><span class="sxs-lookup"><span data-stu-id="26d51-226">Updates a firewall rule.</span></span>

<span data-ttu-id="26d51-227">Hola de ejemplo siguiente establece una regla de firewall de nivel de servidor mediante Hola CLI de Azure:</span><span class="sxs-lookup"><span data-stu-id="26d51-227">hello following example sets a server-level firewall rule using hello Azure CLI:</span></span> 

```azurecli-interactive
az sql server firewall-rule create --resource-group myResourceGroup --server $servername \
    -n AllowYourIp --start-ip-address 0.0.0.0 --end-ip-address 0.0.0.0
```

> [!TIP]
> <span data-ttu-id="26d51-228">Para obtener un ejemplo de CLI de Azure en el contexto de Hola de un inicio rápido, consulte [crear DDB - Azure CLI](sql-database-get-started-cli.md) y [crear una base de datos y configurar una regla de firewall mediante Hola CLI de Azure](scripts/sql-database-create-and-configure-database-cli.md)</span><span class="sxs-lookup"><span data-stu-id="26d51-228">For an Azure CLI example in hello context of a quick start, see [Create DDB - Azure CLI](sql-database-get-started-cli.md) and [Create a single database and configure a firewall rule using hello Azure CLI](scripts/sql-database-create-and-configure-database-cli.md)</span></span>
>

### <a name="rest-api"></a><span data-ttu-id="26d51-229">API de REST</span><span class="sxs-lookup"><span data-stu-id="26d51-229">REST API</span></span>
| <span data-ttu-id="26d51-230">API</span><span class="sxs-lookup"><span data-stu-id="26d51-230">API</span></span> | <span data-ttu-id="26d51-231">Level</span><span class="sxs-lookup"><span data-stu-id="26d51-231">Level</span></span> | <span data-ttu-id="26d51-232">Description</span><span class="sxs-lookup"><span data-stu-id="26d51-232">Description</span></span> |
| --- | --- | --- |
| [<span data-ttu-id="26d51-233">Enumerar reglas de firewall</span><span class="sxs-lookup"><span data-stu-id="26d51-233">List Firewall Rules</span></span>](https://msdn.microsoft.com/library/azure/dn505715.aspx) |<span data-ttu-id="26d51-234">Server</span><span class="sxs-lookup"><span data-stu-id="26d51-234">Server</span></span> |<span data-ttu-id="26d51-235">Muestra las reglas de firewall de nivel de servidor actuales Hola</span><span class="sxs-lookup"><span data-stu-id="26d51-235">Displays hello current server-level firewall rules</span></span> |
| [<span data-ttu-id="26d51-236">Crear regla de firewall</span><span class="sxs-lookup"><span data-stu-id="26d51-236">Create Firewall Rule</span></span>](https://msdn.microsoft.com/library/azure/dn505712.aspx) |<span data-ttu-id="26d51-237">Server</span><span class="sxs-lookup"><span data-stu-id="26d51-237">Server</span></span> |<span data-ttu-id="26d51-238">Crea o actualiza las reglas de firewall de nivel de servidor</span><span class="sxs-lookup"><span data-stu-id="26d51-238">Creates or updates server-level firewall rules</span></span> |
| [<span data-ttu-id="26d51-239">Establecer regla de firewall</span><span class="sxs-lookup"><span data-stu-id="26d51-239">Set Firewall Rule</span></span>](https://msdn.microsoft.com/library/azure/dn505707.aspx) |<span data-ttu-id="26d51-240">Server</span><span class="sxs-lookup"><span data-stu-id="26d51-240">Server</span></span> |<span data-ttu-id="26d51-241">Actualiza las propiedades de Hola de una regla de firewall de nivel de servidor existente</span><span class="sxs-lookup"><span data-stu-id="26d51-241">Updates hello properties of an existing server-level firewall rule</span></span> |
| [<span data-ttu-id="26d51-242">Eliminar regla de firewall</span><span class="sxs-lookup"><span data-stu-id="26d51-242">Delete Firewall Rule</span></span>](https://msdn.microsoft.com/library/azure/dn505706.aspx) |<span data-ttu-id="26d51-243">Server</span><span class="sxs-lookup"><span data-stu-id="26d51-243">Server</span></span> |<span data-ttu-id="26d51-244">Elimina las reglas de firewall de nivel de servidor</span><span class="sxs-lookup"><span data-stu-id="26d51-244">Removes server-level firewall rules</span></span> |

## <a name="server-level-firewall-rule-versus-a-database-level-firewall-rule"></a><span data-ttu-id="26d51-245">Regla de firewall de nivel de servidor frente a una regla de firewall de nivel de base de datos</span><span class="sxs-lookup"><span data-stu-id="26d51-245">Server-level firewall rule versus a database-level firewall rule</span></span>
<span data-ttu-id="26d51-246">P:</span><span class="sxs-lookup"><span data-stu-id="26d51-246">Q.</span></span> <span data-ttu-id="26d51-247">¿Los usuarios de una base de datos deben estar completamente aislados de otra base de datos?</span><span class="sxs-lookup"><span data-stu-id="26d51-247">Should users of one database be fully isolated from another database?</span></span>   
  <span data-ttu-id="26d51-248">Si es así, conceda acceso usando reglas de firewall de nivel de base de datos.</span><span class="sxs-lookup"><span data-stu-id="26d51-248">If yes, grant access using database-level firewall rules.</span></span> <span data-ttu-id="26d51-249">Esto evita el uso de reglas de firewall de nivel de servidor, que permiten el acceso a través de firewall de hello tooall bases de datos, reducir la profundidad de Hola de sus defensas.</span><span class="sxs-lookup"><span data-stu-id="26d51-249">This avoids using server-level firewall rules, which permit access through hello firewall tooall databases, reducing hello depth of your defenses.</span></span>   
 
<span data-ttu-id="26d51-250">P:</span><span class="sxs-lookup"><span data-stu-id="26d51-250">Q.</span></span> <span data-ttu-id="26d51-251">¿Los usuarios en la dirección IP de hello necesita acceso a las bases de tooall?</span><span class="sxs-lookup"><span data-stu-id="26d51-251">Do users at hello IP address’s need access tooall databases?</span></span>   
  <span data-ttu-id="26d51-252">Use firewall de nivel de servidor reglas tooreduce Hola número de veces que se debe configurar las reglas de firewall.</span><span class="sxs-lookup"><span data-stu-id="26d51-252">Use server-level firewall rules tooreduce hello number of times you must configure firewall rules.</span></span>   

<span data-ttu-id="26d51-253">P:</span><span class="sxs-lookup"><span data-stu-id="26d51-253">Q.</span></span> <span data-ttu-id="26d51-254">¿Persona de Hola o equipo configurar reglas de firewall de hello sólo tiene acceso a través de Hola portal de Azure, PowerShell o API de REST de Hola?</span><span class="sxs-lookup"><span data-stu-id="26d51-254">Does hello person or team configuring hello firewall rules only have access through hello Azure portal, PowerShell, or hello REST API?</span></span>   
  <span data-ttu-id="26d51-255">Debe usar reglas de firewall de nivel de servidor.</span><span class="sxs-lookup"><span data-stu-id="26d51-255">You must use server-level firewall rules.</span></span> <span data-ttu-id="26d51-256">Las reglas de firewall de nivel de base de datos solo pueden configurarse mediante Transact-SQL.</span><span class="sxs-lookup"><span data-stu-id="26d51-256">Database-level firewall rules can only be configured using Transact-SQL.</span></span>  

<span data-ttu-id="26d51-257">P:</span><span class="sxs-lookup"><span data-stu-id="26d51-257">Q.</span></span> <span data-ttu-id="26d51-258">¿Es persona Hola o equipo configurar reglas de firewall de hello prohíbe que tengan permiso de alto nivel en el nivel de base de datos de hello?</span><span class="sxs-lookup"><span data-stu-id="26d51-258">Is hello person or team configuring hello firewall rules prohibited from having high-level permission at hello database level?</span></span>   
  <span data-ttu-id="26d51-259">Use reglas de firewall de nivel de servidor.</span><span class="sxs-lookup"><span data-stu-id="26d51-259">Use server-level firewall rules.</span></span> <span data-ttu-id="26d51-260">Configuración de reglas de firewall de nivel de base de datos mediante Transact-SQL, necesita al menos `CONTROL DATABASE` permiso en el nivel de base de datos de Hola.</span><span class="sxs-lookup"><span data-stu-id="26d51-260">Configuring database-level firewall rules using Transact-SQL, requires at least `CONTROL DATABASE` permission at hello database level.</span></span>  

<span data-ttu-id="26d51-261">P:</span><span class="sxs-lookup"><span data-stu-id="26d51-261">Q.</span></span> <span data-ttu-id="26d51-262">¿Es Hola persona o equipo configuración o auditoría de reglas de firewall de hello, administrar de forma centralizada las reglas de firewall para muchos (quizás 100) de bases de datos?</span><span class="sxs-lookup"><span data-stu-id="26d51-262">Is hello person or team configuring or auditing hello firewall rules, centrally managing firewall rules for many (perhaps 100s) of databases?</span></span>   
  <span data-ttu-id="26d51-263">Esta decisión depende de sus necesidades y del entorno.</span><span class="sxs-lookup"><span data-stu-id="26d51-263">This selection depends upon your needs and environment.</span></span> <span data-ttu-id="26d51-264">Las reglas de firewall de nivel de servidor pueden ser más fácil tooconfigure, pero el scripting puede configurar reglas en hello nivel de base de datos.</span><span class="sxs-lookup"><span data-stu-id="26d51-264">Server-level firewall rules might be easier tooconfigure, but scripting can configure rules at hello database-level.</span></span> <span data-ttu-id="26d51-265">E incluso si usa las reglas de firewall de nivel de servidor, podría necesitar las reglas de firewall de base de datos de hello tooaudit, toosee si los usuarios con `CONTROL` permiso en la base de datos de hello haya creado las reglas de firewall de nivel de base de datos.</span><span class="sxs-lookup"><span data-stu-id="26d51-265">And even if you use server-level firewall rules, you might need tooaudit hello database-firewall rules, toosee if users with `CONTROL` permission on hello database have created database-level firewall rules.</span></span>   

<span data-ttu-id="26d51-266">P:</span><span class="sxs-lookup"><span data-stu-id="26d51-266">Q.</span></span> <span data-ttu-id="26d51-267">¿Puedo usar una combinación de reglas de firewall de nivel de servidor y de base de datos?</span><span class="sxs-lookup"><span data-stu-id="26d51-267">Can I use a mix of both server-level and database-level firewall rules?</span></span>   
  <span data-ttu-id="26d51-268">Sí.</span><span class="sxs-lookup"><span data-stu-id="26d51-268">Yes.</span></span> <span data-ttu-id="26d51-269">Algunos usuarios, por ejemplo, los administradores, pueden necesitar reglas de firewall de nivel de servidor.</span><span class="sxs-lookup"><span data-stu-id="26d51-269">Some users, such as administrators might need server-level firewall rules.</span></span> <span data-ttu-id="26d51-270">Otros usuarios, como los usuarios de una aplicación de base de datos, pueden necesitar reglas de firewall de nivel de base de datos.</span><span class="sxs-lookup"><span data-stu-id="26d51-270">Other users, such as users of a database application, might need database-level firewall rules.</span></span>   

## <a name="troubleshooting-hello-database-firewall"></a><span data-ttu-id="26d51-271">Solucionar problemas de firewall de base de datos de Hola</span><span class="sxs-lookup"><span data-stu-id="26d51-271">Troubleshooting hello database firewall</span></span>
<span data-ttu-id="26d51-272">Considere la posibilidad de hello siguientes puntos cuando acceso toohello servicio de base de datos de SQL de Microsoft Azure no se comporta tal y como esperaba:</span><span class="sxs-lookup"><span data-stu-id="26d51-272">Consider hello following points when access toohello Microsoft Azure SQL Database service does not behave as you expect:</span></span>

* <span data-ttu-id="26d51-273">**Configuración del firewall local:** antes de que el equipo puede tener acceso a la base de datos de SQL Azure, puede que necesite toocreate una excepción de firewall en el equipo para el puerto TCP 1433.</span><span class="sxs-lookup"><span data-stu-id="26d51-273">**Local firewall configuration:** Before your computer can access Azure SQL Database, you may need toocreate a firewall exception on your computer for TCP port 1433.</span></span> <span data-ttu-id="26d51-274">Si va a realizar las conexiones dentro del límite de la nube de Azure de hello, puede tener puertos adicionales tooopen.</span><span class="sxs-lookup"><span data-stu-id="26d51-274">If you are making connections inside hello Azure cloud boundary, you may have tooopen additional ports.</span></span> <span data-ttu-id="26d51-275">Para obtener más información, vea hello **base de datos SQL: fuera de vs en** sección de [puertos más allá de 1433 para la base de datos de SQL y ADO.NET 4.5](sql-database-develop-direct-route-ports-adonet-v12.md).</span><span class="sxs-lookup"><span data-stu-id="26d51-275">For more information, see hello **SQL Database: Outside vs inside** section of [Ports beyond 1433 for ADO.NET 4.5 and SQL Database](sql-database-develop-direct-route-ports-adonet-v12.md).</span></span>
* <span data-ttu-id="26d51-276">**Traducción de direcciones (NAT) de red:** vencimiento tooNAT, dirección IP de hello usada por la tooAzure de tooconnect equipo base de datos SQL puede ser distinta de la dirección IP de Hola se muestra en las opciones de configuración de IP de equipo.</span><span class="sxs-lookup"><span data-stu-id="26d51-276">**Network address translation (NAT):** Due tooNAT, hello IP address used by your computer tooconnect tooAzure SQL Database may be different than hello IP address shown in your computer IP configuration settings.</span></span> <span data-ttu-id="26d51-277">dirección IP tooview Hola que el equipo está usando tooconnect tooAzure, inicie sesión en el portal de toohello y navegue toohello **configurar** ficha en servidor de Hola que hospeda la base de datos.</span><span class="sxs-lookup"><span data-stu-id="26d51-277">tooview hello IP address your computer is using tooconnect tooAzure, log in toohello portal and navigate toohello **Configure** tab on hello server that hosts your database.</span></span> <span data-ttu-id="26d51-278">En hello **direcciones IP permitidas** sección hello **dirección IP del cliente actual** se muestra.</span><span class="sxs-lookup"><span data-stu-id="26d51-278">Under hello **Allowed IP Addresses** section, hello **Current Client IP Address** is displayed.</span></span> <span data-ttu-id="26d51-279">Haga clic en **agregar** toohello **direcciones IP permitidas** tooallow este servidor de hello tooaccess de equipo.</span><span class="sxs-lookup"><span data-stu-id="26d51-279">Click **Add** toohello **Allowed IP Addresses** tooallow this computer tooaccess hello server.</span></span>
* <span data-ttu-id="26d51-280">**Lista de admisión de toohello de cambios no han surtido efecto todavía:** puede haber tanto como un retraso de cinco minutos para cambia el efecto de tootake de configuración de toohello base de datos de SQL Azure firewall.</span><span class="sxs-lookup"><span data-stu-id="26d51-280">**Changes toohello allow list have not taken effect yet:** There may be as much as a five-minute delay for changes toohello Azure SQL Database firewall configuration tootake effect.</span></span>
* <span data-ttu-id="26d51-281">**inicio de sesión de Hello no está autorizado o se usó una contraseña incorrecta:** si un inicio de sesión no tiene permisos en el servidor de base de datos de SQL Azure de Hola o contraseña Hola utilizada es incorrecta, se deniega el servidor de base de datos de SQL Azure de hello conexión toohello.</span><span class="sxs-lookup"><span data-stu-id="26d51-281">**hello login is not authorized or an incorrect password was used:** If a login does not have permissions on hello Azure SQL Database server or hello password used is incorrect, hello connection toohello Azure SQL Database server is denied.</span></span> <span data-ttu-id="26d51-282">Crear una configuración de firewall sólo proporciona a los clientes un tooattempt oportunidad conectar el servidor de tooyour; cada cliente debe proporcionar credenciales de seguridad necesarias Hola.</span><span class="sxs-lookup"><span data-stu-id="26d51-282">Creating a firewall setting only provides clients with an opportunity tooattempt connecting tooyour server; each client must provide hello necessary security credentials.</span></span> <span data-ttu-id="26d51-283">Para obtener más información sobre la preparación de inicios de sesión, vea Administración de bases de datos, inicios de sesión y usuarios en la Base de datos SQL de Azure.</span><span class="sxs-lookup"><span data-stu-id="26d51-283">For more information about preparing logins, see Managing Databases, Logins, and Users in Azure SQL Database.</span></span>
* <span data-ttu-id="26d51-284">**Dirección IP dinámica:** si tiene una conexión a Internet con una dirección IP dinámica y tiene problemas para superar el firewall de hello, intente una de hello siguientes soluciones:</span><span class="sxs-lookup"><span data-stu-id="26d51-284">**Dynamic IP address:** If you have an Internet connection with dynamic IP addressing and you are having trouble getting through hello firewall, you could try one of hello following solutions:</span></span>
  
  * <span data-ttu-id="26d51-285">Pregunte a su proveedor de servicios de Internet (ISP) para el intervalo de direcciones IP de hello asignado tooyour los equipos cliente ese servidor de base de datos de SQL Azure Hola de acceso y, a continuación, agregar el intervalo de direcciones IP de hello como una regla de firewall.</span><span class="sxs-lookup"><span data-stu-id="26d51-285">Ask your Internet Service Provider (ISP) for hello IP address range assigned tooyour client computers that access hello Azure SQL Database server, and then add hello IP address range as a firewall rule.</span></span>
  * <span data-ttu-id="26d51-286">Obtener una dirección IP estática en su lugar para los equipos cliente y, a continuación, agregue las direcciones IP hello como reglas de firewall.</span><span class="sxs-lookup"><span data-stu-id="26d51-286">Get static IP addressing instead for your client computers, and then add hello IP addresses as firewall rules.</span></span>

## <a name="next-steps"></a><span data-ttu-id="26d51-287">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="26d51-287">Next steps</span></span>

- <span data-ttu-id="26d51-288">Para consultar un inicio rápido sobre cómo crear una base de datos y una regla de firewall de nivel de servidor, vea [Creación de una instancia de Azure SQL Database](sql-database-get-started-portal.md).</span><span class="sxs-lookup"><span data-stu-id="26d51-288">For a quick start on creating a database and a server-level firewall rule, see [Create an Azure SQL database](sql-database-get-started-portal.md).</span></span>
- <span data-ttu-id="26d51-289">Para obtener ayuda en la base de datos de conexión tooan SQL Azure de código abierto o aplicaciones de terceros, consulte [tooSQL base de datos de ejemplos de código de inicio rápido de cliente](https://msdn.microsoft.com/library/azure/ee336282.aspx).</span><span class="sxs-lookup"><span data-stu-id="26d51-289">For help in connecting tooan Azure SQL database from open source or third-party applications, see [Client quick-start code samples tooSQL Database](https://msdn.microsoft.com/library/azure/ee336282.aspx).</span></span>
- <span data-ttu-id="26d51-290">Para obtener información sobre puertos adicionales que puede necesitar tooopen, vea hello **base de datos SQL: fuera de vs en** sección de [puertos más allá de 1433 para la base de datos de SQL y ADO.NET 4.5](sql-database-develop-direct-route-ports-adonet-v12.md)</span><span class="sxs-lookup"><span data-stu-id="26d51-290">For information on additional ports that you may need tooopen, see hello **SQL Database: Outside vs inside** section of [Ports beyond 1433 for ADO.NET 4.5 and SQL Database](sql-database-develop-direct-route-ports-adonet-v12.md)</span></span>
- <span data-ttu-id="26d51-291">Para obtener información general sobre la seguridad de Azure SQL Database, vea [Protección de bases de datos SQL](sql-database-security-overview.md).</span><span class="sxs-lookup"><span data-stu-id="26d51-291">For an overview of Azure SQL Database security, see [Securing your database](sql-database-security-overview.md)</span></span>

<!--Image references-->
[1]: ./media/sql-database-firewall-configure/sqldb-firewall-1.png
