---
title: "base de datos - aaaSQL para la optimización automática | Documentos de Microsoft"
description: "Base de datos SQL analiza la consulta SQL y automáticamente adapta a cargas de trabajo de toouser."
services: sql-database
documentationcenter: 
author: jovanpop-msft
manager: jhubbard
editor: 
ms.assetid: 
ms.service: sql-database
ms.custom: monitor & tune
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 06/05/2017
ms.author: jovanpop
ms.openlocfilehash: 897a8deaabedb6727dc49958c64d0433c5f2e4f4
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="automatic-tuning"></a><span data-ttu-id="9b119-103">Ajuste automático</span><span class="sxs-lookup"><span data-stu-id="9b119-103">Automatic tuning</span></span>

<span data-ttu-id="9b119-104">La base de datos de SQL Azure es un servicio de datos completamente administrado que supervisa las consultas de Hola que se ejecutan en la base de datos de Hola y automáticamente se pueden mejorar el rendimiento de carga de trabajo de Hola.</span><span class="sxs-lookup"><span data-stu-id="9b119-104">Azure SQL Database is a fully managed data service that monitors hello queries that are executed on hello database and can automatically improve performance of hello workload.</span></span> <span data-ttu-id="9b119-105">La base de datos de SQL Azure tiene un mecanismo de inteligencia incorporada que puede optimizar y mejorar el rendimiento de las consultas adaptando dinámicamente la carga de trabajo de tooyour de base de datos de hello automáticamente.</span><span class="sxs-lookup"><span data-stu-id="9b119-105">Azure SQL Database has a built-in intelligence mechanism that can automatically tune and improve performance of your queries by dynamically adapting hello database tooyour workload.</span></span> <span data-ttu-id="9b119-106">El ajuste automático de la base de datos de SQL Azure puede ser una de las características más importantes de Hola que se pueden habilitar en el rendimiento de base de datos de SQL Azure toooptimize de las consultas.</span><span class="sxs-lookup"><span data-stu-id="9b119-106">Automatic tuning in Azure SQL Database might be one of hello most important features that you can enable on Azure SQL Database toooptimize performance of your queries.</span></span>

<span data-ttu-id="9b119-107">Consulte este artículo para conocer los pasos Hola demasiado[habilitar el ajuste automático](sql-database-automatic-tuning-enable.md) utilizando Hola portal de Azure.</span><span class="sxs-lookup"><span data-stu-id="9b119-107">See this article for hello steps too[enable automatic tuning](sql-database-automatic-tuning-enable.md) using hello Azure portal.</span></span>

## <a name="why-automatic-tuning"></a><span data-ttu-id="9b119-108">¿Por qué el ajuste automático?</span><span class="sxs-lookup"><span data-stu-id="9b119-108">Why automatic tuning?</span></span>

<span data-ttu-id="9b119-109">Una de las principales tareas de hello en administración clásico de la base de datos está supervisando la carga de trabajo de hello, identificar críticas SQL realiza una consulta, los índices que se deben agregar tooimprove rendimiento y usan índices con poca frecuencia.</span><span class="sxs-lookup"><span data-stu-id="9b119-109">One of hello main tasks in classic database administration is monitoring hello workload, identifying critical SQL queries, indexes that should be added tooimprove performance, and rarely used indexes.</span></span> <span data-ttu-id="9b119-110">La base de datos de SQL Azure proporciona una visión detallada de las consultas de Hola y de índices que necesita toomonitor.</span><span class="sxs-lookup"><span data-stu-id="9b119-110">Azure SQL Database provides detailed insight into hello queries and indexes that you need toomonitor.</span></span> <span data-ttu-id="9b119-111">Sin embargo, supervisar constantemente una base de datos es una tarea ardua y tediosa, sobre todo cuando se trabaja con muchas bases de datos.</span><span class="sxs-lookup"><span data-stu-id="9b119-111">However, constantly monitoring database is a hard and tedious task, especially when dealing with many databases.</span></span> <span data-ttu-id="9b119-112">Administrar un gran número de bases de datos podría ser eficazmente toodo imposible incluso con todas las herramientas disponibles e informes que ofrecen de base de datos de SQL Azure y portal de Azure.</span><span class="sxs-lookup"><span data-stu-id="9b119-112">Managing a huge number of databases might be impossible toodo efficiently even with all available tools and reports that Azure SQL Database and Azure portal provide.</span></span> <span data-ttu-id="9b119-113">En lugar de supervisión y optimización de la base de datos manualmente, considere la posibilidad de delegar algunas de Hola de supervisión y optimización tooAzure de acciones base de datos SQL mediante la característica de optimización automática.</span><span class="sxs-lookup"><span data-stu-id="9b119-113">Instead of monitoring and tuning your database manually, you might consider delegating some of hello monitoring and tuning actions tooAzure SQL Database using automatic tuning feature.</span></span> 


> [!VIDEO https://channel9.msdn.com/Blogs/Azure-in-the-Enterprise/Enabling-Azure-SQL-Database-Auto-Tuning-at-Scale-for-Microsoft-IT/player]
>

## <a name="how-does-automatic-tuning-work"></a><span data-ttu-id="9b119-114">¿Cómo funciona el ajuste automático?</span><span class="sxs-lookup"><span data-stu-id="9b119-114">How does automatic tuning work?</span></span>

<span data-ttu-id="9b119-115">La base de datos de SQL Azure tiene un proceso de supervisión y análisis de rendimiento continua que constantemente aprende Hola característico de la carga de trabajo e identifica posibles problemas y mejoras.</span><span class="sxs-lookup"><span data-stu-id="9b119-115">Azure SQL Database has a continuous performance monitoring and analysis process that constantly learns about hello characteristic of your workload and identify potential issues and improvements.</span></span>

![Proceso de ajuste automático](./media/sql-database-automatic-tuning/tuning-process.png)

<span data-ttu-id="9b119-117">Esto permite que proceso toodynamically de base de datos de SQL Azure adaptar tooyour carga de trabajo mediante la búsqueda de los índices y los planes pueden mejorar el rendimiento de las cargas de trabajo y los índices afecta a las cargas de trabajo.</span><span class="sxs-lookup"><span data-stu-id="9b119-117">This process enables Azure SQL Database toodynamically adapt tooyour workload by finding what indexes and plans might improve performance of your workloads and what indexes affect your workloads.</span></span> <span data-ttu-id="9b119-118">En función de lo que encuentre, el ajuste automático pone en práctica acciones de optimización que mejoran el rendimiento de la carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="9b119-118">Based on these findings, automatic tuning applies tuning actions that improve performance of your workload.</span></span> <span data-ttu-id="9b119-119">Además, base de datos de SQL Azure supervisa continuamente el rendimiento después de cualquier cambio realizado por tooensure de optimización automática que mejora el rendimiento de la carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="9b119-119">In addition, Azure SQL Database continuously monitors performance after any change made by automatic tuning tooensure that it improves performance of your workload.</span></span> <span data-ttu-id="9b119-120">Cualquier acción que no mejore el rendimiento se revierte automáticamente.</span><span class="sxs-lookup"><span data-stu-id="9b119-120">Any action that didn’t improve performance is automatically reverted.</span></span> <span data-ttu-id="9b119-121">Este proceso de comprobación es una característica clave que garantiza que cualquier cambio realizado por el ajuste automático no reducir el rendimiento de saludo de la carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="9b119-121">This verification process is a key feature that ensures that any change made by automatic tuning does not decrease hello performance of your workload.</span></span>

<span data-ttu-id="9b119-122">Hay dos aspectos del ajuste automático disponibles en Azure SQL Database:</span><span class="sxs-lookup"><span data-stu-id="9b119-122">There are two automatic tuning aspects that are available in Azure SQL Database:</span></span>

 -  <span data-ttu-id="9b119-123">**Administración automática de índices** que identifica tanto los índices que se deberían agregar a la base de datos como los que se deberían quitar.</span><span class="sxs-lookup"><span data-stu-id="9b119-123">**Automatic index management** that identifies indexes that should be added in your database, and indexes that should be removed.</span></span>
 -  <span data-ttu-id="9b119-124">**Corrección automática de planes** (próximamente, ya disponible en SQL Server 2017) que identifica planes problemáticos y corrige los problemas de rendimiento de los planes de SQL.</span><span class="sxs-lookup"><span data-stu-id="9b119-124">**Automatic plan correction** (coming soon, already available in SQL Server 2017) that identifies problematic plans and fixes SQL plan performance problems.</span></span>

## <a name="automatic-index-management"></a><span data-ttu-id="9b119-125">Administración automática de índices</span><span class="sxs-lookup"><span data-stu-id="9b119-125">Automatic index management</span></span>

<span data-ttu-id="9b119-126">En Azure SQL Database, la administración de índices resulta sencilla porque Azure SQL Database obtiene información acerca de la carga de trabajo y se asegura de que los datos estén siempre indexados de forma óptima.</span><span class="sxs-lookup"><span data-stu-id="9b119-126">In Azure SQL Database, index management is easy because Azure SQL Database learns about your workload and ensures that your data is always optimally indexed.</span></span> <span data-ttu-id="9b119-127">El diseño adecuado de índices es fundamental para un rendimiento óptimo de la carga de trabajo y la administración automática de índices puede ayudar a optimizar los índices.</span><span class="sxs-lookup"><span data-stu-id="9b119-127">Proper index design is crucial for optimal performance of your workload, and automatic index management can help you optimize your indexes.</span></span> <span data-ttu-id="9b119-128">Administración automática del índice puede corregir problemas de rendimiento en las bases de datos indizadas incorrectamente, o se mantienen y mejore los índices en el esquema de base de datos existente de Hola.</span><span class="sxs-lookup"><span data-stu-id="9b119-128">Automatic index management can either fix performance issues in incorrectly indexed databases, or maintain and improve indexes on hello existing database schema.</span></span> 

### <a name="why-do-you-need-index-management"></a><span data-ttu-id="9b119-129">¿Por qué se necesita la administración de índices?</span><span class="sxs-lookup"><span data-stu-id="9b119-129">Why do you need index management?</span></span>

<span data-ttu-id="9b119-130">Acelerar algunas de las consultas que leen datos de tablas de hello; Sin embargo, podrían ralentizar las consultas de Hola que actualizan los datos.</span><span class="sxs-lookup"><span data-stu-id="9b119-130">Indexes speed up some of your queries that read data from hello tables; however, they can slow down hello queries that update data.</span></span> <span data-ttu-id="9b119-131">Necesita toocarefully analizar cuando toocreate un índice y qué columnas necesita tooinclude en Hola índice.</span><span class="sxs-lookup"><span data-stu-id="9b119-131">You need toocarefully analyze when toocreate an index and what columns you need tooinclude in hello index.</span></span> <span data-ttu-id="9b119-132">Es posible que algunos índices no sean necesarios pasado un tiempo.</span><span class="sxs-lookup"><span data-stu-id="9b119-132">Some indexes might not be needed after some time.</span></span> <span data-ttu-id="9b119-133">Por lo tanto, deberá tooperiodically identificar y quitar índices de Hola que no proporcionan ningún beneficio.</span><span class="sxs-lookup"><span data-stu-id="9b119-133">Therefore, you would need tooperiodically identify and drop hello indexes that do not bring any benefits.</span></span> <span data-ttu-id="9b119-134">Si omite Hola índices no usados, rendimiento de las consultas de Hola que actualizan los datos podría reducirse sin ninguna ventaja en las consultas de Hola que leer los datos.</span><span class="sxs-lookup"><span data-stu-id="9b119-134">If you ignore hello unused indexes, performance of hello queries that update data would be decreased without any benefit on hello queries that read data.</span></span> <span data-ttu-id="9b119-135">Índices no usados también afecta a rendimiento general del sistema de hello porque actualizaciones adicionales necesitan un registro innecesario.</span><span class="sxs-lookup"><span data-stu-id="9b119-135">Unused indexes also affect overall performance of hello system because additional updates require unnecessary logging.</span></span>

<span data-ttu-id="9b119-136">Buscar conjunto óptimo de Hola de índices que mejoren el rendimiento de las consultas de Hola que leer los datos de las tablas y tiene un impacto mínimo en las actualizaciones puede requerir análisis complejo y continuado.</span><span class="sxs-lookup"><span data-stu-id="9b119-136">Finding hello optimal set of indexes that improve performance of hello queries that read data from your tables and have minimal impact on updates might require continuous and complex analysis.</span></span>

<span data-ttu-id="9b119-137">La base de datos de SQL Azure usa inteligencia integrada y reglas avanzadas que analizar las consultas, identificar los índices que sean óptimos para las cargas de trabajo actuales y se podrían quitar índices Hola.</span><span class="sxs-lookup"><span data-stu-id="9b119-137">Azure SQL Database uses built-in intelligence and advanced rules that analyze your queries, identify indexes that would be optimal for your current workloads, and hello indexes might be removed.</span></span> <span data-ttu-id="9b119-138">La base de datos de SQL Azure se asegura de que tiene un conjunto mínimo necesario de índices que optimizar las consultas de Hola que leen los datos, con un impacto Hola minimizado en Hola otras consultas.</span><span class="sxs-lookup"><span data-stu-id="9b119-138">Azure SQL Database ensures that you have a minimal necessary set of indexes that optimize hello queries that read data, with hello minimized impact on hello other queries.</span></span>

### <a name="how-tooidentify-indexes-that-need-toobe-changed-in-your-database"></a><span data-ttu-id="9b119-139">¿Cómo tooidentify indiza ese toobe necesidad cambiado en la base de datos?</span><span class="sxs-lookup"><span data-stu-id="9b119-139">How tooidentify indexes that need toobe changed in your database?</span></span>

<span data-ttu-id="9b119-140">Azure SQL Database facilita el proceso de administración de índices.</span><span class="sxs-lookup"><span data-stu-id="9b119-140">Azure SQL Database makes index management process easy.</span></span> <span data-ttu-id="9b119-141">En lugar de proceso tedioso de Hola de análisis de carga de trabajo manual y la supervisión de índice, base de datos de SQL Azure analiza la carga de trabajo, identifica las consultas de Hola que pudieron ejecutarse más rápidamente con un nuevo índice e identifica los índices no usados o duplicados.</span><span class="sxs-lookup"><span data-stu-id="9b119-141">Instead of hello tedious process of manual workload analysis and index monitoring, Azure SQL Database analyzes your workload, identifies hello queries that could be executed faster with a new index, and identifies unused or duplicated indexes.</span></span> <span data-ttu-id="9b119-142">Para más información sobre la identificación de los índices que deben cambiarse, consulte cómo [buscar recomendaciones de índices en Azure Portal](sql-database-advisor-portal.md).</span><span class="sxs-lookup"><span data-stu-id="9b119-142">Find more information about identification of indexes that should be changed at [Find index recommendations in Azure portal](sql-database-advisor-portal.md).</span></span>

### <a name="automatic-index-management-considerations"></a><span data-ttu-id="9b119-143">Consideraciones sobre la administración automática de índices</span><span class="sxs-lookup"><span data-stu-id="9b119-143">Automatic index management considerations</span></span>

<span data-ttu-id="9b119-144">Si encuentra que las reglas integradas de hello mejoran el rendimiento de hello de la base de datos, puede dejar que base de datos SQL de Azure administre automáticamente los índices.</span><span class="sxs-lookup"><span data-stu-id="9b119-144">If you find that hello built-in rules improve hello performance of your database, you might let Azure SQL database automatically manage your indexes.</span></span>

<span data-ttu-id="9b119-145">Se requieren acciones toocreate índices necesarios en bases de datos de SQL Azure podrían consumir recursos y temporalmente afectan al rendimiento de la carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="9b119-145">Actions required toocreate necessary indexes in Azure SQL Databases might consume resources and temporally affect workload performance.</span></span> <span data-ttu-id="9b119-146">impacto de hello toominimize de creación de índices en el rendimiento de la carga de trabajo, base de datos de SQL Azure busca el período de tiempo adecuado de Hola para cualquier operación de administración de índice.</span><span class="sxs-lookup"><span data-stu-id="9b119-146">toominimize hello impact of index creation on workload performance, Azure SQL Database finds hello appropriate time window for any index management operation.</span></span> <span data-ttu-id="9b119-147">Acción para la optimización se pospone si la base de datos de hello necesita recursos tooexecute la carga de trabajo e iniciarse cuando base de datos de hello tiene suficientes recursos no utilizados que se pueden usar para tareas de mantenimiento de Hola.</span><span class="sxs-lookup"><span data-stu-id="9b119-147">Tuning action is postponed if hello database needs resources tooexecute your workload, and started when hello database has enough unused resources that can be used for hello maintenance task.</span></span> <span data-ttu-id="9b119-148">Una característica importante de la administración de índices automática es una comprobación de acciones de Hola.</span><span class="sxs-lookup"><span data-stu-id="9b119-148">One important feature in automatic index management is a verification of hello actions.</span></span> <span data-ttu-id="9b119-149">Cuando la base de datos de SQL Azure crea o quita el índice, un proceso de supervisión analiza el rendimiento de su tooverify de carga de trabajo que acción Hola mejora el rendimiento de Hola.</span><span class="sxs-lookup"><span data-stu-id="9b119-149">When Azure SQL Database creates or drops index, a monitoring process analyzes performance of your workload tooverify that hello action improved hello performance.</span></span> <span data-ttu-id="9b119-150">Si lo no aportar mejora considerable, inmediatamente se revierte la acción de Hola.</span><span class="sxs-lookup"><span data-stu-id="9b119-150">If it didn’t bring significant improvement – hello action is immediately reverted.</span></span> <span data-ttu-id="9b119-151">De esta manera, Azure SQL Database garantiza que las acciones automáticas no surtan un efecto negativo sobre el rendimiento de la carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="9b119-151">This way, Azure SQL Database ensures that automatic actions do not negatively impact performance of your workload.</span></span> <span data-ttu-id="9b119-152">Índices creados por el ajuste automático son transparentes para la operación de mantenimiento de hello en el esquema subyacente Hola.</span><span class="sxs-lookup"><span data-stu-id="9b119-152">Indexes created by automatic tuning are transparent for hello maintenance operation on hello underlying schema.</span></span> <span data-ttu-id="9b119-153">Cambios de esquema, como quitar o cambiar el nombre de las columnas no estén bloqueados por la presencia de Hola de índices creados de forma automática.</span><span class="sxs-lookup"><span data-stu-id="9b119-153">Schema changes such as dropping or renaming columns are not blocked by hello presence of automatically created indexes.</span></span> <span data-ttu-id="9b119-154">Los índices que Azure SQL Database crea automáticamente se quitan de inmediato cuando se quitan la tabla o las columnas relacionadas.</span><span class="sxs-lookup"><span data-stu-id="9b119-154">Indexes that are automatically created by Azure SQL Database are immediately dropped when related table or columns is dropped.</span></span>

## <a name="automatic-plan-choice-correction"></a><span data-ttu-id="9b119-155">Corrección automática de la selección de plan</span><span class="sxs-lookup"><span data-stu-id="9b119-155">Automatic plan choice correction</span></span>

<span data-ttu-id="9b119-156">La corrección automática de planes es una nueva característica de ajuste automático que se agregó en SQL Server de 2017 CTP2.0 y que identifica los planes de SQL que no funcionan correctamente.</span><span class="sxs-lookup"><span data-stu-id="9b119-156">Automatic plan correction is a new automatic tuning feature added in SQL Server 2017 CTP2.0 that identifies SQL plans that misbehave.</span></span> <span data-ttu-id="9b119-157">Esta opción de ajuste automático estará disponible en breve en Azure SQL Database.</span><span class="sxs-lookup"><span data-stu-id="9b119-157">This automatic tuning option is coming soon on Azure SQL Database.</span></span> <span data-ttu-id="9b119-158">Puede ver más información en el artículo sobre el [ajuste automático en SQL Server 2017](https://docs.microsoft.com/sql/relational-databases/automatic-tuning/automatic-tuning).</span><span class="sxs-lookup"><span data-stu-id="9b119-158">Find more information at [Automatic tuning in SQL Server 2017](https://docs.microsoft.com/sql/relational-databases/automatic-tuning/automatic-tuning).</span></span>

## <a name="next-steps"></a><span data-ttu-id="9b119-159">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="9b119-159">Next steps</span></span>

- <span data-ttu-id="9b119-160">característica de optimización totalmente administrar la carga de trabajo, consulte tooenable automática para la optimización de base de datos de SQL Azure y permita que automática [habilitar el ajuste automático](sql-database-automatic-tuning-enable.md).</span><span class="sxs-lookup"><span data-stu-id="9b119-160">tooenable automatic tuning in Azure SQL Database and let automatic tuning feature fully manage your workload, see [Enable automatic tuning](sql-database-automatic-tuning-enable.md).</span></span>
- <span data-ttu-id="9b119-161">toouse manual para la optimización, puede revisar [recomendaciones en portal de Azure de optimización](sql-database-advisor-portal.md) y aplicar manualmente hello las que mejoran el rendimiento de las consultas.</span><span class="sxs-lookup"><span data-stu-id="9b119-161">toouse manual tuning, you can review [Tuning recommendations in Azure portal](sql-database-advisor-portal.md) and manually apply hello ones that improve performance of your queries.</span></span>
