---
title: "Administración de configuración: Herramienta de modelado de amenazas de Microsoft (Azure) | Microsoft Docs"
description: mitigaciones para amenazas expuestas en Threat Modeling Tool
services: security
documentationcenter: na
author: RodSan
manager: RodSan
editor: RodSan
ms.assetid: na
ms.service: security
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/17/2017
ms.author: rodsan
ms.openlocfilehash: 114666d0c173786373e3bdd025027eb217922749
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/29/2017
---
# <a name="security-frame-configuration-management--mitigations"></a><span data-ttu-id="3aa49-103">Marco de seguridad: Administración de configuración | Mitigaciones</span><span class="sxs-lookup"><span data-stu-id="3aa49-103">Security Frame: Configuration Management | Mitigations</span></span> 
| <span data-ttu-id="3aa49-104">Producto o servicio</span><span class="sxs-lookup"><span data-stu-id="3aa49-104">Product/Service</span></span> | <span data-ttu-id="3aa49-105">Artículo</span><span class="sxs-lookup"><span data-stu-id="3aa49-105">Article</span></span> |
| --------------- | ------- |
| <span data-ttu-id="3aa49-106">**Aplicación web**</span><span class="sxs-lookup"><span data-stu-id="3aa49-106">**Web Application**</span></span> | <ul><li><span data-ttu-id="3aa49-107">[Implementación de la directiva de seguridad de contenido [CSP] y deshabilitación de Javascript en línea](#csp-js)</span><span class="sxs-lookup"><span data-stu-id="3aa49-107">[Implement Content Security Policy (CSP), and disable inline javascript](#csp-js)</span></span></li><li>[<span data-ttu-id="3aa49-108">Habilitación del filtro XSS del explorador</span><span class="sxs-lookup"><span data-stu-id="3aa49-108">Enable browser's XSS filter</span></span>](#xss-filter)</li><li>[<span data-ttu-id="3aa49-109">Deshabilitación obligatoria del seguimiento y la depuración de las aplicaciones ASP.NET antes de la implementación</span><span class="sxs-lookup"><span data-stu-id="3aa49-109">ASP.NET applications must disable tracing and debugging prior to deployment</span></span>](#trace-deploy)</li><li>[<span data-ttu-id="3aa49-110">Acceso exclusivo a archivos JavaScript de terceros de orígenes de confianza</span><span class="sxs-lookup"><span data-stu-id="3aa49-110">Access third-party javascripts from trusted sources only</span></span>](#js-trusted)</li><li>[<span data-ttu-id="3aa49-111">Comprobación de que las páginas con autenticación con ASP.NET incorporan defensas contra el secuestro de clic</span><span class="sxs-lookup"><span data-stu-id="3aa49-111">Ensure that authenticated ASP.NET pages incorporate UI Redressing or click-jacking defenses</span></span>](#ui-defenses)</li><li>[<span data-ttu-id="3aa49-112">Comprobación de que solo se permiten orígenes de confianza si CORS está activado en las aplicaciones web ASP.NET</span><span class="sxs-lookup"><span data-stu-id="3aa49-112">Ensure that only trusted origins are allowed if CORS is enabled on ASP.NET Web Applications</span></span>](#cors-aspnet)</li><li>[<span data-ttu-id="3aa49-113">Habilitación del atributo ValidateRequest en las páginas de ASP.NET</span><span class="sxs-lookup"><span data-stu-id="3aa49-113">Enable ValidateRequest attribute on ASP.NET Pages</span></span>](#validate-aspnet)</li><li>[<span data-ttu-id="3aa49-114">Uso de las últimas versiones locales de las bibliotecas de JavaScript</span><span class="sxs-lookup"><span data-stu-id="3aa49-114">Use locally-hosted latest versions of JavaScript libraries</span></span>](#local-js)</li><li>[<span data-ttu-id="3aa49-115">Deshabilitación del rastreo automático de MIME</span><span class="sxs-lookup"><span data-stu-id="3aa49-115">Disable automatic MIME sniffing</span></span>](#mime-sniff)</li><li>[<span data-ttu-id="3aa49-116">Eliminación de encabezados de servidor estándar de los sitios web de Windows Azure para evitar la creación de huellas digitales</span><span class="sxs-lookup"><span data-stu-id="3aa49-116">Remove standard server headers on Windows Azure Web Sites to avoid fingerprinting</span></span>](#standard-finger)</li></ul> |
| <span data-ttu-id="3aa49-117">**Base de datos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-117">**Database**</span></span> | <ul><li>[<span data-ttu-id="3aa49-118">Configuración de Firewall de Windows para el acceso al motor de base de datos</span><span class="sxs-lookup"><span data-stu-id="3aa49-118">Configure a Windows Firewall for Database Engine Access</span></span>](#firewall-db)</li></ul> |
| <span data-ttu-id="3aa49-119">**API web**</span><span class="sxs-lookup"><span data-stu-id="3aa49-119">**Web API**</span></span> | <ul><li>[<span data-ttu-id="3aa49-120">Comprobación de que solo se permiten orígenes de confianza si CORS está activado en ASP.NET Web API</span><span class="sxs-lookup"><span data-stu-id="3aa49-120">Ensure that only trusted origins are allowed if CORS is enabled on ASP.NET Web API</span></span>](#cors-api)</li><li>[<span data-ttu-id="3aa49-121">Cifrado de secciones de los archivos de configuración de la API web que contienen datos confidenciales</span><span class="sxs-lookup"><span data-stu-id="3aa49-121">Encrypt sections of Web API's configuration files that contain sensitive data</span></span>](#config-sensitive)</li></ul> |
| <span data-ttu-id="3aa49-122">**Dispositivo de IoT**</span><span class="sxs-lookup"><span data-stu-id="3aa49-122">**IoT Device**</span></span> | <ul><li>[<span data-ttu-id="3aa49-123">Comprobación de que todas las interfaces de administración están protegidas con credenciales seguras</span><span class="sxs-lookup"><span data-stu-id="3aa49-123">Ensure that all admin interfaces are secured with strong credentials</span></span>](#admin-strong)</li><li>[<span data-ttu-id="3aa49-124">Comprobación de que no se puede ejecutar código desconocido en los dispositivos</span><span class="sxs-lookup"><span data-stu-id="3aa49-124">Ensure that unknown code cannot execute on devices</span></span>](#unknown-exe)</li><li>[<span data-ttu-id="3aa49-125">Cifrado del sistema operativo y particiones adicionales en los dispositivos IoT con Bitlocker</span><span class="sxs-lookup"><span data-stu-id="3aa49-125">Encrypt OS and additional partitions of IoT Device with bit-locker</span></span>](#partition-iot)</li><li>[<span data-ttu-id="3aa49-126">Comprobación de que solo se habilita el mínimo número de servicios o características en los dispositivos</span><span class="sxs-lookup"><span data-stu-id="3aa49-126">Ensure that only the minimum services/features are enabled on devices</span></span>](#min-enable)</li></ul> |
| <span data-ttu-id="3aa49-127">**Puerta de enlace de campo de IoT**</span><span class="sxs-lookup"><span data-stu-id="3aa49-127">**IoT Field Gateway**</span></span> | <ul><li>[<span data-ttu-id="3aa49-128">Cifrado del sistema operativo y particiones adicionales en la puerta de enlace de campo de IoT con Bitlocker</span><span class="sxs-lookup"><span data-stu-id="3aa49-128">Encrypt OS and additional partitions of IoT Field Gateway with bit-locker</span></span>](#field-bit-locker)</li><li>[<span data-ttu-id="3aa49-129">Comprobación de que las credenciales de inicio de sesión predeterminadas de la puerta de enlace de campo se modifican durante la instalación</span><span class="sxs-lookup"><span data-stu-id="3aa49-129">Ensure that the default login credentials of the field gateway are changed during installation</span></span>](#default-change)</li></ul> |
| <span data-ttu-id="3aa49-130">**Puerta de enlace de nube de IoT**</span><span class="sxs-lookup"><span data-stu-id="3aa49-130">**IoT Cloud Gateway**</span></span> | <ul><li>[<span data-ttu-id="3aa49-131">Comprobación de que la puerta de enlace de la nube implementa un proceso para mantener actualizado el firmware de los dispositivos conectados</span><span class="sxs-lookup"><span data-stu-id="3aa49-131">Ensure that the Cloud Gateway implements a process to keep the connected devices firmware up to date</span></span>](#cloud-firmware)</li></ul> |
| <span data-ttu-id="3aa49-132">**Límites de confianza de la máquina**</span><span class="sxs-lookup"><span data-stu-id="3aa49-132">**Machine Trust Boundary**</span></span> | <ul><li>[<span data-ttu-id="3aa49-133">Comprobación de que los dispositivos tienen controles de seguridad de punto de conexión configurados según las directivas organizativas</span><span class="sxs-lookup"><span data-stu-id="3aa49-133">Ensure that devices have end-point security controls configured as per organizational policies</span></span>](#controls-policies)</li></ul> |
| <span data-ttu-id="3aa49-134">**Azure Storage**</span><span class="sxs-lookup"><span data-stu-id="3aa49-134">**Azure Storage**</span></span> | <ul><li>[<span data-ttu-id="3aa49-135">Comprobación de la administración segura de las claves de acceso de almacenamiento de Azure</span><span class="sxs-lookup"><span data-stu-id="3aa49-135">Ensure secure management of Azure storage access keys</span></span>](#secure-keys)</li><li>[<span data-ttu-id="3aa49-136">Comprobación de que solo se permiten orígenes de confianza si CORS está activado en Azure Storage</span><span class="sxs-lookup"><span data-stu-id="3aa49-136">Ensure that only trusted origins are allowed if CORS is enabled on Azure storage</span></span>](#cors-storage)</li></ul> |
| <span data-ttu-id="3aa49-137">**WCF**</span><span class="sxs-lookup"><span data-stu-id="3aa49-137">**WCF**</span></span> | <ul><li>[<span data-ttu-id="3aa49-138">Habilitación de la característica de limitación del servicio de WCF</span><span class="sxs-lookup"><span data-stu-id="3aa49-138">Enable WCF's service throttling feature</span></span>](#throttling)</li><li>[<span data-ttu-id="3aa49-139">Revelación de información de WCF mediante metadatos</span><span class="sxs-lookup"><span data-stu-id="3aa49-139">WCF-Information disclosure through metadata</span></span>](#info-metadata)</li></ul> | 

## <span data-ttu-id="3aa49-140"><a id="csp-js"></a>Implementación de la directiva de seguridad de contenido [CSP] y deshabilitación de Javascript en línea</span><span class="sxs-lookup"><span data-stu-id="3aa49-140"><a id="csp-js"></a>Implement Content Security Policy (CSP), and disable inline javascript</span></span>

| <span data-ttu-id="3aa49-141">Título</span><span class="sxs-lookup"><span data-stu-id="3aa49-141">Title</span></span>                   | <span data-ttu-id="3aa49-142">Detalles</span><span class="sxs-lookup"><span data-stu-id="3aa49-142">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="3aa49-143">**Componente**</span><span class="sxs-lookup"><span data-stu-id="3aa49-143">**Component**</span></span>               | <span data-ttu-id="3aa49-144">Aplicación web</span><span class="sxs-lookup"><span data-stu-id="3aa49-144">Web Application</span></span> | 
| <span data-ttu-id="3aa49-145">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="3aa49-145">**SDL Phase**</span></span>               | <span data-ttu-id="3aa49-146">Compilación</span><span class="sxs-lookup"><span data-stu-id="3aa49-146">Build</span></span> |  
| <span data-ttu-id="3aa49-147">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="3aa49-147">**Applicable Technologies**</span></span> | <span data-ttu-id="3aa49-148">Genérico</span><span class="sxs-lookup"><span data-stu-id="3aa49-148">Generic</span></span> |
| <span data-ttu-id="3aa49-149">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-149">**Attributes**</span></span>              | <span data-ttu-id="3aa49-150">N/D</span><span class="sxs-lookup"><span data-stu-id="3aa49-150">N/A</span></span>  |
| <span data-ttu-id="3aa49-151">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="3aa49-151">**References**</span></span>              | <span data-ttu-id="3aa49-152">[An Introduction to Content Security Policy](http://www.html5rocks.com/en/tutorials/security/content-security-policy/) (Introducción a la directiva de seguridad del contenido), [Content Security Policy Reference](http://content-security-policy.com/) (Referencia a la directiva de seguridad del contenido), [Security features](https://developer.microsoft.com/microsoft-edge/platform/documentation/dev-guide/security/) (Características de seguridad), [Introduction to content security policy](https://docs.webplatform.org/wiki/tutorials/content-security-policy) (Introducción a la directiva de seguridad del contenido), [Can I use CSP?](http://caniuse.com/#feat=contentsecuritypolicy) (¿Puedo usar la directiva de seguridad de contenido [CSP]?)</span><span class="sxs-lookup"><span data-stu-id="3aa49-152">[An Introduction to Content Security Policy](http://www.html5rocks.com/en/tutorials/security/content-security-policy/), [Content Security Policy Reference](http://content-security-policy.com/), [Security features](https://developer.microsoft.com/microsoft-edge/platform/documentation/dev-guide/security/), [Introduction to content security policy](https://docs.webplatform.org/wiki/tutorials/content-security-policy), [Can I use CSP?](http://caniuse.com/#feat=contentsecuritypolicy)</span></span> |
| <span data-ttu-id="3aa49-153">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-153">**Steps**</span></span> | <p><span data-ttu-id="3aa49-154">La directiva de seguridad de contenido (CSP) es un mecanismo de seguridad de defensa en profundidad, una norma de W3C, que permite controlar el contenido insertado en el sitio a los propietarios de aplicaciones web.</span><span class="sxs-lookup"><span data-stu-id="3aa49-154">Content Security Policy (CSP) is a defense-in-depth security mechanism, a W3C standard, that enables web application owners to have control on the content embedded in their site.</span></span> <span data-ttu-id="3aa49-155">La CSP se agrega como encabezado de respuesta HTTP al servidor web y se aplica en los exploradores del lado del cliente.</span><span class="sxs-lookup"><span data-stu-id="3aa49-155">CSP is added as an HTTP response header on the web server and is enforced on the client side by browsers.</span></span> <span data-ttu-id="3aa49-156">Es una directiva basada en una lista blanca: un sitio web puede declarar un conjunto de dominios de confianza desde los que se puede cargar contenido activo, como JavaScript.</span><span class="sxs-lookup"><span data-stu-id="3aa49-156">It is a whitelist-based policy - a website can declare a set of trusted domains from which active content such as JavaScript can be loaded.</span></span></p><p><span data-ttu-id="3aa49-157">La CSP ofrece las siguientes ventajas de seguridad:</span><span class="sxs-lookup"><span data-stu-id="3aa49-157">CSP provides the following security benefits:</span></span></p><ul><li><span data-ttu-id="3aa49-158">**Protección frente a XSS:** si una página es vulnerable a XSS, los atacantes pueden aprovecharlo de dos maneras:</span><span class="sxs-lookup"><span data-stu-id="3aa49-158">**Protection against XSS:** If a page is vulnerable to XSS, an attacker can exploit it in 2 ways:</span></span><ul><li><span data-ttu-id="3aa49-159">Insertando `<script>malicious code</script>`.</span><span class="sxs-lookup"><span data-stu-id="3aa49-159">Inject `<script>malicious code</script>`.</span></span> <span data-ttu-id="3aa49-160">Gracias a la restricción básica 1 de la CSP, esta vulnerabilidad de seguridad no funcionará</span><span class="sxs-lookup"><span data-stu-id="3aa49-160">This exploit will not work due to CSP’s Base Restriction-1</span></span></li><li><span data-ttu-id="3aa49-161">Insertando `<script src=”http://attacker.com/maliciousCode.js”/>`.</span><span class="sxs-lookup"><span data-stu-id="3aa49-161">Inject `<script src=”http://attacker.com/maliciousCode.js”/>`.</span></span> <span data-ttu-id="3aa49-162">Esta vulnerabilidad de seguridad no funcionará, ya que el dominio que controla el atacante no estará en la lista de dominios aprobados de la CSP</span><span class="sxs-lookup"><span data-stu-id="3aa49-162">This exploit will not work since the attacker controlled domain will not be in CSP’s whitelist of domains</span></span></li></ul></li><li><span data-ttu-id="3aa49-163">**Control de la exfiltración de datos:** si cualquier contenido malintencionado de una página web intenta conectarse a un sitio web externo y robar datos, la CSP anulará la conexión,</span><span class="sxs-lookup"><span data-stu-id="3aa49-163">**Control over data exfiltration:** If any malicious content on a webpage attempts to connect to an external website and steal data, the connection will be aborted by CSP.</span></span> <span data-ttu-id="3aa49-164">ya que el dominio de destino no estará en la lista aprobada de la CSP</span><span class="sxs-lookup"><span data-stu-id="3aa49-164">This is because the target domain will not be in CSP’s whitelist</span></span></li><li><span data-ttu-id="3aa49-165">**Defensa contra el secuestro de clic:** el secuestro de clic es una técnica de ataque con la que un adversario puede enmarcar un sitio web auténtico y forzar a los usuarios a hacer clic en elementos de la interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="3aa49-165">**Defense against click-jacking:** click-jacking is an attack technique using which an adversary can frame a genuine website and force users to click on UI elements.</span></span> <span data-ttu-id="3aa49-166">La defensa actual contra el secuestro de clic se consigue mediante la configuración de un encabezado de respuesta X-Frame-Option.</span><span class="sxs-lookup"><span data-stu-id="3aa49-166">Currently defense against click-jacking is achieved by configuring a response header- X-Frame-Options.</span></span> <span data-ttu-id="3aa49-167">No todos los exploradores respetan este encabezado y la implementación de la CSP será un método estándar de defensa contra el secuestro de clic</span><span class="sxs-lookup"><span data-stu-id="3aa49-167">Not all browsers respect this header and going forward CSP will be a standard way to defend against click-jacking</span></span></li><li><span data-ttu-id="3aa49-168">**Informes de ataques en tiempo real:** si se produce un ataque de inserción de código en un sitio web con la CSP habilitada, los exploradores desencadenarán automáticamente una notificación a un punto de conexión configurado en el servidor web.</span><span class="sxs-lookup"><span data-stu-id="3aa49-168">**Real-time attack reporting:** If there is an injection attack on a CSP-enabled website, browsers will automatically trigger a notification to an endpoint configured on the webserver.</span></span> <span data-ttu-id="3aa49-169">De esta manera, la CSP actúa como sistema de advertencia en tiempo real.</span><span class="sxs-lookup"><span data-stu-id="3aa49-169">This way, CSP serves as a real-time warning system.</span></span></li></ul> |

### <a name="example"></a><span data-ttu-id="3aa49-170">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="3aa49-170">Example</span></span>
<span data-ttu-id="3aa49-171">Ejemplo de directiva:</span><span class="sxs-lookup"><span data-stu-id="3aa49-171">Example policy:</span></span> 
```C#
Content-Security-Policy: default-src 'self'; script-src 'self' www.google-analytics.com 
```
<span data-ttu-id="3aa49-172">Esta directiva permite a los scripts cargar solo desde el servidor de la aplicación web y de Google Analytics.</span><span class="sxs-lookup"><span data-stu-id="3aa49-172">This policy allows scripts to load only from the web application’s server and google analytics server.</span></span> <span data-ttu-id="3aa49-173">Se rechazarán los scripts que se carguen desde cualquier otro sitio.</span><span class="sxs-lookup"><span data-stu-id="3aa49-173">Scripts loaded from any other site will be rejected.</span></span> <span data-ttu-id="3aa49-174">Cuando se habilita la CSP en un sitio web, para mitigar los ataques XSS, se deshabilitan automáticamente las siguientes características.</span><span class="sxs-lookup"><span data-stu-id="3aa49-174">When CSP is enabled on a website, the following features are automatically disabled to mitigate XSS attacks.</span></span> 

### <a name="example"></a><span data-ttu-id="3aa49-175">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="3aa49-175">Example</span></span>
<span data-ttu-id="3aa49-176">Los scripts en línea no se ejecutarán.</span><span class="sxs-lookup"><span data-stu-id="3aa49-176">Inline scripts will not execute.</span></span> <span data-ttu-id="3aa49-177">Ejemplos de scripts en línea</span><span class="sxs-lookup"><span data-stu-id="3aa49-177">Following are examples of inline scripts</span></span> 
```javascript
<script> some Javascript code </script>
Event handling attributes of HTML tags (e.g., <button onclick=”function(){}”>
javascript:alert(1);
```

### <a name="example"></a><span data-ttu-id="3aa49-178">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="3aa49-178">Example</span></span>
<span data-ttu-id="3aa49-179">Las cadenas no se evaluarán como código.</span><span class="sxs-lookup"><span data-stu-id="3aa49-179">Strings will not be evaluated as code.</span></span> 
```javascript
Example: var str="alert(1)"; eval(str);
```

## <span data-ttu-id="3aa49-180"><a id="xss-filter"></a>Habilitación del filtro XSS del explorador</span><span class="sxs-lookup"><span data-stu-id="3aa49-180"><a id="xss-filter"></a>Enable browser's XSS filter</span></span>

| <span data-ttu-id="3aa49-181">Título</span><span class="sxs-lookup"><span data-stu-id="3aa49-181">Title</span></span>                   | <span data-ttu-id="3aa49-182">Detalles</span><span class="sxs-lookup"><span data-stu-id="3aa49-182">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="3aa49-183">**Componente**</span><span class="sxs-lookup"><span data-stu-id="3aa49-183">**Component**</span></span>               | <span data-ttu-id="3aa49-184">Aplicación web</span><span class="sxs-lookup"><span data-stu-id="3aa49-184">Web Application</span></span> | 
| <span data-ttu-id="3aa49-185">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="3aa49-185">**SDL Phase**</span></span>               | <span data-ttu-id="3aa49-186">Compilación</span><span class="sxs-lookup"><span data-stu-id="3aa49-186">Build</span></span> |  
| <span data-ttu-id="3aa49-187">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="3aa49-187">**Applicable Technologies**</span></span> | <span data-ttu-id="3aa49-188">Genérico</span><span class="sxs-lookup"><span data-stu-id="3aa49-188">Generic</span></span> |
| <span data-ttu-id="3aa49-189">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-189">**Attributes**</span></span>              | <span data-ttu-id="3aa49-190">N/D</span><span class="sxs-lookup"><span data-stu-id="3aa49-190">N/A</span></span>  |
| <span data-ttu-id="3aa49-191">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="3aa49-191">**References**</span></span>              | [<span data-ttu-id="3aa49-192">Filtro de protección de XSS</span><span class="sxs-lookup"><span data-stu-id="3aa49-192">XSS Protection Filter</span></span>](https://www.owasp.org/index.php/List_of_useful_HTTP_headers#X-XSS-Protection) |
| <span data-ttu-id="3aa49-193">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-193">**Steps**</span></span> | <p><span data-ttu-id="3aa49-194">La configuración del encabezado de respuesta X-XSS-Protection controla el filtro de script entre sitios del explorador.</span><span class="sxs-lookup"><span data-stu-id="3aa49-194">X-XSS-Protection response header configuration controls the browser's cross site script filter.</span></span> <span data-ttu-id="3aa49-195">Este encabezado de respuesta puede tener los siguientes valores:</span><span class="sxs-lookup"><span data-stu-id="3aa49-195">This response header can have following values:</span></span></p><ul><li><span data-ttu-id="3aa49-196">`0:` Esto deshabilitará el filtro</span><span class="sxs-lookup"><span data-stu-id="3aa49-196">`0:` This will disable the filter</span></span></li><li><span data-ttu-id="3aa49-197">`1: Filter enabled` Si se detecta un ataque de scripting entre sitios (XSS), para detenerlo, el explorador saneará la página</span><span class="sxs-lookup"><span data-stu-id="3aa49-197">`1: Filter enabled` If a cross-site scripting attack is detected, in order to stop the attack, the browser will sanitize the page</span></span></li><li><span data-ttu-id="3aa49-198">`1: mode=block : Filter enabled`.</span><span class="sxs-lookup"><span data-stu-id="3aa49-198">`1: mode=block : Filter enabled`.</span></span> <span data-ttu-id="3aa49-199">En lugar de sanearla, cuando se detecta un ataque XSS, el explorador impedirá la representación de la página</span><span class="sxs-lookup"><span data-stu-id="3aa49-199">Rather than sanitize the page, when a XSS attack is detected, the browser will prevent rendering of the page</span></span></li><li><span data-ttu-id="3aa49-200">`1: report=http://[YOURDOMAIN]/your_report_URI : Filter enabled`.</span><span class="sxs-lookup"><span data-stu-id="3aa49-200">`1: report=http://[YOURDOMAIN]/your_report_URI : Filter enabled`.</span></span> <span data-ttu-id="3aa49-201">El explorador saneará la página y notificará la infracción.</span><span class="sxs-lookup"><span data-stu-id="3aa49-201">The browser will sanitize the page and report the violation.</span></span></li></ul><p><span data-ttu-id="3aa49-202">Se trata de una función de cromo que usa los informes de infracción de la CSP para enviar detalles al URI que elija.</span><span class="sxs-lookup"><span data-stu-id="3aa49-202">This is a Chromium function utilizing CSP violation reports to send details to a URI of your choice.</span></span> <span data-ttu-id="3aa49-203">Las 2 últimas opciones se consideran valores seguros.</span><span class="sxs-lookup"><span data-stu-id="3aa49-203">The last 2 options are considered safe values.</span></span></p>|

## <span data-ttu-id="3aa49-204"><a id="trace-deploy"></a>Deshabilitación obligatoria del seguimiento y la depuración de las aplicaciones ASP.NET antes de la implementación</span><span class="sxs-lookup"><span data-stu-id="3aa49-204"><a id="trace-deploy"></a>ASP.NET applications must disable tracing and debugging prior to deployment</span></span>

| <span data-ttu-id="3aa49-205">Título</span><span class="sxs-lookup"><span data-stu-id="3aa49-205">Title</span></span>                   | <span data-ttu-id="3aa49-206">Detalles</span><span class="sxs-lookup"><span data-stu-id="3aa49-206">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="3aa49-207">**Componente**</span><span class="sxs-lookup"><span data-stu-id="3aa49-207">**Component**</span></span>               | <span data-ttu-id="3aa49-208">Aplicación web</span><span class="sxs-lookup"><span data-stu-id="3aa49-208">Web Application</span></span> | 
| <span data-ttu-id="3aa49-209">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="3aa49-209">**SDL Phase**</span></span>               | <span data-ttu-id="3aa49-210">Compilación</span><span class="sxs-lookup"><span data-stu-id="3aa49-210">Build</span></span> |  
| <span data-ttu-id="3aa49-211">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="3aa49-211">**Applicable Technologies**</span></span> | <span data-ttu-id="3aa49-212">Genérico</span><span class="sxs-lookup"><span data-stu-id="3aa49-212">Generic</span></span> |
| <span data-ttu-id="3aa49-213">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-213">**Attributes**</span></span>              | <span data-ttu-id="3aa49-214">N/D</span><span class="sxs-lookup"><span data-stu-id="3aa49-214">N/A</span></span>  |
| <span data-ttu-id="3aa49-215">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="3aa49-215">**References**</span></span>              | <span data-ttu-id="3aa49-216">[Introducción a la depuración en ASP.NET](http://msdn2.microsoft.com/library/ms227556.aspx), [Introducción al seguimiento en ASP.NET](http://msdn2.microsoft.com/library/bb386420.aspx), [Cómo: Habilitar el seguimiento de una aplicación ASP.NET](http://msdn2.microsoft.com/library/0x5wc973.aspx), [Cómo: Habilitar la depuración de aplicaciones de ASP.NET](http://msdn2.microsoft.com/library/e8z01xdh(VS.80).aspx)</span><span class="sxs-lookup"><span data-stu-id="3aa49-216">[ASP.NET Debugging Overview](http://msdn2.microsoft.com/library/ms227556.aspx), [ASP.NET Tracing Overview](http://msdn2.microsoft.com/library/bb386420.aspx), [How to: Enable Tracing for an ASP.NET Application](http://msdn2.microsoft.com/library/0x5wc973.aspx), [How to: Enable Debugging for ASP.NET Applications](http://msdn2.microsoft.com/library/e8z01xdh(VS.80).aspx)</span></span> |
| <span data-ttu-id="3aa49-217">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-217">**Steps**</span></span> | <span data-ttu-id="3aa49-218">Cuando el seguimiento está habilitado para la página, cada explorador que lo solicite también obtiene la información de seguimiento con los datos del estado interno del servidor y del flujo de trabajo.</span><span class="sxs-lookup"><span data-stu-id="3aa49-218">When tracing is enabled for the page, every browser requesting it also obtains the trace information that contains data about internal server state and workflow.</span></span> <span data-ttu-id="3aa49-219">Esta información podría ser confidencial.</span><span class="sxs-lookup"><span data-stu-id="3aa49-219">That information could be security sensitive.</span></span> <span data-ttu-id="3aa49-220">Cuando está habilitada la depuración en la página, los errores que se producen en el servidor provocan el seguimiento de pila completo de los datos que se presenta al explorador.</span><span class="sxs-lookup"><span data-stu-id="3aa49-220">When debugging is enabled for the page, errors happening on the server result in a full stack trace data presented to the browser.</span></span> <span data-ttu-id="3aa49-221">Esos datos pueden exponer información confidencial del flujo de trabajo del servidor.</span><span class="sxs-lookup"><span data-stu-id="3aa49-221">That data may expose security-sensitive information about the server's workflow.</span></span> |

## <span data-ttu-id="3aa49-222"><a id="js-trusted"></a>Acceso exclusivo a archivos JavaScript de terceros de orígenes de confianza</span><span class="sxs-lookup"><span data-stu-id="3aa49-222"><a id="js-trusted"></a>Access third-party javascripts from trusted sources only</span></span>

| <span data-ttu-id="3aa49-223">Título</span><span class="sxs-lookup"><span data-stu-id="3aa49-223">Title</span></span>                   | <span data-ttu-id="3aa49-224">Detalles</span><span class="sxs-lookup"><span data-stu-id="3aa49-224">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="3aa49-225">**Componente**</span><span class="sxs-lookup"><span data-stu-id="3aa49-225">**Component**</span></span>               | <span data-ttu-id="3aa49-226">Aplicación web</span><span class="sxs-lookup"><span data-stu-id="3aa49-226">Web Application</span></span> | 
| <span data-ttu-id="3aa49-227">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="3aa49-227">**SDL Phase**</span></span>               | <span data-ttu-id="3aa49-228">Compilación</span><span class="sxs-lookup"><span data-stu-id="3aa49-228">Build</span></span> |  
| <span data-ttu-id="3aa49-229">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="3aa49-229">**Applicable Technologies**</span></span> | <span data-ttu-id="3aa49-230">Genérico</span><span class="sxs-lookup"><span data-stu-id="3aa49-230">Generic</span></span> |
| <span data-ttu-id="3aa49-231">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-231">**Attributes**</span></span>              | <span data-ttu-id="3aa49-232">N/D</span><span class="sxs-lookup"><span data-stu-id="3aa49-232">N/A</span></span>  |
| <span data-ttu-id="3aa49-233">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="3aa49-233">**References**</span></span>              | <span data-ttu-id="3aa49-234">N/D</span><span class="sxs-lookup"><span data-stu-id="3aa49-234">N/A</span></span>  |
| <span data-ttu-id="3aa49-235">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-235">**Steps**</span></span> | <span data-ttu-id="3aa49-236">debe hacerse referencia a archivos JavaScript de terceros únicamente desde orígenes de confianza.</span><span class="sxs-lookup"><span data-stu-id="3aa49-236">third-party JavaScripts should be referenced only from trusted sources.</span></span> <span data-ttu-id="3aa49-237">Los puntos de conexión de referencia deben estar siempre en SSL.</span><span class="sxs-lookup"><span data-stu-id="3aa49-237">The reference endpoints should always be on SSL.</span></span> |

## <span data-ttu-id="3aa49-238"><a id="ui-defenses"></a>Comprobación de que las páginas con autenticación con ASP.NET incorporan defensas contra el secuestro de clic</span><span class="sxs-lookup"><span data-stu-id="3aa49-238"><a id="ui-defenses"></a>Ensure that authenticated ASP.NET pages incorporate UI Redressing or click-jacking defenses</span></span>

| <span data-ttu-id="3aa49-239">Título</span><span class="sxs-lookup"><span data-stu-id="3aa49-239">Title</span></span>                   | <span data-ttu-id="3aa49-240">Detalles</span><span class="sxs-lookup"><span data-stu-id="3aa49-240">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="3aa49-241">**Componente**</span><span class="sxs-lookup"><span data-stu-id="3aa49-241">**Component**</span></span>               | <span data-ttu-id="3aa49-242">Aplicación web</span><span class="sxs-lookup"><span data-stu-id="3aa49-242">Web Application</span></span> | 
| <span data-ttu-id="3aa49-243">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="3aa49-243">**SDL Phase**</span></span>               | <span data-ttu-id="3aa49-244">Compilación</span><span class="sxs-lookup"><span data-stu-id="3aa49-244">Build</span></span> |  
| <span data-ttu-id="3aa49-245">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="3aa49-245">**Applicable Technologies**</span></span> | <span data-ttu-id="3aa49-246">Genérico</span><span class="sxs-lookup"><span data-stu-id="3aa49-246">Generic</span></span> |
| <span data-ttu-id="3aa49-247">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-247">**Attributes**</span></span>              | <span data-ttu-id="3aa49-248">N/D</span><span class="sxs-lookup"><span data-stu-id="3aa49-248">N/A</span></span>  |
| <span data-ttu-id="3aa49-249">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="3aa49-249">**References**</span></span>              | <span data-ttu-id="3aa49-250">[OWASP click-jacking Defense Cheat Sheet](https://www.owasp.org/index.php/Clickjacking_Defense_Cheat_Sheet) (Hoja de referencia rápida de OWASP sobre la defensa ante el secuestro de clic), [IE Internals - Combating click-jacking With X-Frame-Options](https://blogs.msdn.microsoft.com/ieinternals/2010/03/30/combating-click-jacking-with-x-frame-options/) (Elementos internos de Internet Explorer: combatir el secuestro de clic con X-Frame-Options)</span><span class="sxs-lookup"><span data-stu-id="3aa49-250">[OWASP click-jacking Defense Cheat Sheet](https://www.owasp.org/index.php/Clickjacking_Defense_Cheat_Sheet), [IE Internals - Combating click-jacking With X-Frame-Options](https://blogs.msdn.microsoft.com/ieinternals/2010/03/30/combating-click-jacking-with-x-frame-options/)</span></span> |
| <span data-ttu-id="3aa49-251">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-251">**Steps**</span></span> | <p><span data-ttu-id="3aa49-252">el secuestro de clic, también conocido como "clickjacking" o "ataque UI redress", se produce cuando un atacante utiliza varias capas transparentes u opacas para engañar al usuario para que haga clic en un botón o vínculo de otra página al intentar hacer clic en la página del nivel superior.</span><span class="sxs-lookup"><span data-stu-id="3aa49-252">click-jacking, also known as a "UI redress attack", is when an attacker uses multiple transparent or opaque layers to trick a user into clicking on a button or link on another page when they were intending to click on the top-level page.</span></span></p><p><span data-ttu-id="3aa49-253">Estas capas se logran al elaborar una página malintencionada con un iframe, que carga la página de la víctima.</span><span class="sxs-lookup"><span data-stu-id="3aa49-253">This layering is achieved by crafting a malicious page with an iframe, which loads the victim's page.</span></span> <span data-ttu-id="3aa49-254">Por lo tanto, el atacante "secuestra" el clic destinado a su página y los enruta a otra página, muy probablemente propiedad de otra aplicación, dominio o ambos.</span><span class="sxs-lookup"><span data-stu-id="3aa49-254">Thus, the attacker is "hijacking" clicks meant for their page and routing them to another page, most likely owned by another application, domain, or both.</span></span> <span data-ttu-id="3aa49-255">Para evitar el secuestro de clic, establezca los encabezados de respuesta HTTP X-Frame-Options adecuados que indiquen al explorador que no permita enmarcar a otros dominios</span><span class="sxs-lookup"><span data-stu-id="3aa49-255">To prevent click-jacking attacks, set the proper X-Frame-Options HTTP response headers that instruct the browser to not allow framing from other domains</span></span></p>|

### <a name="example"></a><span data-ttu-id="3aa49-256">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="3aa49-256">Example</span></span>
<span data-ttu-id="3aa49-257">El encabezado X-FRAME-OPTIONS se puede establecer a través de web.config de IIS. Fragmento de código de web.config para los sitios que nunca deben enmarcarse:</span><span class="sxs-lookup"><span data-stu-id="3aa49-257">The X-FRAME-OPTIONS header can be set via IIS web.config. Web.config code snippet for sites that should never be framed:</span></span> 
```C#
    <system.webServer>
        <httpProtocol>
            <customHeader>
                <add name="X-FRAME-OPTIONS" value="DENY"/>
            </customHeaders>
        </httpProtocol>
    </system.webServer>
```

### <a name="example"></a><span data-ttu-id="3aa49-258">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="3aa49-258">Example</span></span>
<span data-ttu-id="3aa49-259">Código de web.config para los sitios que solo deben enmarcar las páginas del mismo dominio:</span><span class="sxs-lookup"><span data-stu-id="3aa49-259">Web.config code for sites that should only be framed by pages in the same domain:</span></span> 
```C#
    <system.webServer>
        <httpProtocol>
            <customHeader>
                <add name="X-FRAME-OPTIONS" value="SAMEORIGIN"/>
            </customHeaders>
        </httpProtocol>
    </system.webServer>
```

## <span data-ttu-id="3aa49-260"><a id="cors-aspnet"></a>Comprobación de que solo se permiten orígenes de confianza si CORS está activado en las aplicaciones web ASP.NET</span><span class="sxs-lookup"><span data-stu-id="3aa49-260"><a id="cors-aspnet"></a>Ensure that only trusted origins are allowed if CORS is enabled on ASP.NET Web Applications</span></span>

| <span data-ttu-id="3aa49-261">Título</span><span class="sxs-lookup"><span data-stu-id="3aa49-261">Title</span></span>                   | <span data-ttu-id="3aa49-262">Detalles</span><span class="sxs-lookup"><span data-stu-id="3aa49-262">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="3aa49-263">**Componente**</span><span class="sxs-lookup"><span data-stu-id="3aa49-263">**Component**</span></span>               | <span data-ttu-id="3aa49-264">Aplicación web</span><span class="sxs-lookup"><span data-stu-id="3aa49-264">Web Application</span></span> | 
| <span data-ttu-id="3aa49-265">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="3aa49-265">**SDL Phase**</span></span>               | <span data-ttu-id="3aa49-266">Compilación</span><span class="sxs-lookup"><span data-stu-id="3aa49-266">Build</span></span> |  
| <span data-ttu-id="3aa49-267">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="3aa49-267">**Applicable Technologies**</span></span> | <span data-ttu-id="3aa49-268">Formularios Web Forms, MVC5</span><span class="sxs-lookup"><span data-stu-id="3aa49-268">Web Forms, MVC5</span></span> |
| <span data-ttu-id="3aa49-269">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-269">**Attributes**</span></span>              | <span data-ttu-id="3aa49-270">N/D</span><span class="sxs-lookup"><span data-stu-id="3aa49-270">N/A</span></span>  |
| <span data-ttu-id="3aa49-271">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="3aa49-271">**References**</span></span>              | <span data-ttu-id="3aa49-272">N/D</span><span class="sxs-lookup"><span data-stu-id="3aa49-272">N/A</span></span>  |
| <span data-ttu-id="3aa49-273">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-273">**Steps**</span></span> | <p><span data-ttu-id="3aa49-274">La seguridad del explorador impide que una página web realice solicitudes AJAX a otro dominio.</span><span class="sxs-lookup"><span data-stu-id="3aa49-274">Browser security prevents a web page from making AJAX requests to another domain.</span></span> <span data-ttu-id="3aa49-275">Esta restricción se conoce como la directiva de mismo origen y evita que un sitio malintencionado lea datos confidenciales de otro sitio.</span><span class="sxs-lookup"><span data-stu-id="3aa49-275">This restriction is called the same-origin policy, and prevents a malicious site from reading sensitive data from another site.</span></span> <span data-ttu-id="3aa49-276">Sin embargo, a veces puede ser necesario exponer las API de forma segura para que las consuman otros sitios.</span><span class="sxs-lookup"><span data-stu-id="3aa49-276">However, sometimes it might be required to expose APIs securely which other sites can consume.</span></span> <span data-ttu-id="3aa49-277">Uso compartido de recursos de origen cruzado (CORS) es una norma de W3C que permite mayor flexibilidad a los servidores en la directiva de mismo origen.</span><span class="sxs-lookup"><span data-stu-id="3aa49-277">Cross Origin Resource Sharing (CORS) is a W3C standard that allows a server to relax the same-origin policy.</span></span> <span data-ttu-id="3aa49-278">Con CORS, un servidor puede permitir explícitamente algunas solicitudes de origen cruzado y rechazar otras.</span><span class="sxs-lookup"><span data-stu-id="3aa49-278">Using CORS, a server can explicitly allow some cross-origin requests while rejecting others.</span></span></p><p><span data-ttu-id="3aa49-279">CORS es más seguro y más flexible que las técnicas anteriores, como JSONP.</span><span class="sxs-lookup"><span data-stu-id="3aa49-279">CORS is safer and more flexible than earlier techniques such as JSONP.</span></span> <span data-ttu-id="3aa49-280">En esencia, la habilitación de CORS se traduce en la incorporación de algunos encabezados de respuesta HTTP (Access-Control-*) en la aplicación web, lo cual se puede hacer de un par de maneras.</span><span class="sxs-lookup"><span data-stu-id="3aa49-280">At its core, enabling CORS translates to adding a few HTTP response headers (Access-Control-*) to the web application and this can be done in a couple of ways.</span></span></p>|

### <a name="example"></a><span data-ttu-id="3aa49-281">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="3aa49-281">Example</span></span>
<span data-ttu-id="3aa49-282">Si se puede acceder a web.config, CORS puede agregarse mediante el siguiente nodo:</span><span class="sxs-lookup"><span data-stu-id="3aa49-282">If access to Web.config is available, then CORS can be added through the following code:</span></span> 
```XML
<system.webServer>
    <httpProtocol>
      <customHeaders>
        <clear />
        <add name="Access-Control-Allow-Origin" value="http://example.com" />
      </customHeaders>
    </httpProtocol>
```

### <a name="example"></a><span data-ttu-id="3aa49-283">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="3aa49-283">Example</span></span>
<span data-ttu-id="3aa49-284">Si no se puede acceder a web.config, CORS puede configurarse mediante la incorporación del código CSharp siguiente:</span><span class="sxs-lookup"><span data-stu-id="3aa49-284">If access to web.config is not available, then CORS can be configured by adding the following CSharp code:</span></span> 
```C#
HttpContext.Response.AppendHeader("Access-Control-Allow-Origin", "http://example.com")
```

<span data-ttu-id="3aa49-285">Tenga en cuenta que es fundamental garantizar que la lista de orígenes del atributo "Access-Control-Allow-Origin" se establece en un conjunto de orígenes finito y de confianza.</span><span class="sxs-lookup"><span data-stu-id="3aa49-285">Please note that it is critical to ensure that the list of origins in "Access-Control-Allow-Origin" attribute is set to a finite and trusted set of origins.</span></span> <span data-ttu-id="3aa49-286">Si esto no se configura bien (por ejemplo, se establece el valor como "*"), los sitios malintencionados podrán desencadenar solicitudes de origen cruzado a la aplicación web sin restricciones, por lo que la aplicación se volverá vulnerable a ataques CSRF.</span><span class="sxs-lookup"><span data-stu-id="3aa49-286">Failing to configure this inappropriately (e.g., setting the value as '*') will allow malicious sites to trigger cross origin requests to the web application >without any restrictions, thereby making the application vulnerable to CSRF attacks.</span></span> 

## <span data-ttu-id="3aa49-287"><a id="validate-aspnet"></a>Habilitación del atributo ValidateRequest en las páginas de ASP.NET</span><span class="sxs-lookup"><span data-stu-id="3aa49-287"><a id="validate-aspnet"></a>Enable ValidateRequest attribute on ASP.NET Pages</span></span>

| <span data-ttu-id="3aa49-288">Título</span><span class="sxs-lookup"><span data-stu-id="3aa49-288">Title</span></span>                   | <span data-ttu-id="3aa49-289">Detalles</span><span class="sxs-lookup"><span data-stu-id="3aa49-289">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="3aa49-290">**Componente**</span><span class="sxs-lookup"><span data-stu-id="3aa49-290">**Component**</span></span>               | <span data-ttu-id="3aa49-291">Aplicación web</span><span class="sxs-lookup"><span data-stu-id="3aa49-291">Web Application</span></span> | 
| <span data-ttu-id="3aa49-292">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="3aa49-292">**SDL Phase**</span></span>               | <span data-ttu-id="3aa49-293">Compilación</span><span class="sxs-lookup"><span data-stu-id="3aa49-293">Build</span></span> |  
| <span data-ttu-id="3aa49-294">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="3aa49-294">**Applicable Technologies**</span></span> | <span data-ttu-id="3aa49-295">Formularios Web Forms, MVC5</span><span class="sxs-lookup"><span data-stu-id="3aa49-295">Web Forms, MVC5</span></span> |
| <span data-ttu-id="3aa49-296">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-296">**Attributes**</span></span>              | <span data-ttu-id="3aa49-297">N/D</span><span class="sxs-lookup"><span data-stu-id="3aa49-297">N/A</span></span>  |
| <span data-ttu-id="3aa49-298">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="3aa49-298">**References**</span></span>              | <span data-ttu-id="3aa49-299">[Request Validation - Preventing Script Attacks](http://www.asp.net/whitepapers/request-validation) (Validación de solicitudes: prevención de ataques de script)</span><span class="sxs-lookup"><span data-stu-id="3aa49-299">[Request Validation - Preventing Script Attacks](http://www.asp.net/whitepapers/request-validation)</span></span> |
| <span data-ttu-id="3aa49-300">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-300">**Steps**</span></span> | <p><span data-ttu-id="3aa49-301">La validación de solicitudes, una característica de ASP.NET desde la versión 1.1, impide que el servidor acepte contenido con HTML sin codificar.</span><span class="sxs-lookup"><span data-stu-id="3aa49-301">Request validation, a feature of ASP.NET since version 1.1, prevents the server from accepting content containing un-encoded HTML.</span></span> <span data-ttu-id="3aa49-302">Esta característica está diseñada para ayudar a evitar algunos ataques de inserción de script mediante los cuales el código de script del cliente o HTML puede enviarse sin que se sepa a un servidor, almacenarse y presentarse a otros usuarios.</span><span class="sxs-lookup"><span data-stu-id="3aa49-302">This feature is designed to help prevent some script-injection attacks whereby client script code or HTML can be unknowingly submitted to a server, stored, and then presented to other users.</span></span> <span data-ttu-id="3aa49-303">Se recomienda encarecidamente validar todos los datos de entrada y codificar el código HTML cuando corresponda.</span><span class="sxs-lookup"><span data-stu-id="3aa49-303">We still strongly recommend that you validate all input data and HTML encode it when appropriate.</span></span></p><p><span data-ttu-id="3aa49-304">La validación de solicitudes se realiza mediante la comparación de todos los datos de entrada con una lista de valores peligrosos.</span><span class="sxs-lookup"><span data-stu-id="3aa49-304">Request validation is performed by comparing all input data to a list of potentially dangerous values.</span></span> <span data-ttu-id="3aa49-305">Si se produce una coincidencia, ASP.NET genera un `HttpRequestValidationException`.</span><span class="sxs-lookup"><span data-stu-id="3aa49-305">If a match occurs, ASP.NET raises an `HttpRequestValidationException`.</span></span> <span data-ttu-id="3aa49-306">De forma predeterminada, la característica de validación de solicitudes está habilitada.</span><span class="sxs-lookup"><span data-stu-id="3aa49-306">By default, Request Validation feature is enabled.</span></span></p>|

### <a name="example"></a><span data-ttu-id="3aa49-307">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="3aa49-307">Example</span></span>
<span data-ttu-id="3aa49-308">Sin embargo, se puede deshabilitar en el nivel de página:</span><span class="sxs-lookup"><span data-stu-id="3aa49-308">However, this feature can be disabled at page level:</span></span> 
```XML
<%@ Page validateRequest="false" %> 
```
<span data-ttu-id="3aa49-309">o en el nivel de aplicación</span><span class="sxs-lookup"><span data-stu-id="3aa49-309">or, at application level</span></span> 
```XML
<configuration>
   <system.web>
      <pages validateRequest="false" />
   </system.web>
</configuration>
```
<span data-ttu-id="3aa49-310">Tenga en cuenta que esta característica de validación de solicitud no es compatible con la canalización de MVC6 ni forma parte de esta.</span><span class="sxs-lookup"><span data-stu-id="3aa49-310">Please note that Request Validation feature is not supported, and is not part of MVC6 pipeline.</span></span> 

## <span data-ttu-id="3aa49-311"><a id="local-js"></a>Uso de las últimas versiones locales de las bibliotecas de JavaScript</span><span class="sxs-lookup"><span data-stu-id="3aa49-311"><a id="local-js"></a>Use locally-hosted latest versions of JavaScript libraries</span></span>

| <span data-ttu-id="3aa49-312">Título</span><span class="sxs-lookup"><span data-stu-id="3aa49-312">Title</span></span>                   | <span data-ttu-id="3aa49-313">Detalles</span><span class="sxs-lookup"><span data-stu-id="3aa49-313">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="3aa49-314">**Componente**</span><span class="sxs-lookup"><span data-stu-id="3aa49-314">**Component**</span></span>               | <span data-ttu-id="3aa49-315">Aplicación web</span><span class="sxs-lookup"><span data-stu-id="3aa49-315">Web Application</span></span> | 
| <span data-ttu-id="3aa49-316">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="3aa49-316">**SDL Phase**</span></span>               | <span data-ttu-id="3aa49-317">Compilación</span><span class="sxs-lookup"><span data-stu-id="3aa49-317">Build</span></span> |  
| <span data-ttu-id="3aa49-318">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="3aa49-318">**Applicable Technologies**</span></span> | <span data-ttu-id="3aa49-319">Genérico</span><span class="sxs-lookup"><span data-stu-id="3aa49-319">Generic</span></span> |
| <span data-ttu-id="3aa49-320">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-320">**Attributes**</span></span>              | <span data-ttu-id="3aa49-321">N/D</span><span class="sxs-lookup"><span data-stu-id="3aa49-321">N/A</span></span>  |
| <span data-ttu-id="3aa49-322">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="3aa49-322">**References**</span></span>              | <span data-ttu-id="3aa49-323">N/D</span><span class="sxs-lookup"><span data-stu-id="3aa49-323">N/A</span></span>  |
| <span data-ttu-id="3aa49-324">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-324">**Steps**</span></span> | <p><span data-ttu-id="3aa49-325">Los desarrolladores que utilizan bibliotecas estándar de JavaScript como JQuery deben usar versiones aprobadas de las bibliotecas de JavaScript comunes sin errores de seguridad conocidos.</span><span class="sxs-lookup"><span data-stu-id="3aa49-325">Developers using standard JavaScript libraries like JQuery must use approved versions of common JavaScript libraries that do not contain known security flaws.</span></span> <span data-ttu-id="3aa49-326">Un procedimiento recomendado es usar la versión más reciente de las bibliotecas, ya que contienen correcciones para las vulnerabilidades de seguridad conocidas de las versiones anteriores.</span><span class="sxs-lookup"><span data-stu-id="3aa49-326">A good practice is to use the most latest version of the libraries, since they contain security fixes for known vulnerabilities in their older versions.</span></span></p><p><span data-ttu-id="3aa49-327">Si no se puede usar la versión más reciente por motivos de compatibilidad, debe utilizarse la anterior mínima aceptable.</span><span class="sxs-lookup"><span data-stu-id="3aa49-327">If the most recent release cannot be used due to compatibility reasons, the below minimum versions should be used.</span></span></p><p><span data-ttu-id="3aa49-328">Versiones mínimas aceptables:</span><span class="sxs-lookup"><span data-stu-id="3aa49-328">Acceptable minimum versions:</span></span></p><ul><li><span data-ttu-id="3aa49-329">**JQuery**</span><span class="sxs-lookup"><span data-stu-id="3aa49-329">**JQuery**</span></span><ul><li><span data-ttu-id="3aa49-330">JQuery 1.7.1</span><span class="sxs-lookup"><span data-stu-id="3aa49-330">JQuery 1.7.1</span></span></li><li><span data-ttu-id="3aa49-331">JQueryUI 1.10.0</span><span class="sxs-lookup"><span data-stu-id="3aa49-331">JQueryUI 1.10.0</span></span></li><li><span data-ttu-id="3aa49-332">JQuery Validate 1.9</span><span class="sxs-lookup"><span data-stu-id="3aa49-332">JQuery Validate 1.9</span></span></li><li><span data-ttu-id="3aa49-333">JQuery Mobile 1.0.1</span><span class="sxs-lookup"><span data-stu-id="3aa49-333">JQuery Mobile 1.0.1</span></span></li><li><span data-ttu-id="3aa49-334">JQuery Cycle 2.99</span><span class="sxs-lookup"><span data-stu-id="3aa49-334">JQuery Cycle 2.99</span></span></li><li><span data-ttu-id="3aa49-335">JQuery DataTables 1.9.0</span><span class="sxs-lookup"><span data-stu-id="3aa49-335">JQuery DataTables 1.9.0</span></span></li></ul></li><li><span data-ttu-id="3aa49-336">**Ajax Control Toolkit**</span><span class="sxs-lookup"><span data-stu-id="3aa49-336">**Ajax Control Toolkit**</span></span><ul><li><span data-ttu-id="3aa49-337">Ajax Control Toolkit 40412</span><span class="sxs-lookup"><span data-stu-id="3aa49-337">Ajax Control Toolkit 40412</span></span></li></ul></li><li><span data-ttu-id="3aa49-338">**ASP.NET Web Forms and Ajax**</span><span class="sxs-lookup"><span data-stu-id="3aa49-338">**ASP.NET Web Forms and Ajax**</span></span><ul><li><span data-ttu-id="3aa49-339">ASP.NET Web Forms and Ajax 4</span><span class="sxs-lookup"><span data-stu-id="3aa49-339">ASP.NET Web Forms and Ajax 4</span></span></li><li><span data-ttu-id="3aa49-340">ASP.NET Ajax 3.5</span><span class="sxs-lookup"><span data-stu-id="3aa49-340">ASP.NET Ajax 3.5</span></span></li></ul></li><li><span data-ttu-id="3aa49-341">**ASP.NET MVC**</span><span class="sxs-lookup"><span data-stu-id="3aa49-341">**ASP.NET MVC**</span></span><ul><li><span data-ttu-id="3aa49-342">ASP.NET MVC 3.0</span><span class="sxs-lookup"><span data-stu-id="3aa49-342">ASP.NET MVC 3.0</span></span></li></ul></li></ul><p><span data-ttu-id="3aa49-343">No cargue nunca bibliotecas de JavaScript desde sitios externos, como redes CDN públicas</span><span class="sxs-lookup"><span data-stu-id="3aa49-343">Never load any JavaScript library from external sites such as public CDNs</span></span></p>|

## <span data-ttu-id="3aa49-344"><a id="mime-sniff"></a>Deshabilitación del rastreo automático de MIME</span><span class="sxs-lookup"><span data-stu-id="3aa49-344"><a id="mime-sniff"></a>Disable automatic MIME sniffing</span></span>

| <span data-ttu-id="3aa49-345">Título</span><span class="sxs-lookup"><span data-stu-id="3aa49-345">Title</span></span>                   | <span data-ttu-id="3aa49-346">Detalles</span><span class="sxs-lookup"><span data-stu-id="3aa49-346">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="3aa49-347">**Componente**</span><span class="sxs-lookup"><span data-stu-id="3aa49-347">**Component**</span></span>               | <span data-ttu-id="3aa49-348">Aplicación web</span><span class="sxs-lookup"><span data-stu-id="3aa49-348">Web Application</span></span> | 
| <span data-ttu-id="3aa49-349">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="3aa49-349">**SDL Phase**</span></span>               | <span data-ttu-id="3aa49-350">Compilación</span><span class="sxs-lookup"><span data-stu-id="3aa49-350">Build</span></span> |  
| <span data-ttu-id="3aa49-351">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="3aa49-351">**Applicable Technologies**</span></span> | <span data-ttu-id="3aa49-352">Genérico</span><span class="sxs-lookup"><span data-stu-id="3aa49-352">Generic</span></span> |
| <span data-ttu-id="3aa49-353">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-353">**Attributes**</span></span>              | <span data-ttu-id="3aa49-354">N/D</span><span class="sxs-lookup"><span data-stu-id="3aa49-354">N/A</span></span>  |
| <span data-ttu-id="3aa49-355">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="3aa49-355">**References**</span></span>              | <span data-ttu-id="3aa49-356">[IE8 Security Part V - Comprehensive Protection](http://blogs.msdn.com/ie/archive/2008/07/02/ie8-security-part-v-comprehensive-protection.aspx) (Seguridad de IE8 [parte V]: protección total), [tipos de MIME](http://en.wikipedia.org/wiki/Mime_type)</span><span class="sxs-lookup"><span data-stu-id="3aa49-356">[IE8 Security Part V: Comprehensive Protection](http://blogs.msdn.com/ie/archive/2008/07/02/ie8-security-part-v-comprehensive-protection.aspx), [MIME type](http://en.wikipedia.org/wiki/Mime_type)</span></span> |
| <span data-ttu-id="3aa49-357">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-357">**Steps**</span></span> | <span data-ttu-id="3aa49-358">El encabezado X-Content-Type-Options es un encabezado HTTP que permite a los desarrolladores especificar que su contenido no se debe someter a un rastreo de MIME.</span><span class="sxs-lookup"><span data-stu-id="3aa49-358">The X-Content-Type-Options header is an HTTP header that allows developers to specify that their content should not be MIME-sniffed.</span></span> <span data-ttu-id="3aa49-359">Este encabezado se ha diseñado para mitigar los ataques de rastreo de MIME.</span><span class="sxs-lookup"><span data-stu-id="3aa49-359">This header is designed to mitigate MIME-Sniffing attacks.</span></span> <span data-ttu-id="3aa49-360">Para cada página que podría incluir contenido controlable por el usuario, debe usar el encabezado HTTP X-Content-Type-Options:nosniff.</span><span class="sxs-lookup"><span data-stu-id="3aa49-360">For each page that could contain user controllable content, you must use the HTTP Header X-Content-Type-Options:nosniff.</span></span> <span data-ttu-id="3aa49-361">Para habilitar el encabezado necesario globalmente para todas las páginas de la aplicación, puede realizar una de las siguientes acciones</span><span class="sxs-lookup"><span data-stu-id="3aa49-361">To enable the required header globally for all pages in the application, you can do one of the following</span></span>|

### <a name="example"></a><span data-ttu-id="3aa49-362">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="3aa49-362">Example</span></span>
<span data-ttu-id="3aa49-363">Agregue el encabezado en el archivo web.config si la aplicación está hospedada en Internet Information Services (IIS) 7 o posteriores.</span><span class="sxs-lookup"><span data-stu-id="3aa49-363">Add the header in the web.config file if the application is hosted by Internet Information Services (IIS) 7 onwards.</span></span> 
```XML
<system.webServer>
<httpProtocol>
<customHeaders>
<add name="X-Content-Type-Options" value="nosniff"/>
</customHeaders>
</httpProtocol>
</system.webServer>
```

### <a name="example"></a><span data-ttu-id="3aa49-364">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="3aa49-364">Example</span></span>
<span data-ttu-id="3aa49-365">Agregue el encabezado mediante el método Application\_BeginRequest global.</span><span class="sxs-lookup"><span data-stu-id="3aa49-365">Add the header through the global Application\_BeginRequest</span></span> 
```C#
void Application_BeginRequest(object sender, EventArgs e)
{
this.Response.Headers["X-Content-Type-Options"] = "nosniff";
}
```

### <a name="example"></a><span data-ttu-id="3aa49-366">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="3aa49-366">Example</span></span>
<span data-ttu-id="3aa49-367">Implemente un módulo HTTP personalizado</span><span class="sxs-lookup"><span data-stu-id="3aa49-367">Implement custom HTTP module</span></span> 
```C#
public class XContentTypeOptionsModule : IHttpModule
{
#region IHttpModule Members
public void Dispose()
{
}
public void Init(HttpApplication context)
{
context.PreSendRequestHeaders += newEventHandler(context_PreSendRequestHeaders);
}
#endregion
void context_PreSendRequestHeaders(object sender, EventArgs e)
{
HttpApplication application = sender as HttpApplication;
if (application == null)
  return;
if (application.Response.Headers["X-Content-Type-Options "] != null)
  return;
application.Response.Headers.Add("X-Content-Type-Options ", "nosniff");
}
}
```

### <a name="example"></a><span data-ttu-id="3aa49-368">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="3aa49-368">Example</span></span>
<span data-ttu-id="3aa49-369">Puede habilitar el encabezado necesario solo para páginas específicas si lo agrega a respuestas individuales:</span><span class="sxs-lookup"><span data-stu-id="3aa49-369">You can enable the required header only for specific pages by adding it to individual responses:</span></span> 

```C#
this.Response.Headers["X-Content-Type-Options"] = "nosniff";
```

## <span data-ttu-id="3aa49-370"><a id="standard-finger"></a>Eliminación de encabezados de servidor estándar de los sitios web de Windows Azure para evitar la creación de huellas digitales</span><span class="sxs-lookup"><span data-stu-id="3aa49-370"><a id="standard-finger"></a>Remove standard server headers on Windows Azure Web Sites to avoid fingerprinting</span></span>

| <span data-ttu-id="3aa49-371">Título</span><span class="sxs-lookup"><span data-stu-id="3aa49-371">Title</span></span>                   | <span data-ttu-id="3aa49-372">Detalles</span><span class="sxs-lookup"><span data-stu-id="3aa49-372">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="3aa49-373">**Componente**</span><span class="sxs-lookup"><span data-stu-id="3aa49-373">**Component**</span></span>               | <span data-ttu-id="3aa49-374">Aplicación web</span><span class="sxs-lookup"><span data-stu-id="3aa49-374">Web Application</span></span> | 
| <span data-ttu-id="3aa49-375">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="3aa49-375">**SDL Phase**</span></span>               | <span data-ttu-id="3aa49-376">Compilación</span><span class="sxs-lookup"><span data-stu-id="3aa49-376">Build</span></span> |  
| <span data-ttu-id="3aa49-377">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="3aa49-377">**Applicable Technologies**</span></span> | <span data-ttu-id="3aa49-378">Genérico</span><span class="sxs-lookup"><span data-stu-id="3aa49-378">Generic</span></span> |
| <span data-ttu-id="3aa49-379">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-379">**Attributes**</span></span>              | <span data-ttu-id="3aa49-380">EnvironmentType: Azure</span><span class="sxs-lookup"><span data-stu-id="3aa49-380">EnvironmentType - Azure</span></span> |
| <span data-ttu-id="3aa49-381">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="3aa49-381">**References**</span></span>              | <span data-ttu-id="3aa49-382">[Removing standard server headers on Windows Azure Web Sites](https://azure.microsoft.com/blog/removing-standard-server-headers-on-windows-azure-web-sites/) (Eliminación de encabezados de servidor estándar de los sitios web de Windows Azure)</span><span class="sxs-lookup"><span data-stu-id="3aa49-382">[Removing standard server headers on Windows Azure Web Sites](https://azure.microsoft.com/blog/removing-standard-server-headers-on-windows-azure-web-sites/)</span></span> |
| <span data-ttu-id="3aa49-383">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-383">**Steps**</span></span> | <span data-ttu-id="3aa49-384">Los encabezados como Server, X-Powered-By y X-AspNet-Version revelan información sobre el servidor y las tecnologías subyacentes.</span><span class="sxs-lookup"><span data-stu-id="3aa49-384">Headers such as Server, X-Powered-By, X-AspNet-Version reveal information about the server and the underlying technologies.</span></span> <span data-ttu-id="3aa49-385">Se recomienda para suprimir estos encabezados para evitar la creación de huellas digitales en la aplicación</span><span class="sxs-lookup"><span data-stu-id="3aa49-385">It is recommended to suppress these headers thereby preventing fingerprinting the application</span></span> |

## <span data-ttu-id="3aa49-386"><a id="firewall-db"></a>Configuración de Firewall de Windows para el acceso al motor de base de datos</span><span class="sxs-lookup"><span data-stu-id="3aa49-386"><a id="firewall-db"></a>Configure a Windows Firewall for Database Engine Access</span></span>

| <span data-ttu-id="3aa49-387">Título</span><span class="sxs-lookup"><span data-stu-id="3aa49-387">Title</span></span>                   | <span data-ttu-id="3aa49-388">Detalles</span><span class="sxs-lookup"><span data-stu-id="3aa49-388">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="3aa49-389">**Componente**</span><span class="sxs-lookup"><span data-stu-id="3aa49-389">**Component**</span></span>               | <span data-ttu-id="3aa49-390">Base de datos</span><span class="sxs-lookup"><span data-stu-id="3aa49-390">Database</span></span> | 
| <span data-ttu-id="3aa49-391">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="3aa49-391">**SDL Phase**</span></span>               | <span data-ttu-id="3aa49-392">Compilación</span><span class="sxs-lookup"><span data-stu-id="3aa49-392">Build</span></span> |  
| <span data-ttu-id="3aa49-393">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="3aa49-393">**Applicable Technologies**</span></span> | <span data-ttu-id="3aa49-394">SQL Azure, OnPrem</span><span class="sxs-lookup"><span data-stu-id="3aa49-394">SQL Azure, OnPrem</span></span> |
| <span data-ttu-id="3aa49-395">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-395">**Attributes**</span></span>              | <span data-ttu-id="3aa49-396">N/A, SQL Version: V12</span><span class="sxs-lookup"><span data-stu-id="3aa49-396">N/A, SQL Version - V12</span></span> |
| <span data-ttu-id="3aa49-397">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="3aa49-397">**References**</span></span>              | <span data-ttu-id="3aa49-398">[Cómo se configura el firewall de Azure SQL Database](https://azure.microsoft.com/documentation/articles/sql-database-firewall-configure/), [Configurar Firewall de Windows para el acceso al motor de base de datos](https://msdn.microsoft.com/library/ms175043)</span><span class="sxs-lookup"><span data-stu-id="3aa49-398">[How to configure an Azure SQL database firewall](https://azure.microsoft.com/documentation/articles/sql-database-firewall-configure/), [Configure a Windows Firewall for Database Engine Access](https://msdn.microsoft.com/library/ms175043)</span></span> |
| <span data-ttu-id="3aa49-399">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-399">**Steps**</span></span> | <span data-ttu-id="3aa49-400">Los sistemas de firewall ayudan a evitar el acceso no autorizado a los recursos del equipo.</span><span class="sxs-lookup"><span data-stu-id="3aa49-400">Firewall systems help prevent unauthorized access to computer resources.</span></span> <span data-ttu-id="3aa49-401">Si desea acceder a una instancia del motor de base de datos de SQL Server a través de un firewall, debe configurar el firewall en el equipo que ejecuta SQL Server para que lo permita</span><span class="sxs-lookup"><span data-stu-id="3aa49-401">To access an instance of the SQL Server Database Engine through a firewall, you must configure the firewall on the computer running SQL Server to allow access</span></span> |

## <span data-ttu-id="3aa49-402"><a id="cors-api"></a>Comprobación de que solo se permiten orígenes de confianza si CORS está activado en ASP.NET Web API</span><span class="sxs-lookup"><span data-stu-id="3aa49-402"><a id="cors-api"></a>Ensure that only trusted origins are allowed if CORS is enabled on ASP.NET Web API</span></span>

| <span data-ttu-id="3aa49-403">Título</span><span class="sxs-lookup"><span data-stu-id="3aa49-403">Title</span></span>                   | <span data-ttu-id="3aa49-404">Detalles</span><span class="sxs-lookup"><span data-stu-id="3aa49-404">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="3aa49-405">**Componente**</span><span class="sxs-lookup"><span data-stu-id="3aa49-405">**Component**</span></span>               | <span data-ttu-id="3aa49-406">API Web</span><span class="sxs-lookup"><span data-stu-id="3aa49-406">Web API</span></span> | 
| <span data-ttu-id="3aa49-407">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="3aa49-407">**SDL Phase**</span></span>               | <span data-ttu-id="3aa49-408">Compilación</span><span class="sxs-lookup"><span data-stu-id="3aa49-408">Build</span></span> |  
| <span data-ttu-id="3aa49-409">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="3aa49-409">**Applicable Technologies**</span></span> | <span data-ttu-id="3aa49-410">MVC 5</span><span class="sxs-lookup"><span data-stu-id="3aa49-410">MVC 5</span></span> |
| <span data-ttu-id="3aa49-411">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-411">**Attributes**</span></span>              | <span data-ttu-id="3aa49-412">N/D</span><span class="sxs-lookup"><span data-stu-id="3aa49-412">N/A</span></span>  |
| <span data-ttu-id="3aa49-413">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="3aa49-413">**References**</span></span>              | <span data-ttu-id="3aa49-414">[Enabling Cross-Origin Requests in ASP.NET Web API 2](http://www.asp.net/web-api/overview/security/enabling-cross-origin-requests-in-web-api) (Habilitación de solicitudes de origen cruzado en ASP-NET Web API 2), [Funciones para CORS en ASP.NET Web API 2](https://msdn.microsoft.com/magazine/dn532203.aspx)</span><span class="sxs-lookup"><span data-stu-id="3aa49-414">[Enabling Cross-Origin Requests in ASP.NET Web API 2](http://www.asp.net/web-api/overview/security/enabling-cross-origin-requests-in-web-api), [ASP.NET Web API - CORS Support in ASP.NET Web API 2](https://msdn.microsoft.com/magazine/dn532203.aspx)</span></span> |
| <span data-ttu-id="3aa49-415">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-415">**Steps**</span></span> | <p><span data-ttu-id="3aa49-416">La seguridad del explorador impide que una página web realice solicitudes AJAX a otro dominio.</span><span class="sxs-lookup"><span data-stu-id="3aa49-416">Browser security prevents a web page from making AJAX requests to another domain.</span></span> <span data-ttu-id="3aa49-417">Esta restricción se conoce como la directiva de mismo origen y evita que un sitio malintencionado lea datos confidenciales de otro sitio.</span><span class="sxs-lookup"><span data-stu-id="3aa49-417">This restriction is called the same-origin policy, and prevents a malicious site from reading sensitive data from another site.</span></span> <span data-ttu-id="3aa49-418">Sin embargo, a veces puede ser necesario exponer las API de forma segura para que las consuman otros sitios.</span><span class="sxs-lookup"><span data-stu-id="3aa49-418">However, sometimes it might be required to expose APIs securely which other sites can consume.</span></span> <span data-ttu-id="3aa49-419">Uso compartido de recursos de origen cruzado (CORS) es una norma de W3C que permite mayor flexibilidad a los servidores en la directiva de mismo origen.</span><span class="sxs-lookup"><span data-stu-id="3aa49-419">Cross Origin Resource Sharing (CORS) is a W3C standard that allows a server to relax the same-origin policy.</span></span></p><p><span data-ttu-id="3aa49-420">Con CORS, un servidor puede permitir explícitamente algunas solicitudes de origen cruzado y rechazar otras.</span><span class="sxs-lookup"><span data-stu-id="3aa49-420">Using CORS, a server can explicitly allow some cross-origin requests while rejecting others.</span></span> <span data-ttu-id="3aa49-421">CORS es más seguro y más flexible que las técnicas anteriores, como JSONP.</span><span class="sxs-lookup"><span data-stu-id="3aa49-421">CORS is safer and more flexible than earlier techniques such as JSONP.</span></span></p>|

### <a name="example"></a><span data-ttu-id="3aa49-422">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="3aa49-422">Example</span></span>
<span data-ttu-id="3aa49-423">En App_Start/WebApiConfig.cs, agregue el siguiente código al método WebApiConfig.Register</span><span class="sxs-lookup"><span data-stu-id="3aa49-423">In the App_Start/WebApiConfig.cs, add the following code to the WebApiConfig.Register method</span></span> 
```C#
using System.Web.Http;
namespace WebService
{
    public static class WebApiConfig
    {
        public static void Register(HttpConfiguration config)
        {
            // New code
            config.EnableCors();

            config.Routes.MapHttpRoute(
                name: "DefaultApi",
                routeTemplate: "api/{controller}/{id}",
                defaults: new { id = RouteParameter.Optional }
            );
        }
    }
}
```

### <a name="example"></a><span data-ttu-id="3aa49-424">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="3aa49-424">Example</span></span>
<span data-ttu-id="3aa49-425">El atributo de EnableCors se puede aplicar a métodos de acción en un controlador como se indica a continuación:</span><span class="sxs-lookup"><span data-stu-id="3aa49-425">EnableCors attribute can be applied to action methods in a controller as follows:</span></span> 

```C#
public class ResourcesController : ApiController
{
  [EnableCors("http://localhost:55912", // Origin
              null,                     // Request headers
              "GET",                    // HTTP methods
              "bar",                    // Response headers
              SupportsCredentials=true  // Allow credentials
  )]
  public HttpResponseMessage Get(int id)
  {
    var resp = Request.CreateResponse(HttpStatusCode.NoContent);
    resp.Headers.Add("bar", "a bar value");
    return resp;
  }
  [EnableCors("http://localhost:55912",       // Origin
              "Accept, Origin, Content-Type", // Request headers
              "PUT",                          // HTTP methods
              PreflightMaxAge=600             // Preflight cache duration
  )]
  public HttpResponseMessage Put(Resource data)
  {
    return Request.CreateResponse(HttpStatusCode.OK, data);
  }
  [EnableCors("http://localhost:55912",       // Origin
              "Accept, Origin, Content-Type", // Request headers
              "POST",                         // HTTP methods
              PreflightMaxAge=600             // Preflight cache duration
  )]
  public HttpResponseMessage Post(Resource data)
  {
    return Request.CreateResponse(HttpStatusCode.OK, data);
  }
}
```

<span data-ttu-id="3aa49-426">Tenga en cuenta que es fundamental garantizar que la lista de orígenes del atributo EnableCors se establece en un conjunto de orígenes finito y de confianza.</span><span class="sxs-lookup"><span data-stu-id="3aa49-426">Please note that it is critical to ensure that the list of origins in EnableCors attribute is set to a finite and trusted set of origins.</span></span> <span data-ttu-id="3aa49-427">Si esto no se configura bien (por ejemplo, se establece el valor como "*"), los sitios malintencionados podrán desencadenar solicitudes de origen cruzado a la API sin restricciones, por lo que la API se volverá vulnerable a ataques CSRF.</span><span class="sxs-lookup"><span data-stu-id="3aa49-427">Failing to configure this inappropriately (e.g., setting the value as '*') will allow malicious sites to trigger cross origin requests to the API without any restrictions, >thereby making the API vulnerable to CSRF attacks.</span></span> <span data-ttu-id="3aa49-428">EnableCors se puede decorar en el nivel de controlador.</span><span class="sxs-lookup"><span data-stu-id="3aa49-428">EnableCors can be decorated at controller level.</span></span> 

### <a name="example"></a><span data-ttu-id="3aa49-429">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="3aa49-429">Example</span></span>
<span data-ttu-id="3aa49-430">Para deshabilitar CORS en un determinado método en una clase, se puede utilizar el atributo DisableCors tal y como se muestra a continuación:</span><span class="sxs-lookup"><span data-stu-id="3aa49-430">To disable CORS on a particular method in a class, the DisableCors attribute can be used as shown below:</span></span> 
```C#
[EnableCors("http://example.com", "Accept, Origin, Content-Type", "POST")]
public class ResourcesController : ApiController
{
  public HttpResponseMessage Put(Resource data)
  {
    return Request.CreateResponse(HttpStatusCode.OK, data);
  }
  public HttpResponseMessage Post(Resource data)
  {
    return Request.CreateResponse(HttpStatusCode.OK, data);
  }
  // CORS not allowed because of the [DisableCors] attribute
  [DisableCors]
  public HttpResponseMessage Delete(int id)
  {
    return Request.CreateResponse(HttpStatusCode.NoContent);
  }
}
```

| <span data-ttu-id="3aa49-431">Título</span><span class="sxs-lookup"><span data-stu-id="3aa49-431">Title</span></span>                   | <span data-ttu-id="3aa49-432">Detalles</span><span class="sxs-lookup"><span data-stu-id="3aa49-432">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="3aa49-433">**Componente**</span><span class="sxs-lookup"><span data-stu-id="3aa49-433">**Component**</span></span>               | <span data-ttu-id="3aa49-434">API Web</span><span class="sxs-lookup"><span data-stu-id="3aa49-434">Web API</span></span> | 
| <span data-ttu-id="3aa49-435">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="3aa49-435">**SDL Phase**</span></span>               | <span data-ttu-id="3aa49-436">Compilación</span><span class="sxs-lookup"><span data-stu-id="3aa49-436">Build</span></span> |  
| <span data-ttu-id="3aa49-437">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="3aa49-437">**Applicable Technologies**</span></span> | <span data-ttu-id="3aa49-438">MVC 6</span><span class="sxs-lookup"><span data-stu-id="3aa49-438">MVC 6</span></span> |
| <span data-ttu-id="3aa49-439">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-439">**Attributes**</span></span>              | <span data-ttu-id="3aa49-440">N/D</span><span class="sxs-lookup"><span data-stu-id="3aa49-440">N/A</span></span>  |
| <span data-ttu-id="3aa49-441">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="3aa49-441">**References**</span></span>              | [<span data-ttu-id="3aa49-442">Habilitación de solicitudes de origen cruzado (CORS) en ASP.NET Core 1.0</span><span class="sxs-lookup"><span data-stu-id="3aa49-442">Enabling Cross-Origin Requests (CORS) in ASP.NET Core 1.0</span></span>](https://docs.asp.net/en/latest/security/cors.html) |
| <span data-ttu-id="3aa49-443">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-443">**Steps**</span></span> | <p><span data-ttu-id="3aa49-444">En ASP.NET Core 1.0, CORS puede habilitarse mediante middleware o MVC.</span><span class="sxs-lookup"><span data-stu-id="3aa49-444">In ASP.NET Core 1.0, CORS can be enabled either using middleware or using MVC.</span></span> <span data-ttu-id="3aa49-445">Al utilizar MVC para habilitar CORS se utilizan los mismos servicios CORS, pero no middleware de CORS.</span><span class="sxs-lookup"><span data-stu-id="3aa49-445">When using MVC to enable CORS the same CORS services are used, but the CORS middleware is not.</span></span></p>|

<span data-ttu-id="3aa49-446">**Enfoque 1** Habilitar CORS con middleware: para habilitar CORS para toda la aplicación, agregue el middleware de CORS a la canalización de solicitud con el método de extensión UseCors.</span><span class="sxs-lookup"><span data-stu-id="3aa49-446">**Approach-1** Enabling CORS with middleware: To enable CORS for the entire application add the CORS middleware to the request pipeline using the UseCors extension method.</span></span> <span data-ttu-id="3aa49-447">Cuando se agrega el middleware de CORS mediante la clase CorsPolicyBuilder, puede especificarse una directiva de origen cruzado.</span><span class="sxs-lookup"><span data-stu-id="3aa49-447">A cross-origin policy can be specified when adding the CORS middleware using the CorsPolicyBuilder class.</span></span> <span data-ttu-id="3aa49-448">Existen dos formas de hacerlo:</span><span class="sxs-lookup"><span data-stu-id="3aa49-448">There are two ways to do this:</span></span>

### <a name="example"></a><span data-ttu-id="3aa49-449">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="3aa49-449">Example</span></span>
<span data-ttu-id="3aa49-450">Lo primero que se hace es llamar a UseCors con una expresión lambda.</span><span class="sxs-lookup"><span data-stu-id="3aa49-450">The first is to call UseCors with a lambda.</span></span> <span data-ttu-id="3aa49-451">La expresión lambda toma un objeto CorsPolicyBuilder:</span><span class="sxs-lookup"><span data-stu-id="3aa49-451">The lambda takes a CorsPolicyBuilder object:</span></span> 
```C#
public void Configure(IApplicationBuilder app)
{
    app.UseCors(builder =>
        builder.WithOrigins("http://example.com")
        .WithMethods("GET", "POST", "HEAD")
        .WithHeaders("accept", "content-type", "origin", "x-custom-header"));
}
```

### <a name="example"></a><span data-ttu-id="3aa49-452">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="3aa49-452">Example</span></span>
<span data-ttu-id="3aa49-453">Lo segundo es definir una o varias directivas CORS con nombre y seleccionar la directiva por el nombre en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="3aa49-453">The second is to define one or more named CORS policies, and then select the policy by name at run time.</span></span> 
```C#
public void ConfigureServices(IServiceCollection services)
{
    services.AddCors(options =>
    {
        options.AddPolicy("AllowSpecificOrigin",
            builder => builder.WithOrigins("http://example.com"));
    });
}
public void Configure(IApplicationBuilder app)
{
    app.UseCors("AllowSpecificOrigin");
    app.Run(async (context) =>
    {
        await context.Response.WriteAsync("Hello World!");
    });
}
```

<span data-ttu-id="3aa49-454">**Enfoque 2** Habilitar CORS en MVC: los desarrolladores pueden usar también MVC para aplicar CORS específico por acción, por controlador o globalmente para todos los controladores.</span><span class="sxs-lookup"><span data-stu-id="3aa49-454">**Approach-2** Enabling CORS in MVC: Developers can alternatively use MVC to apply specific CORS per action, per controller, or globally for all controllers.</span></span>

### <a name="example"></a><span data-ttu-id="3aa49-455">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="3aa49-455">Example</span></span>
<span data-ttu-id="3aa49-456">Por acción: para especificar una directiva de CORS para una acción específica, agregue el atributo [EnableCors] a la acción.</span><span class="sxs-lookup"><span data-stu-id="3aa49-456">Per action: To specify a CORS policy for a specific action add the [EnableCors] attribute to the action.</span></span> <span data-ttu-id="3aa49-457">Especifique el nombre de la directiva.</span><span class="sxs-lookup"><span data-stu-id="3aa49-457">Specify the policy name.</span></span> 
```C#
public class HomeController : Controller
{
    [EnableCors("AllowSpecificOrigin")] 
    public IActionResult Index()
    {
        return View();
    }
```

### <a name="example"></a><span data-ttu-id="3aa49-458">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="3aa49-458">Example</span></span>
<span data-ttu-id="3aa49-459">Por controlador:</span><span class="sxs-lookup"><span data-stu-id="3aa49-459">Per controller:</span></span> 
```C#
[EnableCors("AllowSpecificOrigin")]
public class HomeController : Controller
{
```

### <a name="example"></a><span data-ttu-id="3aa49-460">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="3aa49-460">Example</span></span>
<span data-ttu-id="3aa49-461">Globalmente:</span><span class="sxs-lookup"><span data-stu-id="3aa49-461">Globally:</span></span> 
```C#
public void ConfigureServices(IServiceCollection services)
{
    services.AddMvc();
    services.Configure<MvcOptions>(options =>
    {
        options.Filters.Add(new CorsAuthorizationFilterFactory("AllowSpecificOrigin"));
    });
}
```
<span data-ttu-id="3aa49-462">Tenga en cuenta que es fundamental garantizar que la lista de orígenes del atributo EnableCors se establece en un conjunto de orígenes finito y de confianza.</span><span class="sxs-lookup"><span data-stu-id="3aa49-462">Please note that it is critical to ensure that the list of origins in EnableCors attribute is set to a finite and trusted set of origins.</span></span> <span data-ttu-id="3aa49-463">Si esto no se configura bien (por ejemplo, se establece el valor como "*"), los sitios malintencionados podrán desencadenar solicitudes de origen cruzado a la API sin restricciones, por lo que la API se volverá vulnerable a ataques CSRF.</span><span class="sxs-lookup"><span data-stu-id="3aa49-463">Failing to configure this inappropriately (e.g., setting the value as '*') will allow malicious sites to trigger cross origin requests to the API without any restrictions, >thereby making the API vulnerable to CSRF attacks.</span></span> 

### <a name="example"></a><span data-ttu-id="3aa49-464">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="3aa49-464">Example</span></span>
<span data-ttu-id="3aa49-465">Para deshabilitar CORS en una acción o un controlador, utilice el atributo [DisableCors].</span><span class="sxs-lookup"><span data-stu-id="3aa49-465">To disable CORS for a controller or action, use the [DisableCors] attribute.</span></span> 
```C#
[DisableCors]
    public IActionResult About()
    {
        return View();
    }
```

## <span data-ttu-id="3aa49-466"><a id="config-sensitive"></a>Cifrado de secciones de los archivos de configuración de la API web que contienen datos confidenciales</span><span class="sxs-lookup"><span data-stu-id="3aa49-466"><a id="config-sensitive"></a>Encrypt sections of Web API's configuration files that contain sensitive data</span></span>

| <span data-ttu-id="3aa49-467">Título</span><span class="sxs-lookup"><span data-stu-id="3aa49-467">Title</span></span>                   | <span data-ttu-id="3aa49-468">Detalles</span><span class="sxs-lookup"><span data-stu-id="3aa49-468">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="3aa49-469">**Componente**</span><span class="sxs-lookup"><span data-stu-id="3aa49-469">**Component**</span></span>               | <span data-ttu-id="3aa49-470">API Web</span><span class="sxs-lookup"><span data-stu-id="3aa49-470">Web API</span></span> | 
| <span data-ttu-id="3aa49-471">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="3aa49-471">**SDL Phase**</span></span>               | <span data-ttu-id="3aa49-472">Implementación</span><span class="sxs-lookup"><span data-stu-id="3aa49-472">Deployment</span></span> |  
| <span data-ttu-id="3aa49-473">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="3aa49-473">**Applicable Technologies**</span></span> | <span data-ttu-id="3aa49-474">Genérico</span><span class="sxs-lookup"><span data-stu-id="3aa49-474">Generic</span></span> |
| <span data-ttu-id="3aa49-475">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-475">**Attributes**</span></span>              | <span data-ttu-id="3aa49-476">N/D</span><span class="sxs-lookup"><span data-stu-id="3aa49-476">N/A</span></span>  |
| <span data-ttu-id="3aa49-477">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="3aa49-477">**References**</span></span>              | <span data-ttu-id="3aa49-478">[How To: Encrypt Configuration Sections in ASP.NET 2.0 Using DPAPI](https://msdn.microsoft.com/library/ff647398.aspx) (Procedimiento para cifrar secciones de configuración en ASP.NET 2.0 mediante DPAPI), [Especificar un proveedor de configuración protegida](https://msdn.microsoft.com/library/68ze1hb2.aspx), [Using Azure Key Vault to protect application secrets](https://azure.microsoft.com/documentation/articles/guidance-multitenant-identity-keyvault/) (Uso de Azure Key Vault para proteger los secretos de la aplicación)</span><span class="sxs-lookup"><span data-stu-id="3aa49-478">[How To: Encrypt Configuration Sections in ASP.NET 2.0 Using DPAPI](https://msdn.microsoft.com/library/ff647398.aspx), [Specifying a Protected Configuration Provider](https://msdn.microsoft.com/library/68ze1hb2.aspx), [Using Azure Key Vault to protect application secrets](https://azure.microsoft.com/documentation/articles/guidance-multitenant-identity-keyvault/)</span></span> |
| <span data-ttu-id="3aa49-479">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-479">**Steps**</span></span> | <span data-ttu-id="3aa49-480">Los archivos de configuración tales como web.config y appsettings.json se suelen usar para almacenar información confidencial, como nombres de usuario, contraseñas, cadenas de conexión a la base de datos y claves de cifrado.</span><span class="sxs-lookup"><span data-stu-id="3aa49-480">Configuration files such as the Web.config, appsettings.json are often used to hold sensitive information, including user names, passwords, database connection strings, and encryption keys.</span></span> <span data-ttu-id="3aa49-481">Si no protege esta información, la aplicación es vulnerable a atacantes o usuarios malintencionados que obtienen información confidencial, como nombres de usuario y contraseñas de cuentas, nombres de bases de datos y nombres de servidores.</span><span class="sxs-lookup"><span data-stu-id="3aa49-481">If you do not protect this information, your application is vulnerable to attackers or malicious users obtaining sensitive information such as account user names and passwords, database names and server names.</span></span> <span data-ttu-id="3aa49-482">Según el tipo de implementación (Azure o local), cifre las secciones confidenciales de los archivos de configuración mediante DPAPI o servicios como Azure Key Vault.</span><span class="sxs-lookup"><span data-stu-id="3aa49-482">Based on the deployment type (azure/on-prem), encrypt the sensitive sections of config files using DPAPI or services like Azure Key Vault.</span></span> |

## <span data-ttu-id="3aa49-483"><a id="admin-strong"></a>Comprobación de que todas las interfaces de administración están protegidas con credenciales seguras</span><span class="sxs-lookup"><span data-stu-id="3aa49-483"><a id="admin-strong"></a>Ensure that all admin interfaces are secured with strong credentials</span></span>

| <span data-ttu-id="3aa49-484">Título</span><span class="sxs-lookup"><span data-stu-id="3aa49-484">Title</span></span>                   | <span data-ttu-id="3aa49-485">Detalles</span><span class="sxs-lookup"><span data-stu-id="3aa49-485">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="3aa49-486">**Componente**</span><span class="sxs-lookup"><span data-stu-id="3aa49-486">**Component**</span></span>               | <span data-ttu-id="3aa49-487">Dispositivo IoT</span><span class="sxs-lookup"><span data-stu-id="3aa49-487">IoT Device</span></span> | 
| <span data-ttu-id="3aa49-488">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="3aa49-488">**SDL Phase**</span></span>               | <span data-ttu-id="3aa49-489">Implementación</span><span class="sxs-lookup"><span data-stu-id="3aa49-489">Deployment</span></span> |  
| <span data-ttu-id="3aa49-490">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="3aa49-490">**Applicable Technologies**</span></span> | <span data-ttu-id="3aa49-491">Genérico</span><span class="sxs-lookup"><span data-stu-id="3aa49-491">Generic</span></span> |
| <span data-ttu-id="3aa49-492">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-492">**Attributes**</span></span>              | <span data-ttu-id="3aa49-493">N/D</span><span class="sxs-lookup"><span data-stu-id="3aa49-493">N/A</span></span>  |
| <span data-ttu-id="3aa49-494">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="3aa49-494">**References**</span></span>              | <span data-ttu-id="3aa49-495">N/D</span><span class="sxs-lookup"><span data-stu-id="3aa49-495">N/A</span></span>  |
| <span data-ttu-id="3aa49-496">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-496">**Steps**</span></span> | <span data-ttu-id="3aa49-497">Las interfaces administrativas que expone la puerta de enlace de dispositivo o campo deben protegerse con credenciales seguras.</span><span class="sxs-lookup"><span data-stu-id="3aa49-497">Any administrative interfaces that the device or field gateway exposes should be secured using strong credentials.</span></span> <span data-ttu-id="3aa49-498">Además, debe protegerse con credenciales seguras el resto de interfaces expuestas, como Wi-Fi, SSH, recursos compartidos de archivo o FTP.</span><span class="sxs-lookup"><span data-stu-id="3aa49-498">Also, any other exposed interfaces like WiFi, SSH, File shares, FTP should be secured with strong credentials.</span></span> <span data-ttu-id="3aa49-499">De forma predeterminada, no deben usarse contraseñas poco seguras.</span><span class="sxs-lookup"><span data-stu-id="3aa49-499">Default weak passwords should not be used.</span></span> |

## <span data-ttu-id="3aa49-500"><a id="unknown-exe"></a>Comprobación de que no se puede ejecutar código desconocido en los dispositivos</span><span class="sxs-lookup"><span data-stu-id="3aa49-500"><a id="unknown-exe"></a>Ensure that unknown code cannot execute on devices</span></span>

| <span data-ttu-id="3aa49-501">Título</span><span class="sxs-lookup"><span data-stu-id="3aa49-501">Title</span></span>                   | <span data-ttu-id="3aa49-502">Detalles</span><span class="sxs-lookup"><span data-stu-id="3aa49-502">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="3aa49-503">**Componente**</span><span class="sxs-lookup"><span data-stu-id="3aa49-503">**Component**</span></span>               | <span data-ttu-id="3aa49-504">Dispositivo IoT</span><span class="sxs-lookup"><span data-stu-id="3aa49-504">IoT Device</span></span> | 
| <span data-ttu-id="3aa49-505">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="3aa49-505">**SDL Phase**</span></span>               | <span data-ttu-id="3aa49-506">Compilación</span><span class="sxs-lookup"><span data-stu-id="3aa49-506">Build</span></span> |  
| <span data-ttu-id="3aa49-507">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="3aa49-507">**Applicable Technologies**</span></span> | <span data-ttu-id="3aa49-508">Genérico</span><span class="sxs-lookup"><span data-stu-id="3aa49-508">Generic</span></span> |
| <span data-ttu-id="3aa49-509">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-509">**Attributes**</span></span>              | <span data-ttu-id="3aa49-510">N/D</span><span class="sxs-lookup"><span data-stu-id="3aa49-510">N/A</span></span>  |
| <span data-ttu-id="3aa49-511">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="3aa49-511">**References**</span></span>              | <span data-ttu-id="3aa49-512">[Enabling Secure Boot and bit-locker Device Encryption on Windows 10 IoT Core](https://developer.microsoft.com/windows/iot/win10/sb_bl) (Habilitación del arranque seguro y del cifrado de dispositivos de BitLocker en Windows 10 IoT Core)</span><span class="sxs-lookup"><span data-stu-id="3aa49-512">[Enabling Secure Boot and bit-locker Device Encryption on Windows 10 IoT Core](https://developer.microsoft.com/windows/iot/win10/sb_bl)</span></span> |
| <span data-ttu-id="3aa49-513">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-513">**Steps**</span></span> | <span data-ttu-id="3aa49-514">El arranque seguro de UEFI restringe el sistema para permitir solo la ejecución de archivos binarios firmados por una entidad determinada.</span><span class="sxs-lookup"><span data-stu-id="3aa49-514">UEFI Secure Boot restricts the system to only allow execution of binaries signed by a specified authority.</span></span> <span data-ttu-id="3aa49-515">Esta característica evita que se ejecute código desconocido en la plataforma y pueda debilitar su seguridad.</span><span class="sxs-lookup"><span data-stu-id="3aa49-515">This feature prevents unknown code from being executed on the platform and potentially weakening the security posture of it.</span></span> <span data-ttu-id="3aa49-516">Habilite el arranque seguro de UEFI y restrinja la lista de entidades emisoras de certificados de confianza para la firma de código.</span><span class="sxs-lookup"><span data-stu-id="3aa49-516">Enable UEFI Secure Boot and restrict the list of certificate authorities that are trusted for signing code.</span></span> <span data-ttu-id="3aa49-517">Firme todo el código que se implementa en el dispositivo a través de una de las entidades de confianza.</span><span class="sxs-lookup"><span data-stu-id="3aa49-517">Sign all code that is deployed on the device using one of the trusted authorities.</span></span> |

## <span data-ttu-id="3aa49-518"><a id="partition-iot"></a>Cifrado del sistema operativo y particiones adicionales en los dispositivos IoT con Bitlocker</span><span class="sxs-lookup"><span data-stu-id="3aa49-518"><a id="partition-iot"></a>Encrypt OS and additional partitions of IoT Device with bit-locker</span></span>

| <span data-ttu-id="3aa49-519">Título</span><span class="sxs-lookup"><span data-stu-id="3aa49-519">Title</span></span>                   | <span data-ttu-id="3aa49-520">Detalles</span><span class="sxs-lookup"><span data-stu-id="3aa49-520">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="3aa49-521">**Componente**</span><span class="sxs-lookup"><span data-stu-id="3aa49-521">**Component**</span></span>               | <span data-ttu-id="3aa49-522">Dispositivo IoT</span><span class="sxs-lookup"><span data-stu-id="3aa49-522">IoT Device</span></span> | 
| <span data-ttu-id="3aa49-523">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="3aa49-523">**SDL Phase**</span></span>               | <span data-ttu-id="3aa49-524">Compilación</span><span class="sxs-lookup"><span data-stu-id="3aa49-524">Build</span></span> |  
| <span data-ttu-id="3aa49-525">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="3aa49-525">**Applicable Technologies**</span></span> | <span data-ttu-id="3aa49-526">Genérico</span><span class="sxs-lookup"><span data-stu-id="3aa49-526">Generic</span></span> |
| <span data-ttu-id="3aa49-527">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-527">**Attributes**</span></span>              | <span data-ttu-id="3aa49-528">N/D</span><span class="sxs-lookup"><span data-stu-id="3aa49-528">N/A</span></span>  |
| <span data-ttu-id="3aa49-529">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="3aa49-529">**References**</span></span>              | <span data-ttu-id="3aa49-530">N/D</span><span class="sxs-lookup"><span data-stu-id="3aa49-530">N/A</span></span>  |
| <span data-ttu-id="3aa49-531">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-531">**Steps**</span></span> | <span data-ttu-id="3aa49-532">Windows 10 IoT Core implementa una versión ligera de cifrado de dispositivos de BitLocker, que depende en gran medida de la presencia de un TPM en la plataforma, incluido el protocolo preOS necesario en UEFI que toma las medidas necesarias.</span><span class="sxs-lookup"><span data-stu-id="3aa49-532">Windows 10 IoT Core implements a lightweight version of bit-locker Device Encryption, which has a strong dependency on the presence of a TPM on the platform, including the necessary preOS protocol in UEFI that conducts the necessary measurements.</span></span> <span data-ttu-id="3aa49-533">Estas medidas de preOS garantizan que el sistema operativo posterior tenga un registro definitivo de cómo se inició el sistema operativo. Cifre con Bitlocker las particiones del sistema operativo, así como cualquier partición adicional donde se almacenen datos confidenciales.</span><span class="sxs-lookup"><span data-stu-id="3aa49-533">These preOS measurements ensure that the OS later has a definitive record of how the OS was launched.Encrypt OS partitions using bit-locker and any additional partitions also in case they store any sensitive data.</span></span> |

## <span data-ttu-id="3aa49-534"><a id="min-enable"></a>Comprobación de que solo se habilita el mínimo número de servicios o características en los dispositivos</span><span class="sxs-lookup"><span data-stu-id="3aa49-534"><a id="min-enable"></a>Ensure that only the minimum services/features are enabled on devices</span></span>

| <span data-ttu-id="3aa49-535">Título</span><span class="sxs-lookup"><span data-stu-id="3aa49-535">Title</span></span>                   | <span data-ttu-id="3aa49-536">Detalles</span><span class="sxs-lookup"><span data-stu-id="3aa49-536">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="3aa49-537">**Componente**</span><span class="sxs-lookup"><span data-stu-id="3aa49-537">**Component**</span></span>               | <span data-ttu-id="3aa49-538">Dispositivo IoT</span><span class="sxs-lookup"><span data-stu-id="3aa49-538">IoT Device</span></span> | 
| <span data-ttu-id="3aa49-539">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="3aa49-539">**SDL Phase**</span></span>               | <span data-ttu-id="3aa49-540">Implementación</span><span class="sxs-lookup"><span data-stu-id="3aa49-540">Deployment</span></span> |  
| <span data-ttu-id="3aa49-541">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="3aa49-541">**Applicable Technologies**</span></span> | <span data-ttu-id="3aa49-542">Genérico</span><span class="sxs-lookup"><span data-stu-id="3aa49-542">Generic</span></span> |
| <span data-ttu-id="3aa49-543">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-543">**Attributes**</span></span>              | <span data-ttu-id="3aa49-544">N/D</span><span class="sxs-lookup"><span data-stu-id="3aa49-544">N/A</span></span>  |
| <span data-ttu-id="3aa49-545">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="3aa49-545">**References**</span></span>              | <span data-ttu-id="3aa49-546">N/D</span><span class="sxs-lookup"><span data-stu-id="3aa49-546">N/A</span></span>  |
| <span data-ttu-id="3aa49-547">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-547">**Steps**</span></span> | <span data-ttu-id="3aa49-548">No habilite ni active características o servicios en el sistema operativo que no sean necesarias para el funcionamiento de la solución.</span><span class="sxs-lookup"><span data-stu-id="3aa49-548">Do not enable or turn off any features or services in the OS that is not required for the functioning of the solution.</span></span> <span data-ttu-id="3aa49-549">Por ejemplo, si el dispositivo no requiere la implementación de una interfaz de usuario, instale Windows IoT Core en modo "desatendido".</span><span class="sxs-lookup"><span data-stu-id="3aa49-549">For e.g. if the device does not require a UI to be deployed, install Windows IoT Core in headless mode.</span></span> |

## <span data-ttu-id="3aa49-550"><a id="field-bit-locker"></a>Cifrado del sistema operativo y particiones adicionales en la puerta de enlace de campo de IoT con Bitlocker</span><span class="sxs-lookup"><span data-stu-id="3aa49-550"><a id="field-bit-locker"></a>Encrypt OS and additional partitions of IoT Field Gateway with bit-locker</span></span>

| <span data-ttu-id="3aa49-551">Título</span><span class="sxs-lookup"><span data-stu-id="3aa49-551">Title</span></span>                   | <span data-ttu-id="3aa49-552">Detalles</span><span class="sxs-lookup"><span data-stu-id="3aa49-552">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="3aa49-553">**Componente**</span><span class="sxs-lookup"><span data-stu-id="3aa49-553">**Component**</span></span>               | <span data-ttu-id="3aa49-554">Puerta de enlace de campo de IoT</span><span class="sxs-lookup"><span data-stu-id="3aa49-554">IoT Field Gateway</span></span> | 
| <span data-ttu-id="3aa49-555">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="3aa49-555">**SDL Phase**</span></span>               | <span data-ttu-id="3aa49-556">Implementación</span><span class="sxs-lookup"><span data-stu-id="3aa49-556">Deployment</span></span> |  
| <span data-ttu-id="3aa49-557">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="3aa49-557">**Applicable Technologies**</span></span> | <span data-ttu-id="3aa49-558">Genérico</span><span class="sxs-lookup"><span data-stu-id="3aa49-558">Generic</span></span> |
| <span data-ttu-id="3aa49-559">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-559">**Attributes**</span></span>              | <span data-ttu-id="3aa49-560">N/D</span><span class="sxs-lookup"><span data-stu-id="3aa49-560">N/A</span></span>  |
| <span data-ttu-id="3aa49-561">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="3aa49-561">**References**</span></span>              | <span data-ttu-id="3aa49-562">N/D</span><span class="sxs-lookup"><span data-stu-id="3aa49-562">N/A</span></span>  |
| <span data-ttu-id="3aa49-563">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-563">**Steps**</span></span> | <span data-ttu-id="3aa49-564">Windows 10 IoT Core implementa una versión ligera de cifrado de dispositivos de BitLocker, que depende en gran medida de la presencia de un TPM en la plataforma, incluido el protocolo preOS necesario en UEFI que toma las medidas necesarias.</span><span class="sxs-lookup"><span data-stu-id="3aa49-564">Windows 10 IoT Core implements a lightweight version of bit-locker Device Encryption, which has a strong dependency on the presence of a TPM on the platform, including the necessary preOS protocol in UEFI that conducts the necessary measurements.</span></span> <span data-ttu-id="3aa49-565">Estas medidas de preOS garantizan que el sistema operativo posterior tenga un registro definitivo de cómo se inició el sistema operativo. Cifre con Bitlocker las particiones del sistema operativo, así como cualquier partición adicional donde se almacenen datos confidenciales.</span><span class="sxs-lookup"><span data-stu-id="3aa49-565">These preOS measurements ensure that the OS later has a definitive record of how the OS was launched.Encrypt OS partitions using bit-locker and any additional partitions also in case they store any sensitive data.</span></span> |

## <span data-ttu-id="3aa49-566"><a id="default-change"></a>Comprobación de que las credenciales de inicio de sesión predeterminadas de la puerta de enlace de campo se modifican durante la instalación</span><span class="sxs-lookup"><span data-stu-id="3aa49-566"><a id="default-change"></a>Ensure that the default login credentials of the field gateway are changed during installation</span></span>

| <span data-ttu-id="3aa49-567">Título</span><span class="sxs-lookup"><span data-stu-id="3aa49-567">Title</span></span>                   | <span data-ttu-id="3aa49-568">Detalles</span><span class="sxs-lookup"><span data-stu-id="3aa49-568">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="3aa49-569">**Componente**</span><span class="sxs-lookup"><span data-stu-id="3aa49-569">**Component**</span></span>               | <span data-ttu-id="3aa49-570">Puerta de enlace de campo de IoT</span><span class="sxs-lookup"><span data-stu-id="3aa49-570">IoT Field Gateway</span></span> | 
| <span data-ttu-id="3aa49-571">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="3aa49-571">**SDL Phase**</span></span>               | <span data-ttu-id="3aa49-572">Implementación</span><span class="sxs-lookup"><span data-stu-id="3aa49-572">Deployment</span></span> |  
| <span data-ttu-id="3aa49-573">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="3aa49-573">**Applicable Technologies**</span></span> | <span data-ttu-id="3aa49-574">Genérico</span><span class="sxs-lookup"><span data-stu-id="3aa49-574">Generic</span></span> |
| <span data-ttu-id="3aa49-575">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-575">**Attributes**</span></span>              | <span data-ttu-id="3aa49-576">N/D</span><span class="sxs-lookup"><span data-stu-id="3aa49-576">N/A</span></span>  |
| <span data-ttu-id="3aa49-577">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="3aa49-577">**References**</span></span>              | <span data-ttu-id="3aa49-578">N/D</span><span class="sxs-lookup"><span data-stu-id="3aa49-578">N/A</span></span>  |
| <span data-ttu-id="3aa49-579">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-579">**Steps**</span></span> | <span data-ttu-id="3aa49-580">Comprobación de que las credenciales de inicio de sesión predeterminadas de la puerta de enlace de campo se modifican durante la instalación</span><span class="sxs-lookup"><span data-stu-id="3aa49-580">Ensure that the default login credentials of the field gateway are changed during installation</span></span> |

## <span data-ttu-id="3aa49-581"><a id="cloud-firmware"></a>Comprobación de que la puerta de enlace de la nube implementa un proceso para mantener actualizado el firmware de los dispositivos conectados</span><span class="sxs-lookup"><span data-stu-id="3aa49-581"><a id="cloud-firmware"></a>Ensure that the Cloud Gateway implements a process to keep the connected devices firmware up to date</span></span>

| <span data-ttu-id="3aa49-582">Título</span><span class="sxs-lookup"><span data-stu-id="3aa49-582">Title</span></span>                   | <span data-ttu-id="3aa49-583">Detalles</span><span class="sxs-lookup"><span data-stu-id="3aa49-583">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="3aa49-584">**Componente**</span><span class="sxs-lookup"><span data-stu-id="3aa49-584">**Component**</span></span>               | <span data-ttu-id="3aa49-585">Puerta de enlace de la nube de IoT</span><span class="sxs-lookup"><span data-stu-id="3aa49-585">IoT Cloud Gateway</span></span> | 
| <span data-ttu-id="3aa49-586">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="3aa49-586">**SDL Phase**</span></span>               | <span data-ttu-id="3aa49-587">Compilación</span><span class="sxs-lookup"><span data-stu-id="3aa49-587">Build</span></span> |  
| <span data-ttu-id="3aa49-588">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="3aa49-588">**Applicable Technologies**</span></span> | <span data-ttu-id="3aa49-589">Genérico</span><span class="sxs-lookup"><span data-stu-id="3aa49-589">Generic</span></span> |
| <span data-ttu-id="3aa49-590">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-590">**Attributes**</span></span>              | <span data-ttu-id="3aa49-591">Elección de puerta de enlace: Azure IoT Hub</span><span class="sxs-lookup"><span data-stu-id="3aa49-591">Gateway choice - Azure IoT Hub</span></span> |
| <span data-ttu-id="3aa49-592">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="3aa49-592">**References**</span></span>              | <span data-ttu-id="3aa49-593">[Introducción a la administración de dispositivos con IoT Hub](https://azure.microsoft.com/documentation/articles/iot-hub-device-management-overview/), [Cómo actualizar firmware de dispositivo](https://azure.microsoft.com/documentation/articles/iot-hub-device-management-device-jobs/)</span><span class="sxs-lookup"><span data-stu-id="3aa49-593">[IoT Hub Device Management Overview](https://azure.microsoft.com/documentation/articles/iot-hub-device-management-overview/), [How to update Device Firmware](https://azure.microsoft.com/documentation/articles/iot-hub-device-management-device-jobs/)</span></span> |
| <span data-ttu-id="3aa49-594">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-594">**Steps**</span></span> | <span data-ttu-id="3aa49-595">LWM2M es un protocolo de Open Mobile Alliance para la administración de dispositivos IoT.</span><span class="sxs-lookup"><span data-stu-id="3aa49-595">LWM2M is a protocol from the Open Mobile Alliance for IoT Device Management.</span></span> <span data-ttu-id="3aa49-596">La administración de dispositivos IoT de Azure permite interactuar con dispositivos físicos mediante trabajos de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="3aa49-596">Azure IoT device management allows to interact with physical devices using device jobs.</span></span> <span data-ttu-id="3aa49-597">Asegúrese de que la puerta de enlace de la nube implementa un proceso para mantener al día de forma rutinaria el dispositivo y otros datos de configuración mediante la administración de dispositivos de Azure IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="3aa49-597">Ensure that the Cloud Gateway implements a process to routinely keep the device and other configuration data up to date using Azure IoT Hub Device Management.</span></span> |

## <span data-ttu-id="3aa49-598"><a id="controls-policies"></a>Comprobación de que los dispositivos tienen controles de seguridad de punto de conexión configurados según las directivas organizativas</span><span class="sxs-lookup"><span data-stu-id="3aa49-598"><a id="controls-policies"></a>Ensure that devices have end-point security controls configured as per organizational policies</span></span>

| <span data-ttu-id="3aa49-599">Título</span><span class="sxs-lookup"><span data-stu-id="3aa49-599">Title</span></span>                   | <span data-ttu-id="3aa49-600">Detalles</span><span class="sxs-lookup"><span data-stu-id="3aa49-600">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="3aa49-601">**Componente**</span><span class="sxs-lookup"><span data-stu-id="3aa49-601">**Component**</span></span>               | <span data-ttu-id="3aa49-602">Límite de confianza de la máquina</span><span class="sxs-lookup"><span data-stu-id="3aa49-602">Machine Trust Boundary</span></span> | 
| <span data-ttu-id="3aa49-603">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="3aa49-603">**SDL Phase**</span></span>               | <span data-ttu-id="3aa49-604">Implementación</span><span class="sxs-lookup"><span data-stu-id="3aa49-604">Deployment</span></span> |  
| <span data-ttu-id="3aa49-605">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="3aa49-605">**Applicable Technologies**</span></span> | <span data-ttu-id="3aa49-606">Genérico</span><span class="sxs-lookup"><span data-stu-id="3aa49-606">Generic</span></span> |
| <span data-ttu-id="3aa49-607">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-607">**Attributes**</span></span>              | <span data-ttu-id="3aa49-608">N/D</span><span class="sxs-lookup"><span data-stu-id="3aa49-608">N/A</span></span>  |
| <span data-ttu-id="3aa49-609">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="3aa49-609">**References**</span></span>              | <span data-ttu-id="3aa49-610">N/D</span><span class="sxs-lookup"><span data-stu-id="3aa49-610">N/A</span></span>  |
| <span data-ttu-id="3aa49-611">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-611">**Steps**</span></span> | <span data-ttu-id="3aa49-612">Asegúrese de que los controles de seguridad de punto de conexión de los dispositivos como Bitlocker para el cifrado a nivel de disco, antivirus con las firmas actualizadas, firewall basado en el host, actualizaciones de sistema operativo, directivas de grupo, etc. estén configurados según las directivas de seguridad.</span><span class="sxs-lookup"><span data-stu-id="3aa49-612">Ensure that devices have end-point security controls such as bit-locker for disk-level encryption, anti-virus with updated signatures, host based firewall, OS upgrades, group policies etc. are configured as per organizational security policies.</span></span> |

## <span data-ttu-id="3aa49-613"><a id="secure-keys"></a>Comprobación de la administración segura de las claves de acceso de almacenamiento de Azure</span><span class="sxs-lookup"><span data-stu-id="3aa49-613"><a id="secure-keys"></a>Ensure secure management of Azure storage access keys</span></span>

| <span data-ttu-id="3aa49-614">Título</span><span class="sxs-lookup"><span data-stu-id="3aa49-614">Title</span></span>                   | <span data-ttu-id="3aa49-615">Detalles</span><span class="sxs-lookup"><span data-stu-id="3aa49-615">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="3aa49-616">**Componente**</span><span class="sxs-lookup"><span data-stu-id="3aa49-616">**Component**</span></span>               | <span data-ttu-id="3aa49-617">Azure Storage</span><span class="sxs-lookup"><span data-stu-id="3aa49-617">Azure Storage</span></span> | 
| <span data-ttu-id="3aa49-618">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="3aa49-618">**SDL Phase**</span></span>               | <span data-ttu-id="3aa49-619">Implementación</span><span class="sxs-lookup"><span data-stu-id="3aa49-619">Deployment</span></span> |  
| <span data-ttu-id="3aa49-620">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="3aa49-620">**Applicable Technologies**</span></span> | <span data-ttu-id="3aa49-621">Genérico</span><span class="sxs-lookup"><span data-stu-id="3aa49-621">Generic</span></span> |
| <span data-ttu-id="3aa49-622">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-622">**Attributes**</span></span>              | <span data-ttu-id="3aa49-623">N/D</span><span class="sxs-lookup"><span data-stu-id="3aa49-623">N/A</span></span>  |
| <span data-ttu-id="3aa49-624">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="3aa49-624">**References**</span></span>              | [<span data-ttu-id="3aa49-625">Guía de seguridad de Azure Storage: administración de las claves de la cuenta de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="3aa49-625">Azure Storage security guide - Managing Your Storage Account Keys</span></span>](https://azure.microsoft.com/documentation/articles/storage-security-guide/#_managing-your-storage-account-keys) |
| <span data-ttu-id="3aa49-626">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-626">**Steps**</span></span> | <p><span data-ttu-id="3aa49-627">Almacenamiento de claves: se recomienda almacenar las claves de acceso de almacenamiento de Azure en Azure Key Vault como secreto y hacer que las aplicaciones recuperen la clave del almacén.</span><span class="sxs-lookup"><span data-stu-id="3aa49-627">Key Storage: It is recommended to store the Azure Storage access keys in Azure Key Vault as a secret and have the applications retrieve the key from key vault.</span></span> <span data-ttu-id="3aa49-628">Se recomienda esto por los siguientes motivos:</span><span class="sxs-lookup"><span data-stu-id="3aa49-628">This is recommended due to the following reasons:</span></span></p><ul><li><span data-ttu-id="3aa49-629">La aplicación nunca tendrá la clave de almacenamiento codificada de manera rígida en un archivo de configuración, lo que elimina la posibilidad de que alguien acceda a las claves sin permiso específico</span><span class="sxs-lookup"><span data-stu-id="3aa49-629">The application will never have the storage key hardcoded in a configuration file, which removes that avenue of somebody getting access to the keys without specific permission</span></span></li><li><span data-ttu-id="3aa49-630">El acceso a las claves se controla con Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="3aa49-630">Access to the keys can be controlled using Azure Active Directory.</span></span> <span data-ttu-id="3aa49-631">Esto significa que el propietario de la cuenta puede conceder acceso a la serie de aplicaciones que necesitan recuperar las claves de Azure Key Vault.</span><span class="sxs-lookup"><span data-stu-id="3aa49-631">This means an account owner can grant access to the handful of applications that need to retrieve the keys from Azure Key Vault.</span></span> <span data-ttu-id="3aa49-632">Las demás aplicaciones no podrán acceder a las claves si no se les concede específicamente el permiso</span><span class="sxs-lookup"><span data-stu-id="3aa49-632">Other applications will not be able to access the keys without granting them permission specifically</span></span></li><li><span data-ttu-id="3aa49-633">Regeneración de claves: por motivos de seguridad, se recomienda disponer de un proceso para volver a generar las claves de acceso de almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="3aa49-633">Key Regeneration: It is recommended to have a process in place to regenerate Azure storage access keys for security reasons.</span></span> <span data-ttu-id="3aa49-634">Los detalles sobre por qué y cómo planear la regeneración de claves se documentan en el artículo de referencia de la Guía de seguridad de Azure Storage</span><span class="sxs-lookup"><span data-stu-id="3aa49-634">Details on why and how to plan for key regeneration are documented in the Azure Storage Security Guide reference article</span></span></li></ul>|

## <span data-ttu-id="3aa49-635"><a id="cors-storage"></a>Comprobación de que solo se permiten orígenes de confianza si CORS está activado en Azure Storage</span><span class="sxs-lookup"><span data-stu-id="3aa49-635"><a id="cors-storage"></a>Ensure that only trusted origins are allowed if CORS is enabled on Azure storage</span></span>

| <span data-ttu-id="3aa49-636">Título</span><span class="sxs-lookup"><span data-stu-id="3aa49-636">Title</span></span>                   | <span data-ttu-id="3aa49-637">Detalles</span><span class="sxs-lookup"><span data-stu-id="3aa49-637">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="3aa49-638">**Componente**</span><span class="sxs-lookup"><span data-stu-id="3aa49-638">**Component**</span></span>               | <span data-ttu-id="3aa49-639">Azure Storage</span><span class="sxs-lookup"><span data-stu-id="3aa49-639">Azure Storage</span></span> | 
| <span data-ttu-id="3aa49-640">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="3aa49-640">**SDL Phase**</span></span>               | <span data-ttu-id="3aa49-641">Compilación</span><span class="sxs-lookup"><span data-stu-id="3aa49-641">Build</span></span> |  
| <span data-ttu-id="3aa49-642">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="3aa49-642">**Applicable Technologies**</span></span> | <span data-ttu-id="3aa49-643">Genérico</span><span class="sxs-lookup"><span data-stu-id="3aa49-643">Generic</span></span> |
| <span data-ttu-id="3aa49-644">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-644">**Attributes**</span></span>              | <span data-ttu-id="3aa49-645">N/D</span><span class="sxs-lookup"><span data-stu-id="3aa49-645">N/A</span></span>  |
| <span data-ttu-id="3aa49-646">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="3aa49-646">**References**</span></span>              | <span data-ttu-id="3aa49-647">[CORS Support for the Azure Storage Services](https://msdn.microsoft.com/library/azure/dn535601.aspx) (Compatibilidad de CORS para los servicios de Azure Storage)</span><span class="sxs-lookup"><span data-stu-id="3aa49-647">[CORS Support for the Azure Storage Services](https://msdn.microsoft.com/library/azure/dn535601.aspx)</span></span> |
| <span data-ttu-id="3aa49-648">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-648">**Steps**</span></span> | <span data-ttu-id="3aa49-649">Azure Storage permite habilitar el uso compartido de recursos entre orígenes.</span><span class="sxs-lookup"><span data-stu-id="3aa49-649">Azure Storage allows you to enable CORS – Cross Origin Resource Sharing.</span></span> <span data-ttu-id="3aa49-650">Puede especificar los dominios que pueden tener acceso a los recursos de cada una de las cuentas de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="3aa49-650">For each storage account, you can specify domains that can access the resources in that storage account.</span></span> <span data-ttu-id="3aa49-651">De forma predeterminada, el uso compartido de recursos entre orígenes está deshabilitado en todos los servicios.</span><span class="sxs-lookup"><span data-stu-id="3aa49-651">By default, CORS is disabled on all services.</span></span> <span data-ttu-id="3aa49-652">Puede habilitarlo mediante la API de REST o la biblioteca del cliente de almacenamiento para llamar a uno de los métodos a fin de establecer las directivas del servicio.</span><span class="sxs-lookup"><span data-stu-id="3aa49-652">You can enable CORS by using the REST API or the storage client library to call one of the methods to set the service policies.</span></span> |

## <span data-ttu-id="3aa49-653"><a id="throttling"></a>Habilitación de la característica de limitación del servicio de WCF</span><span class="sxs-lookup"><span data-stu-id="3aa49-653"><a id="throttling"></a>Enable WCF's service throttling feature</span></span>

| <span data-ttu-id="3aa49-654">Título</span><span class="sxs-lookup"><span data-stu-id="3aa49-654">Title</span></span>                   | <span data-ttu-id="3aa49-655">Detalles</span><span class="sxs-lookup"><span data-stu-id="3aa49-655">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="3aa49-656">**Componente**</span><span class="sxs-lookup"><span data-stu-id="3aa49-656">**Component**</span></span>               | <span data-ttu-id="3aa49-657">WCF</span><span class="sxs-lookup"><span data-stu-id="3aa49-657">WCF</span></span> | 
| <span data-ttu-id="3aa49-658">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="3aa49-658">**SDL Phase**</span></span>               | <span data-ttu-id="3aa49-659">Compilación</span><span class="sxs-lookup"><span data-stu-id="3aa49-659">Build</span></span> |  
| <span data-ttu-id="3aa49-660">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="3aa49-660">**Applicable Technologies**</span></span> | <span data-ttu-id="3aa49-661">.NET Framework 3</span><span class="sxs-lookup"><span data-stu-id="3aa49-661">.NET Framework 3</span></span> |
| <span data-ttu-id="3aa49-662">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-662">**Attributes**</span></span>              | <span data-ttu-id="3aa49-663">N/D</span><span class="sxs-lookup"><span data-stu-id="3aa49-663">N/A</span></span>  |
| <span data-ttu-id="3aa49-664">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="3aa49-664">**References**</span></span>              | <span data-ttu-id="3aa49-665">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify Kingdom](https://vulncat.fortify.com/en/vulncat/index.html)</span><span class="sxs-lookup"><span data-stu-id="3aa49-665">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify Kingdom](https://vulncat.fortify.com/en/vulncat/index.html)</span></span> |
| <span data-ttu-id="3aa49-666">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-666">**Steps**</span></span> | <p><span data-ttu-id="3aa49-667">No limitar el uso de recursos del sistema podría provocar el agotamiento de estos y, en última instancia, la denegación del servicio.</span><span class="sxs-lookup"><span data-stu-id="3aa49-667">Not placing a limit on the use of system resources could result in resource exhaustion and ultimately a denial of service.</span></span></p><ul><li><span data-ttu-id="3aa49-668">**EXPLICACIÓN:** Windows Communication Foundation (WCF) ofrece la posibilidad de limitar las solicitudes de servicio.</span><span class="sxs-lookup"><span data-stu-id="3aa49-668">**EXPLANATION:** Windows Communication Foundation (WCF) offers the ability to throttle service requests.</span></span> <span data-ttu-id="3aa49-669">Permitir demasiadas solicitudes de cliente puede superar al sistema y agotar sus recursos.</span><span class="sxs-lookup"><span data-stu-id="3aa49-669">Allowing too many client requests can flood a system and exhaust its resources.</span></span> <span data-ttu-id="3aa49-670">Por otra parte, permitir solo un pequeño número de solicitudes a un servicio puede impedir que los usuarios legítimos lo usen.</span><span class="sxs-lookup"><span data-stu-id="3aa49-670">On the other hand, allowing only a small number of requests to a service can prevent legitimate users from using the service.</span></span> <span data-ttu-id="3aa49-671">Cada servicio debe ajustarse y configurarse individualmente para permitir la cantidad adecuada de recursos.</span><span class="sxs-lookup"><span data-stu-id="3aa49-671">Each service should be individually tuned to and configured to allow the appropriate amount of resources.</span></span></li><li><span data-ttu-id="3aa49-672">**RECOMENDACIONES** Habilite la característica de limitación del servicio de WCF y establezca los límites adecuados para la aplicación.</span><span class="sxs-lookup"><span data-stu-id="3aa49-672">**RECOMMENDATIONS** Enable WCF's service throttling feature and set limits appropriate for your application.</span></span></li></ul>|

### <a name="example"></a><span data-ttu-id="3aa49-673">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="3aa49-673">Example</span></span>
<span data-ttu-id="3aa49-674">El siguiente es un ejemplo de configuración con la limitación habilitada:</span><span class="sxs-lookup"><span data-stu-id="3aa49-674">The following is an example configuration with throttling enabled:</span></span>
```
<system.serviceModel> 
  <behaviors>
    <serviceBehaviors>
    <behavior name="Throttled">
    <serviceThrottling maxConcurrentCalls="[YOUR SERVICE VALUE]" maxConcurrentSessions="[YOUR SERVICE VALUE]" maxConcurrentInstances="[YOUR SERVICE VALUE]" /> 
  ...
</system.serviceModel> 
```

## <span data-ttu-id="3aa49-675"><a id="info-metadata"></a>Revelación de información de WCF mediante metadatos</span><span class="sxs-lookup"><span data-stu-id="3aa49-675"><a id="info-metadata"></a>WCF-Information disclosure through metadata</span></span>

| <span data-ttu-id="3aa49-676">Título</span><span class="sxs-lookup"><span data-stu-id="3aa49-676">Title</span></span>                   | <span data-ttu-id="3aa49-677">Detalles</span><span class="sxs-lookup"><span data-stu-id="3aa49-677">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="3aa49-678">**Componente**</span><span class="sxs-lookup"><span data-stu-id="3aa49-678">**Component**</span></span>               | <span data-ttu-id="3aa49-679">WCF</span><span class="sxs-lookup"><span data-stu-id="3aa49-679">WCF</span></span> | 
| <span data-ttu-id="3aa49-680">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="3aa49-680">**SDL Phase**</span></span>               | <span data-ttu-id="3aa49-681">Compilación</span><span class="sxs-lookup"><span data-stu-id="3aa49-681">Build</span></span> |  
| <span data-ttu-id="3aa49-682">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="3aa49-682">**Applicable Technologies**</span></span> | <span data-ttu-id="3aa49-683">.NET Framework 3</span><span class="sxs-lookup"><span data-stu-id="3aa49-683">.NET Framework 3</span></span> |
| <span data-ttu-id="3aa49-684">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-684">**Attributes**</span></span>              | <span data-ttu-id="3aa49-685">N/D</span><span class="sxs-lookup"><span data-stu-id="3aa49-685">N/A</span></span>  |
| <span data-ttu-id="3aa49-686">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="3aa49-686">**References**</span></span>              | <span data-ttu-id="3aa49-687">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify Kingdom](https://vulncat.fortify.com/en/vulncat/index.html)</span><span class="sxs-lookup"><span data-stu-id="3aa49-687">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify Kingdom](https://vulncat.fortify.com/en/vulncat/index.html)</span></span> |
| <span data-ttu-id="3aa49-688">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="3aa49-688">**Steps**</span></span> | <span data-ttu-id="3aa49-689">Los metadatos pueden ayudar a los atacantes a obtener información sobre el sistema y a planear la forma de ataque.</span><span class="sxs-lookup"><span data-stu-id="3aa49-689">Metadata can help attackers learn about the system and plan a form of attack.</span></span> <span data-ttu-id="3aa49-690">Los servicios de WCF pueden configurarse para exponer los metadatos.</span><span class="sxs-lookup"><span data-stu-id="3aa49-690">WCF services can be configured to expose metadata.</span></span> <span data-ttu-id="3aa49-691">Los metadatos proporcionan información descriptiva detallada del servicio y no se deben difundir en entornos de producción.</span><span class="sxs-lookup"><span data-stu-id="3aa49-691">Metadata gives detailed service description information and should not be broadcast in production environments.</span></span> <span data-ttu-id="3aa49-692">Las propiedades `HttpGetEnabled`  /  `HttpsGetEnabled` de la clase de ServiceMetaData definen si un servicio va a exponer los metadatos</span><span class="sxs-lookup"><span data-stu-id="3aa49-692">The `HttpGetEnabled` / `HttpsGetEnabled` properties of the ServiceMetaData class defines whether a service will expose the metadata</span></span> | 

### <a name="example"></a><span data-ttu-id="3aa49-693">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="3aa49-693">Example</span></span>
<span data-ttu-id="3aa49-694">El código siguiente indica a WCF que difunda los metadatos del servicio</span><span class="sxs-lookup"><span data-stu-id="3aa49-694">The code below instructs WCF to broadcast a service's metadata</span></span>
```
ServiceMetadataBehavior smb = new ServiceMetadataBehavior();
smb.HttpGetEnabled = true; 
smb.HttpGetUrl = new Uri(EndPointAddress); 
Host.Description.Behaviors.Add(smb); 
```
<span data-ttu-id="3aa49-695">En un entorno de producción no se difunden los metadatos del servicio.</span><span class="sxs-lookup"><span data-stu-id="3aa49-695">Do not broadcast service metadata in a production environment.</span></span> <span data-ttu-id="3aa49-696">Establezca las propiedades HttpGetEnabled / HttpsGetEnabled de la clase ServiceMetaData en false.</span><span class="sxs-lookup"><span data-stu-id="3aa49-696">Set the HttpGetEnabled / HttpsGetEnabled properties of the ServiceMetaData class to false.</span></span> 

### <a name="example"></a><span data-ttu-id="3aa49-697">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="3aa49-697">Example</span></span>
<span data-ttu-id="3aa49-698">El código siguiente indica a WCF que no difunda los metadatos del servicio.</span><span class="sxs-lookup"><span data-stu-id="3aa49-698">The code below instructs WCF to not broadcast a service's metadata.</span></span> 
```
ServiceMetadataBehavior smb = new ServiceMetadataBehavior(); 
smb.HttpGetEnabled = false; 
smb.HttpGetUrl = new Uri(EndPointAddress); 
Host.Description.Behaviors.Add(smb);
```
