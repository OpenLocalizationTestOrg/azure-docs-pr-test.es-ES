---
title: aaaAuthentication - herramienta de modelado de amenazas de Microsoft - Azure | Documentos de Microsoft
description: mitigaciones en busca de amenazas que se exponen en hello herramienta de modelado de amenazas
services: security
documentationcenter: na
author: RodSan
manager: RodSan
editor: RodSan
ms.assetid: na
ms.service: security
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/17/2017
ms.author: rodsan
ms.openlocfilehash: 06c1b1aebab25e6fb5b666d24ecd9d86085d656c
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="security-frame-authentication--mitigations"></a><span data-ttu-id="27dcb-103">Marco de seguridad: autenticación | Mitigaciones</span><span class="sxs-lookup"><span data-stu-id="27dcb-103">Security Frame: Authentication | Mitigations</span></span> 
| <span data-ttu-id="27dcb-104">Producto o servicio</span><span class="sxs-lookup"><span data-stu-id="27dcb-104">Product/Service</span></span> | <span data-ttu-id="27dcb-105">Artículo</span><span class="sxs-lookup"><span data-stu-id="27dcb-105">Article</span></span> |
| --------------- | ------- |
| <span data-ttu-id="27dcb-106">**Aplicación web**</span><span class="sxs-lookup"><span data-stu-id="27dcb-106">**Web Application**</span></span>    | <ul><li>[<span data-ttu-id="27dcb-107">Considere el uso de un tooWeb de tooauthenticate del mecanismo de autenticación estándar aplicación</span><span class="sxs-lookup"><span data-stu-id="27dcb-107">Consider using a standard authentication mechanism tooauthenticate tooWeb Application</span></span>](#standard-authn-web-app)</li><li>[<span data-ttu-id="27dcb-108">Las aplicaciones deben administrar escenarios de errores de autenticación de forma segura</span><span class="sxs-lookup"><span data-stu-id="27dcb-108">Applications must handle failed authentication scenarios securely</span></span>](#handle-failed-authn)</li><li>[<span data-ttu-id="27dcb-109">Habilitación de la autenticación adicional o adaptable</span><span class="sxs-lookup"><span data-stu-id="27dcb-109">Enable step up or adaptive authentication</span></span>](#step-up-adaptive-authn)</li><li>[<span data-ttu-id="27dcb-110">Asegurarse de que las interfaces administrativas estén correctamente bloqueadas</span><span class="sxs-lookup"><span data-stu-id="27dcb-110">Ensure that administrative interfaces are appropriately locked down</span></span>](#admin-interface-lockdown)</li><li>[<span data-ttu-id="27dcb-111">Implementación de funcionalidades de contraseña olvidada de forma segura</span><span class="sxs-lookup"><span data-stu-id="27dcb-111">Implement forgot password functionalities securely</span></span>](#forgot-pword-fxn)</li><li>[<span data-ttu-id="27dcb-112">Asegurarse de que se implementen directivas de cuenta y contraseña</span><span class="sxs-lookup"><span data-stu-id="27dcb-112">Ensure that password and account policy are implemented</span></span>](#pword-account-policy)</li><li>[<span data-ttu-id="27dcb-113">Implemente controles tooprevent nombre de usuario (enumeración)</span><span class="sxs-lookup"><span data-stu-id="27dcb-113">Implement controls tooprevent username enumeration</span></span>](#controls-username-enum)</li></ul> |
| <span data-ttu-id="27dcb-114">**Base de datos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-114">**Database**</span></span> | <ul><li>[<span data-ttu-id="27dcb-115">Cuando sea posible, utilice la autenticación de Windows para conectar tooSQL Server</span><span class="sxs-lookup"><span data-stu-id="27dcb-115">When possible, use Windows Authentication for connecting tooSQL Server</span></span>](#win-authn-sql)</li><li>[<span data-ttu-id="27dcb-116">Cuando sea posible, utilice autenticación de Azure Active Directory para conectar tooSQL base de datos</span><span class="sxs-lookup"><span data-stu-id="27dcb-116">When possible use Azure Active Directory Authentication for Connecting tooSQL Database</span></span>](#aad-authn-sql)</li><li>[<span data-ttu-id="27dcb-117">Cuando se use el modo de autenticación de SQL, asegurarse de que se apliquen directivas de cuenta y contraseña en SQL Server</span><span class="sxs-lookup"><span data-stu-id="27dcb-117">When SQL authentication mode is used, ensure that account and password policy are enforced on SQL server</span></span>](#authn-account-pword)</li><li>[<span data-ttu-id="27dcb-118">No usar la autenticación SQL en bases de datos independientes</span><span class="sxs-lookup"><span data-stu-id="27dcb-118">Do not use SQL Authentication in contained databases</span></span>](#autn-contained-db)</li></ul> |
| <span data-ttu-id="27dcb-119">**Centro de eventos de Azure**</span><span class="sxs-lookup"><span data-stu-id="27dcb-119">**Azure Event Hub**</span></span> | <ul><li>[<span data-ttu-id="27dcb-120">Uso de credenciales de autenticación por dispositivo mediante tokens SaS</span><span class="sxs-lookup"><span data-stu-id="27dcb-120">Use per device authentication credentials using SaS tokens</span></span>](#authn-sas-tokens)</li></ul> |
| <span data-ttu-id="27dcb-121">**Límites de confianza de Azure**</span><span class="sxs-lookup"><span data-stu-id="27dcb-121">**Azure Trust Boundary**</span></span> | <ul><li>[<span data-ttu-id="27dcb-122">Habilitación de Azure Multi-Factor Authentication para administradores de Azure</span><span class="sxs-lookup"><span data-stu-id="27dcb-122">Enable Azure Multi-Factor Authentication for Azure Administrators</span></span>](#multi-factor-azure-admin)</li></ul> |
| <span data-ttu-id="27dcb-123">**Límites de confianza de Service Fabric**</span><span class="sxs-lookup"><span data-stu-id="27dcb-123">**Service Fabric Trust Boundary**</span></span> | <ul><li>[<span data-ttu-id="27dcb-124">Restringir el acceso anónimo tooService clúster Fabric</span><span class="sxs-lookup"><span data-stu-id="27dcb-124">Restrict anonymous access tooService Fabric Cluster</span></span>](#anon-access-cluster)</li><li>[<span data-ttu-id="27dcb-125">Asegurarse de que el certificado de cliente a nodo de Service Fabric sea diferente del certificado de nodo a nodo</span><span class="sxs-lookup"><span data-stu-id="27dcb-125">Ensure that Service Fabric client-to-node certificate is different from node-to-node certificate</span></span>](#fabric-cn-nn)</li><li>[<span data-ttu-id="27dcb-126">Usar clústeres de los clientes de AAD tooauthenticate tooservice tejido</span><span class="sxs-lookup"><span data-stu-id="27dcb-126">Use AAD tooauthenticate clients tooservice fabric clusters</span></span>](#aad-client-fabric)</li><li>[<span data-ttu-id="27dcb-127">Asegurarse de que los certificados de Service Fabric se obtienen de una entidad de certificación (CA) aprobada</span><span class="sxs-lookup"><span data-stu-id="27dcb-127">Ensure that service fabric certificates are obtained from an approved Certificate Authority (CA)</span></span>](#fabric-cert-ca)</li></ul> |
| <span data-ttu-id="27dcb-128">**Identity Server**</span><span class="sxs-lookup"><span data-stu-id="27dcb-128">**Identity Server**</span></span> | <ul><li>[<span data-ttu-id="27dcb-129">Uso de escenarios de autenticación estándar admitidos por Identity Server</span><span class="sxs-lookup"><span data-stu-id="27dcb-129">Use standard authentication scenarios supported by Identity Server</span></span>](#standard-authn-id)</li><li>[<span data-ttu-id="27dcb-130">Invalidar Hola Identity Server token memoria caché predeterminada con una alternativa escalable</span><span class="sxs-lookup"><span data-stu-id="27dcb-130">Override hello default Identity Server token cache with a scalable alternative</span></span>](#override-token)</li></ul> |
| <span data-ttu-id="27dcb-131">**Límite de confianza de la máquina**</span><span class="sxs-lookup"><span data-stu-id="27dcb-131">**Machine Trust Boundary**</span></span> | <ul><li>[<span data-ttu-id="27dcb-132">Asegurarse de que los archivos binarios de la aplicación implementada están firmados digitalmente</span><span class="sxs-lookup"><span data-stu-id="27dcb-132">Ensure that deployed application's binaries are digitally signed</span></span>](#binaries-signed)</li></ul> |
| <span data-ttu-id="27dcb-133">**WCF**</span><span class="sxs-lookup"><span data-stu-id="27dcb-133">**WCF**</span></span> | <ul><li>[<span data-ttu-id="27dcb-134">Habilitar la autenticación al conectarse tooMSMQ colas en WCF</span><span class="sxs-lookup"><span data-stu-id="27dcb-134">Enable authentication when connecting tooMSMQ queues in WCF</span></span>](#msmq-queues)</li><li>[<span data-ttu-id="27dcb-135">Realice de WCF no establece mensaje clientCredentialType toonone</span><span class="sxs-lookup"><span data-stu-id="27dcb-135">WCF-Do not set Message clientCredentialType toonone</span></span>](#message-none)</li><li>[<span data-ttu-id="27dcb-136">Realice de WCF no establece transporte clientCredentialType toonone</span><span class="sxs-lookup"><span data-stu-id="27dcb-136">WCF-Do not set Transport clientCredentialType toonone</span></span>](#transport-none)</li></ul> |
| <span data-ttu-id="27dcb-137">**API web**</span><span class="sxs-lookup"><span data-stu-id="27dcb-137">**Web API**</span></span> | <ul><li>[<span data-ttu-id="27dcb-138">Asegúrese de que las técnicas de autenticación estándar toosecure usa las API Web</span><span class="sxs-lookup"><span data-stu-id="27dcb-138">Ensure that standard authentication techniques are used toosecure Web APIs</span></span>](#authn-secure-api)</li></ul> |
| <span data-ttu-id="27dcb-139">**Azure AD**</span><span class="sxs-lookup"><span data-stu-id="27dcb-139">**Azure AD**</span></span> | <ul><li>[<span data-ttu-id="27dcb-140">Uso de escenarios de autenticación estándar compatibles con Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="27dcb-140">Use standard authentication scenarios supported by Azure Active Directory</span></span>](#authn-aad)</li><li>[<span data-ttu-id="27dcb-141">Invalidar Hola AAL token memoria caché predeterminada con una alternativa escalable</span><span class="sxs-lookup"><span data-stu-id="27dcb-141">Override hello default ADAL token cache with a scalable alternative</span></span>](#adal-scalable)</li><li>[<span data-ttu-id="27dcb-142">Asegúrese de que TokenReplayCache es tooprevent usados al reproducir Hola de tokens de autenticación de ADAL</span><span class="sxs-lookup"><span data-stu-id="27dcb-142">Ensure that TokenReplayCache is used tooprevent hello replay of ADAL authentication tokens</span></span>](#tokenreplaycache-adal)</li><li>[<span data-ttu-id="27dcb-143">Usar el token de bibliotecas de ADAL toomanage solicita de OAuth2 clientes tooAAD (o AD local)</span><span class="sxs-lookup"><span data-stu-id="27dcb-143">Use ADAL libraries toomanage token requests from OAuth2 clients tooAAD (or on-premises AD)</span></span>](#adal-oauth2)</li></ul> |
| <span data-ttu-id="27dcb-144">**Puerta de enlace de campo de IoT**</span><span class="sxs-lookup"><span data-stu-id="27dcb-144">**IoT Field Gateway**</span></span> | <ul><li>[<span data-ttu-id="27dcb-145">Autenticar los dispositivos que se conectan toohello puerta de enlace de campo</span><span class="sxs-lookup"><span data-stu-id="27dcb-145">Authenticate devices connecting toohello Field Gateway</span></span>](#authn-devices-field)</li></ul> |
| <span data-ttu-id="27dcb-146">**Puerta de enlace de nube de IoT**</span><span class="sxs-lookup"><span data-stu-id="27dcb-146">**IoT Cloud Gateway**</span></span> | <ul><li>[<span data-ttu-id="27dcb-147">Asegúrese de que se autentican los dispositivos que se conectan tooCloud puerta de enlace</span><span class="sxs-lookup"><span data-stu-id="27dcb-147">Ensure that devices connecting tooCloud gateway are authenticated</span></span>](#authn-devices-cloud)</li><li>[<span data-ttu-id="27dcb-148">Uso de credenciales de autenticación por dispositivo</span><span class="sxs-lookup"><span data-stu-id="27dcb-148">Use per-device authentication credentials</span></span>](#authn-cred)</li></ul> |
| <span data-ttu-id="27dcb-149">**Azure Storage**</span><span class="sxs-lookup"><span data-stu-id="27dcb-149">**Azure Storage**</span></span> | <ul><li>[<span data-ttu-id="27dcb-150">Asegúrese de que solo Hola requiera contenedores y blobs tienen acceso de lectura anónimo</span><span class="sxs-lookup"><span data-stu-id="27dcb-150">Ensure that only hello required containers and blobs are given anonymous read access</span></span>](#req-containers-anon)</li><li>[<span data-ttu-id="27dcb-151">Conceder acceso limitado tooobjects en almacenamiento de Azure mediante SAS o SAP</span><span class="sxs-lookup"><span data-stu-id="27dcb-151">Grant limited access tooobjects in Azure storage using SAS or SAP</span></span>](#limited-access-sas)</li></ul> |

## <span data-ttu-id="27dcb-152"><a id="standard-authn-web-app"></a>Considere el uso de un tooWeb de tooauthenticate del mecanismo de autenticación estándar aplicación</span><span class="sxs-lookup"><span data-stu-id="27dcb-152"><a id="standard-authn-web-app"></a>Consider using a standard authentication mechanism tooauthenticate tooWeb Application</span></span>

| <span data-ttu-id="27dcb-153">Título</span><span class="sxs-lookup"><span data-stu-id="27dcb-153">Title</span></span>                   | <span data-ttu-id="27dcb-154">Detalles</span><span class="sxs-lookup"><span data-stu-id="27dcb-154">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="27dcb-155">**Componente**</span><span class="sxs-lookup"><span data-stu-id="27dcb-155">**Component**</span></span>               | <span data-ttu-id="27dcb-156">Aplicación web</span><span class="sxs-lookup"><span data-stu-id="27dcb-156">Web Application</span></span> | 
| <span data-ttu-id="27dcb-157">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="27dcb-157">**SDL Phase**</span></span>               | <span data-ttu-id="27dcb-158">Compilación</span><span class="sxs-lookup"><span data-stu-id="27dcb-158">Build</span></span> |  
| <span data-ttu-id="27dcb-159">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="27dcb-159">**Applicable Technologies**</span></span> | <span data-ttu-id="27dcb-160">Genérico</span><span class="sxs-lookup"><span data-stu-id="27dcb-160">Generic</span></span> |
| <span data-ttu-id="27dcb-161">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-161">**Attributes**</span></span>              | <span data-ttu-id="27dcb-162">N/D</span><span class="sxs-lookup"><span data-stu-id="27dcb-162">N/A</span></span>  |
| <span data-ttu-id="27dcb-163">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="27dcb-163">**References**</span></span>              | <span data-ttu-id="27dcb-164">N/D</span><span class="sxs-lookup"><span data-stu-id="27dcb-164">N/A</span></span>  |
| <span data-ttu-id="27dcb-165">Detalles</span><span class="sxs-lookup"><span data-stu-id="27dcb-165">Details</span></span> | <p><span data-ttu-id="27dcb-166">La autenticación es el proceso Hola donde una entidad demuestre su identidad, normalmente a través de las credenciales, como un nombre de usuario y una contraseña.</span><span class="sxs-lookup"><span data-stu-id="27dcb-166">Authentication is hello process where an entity proves its identity, typically through credentials, such as a user name and password.</span></span> <span data-ttu-id="27dcb-167">Hay varios protocolos de autenticación disponibles que se pueden considerar.</span><span class="sxs-lookup"><span data-stu-id="27dcb-167">There are multiple authentication protocols available which may be considered.</span></span> <span data-ttu-id="27dcb-168">A continuación se enumeran algunos de ellos:</span><span class="sxs-lookup"><span data-stu-id="27dcb-168">Some of them are listed below:</span></span></p><ul><li><span data-ttu-id="27dcb-169">Certificados de cliente</span><span class="sxs-lookup"><span data-stu-id="27dcb-169">Client certificates</span></span></li><li><span data-ttu-id="27dcb-170">Basado en Windows</span><span class="sxs-lookup"><span data-stu-id="27dcb-170">Windows based</span></span></li><li><span data-ttu-id="27dcb-171">Basado en formularios</span><span class="sxs-lookup"><span data-stu-id="27dcb-171">Forms based</span></span></li><li><span data-ttu-id="27dcb-172">Federación - ADFS</span><span class="sxs-lookup"><span data-stu-id="27dcb-172">Federation - ADFS</span></span></li><li><span data-ttu-id="27dcb-173">Federación - Azure AD</span><span class="sxs-lookup"><span data-stu-id="27dcb-173">Federation - Azure AD</span></span></li><li><span data-ttu-id="27dcb-174">Federación - Identity Server</span><span class="sxs-lookup"><span data-stu-id="27dcb-174">Federation - Identity Server</span></span></li></ul><p><span data-ttu-id="27dcb-175">Considere el uso de un proceso de autenticación estándar mecanismo tooidentify Hola origen</span><span class="sxs-lookup"><span data-stu-id="27dcb-175">Consider using a standard authentication mechanism tooidentify hello source process</span></span></p>|

## <span data-ttu-id="27dcb-176"><a id="handle-failed-authn"></a>Las aplicaciones deben administrar escenarios de errores de autenticación de forma segura</span><span class="sxs-lookup"><span data-stu-id="27dcb-176"><a id="handle-failed-authn"></a>Applications must handle failed authentication scenarios securely</span></span>

| <span data-ttu-id="27dcb-177">Título</span><span class="sxs-lookup"><span data-stu-id="27dcb-177">Title</span></span>                   | <span data-ttu-id="27dcb-178">Detalles</span><span class="sxs-lookup"><span data-stu-id="27dcb-178">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="27dcb-179">**Componente**</span><span class="sxs-lookup"><span data-stu-id="27dcb-179">**Component**</span></span>               | <span data-ttu-id="27dcb-180">Aplicación web</span><span class="sxs-lookup"><span data-stu-id="27dcb-180">Web Application</span></span> | 
| <span data-ttu-id="27dcb-181">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="27dcb-181">**SDL Phase**</span></span>               | <span data-ttu-id="27dcb-182">Compilación</span><span class="sxs-lookup"><span data-stu-id="27dcb-182">Build</span></span> |  
| <span data-ttu-id="27dcb-183">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="27dcb-183">**Applicable Technologies**</span></span> | <span data-ttu-id="27dcb-184">Genérico</span><span class="sxs-lookup"><span data-stu-id="27dcb-184">Generic</span></span> |
| <span data-ttu-id="27dcb-185">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-185">**Attributes**</span></span>              | <span data-ttu-id="27dcb-186">N/D</span><span class="sxs-lookup"><span data-stu-id="27dcb-186">N/A</span></span>  |
| <span data-ttu-id="27dcb-187">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="27dcb-187">**References**</span></span>              | <span data-ttu-id="27dcb-188">N/D</span><span class="sxs-lookup"><span data-stu-id="27dcb-188">N/A</span></span>  |
| <span data-ttu-id="27dcb-189">Detalles</span><span class="sxs-lookup"><span data-stu-id="27dcb-189">Details</span></span> | <p><span data-ttu-id="27dcb-190">Las aplicaciones que explícitamente autentican a los usuarios deben administrar escenarios de autenticación con errores securely.hello mecanismo de autenticación debe:</span><span class="sxs-lookup"><span data-stu-id="27dcb-190">Applications that explicitly authenticate users must handle failed authentication scenarios securely.hello authentication mechanism must:</span></span></p><ul><li><span data-ttu-id="27dcb-191">Denegar el acceso tooprivileged recursos cuando se produce un error de autenticación</span><span class="sxs-lookup"><span data-stu-id="27dcb-191">Deny access tooprivileged resources when authentication fails</span></span></li><li><span data-ttu-id="27dcb-192">Mostrar un mensaje de error genérico después de que se produzca el error de autenticación y la denegación del acceso.</span><span class="sxs-lookup"><span data-stu-id="27dcb-192">Display a generic error message after failed authentication and access denied occurs</span></span></li></ul><p><span data-ttu-id="27dcb-193">Deberá comprobar:</span><span class="sxs-lookup"><span data-stu-id="27dcb-193">Test for:</span></span></p><ul><li><span data-ttu-id="27dcb-194">La protección de recursos con privilegios después de errores de inicios de sesión.</span><span class="sxs-lookup"><span data-stu-id="27dcb-194">Protection of privileged resources after failed logins</span></span></li><li><span data-ttu-id="27dcb-195">Se muestra un mensaje de error genérico en los eventos de error de autenticación y denegación del acceso.</span><span class="sxs-lookup"><span data-stu-id="27dcb-195">A generic error message is displayed on failed authentication and access denied event(s)</span></span></li><li><span data-ttu-id="27dcb-196">Las cuentas se deshabilitan después de un número excesivo de intentos erróneos.</span><span class="sxs-lookup"><span data-stu-id="27dcb-196">Accounts are disabled after an excessive number of failed attempts</span></span></li><ul>|

## <span data-ttu-id="27dcb-197"><a id="step-up-adaptive-authn"></a>Habilitación de la autenticación adicional o adaptable</span><span class="sxs-lookup"><span data-stu-id="27dcb-197"><a id="step-up-adaptive-authn"></a>Enable step up or adaptive authentication</span></span>

| <span data-ttu-id="27dcb-198">Título</span><span class="sxs-lookup"><span data-stu-id="27dcb-198">Title</span></span>                   | <span data-ttu-id="27dcb-199">Detalles</span><span class="sxs-lookup"><span data-stu-id="27dcb-199">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="27dcb-200">**Componente**</span><span class="sxs-lookup"><span data-stu-id="27dcb-200">**Component**</span></span>               | <span data-ttu-id="27dcb-201">Aplicación web</span><span class="sxs-lookup"><span data-stu-id="27dcb-201">Web Application</span></span> | 
| <span data-ttu-id="27dcb-202">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="27dcb-202">**SDL Phase**</span></span>               | <span data-ttu-id="27dcb-203">Compilación</span><span class="sxs-lookup"><span data-stu-id="27dcb-203">Build</span></span> |  
| <span data-ttu-id="27dcb-204">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="27dcb-204">**Applicable Technologies**</span></span> | <span data-ttu-id="27dcb-205">Genérico</span><span class="sxs-lookup"><span data-stu-id="27dcb-205">Generic</span></span> |
| <span data-ttu-id="27dcb-206">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-206">**Attributes**</span></span>              | <span data-ttu-id="27dcb-207">N/D</span><span class="sxs-lookup"><span data-stu-id="27dcb-207">N/A</span></span>  |
| <span data-ttu-id="27dcb-208">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="27dcb-208">**References**</span></span>              | <span data-ttu-id="27dcb-209">N/D</span><span class="sxs-lookup"><span data-stu-id="27dcb-209">N/A</span></span>  |
| <span data-ttu-id="27dcb-210">Detalles</span><span class="sxs-lookup"><span data-stu-id="27dcb-210">Details</span></span> | <p><span data-ttu-id="27dcb-211">Compruebe la aplicación hello tiene autorización adicional (como paso hacia arriba o autenticación adaptable, a través de la autenticación multifactor como el envío de OTP de SMS, etc. de correo electrónico o solicite la reautenticación) por lo que supone un desafío usuario Hola antes de que se concede acceso información de toosensitive.</span><span class="sxs-lookup"><span data-stu-id="27dcb-211">Verify hello application has additional authorization (such as step up or adaptive authentication, via multi-factor authentication such as sending OTP in SMS, email etc. or prompting for re-authentication) so hello user is challenged before being granted access toosensitive information.</span></span> <span data-ttu-id="27dcb-212">Esta regla también se aplica para hacer que la cuenta de tooan cambios críticos o acción</span><span class="sxs-lookup"><span data-stu-id="27dcb-212">This rule also applies for making critical changes tooan account or action</span></span></p><p><span data-ttu-id="27dcb-213">Esto también significa que la adaptación Hola de autenticación tiene toobe implementa de tal forma que aplicación hello correctamente exige autorización contextual así como toonot permiten manipulación no autorizada por medio de en el ejemplo, la manipulación de parámetro</span><span class="sxs-lookup"><span data-stu-id="27dcb-213">This also means that hello adaptation of authentication has toobe implemented in such a manner that hello application correctly enforces context-sensitive authorization so as toonot allow unauthorized manipulation by means of in example, parameter tampering</span></span></p>|

## <span data-ttu-id="27dcb-214"><a id="admin-interface-lockdown"></a>Asegurarse de que las interfaces administrativas estén correctamente bloqueadas</span><span class="sxs-lookup"><span data-stu-id="27dcb-214"><a id="admin-interface-lockdown"></a>Ensure that administrative interfaces are appropriately locked down</span></span>

| <span data-ttu-id="27dcb-215">Título</span><span class="sxs-lookup"><span data-stu-id="27dcb-215">Title</span></span>                   | <span data-ttu-id="27dcb-216">Detalles</span><span class="sxs-lookup"><span data-stu-id="27dcb-216">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="27dcb-217">**Componente**</span><span class="sxs-lookup"><span data-stu-id="27dcb-217">**Component**</span></span>               | <span data-ttu-id="27dcb-218">Aplicación web</span><span class="sxs-lookup"><span data-stu-id="27dcb-218">Web Application</span></span> | 
| <span data-ttu-id="27dcb-219">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="27dcb-219">**SDL Phase**</span></span>               | <span data-ttu-id="27dcb-220">Compilación</span><span class="sxs-lookup"><span data-stu-id="27dcb-220">Build</span></span> |  
| <span data-ttu-id="27dcb-221">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="27dcb-221">**Applicable Technologies**</span></span> | <span data-ttu-id="27dcb-222">Genérico</span><span class="sxs-lookup"><span data-stu-id="27dcb-222">Generic</span></span> |
| <span data-ttu-id="27dcb-223">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-223">**Attributes**</span></span>              | <span data-ttu-id="27dcb-224">N/D</span><span class="sxs-lookup"><span data-stu-id="27dcb-224">N/A</span></span>  |
| <span data-ttu-id="27dcb-225">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="27dcb-225">**References**</span></span>              | <span data-ttu-id="27dcb-226">N/D</span><span class="sxs-lookup"><span data-stu-id="27dcb-226">N/A</span></span>  |
| <span data-ttu-id="27dcb-227">Detalles</span><span class="sxs-lookup"><span data-stu-id="27dcb-227">Details</span></span> | <span data-ttu-id="27dcb-228">Hola primera solución es toogrant acceso únicamente a partir de un determinado origen IP intervalo toohello interfaz administrativa.</span><span class="sxs-lookup"><span data-stu-id="27dcb-228">hello first solution is toogrant access only from a certain source IP range toohello administrative interface.</span></span> <span data-ttu-id="27dcb-229">Si esta solución no es posible que siempre es recomendable tooenforce una autenticación superior o adaptable para iniciar sesión en la interfaz administrativa de Hola</span><span class="sxs-lookup"><span data-stu-id="27dcb-229">If that solution would not be possible than it is always recommended tooenforce a step-up or adaptive authentication for logging in into hello administrative interface</span></span> |

## <span data-ttu-id="27dcb-230"><a id="forgot-pword-fxn"></a>Implementación de funcionalidades de contraseña olvidada de forma segura</span><span class="sxs-lookup"><span data-stu-id="27dcb-230"><a id="forgot-pword-fxn"></a>Implement forgot password functionalities securely</span></span>

| <span data-ttu-id="27dcb-231">Título</span><span class="sxs-lookup"><span data-stu-id="27dcb-231">Title</span></span>                   | <span data-ttu-id="27dcb-232">Detalles</span><span class="sxs-lookup"><span data-stu-id="27dcb-232">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="27dcb-233">**Componente**</span><span class="sxs-lookup"><span data-stu-id="27dcb-233">**Component**</span></span>               | <span data-ttu-id="27dcb-234">Aplicación web</span><span class="sxs-lookup"><span data-stu-id="27dcb-234">Web Application</span></span> | 
| <span data-ttu-id="27dcb-235">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="27dcb-235">**SDL Phase**</span></span>               | <span data-ttu-id="27dcb-236">Compilación</span><span class="sxs-lookup"><span data-stu-id="27dcb-236">Build</span></span> |  
| <span data-ttu-id="27dcb-237">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="27dcb-237">**Applicable Technologies**</span></span> | <span data-ttu-id="27dcb-238">Genérico</span><span class="sxs-lookup"><span data-stu-id="27dcb-238">Generic</span></span> |
| <span data-ttu-id="27dcb-239">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-239">**Attributes**</span></span>              | <span data-ttu-id="27dcb-240">N/D</span><span class="sxs-lookup"><span data-stu-id="27dcb-240">N/A</span></span>  |
| <span data-ttu-id="27dcb-241">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="27dcb-241">**References**</span></span>              | <span data-ttu-id="27dcb-242">N/D</span><span class="sxs-lookup"><span data-stu-id="27dcb-242">N/A</span></span>  |
| <span data-ttu-id="27dcb-243">Detalles</span><span class="sxs-lookup"><span data-stu-id="27dcb-243">Details</span></span> | <p><span data-ttu-id="27dcb-244">Hola lo primero es tooverify que olvidó la contraseña y otras rutas de acceso de recuperación envían un vínculo incluido una activación de tiempo limitado símbolo (token) en lugar de hello propia contraseña.</span><span class="sxs-lookup"><span data-stu-id="27dcb-244">hello first thing is tooverify that forgot password and other recovery paths send a link including a time-limited activation token rather than hello password itself.</span></span> <span data-ttu-id="27dcb-245">Autenticación adicional basada en tokens de software (por ejemplo, aplicaciones móviles nativas, símbolo (token) de SMS, etc.) puede ser necesaria también antes vínculo Hola se envía a través.</span><span class="sxs-lookup"><span data-stu-id="27dcb-245">Additional authentication based on soft-tokens (e.g. SMS token, native mobile applications, etc.) can be required as well before hello link is sent over.</span></span> <span data-ttu-id="27dcb-246">En segundo lugar, no debe bloquear cuenta de usuarios de hello al proceso de Hola de obtener una nueva contraseña está en curso.</span><span class="sxs-lookup"><span data-stu-id="27dcb-246">Second, you should not lock out hello users account whilst hello process of getting a new password is in progress.</span></span></p><p><span data-ttu-id="27dcb-247">Esto podría provocar tooa denegación de servicio cada vez que un atacante decide toointentionally de bloqueo a los usuarios de hello un ataque automatizado.</span><span class="sxs-lookup"><span data-stu-id="27dcb-247">This could lead tooa Denial of service attack whenever an attacker decides toointentionally lock out hello users with an automated attack.</span></span> <span data-ttu-id="27dcb-248">En tercer lugar, cada vez que se estableció la nueva solicitud de contraseña de hello en curso, deben generalizarse con mensajes de bienvenida que se muestra en la enumeración de orden tooprevent nombre de usuario.</span><span class="sxs-lookup"><span data-stu-id="27dcb-248">Third, whenever hello new password request was set in progress, hello message you display should be generalized in order tooprevent username enumeration.</span></span> <span data-ttu-id="27dcb-249">En cuarto lugar, siempre que no Hola uso de las contraseñas antiguas e implemente una directiva de contraseña segura.</span><span class="sxs-lookup"><span data-stu-id="27dcb-249">Fourth, always disallow hello use of old passwords and implement a strong password policy.</span></span></p> |

## <span data-ttu-id="27dcb-250"><a id="pword-account-policy"></a>Asegurarse de que se implementen directivas de cuenta y contraseña</span><span class="sxs-lookup"><span data-stu-id="27dcb-250"><a id="pword-account-policy"></a>Ensure that password and account policy are implemented</span></span>

| <span data-ttu-id="27dcb-251">Título</span><span class="sxs-lookup"><span data-stu-id="27dcb-251">Title</span></span>                   | <span data-ttu-id="27dcb-252">Detalles</span><span class="sxs-lookup"><span data-stu-id="27dcb-252">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="27dcb-253">**Componente**</span><span class="sxs-lookup"><span data-stu-id="27dcb-253">**Component**</span></span>               | <span data-ttu-id="27dcb-254">Aplicación web</span><span class="sxs-lookup"><span data-stu-id="27dcb-254">Web Application</span></span> | 
| <span data-ttu-id="27dcb-255">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="27dcb-255">**SDL Phase**</span></span>               | <span data-ttu-id="27dcb-256">Compilación</span><span class="sxs-lookup"><span data-stu-id="27dcb-256">Build</span></span> |  
| <span data-ttu-id="27dcb-257">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="27dcb-257">**Applicable Technologies**</span></span> | <span data-ttu-id="27dcb-258">Genérico</span><span class="sxs-lookup"><span data-stu-id="27dcb-258">Generic</span></span> |
| <span data-ttu-id="27dcb-259">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-259">**Attributes**</span></span>              | <span data-ttu-id="27dcb-260">N/D</span><span class="sxs-lookup"><span data-stu-id="27dcb-260">N/A</span></span>  |
| <span data-ttu-id="27dcb-261">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="27dcb-261">**References**</span></span>              | <span data-ttu-id="27dcb-262">N/D</span><span class="sxs-lookup"><span data-stu-id="27dcb-262">N/A</span></span>  |
| <span data-ttu-id="27dcb-263">Detalles</span><span class="sxs-lookup"><span data-stu-id="27dcb-263">Details</span></span> | <p><span data-ttu-id="27dcb-264">Se deben implementar directivas de cuenta y contraseña en conformidad con la política de la organización y los procedimientos recomendados.</span><span class="sxs-lookup"><span data-stu-id="27dcb-264">Password and account policy in compliance with organizational policy and best practices should be implemented.</span></span></p><p><span data-ttu-id="27dcb-265">toodefend con fuerza bruta y de diccionario basado adivinen: directiva de contraseña segura debe estar implementado tooensure que los usuarios creen una contraseña compleja (por ejemplo, longitud mínima de 12 caracteres, los caracteres especiales y alfanuméricos).</span><span class="sxs-lookup"><span data-stu-id="27dcb-265">toodefend against brute-force and dictionary based guessing: Strong password policy must be implemented tooensure that users create complex password (e.g., 12 characters minimum length, alphanumeric and special characters).</span></span></p><p><span data-ttu-id="27dcb-266">Directivas de bloqueo de cuenta pueden implementarse en hello siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="27dcb-266">Account lockout policies may be implemented in hello following manner:</span></span></p><ul><li><span data-ttu-id="27dcb-267">**Bloqueo temporal**: puede ser una buena opción para proteger a los usuarios contra ataques por fuerza bruta.</span><span class="sxs-lookup"><span data-stu-id="27dcb-267">**Soft lock-out:** This can be a good option for protecting your users against brute force attacks.</span></span> <span data-ttu-id="27dcb-268">Por ejemplo, cada vez que el usuario Hola entra en una aplicación de hello tres veces una contraseña incorrecta podría bloquear cuenta de hello durante un minuto en orden tooslow proceso Hola de su contraseña realizar menos rentables para hello atacante tooproceed de fuerza bruta.</span><span class="sxs-lookup"><span data-stu-id="27dcb-268">For example, whenever hello user enters a wrong password three times hello application could lock down hello account for a minute in order tooslow down hello process of brute forcing his password making it less profitable for hello attacker tooproceed.</span></span> <span data-ttu-id="27dcb-269">Si se encontraba tooimplement disco duro contramedidas de espera de bloqueo en este ejemplo lograría un "Dos" by permanentemente el bloqueo de cuentas.</span><span class="sxs-lookup"><span data-stu-id="27dcb-269">If u were tooimplement hard lock-out countermeasures for this example you would achieve a "Dos" by permanently locking out accounts.</span></span> <span data-ttu-id="27dcb-270">Como alternativa, puede generar una OTP (contraseña temporal) y enviarlo fuera de banda aplicación (a través de correo electrónico, sms, etc.) toohello usuario.</span><span class="sxs-lookup"><span data-stu-id="27dcb-270">Alternatively, application may generate an OTP (One Time Password) and send it out-of-band (through email, sms etc.) toohello user.</span></span> <span data-ttu-id="27dcb-271">Otro enfoque podrá tooimplement CAPTCHA cuando se alcanza un número de umbral de intentos fallidos.</span><span class="sxs-lookup"><span data-stu-id="27dcb-271">Another approach may be tooimplement CAPTCHA after a threshold number of failed attempts is reached.</span></span></li><li><span data-ttu-id="27dcb-272">**Disco duro de espera de bloqueo:** este tipo de bloqueo se debe aplicar cada vez que detecta un usuario para atacar la aplicación y le contador por medio de bloquear permanentemente su cuenta hasta que un equipo de respuesta tenía tiempo toodo su análisis forense.</span><span class="sxs-lookup"><span data-stu-id="27dcb-272">**Hard lock-out:** This type of lockout should be applied whenever you detect a user attacking your application and counter him by means of permanently locking out his account until a response team had time toodo their forensics.</span></span> <span data-ttu-id="27dcb-273">Tras este proceso puede decidir su cuenta de usuario nuevo de toogive Hola o realizar más acciones legales frente a él.</span><span class="sxs-lookup"><span data-stu-id="27dcb-273">After this process you can decide toogive hello user back his account or take further legal actions against him.</span></span> <span data-ttu-id="27dcb-274">Este tipo de enfoque impide que el atacante de hello penetración aún más la aplicación e infraestructura.</span><span class="sxs-lookup"><span data-stu-id="27dcb-274">This type of approach prevents hello attacker from further penetrating your application and infrastructure.</span></span></li></ul><p><span data-ttu-id="27dcb-275">toodefend frente a ataques en de forma predeterminada y las cuentas de predicción, compruebe que todas las claves y contraseñas son reemplazables y se genera o reemplazadas después de la hora de instalación.</span><span class="sxs-lookup"><span data-stu-id="27dcb-275">toodefend against attacks on default and predictable accounts, verify that all keys and passwords are replaceable, and are generated or replaced after installation time.</span></span></p><p><span data-ttu-id="27dcb-276">Si la aplicación hello tiene tooauto-generar contraseñas, asegúrese de que las contraseñas de hello generado son aleatorias y que tienen alta entropía.</span><span class="sxs-lookup"><span data-stu-id="27dcb-276">If hello application has tooauto-generate passwords, ensure that hello generated passwords are random and have high entropy.</span></span></p>|

## <span data-ttu-id="27dcb-277"><a id="controls-username-enum"></a>Implemente controles tooprevent nombre de usuario (enumeración)</span><span class="sxs-lookup"><span data-stu-id="27dcb-277"><a id="controls-username-enum"></a>Implement controls tooprevent username enumeration</span></span>

| <span data-ttu-id="27dcb-278">Título</span><span class="sxs-lookup"><span data-stu-id="27dcb-278">Title</span></span>                   | <span data-ttu-id="27dcb-279">Detalles</span><span class="sxs-lookup"><span data-stu-id="27dcb-279">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="27dcb-280">**Componente**</span><span class="sxs-lookup"><span data-stu-id="27dcb-280">**Component**</span></span>               | <span data-ttu-id="27dcb-281">Aplicación web</span><span class="sxs-lookup"><span data-stu-id="27dcb-281">Web Application</span></span> | 
| <span data-ttu-id="27dcb-282">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="27dcb-282">**SDL Phase**</span></span>               | <span data-ttu-id="27dcb-283">Compilación</span><span class="sxs-lookup"><span data-stu-id="27dcb-283">Build</span></span> |  
| <span data-ttu-id="27dcb-284">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="27dcb-284">**Applicable Technologies**</span></span> | <span data-ttu-id="27dcb-285">Genérico</span><span class="sxs-lookup"><span data-stu-id="27dcb-285">Generic</span></span> |
| <span data-ttu-id="27dcb-286">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-286">**Attributes**</span></span>              | <span data-ttu-id="27dcb-287">N/D</span><span class="sxs-lookup"><span data-stu-id="27dcb-287">N/A</span></span>  |
| <span data-ttu-id="27dcb-288">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="27dcb-288">**References**</span></span>              | <span data-ttu-id="27dcb-289">N/D</span><span class="sxs-lookup"><span data-stu-id="27dcb-289">N/A</span></span>  |
| <span data-ttu-id="27dcb-290">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-290">**Steps**</span></span> | <span data-ttu-id="27dcb-291">Todos los mensajes de error deben estar generalizados de enumeración de orden tooprevent nombre de usuario.</span><span class="sxs-lookup"><span data-stu-id="27dcb-291">All error messages should be generalized in order tooprevent username enumeration.</span></span> <span data-ttu-id="27dcb-292">También, no podrá evitar a veces la pérdida de información en funcionalidades tales como una página de registro.</span><span class="sxs-lookup"><span data-stu-id="27dcb-292">Also sometimes you cannot avoid information leaking in functionalities such as a registration page.</span></span> <span data-ttu-id="27dcb-293">Aquí deberá métodos de limitación de velocidad de toouse como CAPTCHA tooprevent un ataque automatizado por un atacante.</span><span class="sxs-lookup"><span data-stu-id="27dcb-293">Here you need toouse rate-limiting methods like CAPTCHA tooprevent an automated attack by an attacker.</span></span> |

## <span data-ttu-id="27dcb-294"><a id="win-authn-sql"></a>Cuando sea posible, utilice la autenticación de Windows para conectar tooSQL Server</span><span class="sxs-lookup"><span data-stu-id="27dcb-294"><a id="win-authn-sql"></a>When possible, use Windows Authentication for connecting tooSQL Server</span></span>

| <span data-ttu-id="27dcb-295">Título</span><span class="sxs-lookup"><span data-stu-id="27dcb-295">Title</span></span>                   | <span data-ttu-id="27dcb-296">Detalles</span><span class="sxs-lookup"><span data-stu-id="27dcb-296">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="27dcb-297">**Componente**</span><span class="sxs-lookup"><span data-stu-id="27dcb-297">**Component**</span></span>               | <span data-ttu-id="27dcb-298">Base de datos</span><span class="sxs-lookup"><span data-stu-id="27dcb-298">Database</span></span> | 
| <span data-ttu-id="27dcb-299">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="27dcb-299">**SDL Phase**</span></span>               | <span data-ttu-id="27dcb-300">Compilación</span><span class="sxs-lookup"><span data-stu-id="27dcb-300">Build</span></span> |  
| <span data-ttu-id="27dcb-301">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="27dcb-301">**Applicable Technologies**</span></span> | <span data-ttu-id="27dcb-302">OnPrem</span><span class="sxs-lookup"><span data-stu-id="27dcb-302">OnPrem</span></span> |
| <span data-ttu-id="27dcb-303">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-303">**Attributes**</span></span>              | <span data-ttu-id="27dcb-304">Versión de SQL: todas</span><span class="sxs-lookup"><span data-stu-id="27dcb-304">SQL Version - All</span></span> |
| <span data-ttu-id="27dcb-305">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="27dcb-305">**References**</span></span>              | [<span data-ttu-id="27dcb-306">SQL Server: elegir un modo de autenticación</span><span class="sxs-lookup"><span data-stu-id="27dcb-306">SQL Server - Choose an Authentication Mode</span></span>](https://msdn.microsoft.com/library/ms144284.aspx) |
| <span data-ttu-id="27dcb-307">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-307">**Steps**</span></span> | <span data-ttu-id="27dcb-308">Autenticación de Windows usa el protocolo de seguridad de Kerberos, proporciona la aplicación de directivas de contraseña con la validación de toocomplexity de tener en cuenta para las contraseñas seguras, proporciona compatibilidad para el bloqueo de cuentas y admite la expiración de contraseña.</span><span class="sxs-lookup"><span data-stu-id="27dcb-308">Windows Authentication uses Kerberos security protocol, provides password policy enforcement with regard toocomplexity validation for strong passwords, provides support for account lockout, and supports password expiration.</span></span>|

## <span data-ttu-id="27dcb-309"><a id="aad-authn-sql"></a>Cuando sea posible, utilice autenticación de Azure Active Directory para conectar tooSQL base de datos</span><span class="sxs-lookup"><span data-stu-id="27dcb-309"><a id="aad-authn-sql"></a>When possible use Azure Active Directory Authentication for Connecting tooSQL Database</span></span>

| <span data-ttu-id="27dcb-310">Título</span><span class="sxs-lookup"><span data-stu-id="27dcb-310">Title</span></span>                   | <span data-ttu-id="27dcb-311">Detalles</span><span class="sxs-lookup"><span data-stu-id="27dcb-311">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="27dcb-312">**Componente**</span><span class="sxs-lookup"><span data-stu-id="27dcb-312">**Component**</span></span>               | <span data-ttu-id="27dcb-313">Base de datos</span><span class="sxs-lookup"><span data-stu-id="27dcb-313">Database</span></span> | 
| <span data-ttu-id="27dcb-314">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="27dcb-314">**SDL Phase**</span></span>               | <span data-ttu-id="27dcb-315">Compilación</span><span class="sxs-lookup"><span data-stu-id="27dcb-315">Build</span></span> |  
| <span data-ttu-id="27dcb-316">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="27dcb-316">**Applicable Technologies**</span></span> | <span data-ttu-id="27dcb-317">SQL Azure</span><span class="sxs-lookup"><span data-stu-id="27dcb-317">SQL Azure</span></span> |
| <span data-ttu-id="27dcb-318">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-318">**Attributes**</span></span>              | <span data-ttu-id="27dcb-319">Versión de SQL: V12</span><span class="sxs-lookup"><span data-stu-id="27dcb-319">SQL Version - V12</span></span> |
| <span data-ttu-id="27dcb-320">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="27dcb-320">**References**</span></span>              | [<span data-ttu-id="27dcb-321">Conexión tooSQL base de datos mediante Active Directory autenticación de Azure</span><span class="sxs-lookup"><span data-stu-id="27dcb-321">Connecting tooSQL Database By Using Azure Active Directory Authentication</span></span>](https://azure.microsoft.com/documentation/articles/sql-database-aad-authentication/) |
| <span data-ttu-id="27dcb-322">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-322">**Steps**</span></span> | <span data-ttu-id="27dcb-323">**Versión mínima:** V12 de base de datos de SQL Azure requiere tooallow base de datos de SQL Azure toouse autenticación de AAD contra Hola Microsoft Directory</span><span class="sxs-lookup"><span data-stu-id="27dcb-323">**Minimum version:** Azure SQL Database V12 required tooallow Azure SQL Database toouse AAD Authentication against hello Microsoft Directory</span></span> |

## <span data-ttu-id="27dcb-324"><a id="authn-account-pword"></a>Cuando se use el modo de autenticación de SQL, asegurarse de que se apliquen directivas de cuenta y contraseña en SQL Server</span><span class="sxs-lookup"><span data-stu-id="27dcb-324"><a id="authn-account-pword"></a>When SQL authentication mode is used, ensure that account and password policy are enforced on SQL server</span></span>

| <span data-ttu-id="27dcb-325">Título</span><span class="sxs-lookup"><span data-stu-id="27dcb-325">Title</span></span>                   | <span data-ttu-id="27dcb-326">Detalles</span><span class="sxs-lookup"><span data-stu-id="27dcb-326">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="27dcb-327">**Componente**</span><span class="sxs-lookup"><span data-stu-id="27dcb-327">**Component**</span></span>               | <span data-ttu-id="27dcb-328">Base de datos</span><span class="sxs-lookup"><span data-stu-id="27dcb-328">Database</span></span> | 
| <span data-ttu-id="27dcb-329">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="27dcb-329">**SDL Phase**</span></span>               | <span data-ttu-id="27dcb-330">Compilación</span><span class="sxs-lookup"><span data-stu-id="27dcb-330">Build</span></span> |  
| <span data-ttu-id="27dcb-331">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="27dcb-331">**Applicable Technologies**</span></span> | <span data-ttu-id="27dcb-332">Genérico</span><span class="sxs-lookup"><span data-stu-id="27dcb-332">Generic</span></span> |
| <span data-ttu-id="27dcb-333">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-333">**Attributes**</span></span>              | <span data-ttu-id="27dcb-334">N/D</span><span class="sxs-lookup"><span data-stu-id="27dcb-334">N/A</span></span>  |
| <span data-ttu-id="27dcb-335">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="27dcb-335">**References**</span></span>              | <span data-ttu-id="27dcb-336">[Directiva de contraseñas de SQL Server](https://technet.microsoft.com/library/ms161959(v=sql.110).aspx)</span><span class="sxs-lookup"><span data-stu-id="27dcb-336">[SQL Server password policy](https://technet.microsoft.com/library/ms161959(v=sql.110).aspx)</span></span> |
| <span data-ttu-id="27dcb-337">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-337">**Steps**</span></span> | <span data-ttu-id="27dcb-338">Cuando se usa la autenticación de SQL Server, se crean inicios de sesión en SQL Server que no se basan en cuentas de usuario de Windows.</span><span class="sxs-lookup"><span data-stu-id="27dcb-338">When using SQL Server Authentication, logins are created in SQL Server that are not based on Windows user accounts.</span></span> <span data-ttu-id="27dcb-339">Nombre de usuario de Hola y la contraseña de Hola se crean mediante el uso de SQL Server y se almacenan en SQL Server.</span><span class="sxs-lookup"><span data-stu-id="27dcb-339">Both hello user name and hello password are created by using SQL Server and stored in SQL Server.</span></span> <span data-ttu-id="27dcb-340">SQL Server puede emplear mecanismos de directiva de contraseñas de Windows.</span><span class="sxs-lookup"><span data-stu-id="27dcb-340">SQL Server can use Windows password policy mechanisms.</span></span> <span data-ttu-id="27dcb-341">Puede aplicar Hola mismas directivas de complejidad y expiración que se usan en toopasswords de Windows que se utiliza dentro de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="27dcb-341">It can apply hello same complexity and expiration policies used in Windows toopasswords used inside SQL Server.</span></span> |

## <span data-ttu-id="27dcb-342"><a id="autn-contained-db"></a>No usar la autenticación SQL en bases de datos independientes</span><span class="sxs-lookup"><span data-stu-id="27dcb-342"><a id="autn-contained-db"></a>Do not use SQL Authentication in contained databases</span></span>

| <span data-ttu-id="27dcb-343">Título</span><span class="sxs-lookup"><span data-stu-id="27dcb-343">Title</span></span>                   | <span data-ttu-id="27dcb-344">Detalles</span><span class="sxs-lookup"><span data-stu-id="27dcb-344">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="27dcb-345">**Componente**</span><span class="sxs-lookup"><span data-stu-id="27dcb-345">**Component**</span></span>               | <span data-ttu-id="27dcb-346">Base de datos</span><span class="sxs-lookup"><span data-stu-id="27dcb-346">Database</span></span> | 
| <span data-ttu-id="27dcb-347">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="27dcb-347">**SDL Phase**</span></span>               | <span data-ttu-id="27dcb-348">Compilación</span><span class="sxs-lookup"><span data-stu-id="27dcb-348">Build</span></span> |  
| <span data-ttu-id="27dcb-349">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="27dcb-349">**Applicable Technologies**</span></span> | <span data-ttu-id="27dcb-350">OnPrem, SQL Azure</span><span class="sxs-lookup"><span data-stu-id="27dcb-350">OnPrem, SQL Azure</span></span> |
| <span data-ttu-id="27dcb-351">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-351">**Attributes**</span></span>              | <span data-ttu-id="27dcb-352">Versión de SQL: MSSQL2012, Versión de SQL: V12</span><span class="sxs-lookup"><span data-stu-id="27dcb-352">SQL Version - MSSQL2012, SQL Version - V12</span></span> |
| <span data-ttu-id="27dcb-353">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="27dcb-353">**References**</span></span>              | [<span data-ttu-id="27dcb-354">Prácticas recomendadas de seguridad con bases de datos independientes</span><span class="sxs-lookup"><span data-stu-id="27dcb-354">Security Best Practices with Contained Databases</span></span>](http://msdn.microsoft.com/library/ff929055.aspx) |
| <span data-ttu-id="27dcb-355">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-355">**Steps**</span></span> | <span data-ttu-id="27dcb-356">ausencia de Hola de una directiva de contraseña obligatoria puede aumentar la probabilidad de Hola de una credencial no segura que se va a establecer en una base de datos independiente.</span><span class="sxs-lookup"><span data-stu-id="27dcb-356">hello absence of an enforced password policy may increase hello likelihood of a weak credential being established in a contained database.</span></span> <span data-ttu-id="27dcb-357">Aproveche la autenticación de Windows.</span><span class="sxs-lookup"><span data-stu-id="27dcb-357">Leverage Windows Authentication.</span></span> |

## <span data-ttu-id="27dcb-358"><a id="authn-sas-tokens"></a>Uso de las credenciales de autenticación por dispositivo mediante tokens SaS</span><span class="sxs-lookup"><span data-stu-id="27dcb-358"><a id="authn-sas-tokens"></a>Use per device authentication credentials using SaS tokens</span></span>

| <span data-ttu-id="27dcb-359">Título</span><span class="sxs-lookup"><span data-stu-id="27dcb-359">Title</span></span>                   | <span data-ttu-id="27dcb-360">Detalles</span><span class="sxs-lookup"><span data-stu-id="27dcb-360">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="27dcb-361">**Componente**</span><span class="sxs-lookup"><span data-stu-id="27dcb-361">**Component**</span></span>               | <span data-ttu-id="27dcb-362">Centro de eventos de Azure</span><span class="sxs-lookup"><span data-stu-id="27dcb-362">Azure Event Hub</span></span> | 
| <span data-ttu-id="27dcb-363">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="27dcb-363">**SDL Phase**</span></span>               | <span data-ttu-id="27dcb-364">Compilación</span><span class="sxs-lookup"><span data-stu-id="27dcb-364">Build</span></span> |  
| <span data-ttu-id="27dcb-365">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="27dcb-365">**Applicable Technologies**</span></span> | <span data-ttu-id="27dcb-366">Genérico</span><span class="sxs-lookup"><span data-stu-id="27dcb-366">Generic</span></span> |
| <span data-ttu-id="27dcb-367">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-367">**Attributes**</span></span>              | <span data-ttu-id="27dcb-368">N/D</span><span class="sxs-lookup"><span data-stu-id="27dcb-368">N/A</span></span>  |
| <span data-ttu-id="27dcb-369">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="27dcb-369">**References**</span></span>              | [<span data-ttu-id="27dcb-370">Introducción al modelo de autenticación y seguridad de Event Hubs</span><span class="sxs-lookup"><span data-stu-id="27dcb-370">Event Hubs authentication and security model overview</span></span>](https://azure.microsoft.com/documentation/articles/event-hubs-authentication-and-security-model-overview/) |
| <span data-ttu-id="27dcb-371">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-371">**Steps**</span></span> | <p><span data-ttu-id="27dcb-372">modelo de seguridad de los centros de eventos de Hola se basa en una combinación de símbolos (tokens) de firma de acceso compartido (SAS) y publicadores de eventos.</span><span class="sxs-lookup"><span data-stu-id="27dcb-372">hello Event Hubs security model is based on a combination of Shared Access Signature (SAS) tokens and event publishers.</span></span> <span data-ttu-id="27dcb-373">nombre del publicador Hola representa Hola DeviceID que recibe el token de Hola.</span><span class="sxs-lookup"><span data-stu-id="27dcb-373">hello publisher name represents hello DeviceID that receives hello token.</span></span> <span data-ttu-id="27dcb-374">Esto contribuye a asociar los tokens de hello generados con dispositivos respectivos Hola.</span><span class="sxs-lookup"><span data-stu-id="27dcb-374">This would help associate hello tokens generated with hello respective devices.</span></span></p><p><span data-ttu-id="27dcb-375">Todos los mensajes se etiquetan con el originador en el lado del servicio, lo que permite la detección de los intentos de suplantación de origen en la carga.</span><span class="sxs-lookup"><span data-stu-id="27dcb-375">All messages are tagged with originator on service side allowing detection of in-payload origin spoofing attempts.</span></span> <span data-ttu-id="27dcb-376">Al autenticar a los dispositivos, generar un por publicador exclusivo de token tooa con ámbito de SaS de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="27dcb-376">When authenticating devices, generate a per device SaS token scoped tooa unique publisher.</span></span></p>|

## <span data-ttu-id="27dcb-377"><a id="multi-factor-azure-admin"></a>Habilitación de Azure Multi-Factor Authentication para administradores de Azure</span><span class="sxs-lookup"><span data-stu-id="27dcb-377"><a id="multi-factor-azure-admin"></a>Enable Azure Multi-Factor Authentication for Azure Administrators</span></span>

| <span data-ttu-id="27dcb-378">Título</span><span class="sxs-lookup"><span data-stu-id="27dcb-378">Title</span></span>                   | <span data-ttu-id="27dcb-379">Detalles</span><span class="sxs-lookup"><span data-stu-id="27dcb-379">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="27dcb-380">**Componente**</span><span class="sxs-lookup"><span data-stu-id="27dcb-380">**Component**</span></span>               | <span data-ttu-id="27dcb-381">Límites de confianza de Azure</span><span class="sxs-lookup"><span data-stu-id="27dcb-381">Azure Trust Boundary</span></span> | 
| <span data-ttu-id="27dcb-382">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="27dcb-382">**SDL Phase**</span></span>               | <span data-ttu-id="27dcb-383">Implementación</span><span class="sxs-lookup"><span data-stu-id="27dcb-383">Deployment</span></span> |  
| <span data-ttu-id="27dcb-384">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="27dcb-384">**Applicable Technologies**</span></span> | <span data-ttu-id="27dcb-385">Genérico</span><span class="sxs-lookup"><span data-stu-id="27dcb-385">Generic</span></span> |
| <span data-ttu-id="27dcb-386">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-386">**Attributes**</span></span>              | <span data-ttu-id="27dcb-387">N/D</span><span class="sxs-lookup"><span data-stu-id="27dcb-387">N/A</span></span>  |
| <span data-ttu-id="27dcb-388">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="27dcb-388">**References**</span></span>              | [<span data-ttu-id="27dcb-389">¿Qué es Azure Multi-Factor Authentication?</span><span class="sxs-lookup"><span data-stu-id="27dcb-389">What is Azure Multi-Factor Authentication?</span></span>](https://azure.microsoft.com/documentation/articles/multi-factor-authentication/) |
| <span data-ttu-id="27dcb-390">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-390">**Steps**</span></span> | <p><span data-ttu-id="27dcb-391">La autenticación multifactor (MFA) es un método de autenticación que requiere más de un método de comprobación y agrega una segunda capa crítica de inicios de sesión de seguridad toouser y las transacciones.</span><span class="sxs-lookup"><span data-stu-id="27dcb-391">Multi-factor authentication (MFA) is a method of authentication that requires more than one verification method and adds a critical second layer of security toouser sign-ins and transactions.</span></span> <span data-ttu-id="27dcb-392">Funciona solicitando dos o más de hello siguiendo métodos de comprobación:</span><span class="sxs-lookup"><span data-stu-id="27dcb-392">It works by requiring any two or more of hello following verification methods:</span></span></p><ul><li><span data-ttu-id="27dcb-393">Un elemento que conoce (normalmente una contraseña).</span><span class="sxs-lookup"><span data-stu-id="27dcb-393">Something you know (typically a password)</span></span></li><li><span data-ttu-id="27dcb-394">Un elemento del que dispone (un dispositivo de confianza que no se puede duplicar con facilidad, como un teléfono).</span><span class="sxs-lookup"><span data-stu-id="27dcb-394">Something you have (a trusted device that is not easily duplicated, like a phone)</span></span></li><li><span data-ttu-id="27dcb-395">Un elemento físico que le identifica (biométrica).</span><span class="sxs-lookup"><span data-stu-id="27dcb-395">Something you are (biometrics)</span></span></li><ul>|

## <span data-ttu-id="27dcb-396"><a id="anon-access-cluster"></a>Restringir el acceso anónimo tooService clúster Fabric</span><span class="sxs-lookup"><span data-stu-id="27dcb-396"><a id="anon-access-cluster"></a>Restrict anonymous access tooService Fabric Cluster</span></span>

| <span data-ttu-id="27dcb-397">Título</span><span class="sxs-lookup"><span data-stu-id="27dcb-397">Title</span></span>                   | <span data-ttu-id="27dcb-398">Detalles</span><span class="sxs-lookup"><span data-stu-id="27dcb-398">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="27dcb-399">**Componente**</span><span class="sxs-lookup"><span data-stu-id="27dcb-399">**Component**</span></span>               | <span data-ttu-id="27dcb-400">Límites de confianza de Service Fabric</span><span class="sxs-lookup"><span data-stu-id="27dcb-400">Service Fabric Trust Boundary</span></span> | 
| <span data-ttu-id="27dcb-401">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="27dcb-401">**SDL Phase**</span></span>               | <span data-ttu-id="27dcb-402">Implementación</span><span class="sxs-lookup"><span data-stu-id="27dcb-402">Deployment</span></span> |  
| <span data-ttu-id="27dcb-403">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="27dcb-403">**Applicable Technologies**</span></span> | <span data-ttu-id="27dcb-404">Genérico</span><span class="sxs-lookup"><span data-stu-id="27dcb-404">Generic</span></span> |
| <span data-ttu-id="27dcb-405">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-405">**Attributes**</span></span>              | <span data-ttu-id="27dcb-406">Entorno: Azure</span><span class="sxs-lookup"><span data-stu-id="27dcb-406">Environment - Azure</span></span>  |
| <span data-ttu-id="27dcb-407">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="27dcb-407">**References**</span></span>              | [<span data-ttu-id="27dcb-408">Escenarios de seguridad de los clústeres de Service Fabric</span><span class="sxs-lookup"><span data-stu-id="27dcb-408">Service Fabric cluster security scenarios</span></span>](https://azure.microsoft.com/documentation/articles/service-fabric-cluster-security) |
| <span data-ttu-id="27dcb-409">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-409">**Steps**</span></span> | <p><span data-ttu-id="27dcb-410">Clústeres siempre deben ser segura tooprevent no autorizado a los usuarios conecten clúster tooyour, especialmente cuando tiene las cargas de trabajo de producción en ejecución.</span><span class="sxs-lookup"><span data-stu-id="27dcb-410">Clusters should always be secured tooprevent unauthorized users from connecting tooyour cluster, especially when it has production workloads running on it.</span></span></p><p><span data-ttu-id="27dcb-411">Al crear un clúster de service fabric, asegúrese de que el modo de seguridad Hola está establecido demasiado "seguro" y configurar certificado de servidor X.509 Hola necesario.</span><span class="sxs-lookup"><span data-stu-id="27dcb-411">While creating a service fabric cluster, ensure that hello security mode is set too"secure" and configure hello required X.509 server certificate.</span></span> <span data-ttu-id="27dcb-412">Creación de un clúster de "inseguro" permitirá que cualquier tooit tooconnect de usuario anónimo si expone toohello de puntos de conexión de administración pública de Internet.</span><span class="sxs-lookup"><span data-stu-id="27dcb-412">Creating an "insecure" cluster will allow any anonymous user tooconnect tooit if it exposes management endpoints toohello public Internet.</span></span></p>|

## <span data-ttu-id="27dcb-413"><a id="fabric-cn-nn"></a>Asegurarse de que el certificado de cliente a nodo de Service Fabric sea diferente del certificado de nodo a nodo</span><span class="sxs-lookup"><span data-stu-id="27dcb-413"><a id="fabric-cn-nn"></a>Ensure that Service Fabric client-to-node certificate is different from node-to-node certificate</span></span>

| <span data-ttu-id="27dcb-414">Título</span><span class="sxs-lookup"><span data-stu-id="27dcb-414">Title</span></span>                   | <span data-ttu-id="27dcb-415">Detalles</span><span class="sxs-lookup"><span data-stu-id="27dcb-415">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="27dcb-416">**Componente**</span><span class="sxs-lookup"><span data-stu-id="27dcb-416">**Component**</span></span>               | <span data-ttu-id="27dcb-417">Límites de confianza de Service Fabric</span><span class="sxs-lookup"><span data-stu-id="27dcb-417">Service Fabric Trust Boundary</span></span> | 
| <span data-ttu-id="27dcb-418">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="27dcb-418">**SDL Phase**</span></span>               | <span data-ttu-id="27dcb-419">Implementación</span><span class="sxs-lookup"><span data-stu-id="27dcb-419">Deployment</span></span> |  
| <span data-ttu-id="27dcb-420">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="27dcb-420">**Applicable Technologies**</span></span> | <span data-ttu-id="27dcb-421">Genérico</span><span class="sxs-lookup"><span data-stu-id="27dcb-421">Generic</span></span> |
| <span data-ttu-id="27dcb-422">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-422">**Attributes**</span></span>              | <span data-ttu-id="27dcb-423">Entorno: Azure, Entorno: independiente</span><span class="sxs-lookup"><span data-stu-id="27dcb-423">Environment - Azure, Environment - Stand alone</span></span> |
| <span data-ttu-id="27dcb-424">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="27dcb-424">**References**</span></span>              | <span data-ttu-id="27dcb-425">[Seguridad de certificados de cliente para el nodo de Service Fabric](https://azure.microsoft.com/documentation/articles/service-fabric-cluster-security/#_client-to-node-certificate-security), [conectar tooa clúster segura mediante el certificado de cliente](https://azure.microsoft.com/documentation/articles/service-fabric-connect-to-secure-cluster/)</span><span class="sxs-lookup"><span data-stu-id="27dcb-425">[Service Fabric Client-to-node certificate security](https://azure.microsoft.com/documentation/articles/service-fabric-cluster-security/#_client-to-node-certificate-security), [Connect tooa secure cluster using client certificate](https://azure.microsoft.com/documentation/articles/service-fabric-connect-to-secure-cluster/)</span></span> |
| <span data-ttu-id="27dcb-426">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-426">**Steps**</span></span> | <p><span data-ttu-id="27dcb-427">Seguridad de los certificados de cliente para el nodo se configura al crear el clúster de hello ya sea a través del portal de Azure hello, plantillas de administrador de recursos o una plantilla JSON independiente mediante la especificación de un certificado de cliente de administración o un certificado de cliente.</span><span class="sxs-lookup"><span data-stu-id="27dcb-427">Client-to-node certificate security is configured while creating hello cluster either through hello Azure portal, Resource Manager templates or a standalone JSON template by specifying an admin client certificate and/or a user client certificate.</span></span></p><p><span data-ttu-id="27dcb-428">Hola Administrador cliente y al usuario los certificados de cliente que especifique deben ser diferentes de certificados principales y secundarias de Hola que especifique para la seguridad de nodo a nodo.</span><span class="sxs-lookup"><span data-stu-id="27dcb-428">hello admin client and user client certificates you specify should be different than hello primary and secondary certificates you specify for Node-to-node security.</span></span></p>|

## <span data-ttu-id="27dcb-429"><a id="aad-client-fabric"></a>Usar clústeres de los clientes de AAD tooauthenticate tooservice tejido</span><span class="sxs-lookup"><span data-stu-id="27dcb-429"><a id="aad-client-fabric"></a>Use AAD tooauthenticate clients tooservice fabric clusters</span></span>

| <span data-ttu-id="27dcb-430">Título</span><span class="sxs-lookup"><span data-stu-id="27dcb-430">Title</span></span>                   | <span data-ttu-id="27dcb-431">Detalles</span><span class="sxs-lookup"><span data-stu-id="27dcb-431">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="27dcb-432">**Componente**</span><span class="sxs-lookup"><span data-stu-id="27dcb-432">**Component**</span></span>               | <span data-ttu-id="27dcb-433">Límites de confianza de Service Fabric</span><span class="sxs-lookup"><span data-stu-id="27dcb-433">Service Fabric Trust Boundary</span></span> | 
| <span data-ttu-id="27dcb-434">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="27dcb-434">**SDL Phase**</span></span>               | <span data-ttu-id="27dcb-435">Implementación</span><span class="sxs-lookup"><span data-stu-id="27dcb-435">Deployment</span></span> |  
| <span data-ttu-id="27dcb-436">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="27dcb-436">**Applicable Technologies**</span></span> | <span data-ttu-id="27dcb-437">Genérico</span><span class="sxs-lookup"><span data-stu-id="27dcb-437">Generic</span></span> |
| <span data-ttu-id="27dcb-438">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-438">**Attributes**</span></span>              | <span data-ttu-id="27dcb-439">Entorno: Azure</span><span class="sxs-lookup"><span data-stu-id="27dcb-439">Environment - Azure</span></span> |
| <span data-ttu-id="27dcb-440">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="27dcb-440">**References**</span></span>              | [<span data-ttu-id="27dcb-441">Escenarios de seguridad de los clústeres de Service Fabric</span><span class="sxs-lookup"><span data-stu-id="27dcb-441">Cluster security scenarios - Security Recommendations</span></span>](https://azure.microsoft.com/documentation/articles/service-fabric-cluster-security/#security-recommendations) |
| <span data-ttu-id="27dcb-442">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-442">**Steps**</span></span> | <span data-ttu-id="27dcb-443">Clústeres que se ejecutan en Azure también pueden proteger el acceso toohello puntos de conexión de administración mediante Azure Active Directory (AAD), además de los certificados de cliente.</span><span class="sxs-lookup"><span data-stu-id="27dcb-443">Clusters running on Azure can also secure access toohello management endpoints using Azure Active Directory (AAD), apart from client certificates.</span></span> <span data-ttu-id="27dcb-444">Para los clústeres de Azure, se recomienda usar los clientes tooauthenticate de seguridad AAD y certificados para la seguridad de nodo a nodo.</span><span class="sxs-lookup"><span data-stu-id="27dcb-444">For Azure clusters, it is recommended that you use AAD security tooauthenticate clients and certificates for node-to-node security.</span></span>|

## <span data-ttu-id="27dcb-445"><a id="fabric-cert-ca"></a>Asegurarse de que los certificados de Service Fabric se obtienen de una entidad de certificación (CA) aprobada</span><span class="sxs-lookup"><span data-stu-id="27dcb-445"><a id="fabric-cert-ca"></a>Ensure that service fabric certificates are obtained from an approved Certificate Authority (CA)</span></span>

| <span data-ttu-id="27dcb-446">Título</span><span class="sxs-lookup"><span data-stu-id="27dcb-446">Title</span></span>                   | <span data-ttu-id="27dcb-447">Detalles</span><span class="sxs-lookup"><span data-stu-id="27dcb-447">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="27dcb-448">**Componente**</span><span class="sxs-lookup"><span data-stu-id="27dcb-448">**Component**</span></span>               | <span data-ttu-id="27dcb-449">Límites de confianza de Service Fabric</span><span class="sxs-lookup"><span data-stu-id="27dcb-449">Service Fabric Trust Boundary</span></span> | 
| <span data-ttu-id="27dcb-450">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="27dcb-450">**SDL Phase**</span></span>               | <span data-ttu-id="27dcb-451">Implementación</span><span class="sxs-lookup"><span data-stu-id="27dcb-451">Deployment</span></span> |  
| <span data-ttu-id="27dcb-452">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="27dcb-452">**Applicable Technologies**</span></span> | <span data-ttu-id="27dcb-453">Genérico</span><span class="sxs-lookup"><span data-stu-id="27dcb-453">Generic</span></span> |
| <span data-ttu-id="27dcb-454">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-454">**Attributes**</span></span>              | <span data-ttu-id="27dcb-455">Entorno: Azure</span><span class="sxs-lookup"><span data-stu-id="27dcb-455">Environment - Azure</span></span> |
| <span data-ttu-id="27dcb-456">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="27dcb-456">**References**</span></span>              | [<span data-ttu-id="27dcb-457">Certificados X.509 y Service Fabric</span><span class="sxs-lookup"><span data-stu-id="27dcb-457">X.509 certificates and Service Fabric</span></span>](https://azure.microsoft.com/documentation/articles/service-fabric-cluster-security/#x509-certificates-and-service-fabric) |
| <span data-ttu-id="27dcb-458">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-458">**Steps**</span></span> | <p><span data-ttu-id="27dcb-459">Service Fabric usa certificados de servidor X.509 para autenticar nodos y clientes.</span><span class="sxs-lookup"><span data-stu-id="27dcb-459">Service Fabric uses X.509 server certificates for authenticating nodes and clients.</span></span></p><p><span data-ttu-id="27dcb-460">Tooconsider de algunos aspectos importantes al uso de certificados de tejidos de servicio:</span><span class="sxs-lookup"><span data-stu-id="27dcb-460">Some important things tooconsider while using certificates in service fabrics:</span></span></p><ul><li><span data-ttu-id="27dcb-461">Los certificados usados en clústeres que ejecutan cargas de trabajo de producción deberán crearse mediante un servicio de certificados de Windows Server correctamente configurado u obtenerse de una entidad de certificación (CA) autorizada.</span><span class="sxs-lookup"><span data-stu-id="27dcb-461">Certificates used in clusters running production workloads should be created by using a correctly configured Windows Server certificate service or obtained from an approved Certificate Authority (CA).</span></span> <span data-ttu-id="27dcb-462">Hola CA puede ser una CA externa aprobada o un correctamente administrado interno clave infraestructura pública (PKI)</span><span class="sxs-lookup"><span data-stu-id="27dcb-462">hello CA can be an approved external CA or a properly managed internal Public Key Infrastructure (PKI)</span></span></li><li><span data-ttu-id="27dcb-463">No use nunca certificados temporales o de pruebas en producción creados con herramientas como MakeCert.exe.</span><span class="sxs-lookup"><span data-stu-id="27dcb-463">Never use any temporary or test certificates in production that are created with tools such as MakeCert.exe</span></span></li><li><span data-ttu-id="27dcb-464">Puede usar un certificado autofirmado, pero solo para clústeres de prueba y no para los que se encuentran en fase de producción.</span><span class="sxs-lookup"><span data-stu-id="27dcb-464">You can use a self-signed certificate, but should only do so for test clusters and not in production</span></span></li></ul>|

## <span data-ttu-id="27dcb-465"><a id="standard-authn-id"></a>Uso de escenarios de autenticación estándar admitidos por Identity Server</span><span class="sxs-lookup"><span data-stu-id="27dcb-465"><a id="standard-authn-id"></a>Use standard authentication scenarios supported by Identity Server</span></span>

| <span data-ttu-id="27dcb-466">Título</span><span class="sxs-lookup"><span data-stu-id="27dcb-466">Title</span></span>                   | <span data-ttu-id="27dcb-467">Detalles</span><span class="sxs-lookup"><span data-stu-id="27dcb-467">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="27dcb-468">**Componente**</span><span class="sxs-lookup"><span data-stu-id="27dcb-468">**Component**</span></span>               | <span data-ttu-id="27dcb-469">Identity Server</span><span class="sxs-lookup"><span data-stu-id="27dcb-469">Identity Server</span></span> | 
| <span data-ttu-id="27dcb-470">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="27dcb-470">**SDL Phase**</span></span>               | <span data-ttu-id="27dcb-471">Compilación</span><span class="sxs-lookup"><span data-stu-id="27dcb-471">Build</span></span> |  
| <span data-ttu-id="27dcb-472">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="27dcb-472">**Applicable Technologies**</span></span> | <span data-ttu-id="27dcb-473">Genérico</span><span class="sxs-lookup"><span data-stu-id="27dcb-473">Generic</span></span> |
| <span data-ttu-id="27dcb-474">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-474">**Attributes**</span></span>              | <span data-ttu-id="27dcb-475">N/D</span><span class="sxs-lookup"><span data-stu-id="27dcb-475">N/A</span></span>  |
| <span data-ttu-id="27dcb-476">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="27dcb-476">**References**</span></span>              | [<span data-ttu-id="27dcb-477">IdentityServer3 - Hola panorama general</span><span class="sxs-lookup"><span data-stu-id="27dcb-477">IdentityServer3 - hello Big Picture</span></span>](https://identityserver.github.io/Documentation/docsv2/overview/bigPicture.html) |
| <span data-ttu-id="27dcb-478">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-478">**Steps**</span></span> | <p><span data-ttu-id="27dcb-479">A continuación se muestran Hola interacciones típicas admitidas por el servidor de identidades:</span><span class="sxs-lookup"><span data-stu-id="27dcb-479">Below are hello typical interactions supported by Identity Server:</span></span></p><ul><li><span data-ttu-id="27dcb-480">Los exploradores se comunican con las aplicaciones web.</span><span class="sxs-lookup"><span data-stu-id="27dcb-480">Browsers communicate with web applications</span></span></li><li><span data-ttu-id="27dcb-481">Las aplicaciones web se comunican con las API web (unas veces por sí mismas y otras en nombre de un usuario).</span><span class="sxs-lookup"><span data-stu-id="27dcb-481">Web applications communicate with web APIs (sometimes on their own, sometimes on behalf of a user)</span></span></li><li><span data-ttu-id="27dcb-482">Las aplicaciones basadas en explorador se comunican con las API web.</span><span class="sxs-lookup"><span data-stu-id="27dcb-482">Browser-based applications communicate with web APIs</span></span></li><li><span data-ttu-id="27dcb-483">Las aplicaciones nativas se comunican con las API web.</span><span class="sxs-lookup"><span data-stu-id="27dcb-483">Native applications communicate with web APIs</span></span></li><li><span data-ttu-id="27dcb-484">Las aplicaciones basadas en servidor se comunican con las API web.</span><span class="sxs-lookup"><span data-stu-id="27dcb-484">Server-based applications communicate with web APIs</span></span></li><li><span data-ttu-id="27dcb-485">Las API web se comunican con las API web (una veces por sí mismas y otras en nombre del usuario).</span><span class="sxs-lookup"><span data-stu-id="27dcb-485">Web APIs communicate with web APIs (sometimes on their own, sometimes on behalf of a user)</span></span></li></ul>|

## <span data-ttu-id="27dcb-486"><a id="override-token"></a>Invalidar Hola Identity Server token memoria caché predeterminada con una alternativa escalable</span><span class="sxs-lookup"><span data-stu-id="27dcb-486"><a id="override-token"></a>Override hello default Identity Server token cache with a scalable alternative</span></span>

| <span data-ttu-id="27dcb-487">Título</span><span class="sxs-lookup"><span data-stu-id="27dcb-487">Title</span></span>                   | <span data-ttu-id="27dcb-488">Detalles</span><span class="sxs-lookup"><span data-stu-id="27dcb-488">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="27dcb-489">**Componente**</span><span class="sxs-lookup"><span data-stu-id="27dcb-489">**Component**</span></span>               | <span data-ttu-id="27dcb-490">Identity Server</span><span class="sxs-lookup"><span data-stu-id="27dcb-490">Identity Server</span></span> | 
| <span data-ttu-id="27dcb-491">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="27dcb-491">**SDL Phase**</span></span>               | <span data-ttu-id="27dcb-492">Implementación</span><span class="sxs-lookup"><span data-stu-id="27dcb-492">Deployment</span></span> |  
| <span data-ttu-id="27dcb-493">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="27dcb-493">**Applicable Technologies**</span></span> | <span data-ttu-id="27dcb-494">Genérico</span><span class="sxs-lookup"><span data-stu-id="27dcb-494">Generic</span></span> |
| <span data-ttu-id="27dcb-495">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-495">**Attributes**</span></span>              | <span data-ttu-id="27dcb-496">N/D</span><span class="sxs-lookup"><span data-stu-id="27dcb-496">N/A</span></span>  |
| <span data-ttu-id="27dcb-497">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="27dcb-497">**References**</span></span>              | <span data-ttu-id="27dcb-498">[Identity Server Deployment - Caching](https://identityserver.github.io/Documentation/docsv2/advanced/deployment.html) (Identity Server: implementación y almacenamiento en caché)</span><span class="sxs-lookup"><span data-stu-id="27dcb-498">[Identity Server Deployment - Caching](https://identityserver.github.io/Documentation/docsv2/advanced/deployment.html)</span></span> |
| <span data-ttu-id="27dcb-499">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-499">**Steps**</span></span> | <p><span data-ttu-id="27dcb-500">IdentityServer incorpora una caché en memoria sencilla.</span><span class="sxs-lookup"><span data-stu-id="27dcb-500">IdentityServer has a simple built-in in-memory cache.</span></span> <span data-ttu-id="27dcb-501">Si bien esto es adecuado para aplicaciones nativas de pequeña escala, no se escalan mid capa y back-end para las aplicaciones de hello siguientes motivos:</span><span class="sxs-lookup"><span data-stu-id="27dcb-501">While this is good for small scale native apps, it does not scale for mid tier and backend applications for hello following reasons:</span></span></p><ul><li><span data-ttu-id="27dcb-502">Muchos usuarios acceden a la vez a estas aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="27dcb-502">These applications are accessed by many users at once.</span></span> <span data-ttu-id="27dcb-503">Guardar todos los tokens de acceso en hello mismo almacén crea problemas de aislamiento y presenta desafíos al operar a escala: muchos usuarios, cada uno con tokens tantos como recursos de Hola Hola accesos a la aplicación en su nombre, puede significar números muy grandes y búsqueda consume muchos recursos operaciones</span><span class="sxs-lookup"><span data-stu-id="27dcb-503">Saving all access tokens in hello same store creates isolation issues and presents challenges when operating at scale: many users, each with as many tokens as hello resources hello app accesses on their behalf, can mean huge numbers and very expensive lookup operations</span></span></li><li><span data-ttu-id="27dcb-504">Estas aplicaciones se implementan normalmente en las topologías distribuidas, donde varios nodos deben tener acceso toohello misma caché</span><span class="sxs-lookup"><span data-stu-id="27dcb-504">These applications are typically deployed on distributed topologies, where multiple nodes must have access toohello same cache</span></span></li><li><span data-ttu-id="27dcb-505">Los tokens almacenados en caché deben sobrevivir a los reciclajes y las desactivaciones de los procesos.</span><span class="sxs-lookup"><span data-stu-id="27dcb-505">Cached tokens must survive process recycles and deactivations</span></span></li><li><span data-ttu-id="27dcb-506">Para todos los Hola por encima de motivos, al implementar aplicaciones web, se recomienda caché de tokens del servidor de identidad de toooverride Hola predeterminado con una alternativa escalable como la caché en Redis de Azure</span><span class="sxs-lookup"><span data-stu-id="27dcb-506">For all hello above reasons, while implementing web apps, it is recommended toooverride hello default Identity Server's token cache with a scalable alternative such as Azure Redis cache</span></span></li></ul>|

## <span data-ttu-id="27dcb-507"><a id="binaries-signed"></a>Asegurarse de que los archivos binarios de la aplicación implementada están firmados digitalmente</span><span class="sxs-lookup"><span data-stu-id="27dcb-507"><a id="binaries-signed"></a>Ensure that deployed application's binaries are digitally signed</span></span>

| <span data-ttu-id="27dcb-508">Título</span><span class="sxs-lookup"><span data-stu-id="27dcb-508">Title</span></span>                   | <span data-ttu-id="27dcb-509">Detalles</span><span class="sxs-lookup"><span data-stu-id="27dcb-509">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="27dcb-510">**Componente**</span><span class="sxs-lookup"><span data-stu-id="27dcb-510">**Component**</span></span>               | <span data-ttu-id="27dcb-511">Límite de confianza de la máquina</span><span class="sxs-lookup"><span data-stu-id="27dcb-511">Machine Trust Boundary</span></span> | 
| <span data-ttu-id="27dcb-512">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="27dcb-512">**SDL Phase**</span></span>               | <span data-ttu-id="27dcb-513">Implementación</span><span class="sxs-lookup"><span data-stu-id="27dcb-513">Deployment</span></span> |  
| <span data-ttu-id="27dcb-514">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="27dcb-514">**Applicable Technologies**</span></span> | <span data-ttu-id="27dcb-515">Genérico</span><span class="sxs-lookup"><span data-stu-id="27dcb-515">Generic</span></span> |
| <span data-ttu-id="27dcb-516">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-516">**Attributes**</span></span>              | <span data-ttu-id="27dcb-517">N/D</span><span class="sxs-lookup"><span data-stu-id="27dcb-517">N/A</span></span>  |
| <span data-ttu-id="27dcb-518">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="27dcb-518">**References**</span></span>              | <span data-ttu-id="27dcb-519">N/D</span><span class="sxs-lookup"><span data-stu-id="27dcb-519">N/A</span></span>  |
| <span data-ttu-id="27dcb-520">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-520">**Steps**</span></span> | <span data-ttu-id="27dcb-521">Asegúrese de que los archivos binarios de la aplicación implementada se firman digitalmente para que se puede comprobar integridad de Hola de archivos binarios de Hola</span><span class="sxs-lookup"><span data-stu-id="27dcb-521">Ensure that deployed application's binaries are digitally signed so that hello integrity of hello binaries can be verified</span></span>|

## <span data-ttu-id="27dcb-522"><a id="msmq-queues"></a>Habilitar la autenticación al conectarse tooMSMQ colas en WCF</span><span class="sxs-lookup"><span data-stu-id="27dcb-522"><a id="msmq-queues"></a>Enable authentication when connecting tooMSMQ queues in WCF</span></span>

| <span data-ttu-id="27dcb-523">Título</span><span class="sxs-lookup"><span data-stu-id="27dcb-523">Title</span></span>                   | <span data-ttu-id="27dcb-524">Detalles</span><span class="sxs-lookup"><span data-stu-id="27dcb-524">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="27dcb-525">**Componente**</span><span class="sxs-lookup"><span data-stu-id="27dcb-525">**Component**</span></span>               | <span data-ttu-id="27dcb-526">WCF</span><span class="sxs-lookup"><span data-stu-id="27dcb-526">WCF</span></span> | 
| <span data-ttu-id="27dcb-527">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="27dcb-527">**SDL Phase**</span></span>               | <span data-ttu-id="27dcb-528">Compilación</span><span class="sxs-lookup"><span data-stu-id="27dcb-528">Build</span></span> |  
| <span data-ttu-id="27dcb-529">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="27dcb-529">**Applicable Technologies**</span></span> | <span data-ttu-id="27dcb-530">Genérico, .NET Framework 3</span><span class="sxs-lookup"><span data-stu-id="27dcb-530">Generic, NET Framework 3</span></span> |
| <span data-ttu-id="27dcb-531">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-531">**Attributes**</span></span>              | <span data-ttu-id="27dcb-532">N/D</span><span class="sxs-lookup"><span data-stu-id="27dcb-532">N/A</span></span> |
| <span data-ttu-id="27dcb-533">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="27dcb-533">**References**</span></span>              | [<span data-ttu-id="27dcb-534">MSDN</span><span class="sxs-lookup"><span data-stu-id="27dcb-534">MSDN</span></span>](https://msdn.microsoft.com/library/ff648500.aspx) |
| <span data-ttu-id="27dcb-535">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-535">**Steps**</span></span> | <span data-ttu-id="27dcb-536">Programa produce un error tooenable autenticación al conectarse a las colas de tooMSMQ, un atacante puede enviar de forma anónima cola de mensajes toohello para su procesamiento.</span><span class="sxs-lookup"><span data-stu-id="27dcb-536">Program fails tooenable authentication when connecting tooMSMQ queues, an attacker can anonymously submit messages toohello queue for processing.</span></span> <span data-ttu-id="27dcb-537">Si no es usado tooconnect tooan MSMQ cola utilizada toodeliver un programa de tooanother de mensaje de autenticación, un atacante podría enviar un mensaje de anónimo es malintencionado.</span><span class="sxs-lookup"><span data-stu-id="27dcb-537">If authentication is not used tooconnect tooan MSMQ queue used toodeliver a message tooanother program, an attacker could submit an anonymous message that is malicious.</span></span>|

### <a name="example"></a><span data-ttu-id="27dcb-538">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="27dcb-538">Example</span></span>
<span data-ttu-id="27dcb-539">Hola `<netMsmqBinding/>` elemento del archivo de configuración de WCF de hello siguiente indica autenticación toodisable WCF cuando se conecte tooan cola MSMQ para la entrega de mensajes.</span><span class="sxs-lookup"><span data-stu-id="27dcb-539">hello `<netMsmqBinding/>` element of hello WCF configuration file below instructs WCF toodisable authentication when connecting tooan MSMQ queue for message delivery.</span></span>
```
<bindings>
    <netMsmqBinding>
        <binding>
            <security>
                <transport msmqAuthenticationMode=""None"" />
            </security>
        </binding>
    </netMsmqBinding>
</bindings>
```
<span data-ttu-id="27dcb-540">Configurar la autenticación de dominio de Windows o el certificado de toorequire MSMQ en todo momento para los mensajes entrantes o salientes.</span><span class="sxs-lookup"><span data-stu-id="27dcb-540">Configure MSMQ toorequire Windows Domain or Certificate authentication at all times for any incoming or outgoing messages.</span></span>

### <a name="example"></a><span data-ttu-id="27dcb-541">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="27dcb-541">Example</span></span>
<span data-ttu-id="27dcb-542">Hola `<netMsmqBinding/>` elemento del archivo de configuración de WCF de hello siguiente indica a autenticación de certificado WCF tooenable al conectarse tooan cola MSMQ.</span><span class="sxs-lookup"><span data-stu-id="27dcb-542">hello `<netMsmqBinding/>` element of hello WCF configuration file below instructs WCF tooenable certificate authentication when connecting tooan MSMQ queue.</span></span> <span data-ttu-id="27dcb-543">cliente de Hola se autentica utilizando certificados X.509.</span><span class="sxs-lookup"><span data-stu-id="27dcb-543">hello client is authenticated using X.509 certificates.</span></span> <span data-ttu-id="27dcb-544">certificado de cliente de Hello debe encontrarse en el almacén de certificados de saludo del servidor hello.</span><span class="sxs-lookup"><span data-stu-id="27dcb-544">hello client certificate must be present in hello certificate store of hello server.</span></span>
```
<bindings>
    <netMsmqBinding>
        <binding>
            <security>
                <transport msmqAuthenticationMode=""Certificate"" />
            </security>
        </binding>
    </netMsmqBinding>
</bindings>
```

## <span data-ttu-id="27dcb-545"><a id="message-none"></a>Realice de WCF no establece mensaje clientCredentialType toonone</span><span class="sxs-lookup"><span data-stu-id="27dcb-545"><a id="message-none"></a>WCF-Do not set Message clientCredentialType toonone</span></span>

| <span data-ttu-id="27dcb-546">Título</span><span class="sxs-lookup"><span data-stu-id="27dcb-546">Title</span></span>                   | <span data-ttu-id="27dcb-547">Detalles</span><span class="sxs-lookup"><span data-stu-id="27dcb-547">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="27dcb-548">**Componente**</span><span class="sxs-lookup"><span data-stu-id="27dcb-548">**Component**</span></span>               | <span data-ttu-id="27dcb-549">WCF</span><span class="sxs-lookup"><span data-stu-id="27dcb-549">WCF</span></span> | 
| <span data-ttu-id="27dcb-550">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="27dcb-550">**SDL Phase**</span></span>               | <span data-ttu-id="27dcb-551">Compilación</span><span class="sxs-lookup"><span data-stu-id="27dcb-551">Build</span></span> |  
| <span data-ttu-id="27dcb-552">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="27dcb-552">**Applicable Technologies**</span></span> | <span data-ttu-id="27dcb-553">.NET Framework 3</span><span class="sxs-lookup"><span data-stu-id="27dcb-553">.NET Framework 3</span></span> |
| <span data-ttu-id="27dcb-554">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-554">**Attributes**</span></span>              | <span data-ttu-id="27dcb-555">ClientCredentialType: Ninguno</span><span class="sxs-lookup"><span data-stu-id="27dcb-555">Client Credential Type - None</span></span> |
| <span data-ttu-id="27dcb-556">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="27dcb-556">**References**</span></span>              | <span data-ttu-id="27dcb-557">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify](https://vulncat.fortify.com/en/vulncat/index.html)</span><span class="sxs-lookup"><span data-stu-id="27dcb-557">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify](https://vulncat.fortify.com/en/vulncat/index.html)</span></span> |
| <span data-ttu-id="27dcb-558">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-558">**Steps**</span></span> | <span data-ttu-id="27dcb-559">ausencia de Hola de autenticación significa que todo el mundo es capaz de tooaccess este servicio.</span><span class="sxs-lookup"><span data-stu-id="27dcb-559">hello absence of authentication means everyone is able tooaccess this service.</span></span> <span data-ttu-id="27dcb-560">Un servicio que no se autentica a sus clientes permite el acceso a los usuarios de tooall.</span><span class="sxs-lookup"><span data-stu-id="27dcb-560">A service that does not authenticate its clients allows access tooall users.</span></span> <span data-ttu-id="27dcb-561">Configurar hello tooauthenticate de aplicación con las credenciales del cliente.</span><span class="sxs-lookup"><span data-stu-id="27dcb-561">Configure hello application tooauthenticate against client credentials.</span></span> <span data-ttu-id="27dcb-562">Puede hacerlo estableciendo Hola mensaje clientCredentialType tooWindows o certificado.</span><span class="sxs-lookup"><span data-stu-id="27dcb-562">This can be done by setting hello message clientCredentialType tooWindows or Certificate.</span></span> |

### <a name="example"></a><span data-ttu-id="27dcb-563">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="27dcb-563">Example</span></span>
```
<message clientCredentialType=""Certificate""/>
```

## <span data-ttu-id="27dcb-564"><a id="transport-none"></a>Realice de WCF no establece transporte clientCredentialType toonone</span><span class="sxs-lookup"><span data-stu-id="27dcb-564"><a id="transport-none"></a>WCF-Do not set Transport clientCredentialType toonone</span></span>

| <span data-ttu-id="27dcb-565">Título</span><span class="sxs-lookup"><span data-stu-id="27dcb-565">Title</span></span>                   | <span data-ttu-id="27dcb-566">Detalles</span><span class="sxs-lookup"><span data-stu-id="27dcb-566">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="27dcb-567">**Componente**</span><span class="sxs-lookup"><span data-stu-id="27dcb-567">**Component**</span></span>               | <span data-ttu-id="27dcb-568">WCF</span><span class="sxs-lookup"><span data-stu-id="27dcb-568">WCF</span></span> | 
| <span data-ttu-id="27dcb-569">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="27dcb-569">**SDL Phase**</span></span>               | <span data-ttu-id="27dcb-570">Compilación</span><span class="sxs-lookup"><span data-stu-id="27dcb-570">Build</span></span> |  
| <span data-ttu-id="27dcb-571">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="27dcb-571">**Applicable Technologies**</span></span> | <span data-ttu-id="27dcb-572">Genérico, .NET Framework 3</span><span class="sxs-lookup"><span data-stu-id="27dcb-572">Generic, .NET Framework 3</span></span> |
| <span data-ttu-id="27dcb-573">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-573">**Attributes**</span></span>              | <span data-ttu-id="27dcb-574">ClientCredentialType: Ninguno</span><span class="sxs-lookup"><span data-stu-id="27dcb-574">Client Credential Type - None</span></span> |
| <span data-ttu-id="27dcb-575">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="27dcb-575">**References**</span></span>              | <span data-ttu-id="27dcb-576">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify](https://vulncat.fortify.com/en/vulncat/index.html)</span><span class="sxs-lookup"><span data-stu-id="27dcb-576">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify](https://vulncat.fortify.com/en/vulncat/index.html)</span></span> |
| <span data-ttu-id="27dcb-577">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-577">**Steps**</span></span> | <span data-ttu-id="27dcb-578">ausencia de Hola de autenticación significa que todo el mundo es capaz de tooaccess este servicio.</span><span class="sxs-lookup"><span data-stu-id="27dcb-578">hello absence of authentication means everyone is able tooaccess this service.</span></span> <span data-ttu-id="27dcb-579">Un servicio que no se autentica a sus clientes permite tooaccess de todos los usuarios de su funcionalidad.</span><span class="sxs-lookup"><span data-stu-id="27dcb-579">A service that does not authenticate its clients allows all users tooaccess its functionality.</span></span> <span data-ttu-id="27dcb-580">Configurar hello tooauthenticate de aplicación con las credenciales del cliente.</span><span class="sxs-lookup"><span data-stu-id="27dcb-580">Configure hello application tooauthenticate against client credentials.</span></span> <span data-ttu-id="27dcb-581">Puede hacerlo estableciendo Hola transporte clientCredentialType tooWindows o certificado.</span><span class="sxs-lookup"><span data-stu-id="27dcb-581">This can be done by setting hello transport clientCredentialType tooWindows or Certificate.</span></span> |

### <a name="example"></a><span data-ttu-id="27dcb-582">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="27dcb-582">Example</span></span>
```
<transport clientCredentialType=""Certificate""/>
```

## <span data-ttu-id="27dcb-583"><a id="authn-secure-api"></a>Asegúrese de que las técnicas de autenticación estándar toosecure usa las API Web</span><span class="sxs-lookup"><span data-stu-id="27dcb-583"><a id="authn-secure-api"></a>Ensure that standard authentication techniques are used toosecure Web APIs</span></span>

| <span data-ttu-id="27dcb-584">Título</span><span class="sxs-lookup"><span data-stu-id="27dcb-584">Title</span></span>                   | <span data-ttu-id="27dcb-585">Detalles</span><span class="sxs-lookup"><span data-stu-id="27dcb-585">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="27dcb-586">**Componente**</span><span class="sxs-lookup"><span data-stu-id="27dcb-586">**Component**</span></span>               | <span data-ttu-id="27dcb-587">API Web</span><span class="sxs-lookup"><span data-stu-id="27dcb-587">Web API</span></span> | 
| <span data-ttu-id="27dcb-588">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="27dcb-588">**SDL Phase**</span></span>               | <span data-ttu-id="27dcb-589">Compilación</span><span class="sxs-lookup"><span data-stu-id="27dcb-589">Build</span></span> |  
| <span data-ttu-id="27dcb-590">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="27dcb-590">**Applicable Technologies**</span></span> | <span data-ttu-id="27dcb-591">Genérico</span><span class="sxs-lookup"><span data-stu-id="27dcb-591">Generic</span></span> |
| <span data-ttu-id="27dcb-592">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-592">**Attributes**</span></span>              | <span data-ttu-id="27dcb-593">N/D</span><span class="sxs-lookup"><span data-stu-id="27dcb-593">N/A</span></span>  |
| <span data-ttu-id="27dcb-594">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="27dcb-594">**References**</span></span>              | <span data-ttu-id="27dcb-595">[Authentication and Authorization in ASP.NET Web API](http://www.asp.net/web-api/overview/security/authentication-and-authorization-in-aspnet-web-api), (Autenticación y autorización en la API web de ASP.NET) [External Authentication Services with ASP.NET Web API (C#)](http://www.asp.net/web-api/overview/security/external-authentication-services) (Servicios de autenticación externos con la API web de ASP.NET [C#])</span><span class="sxs-lookup"><span data-stu-id="27dcb-595">[Authentication and Authorization in ASP.NET Web API](http://www.asp.net/web-api/overview/security/authentication-and-authorization-in-aspnet-web-api), [External Authentication Services with ASP.NET Web API (C#)](http://www.asp.net/web-api/overview/security/external-authentication-services)</span></span> |
| <span data-ttu-id="27dcb-596">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-596">**Steps**</span></span> | <p><span data-ttu-id="27dcb-597">La autenticación es el proceso Hola donde una entidad demuestre su identidad, normalmente a través de las credenciales, como un nombre de usuario y una contraseña.</span><span class="sxs-lookup"><span data-stu-id="27dcb-597">Authentication is hello process where an entity proves its identity, typically through credentials, such as a user name and password.</span></span> <span data-ttu-id="27dcb-598">Hay varios protocolos de autenticación disponibles que se pueden considerar.</span><span class="sxs-lookup"><span data-stu-id="27dcb-598">There are multiple authentication protocols available which may be considered.</span></span> <span data-ttu-id="27dcb-599">A continuación se enumeran algunos de ellos:</span><span class="sxs-lookup"><span data-stu-id="27dcb-599">Some of them are listed below:</span></span></p><ul><li><span data-ttu-id="27dcb-600">Certificados de cliente</span><span class="sxs-lookup"><span data-stu-id="27dcb-600">Client certificates</span></span></li><li><span data-ttu-id="27dcb-601">Basado en Windows</span><span class="sxs-lookup"><span data-stu-id="27dcb-601">Windows based</span></span></li><li><span data-ttu-id="27dcb-602">Basado en formularios</span><span class="sxs-lookup"><span data-stu-id="27dcb-602">Forms based</span></span></li><li><span data-ttu-id="27dcb-603">Federación - ADFS</span><span class="sxs-lookup"><span data-stu-id="27dcb-603">Federation - ADFS</span></span></li><li><span data-ttu-id="27dcb-604">Federación - Azure AD</span><span class="sxs-lookup"><span data-stu-id="27dcb-604">Federation - Azure AD</span></span></li><li><span data-ttu-id="27dcb-605">Federación - Identity Server</span><span class="sxs-lookup"><span data-stu-id="27dcb-605">Federation - Identity Server</span></span></li></ul><p><span data-ttu-id="27dcb-606">Vínculos en la sección de referencias de hello proporcionan detalles de bajo nivel sobre cómo cada uno de los esquemas de autenticación de hello puede ser implementan toosecure una API Web.</span><span class="sxs-lookup"><span data-stu-id="27dcb-606">Links in hello references section provide low-level details on how each of hello authentication schemes can be implemented toosecure a Web API.</span></span></p>|

## <span data-ttu-id="27dcb-607"><a id="authn-aad"></a>Uso de escenarios de autenticación estándar compatibles con Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="27dcb-607"><a id="authn-aad"></a>Use standard authentication scenarios supported by Azure Active Directory</span></span>

| <span data-ttu-id="27dcb-608">Título</span><span class="sxs-lookup"><span data-stu-id="27dcb-608">Title</span></span>                   | <span data-ttu-id="27dcb-609">Detalles</span><span class="sxs-lookup"><span data-stu-id="27dcb-609">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="27dcb-610">**Componente**</span><span class="sxs-lookup"><span data-stu-id="27dcb-610">**Component**</span></span>               | <span data-ttu-id="27dcb-611">Azure AD</span><span class="sxs-lookup"><span data-stu-id="27dcb-611">Azure AD</span></span> | 
| <span data-ttu-id="27dcb-612">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="27dcb-612">**SDL Phase**</span></span>               | <span data-ttu-id="27dcb-613">Compilación</span><span class="sxs-lookup"><span data-stu-id="27dcb-613">Build</span></span> |  
| <span data-ttu-id="27dcb-614">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="27dcb-614">**Applicable Technologies**</span></span> | <span data-ttu-id="27dcb-615">Genérico</span><span class="sxs-lookup"><span data-stu-id="27dcb-615">Generic</span></span> |
| <span data-ttu-id="27dcb-616">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-616">**Attributes**</span></span>              | <span data-ttu-id="27dcb-617">N/D</span><span class="sxs-lookup"><span data-stu-id="27dcb-617">N/A</span></span>  |
| <span data-ttu-id="27dcb-618">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="27dcb-618">**References**</span></span>              | <span data-ttu-id="27dcb-619">[Escenarios de autenticación para Azure AD](https://azure.microsoft.com/documentation/articles/active-directory-authentication-scenarios/), [Ejemplos de código de Azure Active Directory](https://azure.microsoft.com/documentation/articles/active-directory-code-samples/), [Guía del desarrollador de Azure Active Directory](https://azure.microsoft.com/documentation/articles/active-directory-developers-guide/)</span><span class="sxs-lookup"><span data-stu-id="27dcb-619">[Authentication Scenarios for Azure AD](https://azure.microsoft.com/documentation/articles/active-directory-authentication-scenarios/), [Azure Active Directory Code Samples](https://azure.microsoft.com/documentation/articles/active-directory-code-samples/), [Azure Active Directory developer's guide](https://azure.microsoft.com/documentation/articles/active-directory-developers-guide/)</span></span> |
| <span data-ttu-id="27dcb-620">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-620">**Steps**</span></span> | <p><span data-ttu-id="27dcb-621">Azure Active Directory (Azure AD) simplifica la autenticación para los desarrolladores al proporcionar identidad como servicio, con compatibilidad con protocolos estándar de la industria, como OAuth 2.0 y OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="27dcb-621">Azure Active Directory (Azure AD) simplifies authentication for developers by providing identity as a service, with support for industry-standard protocols such as OAuth 2.0 and OpenID Connect.</span></span> <span data-ttu-id="27dcb-622">A continuación se muestran Hola cinco escenarios principales de aplicación compatibles con Azure AD:</span><span class="sxs-lookup"><span data-stu-id="27dcb-622">Below are hello five primary application scenarios supported by Azure AD:</span></span></p><ul><li><span data-ttu-id="27dcb-623">Web tooWeb aplicación de explorador: un usuario necesita toosign en aplicación web de tooa que está protegida por Azure AD</span><span class="sxs-lookup"><span data-stu-id="27dcb-623">Web Browser tooWeb Application: A user needs toosign in tooa web application that is secured by Azure AD</span></span></li><li><span data-ttu-id="27dcb-624">Aplicación de página única (SPA): Un usuario necesita toosign en la aplicación de una página tooa que está protegida por Azure AD</span><span class="sxs-lookup"><span data-stu-id="27dcb-624">Single Page Application (SPA): A user needs toosign in tooa single page application that is secured by Azure AD</span></span></li><li><span data-ttu-id="27dcb-625">Native aplicación tooWeb API: una aplicación nativa que se ejecuta en un teléfono, tableta o PC necesidades tooauthenticate un tooget usuario recursos desde una API web protegida por Azure AD</span><span class="sxs-lookup"><span data-stu-id="27dcb-625">Native Application tooWeb API: A native application that runs on a phone, tablet, or PC needs tooauthenticate a user tooget resources from a web API that is secured by Azure AD</span></span></li><li><span data-ttu-id="27dcb-626">Web API tooWeb de aplicación: una aplicación web necesita recursos tooget desde una API web protegida por Azure AD</span><span class="sxs-lookup"><span data-stu-id="27dcb-626">Web Application tooWeb API: A web application needs tooget resources from a web API secured by Azure AD</span></span></li><li><span data-ttu-id="27dcb-627">Demonio o una aplicación de servidor tooWeb API: una aplicación de demonio o una aplicación de servidor sin interfaz de usuario web necesita recursos tooget desde una API web protegida por Azure AD</span><span class="sxs-lookup"><span data-stu-id="27dcb-627">Daemon or Server Application tooWeb API: A daemon application or a server application with no web user interface needs tooget resources from a web API secured by Azure AD</span></span></li></ul><p><span data-ttu-id="27dcb-628">Consulte toohello vínculos en la sección de referencias de Hola para obtener detalles de implementación de nivel inferior</span><span class="sxs-lookup"><span data-stu-id="27dcb-628">Please refer toohello links in hello references section for low-level implementation details</span></span></p>|

## <span data-ttu-id="27dcb-629"><a id="adal-scalable"></a>Invalidar Hola AAL token memoria caché predeterminada con una alternativa escalable</span><span class="sxs-lookup"><span data-stu-id="27dcb-629"><a id="adal-scalable"></a>Override hello default ADAL token cache with a scalable alternative</span></span>

| <span data-ttu-id="27dcb-630">Título</span><span class="sxs-lookup"><span data-stu-id="27dcb-630">Title</span></span>                   | <span data-ttu-id="27dcb-631">Detalles</span><span class="sxs-lookup"><span data-stu-id="27dcb-631">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="27dcb-632">**Componente**</span><span class="sxs-lookup"><span data-stu-id="27dcb-632">**Component**</span></span>               | <span data-ttu-id="27dcb-633">Azure AD</span><span class="sxs-lookup"><span data-stu-id="27dcb-633">Azure AD</span></span> | 
| <span data-ttu-id="27dcb-634">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="27dcb-634">**SDL Phase**</span></span>               | <span data-ttu-id="27dcb-635">Compilación</span><span class="sxs-lookup"><span data-stu-id="27dcb-635">Build</span></span> |  
| <span data-ttu-id="27dcb-636">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="27dcb-636">**Applicable Technologies**</span></span> | <span data-ttu-id="27dcb-637">Genérico</span><span class="sxs-lookup"><span data-stu-id="27dcb-637">Generic</span></span> |
| <span data-ttu-id="27dcb-638">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-638">**Attributes**</span></span>              | <span data-ttu-id="27dcb-639">N/D</span><span class="sxs-lookup"><span data-stu-id="27dcb-639">N/A</span></span>  |
| <span data-ttu-id="27dcb-640">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="27dcb-640">**References**</span></span>              | <span data-ttu-id="27dcb-641">[Modern Authentication with Azure Active Directory for Web Applications](https://blogs.msdn.microsoft.com/microsoft_press/2016/01/04/new-book-modern-authentication-with-azure-active-directory-for-web-applications/) (Autenticación moderna con Azure Active Directory para aplicaciones web), [Using Redis as ADAL token cache](https://blogs.msdn.microsoft.com/mrochon/2016/09/19/using-redis-as-adal-token-cache/) (Uso de Redis como caché de tokens ADAL)</span><span class="sxs-lookup"><span data-stu-id="27dcb-641">[Modern Authentication with Azure Active Directory for Web Applications](https://blogs.msdn.microsoft.com/microsoft_press/2016/01/04/new-book-modern-authentication-with-azure-active-directory-for-web-applications/), [Using Redis as ADAL token cache](https://blogs.msdn.microsoft.com/mrochon/2016/09/19/using-redis-as-adal-token-cache/)</span></span>  |
| <span data-ttu-id="27dcb-642">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-642">**Steps**</span></span> | <p><span data-ttu-id="27dcb-643">Hola memoria caché predeterminada que usa AAL (biblioteca de autenticación de Active Directory) es una caché en memoria que se basa en un almacén estático, disponible en todo el proceso.</span><span class="sxs-lookup"><span data-stu-id="27dcb-643">hello default cache that ADAL (Active Directory Authentication Library) uses is an in-memory cache that relies on a static store, available process-wide.</span></span> <span data-ttu-id="27dcb-644">Si bien esto funciona para las aplicaciones nativas, no se escalan mid capa y back-end para las aplicaciones de hello siguientes motivos:</span><span class="sxs-lookup"><span data-stu-id="27dcb-644">While this works for native applications, it does not scale for mid tier and backend applications for hello following reasons:</span></span></p><ul><li><span data-ttu-id="27dcb-645">Muchos usuarios acceden a la vez a estas aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="27dcb-645">These applications are accessed by many users at once.</span></span> <span data-ttu-id="27dcb-646">Guardar todos los tokens de acceso en hello mismo almacén crea problemas de aislamiento y presenta desafíos al operar a escala: muchos usuarios, cada uno con tokens tantos como recursos de Hola Hola accesos a la aplicación en su nombre, puede significar números muy grandes y búsqueda consume muchos recursos operaciones</span><span class="sxs-lookup"><span data-stu-id="27dcb-646">Saving all access tokens in hello same store creates isolation issues and presents challenges when operating at scale: many users, each with as many tokens as hello resources hello app accesses on their behalf, can mean huge numbers and very expensive lookup operations</span></span></li><li><span data-ttu-id="27dcb-647">Estas aplicaciones se implementan normalmente en las topologías distribuidas, donde varios nodos deben tener acceso toohello misma caché</span><span class="sxs-lookup"><span data-stu-id="27dcb-647">These applications are typically deployed on distributed topologies, where multiple nodes must have access toohello same cache</span></span></li><li><span data-ttu-id="27dcb-648">Los tokens almacenados en caché deben sobrevivir a los reciclajes y las desactivaciones de los procesos.</span><span class="sxs-lookup"><span data-stu-id="27dcb-648">Cached tokens must survive process recycles and deactivations</span></span></li></ul><p><span data-ttu-id="27dcb-649">Para todos los Hola por encima de motivos, al implementar aplicaciones web, se recomienda toooverride Hola AAL token memoria caché predeterminada con una alternativa escalable como la caché en Redis de Azure.</span><span class="sxs-lookup"><span data-stu-id="27dcb-649">For all hello above reasons, while implementing web apps, it is recommended toooverride hello default ADAL token cache with a scalable alternative such as Azure Redis cache.</span></span></p>|

## <span data-ttu-id="27dcb-650"><a id="tokenreplaycache-adal"></a>Asegúrese de que TokenReplayCache es tooprevent usados al reproducir Hola de tokens de autenticación de ADAL</span><span class="sxs-lookup"><span data-stu-id="27dcb-650"><a id="tokenreplaycache-adal"></a>Ensure that TokenReplayCache is used tooprevent hello replay of ADAL authentication tokens</span></span>

| <span data-ttu-id="27dcb-651">Título</span><span class="sxs-lookup"><span data-stu-id="27dcb-651">Title</span></span>                   | <span data-ttu-id="27dcb-652">Detalles</span><span class="sxs-lookup"><span data-stu-id="27dcb-652">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="27dcb-653">**Componente**</span><span class="sxs-lookup"><span data-stu-id="27dcb-653">**Component**</span></span>               | <span data-ttu-id="27dcb-654">Azure AD</span><span class="sxs-lookup"><span data-stu-id="27dcb-654">Azure AD</span></span> | 
| <span data-ttu-id="27dcb-655">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="27dcb-655">**SDL Phase**</span></span>               | <span data-ttu-id="27dcb-656">Compilación</span><span class="sxs-lookup"><span data-stu-id="27dcb-656">Build</span></span> |  
| <span data-ttu-id="27dcb-657">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="27dcb-657">**Applicable Technologies**</span></span> | <span data-ttu-id="27dcb-658">Genérico</span><span class="sxs-lookup"><span data-stu-id="27dcb-658">Generic</span></span> |
| <span data-ttu-id="27dcb-659">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-659">**Attributes**</span></span>              | <span data-ttu-id="27dcb-660">N/D</span><span class="sxs-lookup"><span data-stu-id="27dcb-660">N/A</span></span>  |
| <span data-ttu-id="27dcb-661">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="27dcb-661">**References**</span></span>              | <span data-ttu-id="27dcb-662">[Modern Authentication with Azure Active Directory for Web Applications](https://blogs.msdn.microsoft.com/microsoft_press/2016/01/04/new-book-modern-authentication-with-azure-active-directory-for-web-applications/) (Autenticación moderna con Azure Active Directory para aplicaciones web)</span><span class="sxs-lookup"><span data-stu-id="27dcb-662">[Modern Authentication with Azure Active Directory for Web Applications](https://blogs.msdn.microsoft.com/microsoft_press/2016/01/04/new-book-modern-authentication-with-azure-active-directory-for-web-applications/)</span></span> |
| <span data-ttu-id="27dcb-663">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-663">**Steps**</span></span> | <p><span data-ttu-id="27dcb-664">la propiedad de TokenReplayCache Hola permite a los desarrolladores toodefine una memoria caché de reproducción de tokens, un almacén que se puede usar para no guardar ningún token de tokens para el propósito de Hola de comprobar que se puede utilizar más de una vez.</span><span class="sxs-lookup"><span data-stu-id="27dcb-664">hello TokenReplayCache property allows developers toodefine a token replay cache, a store that can be used for saving tokens for hello purpose of verifying that no token can be used more than once.</span></span></p><p><span data-ttu-id="27dcb-665">Se trata de una medida con respecto a un ataque habitual, hello muy apropiado denominar ataque de reproducción de tokens: un atacante intercepta el símbolo (token) de Hola se envía al inicio de sesión puede intentar toosend se toohello aplicación nuevo ("reproducirlo") para establecer una sesión nueva.</span><span class="sxs-lookup"><span data-stu-id="27dcb-665">This is a measure against a common attack, hello aptly called token replay attack: an attacker intercepting hello token sent at sign-in might try toosend it toohello app again (“replay” it) for establishing a new session.</span></span> <span data-ttu-id="27dcb-666">Por ejemplo, en OIDC-concesión de código de flujo, después de la autenticación del usuario, una solicitud demasiado "/ signin-oidc" punto de conexión de usuario de confianza de Hola se realiza con "id_token", "código" y "state" parámetros.</span><span class="sxs-lookup"><span data-stu-id="27dcb-666">E.g., In OIDC code-grant flow, after successful user authentication, a request too"/signin-oidc" endpoint of hello relying party is made with "id_token", "code" and "state" parameters.</span></span></p><p><span data-ttu-id="27dcb-667">Hola usuario de confianza valida esta solicitud y establece una sesión nueva.</span><span class="sxs-lookup"><span data-stu-id="27dcb-667">hello relying party validates this request and establishes a new session.</span></span> <span data-ttu-id="27dcb-668">Si un adversario captura esta solicitud y reproduce, éste puede establecer una sesión correcta y el usuario de Hola de engaño.</span><span class="sxs-lookup"><span data-stu-id="27dcb-668">If an adversary captures this request and replays it, he/she can establish a successful session and spoof hello user.</span></span> <span data-ttu-id="27dcb-669">presencia de Hola de nonce Hola de OpenID Connect puede limitar aunque no totalmente elimina circunstancias Hola ataque hello en el que se puede establecida correctamente.</span><span class="sxs-lookup"><span data-stu-id="27dcb-669">hello presence of hello nonce in OpenID Connect can limit but not fully eliminate hello circumstances in which hello attack can be successfully enacted.</span></span> <span data-ttu-id="27dcb-670">tooprotect sus aplicaciones, los desarrolladores pueden proporcionar una implementación de ITokenReplayCache y asignar un tooTokenReplayCache de instancia.</span><span class="sxs-lookup"><span data-stu-id="27dcb-670">tooprotect their applications, developers can provide an implementation of ITokenReplayCache and assign an instance tooTokenReplayCache.</span></span></p>|

### <a name="example"></a><span data-ttu-id="27dcb-671">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="27dcb-671">Example</span></span>
```C#
// ITokenReplayCache defined in ADAL
public interface ITokenReplayCache
{
bool TryAdd(string securityToken, DateTime expiresOn);
bool TryFind(string securityToken);
}
```

### <a name="example"></a><span data-ttu-id="27dcb-672">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="27dcb-672">Example</span></span>
<span data-ttu-id="27dcb-673">Este es un ejemplo de implementación de interfaz de ITokenReplayCache Hola.</span><span class="sxs-lookup"><span data-stu-id="27dcb-673">Here is a sample implementation of hello ITokenReplayCache interface.</span></span> <span data-ttu-id="27dcb-674">(Personalice e implemente el marco de almacenamiento en caché específico del proyecto).</span><span class="sxs-lookup"><span data-stu-id="27dcb-674">(Please customize and implement your project-specific caching framework)</span></span>
```C#
public class TokenReplayCache : ITokenReplayCache
{
    private readonly ICacheProvider cache; // Your project-specific cache provider
    public TokenReplayCache(ICacheProvider cache)
    {
        this.cache = cache;
    }
    public bool TryAdd(string securityToken, DateTime expiresOn)
    {
        if (this.cache.Get<string>(securityToken) == null)
        {
            this.cache.Set(securityToken, securityToken);
            return true;
        }
        return false;
    }
    public bool TryFind(string securityToken)
    {
        return this.cache.Get<string>(securityToken) != null;
    }
}
```
<span data-ttu-id="27dcb-675">caché de Hello implementado tiene toobe al que hace referencia en las opciones de OIDC a través de la propiedad "TokenValidationParameters" hello como se indica a continuación.</span><span class="sxs-lookup"><span data-stu-id="27dcb-675">hello implemented cache has toobe referenced in OIDC options via hello "TokenValidationParameters" property as follows.</span></span>
```C#
OpenIdConnectOptions openIdConnectOptions = new OpenIdConnectOptions
{
    AutomaticAuthenticate = true,
    ... // other configuration properties follow..
    TokenValidationParameters = new TokenValidationParameters
    {
        TokenReplayCache = new TokenReplayCache(/*Inject your cache provider*/);
    }
}
```

<span data-ttu-id="27dcb-676">Por favor, tenga en cuenta esa eficacia de hello tootest de esta configuración, el inicio de sesión en la aplicación protegida OIDC local y capturar solicitud Hola demasiado`"/signin-oidc"` extremo en fiddler.</span><span class="sxs-lookup"><span data-stu-id="27dcb-676">Please note that tootest hello effectiveness of this configuration, login into your local OIDC-protected application and capture hello request too`"/signin-oidc"` endpoint in fiddler.</span></span> <span data-ttu-id="27dcb-677">Cuando la protección de hello no está en su lugar, la reproducción de esta solicitud en fiddler establecerá una nueva cookie de sesión.</span><span class="sxs-lookup"><span data-stu-id="27dcb-677">When hello protection is not in place, replaying this request in fiddler will set a new session cookie.</span></span> <span data-ttu-id="27dcb-678">Cuando la solicitud de saludo se reproduce una vez agregado hello TokenReplayCache protección, aplicación hello iniciará una excepción como sigue:`SecurityTokenReplayDetectedException: IDX10228: hello securityToken has previously been validated, securityToken: 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik1uQ19WWmNBVGZNNXBPWWlKSE1iYTlnb0VLWSIsImtpZCI6Ik1uQ1......`</span><span class="sxs-lookup"><span data-stu-id="27dcb-678">When hello request is replayed after hello TokenReplayCache protection is added, hello application will throw an exception as follows: `SecurityTokenReplayDetectedException: IDX10228: hello securityToken has previously been validated, securityToken: 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik1uQ19WWmNBVGZNNXBPWWlKSE1iYTlnb0VLWSIsImtpZCI6Ik1uQ1......`</span></span>

## <span data-ttu-id="27dcb-679"><a id="adal-oauth2"></a>Usar el token de bibliotecas de ADAL toomanage solicita de OAuth2 clientes tooAAD (o AD local)</span><span class="sxs-lookup"><span data-stu-id="27dcb-679"><a id="adal-oauth2"></a>Use ADAL libraries toomanage token requests from OAuth2 clients tooAAD (or on-premises AD)</span></span>

| <span data-ttu-id="27dcb-680">Título</span><span class="sxs-lookup"><span data-stu-id="27dcb-680">Title</span></span>                   | <span data-ttu-id="27dcb-681">Detalles</span><span class="sxs-lookup"><span data-stu-id="27dcb-681">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="27dcb-682">**Componente**</span><span class="sxs-lookup"><span data-stu-id="27dcb-682">**Component**</span></span>               | <span data-ttu-id="27dcb-683">Azure AD</span><span class="sxs-lookup"><span data-stu-id="27dcb-683">Azure AD</span></span> | 
| <span data-ttu-id="27dcb-684">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="27dcb-684">**SDL Phase**</span></span>               | <span data-ttu-id="27dcb-685">Compilación</span><span class="sxs-lookup"><span data-stu-id="27dcb-685">Build</span></span> |  
| <span data-ttu-id="27dcb-686">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="27dcb-686">**Applicable Technologies**</span></span> | <span data-ttu-id="27dcb-687">Genérico</span><span class="sxs-lookup"><span data-stu-id="27dcb-687">Generic</span></span> |
| <span data-ttu-id="27dcb-688">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-688">**Attributes**</span></span>              | <span data-ttu-id="27dcb-689">N/D</span><span class="sxs-lookup"><span data-stu-id="27dcb-689">N/A</span></span>  |
| <span data-ttu-id="27dcb-690">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="27dcb-690">**References**</span></span>              | [<span data-ttu-id="27dcb-691">ADAL</span><span class="sxs-lookup"><span data-stu-id="27dcb-691">ADAL</span></span>](https://azure.microsoft.com/documentation/articles/active-directory-authentication-libraries/) |
| <span data-ttu-id="27dcb-692">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-692">**Steps**</span></span> | <p><span data-ttu-id="27dcb-693">Hola AD Azure authentication Library (AAL) permite cliente aplicación a los desarrolladores tooeasily autenticar usuarios toocloud o Active Directory (AD) local y, a continuación, obtener tokens de acceso para proteger las llamadas de API.</span><span class="sxs-lookup"><span data-stu-id="27dcb-693">hello Azure AD authentication Library (ADAL) enables client application developers tooeasily authenticate users toocloud or on-premises Active Directory (AD), and then obtain access tokens for securing API calls.</span></span></p><p><span data-ttu-id="27dcb-694">ADAL incluye muchas características que hacen que la autenticación resulte más fácil para los desarrolladores, como la compatibilidad asincrónica, una memoria caché de tokens configurable que almacena tokens de acceso y tokens de actualización, actualización automática de tokens cuando caduca un token de acceso y hay un token de actualización disponible, etc.</span><span class="sxs-lookup"><span data-stu-id="27dcb-694">ADAL has many features that make authentication easier for developers, such as asynchronous support, a configurable token cache that stores access tokens and refresh tokens, automatic token refresh when an access token expires and a refresh token is available, and more.</span></span></p><p><span data-ttu-id="27dcb-695">Al controlar la mayor parte de la complejidad de hello, ADAL puede ayudar a los desarrolladores a centrarse en la lógica de negocios en su aplicación y proteger fácilmente los recursos sin necesidad de ser un experto en seguridad.</span><span class="sxs-lookup"><span data-stu-id="27dcb-695">By handling most of hello complexity, ADAL can help a developer focus on business logic in their application and easily secure resources without being an expert on security.</span></span> <span data-ttu-id="27dcb-696">Otras bibliotecas están disponibles para. NET, JavaScript (cliente y Node.js), iOS, Android y Java.</span><span class="sxs-lookup"><span data-stu-id="27dcb-696">Separate libraries are available for .NET, JavaScript (client and Node.js), iOS, Android and Java.</span></span></p>|

## <span data-ttu-id="27dcb-697"><a id="authn-devices-field"></a>Autenticar los dispositivos que se conectan toohello puerta de enlace de campo</span><span class="sxs-lookup"><span data-stu-id="27dcb-697"><a id="authn-devices-field"></a>Authenticate devices connecting toohello Field Gateway</span></span>

| <span data-ttu-id="27dcb-698">Título</span><span class="sxs-lookup"><span data-stu-id="27dcb-698">Title</span></span>                   | <span data-ttu-id="27dcb-699">Detalles</span><span class="sxs-lookup"><span data-stu-id="27dcb-699">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="27dcb-700">**Componente**</span><span class="sxs-lookup"><span data-stu-id="27dcb-700">**Component**</span></span>               | <span data-ttu-id="27dcb-701">Puerta de enlace de campo de IoT</span><span class="sxs-lookup"><span data-stu-id="27dcb-701">IoT Field Gateway</span></span> | 
| <span data-ttu-id="27dcb-702">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="27dcb-702">**SDL Phase**</span></span>               | <span data-ttu-id="27dcb-703">Compilación</span><span class="sxs-lookup"><span data-stu-id="27dcb-703">Build</span></span> |  
| <span data-ttu-id="27dcb-704">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="27dcb-704">**Applicable Technologies**</span></span> | <span data-ttu-id="27dcb-705">Genérico</span><span class="sxs-lookup"><span data-stu-id="27dcb-705">Generic</span></span> |
| <span data-ttu-id="27dcb-706">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-706">**Attributes**</span></span>              | <span data-ttu-id="27dcb-707">N/D</span><span class="sxs-lookup"><span data-stu-id="27dcb-707">N/A</span></span>  |
| <span data-ttu-id="27dcb-708">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="27dcb-708">**References**</span></span>              | <span data-ttu-id="27dcb-709">N/D</span><span class="sxs-lookup"><span data-stu-id="27dcb-709">N/A</span></span>  |
| <span data-ttu-id="27dcb-710">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-710">**Steps**</span></span> | <span data-ttu-id="27dcb-711">Asegúrese de que cada dispositivo es autenticado por hello puerta de enlace de campo antes de aceptar los datos contenidos en ellos y facilitar las comunicaciones de nivel superior con hello puerta de enlace de nube.</span><span class="sxs-lookup"><span data-stu-id="27dcb-711">Ensure that each device is authenticated by hello Field Gateway before accepting data from them and before facilitating upstream communications with hello Cloud Gateway.</span></span> <span data-ttu-id="27dcb-712">Además, asegúrese de que los dispositivos se conectan con una credencial cada uno de forma que cada dispositivo se pueda identificar de manera unívoca.</span><span class="sxs-lookup"><span data-stu-id="27dcb-712">Also, ensure that devices connect with a per device credential so that individual devices can be uniquely identified.</span></span>|

## <span data-ttu-id="27dcb-713"><a id="authn-devices-cloud"></a>Asegúrese de que se autentican los dispositivos que se conectan tooCloud puerta de enlace</span><span class="sxs-lookup"><span data-stu-id="27dcb-713"><a id="authn-devices-cloud"></a>Ensure that devices connecting tooCloud gateway are authenticated</span></span>

| <span data-ttu-id="27dcb-714">Título</span><span class="sxs-lookup"><span data-stu-id="27dcb-714">Title</span></span>                   | <span data-ttu-id="27dcb-715">Detalles</span><span class="sxs-lookup"><span data-stu-id="27dcb-715">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="27dcb-716">**Componente**</span><span class="sxs-lookup"><span data-stu-id="27dcb-716">**Component**</span></span>               | <span data-ttu-id="27dcb-717">Puerta de enlace de la nube de IoT</span><span class="sxs-lookup"><span data-stu-id="27dcb-717">IoT Cloud Gateway</span></span> | 
| <span data-ttu-id="27dcb-718">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="27dcb-718">**SDL Phase**</span></span>               | <span data-ttu-id="27dcb-719">Compilación</span><span class="sxs-lookup"><span data-stu-id="27dcb-719">Build</span></span> |  
| <span data-ttu-id="27dcb-720">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="27dcb-720">**Applicable Technologies**</span></span> | <span data-ttu-id="27dcb-721">Genérico, C#, Node.JS,</span><span class="sxs-lookup"><span data-stu-id="27dcb-721">Generic, C#, Node.JS,</span></span>  |
| <span data-ttu-id="27dcb-722">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-722">**Attributes**</span></span>              | <span data-ttu-id="27dcb-723">N/D, opción de puerta de enlace: Azure IoT Hub</span><span class="sxs-lookup"><span data-stu-id="27dcb-723">N/A, Gateway choice - Azure IoT Hub</span></span> |
| <span data-ttu-id="27dcb-724">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="27dcb-724">**References**</span></span>              | <span data-ttu-id="27dcb-725">N/D, [Introducción a Azure IoT Hub (.NET)](https://azure.microsoft.com/documentation/articles/iot-hub-csharp-csharp-getstarted/), [Introducción a Azure IoT Hub (Node)](https://azure.microsoft.com/documentation/articles/iot-hub-node-node-getstarted), [Protección de IoT con SAS y certificados](https://azure.microsoft.com/documentation/articles/iot-hub-sas-tokens/), [Repositorio de GIT](https://github.com/Azure/azure-iot-sdks/tree/master/node)</span><span class="sxs-lookup"><span data-stu-id="27dcb-725">N/A, [Azure IoT hub with .NET](https://azure.microsoft.com/documentation/articles/iot-hub-csharp-csharp-getstarted/), [Getting Started wih IoT hub and Node JS](https://azure.microsoft.com/documentation/articles/iot-hub-node-node-getstarted), [Securing IoT with SAS and certificates](https://azure.microsoft.com/documentation/articles/iot-hub-sas-tokens/), [Git repository](https://github.com/Azure/azure-iot-sdks/tree/master/node)</span></span> |
| <span data-ttu-id="27dcb-726">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-726">**Steps**</span></span> | <ul><li><span data-ttu-id="27dcb-727">**Genérico:** dispositivo de hello autenticar con seguridad de capa de transporte (TLS) o IPSec.</span><span class="sxs-lookup"><span data-stu-id="27dcb-727">**Generic:** Authenticate hello device using Transport Layer Security (TLS) or IPSec.</span></span> <span data-ttu-id="27dcb-728">La infraestructura debe admitir el uso de una clave precompartida (PSK) en los dispositivos que no pueden controlar la criptografía asimétrica completa.</span><span class="sxs-lookup"><span data-stu-id="27dcb-728">Infrastructure should support using pre-shared key (PSK) on those devices that cannot handle full asymmetric cryptography.</span></span> <span data-ttu-id="27dcb-729">Aprovechamiento de Azure AD, OAuth</span><span class="sxs-lookup"><span data-stu-id="27dcb-729">Leverage Azure AD, Oauth.</span></span></li><li><span data-ttu-id="27dcb-730">**C#:** al crear una instancia de DeviceClient, de forma predeterminada, Hola método Create crea una instancia de DeviceClient que usa hello AMQP protocolo toocommunicate con centro de IoT.</span><span class="sxs-lookup"><span data-stu-id="27dcb-730">**C#:** When creating a DeviceClient instance, by default, hello Create method creates a DeviceClient instance that uses hello AMQP protocol toocommunicate with IoT Hub.</span></span> <span data-ttu-id="27dcb-731">Hola toouse protocolo HTTPS, use invalidación Hola de método de creación de Hola que le permite toospecify protocolo de Hola.</span><span class="sxs-lookup"><span data-stu-id="27dcb-731">toouse hello HTTPS protocol, use hello override of hello Create method that enables you toospecify hello protocol.</span></span> <span data-ttu-id="27dcb-732">Si utiliza el protocolo HTTPS de hello, también debe agregar hello `Microsoft.AspNet.WebApi.Client` Hola de NuGet paquete tooyour proyecto tooinclude `System.Net.Http.Formatting` espacio de nombres.</span><span class="sxs-lookup"><span data-stu-id="27dcb-732">If you use hello HTTPS protocol, you should also add hello `Microsoft.AspNet.WebApi.Client` NuGet package tooyour project tooinclude hello `System.Net.Http.Formatting` namespace.</span></span></li></ul>|

### <a name="example"></a><span data-ttu-id="27dcb-733">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="27dcb-733">Example</span></span>
```C#
static DeviceClient deviceClient;

static string deviceKey = "{device key}";
static string iotHubUri = "{iot hub hostname}";

var messageString = "{message in string format}";
var message = new Message(Encoding.ASCII.GetBytes(messageString));

deviceClient = DeviceClient.Create(iotHubUri, new DeviceAuthenticationWithRegistrySymmetricKey("myFirstDevice", deviceKey));

await deviceClient.SendEventAsync(message);
```

### <a name="example"></a><span data-ttu-id="27dcb-734">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="27dcb-734">Example</span></span>
<span data-ttu-id="27dcb-735">**Node.JS: autenticación**</span><span class="sxs-lookup"><span data-stu-id="27dcb-735">**Node.JS: Authentication**</span></span>
#### <a name="symmetric-key"></a><span data-ttu-id="27dcb-736">Clave simétrica</span><span class="sxs-lookup"><span data-stu-id="27dcb-736">Symmetric key</span></span>
* <span data-ttu-id="27dcb-737">Cree un centro de IoT de Azure.</span><span class="sxs-lookup"><span data-stu-id="27dcb-737">Create a IoT hub on azure</span></span>
* <span data-ttu-id="27dcb-738">Crear una entrada en el registro de identidad de dispositivo de Hola</span><span class="sxs-lookup"><span data-stu-id="27dcb-738">Create an entry in hello device identity registry</span></span>
    ```javascript
    var device = new iothub.Device(null);
    device.deviceId = <DeviceId >
    registry.create(device, function(err, deviceInfo, res) {})
    ```
* <span data-ttu-id="27dcb-739">Cree un dispositivo simulado:</span><span class="sxs-lookup"><span data-stu-id="27dcb-739">Create a simulated device</span></span>
    ```javascript
    var clientFromConnectionString = require('azure-iot-device-amqp').clientFromConnectionString;
    var Message = require('azure-iot-device').Message;
    var connectionString = 'HostName=<HostName>DeviceId=<DeviceId>SharedAccessKey=<SharedAccessKey>';
    var client = clientFromConnectionString(connectionString);
    ```
#### <a name="sas-token"></a><span data-ttu-id="27dcb-740">Token de SAS</span><span class="sxs-lookup"><span data-stu-id="27dcb-740">SAS Token</span></span>
* <span data-ttu-id="27dcb-741">Se genera internamente cuando se usa la clave simétrica pero también se puede generar y usar explícitamente.</span><span class="sxs-lookup"><span data-stu-id="27dcb-741">Gets internally generated when using symmetric key but we can generate and use it explicitly as well</span></span>
* <span data-ttu-id="27dcb-742">Defina un protocolo:`var Http = require('azure-iot-device-http').Http;`</span><span class="sxs-lookup"><span data-stu-id="27dcb-742">Define a protocol : `var Http = require('azure-iot-device-http').Http;`</span></span>
* <span data-ttu-id="27dcb-743">Cree un token de SAS:</span><span class="sxs-lookup"><span data-stu-id="27dcb-743">Create a sas token :</span></span>
    ```javascript
    resourceUri = encodeURIComponent(resourceUri.toLowerCase()).toLowerCase();
    var deviceName = "<deviceName >";
    var expires = (Date.now() / 1000) + expiresInMins * 60;
    var toSign = resourceUri + '\n' + expires;
    // using crypto
    var decodedPassword = new Buffer(signingKey, 'base64').toString('binary');
    const hmac = crypto.createHmac('sha256', decodedPassword);
    hmac.update(toSign);
    var base64signature = hmac.digest('base64');
    var base64UriEncoded = encodeURIComponent(base64signature);
    // construct authorization string
    var token = "SharedAccessSignature sr=" + resourceUri + "%2fdevices%2f"+deviceName+"&sig="
    + base64UriEncoded + "&se=" + expires;
    if (policyName) token += "&skn="+policyName;
    return token;
    ```
* <span data-ttu-id="27dcb-744">Conéctese mediante el token de SAS:</span><span class="sxs-lookup"><span data-stu-id="27dcb-744">Connect using sas token:</span></span> 
    ```javascript
    Client.fromSharedAccessSignature(sas, Http); 
    ```
#### <a name="certificates"></a><span data-ttu-id="27dcb-745">Certificados</span><span class="sxs-lookup"><span data-stu-id="27dcb-745">Certificates</span></span>
* <span data-ttu-id="27dcb-746">Generar un X509 firmado propio certificado mediante cualquier herramienta como OpenSSL toogenerate una .cert .key archivos toostore Hola hello y certificado de clave y respectivamente</span><span class="sxs-lookup"><span data-stu-id="27dcb-746">Generate a self signed X509 certificate using any tool such as OpenSSL toogenerate a .cert and .key files toostore hello certificate and hello key respectively</span></span>
* <span data-ttu-id="27dcb-747">Aprovisione un dispositivo que acepte conexiones seguras mediante certificados.</span><span class="sxs-lookup"><span data-stu-id="27dcb-747">Provision a device that accepts secured connection using certificates.</span></span>
    ```javascript
    var connectionString = '<connectionString>';
    var registry = iothub.Registry.fromConnectionString(connectionString);
    var deviceJSON = {deviceId:"<deviceId>",
    authentication: {
        x509Thumbprint: {
        primaryThumbprint: "<PrimaryThumbprint>",
        secondaryThumbprint: "<SecondaryThumbprint>"
        }
    }}
    var device = deviceJSON;
    registry.create(device, function (err) {});
    ```
* <span data-ttu-id="27dcb-748">Conecte un dispositivo mediante un certificado.</span><span class="sxs-lookup"><span data-stu-id="27dcb-748">Connect a device using a certificate</span></span>
    ```javascript
    var Protocol = require('azure-iot-device-http').Http;
    var Client = require('azure-iot-device').Client;
    var connectionString = 'HostName=<HostName>DeviceId=<DeviceId>x509=true';
    var client = Client.fromConnectionString(connectionString, Protocol);
    var options = {
        key: fs.readFileSync('./key.pem', 'utf8'),
        cert: fs.readFileSync('./server.crt', 'utf8')
    }; 
    // Calling setOptions with hello x509 certificate and key (and optionally, passphrase) will configure hello client //transport toouse x509 when connecting tooIoT Hub
    client.setOptions(options);
    //call fn tooexecute after hello connection is set up
    client.open(fn);
    ```

## <span data-ttu-id="27dcb-749"><a id="authn-cred"></a>Uso de credenciales de autenticación por dispositivo</span><span class="sxs-lookup"><span data-stu-id="27dcb-749"><a id="authn-cred"></a>Use per-device authentication credentials</span></span>

| <span data-ttu-id="27dcb-750">Título</span><span class="sxs-lookup"><span data-stu-id="27dcb-750">Title</span></span>                   | <span data-ttu-id="27dcb-751">Detalles</span><span class="sxs-lookup"><span data-stu-id="27dcb-751">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="27dcb-752">**Componente**</span><span class="sxs-lookup"><span data-stu-id="27dcb-752">**Component**</span></span>               | <span data-ttu-id="27dcb-753">Puerta de enlace de la nube de IoT</span><span class="sxs-lookup"><span data-stu-id="27dcb-753">IoT Cloud Gateway</span></span>  | 
| <span data-ttu-id="27dcb-754">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="27dcb-754">**SDL Phase**</span></span>               | <span data-ttu-id="27dcb-755">Compilación</span><span class="sxs-lookup"><span data-stu-id="27dcb-755">Build</span></span> |  
| <span data-ttu-id="27dcb-756">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="27dcb-756">**Applicable Technologies**</span></span> | <span data-ttu-id="27dcb-757">Genérico</span><span class="sxs-lookup"><span data-stu-id="27dcb-757">Generic</span></span> |
| <span data-ttu-id="27dcb-758">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-758">**Attributes**</span></span>              | <span data-ttu-id="27dcb-759">Elección de puerta de enlace: Azure IoT Hub</span><span class="sxs-lookup"><span data-stu-id="27dcb-759">Gateway choice - Azure IoT Hub</span></span> |
| <span data-ttu-id="27dcb-760">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="27dcb-760">**References**</span></span>              | [<span data-ttu-id="27dcb-761">Tokens de seguridad de Azure IoT Hub</span><span class="sxs-lookup"><span data-stu-id="27dcb-761">Azure IoT Hub Security Tokens</span></span>](https://azure.microsoft.com/documentation/articles/iot-hub-sas-tokens/) |
| <span data-ttu-id="27dcb-762">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-762">**Steps**</span></span> | <span data-ttu-id="27dcb-763">Use credenciales de autenticación por dispositivo mediante tokens de SaS basados en la clave de dispositivo y el certificado de cliente, en lugar de directivas de acceso compartido de nivel de IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="27dcb-763">Use per device authentication credentials using SaS tokens based on Device key or Client Certificate, instead of IoT Hub-level shared access policies.</span></span> <span data-ttu-id="27dcb-764">Esto impide la reutilización de Hola de tokens de autenticación de una puerta de enlace de dispositivo o un campo por otro</span><span class="sxs-lookup"><span data-stu-id="27dcb-764">This prevents hello reuse of authentication tokens of one device or field gateway by another</span></span> |

## <span data-ttu-id="27dcb-765"><a id="req-containers-anon"></a>Asegúrese de que solo Hola requiera contenedores y blobs tienen acceso de lectura anónimo</span><span class="sxs-lookup"><span data-stu-id="27dcb-765"><a id="req-containers-anon"></a>Ensure that only hello required containers and blobs are given anonymous read access</span></span>

| <span data-ttu-id="27dcb-766">Título</span><span class="sxs-lookup"><span data-stu-id="27dcb-766">Title</span></span>                   | <span data-ttu-id="27dcb-767">Detalles</span><span class="sxs-lookup"><span data-stu-id="27dcb-767">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="27dcb-768">**Componente**</span><span class="sxs-lookup"><span data-stu-id="27dcb-768">**Component**</span></span>               | <span data-ttu-id="27dcb-769">Azure Storage</span><span class="sxs-lookup"><span data-stu-id="27dcb-769">Azure Storage</span></span> | 
| <span data-ttu-id="27dcb-770">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="27dcb-770">**SDL Phase**</span></span>               | <span data-ttu-id="27dcb-771">Compilación</span><span class="sxs-lookup"><span data-stu-id="27dcb-771">Build</span></span> |  
| <span data-ttu-id="27dcb-772">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="27dcb-772">**Applicable Technologies**</span></span> | <span data-ttu-id="27dcb-773">Genérico</span><span class="sxs-lookup"><span data-stu-id="27dcb-773">Generic</span></span> |
| <span data-ttu-id="27dcb-774">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-774">**Attributes**</span></span>              | <span data-ttu-id="27dcb-775">StorageType: blob</span><span class="sxs-lookup"><span data-stu-id="27dcb-775">StorageType - Blob</span></span> |
| <span data-ttu-id="27dcb-776">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="27dcb-776">**References**</span></span>              | <span data-ttu-id="27dcb-777">[Administrar el acceso de lectura anónimo toocontainers y blobs](https://azure.microsoft.com/documentation/articles/storage-manage-access-to-resources/), [firmas de acceso compartido, parte 1: modelo de descripción Hola SAS](https://azure.microsoft.com/documentation/articles/storage-dotnet-shared-access-signature-part-1/)</span><span class="sxs-lookup"><span data-stu-id="27dcb-777">[Manage anonymous read access toocontainers and blobs](https://azure.microsoft.com/documentation/articles/storage-manage-access-to-resources/), [Shared Access Signatures, Part 1: Understanding hello SAS model](https://azure.microsoft.com/documentation/articles/storage-dotnet-shared-access-signature-part-1/)</span></span> |
| <span data-ttu-id="27dcb-778">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-778">**Steps**</span></span> | <p><span data-ttu-id="27dcb-779">De forma predeterminada, un contenedor y cualquiera de sus blobs puede tener acceso a solo el propietario Hola de cuenta de almacenamiento de Hola.</span><span class="sxs-lookup"><span data-stu-id="27dcb-779">By default, a container and any blobs within it may be accessed only by hello owner of hello storage account.</span></span> <span data-ttu-id="27dcb-780">contenedor de tooa de permisos de lectura de los usuarios anónimos toogive y sus blobs, uno puede establecer Hola permisos tooallow público el acceso al contenedor.</span><span class="sxs-lookup"><span data-stu-id="27dcb-780">toogive anonymous users read permissions tooa container and its blobs, one can set hello container permissions tooallow public access.</span></span> <span data-ttu-id="27dcb-781">Los usuarios anónimos pueden leer los blobs dentro de un contenedor es accesible públicamente sin autenticar la solicitud de Hola.</span><span class="sxs-lookup"><span data-stu-id="27dcb-781">Anonymous users can read blobs within a publicly accessible container without authenticating hello request.</span></span></p><p><span data-ttu-id="27dcb-782">Los contenedores ofrecen Hola siguientes opciones para administrar el acceso al contenedor:</span><span class="sxs-lookup"><span data-stu-id="27dcb-782">Containers provide hello following options for managing container access:</span></span></p><ul><li><span data-ttu-id="27dcb-783">Acceso de lectura público completo: los datos del contenedor y de los blobs se pueden leer mediante una solicitud anónima.</span><span class="sxs-lookup"><span data-stu-id="27dcb-783">Full public read access: Container and blob data can be read via anonymous request.</span></span> <span data-ttu-id="27dcb-784">Los clientes pueden enumerar blobs en el contenedor de hello mediante una solicitud anónima, pero no pueden enumerar contenedores dentro de la cuenta de almacenamiento de Hola.</span><span class="sxs-lookup"><span data-stu-id="27dcb-784">Clients can enumerate blobs within hello container via anonymous request, but cannot enumerate containers within hello storage account.</span></span></li><li><span data-ttu-id="27dcb-785">Acceso de lectura público solo para blobs: los datos de blob dentro de este contenedor pueden leerse mediante una solicitud anónima, pero los datos del contenedor no están disponibles.</span><span class="sxs-lookup"><span data-stu-id="27dcb-785">Public read access for blobs only: Blob data within this container can be read via anonymous request, but container data is not available.</span></span> <span data-ttu-id="27dcb-786">Los clientes no pueden enumerar blobs en el contenedor de hello mediante una solicitud anónima</span><span class="sxs-lookup"><span data-stu-id="27dcb-786">Clients cannot enumerate blobs within hello container via anonymous request</span></span></li><li><span data-ttu-id="27dcb-787">Acceso no público de lectura: solo el propietario Hola cuenta pueden leer los datos de contenedor y blob</span><span class="sxs-lookup"><span data-stu-id="27dcb-787">No public read access: Container and blob data can be read by hello account owner only</span></span></li></ul><p><span data-ttu-id="27dcb-788">El acceso anónimo es mejor para escenarios donde ciertos blobs deben estar siempre disponibles para el acceso de lectura anónimo.</span><span class="sxs-lookup"><span data-stu-id="27dcb-788">Anonymous access is best for scenarios where certain blobs should always be available for anonymous read access.</span></span> <span data-ttu-id="27dcb-789">Para un control más precisa, uno puede crear una firma de acceso compartido, que permite el acceso de toodelegate restringido mediante permisos diferentes y en un intervalo de tiempo especificado.</span><span class="sxs-lookup"><span data-stu-id="27dcb-789">For finer-grained control, one can create a shared access signature, which enables toodelegate restricted access using different permissions and over a specified time interval.</span></span> <span data-ttu-id="27dcb-790">Asegúrese de que los contenedores y blobs, que podrían contener datos confidenciales, no tengan acceso anónimo por accidente.</span><span class="sxs-lookup"><span data-stu-id="27dcb-790">Ensure that containers and blobs, which may potentially contain sensitive data, are not given anonymous access accidentally</span></span></p>|

## <span data-ttu-id="27dcb-791"><a id="limited-access-sas"></a>Conceder acceso limitado tooobjects en almacenamiento de Azure mediante SAS o SAP</span><span class="sxs-lookup"><span data-stu-id="27dcb-791"><a id="limited-access-sas"></a>Grant limited access tooobjects in Azure storage using SAS or SAP</span></span>

| <span data-ttu-id="27dcb-792">Título</span><span class="sxs-lookup"><span data-stu-id="27dcb-792">Title</span></span>                   | <span data-ttu-id="27dcb-793">Detalles</span><span class="sxs-lookup"><span data-stu-id="27dcb-793">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="27dcb-794">**Componente**</span><span class="sxs-lookup"><span data-stu-id="27dcb-794">**Component**</span></span>               | <span data-ttu-id="27dcb-795">Azure Storage</span><span class="sxs-lookup"><span data-stu-id="27dcb-795">Azure Storage</span></span> | 
| <span data-ttu-id="27dcb-796">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="27dcb-796">**SDL Phase**</span></span>               | <span data-ttu-id="27dcb-797">Compilación</span><span class="sxs-lookup"><span data-stu-id="27dcb-797">Build</span></span> |  
| <span data-ttu-id="27dcb-798">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="27dcb-798">**Applicable Technologies**</span></span> | <span data-ttu-id="27dcb-799">Genérico</span><span class="sxs-lookup"><span data-stu-id="27dcb-799">Generic</span></span> |
| <span data-ttu-id="27dcb-800">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-800">**Attributes**</span></span>              | <span data-ttu-id="27dcb-801">N/D</span><span class="sxs-lookup"><span data-stu-id="27dcb-801">N/A</span></span> |
| <span data-ttu-id="27dcb-802">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="27dcb-802">**References**</span></span>              | <span data-ttu-id="27dcb-803">[Las firmas de acceso compartido, parte 1: El modelo SAS de descripción hello](https://azure.microsoft.com/documentation/articles/storage-dotnet-shared-access-signature-part-1/), [firmas de acceso compartido, parte 2: crear y utilizar una SAS con almacenamiento de blobs](https://azure.microsoft.com/documentation/articles/storage-dotnet-shared-access-signature-part-2/), [cómo toodelegate tener acceso a tooobjects en su cuenta mediante Firmas de acceso compartido y directivas de acceso almacenadas](https://azure.microsoft.com/documentation/articles/storage-security-guide/#_how-to-delegate-access-to-objects-in-your-account-using-shared-access-signatures-and-stored-access-policies)</span><span class="sxs-lookup"><span data-stu-id="27dcb-803">[Shared Access Signatures, Part 1: Understanding hello SAS model](https://azure.microsoft.com/documentation/articles/storage-dotnet-shared-access-signature-part-1/), [Shared Access Signatures, Part 2: Create and use a SAS with Blob storage](https://azure.microsoft.com/documentation/articles/storage-dotnet-shared-access-signature-part-2/), [How toodelegate access tooobjects in your account using Shared Access Signatures and Stored Access Policies](https://azure.microsoft.com/documentation/articles/storage-security-guide/#_how-to-delegate-access-to-objects-in-your-account-using-shared-access-signatures-and-stored-access-policies)</span></span> |
| <span data-ttu-id="27dcb-804">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="27dcb-804">**Steps**</span></span> | <p><span data-ttu-id="27dcb-805">El uso de una firma de acceso compartido (SAS) es un tooobjects de acceso de forma eficaz toogrant limitado en un almacenamiento cuenta tooother los clientes sin necesidad de tecla de acceso de cuenta tooexpose.</span><span class="sxs-lookup"><span data-stu-id="27dcb-805">Using a shared access signature (SAS) is a powerful way toogrant limited access tooobjects in a storage account tooother clients, without having tooexpose account access key.</span></span> <span data-ttu-id="27dcb-806">Hola SAS es un URI que abarca el proceso en sus parámetros de consulta toda Hola información necesaria para autenticar acceso a recursos de almacenamiento de tooa.</span><span class="sxs-lookup"><span data-stu-id="27dcb-806">hello SAS is a URI that encompasses in its query parameters all of hello information necessary for authenticated access tooa storage resource.</span></span> <span data-ttu-id="27dcb-807">recursos de almacenamiento de tooaccess con hello SAS, cliente hello solo necesita toopass en el método o constructor adecuado de hello SAS toohello.</span><span class="sxs-lookup"><span data-stu-id="27dcb-807">tooaccess storage resources with hello SAS, hello client only needs toopass in hello SAS toohello appropriate constructor or method.</span></span></p><p><span data-ttu-id="27dcb-808">Puede usar una SAS cuando desee tooprovide acceso tooresources en el cliente de tooa de cuenta de almacenamiento que no es de confianza con la clave de la cuenta de hello.</span><span class="sxs-lookup"><span data-stu-id="27dcb-808">You can use a SAS when you want tooprovide access tooresources in your storage account tooa client that can't be trusted with hello account key.</span></span> <span data-ttu-id="27dcb-809">Las claves de cuenta de almacenamiento incluyen tanto una clave principal y secundaria, que conceden acceso administrativo tooyour cuenta y todos los recursos de hello en ella.</span><span class="sxs-lookup"><span data-stu-id="27dcb-809">Your storage account keys include both a primary and secondary key, both of which grant administrative access tooyour account and all of hello resources in it.</span></span> <span data-ttu-id="27dcb-810">Exposición de cualquiera de las claves de cuenta, abre la posibilidad de toohello de cuenta de uso malintencionado o por negligencia.</span><span class="sxs-lookup"><span data-stu-id="27dcb-810">Exposing either of your account keys opens your account toohello possibility of malicious or negligent use.</span></span> <span data-ttu-id="27dcb-811">Firmas de acceso compartido proporcionan una alternativa segura que permite a otros clientes tooread, escribir y eliminar datos en la cuenta de almacenamiento según los permisos de toohello que le ha concedido y sin necesidad de clave de la cuenta de hello.</span><span class="sxs-lookup"><span data-stu-id="27dcb-811">Shared access signatures provide a safe alternative that allows other clients tooread, write, and delete data in your storage account according toohello permissions you've granted, and without need for hello account key.</span></span></p><p><span data-ttu-id="27dcb-812">Si tiene un conjunto lógico de parámetros que son siempre parecidos, es mejor usar una directiva de acceso almacenado (SAP).</span><span class="sxs-lookup"><span data-stu-id="27dcb-812">If you have a logical set of parameters that are similar each time, using a Stored Access Policy (SAP) is a better idea.</span></span> <span data-ttu-id="27dcb-813">Ya mediante una SAS que se deriva de una directiva de acceso almacenada ofrece toorevoke de capacidad de Hola que SAS inmediatamente, resulta Hola recomienda tooalways de práctica recomendada usar almacena las directivas de acceso siempre que sea posible.</span><span class="sxs-lookup"><span data-stu-id="27dcb-813">Because using a SAS derived from a Stored Access Policy gives you hello ability toorevoke that SAS immediately, it is hello recommended best practice tooalways use Stored Access Policies when possible.</span></span></p>|
