---
title: Azure Network Security | Microsoft Docs
description: "Obtenga información acerca de los servicios de computación en la nube que incluyen una amplia selección de instancias y servicios de proceso, que se pueden escalar tanto vertical como horizontalmente para satisfacer las necesidades de su aplicación o de su empresa."
services: security
documentationcenter: na
author: UnifyCloud
manager: swadhwa
editor: TomSh
ms.assetid: 
ms.service: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 05/24/2017
ms.author: TomSh
ms.openlocfilehash: 6ab59dd02391287a1effc0b51502bb7eb90db319
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/18/2017
---
# <a name="azure-network-security"></a><span data-ttu-id="8a940-103">Azure Network Security</span><span class="sxs-lookup"><span data-stu-id="8a940-103">Azure network security</span></span>

<span data-ttu-id="8a940-104">Sabemos que la seguridad tiene la máxima prioridad en la nube y conocemos la importancia que tiene que buscar información exacta y a tiempo sobre la seguridad de Azure.</span><span class="sxs-lookup"><span data-stu-id="8a940-104">We know that security is job one in the cloud and how important it is that you find accurate and timely information about Azure security.</span></span> <span data-ttu-id="8a940-105">Una de las mejores razones para usar Azure en sus aplicaciones y servicios es poder aprovechar su amplia gama de funcionalidades y herramientas de seguridad.</span><span class="sxs-lookup"><span data-stu-id="8a940-105">One of the best reasons to use Azure for your applications and services is to take advantage of Azure’s wide array of security tools and capabilities.</span></span> <span data-ttu-id="8a940-106">Estas herramientas y funcionalidades permiten crear soluciones seguras en la plataforma Azure.</span><span class="sxs-lookup"><span data-stu-id="8a940-106">These tools and capabilities help make it possible to create secure solutions on the Azure platform.</span></span>

<span data-ttu-id="8a940-107">Microsoft Azure proporciona confidencialidad, integridad y disponibilidad para los datos del cliente, al mismo tiempo que hace posible una responsabilidad transparente.</span><span class="sxs-lookup"><span data-stu-id="8a940-107">Microsoft Azure provides confidentiality, integrity, and availability of customer data, while also enabling transparent accountability.</span></span> <span data-ttu-id="8a940-108">Para ayudarle a comprender mejor la colección de controles de seguridad de red que se implementa en Microsoft Azure desde la perspectiva del cliente, se ha escrito este artículo, "Azure Network Security", para proporcionar información completa sobre los controles de seguridad de red disponibles con Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="8a940-108">To help you better understand the collection of network security controls implemented within Microsoft Azure from the customer's perspective, this article, “Azure Network Security", is written to provide a comprehensive look at the network security controls available with Microsoft Azure.</span></span>

<span data-ttu-id="8a940-109">Este documento está pensado para informarle sobre la amplia gama de controles de red que se pueden configurar para mejorar la seguridad de las soluciones que se implementan en Azure.</span><span class="sxs-lookup"><span data-stu-id="8a940-109">This paper is intended to inform you about the wide range of network controls that you can configure to enhance the security of the solutions you deploy in Azure.</span></span> <span data-ttu-id="8a940-110">Si está interesado en lo que hace Microsoft para proteger el tejido de red de la propia plataforma Azure, consulte la sección seguridad de Azure en el [Microsoft Trust Center](https://www.microsoft.com/trustcenter/security/azure-security) (Centro de confianza de Microsoft).</span><span class="sxs-lookup"><span data-stu-id="8a940-110">If you are interested in what Microsoft does to secure the network fabric of the Azure platform itself,  see the Azure security section in the [Microsoft Trust Center](https://www.microsoft.com/trustcenter/security/azure-security).</span></span>

## <a name="azure-platform"></a><span data-ttu-id="8a940-111">Plataforma Azure</span><span class="sxs-lookup"><span data-stu-id="8a940-111">Azure platform</span></span>

<span data-ttu-id="8a940-112">Azure es una plataforma de servicios en la nube pública que admite una amplia selección de sistemas operativos, lenguajes de programación, plataformas, herramientas, bases de datos y dispositivos.</span><span class="sxs-lookup"><span data-stu-id="8a940-112">Azure is a public cloud service platform that supports a broad selection of operating systems, programming languages, frameworks, tools, databases, and devices.</span></span>  <span data-ttu-id="8a940-113">Puede ejecutar contenedores de Linux con integración de Docker, compilar aplicaciones con JavaScript, Python, .NET, PHP, Java, Node.js y crear back-ends para dispositivos iOS, Android y Windows.</span><span class="sxs-lookup"><span data-stu-id="8a940-113">It can run Linux containers with Docker integration; build apps with JavaScript, Python, .NET, PHP, Java, and Node.js; build back-ends for iOS, Android, and Windows devices.</span></span> <span data-ttu-id="8a940-114">Los servicios en la nube de Azure admiten las mismas tecnologías en las que ya confían millones de desarrolladores y profesionales de TI.</span><span class="sxs-lookup"><span data-stu-id="8a940-114">Azure cloud services support the same technologies millions of developers and IT professionals already rely on and trust.</span></span>

<span data-ttu-id="8a940-115">Al crear en un proveedor de servicios en la nube pública, o migrar recurso de TI al mismo, está confiando en la capacidad de la organización para proteger sus aplicaciones y datos con los servicios y controles que proporcionan para administrar la seguridad de sus recursos en la nube.</span><span class="sxs-lookup"><span data-stu-id="8a940-115">When you build on, or migrate IT assets to, a public cloud service provider, you are relying on that organization’s abilities to protect your applications and data with the services and the controls they provide to manage the security of your cloud-based assets.</span></span>

<span data-ttu-id="8a940-116">La infraestructura de Azure está diseñada desde la instalación hasta las aplicaciones para hospedar millones de clientes simultáneamente, y proporciona una base de confianza en la que las empresas pueden satisfacer sus requisitos de seguridad.</span><span class="sxs-lookup"><span data-stu-id="8a940-116">Azure’s infrastructure is designed from the facility to applications for hosting millions of customers simultaneously, and it provides a trustworthy foundation upon which businesses can meet their security requirements.</span></span> <span data-ttu-id="8a940-117">Además, Azure ofrece un amplio conjunto de opciones de seguridad configurables, así como la capacidad de controlarlas, por lo que puede personalizar la seguridad para satisfacer los requisitos exclusivos de las implementaciones de su organización.</span><span class="sxs-lookup"><span data-stu-id="8a940-117">In addition, Azure provides you with an extensive collection of configurable security options and the ability to control them so that you can customize security to meet the unique requirements of your organization’s deployments.</span></span>

## <a name="abstract"></a><span data-ttu-id="8a940-118">Descripción breve</span><span class="sxs-lookup"><span data-stu-id="8a940-118">Abstract</span></span>

<span data-ttu-id="8a940-119">Servicios en la nube pública de Microsoft ofrece servicios e infraestructura a gran escala, funcionalidades de calidad empresarial y numerosas opciones de conectividad híbrida.</span><span class="sxs-lookup"><span data-stu-id="8a940-119">Microsoft public cloud services deliver hyper-scale services and infrastructure, enterprise-grade capabilities, and many choices for hybrid connectivity.</span></span> <span data-ttu-id="8a940-120">Puede elegir tener acceso a estos servicios a través de Internet o con Azure ExpressRoute, que proporciona conectividad de red privada.</span><span class="sxs-lookup"><span data-stu-id="8a940-120">You can choose to access these services either via the Internet or with Azure ExpressRoute, which provides private network connectivity.</span></span> <span data-ttu-id="8a940-121">La plataforma Microsoft Azure le permite ampliar su infraestructura en la nube sin problemas y crear arquitecturas de varios niveles.</span><span class="sxs-lookup"><span data-stu-id="8a940-121">The Microsoft Azure platform allows you to seamlessly extend your infrastructure into the cloud and build multi-tier architectures.</span></span> <span data-ttu-id="8a940-122">Además, otros fabricantes pueden habilitar funcionalidades mejoradas mediante servicios de seguridad y dispositivos virtuales.</span><span class="sxs-lookup"><span data-stu-id="8a940-122">Additionally, third parties can enable enhanced capabilities by offering security services and virtual appliances.</span></span>

<span data-ttu-id="8a940-123">Los servicios de red de Azure permiten maximizar la flexibilidad, disponibilidad, resistencia, seguridad e integridad por diseño.</span><span class="sxs-lookup"><span data-stu-id="8a940-123">Azure’s network services maximize flexibility, availability, resiliency, security, and integrity by design.</span></span> <span data-ttu-id="8a940-124">Estas notas del producto proporcionan detalles sobre las funciones de red de Azure e información acerca de cómo los clientes pueden usar las características de seguridad nativas de Azure para ayudar a proteger sus recursos de información.</span><span class="sxs-lookup"><span data-stu-id="8a940-124">This white paper provides details on the networking functions of Azure and information on how customers can use Azure’s native security features to help protect their information assets.</span></span>

<span data-ttu-id="8a940-125">Estas notas del producto están pensadas para:</span><span class="sxs-lookup"><span data-stu-id="8a940-125">The intended audiences for this whitepaper include:</span></span>

- <span data-ttu-id="8a940-126">Administradores técnicos, administradores de red y desarrolladores que buscan soluciones de seguridad que estén disponibles y sean compatibles con Azure.</span><span class="sxs-lookup"><span data-stu-id="8a940-126">Technical managers, network administrators, and developers who are looking for security solutions available and supported in Azure.</span></span>

-   <span data-ttu-id="8a940-127">Expertos en la materia o ejecutivos de procesos empresariales que desean obtener una visión general de las tecnologías de red de Azure y de los servicios que son pertinentes en debates acerca de la seguridad de red en la nube pública de Azure.</span><span class="sxs-lookup"><span data-stu-id="8a940-127">SMEs or business process executives who want to get a high-level overview the Azure networking technologies and services that are relevant in discussions around network security in the Azure public cloud.</span></span>

## <a name="azure-networking-big-picture"></a><span data-ttu-id="8a940-128">Panorama general de las redes de Azure</span><span class="sxs-lookup"><span data-stu-id="8a940-128">Azure networking big picture</span></span>
<span data-ttu-id="8a940-129">Microsoft Azure incluye una sólida infraestructura de red que respalda sus requisitos de conectividad de aplicaciones y servicios.</span><span class="sxs-lookup"><span data-stu-id="8a940-129">Microsoft Azure includes a robust networking infrastructure to support your application and service connectivity requirements.</span></span> <span data-ttu-id="8a940-130">Es posible la conectividad de red entre recursos ubicados en Azure, entre recursos locales y hospedados en Azure y entre Internet y Azure.</span><span class="sxs-lookup"><span data-stu-id="8a940-130">Network connectivity is possible between resources located in Azure, between on-premises and Azure hosted resources, and to and from the Internet and Azure.</span></span>

![Panorama general de las redes de Azure](media/azure-network-security/azure-network-security-fig-1.png)

<span data-ttu-id="8a940-132">La [infraestructura de red de Azure](https://docs.microsoft.com/azure/virtual-machines/windows/infrastructure-networking-guidelines) le permite conectar de forma segura los recursos de Azure entre sí por medio de redes virtuales.</span><span class="sxs-lookup"><span data-stu-id="8a940-132">The [Azure network infrastructure](https://docs.microsoft.com/azure/virtual-machines/windows/infrastructure-networking-guidelines) enables you to securely connect Azure resources to each other with virtual networks (VNets).</span></span> <span data-ttu-id="8a940-133">Una red virtual es una representación de su propia red en la nube.</span><span class="sxs-lookup"><span data-stu-id="8a940-133">A VNet is a representation of your own network in the cloud.</span></span> <span data-ttu-id="8a940-134">Una red virtual es un aislamiento lógico de la red de nube de Azure dedicada a su suscripción.</span><span class="sxs-lookup"><span data-stu-id="8a940-134">A VNet is a logical isolation of the Azure cloud network dedicated to your subscription.</span></span> <span data-ttu-id="8a940-135">Puede conectar redes virtuales a las redes locales.</span><span class="sxs-lookup"><span data-stu-id="8a940-135">You can connect VNets to your on-premises networks.</span></span>

<span data-ttu-id="8a940-136">Azure es compatible con la conectividad de vínculo WAN dedicado a su red local y a una instancia de Azure Virtual Network con [ExpressRoute](https://docs.microsoft.com/azure/expressroute/expressroute-introduction).</span><span class="sxs-lookup"><span data-stu-id="8a940-136">Azure supports dedicated WAN link connectivity to your on-premises network and an Azure Virtual Network with [ExpressRoute](https://docs.microsoft.com/azure/expressroute/expressroute-introduction).</span></span> <span data-ttu-id="8a940-137">El vínculo entre Azure y su sitio utiliza una conexión dedicada que no va por la red pública de Internet.</span><span class="sxs-lookup"><span data-stu-id="8a940-137">The link between Azure and your site uses a dedicated connection that does not go over the public Internet.</span></span> <span data-ttu-id="8a940-138">Si su aplicación de Azure se va a ejecutar en varios centros de datos, puede utilizar [Azure Traffic Manager](https://docs.microsoft.com/azure/traffic-manager/traffic-manager-overview) para enrutar las solicitudes de los usuarios de forma inteligente entre instancias de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="8a940-138">If your Azure application is running in multiple datacenters, you can use [Azure Traffic Manager](https://docs.microsoft.com/azure/traffic-manager/traffic-manager-overview) to route requests from users intelligently across instances of the application.</span></span> <span data-ttu-id="8a940-139">También puede enrutar tráfico a servicios que no se ejecuten en Azure si se puede obtener acceso a ellos desde Internet.</span><span class="sxs-lookup"><span data-stu-id="8a940-139">You can also route traffic to services not running in Azure if they are accessible from the Internet.</span></span>

## <a name="enterprise-view-of-azure-networking-components"></a><span data-ttu-id="8a940-140">Información empresarial sobre los componentes de red de Azure</span><span class="sxs-lookup"><span data-stu-id="8a940-140">Enterprise view of Azure networking components</span></span>
<span data-ttu-id="8a940-141">Azure tiene muchos componentes de red que son importantes en cualquier debate sobre seguridad de red.</span><span class="sxs-lookup"><span data-stu-id="8a940-141">Azure has many networking components that are relevant to network security discussions.</span></span> <span data-ttu-id="8a940-142">Vamos a describir estos componentes de red y a centrarnos en los problemas de seguridad relacionados con ellos.</span><span class="sxs-lookup"><span data-stu-id="8a940-142">we describe these networking components and focus on the security issues related to them.</span></span>

> [!Note]
> <span data-ttu-id="8a940-143">No se describen todos los aspectos sobre las redes de Azure: se analizan solo aquellos que se consideran importantes a la hora de planear y diseñar una infraestructura de red segura para los servicios y aplicaciones que implementa en Azure.</span><span class="sxs-lookup"><span data-stu-id="8a940-143">Not all aspects of Azure networking are described – we discuss only those considered to be pivotal in planning and designing a secure network infrastructure around your services and applications you deploy in Azure.</span></span>

<span data-ttu-id="8a940-144">En este documento, se analizarán las siguientes funcionalidades empresariales de red de Azure:</span><span class="sxs-lookup"><span data-stu-id="8a940-144">In this paper, will be cover the following Azure networking enterprise capabilities:</span></span>

-   <span data-ttu-id="8a940-145">Conectividad de red básica</span><span class="sxs-lookup"><span data-stu-id="8a940-145">Basic network connectivity</span></span>

-   <span data-ttu-id="8a940-146">Conectividad híbrida</span><span class="sxs-lookup"><span data-stu-id="8a940-146">Hybrid Connectivity</span></span>

-   <span data-ttu-id="8a940-147">Controles de seguridad</span><span class="sxs-lookup"><span data-stu-id="8a940-147">Security Controls</span></span>

-   <span data-ttu-id="8a940-148">Validación de la red</span><span class="sxs-lookup"><span data-stu-id="8a940-148">Network Validation</span></span>

### <a name="basic-network-connectivity"></a><span data-ttu-id="8a940-149">Conectividad de red básica</span><span class="sxs-lookup"><span data-stu-id="8a940-149">Basic network connectivity</span></span>

<span data-ttu-id="8a940-150">El servicio [Azure Virtual Network](https://docs.microsoft.com/azure/virtual-network/virtual-networks-overview) le permite conectar de forma segura los recursos de Azure entre sí por medio de redes virtuales.</span><span class="sxs-lookup"><span data-stu-id="8a940-150">The [Azure Virtual Network](https://docs.microsoft.com/azure/virtual-network/virtual-networks-overview)  service enables you to securely connect Azure resources to each other with virtual networks (VNet).</span></span> <span data-ttu-id="8a940-151">Una red virtual es una representación de su propia red en la nube.</span><span class="sxs-lookup"><span data-stu-id="8a940-151">A VNet is a representation of your own network in the cloud.</span></span> <span data-ttu-id="8a940-152">Una red virtual es un aislamiento lógico de la infraestructura de red de Azure dedicada a su suscripción.</span><span class="sxs-lookup"><span data-stu-id="8a940-152">A VNet is a logical isolation of the Azure network infrastructure dedicated to your subscription.</span></span> <span data-ttu-id="8a940-153">También se puede conectar redes virtuales entre sí y a las redes locales con VPN de sitio a sitio y dedicado [vínculos WAN](https://docs.microsoft.com/azure/expressroute/expressroute-introduction).</span><span class="sxs-lookup"><span data-stu-id="8a940-153">You can also connect VNets to each other and to your on-premises networks using site-to-site VPNs￼ and dedicated [WAN links](https://docs.microsoft.com/azure/expressroute/expressroute-introduction).</span></span>

![Conectividad de red básica](media/azure-network-security/azure-network-security-fig-2.png)

<span data-ttu-id="8a940-155">Teniendo en cuenta que usa máquinas virtuales para hospedar servidores en Azure, la cuestión es cómo se conectan esas máquinas virtuales a una red.</span><span class="sxs-lookup"><span data-stu-id="8a940-155">With the understanding that you use VMs to host servers in Azure, the question is how those VMs connect to a network.</span></span> <span data-ttu-id="8a940-156">La respuesta es que las máquinas virtuales se conectan a una instancia de [Azure Virtual Network](https://docs.microsoft.com/azure/virtual-network/virtual-networks-overview).</span><span class="sxs-lookup"><span data-stu-id="8a940-156">The answer is that VMs connect to an [Azure Virtual Network](https://docs.microsoft.com/azure/virtual-network/virtual-networks-overview).</span></span>

<span data-ttu-id="8a940-157">Las instancias de Azure Virtual Network son similares a las redes virtuales que usa de forma local con sus propias soluciones de plataforma de virtualización, como Microsoft Hyper-V o VMware.</span><span class="sxs-lookup"><span data-stu-id="8a940-157">Azure Virtual Networks are like the virtual networks you use on-premises with your own virtualization platform solutions, such as Microsoft Hyper-V or VMware.</span></span>

#### <a name="intra-vnet-connectivity"></a><span data-ttu-id="8a940-158">Conectividad entre redes virtuales</span><span class="sxs-lookup"><span data-stu-id="8a940-158">Intra-VNet connectivity</span></span>

<span data-ttu-id="8a940-159">Puede conectar redes virtuales entre sí, habilitar recursos conectados a cualquier red virtual para que se comuniquen entre sí a través de redes virtuales.</span><span class="sxs-lookup"><span data-stu-id="8a940-159">You can connect VNets to each other, enabling resources connected to either VNet to communicate with each other across VNets.</span></span> <span data-ttu-id="8a940-160">Puede utilizar una o ambas de las siguientes opciones para conectar redes virtuales entre sí:</span><span class="sxs-lookup"><span data-stu-id="8a940-160">You can use either or both of the following options to connect VNets to each other:</span></span>

- <span data-ttu-id="8a940-161">**Emparejamiento:** permite que los recursos se conecten a distintas redes virtuales de Azure en la misma ubicación de Azure para comunicarse entre sí.</span><span class="sxs-lookup"><span data-stu-id="8a940-161">**Peering:** Enables resources connected to different Azure VNets within the same Azure location to communicate with each other.</span></span> <span data-ttu-id="8a940-162">El ancho de banda y la latencia en las redes virtuales son los mismos que si los recursos estuvieran conectados a la misma red virtual.</span><span class="sxs-lookup"><span data-stu-id="8a940-162">The bandwidth and latency across the VNet is the same as if the resources were connected to the same VNet.</span></span> <span data-ttu-id="8a940-163">Para más información sobre emparejamiento, consulte [Emparejamiento de redes virtuales de Azure](https://docs.microsoft.com/azure/virtual-network/virtual-network-peering-overview).</span><span class="sxs-lookup"><span data-stu-id="8a940-163">To learn more about peering, read [Virtual network peering](https://docs.microsoft.com/azure/virtual-network/virtual-network-peering-overview).</span></span>

 ![Emparejamiento](media/azure-network-security/azure-network-security-fig-3.png)

- <span data-ttu-id="8a940-165">**Conexión de red virtual a red virtual:** permite recursos conectados a la red virtual de Azure diferentes dentro de las mismas ubicaciones de Azure, o diferentes.</span><span class="sxs-lookup"><span data-stu-id="8a940-165">**VNet-to-VNet connection:** Enables resources connected to different Azure VNet within the same, or different Azure locations.</span></span> <span data-ttu-id="8a940-166">A diferencia del emparejamiento, el ancho de banda es limitado entre las redes virtuales porque el tráfico debe pasar a través de una instancia de Azure VPN Gateway.</span><span class="sxs-lookup"><span data-stu-id="8a940-166">Unlike peering, bandwidth is limited between VNets because traffic must flow through an Azure VPN Gateway.</span></span>

![Conexión de red virtual a red virtual](media/azure-network-security/azure-network-security-fig-4.png)


<span data-ttu-id="8a940-168">Para más información sobre cómo conectar redes virtuales con una conexión de red virtual a red virtual, consulte el artículo [Configuración de una conexión de red virtual a red virtual](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-howto-vnet-vnet-resource-manager-portal?toc=%2fazure%2fvirtual-network%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="8a940-168">To learn more about connecting VNets with a VNet-to-VNet connection, read the [Configure a VNet-to-VNet connection article](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-howto-vnet-vnet-resource-manager-portal?toc=%2fazure%2fvirtual-network%2ftoc.json).</span></span>

#### <a name="azure-virtual-network-capabilities"></a><span data-ttu-id="8a940-169">Funcionalidades de Azure Virtual Network:</span><span class="sxs-lookup"><span data-stu-id="8a940-169">Azure virtual network capabilities:</span></span>

<span data-ttu-id="8a940-170">Como puede ver, una instancia de Azure Virtual Network proporciona máquinas virtuales para conectarse a la red de forma que puedan conectarse a otros recursos de red de una forma segura.</span><span class="sxs-lookup"><span data-stu-id="8a940-170">As you can see, an Azure Virtual Network provides virtual machines to connect to the network so that they can connect to other network resources in a secure fashion.</span></span> <span data-ttu-id="8a940-171">Sin embargo, la conectividad básica es solo el principio.</span><span class="sxs-lookup"><span data-stu-id="8a940-171">However, basic connectivity is just the beginning.</span></span> <span data-ttu-id="8a940-172">Las siguientes funcionalidades de Azure Virtual Network exponen características de seguridad de este servicio:</span><span class="sxs-lookup"><span data-stu-id="8a940-172">The following capabilities of the Azure Virtual Network service expose security characteristics of the Azure Virtual Network:</span></span>

-   <span data-ttu-id="8a940-173">Aislamiento</span><span class="sxs-lookup"><span data-stu-id="8a940-173">Isolation</span></span>

-   <span data-ttu-id="8a940-174">Conectividad de Internet</span><span class="sxs-lookup"><span data-stu-id="8a940-174">Internet connectivity</span></span>

-   <span data-ttu-id="8a940-175">Conectividad de recursos de Azure</span><span class="sxs-lookup"><span data-stu-id="8a940-175">Azure resource connectivity</span></span>

-   <span data-ttu-id="8a940-176">Conectividad de red virtual</span><span class="sxs-lookup"><span data-stu-id="8a940-176">VNet connectivity</span></span>

-   <span data-ttu-id="8a940-177">Conectividad local</span><span class="sxs-lookup"><span data-stu-id="8a940-177">On-premises connectivity</span></span>

-   <span data-ttu-id="8a940-178">Filtrado de tráfico</span><span class="sxs-lookup"><span data-stu-id="8a940-178">Traffic filtering</span></span>

-   <span data-ttu-id="8a940-179">Enrutamiento</span><span class="sxs-lookup"><span data-stu-id="8a940-179">Routing</span></span>

<span data-ttu-id="8a940-180">**Aislamiento**</span><span class="sxs-lookup"><span data-stu-id="8a940-180">**Isolation**</span></span>

<span data-ttu-id="8a940-181">Las redes virtuales están completamente [aisladas](https://docs.microsoft.com/azure/virtual-network/virtual-networks-overview) entre sí.</span><span class="sxs-lookup"><span data-stu-id="8a940-181">VNets are [isolated](https://docs.microsoft.com/azure/virtual-network/virtual-networks-overview) from one another.</span></span> <span data-ttu-id="8a940-182">Puede crear redes virtuales independientes para el desarrollo, la prueba y la producción que usan los mismos bloques de direcciones de [CIDR](https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing).</span><span class="sxs-lookup"><span data-stu-id="8a940-182">You can create separate VNets for development, testing, and production that use the same [CIDR](https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing) address blocks.</span></span> <span data-ttu-id="8a940-183">Por el contrario, puede crear varias redes virtuales que usan diferentes bloques de direcciones CIDR y que conectan redes entre sí.</span><span class="sxs-lookup"><span data-stu-id="8a940-183">Conversely, you can create multiple VNets that use different CIDR address blocks and connect networks together.</span></span> <span data-ttu-id="8a940-184">También puede segmentar una red virtual en varias subredes.</span><span class="sxs-lookup"><span data-stu-id="8a940-184">You can segment a VNet into multiple subnets.</span></span>

<span data-ttu-id="8a940-185">Azure proporciona resolución de nombres interna para máquinas virtuales e instancias de rol de [Cloud Services](https://azure.microsoft.com/services/cloud-services/) conectadas a una red virtual.</span><span class="sxs-lookup"><span data-stu-id="8a940-185">Azure provides internal name resolution for VMs and [Cloud Services](https://azure.microsoft.com/services/cloud-services/) role instances connected to a VNet.</span></span> <span data-ttu-id="8a940-186">Si lo desea, puede configurar una red virtual para usar sus propios servidores DNS, en lugar de utilizar la resolución de nombres interna Azure.</span><span class="sxs-lookup"><span data-stu-id="8a940-186">You can optionally configure a VNet to use your own DNS servers, instead of using Azure internal name resolution.</span></span>

<span data-ttu-id="8a940-187">Puede implementar varias redes virtuales dentro de cada [suscripción](https://docs.microsoft.com/azure/azure-glossary-cloud-terminology?toc=%2fazure%2fvirtual-network%2ftoc.json) y [región](https://docs.microsoft.com/azure/azure-glossary-cloud-terminology?toc=%2fazure%2fvirtual-network%2ftoc.json) de Azure.</span><span class="sxs-lookup"><span data-stu-id="8a940-187">You can implement multiple VNets within each Azure [subscription](https://docs.microsoft.com/azure/azure-glossary-cloud-terminology?toc=%2fazure%2fvirtual-network%2ftoc.json) and Azure [region](https://docs.microsoft.com/azure/azure-glossary-cloud-terminology?toc=%2fazure%2fvirtual-network%2ftoc.json).</span></span> <span data-ttu-id="8a940-188">Cada red virtual está aislada de otras redes virtuales.</span><span class="sxs-lookup"><span data-stu-id="8a940-188">Each VNet is isolated from other VNets.</span></span> <span data-ttu-id="8a940-189">Para cada red virtual, puede:</span><span class="sxs-lookup"><span data-stu-id="8a940-189">For each VNet you can:</span></span>

-   <span data-ttu-id="8a940-190">Especificar un espacio de direcciones IP privado personalizado mediante direcciones públicas y privadas (RFC 1918).</span><span class="sxs-lookup"><span data-stu-id="8a940-190">Specify a custom private IP address space using public and private (RFC 1918) addresses.</span></span> <span data-ttu-id="8a940-191">Azure asigna recursos conectados a la red virtual a una dirección IP privada desde el espacio de direcciones que asigne.</span><span class="sxs-lookup"><span data-stu-id="8a940-191">Azure assigns resources connected to the VNet a private IP address from the address space, you assign.</span></span>

-   <span data-ttu-id="8a940-192">Segmentar la red virtual en una o varias subredes y asignar una parte del espacio de direcciones de redes virtuales para cada subred.</span><span class="sxs-lookup"><span data-stu-id="8a940-192">Segment the VNet into one or more subnets and allocate a portion of the VNet address space to each subnet.</span></span>

-   <span data-ttu-id="8a940-193">Utilizar la resolución de nombres que proporciona Azure o especificar su propio servidor DNS para su uso por recursos conectados a una red virtual.</span><span class="sxs-lookup"><span data-stu-id="8a940-193">Use Azure-provided name resolution or specify your own DNS server for use by resources connected to a VNet.</span></span> <span data-ttu-id="8a940-194">Para más información sobre la resolución de nombres de las redes virtuales, lea el artículo [Resolución de nombres para las máquinas virtuales y servicios en la nube](https://docs.microsoft.com/azure/virtual-network/virtual-networks-name-resolution-for-vms-and-role-instances).</span><span class="sxs-lookup"><span data-stu-id="8a940-194">To learn more about name resolution in VNets, read the [Name resolution for VMs and Cloud Services](https://docs.microsoft.com/azure/virtual-network/virtual-networks-name-resolution-for-vms-and-role-instances).</span></span>

<span data-ttu-id="8a940-195">**Conectividad de Internet**</span><span class="sxs-lookup"><span data-stu-id="8a940-195">**Internet connectivity**</span></span>

<span data-ttu-id="8a940-196">Todas las [máquinas virtuales de Azure](https://docs.microsoft.com/azure/virtual-machines/windows/) y las instancias de rol de Cloud Services conectadas a una red virtual tienen acceso a Internet, de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="8a940-196">All [Azure Virtual Machines (VM)](https://docs.microsoft.com/azure/virtual-machines/windows/) and Cloud Services role instances connected to a VNet have access to the Internet, by default.</span></span> <span data-ttu-id="8a940-197">También puede habilitar el acceso de entrada a recursos específicos, según sea necesario. Las máquinas virtuales y las instancias de rol de Cloud Services conectadas a una red virtual tienen acceso a Internet, de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="8a940-197">You can also enable inbound access to specific resources, as needed.(VM) and Cloud Services role instances connected to a VNet have access to the Internet,by default.</span></span> <span data-ttu-id="8a940-198">También puede habilitar el acceso entrante a recursos específicos, según sea necesario.</span><span class="sxs-lookup"><span data-stu-id="8a940-198">You can also enable inbound access to specific resources, as needed.</span></span>

<span data-ttu-id="8a940-199">Todos los recursos conectados a una red virtual tienen conectividad saliente a Internet de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="8a940-199">All resources connected to a VNet have outbound connectivity to the Internet by default.</span></span> <span data-ttu-id="8a940-200">La dirección IP privada del recurso es la dirección de red de origen traducida (SNAT) a una dirección IP pública por la infraestructura de Azure.</span><span class="sxs-lookup"><span data-stu-id="8a940-200">The private IP address of the resource is source network address translated (SNAT) to a public IP address by the Azure infrastructure.</span></span> <span data-ttu-id="8a940-201">Puede cambiar la conectividad predeterminada mediante la implementación del enrutamiento personalizado y del filtrado de tráfico.</span><span class="sxs-lookup"><span data-stu-id="8a940-201">You can change the default connectivity by implementing custom routing and traffic filtering.</span></span> <span data-ttu-id="8a940-202">Para más información acerca de la conectividad de Internet saliente, consulte el artículo de [Comprender las conexiones salientes en Azure](https://docs.microsoft.com/azure/load-balancer/load-balancer-outbound-connections?toc=%2fazure%2fvirtual-network%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="8a940-202">To learn more about outbound Internet connectivity, read the [Understanding outbound connections in Azure](https://docs.microsoft.com/azure/load-balancer/load-balancer-outbound-connections?toc=%2fazure%2fvirtual-network%2ftoc.json).</span></span>

<span data-ttu-id="8a940-203">Para la comunicación entrante con los recursos de Azure desde Internet, o para la comunicación saliente a Internet sin SNAT, se debe asignar un recurso una dirección IP pública.</span><span class="sxs-lookup"><span data-stu-id="8a940-203">To communicate inbound to Azure resources from the Internet, or to communicate outbound to the Internet without SNAT, a resource must be assigned a public IP address.</span></span> <span data-ttu-id="8a940-204">Para más información sobre las direcciones IP públicas, consulte [Direcciones IP publicas](https://docs.microsoft.com/azure/virtual-network/virtual-network-public-ip-address).</span><span class="sxs-lookup"><span data-stu-id="8a940-204">To learn more about public IP addresses, read the [Public IP addresses](https://docs.microsoft.com/azure/virtual-network/virtual-network-public-ip-address).</span></span>

<span data-ttu-id="8a940-205">**Conectividad de recursos de Azure**</span><span class="sxs-lookup"><span data-stu-id="8a940-205">**Azure resource connectivity**</span></span>

<span data-ttu-id="8a940-206">Los [recursos de Azure](https://docs.microsoft.com/azure/virtual-network/virtual-networks-overview) como Cloud Services y las máquinas virtuales se pueden conectar a la misma red virtual.</span><span class="sxs-lookup"><span data-stu-id="8a940-206">[Azure resources](https://docs.microsoft.com/azure/virtual-network/virtual-networks-overview) such as Cloud Services and VMs can be connected to the same VNet.</span></span> <span data-ttu-id="8a940-207">Los recursos pueden conectarse entre sí mediante direcciones IP privadas, aunque estén en subredes diferentes.</span><span class="sxs-lookup"><span data-stu-id="8a940-207">The resources can connect to each other using private IP addresses, even if they are in different subnets.</span></span> <span data-ttu-id="8a940-208">Azure proporciona el enrutamiento predeterminado entre subredes, redes virtuales y redes locales, por lo que no tendrá que configurar ni administrar rutas.</span><span class="sxs-lookup"><span data-stu-id="8a940-208">Azure provides default routing between subnets, VNets, and on-premises networks, so you don't have to configure and manage routes.</span></span>

<span data-ttu-id="8a940-209">Se pueden conectar varios recursos de Azure a una red virtual, como máquinas virtuales (VM), Cloud Services, entornos de App Service y conjuntos de escalado de máquinas virtuales.</span><span class="sxs-lookup"><span data-stu-id="8a940-209">You can connect several Azure resources to a VNet, such as Virtual Machines (VM), Cloud Services, App Service Environments, and Virtual Machine Scale Sets.</span></span> <span data-ttu-id="8a940-210">Las máquinas virtuales se conectan a una subred dentro de una red virtual a través de una interfaz de red (NIC).</span><span class="sxs-lookup"><span data-stu-id="8a940-210">VMs connect to a subnet within a VNet through a network interface (NIC).</span></span> <span data-ttu-id="8a940-211">Para más información sobre las NIC, consulte [Interfaces de red](https://docs.microsoft.com/azure/virtual-network/virtual-network-network-interface).</span><span class="sxs-lookup"><span data-stu-id="8a940-211">To learn more about NICs, read the [Network interfaces](https://docs.microsoft.com/azure/virtual-network/virtual-network-network-interface).</span></span>

<span data-ttu-id="8a940-212">**Conectividad de red virtual**</span><span class="sxs-lookup"><span data-stu-id="8a940-212">**VNet connectivity**</span></span>

<span data-ttu-id="8a940-213">Las [redes virtuales](https://docs.microsoft.com/azure/virtual-network/virtual-networks-overview) se pueden conectar entre sí, habilitando los recursos conectados a cualquier red virtual para que se comuniquen con cualquier recurso de cualquier red virtual.</span><span class="sxs-lookup"><span data-stu-id="8a940-213">[VNets](https://docs.microsoft.com/azure/virtual-network/virtual-networks-overview) can be connected to each other, enabling resources connected to any VNet to communicate with any resource on any other VNet.</span></span>

<span data-ttu-id="8a940-214">Puede conectar redes virtuales entre sí, habilitar recursos conectados a cualquier red virtual para que se comuniquen entre sí a través de redes virtuales.</span><span class="sxs-lookup"><span data-stu-id="8a940-214">You can connect VNets to each other, enabling resources connected to either VNet to communicate with each other across VNets.</span></span> <span data-ttu-id="8a940-215">Puede utilizar una o ambas de las siguientes opciones para conectar redes virtuales entre sí:</span><span class="sxs-lookup"><span data-stu-id="8a940-215">You can use either or both of the following options to connect VNets to each other:</span></span>

- <span data-ttu-id="8a940-216">**Emparejamiento:** permite que los recursos se conecten a distintas redes virtuales de Azure en la misma ubicación de Azure para comunicarse entre sí.</span><span class="sxs-lookup"><span data-stu-id="8a940-216">**Peering:** Enables resources connected to different Azure VNets within the same Azure location to communicate with each other.</span></span> <span data-ttu-id="8a940-217">El ancho de banda y la latencia en las redes virtuales son los mismos que si los recursos estuvieran conectados a la misma red virtual. Para más información sobre el emparejamiento, consulte [Emparejamiento de redes virtuales de Azure](https://docs.microsoft.com/azure/virtual-network/virtual-network-peering-overview).</span><span class="sxs-lookup"><span data-stu-id="8a940-217">The bandwidth and latency across the VNets is the same as if the resources were connected to the same VNet.To learn more about peering, read the [Virtual network peering](https://docs.microsoft.com/azure/virtual-network/virtual-network-peering-overview).</span></span>

- <span data-ttu-id="8a940-218">**Conexión de red virtual a red virtual:** permite recursos conectados a la red virtual de Azure diferentes dentro de las mismas ubicaciones de Azure, o diferentes.</span><span class="sxs-lookup"><span data-stu-id="8a940-218">**VNet-to-VNet connection:** Enables resources connected to different Azure VNet within the same, or different Azure locations.</span></span> <span data-ttu-id="8a940-219">A diferencia del emparejamiento, el ancho de banda es limitado entre las redes virtuales porque el tráfico debe pasar a través de una instancia de Azure VPN Gateway.</span><span class="sxs-lookup"><span data-stu-id="8a940-219">Unlike peering, bandwidth is limited between VNets because traffic must flow through an Azure VPN Gateway.</span></span> <span data-ttu-id="8a940-220">Más información sobre cómo conectar redes virtuales con una conexión de red virtual a red virtual.</span><span class="sxs-lookup"><span data-stu-id="8a940-220">To learn more about connecting VNets with a VNet-to-VNet connection.</span></span> <span data-ttu-id="8a940-221">Para más información, lea el artículo [Configuración de una conexión de red virtual a red virtual](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-howto-vnet-vnet-resource-manager-portal?toc=%2fazure%2fvirtual-network%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="8a940-221">To learn more, read the [Configure a VNet-to-VNet connection](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-howto-vnet-vnet-resource-manager-portal?toc=%2fazure%2fvirtual-network%2ftoc.json) .</span></span>

<span data-ttu-id="8a940-222">**Conectividad local**</span><span class="sxs-lookup"><span data-stu-id="8a940-222">**On-premises connectivity**</span></span>

<span data-ttu-id="8a940-223">Las redes virtuales se pueden conectar a redes [locales](https://docs.microsoft.com/azure/virtual-network/virtual-networks-overview) a través de conexiones de redes privadas entre la red y Azure, o a través de una conexión VPN de sitio a sitio a través de Internet.</span><span class="sxs-lookup"><span data-stu-id="8a940-223">VNets can be connected to [on-premises](https://docs.microsoft.com/azure/virtual-network/virtual-networks-overview) networks through private network connections between your network and Azure, or through a site-to-site VPN connection over the Internet.</span></span>

<span data-ttu-id="8a940-224">Puede conectar su red local a una red virtual mediante cualquier combinación de las siguientes opciones:</span><span class="sxs-lookup"><span data-stu-id="8a940-224">You can connect your on-premises network to a VNet using any combination of the following options:</span></span>

- <span data-ttu-id="8a940-225">**Red privada virtual (VPN) de punto a sitio:** establecido entre un único equipo conectado a la red y a la red virtual.</span><span class="sxs-lookup"><span data-stu-id="8a940-225">**Point-to-site virtual private network (VPN):** Established between a single PC connected to your network and the VNet.</span></span> <span data-ttu-id="8a940-226">Este tipo de conexión es muy útil cuando se está comenzando con Azure, o para los desarrolladores, porque requiere poco o ningún cambio en la red existente.</span><span class="sxs-lookup"><span data-stu-id="8a940-226">This connection type is great if you're just getting started with Azure, or for developers, because it requires little or no changes to your existing network.</span></span> <span data-ttu-id="8a940-227">La conexión utiliza el protocolo SSTP para proporcionar comunicación cifrada a través de Internet entre el equipo y la red virtual.</span><span class="sxs-lookup"><span data-stu-id="8a940-227">The connection uses the SSTP protocol to provide encrypted communication over the Internet between the PC and the VNet.</span></span> <span data-ttu-id="8a940-228">La latencia de una VPN de punto a sitio es imprevisible, ya que el tráfico atraviesa Internet.</span><span class="sxs-lookup"><span data-stu-id="8a940-228">The latency for a point-to-site VPN is unpredictable since the traffic traverses the Internet.</span></span>

- <span data-ttu-id="8a940-229">**VPN de sitio a sitio:** se establece entre el dispositivo VPN y una instancia de Azure VPN Gateway.</span><span class="sxs-lookup"><span data-stu-id="8a940-229">**Site-to-site VPN:** Established between your VPN device and an Azure VPN Gateway.</span></span> <span data-ttu-id="8a940-230">Este tipo de conexión permite cualquier recurso local que autoriza a acceder a una red virtual.</span><span class="sxs-lookup"><span data-stu-id="8a940-230">This connection type enables any on-premises resource you authorize to access a VNet.</span></span> <span data-ttu-id="8a940-231">La conexión es una VPN de IPSec/IKE que proporciona comunicación cifrada por Internet entre el dispositivo local y la instancia de Azure VPN Gateway.</span><span class="sxs-lookup"><span data-stu-id="8a940-231">The connection is an IPsec/IKE VPN that provides encrypted communication over the Internet between your on-premises device and the Azure VPN gateway.</span></span> <span data-ttu-id="8a940-232">La latencia de una conexión de sitio a sitio es imprevisible, ya que el tráfico atraviesa Internet.</span><span class="sxs-lookup"><span data-stu-id="8a940-232">The latency for a site-to-site connection is unpredictable since the traffic traverses the Internet.</span></span>

- <span data-ttu-id="8a940-233">**Azure ExpressRoute:** establecida entre la red y Azure, a través de un asociado de ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="8a940-233">**Azure ExpressRoute:** Established between your network and Azure, through an ExpressRoute partner.</span></span> <span data-ttu-id="8a940-234">Esta conexión es privada.</span><span class="sxs-lookup"><span data-stu-id="8a940-234">This connection is private.</span></span> <span data-ttu-id="8a940-235">El tráfico no atraviesa Internet.</span><span class="sxs-lookup"><span data-stu-id="8a940-235">Traffic does not traverse the Internet.</span></span> <span data-ttu-id="8a940-236">La latencia de una conexión ExpressRoute es predecible, ya que el tráfico no atraviesa Internet.</span><span class="sxs-lookup"><span data-stu-id="8a940-236">The latency for an ExpressRoute connection is predictable since traffic doesn't traverse the Internet.</span></span> <span data-ttu-id="8a940-237">Para más información acerca de todas las opciones de la conexión anterior, consulte [Diagramas de topología de conexión](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-about-vpngateways?toc=%2fazure%2fvirtual-network%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="8a940-237">To learn more about all the previous connection options, read the [Connection topology diagrams](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-about-vpngateways?toc=%2fazure%2fvirtual-network%2ftoc.json).</span></span>

<span data-ttu-id="8a940-238">**Filtrado de tráfico**</span><span class="sxs-lookup"><span data-stu-id="8a940-238">**Traffic filtering**</span></span>

<span data-ttu-id="8a940-239">El [tráfico de red](https://docs.microsoft.com/azure/virtual-network/virtual-networks-overview) de entrada y salida de las instancias de rol de Cloud Services y máquinas virtuales se puede filtrar por dirección IP y puerto de origen, dirección IP y puerto de destino, y por protocolo.</span><span class="sxs-lookup"><span data-stu-id="8a940-239">VM and Cloud Services role instances [network traffic](https://docs.microsoft.com/azure/virtual-network/virtual-networks-overview) can be filtered inbound and outbound by source IP address and port, destination IP address and port, and protocol.</span></span>

<span data-ttu-id="8a940-240">Puede filtrar el tráfico de red entre subredes mediante una o ambas de las siguientes opciones:</span><span class="sxs-lookup"><span data-stu-id="8a940-240">You can filter network traffic between subnets using either or both of the following options:</span></span>

- <span data-ttu-id="8a940-241">**Grupos de seguridad de red:** cada grupo de seguridad de red puede contener varias reglas de seguridad entrante y saliente, que le permiten filtrar el tráfico por dirección IP, puerto y protocolo de origen y destino.</span><span class="sxs-lookup"><span data-stu-id="8a940-241">**Network security groups (NSG):** Each NSG can contain multiple inbound and outbound security rules that enable you to filter traffic by source and destination IP address, port, and protocol.</span></span> <span data-ttu-id="8a940-242">Puede aplicar un grupo de seguridad de red a cada NIC de una máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="8a940-242">You can apply an NSG to each NIC in a VM.</span></span> <span data-ttu-id="8a940-243">También puede aplicar un grupo de seguridad de red a la subred de una NIC u otro recurso de Azure, a la que está conectado.</span><span class="sxs-lookup"><span data-stu-id="8a940-243">You can also apply an NSG to the subnet a NIC, or other Azure resource, is connected to.</span></span> <span data-ttu-id="8a940-244">Consulte [Grupos de seguridad de red](https://docs.microsoft.com/azure/virtual-network/virtual-networks-nsg) para más información sobre estos.</span><span class="sxs-lookup"><span data-stu-id="8a940-244">To learn more about NSGs, read the [Network security groups](https://docs.microsoft.com/azure/virtual-network/virtual-networks-nsg).</span></span>

- <span data-ttu-id="8a940-245">**Aplicaciones de red virtual:** una aplicación de red virtual es una máquina virtual que ejecuta software que realiza una función de red, como un firewall.</span><span class="sxs-lookup"><span data-stu-id="8a940-245">**Virtual Network Appliances:** A virtual network appliance is a VM running software that performs a network function, such as a firewall.</span></span> <span data-ttu-id="8a940-246">Consulte una lista de dispositivos virtuales de red disponibles en Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="8a940-246">View a list of available NVAs in the Azure Marketplace.</span></span> <span data-ttu-id="8a940-247">Los dispositivos virtuales de red también están disponibles para proporcionar la optimización de la WAN y otras funciones de tráfico de red.</span><span class="sxs-lookup"><span data-stu-id="8a940-247">NVAs are also available that provide WAN optimization and other network traffic functions.</span></span> <span data-ttu-id="8a940-248">Los dispositivos virtuales de red normalmente se usan con rutas BGP o definidas por el usuario.</span><span class="sxs-lookup"><span data-stu-id="8a940-248">NVAs are typically used with user-defined or BGP routes.</span></span> <span data-ttu-id="8a940-249">También puede utilizar un dispositivo virtual de red para filtrar el tráfico entre redes virtuales.</span><span class="sxs-lookup"><span data-stu-id="8a940-249">You can also use an NVA to filter traffic between VNets.</span></span>

<span data-ttu-id="8a940-250">**Enrutamiento**</span><span class="sxs-lookup"><span data-stu-id="8a940-250">**Routing**</span></span>

<span data-ttu-id="8a940-251">Opcionalmente, puede invalidar el enrutamiento predeterminado de Azure mediante la configuración de sus propias rutas, o mediante el uso de rutas BGP a través de una puerta de enlace de red.</span><span class="sxs-lookup"><span data-stu-id="8a940-251">You can optionally override Azure's default routing by configuring your own routes, or using BGP routes through a network gateway.</span></span>

<span data-ttu-id="8a940-252">Azure crea tablas de rutas que permiten a los recursos conectados a una subred de cualquier red virtual se comuniquen entre sí, de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="8a940-252">Azure creates route tables that enable resources connected to any subnet in any VNet to communicate with each other, by default.</span></span> <span data-ttu-id="8a940-253">Puede implementar una o ambas de las siguientes opciones para reemplazar las rutas predeterminadas que crea Azure:</span><span class="sxs-lookup"><span data-stu-id="8a940-253">You can implement either or both of the following options to override the default routes Azure creates:</span></span>

- <span data-ttu-id="8a940-254">**Rutas definidas por el usuario:** puede crear tablas de rutas personalizadas con las rutas que controlan a dónde se enruta el tráfico para cada subred.</span><span class="sxs-lookup"><span data-stu-id="8a940-254">**User-defined routes:** You can create custom route tables with routes that control where traffic is routed to for each subnet.</span></span> <span data-ttu-id="8a940-255">Para aprender más sobre las rutas definidas por el usuario, consulte [Rutas definidas por el usuario](https://docs.microsoft.com/azure/virtual-network/virtual-networks-udr-overview).</span><span class="sxs-lookup"><span data-stu-id="8a940-255">To learn more about user-defined routes, read the [User-defined routes](https://docs.microsoft.com/azure/virtual-network/virtual-networks-udr-overview).</span></span>

- <span data-ttu-id="8a940-256">**Rutas BGP:** si conecta la red local a su red local mediante una conexión de Azure VPN Gateway o ExpressRoute, puede propagar las rutas BGP a sus redes virtuales.</span><span class="sxs-lookup"><span data-stu-id="8a940-256">**BGP routes:** If you connect your VNet to your on-premises network using an Azure VPN Gateway or ExpressRoute connection, you can propagate BGP routes to your VNets.</span></span>

### <a name="hybrid-internet-connectivity-connect-to-an-on-premises-network"></a><span data-ttu-id="8a940-257">Conectividad híbrida a Internet: Conexión a una red local</span><span class="sxs-lookup"><span data-stu-id="8a940-257">Hybrid internet connectivity: Connect to an on-premises network</span></span>
<span data-ttu-id="8a940-258">Puede conectar su red local a una red virtual mediante cualquier combinación de las siguientes opciones:</span><span class="sxs-lookup"><span data-stu-id="8a940-258">You can connect your on-premises network to a VNet using any combination of the following options:</span></span>

-   <span data-ttu-id="8a940-259">Conectividad de Internet</span><span class="sxs-lookup"><span data-stu-id="8a940-259">Internet connectivity</span></span>

-   <span data-ttu-id="8a940-260">VPN de punto a sitio (VPN P2S)</span><span class="sxs-lookup"><span data-stu-id="8a940-260">Point-to-site VPN (P2S VPN)</span></span>

-   <span data-ttu-id="8a940-261">VPN de sitio a sitio (VPN S2S)</span><span class="sxs-lookup"><span data-stu-id="8a940-261">Site-to-Site VPN (S2S VPN)</span></span>

-   <span data-ttu-id="8a940-262">ExpressRoute</span><span class="sxs-lookup"><span data-stu-id="8a940-262">ExpressRoute</span></span>

#### <a name="internet-connectivity"></a><span data-ttu-id="8a940-263">Conectividad de Internet</span><span class="sxs-lookup"><span data-stu-id="8a940-263">Internet Connectivity</span></span>

<span data-ttu-id="8a940-264">Como sugiere su nombre, la conectividad de Internet permite que las cargas de trabajo sean accesibles desde Internet, haciendo que exponga diferentes puntos de conexión públicos a cargas de trabajo ubicadas dentro de la red virtual.</span><span class="sxs-lookup"><span data-stu-id="8a940-264">As its name suggests, Internet connectivity makes your workloads accessible from the Internet, by having you expose different public endpoints to workloads that live inside the virtual network.</span></span> <span data-ttu-id="8a940-265">Estas cargas de trabajo podrían exponerse mediante un [equilibrador de carga accesible desde Internet](https://docs.microsoft.com/azure/load-balancer/load-balancer-internet-overview) o simplemente asignando una dirección IP pública a la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="8a940-265">These workloads could be exposed using [Internet-facing Load Balancer](https://docs.microsoft.com/azure/load-balancer/load-balancer-internet-overview) or simply assigning a public IP address to the  VM.</span></span> <span data-ttu-id="8a940-266">De esta manera, es posible que cualquier elemento en Internet pueda tener acceso a esa máquina virtual, siempre y cuando el firewall del host, los [grupos de seguridad de red](https://docs.microsoft.com/azure/virtual-network/virtual-networks-nsg) y las [rutas definidas por el usuario](https://docs.microsoft.com/azure/virtual-network/virtual-networks-udr-overview) lo permitan.</span><span class="sxs-lookup"><span data-stu-id="8a940-266">This way, it becomes possible for anything on the Internet to be able to reach that virtual machine, provided a host firewall, [network security groups (NSG)](https://docs.microsoft.com/azure/virtual-network/virtual-networks-nsg), and [User-Defined Routes](https://docs.microsoft.com/azure/virtual-network/virtual-networks-udr-overview) allow that to happen.</span></span>

<span data-ttu-id="8a940-267">En este escenario, puede exponer una aplicación que necesita que sea pública en Internet y hacer que sea posible conectarse a ella desde cualquier lugar, o desde ubicaciones específicas según la configuración de las cargas de trabajo.</span><span class="sxs-lookup"><span data-stu-id="8a940-267">In this scenario, you could expose an application that needs to be public to the Internet and be able to connect to it from anywhere, or from specific locations depending on the configuration of your workloads.</span></span>

#### <a name="point-to-site-vpn-or-site-to-site-vpn"></a><span data-ttu-id="8a940-268">VPN de punto a sitio o de sitio a sitio</span><span class="sxs-lookup"><span data-stu-id="8a940-268">Point-to-Site VPN or Site-to-Site VPN</span></span>
<span data-ttu-id="8a940-269">Estas dos pertenecen a la misma categoría.</span><span class="sxs-lookup"><span data-stu-id="8a940-269">These two falls into the same category.</span></span> <span data-ttu-id="8a940-270">Ambas necesitan que la red virtual tenga una instancia de VPN Gateway y que pueda conectarse a ella mediante un cliente de VPN para la estación de trabajo como parte de la [configuración de punto a sitio](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-howto-point-to-site-resource-manager-portal) o bien mediante la configuración del [dispositivo VPN](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-about-vpn-devices) local para que pueda finalizar una VPN de sitio a sitio.</span><span class="sxs-lookup"><span data-stu-id="8a940-270">They both need your VNet to have a VPN Gateway and you can connect to it using either a VPN Client for your workstation as part of the [Point-to-Site configuration](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-howto-point-to-site-resource-manager-portal) or you can configure your on-premises [VPN device](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-about-vpn-devices) to be able to terminate a site-to-site VPN.</span></span> <span data-ttu-id="8a940-271">De esta manera, los dispositivos locales pueden conectarse a los recursos de la red virtual.</span><span class="sxs-lookup"><span data-stu-id="8a940-271">This way, on-premises devices can connect to resources within the VNet.</span></span>

<span data-ttu-id="8a940-272">Una configuración de punto a sitio (P2S) permite crear una conexión segura entre un equipo cliente individual y una red virtual.</span><span class="sxs-lookup"><span data-stu-id="8a940-272">A Point-to-Site (P2S) configuration lets you create a secure connection from an individual client computer to a virtual network.</span></span> <span data-ttu-id="8a940-273">P2S es una conexión VPN sobre SSTP (Protocolo de túnel de sockets seguros).</span><span class="sxs-lookup"><span data-stu-id="8a940-273">P2S is a VPN connection over SSTP (Secure Socket Tunneling Protocol).</span></span>

![VPN de punto a sitio](media/azure-network-security/azure-network-security-fig-5.png)

<span data-ttu-id="8a940-275">Las conexiones de punto a sitio son útiles cuando desea conectarse a su red virtual desde una ubicación remota, como desde casa o desde un centro de conferencias, o si tiene pocos clientes que necesiten conectarse a una red virtual.</span><span class="sxs-lookup"><span data-stu-id="8a940-275">Point-to-Site connections are useful when you want to connect to your VNet from a remote location, such as from home or a conference center, or when you only have a few clients that need to connect to a virtual network.</span></span>

<span data-ttu-id="8a940-276">Las conexiones P2S no requieren un dispositivo VPN ni una dirección IP pública.</span><span class="sxs-lookup"><span data-stu-id="8a940-276">P2S connections do not require a VPN device or a public-facing IP address.</span></span> <span data-ttu-id="8a940-277">Para establecer la conexión VPN desde el equipo cliente.</span><span class="sxs-lookup"><span data-stu-id="8a940-277">You establish the VPN connection from the client computer.</span></span> <span data-ttu-id="8a940-278">Por eso, no es recomendable la conexión de punto a sitio para conectarse a Azure si necesita una conexión persistente de muchos equipos y dispositivos locales a la red de Azure.</span><span class="sxs-lookup"><span data-stu-id="8a940-278">Therefore, P2S is not recommended way to connect to Azure in case you need a persistent connection from many on-premises devices and computers to your Azure network.</span></span>

![VPN de sitio a sitio](media/azure-network-security/azure-network-security-fig-6.png)

> [!Note]
> <span data-ttu-id="8a940-280">Para más información sobre las conexiones de punto a sitio, consulte [Preguntas frecuentes sobre la conexión de punto a sitio](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-howto-point-to-site-classic-azure-portal).</span><span class="sxs-lookup"><span data-stu-id="8a940-280">For more information about Point-to-Site connections, see the [Point-to-Site FA v Q](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-howto-point-to-site-classic-azure-portal).</span></span>

<span data-ttu-id="8a940-281">Se utiliza una conexión de puerta de enlace VPN de sitio a sitio para conectar su red local a una red virtual de Azure a través de un túnel VPN de IPsec/IKE (IKEv1 o IKEv2).</span><span class="sxs-lookup"><span data-stu-id="8a940-281">A Site-to-Site VPN gateway connection is used to connect your on-premises network to an Azure virtual network over an IPsec/IKE (IKEv1 or IKEv2) VPN tunnel.</span></span>

<span data-ttu-id="8a940-282">Este tipo de conexión requiere un dispositivo VPN local que tenga una dirección IP pública asignada.</span><span class="sxs-lookup"><span data-stu-id="8a940-282">This type of connection requires a VPN device located on-premises that has an externally facing public IP address assigned to it.</span></span> <span data-ttu-id="8a940-283">Esta conexión tiene lugar a través de Internet y permite colocar la información en un "túnel" dentro de un vínculo cifrado entre la red y Azure.</span><span class="sxs-lookup"><span data-stu-id="8a940-283">This connection takes place over the Internet and allows you to “tunnel” information inside an encrypted link between your network and Azure.</span></span> <span data-ttu-id="8a940-284">La VPN de sitio a sitio es una tecnología segura y madura que empresas de todos los tamaños han implementado durante décadas.</span><span class="sxs-lookup"><span data-stu-id="8a940-284">Site-to-site VPN is a secure, mature technology that has been deployed by enterprises of all sizes for decades.</span></span> <span data-ttu-id="8a940-285">El cifrado del túnel se realiza con el [modo de túnel IPsec](https://technet.microsoft.com/library/cc786385.aspx).</span><span class="sxs-lookup"><span data-stu-id="8a940-285">Tunnel encryption is performed using [IPsec tunnel mode](https://technet.microsoft.com/library/cc786385.aspx).</span></span>

<span data-ttu-id="8a940-286">Si bien la VPN de sitio a sitio es una tecnología de confianza y establecida, el tráfico del túnel no atraviesa Internet.</span><span class="sxs-lookup"><span data-stu-id="8a940-286">While site-to-site VPN is a trusted, reliable, and established technology, traffic within the tunnel does traverse the Internet.</span></span> <span data-ttu-id="8a940-287">Además, el ancho de banda está relativamente limitado a un máximo de aproximadamente 200 Mbps.</span><span class="sxs-lookup"><span data-stu-id="8a940-287">In addition, bandwidth is relatively constrained to a maximum of about 200 Mbps.</span></span>

<span data-ttu-id="8a940-288">Si necesita un nivel de seguridad o de rendimiento excepcional para las conexiones entre locales, se recomienda utilizar Azure ExpressRoute para su conectividad.</span><span class="sxs-lookup"><span data-stu-id="8a940-288">If you require an exceptional level of security or performance for your cross-premises connections, we recommend that you use Azure ExpressRoute for your cross-premises connectivity.</span></span> <span data-ttu-id="8a940-289">ExpressRoute es un vínculo de WAN dedicada entre su ubicación local o un proveedor de hospedaje de Exchange.</span><span class="sxs-lookup"><span data-stu-id="8a940-289">ExpressRoute is a dedicated WAN link between your on-premises location or an Exchange hosting provider.</span></span> <span data-ttu-id="8a940-290">Se trata de una conexión de telecomunicaciones, los datos no viajan a través de Internet y, por tanto, no se exponen a los posibles riesgos inherentes a las comunicaciones de Internet.</span><span class="sxs-lookup"><span data-stu-id="8a940-290">Because this is a telco connection, your data doesn’t travel over the Internet and therefore is not exposed to the potential risks inherent in Internet communications.</span></span>

> [!Note]
> <span data-ttu-id="8a940-291">Para más información acerca de las puertas de enlace VPN, consulte [Acerca de VPN Gateway](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-about-vpngateways).</span><span class="sxs-lookup"><span data-stu-id="8a940-291">For more information about VPN gateways, see About [VPN gateway](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-about-vpngateways).</span></span>

#### <a name="dedicated-wan-link"></a><span data-ttu-id="8a940-292">Vínculo WAN dedicado</span><span class="sxs-lookup"><span data-stu-id="8a940-292">Dedicated WAN link</span></span>
<span data-ttu-id="8a940-293">Microsoft Azure ExpressRoute le permite ampliar sus redes locales a Azure a través de una conexión privada y dedicada que facilita un proveedor de conectividad.</span><span class="sxs-lookup"><span data-stu-id="8a940-293">Microsoft Azure ExpressRoute lets you extend your on-premises networks into the Azure over a dedicated private connection facilitated by a connectivity provider.</span></span>

<span data-ttu-id="8a940-294">Las conexiones ExpressRoute no pasan por la red pública de Internet.</span><span class="sxs-lookup"><span data-stu-id="8a940-294">ExpressRoute connections do not go over the public Internet.</span></span> <span data-ttu-id="8a940-295">Esto permite a las conexiones de ExpressRoute ofrecer más confiabilidad, más velocidad, menor latencia y mayor seguridad que las conexiones normales a través de Internet.</span><span class="sxs-lookup"><span data-stu-id="8a940-295">This allows ExpressRoute connections to offer more reliability, faster speeds, lower latencies, and higher security than typical connections over the Internet.</span></span>

![ <span data-ttu-id="8a940-296">Vínculo WAN dedicado</span><span class="sxs-lookup"><span data-stu-id="8a940-296">Dedicated WAN Link</span></span>](media/azure-network-security/azure-network-security-fig-7.png)

> [!Note]
> <span data-ttu-id="8a940-297">Para más información sobre cómo conectar la red a Microsoft mediante ExpressRoute, consulte [Modelos de conectividad de ExpressRoute](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-about-vpngateways) e [Información técnica de ExpressRoute](https://docs.microsoft.com/azure/expressroute/expressroute-introduction).</span><span class="sxs-lookup"><span data-stu-id="8a940-297">For information on how to connect your network to Microsoft using ExpressRoute, see [ExpressRoute connectivity models](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-about-vpngateways) and [ExpressRoute technical overview](https://docs.microsoft.com/azure/expressroute/expressroute-introduction).</span></span>

<span data-ttu-id="8a940-298">Al igual que con las opciones de VPN de sitio a sitio, ExpressRoute también le permite conectarse a recursos que no tienen por qué estar necesariamente en una sola red virtual.</span><span class="sxs-lookup"><span data-stu-id="8a940-298">As with the site-to-site VPN options, ExpressRoute also allows you to connect to resources that are not necessarily in only one VNet.</span></span> <span data-ttu-id="8a940-299">De hecho, según la SKU, puede conectarse a 10 redes virtuales.</span><span class="sxs-lookup"><span data-stu-id="8a940-299">In fact, depending on the SKU, you can connect to 10 VNets.</span></span> <span data-ttu-id="8a940-300">Si tiene el [complemento premium](https://docs.microsoft.com/azure/expressroute/expressroute-faqs), puede conectarse hasta a 100 redes virtuales, según el ancho de banda.</span><span class="sxs-lookup"><span data-stu-id="8a940-300">If you have the [premium add-on](https://docs.microsoft.com/azure/expressroute/expressroute-faqs), connections to up to 100 VNets are possible, depending on bandwidth.</span></span> <span data-ttu-id="8a940-301">Para más información sobre el aspecto de estos tipos de conexiones, consulte [Diagramas de topología de conexión](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-about-vpngateways?toc=%2fazure%2fvirtual-network%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="8a940-301">To learn more about what these types of connections look like, read [Connection topology diagrams](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-about-vpngateways?toc=%2fazure%2fvirtual-network%2ftoc.json).</span></span>

### <a name="security-controls"></a><span data-ttu-id="8a940-302">Controles de seguridad</span><span class="sxs-lookup"><span data-stu-id="8a940-302">Security controls</span></span>
<span data-ttu-id="8a940-303">Una instancia de Azure Virtual Network proporciona una red lógica y segura que está aislada de otras redes virtuales y es compatible con muchos controles de seguridad que se usan en las redes locales.</span><span class="sxs-lookup"><span data-stu-id="8a940-303">An Azure Virtual Network provides a secure, logical network that is isolated from other virtual networks and supports many security controls that you use on your on-premises networks.</span></span> <span data-ttu-id="8a940-304">Los clientes pueden crear su propia estructura mediante: subredes (con sus propios intervalos privados de direcciones IP), configuración de tablas de rutas, grupos de seguridad de red, listas de control de acceso (ACL), puertas de enlace y aplicaciones virtuales para ejecutar sus cargas de trabajo en la nube.</span><span class="sxs-lookup"><span data-stu-id="8a940-304">Customers create their own structure by using: subnets—they use their own private IP address range, configure route tables, network security groups, access control lists (ACLs), gateways, and virtual appliances to run their workloads in the cloud.</span></span>

<span data-ttu-id="8a940-305">Éstos son los controles de seguridad que puede usar en las instancias de Azure Virtual Network:</span><span class="sxs-lookup"><span data-stu-id="8a940-305">The following are security controls you can use on your Azure Virtual Networks:</span></span>

-   <span data-ttu-id="8a940-306">Controles de acceso a la red</span><span class="sxs-lookup"><span data-stu-id="8a940-306">Network Access Controls</span></span>

-   <span data-ttu-id="8a940-307">Rutas definidas por el usuario</span><span class="sxs-lookup"><span data-stu-id="8a940-307">User-Defined Routes</span></span>

-   <span data-ttu-id="8a940-308">Aplicación de seguridad de red</span><span class="sxs-lookup"><span data-stu-id="8a940-308">Network Security Appliance</span></span>

-   <span data-ttu-id="8a940-309">Application Gateway</span><span class="sxs-lookup"><span data-stu-id="8a940-309">Application Gateway</span></span>

-   <span data-ttu-id="8a940-310">Firewall de aplicaciones web de Azure</span><span class="sxs-lookup"><span data-stu-id="8a940-310">Azure Web Application Firewall</span></span>

-   <span data-ttu-id="8a940-311">Control de disponibilidad de red</span><span class="sxs-lookup"><span data-stu-id="8a940-311">Network Availability Control</span></span>

#### <a name="network-access-controls"></a><span data-ttu-id="8a940-312">Controles de acceso a la red</span><span class="sxs-lookup"><span data-stu-id="8a940-312">Network access controls</span></span>
<span data-ttu-id="8a940-313">Aunque Azure Virtual Network es la piedra angular del modelo de redes de Azure y proporciona aislamiento y protección, los [grupos de seguridad de red (NSG)](https://blogs.msdn.microsoft.com/igorpag/2016/05/14/azure-network-security-groups-nsg-best-practices-and-lessons-learned/) son la principal herramienta que se usa para aplicar y controlar las reglas de tráfico de red en el nivel de red.</span><span class="sxs-lookup"><span data-stu-id="8a940-313">While the Azure Virtual Network (VNet) is the cornerstone of Azure networking model and provides isolation and protection, the [Network Security Groups (NSG)](https://blogs.msdn.microsoft.com/igorpag/2016/05/14/azure-network-security-groups-nsg-best-practices-and-lessons-learned/) are the main tool you use to enforce and control network traffic rules at the network level.</span></span>

![ <span data-ttu-id="8a940-314">Controles de acceso a la red</span><span class="sxs-lookup"><span data-stu-id="8a940-314">Network Access Controls</span></span>](media/azure-network-security/azure-network-security-fig-8.png)


<span data-ttu-id="8a940-315">Puede controlar el acceso mediante el permiso o denegación de la comunicación entre las cargas de trabajo de una red virtual, desde sistemas de redes del cliente a través de conectividad entre locales o comunicación de Internet directa.</span><span class="sxs-lookup"><span data-stu-id="8a940-315">You can control access by permitting or denying communication between the workloads within a virtual network, from systems on customer’s networks via cross-premises connectivity, or direct Internet communication.</span></span>

<span data-ttu-id="8a940-316">En el diagrama, las redes virtuales y los grupos de seguridad de red están situados en una capa concreta de la pila de seguridad general de Azure, en la que se pueden usar NSG, UDR y dispositivos virtuales de red para crear límites de seguridad y así proteger las implementaciones de aplicaciones en la red protegida.</span><span class="sxs-lookup"><span data-stu-id="8a940-316">In the diagram, both VNets and NSGs reside in a specific layer in the Azure overall security stack, where NSGs, UDR, and network virtual appliances can be used to create security boundaries to protect the application deployments in the protected network.</span></span>

<span data-ttu-id="8a940-317">Los grupos de seguridad de red usan una 5-tupla para evaluar el tráfico (y se utilizan en las reglas que configura para el NSG):</span><span class="sxs-lookup"><span data-stu-id="8a940-317">NSGs use a 5-tuple to evaluate traffic (and are used in the rules you configure for the NSG):</span></span>

-   [<span data-ttu-id="8a940-318">Dirección IP de origen y destino</span><span class="sxs-lookup"><span data-stu-id="8a940-318">Source and destination IP address</span></span>](https://support.microsoft.com/help/969029/the-functionality-for-source-ip-address-selection-in-windows-server-2008-and-in-windows-vista-differs-from-the-corresponding-functionality-in-earlier-versions-of-windows)

-   [<span data-ttu-id="8a940-319">Puerto de origen y destino</span><span class="sxs-lookup"><span data-stu-id="8a940-319">Source and destination port</span></span>](https://technet.microsoft.com/library/dd197515)

-   <span data-ttu-id="8a940-320">Protocolo: [Protocolo de control de transmisión (TCP)](https://technet.microsoft.com/library/cc940037.aspx) o [Protocolo de datagramas de usuario (UDP)](https://technet.microsoft.com/library/cc940034.aspx)</span><span class="sxs-lookup"><span data-stu-id="8a940-320">Protocol: [Transmission Control Protocol (TCP)](https://technet.microsoft.com/library/cc940037.aspx) or [User Datagram Protocol (UDP)](https://technet.microsoft.com/library/cc940034.aspx)</span></span>

<span data-ttu-id="8a940-321">Esto significa que puede controlar el acceso entre una sola máquina virtual y un grupo de máquinas virtuales, o entre una sola máquina virtual y otra máquina virtual única, o entre subredes enteras.</span><span class="sxs-lookup"><span data-stu-id="8a940-321">This means you can control access between a single VM and a group of VMs, or a single VM to another single VM, or between entire subnets.</span></span> <span data-ttu-id="8a940-322">De nuevo, tenga en cuenta que esto es simplemente un filtrado de paquetes con estado, no una inspección de paquetes completa.</span><span class="sxs-lookup"><span data-stu-id="8a940-322">Again, keep in mind that this is simple stateful packet filtering, not full packet inspection.</span></span> <span data-ttu-id="8a940-323">No hay ninguna validación de protocolo ni funcionalidad IDS o IPS de nivel de red en un grupo de seguridad de red.</span><span class="sxs-lookup"><span data-stu-id="8a940-323">There is no protocol validation or network level IDS or IPS capability in a Network Security Group.</span></span>

<span data-ttu-id="8a940-324">Un grupo de seguridad de red incluye algunas reglas integradas que debe tener en cuenta.</span><span class="sxs-lookup"><span data-stu-id="8a940-324">An NSG comes with some built-in rules that you should be aware of.</span></span> <span data-ttu-id="8a940-325">Dichos componentes son:</span><span class="sxs-lookup"><span data-stu-id="8a940-325">These are:</span></span>

-   <span data-ttu-id="8a940-326">**Permitir todo el tráfico dentro de una red virtual específica:** todas las máquinas virtuales de la misma instancia de Azure Virtual Network se pueden comunicar entre sí.</span><span class="sxs-lookup"><span data-stu-id="8a940-326">**Allow all traffic within a specific virtual network:** All VMs on the same Azure Virtual Network can communicate with each other.</span></span>

-   <span data-ttu-id="8a940-327">**Permitir el equilibrio de carga entrante de Azure:** Esta regla permite el tráfico desde cualquier dirección de origen a cualquier dirección de destino para el equilibrador de carga de Azure.</span><span class="sxs-lookup"><span data-stu-id="8a940-327">**Allow Azure load balancing to inbound:** This rule allows traffic from any source address to any destination address for the Azure load balancer.</span></span>

-   <span data-ttu-id="8a940-328">**Denegar todo el tráfico entrante:** Esta regla bloquea todo el tráfico procedente de Internet que haya permitido explícitamente.</span><span class="sxs-lookup"><span data-stu-id="8a940-328">**Deny all inbound:** This rule blocks all traffic sourcing from the Internet that you have explicitly allowed.</span></span>

-   <span data-ttu-id="8a940-329">**Permitir todo el tráfico saliente a Internet:** Esta regla permite a las máquinas virtuales iniciar conexiones a Internet.</span><span class="sxs-lookup"><span data-stu-id="8a940-329">**Allow all traffic outbound to the Internet:** This rule allows VMs to initiate connections to the Internet.</span></span> <span data-ttu-id="8a940-330">Si no desea que se inicien estas conexiones, debe crear una regla para bloquearlas o aplicar la tunelización forzada.</span><span class="sxs-lookup"><span data-stu-id="8a940-330">If you do not want these connections initiated, you need to create a rule to block those connections or enforce forced tunneling.</span></span>

#### <a name="system-routes-and-user-defined-routes"></a><span data-ttu-id="8a940-331">Rutas de sistema y rutas definidas por el usuario</span><span class="sxs-lookup"><span data-stu-id="8a940-331">System routes and user-defined routes</span></span>

<span data-ttu-id="8a940-332">Al agregar máquinas virtuales (VM) a una red virtual (VNet) en Azure, observará que las máquinas virtuales son capaces de comunicarse automáticamente con otras máquinas por toda la red.</span><span class="sxs-lookup"><span data-stu-id="8a940-332">When you add virtual machines (VMs) to a virtual network (VNet) in Azure, you  notice that the VMs are able to communicate with each other over the network, automatically.</span></span> <span data-ttu-id="8a940-333">No es necesario que especifique una puerta de enlace, incluso si las máquinas virtuales están en subredes diferentes.</span><span class="sxs-lookup"><span data-stu-id="8a940-333">You do not need to specify a gateway, even though the VMs are in different subnets.</span></span>

<span data-ttu-id="8a940-334">Cuando existe una conexión híbrida de Azure a su centro de datos, puede aplicar esto a la comunicación de las máquinas virtuales en la red pública e incluso a su red local.</span><span class="sxs-lookup"><span data-stu-id="8a940-334">The same is true for communication from the VMs to the public Internet, and even to your on-premises network when a hybrid connection from Azure to your own datacenter is present.</span></span>

![Rutas del sistema](media/azure-network-security/azure-network-security-fig-9.png)

<span data-ttu-id="8a940-336">Este flujo de comunicación es posible porque Azure usa varias rutas del sistema que definen cómo fluye el tráfico IP.</span><span class="sxs-lookup"><span data-stu-id="8a940-336">This flow of communication is possible because Azure uses a series of system routes to define how IP traffic flows.</span></span> <span data-ttu-id="8a940-337">Las rutas del sistema controlan el flujo de comunicación de los escenarios siguientes:</span><span class="sxs-lookup"><span data-stu-id="8a940-337">System routes control the flow of communication in the following scenarios:</span></span>

-   <span data-ttu-id="8a940-338">Desde dentro de la misma subred.</span><span class="sxs-lookup"><span data-stu-id="8a940-338">From within the same subnet.</span></span>

-   <span data-ttu-id="8a940-339">Desde una subred a otra dentro de una red virtual.</span><span class="sxs-lookup"><span data-stu-id="8a940-339">From a subnet to another within a VNet.</span></span>

-   <span data-ttu-id="8a940-340">Desde máquinas virtuales a Internet.</span><span class="sxs-lookup"><span data-stu-id="8a940-340">From VMs to the Internet.</span></span>

-   <span data-ttu-id="8a940-341">Desde una red virtual a otra red virtual a través de una puerta de enlace de VPN.</span><span class="sxs-lookup"><span data-stu-id="8a940-341">From a VNet to another VNet through a VPN gateway.</span></span>

-   <span data-ttu-id="8a940-342">Desde una red virtual a otra red virtual mediante emparejamiento de redes virtuales ([encadenamiento de servicios](https://docs.microsoft.com/azure/virtual-network/virtual-network-peering-overview)).</span><span class="sxs-lookup"><span data-stu-id="8a940-342">From a VNet to another VNet through VNet Peering ([Service Chaining](https://docs.microsoft.com/azure/virtual-network/virtual-network-peering-overview)).</span></span>

-   <span data-ttu-id="8a940-343">Desde una red virtual a su red local a través de una puerta de enlace de VPN.</span><span class="sxs-lookup"><span data-stu-id="8a940-343">From a VNet to your on-premises network through a VPN gateway.</span></span>

<span data-ttu-id="8a940-344">Muchas empresas tienen requisitos estrictos de seguridad y conformidad que requieren la inspección local de todos los paquetes de redes para asegurar el cumplimiento de directivas específicas.</span><span class="sxs-lookup"><span data-stu-id="8a940-344">Many enterprises have strict security and compliance requirements that require on-premises inspection of all network packets to enforce specific polices.</span></span> <span data-ttu-id="8a940-345">Azure proporciona un mecanismo denominado [tunelización forzada](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-about-forced-tunneling) que enruta el tráfico desde las máquinas virtuales a una ubicación local mediante la creación de una ruta personalizada o mediante anuncios de [Border Gateway Protocol (BGP)](https://docs.microsoft.com/windows-server/remote/remote-access/bgp/border-gateway-protocol-bgp) a través de ExpressRoute o VPN.</span><span class="sxs-lookup"><span data-stu-id="8a940-345">Azure provides a mechanism called [forced tunneling](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-about-forced-tunneling) that routes traffic from the VMs to on-premises by creating a custom route or by [Border Gateway Protocol (BGP)](https://docs.microsoft.com/windows-server/remote/remote-access/bgp/border-gateway-protocol-bgp) advertisements through ExpressRoute or VPN.</span></span>

<span data-ttu-id="8a940-346">La tunelización forzada en Azure se configura a través de rutas definidas por el usuario (UDR) de redes virtuales.</span><span class="sxs-lookup"><span data-stu-id="8a940-346">Forced tunneling in Azure is configured via virtual network user-defined routes (UDR).</span></span> <span data-ttu-id="8a940-347">La redirección del tráfico a un sitio local se expresa como una ruta predeterminada a la puerta de enlace de VPN de Azure.</span><span class="sxs-lookup"><span data-stu-id="8a940-347">Redirecting traffic to an on-premises site is expressed as a Default Route to the Azure VPN gateway.</span></span>

<span data-ttu-id="8a940-348">La sección siguiente muestra la limitación actual de la tabla de enrutamiento y las rutas de una red virtual de Azure:</span><span class="sxs-lookup"><span data-stu-id="8a940-348">The following section lists the current limitation of the routing table and routes for an Azure Virtual Network:</span></span>

-   <span data-ttu-id="8a940-349">Cada subred de la red virtual tiene una tabla de enrutamiento del sistema integrada.</span><span class="sxs-lookup"><span data-stu-id="8a940-349">Each virtual network subnet has a built-in, system routing table.</span></span> <span data-ttu-id="8a940-350">La tabla de enrutamiento del sistema tiene los siguientes tres grupos de rutas:</span><span class="sxs-lookup"><span data-stu-id="8a940-350">The system routing table has the following three groups of routes:</span></span>

 -  <span data-ttu-id="8a940-351">**Rutas de redes virtuales locales** : directamente a las máquinas virtuales de destino en la misma red virtual.</span><span class="sxs-lookup"><span data-stu-id="8a940-351">**Local VNet routes:** Directly to the destination VMs in the same virtual network</span></span>

 - <span data-ttu-id="8a940-352">**Rutas locales** : a la puerta de enlace de VPN.</span><span class="sxs-lookup"><span data-stu-id="8a940-352">**On premises routes:** To the Azure VPN gateway</span></span>

 -  <span data-ttu-id="8a940-353">**Ruta predeterminada** : directamente a Internet.</span><span class="sxs-lookup"><span data-stu-id="8a940-353">**Default route:** Directly to the Internet.</span></span> <span data-ttu-id="8a940-354">Los paquetes destinados a las direcciones IP privadas que no están cubiertos por las dos rutas anteriores se anularán.</span><span class="sxs-lookup"><span data-stu-id="8a940-354">Packets destined to the private IP addresses not covered by the previous two routes are dropped.</span></span>

-   <span data-ttu-id="8a940-355">Con la liberación de las rutas definidas por el usuario, puede crear una tabla de enrutamiento para agregar una ruta predeterminada y, después, asociar la tabla de enrutamiento a las subredes de la red virtual para habilitar la tunelización forzada en esas subredes.</span><span class="sxs-lookup"><span data-stu-id="8a940-355">With the release of user-defined routes, you can create a routing table to add a default route, and then associate the routing table to your VNet subnet to enable forced tunneling on those subnets.</span></span>

-   <span data-ttu-id="8a940-356">Deberá establecer un "sitio predeterminado" entre los sitios locales entre entornos conectados a la red virtual.</span><span class="sxs-lookup"><span data-stu-id="8a940-356">You need to set a "default site" among the cross-premises local sites connected to the virtual network.</span></span>

-   <span data-ttu-id="8a940-357">La tunelización forzada debe asociarse a una red virtual que tiene una puerta de enlace de VPN de enrutamiento dinámico (no una puerta de enlace estática).</span><span class="sxs-lookup"><span data-stu-id="8a940-357">Forced tunneling must be associated with a VNet that has a dynamic routing VPN gateway (not a static gateway).</span></span>

- <span data-ttu-id="8a940-358">La tunelización forzada ExpressRoute no se configura mediante este mecanismo, sino que se habilita mediante el anuncio de una ruta predeterminada a través de las sesiones de emparejamiento BGP de ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="8a940-358">ExpressRoute forced tunneling is not configured via this mechanism, but instead, is enabled by advertising a default route via the ExpressRoute BGP peering sessions.</span></span>

> [!Note]
> <span data-ttu-id="8a940-359">Consulte la [Documentación de ExpressRoute](https://azure.microsoft.com/documentation/services/expressroute/) para más información.</span><span class="sxs-lookup"><span data-stu-id="8a940-359">For more information, see the [ExpressRoute Documentation](https://azure.microsoft.com/documentation/services/expressroute/) for more information.</span></span>

#### <a name="network-security-appliances"></a><span data-ttu-id="8a940-360">Aplicaciones de seguridad de red</span><span class="sxs-lookup"><span data-stu-id="8a940-360">Network security appliances</span></span>
<span data-ttu-id="8a940-361">Si bien los grupos de seguridad de red y el enrutamiento definido por el usuario pueden proporcionar un cierto grado de seguridad de la red en los niveles de red y de transporte del [modelo OSI](https://en.wikipedia.org/wiki/OSI_model), habrá situaciones en la que deseará o necesitará habilitar la seguridad en los niveles altos de la pila de redes.</span><span class="sxs-lookup"><span data-stu-id="8a940-361">While Network Security Groups and User-Defined Routes can provide a certain measure of network security at the network and transport layers of the [OSI model](https://en.wikipedia.org/wiki/OSI_model), there are going to be situations where you want or need to enable security at higher levels of the networking stack.</span></span> <span data-ttu-id="8a940-362">En tales situaciones, se recomienda implementar aplicaciones de seguridad de la red virtual proporcionadas por asociados de Azure.</span><span class="sxs-lookup"><span data-stu-id="8a940-362">In such situations, we recommend that you deploy virtual network security appliances provided by Azure partners.</span></span>

![Aplicaciones de seguridad de red](./media/azure-network-security/azure-network-security-fig-10.png)

<span data-ttu-id="8a940-364">Las aplicaciones de seguridad de red Azure mejoran la seguridad y las funciones de red de la red virtual y están disponibles en numerosos proveedores a través de [Azure Marketplace](https://azuremarketplace.microsoft.com).</span><span class="sxs-lookup"><span data-stu-id="8a940-364">Azure network security appliances improve VNet security and network functions, and they’re available from numerous vendors via the [Azure Marketplace](https://azuremarketplace.microsoft.com).</span></span> <span data-ttu-id="8a940-365">Estas aplicaciones de seguridad virtual se pueden implementar para proporcionar:</span><span class="sxs-lookup"><span data-stu-id="8a940-365">These virtual security appliances can be deployed to provide:</span></span>

-   <span data-ttu-id="8a940-366">Firewalls de alta disponibilidad</span><span class="sxs-lookup"><span data-stu-id="8a940-366">Highly available firewalls</span></span>

-   <span data-ttu-id="8a940-367">Prevención de intrusiones</span><span class="sxs-lookup"><span data-stu-id="8a940-367">Intrusion prevention</span></span>

-   <span data-ttu-id="8a940-368">Detección de intrusiones</span><span class="sxs-lookup"><span data-stu-id="8a940-368">Intrusion detection</span></span>

-   <span data-ttu-id="8a940-369">Firewalls de aplicaciones web (WAF)</span><span class="sxs-lookup"><span data-stu-id="8a940-369">Web application firewalls (WAFs)</span></span>

-   <span data-ttu-id="8a940-370">Optimización de WAN</span><span class="sxs-lookup"><span data-stu-id="8a940-370">WAN optimization</span></span>

-   <span data-ttu-id="8a940-371">Enrutamiento</span><span class="sxs-lookup"><span data-stu-id="8a940-371">Routing</span></span>

-   <span data-ttu-id="8a940-372">Equilibrio de carga</span><span class="sxs-lookup"><span data-stu-id="8a940-372">Load balancing</span></span>

-   <span data-ttu-id="8a940-373">VPN</span><span class="sxs-lookup"><span data-stu-id="8a940-373">VPN</span></span>

-   <span data-ttu-id="8a940-374">Administración de certificados</span><span class="sxs-lookup"><span data-stu-id="8a940-374">Certificate management</span></span>

-   <span data-ttu-id="8a940-375">Active Directory</span><span class="sxs-lookup"><span data-stu-id="8a940-375">Active Directory</span></span>

-   <span data-ttu-id="8a940-376">Autenticación multifactor</span><span class="sxs-lookup"><span data-stu-id="8a940-376">Multifactor authentication</span></span>

#### <a name="application-gateway"></a><span data-ttu-id="8a940-377">puerta de enlace de aplicaciones</span><span class="sxs-lookup"><span data-stu-id="8a940-377">Application gateway</span></span>

<span data-ttu-id="8a940-378">[Microsoft Azure Application Gateway](https://docs.microsoft.com/azure/application-gateway/application-gateway-introduction) es una aplicación virtual dedicada que proporciona un controlador de entrega de aplicaciones (ADC) como servicio.</span><span class="sxs-lookup"><span data-stu-id="8a940-378">[Microsoft Azure Application Gateway](https://docs.microsoft.com/azure/application-gateway/application-gateway-introduction) is a dedicated virtual appliance that provides an application delivery controller (ADC) as a service.</span></span>

 ![Application Gateway](./media/azure-network-security/azure-network-security-fig-11.png)

<span data-ttu-id="8a940-380">Application Gateway también le permite optimizar el rendimiento y la disponibilidad de las granjas de servidores web traspasando la carga de la terminación SSL con mayor actividad de la CPU a la puerta de enlace de aplicaciones (Descarga de SSL).</span><span class="sxs-lookup"><span data-stu-id="8a940-380">Application Gateway enables you to optimize web farm performance and availability by offloading CPU intensive SSL termination to the application gateway (SSL-offloading).</span></span> <span data-ttu-id="8a940-381">También proporciona otras funcionalidades de enrutamiento de capa 7 entre las que se incluyen:</span><span class="sxs-lookup"><span data-stu-id="8a940-381">It also provides other layer 7 routing capabilities including:</span></span>

-   <span data-ttu-id="8a940-382">Distribución round robin del tráfico entrante</span><span class="sxs-lookup"><span data-stu-id="8a940-382">Round-robin distribution of incoming traffic</span></span>

-   <span data-ttu-id="8a940-383">Afinidad de sesión basada en cookies</span><span class="sxs-lookup"><span data-stu-id="8a940-383">Cookie-based session affinity</span></span>

-   <span data-ttu-id="8a940-384">Enrutamiento basado en URL</span><span class="sxs-lookup"><span data-stu-id="8a940-384">URL path-based routing</span></span>

-   <span data-ttu-id="8a940-385">Capacidad de hospedar varios sitios web en una sola instancia de Application Gateway</span><span class="sxs-lookup"><span data-stu-id="8a940-385">Ability to host multiple websites behind a single Application Gateway</span></span>


<span data-ttu-id="8a940-386">También se proporciona un [firewall de aplicaciones web (WAF)](https://docs.microsoft.com/azure/application-gateway/application-gateway-web-application-firewall-overview) como parte de la instancia de Application Gateway.</span><span class="sxs-lookup"><span data-stu-id="8a940-386">A [web application firewall (WAF)](https://docs.microsoft.com/azure/application-gateway/application-gateway-web-application-firewall-overview) is also provided as part of the application gateway.</span></span> <span data-ttu-id="8a940-387">Esta proporciona protección a las aplicaciones web frente a vulnerabilidades web y vulnerabilidades de seguridad comunes.</span><span class="sxs-lookup"><span data-stu-id="8a940-387">This provides protection to web applications from common web vulnerabilities and exploits.</span></span> <span data-ttu-id="8a940-388">Application Gateway se puede configurar como una puerta de enlace orientada a Internet, una puerta de enlace solo para uso interno o una combinación de las dos.</span><span class="sxs-lookup"><span data-stu-id="8a940-388">Application Gateway can be configured as an Internet facing gateway, internal only gateway, or a combination of both.</span></span>

<span data-ttu-id="8a940-389">El WAF de Application Gateway se puede ejecutar en modo de detección o de prevención.</span><span class="sxs-lookup"><span data-stu-id="8a940-389">Application Gateway WAF can be run in detection or prevention mode.</span></span> <span data-ttu-id="8a940-390">Un caso de uso común es el de los administradores que lo ejecutan en modo de detección para observar el tráfico en busca de patrones malintencionados.</span><span class="sxs-lookup"><span data-stu-id="8a940-390">A common use case is for administrators to run in detection mode to observe traffic for malicious patterns.</span></span> <span data-ttu-id="8a940-391">Si se detectan posibles vulnerabilidades de seguridad, con solo pasar al modo de prevención se bloquea el tráfico entrante sospechoso.</span><span class="sxs-lookup"><span data-stu-id="8a940-391">Once potential exploits are detected, turning to prevention mode blocks suspicious incoming traffic.</span></span>

 ![Application Gateway](./media/azure-network-security/azure-network-security-fig-12.png)

<span data-ttu-id="8a940-393">Además, el WAF de Application Gateway le ayuda a supervisar las aplicaciones web frente a ataques mediante un registro de WAF en tiempo real que está integrado en [Azure Monitor](https://docs.microsoft.com/azure/monitoring-and-diagnostics/monitoring-overview) y [Azure Security Center](https://azure.microsoft.com/services/security-center/) que permite realizar un seguimiento de las alertas de WAF y supervisar con facilidad las tendencias.</span><span class="sxs-lookup"><span data-stu-id="8a940-393">In addition, Application Gateway WAF helps you monitor web applications against attacks using a real-time WAF log that is integrated with [Azure Monitor](https://docs.microsoft.com/azure/monitoring-and-diagnostics/monitoring-overview) and [Azure Security Center](https://azure.microsoft.com/services/security-center/) to track WAF alerts and easily monitor trends.</span></span>

<span data-ttu-id="8a940-394">El registro con formato JSON va directamente a la cuenta de almacenamiento del cliente.</span><span class="sxs-lookup"><span data-stu-id="8a940-394">The JSON formatted log goes directly to the customer’s storage account.</span></span> <span data-ttu-id="8a940-395">Tiene un control total sobre estos registros y puede aplicar sus propias directivas de retención.</span><span class="sxs-lookup"><span data-stu-id="8a940-395">You have full control over these logs and can apply your own retention policies.</span></span>

<span data-ttu-id="8a940-396">También puede usar estos registros en su propio sistema de análisis con [Integración de registro de Azure](https://aka.ms/AzLog).</span><span class="sxs-lookup"><span data-stu-id="8a940-396">You can also ingest these logs into your own analytics system using [Azure Log Integration](https://aka.ms/AzLog).</span></span> <span data-ttu-id="8a940-397">Los registros de WAF también se integran con [Operations Management Suite (OMS)](https://www.microsoft.com/cloud-platform/operations-management-suite) por lo que puede usar el análisis de registros de OMS para ejecutar consultas específicas sofisticadas.</span><span class="sxs-lookup"><span data-stu-id="8a940-397">WAF logs are also integrated with [Operations Management Suite (OMS)](https://www.microsoft.com/cloud-platform/operations-management-suite) so you can use OMS log analytics to execute sophisticated fine-grained queries.</span></span>

#### <a name="azure-web-application-firewall-waf"></a><span data-ttu-id="8a940-398">Firewall de aplicaciones web (WAF) de Azure</span><span class="sxs-lookup"><span data-stu-id="8a940-398">Azure web application firewall (WAF)</span></span>

<span data-ttu-id="8a940-399">Las aplicaciones web se están convirtiendo en el objetivo principal de ataques maliciosos que se aprovechan de vulnerabilidades de seguridad conocidas como la inyección de código SQL, los ataques de scripts de sitios y otros ataques que aparecen en la lista [OWASP top 10](https://www.owasp.org/index.php/Category:OWASP_Top_Ten_Project).</span><span class="sxs-lookup"><span data-stu-id="8a940-399">Web applications are increasingly targets of malicious attacks that exploit common known vulnerabilities, such as SQL injection, cross site scripting attacks, and other attacks that appear in the [OWASP top 10](https://www.owasp.org/index.php/Category:OWASP_Top_Ten_Project).</span></span> <span data-ttu-id="8a940-400">Impedir tales vulnerabilidades en la aplicación requiere tareas rigurosas de mantenimiento, aplicación de revisiones y supervisión en varias capas de la topología de aplicación.</span><span class="sxs-lookup"><span data-stu-id="8a940-400">Preventing such exploits in the application requires rigorous maintenance, patching, and monitoring at multiple layers of the application topology.</span></span>

 ![Firewall de aplicaciones web (WAF) de Azure](./media/azure-network-security/azure-network-security-fig-13.png)

<span data-ttu-id="8a940-402">Un [firewall de aplicaciones web (WAF)](https://docs.microsoft.com/azure/application-gateway/application-gateway-web-application-firewall-overview) centralizado puede proteger frente a ataques web y simplifica la administración de seguridad sin necesidad de realizar ningún cambio en las aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="8a940-402">A centralized [web application firewall (WAF)](https://docs.microsoft.com/azure/application-gateway/application-gateway-web-application-firewall-overview) can protect against web attacks and simplifies security management without requiring any application changes.</span></span>

<span data-ttu-id="8a940-403">Las soluciones de WAF también pueden reaccionar más rápido ante una amenaza de la seguridad aplicando revisiones que aborden una vulnerabilidad conocida en una ubicación central en lugar de proteger cada una de las aplicaciones web por separado.</span><span class="sxs-lookup"><span data-stu-id="8a940-403">A WAF solution can also react to a security threat faster by patching a known vulnerability at a central location versus securing each of individual web applications.</span></span> <span data-ttu-id="8a940-404">Las puertas de enlace de aplicaciones existentes pueden transformarse rápidamente en puertas de enlace con un firewall de aplicaciones web habilitado.</span><span class="sxs-lookup"><span data-stu-id="8a940-404">Existing application gateways can be converted to a web application firewall enabled application gateway easily.</span></span>

#### <a name="network-availability-controls"></a><span data-ttu-id="8a940-405">Controles de disponibilidad de red</span><span class="sxs-lookup"><span data-stu-id="8a940-405">Network availability controls</span></span>

<span data-ttu-id="8a940-406">Existen diversas opciones para distribuir el tráfico de red con Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="8a940-406">There are different options to distribute network traffic using Microsoft Azure.</span></span> <span data-ttu-id="8a940-407">Estas opciones funcionan de manera diferente, ya que disponen de un conjunto de características distintas y son compatibles con escenarios distintos.</span><span class="sxs-lookup"><span data-stu-id="8a940-407">These options work differently from each other, having a different feature set and support different scenarios.</span></span> <span data-ttu-id="8a940-408">Cada una se puede usar por separado, pero también se pueden combinar.</span><span class="sxs-lookup"><span data-stu-id="8a940-408">They can each be used in isolation, or combining them.</span></span>

<span data-ttu-id="8a940-409">Estos son los controles de disponibilidad de red:</span><span class="sxs-lookup"><span data-stu-id="8a940-409">Following are the Network availability controls:</span></span>

-   <span data-ttu-id="8a940-410">Azure Load Balancer</span><span class="sxs-lookup"><span data-stu-id="8a940-410">Azure Load Balancer</span></span>

-   <span data-ttu-id="8a940-411">Application Gateway</span><span class="sxs-lookup"><span data-stu-id="8a940-411">Application Gateway</span></span>

-   <span data-ttu-id="8a940-412">Traffic Manager</span><span class="sxs-lookup"><span data-stu-id="8a940-412">Traffic Manager</span></span>

<span data-ttu-id="8a940-413">**Azure Load balancer**</span><span class="sxs-lookup"><span data-stu-id="8a940-413">**Azure Load balancer**</span></span>

<span data-ttu-id="8a940-414">Proporciona rendimiento de red y alta disponibilidad para sus aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="8a940-414">Delivers high availability and network performance to your applications.</span></span> <span data-ttu-id="8a940-415">Se trata de un equilibrador de carga de nivel 4 (TCP y UDP) que distribuye el tráfico entrante entre las instancias de servicio correctas de los servicios que se definen en un conjunto de carga equilibrada.</span><span class="sxs-lookup"><span data-stu-id="8a940-415">It is a Layer 4 (TCP, UDP) load balancer that distributes incoming traffic among healthy instances of services defined in a load-balanced set.</span></span>

 ![Azure Load Balancer](media/azure-network-security/azure-network-security-fig-14.png)


<span data-ttu-id="8a940-417">Azure Load Balancer puede configurarse para lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="8a940-417">Azure Load Balancer can be configured to:</span></span>

-   <span data-ttu-id="8a940-418">Equilibrar la carga del tráfico entrante de Internet entre las máquinas virtuales.</span><span class="sxs-lookup"><span data-stu-id="8a940-418">Load balance incoming Internet traffic to virtual machines.</span></span> <span data-ttu-id="8a940-419">Esta configuración se conoce como " [equilibrio de carga con conexión a Internet](https://docs.microsoft.com/azure/load-balancer/load-balancer-internet-overview)".</span><span class="sxs-lookup"><span data-stu-id="8a940-419">This configuration is known as [Internet-facing load balancing](https://docs.microsoft.com/azure/load-balancer/load-balancer-internet-overview).</span></span>

-   <span data-ttu-id="8a940-420">Equilibrar la carga del tráfico entre máquinas virtuales de una red virtual, entre máquinas virtuales de servicios en la nube o entre equipos locales y máquinas virtuales de una red virtual entre entornos locales.</span><span class="sxs-lookup"><span data-stu-id="8a940-420">Load balance traffic between virtual machines in a virtual network, between virtual machines in cloud services, or between on-premises computers and virtual machines in a cross-premises virtual network.</span></span> <span data-ttu-id="8a940-421">Esta configuración se conoce como " [equilibrio de carga interno](https://docs.microsoft.com/azure/load-balancer/load-balancer-internal-overview)".</span><span class="sxs-lookup"><span data-stu-id="8a940-421">This configuration is known as [internal load balancing](https://docs.microsoft.com/azure/load-balancer/load-balancer-internal-overview).</span></span>

-   <span data-ttu-id="8a940-422">Reenviar el tráfico externo a una máquina virtual determinada.</span><span class="sxs-lookup"><span data-stu-id="8a940-422">Forward external traffic to a specific virtual machine.</span></span>

<span data-ttu-id="8a940-423">Todos los recursos en la nube necesitan una dirección IP pública para ser accesibles desde Internet.</span><span class="sxs-lookup"><span data-stu-id="8a940-423">All resources in the cloud need a public IP address to be reachable from the Internet.</span></span> <span data-ttu-id="8a940-424">La infraestructura de nube de Azure usa direcciones IP no enrutables para sus recursos.</span><span class="sxs-lookup"><span data-stu-id="8a940-424">The cloud infrastructure in Azure uses non-routable IP addresses for its resources.</span></span> <span data-ttu-id="8a940-425">Asimismo, usa traducción de direcciones de red (NAT) con direcciones IP públicas para comunicarse con Internet.</span><span class="sxs-lookup"><span data-stu-id="8a940-425">Azure uses network address translation (NAT) with public IP addresses to communicate to the Internet.</span></span>

 <span data-ttu-id="8a940-426">**Application Gateway**</span><span class="sxs-lookup"><span data-stu-id="8a940-426">**Application gateway**</span></span>

 <span data-ttu-id="8a940-427">Application Gateway funciona en el nivel de aplicación (nivel 7 en la pila de referencia de red de OSI).</span><span class="sxs-lookup"><span data-stu-id="8a940-427">Application Gateway works at the application layer (Layer 7 in the OSI network reference stack).</span></span> <span data-ttu-id="8a940-428">Actúa como un servicio de proxy inverso, que termina la conexión de cliente y reenvía las solicitudes de vuelta a los puntos de conexión de back-end.</span><span class="sxs-lookup"><span data-stu-id="8a940-428">It acts as a reverse-proxy service, terminating the client connection and forwarding requests to back-end endpoints.</span></span>

 <span data-ttu-id="8a940-429">**Traffic manager**</span><span class="sxs-lookup"><span data-stu-id="8a940-429">**Traffic manager**</span></span>

<span data-ttu-id="8a940-430">Microsoft Azure Traffic Manager permite controlar la distribución del tráfico de los usuarios para puntos de conexión de servicio en distintos centros de datos.</span><span class="sxs-lookup"><span data-stu-id="8a940-430">Microsoft Azure Traffic Manager allows you to control the distribution of user traffic for service endpoints in different datacenters.</span></span> <span data-ttu-id="8a940-431">Entre los puntos de conexión de servicio compatibles con Traffic Manager, se incluyen máquinas virtuales de Azure, Web Apps y servicios en la nube.</span><span class="sxs-lookup"><span data-stu-id="8a940-431">Service endpoints supported by Traffic Manager include Azure VMs, Web Apps, and cloud services.</span></span> <span data-ttu-id="8a940-432">También puede utilizar el Traffic Manager con puntos de conexión externos, que no forman parte de Azure.</span><span class="sxs-lookup"><span data-stu-id="8a940-432">You can also use Traffic Manager with external, non-Azure endpoints.</span></span>

<span data-ttu-id="8a940-433">Traffic Manager usa el sistema de nombres de dominio (DNS) para dirigir las solicitudes del cliente al punto de conexión más adecuado en función de un [método de enrutamiento del tráfico](https://docs.microsoft.com/azure/traffic-manager/traffic-manager-routing-methods) y el estado de los puntos de conexión.</span><span class="sxs-lookup"><span data-stu-id="8a940-433">Traffic Manager uses the Domain Name System (DNS) to direct client requests to the most appropriate endpoint based on a [traffic-routing method](https://docs.microsoft.com/azure/traffic-manager/traffic-manager-routing-methods) and the health of the endpoints.</span></span> <span data-ttu-id="8a940-434">Traffic Manager proporciona una serie de métodos de enrutamiento del tráfico para satisfacer las necesidades de distintas aplicaciones, la [supervisión](https://docs.microsoft.com/azure/traffic-manager/traffic-manager-monitoring) del estado de los puntos de conexión y la conmutación automática por error.</span><span class="sxs-lookup"><span data-stu-id="8a940-434">Traffic Manager provides a range of traffic-routing methods to suit different application needs, endpoint health [monitoring](https://docs.microsoft.com/azure/traffic-manager/traffic-manager-monitoring), and automatic failover.</span></span> <span data-ttu-id="8a940-435">Traffic Manager es resistente a errores, incluidos los que afecten a toda una región de Azure.</span><span class="sxs-lookup"><span data-stu-id="8a940-435">Traffic Manager is resilient to failure, including the failure of an entire Azure region.</span></span>

<span data-ttu-id="8a940-436">Azure Traffic Manager permite controlar la distribución del tráfico a través de los puntos de conexión de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="8a940-436">Azure Traffic Manager enables you to control the distribution of traffic across your application endpoints.</span></span> <span data-ttu-id="8a940-437">Un punto de conexión es cualquier servicio accesible desde Internet hospedado dentro o fuera de Azure.</span><span class="sxs-lookup"><span data-stu-id="8a940-437">An endpoint is any Internet-facing service hosted inside or outside of Azure.</span></span>

<span data-ttu-id="8a940-438">Traffic Manager ofrece dos ventajas principales:</span><span class="sxs-lookup"><span data-stu-id="8a940-438">Traffic Manager provides two key benefits:</span></span>

-   <span data-ttu-id="8a940-439">La distribución del tráfico de acuerdo con uno o varios [métodos de enrutamiento de tráfico](https://docs.microsoft.com/azure/traffic-manager/traffic-manager-routing-methods).</span><span class="sxs-lookup"><span data-stu-id="8a940-439">Distribution of traffic according to one of several [traffic-routing methods](https://docs.microsoft.com/azure/traffic-manager/traffic-manager-routing-methods).</span></span>

-   <span data-ttu-id="8a940-440">La [supervisión continua del estado de los puntos de conexión](https://docs.microsoft.com/azure/traffic-manager/traffic-manager-monitoring) y la conmutación automática por error en caso de error en estos.</span><span class="sxs-lookup"><span data-stu-id="8a940-440">[Continuous monitoring of endpoint health](https://docs.microsoft.com/azure/traffic-manager/traffic-manager-monitoring) and automatic failover when endpoints fail.</span></span>

<span data-ttu-id="8a940-441">Cuando un cliente intenta conectarse a un servicio, debe resolver primero el nombre DNS del servicio en una dirección IP.</span><span class="sxs-lookup"><span data-stu-id="8a940-441">When a client attempts to connect to a service, it must first resolve the DNS name of the service to an IP address.</span></span> <span data-ttu-id="8a940-442">Luego, el cliente se conecta a esa dirección IP para tener acceso al servicio.</span><span class="sxs-lookup"><span data-stu-id="8a940-442">The client then connects to that IP address to access the service.</span></span> <span data-ttu-id="8a940-443">Traffic Manager usa DNS para dirigir a los clientes a puntos de conexión específicos del servicio basados en las reglas del método de enrutamiento de tráfico.</span><span class="sxs-lookup"><span data-stu-id="8a940-443">Traffic Manager uses DNS to direct clients to specific service endpoints based on the rules of the traffic-routing method.</span></span> <span data-ttu-id="8a940-444">Los clientes se conectan directamente al punto de conexión seleccionado.</span><span class="sxs-lookup"><span data-stu-id="8a940-444">Clients connect to the selected endpoint directly.</span></span> <span data-ttu-id="8a940-445">Traffic Manager no es un proxy ni una puerta de enlace.</span><span class="sxs-lookup"><span data-stu-id="8a940-445">Traffic Manager is not a proxy or a gateway.</span></span> <span data-ttu-id="8a940-446">Traffic Manager no ve el tráfico que circula entre el cliente y el servicio.</span><span class="sxs-lookup"><span data-stu-id="8a940-446">Traffic Manager does not see the traffic passing between the client and the service.</span></span>

### <a name="azure-network-validation"></a><span data-ttu-id="8a940-447">Validación de la red de Azure</span><span class="sxs-lookup"><span data-stu-id="8a940-447">Azure network validation</span></span>

<span data-ttu-id="8a940-448">La validación de la red de Azure consiste en asegurarse de que la red de Azure funciona tal y como está configurada y que se puede realizar la validación mediante los servicios y características disponibles para supervisar la red.</span><span class="sxs-lookup"><span data-stu-id="8a940-448">Azure network validation is to ensure that the Azure network is operating as it is configured and validation can be done using the services and features available to monitor the network.</span></span> <span data-ttu-id="8a940-449">Con Azure Network Watcher, puede tener acceso a una gran cantidad de funcionalidades de registro y diagnóstico que le ofrecen información para comprender el rendimiento de la red y su estado.</span><span class="sxs-lookup"><span data-stu-id="8a940-449">With Azure Network Watcher, you can access a plethora of logging and diagnostic capabilities that empower you with insights to understand your network performance and health.</span></span> <span data-ttu-id="8a940-450">Estas funcionalidades son accesibles a través del portal, Power Shell, CLI, API de Rest y SDK.</span><span class="sxs-lookup"><span data-stu-id="8a940-450">These capabilities are accessible via Portal, Power Shell, CLI, Rest API and SDK.</span></span>

<span data-ttu-id="8a940-451">Con seguridad operativa de Azure, se hace referencia a los servicios, los controles y las características disponibles para los usuarios para proteger sus datos, aplicaciones y otros recursos en Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="8a940-451">Azure Operational Security refers to the services, controls, and features available to users for protecting their data, applications, and other assets in Microsoft Azure.</span></span> <span data-ttu-id="8a940-452">La seguridad operativa de Azure se basa en una plataforma que incorpora el conocimiento adquirido a través de diversas funcionalidades exclusivas de Microsoft, incluido el ciclo de vida de desarrollo de seguridad (SDL) de Microsoft, el programa Microsoft Security Response Center y un conocimiento en profundidad del panorama de amenazas de ciberseguridad.</span><span class="sxs-lookup"><span data-stu-id="8a940-452">Azure Operational Security is built on a framework that incorporates the knowledge gained through a various capabilities that are unique to Microsoft, including the Microsoft Security Development Lifecycle (SDL), the Microsoft Security Response Centre program, and deep awareness of the cyber security threat landscape.</span></span>

-   [<span data-ttu-id="8a940-453">Azure Operations Management Suite</span><span class="sxs-lookup"><span data-stu-id="8a940-453">Azure Operations Management Suite</span></span>](https://docs.microsoft.com/azure/operations-management-suite/operations-management-suite-overview)

-   [<span data-ttu-id="8a940-454">Azure Security Center</span><span class="sxs-lookup"><span data-stu-id="8a940-454">Azure Security Center</span></span>](https://docs.microsoft.com/azure/security-center/security-center-intro)

-   [<span data-ttu-id="8a940-455">Azure Monitor</span><span class="sxs-lookup"><span data-stu-id="8a940-455">Azure Monitor</span></span>](https://docs.microsoft.com/azure/monitoring-and-diagnostics/monitoring-overview)

-   [<span data-ttu-id="8a940-456">Azure Network Watcher</span><span class="sxs-lookup"><span data-stu-id="8a940-456">Azure Network watcher</span></span>](https://docs.microsoft.com/azure/network-watcher/network-watcher-monitoring-overview)

-   [<span data-ttu-id="8a940-457">Azure Storage Analytics</span><span class="sxs-lookup"><span data-stu-id="8a940-457">Azure Storage analytics</span></span>](https://docs.microsoft.com/rest/api/storageservices/fileservices/storage-analytics)

-   <span data-ttu-id="8a940-458">Administrador de recursos de Azure</span><span class="sxs-lookup"><span data-stu-id="8a940-458">Azure Resource Manager</span></span>

#### <a name="azure-resource-manager"></a><span data-ttu-id="8a940-459">Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="8a940-459">Azure resource manager</span></span>

<span data-ttu-id="8a940-460">Las personas y los procesos que operan Microsoft Azure quizás son la característica de seguridad más importante de la plataforma.</span><span class="sxs-lookup"><span data-stu-id="8a940-460">The people and processes that operate Microsoft Azure are perhaps the most important security feature of the platform.</span></span> <span data-ttu-id="8a940-461">Esta sección describe las características de la infraestructura global de los centros de datos de Microsoft que le ayudan a mejorar y mantener la seguridad, la continuidad y la privacidad.</span><span class="sxs-lookup"><span data-stu-id="8a940-461">This section describes features of Microsoft’s global datacenter infrastructure that help enhance and maintain security, continuity, and privacy.</span></span>

<span data-ttu-id="8a940-462">La infraestructura de la aplicación está constituida normalmente por varios componentes: quizás una máquina virtual, una cuenta de almacenamiento y una red virtual, o una aplicación web, una base de datos, un servidor de bases de datos y servicios de terceros.</span><span class="sxs-lookup"><span data-stu-id="8a940-462">The infrastructure for your application is typically made up of many components – maybe a virtual machine, storage account, and virtual network, or a web app, database, database server, and third-party services.</span></span> <span data-ttu-id="8a940-463">Estos componentes no se ven como entidades independientes, sino como partes de una sola entidad relacionadas e interdependientes.</span><span class="sxs-lookup"><span data-stu-id="8a940-463">You do not see these components as separate entities, instead you see them as related and interdependent parts of a single entity.</span></span> <span data-ttu-id="8a940-464">Desea implementarlos, administrarlos y supervisarlos como grupo.</span><span class="sxs-lookup"><span data-stu-id="8a940-464">You want to deploy, manage, and monitor them as a group.</span></span> <span data-ttu-id="8a940-465">Azure Resource Manager permite trabajar con los recursos de la solución como un grupo.</span><span class="sxs-lookup"><span data-stu-id="8a940-465">Azure Resource Manager enables you to work with the resources in your solution as a group.</span></span>

<span data-ttu-id="8a940-466">Todos los recursos de la solución se pueden implementar, actualizar o eliminar en una sola operación coordinada.</span><span class="sxs-lookup"><span data-stu-id="8a940-466">You can deploy, update, or delete all the resources for your solution in a single, coordinated operation.</span></span> <span data-ttu-id="8a940-467">Para realizar la implementación se usa una plantilla, que puede funcionar en distintos entornos, como producción, pruebas y ensayo.</span><span class="sxs-lookup"><span data-stu-id="8a940-467">You use a template for deployment and that template can work for different environments such as testing, staging, and production.</span></span> <span data-ttu-id="8a940-468">Administrador de recursos proporciona funciones de seguridad, auditoría y etiquetado que le ayudan a administrar los recursos después de la implementación.</span><span class="sxs-lookup"><span data-stu-id="8a940-468">Resource Manager provides security, auditing, and tagging features to help you manage your resources after deployment.</span></span>

<span data-ttu-id="8a940-469">**Ventajas de usar Resource Manager**</span><span class="sxs-lookup"><span data-stu-id="8a940-469">**The benefits of using Resource Manager**</span></span>

<span data-ttu-id="8a940-470">Administrador de recursos ofrece varias ventajas:</span><span class="sxs-lookup"><span data-stu-id="8a940-470">Resource Manager provides several benefits:</span></span>

-   <span data-ttu-id="8a940-471">Puede implementar, administrar y supervisar todos los recursos de la solución en grupo, en lugar de controlarlos individualmente.</span><span class="sxs-lookup"><span data-stu-id="8a940-471">You can deploy, manage, and monitor all the resources for your solution as a group, rather than handling these resources individually.</span></span>

-   <span data-ttu-id="8a940-472">Puede implementar la solución repetidamente a lo largo del ciclo de vida del desarrollo y tener la seguridad de que los recursos se implementan de forma coherente.</span><span class="sxs-lookup"><span data-stu-id="8a940-472">You can repeatedly deploy your solution throughout the development lifecycle and have confidence your resources are deployed in a consistent state.</span></span>

-   <span data-ttu-id="8a940-473">Puede administrar la infraestructura mediante plantillas declarativas en lugar de scripts.</span><span class="sxs-lookup"><span data-stu-id="8a940-473">You can manage your infrastructure through declarative templates rather than scripts.</span></span>

-   <span data-ttu-id="8a940-474">Puede definir las dependencias entre recursos de modo que se implementen en el orden correcto.</span><span class="sxs-lookup"><span data-stu-id="8a940-474">You can define the dependencies between resources, so they are deployed in the correct order.</span></span>

-   <span data-ttu-id="8a940-475">Puede aplicar control de acceso a todos los servicios del grupo de recursos al integrarse de forma nativa Control de acceso basado en rol (RBAC) en la plataforma de administración.</span><span class="sxs-lookup"><span data-stu-id="8a940-475">You can apply access control to all services in your resource group because Role-Based Access Control (RBAC) is natively integrated into the management platform.</span></span>

-   <span data-ttu-id="8a940-476">Puede aplicar etiquetas a los recursos para organizar de manera lógica todos los recursos de la suscripción.</span><span class="sxs-lookup"><span data-stu-id="8a940-476">You can apply tags to resources to logically organize all the resources in your subscription.</span></span>

-   <span data-ttu-id="8a940-477">Puede aclarar la facturación de su organización viendo los costos de un grupo de recursos que compartan la misma etiqueta.</span><span class="sxs-lookup"><span data-stu-id="8a940-477">You can clarify your organization's billing by viewing costs for a group of resources sharing tag.</span></span>

> [!Note]
> <span data-ttu-id="8a940-478">Resource Manager ofrece una nueva manera de implementar y administrar las soluciones.</span><span class="sxs-lookup"><span data-stu-id="8a940-478">Resource Manager provides a new way to deploy and manage your solutions.</span></span> <span data-ttu-id="8a940-479">Si usó el anterior modelo de implementación y desea obtener más información sobre los cambios, consulte [Descripción de la implementación de Administrador de recursos y la implementación clásica](https://docs.microsoft.com/azure/azure-resource-manager/resource-manager-deployment-model).</span><span class="sxs-lookup"><span data-stu-id="8a940-479">If you used the earlier deployment model and want to learn about the changes, see [Understanding Resource Manager deployment and classic deployment](https://docs.microsoft.com/azure/azure-resource-manager/resource-manager-deployment-model).</span></span>

## <a name="azure-network-logging-and-monitoring"></a><span data-ttu-id="8a940-480">Registro y supervisión de red de Azure</span><span class="sxs-lookup"><span data-stu-id="8a940-480">Azure network logging and monitoring</span></span>

<span data-ttu-id="8a940-481">Azure ofrece muchas herramientas para supervisar, evitar, detectar y responder a eventos de seguridad de red.</span><span class="sxs-lookup"><span data-stu-id="8a940-481">Azure offers many tools to monitor, prevent, detect, and respond to network security events.</span></span> <span data-ttu-id="8a940-482">Algunas de las herramientas más eficaces que tiene disponibles en esta área son:</span><span class="sxs-lookup"><span data-stu-id="8a940-482">Some of the most powerful tools available to you in this area include:</span></span>

-   <span data-ttu-id="8a940-483">Network Watcher</span><span class="sxs-lookup"><span data-stu-id="8a940-483">Network Watcher</span></span>

-   <span data-ttu-id="8a940-484">Supervisión en el nivel de recursos de red</span><span class="sxs-lookup"><span data-stu-id="8a940-484">Network Resource Level Monitoring</span></span>

-   <span data-ttu-id="8a940-485">Log Analytics</span><span class="sxs-lookup"><span data-stu-id="8a940-485">Log Analytics</span></span>

### <a name="network-watcher"></a><span data-ttu-id="8a940-486">Network Watcher</span><span class="sxs-lookup"><span data-stu-id="8a940-486">Network watcher</span></span>

<span data-ttu-id="8a940-487">[Network Watcher](https://docs.microsoft.com/azure/network-watcher/network-watcher-monitoring-overview): este servicio ofrece las características de supervisión basada en el escenario.</span><span class="sxs-lookup"><span data-stu-id="8a940-487">[Network Watcher](https://docs.microsoft.com/azure/network-watcher/network-watcher-monitoring-overview) - Scenario-based monitoring is provided with the features in Network Watcher.</span></span> <span data-ttu-id="8a940-488">Este servicio incluye captura de paquetes, próximo salto, comprobación de flujo de IP, vista de grupos de seguridad y registros de flujo de NSG.</span><span class="sxs-lookup"><span data-stu-id="8a940-488">This service includes packet capture, next hop, IP flow verify, security group view, NSG flow logs.</span></span> <span data-ttu-id="8a940-489">La supervisión en el nivel de escenario, ofrece una visión global de los recursos de la red que contrasta con la supervisión de recursos de red individuales.</span><span class="sxs-lookup"><span data-stu-id="8a940-489">Scenario level monitoring provides an end to end view of network resources in contrast to individual network resource monitoring.</span></span>

 ![Network Watcher](./media/azure-network-security/azure-network-security-fig-15.png)

<span data-ttu-id="8a940-491">Network Watcher es un servicio regional que permite supervisar y diagnosticar problemas en un nivel de escenario de red mediante Azure.</span><span class="sxs-lookup"><span data-stu-id="8a940-491">Network Watcher is a regional service that enables you to monitor and diagnose conditions at a network scenario level in, to, and from Azure.</span></span> <span data-ttu-id="8a940-492">Las herramientas de visualización y diagnóstico de red que incluye Network Watcher le ayudan a conocer, diagnosticar y obtener información acerca de cualquier red de Azure.</span><span class="sxs-lookup"><span data-stu-id="8a940-492">Network diagnostic and visualization tools available with Network Watcher help you understand, diagnose, and gain insights to your network in Azure.</span></span>

<span data-ttu-id="8a940-493">En la actualidad, Network Watcher dispone de las siguientes funcionalidades:</span><span class="sxs-lookup"><span data-stu-id="8a940-493">Network Watcher currently has the following capabilities:</span></span>

#### <a name="topology"></a><span data-ttu-id="8a940-494">Topología</span><span class="sxs-lookup"><span data-stu-id="8a940-494">Topology</span></span>

<span data-ttu-id="8a940-495">La [topología](https://docs.microsoft.com/azure/network-watcher/network-watcher-topology-overview) devuelve un gráfico de recursos de red de una red virtual.</span><span class="sxs-lookup"><span data-stu-id="8a940-495">[Topology](https://docs.microsoft.com/azure/network-watcher/network-watcher-topology-overview) returns a graph of network resources in a virtual network.</span></span> <span data-ttu-id="8a940-496">El grafo traza la interconexión entre los recursos para representar la conectividad de red de un extremo a otro.</span><span class="sxs-lookup"><span data-stu-id="8a940-496">The graph depicts the interconnection between the resources to represent the end to end network connectivity.</span></span> <span data-ttu-id="8a940-497">En el portal, la topología devuelve los objetos de recursos por cada red virtual.</span><span class="sxs-lookup"><span data-stu-id="8a940-497">In the portal, Topology returns the resource objects on as per virtual network basis.</span></span> <span data-ttu-id="8a940-498">Las relaciones se representan mediante líneas entre los recursos. No se mostrarán los recursos fuera de la región de Network Watcher, aunque estén en el grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="8a940-498">The relationships are depicted by lines between the resources outside of the Network Watcher region, even if in the resource group will not be displayed.</span></span> <span data-ttu-id="8a940-499">Los recursos que se devuelven en la vista de portal son un subconjunto de los componentes de red que se representan.</span><span class="sxs-lookup"><span data-stu-id="8a940-499">The resources returned in the portal view are a subset of the networking components that are graphed.</span></span> <span data-ttu-id="8a940-500">Para ver la lista completa de los recursos de red, puede usar [PowerShell](https://docs.microsoft.com/azure/network-watcher/network-watcher-topology-powershell) o [REST](https://docs.microsoft.com/azure/network-watcher/network-watcher-topology-rest).</span><span class="sxs-lookup"><span data-stu-id="8a940-500">To see the full list of networking resources, you can use [PowerShell](https://docs.microsoft.com/azure/network-watcher/network-watcher-topology-powershell) or [REST](https://docs.microsoft.com/azure/network-watcher/network-watcher-topology-rest).</span></span>

<span data-ttu-id="8a940-501">Mientras los recursos devuelven la conexión entre ellos, se modelan con dos relaciones.</span><span class="sxs-lookup"><span data-stu-id="8a940-501">As resources are returned the connection between they are modeled under two relationships.</span></span>

- <span data-ttu-id="8a940-502">**Contención**: Virtual Network contiene un subconjunto que incluye una NIC.</span><span class="sxs-lookup"><span data-stu-id="8a940-502">**Containment** - Virtual Network contains a Subnet, which contains a NIC.</span></span>

- <span data-ttu-id="8a940-503">**Asociación**: una NIC está asociada a una máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="8a940-503">**Associated** - A NIC is associated with a VM.</span></span>

#### <a name="variable-packet-capture"></a><span data-ttu-id="8a940-504">Captura de paquetes variable</span><span class="sxs-lookup"><span data-stu-id="8a940-504">Variable packet capture</span></span>

<span data-ttu-id="8a940-505">La [captura de paquetes variable](https://docs.microsoft.com/azure/network-watcher/network-watcher-packet-capture-overview) de Network Watcher permite crear sesiones de captura de paquetes para realizar el seguimiento del tráfico de entrada y salida de una máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="8a940-505">Network Watcher [variable packet capture](https://docs.microsoft.com/azure/network-watcher/network-watcher-packet-capture-overview) allows you to create packet capture sessions to track traffic to and from a virtual machine.</span></span> <span data-ttu-id="8a940-506">La captura de paquetes ayuda a diagnosticar anomalías de la red, tanto de forma activa como reactiva.</span><span class="sxs-lookup"><span data-stu-id="8a940-506">Packet capture helps to diagnose network anomalies both reactively and proactivity.</span></span> <span data-ttu-id="8a940-507">Otros usos son la recopilación de estadísticas de red, la obtención de información sobre las intrusiones de red y la depuración de las comunicaciones cliente-servidor, entre otros.</span><span class="sxs-lookup"><span data-stu-id="8a940-507">Other uses include gathering network statistics, gaining information on network intrusions, to debug client-server communications and much more.</span></span>

<span data-ttu-id="8a940-508">La captura de paquetes es una extensión de máquina virtual que se inicia de forma remota a través de Network Watcher.</span><span class="sxs-lookup"><span data-stu-id="8a940-508">Packet capture is a virtual machine extension that is remotely started through Network Watcher.</span></span> <span data-ttu-id="8a940-509">Esta funcionalidad reduce la carga de la ejecución manual de una captura de paquetes en el equipo deseado, lo que permite ahorrar tiempo.</span><span class="sxs-lookup"><span data-stu-id="8a940-509">This capability eases the burden of running a packet capture manually on the desired virtual machine, which saves valuable time.</span></span> <span data-ttu-id="8a940-510">La captura de paquetes puede realizarse a través del portal, PowerShell, CLI o API de REST.</span><span class="sxs-lookup"><span data-stu-id="8a940-510">Packet capture can be triggered through the portal, PowerShell, CLI, or REST API.</span></span> <span data-ttu-id="8a940-511">Un ejemplo de cómo se puede activar la captura de paquetes es con las alertas de la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="8a940-511">One example of how packet capture can be triggered is with Virtual Machine alerts.</span></span>

#### <a name="ip-flow-verify"></a><span data-ttu-id="8a940-512">Comprobación de flujo de IP</span><span class="sxs-lookup"><span data-stu-id="8a940-512">IP flow verify</span></span>

<span data-ttu-id="8a940-513">La [comprobación de flujos de IP](https://docs.microsoft.com/azure/network-watcher/network-watcher-ip-flow-verify-overview) permite comprobar si se permite o deniega un paquete hacia o desde una máquina virtual basada en la información de 5-tuplas.</span><span class="sxs-lookup"><span data-stu-id="8a940-513">[IP flows verify](https://docs.microsoft.com/azure/network-watcher/network-watcher-ip-flow-verify-overview) checks if a packet is allowed or denied to or from a virtual machine based on 5-tuple information.</span></span> <span data-ttu-id="8a940-514">Esta información está formada por la dirección, el protocolo, la dirección IP local, la dirección IP remota, el puerto local y el puerto remoto.</span><span class="sxs-lookup"><span data-stu-id="8a940-514">This information consists of direction, protocol, local IP, remote IP, local port, and remote port.</span></span> <span data-ttu-id="8a940-515">Si un grupo de seguridad deniega un paquete, se devuelve el nombre de la regla que lo deniega.</span><span class="sxs-lookup"><span data-stu-id="8a940-515">If the packet is denied by a security group, the name of the rule that denied the packet is returned.</span></span> <span data-ttu-id="8a940-516">Aunque se puede elegir cualquier dirección IP de origen o destino, esta característica ayuda a los administradores a diagnosticar rápidamente problemas de conectividad desde o hacia Internet y desde o hacia el entorno local.</span><span class="sxs-lookup"><span data-stu-id="8a940-516">While any source or destination IP can be chosen, this feature helps administrators quickly diagnose connectivity issues from or to the internet and from or to the on-premises environment.</span></span>

<span data-ttu-id="8a940-517">La comprobación de flujos de IP tiene como destino una interfaz de red de una máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="8a940-517">IP flows verify targets a network interface of a virtual machine.</span></span> <span data-ttu-id="8a940-518">El flujo de tráfico hacia o desde esa interfaz de red se comprueba en función de los valores configurados.</span><span class="sxs-lookup"><span data-stu-id="8a940-518">Traffic flow is then verified based on the configured settings to or from that network interface.</span></span> <span data-ttu-id="8a940-519">Esta capacidad es útil para confirmar si una regla de un grupo de seguridad de red está bloqueando el tráfico de entrada o salida de una máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="8a940-519">This capability is useful in confirming if a rule in a Network Security Group is blocking ingress or egress traffic to or from a virtual machine.</span></span>

#### <a name="next-hop"></a><span data-ttu-id="8a940-520">Próximo salto</span><span class="sxs-lookup"><span data-stu-id="8a940-520">Next hop</span></span>

<span data-ttu-id="8a940-521">Determina el [próximo salto](https://docs.microsoft.com/azure/network-watcher/network-watcher-next-hop-overview) para los paquetes que se enrutan en el tejido de red de Azure, lo que le permite diagnosticar cualquier ruta definida por el usuario que se haya configurado incorrectamente.</span><span class="sxs-lookup"><span data-stu-id="8a940-521">Determines the [next hop](https://docs.microsoft.com/azure/network-watcher/network-watcher-next-hop-overview) for packets being routed in the Azure Network Fabric, enabling you to diagnose any misconfigured user-defined routes.</span></span> <span data-ttu-id="8a940-522">El tráfico de una máquina virtual se envía a un destino en función de las rutas efectivas asociadas con una NIC.</span><span class="sxs-lookup"><span data-stu-id="8a940-522">Traffic from a VM is sent to a destination based on the effective routes associated with a NIC.</span></span> <span data-ttu-id="8a940-523">La funcionalidad Próximo salto obtiene el tipo de próximo salto y la dirección IP de un paquete de una máquina virtual y una NIC específicas.</span><span class="sxs-lookup"><span data-stu-id="8a940-523">Next hop gets the next hop type and IP address of a packet from a specific virtual machine and NIC.</span></span> <span data-ttu-id="8a940-524">Esto sirve para determinar si el paquete se dirige hacia el destino o si el tráfico se está enviando a un agujero negro.</span><span class="sxs-lookup"><span data-stu-id="8a940-524">This helps to determine if the packet is being directed to the destination or is the traffic being black holed.</span></span>

<span data-ttu-id="8a940-525">La funcionalidad Próximo salto también devuelve la tabla de ruta asociada con el próximo salto.</span><span class="sxs-lookup"><span data-stu-id="8a940-525">Next hop also returns the route table associated with the next hop.</span></span> <span data-ttu-id="8a940-526">Al consultar un próximo salto, si la ruta se define como una ruta definida por el usuario, se devolverá esa ruta.</span><span class="sxs-lookup"><span data-stu-id="8a940-526">When querying a next hop if the route is defined as a user-defined route, that route will be returned.</span></span> <span data-ttu-id="8a940-527">De lo contrario, la funcionalidad devolverá "Ruta de sistema".</span><span class="sxs-lookup"><span data-stu-id="8a940-527">Otherwise Next hop returns "System Route".</span></span>

#### <a name="security-group-view"></a><span data-ttu-id="8a940-528">Vista de grupo de seguridad</span><span class="sxs-lookup"><span data-stu-id="8a940-528">Security group view</span></span>

<span data-ttu-id="8a940-529">Obtiene las reglas de seguridad eficaces que se aplican en una máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="8a940-529">Gets the effective and applied security rules that are applied on a VM.</span></span> <span data-ttu-id="8a940-530">Los grupos de seguridad de red pueden asociarse a un nivel de subred o a un nivel de NIC.</span><span class="sxs-lookup"><span data-stu-id="8a940-530">Network Security groups are associated at a subnet level or at a NIC level.</span></span> <span data-ttu-id="8a940-531">Cuando se asocia a un nivel de subred, se aplica a todas las instancias de la máquina virtual en la subred.</span><span class="sxs-lookup"><span data-stu-id="8a940-531">When associated at a subnet level, it applies to all the VM instances in the subnet.</span></span> <span data-ttu-id="8a940-532">La [vista de grupos de seguridad](https://docs.microsoft.com/azure/network-watcher/network-watcher-security-group-view-overview) de red devuelve todos los grupos de seguridad de red así como las reglas que están asociadas a un nivel de subred y a la NIC para una máquina virtual que proporciona una perspectiva sobre la configuración.</span><span class="sxs-lookup"><span data-stu-id="8a940-532">Network [Security Group view](https://docs.microsoft.com/azure/network-watcher/network-watcher-security-group-view-overview) returns all the configured NSGs and rules that are associated at a NIC and subnet level for a virtual machine providing insight into the configuration.</span></span> <span data-ttu-id="8a940-533">Además, se devuelven las reglas de seguridad vigentes para cada una de las NIC en una máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="8a940-533">In addition, the effective security rules are returned for each of the NICs in a VM.</span></span> <span data-ttu-id="8a940-534">Con la vista de grupos de seguridad de red, se puede evaluar una máquina virtual en busca de vulnerabilidades de red, como puertos abiertos.</span><span class="sxs-lookup"><span data-stu-id="8a940-534">Using Network Security Group view, you can assess a VM for network vulnerabilities such as open ports.</span></span> <span data-ttu-id="8a940-535">También se puede validar si el grupo de seguridad de red está funcionando según lo previsto en función de una [comparación entre las reglas de seguridad vigentes y configuradas](https://docs.microsoft.com/azure/network-watcher/network-watcher-nsg-auditing-powershell).</span><span class="sxs-lookup"><span data-stu-id="8a940-535">You can also validate if your Network Security Group is working as expected based on a [comparison between the configured and the effective security rules](https://docs.microsoft.com/azure/network-watcher/network-watcher-nsg-auditing-powershell).</span></span>

#### <a name="nsg-flow-logging"></a><span data-ttu-id="8a940-536">Registro de flujo de NSG</span><span class="sxs-lookup"><span data-stu-id="8a940-536">NSG Flow logging</span></span>

 <span data-ttu-id="8a940-537">Los registros de flujo de los grupos de seguridad de red permiten capturar registros relacionados con el tráfico que están permitidos o no por las reglas de seguridad del grupo.</span><span class="sxs-lookup"><span data-stu-id="8a940-537">Flow logs for Network Security Groups enable you to capture logs related to traffic that are allowed or denied by the security rules in the group.</span></span> <span data-ttu-id="8a940-538">El flujo se define mediante una información de 5-tuplas: IP de origen, IP de destino, puerto de origen, puerto de destino y protocolo.</span><span class="sxs-lookup"><span data-stu-id="8a940-538">The flow is defined by a 5-tuple information – Source IP, Destination IP, Source Port, Destination Port, and Protocol.</span></span>

<span data-ttu-id="8a940-539">Los [registros de flujos de grupos de seguridad de red](https://docs.microsoft.com/azure/network-watcher/network-watcher-nsg-flow-logging-overview) son una característica de Network Watcher que permite consultar información acerca del tráfico IP de entrada y de salida en un grupo de seguridad de red.</span><span class="sxs-lookup"><span data-stu-id="8a940-539">[Network Security Group flow logs](https://docs.microsoft.com/azure/network-watcher/network-watcher-nsg-flow-logging-overview) are a feature of Network Watcher that allows you to view information about ingress and egress IP traffic through a Network Security Group.</span></span>

#### <a name="virtual-network-gateway-and-connection-troubleshooting"></a><span data-ttu-id="8a940-540">Solución de problemas de puerta de enlace de Virtual Network y de conexión</span><span class="sxs-lookup"><span data-stu-id="8a940-540">Virtual network gateway and connection troubleshooting</span></span>

<span data-ttu-id="8a940-541">Network Watcher proporciona numerosas funcionalidades con relación a los recursos de red de Azure.</span><span class="sxs-lookup"><span data-stu-id="8a940-541">Network Watcher provides many capabilities as it relates to understanding your network resources in Azure.</span></span> <span data-ttu-id="8a940-542">Una de estas funcionalidades es la solución de problemas de recursos.</span><span class="sxs-lookup"><span data-stu-id="8a940-542">One of these capabilities is resource troubleshooting.</span></span> <span data-ttu-id="8a940-543">Se puede llamar a la [solución de problemas de recursos](https://docs.microsoft.com/azure/network-watcher/network-watcher-troubleshoot-manage-rest) mediante PowerShell, la CLI o la API de REST.</span><span class="sxs-lookup"><span data-stu-id="8a940-543">[Resource troubleshooting](https://docs.microsoft.com/azure/network-watcher/network-watcher-troubleshoot-manage-rest) can be called by PowerShell, CLI, or REST API.</span></span> <span data-ttu-id="8a940-544">Cuando se llama a Network Watcher, este inspecciona el estado de una puerta de enlace de Virtual Network o de una conexión y devuelve sus conclusiones.</span><span class="sxs-lookup"><span data-stu-id="8a940-544">When called, Network Watcher inspects the health of a Virtual Network gateway or a Connection and returns its findings.</span></span>

<span data-ttu-id="8a940-545">Esta sección le guiará por las diferentes tareas de administración que están actualmente disponibles para la solución de problemas de recursos.</span><span class="sxs-lookup"><span data-stu-id="8a940-545">This section takes you through the different management tasks that are currently available for resource troubleshooting.</span></span>

-   [<span data-ttu-id="8a940-546">Solución de problemas de una puerta de enlace de Virtual Network</span><span class="sxs-lookup"><span data-stu-id="8a940-546">Troubleshoot a Virtual Network gateway</span></span>](https://docs.microsoft.com/azure/network-watcher/network-watcher-troubleshoot-manage-rest)

-   [<span data-ttu-id="8a940-547">Solución de problemas de una conexión</span><span class="sxs-lookup"><span data-stu-id="8a940-547">Troubleshoot a Connection</span></span>](https://docs.microsoft.com/azure/network-watcher/network-watcher-troubleshoot-manage-rest)

#### <a name="network-subscription-limits"></a><span data-ttu-id="8a940-548">Límites de suscripción de red</span><span class="sxs-lookup"><span data-stu-id="8a940-548">Network subscription limits</span></span>

<span data-ttu-id="8a940-549">Los [límites de suscripción de red](https://docs.microsoft.com/azure/network-watcher/network-watcher-monitoring-overview) proporcionan detalles del uso de cada uno de los recursos de red en una suscripción de una región en comparación con el número máximo de recursos disponibles.</span><span class="sxs-lookup"><span data-stu-id="8a940-549">[Network subscription limits](https://docs.microsoft.com/azure/network-watcher/network-watcher-monitoring-overview) provide you with details of the usage of each of the network resource in a subscription in a region against the maximum number of resources available.</span></span>

#### <a name="configuring-diagnostics-log"></a><span data-ttu-id="8a940-550">Configuración del registro de diagnóstico</span><span class="sxs-lookup"><span data-stu-id="8a940-550">Configuring diagnostics Log</span></span>

<span data-ttu-id="8a940-551">Network Watcher proporciona una vista de los [registros de diagnóstico](https://docs.microsoft.com/azure/network-watcher/network-watcher-monitoring-overview).</span><span class="sxs-lookup"><span data-stu-id="8a940-551">Network Watcher provides a [diagnostic logs](https://docs.microsoft.com/azure/network-watcher/network-watcher-monitoring-overview) view.</span></span> <span data-ttu-id="8a940-552">Esta vista contiene todos los recursos de las redes que admiten el registro de diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="8a940-552">This view contains all networking resources that support diagnostic logging.</span></span> <span data-ttu-id="8a940-553">Desde esta vista, puede habilitar y deshabilitar los recursos de red de forma cómoda y rápida.</span><span class="sxs-lookup"><span data-stu-id="8a940-553">From this view, you can enable and disable networking resources conveniently and quickly.</span></span>

### <a name="network-resource-level-monitoring"></a><span data-ttu-id="8a940-554">Supervisión en el nivel de recursos de red</span><span class="sxs-lookup"><span data-stu-id="8a940-554">Network resource level monitoring</span></span>

<span data-ttu-id="8a940-555">Las siguientes características están disponibles para la supervisión en el nivel de recurso:</span><span class="sxs-lookup"><span data-stu-id="8a940-555">The following features are available for resource level monitoring:</span></span>

#### <a name="audit-log"></a><span data-ttu-id="8a940-556">Registro de auditoría</span><span class="sxs-lookup"><span data-stu-id="8a940-556">Audit log</span></span>

<span data-ttu-id="8a940-557">Se registran las operaciones realizadas como parte de la configuración de redes.</span><span class="sxs-lookup"><span data-stu-id="8a940-557">Operations performed as part of the configuration of networks are logged.</span></span> <span data-ttu-id="8a940-558">Estos registros de auditoría son esenciales para establecer diversas conformidades.</span><span class="sxs-lookup"><span data-stu-id="8a940-558">These audit logs are essential to establish various compliances.</span></span> <span data-ttu-id="8a940-559">Estos registros se pueden ver en Azure Portal o se pueden recuperar mediante herramientas de Microsoft como Power BI o herramientas de terceros.</span><span class="sxs-lookup"><span data-stu-id="8a940-559">These logs can be viewed in the Azure portal or retrieved using Microsoft tools such as Power BI or third-party tools.</span></span> <span data-ttu-id="8a940-560">Los registros de auditoría están disponibles a través del portal, PowerShell, la CLI y la API de Rest.</span><span class="sxs-lookup"><span data-stu-id="8a940-560">Audit logs are available through the portal, PowerShell, CLI, and Rest API.</span></span>

> [!Note]
> <span data-ttu-id="8a940-561">Para más información sobre los registros de auditoría, consulte [Operaciones de auditoría con Resource Manager](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-audit).</span><span class="sxs-lookup"><span data-stu-id="8a940-561">For more information on Audit logs, see [Audit operations with Resource Manager](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-audit).</span></span>
<span data-ttu-id="8a940-562">Hay registros de auditoría disponibles para las operaciones realizadas en todos los recursos de red.</span><span class="sxs-lookup"><span data-stu-id="8a940-562">Audit logs are available for operations done on all network resources.</span></span>


#### <a name="metrics"></a><span data-ttu-id="8a940-563">Métricas</span><span class="sxs-lookup"><span data-stu-id="8a940-563">Metrics</span></span>

<span data-ttu-id="8a940-564">Las métricas son medidas de rendimiento y contadores recopilados durante un período de tiempo.</span><span class="sxs-lookup"><span data-stu-id="8a940-564">Metrics are performance measurements and counters collected over a period.</span></span> <span data-ttu-id="8a940-565">Las métricas están disponibles actualmente para Application Gateway.</span><span class="sxs-lookup"><span data-stu-id="8a940-565">Metrics are currently available for Application Gateway.</span></span> <span data-ttu-id="8a940-566">Las métricas se pueden utilizar para desencadenar alertas basadas en umbrales.</span><span class="sxs-lookup"><span data-stu-id="8a940-566">Metrics can be used to trigger alerts based on threshold.</span></span> <span data-ttu-id="8a940-567">La puerta de enlace de aplicaciones de Azure supervisa de forma predeterminada el estado de todos los recursos de su grupo de back-end y elimina automáticamente del grupo los recursos que se considera que están en mal estado.</span><span class="sxs-lookup"><span data-stu-id="8a940-567">Azure Application Gateway by default monitors the health of all resources in its back-end pool and automatically removes any resource considered unhealthy from the pool.</span></span> <span data-ttu-id="8a940-568">Además, continúa supervisando las instancias en mal estado y las agrega de nuevo al grupo de back-end en buen estado, una vez que están disponibles y responden a los sondeos de estado.</span><span class="sxs-lookup"><span data-stu-id="8a940-568">Application Gateway continues to monitor the unhealthy instances and adds them back to the healthy back-end pool once they become available and respond to health probes.</span></span> <span data-ttu-id="8a940-569">Application Gateway envía los sondeos de mantenimiento con el mismo puerto que se define en la configuración de HTTP de back-end.</span><span class="sxs-lookup"><span data-stu-id="8a940-569">Application gateway sends the health probes with the same port that is defined in the back-end HTTP settings.</span></span> <span data-ttu-id="8a940-570">Esta configuración garantiza que el sondeo prueba el mismo puerto que utilizarían los clientes para conectarse al back-end.</span><span class="sxs-lookup"><span data-stu-id="8a940-570">This configuration ensures that the probe is testing the same port that customers would be using to connect to the backend.</span></span>

> [!Note]
> <span data-ttu-id="8a940-571">Consulte [Diagnósticos de Application Gateway](https://docs.microsoft.com/azure/application-gateway/application-gateway-probe-overview) para ver cómo se pueden utilizar las métricas para crear alertas.</span><span class="sxs-lookup"><span data-stu-id="8a940-571">See [Application Gateway Diagnostics](https://docs.microsoft.com/azure/application-gateway/application-gateway-probe-overview) to view how metrics can be used to create alerts.</span></span>

#### <a name="diagnostic-logs"></a><span data-ttu-id="8a940-572">Registros de diagnóstico</span><span class="sxs-lookup"><span data-stu-id="8a940-572">Diagnostic logs</span></span>

<span data-ttu-id="8a940-573">Los recursos de red crean eventos periódicos y espontáneos y estos se registran en las cuentas de almacenamiento, se envían a un centro de eventos o a Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="8a940-573">Periodic and spontaneous events are created by network resources and logged in storage accounts, sent to an Event Hub, or Log Analytics.</span></span> <span data-ttu-id="8a940-574">Estos registros proporcionan información acerca del estado de un recurso.</span><span class="sxs-lookup"><span data-stu-id="8a940-574">These logs provide insights into the health of a resource.</span></span> <span data-ttu-id="8a940-575">Estos registros se pueden ver en herramientas como Power BI y Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="8a940-575">These logs can be viewed in tools such as Power BI and Log Analytics.</span></span> <span data-ttu-id="8a940-576">Para aprender a ver registros de diagnóstico, visite [Log Analytics](https://docs.microsoft.com/azure/log-analytics/log-analytics-azure-networking-analytics).</span><span class="sxs-lookup"><span data-stu-id="8a940-576">To learn how to view diagnostic logs, visit [Log Analytics](https://docs.microsoft.com/azure/log-analytics/log-analytics-azure-networking-analytics).</span></span>

<span data-ttu-id="8a940-577">Los registros de diagnóstico están disponibles para el [equilibrador de carga](https://docs.microsoft.com/azure/load-balancer/load-balancer-monitor-log), los [grupos de seguridad de red](https://docs.microsoft.com/azure/virtual-network/virtual-network-nsg-manage-log), las rutas y [Application Gateway](https://docs.microsoft.com/azure/application-gateway/application-gateway-diagnostics).</span><span class="sxs-lookup"><span data-stu-id="8a940-577">Diagnostic logs are available for [Load Balancer](https://docs.microsoft.com/azure/load-balancer/load-balancer-monitor-log), [Network Security Groups](https://docs.microsoft.com/azure/virtual-network/virtual-network-nsg-manage-log), Routes, and [Application Gateway](https://docs.microsoft.com/azure/application-gateway/application-gateway-diagnostics).</span></span>

<span data-ttu-id="8a940-578">Network Watcher proporciona una vista de los registros de diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="8a940-578">Network Watcher provides a diagnostic logs view.</span></span> <span data-ttu-id="8a940-579">Esta vista contiene todos los recursos de las redes que admiten el registro de diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="8a940-579">This view contains all networking resources that support diagnostic logging.</span></span> <span data-ttu-id="8a940-580">Desde esta vista, puede habilitar y deshabilitar los recursos de red de forma cómoda y rápida.</span><span class="sxs-lookup"><span data-stu-id="8a940-580">From this view, you can enable and disable networking resources conveniently and quickly.</span></span>

### <a name="log-analytics"></a><span data-ttu-id="8a940-581">Log Analytics</span><span class="sxs-lookup"><span data-stu-id="8a940-581">Log analytics</span></span>

<span data-ttu-id="8a940-582">[Log Analytics](https://docs.microsoft.com/azure/log-analytics/log-analytics-overview) es un servicio de [Operations Management Suite (OMS)](https://docs.microsoft.com/azure/operations-management-suite/operations-management-suite-overview) que supervisa los entornos local y de nube para mantener su disponibilidad y rendimiento.</span><span class="sxs-lookup"><span data-stu-id="8a940-582">[Log Analytics](https://docs.microsoft.com/azure/log-analytics/log-analytics-overview) is a service in [Operations Management Suite (OMS)](https://docs.microsoft.com/azure/operations-management-suite/operations-management-suite-overview) that monitors your cloud and on-premises environments to maintain their availability and performance.</span></span> <span data-ttu-id="8a940-583">Recopila los datos generados por los recursos en los entornos local y de nube y mediante otras herramientas de supervisión, para proporcionar análisis entre varios orígenes.</span><span class="sxs-lookup"><span data-stu-id="8a940-583">It collects data generated by resources in your cloud and on-premises environments and from other monitoring tools to provide analysis across multiple sources.</span></span>

<span data-ttu-id="8a940-584">Log Analytics ofrece las siguientes soluciones para supervisar las redes:</span><span class="sxs-lookup"><span data-stu-id="8a940-584">Log Analytics offers the following solutions for monitoring your networks:</span></span>

-   <span data-ttu-id="8a940-585">Network Performance Monitor (NPM) (monitor de rendimiento de red)</span><span class="sxs-lookup"><span data-stu-id="8a940-585">Network Performance Monitor (NPM)</span></span>

-   <span data-ttu-id="8a940-586">Azure Application Gateway Analytics</span><span class="sxs-lookup"><span data-stu-id="8a940-586">Azure Application Gateway analytics</span></span>

-   <span data-ttu-id="8a940-587">Azure Network Security Group Analytics</span><span class="sxs-lookup"><span data-stu-id="8a940-587">Azure Network Security Group analytics</span></span>

#### <a name="network-performance-monitor-npm"></a><span data-ttu-id="8a940-588">Network Performance Monitor (NPM) (monitor de rendimiento de red)</span><span class="sxs-lookup"><span data-stu-id="8a940-588">Network performance monitor (NPM)</span></span>
<span data-ttu-id="8a940-589">La solución de administración [Network Performance Monitor](https://docs.microsoft.com/azure/log-analytics/log-analytics-network-performance-monitor) supervisa el mantenimiento, la disponibilidad y accesibilidad de las redes.</span><span class="sxs-lookup"><span data-stu-id="8a940-589">The [Network Performance Monitor](https://docs.microsoft.com/azure/log-analytics/log-analytics-network-performance-monitor) management solution is a network monitoring  solution that monitors the health, availability, and reachability of networks.</span></span>

<span data-ttu-id="8a940-590">Se utiliza para supervisar la conectividad entre:</span><span class="sxs-lookup"><span data-stu-id="8a940-590">It is used to monitor connectivity between:</span></span>

-   <span data-ttu-id="8a940-591">nube pública y entorno local</span><span class="sxs-lookup"><span data-stu-id="8a940-591">public cloud and on-premises</span></span>

-   <span data-ttu-id="8a940-592">centros de datos y ubicaciones de usuario (sucursales)</span><span class="sxs-lookup"><span data-stu-id="8a940-592">data centers and user locations (branch offices)</span></span>

-   <span data-ttu-id="8a940-593">subredes que hospedan distintos niveles de una aplicación de varios niveles.</span><span class="sxs-lookup"><span data-stu-id="8a940-593">subnets hosting various tiers of a multi-tiered application.</span></span>


#### <a name="azure-application-gateway-analytics-in-log-analytics"></a><span data-ttu-id="8a940-594">Azure Application Gateway Analytics en Log Analytics</span><span class="sxs-lookup"><span data-stu-id="8a940-594">Azure application gateway analytics in log analytics</span></span>

<span data-ttu-id="8a940-595">Para Application Gateway se admiten los siguientes registros:</span><span class="sxs-lookup"><span data-stu-id="8a940-595">The following logs are supported for Application Gateways:</span></span>

-   <span data-ttu-id="8a940-596">ApplicationGatewayAccessLog</span><span class="sxs-lookup"><span data-stu-id="8a940-596">ApplicationGatewayAccessLog</span></span>

-   <span data-ttu-id="8a940-597">ApplicationGatewayPerformanceLog</span><span class="sxs-lookup"><span data-stu-id="8a940-597">ApplicationGatewayPerformanceLog</span></span>

-   <span data-ttu-id="8a940-598">ApplicationGatewayFirewallLog</span><span class="sxs-lookup"><span data-stu-id="8a940-598">ApplicationGatewayFirewallLog</span></span>

<span data-ttu-id="8a940-599">Las métricas siguientes son compatibles con Application Gateway:</span><span class="sxs-lookup"><span data-stu-id="8a940-599">The following metrics are supported for Application Gateways:</span></span>

-   <span data-ttu-id="8a940-600">Rendimiento de 5 minutos</span><span class="sxs-lookup"><span data-stu-id="8a940-600">5-minute throughput</span></span>

#### <a name="azure-network-security-group-analytics-in-log-analytics"></a><span data-ttu-id="8a940-601">Azure Network Security Group Analytics en Log Analytics</span><span class="sxs-lookup"><span data-stu-id="8a940-601">Azure network security group analytics in log analytics</span></span>

<span data-ttu-id="8a940-602">Para los [grupos de seguridad de red](https://docs.microsoft.com/azure/virtual-network/virtual-network-nsg-manage-log) se admiten los siguientes registros:</span><span class="sxs-lookup"><span data-stu-id="8a940-602">The following logs are supported for [network security groups](https://docs.microsoft.com/azure/virtual-network/virtual-network-nsg-manage-log):</span></span>

- <span data-ttu-id="8a940-603">**NetworkSecurityGroupEvent:** contiene entradas para las que se aplican reglas de NSG a las máquinas virtuales y a los roles de instancia en función de la dirección MAC.</span><span class="sxs-lookup"><span data-stu-id="8a940-603">**NetworkSecurityGroupEvent:** Contains entries for which NSG rules are applied to VMs and instance roles based on MAC address.</span></span> <span data-ttu-id="8a940-604">El estado de estas reglas se recopila cada 60 segundos.</span><span class="sxs-lookup"><span data-stu-id="8a940-604">The status for these rules is collected every 60 seconds.</span></span>

- <span data-ttu-id="8a940-605">**NetworkSecurityGroupRuleCounter:** contiene entradas para el número de veces que se aplica cada regla de NSG para denegar o permitir el tráfico.</span><span class="sxs-lookup"><span data-stu-id="8a940-605">**NetworkSecurityGroupRuleCounter:** Contains entries for how many times each NSG rule is applied to deny or allow traffic.</span></span>

## <a name="next-steps"></a><span data-ttu-id="8a940-606">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="8a940-606">Next steps</span></span>
<span data-ttu-id="8a940-607">Obtener más información acerca de la seguridad con la lectura de algunos de nuestros detallados temas de seguridad:</span><span class="sxs-lookup"><span data-stu-id="8a940-607">Find out more about security by reading some of our in-depth security topics:</span></span>

-   [<span data-ttu-id="8a940-608">Análisis del registro para grupos de seguridad de red (NSG)</span><span class="sxs-lookup"><span data-stu-id="8a940-608">Log Analytics for Network Security Groups (NSGs)</span></span>](https://docs.microsoft.com/azure/virtual-network/virtual-network-nsg-manage-log)

-   [<span data-ttu-id="8a940-609">Innovaciones en las redes que permiten controlar las interrupciones en la nube</span><span class="sxs-lookup"><span data-stu-id="8a940-609">Networking innovations that drive the cloud disruption</span></span>](https://azure.microsoft.com/blog/networking-innovations-that-drive-the-cloud-disruption/)

-   [<span data-ttu-id="8a940-610">SONiC: El software de cambio de redes que incluye Microsoft Global Cloud</span><span class="sxs-lookup"><span data-stu-id="8a940-610">SONiC: The networking switch software that powers the Microsoft Global Cloud</span></span>](https://azure.microsoft.com/blog/sonic-the-networking-switch-software-that-powers-the-microsoft-global-cloud/)

-   [<span data-ttu-id="8a940-611">Cómo crea Microsoft su red global rápida y confiable</span><span class="sxs-lookup"><span data-stu-id="8a940-611">How Microsoft builds its fast and reliable global network</span></span>](https://azure.microsoft.com/blog/how-microsoft-builds-its-fast-and-reliable-global-network/)

-   [<span data-ttu-id="8a940-612">Impulso de la innovación en la red</span><span class="sxs-lookup"><span data-stu-id="8a940-612">Lighting up network innovation</span></span>](https://azure.microsoft.com/blog/lighting-up-network-innovation/)
