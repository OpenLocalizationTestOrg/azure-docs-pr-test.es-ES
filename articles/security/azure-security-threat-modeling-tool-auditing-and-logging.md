---
title: aaaAuditing y registro - herramienta de modelado de amenazas de Microsoft - Azure | Documentos de Microsoft
description: mitigaciones en busca de amenazas que se exponen en hello herramienta de modelado de amenazas
services: security
documentationcenter: na
author: RodSan
manager: RodSan
editor: RodSan
ms.assetid: na
ms.service: security
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/17/2017
ms.author: rodsan
ms.openlocfilehash: f28988833eba251b6ceb8bbd47cde37e871af609
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="security-frame-auditing-and-logging--mitigations"></a><span data-ttu-id="f8b17-103">Marco de seguridad: Auditoría y registro | Mitigaciones</span><span class="sxs-lookup"><span data-stu-id="f8b17-103">Security Frame: Auditing and Logging | Mitigations</span></span> 
| <span data-ttu-id="f8b17-104">Producto o servicio</span><span class="sxs-lookup"><span data-stu-id="f8b17-104">Product/Service</span></span> | <span data-ttu-id="f8b17-105">Artículo</span><span class="sxs-lookup"><span data-stu-id="f8b17-105">Article</span></span> |
| --------------- | ------- |
| <span data-ttu-id="f8b17-106">**Dynamics CRM**</span><span class="sxs-lookup"><span data-stu-id="f8b17-106">**Dynamics CRM**</span></span>    | <ul><li>[<span data-ttu-id="f8b17-107">Identificación de las entidades confidenciales de la solución e implementación de la auditoría de cambios</span><span class="sxs-lookup"><span data-stu-id="f8b17-107">Identify sensitive entities in your solution and implement change auditing</span></span>](#sensitive-entities)</li></ul> |
| <span data-ttu-id="f8b17-108">**Aplicación web**</span><span class="sxs-lookup"><span data-stu-id="f8b17-108">**Web Application**</span></span> | <ul><li>[<span data-ttu-id="f8b17-109">Asegúrese de que la auditoría y registro se aplican en la aplicación hello</span><span class="sxs-lookup"><span data-stu-id="f8b17-109">Ensure that auditing and logging is enforced on hello application</span></span>](#auditing)</li><li>[<span data-ttu-id="f8b17-110">Comprobación de que la rotación de registros y la separación están en funcionamiento</span><span class="sxs-lookup"><span data-stu-id="f8b17-110">Ensure that log rotation and separation are in place</span></span>](#log-rotation)</li><li>[<span data-ttu-id="f8b17-111">Asegúrese de que la aplicación hello no registra información confidencial del usuario</span><span class="sxs-lookup"><span data-stu-id="f8b17-111">Ensure that hello application does not log sensitive user data</span></span>](#log-sensitive-data)</li><li>[<span data-ttu-id="f8b17-112">Comprobación de que los archivos de registro y auditoría tienen acceso restringido</span><span class="sxs-lookup"><span data-stu-id="f8b17-112">Ensure that Audit and Log Files have Restricted Access</span></span>](#log-restricted-access)</li><li>[<span data-ttu-id="f8b17-113">Comprobación de que se registran los eventos de administración de usuario</span><span class="sxs-lookup"><span data-stu-id="f8b17-113">Ensure that User Management Events are Logged</span></span>](#user-management)</li><li>[<span data-ttu-id="f8b17-114">Asegúrese de que tiene el sistema de hello defensas integradas contra el uso indebido</span><span class="sxs-lookup"><span data-stu-id="f8b17-114">Ensure that hello system has inbuilt defenses against misuse</span></span>](#inbuilt-defenses)</li><li>[<span data-ttu-id="f8b17-115">Habilitación del registro de diagnóstico para aplicaciones web en Azure App Service</span><span class="sxs-lookup"><span data-stu-id="f8b17-115">Enable diagnostics logging for web apps in Azure App Service</span></span>](#diagnostics-logging)</li></ul> |
| <span data-ttu-id="f8b17-116">**Base de datos**</span><span class="sxs-lookup"><span data-stu-id="f8b17-116">**Database**</span></span> | <ul><li>[<span data-ttu-id="f8b17-117">Comprobación de que está habilitada la auditoría de inicio de sesión en SQL Server</span><span class="sxs-lookup"><span data-stu-id="f8b17-117">Ensure that login auditing is enabled on SQL Server</span></span>](#identify-sensitive-entities)</li><li>[<span data-ttu-id="f8b17-118">Habilitamiento de la detección de amenazas en Azure SQL</span><span class="sxs-lookup"><span data-stu-id="f8b17-118">Enable Threat detection on Azure SQL</span></span>](#threat-detection)</li></ul> |
| <span data-ttu-id="f8b17-119">**Azure Storage**</span><span class="sxs-lookup"><span data-stu-id="f8b17-119">**Azure Storage**</span></span> | <ul><li>[<span data-ttu-id="f8b17-120">Usar el análisis de almacenamiento de Azure tooaudit acceso de almacenamiento de Azure</span><span class="sxs-lookup"><span data-stu-id="f8b17-120">Use Azure Storage Analytics tooaudit access of Azure Storage</span></span>](#analytics)</li></ul> |
| <span data-ttu-id="f8b17-121">**WCF**</span><span class="sxs-lookup"><span data-stu-id="f8b17-121">**WCF**</span></span> | <ul><li>[<span data-ttu-id="f8b17-122">Implementación de suficientes registros</span><span class="sxs-lookup"><span data-stu-id="f8b17-122">Implement sufficient Logging</span></span>](#sufficient-logging)</li><li>[<span data-ttu-id="f8b17-123">Implementación de un control suficiente de errores de auditoría</span><span class="sxs-lookup"><span data-stu-id="f8b17-123">Implement sufficient Audit Failure Handling</span></span>](#audit-failure-handling)</li></ul> |
| <span data-ttu-id="f8b17-124">**API web**</span><span class="sxs-lookup"><span data-stu-id="f8b17-124">**Web API**</span></span> | <ul><li>[<span data-ttu-id="f8b17-125">Comprobación de que la auditoría y el registro se aplican en Web API</span><span class="sxs-lookup"><span data-stu-id="f8b17-125">Ensure that auditing and logging is enforced on Web API</span></span>](#logging-web-api)</li></ul> |
| <span data-ttu-id="f8b17-126">**Puerta de enlace de campo de IoT**</span><span class="sxs-lookup"><span data-stu-id="f8b17-126">**IoT Field Gateway**</span></span> | <ul><li>[<span data-ttu-id="f8b17-127">Comprobación de que se aplican la auditoría y registro adecuados en la puerta de enlace de campo</span><span class="sxs-lookup"><span data-stu-id="f8b17-127">Ensure that appropriate auditing and logging is enforced on Field Gateway</span></span>](#logging-field-gateway)</li></ul> |
| <span data-ttu-id="f8b17-128">**Puerta de enlace de nube de IoT**</span><span class="sxs-lookup"><span data-stu-id="f8b17-128">**IoT Cloud Gateway**</span></span> | <ul><li>[<span data-ttu-id="f8b17-129">Comprobación de que se aplican la auditoría y registro adecuados en la puerta de enlace de nube</span><span class="sxs-lookup"><span data-stu-id="f8b17-129">Ensure that appropriate auditing and logging is enforced on Cloud Gateway</span></span>](#logging-cloud-gateway)</li></ul> |

## <span data-ttu-id="f8b17-130"><a id="sensitive-entities"></a>Identificación de las entidades confidenciales de la solución e implementación de la auditoría de cambios</span><span class="sxs-lookup"><span data-stu-id="f8b17-130"><a id="sensitive-entities"></a>Identify sensitive entities in your solution and implement change auditing</span></span>

| <span data-ttu-id="f8b17-131">Título</span><span class="sxs-lookup"><span data-stu-id="f8b17-131">Title</span></span>                   | <span data-ttu-id="f8b17-132">Detalles</span><span class="sxs-lookup"><span data-stu-id="f8b17-132">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="f8b17-133">**Componente**</span><span class="sxs-lookup"><span data-stu-id="f8b17-133">**Component**</span></span>               | <span data-ttu-id="f8b17-134">Dynamics CRM</span><span class="sxs-lookup"><span data-stu-id="f8b17-134">Dynamics CRM</span></span> | 
| <span data-ttu-id="f8b17-135">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="f8b17-135">**SDL Phase**</span></span>               | <span data-ttu-id="f8b17-136">Compilación</span><span class="sxs-lookup"><span data-stu-id="f8b17-136">Build</span></span> |  
| <span data-ttu-id="f8b17-137">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="f8b17-137">**Applicable Technologies**</span></span> | <span data-ttu-id="f8b17-138">Genérico</span><span class="sxs-lookup"><span data-stu-id="f8b17-138">Generic</span></span> |
| <span data-ttu-id="f8b17-139">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="f8b17-139">**Attributes**</span></span>              | <span data-ttu-id="f8b17-140">N/D</span><span class="sxs-lookup"><span data-stu-id="f8b17-140">N/A</span></span>  |
| <span data-ttu-id="f8b17-141">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="f8b17-141">**References**</span></span>              | <span data-ttu-id="f8b17-142">N/D</span><span class="sxs-lookup"><span data-stu-id="f8b17-142">N/A</span></span>  |
| <span data-ttu-id="f8b17-143">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="f8b17-143">**Steps**</span></span>                   | <span data-ttu-id="f8b17-144">Identificación de las entidades de la solución que contienen datos confidenciales e implementación de la auditoría de cambios en esas entidades y campos</span><span class="sxs-lookup"><span data-stu-id="f8b17-144">Identify entities in your solution containing sensitive data and implement change auditing on those entities and fields</span></span> |

## <span data-ttu-id="f8b17-145"><a id="auditing"></a>Asegúrese de que la auditoría y registro se aplican en la aplicación hello</span><span class="sxs-lookup"><span data-stu-id="f8b17-145"><a id="auditing"></a>Ensure that auditing and logging is enforced on hello application</span></span>

| <span data-ttu-id="f8b17-146">Título</span><span class="sxs-lookup"><span data-stu-id="f8b17-146">Title</span></span>                   | <span data-ttu-id="f8b17-147">Detalles</span><span class="sxs-lookup"><span data-stu-id="f8b17-147">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="f8b17-148">**Componente**</span><span class="sxs-lookup"><span data-stu-id="f8b17-148">**Component**</span></span>               | <span data-ttu-id="f8b17-149">Aplicación web</span><span class="sxs-lookup"><span data-stu-id="f8b17-149">Web Application</span></span> | 
| <span data-ttu-id="f8b17-150">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="f8b17-150">**SDL Phase**</span></span>               | <span data-ttu-id="f8b17-151">Compilación</span><span class="sxs-lookup"><span data-stu-id="f8b17-151">Build</span></span> |  
| <span data-ttu-id="f8b17-152">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="f8b17-152">**Applicable Technologies**</span></span> | <span data-ttu-id="f8b17-153">Genérico</span><span class="sxs-lookup"><span data-stu-id="f8b17-153">Generic</span></span> |
| <span data-ttu-id="f8b17-154">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="f8b17-154">**Attributes**</span></span>              | <span data-ttu-id="f8b17-155">N/D</span><span class="sxs-lookup"><span data-stu-id="f8b17-155">N/A</span></span>  |
| <span data-ttu-id="f8b17-156">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="f8b17-156">**References**</span></span>              | <span data-ttu-id="f8b17-157">N/D</span><span class="sxs-lookup"><span data-stu-id="f8b17-157">N/A</span></span>  |
| <span data-ttu-id="f8b17-158">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="f8b17-158">**Steps**</span></span>                   | <span data-ttu-id="f8b17-159">Habilite la auditoría y el registro en todos los componentes.</span><span class="sxs-lookup"><span data-stu-id="f8b17-159">Enable auditing and logging on all components.</span></span> <span data-ttu-id="f8b17-160">Los registros de auditoría deben reflejar el contexto de usuario.</span><span class="sxs-lookup"><span data-stu-id="f8b17-160">Audit logs should capture user context.</span></span> <span data-ttu-id="f8b17-161">Identifique todos los eventos importantes y regístrelos.</span><span class="sxs-lookup"><span data-stu-id="f8b17-161">Identify all important events and log those events.</span></span> <span data-ttu-id="f8b17-162">Implemente el registro centralizado.</span><span class="sxs-lookup"><span data-stu-id="f8b17-162">Implement centralized logging</span></span> |

## <span data-ttu-id="f8b17-163"><a id="log-rotation"></a>Comprobación de que la rotación de registros y la separación están en funcionamiento</span><span class="sxs-lookup"><span data-stu-id="f8b17-163"><a id="log-rotation"></a>Ensure that log rotation and separation are in place</span></span>

| <span data-ttu-id="f8b17-164">Título</span><span class="sxs-lookup"><span data-stu-id="f8b17-164">Title</span></span>                   | <span data-ttu-id="f8b17-165">Detalles</span><span class="sxs-lookup"><span data-stu-id="f8b17-165">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="f8b17-166">**Componente**</span><span class="sxs-lookup"><span data-stu-id="f8b17-166">**Component**</span></span>               | <span data-ttu-id="f8b17-167">Aplicación web</span><span class="sxs-lookup"><span data-stu-id="f8b17-167">Web Application</span></span> | 
| <span data-ttu-id="f8b17-168">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="f8b17-168">**SDL Phase**</span></span>               | <span data-ttu-id="f8b17-169">Compilación</span><span class="sxs-lookup"><span data-stu-id="f8b17-169">Build</span></span> |  
| <span data-ttu-id="f8b17-170">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="f8b17-170">**Applicable Technologies**</span></span> | <span data-ttu-id="f8b17-171">Genérico</span><span class="sxs-lookup"><span data-stu-id="f8b17-171">Generic</span></span> |
| <span data-ttu-id="f8b17-172">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="f8b17-172">**Attributes**</span></span>              | <span data-ttu-id="f8b17-173">N/D</span><span class="sxs-lookup"><span data-stu-id="f8b17-173">N/A</span></span>  |
| <span data-ttu-id="f8b17-174">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="f8b17-174">**References**</span></span>              | <span data-ttu-id="f8b17-175">N/D</span><span class="sxs-lookup"><span data-stu-id="f8b17-175">N/A</span></span>  |
| <span data-ttu-id="f8b17-176">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="f8b17-176">**Steps**</span></span>                   | <p><span data-ttu-id="f8b17-177">La rotación de registros es un proceso automatizado que se usa en la administración del sistema en el que se archivan los archivos de registro con fecha.</span><span class="sxs-lookup"><span data-stu-id="f8b17-177">Log rotation is an automated process used in system administration in which dated log files are archived.</span></span> <span data-ttu-id="f8b17-178">Todas las solicitudes de registro de servidores que ejecutan aplicaciones de gran tamaño a menudo: en la cara de Hola de registros voluminosos, rotación de registros es un hello de toolimit de manera tamaño total de registros de hello mientras sigue permitiendo el análisis de eventos recientes.</span><span class="sxs-lookup"><span data-stu-id="f8b17-178">Servers which run large applications often log every request: in hello face of bulky logs, log rotation is a way toolimit hello total size of hello logs while still allowing analysis of recent events.</span></span> </p><p><span data-ttu-id="f8b17-179">Separación de registro básicamente significa que tendrá que toostore atacan o bienvenida degradar de la aplicación, su rendimiento a los archivos de registro en una partición diferente como donde la aplicación o del SO se está quedando en orden tooavert una denegación de servicio</span><span class="sxs-lookup"><span data-stu-id="f8b17-179">Log separation basically means that you have toostore your log files on a different partition as where your OS/application is running on in order tooavert a Denial of service attack or hello downgrading of your application its performance</span></span></p>|

## <span data-ttu-id="f8b17-180"><a id="log-sensitive-data"></a>Asegúrese de que la aplicación hello no registra información confidencial del usuario</span><span class="sxs-lookup"><span data-stu-id="f8b17-180"><a id="log-sensitive-data"></a>Ensure that hello application does not log sensitive user data</span></span>

| <span data-ttu-id="f8b17-181">Título</span><span class="sxs-lookup"><span data-stu-id="f8b17-181">Title</span></span>                   | <span data-ttu-id="f8b17-182">Detalles</span><span class="sxs-lookup"><span data-stu-id="f8b17-182">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="f8b17-183">**Componente**</span><span class="sxs-lookup"><span data-stu-id="f8b17-183">**Component**</span></span>               | <span data-ttu-id="f8b17-184">Aplicación web</span><span class="sxs-lookup"><span data-stu-id="f8b17-184">Web Application</span></span> | 
| <span data-ttu-id="f8b17-185">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="f8b17-185">**SDL Phase**</span></span>               | <span data-ttu-id="f8b17-186">Compilación</span><span class="sxs-lookup"><span data-stu-id="f8b17-186">Build</span></span> |  
| <span data-ttu-id="f8b17-187">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="f8b17-187">**Applicable Technologies**</span></span> | <span data-ttu-id="f8b17-188">Genérico</span><span class="sxs-lookup"><span data-stu-id="f8b17-188">Generic</span></span> |
| <span data-ttu-id="f8b17-189">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="f8b17-189">**Attributes**</span></span>              | <span data-ttu-id="f8b17-190">N/D</span><span class="sxs-lookup"><span data-stu-id="f8b17-190">N/A</span></span>  |
| <span data-ttu-id="f8b17-191">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="f8b17-191">**References**</span></span>              | <span data-ttu-id="f8b17-192">N/D</span><span class="sxs-lookup"><span data-stu-id="f8b17-192">N/A</span></span>  |
| <span data-ttu-id="f8b17-193">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="f8b17-193">**Steps**</span></span>                   | <p><span data-ttu-id="f8b17-194">Compruebe que el registro de los datos confidenciales que un usuario envía tooyour sitio no.</span><span class="sxs-lookup"><span data-stu-id="f8b17-194">Check that you do not log any sensitive data that a user submits tooyour site.</span></span> <span data-ttu-id="f8b17-195">Compruebe para ver si hay algún registro intencionado, o efectos secundarios causados por problemas de diseño.</span><span class="sxs-lookup"><span data-stu-id="f8b17-195">Check for intentional logging as well as side effects caused by design issues.</span></span> <span data-ttu-id="f8b17-196">Ejemplos de datos confidenciales incluyen:</span><span class="sxs-lookup"><span data-stu-id="f8b17-196">Examples of sensitive data include:</span></span></p><ul><li><span data-ttu-id="f8b17-197">Credenciales de usuario</span><span class="sxs-lookup"><span data-stu-id="f8b17-197">User Credentials</span></span></li><li><span data-ttu-id="f8b17-198">Número del seguro social u otra información de identificación</span><span class="sxs-lookup"><span data-stu-id="f8b17-198">Social Security number or other identifying information</span></span></li><li><span data-ttu-id="f8b17-199">Números de tarjeta de crédito u otra información financiera</span><span class="sxs-lookup"><span data-stu-id="f8b17-199">Credit card numbers or other financial information</span></span></li><li><span data-ttu-id="f8b17-200">Información relacionada con la salud</span><span class="sxs-lookup"><span data-stu-id="f8b17-200">Health information</span></span></li><li><span data-ttu-id="f8b17-201">Las claves privadas u otros datos que pudieron ser utilizado toodecrypt información cifrada</span><span class="sxs-lookup"><span data-stu-id="f8b17-201">Private keys or other data that could be used toodecrypt encrypted information</span></span></li><li><span data-ttu-id="f8b17-202">Información del sistema o aplicación que se puede usar toomore eficazmente ataques aplicación hello</span><span class="sxs-lookup"><span data-stu-id="f8b17-202">System or application information that can be used toomore effectively attack hello application</span></span></li></ul>|

## <span data-ttu-id="f8b17-203"><a id="log-restricted-access"></a>Comprobación de que los archivos de registro y auditoría tienen acceso restringido</span><span class="sxs-lookup"><span data-stu-id="f8b17-203"><a id="log-restricted-access"></a>Ensure that Audit and Log Files have Restricted Access</span></span>

| <span data-ttu-id="f8b17-204">Título</span><span class="sxs-lookup"><span data-stu-id="f8b17-204">Title</span></span>                   | <span data-ttu-id="f8b17-205">Detalles</span><span class="sxs-lookup"><span data-stu-id="f8b17-205">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="f8b17-206">**Componente**</span><span class="sxs-lookup"><span data-stu-id="f8b17-206">**Component**</span></span>               | <span data-ttu-id="f8b17-207">Aplicación web</span><span class="sxs-lookup"><span data-stu-id="f8b17-207">Web Application</span></span> | 
| <span data-ttu-id="f8b17-208">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="f8b17-208">**SDL Phase**</span></span>               | <span data-ttu-id="f8b17-209">Compilación</span><span class="sxs-lookup"><span data-stu-id="f8b17-209">Build</span></span> |  
| <span data-ttu-id="f8b17-210">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="f8b17-210">**Applicable Technologies**</span></span> | <span data-ttu-id="f8b17-211">Genérico</span><span class="sxs-lookup"><span data-stu-id="f8b17-211">Generic</span></span> |
| <span data-ttu-id="f8b17-212">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="f8b17-212">**Attributes**</span></span>              | <span data-ttu-id="f8b17-213">N/D</span><span class="sxs-lookup"><span data-stu-id="f8b17-213">N/A</span></span>  |
| <span data-ttu-id="f8b17-214">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="f8b17-214">**References**</span></span>              | <span data-ttu-id="f8b17-215">N/D</span><span class="sxs-lookup"><span data-stu-id="f8b17-215">N/A</span></span>  |
| <span data-ttu-id="f8b17-216">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="f8b17-216">**Steps**</span></span>                   | <p><span data-ttu-id="f8b17-217">Comprobar tooensure archivos de toolog de derechos de acceso se ha establecido correctamente.</span><span class="sxs-lookup"><span data-stu-id="f8b17-217">Check tooensure access rights toolog files are appropriately set.</span></span> <span data-ttu-id="f8b17-218">Las cuentas de la aplicación deben tener operadores y acceso de solo escritura y el personal de soporte técnico debe tener acceso de solo lectura según sea necesario.</span><span class="sxs-lookup"><span data-stu-id="f8b17-218">Application accounts should have write-only access and operators and support personnel should have read-only access as needed.</span></span></p><p><span data-ttu-id="f8b17-219">Los administradores tienen Hola solo las cuentas que deben tener acceso total.</span><span class="sxs-lookup"><span data-stu-id="f8b17-219">Administrators accounts are hello only accounts which should have full access.</span></span> <span data-ttu-id="f8b17-220">Compruebe la que ACL de Windows en el registro de archivos tooensure están restringidos correctamente:</span><span class="sxs-lookup"><span data-stu-id="f8b17-220">Check Windows ACL on log files tooensure they are properly restricted:</span></span></p><ul><li><span data-ttu-id="f8b17-221">Las cuentas de la aplicación deben tener acceso de solo escritura</span><span class="sxs-lookup"><span data-stu-id="f8b17-221">Application accounts should have write-only access</span></span></li><li><span data-ttu-id="f8b17-222">Los operadores y el personal de soporte técnico deben tener acceso de solo lectura según sea necesario</span><span class="sxs-lookup"><span data-stu-id="f8b17-222">Operators and support personnel should have read-only access as needed</span></span></li><li><span data-ttu-id="f8b17-223">Los administradores son Hola únicas cuentas que deben tener acceso total</span><span class="sxs-lookup"><span data-stu-id="f8b17-223">Administrators are hello only accounts that should have full access</span></span></li></ul>|

## <span data-ttu-id="f8b17-224"><a id="user-management"></a>Comprobación de que se registran los eventos de administración de usuario</span><span class="sxs-lookup"><span data-stu-id="f8b17-224"><a id="user-management"></a>Ensure that User Management Events are Logged</span></span>

| <span data-ttu-id="f8b17-225">Título</span><span class="sxs-lookup"><span data-stu-id="f8b17-225">Title</span></span>                   | <span data-ttu-id="f8b17-226">Detalles</span><span class="sxs-lookup"><span data-stu-id="f8b17-226">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="f8b17-227">**Componente**</span><span class="sxs-lookup"><span data-stu-id="f8b17-227">**Component**</span></span>               | <span data-ttu-id="f8b17-228">Aplicación web</span><span class="sxs-lookup"><span data-stu-id="f8b17-228">Web Application</span></span> | 
| <span data-ttu-id="f8b17-229">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="f8b17-229">**SDL Phase**</span></span>               | <span data-ttu-id="f8b17-230">Compilación</span><span class="sxs-lookup"><span data-stu-id="f8b17-230">Build</span></span> |  
| <span data-ttu-id="f8b17-231">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="f8b17-231">**Applicable Technologies**</span></span> | <span data-ttu-id="f8b17-232">Genérico</span><span class="sxs-lookup"><span data-stu-id="f8b17-232">Generic</span></span> |
| <span data-ttu-id="f8b17-233">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="f8b17-233">**Attributes**</span></span>              | <span data-ttu-id="f8b17-234">N/D</span><span class="sxs-lookup"><span data-stu-id="f8b17-234">N/A</span></span>  |
| <span data-ttu-id="f8b17-235">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="f8b17-235">**References**</span></span>              | <span data-ttu-id="f8b17-236">N/D</span><span class="sxs-lookup"><span data-stu-id="f8b17-236">N/A</span></span>  |
| <span data-ttu-id="f8b17-237">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="f8b17-237">**Steps**</span></span>                   | <p><span data-ttu-id="f8b17-238">Asegurarse de que la aplicación hello supervisa los eventos de administración de usuario, como los inicios de sesión de usuario correctos y erróneos, restablecimiento de contraseñas, los cambios de contraseña, bloqueo de cuentas, registro de usuario.</span><span class="sxs-lookup"><span data-stu-id="f8b17-238">Ensure that hello application monitors user management events such as successful and failed user logins, password resets, password changes, account lockout, user registration.</span></span> <span data-ttu-id="f8b17-239">Esto ayuda a toodetect y reacciona toopotentially un comportamiento sospechoso.</span><span class="sxs-lookup"><span data-stu-id="f8b17-239">Doing this helps toodetect and react toopotentially suspicious behavior.</span></span> <span data-ttu-id="f8b17-240">También permite que los datos de las operaciones de toogather; Por ejemplo, tootrack quién tiene acceso a la aplicación hello</span><span class="sxs-lookup"><span data-stu-id="f8b17-240">It also enables toogather operations data; for example, tootrack who is accessing hello application</span></span></p>|

## <span data-ttu-id="f8b17-241"><a id="inbuilt-defenses"></a>Asegúrese de que tiene el sistema de hello defensas integradas contra el uso indebido</span><span class="sxs-lookup"><span data-stu-id="f8b17-241"><a id="inbuilt-defenses"></a>Ensure that hello system has inbuilt defenses against misuse</span></span>

| <span data-ttu-id="f8b17-242">Título</span><span class="sxs-lookup"><span data-stu-id="f8b17-242">Title</span></span>                   | <span data-ttu-id="f8b17-243">Detalles</span><span class="sxs-lookup"><span data-stu-id="f8b17-243">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="f8b17-244">**Componente**</span><span class="sxs-lookup"><span data-stu-id="f8b17-244">**Component**</span></span>               | <span data-ttu-id="f8b17-245">Aplicación web</span><span class="sxs-lookup"><span data-stu-id="f8b17-245">Web Application</span></span> | 
| <span data-ttu-id="f8b17-246">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="f8b17-246">**SDL Phase**</span></span>               | <span data-ttu-id="f8b17-247">Compilación</span><span class="sxs-lookup"><span data-stu-id="f8b17-247">Build</span></span> |  
| <span data-ttu-id="f8b17-248">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="f8b17-248">**Applicable Technologies**</span></span> | <span data-ttu-id="f8b17-249">Genérico</span><span class="sxs-lookup"><span data-stu-id="f8b17-249">Generic</span></span> |
| <span data-ttu-id="f8b17-250">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="f8b17-250">**Attributes**</span></span>              | <span data-ttu-id="f8b17-251">N/D</span><span class="sxs-lookup"><span data-stu-id="f8b17-251">N/A</span></span>  |
| <span data-ttu-id="f8b17-252">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="f8b17-252">**References**</span></span>              | <span data-ttu-id="f8b17-253">N/D</span><span class="sxs-lookup"><span data-stu-id="f8b17-253">N/A</span></span>  |
| <span data-ttu-id="f8b17-254">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="f8b17-254">**Steps**</span></span>                   | <p><span data-ttu-id="f8b17-255">Los controles deben funcionar de forma que generen excepciones de seguridad en caso de uso incorrecto de una aplicación.</span><span class="sxs-lookup"><span data-stu-id="f8b17-255">Controls should be in place which throw security exception in case of application misuse.</span></span> <span data-ttu-id="f8b17-256">Por ejemplo, si la validación de entrada está en su lugar y un atacante intenta tooinject código malintencionado que no coincide con regex hello, una excepción de seguridad puede producirá que puede ser un indicativo de uso indebido del sistema</span><span class="sxs-lookup"><span data-stu-id="f8b17-256">E.g., If input validation is in place and an attacker attempts tooinject malicious code that does not match hello regex, a security exception can be thrown which can be an indicative of system misuse</span></span></p><p><span data-ttu-id="f8b17-257">Por ejemplo, se recomienda registradas las excepciones de seguridad de toohave y las acciones realizadas para hello problemas siguientes:</span><span class="sxs-lookup"><span data-stu-id="f8b17-257">For example, it is recommended toohave security exceptions logged and actions taken for hello following issues:</span></span></p><ul><li><span data-ttu-id="f8b17-258">Validación de entradas</span><span class="sxs-lookup"><span data-stu-id="f8b17-258">Input validation</span></span></li><li><span data-ttu-id="f8b17-259">Infracciones de CSRF</span><span class="sxs-lookup"><span data-stu-id="f8b17-259">CSRF violations</span></span></li><li><span data-ttu-id="f8b17-260">Fuerza bruta (límite superior en relación con el número de solicitudes por usuario y recurso)</span><span class="sxs-lookup"><span data-stu-id="f8b17-260">Brute force (upper limit for number of requests per user per resource)</span></span></li><li><span data-ttu-id="f8b17-261">Infracciones de carga de archivos</span><span class="sxs-lookup"><span data-stu-id="f8b17-261">File upload violations</span></span></li><ul>|

## <span data-ttu-id="f8b17-262"><a id="diagnostics-logging"></a>Habilitación del registro de diagnóstico para aplicaciones web en Azure App Service</span><span class="sxs-lookup"><span data-stu-id="f8b17-262"><a id="diagnostics-logging"></a>Enable diagnostics logging for web apps in Azure App Service</span></span>

| <span data-ttu-id="f8b17-263">Título</span><span class="sxs-lookup"><span data-stu-id="f8b17-263">Title</span></span>                   | <span data-ttu-id="f8b17-264">Detalles</span><span class="sxs-lookup"><span data-stu-id="f8b17-264">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="f8b17-265">**Componente**</span><span class="sxs-lookup"><span data-stu-id="f8b17-265">**Component**</span></span>               | <span data-ttu-id="f8b17-266">Aplicación web</span><span class="sxs-lookup"><span data-stu-id="f8b17-266">Web Application</span></span> | 
| <span data-ttu-id="f8b17-267">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="f8b17-267">**SDL Phase**</span></span>               | <span data-ttu-id="f8b17-268">Compilación</span><span class="sxs-lookup"><span data-stu-id="f8b17-268">Build</span></span> |  
| <span data-ttu-id="f8b17-269">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="f8b17-269">**Applicable Technologies**</span></span> | <span data-ttu-id="f8b17-270">Genérico</span><span class="sxs-lookup"><span data-stu-id="f8b17-270">Generic</span></span> |
| <span data-ttu-id="f8b17-271">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="f8b17-271">**Attributes**</span></span>              | <span data-ttu-id="f8b17-272">EnvironmentType: Azure</span><span class="sxs-lookup"><span data-stu-id="f8b17-272">EnvironmentType - Azure</span></span> |
| <span data-ttu-id="f8b17-273">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="f8b17-273">**References**</span></span>              | <span data-ttu-id="f8b17-274">N/D</span><span class="sxs-lookup"><span data-stu-id="f8b17-274">N/A</span></span>  |
| <span data-ttu-id="f8b17-275">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="f8b17-275">**Steps**</span></span> | <p><span data-ttu-id="f8b17-276">Azure proporciona diagnósticos integrados tooassist con la depuración de un servicio de aplicaciones de aplicación web.</span><span class="sxs-lookup"><span data-stu-id="f8b17-276">Azure provides built-in diagnostics tooassist with debugging an App Service web app.</span></span> <span data-ttu-id="f8b17-277">También se aplica tooAPI aplicaciones y aplicaciones móviles.</span><span class="sxs-lookup"><span data-stu-id="f8b17-277">It also applies tooAPI apps and mobile apps.</span></span> <span data-ttu-id="f8b17-278">Aplicaciones de servicio de aplicaciones web proporcionan funcionalidad de diagnóstico para registrar información de servidor web de Hola y de aplicación web de hello.</span><span class="sxs-lookup"><span data-stu-id="f8b17-278">App Service web apps provide diagnostic functionality for logging information from both hello web server and hello web application.</span></span></p><p><span data-ttu-id="f8b17-279">De forma lógica, estos diagnósticos se dividen en diagnósticos del servidor web y diagnósticos de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="f8b17-279">These are logically separated into web server diagnostics and application diagnostics</span></span></p>|

## <span data-ttu-id="f8b17-280"><a id="identify-sensitive-entities"></a>Comprobación de que está habilitada la auditoría de inicio de sesión en SQL Server</span><span class="sxs-lookup"><span data-stu-id="f8b17-280"><a id="identify-sensitive-entities"></a>Ensure that login auditing is enabled on SQL Server</span></span>

| <span data-ttu-id="f8b17-281">Título</span><span class="sxs-lookup"><span data-stu-id="f8b17-281">Title</span></span>                   | <span data-ttu-id="f8b17-282">Detalles</span><span class="sxs-lookup"><span data-stu-id="f8b17-282">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="f8b17-283">**Componente**</span><span class="sxs-lookup"><span data-stu-id="f8b17-283">**Component**</span></span>               | <span data-ttu-id="f8b17-284">Base de datos</span><span class="sxs-lookup"><span data-stu-id="f8b17-284">Database</span></span> | 
| <span data-ttu-id="f8b17-285">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="f8b17-285">**SDL Phase**</span></span>               | <span data-ttu-id="f8b17-286">Compilación</span><span class="sxs-lookup"><span data-stu-id="f8b17-286">Build</span></span> |  
| <span data-ttu-id="f8b17-287">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="f8b17-287">**Applicable Technologies**</span></span> | <span data-ttu-id="f8b17-288">Genérico</span><span class="sxs-lookup"><span data-stu-id="f8b17-288">Generic</span></span> |
| <span data-ttu-id="f8b17-289">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="f8b17-289">**Attributes**</span></span>              | <span data-ttu-id="f8b17-290">N/D</span><span class="sxs-lookup"><span data-stu-id="f8b17-290">N/A</span></span>  |
| <span data-ttu-id="f8b17-291">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="f8b17-291">**References**</span></span>              | [<span data-ttu-id="f8b17-292">Configuración de la auditoría de inicio de sesión</span><span class="sxs-lookup"><span data-stu-id="f8b17-292">Configure Login Auditing</span></span>](https://msdn.microsoft.com/library/ms175850.aspx) |
| <span data-ttu-id="f8b17-293">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="f8b17-293">**Steps**</span></span> | <p><span data-ttu-id="f8b17-294">Auditoría de inicio de sesión de servidor de base de datos debe ser habilitado toodetect/Confirmar contraseña adivinen ataques.</span><span class="sxs-lookup"><span data-stu-id="f8b17-294">Database Server login auditing must be enabled toodetect/confirm password guessing attacks.</span></span> <span data-ttu-id="f8b17-295">Es importante de intentos de inicio de sesión fallidos toocapture.</span><span class="sxs-lookup"><span data-stu-id="f8b17-295">It is important toocapture failed login attempts.</span></span> <span data-ttu-id="f8b17-296">Capturar los intentos de inicio de sesión correctos e incorrectos proporciona una ventaja adicional durante las investigaciones</span><span class="sxs-lookup"><span data-stu-id="f8b17-296">Capturing both successful and failed login attempts provides additional benefit during forensic investigations</span></span></p>|

## <span data-ttu-id="f8b17-297"><a id="threat-detection"></a>Habilitamiento de la detección de amenazas en Azure SQL</span><span class="sxs-lookup"><span data-stu-id="f8b17-297"><a id="threat-detection"></a>Enable Threat detection on Azure SQL</span></span>

| <span data-ttu-id="f8b17-298">Título</span><span class="sxs-lookup"><span data-stu-id="f8b17-298">Title</span></span>                   | <span data-ttu-id="f8b17-299">Detalles</span><span class="sxs-lookup"><span data-stu-id="f8b17-299">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="f8b17-300">**Componente**</span><span class="sxs-lookup"><span data-stu-id="f8b17-300">**Component**</span></span>               | <span data-ttu-id="f8b17-301">Base de datos</span><span class="sxs-lookup"><span data-stu-id="f8b17-301">Database</span></span> | 
| <span data-ttu-id="f8b17-302">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="f8b17-302">**SDL Phase**</span></span>               | <span data-ttu-id="f8b17-303">Compilación</span><span class="sxs-lookup"><span data-stu-id="f8b17-303">Build</span></span> |  
| <span data-ttu-id="f8b17-304">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="f8b17-304">**Applicable Technologies**</span></span> | <span data-ttu-id="f8b17-305">SQL Azure</span><span class="sxs-lookup"><span data-stu-id="f8b17-305">SQL Azure</span></span> |
| <span data-ttu-id="f8b17-306">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="f8b17-306">**Attributes**</span></span>              | <span data-ttu-id="f8b17-307">Versión de SQL: V12</span><span class="sxs-lookup"><span data-stu-id="f8b17-307">SQL Version - V12</span></span> |
| <span data-ttu-id="f8b17-308">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="f8b17-308">**References**</span></span>              | [<span data-ttu-id="f8b17-309">Introducción a Detección de amenazas de SQL Database</span><span class="sxs-lookup"><span data-stu-id="f8b17-309">Get Started with SQL Database Threat Detection</span></span>](https://azure.microsoft.com/documentation/articles/sql-database-threat-detection-get-started/)|
| <span data-ttu-id="f8b17-310">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="f8b17-310">**Steps**</span></span> |<p><span data-ttu-id="f8b17-311">La detección de amenazas detecta actividades anómalas de la base de datos que indica la base de datos toohello amenazas de seguridad potenciales.</span><span class="sxs-lookup"><span data-stu-id="f8b17-311">Threat Detection detects anomalous database activities indicating potential security threats toohello database.</span></span> <span data-ttu-id="f8b17-312">Proporciona una nueva capa de seguridad, lo cual permite toodetect de los clientes y responde a amenazas de toopotential cuando se producen al proporcionar alertas de seguridad en actividades anómalas.</span><span class="sxs-lookup"><span data-stu-id="f8b17-312">It provides a new layer of security, which enables customers toodetect and respond toopotential threats as they occur by providing security alerts on anomalous activities.</span></span></p><p><span data-ttu-id="f8b17-313">Los usuarios pueden explorar eventos sospechosos hello mediante Azure proceso de auditoría de base de datos de SQL toodetermine se deriven de un tooaccess de intento de infracción o vulnerabilidad de seguridad de datos en la base de datos de Hola.</span><span class="sxs-lookup"><span data-stu-id="f8b17-313">Users can explore hello suspicious events using Azure SQL Database Auditing toodetermine if they result from an attempt tooaccess, breach or exploit data in hello database.</span></span></p><p><span data-ttu-id="f8b17-314">La detección de amenazas resulta sencillo tooaddress posibles amenazas toohello base de datos sin necesidad de hello toobe un experto en seguridad o administrar sistemas de supervisión de seguridad avanzada</span><span class="sxs-lookup"><span data-stu-id="f8b17-314">Threat Detection makes it simple tooaddress potential threats toohello database without hello need toobe a security expert or manage advanced security monitoring systems</span></span></p>|

## <span data-ttu-id="f8b17-315"><a id="analytics"></a>Usar el análisis de almacenamiento de Azure tooaudit acceso de almacenamiento de Azure</span><span class="sxs-lookup"><span data-stu-id="f8b17-315"><a id="analytics"></a>Use Azure Storage Analytics tooaudit access of Azure Storage</span></span>

| <span data-ttu-id="f8b17-316">Título</span><span class="sxs-lookup"><span data-stu-id="f8b17-316">Title</span></span>                   | <span data-ttu-id="f8b17-317">Detalles</span><span class="sxs-lookup"><span data-stu-id="f8b17-317">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="f8b17-318">**Componente**</span><span class="sxs-lookup"><span data-stu-id="f8b17-318">**Component**</span></span>               | <span data-ttu-id="f8b17-319">Azure Storage</span><span class="sxs-lookup"><span data-stu-id="f8b17-319">Azure Storage</span></span> | 
| <span data-ttu-id="f8b17-320">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="f8b17-320">**SDL Phase**</span></span>               | <span data-ttu-id="f8b17-321">Implementación</span><span class="sxs-lookup"><span data-stu-id="f8b17-321">Deployment</span></span> |  
| <span data-ttu-id="f8b17-322">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="f8b17-322">**Applicable Technologies**</span></span> | <span data-ttu-id="f8b17-323">Genérico</span><span class="sxs-lookup"><span data-stu-id="f8b17-323">Generic</span></span> |
| <span data-ttu-id="f8b17-324">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="f8b17-324">**Attributes**</span></span>              | <span data-ttu-id="f8b17-325">N/D</span><span class="sxs-lookup"><span data-stu-id="f8b17-325">N/A</span></span> |
| <span data-ttu-id="f8b17-326">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="f8b17-326">**References**</span></span>              | [<span data-ttu-id="f8b17-327">Uso de tipo de análisis de almacenamiento de autorización toomonitor</span><span class="sxs-lookup"><span data-stu-id="f8b17-327">Using Storage Analytics toomonitor authorization type</span></span>](https://azure.microsoft.com/documentation/articles/storage-security-guide/#storage-analytics) |
| <span data-ttu-id="f8b17-328">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="f8b17-328">**Steps**</span></span> | <p><span data-ttu-id="f8b17-329">Para cada cuenta de almacenamiento, uno puede habilitar el registro de tooperform de análisis de almacenamiento de Azure y almacenar datos de métricas.</span><span class="sxs-lookup"><span data-stu-id="f8b17-329">For each storage account, one can enable Azure Storage Analytics tooperform logging and store metrics data.</span></span> <span data-ttu-id="f8b17-330">registros de análisis de almacenamiento de Hello proporcionan información importante como método de autenticación usado por alguien cuando tienen acceso a almacenamiento de información.</span><span class="sxs-lookup"><span data-stu-id="f8b17-330">hello storage analytics logs provide important information such as authentication method used by someone when they access storage.</span></span></p><p><span data-ttu-id="f8b17-331">Esto puede ser muy útil si está protegiendo estrechamente toostorage de acceso.</span><span class="sxs-lookup"><span data-stu-id="f8b17-331">This can be really helpful if you are tightly guarding access toostorage.</span></span> <span data-ttu-id="f8b17-332">Por ejemplo, en almacenamiento de blobs puede establecer todos Hola contenedores tooprivate y la implementación de un uso Hola de un servicio SAS a lo largo de las aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="f8b17-332">For example, in Blob Storage you can set all of hello containers tooprivate and implement hello use of an SAS service throughout your applications.</span></span> <span data-ttu-id="f8b17-333">A continuación, puede comprobar Hola con regularidad registra toosee si los blobs son accesibles mediante claves de cuenta de almacenamiento de hello, lo que pueden indicar una infracción de seguridad, o blobs de hello son públicos pero no debe ser.</span><span class="sxs-lookup"><span data-stu-id="f8b17-333">Then you can check hello logs regularly toosee if your blobs are accessed using hello storage account keys, which may indicate a breach of security, or if hello blobs are public but they shouldn’t be.</span></span></p>|

## <span data-ttu-id="f8b17-334"><a id="sufficient-logging"></a>Implementación de suficientes registros</span><span class="sxs-lookup"><span data-stu-id="f8b17-334"><a id="sufficient-logging"></a>Implement sufficient Logging</span></span>

| <span data-ttu-id="f8b17-335">Título</span><span class="sxs-lookup"><span data-stu-id="f8b17-335">Title</span></span>                   | <span data-ttu-id="f8b17-336">Detalles</span><span class="sxs-lookup"><span data-stu-id="f8b17-336">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="f8b17-337">**Componente**</span><span class="sxs-lookup"><span data-stu-id="f8b17-337">**Component**</span></span>               | <span data-ttu-id="f8b17-338">WCF</span><span class="sxs-lookup"><span data-stu-id="f8b17-338">WCF</span></span> | 
| <span data-ttu-id="f8b17-339">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="f8b17-339">**SDL Phase**</span></span>               | <span data-ttu-id="f8b17-340">Compilación</span><span class="sxs-lookup"><span data-stu-id="f8b17-340">Build</span></span> |  
| <span data-ttu-id="f8b17-341">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="f8b17-341">**Applicable Technologies**</span></span> | <span data-ttu-id="f8b17-342">.NET Framework</span><span class="sxs-lookup"><span data-stu-id="f8b17-342">.NET Framework</span></span> |
| <span data-ttu-id="f8b17-343">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="f8b17-343">**Attributes**</span></span>              | <span data-ttu-id="f8b17-344">N/D</span><span class="sxs-lookup"><span data-stu-id="f8b17-344">N/A</span></span>  |
| <span data-ttu-id="f8b17-345">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="f8b17-345">**References**</span></span>              | <span data-ttu-id="f8b17-346">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify Kingdom](https://vulncat.fortify.com/en/vulncat/index.html)</span><span class="sxs-lookup"><span data-stu-id="f8b17-346">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify Kingdom](https://vulncat.fortify.com/en/vulncat/index.html)</span></span> |
| <span data-ttu-id="f8b17-347">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="f8b17-347">**Steps**</span></span> | <p><span data-ttu-id="f8b17-348">falta de Hola de una pista de auditoría correcta después de un incidente de seguridad, puede reducir esfuerzos forenses.</span><span class="sxs-lookup"><span data-stu-id="f8b17-348">hello lack of a proper audit trail after a security incident can hamper forensic efforts.</span></span> <span data-ttu-id="f8b17-349">Windows Communication Foundation (WCF) ofrece Hola capacidad toolog correcto o error de intentos de autenticación.</span><span class="sxs-lookup"><span data-stu-id="f8b17-349">Windows Communication Foundation (WCF) offers hello ability toolog successful and/or failed authentication attempts.</span></span></p><p><span data-ttu-id="f8b17-350">Si registra los intentos de autenticación incorrectos puede advertir a los administradores de posibles ataques de fuerza bruta.</span><span class="sxs-lookup"><span data-stu-id="f8b17-350">Logging failed authentication attempts can warn administrators of potential brute-force attacks.</span></span> <span data-ttu-id="f8b17-351">Del mismo modo, el registro de eventos de autenticación correctos puede proporcionar una traza de auditoría útil cuando está en peligro una cuenta legítima.</span><span class="sxs-lookup"><span data-stu-id="f8b17-351">Similarly, logging successful authentication events can provide a useful audit trail when a legitimate account is compromised.</span></span> <span data-ttu-id="f8b17-352">Habilite la característica de auditoría de seguridad del servicio de WCF.</span><span class="sxs-lookup"><span data-stu-id="f8b17-352">Enable WCF's service security audit feature</span></span> |

### <a name="example"></a><span data-ttu-id="f8b17-353">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="f8b17-353">Example</span></span>
<span data-ttu-id="f8b17-354">Hola aquí te mostramos un ejemplo de configuración está habilitada la auditoría</span><span class="sxs-lookup"><span data-stu-id="f8b17-354">hello following is an example configuration with auditing enabled</span></span>
```
<system.serviceModel>
    <behaviors>
        <serviceBehaviors>
            <behavior name=""NewBehavior"">
                <serviceSecurityAudit auditLogLocation=""Default""
                suppressAuditFailure=""false"" 
                serviceAuthorizationAuditLevel=""SuccessAndFailure""
                messageAuthenticationAuditLevel=""SuccessAndFailure"" />
                ...
            </behavior>
        </servicebehaviors>
    </behaviors>
</system.serviceModel>
```

## <span data-ttu-id="f8b17-355"><a id="audit-failure-handling"></a>Implementación de un control suficiente de errores de auditoría</span><span class="sxs-lookup"><span data-stu-id="f8b17-355"><a id="audit-failure-handling"></a>Implement sufficient Audit Failure Handling</span></span>

| <span data-ttu-id="f8b17-356">Título</span><span class="sxs-lookup"><span data-stu-id="f8b17-356">Title</span></span>                   | <span data-ttu-id="f8b17-357">Detalles</span><span class="sxs-lookup"><span data-stu-id="f8b17-357">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="f8b17-358">**Componente**</span><span class="sxs-lookup"><span data-stu-id="f8b17-358">**Component**</span></span>               | <span data-ttu-id="f8b17-359">WCF</span><span class="sxs-lookup"><span data-stu-id="f8b17-359">WCF</span></span> | 
| <span data-ttu-id="f8b17-360">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="f8b17-360">**SDL Phase**</span></span>               | <span data-ttu-id="f8b17-361">Compilación</span><span class="sxs-lookup"><span data-stu-id="f8b17-361">Build</span></span> |  
| <span data-ttu-id="f8b17-362">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="f8b17-362">**Applicable Technologies**</span></span> | <span data-ttu-id="f8b17-363">.NET Framework</span><span class="sxs-lookup"><span data-stu-id="f8b17-363">.NET Framework</span></span> |
| <span data-ttu-id="f8b17-364">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="f8b17-364">**Attributes**</span></span>              | <span data-ttu-id="f8b17-365">N/D</span><span class="sxs-lookup"><span data-stu-id="f8b17-365">N/A</span></span>  |
| <span data-ttu-id="f8b17-366">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="f8b17-366">**References**</span></span>              | <span data-ttu-id="f8b17-367">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify Kingdom](https://vulncat.fortify.com/en/vulncat/index.html)</span><span class="sxs-lookup"><span data-stu-id="f8b17-367">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify Kingdom](https://vulncat.fortify.com/en/vulncat/index.html)</span></span> |
| <span data-ttu-id="f8b17-368">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="f8b17-368">**Steps**</span></span> | <p><span data-ttu-id="f8b17-369">Se configura la solución desarrollada no toogenerate una excepción cuando se produce un error de registro de auditoría de toowrite tooan.</span><span class="sxs-lookup"><span data-stu-id="f8b17-369">Developed solution is configured not toogenerate an exception when it fails toowrite tooan audit log.</span></span> <span data-ttu-id="f8b17-370">Si se configura WCF no toothrow una excepción cuando es registro de auditoría no se puede toowrite tooan, programa Hola no recibir una notificación de error de hello y no puede producirse la auditoría de eventos de seguridad críticas.</span><span class="sxs-lookup"><span data-stu-id="f8b17-370">If WCF is configured not toothrow an exception when it is unable toowrite tooan audit log, hello program will not be notified of hello failure and auditing of critical security events may not occur.</span></span></p>|

### <a name="example"></a><span data-ttu-id="f8b17-371">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="f8b17-371">Example</span></span>
<span data-ttu-id="f8b17-372">Hola `<behavior/>` elemento del archivo de configuración de WCF de hello siguiente indica a WCF toonot notifiquen aplicación hello WCF produce un error en el registro de auditoría de toowrite tooan.</span><span class="sxs-lookup"><span data-stu-id="f8b17-372">hello `<behavior/>` element of hello WCF configuration file below instructs WCF toonot notify hello application when WCF fails toowrite tooan audit log.</span></span>
````
<behaviors>
    <serviceBehaviors>
        <behavior name="NewBehavior">
            <serviceSecurityAudit auditLogLocation="Application"
            suppressAuditFailure="true"
            serviceAuthorizationAuditLevel="Success"
            messageAuthenticationAuditLevel="Success" />
        </behavior>
    </serviceBehaviors>
</behaviors>
````
<span data-ttu-id="f8b17-373">Configurar programa Hola WCF toonotify siempre que sea el registro de auditoría no se puede toowrite tooan.</span><span class="sxs-lookup"><span data-stu-id="f8b17-373">Configure WCF toonotify hello program whenever it is unable toowrite tooan audit log.</span></span> <span data-ttu-id="f8b17-374">programa Hello debe tener un esquema de notificación alternativo en la organización de hello tooalert lugar que no se mantienen los seguimientos de auditoría.</span><span class="sxs-lookup"><span data-stu-id="f8b17-374">hello program should have an alternative notification scheme in place tooalert hello organization that audit trails are not being maintained.</span></span> 

## <span data-ttu-id="f8b17-375"><a id="logging-web-api"></a>Comprobación de que la auditoría y el registro se aplican en Web API</span><span class="sxs-lookup"><span data-stu-id="f8b17-375"><a id="logging-web-api"></a>Ensure that auditing and logging is enforced on Web API</span></span>

| <span data-ttu-id="f8b17-376">Título</span><span class="sxs-lookup"><span data-stu-id="f8b17-376">Title</span></span>                   | <span data-ttu-id="f8b17-377">Detalles</span><span class="sxs-lookup"><span data-stu-id="f8b17-377">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="f8b17-378">**Componente**</span><span class="sxs-lookup"><span data-stu-id="f8b17-378">**Component**</span></span>               | <span data-ttu-id="f8b17-379">API Web</span><span class="sxs-lookup"><span data-stu-id="f8b17-379">Web API</span></span> | 
| <span data-ttu-id="f8b17-380">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="f8b17-380">**SDL Phase**</span></span>               | <span data-ttu-id="f8b17-381">Compilación</span><span class="sxs-lookup"><span data-stu-id="f8b17-381">Build</span></span> |  
| <span data-ttu-id="f8b17-382">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="f8b17-382">**Applicable Technologies**</span></span> | <span data-ttu-id="f8b17-383">Genérico</span><span class="sxs-lookup"><span data-stu-id="f8b17-383">Generic</span></span> |
| <span data-ttu-id="f8b17-384">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="f8b17-384">**Attributes**</span></span>              | <span data-ttu-id="f8b17-385">N/D</span><span class="sxs-lookup"><span data-stu-id="f8b17-385">N/A</span></span>  |
| <span data-ttu-id="f8b17-386">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="f8b17-386">**References**</span></span>              | <span data-ttu-id="f8b17-387">N/D</span><span class="sxs-lookup"><span data-stu-id="f8b17-387">N/A</span></span>  |
| <span data-ttu-id="f8b17-388">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="f8b17-388">**Steps**</span></span> | <span data-ttu-id="f8b17-389">Habilite la auditoría y el registro en las Web API.</span><span class="sxs-lookup"><span data-stu-id="f8b17-389">Enable auditing and logging on Web APIs.</span></span> <span data-ttu-id="f8b17-390">Los registros de auditoría deben reflejar el contexto de usuario.</span><span class="sxs-lookup"><span data-stu-id="f8b17-390">Audit logs should capture user context.</span></span> <span data-ttu-id="f8b17-391">Identifique todos los eventos importantes y regístrelos.</span><span class="sxs-lookup"><span data-stu-id="f8b17-391">Identify all important events and log those events.</span></span> <span data-ttu-id="f8b17-392">Implemente el registro centralizado.</span><span class="sxs-lookup"><span data-stu-id="f8b17-392">Implement centralized logging</span></span> |

## <span data-ttu-id="f8b17-393"><a id="logging-field-gateway"></a>Comprobación de que se aplican la auditoría y registro adecuados en la puerta de enlace de campo</span><span class="sxs-lookup"><span data-stu-id="f8b17-393"><a id="logging-field-gateway"></a>Ensure that appropriate auditing and logging is enforced on Field Gateway</span></span>

| <span data-ttu-id="f8b17-394">Título</span><span class="sxs-lookup"><span data-stu-id="f8b17-394">Title</span></span>                   | <span data-ttu-id="f8b17-395">Detalles</span><span class="sxs-lookup"><span data-stu-id="f8b17-395">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="f8b17-396">**Componente**</span><span class="sxs-lookup"><span data-stu-id="f8b17-396">**Component**</span></span>               | <span data-ttu-id="f8b17-397">Puerta de enlace de campo de IoT</span><span class="sxs-lookup"><span data-stu-id="f8b17-397">IoT Field Gateway</span></span> | 
| <span data-ttu-id="f8b17-398">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="f8b17-398">**SDL Phase**</span></span>               | <span data-ttu-id="f8b17-399">Compilación</span><span class="sxs-lookup"><span data-stu-id="f8b17-399">Build</span></span> |  
| <span data-ttu-id="f8b17-400">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="f8b17-400">**Applicable Technologies**</span></span> | <span data-ttu-id="f8b17-401">Genérico</span><span class="sxs-lookup"><span data-stu-id="f8b17-401">Generic</span></span> |
| <span data-ttu-id="f8b17-402">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="f8b17-402">**Attributes**</span></span>              | <span data-ttu-id="f8b17-403">N/D</span><span class="sxs-lookup"><span data-stu-id="f8b17-403">N/A</span></span>  |
| <span data-ttu-id="f8b17-404">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="f8b17-404">**References**</span></span>              | <span data-ttu-id="f8b17-405">N/D</span><span class="sxs-lookup"><span data-stu-id="f8b17-405">N/A</span></span>  |
| <span data-ttu-id="f8b17-406">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="f8b17-406">**Steps**</span></span> | <p><span data-ttu-id="f8b17-407">Cuando varios dispositivos conectan tooa puerta de enlace de campo, asegúrese de que los intentos de conexión y el estado de autenticación (éxito o error) para dispositivos individuales se registran y se mantienen en hello puerta de enlace de campo.</span><span class="sxs-lookup"><span data-stu-id="f8b17-407">When multiple devices connect tooa Field Gateway, ensure that connection attempts and authentication status (success or failure) for individual devices are logged and maintained on hello Field Gateway.</span></span></p><p><span data-ttu-id="f8b17-408">Además, en casos donde la puerta de enlace de campo es mantener Hola centro de IoT credenciales para los dispositivos individuales, asegúrese de que se realiza la auditoría cuando estas credenciales se recuperan. Desarrollar un tooAzure de la registros del Hola proceso tooperiodically carga centro de IoT y el almacenamiento para la retención a largo plazo.</span><span class="sxs-lookup"><span data-stu-id="f8b17-408">Also, in cases where Field Gateway is maintaining hello IoT Hub credentials for individual devices, ensure that auditing is performed when these credentials are retrieved.Develop a process tooperiodically upload hello logs tooAzure IoT Hub/storage for long term retention.</span></span></p> |

## <span data-ttu-id="f8b17-409"><a id="logging-cloud-gateway"></a>Comprobación de que se aplican la auditoría y registro adecuados en la puerta de enlace de nube</span><span class="sxs-lookup"><span data-stu-id="f8b17-409"><a id="logging-cloud-gateway"></a>Ensure that appropriate auditing and logging is enforced on Cloud Gateway</span></span>

| <span data-ttu-id="f8b17-410">Título</span><span class="sxs-lookup"><span data-stu-id="f8b17-410">Title</span></span>                   | <span data-ttu-id="f8b17-411">Detalles</span><span class="sxs-lookup"><span data-stu-id="f8b17-411">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="f8b17-412">**Componente**</span><span class="sxs-lookup"><span data-stu-id="f8b17-412">**Component**</span></span>               | <span data-ttu-id="f8b17-413">Puerta de enlace de la nube de IoT</span><span class="sxs-lookup"><span data-stu-id="f8b17-413">IoT Cloud Gateway</span></span> | 
| <span data-ttu-id="f8b17-414">**Fase de SDL**</span><span class="sxs-lookup"><span data-stu-id="f8b17-414">**SDL Phase**</span></span>               | <span data-ttu-id="f8b17-415">Compilación</span><span class="sxs-lookup"><span data-stu-id="f8b17-415">Build</span></span> |  
| <span data-ttu-id="f8b17-416">**Tecnologías aplicables**</span><span class="sxs-lookup"><span data-stu-id="f8b17-416">**Applicable Technologies**</span></span> | <span data-ttu-id="f8b17-417">Genérico</span><span class="sxs-lookup"><span data-stu-id="f8b17-417">Generic</span></span> |
| <span data-ttu-id="f8b17-418">**Atributos**</span><span class="sxs-lookup"><span data-stu-id="f8b17-418">**Attributes**</span></span>              | <span data-ttu-id="f8b17-419">N/D</span><span class="sxs-lookup"><span data-stu-id="f8b17-419">N/A</span></span>  |
| <span data-ttu-id="f8b17-420">**Referencias**</span><span class="sxs-lookup"><span data-stu-id="f8b17-420">**References**</span></span>              | [<span data-ttu-id="f8b17-421">Supervisión de operaciones de base de datos central de introducción tooIoT</span><span class="sxs-lookup"><span data-stu-id="f8b17-421">Introduction tooIoT Hub operations monitoring</span></span>](https://azure.microsoft.com/documentation/articles/iot-hub-operations-monitoring/) |
| <span data-ttu-id="f8b17-422">**Pasos**</span><span class="sxs-lookup"><span data-stu-id="f8b17-422">**Steps**</span></span> | <p><span data-ttu-id="f8b17-423">Diseño para recopilar y almacenar datos de auditoría recopilados mediante la supervisión de operaciones de IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="f8b17-423">Design for collecting and storing audit data gathered through IoT Hub Operations Monitoring.</span></span> <span data-ttu-id="f8b17-424">Habilitar Hola siguientes categorías de supervisión:</span><span class="sxs-lookup"><span data-stu-id="f8b17-424">Enable hello following monitoring categories:</span></span></p><ul><li><span data-ttu-id="f8b17-425">Operaciones de identidad de dispositivos</span><span class="sxs-lookup"><span data-stu-id="f8b17-425">Device identity operations</span></span></li><li><span data-ttu-id="f8b17-426">Comunicaciones de dispositivo a nube</span><span class="sxs-lookup"><span data-stu-id="f8b17-426">Device-to-cloud communications</span></span></li><li><span data-ttu-id="f8b17-427">Comunicaciones de nube a dispositivo</span><span class="sxs-lookup"><span data-stu-id="f8b17-427">Cloud-to-device communications</span></span></li><li><span data-ttu-id="f8b17-428">Conexiones</span><span class="sxs-lookup"><span data-stu-id="f8b17-428">Connections</span></span></li><li><span data-ttu-id="f8b17-429">Cargas de archivos</span><span class="sxs-lookup"><span data-stu-id="f8b17-429">File uploads</span></span></li></ul>|
