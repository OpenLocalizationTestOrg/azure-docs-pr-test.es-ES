---
title: "aaaCreating una imagen de máquina virtual para hello Azure Marketplace | Documentos de Microsoft"
description: "Instrucciones detalladas sobre cómo toocreate una máquina virtual de la imagen para hello Azure Marketplace para que otros lo toopurchase."
services: Azure Marketplace
documentationcenter: 
author: HannibalSII
manager: hascipio
editor: 
ms.assetid: 5c937b8e-e28d-4007-9fef-624046bca2ae
ms.service: marketplace
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: Azure
ms.workload: na
ms.date: 01/05/2017
ms.author: hascipio; v-divte
ms.openlocfilehash: 65e1c0530bb050fb379a52544e36c55faacd84df
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="guide-toocreate-a-virtual-machine-image-for-hello-azure-marketplace"></a><span data-ttu-id="ffd60-103">Guía toocreate una imagen de máquina virtual para hello Azure Marketplace</span><span class="sxs-lookup"><span data-stu-id="ffd60-103">Guide toocreate a virtual machine image for hello Azure Marketplace</span></span>
<span data-ttu-id="ffd60-104">En este artículo, **paso 2**, le guía a través de preparar los discos duros virtuales (VHD) que se implementará toohello Azure Marketplace de Hola.</span><span class="sxs-lookup"><span data-stu-id="ffd60-104">This article, **Step 2**, walks you through preparing hello virtual hard disks (VHDs) that you will deploy toohello Azure Marketplace.</span></span> <span data-ttu-id="ffd60-105">Los discos duros virtuales son la base de hello del SKU.</span><span class="sxs-lookup"><span data-stu-id="ffd60-105">Your VHDs are hello foundation of your SKU.</span></span> <span data-ttu-id="ffd60-106">proceso de Hello varía según si va a proporcionar una SKU basado en Windows o Linux.</span><span class="sxs-lookup"><span data-stu-id="ffd60-106">hello process differs depending on whether you are providing a Linux-based or Windows-based SKU.</span></span> <span data-ttu-id="ffd60-107">En este artículo se tratan ambos escenarios.</span><span class="sxs-lookup"><span data-stu-id="ffd60-107">This article covers both scenarios.</span></span> <span data-ttu-id="ffd60-108">Este proceso puede realizarse en paralelo con la [creación y registro de cuentas][link-acct-creation].</span><span class="sxs-lookup"><span data-stu-id="ffd60-108">This process can be performed in parallel with [Account creation and registration][link-acct-creation].</span></span>

## <a name="1-define-offers-and-skus"></a><span data-ttu-id="ffd60-109">1. Definición de ofertas y SKU</span><span class="sxs-lookup"><span data-stu-id="ffd60-109">1. Define Offers and SKUs</span></span>
<span data-ttu-id="ffd60-110">En esta sección, aprenderá toodefine Hola ofertas y sus SKU asociado.</span><span class="sxs-lookup"><span data-stu-id="ffd60-110">In this section, you learn toodefine hello offers and their associated SKUs.</span></span>

<span data-ttu-id="ffd60-111">Una oferta es un tooall "primario" de su SKU.</span><span class="sxs-lookup"><span data-stu-id="ffd60-111">An offer is a "parent" tooall of its SKUs.</span></span> <span data-ttu-id="ffd60-112">Puede tener varias ofertas.</span><span class="sxs-lookup"><span data-stu-id="ffd60-112">You can have multiple offers.</span></span> <span data-ttu-id="ffd60-113">Cómo decidir toostructure sus ofertas está tooyou.</span><span class="sxs-lookup"><span data-stu-id="ffd60-113">How you decide toostructure your offers is up tooyou.</span></span> <span data-ttu-id="ffd60-114">Cuando una oferta se inserta toostaging, se inserta junto con todas sus SKU.</span><span class="sxs-lookup"><span data-stu-id="ffd60-114">When an offer is pushed toostaging, it is pushed along with all of its SKUs.</span></span> <span data-ttu-id="ffd60-115">Considere cuidadosamente los identificadores SKU, dado que serán visibles en la dirección URL de hello:</span><span class="sxs-lookup"><span data-stu-id="ffd60-115">Carefully consider your SKU identifiers, because they will be visible in hello URL:</span></span>

* <span data-ttu-id="ffd60-116">Azure.com: http://azure.microsoft.com/marketplace/partners/{PartnerNamespace}/{OfferIdentifier}-{SKUidentifier}</span><span class="sxs-lookup"><span data-stu-id="ffd60-116">Azure.com: http://azure.microsoft.com/marketplace/partners/{PartnerNamespace}/{OfferIdentifier}-{SKUidentifier}</span></span>
* <span data-ttu-id="ffd60-117">Portal de vista previa de Azure: https://portal.azure.com/#gallery/{PublisherNamespace}.{OfferIdentifier}{SKUIDdentifier}</span><span class="sxs-lookup"><span data-stu-id="ffd60-117">Azure preview portal: https://portal.azure.com/#gallery/{PublisherNamespace}.{OfferIdentifier}{SKUIDdentifier}</span></span>  

<span data-ttu-id="ffd60-118">Un SKU es nombre comercial de Hola para una imagen de máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="ffd60-118">A SKU is hello commercial name for a VM image.</span></span> <span data-ttu-id="ffd60-119">Una imagen de máquina virtual contiene un disco del sistema operativo y cero o más discos de datos.</span><span class="sxs-lookup"><span data-stu-id="ffd60-119">A VM image contains one operating system disk and zero or more data disks.</span></span> <span data-ttu-id="ffd60-120">Es básicamente Hola perfil de almacenamiento completo para una máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="ffd60-120">It is essentially hello complete storage profile for a virtual machine.</span></span> <span data-ttu-id="ffd60-121">Es necesario un VHD por disco.</span><span class="sxs-lookup"><span data-stu-id="ffd60-121">One VHD is needed per disk.</span></span> <span data-ttu-id="ffd60-122">Los discos de datos incluso en blanco requieren un toobe de disco duro virtual creado.</span><span class="sxs-lookup"><span data-stu-id="ffd60-122">Even blank data disks require a VHD toobe created.</span></span>

<span data-ttu-id="ffd60-123">Independientemente de qué sistema operativo que use, agregue solo Hola número mínimo de discos de datos necesita Hola SKU.</span><span class="sxs-lookup"><span data-stu-id="ffd60-123">Regardless of which operating system you use, add only hello minimum number of data disks needed by hello SKU.</span></span> <span data-ttu-id="ffd60-124">Los clientes no pueden quitar los discos que forman parte de una imagen en el momento de saludo de la implementación, pero siempre pueden agregar discos durante o después de la implementación si se necesitan.</span><span class="sxs-lookup"><span data-stu-id="ffd60-124">Customers cannot remove disks that are part of an image at hello time of deployment but can always add disks during or after deployment if they need them.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="ffd60-125">**No cambie el número de discos en una nueva versión de imagen.**</span><span class="sxs-lookup"><span data-stu-id="ffd60-125">**Do not change disk count in a new image version.**</span></span> <span data-ttu-id="ffd60-126">Si debe volver a configurar los discos de datos en la imagen de hello, defina una SKU nuevo.</span><span class="sxs-lookup"><span data-stu-id="ffd60-126">If you must reconfigure Data disks in hello image, define a new SKU.</span></span> <span data-ttu-id="ffd60-127">Publicar una nueva versión de imagen con recuentos de otro disco tendrá potencial de Hola de nueva implementación basada en la nueva versión de imagen hello en el caso de implementaciones de escalado automático, automático de soluciones a través de las plantillas ARM y otros escenarios de que se interrumpa.</span><span class="sxs-lookup"><span data-stu-id="ffd60-127">Publishing a new image version with different disk counts will have hello potential of breaking new deployment based on hello new image version in cases of auto-scaling, automatic deployments of solutions through ARM templates and other scenarios.</span></span>
>
>

### <a name="11-add-an-offer"></a><span data-ttu-id="ffd60-128">1.1 Agregar una oferta</span><span class="sxs-lookup"><span data-stu-id="ffd60-128">1.1 Add an offer</span></span>
1. <span data-ttu-id="ffd60-129">Inicie sesión en toohello [Portal de publicación] [ link-pubportal] mediante el uso de tu cuenta de vendedor.</span><span class="sxs-lookup"><span data-stu-id="ffd60-129">Sign in toohello [Publishing Portal][link-pubportal] by using your seller account.</span></span>
2. <span data-ttu-id="ffd60-130">Seleccione hello **máquinas virtuales** ficha de hello Portal de publicación.</span><span class="sxs-lookup"><span data-stu-id="ffd60-130">Select hello **Virtual Machines** tab of hello Publishing Portal.</span></span> <span data-ttu-id="ffd60-131">En el campo de entrada solicitadas de hello, escriba el nombre de la oferta.</span><span class="sxs-lookup"><span data-stu-id="ffd60-131">In hello prompted entry field, enter your offer name.</span></span> <span data-ttu-id="ffd60-132">nombre de la oferta de Hello suele ser el nombre de Hola de producto de Hola o servicio que piensa toosell en hello Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="ffd60-132">hello offer name is typically hello name of hello product or service that you plan toosell in hello Azure Marketplace.</span></span>
3. <span data-ttu-id="ffd60-133">Seleccione **Crear**.</span><span class="sxs-lookup"><span data-stu-id="ffd60-133">Select **Create**.</span></span>

### <a name="12-define-a-sku"></a><span data-ttu-id="ffd60-134">1.2 Definir una SKU</span><span class="sxs-lookup"><span data-stu-id="ffd60-134">1.2 Define a SKU</span></span>
<span data-ttu-id="ffd60-135">Después de haber agregado una oferta, se necesita toodefine e identifican las SKU.</span><span class="sxs-lookup"><span data-stu-id="ffd60-135">After you have added an offer, you need toodefine and identify your SKUs.</span></span> <span data-ttu-id="ffd60-136">Puede tener varias ofertas y cada oferta puede tener varias SKU.</span><span class="sxs-lookup"><span data-stu-id="ffd60-136">You can have multiple offers, and each offer can have multiple SKUs under it.</span></span> <span data-ttu-id="ffd60-137">Cuando una oferta se inserta toostaging, se inserta junto con todas sus SKU.</span><span class="sxs-lookup"><span data-stu-id="ffd60-137">When an offer is pushed toostaging, it is pushed along with all of its SKUs.</span></span>

1. <span data-ttu-id="ffd60-138">**Agregue una SKU.**</span><span class="sxs-lookup"><span data-stu-id="ffd60-138">**Add a SKU.**</span></span> <span data-ttu-id="ffd60-139">Hola SKU requiere un identificador, que se usa en la dirección URL de Hola.</span><span class="sxs-lookup"><span data-stu-id="ffd60-139">hello SKU requires an identifier, which is used in hello URL.</span></span> <span data-ttu-id="ffd60-140">Hola identificador debe ser único dentro de su perfil de publicación, pero no hay ningún riesgo de colisiones entre los identificadores con otros publicadores.</span><span class="sxs-lookup"><span data-stu-id="ffd60-140">hello identifier must be unique within your publishing profile, but there is no risk of identifier collision with other publishers.</span></span>

   > [!NOTE]
   > <span data-ttu-id="ffd60-141">oferta de Hola y los identificadores SKU se muestran en la dirección URL de la oferta de Hola Hola Marketplace.</span><span class="sxs-lookup"><span data-stu-id="ffd60-141">hello offer and SKU identifiers are displayed in hello offer URL in hello Marketplace.</span></span>
   >
   >
2. <span data-ttu-id="ffd60-142">**Agregue una descripción resumida de la SKU.**</span><span class="sxs-lookup"><span data-stu-id="ffd60-142">**Add a summary description for your SKU.**</span></span> <span data-ttu-id="ffd60-143">Descripciones resumidas son toocustomers visible, por lo que debería que sean fácilmente legibles.</span><span class="sxs-lookup"><span data-stu-id="ffd60-143">Summary descriptions are visible toocustomers, so you should make them easily readable.</span></span> <span data-ttu-id="ffd60-144">Esta información no es necesario toobe bloqueado hasta que la fase de "Inserción tooStaging" Hola.</span><span class="sxs-lookup"><span data-stu-id="ffd60-144">This information does not need toobe locked until hello "Push tooStaging" phase.</span></span> <span data-ttu-id="ffd60-145">Hasta entonces, son tooedit libre se.</span><span class="sxs-lookup"><span data-stu-id="ffd60-145">Until then, you are free tooedit it.</span></span>
3. <span data-ttu-id="ffd60-146">Si está utilizando SKU basados en Windows, siga los vínculos recomendados de Hola Hola tooacquire aprobado versiones de Windows Server.</span><span class="sxs-lookup"><span data-stu-id="ffd60-146">If you are using Windows-based SKUs, follow hello suggested links tooacquire hello approved versions of Windows Server.</span></span>

## <a name="2-create-an-azure-compatible-vhd-linux-based"></a><span data-ttu-id="ffd60-147">2. Creación de un VHD compatible con Azure (basado en Linux)</span><span class="sxs-lookup"><span data-stu-id="ffd60-147">2. Create an Azure-compatible VHD (Linux-based)</span></span>
<span data-ttu-id="ffd60-148">En esta sección se centra en los procedimientos recomendados para crear una imagen VM basadas en Linux para hello Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="ffd60-148">This section focuses on best practices for creating a Linux-based VM image for hello Azure Marketplace.</span></span> <span data-ttu-id="ffd60-149">Para ver un tutorial paso a paso, consulte toohello siguiente documentación: [crear y cargar un disco duro Virtual que contiene Hola sistema operativo Linux](../virtual-machines/linux/classic/create-upload-vhd.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json)</span><span class="sxs-lookup"><span data-stu-id="ffd60-149">For a step-by-step walkthrough, refer toohello following documentation: [Creating and Uploading a Virtual Hard Disk that Contains hello Linux Operating System](../virtual-machines/linux/classic/create-upload-vhd.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json)</span></span>

## <a name="3-create-an-azure-compatible-vhd-windows-based"></a><span data-ttu-id="ffd60-150">3. Creación de un VHD compatible con Azure (basado en Windows)</span><span class="sxs-lookup"><span data-stu-id="ffd60-150">3. Create an Azure-compatible VHD (Windows-based)</span></span>
<span data-ttu-id="ffd60-151">En esta sección se centra en hello pasos toocreate una SKU basada en Windows Server para hello Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="ffd60-151">This section focuses on hello steps toocreate a SKU based on Windows Server for hello Azure Marketplace.</span></span>

### <a name="31-ensure-that-you-are-using-hello-correct-base-vhds"></a><span data-ttu-id="ffd60-152">3.1 Asegúrese de que está usando Hola corregir VHD base</span><span class="sxs-lookup"><span data-stu-id="ffd60-152">3.1 Ensure that you are using hello correct base VHDs</span></span>
<span data-ttu-id="ffd60-153">Hola VHD del sistema operativo para la imagen de máquina virtual debe basarse en una imagen base aprobado de Azure que contiene Windows Server o SQL Server.</span><span class="sxs-lookup"><span data-stu-id="ffd60-153">hello operating system VHD for your VM image must be based on an Azure-approved base image that contains Windows Server or SQL Server.</span></span>

<span data-ttu-id="ffd60-154">toobegin, crear una máquina virtual a partir de uno de hello después de imágenes, ubicadas en hello [portal de Microsoft Azure][link-azure-portal]:</span><span class="sxs-lookup"><span data-stu-id="ffd60-154">toobegin, create a VM from one of hello following images, located at hello [Microsoft Azure portal][link-azure-portal]:</span></span>

* <span data-ttu-id="ffd60-155">Windows Server ([2012 R2 Datacenter][link-datactr-2012-r2], [2012 Datacenter][link-datactr-2012], [2008 R2 SP1][link-datactr-2008-r2])</span><span class="sxs-lookup"><span data-stu-id="ffd60-155">Windows Server ([2012 R2 Datacenter][link-datactr-2012-r2], [2012 Datacenter][link-datactr-2012], [2008 R2 SP1][link-datactr-2008-r2])</span></span>
* <span data-ttu-id="ffd60-156">SQL Server 2014 ([Enterprise][link-sql-2014-ent], [Standard][link-sql-2014-std], [Web][link-sql-2014-web])</span><span class="sxs-lookup"><span data-stu-id="ffd60-156">SQL Server 2014 ([Enterprise][link-sql-2014-ent], [Standard][link-sql-2014-std], [Web][link-sql-2014-web])</span></span>
* <span data-ttu-id="ffd60-157">SQL Server 2012 SP2 ([Enterprise][link-sql-2012-ent], [Standard][link-sql-2012-std], [Web][link-sql-2012-web])</span><span class="sxs-lookup"><span data-stu-id="ffd60-157">SQL Server 2012 SP2 ([Enterprise][link-sql-2012-ent], [Standard][link-sql-2012-std], [Web][link-sql-2012-web])</span></span>

<span data-ttu-id="ffd60-158">Estos vínculos también pueden encontrarse en hello Portal de publicación en la página SKU de Hola.</span><span class="sxs-lookup"><span data-stu-id="ffd60-158">These links can also be found in hello Publishing Portal under hello SKU page.</span></span>

> [!TIP]
> <span data-ttu-id="ffd60-159">Si utilizas el portal de Azure actual de Hola o PowerShell, se aprueban las imágenes de Windows Server publicadas en el 8 de septiembre de 2014 y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="ffd60-159">If you are using hello current Azure portal or PowerShell, Windows Server images published on September 8, 2014 and later are approved.</span></span>
>
>

### <a name="32-create-your-windows-based-vm"></a><span data-ttu-id="ffd60-160">3.2 Crear su propia máquina virtual basada en Windows</span><span class="sxs-lookup"><span data-stu-id="ffd60-160">3.2 Create your Windows-based VM</span></span>
<span data-ttu-id="ffd60-161">Desde el portal de Microsoft Azure hello, puede crear la máquina virtual en función de una imagen base aprobada en unos pocos pasos sencillos.</span><span class="sxs-lookup"><span data-stu-id="ffd60-161">From hello Microsoft Azure portal, you can create your VM based on an approved base image in just a few simple steps.</span></span> <span data-ttu-id="ffd60-162">Hola es una visión general del proceso de hello:</span><span class="sxs-lookup"><span data-stu-id="ffd60-162">hello following is an overview of hello process:</span></span>

1. <span data-ttu-id="ffd60-163">Desde la página de la imagen base de hello, seleccione **crear Máquina Virtual** toobe dirige toohello nueva [portal de Microsoft Azure][link-azure-portal].</span><span class="sxs-lookup"><span data-stu-id="ffd60-163">From hello base image page, select **Create Virtual Machine** toobe directed toohello new [Microsoft Azure portal][link-azure-portal].</span></span>

    ![dibujo][img-acom-1]
2. <span data-ttu-id="ffd60-165">Inicie sesión en el portal de toohello con hello cuenta Microsoft y la contraseña de hello suscripción de Azure que desee toouse.</span><span class="sxs-lookup"><span data-stu-id="ffd60-165">Sign in toohello portal with hello Microsoft account and password for hello Azure subscription you want toouse.</span></span>
3. <span data-ttu-id="ffd60-166">Siga toocreate de mensajes de Hola una máquina virtual usando Hola imagen base que seleccionó.</span><span class="sxs-lookup"><span data-stu-id="ffd60-166">Follow hello prompts toocreate a VM by using hello base image you have selected.</span></span> <span data-ttu-id="ffd60-167">Debe tooprovide un nombre de host (nombre de equipo de hello), un nombre de usuario (registrado como administrador) y una contraseña para hello máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="ffd60-167">You need tooprovide a host name (name of hello computer), user name (registered as an administrator), and password for hello VM.</span></span>

    ![dibujo][img-portal-vm-create]
4. <span data-ttu-id="ffd60-169">Seleccione el tamaño de Hola de hello VM toodeploy:</span><span class="sxs-lookup"><span data-stu-id="ffd60-169">Select hello size of hello VM toodeploy:</span></span>

    <span data-ttu-id="ffd60-170">a.</span><span class="sxs-lookup"><span data-stu-id="ffd60-170">a.</span></span>    <span data-ttu-id="ffd60-171">Si tiene previsto toodevelop Hola VHD local, tamaño de hello no importa.</span><span class="sxs-lookup"><span data-stu-id="ffd60-171">If you plan toodevelop hello VHD on-premises, hello size does not matter.</span></span> <span data-ttu-id="ffd60-172">Considere el uso de uno de hello máquinas virtuales más pequeñas.</span><span class="sxs-lookup"><span data-stu-id="ffd60-172">Consider using one of hello smaller VMs.</span></span>

    <span data-ttu-id="ffd60-173">b.</span><span class="sxs-lookup"><span data-stu-id="ffd60-173">b.</span></span>    <span data-ttu-id="ffd60-174">Si tiene previsto toodevelop imagen de hello en Azure, considere la posibilidad de tamaños de máquina virtual para la imagen seleccionada de hello recomienda el uso de uno de Hola.</span><span class="sxs-lookup"><span data-stu-id="ffd60-174">If you plan toodevelop hello image in Azure, consider using one of hello recommended VM sizes for hello selected image.</span></span>

    <span data-ttu-id="ffd60-175">c.</span><span class="sxs-lookup"><span data-stu-id="ffd60-175">c.</span></span>    <span data-ttu-id="ffd60-176">Para obtener más información, consulte toohello **recomienda los niveles de precios** selector que se muestra en el portal de Hola.</span><span class="sxs-lookup"><span data-stu-id="ffd60-176">For pricing information, refer toohello **Recommended pricing tiers** selector displayed on hello portal.</span></span> <span data-ttu-id="ffd60-177">Proporcionará Hola tres tamaños recomendados proporcionados por el Editor de Hola.</span><span class="sxs-lookup"><span data-stu-id="ffd60-177">It will provide hello three recommended sizes provided by hello publisher.</span></span> <span data-ttu-id="ffd60-178">(En este caso, el publicador de hello es Microsoft).</span><span class="sxs-lookup"><span data-stu-id="ffd60-178">(In this case, hello publisher is Microsoft.)</span></span>

    ![dibujo][img-portal-vm-size]
5. <span data-ttu-id="ffd60-180">Establezca las propiedades:</span><span class="sxs-lookup"><span data-stu-id="ffd60-180">Set properties:</span></span>

    <span data-ttu-id="ffd60-181">a.</span><span class="sxs-lookup"><span data-stu-id="ffd60-181">a.</span></span>    <span data-ttu-id="ffd60-182">Para una implementación rápida, puede dejar Hola valores predeterminados para las propiedades de hello en **configuración opcional** y **grupo de recursos**.</span><span class="sxs-lookup"><span data-stu-id="ffd60-182">For quick deployment, you can leave hello default values for hello properties under **Optional Configuration** and **Resource Group**.</span></span>

    <span data-ttu-id="ffd60-183">b.</span><span class="sxs-lookup"><span data-stu-id="ffd60-183">b.</span></span>    <span data-ttu-id="ffd60-184">En **cuenta de almacenamiento**, opcionalmente, puede seleccionar la cuenta de almacenamiento de hello en qué sistema operativo de Hola se almacenará el disco duro virtual.</span><span class="sxs-lookup"><span data-stu-id="ffd60-184">Under **Storage Account**, you can optionally select hello storage account in which hello operating system VHD will be stored.</span></span>

    <span data-ttu-id="ffd60-185">c.</span><span class="sxs-lookup"><span data-stu-id="ffd60-185">c.</span></span>    <span data-ttu-id="ffd60-186">En **grupo de recursos**, opcionalmente, puede seleccionar el grupo lógico de hello en qué tooplace Hola máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="ffd60-186">Under **Resource Group**, you can optionally select hello logical group in which tooplace hello VM.</span></span>
6. <span data-ttu-id="ffd60-187">Seleccione hello **ubicación** para la implementación:</span><span class="sxs-lookup"><span data-stu-id="ffd60-187">Select hello **Location** for deployment:</span></span>

    <span data-ttu-id="ffd60-188">a.</span><span class="sxs-lookup"><span data-stu-id="ffd60-188">a.</span></span>    <span data-ttu-id="ffd60-189">Si tiene previsto toodevelop Hola VHD local, ubicación de hello no importa porque se cargará Hola imagen tooAzure más tarde.</span><span class="sxs-lookup"><span data-stu-id="ffd60-189">If you plan toodevelop hello VHD on-premises, hello location does not matter because you will upload hello image tooAzure later.</span></span>

    <span data-ttu-id="ffd60-190">b.</span><span class="sxs-lookup"><span data-stu-id="ffd60-190">b.</span></span>    <span data-ttu-id="ffd60-191">Si tiene previsto toodevelop imagen de hello en Azure, considere el uso de uno de regiones de Azure de Microsoft basado en Estados Unidos de Hola desde el principio de Hola.</span><span class="sxs-lookup"><span data-stu-id="ffd60-191">If you plan toodevelop hello image in Azure, consider using one of hello US-based Microsoft Azure regions from hello beginning.</span></span> <span data-ttu-id="ffd60-192">Esto acelera el proceso copia de hello discos duros virtuales que Microsoft lleva a cabo en su nombre al enviar la imagen para la certificación.</span><span class="sxs-lookup"><span data-stu-id="ffd60-192">This speeds up hello VHD copying process that Microsoft performs on your behalf when you submit your image for certification.</span></span>

    ![dibujo][img-portal-vm-location]
7. <span data-ttu-id="ffd60-194">Haga clic en **Crear**.</span><span class="sxs-lookup"><span data-stu-id="ffd60-194">Click **Create**.</span></span> <span data-ttu-id="ffd60-195">Hola VM inicia toodeploy.</span><span class="sxs-lookup"><span data-stu-id="ffd60-195">hello VM starts toodeploy.</span></span> <span data-ttu-id="ffd60-196">En minutos, tendrá una implementación correcta y, a continuación, puede empezar la imagen de hello toocreate para el SKU.</span><span class="sxs-lookup"><span data-stu-id="ffd60-196">Within minutes, you will have a successful deployment and can begin toocreate hello image for your SKU.</span></span>

### <a name="33-develop-your-vhd-in-hello-cloud"></a><span data-ttu-id="ffd60-197">3.3 desarrollar el disco duro virtual en la nube de Hola</span><span class="sxs-lookup"><span data-stu-id="ffd60-197">3.3 Develop your VHD in hello cloud</span></span>
<span data-ttu-id="ffd60-198">Se recomienda encarecidamente que desarrollar el disco duro virtual en la nube de hello mediante el protocolo de escritorio remoto (RDP).</span><span class="sxs-lookup"><span data-stu-id="ffd60-198">We strongly recommend that you develop your VHD in hello cloud by using Remote Desktop Protocol (RDP).</span></span> <span data-ttu-id="ffd60-199">Conectar tooRDP con el nombre de usuario de Hola y la contraseña especificados durante el aprovisionamiento.</span><span class="sxs-lookup"><span data-stu-id="ffd60-199">You connect tooRDP with hello user name and password specified during provisioning.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="ffd60-200">Si está desarrollando su VHD de forma local (aunque no se recomienda), consulte [Creación de una imagen de máquina virtual de forma local](marketplace-publishing-vm-image-creation-on-premise.md).</span><span class="sxs-lookup"><span data-stu-id="ffd60-200">If you develop your VHD on-premises (which is not recommended), see [Creating a virtual machine image on-premises](marketplace-publishing-vm-image-creation-on-premise.md).</span></span> <span data-ttu-id="ffd60-201">Descargar el disco duro virtual no es necesario si va a desarrollar en nube Hola.</span><span class="sxs-lookup"><span data-stu-id="ffd60-201">Downloading your VHD is not necessary if you are developing in hello cloud.</span></span>
>
>

<span data-ttu-id="ffd60-202">**Conectarse a través de RDP mediante hello [portal de Microsoft Azure][link-azure-portal]**</span><span class="sxs-lookup"><span data-stu-id="ffd60-202">**Connect via RDP using hello [Microsoft Azure portal][link-azure-portal]**</span></span>

1. <span data-ttu-id="ffd60-203">Seleccione **Examinar** > **Máquinas virtuales**.</span><span class="sxs-lookup"><span data-stu-id="ffd60-203">Select **Browse** > **VMs**.</span></span>
2. <span data-ttu-id="ffd60-204">se abre la hoja de máquinas virtuales de Hola.</span><span class="sxs-lookup"><span data-stu-id="ffd60-204">hello Virtual machines blade opens.</span></span> <span data-ttu-id="ffd60-205">Asegúrese de esa máquina virtual que desee tooconnect con hello está ejecutando y, a continuación, selecciónelo en la lista de Hola de máquinas virtuales implementadas.</span><span class="sxs-lookup"><span data-stu-id="ffd60-205">Ensure that hello VM that you want tooconnect with is running, and then select it from hello list of deployed VMs.</span></span>
3. <span data-ttu-id="ffd60-206">Abre una hoja que describe Hola selecciona máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="ffd60-206">A blade opens that describes hello selected VM.</span></span> <span data-ttu-id="ffd60-207">En la parte superior de hello, haga clic en **conectar**.</span><span class="sxs-lookup"><span data-stu-id="ffd60-207">At hello top, click **Connect**.</span></span>
4. <span data-ttu-id="ffd60-208">Son nombre de usuario de hello tooenter solicitadas y la contraseña que especificó durante el aprovisionamiento.</span><span class="sxs-lookup"><span data-stu-id="ffd60-208">You are prompted tooenter hello user name and password that you specified during provisioning.</span></span>

<span data-ttu-id="ffd60-209">**Conectarse mediante RDP con PowerShell**</span><span class="sxs-lookup"><span data-stu-id="ffd60-209">**Connect via RDP using PowerShell**</span></span>

<span data-ttu-id="ffd60-210">toodownload un equipo local tooa de archivo de escritorio remoto, use hello [cmdlet Get-AzureRemoteDesktopFile][link-technet-2].</span><span class="sxs-lookup"><span data-stu-id="ffd60-210">toodownload a remote desktop file tooa local machine, use hello [Get-AzureRemoteDesktopFile cmdlet][link-technet-2].</span></span> <span data-ttu-id="ffd60-211">En Ordenar toouse este cmdlet, necesita nombre de hello tooknow del servicio de Hola y nombre del programa Hola a máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="ffd60-211">In order toouse this cmdlet, you need tooknow hello name of hello service and name of hello VM.</span></span> <span data-ttu-id="ffd60-212">Si ha creado Hola VM de hello [portal de Microsoft Azure][link-azure-portal], puede encontrar esta información en Propiedades de la máquina virtual:</span><span class="sxs-lookup"><span data-stu-id="ffd60-212">If you created hello VM from hello [Microsoft Azure portal][link-azure-portal], you can find this information under VM properties:</span></span>

1. <span data-ttu-id="ffd60-213">En el portal de Microsoft Azure hello, seleccione **examinar** > **máquinas virtuales**.</span><span class="sxs-lookup"><span data-stu-id="ffd60-213">In hello Microsoft Azure portal, select **Browse** > **VMs**.</span></span>
2. <span data-ttu-id="ffd60-214">se abre la hoja de máquinas virtuales de Hola.</span><span class="sxs-lookup"><span data-stu-id="ffd60-214">hello Virtual machines blade opens.</span></span> <span data-ttu-id="ffd60-215">Seleccione Hola VM que ha implementado.</span><span class="sxs-lookup"><span data-stu-id="ffd60-215">Select hello VM that you deployed.</span></span>
3. <span data-ttu-id="ffd60-216">Abre una hoja que describe Hola selecciona máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="ffd60-216">A blade opens that describes hello selected VM.</span></span>
4. <span data-ttu-id="ffd60-217">Haga clic en **Propiedades**.</span><span class="sxs-lookup"><span data-stu-id="ffd60-217">Click **Properties**.</span></span>
5. <span data-ttu-id="ffd60-218">primera parte del nombre de dominio de Hola de Hello es el nombre del servicio de Hola.</span><span class="sxs-lookup"><span data-stu-id="ffd60-218">hello first portion of hello domain name is hello service name.</span></span> <span data-ttu-id="ffd60-219">nombre de host de Hello es el nombre VM de Hola.</span><span class="sxs-lookup"><span data-stu-id="ffd60-219">hello host name is hello VM name.</span></span>

    ![dibujo][img-portal-vm-rdp]
6. <span data-ttu-id="ffd60-221">Hola cmdlet toodownload Hola archivo RDP de escritorio local del Administrador de hello creado VM toohello es como sigue.</span><span class="sxs-lookup"><span data-stu-id="ffd60-221">hello cmdlet toodownload hello RDP file for hello created VM toohello administrator's local desktop is as follows.</span></span>

        Get‐AzureRemoteDesktopFile ‐ServiceName “baseimagevm‐6820cq00” ‐Name “BaseImageVM” –LocalPath “C:\Users\Administrator\Desktop\BaseImageVM.rdp”

<span data-ttu-id="ffd60-222">Se puede encontrar más información acerca de RDP en MSDN en el artículo de hello [conectar tooan máquina virtual de Azure con RDP o SSH](http://msdn.microsoft.com/library/azure/dn535788.aspx).</span><span class="sxs-lookup"><span data-stu-id="ffd60-222">More information about RDP can be found on MSDN in hello article [Connect tooan Azure VM with RDP or SSH](http://msdn.microsoft.com/library/azure/dn535788.aspx).</span></span>

<span data-ttu-id="ffd60-223">**Configurar una máquina virtual y crear la SKU**</span><span class="sxs-lookup"><span data-stu-id="ffd60-223">**Configure a VM and create your SKU**</span></span>

<span data-ttu-id="ffd60-224">Después de disco duro virtual se descarga el sistema de operativo hello, use Hyper-v y configurar un toobegin VM crear el SKU.</span><span class="sxs-lookup"><span data-stu-id="ffd60-224">After hello operating system VHD is downloaded, use Hyper­V and configure a VM toobegin creating your SKU.</span></span> <span data-ttu-id="ffd60-225">Encontrará pasos detallados en Hola siguiendo el vínculo de TechNet: [HyperV instalar y configurar una máquina virtual](http://technet.microsoft.com/library/hh846766.aspx).</span><span class="sxs-lookup"><span data-stu-id="ffd60-225">Detailed steps can be found at hello following TechNet link: [Install Hyper­V and Configure a VM](http://technet.microsoft.com/library/hh846766.aspx).</span></span>

### <a name="34-choose-hello-correct-vhd-size"></a><span data-ttu-id="ffd60-226">3.4 elegir tamaño de disco duro virtual correcto Hola</span><span class="sxs-lookup"><span data-stu-id="ffd60-226">3.4 Choose hello correct VHD size</span></span>
<span data-ttu-id="ffd60-227">Hola Windows VHD del sistema operativo en la imagen de máquina virtual debe crearse como un disco duro virtual de 128 GB formato fijo.</span><span class="sxs-lookup"><span data-stu-id="ffd60-227">hello Windows operating system VHD in your VM image should be created as a 128-GB fixed-format VHD.</span></span>  

<span data-ttu-id="ffd60-228">Si el tamaño físico de hello es inferior a 128 GB, Hola VHD debe ser disperso.</span><span class="sxs-lookup"><span data-stu-id="ffd60-228">If hello physical size is less than 128 GB, hello VHD should be sparse.</span></span> <span data-ttu-id="ffd60-229">Hola imágenes básicas de Windows y SQL Server proporcionadas ya cumple estos requisitos, por lo que no cambie el tamaño de formato u Hola Hola Hola obtenido de disco duro virtual.</span><span class="sxs-lookup"><span data-stu-id="ffd60-229">hello base Windows and SQL Server images provided already meet these requirements, so do not change hello format or hello size of hello VHD obtained.</span></span>  

<span data-ttu-id="ffd60-230">Los discos de datos pueden tener un tamaño de hasta 1 TB.</span><span class="sxs-lookup"><span data-stu-id="ffd60-230">Data disks can be as large as 1 TB.</span></span> <span data-ttu-id="ffd60-231">Cuando se decida por tamaño de disco de hello, recuerde que los clientes no pueden cambiar discos duros virtuales dentro de una imagen en tiempo de Hola de implementación.</span><span class="sxs-lookup"><span data-stu-id="ffd60-231">When deciding on hello disk size, remember that customers cannot resize VHDs within an image at hello time of deployment.</span></span> <span data-ttu-id="ffd60-232">Los VHD para discos de datos deben crearse como VHD de formato fijo.</span><span class="sxs-lookup"><span data-stu-id="ffd60-232">Data disk VHDs should be created as a fixed-format VHD.</span></span> <span data-ttu-id="ffd60-233">También deben ser dispersos.</span><span class="sxs-lookup"><span data-stu-id="ffd60-233">They should also be sparse.</span></span> <span data-ttu-id="ffd60-234">Los discos de datos pueden estar vacíos o contener datos.</span><span class="sxs-lookup"><span data-stu-id="ffd60-234">Data disks can be empty or contain data.</span></span>

### <a name="35-install-hello-latest-windows-patches"></a><span data-ttu-id="ffd60-235">3.5 instalar revisiones de Windows más recientes de Hola</span><span class="sxs-lookup"><span data-stu-id="ffd60-235">3.5 Install hello latest Windows patches</span></span>
<span data-ttu-id="ffd60-236">las imágenes base Hello contienen revisiones más recientes de Hola seguridad tootheir fecha de publicación.</span><span class="sxs-lookup"><span data-stu-id="ffd60-236">hello base images contain hello latest patches up tootheir published date.</span></span> <span data-ttu-id="ffd60-237">Antes de publicar el VHD del sistema operativo Hola ha creado y, a continuación, asegúrese de que Windows Update se ha ejecutado y que todos Hola crítico más reciente y que se instalaron las actualizaciones de seguridad importantes.</span><span class="sxs-lookup"><span data-stu-id="ffd60-237">Before publishing hello operating system VHD you have created, ensure that Windows Update has been run and that all hello latest Critical and Important security updates have been installed.</span></span>

### <a name="36-perform-additional-configuration-and-schedule-tasks-as-necessary"></a><span data-ttu-id="ffd60-238">3.6 Configurar opciones adicionales y programar tareas según sea necesario</span><span class="sxs-lookup"><span data-stu-id="ffd60-238">3.6 Perform additional configuration and schedule tasks as necessary</span></span>
<span data-ttu-id="ffd60-239">Si se necesita configuración adicional, considere el uso de una tarea programada que se ejecuta en Inicio toomake cualquier toohello cambios finales VM después de que se haya implementado:</span><span class="sxs-lookup"><span data-stu-id="ffd60-239">If additional configuration is needed, consider using a scheduled task that runs at startup toomake any final changes toohello VM after it has been deployed:</span></span>

* <span data-ttu-id="ffd60-240">Es una tarea de hello de mejor práctica toohave eliminar a sí mismo tras la ejecución correcta.</span><span class="sxs-lookup"><span data-stu-id="ffd60-240">It is a best practice toohave hello task delete itself upon successful execution.</span></span>
* <span data-ttu-id="ffd60-241">Ninguna configuración debe confiarse en unidades distintas unidades C y D, porque se trata de hello solo dos unidades de disco que se garantiza que siempre tooexist.</span><span class="sxs-lookup"><span data-stu-id="ffd60-241">No configuration should rely on drives other than drives C or D, because these are hello only two drives that are always guaranteed tooexist.</span></span> <span data-ttu-id="ffd60-242">La unidad C es el disco del sistema operativo de Hola y unidad D es disco local temporal de Hola.</span><span class="sxs-lookup"><span data-stu-id="ffd60-242">Drive C is hello operating system disk, and drive D is hello temporary local disk.</span></span>

### <a name="37-generalize-hello-image"></a><span data-ttu-id="ffd60-243">3.7 generalizar la imagen de Hola</span><span class="sxs-lookup"><span data-stu-id="ffd60-243">3.7 Generalize hello image</span></span>
<span data-ttu-id="ffd60-244">Todas las imágenes de hello Azure Marketplace deben ser reutilizables de forma genérica.</span><span class="sxs-lookup"><span data-stu-id="ffd60-244">All images in hello Azure Marketplace must be reusable in a generic fashion.</span></span> <span data-ttu-id="ffd60-245">En otras palabras, debe generalizarse Hola VHD del sistema operativo:</span><span class="sxs-lookup"><span data-stu-id="ffd60-245">In other words, hello operating system VHD must be generalized:</span></span>

* <span data-ttu-id="ffd60-246">Para Windows, la imagen de hello debe estar "preparada con Sysprep" y no debe realizarse ninguna configuración que no admiten hello **sysprep** comando.</span><span class="sxs-lookup"><span data-stu-id="ffd60-246">For Windows, hello image should be "sysprepped," and no configurations should be done that do not support hello **sysprep** command.</span></span>
* <span data-ttu-id="ffd60-247">Puede ejecutar Hola siguiente comando de hello directory WINDIR%\System32\Sysprep.</span><span class="sxs-lookup"><span data-stu-id="ffd60-247">You can run hello following command from hello directory %windir%\System32\Sysprep.</span></span>

        sysprep.exe /generalize /oobe /shutdown

  <span data-ttu-id="ffd60-248">Instrucciones sobre cómo se proporciona el sistema operativo de toosysprep hello en el paso de hello artículo MSDN siguiente: [crear y cargar un VHD de Windows Server tooAzure](../virtual-machines/windows/classic/createupload-vhd.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="ffd60-248">Guidance on how toosysprep hello operating system is provided in Step of hello following MSDN article: [Create and upload a Windows Server VHD tooAzure](../virtual-machines/windows/classic/createupload-vhd.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json).</span></span>

## <a name="4-deploy-a-vm-from-your-vhds"></a><span data-ttu-id="ffd60-249">4. Implementación de una máquina virtual a partir de VHD</span><span class="sxs-lookup"><span data-stu-id="ffd60-249">4. Deploy a VM from your VHDs</span></span>
<span data-ttu-id="ffd60-250">Después de haber cargado los discos duros virtuales (VHD del sistema operativo generalizado de Hola y datos de cero o más discos duros virtuales en disco) tooan cuenta de almacenamiento de Azure, puede registrarlos como una imagen de máquina virtual de usuario.</span><span class="sxs-lookup"><span data-stu-id="ffd60-250">After you have uploaded your VHDs (hello generalized operating system VHD and zero or more data disk VHDs) tooan Azure storage account, you can register them as a user VM image.</span></span> <span data-ttu-id="ffd60-251">A continuación, puede probar esa imagen.</span><span class="sxs-lookup"><span data-stu-id="ffd60-251">Then you can test that image.</span></span> <span data-ttu-id="ffd60-252">Tenga en cuenta que porque se ha generalizado el sistema operativo del disco duro virtual, no se puede implementar directamente Hola VM proporcionando Hola dirección URL del VHD.</span><span class="sxs-lookup"><span data-stu-id="ffd60-252">Note that because your operating system VHD is generalized, you cannot directly deploy hello VM by providing hello VHD URL.</span></span>

<span data-ttu-id="ffd60-253">toolearn más acerca de las imágenes de máquina virtual, siguiendo las entradas de blog de Hola de revisión:</span><span class="sxs-lookup"><span data-stu-id="ffd60-253">toolearn more about VM images, review hello following blog posts:</span></span>

* [<span data-ttu-id="ffd60-254">Imagen de máquina virtual</span><span class="sxs-lookup"><span data-stu-id="ffd60-254">VM Image</span></span>](https://azure.microsoft.com/blog/vm-image-blog-post/)
* [<span data-ttu-id="ffd60-255">Procedimientos para trabajar con imágenes de máquina virtual en PowerShell</span><span class="sxs-lookup"><span data-stu-id="ffd60-255">VM Image PowerShell How To</span></span>](https://azure.microsoft.com/blog/vm-image-powershell-how-to-blog-post/)
* [<span data-ttu-id="ffd60-256">Acerca de las imágenes de máquina virtual en Azure</span><span class="sxs-lookup"><span data-stu-id="ffd60-256">About VM images in Azure</span></span>](https://msdn.microsoft.com/library/azure/dn790290.aspx)

### <a name="set-up-hello-necessary-tools-powershell-and-azure-cli"></a><span data-ttu-id="ffd60-257">Configurar herramientas que necesitan hello, PowerShell y la CLI de Azure</span><span class="sxs-lookup"><span data-stu-id="ffd60-257">Set up hello necessary tools, PowerShell and Azure CLI</span></span>
* [<span data-ttu-id="ffd60-258">¿Cómo toosetup PowerShell</span><span class="sxs-lookup"><span data-stu-id="ffd60-258">How toosetup PowerShell</span></span>](/powershell/azure/overview)
* [<span data-ttu-id="ffd60-259">¿Cómo toosetup CLI de Azure</span><span class="sxs-lookup"><span data-stu-id="ffd60-259">How toosetup Azure CLI</span></span>](../cli-install-nodejs.md)

### <a name="41-create-a-user-vm-image"></a><span data-ttu-id="ffd60-260">4.1 Crear una imagen de máquina virtual de usuario</span><span class="sxs-lookup"><span data-stu-id="ffd60-260">4.1 Create a user VM image</span></span>
#### <a name="capture-vm"></a><span data-ttu-id="ffd60-261">Captura de máquina virtual</span><span class="sxs-lookup"><span data-stu-id="ffd60-261">Capture VM</span></span>
<span data-ttu-id="ffd60-262">Lea los vínculos de hello indica a continuación para obtener instrucciones sobre cómo capturar Hola máquina virtual mediante PowerShell/API/Azure CLI.</span><span class="sxs-lookup"><span data-stu-id="ffd60-262">Please read hello links given below for guidance on capturing hello VM using API/PowerShell/Azure CLI.</span></span>

* [<span data-ttu-id="ffd60-263">API</span><span class="sxs-lookup"><span data-stu-id="ffd60-263">API</span></span>](https://msdn.microsoft.com/library/mt163560.aspx)
* [<span data-ttu-id="ffd60-264">PowerShell</span><span class="sxs-lookup"><span data-stu-id="ffd60-264">PowerShell</span></span>](../virtual-machines/windows/capture-image.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="ffd60-265">CLI de Azure</span><span class="sxs-lookup"><span data-stu-id="ffd60-265">Azure CLI</span></span>](../virtual-machines/linux/capture-image.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)

### <a name="generalize-image"></a><span data-ttu-id="ffd60-266">Generalización de una imagen</span><span class="sxs-lookup"><span data-stu-id="ffd60-266">Generalize Image</span></span>
<span data-ttu-id="ffd60-267">Lea los vínculos de hello indica a continuación para obtener instrucciones sobre cómo capturar Hola máquina virtual mediante PowerShell/API/Azure CLI.</span><span class="sxs-lookup"><span data-stu-id="ffd60-267">Please read hello links given below for guidance on capturing hello VM using API/PowerShell/Azure CLI.</span></span>

* [<span data-ttu-id="ffd60-268">API</span><span class="sxs-lookup"><span data-stu-id="ffd60-268">API</span></span>](https://msdn.microsoft.com/library/mt269439.aspx)
* [<span data-ttu-id="ffd60-269">PowerShell</span><span class="sxs-lookup"><span data-stu-id="ffd60-269">PowerShell</span></span>](../virtual-machines/windows/capture-image.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="ffd60-270">CLI de Azure</span><span class="sxs-lookup"><span data-stu-id="ffd60-270">Azure CLI</span></span>](../virtual-machines/linux/capture-image.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)

### <a name="42-deploy-a-vm-from-a-user-vm-image"></a><span data-ttu-id="ffd60-271">4.2 Implementar una máquina virtual a partir de una imagen de máquina virtual de usuario</span><span class="sxs-lookup"><span data-stu-id="ffd60-271">4.2 Deploy a VM from a user VM image</span></span>
<span data-ttu-id="ffd60-272">toodeploy una máquina virtual desde una imagen de máquina virtual de usuario, puede usar actual hello [portal de Azure](https://manage.windowsazure.com) o PowerShell.</span><span class="sxs-lookup"><span data-stu-id="ffd60-272">toodeploy a VM from a user VM image, you can use hello current [Azure portal](https://manage.windowsazure.com) or PowerShell.</span></span>

<span data-ttu-id="ffd60-273">**Implementar una máquina virtual desde el portal de Azure actual Hola**</span><span class="sxs-lookup"><span data-stu-id="ffd60-273">**Deploy a VM from hello current Azure portal**</span></span>

1. <span data-ttu-id="ffd60-274">Vaya demasiado**New** > **proceso** > **Máquina Virtual** > **de galería**.</span><span class="sxs-lookup"><span data-stu-id="ffd60-274">Go too**New** > **Compute** > **Virtual machine** > **From gallery**.</span></span>

    ![dibujo][img-manage-vm-new]
2. <span data-ttu-id="ffd60-276">Vaya demasiado**Mis imágenes**, y, a continuación, seleccione Hola imagen de máquina virtual desde qué toodeploy una máquina virtual:</span><span class="sxs-lookup"><span data-stu-id="ffd60-276">Go too**My images**, and then select hello VM image from which toodeploy a VM:</span></span>

   1. <span data-ttu-id="ffd60-277">Imagen de preste especial atención toowhich seleccione, porque hello **Mis imágenes** vista muestra imágenes de sistema operativo y de imágenes de máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="ffd60-277">Pay close attention toowhich image you select, because hello **My images** view lists both operating system images and VM images.</span></span>
   2. <span data-ttu-id="ffd60-278">Examinando el número de Hola de discos puede ayudar a determinar qué tipo de imagen va a implementar, porque la mayoría de Hola de imágenes de máquina virtual tiene más de un disco.</span><span class="sxs-lookup"><span data-stu-id="ffd60-278">Looking at hello number of disks can help determine what type of image you are deploying, because hello majority of VM images have more than one disk.</span></span> <span data-ttu-id="ffd60-279">Sin embargo, es posible toohave una imagen de máquina virtual con solo un disco de sistema operativo único, que, a continuación, tendría **número de discos** establecer too1.</span><span class="sxs-lookup"><span data-stu-id="ffd60-279">However, it is still possible toohave a VM image with only a single operating system disk, which would then have **Number of disks** set too1.</span></span>

      ![dibujo][img-manage-vm-select]
3. <span data-ttu-id="ffd60-281">Siga el Asistente para la creación de VM de Hola y especifique el nombre de la máquina virtual de hello, tamaño VM, ubicación, nombre de usuario y contraseña.</span><span class="sxs-lookup"><span data-stu-id="ffd60-281">Follow hello VM creation wizard and specify hello VM name, VM size, location, user name, and password.</span></span>

<span data-ttu-id="ffd60-282">**Implementación de una máquina virtual a partir de PowerShell**</span><span class="sxs-lookup"><span data-stu-id="ffd60-282">**Deploy a VM from PowerShell**</span></span>

<span data-ttu-id="ffd60-283">toodeploy que una máquina virtual grande de hello generalizar la imagen de máquina virtual que acaba de crear, puede usar Hola siguientes cmdlets.</span><span class="sxs-lookup"><span data-stu-id="ffd60-283">toodeploy a large VM from hello generalized VM image just created, you can use hello following cmdlets.</span></span>

    $img = Get-AzureVMImage -ImageName "myVMImage"
    $user = "user123"
    $pass = "adminPassword123"
    $myVM = New-AzureVMConfig -Name "VMImageVM" -InstanceSize "Large" -ImageName $img.ImageName | Add-AzureProvisioningConfig -Windows -AdminUsername $user -Password $pass
    New-AzureVM -ServiceName "VMImageCloudService" -VMs $myVM -Location "West US" -WaitForBoot

> [!IMPORTANT]
> <span data-ttu-id="ffd60-284">Vea [Solución de problemas comunes que se encuentran durante la creación de VHD] para obtener más ayuda.</span><span class="sxs-lookup"><span data-stu-id="ffd60-284">Please refer [Troubleshooting common issues encountered during VHD creation] for additional assistance.</span></span>
>
>

## <a name="5-obtain-certification-for-your-vm-image"></a><span data-ttu-id="ffd60-285">5. Obtención de la certificación para su imagen de máquina virtual</span><span class="sxs-lookup"><span data-stu-id="ffd60-285">5. Obtain certification for your VM image</span></span>
<span data-ttu-id="ffd60-286">Hola siguiente paso en preparar la imagen VM para hello Azure Marketplace es toohave que cuando certificadas.</span><span class="sxs-lookup"><span data-stu-id="ffd60-286">hello next step in preparing your VM image for hello Azure Marketplace is toohave it certified.</span></span>

<span data-ttu-id="ffd60-287">Este proceso incluye la ejecución de una herramienta de certificación especiales, cargar toohello de resultados de comprobación de hello Azure contenedor donde residen sus VHD, agregar una oferta, definir el SKU y enviando la máquina virtual de la imagen para la certificación.</span><span class="sxs-lookup"><span data-stu-id="ffd60-287">This process includes running a special certification tool, uploading hello verification results toohello Azure container where your VHDs reside, adding an offer, defining your SKU, and submitting your VM image for certification.</span></span>

### <a name="51-download-and-run-hello-certification-test-tool-for-azure-certified"></a><span data-ttu-id="ffd60-288">5.1 Descargue y ejecute hello herramienta Certification Test de Azure Certified</span><span class="sxs-lookup"><span data-stu-id="ffd60-288">5.1 Download and run hello Certification Test Tool for Azure Certified</span></span>
<span data-ttu-id="ffd60-289">herramienta de certificación de Hola se ejecuta en una máquina virtual en ejecución, aprovisionada desde su imagen de máquina virtual de usuario, tooensure que Hola imagen de máquina virtual es compatible con Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="ffd60-289">hello certification tool runs on a running VM, provisioned from your user VM image, tooensure that hello VM image is compatible with Microsoft Azure.</span></span> <span data-ttu-id="ffd60-290">Comprobará que se han cumplido las instrucciones de Hola y requisitos sobre cómo preparar el disco duro virtual.</span><span class="sxs-lookup"><span data-stu-id="ffd60-290">It will verify that hello guidance and requirements about preparing your VHD have been met.</span></span> <span data-ttu-id="ffd60-291">salida de Hello de herramienta de hello es un informe de compatibilidad, que se debe cargar en hello Portal de publicación mientras se solicita la certificación.</span><span class="sxs-lookup"><span data-stu-id="ffd60-291">hello output of hello tool is a compatibility report, which should be uploaded on hello Publishing Portal while requesting certification.</span></span>

<span data-ttu-id="ffd60-292">herramienta de certificación de Hello puede usarse con máquinas virtuales de Linux y Windows.</span><span class="sxs-lookup"><span data-stu-id="ffd60-292">hello certification tool can be used with both Windows and Linux VMs.</span></span> <span data-ttu-id="ffd60-293">Se conecta a las máquinas virtuales de la basadas en tooWindows a través de PowerShell y se conecta tooLinux las máquinas virtuales a través de SSH.Net:</span><span class="sxs-lookup"><span data-stu-id="ffd60-293">It connects tooWindows-based VMs via PowerShell and connects tooLinux VMs via SSH.Net:</span></span>

1. <span data-ttu-id="ffd60-294">En primer lugar, descargar herramienta de certificación de hello en hello [sitio de descarga de Microsoft][link-msft-download].</span><span class="sxs-lookup"><span data-stu-id="ffd60-294">First, download hello certification tool at hello [Microsoft download site][link-msft-download].</span></span>
2. <span data-ttu-id="ffd60-295">Abrir herramienta de certificación de hello y, a continuación, haga clic en hello **Iniciar nueva prueba** botón.</span><span class="sxs-lookup"><span data-stu-id="ffd60-295">Open hello certification tool, and then click hello **Start New Test** button.</span></span>
3. <span data-ttu-id="ffd60-296">De hello **probar información** pantalla, escriba un nombre para la ejecución de pruebas de Hola.</span><span class="sxs-lookup"><span data-stu-id="ffd60-296">From hello **Test Information** screen, enter a name for hello test run.</span></span>
4. <span data-ttu-id="ffd60-297">Especifique si la máquina virtual está basada en Linux o Windows.</span><span class="sxs-lookup"><span data-stu-id="ffd60-297">Choose whether your VM is on Linux or Windows.</span></span> <span data-ttu-id="ffd60-298">Dependiendo de cuál elegir, seleccione las opciones siguientes de Hola.</span><span class="sxs-lookup"><span data-stu-id="ffd60-298">Depending on which you choose, select hello subsequent options.</span></span>

### <a name="connect-hello-certification-tool-tooa-linux-vm-image"></a><span data-ttu-id="ffd60-299">**Conectar Hola certificación herramienta tooa imagen de VM de Linux**</span><span class="sxs-lookup"><span data-stu-id="ffd60-299">**Connect hello certification tool tooa Linux VM image**</span></span>
1. <span data-ttu-id="ffd60-300">Modo de autenticación de SSH seleccione hello: archivo de contraseña o clave.</span><span class="sxs-lookup"><span data-stu-id="ffd60-300">Select hello SSH authentication mode: password or key file.</span></span>
2. <span data-ttu-id="ffd60-301">Si utiliza la autenticación basada en contraseña, escriba el nombre de sistema de nombres de dominio (DNS) de hello, nombre de usuario y contraseña.</span><span class="sxs-lookup"><span data-stu-id="ffd60-301">If using password-­based authentication, enter hello Domain Name System (DNS) name, user name, and password.</span></span>
3. <span data-ttu-id="ffd60-302">Si utiliza la autenticación de archivo de clave, escriba el nombre DNS de hello, el nombre de usuario y la ubicación de la clave privada.</span><span class="sxs-lookup"><span data-stu-id="ffd60-302">If using key file authentication, enter hello DNS name, user name, and private key location.</span></span>

   ![Autenticación de contraseña de imagen de máquina virtual de Linux][img-cert-vm-pswd-lnx]

   ![Autenticación de archivo de clave de máquina virtual de Linux][img-cert-vm-key-lnx]

### <a name="connect-hello-certification-tool-tooa-windows-based-vm-image"></a><span data-ttu-id="ffd60-305">**Conectar la imagen de VM basadas en Windows de hello certificación herramienta tooa**</span><span class="sxs-lookup"><span data-stu-id="ffd60-305">**Connect hello certification tool tooa Windows-based VM image**</span></span>
1. <span data-ttu-id="ffd60-306">Escriba el nombre DNS de la máquina virtual de hello completo (por ejemplo, MyVMName.Cloudapp.net).</span><span class="sxs-lookup"><span data-stu-id="ffd60-306">Enter hello fully qualified VM DNS name (for example, MyVMName.Cloudapp.net).</span></span>
2. <span data-ttu-id="ffd60-307">Escriba la contraseña y el nombre de usuario de Hola.</span><span class="sxs-lookup"><span data-stu-id="ffd60-307">Enter hello user name and password.</span></span>

   ![Autenticación de contraseña de imagen de máquina virtual de Windows][img-cert-vm-pswd-win]

<span data-ttu-id="ffd60-309">Después de haber seleccionado opciones correctas de hello para la imagen de Linux o máquinas virtuales basadas en Windows, seleccione **Probar conexión** tooensure que SSH.Net o PowerShell tiene una conexión válida con fines de prueba.</span><span class="sxs-lookup"><span data-stu-id="ffd60-309">After you have selected hello correct options for your Linux or Windows-based VM image, select **Test Connection** tooensure that SSH.Net or PowerShell has a valid connection for testing purposes.</span></span> <span data-ttu-id="ffd60-310">Una vez establecida una conexión, seleccione **siguiente** prueba de hello toostart.</span><span class="sxs-lookup"><span data-stu-id="ffd60-310">After a connection is established, select **Next** toostart hello test.</span></span>

<span data-ttu-id="ffd60-311">Una vez completada la prueba de hello, recibirá Hola resultados (paso/error/advertencia) para cada elemento de prueba.</span><span class="sxs-lookup"><span data-stu-id="ffd60-311">When hello test is complete, you will receive hello results (Pass/Fail/Warning) for each test element.</span></span>

![Casos de prueba para la imagen de máquina virtual de Linux][img-cert-vm-test-lnx]

![Casos de prueba para la imagen de máquina virtual de Windows][img-cert-vm-test-win]

<span data-ttu-id="ffd60-314">Si alguna de las pruebas de hello no, no se clasifique la imagen.</span><span class="sxs-lookup"><span data-stu-id="ffd60-314">If any of hello tests fail, your image will not be certified.</span></span> <span data-ttu-id="ffd60-315">Si esto ocurre, revise los requisitos de Hola y realice los cambios necesarios.</span><span class="sxs-lookup"><span data-stu-id="ffd60-315">If this occurs, review hello requirements and make any necessary changes.</span></span>

<span data-ttu-id="ffd60-316">Después de hello prueba automática, se le preguntará tooprovide una entrada adicional en la imagen de máquina virtual a través de una pantalla de cuestionario.</span><span class="sxs-lookup"><span data-stu-id="ffd60-316">After hello automated test, you are asked tooprovide additional input on your VM image via a questionnaire screen.</span></span>  <span data-ttu-id="ffd60-317">Complete preguntas de hello y, a continuación, seleccione **siguiente**.</span><span class="sxs-lookup"><span data-stu-id="ffd60-317">Complete hello questions, and then select **Next**.</span></span>

![Cuestionario de la herramienta de certificación][img-cert-vm-questionnaire]

![Cuestionario de la herramienta de certificación][img-cert-vm-questionnaire-2]

<span data-ttu-id="ffd60-320">Después de haber completado cuestionario hello, puede proporcionar información adicional, como información de acceso SSH para hello imagen de VM de Linux y una explicación para las evaluaciones error.</span><span class="sxs-lookup"><span data-stu-id="ffd60-320">After you have completed hello questionnaire, you can provide additional information such as SSH access information for hello Linux VM image and an explanation for any failed assessments.</span></span> <span data-ttu-id="ffd60-321">Puede descargar los resultados de pruebas de Hola y archivos de registro de hello ejecutar casos de prueba en cuestionario toohello de suma tooyour respuestas.</span><span class="sxs-lookup"><span data-stu-id="ffd60-321">You can download hello test results and log files for hello executed test cases in addition tooyour answers toohello questionnaire.</span></span> <span data-ttu-id="ffd60-322">Guardar los resultados de Hola Hola mismo contenedor que los discos duros virtuales.</span><span class="sxs-lookup"><span data-stu-id="ffd60-322">Save hello results in hello same container as your VHDs.</span></span>

![Guardar resultados de la prueba de certificación][img-cert-vm-results]

### <a name="52-get-hello-shared-access-signature-uri-for-your-vm-images"></a><span data-ttu-id="ffd60-324">5.2 obtener el URI de la firma de acceso compartido Hola para las imágenes de máquina virtual</span><span class="sxs-lookup"><span data-stu-id="ffd60-324">5.2 Get hello shared access signature URI for your VM images</span></span>
<span data-ttu-id="ffd60-325">Durante el proceso de publicación de hello, especificar identificadores de uniforme de recursos (URI) de Hola que mejoren tooeach de hello discos duros virtuales que ha creado para el SKU.</span><span class="sxs-lookup"><span data-stu-id="ffd60-325">During hello publishing process, you specify hello uniform resource identifiers (URIs) that lead tooeach of hello VHDs you have created for your SKU.</span></span> <span data-ttu-id="ffd60-326">Microsoft necesita acceso toothese discos duros virtuales durante el proceso de certificación de Hola.</span><span class="sxs-lookup"><span data-stu-id="ffd60-326">Microsoft needs access toothese VHDs during hello certification process.</span></span> <span data-ttu-id="ffd60-327">Por lo tanto, necesitará toocreate un URI de firma de acceso compartido para cada disco duro virtual.</span><span class="sxs-lookup"><span data-stu-id="ffd60-327">Therefore, you need toocreate a shared access signature URI for each VHD.</span></span> <span data-ttu-id="ffd60-328">Se trata de hello URI que se debe escribir en el **imágenes** ficha Hola Portal de publicación.</span><span class="sxs-lookup"><span data-stu-id="ffd60-328">This is hello URI that should be entered in the **Images** tab in hello Publishing Portal.</span></span>

<span data-ttu-id="ffd60-329">firma de acceso compartido de Hello URI creado debe respetar toohello según los requisitos:</span><span class="sxs-lookup"><span data-stu-id="ffd60-329">hello shared access signature URI created should adhere toohello following requirements:</span></span>

* <span data-ttu-id="ffd60-330">Para generar los URI de firma de acceso compartido para sus VHD, son suficientes los permisos de lista y lectura.</span><span class="sxs-lookup"><span data-stu-id="ffd60-330">When generating shared access signature URIs for your VHDs, List and Read­ permissions are sufficient.</span></span> <span data-ttu-id="ffd60-331">No proporcione acceso de escritura o eliminación.</span><span class="sxs-lookup"><span data-stu-id="ffd60-331">Do not provide Write or Delete access.</span></span>
* <span data-ttu-id="ffd60-332">duración de Hello para el acceso debe ser un mínimo de tres (3) semanas de cuando se crea el URI de la firma de acceso compartido Hola.</span><span class="sxs-lookup"><span data-stu-id="ffd60-332">hello duration for access should be a minimum of three (3) weeks from when hello shared access signature URI is created.</span></span>
* <span data-ttu-id="ffd60-333">toosafeguard en hora UTC, día Hola select antes de hello fecha actual.</span><span class="sxs-lookup"><span data-stu-id="ffd60-333">toosafeguard for UTC time, select hello day before hello current date.</span></span> <span data-ttu-id="ffd60-334">Por ejemplo, si Hola fecha actual es el 6 de octubre de 2014, seleccione 10/5/2014.</span><span class="sxs-lookup"><span data-stu-id="ffd60-334">For example, if hello current date is October 6, 2014, select 10/5/2014.</span></span>

<span data-ttu-id="ffd60-335">Dirección URL de SAS puede ser generado en tooshare de varias maneras el disco duro virtual de Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="ffd60-335">SAS URL can be generated in multiple ways tooshare your VHD for Azure Marketplace.</span></span>
<span data-ttu-id="ffd60-336">A continuación se Hola 3 herramientas recomendadas:</span><span class="sxs-lookup"><span data-stu-id="ffd60-336">Following are hello 3 recommended tools:</span></span>

1.  <span data-ttu-id="ffd60-337">Explorador de Azure Storage</span><span class="sxs-lookup"><span data-stu-id="ffd60-337">Azure Storage Explorer</span></span>
2.  <span data-ttu-id="ffd60-338">Explorador de almacenamiento de Microsoft</span><span class="sxs-lookup"><span data-stu-id="ffd60-338">Microsoft Storage Explorer</span></span>
3.  <span data-ttu-id="ffd60-339">CLI de Azure</span><span class="sxs-lookup"><span data-stu-id="ffd60-339">Azure CLI</span></span>

<span data-ttu-id="ffd60-340">**Explorador de Azure Storage (recomendado para los usuarios de Windows)**</span><span class="sxs-lookup"><span data-stu-id="ffd60-340">**Azure Storage Explorer (Recommended for Windows Users)**</span></span>

<span data-ttu-id="ffd60-341">Estos son los pasos de Hola para generar la dirección URL de SAS mediante el Explorador de almacenamiento de Azure</span><span class="sxs-lookup"><span data-stu-id="ffd60-341">Following are hello steps for generating SAS URL by using Azure Storage Explorer</span></span>

1. <span data-ttu-id="ffd60-342">Descargue [Explorador de Azure Storage 6 versión preliminar 3](https://azurestorageexplorer.codeplex.com/) desde CodePlex.</span><span class="sxs-lookup"><span data-stu-id="ffd60-342">Download [Azure Storage Explorer 6 Preview 3](https://azurestorageexplorer.codeplex.com/) from CodePlex.</span></span> <span data-ttu-id="ffd60-343">Vaya demasiado[Azure Storage Explorer 6 Preview](https://azurestorageexplorer.codeplex.com/) y haga clic en **"Descarga"**.</span><span class="sxs-lookup"><span data-stu-id="ffd60-343">Go too[Azure Storage Explorer 6 Preview](https://azurestorageexplorer.codeplex.com/) and click **"Downloads"**.</span></span>

    ![dibujo](media/marketplace-publishing-vm-image-creation/img5.2_01.png)

2. <span data-ttu-id="ffd60-345">Descargue [AzureStorageExplorer6Preview3.zip](https://azurestorageexplorer.codeplex.com/downloads/get/891668) e instálelo después de la descompresión.</span><span class="sxs-lookup"><span data-stu-id="ffd60-345">Download [AzureStorageExplorer6Preview3.zip](https://azurestorageexplorer.codeplex.com/downloads/get/891668) and install after unzipping it.</span></span>

    ![dibujo](media/marketplace-publishing-vm-image-creation/img5.2_02.png)

3. <span data-ttu-id="ffd60-347">Después de instalarlo, abra la aplicación hello.</span><span class="sxs-lookup"><span data-stu-id="ffd60-347">After it is installed, open hello application.</span></span>
4. <span data-ttu-id="ffd60-348">Haga clic en **Agregar cuenta**.</span><span class="sxs-lookup"><span data-stu-id="ffd60-348">Click **Add Account**.</span></span>

    ![dibujo](media/marketplace-publishing-vm-image-creation/img5.2_03.png)

5. <span data-ttu-id="ffd60-350">Especifique el nombre de cuenta de almacenamiento de hello, clave de la cuenta de almacenamiento y dominio de los puntos de conexión de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="ffd60-350">Specify hello storage account name, storage account key, and storage endpoints domain.</span></span> <span data-ttu-id="ffd60-351">Esto es, cuenta de almacenamiento de hello en su suscripción de Azure donde ha guardado el disco duro virtual en el portal de Azure.</span><span class="sxs-lookup"><span data-stu-id="ffd60-351">This is hello storage account in your Azure subscription where you have kept your VHD on Azure portal.</span></span>

    ![dibujo](media/marketplace-publishing-vm-image-creation/img5.2_04.png)

6. <span data-ttu-id="ffd60-353">Una vez que se conecta a Azure Storage Explorer tooyour cuenta de almacenamiento específica, se iniciará mostrando todas hello contiene dentro de la cuenta de almacenamiento de Hola.</span><span class="sxs-lookup"><span data-stu-id="ffd60-353">Once Azure Storage Explorer is connected tooyour specific storage account, it will start showing all of hello contains within hello storage account.</span></span> <span data-ttu-id="ffd60-354">Seleccionar contenedor Hola donde copió el archivo VHD de disco de sistema operativo hello (también discos de datos, si son aplicables para su escenario).</span><span class="sxs-lookup"><span data-stu-id="ffd60-354">Select hello container where you copied hello operating system disk VHD file (also data disks if they are applicable for your scenario).</span></span>

    ![dibujo](media/marketplace-publishing-vm-image-creation/img5.2_05.png)

7. <span data-ttu-id="ffd60-356">Después de seleccionar el contenedor de blobs de hello, Azure Storage Explorer inicia mostrando archivos Hola contenedor Hola.</span><span class="sxs-lookup"><span data-stu-id="ffd60-356">After selecting hello blob container, Azure Storage Explorer starts showing hello files within hello container.</span></span> <span data-ttu-id="ffd60-357">Seleccione el archivo de imagen de hello (.vhd) que necesita toobe enviado.</span><span class="sxs-lookup"><span data-stu-id="ffd60-357">Select hello image file (.vhd) that needs toobe submitted.</span></span>

    ![dibujo](media/marketplace-publishing-vm-image-creation/img5.2_06.png)

8.  <span data-ttu-id="ffd60-359">Después de seleccionar el archivo .vhd de hello en el contenedor de hello, haga clic en hello **seguridad** ficha.</span><span class="sxs-lookup"><span data-stu-id="ffd60-359">After selecting hello .vhd file in hello container, click hello **Security** tab.</span></span>

    ![dibujo](media/marketplace-publishing-vm-image-creation/img5.2_07.png)

9.  <span data-ttu-id="ffd60-361">Hola **seguridad del contenedor de Blob** cuadro de diálogo, los valores predeterminados de deje hello en hello **nivel de acceso** ficha y, a continuación, haga clic en **firmas de acceso compartido** ficha.</span><span class="sxs-lookup"><span data-stu-id="ffd60-361">In hello **Blob Container Security** dialog box, leave hello defaults on hello **Access Level** tab, and then click **Shared Access Signatures** tab.</span></span>

    ![dibujo](media/marketplace-publishing-vm-image-creation/img5.2_08.png)

10. <span data-ttu-id="ffd60-363">Siga los pasos de Hola por debajo de un URI de firma de acceso compartido para la imagen de VHD de Hola toogenerate:</span><span class="sxs-lookup"><span data-stu-id="ffd60-363">Follow hello steps below toogenerate a shared access signature URI for hello .vhd image:</span></span>

    ![dibujo](media/marketplace-publishing-vm-image-creation/img5.2_09.png)

    <span data-ttu-id="ffd60-365">a.</span><span class="sxs-lookup"><span data-stu-id="ffd60-365">a.</span></span> <span data-ttu-id="ffd60-366">**Permite el acceso:** toosafeguard en hora UTC, día Hola select antes de hello fecha actual.</span><span class="sxs-lookup"><span data-stu-id="ffd60-366">**Access permitted from:** toosafeguard for UTC time, select hello day before hello current date.</span></span> <span data-ttu-id="ffd60-367">Por ejemplo, si Hola fecha actual es el 6 de octubre de 2014, seleccione 10/5/2014.</span><span class="sxs-lookup"><span data-stu-id="ffd60-367">For example, if hello current date is October 6, 2014, select 10/5/2014.</span></span>

    <span data-ttu-id="ffd60-368">b.</span><span class="sxs-lookup"><span data-stu-id="ffd60-368">b.</span></span> <span data-ttu-id="ffd60-369">**Permite el acceso a:** seleccione una fecha que sea al menos 3 semanas después de hello **permite el acceso** fecha.</span><span class="sxs-lookup"><span data-stu-id="ffd60-369">**Access permitted to:** Select a date that is at least 3 weeks after hello **Access permitted from** date.</span></span>

    <span data-ttu-id="ffd60-370">c.</span><span class="sxs-lookup"><span data-stu-id="ffd60-370">c.</span></span> <span data-ttu-id="ffd60-371">**Acciones permitidas:** Hola seleccione **lista** y **lectura** permisos.</span><span class="sxs-lookup"><span data-stu-id="ffd60-371">**Actions permitted:** Select hello **List** and **Read** permissions.</span></span>

    <span data-ttu-id="ffd60-372">d.</span><span class="sxs-lookup"><span data-stu-id="ffd60-372">d.</span></span> <span data-ttu-id="ffd60-373">Si ha seleccionado el archivo .vhd correctamente, el archivo aparece en **tooaccess de nombre de Blob** con extensión .vhd.</span><span class="sxs-lookup"><span data-stu-id="ffd60-373">If you have selected your .vhd file correctly, then your file appears in **Blob name tooaccess** with extension .vhd.</span></span>

    <span data-ttu-id="ffd60-374">e.</span><span class="sxs-lookup"><span data-stu-id="ffd60-374">e.</span></span> <span data-ttu-id="ffd60-375">Haga clic en **Generar firma**.</span><span class="sxs-lookup"><span data-stu-id="ffd60-375">Click **Generate Signature**.</span></span>

    <span data-ttu-id="ffd60-376">f.</span><span class="sxs-lookup"><span data-stu-id="ffd60-376">f.</span></span> <span data-ttu-id="ffd60-377">En **genera compartido acceso firma URI de este contenedor**, busque Hola siguientes como se indica anteriormente:</span><span class="sxs-lookup"><span data-stu-id="ffd60-377">In **Generated Shared Access Signature URI of this container**, check for hello following as highlighted above:</span></span>

       - <span data-ttu-id="ffd60-378">Asegúrese de que el nombre de archivo de la imagen y **".vhd"** están en hello URI.</span><span class="sxs-lookup"><span data-stu-id="ffd60-378">Make sure that your image file name and **".vhd"** are in hello URI.</span></span>
       - <span data-ttu-id="ffd60-379">Al final de Hola de firma de hello, asegúrese de que **"= rl"** aparece.</span><span class="sxs-lookup"><span data-stu-id="ffd60-379">At hello end of hello signature, make sure that **"=rl"** appears.</span></span> <span data-ttu-id="ffd60-380">Esto demuestra que el acceso de lectura y lista se ha proporcionado correctamente.</span><span class="sxs-lookup"><span data-stu-id="ffd60-380">This demonstrates that Read and List access was provided successfully.</span></span>
       - <span data-ttu-id="ffd60-381">En el centro de firma de hello, asegúrese de que **"sr = c"** aparece.</span><span class="sxs-lookup"><span data-stu-id="ffd60-381">In middle of hello signature, make sure that **"sr=c"** appears.</span></span> <span data-ttu-id="ffd60-382">Esto demuestra que tiene acceso de nivel de contenedor.</span><span class="sxs-lookup"><span data-stu-id="ffd60-382">This demonstrates that you have container level access</span></span>

11. <span data-ttu-id="ffd60-383">tooensure Hola genera compartidos funciona URI de firma de acceso, haga clic en **pruebas en explorador**.</span><span class="sxs-lookup"><span data-stu-id="ffd60-383">tooensure that hello generated shared access signature URI works, click **Test in Browser**.</span></span> <span data-ttu-id="ffd60-384">Debe iniciar el proceso de descarga de Hola.</span><span class="sxs-lookup"><span data-stu-id="ffd60-384">It should start hello download process.</span></span>

12. <span data-ttu-id="ffd60-385">Copie el URI de la firma de acceso compartido Hola.</span><span class="sxs-lookup"><span data-stu-id="ffd60-385">Copy hello shared access signature URI.</span></span> <span data-ttu-id="ffd60-386">Se trata de hello URI toopaste en hello Portal de publicación.</span><span class="sxs-lookup"><span data-stu-id="ffd60-386">This is hello URI toopaste into hello Publishing Portal.</span></span>

13. <span data-ttu-id="ffd60-387">Repita los pasos 6 y 10 para cada disco duro virtual en hello SKU.</span><span class="sxs-lookup"><span data-stu-id="ffd60-387">Repeat steps 6-10 for each VHD in hello SKU.</span></span>

<span data-ttu-id="ffd60-388">**Explorador de Microsoft Azure Storage (Windows/MAC/Linux)**</span><span class="sxs-lookup"><span data-stu-id="ffd60-388">**Microsoft Azure Storage Explorer (Windows/MAC/Linux)**</span></span>

<span data-ttu-id="ffd60-389">Estos son los pasos de Hola para generar la dirección URL de SAS mediante el Explorador de almacenamiento de Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="ffd60-389">Following are hello steps for generating SAS URL by using Microsoft Azure Storage Explorer</span></span>

1.  <span data-ttu-id="ffd60-390">Descargue el Explorador de Microsoft Azure Storage desde el sitio web [http://storageexplorer.com/](http://storageexplorer.com/).</span><span class="sxs-lookup"><span data-stu-id="ffd60-390">Download Microsoft Azure Storage Explorer form [http://storageexplorer.com/](http://storageexplorer.com/) website.</span></span> <span data-ttu-id="ffd60-391">Vaya demasiado[Microsoft Azure Storage Explorer](http://storageexplorer.com/releasenotes.html) y haga clic en **"Descargar para Windows"**.</span><span class="sxs-lookup"><span data-stu-id="ffd60-391">Go too[Microsoft Azure Storage Explorer](http://storageexplorer.com/releasenotes.html) and click **“Download for Windows”**.</span></span>

    ![dibujo](media/marketplace-publishing-vm-image-creation/img5.2_10.png)

2.  <span data-ttu-id="ffd60-393">Después de instalarlo, abra la aplicación hello.</span><span class="sxs-lookup"><span data-stu-id="ffd60-393">After it is installed, open hello application.</span></span>

3.  <span data-ttu-id="ffd60-394">Haga clic en **Agregar cuenta**.</span><span class="sxs-lookup"><span data-stu-id="ffd60-394">Click **Add Account**.</span></span>

4.  <span data-ttu-id="ffd60-395">Configurar suscripción de Microsoft Azure Storage Explorer tooyour tooyour cuenta de inicio de sesión</span><span class="sxs-lookup"><span data-stu-id="ffd60-395">Configure Microsoft Azure Storage Explorer tooyour subscription by sign in tooyour account</span></span>

    ![dibujo](media/marketplace-publishing-vm-image-creation/img5.2_11.png)

5.  <span data-ttu-id="ffd60-397">Vaya toostorage cuenta y seleccione Hola contenedor</span><span class="sxs-lookup"><span data-stu-id="ffd60-397">Go toostorage account and select hello Container</span></span>

6.  <span data-ttu-id="ffd60-398">Seleccione **"Get Share Access Signature"** (Obtener la firma de acceso compartido)</span><span class="sxs-lookup"><span data-stu-id="ffd60-398">Select **“Get Share Access Signature..”**</span></span> <span data-ttu-id="ffd60-399">con un clic derecho de hello **contenedor**</span><span class="sxs-lookup"><span data-stu-id="ffd60-399">by using Right Click of hello **container**</span></span>

    ![dibujo](media/marketplace-publishing-vm-image-creation/img5.2_12.png)

7.  <span data-ttu-id="ffd60-401">Actualice la hora de inicio, la hora de expiración y los permisos según se especifica a continuación:</span><span class="sxs-lookup"><span data-stu-id="ffd60-401">Update Start time, Expiry time and Permissions as per following</span></span>

    ![dibujo](media/marketplace-publishing-vm-image-creation/img5.2_13.png)

    <span data-ttu-id="ffd60-403">a.</span><span class="sxs-lookup"><span data-stu-id="ffd60-403">a.</span></span>  <span data-ttu-id="ffd60-404">**Hora de inicio:** toosafeguard en hora UTC, día Hola select antes de hello fecha actual.</span><span class="sxs-lookup"><span data-stu-id="ffd60-404">**Start Time:** toosafeguard for UTC time, select hello day before hello current date.</span></span> <span data-ttu-id="ffd60-405">Por ejemplo, si Hola fecha actual es el 6 de octubre de 2014, seleccione 10/5/2014.</span><span class="sxs-lookup"><span data-stu-id="ffd60-405">For example, if hello current date is October 6, 2014, select 10/5/2014.</span></span>

    <span data-ttu-id="ffd60-406">b.</span><span class="sxs-lookup"><span data-stu-id="ffd60-406">b.</span></span>  <span data-ttu-id="ffd60-407">**La hora de expiración:** seleccione una fecha que sea al menos 3 semanas después de hello **Start Time** fecha.</span><span class="sxs-lookup"><span data-stu-id="ffd60-407">**Expiry Time:** Select a date that is at least 3 weeks after hello **Start Time** date.</span></span>

    <span data-ttu-id="ffd60-408">c.</span><span class="sxs-lookup"><span data-stu-id="ffd60-408">c.</span></span>  <span data-ttu-id="ffd60-409">**Permisos:** Hola seleccione **lista** y **lectura** permisos</span><span class="sxs-lookup"><span data-stu-id="ffd60-409">**Permissions:** Select hello **List** and **Read** permissions</span></span>

8.  <span data-ttu-id="ffd60-410">Copie el URI de la firma de acceso compartido del contenedor.</span><span class="sxs-lookup"><span data-stu-id="ffd60-410">Copy Container shared access signature URI</span></span>

    ![dibujo](media/marketplace-publishing-vm-image-creation/img5.2_14.png)

    <span data-ttu-id="ffd60-412">Dirección URL de SAS generada es de nivel de contenedor y ahora necesitamos tooadd nombre del VHD en ella.</span><span class="sxs-lookup"><span data-stu-id="ffd60-412">Generated SAS URL is for container Level and now we need tooadd VHD name in it.</span></span>

    <span data-ttu-id="ffd60-413">Formato de la dirección URL de SAS de nivel de contenedor:`https://testrg009.blob.core.windows.net/vhds?st=2016-04-22T23%3A05%3A00Z&se=2016-04-30T23%3A05%3A00Z&sp=rl&sv=2015-04-05&sr=c&sig=J3twCQZv4L4EurvugRW2klE2l2EFB9XyM6K9FkuVB58%3D`</span><span class="sxs-lookup"><span data-stu-id="ffd60-413">Format of Container Level SAS URL: `https://testrg009.blob.core.windows.net/vhds?st=2016-04-22T23%3A05%3A00Z&se=2016-04-30T23%3A05%3A00Z&sp=rl&sv=2015-04-05&sr=c&sig=J3twCQZv4L4EurvugRW2klE2l2EFB9XyM6K9FkuVB58%3D`</span></span>

    <span data-ttu-id="ffd60-414">Inserte el nombre de disco duro virtual después de nombre de contenedor de hello en dirección URL de SAS como a continuación`https://testrg009.blob.core.windows.net/vhds/<VHD NAME>?st=2016-04-22T23%3A05%3A00Z&se=2016-04-30T23%3A05%3A00Z&sp=rl&sv=2015-04-05&sr=c&sig=J3twCQZv4L4EurvugRW2klE2l2EFB9XyM6K9FkuVB58%3D`</span><span class="sxs-lookup"><span data-stu-id="ffd60-414">Insert VHD name after hello container name in SAS URL as below `https://testrg009.blob.core.windows.net/vhds/<VHD NAME>?st=2016-04-22T23%3A05%3A00Z&se=2016-04-30T23%3A05%3A00Z&sp=rl&sv=2015-04-05&sr=c&sig=J3twCQZv4L4EurvugRW2klE2l2EFB9XyM6K9FkuVB58%3D`</span></span>

    <span data-ttu-id="ffd60-415">Ejemplo:</span><span class="sxs-lookup"><span data-stu-id="ffd60-415">Example:</span></span>

    ![dibujo](media/marketplace-publishing-vm-image-creation/img5.2_15.png)

    <span data-ttu-id="ffd60-417">TestRGVM201631920152.vhd es hello nombre de disco duro virtual, será la dirección URL de SAS del disco duro virtual`https://testrg009.blob.core.windows.net/vhds/TestRGVM201631920152.vhd?st=2016-04-22T23%3A05%3A00Z&se=2016-04-30T23%3A05%3A00Z&sp=rl&sv=2015-04-05&sr=c&sig=J3twCQZv4L4EurvugRW2klE2l2EFB9XyM6K9FkuVB58%3D`</span><span class="sxs-lookup"><span data-stu-id="ffd60-417">TestRGVM201631920152.vhd is hello VHD Name then VHD SAS URL will be `https://testrg009.blob.core.windows.net/vhds/TestRGVM201631920152.vhd?st=2016-04-22T23%3A05%3A00Z&se=2016-04-30T23%3A05%3A00Z&sp=rl&sv=2015-04-05&sr=c&sig=J3twCQZv4L4EurvugRW2klE2l2EFB9XyM6K9FkuVB58%3D`</span></span>

    - <span data-ttu-id="ffd60-418">Asegúrese de que el nombre de archivo de la imagen y **".vhd"** están en hello URI.</span><span class="sxs-lookup"><span data-stu-id="ffd60-418">Make sure that your image file name and **".vhd"** are in hello URI.</span></span>
    - <span data-ttu-id="ffd60-419">En el centro de firma de hello, asegúrese de que **"sp = rl"** aparece.</span><span class="sxs-lookup"><span data-stu-id="ffd60-419">In middle of hello signature, make sure that **"sp=rl"** appears.</span></span> <span data-ttu-id="ffd60-420">Esto demuestra que el acceso de lectura y lista se ha proporcionado correctamente.</span><span class="sxs-lookup"><span data-stu-id="ffd60-420">This demonstrates that Read and List access was provided successfully.</span></span>
    - <span data-ttu-id="ffd60-421">En el centro de firma de hello, asegúrese de que **"sr = c"** aparece.</span><span class="sxs-lookup"><span data-stu-id="ffd60-421">In middle of hello signature, make sure that **"sr=c"** appears.</span></span> <span data-ttu-id="ffd60-422">Esto demuestra que tiene acceso de nivel de contenedor.</span><span class="sxs-lookup"><span data-stu-id="ffd60-422">This demonstrates that you have container level access</span></span>

9.  <span data-ttu-id="ffd60-423">tooensure que Hola funciona URI de firma de acceso compartido generada, probarlo en el explorador.</span><span class="sxs-lookup"><span data-stu-id="ffd60-423">tooensure that hello generated shared access signature URI works, test it in browser.</span></span> <span data-ttu-id="ffd60-424">Debe iniciar el proceso de descarga de Hola</span><span class="sxs-lookup"><span data-stu-id="ffd60-424">It should start hello download process</span></span>

10. <span data-ttu-id="ffd60-425">Copie el URI de la firma de acceso compartido Hola.</span><span class="sxs-lookup"><span data-stu-id="ffd60-425">Copy hello shared access signature URI.</span></span> <span data-ttu-id="ffd60-426">Se trata de hello URI toopaste en hello Portal de publicación.</span><span class="sxs-lookup"><span data-stu-id="ffd60-426">This is hello URI toopaste into hello Publishing Portal.</span></span>

11. <span data-ttu-id="ffd60-427">Repita estos pasos para cada disco duro virtual en hello SKU.</span><span class="sxs-lookup"><span data-stu-id="ffd60-427">Repeat these steps for each VHD in hello SKU.</span></span>

<span data-ttu-id="ffd60-428">**CLI de Azure (recomendado para la integración continua y distinta de Windows)**</span><span class="sxs-lookup"><span data-stu-id="ffd60-428">**Azure CLI (Recommended for Non-Windows & Continuous Integration)**</span></span>

<span data-ttu-id="ffd60-429">Estos son los pasos de Hola para generar la dirección URL de SAS mediante CLI de Azure</span><span class="sxs-lookup"><span data-stu-id="ffd60-429">Following are hello steps for generating SAS URL by using Azure CLI</span></span>

1.  <span data-ttu-id="ffd60-430">Descargue la CLI de Microsoft Azure desde [aquí](https://azure.microsoft.com/en-in/documentation/articles/xplat-cli-install/).</span><span class="sxs-lookup"><span data-stu-id="ffd60-430">Download Microsoft Azure CLI from [here](https://azure.microsoft.com/en-in/documentation/articles/xplat-cli-install/).</span></span> <span data-ttu-id="ffd60-431">También puede encontrar vínculos diferentes para **[Windows](http://aka.ms/webpi-azure-cli)** y **[MAC OS](http://aka.ms/mac-azure-cli)**.</span><span class="sxs-lookup"><span data-stu-id="ffd60-431">You can also find different links for **[Windows](http://aka.ms/webpi-azure-cli)** and **[MAC OS](http://aka.ms/mac-azure-cli)**.</span></span>

2.  <span data-ttu-id="ffd60-432">Una vez completada la descarga, instálela.</span><span class="sxs-lookup"><span data-stu-id="ffd60-432">Once it is downloaded, please install</span></span>

3.  <span data-ttu-id="ffd60-433">Cree un archivo de PowerShell con el código siguiente y guárdelo en local.</span><span class="sxs-lookup"><span data-stu-id="ffd60-433">Create a PowerShell file with following code and save it in local</span></span>

          $conn="DefaultEndpointsProtocol=https;AccountName=<StorageAccountName>;AccountKey=<Storage Account Key>"
          azure storage container list vhds -c $conn
          azure storage container sas create vhds rl <Permission End Date> -c $conn --start <Permission Start Date>  

    <span data-ttu-id="ffd60-434">Actualizar siguiente Hola parámetros en anteriormente</span><span class="sxs-lookup"><span data-stu-id="ffd60-434">Update hello following parameters in above</span></span>

    <span data-ttu-id="ffd60-435">a.</span><span class="sxs-lookup"><span data-stu-id="ffd60-435">a.</span></span> <span data-ttu-id="ffd60-436">**`<StorageAccountName>`**: indique el nombre de la cuenta de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="ffd60-436">**`<StorageAccountName>`**: Give your storage account name</span></span>

    <span data-ttu-id="ffd60-437">b.</span><span class="sxs-lookup"><span data-stu-id="ffd60-437">b.</span></span> <span data-ttu-id="ffd60-438">**`<Storage Account Key>`**: indique la clave de la cuenta de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="ffd60-438">**`<Storage Account Key>`**: Give your storage account key</span></span>

    <span data-ttu-id="ffd60-439">c.</span><span class="sxs-lookup"><span data-stu-id="ffd60-439">c.</span></span> <span data-ttu-id="ffd60-440">**`<Permission Start Date>`**: toosafeguard en hora UTC, día Hola select antes de hello fecha actual.</span><span class="sxs-lookup"><span data-stu-id="ffd60-440">**`<Permission Start Date>`**: toosafeguard for UTC time, select hello day before hello current date.</span></span> <span data-ttu-id="ffd60-441">Por ejemplo, si hello fecha actual es el 26 de octubre de 2016, entonces debe ser el valor 10/25/2016</span><span class="sxs-lookup"><span data-stu-id="ffd60-441">For example, if hello current date is October 26, 2016, then value should be 10/25/2016</span></span>

    <span data-ttu-id="ffd60-442">d.</span><span class="sxs-lookup"><span data-stu-id="ffd60-442">d.</span></span> <span data-ttu-id="ffd60-443">**`<Permission End Date>`**: Seleccione una fecha que sea al menos 3 semanas después de hello **Start Date**.</span><span class="sxs-lookup"><span data-stu-id="ffd60-443">**`<Permission End Date>`**: Select a date that is at least 3 weeks after hello **Start Date**.</span></span> <span data-ttu-id="ffd60-444">Así, el valor debería ser **11/02/2016**.</span><span class="sxs-lookup"><span data-stu-id="ffd60-444">Then value should be **11/02/2016**.</span></span>

    <span data-ttu-id="ffd60-445">Siguiente es un código de ejemplo de Hola después de actualizar los parámetros adecuados</span><span class="sxs-lookup"><span data-stu-id="ffd60-445">Following is hello example code after updating proper parameters</span></span>

          $conn="DefaultEndpointsProtocol=https;AccountName=st20151;AccountKey=TIQE5QWMKHpT5q2VnF1bb+NUV7NVMY2xmzVx1rdgIVsw7h0pcI5nMM6+DVFO65i4bQevx21dmrflA91r0Vh2Yw=="
          azure storage container list vhds -c $conn
          azure storage container sas create vhds rl 11/02/2016 -c $conn --start 10/25/2016  

4.  <span data-ttu-id="ffd60-446">Abra el editor de Powershell con el modo de "Ejecutar como administrador" y abra el archivo del paso 3.</span><span class="sxs-lookup"><span data-stu-id="ffd60-446">Open Powershell editor with “Run as Administrator” mode and open file in step #3.</span></span>

5.  <span data-ttu-id="ffd60-447">Secuencia de comandos de ejecución hello y proporcionará que Hola URL de SAS para el acceso de nivel de contenedor</span><span class="sxs-lookup"><span data-stu-id="ffd60-447">Run hello script and it will provide you hello SAS URL for container level access</span></span>

    <span data-ttu-id="ffd60-448">Estos son resultado de hello de parte de hello resaltado de hello firma de SAS y copia en el Bloc de notas</span><span class="sxs-lookup"><span data-stu-id="ffd60-448">Following will be hello output of hello SAS Signature and copy hello highlighted part in a notepad</span></span>

    ![dibujo](media/marketplace-publishing-vm-image-creation/img5.2_16.png)

6.  <span data-ttu-id="ffd60-450">Ahora obtendrá la dirección URL de SAS de nivel de contenedor y deberá tooadd nombre del VHD en ella.</span><span class="sxs-lookup"><span data-stu-id="ffd60-450">Now you will get container level SAS URL and you need tooadd VHD name in it.</span></span>

    <span data-ttu-id="ffd60-451">N.º de URL de SAS de nivel de contenedor</span><span class="sxs-lookup"><span data-stu-id="ffd60-451">Container level SAS URL #</span></span>

    `https://st20151.blob.core.windows.net/vhds?st=2016-10-25T07%3A00%3A00Z&se=2016-11-02T07%3A00%3A00Z&sp=rl&sv=2015-12-11&sr=c&sig=wnEw9RfVKeSmVgqDfsDvC9IHhis4x0fc9Hu%2FW4yvBxk%3D`

7.  <span data-ttu-id="ffd60-452">Inserte el nombre de disco duro virtual después de nombre de contenedor de hello en dirección URL de SAS tal y como se muestra a continuación`https://st20151.blob.core.windows.net/vhds/<VHDName>?st=2016-10-25T07%3A00%3A00Z&se=2016-11-02T07%3A00%3A00Z&sp=rl&sv=2015-12-11&sr=c&sig=wnEw9RfVKeSmVgqDfsDvC9IHhis4x0fc9Hu%2FW4yvBxk%3D`</span><span class="sxs-lookup"><span data-stu-id="ffd60-452">Insert VHD name after hello container name in SAS URL as shown below `https://st20151.blob.core.windows.net/vhds/<VHDName>?st=2016-10-25T07%3A00%3A00Z&se=2016-11-02T07%3A00%3A00Z&sp=rl&sv=2015-12-11&sr=c&sig=wnEw9RfVKeSmVgqDfsDvC9IHhis4x0fc9Hu%2FW4yvBxk%3D`</span></span>

    <span data-ttu-id="ffd60-453">Ejemplo:</span><span class="sxs-lookup"><span data-stu-id="ffd60-453">Example:</span></span>

    <span data-ttu-id="ffd60-454">TestRGVM201631920152.vhd es hello nombre de disco duro virtual, será la dirección URL de SAS del disco duro virtual</span><span class="sxs-lookup"><span data-stu-id="ffd60-454">TestRGVM201631920152.vhd is hello VHD Name then VHD SAS URL will be</span></span>

    `https://st20151.blob.core.windows.net/vhds/ TestRGVM201631920152.vhd?st=2016-10-25T07%3A00%3A00Z&se=2016-11-02T07%3A00%3A00Z&sp=rl&sv=2015-12-11&sr=c&sig=wnEw9RfVKeSmVgqDfsDvC9IHhis4x0fc9Hu%2FW4yvBxk%3D`

    - <span data-ttu-id="ffd60-455">Asegúrese de que el nombre de archivo de imagen y ".vhd" están en hello URI.</span><span class="sxs-lookup"><span data-stu-id="ffd60-455">Make sure that your image file name and ".vhd" are in hello URI.</span></span>
    -   <span data-ttu-id="ffd60-456">En el centro de firma de hello, compruebe que aparece "sp = rl".</span><span class="sxs-lookup"><span data-stu-id="ffd60-456">In middle of hello signature, make sure that "sp=rl" appears.</span></span> <span data-ttu-id="ffd60-457">Esto demuestra que el acceso de lectura y lista se ha proporcionado correctamente.</span><span class="sxs-lookup"><span data-stu-id="ffd60-457">This demonstrates that Read and List access was provided successfully.</span></span>
    -   <span data-ttu-id="ffd60-458">En el centro de firma de hello, asegúrese de que "sr = c" aparece.</span><span class="sxs-lookup"><span data-stu-id="ffd60-458">In middle of hello signature, make sure that "sr=c" appears.</span></span> <span data-ttu-id="ffd60-459">Esto demuestra que tiene acceso de nivel de contenedor.</span><span class="sxs-lookup"><span data-stu-id="ffd60-459">This demonstrates that you have container level access</span></span>

8.  <span data-ttu-id="ffd60-460">tooensure que Hola funciona URI de firma de acceso compartido generada, probarlo en el explorador.</span><span class="sxs-lookup"><span data-stu-id="ffd60-460">tooensure that hello generated shared access signature URI works, test it in browser.</span></span> <span data-ttu-id="ffd60-461">Debe iniciar el proceso de descarga de Hola</span><span class="sxs-lookup"><span data-stu-id="ffd60-461">It should start hello download process</span></span>

9.  <span data-ttu-id="ffd60-462">Copie el URI de la firma de acceso compartido Hola.</span><span class="sxs-lookup"><span data-stu-id="ffd60-462">Copy hello shared access signature URI.</span></span> <span data-ttu-id="ffd60-463">Se trata de hello URI toopaste en hello Portal de publicación.</span><span class="sxs-lookup"><span data-stu-id="ffd60-463">This is hello URI toopaste into hello Publishing Portal.</span></span>

10. <span data-ttu-id="ffd60-464">Repita estos pasos para cada disco duro virtual en hello SKU.</span><span class="sxs-lookup"><span data-stu-id="ffd60-464">Repeat these steps for each VHD in hello SKU.</span></span>


### <a name="53-provide-information-about-hello-vm-image-and-request-certification-in-hello-publishing-portal"></a><span data-ttu-id="ffd60-465">5.3 proporcionan información acerca de la imagen de máquina virtual de Hola y solicitar la certificación en hello Portal de publicación</span><span class="sxs-lookup"><span data-stu-id="ffd60-465">5.3 Provide information about hello VM image and request certification in hello Publishing Portal</span></span>
<span data-ttu-id="ffd60-466">Una vez haya creado la oferta y SKU, debe especificar detalles de la imagen de hello asociados a esa SKU:</span><span class="sxs-lookup"><span data-stu-id="ffd60-466">After you have created your offer and SKU, you should enter hello image details associated with that SKU:</span></span>

1. <span data-ttu-id="ffd60-467">Vaya toohello [Portal de publicación][link-pubportal]y, a continuación, inicie sesión con tu cuenta de vendedor.</span><span class="sxs-lookup"><span data-stu-id="ffd60-467">Go toohello [Publishing Portal][link-pubportal], and then sign in with your seller account.</span></span>
2. <span data-ttu-id="ffd60-468">Seleccione hello **imágenes de máquina virtual** ficha.</span><span class="sxs-lookup"><span data-stu-id="ffd60-468">Select hello **VM images** tab.</span></span>
3. <span data-ttu-id="ffd60-469">identificador de Hello aparece al principio de Hola de página de hello es realmente identificador de oferta de hello y no el identificador SKU Hola.</span><span class="sxs-lookup"><span data-stu-id="ffd60-469">hello identifier listed at hello top of hello page is actually hello offer identifier and not hello SKU identifier.</span></span>
4. <span data-ttu-id="ffd60-470">Rellene las propiedades de hello en hello **SKU** sección.</span><span class="sxs-lookup"><span data-stu-id="ffd60-470">Fill out hello properties under hello **SKUs** section.</span></span>
5. <span data-ttu-id="ffd60-471">En **familia del sistema operativo**, haga clic en el tipo de sistema operativo de hello asociado Hola VHD del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="ffd60-471">Under **Operating system family**, click hello operating system type associated with hello operating system VHD.</span></span>
6. <span data-ttu-id="ffd60-472">Hola **sistema operativo** cuadro, describa el sistema operativo de Hola.</span><span class="sxs-lookup"><span data-stu-id="ffd60-472">In hello **Operating system** box, describe hello operating system.</span></span> <span data-ttu-id="ffd60-473">Considere un formato como familia de sistemas operativos, tipo, versión y actualizaciones.</span><span class="sxs-lookup"><span data-stu-id="ffd60-473">Consider a format such as operating system family, type, version, and updates.</span></span> <span data-ttu-id="ffd60-474">Por ejemplo, "Windows Server Datacenter 2014 R2".</span><span class="sxs-lookup"><span data-stu-id="ffd60-474">An example is "Windows Server Datacenter 2014 R2."</span></span>
7. <span data-ttu-id="ffd60-475">Seleccione seguridad toosix recomendada tamaños de máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="ffd60-475">Select up toosix recommended virtual machine sizes.</span></span> <span data-ttu-id="ffd60-476">Estas son las recomendaciones que obtener del cliente de toohello mostrada en la hoja de nivel de precios de Hola Hola Portal de Azure al decidir toopurchase e implementar la imagen.</span><span class="sxs-lookup"><span data-stu-id="ffd60-476">These are recommendations that get displayed toohello customer in hello Pricing tier blade in hello Azure Portal when they decide toopurchase and deploy your image.</span></span> <span data-ttu-id="ffd60-477">**Se trata únicamente de recomendaciones. el cliente de Hello es capaz de tooselect cualquier tamaño de máquina virtual que dé cabida a discos de hello especificado en la imagen.**</span><span class="sxs-lookup"><span data-stu-id="ffd60-477">**These are only recommendations. hello customer is able tooselect any VM size that accommodates hello disks specified in your image.**</span></span>
8. <span data-ttu-id="ffd60-478">Escriba la versión de Hola.</span><span class="sxs-lookup"><span data-stu-id="ffd60-478">Enter hello version.</span></span> <span data-ttu-id="ffd60-479">campo de la versión de Hola encapsula una versión semántica tooidentify hello y las actualizaciones:</span><span class="sxs-lookup"><span data-stu-id="ffd60-479">hello version field encapsulates a semantic version tooidentify hello product and its updates:</span></span>
   * <span data-ttu-id="ffd60-480">Versiones deben tener formato de hello X.Y.Z, donde X, Y y Z son números enteros.</span><span class="sxs-lookup"><span data-stu-id="ffd60-480">Versions should be of hello form X.Y.Z, where X, Y, and Z are integers.</span></span>
   * <span data-ttu-id="ffd60-481">Imágenes de SKU diferentes pueden tener distintas versiones principales y secundarias.</span><span class="sxs-lookup"><span data-stu-id="ffd60-481">Images in different SKUs can have different major and minor versions.</span></span>
   * <span data-ttu-id="ffd60-482">Las versiones en una SKU sólo deberían ser los cambios incrementales que aumentar la versión de revisión de hello (Z desde X.Y.Z).</span><span class="sxs-lookup"><span data-stu-id="ffd60-482">Versions within a SKU should only be incremental changes, which increase hello patch version (Z from X.Y.Z).</span></span>
9. <span data-ttu-id="ffd60-483">Hola **dirección URL del VHD OS** cuadro, escriba la firma de acceso compartido de hello URI creado para hello VHD del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="ffd60-483">In hello **OS VHD URL** box, enter hello shared access signature URI created for hello operating system VHD.</span></span>
10. <span data-ttu-id="ffd60-484">Si no hay discos de datos asociados a esta SKU, seleccione hello toowhich del (LUN) número de unidad lógica que desea que este toobe de disco de datos montado durante la implementación.</span><span class="sxs-lookup"><span data-stu-id="ffd60-484">If there are data disks associated with this SKU, select hello logical unit number (LUN) toowhich you would like this data disk toobe mounted upon deployment.</span></span>
11. <span data-ttu-id="ffd60-485">Hola **dirección URL del VHD de LUN X** cuadro, escriba la firma de acceso compartido de hello identificador URI creado para los datos de hello primer disco duro virtual.</span><span class="sxs-lookup"><span data-stu-id="ffd60-485">In hello **LUN X VHD URL** box, enter hello shared access signature URI created for hello first data VHD.</span></span>

    ![dibujo](media/marketplace-publishing-vm-image-creation/vm-image-pubportal-skus-3.png)


## <a name="common-sas-url-issues--fixes"></a><span data-ttu-id="ffd60-487">Problemas y soluciones comunes de la dirección URL de SAS</span><span class="sxs-lookup"><span data-stu-id="ffd60-487">Common SAS URL issues & fixes</span></span>

|<span data-ttu-id="ffd60-488">Problema</span><span class="sxs-lookup"><span data-stu-id="ffd60-488">Issue</span></span>|<span data-ttu-id="ffd60-489">Mensaje de error</span><span class="sxs-lookup"><span data-stu-id="ffd60-489">Failure Message</span></span>|<span data-ttu-id="ffd60-490">Solución</span><span class="sxs-lookup"><span data-stu-id="ffd60-490">Fix</span></span>|<span data-ttu-id="ffd60-491">Vínculo a documentación</span><span class="sxs-lookup"><span data-stu-id="ffd60-491">Documentation Link</span></span>|
|---|---|---|---|
|<span data-ttu-id="ffd60-492">Error al copiar imágenes: "?" no se encuentra en la dirección URL de SAS</span><span class="sxs-lookup"><span data-stu-id="ffd60-492">Failure in copying images - "?" is not found in SAS url</span></span>|<span data-ttu-id="ffd60-493">Error al copiar imágenes</span><span class="sxs-lookup"><span data-stu-id="ffd60-493">Failure: Copying Images.</span></span> <span data-ttu-id="ffd60-494">No se puede toodownload blob mediante proporciona el Uri de SAS.</span><span class="sxs-lookup"><span data-stu-id="ffd60-494">Not able toodownload blob using provided SAS Uri.</span></span>|<span data-ttu-id="ffd60-495">Actualización Hola Url de SAS mediante herramientas recomendadas</span><span class="sxs-lookup"><span data-stu-id="ffd60-495">Update hello SAS Url using recommended tools</span></span>|[<span data-ttu-id="ffd60-496">https://azure.microsoft.com/es-es/documentation/articles/storage-dotnet-shared-access-signature-part-1/</span><span class="sxs-lookup"><span data-stu-id="ffd60-496">https://azure.microsoft.com/en-us/documentation/articles/storage-dotnet-shared-access-signature-part-1/</span></span>](https://azure.microsoft.com/en-us/documentation/articles/storage-dotnet-shared-access-signature-part-1/)|
|<span data-ttu-id="ffd60-497">Error al copiar imágenes: los parámetros "st" y "se" no están en la dirección URL de SAS</span><span class="sxs-lookup"><span data-stu-id="ffd60-497">Failure in copying images - “st” and “se” parameters not in SAS url</span></span>|<span data-ttu-id="ffd60-498">Error al copiar imágenes</span><span class="sxs-lookup"><span data-stu-id="ffd60-498">Failure: Copying Images.</span></span> <span data-ttu-id="ffd60-499">No se puede toodownload blob mediante proporciona el Uri de SAS.</span><span class="sxs-lookup"><span data-stu-id="ffd60-499">Not able toodownload blob using provided SAS Uri.</span></span>|<span data-ttu-id="ffd60-500">Actualizar Hola Url de SAS con fechas de inicio y finalización en él</span><span class="sxs-lookup"><span data-stu-id="ffd60-500">Update hello SAS Url with Start and End dates on it</span></span>|[<span data-ttu-id="ffd60-501">https://azure.microsoft.com/es-es/documentation/articles/storage-dotnet-shared-access-signature-part-1/</span><span class="sxs-lookup"><span data-stu-id="ffd60-501">https://azure.microsoft.com/en-us/documentation/articles/storage-dotnet-shared-access-signature-part-1/</span></span>](https://azure.microsoft.com/en-us/documentation/articles/storage-dotnet-shared-access-signature-part-1/)|
|<span data-ttu-id="ffd60-502">Error al copiar imágenes: "sp=rl" no está en la dirección URL de SAS</span><span class="sxs-lookup"><span data-stu-id="ffd60-502">Failure in copying images - “sp=rl” not in SAS url</span></span>|<span data-ttu-id="ffd60-503">Error al copiar imágenes</span><span class="sxs-lookup"><span data-stu-id="ffd60-503">Failure: Copying Images.</span></span> <span data-ttu-id="ffd60-504">No se puede toodownload blob mediante proporciona el Uri de SAS</span><span class="sxs-lookup"><span data-stu-id="ffd60-504">Not able toodownload blob using provided SAS Uri</span></span>|<span data-ttu-id="ffd60-505">Actualizar Hola Url de SAS con permisos establecidos como "Lectura" y "lista</span><span class="sxs-lookup"><span data-stu-id="ffd60-505">Update hello SAS Url with permissions set as “Read” & “List</span></span>|[<span data-ttu-id="ffd60-506">https://azure.microsoft.com/es-es/documentation/articles/storage-dotnet-shared-access-signature-part-1/</span><span class="sxs-lookup"><span data-stu-id="ffd60-506">https://azure.microsoft.com/en-us/documentation/articles/storage-dotnet-shared-access-signature-part-1/</span></span>](https://azure.microsoft.com/en-us/documentation/articles/storage-dotnet-shared-access-signature-part-1/)|
|<span data-ttu-id="ffd60-507">Error al copiar imágenes: la dirección URL de SAS tiene espacios en blanco en el nombre de disco duro virtual.</span><span class="sxs-lookup"><span data-stu-id="ffd60-507">Failure in copying images - SAS url have white spaces in vhd name</span></span>|<span data-ttu-id="ffd60-508">Error al copiar imágenes</span><span class="sxs-lookup"><span data-stu-id="ffd60-508">Failure: Copying Images.</span></span> <span data-ttu-id="ffd60-509">No se puede toodownload blob mediante proporciona el Uri de SAS.</span><span class="sxs-lookup"><span data-stu-id="ffd60-509">Not able toodownload blob using provided SAS Uri.</span></span>|<span data-ttu-id="ffd60-510">Actualizar Hola Url de SAS, sin espacios en blanco</span><span class="sxs-lookup"><span data-stu-id="ffd60-510">Update hello SAS Url without white spaces</span></span>|[<span data-ttu-id="ffd60-511">https://azure.microsoft.com/es-es/documentation/articles/storage-dotnet-shared-access-signature-part-1/</span><span class="sxs-lookup"><span data-stu-id="ffd60-511">https://azure.microsoft.com/en-us/documentation/articles/storage-dotnet-shared-access-signature-part-1/</span></span>](https://azure.microsoft.com/en-us/documentation/articles/storage-dotnet-shared-access-signature-part-1/)|
|<span data-ttu-id="ffd60-512">Error al copiar imágenes: error de autorización de dirección Url de SAS</span><span class="sxs-lookup"><span data-stu-id="ffd60-512">Failure in copying images – SAS Url Authorization error</span></span>|<span data-ttu-id="ffd60-513">Error al copiar imágenes</span><span class="sxs-lookup"><span data-stu-id="ffd60-513">Failure: Copying Images.</span></span> <span data-ttu-id="ffd60-514">Blob no se puede toodownload debido a error de tooauthorization</span><span class="sxs-lookup"><span data-stu-id="ffd60-514">Not able toodownload blob due tooauthorization error</span></span>|<span data-ttu-id="ffd60-515">Volver a generar Hola Url de SAS</span><span class="sxs-lookup"><span data-stu-id="ffd60-515">Regenerate hello SAS Url</span></span>|[<span data-ttu-id="ffd60-516">https://azure.microsoft.com/es-es/documentation/articles/storage-dotnet-shared-access-signature-part-1/</span><span class="sxs-lookup"><span data-stu-id="ffd60-516">https://azure.microsoft.com/en-us/documentation/articles/storage-dotnet-shared-access-signature-part-1/</span></span>](https://azure.microsoft.com/en-us/documentation/articles/storage-dotnet-shared-access-signature-part-1/)|


## <a name="next-step"></a><span data-ttu-id="ffd60-517">Paso siguiente</span><span class="sxs-lookup"><span data-stu-id="ffd60-517">Next step</span></span>
<span data-ttu-id="ffd60-518">Cuando termine con detalles SKU de hello, puede mover hacia delante toohello [Guía de contenido de marketing de Azure Marketplace][link-pushstaging].</span><span class="sxs-lookup"><span data-stu-id="ffd60-518">After you are done with hello SKU details, you can move forward toohello [Azure Marketplace marketing content guide][link-pushstaging].</span></span> <span data-ttu-id="ffd60-519">En este paso del proceso de publicación de hello, proporcionar Hola marketing contenido, precios y otros antes es necesario obtener información demasiado**paso 3: probar la máquina virtual ofrecen en almacenamiento provisional**, en el que probar varios escenarios de casos de uso antes de implementar Hola oferta toohello Azure Marketplace para la compra y visibilidad pública.</span><span class="sxs-lookup"><span data-stu-id="ffd60-519">In that step of hello publishing process, you provide hello marketing content, pricing, and other information necessary prior too**Step 3: Testing your VM offer in staging**, where you test various use-case scenarios before deploying hello offer toohello Azure Marketplace for public visibility and purchase.</span></span>  

## <a name="see-also"></a><span data-ttu-id="ffd60-520">Otras referencias</span><span class="sxs-lookup"><span data-stu-id="ffd60-520">See also</span></span>
* [<span data-ttu-id="ffd60-521">Introducción: cómo toopublish una toohello de oferta de Azure Marketplace</span><span class="sxs-lookup"><span data-stu-id="ffd60-521">Getting started: How toopublish an offer toohello Azure Marketplace</span></span>](marketplace-publishing-getting-started.md)

[img-acom-1]:media/marketplace-publishing-vm-image-creation/vm-image-acom-datacenter.png
[img-portal-vm-size]:media/marketplace-publishing-vm-image-creation/vm-image-portal-size.png
[img-portal-vm-create]:media/marketplace-publishing-vm-image-creation/vm-image-portal-create-vm.png
[img-portal-vm-location]:media/marketplace-publishing-vm-image-creation/vm-image-portal-location.png
[img-portal-vm-rdp]:media/marketplace-publishing-vm-image-creation/vm-image-portal-rdp.png
[img-azstg-add]:media/marketplace-publishing-vm-image-creation/vm-image-storage-add.png
[img-manage-vm-new]:media/marketplace-publishing-vm-image-creation/vm-image-manage-new.png
[img-manage-vm-select]:media/marketplace-publishing-vm-image-creation/vm-image-manage-select.png
[img-cert-vm-key-lnx]:media/marketplace-publishing-vm-image-creation/vm-image-certification-keyfile-linux.png
[img-cert-vm-pswd-lnx]:media/marketplace-publishing-vm-image-creation/vm-image-certification-password-linux.png
[img-cert-vm-pswd-win]:media/marketplace-publishing-vm-image-creation/vm-image-certification-password-win.png
[img-cert-vm-test-lnx]:media/marketplace-publishing-vm-image-creation/vm-image-certification-test-sample-linux.png
[img-cert-vm-test-win]:media/marketplace-publishing-vm-image-creation/vm-image-certification-test-sample-win.png
[img-cert-vm-results]:media/marketplace-publishing-vm-image-creation/vm-image-certification-results.png
[img-cert-vm-questionnaire]:media/marketplace-publishing-vm-image-creation/vm-image-certification-questionnaire.png
[img-cert-vm-questionnaire-2]:media/marketplace-publishing-vm-image-creation/vm-image-certification-questionnaire-2.png
[img-pubportal-vm-skus]:media/marketplace-publishing-vm-image-creation/vm-image-pubportal-skus.png
[img-pubportal-vm-skus-2]:media/marketplace-publishing-vm-image-creation/vm-image-pubportal-skus-2.png

[link-pushstaging]:marketplace-publishing-push-to-staging.md
[link-github-waagent]:https://github.com/Azure/WALinuxAgent
[link-azure-codeplex]:https://azurestorageexplorer.codeplex.com/
[link-azure-2]:../storage/blobs/storage-dotnet-shared-access-signature-part-2.md
[link-azure-1]:../storage/common/storage-dotnet-shared-access-signature-part-1.md
[link-msft-download]:http://www.microsoft.com/download/details.aspx?id=44299
[link-technet-3]:https://technet.microsoft.com/library/hh846766.aspx
[link-technet-2]:https://msdn.microsoft.com/library/dn495261.aspx
[link-azure-portal]:https://portal.azure.com
[link-pubportal]:https://publish.windowsazure.com
[link-sql-2014-ent]:http://azure.microsoft.com/marketplace/partners/microsoft/sqlserver2014enterprisewindowsserver2012r2/
[link-sql-2014-std]:http://azure.microsoft.com/marketplace/partners/microsoft/sqlserver2014standardwindowsserver2012r2/
[link-sql-2014-web]:http://azure.microsoft.com/marketplace/partners/microsoft/sqlserver2014webwindowsserver2012r2/
[link-sql-2012-ent]:http://azure.microsoft.com/marketplace/partners/microsoft/sqlserver2012sp2enterprisewindowsserver2012/
[link-sql-2012-std]:http://azure.microsoft.com/marketplace/partners/microsoft/sqlserver2012sp2standardwindowsserver2012/
[link-sql-2012-web]:http://azure.microsoft.com/marketplace/partners/microsoft/sqlserver2012sp2webwindowsserver2012/
[link-datactr-2012-r2]:http://azure.microsoft.com/marketplace/partners/microsoft/windowsserver2012r2datacenter/
[link-datactr-2012]:http://azure.microsoft.com/marketplace/partners/microsoft/windowsserver2012datacenter/
[link-datactr-2008-r2]:http://azure.microsoft.com/marketplace/partners/microsoft/windowsserver2008r2sp1/
[link-acct-creation]:marketplace-publishing-accounts-creation-registration.md
[link-technet-1]:https://technet.microsoft.com/library/hh848454.aspx
[link-azure-vm-2]:./virtual-machines-linux-agent-user-guide/
[link-openssl]:https://www.openssl.org/
[link-intsvc]:http://www.microsoft.com/download/details.aspx?id=41554
[link-python]:https://www.python.org/
