---
title: "aaaDesign consideraciones para conjuntos de escalas de máquina Virtual de Azure | Documentos de Microsoft"
description: "Conozca las consideraciones de diseño de los Conjuntos de escalado de máquinas virtuales de Azure"
keywords: "máquina virtual Linux,conjuntos de escalado de máquina virtual"
services: virtual-machine-scale-sets
documentationcenter: 
author: gatneil
manager: madhana
editor: tysonn
tags: azure-resource-manager
ms.assetid: c27c6a59-a0ab-4117-a01b-42b049464ca1
ms.service: virtual-machine-scale-sets
ms.workload: na
ms.tgt_pltfrm: vm-linux
ms.devlang: na
ms.topic: article
ms.date: 06/01/2017
ms.author: negat
ms.openlocfilehash: f8644d36fe5903bd4b74df26dca5dc3211ee3516
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="design-considerations-for-scale-sets"></a><span data-ttu-id="c1333-104">Consideraciones de diseño para conjuntos de escalado</span><span class="sxs-lookup"><span data-stu-id="c1333-104">Design Considerations For Scale Sets</span></span>
<span data-ttu-id="c1333-105">Este tema analiza consideraciones de diseño para conjuntos de escalado de máquinas virtuales.</span><span class="sxs-lookup"><span data-stu-id="c1333-105">This topic discusses design considerations for Virtual Machine Scale Sets.</span></span> <span data-ttu-id="c1333-106">Para obtener información acerca de qué son los conjuntos de escalas de máquina Virtual, consulte demasiado[información general de conjuntos de escala de máquina Virtual](virtual-machine-scale-sets-overview.md).</span><span class="sxs-lookup"><span data-stu-id="c1333-106">For information about what Virtual Machine Scale Sets are, refer too[Virtual Machine Scale Sets Overview](virtual-machine-scale-sets-overview.md).</span></span>

## <a name="when-toouse-scale-sets-instead-of-virtual-machines"></a><span data-ttu-id="c1333-107">¿Cuando se establece toouse escala en lugar de máquinas virtuales?</span><span class="sxs-lookup"><span data-stu-id="c1333-107">When toouse scale sets instead of virtual machines?</span></span>
<span data-ttu-id="c1333-108">Por lo general, los conjuntos de escala son útiles para implementar infraestructura altamente disponible donde un conjunto de máquinas tiene una configuración similar.</span><span class="sxs-lookup"><span data-stu-id="c1333-108">Generally, scale sets are useful for deploying highly available infrastructure where a set of machines have similar configuration.</span></span> <span data-ttu-id="c1333-109">Sin embargo, algunas características solo están disponibles en los conjuntos de escalado, mientras que otras características solo están disponibles en las máquinas virtuales.</span><span class="sxs-lookup"><span data-stu-id="c1333-109">However, some features are only available in scale sets while other features are only available in VMs.</span></span> <span data-ttu-id="c1333-110">En Ordenar toomake una decisión informada acerca de cuándo toouse cada tecnología, primero se deberíamos Eche un vistazo a algunas de las características de hello frecuente que están disponibles en conjuntos de escalas pero no las máquinas virtuales:</span><span class="sxs-lookup"><span data-stu-id="c1333-110">In order toomake an informed decision about when toouse each technology, we should first take a look at some of hello commonly used features that are available in scale sets but not VMs:</span></span>

### <a name="scale-set-specific-features"></a><span data-ttu-id="c1333-111">Características específicas de los conjuntos de escalado</span><span class="sxs-lookup"><span data-stu-id="c1333-111">Scale set-specific features</span></span>

- <span data-ttu-id="c1333-112">Una vez que se especifica la configuración de conjunto de escala de hello, simplemente puede actualizar Hola "capacidad" propiedad toodeploy más máquinas virtuales en paralelo.</span><span class="sxs-lookup"><span data-stu-id="c1333-112">Once you specify hello scale set configuration, you can simply update hello "capacity" property toodeploy more VMs in parallel.</span></span> <span data-ttu-id="c1333-113">Esto es mucho más fácil que escribir un tooorchestrate script implementar muchas máquinas virtuales individuales en paralelo.</span><span class="sxs-lookup"><span data-stu-id="c1333-113">This is much simpler than writing a script tooorchestrate deploying many individual VMs in parallel.</span></span>
- <span data-ttu-id="c1333-114">También puede [use tooautomatically de escalado automático de Azure escalar un conjunto de escala](./virtual-machine-scale-sets-autoscale-overview.md) pero no individuales máquinas virtuales.</span><span class="sxs-lookup"><span data-stu-id="c1333-114">You can [use Azure Autoscale tooautomatically scale a scale set](./virtual-machine-scale-sets-autoscale-overview.md) but not individual VMs.</span></span>
- <span data-ttu-id="c1333-115">Puede [restablecer la imagen inicial de máquinas virtuales del conjunto de escalado](https://docs.microsoft.com/rest/api/virtualmachinescalesets/manage-a-vm), pero [no las máquinas virtuales individuales](https://docs.microsoft.com/rest/api/compute/virtualmachines).</span><span class="sxs-lookup"><span data-stu-id="c1333-115">You can [reimage scale set VMs](https://docs.microsoft.com/rest/api/virtualmachinescalesets/manage-a-vm) but [not individual VMs](https://docs.microsoft.com/rest/api/compute/virtualmachines).</span></span>
- <span data-ttu-id="c1333-116">También puede [sobreaprovisionar](./virtual-machine-scale-sets-design-overview.md) máquinas virtuales del conjunto de escalado para lograr una mejor confiabilidad y tiempos de implementación más rápidos.</span><span class="sxs-lookup"><span data-stu-id="c1333-116">You can [overprovision](./virtual-machine-scale-sets-design-overview.md) scale set VMs for increased reliability and quicker deployment times.</span></span> <span data-ttu-id="c1333-117">No se puede hacer esto con máquinas virtuales individuales a menos que escriba código personalizado toodo esto.</span><span class="sxs-lookup"><span data-stu-id="c1333-117">You cannot do this with individual VMs unless you write custom code toodo this.</span></span>
- <span data-ttu-id="c1333-118">Puede especificar un [actualizar directiva](./virtual-machine-scale-sets-upgrade-scale-set.md) toomake lo fácil tooroll espera las actualizaciones a través de las máquinas virtuales en el conjunto de escala.</span><span class="sxs-lookup"><span data-stu-id="c1333-118">You can specify an [upgrade policy](./virtual-machine-scale-sets-upgrade-scale-set.md) toomake it easy tooroll out upgrades across VMs in your scale set.</span></span> <span data-ttu-id="c1333-119">Con las máquinas virtuales individuales, debe organizar usted mismo las actualizaciones.</span><span class="sxs-lookup"><span data-stu-id="c1333-119">With individual VMs, you must orchestrate updates yourself.</span></span>

### <a name="vm-specific-features"></a><span data-ttu-id="c1333-120">Características específicas de máquinas virtuales</span><span class="sxs-lookup"><span data-stu-id="c1333-120">VM-specific features</span></span>

<span data-ttu-id="c1333-121">En Hola otra parte, algunas características solo están disponibles en las máquinas virtuales (al menos por hello momento):</span><span class="sxs-lookup"><span data-stu-id="c1333-121">On hello other hand, some features are only available in VMs (at least for hello time being):</span></span>

- <span data-ttu-id="c1333-122">Puede adjuntar datos discos toospecific máquinas virtuales individuales, pero los discos de datos adjuntos están configurados para todas las máquinas virtuales en un conjunto de escala.</span><span class="sxs-lookup"><span data-stu-id="c1333-122">You can attach data disks toospecific individual VMs, but attached data disks are configured for all VMs in a scale set.</span></span>
- <span data-ttu-id="c1333-123">Puede adjuntar datos vacíos no son discos tooindividual máquinas virtuales pero no las máquinas virtuales en un conjunto de escala.</span><span class="sxs-lookup"><span data-stu-id="c1333-123">You can attach non-empty data disks tooindividual VMs but not VMs in a scale set.</span></span>
- <span data-ttu-id="c1333-124">Puede crear una instantánea de una máquina virtual individual, pero no una máquina virtual en un conjunto de escalado.</span><span class="sxs-lookup"><span data-stu-id="c1333-124">You can snapshot an individual VM but not a VM in a scale set.</span></span>
- <span data-ttu-id="c1333-125">Puede capturar una imagen desde una máquina virtual individual, pero no desde una máquina virtual en un conjunto de escalado.</span><span class="sxs-lookup"><span data-stu-id="c1333-125">You can capture an image from an individual VM but not from a VM in a scale set.</span></span>
- <span data-ttu-id="c1333-126">Puede migrar una máquina virtual individual de los discos de toomanaged discos nativos, pero no se puede hacer esto para las máquinas virtuales en un conjunto de escala.</span><span class="sxs-lookup"><span data-stu-id="c1333-126">You can migrate an individual VM from native disks toomanaged disks, but you cannot do this for VMs in a scale set.</span></span>
- <span data-ttu-id="c1333-127">Puede asignar direcciones IP públicas de IPv6 tooindividual VM nics pero no puede hacerlo para las máquinas virtuales en un conjunto de escala.</span><span class="sxs-lookup"><span data-stu-id="c1333-127">You can assign IPv6 public IP addresses tooindividual VM nics but cannot do so for VMs in a scale set.</span></span> <span data-ttu-id="c1333-128">Tenga en cuenta que puede asignar direcciones IP públicas de IPv6 equilibradores tooload delante de cualquier máquinas virtuales individuales o conjunto de escalado de máquinas virtuales.</span><span class="sxs-lookup"><span data-stu-id="c1333-128">Note that you can assign IPv6 public IP addresses tooload balancers in front of either individual VMs or scale set VMs.</span></span>

## <a name="storage"></a><span data-ttu-id="c1333-129">Storage</span><span class="sxs-lookup"><span data-stu-id="c1333-129">Storage</span></span>

### <a name="scale-sets-with-azure-managed-disks"></a><span data-ttu-id="c1333-130">Conjuntos de escalado con Azure Managed Disks</span><span class="sxs-lookup"><span data-stu-id="c1333-130">Scale sets with Azure Managed Disks</span></span>
<span data-ttu-id="c1333-131">Los conjuntos de escalado se pueden crear con [Azure Managed Disks](../virtual-machines/windows/managed-disks-overview.md) en lugar de las cuentas de Azure Storage tradicionales.</span><span class="sxs-lookup"><span data-stu-id="c1333-131">Scale sets can be created with [Azure Managed Disks](../virtual-machines/windows/managed-disks-overview.md) instead of traditional Azure storage accounts.</span></span> <span data-ttu-id="c1333-132">Discos administrados proporcionan Hola siguientes ventajas:</span><span class="sxs-lookup"><span data-stu-id="c1333-132">Managed Disks provide hello following benefits:</span></span>
- <span data-ttu-id="c1333-133">No es necesario toopre-crear un conjunto de cuentas de almacenamiento de Azure para las máquinas virtuales del conjunto de escala de Hola.</span><span class="sxs-lookup"><span data-stu-id="c1333-133">You do not have toopre-create a set of Azure storage accounts for hello scale set VMs.</span></span>
- <span data-ttu-id="c1333-134">Puede definir [discos de datos conectados](virtual-machine-scale-sets-attached-disks.md) para hello las máquinas virtuales en la escala de conjunto.</span><span class="sxs-lookup"><span data-stu-id="c1333-134">You can define [attached data disks](virtual-machine-scale-sets-attached-disks.md) for hello VMs in your scale set.</span></span>
- <span data-ttu-id="c1333-135">Se pueden configurar conjuntos de escalas de demasiado[admiten hasta too1, 000 máquinas virtuales en un conjunto](virtual-machine-scale-sets-placement-groups.md).</span><span class="sxs-lookup"><span data-stu-id="c1333-135">Scale sets can be configured too[support up too1,000 VMs in a set](virtual-machine-scale-sets-placement-groups.md).</span></span> 

<span data-ttu-id="c1333-136">Si tiene una plantilla existente, también puede [actualizar Hola plantilla toouse administrado discos](virtual-machine-scale-sets-convert-template-to-md.md).</span><span class="sxs-lookup"><span data-stu-id="c1333-136">If you have an existing template, you can also [update hello template toouse Managed Disks](virtual-machine-scale-sets-convert-template-to-md.md).</span></span>

### <a name="user-managed-storage"></a><span data-ttu-id="c1333-137">Almacenamiento administrado por el usuario</span><span class="sxs-lookup"><span data-stu-id="c1333-137">User-managed Storage</span></span>
<span data-ttu-id="c1333-138">Un conjunto de escala que no se define con discos de Azure administrados se basa en discos de sistemas operativos de almacenamiento creados por el usuario cuentas toostore Hola de máquinas virtuales de hello en el conjunto de Hola.</span><span class="sxs-lookup"><span data-stu-id="c1333-138">A scale set that is not defined with Azure Managed Disks relies on user-created storage accounts toostore hello OS disks of hello VMs in hello set.</span></span> <span data-ttu-id="c1333-139">Se recomienda una proporción de 20 máquinas virtuales por cuenta de almacenamiento o incluso menos E/S máxima tooachieve y también aprovechar las ventajas de _en exceso_ (ver abajo).</span><span class="sxs-lookup"><span data-stu-id="c1333-139">A ratio of 20 VMs per storage account or less is recommended tooachieve maximum IO and also take advantage of _overprovisioning_ (see below).</span></span> <span data-ttu-id="c1333-140">También se recomienda que distribuir caracteres iniciales de Hola de nombres de cuenta de almacenamiento de hello en alfabeto Hola.</span><span class="sxs-lookup"><span data-stu-id="c1333-140">It is also recommended that you spread hello beginning characters of hello storage account names across hello alphabet.</span></span> <span data-ttu-id="c1333-141">Esto ayuda a distribuir la carga en diferentes sistemas internos.</span><span class="sxs-lookup"><span data-stu-id="c1333-141">Doing so helps spread load across different internal systems.</span></span> 


## <a name="overprovisioning"></a><span data-ttu-id="c1333-142">Aprovisionamiento en exceso</span><span class="sxs-lookup"><span data-stu-id="c1333-142">Overprovisioning</span></span>
<span data-ttu-id="c1333-143">Conjuntos de escala actualmente demasiado "exceso" VM de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="c1333-143">Scale sets currently default too"overprovisioning" VMs.</span></span> <span data-ttu-id="c1333-144">Con exceso activado, escala de hello establezca realmente gira más las máquinas virtuales que se solicitaron los usuarios y luego elimina Hola máquinas virtuales adicionales una vez Hola solicita el número de máquinas virtuales se aprovisionan correctamente.</span><span class="sxs-lookup"><span data-stu-id="c1333-144">With overprovisioning turned on, hello scale set actually spins up more VMs than you asked for, then deletes hello extra VMs once hello requested number of VMs are successfully provisioned.</span></span> <span data-ttu-id="c1333-145">El aprovisionamiento en exceso mejora las tasas de éxito y disminuye el tiempo de implementación.</span><span class="sxs-lookup"><span data-stu-id="c1333-145">Overprovisioning improves provisioning success rates and reduces deployment time.</span></span> <span data-ttu-id="c1333-146">No se le facturará de hello máquinas virtuales adicionales y no cuentan para los límites de cuota.</span><span class="sxs-lookup"><span data-stu-id="c1333-146">You are not billed for hello extra VMs, and they do not count toward your quota limits.</span></span>

<span data-ttu-id="c1333-147">Si bien en exceso mejoran el aprovisionamiento de las tasas de éxito, puede ser confusos para una aplicación que está diseñada no toohandle máquinas virtuales adicionales que aparecen y, a continuación, desaparecen.</span><span class="sxs-lookup"><span data-stu-id="c1333-147">While overprovisioning does improve provisioning success rates, it can cause confusing behavior for an application that is not designed toohandle extra VMs appearing and then disappearing.</span></span> <span data-ttu-id="c1333-148">tooturn en exceso, asegúrese de tener Hola después de la cadena en la plantilla de: `"overprovision": "false"`.</span><span class="sxs-lookup"><span data-stu-id="c1333-148">tooturn overprovisioning off, ensure you have hello following string in your template: `"overprovision": "false"`.</span></span> <span data-ttu-id="c1333-149">Pueden encontrar más detalles en hello [documentación de API de REST establecer escala](/rest/api/virtualmachinescalesets/create-or-update-a-set).</span><span class="sxs-lookup"><span data-stu-id="c1333-149">More details can be found in hello [Scale Set REST API documentation](/rest/api/virtualmachinescalesets/create-or-update-a-set).</span></span>

<span data-ttu-id="c1333-150">Si el conjunto de escala usa almacenamiento administradas por el usuario y desactivar en exceso, puede tener más de 20 máquinas virtuales por cuenta de almacenamiento, pero no se recomienda toogo por encima de 40 por motivos de rendimiento de E/S.</span><span class="sxs-lookup"><span data-stu-id="c1333-150">If your scale set uses user-managed storage, and you turn off overprovisioning, you can have more than 20 VMs per storage account, but it is not recommended toogo above 40 for IO performance reasons.</span></span> 

## <a name="limits"></a><span data-ttu-id="c1333-151">límites</span><span class="sxs-lookup"><span data-stu-id="c1333-151">Limits</span></span>
<span data-ttu-id="c1333-152">Un conjunto de escala había basada en una imagen de Marketplace (también conocido como una imagen de plataforma) y configura toouse discos administrados de Azure es compatible con una capacidad de seguridad too1, 000 máquinas virtuales.</span><span class="sxs-lookup"><span data-stu-id="c1333-152">A scale set built on a Marketplace image (also known as a platform image) and configured toouse Azure Managed Disks supports a capacity of up too1,000 VMs.</span></span> <span data-ttu-id="c1333-153">Si configura su toosupport de conjunto de escalado más de 100 máquinas virtuales, no todos los trabajos de escenarios Hola mismo (por ejemplo el equilibrio de carga).</span><span class="sxs-lookup"><span data-stu-id="c1333-153">If you configure your scale set toosupport more than 100 VMs, not all scenarios work hello same (for example load balancing).</span></span> <span data-ttu-id="c1333-154">Para más información, consulte [Uso de grandes conjuntos de escalado de máquinas virtuales](virtual-machine-scale-sets-placement-groups.md).</span><span class="sxs-lookup"><span data-stu-id="c1333-154">For more information, see [Working with large virtual machine scale sets](virtual-machine-scale-sets-placement-groups.md).</span></span> 

<span data-ttu-id="c1333-155">Una escala configurada con cuentas de almacenamiento administradas por el usuario está actualmente limitado too100 las máquinas virtuales (y 5 cuentas de almacenamiento se recomiendan para esta escala).</span><span class="sxs-lookup"><span data-stu-id="c1333-155">A scale set configured with user-managed storage accounts is currently limited too100 VMs (and 5 storage accounts are recommended for this scale).</span></span>

<span data-ttu-id="c1333-156">Un conjunto de escala que se basa en una imagen personalizada (una creada por el usuario) puede tener una capacidad de too100 las máquinas virtuales cuando se configura con discos administrados de Azure.</span><span class="sxs-lookup"><span data-stu-id="c1333-156">A scale set built on a custom image (one built by you) can have a capacity of up too100 VMs when configured with Azure Managed disks.</span></span> <span data-ttu-id="c1333-157">Si el conjunto de escalas de hello está configurado con cuentas de almacenamiento administradas por el usuario, debe crear todos los VHD de disco de sistema operativo dentro de una cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="c1333-157">If hello scale set is configured with user-managed storage accounts, it must create all OS disk VHDs within one storage account.</span></span> <span data-ttu-id="c1333-158">Como resultado, Hola máxima recomendada para el número de máquinas virtuales en un conjunto de escala que se basa en una imagen personalizada y almacenamiento administradas por el usuario es 20.</span><span class="sxs-lookup"><span data-stu-id="c1333-158">As a result, hello maximum recommended number of VMs in a scale set built on a custom image and user-managed storage is 20.</span></span> <span data-ttu-id="c1333-159">Si desactiva el exceso, puede subir too40.</span><span class="sxs-lookup"><span data-stu-id="c1333-159">If you turn off overprovisioning, you can go up too40.</span></span>

<span data-ttu-id="c1333-160">Para más máquinas virtuales de permitir que estos límites, necesita toodeploy varios escala se establece como se muestra en [esta plantilla](https://github.com/Azure/azure-quickstart-templates/tree/master/301-custom-images-at-scale).</span><span class="sxs-lookup"><span data-stu-id="c1333-160">For more VMs than these limits allow, you need toodeploy multiple scale sets as shown in [this template](https://github.com/Azure/azure-quickstart-templates/tree/master/301-custom-images-at-scale).</span></span>

