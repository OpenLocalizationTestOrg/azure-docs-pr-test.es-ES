---
title: Publicar un servicio en la nube mediante Azure Tools | Microsoft Docs
description: "Obtenga información sobre cómo publicar proyectos de servicios en la nube de Azure mediante Visual Studio."
services: visual-studio-online
documentationcenter: na
author: kraigb
manager: ghogen
editor: 
ms.assetid: 1a07b6e4-3678-4cbf-b37e-4520b402a3d9
ms.service: multiple
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: multiple
ms.date: 8/14/2017
ms.author: kraigb
ms.openlocfilehash: e617d600dbc8287eea737fc4969833e873365288
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/29/2017
---
# <a name="publishing-a-cloud-service-using-the-azure-tools"></a><span data-ttu-id="889d0-103">Publicar un servicio en la nube mediante Azure Tools</span><span class="sxs-lookup"><span data-stu-id="889d0-103">Publishing a Cloud Service using the Azure Tools</span></span>
<span data-ttu-id="889d0-104">Con Azure Tools para Microsoft Visual Studio, puede publicar su aplicación de Azure directamente desde Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="889d0-104">By using the Azure Tools for Microsoft Visual Studio, you can publish your Azure application directly from Visual Studio.</span></span> <span data-ttu-id="889d0-105">Visual Studio admite la publicación integrada en los entornos de ensayo o de producción de un servicio en la nube.</span><span class="sxs-lookup"><span data-stu-id="889d0-105">Visual Studio supports integrated publishing to either the Staging or the Production environment of a cloud service.</span></span>

<span data-ttu-id="889d0-106">Para poder publicar una aplicación de Azure, debe tener una suscripción de Azure.</span><span class="sxs-lookup"><span data-stu-id="889d0-106">Before you can publish an Azure application, you must have an Azure subscription.</span></span> <span data-ttu-id="889d0-107">También debe configurar un servicio en la nube y una cuenta de almacenamiento para que la use la aplicación.</span><span class="sxs-lookup"><span data-stu-id="889d0-107">You must also set up a cloud service and storage account to be used by your application.</span></span> <span data-ttu-id="889d0-108">Puede establecerlos en el [Portal de Azure clásico](http://go.microsoft.com/fwlink/?LinkID=213885).</span><span class="sxs-lookup"><span data-stu-id="889d0-108">You can set these up at the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="889d0-109">Al publicar, puede seleccionar el entorno de implementación de su servicio en la nube.</span><span class="sxs-lookup"><span data-stu-id="889d0-109">When you publish, you can select the deployment environment for your cloud service.</span></span> <span data-ttu-id="889d0-110">También debe seleccionar una cuenta de almacenamiento que se usará para almacenar el paquete de aplicación para la implementación.</span><span class="sxs-lookup"><span data-stu-id="889d0-110">You must also select a storage account that is used to store the application package for deployment.</span></span> <span data-ttu-id="889d0-111">Después de la implementación, el paquete de aplicación se quita de la cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="889d0-111">After deployment, the application package is removed from the storage account.</span></span>
> 
> 

<span data-ttu-id="889d0-112">Cuando desarrolla y prueba una aplicación de Azure, puede usar Web Deploy para publicar los cambios de sus roles web incrementalmente.</span><span class="sxs-lookup"><span data-stu-id="889d0-112">When you are developing and testing an Azure application, you can use Web Deploy to publish changes incrementally for your web roles.</span></span> <span data-ttu-id="889d0-113">Después de publicar su aplicación en un entorno de implementación, Web Deploy le permite implementar los cambios directamente en la máquina virtual que está ejecutando el rol web.</span><span class="sxs-lookup"><span data-stu-id="889d0-113">After you publish your application to a deployment environment, Web Deploy lets you deploy changes directly to the virtual machine that is running the web role.</span></span> <span data-ttu-id="889d0-114">No tiene que empaquetar y publicar toda la aplicación de Azure cada vez que desee actualizar su rol web para probar los cambios.</span><span class="sxs-lookup"><span data-stu-id="889d0-114">You do not have to package and publish your entire Azure application each time you want to update your web role to test out the changes.</span></span> <span data-ttu-id="889d0-115">Con este enfoque puede tener los cambios del rol web disponibles en la nube para pruebas sin tener que esperar a publicar la aplicación en un entorno de implementación.</span><span class="sxs-lookup"><span data-stu-id="889d0-115">With this approach you can have your web role changes available in the cloud for testing without waiting to have your application published to a deployment environment.</span></span>

<span data-ttu-id="889d0-116">Use los siguientes procedimientos para publicar su aplicación de Azure y para actualizar un rol web mediante el uso Web Deploy:</span><span class="sxs-lookup"><span data-stu-id="889d0-116">Use the following procedures to publish your Azure application and to update a web role by using Web Deploy:</span></span>

* <span data-ttu-id="889d0-117">Publicar o empaquetar una aplicación de Azure desde Visual Studio</span><span class="sxs-lookup"><span data-stu-id="889d0-117">Publish or Package an Azure application from Visual Studio</span></span>
* <span data-ttu-id="889d0-118">Actualizar un rol web como parte del ciclo de desarrollo y pruebas</span><span class="sxs-lookup"><span data-stu-id="889d0-118">Update a web role as part of the development and testing cycle</span></span>

## <a name="publish-or-package-an-azure-application-from-visual-studio"></a><span data-ttu-id="889d0-119">Publicar o empaquetar una aplicación de Azure desde Visual Studio</span><span class="sxs-lookup"><span data-stu-id="889d0-119">Publish or Package an Azure Application from Visual Studio</span></span>
<span data-ttu-id="889d0-120">Cuando publica su aplicación de Azure, puede realizar una de las siguientes tareas:</span><span class="sxs-lookup"><span data-stu-id="889d0-120">When you publish your Azure application, you can do one of the following tasks:</span></span>

* <span data-ttu-id="889d0-121">Crear un paquete de servicio: puede usar este paquete y el archivo de configuración del servicio para publicar su aplicación en un entorno de implementación desde el [Portal de Azure clásico](http://go.microsoft.com/fwlink/?LinkID=213885).</span><span class="sxs-lookup"><span data-stu-id="889d0-121">Create a service package: You can use this package and the service configuration file to publish your application to a deployment environment from the [Azure Classic Portal](http://go.microsoft.com/fwlink/?LinkID=213885).</span></span>
* <span data-ttu-id="889d0-122">Publicar el proyecto de Azure de Visual Studio: para publicar la aplicación directamente en Azure, use el Asistente para publicación.</span><span class="sxs-lookup"><span data-stu-id="889d0-122">Publish your Azure project from Visual Studio: To publish your application directly to Azure, you use the Publish Wizard.</span></span> <span data-ttu-id="889d0-123">Para obtener información, consulte [Asistente Publicar aplicación de Azure](vs-azure-tools-publish-azure-application-wizard.md)</span><span class="sxs-lookup"><span data-stu-id="889d0-123">For information, see [Publish Azure Application Wizard](vs-azure-tools-publish-azure-application-wizard.md).</span></span>

### <a name="to-create-a-service-package-from-visual-studio"></a><span data-ttu-id="889d0-124">Para crear un paquete de servicios de Visual Studio</span><span class="sxs-lookup"><span data-stu-id="889d0-124">To create a service package from Visual Studio</span></span>
1. <span data-ttu-id="889d0-125">Cuando esté preparado para publicar su aplicación, abra el Explorador de soluciones, abra menú contextual del proyecto de Azure que contiene sus roles y elija Publicar.</span><span class="sxs-lookup"><span data-stu-id="889d0-125">When you are ready to publish your application, open Solution Explorer, open the shortcut menu for the Azure project that contains your roles, and choose Publish.</span></span>
2. <span data-ttu-id="889d0-126">Para crear solo un paquete de servicios, siga estos pasos:</span><span class="sxs-lookup"><span data-stu-id="889d0-126">To create a service package only, follow these steps:</span></span>  
   
   1. <span data-ttu-id="889d0-127">En el menú contextual del proyecto de Azure, elija **Empaquetar**.</span><span class="sxs-lookup"><span data-stu-id="889d0-127">On the shortcut menu for the Azure project, choose **Package**.</span></span>
   2. <span data-ttu-id="889d0-128">En el cuadro de diálogo **Empaquetar aplicación de Azure** , elija la configuración del servicio para el que desea crear un paquete y, después, elija la configuración de compilación.</span><span class="sxs-lookup"><span data-stu-id="889d0-128">In the **Package Azure Application** dialog box, choose the service configuration for which you want to create a package, and then choose the build configuration.</span></span>
   3. <span data-ttu-id="889d0-129">(opcional) Para activar el Escritorio remoto para el servicio en la nube después de haberlo publicado, active la casilla **Habilitar Escritorio remoto para todos los roles** y luego haga clic en **Configuración** para configurar el Escritorio remoto.</span><span class="sxs-lookup"><span data-stu-id="889d0-129">(optional) To turn on Remote Desktop for the cloud service after you publish it, select the **Enable Remote Desktop for all Roles** check box, and then select **Settings** to configure Remote Desktop.</span></span> <span data-ttu-id="889d0-130">Si quiere depurar el servicio en la nube después de publicarlo, seleccione **Habilitar Depurador remoto para todos los roles**para activar la depuración remota.</span><span class="sxs-lookup"><span data-stu-id="889d0-130">If you want to debug your cloud service after you publish it, turn on remote debugging by selecting **Enable Remote Debugger for all Roles**.</span></span>
      
      <span data-ttu-id="889d0-131">Para más información, consulte [Usar Escritorio remoto con los roles de Azure](vs-azure-tools-remote-desktop-roles.md).</span><span class="sxs-lookup"><span data-stu-id="889d0-131">For more information, see [Using Remote Desktop with Azure Roles](vs-azure-tools-remote-desktop-roles.md).</span></span>
   4. <span data-ttu-id="889d0-132">Para crear el paquete, elija el vínculo **Paquete** .</span><span class="sxs-lookup"><span data-stu-id="889d0-132">To create the package, choose the **Package** link.</span></span>
      
      <span data-ttu-id="889d0-133">El Explorador de archivos muestra la ubicación del archivo del paquete recién creado.</span><span class="sxs-lookup"><span data-stu-id="889d0-133">File Explorer shows the file location of the newly created package.</span></span> <span data-ttu-id="889d0-134">Copie esta ubicación para que se pueda usar desde el [Portal de Azure clásico](http://go.microsoft.com/fwlink/?LinkID=213885).</span><span class="sxs-lookup"><span data-stu-id="889d0-134">You can copy this location so that you can use it from the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885).</span></span>
   5. <span data-ttu-id="889d0-135">Para publicar este paquete en un entorno de implementación, tiene que usar esta ubicación como la ubicación del paquete cuando cree un servicio en la nube e implementar este paquete en un entorno con el [Portal de Azure clásico](http://go.microsoft.com/fwlink/?LinkID=213885).</span><span class="sxs-lookup"><span data-stu-id="889d0-135">To publish this package to a deployment environment, you must use this location as the Package location when you create a cloud service and deploy this package to an environment with the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885).</span></span>
3. <span data-ttu-id="889d0-136">(Opcional) Para cancelar el proceso de implementación, en el menú contextual del elemento de línea del registro de actividad seleccione **Cancelar y quitar**.</span><span class="sxs-lookup"><span data-stu-id="889d0-136">(Optional) To cancel the deployment process, on the shortcut menu for the line item in the activity log, choose **Cancel and remove**.</span></span> <span data-ttu-id="889d0-137">Esto detiene el proceso de implementación y elimina el entorno de implementación de Azure.</span><span class="sxs-lookup"><span data-stu-id="889d0-137">This stops the deployment process and deletes the deployment environment from Azure.</span></span>
   
   > [!NOTE]
   > <span data-ttu-id="889d0-138">Para quitar este entorno de implementación una vez implementado, debe usar el [Portal de Azure clásico](http://go.microsoft.com/fwlink/?LinkID=213885).</span><span class="sxs-lookup"><span data-stu-id="889d0-138">To remove this deployment environment after it has been deployed, you must use the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885).</span></span>
   > 
   > 
4. <span data-ttu-id="889d0-139">(Opcional) Después de iniciarse las instancias del rol, Visual Studio muestra automáticamente el entorno de implementación en el nodo **Cloud Services** en el Explorador de servidores.</span><span class="sxs-lookup"><span data-stu-id="889d0-139">(Optional) After your role instances have started, Visual Studio automatically shows the deployment environment in the **Cloud Services** node in Server Explorer.</span></span> <span data-ttu-id="889d0-140">Desde aquí puede ver el estado de las instancias de rol individuales.</span><span class="sxs-lookup"><span data-stu-id="889d0-140">From here, you can see the status of the individual role instances.</span></span> <span data-ttu-id="889d0-141">Consulte [Administración de recursos de Azure con Cloud Explorer](vs-azure-tools-resources-managing-with-cloud-explorer.md). La siguiente ilustración muestra las instancias del rol mientras todavía están en el estado Inicializando:</span><span class="sxs-lookup"><span data-stu-id="889d0-141">See [Managing Azure resources with Cloud Explorer](vs-azure-tools-resources-managing-with-cloud-explorer.md).The following illustration shows the role instances while they are still in the Initializing state:</span></span>
   
    ![VST_DeployComputeNode](./media/vs-azure-tools-publishing-a-cloud-service/IC744134.png)

## <a name="update-a-web-role-as-part-of-the-development-and-testing-cycle"></a><span data-ttu-id="889d0-143">Actualizar un rol web como parte del ciclo de desarrollo y pruebas</span><span class="sxs-lookup"><span data-stu-id="889d0-143">Update a Web Role as Part of the Development and Testing Cycle</span></span>
<span data-ttu-id="889d0-144">Si la infraestructura back-end de su aplicación es estable, pero los roles web necesitan actualizaciones más frecuentes, puede usar Web Deploy para actualizar solo un rol web en su proyecto.</span><span class="sxs-lookup"><span data-stu-id="889d0-144">If your app’s backend infrastructure is stable, but the web roles need more frequent updating, you can use Web Deploy to update only a web role in your project.</span></span> <span data-ttu-id="889d0-145">Esto resulta práctico cuando no quiere volver a generar y a implementar los roles de trabajo del back-end, o si tiene varios roles web y quiere actualizar solo uno de ellos.</span><span class="sxs-lookup"><span data-stu-id="889d0-145">This is handy when you don’t want to rebuild and redeploy the backend worker roles, or if you have multiple web roles and you want to update only one of the web roles.</span></span>

### <a name="requirements"></a><span data-ttu-id="889d0-146">Requisitos</span><span class="sxs-lookup"><span data-stu-id="889d0-146">Requirements</span></span>
<span data-ttu-id="889d0-147">Estos son los requisitos para usar Web Deploy para actualizar su rol web:</span><span class="sxs-lookup"><span data-stu-id="889d0-147">Here are the requirements to use Web Deploy to update your web role:</span></span>

* <span data-ttu-id="889d0-148">**Solo con fines de desarrollo y prueba** : los cambios se realizan directamente en la máquina virtual en la que el rol web se está ejecutando.</span><span class="sxs-lookup"><span data-stu-id="889d0-148">**For development and testing purposes only:** The changes are made directly to the virtual machine where the web role is running.</span></span> <span data-ttu-id="889d0-149">Si esta máquina virtual tiene que ser reciclada, se pierden los cambios porque el paquete original que publicó se usa para volver a crear la máquina virtual del rol.</span><span class="sxs-lookup"><span data-stu-id="889d0-149">If this virtual machine has to be recycled, the changes are lost because the original package that you published is used to recreate the virtual machine for the role.</span></span> <span data-ttu-id="889d0-150">Debe volver a publicar la aplicación para obtener los últimos cambios del rol web.</span><span class="sxs-lookup"><span data-stu-id="889d0-150">You must republish your application to get the latest changes for the web role.</span></span>
* <span data-ttu-id="889d0-151">**Solo se pueden actualizar los roles web** : los roles de trabajo no se pueden actualizar.</span><span class="sxs-lookup"><span data-stu-id="889d0-151">**Only web roles can be updated:** Worker roles can’t be updated.</span></span> <span data-ttu-id="889d0-152">Además, no puede actualizar RoleEntryPoint en web role.cs.</span><span class="sxs-lookup"><span data-stu-id="889d0-152">In addition, you can’t update the RoleEntryPoint in web role.cs.</span></span>
* <span data-ttu-id="889d0-153">**Solo puede admitir una instancia de un rol web** : no puede tener varias instancias de ningún rol web en su entorno de implementación.</span><span class="sxs-lookup"><span data-stu-id="889d0-153">**Can only support a single instance of a web role:** You can’t have multiple instances of any web role in your deployment environment.</span></span> <span data-ttu-id="889d0-154">Sin embargo, se admiten varios roles web cada uno con solo una instancia.</span><span class="sxs-lookup"><span data-stu-id="889d0-154">However, multiple web roles each with only one instance are supported.</span></span>
* <span data-ttu-id="889d0-155">**Debe habilitar conexiones de escritorio remoto** : esto es necesario para que Web Deploy pueda utilizar el usuario y la contraseña para conectar con la máquina virtual e implementar los cambios en el servidor que ejecuta Internet Information Services (IIS).</span><span class="sxs-lookup"><span data-stu-id="889d0-155">**You must enable remote desktop connections:** This is required so that Web Deploy can use the user and password to connect to the virtual machine to deploy the changes to the server that’s running Internet Information Services (IIS).</span></span> <span data-ttu-id="889d0-156">Además, podría necesitar conectar a la máquina virtual para agregar un certificado de confianza a IIS en esta máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="889d0-156">In addition, you might need to connect to the virtual machine to add a trusted certificate to IIS on this virtual machine.</span></span> <span data-ttu-id="889d0-157">(Esto asegura que la conexión remota de IIS que usa Web Deploy sea segura).</span><span class="sxs-lookup"><span data-stu-id="889d0-157">(This ensures that the remote connection for IIS that is used by Web Deploy is secure.)</span></span>

<span data-ttu-id="889d0-158">En el siguiente procedimiento se supone que usa el asistente **Publicar aplicación de Azure** .</span><span class="sxs-lookup"><span data-stu-id="889d0-158">The following procedure assumes that you are using the **Publish Azure Application** wizard.</span></span>

### <a name="to-enable-web-deploy-when-you-publish-your-application"></a><span data-ttu-id="889d0-159">Para habilitar Web Deploy al publicar su aplicación</span><span class="sxs-lookup"><span data-stu-id="889d0-159">To Enable Web Deploy When You Publish Your Application</span></span>
1. <span data-ttu-id="889d0-160">Para habilitar la casilla **Habilitar Web Deploy** para todos los roles web, primero debe configurar las conexiones de escritorio remoto.</span><span class="sxs-lookup"><span data-stu-id="889d0-160">To enable the **Enable Web Deploy** for all web roles check box, you must first configure remote desktop connections.</span></span> <span data-ttu-id="889d0-161">Seleccione **Habilitar Escritorio remoto** para todos los roles y luego escriba en el cuadro **Configuración del Escritorio remoto** que aparece las credenciales que se usarán para conectarse de forma remota.</span><span class="sxs-lookup"><span data-stu-id="889d0-161">Select **Enable Remote Desktop** for all roles and then supply the credentials that will be used to connect remotely in the **Remote Desktop Configuration** box that appears.</span></span> <span data-ttu-id="889d0-162">Consulte [Usar Escritorio remoto con los roles de Azure](vs-azure-tools-remote-desktop-roles.md) para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="889d0-162">See [Using Remote Desktop with Azure Roles](vs-azure-tools-remote-desktop-roles.md) for more information.</span></span>
2. <span data-ttu-id="889d0-163">Para habilitar Web Deploy para todos los roles web de su aplicación, seleccione **Habilitar Web Deploy para todos los roles web**.</span><span class="sxs-lookup"><span data-stu-id="889d0-163">To enable Web Deploy for all the web roles in your application, select **Enable Web Deploy for all web roles**.</span></span>
   
    <span data-ttu-id="889d0-164">Se muestra un triángulo de advertencia amarillo.</span><span class="sxs-lookup"><span data-stu-id="889d0-164">A yellow warning triangle appears.</span></span> <span data-ttu-id="889d0-165">Web Deploy usa de forma predeterminada un certificado autofirmado no de confianza, que no se recomienda para cargar datos confidenciales.</span><span class="sxs-lookup"><span data-stu-id="889d0-165">Web Deploy uses an untrusted, self-signed certificate by default, which is not recommended for uploading sensitive data.</span></span> <span data-ttu-id="889d0-166">Si necesita proteger este proceso por que hay datos confidenciales, puede agregar un certificado SSL para que sea usa para las conexiones de Web Deploy.</span><span class="sxs-lookup"><span data-stu-id="889d0-166">If you need to secure this process for sensitive data, you can add a SSL certificate to be used for Web Deploy connections.</span></span> <span data-ttu-id="889d0-167">Este certificado debe ser un certificado de confianza.</span><span class="sxs-lookup"><span data-stu-id="889d0-167">This certificate needs to be a trusted certificate.</span></span> <span data-ttu-id="889d0-168">Para más información sobre cómo hacerlo, consulte la sección **Para proteger Web Deploy** más adelante en este tema.</span><span class="sxs-lookup"><span data-stu-id="889d0-168">For information about how to do this, see the section **To Make Web Deploy Secure** later in this topic.</span></span>
3. <span data-ttu-id="889d0-169">Elija **Siguiente** para ver la pantalla **Resumen** y luego seleccione **Publicar** para implementar el servicio en la nube.</span><span class="sxs-lookup"><span data-stu-id="889d0-169">Choose **Next** to show the **Summary** screen, and then choose **Publish** to deploy the cloud service.</span></span>
   
    <span data-ttu-id="889d0-170">El servicio en la nube se publicará.</span><span class="sxs-lookup"><span data-stu-id="889d0-170">The cloud service is published.</span></span> <span data-ttu-id="889d0-171">La máquina virtual que se crea tiene conexiones remotas habilitadas para IIS para que Web Deploy se pueda usar a fin de actualizar sus roles web sin volver a publicarlos.</span><span class="sxs-lookup"><span data-stu-id="889d0-171">The virtual machine that is created has remote connections enabled for IIS so that Web Deploy can be used to update your web roles without republishing them.</span></span>
   
   > [!NOTE]
   > <span data-ttu-id="889d0-172">Si tiene configurada más de una instancia para un rol web, aparece un mensaje de advertencia que indica que cada rol web solo se limitará a una instancia en el paquete que se crea para publicar su aplicación.</span><span class="sxs-lookup"><span data-stu-id="889d0-172">If you have more than one instance configured for a web role, a warning message appears, stating that each web role will be limited to one instance only in the package that’s created to publish your application.</span></span> <span data-ttu-id="889d0-173">Seleccione **Aceptar** para continuar.</span><span class="sxs-lookup"><span data-stu-id="889d0-173">Select **OK** to continue.</span></span> <span data-ttu-id="889d0-174">Como se indica en la sección Requisitos, puede tener más de un rol web, pero solo una instancia de cada rol.</span><span class="sxs-lookup"><span data-stu-id="889d0-174">As stated in the Requirements section, you can have more than one web role but only one instance of each role.</span></span>
   > 
   > 

### <a name="to-update-your-web-role-by-using-web-deploy"></a><span data-ttu-id="889d0-175">Para actualizar su rol web usando Web Deploy</span><span class="sxs-lookup"><span data-stu-id="889d0-175">To Update Your Web Role by Using Web Deploy</span></span>
1. <span data-ttu-id="889d0-176">Para usar Web Deploy, debe realizar cambios en el código del proyecto para cualquiera de sus roles web en Visual Studio que quiera publicar, y luego haga clic con el botón derecho en el nodo de este proyecto en su solución y apunte a **Publicar**.</span><span class="sxs-lookup"><span data-stu-id="889d0-176">To use Web Deploy, make code changes to the project for any of your web roles in Visual Studio that you want to publish, and then right-click this project node in your solution and point to **Publish**.</span></span> <span data-ttu-id="889d0-177">Aparece el cuadro de diálogo **Publicación web** .</span><span class="sxs-lookup"><span data-stu-id="889d0-177">The **Publish Web** dialog box appears.</span></span>
2. <span data-ttu-id="889d0-178">(Opcional) Si agregó un certificado SSL de confianza para usarlo para las conexiones remotas de IIS, puede desactivar la casilla **Permitir certificado que no es de confianza** .</span><span class="sxs-lookup"><span data-stu-id="889d0-178">(Optional) If you added a trusted SSL certificate to use for remote connections for IIS, you can clear the **Allow untrusted certificate** check box.</span></span> <span data-ttu-id="889d0-179">Para más información sobre cómo agregar un certificado para proteger Web Deploy, consulte la sección **Para proteger Web Deploy** más adelante en este tema.</span><span class="sxs-lookup"><span data-stu-id="889d0-179">For information about how to add a certificate to make Web Deploy secure, see the section **To Make Web Deploy Secure** later in this topic.</span></span>
3. <span data-ttu-id="889d0-180">Para usar Web Deploy, el mecanismo de publicación necesita el nombre de usuario y la contraseña que configuró para su conexión de escritorio remoto cuando publicó el paquete por primera vez.</span><span class="sxs-lookup"><span data-stu-id="889d0-180">To use Web Deploy, the publish mechanism needs the user name and password that you set up for your remote desktop connection when you first published the package.</span></span>
   
   1. <span data-ttu-id="889d0-181">En **Nombre de usuario**escriba el nombre de usuario.</span><span class="sxs-lookup"><span data-stu-id="889d0-181">In **User name**, enter the user name.</span></span>
   2. <span data-ttu-id="889d0-182">En **Contraseña**escriba la contraseña.</span><span class="sxs-lookup"><span data-stu-id="889d0-182">In **Password**, enter the password.</span></span>
   3. <span data-ttu-id="889d0-183">(Opcional) Si desea guardar esta contraseña en este perfil, seleccione **Guardar contraseña**.</span><span class="sxs-lookup"><span data-stu-id="889d0-183">(Optional) If you want to save this password in this profile, choose **Save password**.</span></span>
4. <span data-ttu-id="889d0-184">Para publicar los cambios de su rol web, elija **Publicar**.</span><span class="sxs-lookup"><span data-stu-id="889d0-184">To publish the changes to your web role, choose **Publish**.</span></span>
   
    <span data-ttu-id="889d0-185">La línea de estado muestra **Publicación iniciada**.</span><span class="sxs-lookup"><span data-stu-id="889d0-185">The status line displays **Publish started**.</span></span> <span data-ttu-id="889d0-186">Cuando la publicación finaliza, se muestra **Publicación correcta** .</span><span class="sxs-lookup"><span data-stu-id="889d0-186">When the publishing has completed, **Publish succeeded** appears.</span></span> <span data-ttu-id="889d0-187">Ahora los cambios se implementaron en el rol web en su máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="889d0-187">The changes have now been deployed to the web role on your virtual machine.</span></span> <span data-ttu-id="889d0-188">Ahora puede iniciar su aplicación de Azure para probar sus cambios en el entorno de Azure.</span><span class="sxs-lookup"><span data-stu-id="889d0-188">Now you can start your Azure application in the Azure environment to test your changes.</span></span>

### <a name="to-make-web-deploy-secure"></a><span data-ttu-id="889d0-189">Para proteger Web Deploy</span><span class="sxs-lookup"><span data-stu-id="889d0-189">To Make Web Deploy Secure</span></span>
1. <span data-ttu-id="889d0-190">Web Deploy usa de forma predeterminada un certificado autofirmado no de confianza, que no se recomienda para cargar datos confidenciales.</span><span class="sxs-lookup"><span data-stu-id="889d0-190">Web Deploy uses an untrusted, self-signed certificate by default, which is not recommended for uploading sensitive data.</span></span> <span data-ttu-id="889d0-191">Si necesita proteger este proceso por que hay datos confidenciales, puede agregar un certificado SSL para que sea usa para las conexiones de Web Deploy.</span><span class="sxs-lookup"><span data-stu-id="889d0-191">If you need to secure this process for sensitive data, you can add a SSL certificate to be used for Web Deploy connections.</span></span> <span data-ttu-id="889d0-192">Este certificado debe ser un certificado de confianza, que haya obtenido de una entidad de certificación (CA).</span><span class="sxs-lookup"><span data-stu-id="889d0-192">This certificate needs to be a trusted certificate, which you obtain from a certificate authority (CA).</span></span>
   
    <span data-ttu-id="889d0-193">Para proteger Web Deploy para cada máquina virtual de cada uno de sus roles web, debe cargar el certificado de confianza que desea usar para la implementación web en el [Portal de Azure clásico](http://go.microsoft.com/fwlink/?LinkID=213885).</span><span class="sxs-lookup"><span data-stu-id="889d0-193">To make Web Deploy secure for each virtual machine for each of your web roles, you must upload the trusted certificate that you want to use for web deploy to the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885).</span></span> <span data-ttu-id="889d0-194">Esto garantiza que el certificado se agrega a la máquina virtual que se crea para el rol web al publicar su aplicación.</span><span class="sxs-lookup"><span data-stu-id="889d0-194">This makes sure that the certificate is added to the virtual machine that is created for the web role when you publish your application.</span></span>
2. <span data-ttu-id="889d0-195">Para agregar un certificado SSL de confianza a IIS para usarlo para las conexiones remotas, siga estos pasos:</span><span class="sxs-lookup"><span data-stu-id="889d0-195">To add a trusted SSL certificate to IIS to use for remote connections, follow these steps:</span></span>
   
   1. <span data-ttu-id="889d0-196">Para conectarse a la máquina virtual que está ejecutando el rol web, seleccione la instancia del rol web en **Cloud Explorer** o en el **Explorador de servidores** y después elija **Conectar utilizando Escritorio remoto**.</span><span class="sxs-lookup"><span data-stu-id="889d0-196">To connect to the virtual machine that is running the web role, select the instance of the web role in **Cloud Explorer** or **Server Explorer**, and then choose the **Connect using Remote Desktop** command.</span></span> <span data-ttu-id="889d0-197">Para obtener pasos detallados sobre cómo conectar a la máquina virtual, consulte [Usar Escritorio remoto con los roles de Azure](vs-azure-tools-remote-desktop-roles.md).</span><span class="sxs-lookup"><span data-stu-id="889d0-197">For detailed steps about how to connect to the virtual machine, see [Using Remote Desktop with Azure Roles](vs-azure-tools-remote-desktop-roles.md).</span></span>
      
      <span data-ttu-id="889d0-198">El explorador le solicitará que descargue un archivo .RDP.</span><span class="sxs-lookup"><span data-stu-id="889d0-198">Your browser will prompt you to download an .RDP file.</span></span>
   2. <span data-ttu-id="889d0-199">Para agregar un certificado SSL, abra el servicio de administración en el Administrador de IIS.</span><span class="sxs-lookup"><span data-stu-id="889d0-199">To add an SSL certificate, open the management service in IIS Manager.</span></span> <span data-ttu-id="889d0-200">En el Administrador de IIS, habilite SSL abriendo el vínculo **Enlaces** en el panel **Acción**.</span><span class="sxs-lookup"><span data-stu-id="889d0-200">In IIS Manager, enable SSL by opening the **Bindings** link in the **Action** pane.</span></span> <span data-ttu-id="889d0-201">Aparecerá el cuadro de diálogo **Agregar enlace de sitio** .</span><span class="sxs-lookup"><span data-stu-id="889d0-201">The **Add Site Binding** dialog box appears.</span></span> <span data-ttu-id="889d0-202">Elija **Agregar** y, después, seleccione HTTPS en la lista desplegable **Tipo**.</span><span class="sxs-lookup"><span data-stu-id="889d0-202">Choose **Add**, and then choose HTTPS in the **Type** dropdown list.</span></span> <span data-ttu-id="889d0-203">En la lista de **certificados SSL** , elija el certificado SSL que obtuvo, firmado por una entidad de certificación y que cargó en el [Portal de Azure clásico](http://go.microsoft.com/fwlink/?LinkID=213885).</span><span class="sxs-lookup"><span data-stu-id="889d0-203">In the **SSL certificate** list, choose the SSL certificate that you had signed by a CA and that you uploaded to the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885).</span></span> <span data-ttu-id="889d0-204">Para obtener más información, consulte [Configurar los valores de conexión para el servicio de administración](http://go.microsoft.com/fwlink/?LinkId=215824).</span><span class="sxs-lookup"><span data-stu-id="889d0-204">For more information, see [Configure Connection Settings for the Management Service](http://go.microsoft.com/fwlink/?LinkId=215824).</span></span>
      
      > [!NOTE]
      > <span data-ttu-id="889d0-205">Si agrega un certificado SSL de confianza, el triángulo de advertencia amarillo ya no aparece en el **Asistente para publicación**.</span><span class="sxs-lookup"><span data-stu-id="889d0-205">If you add a trusted SSL certificate, the yellow warning triangle no longer appears in the **Publish Wizard**.</span></span>
      > 
      > 

## <a name="include-files-in-the-service-package"></a><span data-ttu-id="889d0-206">Incluir archivos en el paquete de servicio</span><span class="sxs-lookup"><span data-stu-id="889d0-206">Include Files in the Service Package</span></span>
<span data-ttu-id="889d0-207">Puede que deba incluir archivos específicos en su paquete de servicio para que estén disponibles en la máquina virtual que se crea para un rol.</span><span class="sxs-lookup"><span data-stu-id="889d0-207">You might need to include specific files in your service package so that they are available on the virtual machine that is created for a role.</span></span> <span data-ttu-id="889d0-208">Por ejemplo, puede querer agregar un archivo .exe o .msi que sea usado por un script de inicio en su paquete del servicio.</span><span class="sxs-lookup"><span data-stu-id="889d0-208">For example, you might want to add an .exe or an .msi file that is used by a startup script to your service package.</span></span> <span data-ttu-id="889d0-209">O es posible que quiera agregar un ensamblado que requiera un proyecto de rol web o de rol de trabajo.</span><span class="sxs-lookup"><span data-stu-id="889d0-209">Or you might need to add an assembly that a web role or worker role project requires.</span></span> <span data-ttu-id="889d0-210">Para incluir archivos, debe agregarlos a la solución de su aplicación de Azure.</span><span class="sxs-lookup"><span data-stu-id="889d0-210">To include files they must be added to the solution for your Azure application.</span></span>

### <a name="to-include-files-in-the-service-package"></a><span data-ttu-id="889d0-211">Para incluir archivos en el paquete del servicio</span><span class="sxs-lookup"><span data-stu-id="889d0-211">To include files in the service package</span></span>
1. <span data-ttu-id="889d0-212">Para agregar un ensamblado a un paquete del servicio, siga estos pasos:</span><span class="sxs-lookup"><span data-stu-id="889d0-212">To add an assembly to a service package, use the following steps:</span></span>
   
   1. <span data-ttu-id="889d0-213">En el **Explorador de soluciones** abra el nodo del proyecto al que le falta el ensamblado de referencia.</span><span class="sxs-lookup"><span data-stu-id="889d0-213">In **Solution Explorer** open the project node for the project that is missing the referenced assembly.</span></span>
   2. <span data-ttu-id="889d0-214">Para agregar el ensamblado al proyecto, abra el menú contextual de la carpeta **Referencias** y elija **Agregar referencia**.</span><span class="sxs-lookup"><span data-stu-id="889d0-214">To add the assembly to the project, open the shortcut menu for the **References** folder and then choose **Add Reference**.</span></span> <span data-ttu-id="889d0-215">Aparece el cuadro de diálogo Agregar referencia.</span><span class="sxs-lookup"><span data-stu-id="889d0-215">The Add Reference dialog appears.</span></span>
   3. <span data-ttu-id="889d0-216">Elija la referencia que quiere agregar y, después, elija el botón **Aceptar** .</span><span class="sxs-lookup"><span data-stu-id="889d0-216">Choose the reference that you want to add and then choose the **OK** button.</span></span>
      
      <span data-ttu-id="889d0-217">La referencia se agrega a la lista en la carpeta **Referencias** .</span><span class="sxs-lookup"><span data-stu-id="889d0-217">The reference is added to the list under the **References** folder.</span></span>
   4. <span data-ttu-id="889d0-218">Abra el menú contextual del ensamblado que agregó y elija **Propiedades**.</span><span class="sxs-lookup"><span data-stu-id="889d0-218">Open the shortcut menu for the assembly that you added and choose **Properties**.</span></span> <span data-ttu-id="889d0-219">Se muestra la ventana **Propiedades** .</span><span class="sxs-lookup"><span data-stu-id="889d0-219">The **Properties** window appears.</span></span>
      
      <span data-ttu-id="889d0-220">Para incluir este ensamblado en el Service Pack en la lista **Copia local**, elija **True**.</span><span class="sxs-lookup"><span data-stu-id="889d0-220">To include this assembly in the service package, in the **Copy Local list** choose **True**.</span></span>
2. <span data-ttu-id="889d0-221">En el **Explorador de soluciones** abra el nodo del proyecto al que le falta el ensamblado de referencia.</span><span class="sxs-lookup"><span data-stu-id="889d0-221">In **Solution Explorer** open the project node for the project that is missing the referenced assembly.</span></span>
3. <span data-ttu-id="889d0-222">Para agregar el ensamblado al proyecto, abra el menú contextual de la carpeta **Referencias** y elija **Agregar referencia**.</span><span class="sxs-lookup"><span data-stu-id="889d0-222">To add the assembly to the project, open the shortcut menu for the **References** folder and then choose **Add Reference**.</span></span> <span data-ttu-id="889d0-223">Aparece el cuadro de diálogo **Agregar referencia** .</span><span class="sxs-lookup"><span data-stu-id="889d0-223">The **Add Reference** dialog appears.</span></span>
4. <span data-ttu-id="889d0-224">Elija la referencia que quiere agregar y, después, elija el botón **Aceptar** .</span><span class="sxs-lookup"><span data-stu-id="889d0-224">Choose the reference that you want to add and then choose the **OK** button.</span></span>
   
    <span data-ttu-id="889d0-225">La referencia se agrega a la lista en la carpeta **Referencias** .</span><span class="sxs-lookup"><span data-stu-id="889d0-225">The reference is added to the list under the **References** folder.</span></span>
5. <span data-ttu-id="889d0-226">Abra el menú contextual del ensamblado que agregó y elija **Propiedades**.</span><span class="sxs-lookup"><span data-stu-id="889d0-226">Open the shortcut menu for the assembly that you added and choose **Properties**.</span></span> <span data-ttu-id="889d0-227">Se muestra la ventana Propiedades.</span><span class="sxs-lookup"><span data-stu-id="889d0-227">The Properties window appears.</span></span>
6. <span data-ttu-id="889d0-228">Para incluir este ensamblado en el paquete del servicio en la lista **Copia local**, elija **True**.</span><span class="sxs-lookup"><span data-stu-id="889d0-228">To include this assembly in the service package, in the **Copy Local** list, choose **True**.</span></span>
7. <span data-ttu-id="889d0-229">Para incluir archivos en el paquete del servicio que se agregaron al proyecto de rol web, abra el menú contextual del archivo y elija **Propiedades**.</span><span class="sxs-lookup"><span data-stu-id="889d0-229">To include files in the service package that have been added to your web role project, open the shortcut menu for the file, and then choose **Properties**.</span></span> <span data-ttu-id="889d0-230">En la ventana **Propiedades**, elija **Contenido** de la lista **Acción de generación**.</span><span class="sxs-lookup"><span data-stu-id="889d0-230">From the **Properties** window, choose **Content** from the **Build Action** list box.</span></span>
8. <span data-ttu-id="889d0-231">Para incluir archivos en el paquete del servicio que se agregaron al proyecto de rol de trabajo, abra el menú contextual del archivo y elija **Propiedades**.</span><span class="sxs-lookup"><span data-stu-id="889d0-231">To include files in the service package that have been added to your worker role project, open the shortcut menu for the file, and then choose **Properties**.</span></span> <span data-ttu-id="889d0-232">En la ventana **Propiedades**, elija **Copiar si es posterior** en la lista **Copiar en el directorio de resultados**.</span><span class="sxs-lookup"><span data-stu-id="889d0-232">From the **Properties** window, choose **Copy if newer** from the **Copy to output directory** list box.</span></span>

## <a name="next-steps"></a><span data-ttu-id="889d0-233">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="889d0-233">Next steps</span></span>
<span data-ttu-id="889d0-234">Para obtener más información sobre la publicación en Azure desde Visual Studio, consulte [Asistente Publicar aplicaciones de Azure](vs-azure-tools-publish-azure-application-wizard.md).</span><span class="sxs-lookup"><span data-stu-id="889d0-234">To learn more about publishing to Azure from Visual Studio, see [Publish Azure Application Wizard](vs-azure-tools-publish-azure-application-wizard.md).</span></span>

