---
title: "Historial y versiones del esquema de configuración de la extensión Azure Diagnostics | Microsoft Docs"
description: "Se utiliza para recopilar contadores de rendimiento en Azure Virtual Machines, conjuntos de escalado de máquinas virtuales, Service Fabric y Cloud Services."
services: monitoring-and-diagnostics
documentationcenter: .net
author: rboucher
manager: carmonm
editor: 
ms.assetid: 
ms.service: monitoring-and-diagnostics
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 05/16/2017
ms.author: robb
ms.openlocfilehash: 119e8a237f24cdc80a1ab8e376f2b308c9eada05
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 07/11/2017
---
# <a name="azure-diagnostics-extention-configuration-schema-versions-and-history"></a><span data-ttu-id="e53d1-103">Historial y versiones del esquema de configuración de la extensión Azure Diagnostics</span><span class="sxs-lookup"><span data-stu-id="e53d1-103">Azure Diagnostics extention configuration schema versions and history</span></span>
<span data-ttu-id="e53d1-104">Esta página es un índice de las versiones del esquema de la extensión Azure Diagnostics que se incluyen como parte de Microsoft Azure SDK.</span><span class="sxs-lookup"><span data-stu-id="e53d1-104">This page indexes Azure Diagnostics extension schema versions shipped as part of the Microsoft Azure SDK.</span></span>  

> [!NOTE]
> <span data-ttu-id="e53d1-105">La extensión Azure Diagnostics es el componente que se usa para recopilar los contadores de rendimiento y otras estadísticas de los siguientes recursos:</span><span class="sxs-lookup"><span data-stu-id="e53d1-105">The Azure Diagnostics extension is the component used to collect performance counters and other statistics from:</span></span>
> - <span data-ttu-id="e53d1-106">Máquinas virtuales de Azure</span><span class="sxs-lookup"><span data-stu-id="e53d1-106">Azure Virtual Machines</span></span> 
> - <span data-ttu-id="e53d1-107">Conjuntos de escalado de máquina virtual</span><span class="sxs-lookup"><span data-stu-id="e53d1-107">Virtual Machine Scale Sets</span></span>
> - <span data-ttu-id="e53d1-108">Service Fabric</span><span class="sxs-lookup"><span data-stu-id="e53d1-108">Service Fabric</span></span> 
> - <span data-ttu-id="e53d1-109">Cloud Services</span><span class="sxs-lookup"><span data-stu-id="e53d1-109">Cloud Services</span></span> 
> - <span data-ttu-id="e53d1-110">Grupos de seguridad de red</span><span class="sxs-lookup"><span data-stu-id="e53d1-110">Network Security Groups</span></span>
> 
> <span data-ttu-id="e53d1-111">Esta página solo es pertinente si está usando uno de estos servicios.</span><span class="sxs-lookup"><span data-stu-id="e53d1-111">This page is only relevant if you are using one of these services.</span></span>

<span data-ttu-id="e53d1-112">La extensión Azure Diagnostics se usa con otros productos de diagnósticos de Microsoft, como Azure Monitor, Application Insights y Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="e53d1-112">The Azure Diagnostics extension is used with other Microsoft diagnostics products like Azure Monitor, Application Insights, and Log Analytics.</span></span> <span data-ttu-id="e53d1-113">Para obtener más información, consulte el artículo de [información general de herramientas de supervisión de Microsoft](monitoring-overview.md).</span><span class="sxs-lookup"><span data-stu-id="e53d1-113">For more information see [Microsoft Monitoring Tools Overview](monitoring-overview.md).</span></span>

## <a name="azure-sdk-and-diagnostics-versions-shipping-chart"></a><span data-ttu-id="e53d1-114">Gráfico de envío de las versiones de Azure Diagnostics y de Azure SDK</span><span class="sxs-lookup"><span data-stu-id="e53d1-114">Azure SDK and diagnostics versions shipping chart</span></span>  

|<span data-ttu-id="e53d1-115">Versión del SDK de Azure</span><span class="sxs-lookup"><span data-stu-id="e53d1-115">Azure SDK version</span></span> | <span data-ttu-id="e53d1-116">Versión de la extensión Diagnostics</span><span class="sxs-lookup"><span data-stu-id="e53d1-116">Diagnostics extension version</span></span> | <span data-ttu-id="e53d1-117">Modelo</span><span class="sxs-lookup"><span data-stu-id="e53d1-117">Model</span></span>|  
|------------------|-------------------------------|------|  
|<span data-ttu-id="e53d1-118">1.x</span><span class="sxs-lookup"><span data-stu-id="e53d1-118">1.x</span></span>               |<span data-ttu-id="e53d1-119">1.0</span><span class="sxs-lookup"><span data-stu-id="e53d1-119">1.0</span></span>                            |<span data-ttu-id="e53d1-120">complemento</span><span class="sxs-lookup"><span data-stu-id="e53d1-120">plug-in</span></span>|  
|<span data-ttu-id="e53d1-121">2.0 - 2.4</span><span class="sxs-lookup"><span data-stu-id="e53d1-121">2.0 - 2.4</span></span>         |<span data-ttu-id="e53d1-122">1.0</span><span class="sxs-lookup"><span data-stu-id="e53d1-122">1.0</span></span>                            |<span data-ttu-id="e53d1-123">complemento</span><span class="sxs-lookup"><span data-stu-id="e53d1-123">plug-in</span></span>|  
|<span data-ttu-id="e53d1-124">2.5</span><span class="sxs-lookup"><span data-stu-id="e53d1-124">2.5</span></span>               |<span data-ttu-id="e53d1-125">1.2</span><span class="sxs-lookup"><span data-stu-id="e53d1-125">1.2</span></span>                            |<span data-ttu-id="e53d1-126">extensión</span><span class="sxs-lookup"><span data-stu-id="e53d1-126">extension</span></span>|  
|<span data-ttu-id="e53d1-127">2.6</span><span class="sxs-lookup"><span data-stu-id="e53d1-127">2.6</span></span>               |<span data-ttu-id="e53d1-128">1.3</span><span class="sxs-lookup"><span data-stu-id="e53d1-128">1.3</span></span>                            |<span data-ttu-id="e53d1-129">"</span><span class="sxs-lookup"><span data-stu-id="e53d1-129">"</span></span>|  
|<span data-ttu-id="e53d1-130">2.7</span><span class="sxs-lookup"><span data-stu-id="e53d1-130">2.7</span></span>               |<span data-ttu-id="e53d1-131">1.4</span><span class="sxs-lookup"><span data-stu-id="e53d1-131">1.4</span></span>                            |<span data-ttu-id="e53d1-132">"</span><span class="sxs-lookup"><span data-stu-id="e53d1-132">"</span></span>|  
|<span data-ttu-id="e53d1-133">2.8</span><span class="sxs-lookup"><span data-stu-id="e53d1-133">2.8</span></span>               |<span data-ttu-id="e53d1-134">1.5</span><span class="sxs-lookup"><span data-stu-id="e53d1-134">1.5</span></span>                            |<span data-ttu-id="e53d1-135">"</span><span class="sxs-lookup"><span data-stu-id="e53d1-135">"</span></span>|  
|<span data-ttu-id="e53d1-136">2.9</span><span class="sxs-lookup"><span data-stu-id="e53d1-136">2.9</span></span>               |<span data-ttu-id="e53d1-137">1.6</span><span class="sxs-lookup"><span data-stu-id="e53d1-137">1.6</span></span>                            |<span data-ttu-id="e53d1-138">"</span><span class="sxs-lookup"><span data-stu-id="e53d1-138">"</span></span>|
|<span data-ttu-id="e53d1-139">2.96</span><span class="sxs-lookup"><span data-stu-id="e53d1-139">2.96</span></span>              |<span data-ttu-id="e53d1-140">1.7</span><span class="sxs-lookup"><span data-stu-id="e53d1-140">1.7</span></span>                            |<span data-ttu-id="e53d1-141">"</span><span class="sxs-lookup"><span data-stu-id="e53d1-141">"</span></span>|
|<span data-ttu-id="e53d1-142">2.96</span><span class="sxs-lookup"><span data-stu-id="e53d1-142">2.96</span></span>              |<span data-ttu-id="e53d1-143">1.8</span><span class="sxs-lookup"><span data-stu-id="e53d1-143">1.8</span></span>                            |<span data-ttu-id="e53d1-144">"</span><span class="sxs-lookup"><span data-stu-id="e53d1-144">"</span></span>|
|<span data-ttu-id="e53d1-145">2.96</span><span class="sxs-lookup"><span data-stu-id="e53d1-145">2.96</span></span>              |<span data-ttu-id="e53d1-146">1.8.1</span><span class="sxs-lookup"><span data-stu-id="e53d1-146">1.8.1</span></span>                          |<span data-ttu-id="e53d1-147">"</span><span class="sxs-lookup"><span data-stu-id="e53d1-147">"</span></span>|
|<span data-ttu-id="e53d1-148">2.96</span><span class="sxs-lookup"><span data-stu-id="e53d1-148">2.96</span></span>              |<span data-ttu-id="e53d1-149">1.9</span><span class="sxs-lookup"><span data-stu-id="e53d1-149">1.9</span></span>                            |<span data-ttu-id="e53d1-150">"</span><span class="sxs-lookup"><span data-stu-id="e53d1-150">"</span></span>|



 <span data-ttu-id="e53d1-151">La versión 1.0 de Azure Diagnostics se incluyó por primera vez en un modelo de complemento, lo que significa que, al instalar Azure SDK, obtuvo la versión de Azure Diagnostics que se incluía con el producto.</span><span class="sxs-lookup"><span data-stu-id="e53d1-151">Azure Diagnostics version 1.0 first shipped in a plug-in model -- meaning that when you installed the Azure SDK, you got the version of Azure diagnostics shipped with it.</span></span>  

 <span data-ttu-id="e53d1-152">A partir de SDK 2.5 (versión 1.2 de Diagnósticos), Diagnósticos de Azure pasó a un modelo de extensión.</span><span class="sxs-lookup"><span data-stu-id="e53d1-152">Starting with SDK 2.5 (diagnostics version 1.2), Azure diagnostics went to an extension model.</span></span> <span data-ttu-id="e53d1-153">Las herramientas para usar las características nuevas solo estaban disponibles en las versiones más recientes de Azure SDK, pero cualquier servicio que use Azure Diagnostics seleccionaría la versión de envío más reciente directamente desde Azure.</span><span class="sxs-lookup"><span data-stu-id="e53d1-153">The tools to utilize new features were only available in newer Azure SDKs, but any service using Azure diagnostics would pick up the latest shipping version directly from Azure.</span></span> <span data-ttu-id="e53d1-154">Por ejemplo, cualquier usuario que siga usando SDK 2.5 estaría cargando la versión más reciente que se muestra en la tabla anterior, sin importar si usan las características más recientes.</span><span class="sxs-lookup"><span data-stu-id="e53d1-154">For example, anyone still using SDK 2.5 would be loading the latest version shown in the previous table, regardless if they are using the newer features.</span></span>  

## <a name="schemas-index"></a><span data-ttu-id="e53d1-155">Índice de esquemas</span><span class="sxs-lookup"><span data-stu-id="e53d1-155">Schemas index</span></span>  
<span data-ttu-id="e53d1-156">Las distintas versiones de Azure Diagnostics utilizan esquemas de configuración diferentes.</span><span class="sxs-lookup"><span data-stu-id="e53d1-156">Different versions of Azure diagnostics use different configuration schemas.</span></span> 

[<span data-ttu-id="e53d1-157">Esquema de configuración de Diagnósticos 1.0</span><span class="sxs-lookup"><span data-stu-id="e53d1-157">Diagnostics 1.0 Configuration Schema</span></span>](azure-diagnostics-schema-1dot0.md)  

[<span data-ttu-id="e53d1-158">Esquema de configuración de Diagnósticos 1.2</span><span class="sxs-lookup"><span data-stu-id="e53d1-158">Diagnostics 1.2 Configuration Schema</span></span>](azure-diagnostics-schema-1dot2.md)  

[<span data-ttu-id="e53d1-159">Esquema de configuración de Diagnósticos 1.3 y versiones posteriores</span><span class="sxs-lookup"><span data-stu-id="e53d1-159">Diagnostics 1.3 and later Configuration Schema</span></span>](azure-diagnostics-schema-1dot3-and-later.md)  

## <a name="version-history"></a><span data-ttu-id="e53d1-160">Historial de versiones</span><span class="sxs-lookup"><span data-stu-id="e53d1-160">Version history</span></span>


### <a name="diagnostics-extension-19"></a><span data-ttu-id="e53d1-161">Extensión Diagnostics 1.9</span><span class="sxs-lookup"><span data-stu-id="e53d1-161">Diagnostics extension 1.9</span></span> 
<span data-ttu-id="e53d1-162">Se agregó compatibilidad con Docker.</span><span class="sxs-lookup"><span data-stu-id="e53d1-162">Added Docker support.</span></span>


### <a name="diagnostics-extension-181"></a><span data-ttu-id="e53d1-163">Extensión Diagnostics 1.8.1</span><span class="sxs-lookup"><span data-stu-id="e53d1-163">Diagnostics extension 1.8.1</span></span> 
<span data-ttu-id="e53d1-164">Puede especificar un token de SAS en lugar de una clave de cuenta de almacenamiento en la configuración privada.</span><span class="sxs-lookup"><span data-stu-id="e53d1-164">Can specify a SAS token instead of a storage account key in the private config.</span></span> <span data-ttu-id="e53d1-165">Si se proporciona un token de SAS, se omite la clave de cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="e53d1-165">If a SAS token is provided, the storage account key is ignored.</span></span>


```json
{
    "storageAccountName": "diagstorageaccount",
    "storageAccountEndPoint": "https://core.windows.net",
    "storageAccountSasToken": "{sas token}",
    "SecondaryStorageAccounts": {
        "StorageAccount": [
            {
                "name": "secondarydiagstorageaccount",
                "endpoint": "https://core.windows.net",
                "sasToken": "{sas token}"
            }
        ]
    }
}
```

```xml
<PrivateConfig>
    <StorageAccount name="diagstorageaccount" endpoint="https://core.windows.net" sasToken="{sas token}" />
    <SecondaryStorageAccounts>
        <StorageAccount name="secondarydiagstorageaccount" endpoint="https://core.windows.net" sasToken="{sas token}" />
    </SecondaryStorageAccounts>
</PrivateConfig>
```


### <a name="diagnostics-extension-18"></a><span data-ttu-id="e53d1-166">Extensión Diagnostics 1.8</span><span class="sxs-lookup"><span data-stu-id="e53d1-166">Diagnostics extension 1.8</span></span> 
<span data-ttu-id="e53d1-167">Se agregó StorageType a PublicConfig.</span><span class="sxs-lookup"><span data-stu-id="e53d1-167">Added Storage Type to PublicConfig.</span></span> <span data-ttu-id="e53d1-168">Puede ser *Table*, *Blob* y *TableAndBlob*.</span><span class="sxs-lookup"><span data-stu-id="e53d1-168">StorageType can be *Table*, *Blob*, *TableAndBlob*.</span></span> <span data-ttu-id="e53d1-169">*Table* es el valor predeterminado.</span><span class="sxs-lookup"><span data-stu-id="e53d1-169">*Table* is the default.</span></span>


```json
{
    "WadCfg": {
    },
    "StorageAccount": "diagstorageaccount",
    "StorageType": "TableAndBlob"
}
```

```xml
<PublicConfig>
    <WadCfg />
    <StorageAccount>diagstorageaccount</StorageAccount>
    <StorageType>TableAndBlob</StorageType>
</PublicConfig>
```


### <a name="diagnostics-extension-17"></a><span data-ttu-id="e53d1-170">Extensión Diagnostics 1.7</span><span class="sxs-lookup"><span data-stu-id="e53d1-170">Diagnostics extension 1.7</span></span> 
<span data-ttu-id="e53d1-171">Se agregó la capacidad de enrutar a EventHub.</span><span class="sxs-lookup"><span data-stu-id="e53d1-171">Added the ability to route to EventHub.</span></span>

### <a name="diagnostics-extension-15"></a><span data-ttu-id="e53d1-172">Extensión Diagnostics 1.5</span><span class="sxs-lookup"><span data-stu-id="e53d1-172">Diagnostics extension 1.5</span></span>
<span data-ttu-id="e53d1-173">Se agregaron el elemento Sinks y la capacidad de enviar datos de diagnóstico a [Application Insights](../application-insights/app-insights-cloudservices.md), lo que permitió diagnosticar de forma más sencilla los problemas tanto en la aplicación como en la infraestructura y el sistema.</span><span class="sxs-lookup"><span data-stu-id="e53d1-173">Added the sinks element and the ability to send diagnostics data to [Application Insights](../application-insights/app-insights-cloudservices.md) making it easier to diagnose issues across your application as well as the system and infrastructure level.</span></span>

### <a name="azure-sdk-26-and-diagnostics-extension-13"></a><span data-ttu-id="e53d1-174">Azure SDK 2.6 y extensión Diagnostics 1.3</span><span class="sxs-lookup"><span data-stu-id="e53d1-174">Azure SDK 2.6 and diagnostics extension 1.3</span></span> 
<span data-ttu-id="e53d1-175">Para los proyectos de Cloud Service en Visual Studio, se realizaron los siguientes cambios.</span><span class="sxs-lookup"><span data-stu-id="e53d1-175">For Cloud Service projects in Visual Studio, the following changes were made.</span></span> <span data-ttu-id="e53d1-176">(Estos cambios también se aplican a las versiones posteriores del SDK de Azure.)</span><span class="sxs-lookup"><span data-stu-id="e53d1-176">(These changes also apply to later versions of Azure SDK.)</span></span>

* <span data-ttu-id="e53d1-177">El emulador local ahora es compatible con diagnósticos.</span><span class="sxs-lookup"><span data-stu-id="e53d1-177">The local emulator now supports diagnostics.</span></span> <span data-ttu-id="e53d1-178">Esto significa que puede recopilar datos de diagnóstico y asegurarse de que su aplicación crea los seguimientos correctos mientras desarrolla y realiza pruebas en Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="e53d1-178">This means you can collect diagnostics data and ensure your application is creating the right traces while you're developing and testing in Visual Studio.</span></span> <span data-ttu-id="e53d1-179">La cadena de conexión `UseDevelopmentStorage=true` habilita la colección de datos de diagnóstico mientras ejecuta el proyecto de servicio en la nube en Visual Studio mediante el emulador de almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="e53d1-179">The connection string `UseDevelopmentStorage=true` enables diagnostics data collection while you're running your cloud service project in Visual Studio by using the Azure storage emulator.</span></span> <span data-ttu-id="e53d1-180">Todos los datos de diagnóstico se recopilan en la cuenta de almacenamiento (Almacenamiento de desarrollo).</span><span class="sxs-lookup"><span data-stu-id="e53d1-180">All diagnostics data is collected in the (Development Storage) storage account.</span></span>
* <span data-ttu-id="e53d1-181">La cadena de conexión de la cuenta de almacenamiento de diagnóstico (Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString) se almacena una vez más en el archivo de configuración de servicio (.cscfg).</span><span class="sxs-lookup"><span data-stu-id="e53d1-181">The diagnostics storage account connection string (Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString) is stored once again in the service configuration (.cscfg) file.</span></span> <span data-ttu-id="e53d1-182">En Azure SDK 2.5 se especificó la cuenta de almacenamiento de diagnóstico en el archivo diagnostics.wadcfgx.</span><span class="sxs-lookup"><span data-stu-id="e53d1-182">In Azure SDK 2.5 the diagnostics storage account was specified in the diagnostics.wadcfgx file.</span></span>

<span data-ttu-id="e53d1-183">Existen algunas diferencias importantes entre el funcionamiento de la cadena de conexión en Azure SDK 2.4 y Azure SDK 2.6 y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="e53d1-183">There are some notable differences between how the connection string worked in Azure SDK 2.4 and earlier and how it works in Azure SDK 2.6 and later.</span></span>

* <span data-ttu-id="e53d1-184">En Azure SDK 2.4 y versiones anteriores, la cadena de conexión se usaba como tiempo de ejecución mediante el complemento de diagnóstico para obtener la información de la cuenta de almacenamiento para la transferencia de registros de diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="e53d1-184">In Azure SDK 2.4 and earlier, the connection string was used as a runtime by the diagnostics plugin to get the storage account information for transferring diagnostics logs.</span></span>
* <span data-ttu-id="e53d1-185">En Azure SDK 2.6 y versiones posteriores, Visual Studio usa la cadena de conexión de diagnóstico para configurar la extensión de diagnóstico con la información de la cuenta de almacenamiento adecuada durante la publicación.</span><span class="sxs-lookup"><span data-stu-id="e53d1-185">In Azure SDK 2.6 and later, the diagnostics connection string is used by Visual Studio to configure the diagnostics extension with the appropriate storage account information during publishing.</span></span> <span data-ttu-id="e53d1-186">La cadena de conexión le permite definir las cuentas de almacenamiento diferentes para diferentes configuraciones de servicio que Visual Studio usará al publicar.</span><span class="sxs-lookup"><span data-stu-id="e53d1-186">The connection string lets you define different storage accounts for different service configurations that Visual Studio will use when publishing.</span></span> <span data-ttu-id="e53d1-187">Sin embargo, porque ya no está disponible el complemento de diagnóstico (después de Azure SDK 2.5), el archivo .cscfg por sí solo no puede habilitar la extensión de diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="e53d1-187">However, because the diagnostics plugin is no longer available (after Azure SDK 2.5), the .cscfg file by itself can't enable the Diagnostics Extension.</span></span> <span data-ttu-id="e53d1-188">Debe habilitar la extensión por separado a través de herramientas como Visual Studio o PowerShell.</span><span class="sxs-lookup"><span data-stu-id="e53d1-188">You have to enable the extension separately through tools such as Visual Studio or PowerShell.</span></span>
* <span data-ttu-id="e53d1-189">Para simplificar el proceso de configuración de la extensión de diagnósticos con PowerShell, la salida del paquete de Visual Studio también contiene el XML de configuración pública para la extensión de diagnósticos para cada rol.</span><span class="sxs-lookup"><span data-stu-id="e53d1-189">To simplify the process of configuring the diagnostics extension with PowerShell, the package output from Visual Studio also contains the public configuration XML for the diagnostics extension for each role.</span></span> <span data-ttu-id="e53d1-190">Visual Studio usa la cadena de conexión de diagnósticos para rellenar la información de la cuenta de almacenamiento presente en la configuración pública.</span><span class="sxs-lookup"><span data-stu-id="e53d1-190">Visual Studio uses the diagnostics connection string to populate the storage account information present in the public configuration.</span></span> <span data-ttu-id="e53d1-191">Los archivos de configuración públicas se crean en la carpeta Extensiones y siguen el patrón PaaSDiagnostics<RoleName>.PubConfig.xml.</span><span class="sxs-lookup"><span data-stu-id="e53d1-191">The public config files are created in the Extensions folder and follow the pattern PaaSDiagnostics.<RoleName>.PubConfig.xml.</span></span> <span data-ttu-id="e53d1-192">Cualquier implementación basada en PowerShell puede usar este patrón para asignar cada configuración a un rol.</span><span class="sxs-lookup"><span data-stu-id="e53d1-192">Any PowerShell based deployments can use this pattern to map each configuration to a Role.</span></span>
* <span data-ttu-id="e53d1-193">El portal de Azure también usa la cadena de conexión del archivo .cscfg para obtener acceso a los datos de diagnóstico, por lo que puede aparecer en la pestaña **Supervisión** .</span><span class="sxs-lookup"><span data-stu-id="e53d1-193">The connection string in the .cscfg file is also used by the Azure portal to access the diagnostics data so it can appear in the **Monitoring** tab.</span></span> <span data-ttu-id="e53d1-194">La cadena de conexión es necesaria para configurar el servicio para que muestre los datos de supervisión detallada en el portal.</span><span class="sxs-lookup"><span data-stu-id="e53d1-194">The connection string is needed to configure the service to show verbose monitoring data in the portal.</span></span>

#### <a name="migrating-projects-to-azure-sdk-26-and-later"></a><span data-ttu-id="e53d1-195">Migración de proyectos a Azure SDK 2.6 y versiones posteriores</span><span class="sxs-lookup"><span data-stu-id="e53d1-195">Migrating projects to Azure SDK 2.6 and later</span></span>
<span data-ttu-id="e53d1-196">Al migrar de Azure SDK 2.5 a Azure SDK 2.6 o versiones posteriores, si tenía una cuenta de almacenamiento de diagnósticos especificada en el archivo .wadcfgx, permanecerá allí.</span><span class="sxs-lookup"><span data-stu-id="e53d1-196">When migrating from Azure SDK 2.5 to Azure SDK 2.6 or later, if you had a diagnostics storage account specified in the .wadcfgx file, then it will stay there.</span></span> <span data-ttu-id="e53d1-197">Para aprovechar la flexibilidad de utilizar cuentas de almacenamiento diferentes para distintas configuraciones de almacenamiento, tendrá que agregar manualmente la cadena de conexión al proyecto.</span><span class="sxs-lookup"><span data-stu-id="e53d1-197">To take advantage of the flexibility of using different storage accounts for different storage configurations, you'll have to manually add the connection string to your project.</span></span> <span data-ttu-id="e53d1-198">Si está migrando un proyecto de Azure SDK 2.4 o una versión anterior a Azure SDK 2.6, se conservarán las cadenas de conexión de diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="e53d1-198">If you're migrating a project from Azure SDK 2.4 or earlier to Azure SDK 2.6, then the diagnostics connection strings are preserved.</span></span> <span data-ttu-id="e53d1-199">Sin embargo, tenga en cuenta los cambios en cómo se tratan las cadenas de conexión en Azure SDK 2.6 tal como se especifica en la sección anterior.</span><span class="sxs-lookup"><span data-stu-id="e53d1-199">However, please note the changes in how connection strings are treated in Azure SDK 2.6 as specified in the previous section.</span></span>

#### <a name="how-visual-studio-determines-the-diagnostics-storage-account"></a><span data-ttu-id="e53d1-200">Cómo determina Visual Studio la cuenta de almacenamiento de diagnósticos</span><span class="sxs-lookup"><span data-stu-id="e53d1-200">How Visual Studio determines the diagnostics storage account</span></span>
* <span data-ttu-id="e53d1-201">Si se especifica una cadena de conexión de diagnóstico en el archivo .cscfg, Visual Studio lo usa para configurar la extensión de diagnóstico al publicar y al generar los archivos xml de configuración pública durante el empaquetado.</span><span class="sxs-lookup"><span data-stu-id="e53d1-201">If a diagnostics connection string is specified in the .cscfg file, Visual Studio uses it to configure the diagnostics extension when publishing, and when generating the public configuration xml files during packaging.</span></span>
* <span data-ttu-id="e53d1-202">Si no se especifica ninguna cadena de conexión de diagnóstico en el archivo .cscfg, Visual Studio recurre a usar la cuenta de almacenamiento especificada en el archivo .wadcfgx para configurar la extensión de diagnóstico al publicar, y a generar los archivos xml de configuración pública durante el empaquetado.</span><span class="sxs-lookup"><span data-stu-id="e53d1-202">If no diagnostics connection string is specified in the .cscfg file, then Visual Studio falls back to using the storage account specified in the .wadcfgx file to configure the diagnostics extension when publishing, and generating the public configuration xml files when packaging.</span></span>
* <span data-ttu-id="e53d1-203">La cadena de conexión de diagnóstico del archivo .cscfg tiene prioridad sobre la cuenta de almacenamiento del archivo .wadcfgx.</span><span class="sxs-lookup"><span data-stu-id="e53d1-203">The diagnostics connection string in the .cscfg file takes precedence over the storage account in the .wadcfgx file.</span></span> <span data-ttu-id="e53d1-204">Si se especifica una cadena de conexión de diagnóstico en el archivo .cscfg, Visual Studio la usa y omite la cuenta de almacenamiento en .wadcfgx.</span><span class="sxs-lookup"><span data-stu-id="e53d1-204">If a diagnostics connection string is specified in the .cscfg file, then Visual Studio uses that and ignores the storage account in .wadcfgx.</span></span>

#### <a name="what-does-the-update-development-storage-connection-strings-checkbox-do"></a><span data-ttu-id="e53d1-205">¿Qué hace la casilla "Actualizar las cadenas de conexión de almacenamiento de</span><span class="sxs-lookup"><span data-stu-id="e53d1-205">What does the "Update development storage connection strings…"</span></span> <span data-ttu-id="e53d1-206">desarrollo..."?</span><span class="sxs-lookup"><span data-stu-id="e53d1-206">checkbox do?</span></span>
<span data-ttu-id="e53d1-207">La casilla **Actualizar las cadenas de conexión de almacenamiento de desarrollo para el diagnóstico y el almacenamiento en caché con las credenciales de la cuenta de almacenamiento de Microsoft Azure al publicar en Microsoft Azure** le ofrece una manera cómoda de actualizar cualquier cadena de conexión de cuenta de almacenamiento de desarrollo con la cuenta de almacenamiento de Azure especificada durante la publicación.</span><span class="sxs-lookup"><span data-stu-id="e53d1-207">The checkbox for **Update development storage connection strings for Diagnostics and Caching with Microsoft Azure storage account credentials when publishing to Microsoft Azure** gives you a convenient way to update any development storage account connection strings with the Azure storage account specified during publishing.</span></span>

<span data-ttu-id="e53d1-208">Por ejemplo, supongamos que activa esta casilla y la cadena de conexión de diagnóstico especifica `UseDevelopmentStorage=true`.</span><span class="sxs-lookup"><span data-stu-id="e53d1-208">For example, suppose you select this checkbox and the diagnostics connection string specifies `UseDevelopmentStorage=true`.</span></span> <span data-ttu-id="e53d1-209">Al publicar el proyecto en Azure, Visual Studio actualizará automáticamente la cadena de conexión de diagnóstico con la cuenta de almacenamiento que especificó en el Asistente para publicación.</span><span class="sxs-lookup"><span data-stu-id="e53d1-209">When you publish the project to Azure, Visual Studio will automatically update the diagnostics connection string with the storage account you specified in the Publish wizard.</span></span> <span data-ttu-id="e53d1-210">Sin embargo, si se especificó una cuenta de almacenamiento real como la cadena de conexión de diagnóstico, se usará dicha cuenta en su lugar.</span><span class="sxs-lookup"><span data-stu-id="e53d1-210">However, if a real storage account was specified as the diagnostics connection string, then that account is used instead.</span></span>

### <a name="diagnostics-functionality-differences-between-azure-sdk-24-and-earlier-and-azure-sdk-25-and-later"></a><span data-ttu-id="e53d1-211">Diferencias de funcionalidad de diagnóstico entre Azure SDK 2.4 y versiones anteriores y Azure SDK 2.5 y versiones posteriores</span><span class="sxs-lookup"><span data-stu-id="e53d1-211">Diagnostics functionality differences between Azure SDK 2.4 and earlier and Azure SDK 2.5 and later</span></span>
<span data-ttu-id="e53d1-212">Si está actualizando su proyecto de Azure SDK 2.4 a Azure SDK 2.5 o versiones posteriores, debe tener en cuenta las siguientes diferencias de funcionalidad de diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="e53d1-212">If you're upgrading your project from Azure SDK 2.4 to Azure SDK 2.5 or later, you should bear in mind the following diagnostics functionality differences.</span></span>

* <span data-ttu-id="e53d1-213">**Las API de configuración están desusadas** : la configuración mediante programación del diagnóstico está disponible en Azure SDK 2.4 o versiones anteriores, pero está en desuso en Azure SDK 2.5 y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="e53d1-213">**Configuration APIs are deprecated** – Programmatic configuration of diagnostics is available in Azure SDK 2.4 or earlier versions, but is deprecated in Azure SDK 2.5 and later.</span></span> <span data-ttu-id="e53d1-214">Si la configuración de diagnóstico está definida actualmente en el código, deberá volver a definir esa configuración desde el principio en el proyecto migrado para que el diagnóstico siga funcionando.</span><span class="sxs-lookup"><span data-stu-id="e53d1-214">If your diagnostics configuration is currently defined in code, you'll need to reconfigure those settings from scratch in the migrated project in order for diagnostics to keep working.</span></span> <span data-ttu-id="e53d1-215">El archivo de configuración de diagnóstico de Azure SDK 2.4 es diagnostics.wadcfg y diagnostics.wadcfgx, para Azure SDK 2.5 y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="e53d1-215">The diagnostics configuration file for Azure SDK 2.4 is diagnostics.wadcfg, and diagnostics.wadcfgx for Azure SDK 2.5 and later.</span></span>
* <span data-ttu-id="e53d1-216">**El diagnóstico para aplicaciones de servicio en la nube solo se puede configurar en el nivel de rol, no en el nivel de instancia.**</span><span class="sxs-lookup"><span data-stu-id="e53d1-216">**Diagnostics for cloud service applications can only be configured at the role level, not at the instance level.**</span></span>
* <span data-ttu-id="e53d1-217">**Cada vez que implementa la aplicación, se actualiza la configuración de diagnóstico** : esto puede provocar problemas de paridad si cambia la configuración de diagnóstico del Explorador de servidores y luego vuelve a implementar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="e53d1-217">**Every time you deploy your app, the diagnostics configuration is updated** – This can cause parity issues if you change your diagnostics configuration from Server Explorer and then redeploy your app.</span></span>
* <span data-ttu-id="e53d1-218">**En Azure SDK 2.5 y versiones posteriores, los volcados de memoria se configuran en el archivo de configuración de diagnóstico, no en el código** : si tiene volcados de memoria configurados en el código, tendrá que transferir manualmente la configuración del código al archivo de configuración, porque los volcados de memoria no se transfieren durante la migración a Azure SDK 2.6.</span><span class="sxs-lookup"><span data-stu-id="e53d1-218">**In Azure SDK 2.5 and later, crash dumps are configured in the diagnostics configuration file, not in code** – If you have crash dumps configured in code, you'll have to manually transfer the configuration from code to the configuration file, because the crash dumps aren't transferred during the migration to Azure SDK 2.6.</span></span>

