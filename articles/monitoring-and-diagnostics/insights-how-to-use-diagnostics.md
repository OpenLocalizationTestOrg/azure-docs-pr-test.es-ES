---
title: "Habilitación de la supervisión y el diagnóstico de Microsoft Azure | Microsoft Docs"
description: "Obtenga información acerca de la configuración del diagnóstico de los recursos en Azure."
author: rboucher
manager: carolz
editor: 
services: monitoring-and-diagnostics
documentationcenter: monitoring-and-diagnostics
ms.assetid: af1947a9-c211-4aa1-8924-880a86240be4
ms.service: monitoring-and-diagnostics
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/06/2017
ms.author: robb
ms.openlocfilehash: b82bb1ab419831e803689edb2a2a7fe256dde5a2
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 07/11/2017
---
# <a name="enable-monitoring-and-diagnostics"></a><span data-ttu-id="cdd83-103">Habilitación de supervisión y diagnóstico</span><span class="sxs-lookup"><span data-stu-id="cdd83-103">Enable monitoring and diagnostics</span></span>
<span data-ttu-id="cdd83-104">En el [Portal Azure](https://portal.azure.com), puede configurar datos exhaustivos y frecuentes de supervisión y diagnóstico sobre sus recursos.</span><span class="sxs-lookup"><span data-stu-id="cdd83-104">In the [Azure Portal](https://portal.azure.com), you can configure rich, frequent, monitoring and diagnostics data about your resources.</span></span> <span data-ttu-id="cdd83-105">También puede usar la [API de REST](https://msdn.microsoft.com/library/azure/dn931932.aspx) o el [SDK de .NET](http://www.nuget.org/packages/Microsoft.Azure.Management.Monitor) para configurar diagnósticos mediante programación.</span><span class="sxs-lookup"><span data-stu-id="cdd83-105">You can also use the [REST API](https://msdn.microsoft.com/library/azure/dn931932.aspx) or [.NET SDK](http://www.nuget.org/packages/Microsoft.Azure.Management.Monitor) to configure diagnostics programmatically.</span></span>

<span data-ttu-id="cdd83-106">Los datos de diagnóstico, supervisión y métrica de Azure se guardan en una cuenta de almacenamiento de su elección.</span><span class="sxs-lookup"><span data-stu-id="cdd83-106">Diagnostics, monitoring and metric data in Azure is saved into a Storage account of your choice.</span></span> <span data-ttu-id="cdd83-107">Esto le permite usar las herramientas que quiera, desde un explorador de almacenamiento, pasando por Power BI hasta herramientas de terceros, para leer los datos.</span><span class="sxs-lookup"><span data-stu-id="cdd83-107">This allows you to use whatever tooling you want to read the data, from a storage explorer, to Power BI to third-party tooling.</span></span>

## <a name="when-you-create-a-resource"></a><span data-ttu-id="cdd83-108">Cuando se crea un recurso</span><span class="sxs-lookup"><span data-stu-id="cdd83-108">When you create a resource</span></span>
<span data-ttu-id="cdd83-109">La mayoría de los servicios le permiten habilitar el diagnóstico cuando los crea por primera vez en el [Portal Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="cdd83-109">Most services allow you to enable diagnostics when you first create them in the [Azure Portal](https://portal.azure.com).</span></span>

1. <span data-ttu-id="cdd83-110">Vaya a **Nuevo** y elija el recurso que le interesa.</span><span class="sxs-lookup"><span data-stu-id="cdd83-110">Go to **New** and choose the resource you are interested in.</span></span>
2. <span data-ttu-id="cdd83-111">Seleccione **Configuración opcional**.</span><span class="sxs-lookup"><span data-stu-id="cdd83-111">Select **Optional configuration**.</span></span>
    <span data-ttu-id="cdd83-112">![Hoja Diagnósticos](./media/insights-how-to-use-diagnostics/Insights_CreateTime.png)</span><span class="sxs-lookup"><span data-stu-id="cdd83-112">![Diagnostics blade](./media/insights-how-to-use-diagnostics/Insights_CreateTime.png)</span></span>
3. <span data-ttu-id="cdd83-113">Seleccione **Diagnósticos** y haga clic en **Activar**.</span><span class="sxs-lookup"><span data-stu-id="cdd83-113">Select **Diagnostics**, and click **On**.</span></span> <span data-ttu-id="cdd83-114">Deberá elegir la cuenta de almacenamiento en la que quiere que se guarden los diagnósticos.</span><span class="sxs-lookup"><span data-stu-id="cdd83-114">You will need to choose the Storage account that you want diagnostics to be saved to.</span></span> <span data-ttu-id="cdd83-115">Cuando envíe diagnósticos a una cuenta de almacenamiento, se le cobrará de acuerdo a las tarifas de datos normales relativas a almacenamiento y transacciones.</span><span class="sxs-lookup"><span data-stu-id="cdd83-115">You’ll be charged normal data rates for storage and transactions when you send diagnostics to a storage account.</span></span>
4. <span data-ttu-id="cdd83-116">Haga clic en **Aceptar** y cree el recurso.</span><span class="sxs-lookup"><span data-stu-id="cdd83-116">Click **OK** and create the resource.</span></span>

## <a name="change-settings-for-an-existing-resource"></a><span data-ttu-id="cdd83-117">Cambio de la configuración de un recurso existente</span><span class="sxs-lookup"><span data-stu-id="cdd83-117">Change settings for an existing resource</span></span>
<span data-ttu-id="cdd83-118">Si ya ha creado un recurso y desea cambiar la configuración de diagnóstico (para cambiar el nivel de recopilación de datos, por ejemplo), puede hacerlo directamente en el Portal de Azure.</span><span class="sxs-lookup"><span data-stu-id="cdd83-118">If you have already created a resource and you want to change the diagnostics settings (to change the level of data collection, for example), you can do that right in the Azure Portal.</span></span>

1. <span data-ttu-id="cdd83-119">Vaya al recurso y haga clic en el comando **Configuración** .</span><span class="sxs-lookup"><span data-stu-id="cdd83-119">Go to the resource and click the **Settings** command.</span></span>
2. <span data-ttu-id="cdd83-120">Haga clic en **Diagnósticos**.</span><span class="sxs-lookup"><span data-stu-id="cdd83-120">Select **Diagnostics**.</span></span>
3. <span data-ttu-id="cdd83-121">La hoja **Diagnósticos** contiene todos los datos posibles recopilados sobre supervisión y diagnóstico asociados con ese recurso.</span><span class="sxs-lookup"><span data-stu-id="cdd83-121">The **Diagnostics** blade has all of the possible diagnostics and monitoring collection data for that resource.</span></span> <span data-ttu-id="cdd83-122">En algunos recursos también puede elegir una directiva de **Retención** para los datos, para limpiarlos de la cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="cdd83-122">For some resources you can also choose a **Retention** policy for the data, to clean it up from your storage account.</span></span>
    <span data-ttu-id="cdd83-123">![Diagnósticos de almacenamiento](./media/insights-how-to-use-diagnostics/Insights_StorageDiagnostics.png)</span><span class="sxs-lookup"><span data-stu-id="cdd83-123">![Storage diagnostics](./media/insights-how-to-use-diagnostics/Insights_StorageDiagnostics.png)</span></span>
4. <span data-ttu-id="cdd83-124">Después de que haya elegido la configuración, haga clic en el comando **Guardar** .</span><span class="sxs-lookup"><span data-stu-id="cdd83-124">Once you've chosen your settings, click the **Save** command.</span></span> <span data-ttu-id="cdd83-125">Puede que los datos de supervisión tarden un rato en mostrarse si es la primera vez que habilita esta opción.</span><span class="sxs-lookup"><span data-stu-id="cdd83-125">It may take a little while for monitoring data to show up if you are enabling it for the first time.</span></span>

### <a name="categories-of-data-collection-for-virtual-machines"></a><span data-ttu-id="cdd83-126">Categorías de recopilación de datos para máquinas virtuales</span><span class="sxs-lookup"><span data-stu-id="cdd83-126">Categories of data collection for virtual machines</span></span>
<span data-ttu-id="cdd83-127">Todos los registros y métricas de las máquinas virtuales se registran a intervalos de un minuto, así que siempre dispondrá de la información más actualizada sobre la máquina.</span><span class="sxs-lookup"><span data-stu-id="cdd83-127">For virtual machines all metrics and logs will be recorded at one-minute intervals, so you can always have the most up-to-date information about your machine.</span></span>

* <span data-ttu-id="cdd83-128">**Métricas básicas** : métricas de mantenimiento sobre la máquina virtual, como el procesador y la memoria.</span><span class="sxs-lookup"><span data-stu-id="cdd83-128">**Basic metrics** : Health metrics about your virtual machine such as processor and memory</span></span>
* <span data-ttu-id="cdd83-129">**Métricas web y de red** : métricas sobre las conexiones de red y los servicios web.</span><span class="sxs-lookup"><span data-stu-id="cdd83-129">**Network and web metrics** : Metrics about your network connections and web services</span></span>
* <span data-ttu-id="cdd83-130">**Métricas .NET** : métricas sobre las aplicaciones .NET y ASP.NET que se ejecutan en la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="cdd83-130">**.NET metrics** : Metrics about the .NET and ASP.NET applications running on your virtual machine</span></span>
* <span data-ttu-id="cdd83-131">**Métricas SQL** : si está ejecutando el servicio SQL de Microsoft, sus métricas de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="cdd83-131">**SQL metrics** : If you are running Microsoft SQL Service, its performance metrics</span></span>
* <span data-ttu-id="cdd83-132">**Registros de la aplicación de eventos de Windows** : los eventos de Windows que se envían al canal de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="cdd83-132">**Windows event application logs** : Windows events that are sent to the application channel</span></span>
* <span data-ttu-id="cdd83-133">**Registros del sistema de eventos de Windows** : los eventos de Windows que se envían al canal del sistema.</span><span class="sxs-lookup"><span data-stu-id="cdd83-133">**Windows event system logs** : Windows events that are sent to the system channel.</span></span> <span data-ttu-id="cdd83-134">También se incluyen todos los eventos de [Microsoft Antimalware](http://go.microsoft.com/fwlink/?LinkID=404171&clcid=0x409).</span><span class="sxs-lookup"><span data-stu-id="cdd83-134">This also includes all events from [Microsoft Antimalware](http://go.microsoft.com/fwlink/?LinkID=404171&clcid=0x409).</span></span>
* <span data-ttu-id="cdd83-135">**Registros de seguridad de eventos de Windows** : los eventos de Windows que se envían al canal de seguridad.</span><span class="sxs-lookup"><span data-stu-id="cdd83-135">**Windows event security logs** : Windows events that are sent to the security channel</span></span>
* <span data-ttu-id="cdd83-136">**Registros de infraestructura de diagnóstico** : registro sobre la infraestructura de recopilación de diagnósticos.</span><span class="sxs-lookup"><span data-stu-id="cdd83-136">**Diagnostics infrastructure logs** : Logging about the diagnostics collection infrastructure</span></span>
* <span data-ttu-id="cdd83-137">**Registros IIS** : registros sobre su servidor IIS.</span><span class="sxs-lookup"><span data-stu-id="cdd83-137">**IIS logs** : Logs about your IIS server</span></span>

<span data-ttu-id="cdd83-138">Tenga en cuenta que actualmente no se admiten algunas distribuciones de Linux y que, además, el agente invitado debe instalarse en la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="cdd83-138">Note that at this time certain distributions of Linux are not supported, and, the Guest Agent must be installed on the virtual machine.</span></span>

## <a name="next-steps"></a><span data-ttu-id="cdd83-139">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="cdd83-139">Next steps</span></span>
* <span data-ttu-id="cdd83-140">[Reciba notificaciones de alerta](insights-receive-alert-notifications.md) cada vez que se produzcan eventos de operaciones o las métricas traspasen un umbral.</span><span class="sxs-lookup"><span data-stu-id="cdd83-140">[Receive alert notifications](insights-receive-alert-notifications.md) whenever operational events happen or metrics cross a threshold.</span></span>
* <span data-ttu-id="cdd83-141">[Supervise las métricas de servicio](insights-how-to-customize-monitoring.md) para asegurarse de que el servicio está disponible y responde correctamente.</span><span class="sxs-lookup"><span data-stu-id="cdd83-141">[Monitor service metrics](insights-how-to-customize-monitoring.md) to make sure your service is available and responsive.</span></span>
* <span data-ttu-id="cdd83-142">[Escale el número de instancias automáticamente](insights-how-to-scale.md) para asegurarse de que la escala de servicio está basada en la demanda.</span><span class="sxs-lookup"><span data-stu-id="cdd83-142">[Scale instance count automatically](insights-how-to-scale.md) to make sure your service scale based on demand.</span></span>
* <span data-ttu-id="cdd83-143">[Supervise el rendimiento de la aplicación](../application-insights/app-insights-azure-web-apps.md) si desea comprender exactamente cómo funciona su código en la nube.</span><span class="sxs-lookup"><span data-stu-id="cdd83-143">[Monitor application performance](../application-insights/app-insights-azure-web-apps.md) if you want to understand exactly how your code is performing in the cloud.</span></span>
* <span data-ttu-id="cdd83-144">[Vea eventos y el registro de actividades](insights-debugging-with-events.md) para saber todo lo que ha sucedido en el servicio.</span><span class="sxs-lookup"><span data-stu-id="cdd83-144">[View events and activity log](insights-debugging-with-events.md) to learn everything that has happened in your service.</span></span>
* <span data-ttu-id="cdd83-145">[Realice el seguimiento del estado del servicio](insights-service-health.md) para averiguar cuándo ha sufrido  Azure interrupciones del servicio o degradación del rendimiento.</span><span class="sxs-lookup"><span data-stu-id="cdd83-145">[Track service health](insights-service-health.md) to find out when Azure has experienced performance degradation or service interruptions.</span></span>

