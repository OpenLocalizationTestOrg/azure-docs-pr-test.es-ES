---
title: "aaaArchive registros de diagnóstico de Azure | Documentos de Microsoft"
description: "Obtenga información acerca de cómo tooarchive el diagnóstico de Azure registra para la retención a largo plazo en una cuenta de almacenamiento."
author: johnkemnetz
manager: orenr
editor: 
services: monitoring-and-diagnostics
documentationcenter: monitoring-and-diagnostics
ms.assetid: 3a55c73f-2ef3-45f3-8956-bcf9c0cb7e05
ms.service: monitoring-and-diagnostics
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/21/2017
ms.author: johnkem
ms.openlocfilehash: bc9edbd3a649023a728b7fe77130dba2b6e6370d
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="archive-azure-diagnostic-logs"></a><span data-ttu-id="3eeea-103">Archivo de registros de diagnóstico de Azure</span><span class="sxs-lookup"><span data-stu-id="3eeea-103">Archive Azure Diagnostic Logs</span></span>
<span data-ttu-id="3eeea-104">En este artículo, le mostramos cómo puede usar hello portal de Azure, Cmdlets de PowerShell, CLI, o tooarchive de API de REST su [registros de diagnóstico de Azure](monitoring-overview-of-diagnostic-logs.md) en una cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="3eeea-104">In this article, we show how you can use hello Azure portal, PowerShell Cmdlets, CLI, or REST API tooarchive your [Azure diagnostic logs](monitoring-overview-of-diagnostic-logs.md) in a storage account.</span></span> <span data-ttu-id="3eeea-105">Esta opción es útil si desea que tooretain el diagnóstico se registra con una directiva de retención opcional para auditorías, análisis estático o copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="3eeea-105">This option is useful if you would like tooretain your diagnostic logs with an optional retention policy for audit, static analysis, or backup.</span></span> <span data-ttu-id="3eeea-106">cuenta de almacenamiento de Hello no tiene toobe Hola misma suscripción como recurso de hello emitir registros como usuario de Hola que configura los valores de hello tiene suscripciones de tooboth de acceso RBAC adecuadas.</span><span class="sxs-lookup"><span data-stu-id="3eeea-106">hello storage account does not have toobe in hello same subscription as hello resource emitting logs as long as hello user who configures hello setting has appropriate RBAC access tooboth subscriptions.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="3eeea-107">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="3eeea-107">Prerequisites</span></span>
<span data-ttu-id="3eeea-108">Antes de empezar, necesita demasiado[crear una cuenta de almacenamiento](../storage/storage-create-storage-account.md) toowhich puede archivar los registros de diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="3eeea-108">Before you begin, you need too[create a storage account](../storage/storage-create-storage-account.md) toowhich you can archive your diagnostic logs.</span></span> <span data-ttu-id="3eeea-109">Se recomienda encarecidamente que no utilice una cuenta de almacenamiento existente que tiene otros, sin supervisión de los datos almacenados en ella para que puedan controlar mejor toomonitoring acceder a los datos.</span><span class="sxs-lookup"><span data-stu-id="3eeea-109">We highly recommend that you do not use an existing storage account that has other, non-monitoring data stored in it so that you can better control access toomonitoring data.</span></span> <span data-ttu-id="3eeea-110">Sin embargo, si también va a archivar el registro de actividad y la cuenta de almacenamiento de tooa de métricas de diagnóstico, puede que tenga sentido toouse esa cuenta de almacenamiento para los registros de diagnóstico también tookeep todos los datos de supervisión en una ubicación central.</span><span class="sxs-lookup"><span data-stu-id="3eeea-110">However, if you are also archiving your Activity Log and diagnostic metrics tooa storage account, it may make sense toouse that storage account for your diagnostic logs as well tookeep all monitoring data in a central location.</span></span> <span data-ttu-id="3eeea-111">cuenta de almacenamiento de Hola que use debe ser una cuenta de almacenamiento de propósito general, no una cuenta de almacenamiento de blobs.</span><span class="sxs-lookup"><span data-stu-id="3eeea-111">hello storage account you use must be a general purpose storage account, not a blob storage account.</span></span>

## <a name="diagnostic-settings"></a><span data-ttu-id="3eeea-112">Configuración de diagnóstico</span><span class="sxs-lookup"><span data-stu-id="3eeea-112">Diagnostic settings</span></span>
<span data-ttu-id="3eeea-113">tooarchive el diagnóstico de registros mediante cualquiera de los siguientes métodos de hello, establezca un **configuración diagnóstico** para un recurso concreto.</span><span class="sxs-lookup"><span data-stu-id="3eeea-113">tooarchive your diagnostic logs using any of hello methods below, you set a **diagnostic setting** for a particular resource.</span></span> <span data-ttu-id="3eeea-114">Una configuración de diagnóstico para un recurso define las categorías de Hola de registros y datos métricos envían tooa destino (cuenta de almacenamiento, el espacio de nombres de los centros de eventos o análisis de registros).</span><span class="sxs-lookup"><span data-stu-id="3eeea-114">A diagnostic setting for a resource defines hello categories of logs and metric data sent tooa destination (storage account, Event Hubs namespace, or Log Analytics).</span></span> <span data-ttu-id="3eeea-115">También define la directiva de retención de hello (número de días tooretain) para los eventos de cada categoría de registro y datos de métrica almacenados en una cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="3eeea-115">It also defines hello retention policy (number of days tooretain) for events of each log category and metric data stored in a storage account.</span></span> <span data-ttu-id="3eeea-116">Si una directiva de retención se establece toozero, eventos de esa categoría de registro se almacenan indefinidamente (es decir, toosay, indefinidamente).</span><span class="sxs-lookup"><span data-stu-id="3eeea-116">If a retention policy is set toozero, events for that log category are stored indefinitely (that is toosay, forever).</span></span> <span data-ttu-id="3eeea-117">De lo contrario, una directiva de retención puede ser cualquier número de días comprendido entre 1 y 2147483647.</span><span class="sxs-lookup"><span data-stu-id="3eeea-117">A retention policy can otherwise be any number of days between 1 and 2147483647.</span></span> <span data-ttu-id="3eeea-118">[Puede leer más acerca de estas opciones de diagnóstico aquí](monitoring-overview-of-diagnostic-logs.md#resource-diagnostic-settings).</span><span class="sxs-lookup"><span data-stu-id="3eeea-118">[You can read more about diagnostic settings here](monitoring-overview-of-diagnostic-logs.md#resource-diagnostic-settings).</span></span> <span data-ttu-id="3eeea-119">Las directivas de retención son aplicado por día, por lo que en hello final de un día (UTC), los registros de día de Hola que es ahora más allá de la directiva de retención de Hola se eliminarán.</span><span class="sxs-lookup"><span data-stu-id="3eeea-119">Retention policies are applied per-day, so at hello end of a day (UTC), logs from hello day that is now beyond hello retention policy will be deleted.</span></span> <span data-ttu-id="3eeea-120">Por ejemplo, si tuviera una directiva de retención de un día, en principio de Hola de hoy día de Hola Hola registros de hello anteayer se eliminarán</span><span class="sxs-lookup"><span data-stu-id="3eeea-120">For example, if you had a retention policy of one day, at hello beginning of hello day today hello logs from hello day before yesterday would be deleted</span></span>

## <a name="archive-diagnostic-logs-using-hello-portal"></a><span data-ttu-id="3eeea-121">Registros de diagnóstico de archivo mediante el portal de Hola</span><span class="sxs-lookup"><span data-stu-id="3eeea-121">Archive diagnostic logs using hello portal</span></span>
1. <span data-ttu-id="3eeea-122">En el portal de hello, navegue tooAzure Monitor y haga clic en **configuración de diagnóstico**</span><span class="sxs-lookup"><span data-stu-id="3eeea-122">In hello portal, navigate tooAzure Monitor and click on **Diagnostic Settings**</span></span>

    ![Sección de supervisión de Azure Monitor](media/monitoring-archive-diagnostic-logs/diagnostic-settings-blade.png)

2. <span data-ttu-id="3eeea-124">Si lo desea Hola lista Filtrar por tipo de recurso o grupo de recursos, a continuación, haga clic en el recurso de hello para el que le gustaría tooset una configuración de diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="3eeea-124">Optionally filter hello list by resource group or resource type, then click on hello resource for which you would like tooset a diagnostic setting.</span></span>

3. <span data-ttu-id="3eeea-125">Si ninguna configuración existe en el recurso de Hola que ha seleccionado, son toocreate solicitada una configuración.</span><span class="sxs-lookup"><span data-stu-id="3eeea-125">If no settings exist on hello resource you have selected, you are prompted toocreate a setting.</span></span> <span data-ttu-id="3eeea-126">Haga clic en "Activar diagnóstico".</span><span class="sxs-lookup"><span data-stu-id="3eeea-126">Click "Turn on diagnostics."</span></span>

   ![Agregar configuración de diagnóstico: sin configuración actual](media/monitoring-archive-diagnostic-logs/diagnostic-settings-none.png)

   <span data-ttu-id="3eeea-128">Si hay una configuración existente en el recurso de hello, verá una lista de configuraciones ya configurado en este recurso.</span><span class="sxs-lookup"><span data-stu-id="3eeea-128">If there are existing settings on hello resource, you will see a list of settings already configured on this resource.</span></span> <span data-ttu-id="3eeea-129">Haga clic en "Agregar configuración de diagnóstico".</span><span class="sxs-lookup"><span data-stu-id="3eeea-129">Click "Add diagnostic setting."</span></span>

   ![Agregar configuración de diagnóstico: configuración actual](media/monitoring-archive-diagnostic-logs/diagnostic-settings-multiple.png)

3. <span data-ttu-id="3eeea-131">Asigne un nombre de su configuración y casilla hello para **exportar tooStorage cuenta**, a continuación, seleccione una cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="3eeea-131">Give your setting a name and check hello box for **Export tooStorage Account**, then select a storage account.</span></span> <span data-ttu-id="3eeea-132">También puede establecer un número de días tooretain estos registros mediante el uso de hello **retención (días)** controles deslizantes.</span><span class="sxs-lookup"><span data-stu-id="3eeea-132">Optionally, set a number of days tooretain these logs by using hello **Retention (days)** sliders.</span></span> <span data-ttu-id="3eeea-133">Una retención de cero días almacena los registros de hello indefinidamente.</span><span class="sxs-lookup"><span data-stu-id="3eeea-133">A retention of zero days stores hello logs indefinitely.</span></span>
   
   ![Agregar configuración de diagnóstico: configuración actual](media/monitoring-archive-diagnostic-logs/diagnostic-settings-configure.png)
    
4. <span data-ttu-id="3eeea-135">Haga clic en **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="3eeea-135">Click **Save**.</span></span>

<span data-ttu-id="3eeea-136">Transcurridos unos instantes, nueva configuración de hello aparece en la lista de valores para este recurso, y registros de diagnóstico son almacenamiento de archivado toothat cuenta tan pronto como se generan nuevos datos de evento.</span><span class="sxs-lookup"><span data-stu-id="3eeea-136">After a few moments, hello new setting appears in your list of settings for this resource, and diagnostic logs are archived toothat storage account as soon as new event data is generated.</span></span>

## <a name="archive-diagnostic-logs-via-azure-powershell"></a><span data-ttu-id="3eeea-137">Archivo de registros de diagnóstico mediante Azure PowerShell</span><span class="sxs-lookup"><span data-stu-id="3eeea-137">Archive diagnostic logs via Azure PowerShell</span></span>
```
Set-AzureRmDiagnosticSetting -ResourceId /subscriptions/s1id1234-5679-0123-4567-890123456789/resourceGroups/testresourcegroup/providers/Microsoft.Network/networkSecurityGroups/testnsg -StorageAccountId /subscriptions/s1id1234-5679-0123-4567-890123456789/resourceGroups/myrg1/providers/Microsoft.Storage/storageAccounts/my_storage -Categories networksecuritygroupevent,networksecuritygrouprulecounter -Enabled $true -RetentionEnabled $true -RetentionInDays 90
```

| <span data-ttu-id="3eeea-138">Propiedad</span><span class="sxs-lookup"><span data-stu-id="3eeea-138">Property</span></span> | <span data-ttu-id="3eeea-139">Obligatorio</span><span class="sxs-lookup"><span data-stu-id="3eeea-139">Required</span></span> | <span data-ttu-id="3eeea-140">Description</span><span class="sxs-lookup"><span data-stu-id="3eeea-140">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="3eeea-141">ResourceId</span><span class="sxs-lookup"><span data-stu-id="3eeea-141">ResourceId</span></span> |<span data-ttu-id="3eeea-142">Sí</span><span class="sxs-lookup"><span data-stu-id="3eeea-142">Yes</span></span> |<span data-ttu-id="3eeea-143">Identificador de recurso del recurso de hello en el que desea que tooset una configuración de diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="3eeea-143">Resource ID of hello resource on which you want tooset a diagnostic setting.</span></span> |
| <span data-ttu-id="3eeea-144">StorageAccountId</span><span class="sxs-lookup"><span data-stu-id="3eeea-144">StorageAccountId</span></span> |<span data-ttu-id="3eeea-145">No</span><span class="sxs-lookup"><span data-stu-id="3eeea-145">No</span></span> |<span data-ttu-id="3eeea-146">Se debe guardar el Id. de recurso de la cuenta de almacenamiento de hello toowhich registros de diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="3eeea-146">Resource ID of hello Storage Account toowhich Diagnostic Logs should be saved.</span></span> |
| <span data-ttu-id="3eeea-147">Categorías</span><span class="sxs-lookup"><span data-stu-id="3eeea-147">Categories</span></span> |<span data-ttu-id="3eeea-148">No</span><span class="sxs-lookup"><span data-stu-id="3eeea-148">No</span></span> |<span data-ttu-id="3eeea-149">Lista separada por comas de tooenable de categorías de registro.</span><span class="sxs-lookup"><span data-stu-id="3eeea-149">Comma-separated list of log categories tooenable.</span></span> |
| <span data-ttu-id="3eeea-150">habilitado</span><span class="sxs-lookup"><span data-stu-id="3eeea-150">Enabled</span></span> |<span data-ttu-id="3eeea-151">Sí</span><span class="sxs-lookup"><span data-stu-id="3eeea-151">Yes</span></span> |<span data-ttu-id="3eeea-152">Valor booleano que indica si los diagnósticos están habilitados o deshabilitados en este recurso.</span><span class="sxs-lookup"><span data-stu-id="3eeea-152">Boolean indicating whether diagnostics are enabled or disabled on this resource.</span></span> |
| <span data-ttu-id="3eeea-153">RetentionEnabled</span><span class="sxs-lookup"><span data-stu-id="3eeea-153">RetentionEnabled</span></span> |<span data-ttu-id="3eeea-154">No</span><span class="sxs-lookup"><span data-stu-id="3eeea-154">No</span></span> |<span data-ttu-id="3eeea-155">Valor booleano que indica si está habilitada una directiva de retención en este recurso.</span><span class="sxs-lookup"><span data-stu-id="3eeea-155">Boolean indicating if a retention policy are enabled on this resource.</span></span> |
| <span data-ttu-id="3eeea-156">RetentionInDays</span><span class="sxs-lookup"><span data-stu-id="3eeea-156">RetentionInDays</span></span> |<span data-ttu-id="3eeea-157">No</span><span class="sxs-lookup"><span data-stu-id="3eeea-157">No</span></span> |<span data-ttu-id="3eeea-158">Número de días que deben retenerse los eventos, entre 1 y 2147483647.</span><span class="sxs-lookup"><span data-stu-id="3eeea-158">Number of days for which events should be retained between 1 and 2147483647.</span></span> <span data-ttu-id="3eeea-159">Un valor de cero almacena los registros de hello indefinidamente.</span><span class="sxs-lookup"><span data-stu-id="3eeea-159">A value of zero stores hello logs indefinitely.</span></span> |

## <a name="archive-diagnostic-logs-via-hello-cross-platform-cli"></a><span data-ttu-id="3eeea-160">Registros de diagnóstico de almacenamiento a través de hello multiplataforma CLI</span><span class="sxs-lookup"><span data-stu-id="3eeea-160">Archive diagnostic logs via hello Cross-Platform CLI</span></span>
```
azure insights diagnostic set --resourceId /subscriptions/s1id1234-5679-0123-4567-890123456789/resourceGroups/testresourcegroup/providers/Microsoft.Network/networkSecurityGroups/testnsg --storageId /subscriptions/s1id1234-5679-0123-4567-890123456789/resourceGroups/myrg1/providers/Microsoft.Storage/storageAccounts/my_storage –categories networksecuritygroupevent,networksecuritygrouprulecounter --enabled true
```

| <span data-ttu-id="3eeea-161">Propiedad</span><span class="sxs-lookup"><span data-stu-id="3eeea-161">Property</span></span> | <span data-ttu-id="3eeea-162">Obligatorio</span><span class="sxs-lookup"><span data-stu-id="3eeea-162">Required</span></span> | <span data-ttu-id="3eeea-163">Description</span><span class="sxs-lookup"><span data-stu-id="3eeea-163">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="3eeea-164">ResourceId</span><span class="sxs-lookup"><span data-stu-id="3eeea-164">resourceId</span></span> |<span data-ttu-id="3eeea-165">Sí</span><span class="sxs-lookup"><span data-stu-id="3eeea-165">Yes</span></span> |<span data-ttu-id="3eeea-166">Identificador de recurso del recurso de hello en el que desea que tooset una configuración de diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="3eeea-166">Resource ID of hello resource on which you want tooset a diagnostic setting.</span></span> |
| <span data-ttu-id="3eeea-167">storageId</span><span class="sxs-lookup"><span data-stu-id="3eeea-167">storageId</span></span> |<span data-ttu-id="3eeea-168">No</span><span class="sxs-lookup"><span data-stu-id="3eeea-168">No</span></span> |<span data-ttu-id="3eeea-169">Se debe guardar el Id. de recurso de registros de diagnóstico toowhich Hola cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="3eeea-169">Resource ID of hello Storage Account toowhich diagnostic logs should be saved.</span></span> |
| <span data-ttu-id="3eeea-170">Categorías</span><span class="sxs-lookup"><span data-stu-id="3eeea-170">categories</span></span> |<span data-ttu-id="3eeea-171">No</span><span class="sxs-lookup"><span data-stu-id="3eeea-171">No</span></span> |<span data-ttu-id="3eeea-172">Lista separada por comas de tooenable de categorías de registro.</span><span class="sxs-lookup"><span data-stu-id="3eeea-172">Comma-separated list of log categories tooenable.</span></span> |
| <span data-ttu-id="3eeea-173">Enabled</span><span class="sxs-lookup"><span data-stu-id="3eeea-173">enabled</span></span> |<span data-ttu-id="3eeea-174">Sí</span><span class="sxs-lookup"><span data-stu-id="3eeea-174">Yes</span></span> |<span data-ttu-id="3eeea-175">Valor booleano que indica si los diagnósticos están habilitados o deshabilitados en este recurso.</span><span class="sxs-lookup"><span data-stu-id="3eeea-175">Boolean indicating whether diagnostics are enabled or disabled on this resource.</span></span> |

## <a name="archive-diagnostic-logs-via-hello-rest-api"></a><span data-ttu-id="3eeea-176">Registros de diagnóstico de almacenamiento a través de la API de REST de Hola</span><span class="sxs-lookup"><span data-stu-id="3eeea-176">Archive diagnostic logs via hello REST API</span></span>
<span data-ttu-id="3eeea-177">[Consulte este documento](https://docs.microsoft.com/rest/api/monitor/servicediagnosticsettings) para obtener información sobre cómo configurar una configuración de diagnóstico mediante Hola API de REST de Monitor de Azure.</span><span class="sxs-lookup"><span data-stu-id="3eeea-177">[See this document](https://docs.microsoft.com/rest/api/monitor/servicediagnosticsettings) for information on how you can set up a diagnostic setting using hello Azure Monitor REST API.</span></span>

## <a name="schema-of-diagnostic-logs-in-hello-storage-account"></a><span data-ttu-id="3eeea-178">Esquema de registros de diagnóstico en la cuenta de almacenamiento de Hola</span><span class="sxs-lookup"><span data-stu-id="3eeea-178">Schema of diagnostic logs in hello storage account</span></span>
<span data-ttu-id="3eeea-179">Una vez que haya configurado archivado, se crea un contenedor de almacenamiento en la cuenta de almacenamiento de hello en cuanto se produce un evento en una de las categorías de registro de hello que ha habilitado.</span><span class="sxs-lookup"><span data-stu-id="3eeea-179">Once you have set up archival, a storage container is created in hello storage account as soon as an event occurs in one of hello log categories you have enabled.</span></span> <span data-ttu-id="3eeea-180">blobs de Hello en el contenedor de hello siguen Hola mismo dar formato a través de los registros de diagnóstico y registro de actividad de Hola.</span><span class="sxs-lookup"><span data-stu-id="3eeea-180">hello blobs within hello container follow hello same format across Diagnostic Logs and hello Activity Log.</span></span> <span data-ttu-id="3eeea-181">estructura de Hola de estos blobs es:</span><span class="sxs-lookup"><span data-stu-id="3eeea-181">hello structure of these blobs is:</span></span>

> <span data-ttu-id="3eeea-182">insights-logs-{nombre de categoría de registro}/resourceId=/SUBSCRIPTIONS/{id. de suscripción}/RESOURCEGROUPS/{nombre de grupo de recursos}/PROVIDERS/{nombre de proveedor de recursos}/{tipo de recurso}/{nombre de recurso}/y={año con cuatro dígitos}/m={mes con dos dígitos}/d={día con dos dígitos}/h={hora en formato de 24 horas con dos dígitos}/m=00/PT1H.json</span><span class="sxs-lookup"><span data-stu-id="3eeea-182">insights-logs-{log category name}/resourceId=/SUBSCRIPTIONS/{subscription ID}/RESOURCEGROUPS/{resource group name}/PROVIDERS/{resource provider name}/{resource type}/{resource name}/y={four-digit numeric year}/m={two-digit numeric month}/d={two-digit numeric day}/h={two-digit 24-hour clock hour}/m=00/PT1H.json</span></span>
> 
> 

<span data-ttu-id="3eeea-183">O, sencillamente,</span><span class="sxs-lookup"><span data-stu-id="3eeea-183">Or, more simply,</span></span>

> <span data-ttu-id="3eeea-184">insights-logs-{nombre de categoría de registro}/resourceId=/{id. de recurso}/y={año con cuatro dígitos}/m={mes con dos dígitos}/d={día con dos dígitos}/h={hora en formato de 24 horas con dos dígitos}/m=00/PT1H.json</span><span class="sxs-lookup"><span data-stu-id="3eeea-184">insights-logs-{log category name}/resourceId=/{resource Id}/y={four-digit numeric year}/m={two-digit numeric month}/d={two-digit numeric day}/h={two-digit 24-hour clock hour}/m=00/PT1H.json</span></span>
> 
> 

<span data-ttu-id="3eeea-185">Por ejemplo, un nombre de blob podría ser:</span><span class="sxs-lookup"><span data-stu-id="3eeea-185">For example, a blob name might be:</span></span>

> <span data-ttu-id="3eeea-186">insights-logs-networksecuritygrouprulecounter/resourceId=/SUBSCRIPTIONS/s1id1234-5679-0123-4567-890123456789/RESOURCEGROUPS/TESTRESOURCEGROUP/PROVIDERS/MICROSOFT.NETWORK/NETWORKSECURITYGROUP/TESTNSG/y=2016/m=08/d=22/h=18/m=00/PT1H.json</span><span class="sxs-lookup"><span data-stu-id="3eeea-186">insights-logs-networksecuritygrouprulecounter/resourceId=/SUBSCRIPTIONS/s1id1234-5679-0123-4567-890123456789/RESOURCEGROUPS/TESTRESOURCEGROUP/PROVIDERS/MICROSOFT.NETWORK/NETWORKSECURITYGROUP/TESTNSG/y=2016/m=08/d=22/h=18/m=00/PT1H.json</span></span>
> 
> 

<span data-ttu-id="3eeea-187">Cada blob PT1H.json contiene un blob JSON de eventos que se produjeron durante la hora de hello especificado en la dirección URL del blob hello (por ejemplo, h = 12).</span><span class="sxs-lookup"><span data-stu-id="3eeea-187">Each PT1H.json blob contains a JSON blob of events that occurred within hello hour specified in hello blob URL (for example, h=12).</span></span> <span data-ttu-id="3eeea-188">Durante Hola hora presente, los eventos son anexados toohello PT1H.json archivo cuando se producen.</span><span class="sxs-lookup"><span data-stu-id="3eeea-188">During hello present hour, events are appended toohello PT1H.json file as they occur.</span></span> <span data-ttu-id="3eeea-189">Hola valor de minuto (m = 00) siempre es 00, puesto que los eventos de registro de diagnóstico se dividen en los blobs individuales por hora.</span><span class="sxs-lookup"><span data-stu-id="3eeea-189">hello minute value (m=00) is always 00, since diagnostic log events are broken into individual blobs per hour.</span></span>

<span data-ttu-id="3eeea-190">En archivo de PT1H.json hello, cada evento se almacena en la matriz de registros"hello", sigue este formato:</span><span class="sxs-lookup"><span data-stu-id="3eeea-190">Within hello PT1H.json file, each event is stored in hello “records” array, following this format:</span></span>

```
{
    "records": [
        {
            "time": "2016-07-01T00:00:37.2040000Z",
            "systemId": "46cdbb41-cb9c-4f3d-a5b4-1d458d827ff1",
            "category": "NetworkSecurityGroupRuleCounter",
            "resourceId": "/SUBSCRIPTIONS/s1id1234-5679-0123-4567-890123456789/RESOURCEGROUPS/TESTRESOURCEGROUP/PROVIDERS/MICROSOFT.NETWORK/NETWORKSECURITYGROUPS/TESTNSG",
            "operationName": "NetworkSecurityGroupCounters",
            "properties": {
                "vnetResourceGuid": "{12345678-9012-3456-7890-123456789012}",
                "subnetPrefix": "10.3.0.0/24",
                "macAddress": "000123456789",
                "ruleName": "/subscriptions/ s1id1234-5679-0123-4567-890123456789/resourceGroups/testresourcegroup/providers/Microsoft.Network/networkSecurityGroups/testnsg/securityRules/default-allow-rdp",
                "direction": "In",
                "type": "allow",
                "matchedConnections": 1988
            }
        }
    ]
}
```

| <span data-ttu-id="3eeea-191">Nombre del elemento</span><span class="sxs-lookup"><span data-stu-id="3eeea-191">Element name</span></span> | <span data-ttu-id="3eeea-192">Description</span><span class="sxs-lookup"><span data-stu-id="3eeea-192">Description</span></span> |
| --- | --- |
| <span data-ttu-id="3eeea-193">Twitter en tiempo</span><span class="sxs-lookup"><span data-stu-id="3eeea-193">time</span></span> |<span data-ttu-id="3eeea-194">Marca de tiempo cuando se generan eventos de Hola Hola Hola de procesamiento de servicio de Azure solicitar evento Hola correspondiente.</span><span class="sxs-lookup"><span data-stu-id="3eeea-194">Timestamp when hello event was generated by hello Azure service processing hello request corresponding hello event.</span></span> |
| <span data-ttu-id="3eeea-195">resourceId</span><span class="sxs-lookup"><span data-stu-id="3eeea-195">resourceId</span></span> |<span data-ttu-id="3eeea-196">Id. de recurso de hello afectado recursos.</span><span class="sxs-lookup"><span data-stu-id="3eeea-196">Resource ID of hello impacted resource.</span></span> |
| <span data-ttu-id="3eeea-197">operationName</span><span class="sxs-lookup"><span data-stu-id="3eeea-197">operationName</span></span> |<span data-ttu-id="3eeea-198">Nombre de operación de Hola.</span><span class="sxs-lookup"><span data-stu-id="3eeea-198">Name of hello operation.</span></span> |
| <span data-ttu-id="3eeea-199">categoría</span><span class="sxs-lookup"><span data-stu-id="3eeea-199">category</span></span> |<span data-ttu-id="3eeea-200">Categoría de registro de eventos de Hola.</span><span class="sxs-lookup"><span data-stu-id="3eeea-200">Log category of hello event.</span></span> |
| <span data-ttu-id="3eeea-201">propiedades</span><span class="sxs-lookup"><span data-stu-id="3eeea-201">properties</span></span> |<span data-ttu-id="3eeea-202">Conjunto de `<Key, Value>` pares (es decir, diccionario) que se describen los detalles de Hola de evento Hola.</span><span class="sxs-lookup"><span data-stu-id="3eeea-202">Set of `<Key, Value>` pairs (i.e. Dictionary) describing hello details of hello event.</span></span> |

> [!NOTE]
> <span data-ttu-id="3eeea-203">propiedades de Hola y el uso de estas propiedades pueden variar dependiendo de recursos de Hola.</span><span class="sxs-lookup"><span data-stu-id="3eeea-203">hello properties and usage of those properties can vary depending on hello resource.</span></span>
> 
> 

## <a name="next-steps"></a><span data-ttu-id="3eeea-204">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="3eeea-204">Next steps</span></span>
* [<span data-ttu-id="3eeea-205">Descargar blobs para el análisis</span><span class="sxs-lookup"><span data-stu-id="3eeea-205">Download blobs for analysis</span></span>](../storage/storage-dotnet-how-to-use-blobs.md)
* [<span data-ttu-id="3eeea-206">Espacio de nombres de tooan centros de eventos de registros de flujo de diagnóstico</span><span class="sxs-lookup"><span data-stu-id="3eeea-206">Stream diagnostic logs tooan Event Hubs namespace</span></span>](monitoring-stream-diagnostic-logs-to-event-hubs.md)
* [<span data-ttu-id="3eeea-207">Información general sobre los registros de diagnóstico de Azure</span><span class="sxs-lookup"><span data-stu-id="3eeea-207">Read more about diagnostic logs</span></span>](monitoring-overview-of-diagnostic-logs.md)
