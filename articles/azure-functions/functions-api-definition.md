---
title: Metadatos de OpenAPI en Azure Functions | Microsoft Docs
description: "Introducción a la compatibilidad con OpenAPI en Azure Functions"
services: functions
documentationcenter: 
author: alexkarcher-msft
manager: erikre
editor: 
ms.assetid: 
ms.service: functions
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: multiple
ms.topic: article
ms.date: 03/23/2017
ms.author: alkarche
ms.openlocfilehash: e426e56bcac30c740e86d620dadf291fe31e3e10
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/29/2017
---
# <a name="openapi-20-metadata-support-in-azure-functions-preview"></a><span data-ttu-id="e010e-103">Compatibilidad con metadatos de OpenAPI 2.0 en Azure Functions (versión preliminar)</span><span class="sxs-lookup"><span data-stu-id="e010e-103">OpenAPI 2.0 metadata support in Azure Functions (preview)</span></span>
<span data-ttu-id="e010e-104">La compatibilidad con metadatos de OpenAPI 2.0 (anteriormente Swagger) en Azure Functions es una característica en versión preliminar que puede usar para escribir una definición de OpenAPI 2.0 dentro de una aplicación de función.</span><span class="sxs-lookup"><span data-stu-id="e010e-104">OpenAPI 2.0 (formerly Swagger) metadata support in Azure Functions is a preview feature that you can use to write an OpenAPI 2.0 definition inside a function app.</span></span> <span data-ttu-id="e010e-105">A continuación, puede hospedar ese archivo mediante la aplicación de función.</span><span class="sxs-lookup"><span data-stu-id="e010e-105">You can then host that file by using the function app.</span></span>

<span data-ttu-id="e010e-106">[Los metadatos de OpenAPI](http://swagger.io/) permiten que una función que hospede una API de REST pueda ser consumida por una gran variedad de software.</span><span class="sxs-lookup"><span data-stu-id="e010e-106">[OpenAPI metadata](http://swagger.io/) allows a function that's hosting a REST API to be consumed by a wide variety of other software.</span></span> <span data-ttu-id="e010e-107">Este software incluye ofertas de Microsoft como PowerApps y la [característica API Apps de Azure App Service](https://docs.microsoft.com/azure/app-service-api/app-service-api-dotnet-get-started#a-idcodegena-generate-client-code-for-the-data-tier), herramientas de desarrollo de terceros, como [Postman](https://www.getpostman.com/docs/importing_swagger) y [muchos otros paquetes](http://swagger.io/tools/).</span><span class="sxs-lookup"><span data-stu-id="e010e-107">This software includes Microsoft offerings like PowerApps and the [API Apps feature of Azure App Service](https://docs.microsoft.com/azure/app-service-api/app-service-api-dotnet-get-started#a-idcodegena-generate-client-code-for-the-data-tier), third-party developer tools like [Postman](https://www.getpostman.com/docs/importing_swagger), and [many more packages](http://swagger.io/tools/).</span></span>

[!INCLUDE [intro](../../includes/functions-bindings-intro.md)]

>[!TIP]
><span data-ttu-id="e010e-108">Se recomienda empezar por el [tutorial de introducción](./functions-api-definition-getting-started.md) y, luego, volver a este documento para obtener más información sobre características específicas.</span><span class="sxs-lookup"><span data-stu-id="e010e-108">We recommend starting with the [getting started tutorial](./functions-api-definition-getting-started.md) and then returning to this document to learn more about specific features.</span></span>

## <span data-ttu-id="e010e-109"><a name="enable"></a>Habilitar la compatibilidad con definiciones de OpenAPI</span><span class="sxs-lookup"><span data-stu-id="e010e-109"><a name="enable"></a>Enable OpenAPI definition support</span></span>
<span data-ttu-id="e010e-110">Puede configurar todas las opciones de OpenAPI en la página **Definición de la API** de **Características de la plataforma** de la aplicación de función.</span><span class="sxs-lookup"><span data-stu-id="e010e-110">You can configure all OpenAPI settings on the **API Definition** page in your function app's **Platform features**.</span></span>

<span data-ttu-id="e010e-111">Para habilitar la generación de una definición de OpenAPI hospedada y una definición de inicio rápido, establezca **Origen de definición de API** en **Functions (versión preliminar)**.</span><span class="sxs-lookup"><span data-stu-id="e010e-111">To enable the generation of a hosted OpenAPI definition and a quickstart definition, set **API definition source** to **Function (Preview)**.</span></span> <span data-ttu-id="e010e-112">**Dirección URL externa** permite que su función utilice una definición de OpenAPI hospedada en otro lugar.</span><span class="sxs-lookup"><span data-stu-id="e010e-112">**External URL** allows your function to use an OpenAPI definition that's hosted elsewhere.</span></span>

## <span data-ttu-id="e010e-113"><a name="generate-definition"></a>Generación de un esqueleto de Swagger a partir de los metadatos de la función.</span><span class="sxs-lookup"><span data-stu-id="e010e-113"><a name="generate-definition"></a>Generate a Swagger skeleton from your function's metadata</span></span>
<span data-ttu-id="e010e-114">Una plantilla puede ayudarle a empezar a escribir la primera definición de OpenAPI.</span><span class="sxs-lookup"><span data-stu-id="e010e-114">A template can help you start writing your first OpenAPI definition.</span></span> <span data-ttu-id="e010e-115">La característica de plantilla de definición crea una definición de OpenAPI dispersa con todos los metadatos del archivo function.json para cada una de las funciones de desencadenador HTTP.</span><span class="sxs-lookup"><span data-stu-id="e010e-115">The definition template feature creates a sparse OpenAPI definition by using all the metadata in the function.json file for each of your HTTP trigger functions.</span></span> <span data-ttu-id="e010e-116">Necesitará rellenar más información sobre la API con la [especificación de OpenAPI](http://swagger.io/specification/), como las plantillas de solicitud y respuesta.</span><span class="sxs-lookup"><span data-stu-id="e010e-116">You'll need to fill in more information about your API from the [OpenAPI specification](http://swagger.io/specification/), such as request and response templates.</span></span>

<span data-ttu-id="e010e-117">Para obtener instrucciones paso a paso, consulte el [Tutorial de inicio](./functions-api-definition-getting-started.md).</span><span class="sxs-lookup"><span data-stu-id="e010e-117">For step-by-step instructions, see the [getting started tutorial](./functions-api-definition-getting-started.md).</span></span>

### <span data-ttu-id="e010e-118"><a name="templates"></a>Plantillas disponibles</span><span class="sxs-lookup"><span data-stu-id="e010e-118"><a name="templates"></a>Available templates</span></span>

|<span data-ttu-id="e010e-119">Nombre</span><span class="sxs-lookup"><span data-stu-id="e010e-119">Name</span></span>| <span data-ttu-id="e010e-120">Descripción</span><span class="sxs-lookup"><span data-stu-id="e010e-120">Description</span></span> |
|:-----|:-----|
|<span data-ttu-id="e010e-121">Definición generada</span><span class="sxs-lookup"><span data-stu-id="e010e-121">Generated Definition</span></span>|<span data-ttu-id="e010e-122">Una definición de OpenAPI con la cantidad máxima de información que se puede inferir a partir de los metadatos existentes de la función.</span><span class="sxs-lookup"><span data-stu-id="e010e-122">An OpenAPI definition with the maximum amount of information that can be inferred from the function's existing metadata.</span></span>|

### <span data-ttu-id="e010e-123"><a name="quickstart-details"></a>Metadatos incluidos en la definición generada</span><span class="sxs-lookup"><span data-stu-id="e010e-123"><a name="quickstart-details"></a>Included metadata in the generated definition</span></span>

<span data-ttu-id="e010e-124">En la tabla siguiente se representa la configuración de Azure Portal y los datos correspondientes en function.json, tal y como se asignan al esqueleto de Swagger generado.</span><span class="sxs-lookup"><span data-stu-id="e010e-124">The following table represents the Azure portal settings and corresponding data in function.json as it is mapped to the generated Swagger skeleton.</span></span>

|<span data-ttu-id="e010e-125">Swagger.json</span><span class="sxs-lookup"><span data-stu-id="e010e-125">Swagger.json</span></span>|<span data-ttu-id="e010e-126">IU del portal</span><span class="sxs-lookup"><span data-stu-id="e010e-126">Portal UI</span></span>|<span data-ttu-id="e010e-127">Function.json</span><span class="sxs-lookup"><span data-stu-id="e010e-127">Function.json</span></span>|
|:----|:-----|:-----|
|[<span data-ttu-id="e010e-128">Host</span><span class="sxs-lookup"><span data-stu-id="e010e-128">Host</span></span>](http://swagger.io/specification/#fixed-fields-15)|<span data-ttu-id="e010e-129">**Configuración de Function App** > **Configuración de App Service** > **Información general** > **Dirección URL**</span><span class="sxs-lookup"><span data-stu-id="e010e-129">**Function app settings** > **App Service settings** > **Overview** > **URL**</span></span>|<span data-ttu-id="e010e-130">*No presente*</span><span class="sxs-lookup"><span data-stu-id="e010e-130">*Not present*</span></span>
|[<span data-ttu-id="e010e-131">Paths</span><span class="sxs-lookup"><span data-stu-id="e010e-131">Paths</span></span>](http://swagger.io/specification/#paths-object-29)|<span data-ttu-id="e010e-132">**Integrar** > **Métodos HTTP seleccionados**</span><span class="sxs-lookup"><span data-stu-id="e010e-132">**Integrate** > **Selected HTTP methods**</span></span>|<span data-ttu-id="e010e-133">Bindings: Route</span><span class="sxs-lookup"><span data-stu-id="e010e-133">Bindings: Route</span></span>
|[<span data-ttu-id="e010e-134">Path Item</span><span class="sxs-lookup"><span data-stu-id="e010e-134">Path Item</span></span>](http://swagger.io/specification/#path-item-object-32)|<span data-ttu-id="e010e-135">**Integrar** > **Plantilla de ruta**</span><span class="sxs-lookup"><span data-stu-id="e010e-135">**Integrate** > **Route template**</span></span>|<span data-ttu-id="e010e-136">Bindings: Methods</span><span class="sxs-lookup"><span data-stu-id="e010e-136">Bindings: Methods</span></span>
|[<span data-ttu-id="e010e-137">Seguridad</span><span class="sxs-lookup"><span data-stu-id="e010e-137">Security</span></span>](http://swagger.io/specification/#security-scheme-object-112)|<span data-ttu-id="e010e-138">**Claves**</span><span class="sxs-lookup"><span data-stu-id="e010e-138">**Keys**</span></span>|<span data-ttu-id="e010e-139">*No presente*</span><span class="sxs-lookup"><span data-stu-id="e010e-139">*Not present*</span></span>|
|<span data-ttu-id="e010e-140">operationID*</span><span class="sxs-lookup"><span data-stu-id="e010e-140">operationID*</span></span>|<span data-ttu-id="e010e-141">**Ruta + verbos permitidos**</span><span class="sxs-lookup"><span data-stu-id="e010e-141">**Route + Allowed verbs**</span></span>|<span data-ttu-id="e010e-142">Ruta + verbos permitidos</span><span class="sxs-lookup"><span data-stu-id="e010e-142">Route + Allowed Verbs</span></span>|

<span data-ttu-id="e010e-143">\*operationID solo es necesario para la integración con PowerApps y Flow.</span><span class="sxs-lookup"><span data-stu-id="e010e-143">\*The operation ID is required only for integrating with PowerApps and Flow.</span></span>
> [!NOTE]
> <span data-ttu-id="e010e-144">La extensión x-ms-summary proporciona un nombre para mostrar en Logic Apps, PowerApps y Flow.</span><span class="sxs-lookup"><span data-stu-id="e010e-144">The x-ms-summary extension provides a display name in Logic Apps, PowerApps, and Flow.</span></span>
>
> <span data-ttu-id="e010e-145">Para más información, consulte [Personalizar la definición de Swagger para PowerApps](https://powerapps.microsoft.com/tutorials/customapi-how-to-swagger/).</span><span class="sxs-lookup"><span data-stu-id="e010e-145">To learn more, see [Customize your Swagger definition for PowerApps](https://powerapps.microsoft.com/tutorials/customapi-how-to-swagger/).</span></span>

## <span data-ttu-id="e010e-146"><a name="CICD"></a>Uso de CI/CD para establecer una definición de API</span><span class="sxs-lookup"><span data-stu-id="e010e-146"><a name="CICD"></a>Use CI/CD to set an API definition</span></span>

 <span data-ttu-id="e010e-147">Debe habilitar el hospedaje de la definición de la API en el portal antes de habilitar el control de código fuente para modificar la definición de la API desde el control de código fuente.</span><span class="sxs-lookup"><span data-stu-id="e010e-147">You must enable API definition hosting in the portal before you enable source control to modify your API definition from source control.</span></span> <span data-ttu-id="e010e-148">Siga estas instrucciones:</span><span class="sxs-lookup"><span data-stu-id="e010e-148">Follow these instructions:</span></span>

1. <span data-ttu-id="e010e-149">Vaya a **Definición de la API (versión preliminar)** en la configuración de la aplicación de función.</span><span class="sxs-lookup"><span data-stu-id="e010e-149">Browse to **API Definition (preview)** in your function app settings.</span></span>
  1. <span data-ttu-id="e010e-150">Establezca **Origen de la definición de API** en **Función**.</span><span class="sxs-lookup"><span data-stu-id="e010e-150">Set **API definition source** to **Function**.</span></span>
  1. <span data-ttu-id="e010e-151">Haga clic en **Generar plantilla de definición de API** y, a continuación, en **Guardar** para crear una definición de plantilla para modificar más adelante.</span><span class="sxs-lookup"><span data-stu-id="e010e-151">Click **Generate API definition template** and then **Save** to create a template definition for modifying later.</span></span>
  1. <span data-ttu-id="e010e-152">Tome nota de la dirección URL de la definición de API y la clave.</span><span class="sxs-lookup"><span data-stu-id="e010e-152">Note your API definition URL and key.</span></span>
1. <span data-ttu-id="e010e-153">[Configurar la integración continua e implementación continua (CI/CD)](https://docs.microsoft.com/azure/azure-functions/functions-continuous-deployment#continuous-deployment-requirements).</span><span class="sxs-lookup"><span data-stu-id="e010e-153">[Set up continuous integration/continuous deployment (CI/CD)](https://docs.microsoft.com/azure/azure-functions/functions-continuous-deployment#continuous-deployment-requirements).</span></span>
2. <span data-ttu-id="e010e-154">Modifique swagger.json en control de código fuente en \site\wwwroot\.azurefunctions\swagger\swagger.json.</span><span class="sxs-lookup"><span data-stu-id="e010e-154">Modify swagger.json in source control at \site\wwwroot\.azurefunctions\swagger\swagger.json.</span></span>

<span data-ttu-id="e010e-155">Ahora, los cambios en swagger.json en el repositorio son hospedados por la aplicación de función con la dirección URL de definición de API y clave que anotó en el paso 1.c.</span><span class="sxs-lookup"><span data-stu-id="e010e-155">Now, changes to swagger.json in your repository are hosted by your function app at the API definition URL and key that you noted in step 1.c.</span></span>

## <a name="next-steps"></a><span data-ttu-id="e010e-156">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="e010e-156">Next steps</span></span>
* <span data-ttu-id="e010e-157">[Tutorial de inicio](functions-api-definition-getting-started.md).</span><span class="sxs-lookup"><span data-stu-id="e010e-157">[Getting started tutorial](functions-api-definition-getting-started.md).</span></span> <span data-ttu-id="e010e-158">Pruebe nuestro tutorial para ver una definición de OpenAPI en acción.</span><span class="sxs-lookup"><span data-stu-id="e010e-158">Try our walkthrough to see an OpenAPI definition in action.</span></span>
* <span data-ttu-id="e010e-159">[Repositorio de GitHub de Azure Functions](https://github.com/Azure/Azure-Functions/).</span><span class="sxs-lookup"><span data-stu-id="e010e-159">[Azure Functions GitHub repository](https://github.com/Azure/Azure-Functions/).</span></span> <span data-ttu-id="e010e-160">Visite el repositorio de Functions para proporcionarnos sus comentarios sobre la versión preliminar de la compatibilidad con la definición de API.</span><span class="sxs-lookup"><span data-stu-id="e010e-160">Check out the Functions repository to give us feedback on the API definition support preview.</span></span> <span data-ttu-id="e010e-161">Cree una entrada en GitHub indicando lo que le gustaría ver actualizado.</span><span class="sxs-lookup"><span data-stu-id="e010e-161">Make a GitHub issue for anything you want to see updated.</span></span>
* <span data-ttu-id="e010e-162">[Referencia para desarrolladores de Azure Functions](functions-reference.md).</span><span class="sxs-lookup"><span data-stu-id="e010e-162">[Azure Functions developer reference](functions-reference.md).</span></span> <span data-ttu-id="e010e-163">Obtenga información sobre la codificación de funciones y la definición de desencadenadores y enlaces.</span><span class="sxs-lookup"><span data-stu-id="e010e-163">Learn about coding functions and defining triggers and bindings.</span></span>
