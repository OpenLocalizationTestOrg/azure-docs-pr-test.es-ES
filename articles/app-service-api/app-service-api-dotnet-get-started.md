---
title: aaaGet a trabajar con aplicaciones de API y ASP.NET en el servicio de aplicaciones | Documentos de Microsoft
description: "Obtenga información acerca de cómo toocreate, implementar y utilizar una aplicación de API de ASP.NET en el servicio de aplicación de Azure, mediante Visual Studio 2015."
services: app-service\api
documentationcenter: .net
author: alexkarcher-msft
manager: erikre
editor: 
ms.assetid: ddc028b2-cde0-4567-a6ee-32cb264a830a
ms.service: app-service-api
ms.workload: na
ms.tgt_pltfrm: dotnet
ms.devlang: na
ms.topic: hero-article
ms.date: 09/20/2016
ms.author: alkarche
ms.openlocfilehash: d3e90f1585907d183b0435c6cafc5585bc1e29ca
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="get-started-with-api-apps-aspnet-and-swagger-in-azure-app-service"></a><span data-ttu-id="a3e3c-103">Introducción a Aplicaciones de API, ASP.NET y Swagger en el Servicio de aplicaciones de Azure</span><span class="sxs-lookup"><span data-stu-id="a3e3c-103">Get started with API Apps, ASP.NET, and Swagger in Azure App Service</span></span>
[!INCLUDE [selector](../../includes/app-service-api-get-started-selector.md)]

<span data-ttu-id="a3e3c-104">Esto es hello en primer lugar en una serie de tutoriales que muestran cómo toouse características de la aplicación de Azure Service que son útiles para desarrollar y hospedar las API de REST.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-104">This is hello first in a series of tutorials that show how toouse features of Azure App Service that are helpful for developing and hosting RESTful APIs.</span></span>  <span data-ttu-id="a3e3c-105">En este tutorial se explica la compatibilidad con los metadatos de la API en formato Swagger.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-105">This tutorial covers support for API metadata in Swagger format.</span></span>

<span data-ttu-id="a3e3c-106">Aprenderá a realizar los siguientes procedimientos:</span><span class="sxs-lookup"><span data-stu-id="a3e3c-106">You'll learn:</span></span>

* <span data-ttu-id="a3e3c-107">¿Cómo toocreate e implementar [aplicaciones de API](app-service-api-apps-why-best-platform.md) en el servicio de aplicación de Azure mediante las herramientas integradas en Visual Studio 2015.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-107">How toocreate and deploy [API apps](app-service-api-apps-why-best-platform.md) in Azure App Service by using tools built into Visual Studio 2015.</span></span>
* <span data-ttu-id="a3e3c-108">Cómo tooautomate API de detección mediante el uso de hello Swashbuckle NuGet paquete toodynamically generar metadatos de Swagger API.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-108">How tooautomate API discovery by using hello Swashbuckle NuGet package toodynamically generate Swagger API metadata.</span></span>
* <span data-ttu-id="a3e3c-109">Cómo tooautomatically de metadatos de Swagger API toouse generar código de cliente para una aplicación de API.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-109">How toouse Swagger API metadata tooautomatically generate client code for an API app.</span></span>

## <a name="sample-application-overview"></a><span data-ttu-id="a3e3c-110">Información general de la aplicación de ejemplo</span><span class="sxs-lookup"><span data-stu-id="a3e3c-110">Sample application overview</span></span>
<span data-ttu-id="a3e3c-111">En este tutorial, se trabaja con una aplicación de ejemplo de lista de tareas pendientes sencilla.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-111">In this tutorial, you work with a simple to-do list sample application.</span></span> <span data-ttu-id="a3e3c-112">aplicación Hello tiene una aplicación de página (SPA) front-end, un nivel intermedio de ASP.NET Web API y una capa de datos de ASP.NET Web API.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-112">hello application has a single-page application (SPA) front end, an ASP.NET Web API middle tier, and an ASP.NET Web API data tier.</span></span>

![Diagrama de la aplicación de ejemplo de Aplicaciones de API](./media/app-service-api-dotnet-get-started/noauthdiagram.png)

<span data-ttu-id="a3e3c-114">Esta es una captura de pantalla de hello [AngularJS](https://angularjs.org/) front-end.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-114">Here's a screen shot of hello [AngularJS](https://angularjs.org/) front end.</span></span>

![Lista de toodo de aplicación de ejemplo de aplicaciones de API](./media/app-service-api-dotnet-get-started/todospa.png)

<span data-ttu-id="a3e3c-116">Hola solución de Visual Studio incluye tres proyectos:</span><span class="sxs-lookup"><span data-stu-id="a3e3c-116">hello Visual Studio solution includes three projects:</span></span>

![](./media/app-service-api-dotnet-get-started/projectsinse.png)

* <span data-ttu-id="a3e3c-117">**ToDoListAngular** -front-end de hello: un SPA de AngularJS que llama el nivel intermedio de Hola.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-117">**ToDoListAngular** - hello front end: an AngularJS SPA that calls hello middle tier.</span></span>
* <span data-ttu-id="a3e3c-118">**ToDoListAPI** -nivel intermedio de hello: un proyecto de ASP.NET Web API que llama a nivel de datos de hello tooperform las operaciones CRUD de elementos pendientes.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-118">**ToDoListAPI** - hello middle tier: an ASP.NET Web API project that calls hello data tier tooperform CRUD operations on to-do items.</span></span>
* <span data-ttu-id="a3e3c-119">**ToDoListDataAPI** -nivel de datos de hello: un proyecto de ASP.NET Web API que realiza operaciones CRUD en elementos pendientes.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-119">**ToDoListDataAPI** - hello data tier:  an ASP.NET Web API project that performs CRUD operations on to-do items.</span></span>

<span data-ttu-id="a3e3c-120">arquitectura de tres niveles de Hello es una de las arquitecturas que puede implementar mediante el uso de aplicaciones de API y se usa aquí únicamente con fines de demostración.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-120">hello three-tier architecture is one of many architectures that you can implement by using API Apps and is used here only for demonstration purposes.</span></span> <span data-ttu-id="a3e3c-121">código de Hello en cada nivel es tan sencillo como características de aplicaciones de API de posibles toodemonstrate; Por ejemplo, capa de datos de hello utiliza memoria del servidor en lugar de una base de datos como su mecanismo de persistencia.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-121">hello code in each tier is as simple as possible toodemonstrate API Apps features; for example, hello data tier uses server memory rather than a database as its persistence mechanism.</span></span>

<span data-ttu-id="a3e3c-122">Al llevar a cabo este tutorial, tendrá dos proyectos API Web Hola de seguridad y ejecutan en la nube de hello en aplicaciones de API de servicio de aplicación.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-122">On completing this tutorial, you'll have hello two Web API projects up and running in hello cloud in App Service API apps.</span></span>

<span data-ttu-id="a3e3c-123">tutorial siguiente de Hello en serie de Hola implementa en la nube Hola SPA front-end toohello.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-123">hello next tutorial in hello series deploys hello SPA front end toohello cloud.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="a3e3c-124">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="a3e3c-124">Prerequisites</span></span>
* <span data-ttu-id="a3e3c-125">Instrucciones del tutorial Hola ASP.NET Web API - suponga que tiene un conocimiento básico de cómo toowork con ASP.NET [API Web 2](http://www.asp.net/web-api/overview/getting-started-with-aspnet-web-api/tutorial-your-first-web-api) en Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-125">ASP.NET Web API - hello tutorial instructions assume you have a basic knowledge of how toowork with ASP.NET [Web API 2](http://www.asp.net/web-api/overview/getting-started-with-aspnet-web-api/tutorial-your-first-web-api) in Visual Studio.</span></span>
* <span data-ttu-id="a3e3c-126">Cuenta de Azure: puede [abrir una cuenta gratuita de Azure](https://azure.microsoft.com/free/?WT.mc_id=A261C142F) o [activar las ventajas de las que disfrutan los suscriptores de Visual Studio](https://azure.microsoft.com/pricing/member-offers/msdn-benefits-details/?WT.mc_id=A261C142F).</span><span class="sxs-lookup"><span data-stu-id="a3e3c-126">Azure account - You can [Open an Azure account for free](https://azure.microsoft.com/free/?WT.mc_id=A261C142F) or [Activate Visual Studio subscriber benefits](https://azure.microsoft.com/pricing/member-offers/msdn-benefits-details/?WT.mc_id=A261C142F).</span></span>
  
    <span data-ttu-id="a3e3c-127">Si desea tooget iniciado con el servicio de aplicación de Azure antes de registrarse para una cuenta de Azure, vaya demasiado[pruebe el servicio de aplicaciones](https://azure.microsoft.com/try/app-service/).</span><span class="sxs-lookup"><span data-stu-id="a3e3c-127">If you want tooget started with Azure App Service before you sign up for an Azure account, go too[Try App Service](https://azure.microsoft.com/try/app-service/).</span></span> <span data-ttu-id="a3e3c-128">Ahí puede crear de forma inmediata una aplicación de inicio de corta duración en App Service ( **no se requiere tarjeta de crédito**ni se establece ningún compromiso).</span><span class="sxs-lookup"><span data-stu-id="a3e3c-128">There, you can immediately create a short-lived starter app in App Service — **no credit card required**, and no commitments.</span></span>
* <span data-ttu-id="a3e3c-129">Visual Studio 2015 con hello [Azure SDK para .NET](https://azure.microsoft.com/downloads/archive-net-downloads/) -Hola SDK instala Visual Studio 2015 automáticamente si aún no lo tiene.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-129">Visual Studio 2015 with hello [Azure SDK for .NET](https://azure.microsoft.com/downloads/archive-net-downloads/) - hello SDK installs Visual Studio 2015 automatically if you don't already have it.</span></span>
  
  * <span data-ttu-id="a3e3c-130">En Visual Studio, haga clic en Ayuda -> Acerca de Microsoft Visual Studio y asegúrese de que tiene instalado "Azure App Service Tools v2.9.1", o una versión superior.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-130">In Visual Studio, click Help -> About Microsoft Visual Studio and ensure that you have "Azure App Service Tools v2.9.1" or higher installed.</span></span>
    
    ![Versión de Azure App Tools](./media/app-service-api-dotnet-get-started/apiversion.png)
    
    > [!NOTE]
    > <span data-ttu-id="a3e3c-132">Dependiendo de cuántas de las dependencias del SDK de hello ya tiene en su equipo, instalar Hola SDK podría tardar mucho tiempo, desde unos minutos tooa media hora o más.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-132">Depending on how many of hello SDK dependencies you already have on your machine, installing hello SDK could take a long time, from several minutes tooa half hour or more.</span></span>
    > 
    > 

## <a name="download-hello-sample-application"></a><span data-ttu-id="a3e3c-133">Descargar la aplicación de ejemplo de Hola</span><span class="sxs-lookup"><span data-stu-id="a3e3c-133">Download hello sample application</span></span>
1. <span data-ttu-id="a3e3c-134">Descargar hello [Azure-Samples/app-service-api-dotnet-to-do-list](https://github.com/Azure-Samples/app-service-api-dotnet-todo-list) repositorio.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-134">Download hello [Azure-Samples/app-service-api-dotnet-to-do-list](https://github.com/Azure-Samples/app-service-api-dotnet-todo-list) repository.</span></span>
   
    <span data-ttu-id="a3e3c-135">Puede hacer clic en hello **Download ZIP** botón o un clon repositorio hello en el equipo local.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-135">You can click hello **Download ZIP** button or clone hello repository on your local machine.</span></span>
2. <span data-ttu-id="a3e3c-136">Abra la solución de ToDoList de hello en Visual Studio 2015 o 2013.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-136">Open hello ToDoList solution in Visual Studio 2015 or 2013.</span></span>
   
   1. <span data-ttu-id="a3e3c-137">Necesitará tootrust cada solución.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-137">You will need tootrust each solution.</span></span>
         <span data-ttu-id="a3e3c-138">![Advertencia de seguridad](./media/app-service-api-dotnet-get-started/securitywarning.png)</span><span class="sxs-lookup"><span data-stu-id="a3e3c-138">![Security Warning](./media/app-service-api-dotnet-get-started/securitywarning.png)</span></span>
3. <span data-ttu-id="a3e3c-139">Crear paquetes de NuGet de hello soluciones (CTRL + MAYÚS + B) toorestore Hola.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-139">Build hello solution (CTRL + SHIFT + B)  toorestore hello NuGet packages.</span></span>
   
    <span data-ttu-id="a3e3c-140">Si desea que toosee Hola aplicación en funcionamiento antes de implementarla, puede ejecutarlo localmente.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-140">If you want toosee hello application in operation before you deploy it, you can run it locally.</span></span> <span data-ttu-id="a3e3c-141">Asegúrese de que ToDoListDataAPI es la solución de ejecución Hola y el proyecto de inicio.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-141">Make sure that ToDoListDataAPI is your startup project and run hello solution.</span></span> <span data-ttu-id="a3e3c-142">En el explorador, puede producirse error toosee un código 403 de HTTP.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-142">You should expect toosee a HTTP 403 error in your browser.</span></span>

## <a name="use-swagger-api-metadata-and-ui"></a><span data-ttu-id="a3e3c-143">Uso de la interfaz de usuario y los metadatos de la API de Swagger</span><span class="sxs-lookup"><span data-stu-id="a3e3c-143">Use Swagger API metadata and UI</span></span>
<span data-ttu-id="a3e3c-144">La compatibilidad con los metadatos de la API de [Swagger 2.0](http://swagger.io/) está integrada en el Servicio de aplicaciones de Azure.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-144">Support for [Swagger](http://swagger.io/) 2.0 API metadata is built into Azure App Service.</span></span> <span data-ttu-id="a3e3c-145">Cada aplicación de API puede especificar un punto de conexión de dirección URL que devuelve los metadatos para hello API en formato JSON de Swagger.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-145">Each API app can specify a URL endpoint that returns metadata for hello API in Swagger JSON format.</span></span> <span data-ttu-id="a3e3c-146">Hello metadatos devueltos desde ese punto de conexión pueden ser código de cliente de toogenerate usado.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-146">hello metadata returned from that endpoint can be used toogenerate client code.</span></span>

<span data-ttu-id="a3e3c-147">Un proyecto de ASP.NET Web API puede generar dinámicamente los metadatos de Swagger mediante hello [Swashbuckle](https://www.nuget.org/packages/Swashbuckle) paquete NuGet.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-147">An ASP.NET Web API project can dynamically generate Swagger metadata by using hello [Swashbuckle](https://www.nuget.org/packages/Swashbuckle) NuGet package.</span></span> <span data-ttu-id="a3e3c-148">Hola Swashbuckle NuGet paquete ya está instalado en los proyectos de ToDoListDataAPI y ToDoListAPI de Hola que ha descargado.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-148">hello Swashbuckle NuGet package is already installed in hello ToDoListDataAPI and ToDoListAPI projects that you downloaded.</span></span>

<span data-ttu-id="a3e3c-149">En esta sección del tutorial de hello, mirar los metadatos de Swagger 2.0 Hola generado y, a continuación, pruebe una prueba de interfaz de usuario que se basa en los metadatos de Swagger Hola.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-149">In this section of hello tutorial, you look at hello generated Swagger 2.0 metadata, and then you try out a test UI that is based on hello Swagger metadata.</span></span>

1. <span data-ttu-id="a3e3c-150">Establecer el proyecto de hello ToDoListDataAPI (**no** proyecto ToDoListAPI de hello) como proyecto de inicio de Hola.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-150">Set hello ToDoListDataAPI project (**not** hello ToDoListAPI project) as hello startup project.</span></span>
   
    ![Establezca ToDoDataAPI como proyecto de inicio](./media/app-service-api-dotnet-get-started/startupproject.png)
2. <span data-ttu-id="a3e3c-152">Presione F5 o haga clic en **Depurar > Iniciar depuración** toorun proyecto de hello en modo de depuración.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-152">Press F5 or click **Debug > Start Debugging** toorun hello project in debug mode.</span></span>
   
    <span data-ttu-id="a3e3c-153">Explorador de Hola se abre y muestra la página de error 403 de HTTP de Hola.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-153">hello browser opens and shows hello HTTP 403 error page.</span></span>
3. <span data-ttu-id="a3e3c-154">En la barra de direcciones del explorador, agregue `swagger/docs/v1` toohello final de línea de hello y, a continuación, presione ENTRAR.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-154">In your browser address bar, add `swagger/docs/v1` toohello end of hello line, and then press Return.</span></span> <span data-ttu-id="a3e3c-155">(Hola dirección URL es `http://localhost:45914/swagger/docs/v1`.)</span><span class="sxs-lookup"><span data-stu-id="a3e3c-155">(hello URL is `http://localhost:45914/swagger/docs/v1`.)</span></span>
   
    <span data-ttu-id="a3e3c-156">Se trata de dirección URL predeterminada de hello usado metadatos de Swagger 2.0 JSON tooreturn Swashbuckle para hello API.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-156">This is hello default URL used by Swashbuckle tooreturn Swagger 2.0 JSON metadata for hello API.</span></span>
   
    <span data-ttu-id="a3e3c-157">Si está usando Internet Explorer, Explorador de hello le pide que toodownload una *v1.json* archivo.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-157">If you're using Internet Explorer, hello browser prompts you toodownload a *v1.json* file.</span></span>
   
    ![Descargar metadatos de JSON en Internet Explorer](./media/app-service-api-dotnet-get-started/iev1json.png)
   
    <span data-ttu-id="a3e3c-159">Si usas Chrome, Firefox o borde, Explorador de hello muestra hello JSON en la ventana del explorador Hola.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-159">If you're using Chrome, Firefox, or Edge, hello browser displays hello JSON in hello browser window.</span></span> <span data-ttu-id="a3e3c-160">Otros exploradores administrar JSON de manera diferente y la ventana del explorador puede no ser exactamente igual que el ejemplo de Hola.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-160">Different browsers handle JSON differently, and your browser window may not look exactly like hello example.</span></span>
   
    ![Metadatos de JSON en Chrome](./media/app-service-api-dotnet-get-started/chromev1json.png)
   
    <span data-ttu-id="a3e3c-162">Hello en el ejemplo siguiente muestra la Hola primera sección de metadatos de Swagger de Hola de hello API, con definición Hola Hola Get (método).</span><span class="sxs-lookup"><span data-stu-id="a3e3c-162">hello following sample shows hello first section of hello Swagger metadata for hello API, with hello definition for hello Get method.</span></span> <span data-ttu-id="a3e3c-163">Estos metadatos son qué Hola unidades Swagger interfaz de usuario que usa en hello pasos, y se usa en una sección posterior de hello tutorial tooautomatically generar código de cliente.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-163">This metadata is what drives hello Swagger UI that you use in hello following steps, and you use it in a later section of hello tutorial tooautomatically generate client code.</span></span>
   
        {
          "swagger": "2.0",
          "info": {
            "version": "v1",
            "title": "ToDoListDataAPI"
          },
          "host": "localhost:45914",
          "schemes": [ "http" ],
          "paths": {
            "/api/ToDoList": {
              "get": {
                "tags": [ "ToDoList" ],
                "operationId": "ToDoList_GetByOwner",
                "consumes": [ ],
                "produces": [ "application/json", "text/json", "application/xml", "text/xml" ],
                "parameters": [
                  {
                    "name": "owner",
                    "in": "query",
                    "required": true,
                    "type": "string"
                  }
                ],
                "responses": {
                  "200": {
                    "description": "OK",
                    "schema": {
                      "type": "array",
                      "items": { "$ref": "#/definitions/ToDoItem" }
                    }
                  }
                },
                "deprecated": false
              },
4. <span data-ttu-id="a3e3c-164">Cierre el Explorador de Hola y detener la depuración de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-164">Close hello browser and stop Visual Studio debugging.</span></span>
5. <span data-ttu-id="a3e3c-165">Hola ToDoListDataAPI del proyecto en **el Explorador de soluciones**, abra hello *App_Start\SwaggerConfig.cs* archivo y, a continuación, desplácese hacia abajo tooline 174 y quite el siguiente código de hello.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-165">In hello ToDoListDataAPI project in **Solution Explorer**, open hello *App_Start\SwaggerConfig.cs* file, then scroll down tooline 174 and uncomment hello following code.</span></span>
   
        /*
            })
        .EnableSwaggerUi(c =>
            {
        */
   
    <span data-ttu-id="a3e3c-166">Hola *SwaggerConfig.cs* archivo se crea cuando se instala el paquete de Swashbuckle de hello en un proyecto.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-166">hello *SwaggerConfig.cs* file is created when you install hello Swashbuckle package in a project.</span></span> <span data-ttu-id="a3e3c-167">archivo Hello proporciona una serie de formas tooconfigure Swashbuckle.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-167">hello file provides a number of ways tooconfigure Swashbuckle.</span></span>
   
    <span data-ttu-id="a3e3c-168">código de Hello que ha sin comentarios Hola habilita la interfaz de usuario Swagger que se utilizan en hello siguiendo los pasos.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-168">hello code you've uncommented enables hello Swagger UI that you use in hello following steps.</span></span> <span data-ttu-id="a3e3c-169">Cuando crea un proyecto de API Web mediante el uso de la plantilla de proyecto de aplicación de API de hello, este código está comentado de forma predeterminada como una medida de seguridad.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-169">When you create a Web API project by using hello API app project template, this code is commented out by default as a security measure.</span></span>
6. <span data-ttu-id="a3e3c-170">Vuelva a ejecutar el proyecto de Hola.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-170">Run hello project again.</span></span>
7. <span data-ttu-id="a3e3c-171">En la barra de direcciones del explorador, agregue `swagger` toohello final de línea de hello y, a continuación, presione ENTRAR.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-171">In your browser address bar, add `swagger` toohello end of hello line, and then press Return.</span></span> <span data-ttu-id="a3e3c-172">(Hola dirección URL es `http://localhost:45914/swagger`.)</span><span class="sxs-lookup"><span data-stu-id="a3e3c-172">(hello URL is `http://localhost:45914/swagger`.)</span></span>
8. <span data-ttu-id="a3e3c-173">Cuando aparezca la página de interfaz de usuario de Swagger de hello, haga clic en **ToDoList** métodos de hello toosee disponibles.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-173">When hello Swagger UI page appears, click **ToDoList** toosee hello methods available.</span></span>
   
    ![Métodos disponibles en la interfaz de usuario de Swagger](./media/app-service-api-dotnet-get-started/methods.png)
9. <span data-ttu-id="a3e3c-175">Haga clic primero en hello **obtener** botón de lista de Hola.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-175">Click hello first **Get** button in hello list.</span></span>
10. <span data-ttu-id="a3e3c-176">Hola **parámetros** sección, escriba un asterisco como valor de Hola de hello `owner` parámetro y, a continuación, haga clic en **Pruébelo**.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-176">In hello **Parameters** section, enter an asterisk as hello value of hello `owner` parameter, and then click **Try it out**.</span></span>
    
    <span data-ttu-id="a3e3c-177">Al agregar la autenticación en tutoriales posteriores, nivel intermedio Hola proporcionará capa de datos de toohello de Id. de usuario real de Hola.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-177">When you add authentication in later tutorials, hello middle tier will provide hello actual user ID toohello data tier.</span></span> <span data-ttu-id="a3e3c-178">Por ahora, todas las tareas tendrá asterisco como su Id. del propietario mientras se ejecuta aplicación hello sin la autenticación habilitada.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-178">For now, all tasks will have asterisk as their owner ID while hello application runs without authentication enabled.</span></span>
    
    ![Botón Try it out (Probar) de la interfaz de usuario de Swagger](./media/app-service-api-dotnet-get-started/gettryitout1.png)
    
    <span data-ttu-id="a3e3c-180">Hola Swagger de interfaz de usuario llama a Hola método ToDoList Get y muestra el código de respuesta de Hola y los resultados JSON.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-180">hello Swagger UI calls hello ToDoList Get method and displays hello response code and JSON results.</span></span>
    
    ![Resultado de hacer clic en el botón Try it out (Probar) de la interfaz de usuario de Swagger](./media/app-service-api-dotnet-get-started/gettryitout.png)
11. <span data-ttu-id="a3e3c-182">Haga clic en **Post**y, a continuación, haga clic en cuadro de hello en **esquema del modelo**.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-182">Click **Post**, and then click hello box under **Model Schema**.</span></span>
    
    <span data-ttu-id="a3e3c-183">Al hacer clic en hello modelo esquema prefills Hola cuadro de entrada donde puede especificar el valor del parámetro Hola Hola método Post.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-183">Clicking hello model schema prefills hello input box where you can specify hello parameter value for hello Post method.</span></span> <span data-ttu-id="a3e3c-184">(Si esto no funciona en Internet Explorer, use un explorador diferente o escribir manualmente el valor del parámetro hello en el paso siguiente de hello).</span><span class="sxs-lookup"><span data-stu-id="a3e3c-184">(If this doesn't work in Internet Explorer, use a different browser or enter hello parameter value manually in hello next step.)</span></span>  
    
    ![Publicación tras hacer clic en el botón Try it out (Probar) de la interfaz de usuario de Swagger](./media/app-service-api-dotnet-get-started/post.png)
12. <span data-ttu-id="a3e3c-186">Hola de cambio JSON en hello `todo` parámetro de entrada de cuadro para que se parezca al siguiente ejemplo de Hola o sustituir su propio texto de descripción:</span><span class="sxs-lookup"><span data-stu-id="a3e3c-186">Change hello JSON in hello `todo` parameter input box so that it looks like hello following example, or substitute your own description text:</span></span>
    
        {
          "ID": 2,
          "Description": "buy hello dog a toy",
          "Owner": "*"
        }
13. <span data-ttu-id="a3e3c-187">Haga clic en **Try it out**(Probar).</span><span class="sxs-lookup"><span data-stu-id="a3e3c-187">Click **Try it out**.</span></span>
    
    <span data-ttu-id="a3e3c-188">Hola ToDoList API devuelve un código de respuesta HTTP 204 que indica una ejecución correcta.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-188">hello ToDoList API returns an HTTP 204 response code that indicates success.</span></span>
14. <span data-ttu-id="a3e3c-189">Haga clic primero en hello **obtener** botón y, a continuación, haga clic en hello en esa sección de página de hello **Pruébelo** botón.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-189">Click hello first **Get** button, and then in that section of hello page click hello **Try it out** button.</span></span>
    
    <span data-ttu-id="a3e3c-190">Hola respuesta de obtención de método incluye ahora el nuevo elemento de toodo Hola.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-190">hello Get method response now includes hello new toodo item.</span></span>
15. <span data-ttu-id="a3e3c-191">Opcional: También intente Hola Put, Delete y obtener mediante métodos de identificador.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-191">Optional: Try also hello Put, Delete, and Get by ID methods.</span></span>
16. <span data-ttu-id="a3e3c-192">Cierre el Explorador de Hola y detener la depuración de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-192">Close hello browser and stop Visual Studio debugging.</span></span>

<span data-ttu-id="a3e3c-193">Swashbuckle funciona con cualquier proyecto de ASP.NET Web API.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-193">Swashbuckle works with any ASP.NET Web API project.</span></span> <span data-ttu-id="a3e3c-194">Si desea que el proyecto existente del tooan de generación de metadatos de Swagger para tooadd, simplemente Instalar paquete de Swashbuckle Hola.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-194">If you want tooadd Swagger metadata generation tooan existing project, just install hello Swashbuckle package.</span></span>

> [!NOTE]
> <span data-ttu-id="a3e3c-195">Los metadatos de Swagger incluyen un identificador único para cada operación de la API.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-195">Swagger metadata includes a unique ID for each API operation.</span></span> <span data-ttu-id="a3e3c-196">De manera predeterminada, Swashbuckle puede generar identificadores de operación de Swagger duplicados para los métodos del controlador de la API web.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-196">By default, Swashbuckle may generate duplicate Swagger operation IDs for your Web API controller methods.</span></span> <span data-ttu-id="a3e3c-197">Esto sucede si el controlador tiene métodos HTTP sobrecargados, tales como `Get()` y `Get(id)`.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-197">This happens if your controller has overloaded HTTP methods, such as `Get()` and `Get(id)`.</span></span> <span data-ttu-id="a3e3c-198">Para obtener información acerca de cómo se sobrecargan toohandle, consulte [definiciones de API genera personalizar Swashbuckle](app-service-api-dotnet-swashbuckle-customize.md).</span><span class="sxs-lookup"><span data-stu-id="a3e3c-198">For information about how toohandle overloads, see [Customize Swashbuckle-generated API definitions](app-service-api-dotnet-swashbuckle-customize.md).</span></span> <span data-ttu-id="a3e3c-199">Si crea un proyecto de API Web en Visual Studio mediante el uso de la plantilla de aplicación de API de Azure de hello, código que genera el Id. único de la operación se agrega automáticamente toohello *SwaggerConfig.cs* archivo.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-199">If you create a Web API project in Visual Studio by using hello Azure API App template, code that generates unique operation IDs is automatically added toohello *SwaggerConfig.cs* file.</span></span>  
> 
> 

## <span data-ttu-id="a3e3c-200"><a id="createapiapp"></a>Crear una aplicación de API de Azure e implementar código tooit</span><span class="sxs-lookup"><span data-stu-id="a3e3c-200"><a id="createapiapp"></a> Create an API app in Azure and deploy code tooit</span></span>
<span data-ttu-id="a3e3c-201">En esta sección, utilizará las herramientas de Azure que están integradas en Visual Studio hello **Publicar Web** Asistente toocreate una API nueva aplicación en Azure.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-201">In this section, you use Azure tools that are integrated into hello Visual Studio **Publish Web** wizard toocreate a new API app in Azure.</span></span> <span data-ttu-id="a3e3c-202">A continuación, implemente hello ToDoListDataAPI proyecto toohello nueva aplicación de API y llamar a la API de hello ejecutando hello Swagger de interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-202">Then you deploy hello ToDoListDataAPI project toohello new API app and call hello API by running hello Swagger UI.</span></span>

1. <span data-ttu-id="a3e3c-203">En **el Explorador de soluciones**, haga clic en proyecto de hello ToDoListDataAPI y, a continuación, haga clic en **publicar**.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-203">In **Solution Explorer**, right-click hello ToDoListDataAPI project, and then click **Publish**.</span></span>
   
    ![Haga clic en Publicar en Visual Studio](./media/app-service-api-dotnet-get-started/pubinmenu.png)
2. <span data-ttu-id="a3e3c-205">Hola **perfil** paso de hello **Publicar Web** asistente, haga clic en **servicio de aplicaciones de Microsoft Azure**.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-205">In hello **Profile** step of hello **Publish Web** wizard, click **Microsoft Azure App Service**.</span></span>
   
   ![Haga clic en Servicio de aplicaciones de Azure en Publicación web](./media/app-service-api-dotnet-get-started/selectappservice.png)
3. <span data-ttu-id="a3e3c-207">Inicie sesión en tooyour cuenta de Azure si aún no lo ha hecho, o actualice sus credenciales si está caducados.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-207">Sign in tooyour Azure account if you have not already done so, or refresh your credentials if they're expired.</span></span>
4. <span data-ttu-id="a3e3c-208">En cuadro de diálogo de servicio de aplicaciones de Hola, elija hello Azure **suscripción** que desee toouse y, a continuación, haga clic en **nuevo**.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-208">In hello App Service dialog box, choose hello Azure **Subscription** you want toouse, and then click **New**.</span></span>
   
    ![Haga clic en Nuevo en el cuadro de diálogo Servicio de aplicaciones](./media/app-service-api-dotnet-get-started/clicknew.png)
   
    <span data-ttu-id="a3e3c-210">Hola **hospedaje** ficha de hello **crear servicio en la aplicación** aparece el cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-210">hello **Hosting** tab of hello **Create App Service** dialog box appears.</span></span>
   
    <span data-ttu-id="a3e3c-211">Dado que va a implementar un proyecto de Web API con Swashbuckle instalado, Visual Studio se da por supuesto que desea toocreate una API App.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-211">Because you're deploying a Web API project that has Swashbuckle installed, Visual Studio assumes that you want toocreate an API App.</span></span> <span data-ttu-id="a3e3c-212">Esto se indica mediante hello **API App Name** title y por Hola hechos que hello **cambiar tipo** lista desplegable se establece demasiado**API App**.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-212">This is indicated by hello **API App Name** title and by hello fact that hello **Change Type** drop-down list is set too**API App**.</span></span>
   
    ![Tipo de aplicación en el cuadro de diálogo Servicio de aplicaciones](./media/app-service-api-dotnet-get-started/apptype.png)
5. <span data-ttu-id="a3e3c-214">Escriba un **API App Name** que es único en hello *azurewebsites.net* dominio.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-214">Enter an **API App Name** that is unique in hello *azurewebsites.net* domain.</span></span> <span data-ttu-id="a3e3c-215">Puede aceptar el nombre predeterminado de Hola que propone de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-215">You can accept hello default name that Visual Studio proposes.</span></span>
   
    <span data-ttu-id="a3e3c-216">Si escribe un nombre que otra persona ya usado, puede ver una marca de exclamación roja toohello.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-216">If you enter a name that someone else has already used, you see a red exclamation mark toohello right.</span></span>
   
    <span data-ttu-id="a3e3c-217">Hello dirección URL de la aplicación hello API será `{API app name}.azurewebsites.net`.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-217">hello URL of hello API app will be `{API app name}.azurewebsites.net`.</span></span>
6. <span data-ttu-id="a3e3c-218">Hola **grupo de recursos** lista desplegable, haga clic en **nuevo**y, a continuación, escriba "ToDoListGroup" u otro nombre si lo prefiere.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-218">In hello **Resource Group** drop-down, click **New**, and then enter "ToDoListGroup" or another name if you prefer.</span></span>
   
    <span data-ttu-id="a3e3c-219">Un grupo de recursos es una colección de recursos de Azure tales como aplicaciones de API, bases de datos, máquinas virtuales, etc.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-219">A resource group is a collection of Azure resources such as API apps, databases, VMs, and so forth.</span></span>    <span data-ttu-id="a3e3c-220">Para este tutorial, es mejor toocreate un nuevo grupo de recursos ya hace fácil toodelete en un solo paso, que todos los recursos de Azure que se crean para el tutorial de Hola de Hola.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-220">For this tutorial, it's best toocreate a new resource group because that makes it easy toodelete in one step all hello Azure resources that you create for hello tutorial.</span></span>
   
    <span data-ttu-id="a3e3c-221">Este cuadro permite seleccionar un [grupo de recursos](../azure-resource-manager/resource-group-overview.md) existente o crear uno nuevo, para lo que se debe escribir un nombre de grupo recursos que no exista en la suscripción.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-221">This box lets you select an existing [resource group](../azure-resource-manager/resource-group-overview.md) or create a new one by typing in a name that is different from any existing resource group in your subscription.</span></span>
7. <span data-ttu-id="a3e3c-222">Haga clic en hello **New** botón siguiente toohello **Plan de servicio de aplicaciones** lista desplegable.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-222">Click hello **New** button next toohello **App Service Plan** drop-down.</span></span>
   
    <span data-ttu-id="a3e3c-223">captura de pantalla de Hello muestra valores de ejemplo de **API App Name**, **suscripción**, y **grupo de recursos** --los valores serán diferentes.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-223">hello screen shot shows sample values for **API App Name**, **Subscription**, and **Resource Group** -- your values will be different.</span></span>
   
    ![Cuadro de diálogo Crear servicio de aplicaciones](./media/app-service-api-dotnet-get-started/createas.png)
   
    <span data-ttu-id="a3e3c-225">Hola pasos crear un plan de servicio de aplicaciones para nuevo grupo de recursos Hola.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-225">In hello following steps you create an App Service plan for hello new resource group.</span></span> <span data-ttu-id="a3e3c-226">Un plan de servicio de aplicaciones especifica los recursos de proceso de Hola que se ejecuta la aplicación de API en.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-226">An App Service plan specifies hello compute resources that your API app runs on.</span></span> <span data-ttu-id="a3e3c-227">Por ejemplo, si elige nivel gratuito de hello, la aplicación de API se ejecuta en máquinas virtuales compartidas, mientras para algunos niveles de pago se ejecuta en máquinas virtuales dedicadas.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-227">For example, if you choose hello free tier, your API app runs on shared VMs, while for some paid tiers it runs on dedicated VMs.</span></span> <span data-ttu-id="a3e3c-228">Para más información sobre los planes del Servicio de aplicaciones, consulte [Introducción detallada sobre los planes del Servicio de aplicaciones de Azure](../app-service/azure-web-sites-web-hosting-plans-in-depth-overview.md).</span><span class="sxs-lookup"><span data-stu-id="a3e3c-228">For information about App Service plans, see [App Service plans overview](../app-service/azure-web-sites-web-hosting-plans-in-depth-overview.md).</span></span>
8. <span data-ttu-id="a3e3c-229">Hola **configurar el Plan de servicio de aplicación** cuadro de diálogo, escriba "ToDoListPlan" u otro nombre si lo prefiere.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-229">In hello **Configure App Service Plan** dialog, enter "ToDoListPlan" or another name if you prefer.</span></span>
9. <span data-ttu-id="a3e3c-230">Hola **ubicación** lista desplegable, elija la ubicación de hello tooyou más cercano.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-230">In hello **Location** drop-down list, choose hello location that is closest tooyou.</span></span>
   
    <span data-ttu-id="a3e3c-231">Esta opción especifica en qué centro de datos de Azure se ejecutará su aplicación.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-231">This setting specifies which Azure datacenter your app will run in.</span></span> <span data-ttu-id="a3e3c-232">Elija una ubicación cerrar tooyou toominimize [latencia](http://www.bing.com/search?q=web%20latency%20introduction&qs=n&form=QBRE&pq=web%20latency%20introduction&sc=1-24&sp=-1&sk=&cvid=eefff99dfc864d25a75a83740f1e0090).</span><span class="sxs-lookup"><span data-stu-id="a3e3c-232">Choose a location close tooyou toominimize [latency](http://www.bing.com/search?q=web%20latency%20introduction&qs=n&form=QBRE&pq=web%20latency%20introduction&sc=1-24&sp=-1&sk=&cvid=eefff99dfc864d25a75a83740f1e0090).</span></span>
10. <span data-ttu-id="a3e3c-233">Hola **tamaño** lista desplegable, haga clic en **libre**.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-233">In hello **Size** drop-down, click **Free**.</span></span>
    
    <span data-ttu-id="a3e3c-234">Para este tutorial, Hola libre de nivel de precios proporcionará un rendimiento suficiente.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-234">For this tutorial, hello free pricing tier will provide sufficient performance.</span></span>
11. <span data-ttu-id="a3e3c-235">Hola **configurar el Plan de servicio de aplicación** cuadro de diálogo, haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-235">In hello **Configure App Service Plan** dialog, click **OK**.</span></span>
    
    ![Haga clic en Aceptar en Configurar el plan de servicio de aplicaciones](./media/app-service-api-dotnet-get-started/configasp.png)
12. <span data-ttu-id="a3e3c-237">Hola **crear servicio en la aplicación** cuadro de diálogo, haga clic en **crear**.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-237">In hello **Create App Service** dialog box, click **Create**.</span></span>
    
    ![Haga clic en Crear en el cuadro de diálogo Crear servicio de aplicaciones](./media/app-service-api-dotnet-get-started/clickcreate.png)
    
    <span data-ttu-id="a3e3c-239">Visual Studio crea la aplicación de API de hello y un perfil de publicación que tiene todos los valores de hello necesario para la aplicación hello API.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-239">Visual Studio creates hello API app and a publish profile that has all of hello required settings for hello API app.</span></span> <span data-ttu-id="a3e3c-240">A continuación, se abre hello **Publicar Web** asistente, que usará proyecto de hello toodeploy.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-240">Then it opens hello **Publish Web** wizard, which you'll use toodeploy hello project.</span></span>
    
    <span data-ttu-id="a3e3c-241">Hola **Publicar Web** abre el Asistente para en hello **conexión** pestaña (se muestra a continuación).</span><span class="sxs-lookup"><span data-stu-id="a3e3c-241">hello **Publish Web** wizard opens on hello **Connection** tab (shown below).</span></span>
    
    <span data-ttu-id="a3e3c-242">En hello **conexión** ficha hello **Server** y **nombre del sitio** aplicación de API de configuración tooyour de punto.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-242">On hello **Connection** tab, hello **Server** and **Site name** settings point tooyour API app.</span></span> <span data-ttu-id="a3e3c-243">Hola **nombre de usuario** y **contraseña** son credenciales de implementación que Azure crea automáticamente.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-243">hello **User name** and **Password** are deployment credentials that Azure creates for you.</span></span> <span data-ttu-id="a3e3c-244">Después de la implementación, Visual Studio abre un explorador toohello **dirección URL de destino** (que es el único propósito de Hola de **dirección URL de destino**).</span><span class="sxs-lookup"><span data-stu-id="a3e3c-244">After deployment, Visual Studio opens a browser toohello **Destination URL** (that's hello only purpose for **Destination URL**).</span></span>  
13. <span data-ttu-id="a3e3c-245">Haga clic en **Siguiente**.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-245">Click **Next**.</span></span>
    
    ![Haga clic en Siguiente en la pestaña Conexión de Publicación web](./media/app-service-api-dotnet-get-started/connnext.png)
    
    <span data-ttu-id="a3e3c-247">pestaña siguiente Hello es hello **configuración** pestaña (se muestra a continuación).</span><span class="sxs-lookup"><span data-stu-id="a3e3c-247">hello next tab is hello **Settings** tab (shown below).</span></span> <span data-ttu-id="a3e3c-248">Aquí puede cambiar los toodeploy de pestaña de configuración de compilación de hello una compilación de depuración para [depuración remota](../app-service-web/web-sites-dotnet-troubleshoot-visual-studio.md#remotedebug).</span><span class="sxs-lookup"><span data-stu-id="a3e3c-248">Here you can change hello build configuration tab toodeploy a debug build for [remote debugging](../app-service-web/web-sites-dotnet-troubleshoot-visual-studio.md#remotedebug).</span></span> <span data-ttu-id="a3e3c-249">Hello ficha también ofrece varios **File Publish Options**:</span><span class="sxs-lookup"><span data-stu-id="a3e3c-249">hello tab also offers several **File Publish Options**:</span></span>
    
    * <span data-ttu-id="a3e3c-250">Quitar archivos adicionales en el destino.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-250">Remove additional files at destination</span></span>
    * <span data-ttu-id="a3e3c-251">Precompilar durante la publicación.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-251">Precompile during publishing</span></span>
    * <span data-ttu-id="a3e3c-252">Excluir archivos de la carpeta App_Data de Hola</span><span class="sxs-lookup"><span data-stu-id="a3e3c-252">Exclude files from hello App_Data folder</span></span>
    
    <span data-ttu-id="a3e3c-253">Para este tutorial no necesita ninguna de ellas.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-253">For this tutorial you don't need any of these.</span></span> <span data-ttu-id="a3e3c-254">Para información más detallada de lo que hacen, consulte [How to: Deploy a Web Project Using One-Click Publish in Visual Studio](https://msdn.microsoft.com/library/dd465337.aspx)(Implementación de un proyecto web mediante publicación con un solo clic en Visual Studio).</span><span class="sxs-lookup"><span data-stu-id="a3e3c-254">For detailed explanations of what they do, see [How to: Deploy a Web Project Using One-Click Publish in Visual Studio](https://msdn.microsoft.com/library/dd465337.aspx).</span></span>
14. <span data-ttu-id="a3e3c-255">Haga clic en **Siguiente**.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-255">Click **Next**.</span></span>
    
    ![Haga clic en Siguiente en la pestaña Configuración de Publicación web](./media/app-service-api-dotnet-get-started/settingsnext.png)
    
    <span data-ttu-id="a3e3c-257">A continuación figura hello **vista previa** pestaña (se muestra a continuación), que proporciona un toosee oportunidad qué archivos van toobe copiado desde la aplicación de toohello API de proyecto.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-257">Next is hello **Preview** tab (shown below), which gives you an opportunity toosee what files are going toobe copied from your project toohello API app.</span></span> <span data-ttu-id="a3e3c-258">Si va a implementar una aplicación de API tooan de proyecto que se implementó tooearlier, se copian archivos modificados únicamente.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-258">When you're deploying a project tooan API app that you already deployed tooearlier, only changed files are copied.</span></span> <span data-ttu-id="a3e3c-259">Si desea toosee una lista de lo que se va a copiar, haga clic en hello **iniciar Preview** botón.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-259">If you want toosee a list of what will be copied, you can click hello **Start Preview** button.</span></span>
15. <span data-ttu-id="a3e3c-260">Haga clic en **Publicar**.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-260">Click **Publish**.</span></span>
    
    ![Haga clic en Publicar en la pestaña Vista previa de Publicación web](./media/app-service-api-dotnet-get-started/clickpublish.png)
    
    <span data-ttu-id="a3e3c-262">Visual Studio implementa hello ToDoListDataAPI proyecto toohello nueva aplicación de API.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-262">Visual Studio deploys hello ToDoListDataAPI project toohello new API app.</span></span> <span data-ttu-id="a3e3c-263">Hola **salida** ventana registra una implementación correcta, y aparece una página "se creó correctamente" en una dirección URL toohello ventana abierta del explorador de la aplicación hello API.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-263">hello **Output** window logs successful deployment, and a "successfully created" page appears in a browser window opened toohello URL of hello API app.</span></span>
    
    ![Implementación correcta en la ventana Salida](./media/app-service-api-dotnet-get-started/deploymentoutput.png)
    
    ![Página nueva que indica que la aplicación de API se creó correctamente](./media/app-service-api-dotnet-get-started/appcreated.png)
16. <span data-ttu-id="a3e3c-266">Agregar dirección URL de toohello "swagger" en la barra de direcciones del explorador de hello y, a continuación, presione ENTRAR.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-266">Add "swagger" toohello URL in hello browser's address bar, and then press Enter.</span></span> <span data-ttu-id="a3e3c-267">(Hola dirección URL es `http://{apiappname}.azurewebsites.net/swagger`.)</span><span class="sxs-lookup"><span data-stu-id="a3e3c-267">(hello URL is `http://{apiappname}.azurewebsites.net/swagger`.)</span></span>
    
    <span data-ttu-id="a3e3c-268">Explorador de Hello muestra hello misma UI Swagger que vio anteriormente, pero ahora se ejecuta en la nube de Hola.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-268">hello browser displays hello same Swagger UI that you saw earlier, but now it's running in hello cloud.</span></span> <span data-ttu-id="a3e3c-269">Pruebe Hola método Get, y verá que tiene elementos de tareas 2 toohello atrás predeterminados.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-269">Try out hello Get method, and you see that you're back toohello default 2 to-do items.</span></span> <span data-ttu-id="a3e3c-270">cambios de Hello realizadas anteriormente se guardaron en la memoria en el equipo local de Hola.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-270">hello changes you made earlier were saved in memory in hello local machine.</span></span>
17. <span data-ttu-id="a3e3c-271">Abra hello [portal de Azure](https://portal.azure.com/).</span><span class="sxs-lookup"><span data-stu-id="a3e3c-271">Open hello [Azure portal](https://portal.azure.com/).</span></span>
    
    <span data-ttu-id="a3e3c-272">Hola portal de Azure es una interfaz web para administración de recursos de Azure, como aplicaciones de API.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-272">hello Azure portal is a web interface for managing Azure resources such as API apps.</span></span>
18. <span data-ttu-id="a3e3c-273">Haga clic en **Más servicios > App Services**.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-273">Click **More Services > App Services**.</span></span>
    
    ![Examinar Servicios de aplicaciones](./media/app-service-api-dotnet-get-started/browseas.png)
19. <span data-ttu-id="a3e3c-275">Hola **servicios de aplicaciones** hoja, busque y haga clic en la nueva aplicación de API.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-275">In hello **App Services** blade, find and click your new API app.</span></span> <span data-ttu-id="a3e3c-276">(En hello portal de Azure, se denominan ventanas que se abren derecha toohello *hojas*.)</span><span class="sxs-lookup"><span data-stu-id="a3e3c-276">(In hello Azure portal, windows that open toohello right are called *blades*.)</span></span>
    
    ![Hoja Servicios de aplicaciones](./media/app-service-api-dotnet-get-started/choosenewapiappinportal.png)
    
    <span data-ttu-id="a3e3c-278">Se abren dos hojas:</span><span class="sxs-lookup"><span data-stu-id="a3e3c-278">Two blades open.</span></span> <span data-ttu-id="a3e3c-279">Un módulo tiene una visión general de la aplicación de API de hello y uno tiene una larga lista de valores que puede ver y cambiar.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-279">One blade has an overview of hello API app, and one has a long list of settings that you can view and change.</span></span>
20. <span data-ttu-id="a3e3c-280">Hola **configuración** hoja, buscar hello **API** sección y haga clic en **definición de la API**.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-280">In hello **Settings** blade, find hello **API** section and click **API Definition**.</span></span>
    
    ![Definición de la API en hoja Configuración](./media/app-service-api-dotnet-get-started/apidefinsettings.png)
    
    <span data-ttu-id="a3e3c-282">Hola **definición de la API** hoja le permite especificar la dirección URL de Hola que devuelve los metadatos de Swagger 2.0 en formato JSON.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-282">hello **API Definition** blade lets you specify hello URL that returns Swagger 2.0 metadata in JSON format.</span></span> <span data-ttu-id="a3e3c-283">Cuando Visual Studio crea la aplicación hello API, Establece el valor predeterminado toohello de hello API definición dirección URL de metadatos generados de forma Swashbuckle que vio anteriormente, que es la aplicación hello API de base de la dirección URL más `/swagger/docs/v1`.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-283">When Visual Studio creates hello API app, it sets hello API definition URL toohello default value for Swashbuckle-generated metadata that you saw earlier, which is hello API app's base URL plus `/swagger/docs/v1`.</span></span>
    
    ![Dirección URL de definición de la API](./media/app-service-api-dotnet-get-started/apidefurl.png)
    
    <span data-ttu-id="a3e3c-285">Cuando se selecciona un código de cliente de toogenerate de aplicación de API para él, Visual Studio recupera metadatos de Hola desde esta dirección URL.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-285">When you select an API app toogenerate client code for it, Visual Studio retrieves hello metadata from this URL.</span></span>

## <span data-ttu-id="a3e3c-286"><a id="codegen"></a>Generar código de cliente de capa de datos de Hola</span><span class="sxs-lookup"><span data-stu-id="a3e3c-286"><a id="codegen"></a> Generate client code for hello data tier</span></span>
<span data-ttu-id="a3e3c-287">Una de las ventajas de saludo de la integración de Swagger en aplicaciones de API de Azure es la generación automática de código.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-287">One of hello advantages of integrating Swagger into Azure API apps is automatic code generation.</span></span> <span data-ttu-id="a3e3c-288">Clases de cliente generado resultará más fácil código toowrite que llama a una aplicación de API.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-288">Generated client classes make it easier toowrite code that calls an API app.</span></span>

<span data-ttu-id="a3e3c-289">proyecto de Hello ToDoListAPI ya tiene Hola genera código de cliente, pero en hello pasos podrá eliminarla y volver a generarlo toosee cómo hello toodo la generación de código.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-289">hello ToDoListAPI project already has hello generated client code, but in hello following steps you'll delete it and regenerate it toosee how toodo hello code generation.</span></span>

1. <span data-ttu-id="a3e3c-290">En Visual Studio **el Explorador de soluciones**, Hola ToDoListAPI proyecto de equipo y eliminar hello *ToDoListDataAPI* carpeta.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-290">In Visual Studio **Solution Explorer**, in hello ToDoListAPI project, delete hello *ToDoListDataAPI* folder.</span></span> <span data-ttu-id="a3e3c-291">**Precaución: Eliminar la carpeta de hello solo, no en proyecto de ToDoListDataAPI Hola.**</span><span class="sxs-lookup"><span data-stu-id="a3e3c-291">**Caution: Delete only hello folder, not hello ToDoListDataAPI project.**</span></span>
   
    ![Eliminar código de cliente generado](./media/app-service-api-dotnet-get-started/deletecodegen.png)
   
    <span data-ttu-id="a3e3c-293">Esta carpeta se creó mediante el proceso de generación de código de hello que le sobre toogo a través de.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-293">This folder was created by using hello code generation process that you're about toogo through.</span></span>
2. <span data-ttu-id="a3e3c-294">Haga clic en proyecto de hello ToDoListAPI y, a continuación, haga clic en **Agregar > cliente de la API de REST**.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-294">Right-click hello ToDoListAPI project, and then click **Add > REST API Client**.</span></span>
   
    ![Agregar cliente de API de REST en Visual Studio](./media/app-service-api-dotnet-get-started/codegenmenu.png)
3. <span data-ttu-id="a3e3c-296">Hola **Agregar cliente de API de REST** cuadro de diálogo, haga clic en **dirección URL de Swagger**y, a continuación, haga clic en **Seleccionar activos de Azure**.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-296">In hello **Add REST API Client** dialog box, click **Swagger URL**, and then click **Select Azure Asset**.</span></span>
   
    ![Seleccionar recurso de Azure](./media/app-service-api-dotnet-get-started/codegenbrowse.png)
4. <span data-ttu-id="a3e3c-298">Hola **servicio de aplicaciones** cuadro de diálogo, expanda grupo de recursos de Hola que está usando para este tutorial y seleccione la aplicación de API y, a continuación, haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-298">In hello **App Service** dialog box, expand hello resource group you're using for this tutorial and select your API app, and then click **OK**.</span></span>
   
    ![Seleccione aplicación de API para la generación de código](./media/app-service-api-dotnet-get-started/codegenselect.png)
   
    <span data-ttu-id="a3e3c-300">Tenga en cuenta que, cuando se regresa toohello **Agregar cliente de API de REST** cuadro de diálogo, cuadro de texto de Hola se ha rellenado con la definición de hello API valor de dirección URL que vio anteriormente en el portal de Hola.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-300">Notice that when you return toohello **Add REST API Client** dialog, hello text box has been filled in with hello API definition URL value that you saw earlier in hello portal.</span></span>
   
    ![Dirección URL de definición de la API](./media/app-service-api-dotnet-get-started/codegenurlplugged.png)
   
   > [!TIP]
   > <span data-ttu-id="a3e3c-302">Metadatos de tooget de una manera alternativa para la generación de código están tooenter Hola URL directamente en lugar de pasar a través del cuadro de diálogo de examinar Hola.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-302">An alternative way tooget metadata for code generation is tooenter hello URL directly instead of going through hello browse dialog.</span></span> <span data-ttu-id="a3e3c-303">O si desea toogenerate código de cliente antes de implementar tooAzure, podría ejecutar el proyecto de API Web de hello localmente, ir a dirección URL de toohello que proporciona el archivo de Swagger JSON hello, guarde el archivo de hello, y utilizar hello **selecciona un archivo de metadatos de Swagger existente**opción.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-303">Or if you want toogenerate client code before deploying tooAzure, you could run hello Web API project locally, go toohello URL that provides hello Swagger JSON file, save hello file, and use hello **Select an existing Swagger metadata file** option.</span></span>
   > 
   > 
5. <span data-ttu-id="a3e3c-304">Hola **Agregar cliente de API de REST** cuadro de diálogo, haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-304">In hello **Add REST API Client** dialog box, click **OK**.</span></span>
   
    <span data-ttu-id="a3e3c-305">Visual Studio crea una carpeta denominada después de la aplicación hello API y genera las clases de cliente.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-305">Visual Studio creates a folder named after hello API app and generates client classes.</span></span>
   
    ![Archivos de código para cliente generado](./media/app-service-api-dotnet-get-started/codegenfiles.png)
6. <span data-ttu-id="a3e3c-307">En hello ToDoListAPI proyecto, abra *Controllers\ToDoListController.cs* toosee código de hello en línea 40 que llame a las API de hello mediante cliente hello generado.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-307">In hello ToDoListAPI project, open *Controllers\ToDoListController.cs* toosee hello code at line 40  that calls hello API by using hello generated client.</span></span>
   
    <span data-ttu-id="a3e3c-308">Hola siguiente fragmento de código muestra cómo el código de hello crea una instancia de objeto de cliente de Hola y Hola de llamadas de método Get.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-308">hello following snippet shows how hello code instantiates hello client object and calls hello Get method.</span></span>
   
        private static ToDoListDataAPI NewDataAPIClient()
        {
            var client = new ToDoListDataAPI(new Uri(ConfigurationManager.AppSettings["toDoListDataAPIURL"]));
            return client;
        }
   
        public async Task<IEnumerable<ToDoItem>> Get()
        {
            using (var client = NewDataAPIClient())
            {
                var results = await client.ToDoList.GetByOwnerAsync(owner);
                return results.Select(m => new ToDoItem
                {
                    Description = m.Description,
                    ID = (int)m.ID,
                    Owner = m.Owner
                });
            }
        }
   
    <span data-ttu-id="a3e3c-309">parámetro de constructor de Hello Obtiene la dirección URL del extremo de Hola de hello `toDoListDataAPIURL` configuración de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-309">hello constructor parameter gets hello endpoint URL from  hello `toDoListDataAPIURL` app setting.</span></span> <span data-ttu-id="a3e3c-310">En el archivo Web.config de hello, ese valor es toohello conjunto local URL de IIS Express de hello API del proyecto para que pueda ejecutar aplicación hello localmente.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-310">In hello Web.config file, that value is set toohello local IIS Express URL of hello API project so that you can run hello application locally.</span></span> <span data-ttu-id="a3e3c-311">Si se omite el parámetro de constructor de hello, el punto de conexión de hello predeterminado es dirección URL de Hola que genera código de hello desde.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-311">If you omit hello constructor parameter, hello default endpoint is hello URL that you generated hello code from.</span></span>
7. <span data-ttu-id="a3e3c-312">Se generará la clase de cliente con un nombre diferente en función de su nombre de la aplicación de API; cambiar código de hello en *Controllers\ToDoListController.cs* para que hello nombre de tipo coincida con lo que se generó en el proyecto.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-312">Your client class will be generated with a different name based on your API app name; change hello code in *Controllers\ToDoListController.cs* so that hello type name matches what was generated in your project.</span></span> <span data-ttu-id="a3e3c-313">Por ejemplo, si el nombre de la aplicación de API es ToDoListDataAPI071316, cambiaría este código:</span><span class="sxs-lookup"><span data-stu-id="a3e3c-313">For example, if you named your API App ToDoListDataAPI071316, you would change this code:</span></span>
   
        private static ToDoListDataAPI NewDataAPIClient()
        {
            var client = new ToDoListDataAPI(new Uri(ConfigurationManager.AppSettings["toDoListDataAPIURL"]));

<span data-ttu-id="a3e3c-314">toothis:</span><span class="sxs-lookup"><span data-stu-id="a3e3c-314">toothis:</span></span>

        private static ToDoListDataAPI071316 NewDataAPIClient()
        {
            var client = new ToDoListDataAPI071316(new Uri(ConfigurationManager.AppSettings["toDoListDataAPIURL"]));


## <a name="create-an-api-app-toohost-hello-middle-tier"></a><span data-ttu-id="a3e3c-315">Crear un nivel intermedio de API aplicación toohost Hola</span><span class="sxs-lookup"><span data-stu-id="a3e3c-315">Create an API app toohost hello middle tier</span></span>
<span data-ttu-id="a3e3c-316">Anteriormente se [crear aplicación de API de nivel de datos de hello e implementar código tooit](#createapiapp).</span><span class="sxs-lookup"><span data-stu-id="a3e3c-316">Earlier you [created hello data tier API app and deployed code tooit](#createapiapp).</span></span>  <span data-ttu-id="a3e3c-317">Ahora siga Hola mismo procedimiento para la aplicación de API de nivel intermedio de hello.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-317">Now you follow hello same procedure for hello middle tier API app.</span></span>

1. <span data-ttu-id="a3e3c-318">En **el Explorador de soluciones**, nivel intermedio de contextual hello ToDoListAPI (no Hola capa de datos ToDoListDataAPI) del proyecto y, a continuación, haga clic en **publicar**.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-318">In **Solution Explorer**, right-click hello middle tier ToDoListAPI  project (not hello data tier ToDoListDataAPI), and then click **Publish**.</span></span>
   
    ![Haga clic en Publicar en Visual Studio](./media/app-service-api-dotnet-get-started/pubinmenu2.png)
2. <span data-ttu-id="a3e3c-320">Hola **perfil** ficha de hello **Publicar Web** asistente, haga clic en **servicio de aplicaciones de Microsoft Azure**.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-320">In hello **Profile** tab of hello **Publish Web** wizard, click **Microsoft Azure App Service**.</span></span>
3. <span data-ttu-id="a3e3c-321">Hola **servicio de aplicaciones** cuadro de diálogo, haga clic en **nuevo**.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-321">In hello **App Service** dialog box, click **New**.</span></span>
4. <span data-ttu-id="a3e3c-322">Hola **hospedaje** ficha de hello **crear servicio en la aplicación** diálogo cuadro, acepte el valor predeterminado de hello **API App Name** o escriba un nombre que sea único en hello  *azurewebsites.NET* dominio.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-322">In hello **Hosting** tab of hello **Create App Service** dialog box, accept hello default **API App Name** or enter a name that is unique in hello *azurewebsites.net* domain.</span></span>
5. <span data-ttu-id="a3e3c-323">Elija hello Azure **suscripción** ha utilizado.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-323">Choose hello Azure **Subscription** you have been using.</span></span>
6. <span data-ttu-id="a3e3c-324">Hola **grupo de recursos** lista desplegable, elija Hola mismo grupo de recursos que creó anteriormente.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-324">In hello **Resource Group** drop-down, choose hello same resource group you created earlier.</span></span>
7. <span data-ttu-id="a3e3c-325">Hola **Plan de servicio de aplicaciones** lista desplegable, elija Hola mismo plan que creó anteriormente.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-325">In hello **App Service Plan** drop-down, choose hello same plan you created earlier.</span></span> <span data-ttu-id="a3e3c-326">Valor de toothat tomará predeterminado.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-326">It will default toothat value.</span></span>
8. <span data-ttu-id="a3e3c-327">Haga clic en **Crear**.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-327">Click **Create**.</span></span>
   
    <span data-ttu-id="a3e3c-328">Visual Studio crea la aplicación hello API, crea un perfil de publicación para él y se muestra hello **conexión** paso de hello **Publicar Web** asistente.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-328">Visual Studio creates hello API app, creates a publish profile for it, and displays hello **Connection** step of hello **Publish Web** wizard.</span></span>
9. <span data-ttu-id="a3e3c-329">Hola **conexión** paso de hello **Publicar Web** asistente, haga clic en **publicar**.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-329">In hello **Connection** step of hello **Publish Web** wizard, click **Publish**.</span></span>
   
   <span data-ttu-id="a3e3c-330">Visual Studio implementa hello ToDoListAPI proyecto toohello nueva aplicación de API y abre una dirección URL toohello del explorador de la aplicación de API de hello.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-330">Visual Studio deploys hello ToDoListAPI project toohello new API app and opens a browser toohello URL of hello API app.</span></span> <span data-ttu-id="a3e3c-331">aparece la página de Hola "se creó correctamente".</span><span class="sxs-lookup"><span data-stu-id="a3e3c-331">hello "successfully created" page appears.</span></span>

## <a name="configure-hello-middle-tier-toocall-hello-data-tier"></a><span data-ttu-id="a3e3c-332">Configurar la capa de datos de hello nivel intermedio toocall Hola</span><span class="sxs-lookup"><span data-stu-id="a3e3c-332">Configure hello middle tier toocall hello data tier</span></span>
<span data-ttu-id="a3e3c-333">Si se llama ahora aplicación de API de nivel intermedio de hello, intentaría capa de datos de hello toocall con dirección URL de localhost de Hola que sigue en el archivo Web.config de Hola.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-333">If you called hello middle tier API app now, it would try toocall hello data tier using hello localhost URL that is still in hello Web.config file.</span></span> <span data-ttu-id="a3e3c-334">En esta sección se introduce URL de aplicación de API de nivel de datos de hello en una configuración de entorno de aplicación de API de nivel intermedio de Hola.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-334">In this section you enter hello data tier API app URL into an environment setting in hello middle tier API app.</span></span> <span data-ttu-id="a3e3c-335">Cuando hello código de aplicación de API de nivel intermedio de hello recupera configuración de dirección URL de capa de datos de hello, configuración del entorno Hola reemplazará lo que aparece en el archivo Web.config de Hola.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-335">When hello code in hello middle tier API app retrieves hello data tier URL setting, hello environment setting will override what's in hello Web.config file.</span></span>

1. <span data-ttu-id="a3e3c-336">Vaya toohello [portal de Azure](https://portal.azure.com/)y, a continuación, navegue toohello **API App** hoja para que se creó toohost hello TodoListAPI (nivel intermedio) proyecto de aplicación de hello API.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-336">Go toohello [Azure portal](https://portal.azure.com/), and then navigate toohello **API App** blade for hello API app that you created toohost hello TodoListAPI (middle tier) project.</span></span>
2. <span data-ttu-id="a3e3c-337">En Hola de API App **configuración** hoja, haga clic en **configuración de la aplicación**.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-337">In hello API App's **Settings** blade, click **Application settings**.</span></span>
3. <span data-ttu-id="a3e3c-338">En Hola de API App **configuración de la aplicación** hoja, desplácese hacia abajo toohello **configuración de la aplicación** sección y agregue Hola siguiente clave y valor.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-338">In hello API App's **Application Settings** blade, scroll down toohello **App settings** section and add hello following key and value.</span></span> <span data-ttu-id="a3e3c-339">valor de Hello será la dirección URL de Hola de hello primera API aplicación publicada en este tutorial.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-339">hello value will be hello URL of hello first API App you published in this tutorial.</span></span>
   
   | <span data-ttu-id="a3e3c-340">**Clave**</span><span class="sxs-lookup"><span data-stu-id="a3e3c-340">**Key**</span></span> | <span data-ttu-id="a3e3c-341">toDoListDataAPIURL</span><span class="sxs-lookup"><span data-stu-id="a3e3c-341">toDoListDataAPIURL</span></span> |
   | --- | --- |
   | <span data-ttu-id="a3e3c-342">**Valor**</span><span class="sxs-lookup"><span data-stu-id="a3e3c-342">**Value**</span></span> |<span data-ttu-id="a3e3c-343">https://{nombre de la aplicación de API de capa de datos}.azurewebsites.net</span><span class="sxs-lookup"><span data-stu-id="a3e3c-343">https://{your data tier API app name}.azurewebsites.net</span></span> |
   | <span data-ttu-id="a3e3c-344">**Ejemplo**</span><span class="sxs-lookup"><span data-stu-id="a3e3c-344">**Example**</span></span> |<span data-ttu-id="a3e3c-345">https://todolistdataapi.azurewebsites.net</span><span class="sxs-lookup"><span data-stu-id="a3e3c-345">https://todolistdataapi.azurewebsites.net</span></span> |
4. <span data-ttu-id="a3e3c-346">Haga clic en **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-346">Click **Save**.</span></span>
   
    ![Haga clic en Guardar en Configuración de aplicaciones](./media/app-service-api-dotnet-get-started/asinportal.png)
   
    <span data-ttu-id="a3e3c-348">Cuando se ejecuta código de hello en Azure, este valor ahora invalidará la dirección URL de localhost de Hola que se encuentra en el archivo Web.config de Hola.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-348">When hello code runs in Azure, this value will now override hello localhost URL that is in hello Web.config file.</span></span>

## <a name="test"></a><span data-ttu-id="a3e3c-349">Prueba</span><span class="sxs-lookup"><span data-stu-id="a3e3c-349">Test</span></span>
1. <span data-ttu-id="a3e3c-350">En una ventana del explorador, examinar dirección URL de toohello de nivel intermedio nueva aplicación de API que acaba de crear para ToDoListAPI de Hola.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-350">In a browser window, browse toohello URL of hello new middle tier API app that you just created for ToDoListAPI.</span></span> <span data-ttu-id="a3e3c-351">Se puede obtener haciendo clic en la dirección URL de hello en la hoja principal de la aplicación hello API en el portal de Hola.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-351">You can get there by clicking hello URL in hello API app's main blade in hello portal.</span></span>
2. <span data-ttu-id="a3e3c-352">Agregar dirección URL de toohello "swagger" en la barra de direcciones del explorador de hello y, a continuación, presione ENTRAR.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-352">Add "swagger" toohello URL in hello browser's address bar, and then press Enter.</span></span> <span data-ttu-id="a3e3c-353">(Hola dirección URL es `http://{apiappname}.azurewebsites.net/swagger`.)</span><span class="sxs-lookup"><span data-stu-id="a3e3c-353">(hello URL is `http://{apiappname}.azurewebsites.net/swagger`.)</span></span>
   
    <span data-ttu-id="a3e3c-354">muestra de explorador Hola Hola misma UI Swagger que vio anteriormente para ToDoListDataAPI, pero ahora `owner` no es un campo obligatorio para la operación de obtención de hello, como aplicación de API de nivel intermedio de hello realiza el envío esa aplicación de API de nivel de datos de valor toohello automáticamente.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-354">hello browser displays hello same Swagger UI that you saw earlier for ToDoListDataAPI, but now `owner` is not a required field for hello Get operation, because hello middle tier API app is sending that value toohello data tier API app for you.</span></span> <span data-ttu-id="a3e3c-355">(Cuando hello tutoriales de autenticación, nivel intermedio Hola enviará Id. de usuario real para hello `owner` parámetro; para ahora lo es codificar un asterisco.)</span><span class="sxs-lookup"><span data-stu-id="a3e3c-355">(When you do hello authentication tutorials, hello middle tier will send actual user IDs for hello `owner` parameter; for now it is hard-coding an asterisk.)</span></span>
3. <span data-ttu-id="a3e3c-356">Pruebe Hola método Get y hello otro toovalidate de métodos que Hola aplicación de API de nivel intermedio es llamar correctamente a nivel de datos de hello aplicación de API.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-356">Try out hello Get method and hello other methods toovalidate that hello middle tier API app is successfully calling hello data tier API app.</span></span>
   
    ![Método Get de la interfaz de usuario de Swagger](./media/app-service-api-dotnet-get-started/midtierget.png)

## <a name="troubleshooting"></a><span data-ttu-id="a3e3c-358">Solución de problemas</span><span class="sxs-lookup"><span data-stu-id="a3e3c-358">Troubleshooting</span></span>
<span data-ttu-id="a3e3c-359">Si experimenta algún problema mientras lleva a cabo este tutorial, aquí se ofrecen ideas para solucionarlo:</span><span class="sxs-lookup"><span data-stu-id="a3e3c-359">In case you run into a problem as you go through this tutorial here are some troubleshooting ideas:</span></span>

* <span data-ttu-id="a3e3c-360">Asegúrese de que está usando la versión más reciente de Hola de hello [Azure SDK para .NET](http://go.microsoft.com/fwlink/?linkid=518003).</span><span class="sxs-lookup"><span data-stu-id="a3e3c-360">Make sure that you're using hello latest version of hello [Azure SDK for .NET](http://go.microsoft.com/fwlink/?linkid=518003).</span></span>
* <span data-ttu-id="a3e3c-361">Dos de los nombres de proyecto Hola son similar (ToDoListAPI, ToDoListDataAPI).</span><span class="sxs-lookup"><span data-stu-id="a3e3c-361">Two of hello project names are similar (ToDoListAPI, ToDoListDataAPI).</span></span> <span data-ttu-id="a3e3c-362">Si no tiene el aspecto como se describe en las instrucciones de hello cuando se trabaja con un proyecto, asegúrese de que ha abierto el proyecto correcto Hola.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-362">If things don't look as described in hello instructions when you are working with a project, make sure you have opened hello correct project.</span></span>
* <span data-ttu-id="a3e3c-363">Si está en una red corporativa y está tratando de toodeploy tooAzure servicio de aplicaciones a través de un firewall, asegúrese de que los puertos 443 y 8172 están abiertos para Web Deploy.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-363">If you're on a corporate network and are trying toodeploy tooAzure App Service through a firewall, make sure that ports 443 and 8172 are open for Web Deploy.</span></span> <span data-ttu-id="a3e3c-364">Si no puede abrir estos puertos, puede usar otros métodos de implementación.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-364">If you can't open those ports, you can use other deployment methods.</span></span>  <span data-ttu-id="a3e3c-365">Vea [implementar su aplicación de servicio de aplicación tooAzure](../app-service-web/web-sites-deploy.md).</span><span class="sxs-lookup"><span data-stu-id="a3e3c-365">See [Deploy your app tooAzure App Service](../app-service-web/web-sites-deploy.md).</span></span>
* <span data-ttu-id="a3e3c-366">Errores de "nombres de ruta deben ser únicos"--podría obtener estos si accidentalmente implementar aplicación de hello proyecto equivocado tooan API y su posterior implementación una tooit correcta de Hola.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-366">"Route names must be unique" errors -- you could get these if you accidentally deploy hello wrong project tooan API app and then later deploy hello correct one tooit.</span></span> <span data-ttu-id="a3e3c-367">toocorrect, aplicación de API toohello volver a implementar hello proyecto correcto y en hello **configuración** ficha de hello **Publicar Web** asistente, seleccione **quitar archivos adicionales en destino**.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-367">toocorrect this, redeploy hello correct project toohello API app, and on hello **Settings** tab of hello **Publish Web** wizard select **Remove additional files at destination**.</span></span>

<span data-ttu-id="a3e3c-368">Una vez que su aplicación de API de ASP.NET que se ejecuta en el servicio de aplicación de Azure, puede que desee toolearn más acerca de las características de Visual Studio que simplifican la solución de problemas.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-368">After you have your ASP.NET API app running in Azure App Service, you may want toolearn more about Visual Studio features that simplify troubleshooting.</span></span> <span data-ttu-id="a3e3c-369">Para más información sobre el registro o la depuración remota, entre otros temas, consulte [Solución de problemas de una aplicación web en Azure App Service con Visual Studio](../app-service-web/web-sites-dotnet-troubleshoot-visual-studio.md).</span><span class="sxs-lookup"><span data-stu-id="a3e3c-369">For information about logging, remote debugging, and more, see  [Troubleshooting Azure App Service apps in Visual Studio](../app-service-web/web-sites-dotnet-troubleshoot-visual-studio.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="a3e3c-370">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="a3e3c-370">Next steps</span></span>
<span data-ttu-id="a3e3c-371">Ha visto cómo generar código de cliente para aplicaciones de API toodeploy API Web proyectos tooAPI las aplicaciones existentes y utilicen las aplicaciones de API de los clientes. NET.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-371">You've seen how toodeploy existing Web API projects tooAPI apps, generate client code for API apps, and consume API apps from .NET clients.</span></span> <span data-ttu-id="a3e3c-372">Hola tutorial siguiente de esta serie, se muestra cómo demasiado[usar CORS tooconsume API aplicaciones desde clientes de JavaScript](app-service-api-cors-consume-javascript.md).</span><span class="sxs-lookup"><span data-stu-id="a3e3c-372">hello next tutorial in this series shows how too[use CORS tooconsume API apps from JavaScript clients](app-service-api-cors-consume-javascript.md).</span></span>

<span data-ttu-id="a3e3c-373">Para obtener más información acerca de la generación de código de cliente, vea hello [Azure/AutoRest](https://github.com/azure/autorest) repositorio en GitHub.com. Para obtener ayuda con problemas al usar el cliente de hello generado, abra un [problema en el repositorio de hello AutoRest](https://github.com/azure/autorest/issues).</span><span class="sxs-lookup"><span data-stu-id="a3e3c-373">For more information about client code generation, see hello [Azure/AutoRest](https://github.com/azure/autorest) repository on GitHub.com. For help with problems using hello generated client, open an [issue in hello AutoRest repository](https://github.com/azure/autorest/issues).</span></span>

<span data-ttu-id="a3e3c-374">Si desea toocreate nuevos proyectos de aplicación de API desde el principio, usar hello **aplicación de API de Azure** plantilla.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-374">If you want toocreate new API app projects from scratch, use hello **Azure API App** template.</span></span>

![Plantilla Aplicación de API en Visual Studio](./media/app-service-api-dotnet-get-started/apiapptemplate.png)

<span data-ttu-id="a3e3c-376">Hola **aplicación de API de Azure** plantilla de proyecto está Hola equivalente toochoosing **vacía** ASP.NET 4.5.2 plantilla, haga clic en compatibilidad con API Web de tooadd de casilla de verificación de Hola y Hola Swashbuckle NuGet paquete de instalación.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-376">hello **Azure API App** project template is equivalent toochoosing hello **Empty** ASP.NET 4.5.2 template, clicking hello check box tooadd Web API support, and installing hello Swashbuckle NuGet package.</span></span> <span data-ttu-id="a3e3c-377">Además, la plantilla de hello agrega algunos creación de hello Swashbuckle configuración código diseñado tooprevent de operación de Swagger identificadores duplicados.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-377">In addition, hello template adds some Swashbuckle configuration code designed tooprevent hello creation of duplicate Swagger operation IDs.</span></span> <span data-ttu-id="a3e3c-378">Una vez que ha creado un proyecto de API App, puede implementarlo Hola de aplicación de API de tooan igual que hemos visto en este tutorial.</span><span class="sxs-lookup"><span data-stu-id="a3e3c-378">Once you've created an API App project, you can deploy it tooan API app hello same way you saw in this tutorial.</span></span>

