---
title: "Metadatos de App Service API Apps para la detección de API y la generación de código | Microsoft Docs"
description: "Aprenda cómo las aplicaciones de API del Servicio de aplicaciones de Azure usan los metadatos de Swagger para facilitar la detección de API y la generación de código."
services: app-service\api
documentationcenter: .net
author: alexkarcher-msft
manager: erikre
editor: 
ms.assetid: c7f8e33a-61cc-486f-89df-4a97dc3c71d4
ms.service: app-service-api
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/30/2016
ms.author: alkarche
ms.openlocfilehash: 800bb9df9b957bec2c80abb3edefbaf354b549ca
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 07/11/2017
---
# <a name="app-service-api-apps-metadata-for-api-discovery-and-code-generation"></a><span data-ttu-id="64bf4-103">Metadatos de aplicaciones de API del Servicio de aplicaciones para la detección de API y la generación de código</span><span class="sxs-lookup"><span data-stu-id="64bf4-103">App Service API Apps metadata for API discovery and code generation</span></span>
<span data-ttu-id="64bf4-104">La compatibilidad con los metadatos de la API de [Swagger 2.0](http://swagger.io/) está integrada en las aplicaciones de API del Servicio de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="64bf4-104">Support for [Swagger 2.0](http://swagger.io/) API metadata is built into App Service API Apps.</span></span> <span data-ttu-id="64bf4-105">Aunque no es necesario usar Swagger, si lo usa, puede sacar partido de las características de aplicaciones de API que facilitan la detección y el consumo.</span><span class="sxs-lookup"><span data-stu-id="64bf4-105">You don't have to use Swagger, but if you do use it, you can take advantage of API Apps features that make discovery and consumption easier.</span></span>   

## <a name="swagger-endpoint"></a><span data-ttu-id="64bf4-106">Punto de conexión de Swagger</span><span class="sxs-lookup"><span data-stu-id="64bf4-106">Swagger endpoint</span></span>
<span data-ttu-id="64bf4-107">Puede especificar un punto de conexión que proporcione metadatos JSON de Swagger 2.0 para una aplicación de API en una propiedad de la aplicación de API.</span><span class="sxs-lookup"><span data-stu-id="64bf4-107">You can specify an endpoint that provides Swagger 2.0 JSON metadata for an API app in a property of the API app.</span></span> <span data-ttu-id="64bf4-108">El punto de conexión puede ser relativo a la dirección URL base de la aplicación de API o a una dirección URL absoluta.</span><span class="sxs-lookup"><span data-stu-id="64bf4-108">The endpoint can be relative to the base URL of the API app or an absolute URL.</span></span> <span data-ttu-id="64bf4-109">Las direcciones URL absolutas pueden señalar fuera de la aplicación de API.</span><span class="sxs-lookup"><span data-stu-id="64bf4-109">Absolute URLs can point outside the API app.</span></span> 

<span data-ttu-id="64bf4-110">En muchos clientes de bajada (por ejemplo, la generación de código de Visual Studio y el flujo "Agregar API" de PowerApps), es preciso que se pueda acceder públicamente a la dirección URL (que no esté protegida mediante autenticación de usuario o de servicio).</span><span class="sxs-lookup"><span data-stu-id="64bf4-110">Many downstream clients (for example, Visual Studio code generation and PowerApps "Add API" flow), the URL must be publicly accessible (not protected by user or service authentication).</span></span> <span data-ttu-id="64bf4-111">Esto significa que si usa la autenticación de Servicio de aplicaciones y desea exponer la definición de la API desde su propia aplicación, será preciso que utilice la opción de autenticación que permite que llegue tráfico a la API.</span><span class="sxs-lookup"><span data-stu-id="64bf4-111">This means that if you're using App Service authentication and want to expose the API definition from within your app itself, you need to use authentication option that allows anonymous traffic to reach your API.</span></span> <span data-ttu-id="64bf4-112">Para más información, consulte [Autenticación y autorización para Aplicaciones de API en el Servicio de aplicaciones](app-service-api-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="64bf4-112">For more information, see [Authentication and authorization for App Service API Apps](app-service-api-authentication.md).</span></span>

### <a name="portal-blade"></a><span data-ttu-id="64bf4-113">Hoja del portal</span><span class="sxs-lookup"><span data-stu-id="64bf4-113">Portal blade</span></span>
<span data-ttu-id="64bf4-114">En el [Portal de Azure](https://portal.azure.com/) , la dirección URL del punto de conexión se puede ver y cambiar en la hoja **Definición de API** .</span><span class="sxs-lookup"><span data-stu-id="64bf4-114">In the [Azure portal](https://portal.azure.com/) the endpoint URL can be seen and changed on the **API Definition** blade.</span></span>

![](./media/app-service-api-metadata/apidefblade.png)

### <a name="azure-resource-manager-property"></a><span data-ttu-id="64bf4-115">Propiedad del Administrador de recursos de Azure</span><span class="sxs-lookup"><span data-stu-id="64bf4-115">Azure Resource Manager property</span></span>
<span data-ttu-id="64bf4-116">También se puede configurar la dirección URL de la definición de la API de una aplicación de API mediante el [Explorador de recursos](https://resources.azure.com/) o las plantillas de [Azure Resource Manager](../azure-resource-manager/resource-group-authoring-templates.md) de las herramientas de línea de comandos, como [Azure PowerShell](/powershell/azureps-cmdlets-docs) y la [CLI de Azure](../cli-install-nodejs.md).</span><span class="sxs-lookup"><span data-stu-id="64bf4-116">You can also configure the API definition URL for an API app by using [Resource Explorer](https://resources.azure.com/) or [Azure Resource Manager templates](../azure-resource-manager/resource-group-authoring-templates.md) in command line tools such as [Azure PowerShell](/powershell/azureps-cmdlets-docs) and the [Azure CLI](../cli-install-nodejs.md).</span></span> 

<span data-ttu-id="64bf4-117">En el **Explorador de recursos**, vaya a **suscripciones > {su suscripción} > resourceGroups > {su grupo de recursos} > proveedores > Microsoft.Web > sitios > {su sitio} > configuración > web** y verá la propiedad `apiDefinition`:</span><span class="sxs-lookup"><span data-stu-id="64bf4-117">In **Resource Explorer**, go to **subscriptions > {your subscription} > resourceGroups > {your resource group} > providers > Microsoft.Web > sites > {your site} > config > web**, and you'll see the `apiDefinition` property:</span></span>

        "apiDefinition": {
          "url": "https://contactslistapi.azurewebsites.net/swagger/docs/v1"
        }

<span data-ttu-id="64bf4-118">Para ver un ejemplo de una plantilla de Azure Resource Manager que establece la propiedad `apiDefinition` , abra el [archivo azuredeploy.json de la lista de tareas pendientes](https://github.com/azure-samples/app-service-api-dotnet-todo-list/blob/master/azuredeploy.json).</span><span class="sxs-lookup"><span data-stu-id="64bf4-118">For an example of an Azure Resource Manager template that sets the `apiDefinition` property, open the [azuredeploy.json file in the To-Do List sample application](https://github.com/azure-samples/app-service-api-dotnet-todo-list/blob/master/azuredeploy.json).</span></span> <span data-ttu-id="64bf4-119">Busque la sección de la plantilla similar al ejemplo de JSON mostrado anteriormente.</span><span class="sxs-lookup"><span data-stu-id="64bf4-119">Find the section of the template that looks like the JSON sample shown above.</span></span>

### <a name="default-value"></a><span data-ttu-id="64bf4-120">Valor predeterminado</span><span class="sxs-lookup"><span data-stu-id="64bf4-120">Default value</span></span>
<span data-ttu-id="64bf4-121">Si se usa Visual Studio para crear una aplicación de API, el punto de conexión de la definición de API se establece automáticamente en la URL base de la aplicación de API más `/swagger/docs/v1`.</span><span class="sxs-lookup"><span data-stu-id="64bf4-121">When you use Visual Studio to create an API app, the API definition endpoint is automatically set to the base URL of the API app plus `/swagger/docs/v1`.</span></span> <span data-ttu-id="64bf4-122">Se trata de la dirección URL predeterminada que el paquete NuGet de [Swashbuckle](https://www.nuget.org/packages/Swashbuckle) utiliza para enviar los metadatos de Swagger generados dinámicamente para un proyecto de ASP.NET Web API.</span><span class="sxs-lookup"><span data-stu-id="64bf4-122">This is the default URL that the [Swashbuckle](https://www.nuget.org/packages/Swashbuckle) NuGet package uses to serve dynamically generated Swagger metadata for an ASP.NET Web API project.</span></span> 

## <a name="code-generation"></a><span data-ttu-id="64bf4-123">Generación de código</span><span class="sxs-lookup"><span data-stu-id="64bf4-123">Code generation</span></span>
<span data-ttu-id="64bf4-124">Una de las ventajas de integrar Swagger en aplicaciones de API de Azure es la generación automática de código.</span><span class="sxs-lookup"><span data-stu-id="64bf4-124">One of the benefits of integrating Swagger into Azure API apps is automatic code generation.</span></span> <span data-ttu-id="64bf4-125">Las clases de cliente generadas hacen que sea más fácil escribir código que llame a una aplicación de API.</span><span class="sxs-lookup"><span data-stu-id="64bf4-125">Generated client classes make it easier to write code that calls an API app.</span></span>

<span data-ttu-id="64bf4-126">Puede generar código de cliente para una aplicación de API con Visual Studio o desde la línea de comandos.</span><span class="sxs-lookup"><span data-stu-id="64bf4-126">You can generate client code for an API app by using Visual Studio or from the command line.</span></span> <span data-ttu-id="64bf4-127">Para información sobre cómo generar clases de cliente en Visual Studio para un proyecto de API web ASP.NET, consulte [Introducción a las aplicaciones de API y ASP.NET](app-service-api-dotnet-get-started.md#codegen).</span><span class="sxs-lookup"><span data-stu-id="64bf4-127">For information about how to generate client classes in Visual Studio for an ASP.NET Web API project, see [Get started with API Apps and ASP.NET](app-service-api-dotnet-get-started.md#codegen).</span></span> <span data-ttu-id="64bf4-128">Para información sobre cómo hacerlo desde la línea de comandos en todos los lenguajes admitidos, consulte el archivo Léame del repositorio [Azure/autorest](https://github.com/azure/autorest) en GitHub.com.</span><span class="sxs-lookup"><span data-stu-id="64bf4-128">For information about how to do it from the command line for all supported languages, see the readme file of the [Azure/autorest](https://github.com/azure/autorest) repository on GitHub.com.</span></span>

## <a name="next-steps"></a><span data-ttu-id="64bf4-129">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="64bf4-129">Next steps</span></span>
<span data-ttu-id="64bf4-130">Para obtener un tutorial detallado que le guíe en el proceso de creación, implementación y consumo de una aplicación de API, consulte [Introducción a Aplicaciones de API y ASP.NET en el Servicio de aplicaciones de Azure](app-service-api-dotnet-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="64bf4-130">For a step-by-step tutorial that guides you through creating, deploying, and consuming an API app, see [Get started with API Apps in Azure App Service](app-service-api-dotnet-get-started.md).</span></span>

<span data-ttu-id="64bf4-131">Si usa Administración de API de Azure con aplicaciones de API, puede utilizar metadatos de Swagger para importar la API a Administración de API.</span><span class="sxs-lookup"><span data-stu-id="64bf4-131">If you use Azure API Management with API Apps, you can use Swagger metadata to import your API into API Management.</span></span> <span data-ttu-id="64bf4-132">Para más información, consulte [Importación de la definición de una API con operaciones en Administración de API de Azure](../api-management/api-management-howto-import-api.md).</span><span class="sxs-lookup"><span data-stu-id="64bf4-132">For more information, see [How to import the definition of an API with operations in Azure API Management](../api-management/api-management-howto-import-api.md).</span></span> 

