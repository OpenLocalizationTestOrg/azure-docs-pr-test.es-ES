---
title: "aaaDeploy su aplicación tooAzure y la pila de Azure | Documentos de Microsoft"
description: "Obtenga información acerca de cómo toodeploy aplicaciones tooAzure y pila de Azure con un elemento de configuración/CD híbrido de canalización."
services: azure-stack
documentationcenter: 
author: HeathL17
manager: byronr
editor: 
ms.service: azure-stack
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/11/2017
ms.author: helaw
ms.custom: mvc
ms.openlocfilehash: a468d7da6f34d04809ee98463a8c4146da581015
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="deploy-apps-tooazure-and-azure-stack"></a><span data-ttu-id="531c4-103">Implementar aplicaciones tooAzure y la pila de Azure</span><span class="sxs-lookup"><span data-stu-id="531c4-103">Deploy apps tooAzure and Azure Stack</span></span>
<span data-ttu-id="531c4-104">Híbrido [integración continua](https://www.visualstudio.com/learn/what-is-continuous-integration/)/[la entrega continua](https://www.visualstudio.com/learn/what-is-continuous-delivery/)canalización (CI/CD) le permite toobuild, probar e implementar sus nubes de toomultiple de aplicación.</span><span class="sxs-lookup"><span data-stu-id="531c4-104">A hybrid [continuous integration](https://www.visualstudio.com/learn/what-is-continuous-integration/)/[continuous delivery](https://www.visualstudio.com/learn/what-is-continuous-delivery/)(CI/CD) pipeline enables you toobuild, test, and deploy your app toomultiple clouds.</span></span>  <span data-ttu-id="531c4-105">En este tutorial, va a crear un toolearn de entorno de ejemplo cómo puede ayudarle a una canalización de CI/CD híbrida:</span><span class="sxs-lookup"><span data-stu-id="531c4-105">In this tutorial, you build a sample environment toolearn how a hybrid CI/CD pipeline can help you:</span></span>
 
> [!div class="checklist"]
> * <span data-ttu-id="531c4-106">Iniciar una nueva compilación basada en el repositorio de código confirmaciones tooyour Visual Studio Team Services (VSTS).</span><span class="sxs-lookup"><span data-stu-id="531c4-106">Initiate a new build based on code commits tooyour Visual Studio Team Services (VSTS) repository.</span></span>
> * <span data-ttu-id="531c4-107">Implementar automáticamente su tooAzure de código recién creado para las pruebas de aceptación de usuario.</span><span class="sxs-lookup"><span data-stu-id="531c4-107">Automatically deploy your newly built code tooAzure for user acceptance testing.</span></span>
> * <span data-ttu-id="531c4-108">Una vez que el código ha pasado la prueba, implementar automáticamente tooAzure pila.</span><span class="sxs-lookup"><span data-stu-id="531c4-108">Once your code has passed testing, automatically deploy tooAzure Stack.</span></span> 


## <a name="prerequisites"></a><span data-ttu-id="531c4-109">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="531c4-109">Prerequisites</span></span>
<span data-ttu-id="531c4-110">Algunos componentes son necesario toobuild una canalización de CI/CD híbrida y pueden tardar algún tiempo tooprepare.</span><span class="sxs-lookup"><span data-stu-id="531c4-110">A few components are required toobuild a hybrid CI/CD pipeline, and may take some time tooprepare.</span></span>  <span data-ttu-id="531c4-111">Si ya tiene algunos de estos componentes, asegúrese de que cumplen los requisitos de hello antes de comenzar.</span><span class="sxs-lookup"><span data-stu-id="531c4-111">If you already have some of these components, make sure they meet hello requirements before beginning.</span></span>

<span data-ttu-id="531c4-112">En este tema también se da por supuesto que tiene algunos conocimientos de Azure y Azure Stack.</span><span class="sxs-lookup"><span data-stu-id="531c4-112">This topic also assumes that you have some knowledge of Azure and Azure Stack.</span></span> <span data-ttu-id="531c4-113">Si desea que toolearn más antes de continuar, ser seguro toostart con estos temas:</span><span class="sxs-lookup"><span data-stu-id="531c4-113">If you want toolearn more before proceeding, be sure toostart with these topics:</span></span>

- [<span data-ttu-id="531c4-114">Introducción tooAzure</span><span class="sxs-lookup"><span data-stu-id="531c4-114">Introduction tooAzure</span></span>](https://docs.microsoft.com/azure/fundamentals-introduction-to-azure)
- [<span data-ttu-id="531c4-115">Conceptos clave de Azure Stack</span><span class="sxs-lookup"><span data-stu-id="531c4-115">Azure Stack Key Concepts</span></span>](azure-stack-key-features.md)

### <a name="azure"></a><span data-ttu-id="531c4-116">Azure</span><span class="sxs-lookup"><span data-stu-id="531c4-116">Azure</span></span>
 - <span data-ttu-id="531c4-117">Si no tiene una suscripción a Azure, cree una [cuenta gratuita](https://azure.microsoft.com/free/?WT.mc_id=A261C142F) antes de empezar.</span><span class="sxs-lookup"><span data-stu-id="531c4-117">If you don't have an Azure subscription, create a [free account](https://azure.microsoft.com/free/?WT.mc_id=A261C142F) before you begin.</span></span>
 - <span data-ttu-id="531c4-118">Cree una [aplicación web](../app-service-web/app-service-web-how-to-create-a-web-app-in-an-ase.md) y configúrela para [publicación FTP](../app-service-web/app-service-deploy-ftp.md).</span><span class="sxs-lookup"><span data-stu-id="531c4-118">Create a [Web App](../app-service-web/app-service-web-how-to-create-a-web-app-in-an-ase.md), and configure it for [FTP publishing](../app-service-web/app-service-deploy-ftp.md).</span></span>  <span data-ttu-id="531c4-119">Tome nota de Hola nuevo de dirección URL de aplicación Web, tal como se utiliza más adelante.</span><span class="sxs-lookup"><span data-stu-id="531c4-119">Make note of hello new Web App URL, as it is used later.</span></span>


### <a name="azure-stack"></a><span data-ttu-id="531c4-120">Azure Stack</span><span class="sxs-lookup"><span data-stu-id="531c4-120">Azure Stack</span></span>
 - <span data-ttu-id="531c4-121">[Implementación de Azure Stack](azure-stack-run-powershell-script.md).</span><span class="sxs-lookup"><span data-stu-id="531c4-121">[Deploy Azure Stack](azure-stack-run-powershell-script.md).</span></span>  <span data-ttu-id="531c4-122">instalación de Hello normalmente tarda unos toocomplete horas, por lo que planear en consecuencia.</span><span class="sxs-lookup"><span data-stu-id="531c4-122">hello installation usually takes a few hours toocomplete, so plan accordingly.</span></span>
 - <span data-ttu-id="531c4-123">Implementar [servicio de aplicaciones](azure-stack-app-service-deploy.md) tooAzure pila de servicios de PaaS.</span><span class="sxs-lookup"><span data-stu-id="531c4-123">Deploy [App Service](azure-stack-app-service-deploy.md) PaaS services tooAzure Stack.</span></span>
 - <span data-ttu-id="531c4-124">Cree una aplicación web y configúrela para [publicación FTP](azure-stack-app-service-enable-ftp.md).</span><span class="sxs-lookup"><span data-stu-id="531c4-124">Create a Web App and configure it for [FTP publishing](azure-stack-app-service-enable-ftp.md).</span></span>  <span data-ttu-id="531c4-125">Tome nota de Hola nuevo de dirección URL de aplicación Web, tal como se utiliza más adelante.</span><span class="sxs-lookup"><span data-stu-id="531c4-125">Make note of hello new Web App URL, as it is used later.</span></span>  

### <a name="developer-tools"></a><span data-ttu-id="531c4-126">Herramientas para desarrolladores</span><span class="sxs-lookup"><span data-stu-id="531c4-126">Developer tools</span></span>
 - <span data-ttu-id="531c4-127">Cree un [área de trabajo de VSTS](https://www.visualstudio.com/docs/setup-admin/team-services/sign-up-for-visual-studio-team-services).</span><span class="sxs-lookup"><span data-stu-id="531c4-127">Create a [VSTS workspace](https://www.visualstudio.com/docs/setup-admin/team-services/sign-up-for-visual-studio-team-services).</span></span>  <span data-ttu-id="531c4-128">proceso de registro de Hello crea un proyecto denominado "MyFirstProject."</span><span class="sxs-lookup"><span data-stu-id="531c4-128">hello sign-up process creates a project named "MyFirstProject."</span></span>  
 - <span data-ttu-id="531c4-129">[Instalar Visual Studio de 2017](https://docs.microsoft.com/visualstudio/install/install-visual-studio) y [tooVSTS de inicio de sesión](https://www.visualstudio.com/docs/setup-admin/team-services/connect-to-visual-studio-team-services#connect-and-share-code-from-visual-studio)</span><span class="sxs-lookup"><span data-stu-id="531c4-129">[Install Visual Studio 2017](https://docs.microsoft.com/visualstudio/install/install-visual-studio) and [sign-in tooVSTS](https://www.visualstudio.com/docs/setup-admin/team-services/connect-to-visual-studio-team-services#connect-and-share-code-from-visual-studio)</span></span>
 - <span data-ttu-id="531c4-130">Conectar a proyecto toohello y [clonar localmente](https://www.visualstudio.com/docs/git/gitquickstart).</span><span class="sxs-lookup"><span data-stu-id="531c4-130">Connect toohello project and [clone locally](https://www.visualstudio.com/docs/git/gitquickstart).</span></span>
 - <span data-ttu-id="531c4-131">Cree un [grupo de agentes](https://www.visualstudio.com/docs/build/concepts/agents/pools-queues#creating-agent-pools-and-queues) en VSTS.</span><span class="sxs-lookup"><span data-stu-id="531c4-131">Create an [agent pool](https://www.visualstudio.com/docs/build/concepts/agents/pools-queues#creating-agent-pools-and-queues) in VSTS.</span></span>
 - <span data-ttu-id="531c4-132">Instalar Visual Studio e implementar un [agente de compilación de VSTS](https://www.visualstudio.com/docs/build/actions/agents/v2-windows) tooa virtual machine en la pila de Azure.</span><span class="sxs-lookup"><span data-stu-id="531c4-132">Install Visual Studio and deploy a [VSTS build agent](https://www.visualstudio.com/docs/build/actions/agents/v2-windows) tooa virtual machine on Azure Stack.</span></span> 
 

## <a name="create-app--push-toovsts"></a><span data-ttu-id="531c4-133">Crear la aplicación e inserción tooVSTS</span><span class="sxs-lookup"><span data-stu-id="531c4-133">Create app & push tooVSTS</span></span>

### <a name="create-application"></a><span data-ttu-id="531c4-134">Creación de la aplicación</span><span class="sxs-lookup"><span data-stu-id="531c4-134">Create application</span></span>
<span data-ttu-id="531c4-135">En esta sección, crear una aplicación ASP.NET simple y empújelo tooVSTS.</span><span class="sxs-lookup"><span data-stu-id="531c4-135">In this section, you create a simple ASP.NET application and push it tooVSTS.</span></span>  <span data-ttu-id="531c4-136">Estos pasos representan el flujo de trabajo de saludo habitual del desarrollador y pueden adaptar para los lenguajes y herramientas de desarrollo.</span><span class="sxs-lookup"><span data-stu-id="531c4-136">These steps represent hello normal developer workflow, and could be adapted for developer tools and languages.</span></span> 

1.  <span data-ttu-id="531c4-137">Abra Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="531c4-137">Open Visual Studio.</span></span>
2.  <span data-ttu-id="531c4-138">De hello espacio de Team Explorer y **soluciones...**  área, haga clic en **nuevo**.</span><span class="sxs-lookup"><span data-stu-id="531c4-138">From hello Team Explorer space and **Solutions...** area, click **New**.</span></span>
3.  <span data-ttu-id="531c4-139">Seleccione **Visual C#** > **Web** > **Aplicación web ASP.NET (.NET Framework)**.</span><span class="sxs-lookup"><span data-stu-id="531c4-139">Select **Visual C#** > **Web** > **ASP.NET Web Application (.NET Framework)**.</span></span>
4.  <span data-ttu-id="531c4-140">Proporcione un nombre para la aplicación hello y haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="531c4-140">Provide a name for hello application and click **OK**.</span></span>
5.  <span data-ttu-id="531c4-141">En la siguiente pantalla de bienvenida, mantenga los valores predeterminados de hello (formularios Web forms) y haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="531c4-141">On hello next screen, keep hello defaults (Web forms) and click **OK**.</span></span>

### <a name="commit-and-push-changes-toovsts"></a><span data-ttu-id="531c4-142">Confirme e inserte cambios tooVSTS</span><span class="sxs-lookup"><span data-stu-id="531c4-142">Commit and push changes tooVSTS</span></span>
1.  <span data-ttu-id="531c4-143">Con Team Explorer en Visual Studio, seleccione la lista desplegable de Hola y haga clic en **cambios**.</span><span class="sxs-lookup"><span data-stu-id="531c4-143">Using Team Explorer in Visual Studio, select hello dropdown and click **Changes**.</span></span>
2.  <span data-ttu-id="531c4-144">Agregue un mensaje de confirmación y seleccione **Confirmar todo**.</span><span class="sxs-lookup"><span data-stu-id="531c4-144">Provide a commit message and select **Commit all**.</span></span> <span data-ttu-id="531c4-145">Puede ser solicitadas toosave Hola solución archivo, haga clic en Sí toosave todos.</span><span class="sxs-lookup"><span data-stu-id="531c4-145">You may be prompted toosave hello solution file, click yes toosave all.</span></span>
3.  <span data-ttu-id="531c4-146">Una vez confirmado, Visual Studio ofrece proyecto tooyour de toosync cambios.</span><span class="sxs-lookup"><span data-stu-id="531c4-146">Once committed, Visual Studio offers toosync changes tooyour project.</span></span> <span data-ttu-id="531c4-147">Seleccione **Sincronizar**.</span><span class="sxs-lookup"><span data-stu-id="531c4-147">Select **Sync**.</span></span>

    ![pantalla de confirmación de bienvenida de imagen que muestra una vez completada la confirmación](./media/azure-stack-solution-pipeline/image1.png)

4.  <span data-ttu-id="531c4-149">En la pestaña de la sincronización de hello, en *saliente*, verá que la confirmación nuevo.</span><span class="sxs-lookup"><span data-stu-id="531c4-149">In hello synchronization tab, under *Outgoing*, you see your new commit.</span></span>  <span data-ttu-id="531c4-150">Seleccione **Push** toosynchronize Hola cambiar tooVSTS.</span><span class="sxs-lookup"><span data-stu-id="531c4-150">Select **Push** toosynchronize hello change tooVSTS.</span></span>

    ![imagen que muestra los pasos de sincronización](./media/azure-stack-solution-pipeline/image2.png)

### <a name="review-code-in-vsts"></a><span data-ttu-id="531c4-152">Revisión del código en VSTS</span><span class="sxs-lookup"><span data-stu-id="531c4-152">Review code in VSTS</span></span>
<span data-ttu-id="531c4-153">Una vez se ha confirmado un cambio e inserta tooVSTS, compruebe el código desde el portal VSTS Hola.</span><span class="sxs-lookup"><span data-stu-id="531c4-153">Once you've committed a change and pushed tooVSTS, check your code from hello VSTS portal.</span></span>  <span data-ttu-id="531c4-154">Seleccione **código**y, a continuación, **archivos** desde el menú desplegable de Hola.</span><span class="sxs-lookup"><span data-stu-id="531c4-154">Select **Code**, and then **Files** from hello dropdown menu.</span></span>  <span data-ttu-id="531c4-155">Puede ver la solución de hello creada.</span><span class="sxs-lookup"><span data-stu-id="531c4-155">You can see hello solution you created.</span></span>

## <a name="create-build-definition"></a><span data-ttu-id="531c4-156">Creación de la definición de compilación</span><span class="sxs-lookup"><span data-stu-id="531c4-156">Create build definition</span></span>
<span data-ttu-id="531c4-157">proceso de compilación de Hello define cómo la aplicación se compila y empaqueta para su implementación en cada confirmación de cambios de código.</span><span class="sxs-lookup"><span data-stu-id="531c4-157">hello build process defines how your application is built and packaged for deployment on each commit of code changes.</span></span> <span data-ttu-id="531c4-158">En nuestro ejemplo, utilizamos Hola incluida plantilla tooconfigure Hola proceso de compilación para una aplicación ASP.NET, aunque esta configuración podría ser adaptada dependiendo de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="531c4-158">In our example, we use hello included template tooconfigure hello build process for an ASP.NET app, though this configuration could be adapted depending on your application.</span></span>

1.  <span data-ttu-id="531c4-159">Inicie sesión en tooyour área de trabajo VSTS desde un explorador web.</span><span class="sxs-lookup"><span data-stu-id="531c4-159">Sign in tooyour VSTS workspace from a web browser.</span></span>
2.  <span data-ttu-id="531c4-160">En el banner de hello, seleccione **compilar & versión** y, a continuación, **genera**.</span><span class="sxs-lookup"><span data-stu-id="531c4-160">From hello banner, select **Build & Release**  and then **Builds**.</span></span>
3.  <span data-ttu-id="531c4-161">Haga clic en **+ Nueva definición**.</span><span class="sxs-lookup"><span data-stu-id="531c4-161">Click **+ New definition**.</span></span>
4.  <span data-ttu-id="531c4-162">En la lista Hola de plantillas, seleccione **ASP.NET (versión preliminar)** y seleccione **aplicar**.</span><span class="sxs-lookup"><span data-stu-id="531c4-162">From hello list of templates, select **ASP.NET (Preview)** and select **Apply**.</span></span>
5.  <span data-ttu-id="531c4-163">Modificar hello *argumentos de MSBuild* campo *generar solución* paso a paso para:</span><span class="sxs-lookup"><span data-stu-id="531c4-163">Modify hello *MSBuild Arguments* field in *Build Solution* step to:</span></span>

    `/p:DeployOnBuild=True /p:WebPublishMethod=FileSystem /p:DeployDefaultTarget=WebPublish /p:publishUrl="$(build.artifactstagingdirectory)\\"`

6.  <span data-ttu-id="531c4-164">Seleccione hello **opciones** ficha y seleccione Hola la cola del agente para hello agente de compilación que haya implementado tooa máquina virtual en la pila de Azure.</span><span class="sxs-lookup"><span data-stu-id="531c4-164">Select hello **Options** tab, and select hello agent queue for hello build agent you deployed tooa virtual machine on Azure Stack.</span></span> 
7.  <span data-ttu-id="531c4-165">Seleccione hello **desencadenadores** y a habilitar **integración continua**.</span><span class="sxs-lookup"><span data-stu-id="531c4-165">Select hello **Triggers** tab, and enable **Continuous Integration**.</span></span>
7.  <span data-ttu-id="531c4-166">Haga clic en **Guardar & cola** y, a continuación, seleccione **guardar** de lista desplegable de Hola.</span><span class="sxs-lookup"><span data-stu-id="531c4-166">Click **Save & queue** and then select **Save** from hello dropdown.</span></span> 

## <a name="create-release-definition"></a><span data-ttu-id="531c4-167">Creación de la definición de versión</span><span class="sxs-lookup"><span data-stu-id="531c4-167">Create release definition</span></span>
<span data-ttu-id="531c4-168">proceso de lanzamiento de Hello define cómo compilaciones del paso anterior Hola son entorno tooan implementado.</span><span class="sxs-lookup"><span data-stu-id="531c4-168">hello release process defines how builds from hello previous step are deployed tooan environment.</span></span>  <span data-ttu-id="531c4-169">En este tutorial, publicamos nuestra aplicación ASP.NET con FTP tooan aplicación Web de Azure.</span><span class="sxs-lookup"><span data-stu-id="531c4-169">In this tutorial, we publish our ASP.NET app with FTP tooan Azure Web App.</span></span> <span data-ttu-id="531c4-170">tooconfigure un tooAzure versión, use Hola pasos:</span><span class="sxs-lookup"><span data-stu-id="531c4-170">tooconfigure a release tooAzure, use hello following steps:</span></span>

1.  <span data-ttu-id="531c4-171">En la pancarta VSTS hello, seleccione **compilar & versión** y, a continuación, **versiones**.</span><span class="sxs-lookup"><span data-stu-id="531c4-171">From hello VSTS banner, select **Build & Release**  and then **Releases**.</span></span>
2.  <span data-ttu-id="531c4-172">Haga clic en hello verde **+ nueva definición**.</span><span class="sxs-lookup"><span data-stu-id="531c4-172">Click hello green **+ New definition**.</span></span>
3.  <span data-ttu-id="531c4-173">Seleccione **Vacía** y haga clic en **Siguiente**.</span><span class="sxs-lookup"><span data-stu-id="531c4-173">Select **Empty** and click **Next**.</span></span>
4.  <span data-ttu-id="531c4-174">Casilla de Hola para *implementación continua*y, a continuación, haga clic en **crear**.</span><span class="sxs-lookup"><span data-stu-id="531c4-174">Check hello box for *Continuous deployment*, and then click **Create**.</span></span>

<span data-ttu-id="531c4-175">Ahora que ha creado una definición de versión vacío y vinculada toohello compilación, agregamos pasos para hello entorno de Azure:</span><span class="sxs-lookup"><span data-stu-id="531c4-175">Now that you've created an empty release definition and tied it toohello build, we add steps for hello Azure environment:</span></span>

1.  <span data-ttu-id="531c4-176">Haga clic en hello verde  **+**  tooadd tareas.</span><span class="sxs-lookup"><span data-stu-id="531c4-176">Click hello green **+** tooadd tasks.</span></span>
2.  <span data-ttu-id="531c4-177">Seleccione **todos los**y, a continuación, en lista de hello, agregue **FTP cargar** y seleccione **cerrar**.</span><span class="sxs-lookup"><span data-stu-id="531c4-177">Select **All**, and then from hello list, add **FTP Upload** and select **Close**.</span></span>
3.  <span data-ttu-id="531c4-178">Seleccione hello **FTP cargar** tarea se acaba de agregar y configurar Hola parámetros siguientes:</span><span class="sxs-lookup"><span data-stu-id="531c4-178">Select hello **FTP Upload** task you just added, and configure hello following parameters:</span></span>
    
    | <span data-ttu-id="531c4-179">Parámetro</span><span class="sxs-lookup"><span data-stu-id="531c4-179">Parameter</span></span> | <span data-ttu-id="531c4-180">Valor</span><span class="sxs-lookup"><span data-stu-id="531c4-180">Value</span></span> |
    | ----- | ----- |
    |<span data-ttu-id="531c4-181">Método de autenticación</span><span class="sxs-lookup"><span data-stu-id="531c4-181">Authentication Method</span></span>| <span data-ttu-id="531c4-182">Escribir credenciales</span><span class="sxs-lookup"><span data-stu-id="531c4-182">Enter Credentials</span></span>|
    |<span data-ttu-id="531c4-183">Dirección URL del servidor</span><span class="sxs-lookup"><span data-stu-id="531c4-183">Server URL</span></span> | <span data-ttu-id="531c4-184">Dirección URL de FTP de la aplicación web recuperada de Azure Portal</span><span class="sxs-lookup"><span data-stu-id="531c4-184">Web App FTP URL retrieved from Azure portal</span></span> |
    |<span data-ttu-id="531c4-185">Nombre de usuario</span><span class="sxs-lookup"><span data-stu-id="531c4-185">Username</span></span> | <span data-ttu-id="531c4-186">Nombre de usuario que configuró al crear las credenciales de FTP para la aplicación web</span><span class="sxs-lookup"><span data-stu-id="531c4-186">Username you configured when creating FTP Credentials for Web App</span></span> |
    |<span data-ttu-id="531c4-187">Password</span><span class="sxs-lookup"><span data-stu-id="531c4-187">Password</span></span> | <span data-ttu-id="531c4-188">Contraseña que creó al establecer las credenciales FTP para la aplicación web</span><span class="sxs-lookup"><span data-stu-id="531c4-188">Password you created when establishing FTP credentials for Web App</span></span>|
    |<span data-ttu-id="531c4-189">Directorio de origen</span><span class="sxs-lookup"><span data-stu-id="531c4-189">Source Directory</span></span> | <span data-ttu-id="531c4-190">$(System.DefaultWorkingDirectory)\**\\</span><span class="sxs-lookup"><span data-stu-id="531c4-190">$(System.DefaultWorkingDirectory)\**\\</span></span> |
    |<span data-ttu-id="531c4-191">Directorio remoto</span><span class="sxs-lookup"><span data-stu-id="531c4-191">Remote Directory</span></span> | <span data-ttu-id="531c4-192">/site/wwwroot/</span><span class="sxs-lookup"><span data-stu-id="531c4-192">/site/wwwroot/</span></span> |
    |<span data-ttu-id="531c4-193">Mantener las rutas de acceso de los archivos</span><span class="sxs-lookup"><span data-stu-id="531c4-193">Preserve file paths</span></span> | <span data-ttu-id="531c4-194">Habilitado (activado)</span><span class="sxs-lookup"><span data-stu-id="531c4-194">Enabled (checked)</span></span>|

4.  <span data-ttu-id="531c4-195">Haga clic en **Guardar**</span><span class="sxs-lookup"><span data-stu-id="531c4-195">Click **Save**</span></span>

<span data-ttu-id="531c4-196">Por último, configure Hola versión definición toouse Hola agente grupo que contiene a agente Hola implementada mediante Hola pasos:</span><span class="sxs-lookup"><span data-stu-id="531c4-196">Finally, you configure hello release definition toouse hello agent pool containing hello agent deployed using hello following steps:</span></span>
1.  <span data-ttu-id="531c4-197">Seleccione la definición de la versión de Hola y haga clic en **editar**.</span><span class="sxs-lookup"><span data-stu-id="531c4-197">Select hello release definition and click **Edit**.</span></span>
2.  <span data-ttu-id="531c4-198">Seleccione **se ejecutan en agente** de la columna central Hola.</span><span class="sxs-lookup"><span data-stu-id="531c4-198">Select **Run on agent** from hello middle column.</span></span>  <span data-ttu-id="531c4-199">En la columna derecha de hello, seleccione la cola de agente de Hola que contiene el agente de compilación de hello ejecutando en la pila de Azure.</span><span class="sxs-lookup"><span data-stu-id="531c4-199">In hello right column, select hello agent queue containing hello build agent running on Azure Stack.</span></span>  
    <span data-ttu-id="531c4-200">![configuración de imagen que muestra de cola específica de versión definición toouse](./media/azure-stack-solution-pipeline/image3.png)</span><span class="sxs-lookup"><span data-stu-id="531c4-200">![image showing configuration of release definition toouse specific queue](./media/azure-stack-solution-pipeline/image3.png)</span></span>


## <a name="deploy-your-app-tooazure"></a><span data-ttu-id="531c4-201">Implementar la aplicación tooAzure</span><span class="sxs-lookup"><span data-stu-id="531c4-201">Deploy your app tooAzure</span></span>
<span data-ttu-id="531c4-202">Este paso usa la recién creado CI/CD canalización toodeploy Hola ASP.NET aplicación tooa aplicación Web en Azure.</span><span class="sxs-lookup"><span data-stu-id="531c4-202">This step uses your newly built CI/CD pipeline toodeploy hello ASP.NET app tooa Web App on Azure.</span></span> 

1.  <span data-ttu-id="531c4-203">En la pancarta de hello en VSTS, seleccione **compilar & versión**y, a continuación, seleccione **genera**.</span><span class="sxs-lookup"><span data-stu-id="531c4-203">From hello banner in VSTS, select **Build & Release**, and then select **Builds**.</span></span>
2.  <span data-ttu-id="531c4-204">Haga clic en **...**  en hello creado previamente de definición de compilación y seleccione **poner nueva compilación en cola**.</span><span class="sxs-lookup"><span data-stu-id="531c4-204">Click **...** on hello build definition previously created, and select **Queue new build**.</span></span>
3.  <span data-ttu-id="531c4-205">Acepte los valores predeterminados de Hola y haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="531c4-205">Accept hello defaults and click **Ok**.</span></span>  <span data-ttu-id="531c4-206">compilación de Hello comienza y muestra el progreso.</span><span class="sxs-lookup"><span data-stu-id="531c4-206">hello build begins and displays progress.</span></span>
4.  <span data-ttu-id="531c4-207">Una vez completada la compilación de hello, puede realizar seguimiento del estado Hola seleccionando **compilar & versión** y seleccionando **versiones**.</span><span class="sxs-lookup"><span data-stu-id="531c4-207">Once hello build is complete, you can track hello status by selecting **Build & Release** and selecting **Releases**.</span></span>
5.  <span data-ttu-id="531c4-208">Una vez completada la compilación de hello, visite sitio Web de hello mediante dirección URL de Hola se indicó al crear la aplicación Web de Hola.</span><span class="sxs-lookup"><span data-stu-id="531c4-208">After hello build is complete, visit hello website using hello URL noted when creating hello Web App.</span></span>    


## <a name="add-azure-stack-toopipeline"></a><span data-ttu-id="531c4-209">Agregar toopipeline de pila de Azure</span><span class="sxs-lookup"><span data-stu-id="531c4-209">Add Azure Stack toopipeline</span></span>
<span data-ttu-id="531c4-210">Ahora que ha probado la canalización de CI/CD mediante la implementación de tooAzure, es hora tooadd canalización toohello de pila de Azure.</span><span class="sxs-lookup"><span data-stu-id="531c4-210">Now that you've tested your CI/CD pipeline by deploying tooAzure, it's time tooadd Azure Stack toohello pipeline.</span></span>  <span data-ttu-id="531c4-211">Hola pasos, cree un nuevo entorno y agregar una tarea FTP cargar, toodeploy la pila de aplicación tooAzure.</span><span class="sxs-lookup"><span data-stu-id="531c4-211">In hello following steps, you create a new environment and add an FTP Upload task toodeploy your app tooAzure Stack.</span></span>  <span data-ttu-id="531c4-212">También agregará un aprobador de versión, que actúa como un toosimulate de manera "firmar" en un tooAzure de versión de código pila.</span><span class="sxs-lookup"><span data-stu-id="531c4-212">You also add a release approver, which serves as a way toosimulate "signing off" on a code release tooAzure Stack.</span></span>  

1.  <span data-ttu-id="531c4-213">En la definición de la versión de hello, seleccione **+ agregar entorno** y **crear nuevo entorno**.</span><span class="sxs-lookup"><span data-stu-id="531c4-213">In hello Release definition, select **+ Add Environment** and **Create new environment**.</span></span>
2.  <span data-ttu-id="531c4-214">Seleccione **Vacío** y haga clic en **Siguiente**.</span><span class="sxs-lookup"><span data-stu-id="531c4-214">Select **Empty**, click **Next**.</span></span>
3.  <span data-ttu-id="531c4-215">Seleccione **Usuarios específicos** y especifique su cuenta.</span><span class="sxs-lookup"><span data-stu-id="531c4-215">Select **Specific users** and specify your account.</span></span>  <span data-ttu-id="531c4-216">Seleccione **Crear**.</span><span class="sxs-lookup"><span data-stu-id="531c4-216">Select **Create**.</span></span>
4.  <span data-ttu-id="531c4-217">Cambiar el nombre de entorno de hello seleccionando nombre existente de Hola y escribiendo *Azure pila*.</span><span class="sxs-lookup"><span data-stu-id="531c4-217">Rename hello environment by selecting hello existing name and typing *Azure Stack*.</span></span>
5.  <span data-ttu-id="531c4-218">Ahora, selección Hola entorno de pila de Azure, a continuación, seleccione **agregar tareas**.</span><span class="sxs-lookup"><span data-stu-id="531c4-218">Now, selection hello Azure Stack environment, then select **Add tasks**.</span></span>
6.  <span data-ttu-id="531c4-219">Seleccione hello **FTP cargar** de tareas y seleccione **agregar**, a continuación, seleccione **cerrar**.</span><span class="sxs-lookup"><span data-stu-id="531c4-219">Select hello **FTP Upload** task and select **Add**, then select **Close**.</span></span>


### <a name="configure-ftp-task"></a><span data-ttu-id="531c4-220">Configuración de la tarea FTP</span><span class="sxs-lookup"><span data-stu-id="531c4-220">Configure FTP task</span></span>
<span data-ttu-id="531c4-221">Ahora que ha creado una versión, configurará los pasos de hello necesarios para toohello publicar la aplicación Web en la pila de Azure.</span><span class="sxs-lookup"><span data-stu-id="531c4-221">Now that you've created a release, you'll configure hello steps required for publishing toohello Web App on Azure Stack.</span></span>  <span data-ttu-id="531c4-222">Al igual que configuró tarea de carga de FTP de Hola para Azure, configurar tarea hello para la pila de Azure:</span><span class="sxs-lookup"><span data-stu-id="531c4-222">Just like you configured hello FTP Upload task for Azure, you configure hello task for Azure Stack:</span></span>

1.  <span data-ttu-id="531c4-223">Seleccione hello **FTP cargar** tarea se acaba de agregar y configurar Hola parámetros siguientes:</span><span class="sxs-lookup"><span data-stu-id="531c4-223">Select hello **FTP Upload** task you just added, and configure hello following parameters:</span></span>
    
    | <span data-ttu-id="531c4-224">Parámetro</span><span class="sxs-lookup"><span data-stu-id="531c4-224">Parameter</span></span> | <span data-ttu-id="531c4-225">Valor</span><span class="sxs-lookup"><span data-stu-id="531c4-225">Value</span></span> |
    | -----     | ----- |
    |<span data-ttu-id="531c4-226">Método de autenticación</span><span class="sxs-lookup"><span data-stu-id="531c4-226">Authentication Method</span></span>| <span data-ttu-id="531c4-227">Escribir credenciales</span><span class="sxs-lookup"><span data-stu-id="531c4-227">Enter Credentials</span></span>|
    |<span data-ttu-id="531c4-228">Dirección URL del servidor</span><span class="sxs-lookup"><span data-stu-id="531c4-228">Server URL</span></span> | <span data-ttu-id="531c4-229">Dirección URL de FTP de la aplicación web recuperada de Azure Stack Portal</span><span class="sxs-lookup"><span data-stu-id="531c4-229">Web App FTP URL retrieved from Azure Stack portal</span></span> |
    |<span data-ttu-id="531c4-230">Nombre de usuario</span><span class="sxs-lookup"><span data-stu-id="531c4-230">Username</span></span> | <span data-ttu-id="531c4-231">Nombre de usuario que configuró al crear las credenciales de FTP para la aplicación web</span><span class="sxs-lookup"><span data-stu-id="531c4-231">Username you configured when creating FTP Credentials for Web App</span></span> |
    |<span data-ttu-id="531c4-232">Password</span><span class="sxs-lookup"><span data-stu-id="531c4-232">Password</span></span> | <span data-ttu-id="531c4-233">Contraseña que creó al establecer las credenciales FTP para la aplicación web</span><span class="sxs-lookup"><span data-stu-id="531c4-233">Password you created when establishing FTP credentials for Web App</span></span>|
    |<span data-ttu-id="531c4-234">Directorio de origen</span><span class="sxs-lookup"><span data-stu-id="531c4-234">Source Directory</span></span> | <span data-ttu-id="531c4-235">$(System.DefaultWorkingDirectory)\**\\</span><span class="sxs-lookup"><span data-stu-id="531c4-235">$(System.DefaultWorkingDirectory)\**\\</span></span> |
    |<span data-ttu-id="531c4-236">Directorio remoto</span><span class="sxs-lookup"><span data-stu-id="531c4-236">Remote Directory</span></span> | <span data-ttu-id="531c4-237">/site/wwwroot/</span><span class="sxs-lookup"><span data-stu-id="531c4-237">/site/wwwroot/</span></span>|
    |<span data-ttu-id="531c4-238">Mantener las rutas de acceso de los archivos</span><span class="sxs-lookup"><span data-stu-id="531c4-238">Preserve file paths</span></span> | <span data-ttu-id="531c4-239">Habilitado (activado)</span><span class="sxs-lookup"><span data-stu-id="531c4-239">Enabled (checked)</span></span>|

2.  <span data-ttu-id="531c4-240">Haga clic en **Guardar**</span><span class="sxs-lookup"><span data-stu-id="531c4-240">Click **Save**</span></span>

<span data-ttu-id="531c4-241">Por último, configure Hola versión definición toouse Hola agente grupo que contiene a agente Hola implementada mediante Hola pasos:</span><span class="sxs-lookup"><span data-stu-id="531c4-241">Finally, configure hello release definition toouse hello agent pool containing hello agent deployed using hello following steps:</span></span>
1.  <span data-ttu-id="531c4-242">Seleccione la definición de la versión de Hola y haga clic en **editar**</span><span class="sxs-lookup"><span data-stu-id="531c4-242">Select hello release definition and click **Edit**</span></span>
2.  <span data-ttu-id="531c4-243">Seleccione **se ejecutan en agente** de la columna central Hola.</span><span class="sxs-lookup"><span data-stu-id="531c4-243">Select **Run on agent** from hello middle column.</span></span> <span data-ttu-id="531c4-244">En la columna derecha de hello, seleccione la cola de agente de Hola que contiene el agente de compilación de hello ejecutando en la pila de Azure.</span><span class="sxs-lookup"><span data-stu-id="531c4-244">In hello right column, select hello agent queue containing hello build agent running on Azure Stack.</span></span>  
    <span data-ttu-id="531c4-245">![configuración de imagen que muestra de cola específica de versión definición toouse](./media/azure-stack-solution-pipeline/image3.png)</span><span class="sxs-lookup"><span data-stu-id="531c4-245">![image showing configuration of release definition toouse specific queue](./media/azure-stack-solution-pipeline/image3.png)</span></span>

## <a name="deploy-new-code"></a><span data-ttu-id="531c4-246">Implementación de nuevo código</span><span class="sxs-lookup"><span data-stu-id="531c4-246">Deploy new code</span></span>
<span data-ttu-id="531c4-247">Ahora puede probar la canalización de CI/CD híbrida hello, con hello paso final publicación tooAzure pila.</span><span class="sxs-lookup"><span data-stu-id="531c4-247">You can now test hello hybrid CI/CD pipeline, with hello final step publishing tooAzure Stack.</span></span>  <span data-ttu-id="531c4-248">En esta sección, modifique el pie de página del sitio de Hola y comience a través de la canalización de Hola.</span><span class="sxs-lookup"><span data-stu-id="531c4-248">In this section, you modify hello site's footer and start deployment through hello pipeline.</span></span>  <span data-ttu-id="531c4-249">Una vez completado, verá los cambios implementarán tooAzure para su revisión, a continuación, una vez que aprobar la versión de Hola, son publicado tooAzure pila.</span><span class="sxs-lookup"><span data-stu-id="531c4-249">Once complete, you will see your changes deployed tooAzure for review, then once you approve hello release, they are published tooAzure Stack.</span></span>

1. <span data-ttu-id="531c4-250">En Visual Studio, abra hello *site.master* y cambie esta línea:</span><span class="sxs-lookup"><span data-stu-id="531c4-250">In Visual Studio, open hello *site.master* file and change this line:</span></span>
    
    `
        <p>&copy; <%: DateTime.Now.Year %> - My ASP.NET Application</p>
    `

    <span data-ttu-id="531c4-251">toothis:</span><span class="sxs-lookup"><span data-stu-id="531c4-251">toothis:</span></span>

    `
        <p>&copy; <%: DateTime.Now.Year %> - My ASP.NET Application delivered by VSTS, Azure, and Azure Stack</p>
    `
3.  <span data-ttu-id="531c4-252">Confirmar los cambios de Hola y tooVSTS de sincronización.</span><span class="sxs-lookup"><span data-stu-id="531c4-252">Commit hello changes and sync tooVSTS.</span></span>  
4.  <span data-ttu-id="531c4-253">Desde el área de trabajo VSTS hello, comprobar el estado de generación de hello seleccionando **compilar & versión** > **de compilación**</span><span class="sxs-lookup"><span data-stu-id="531c4-253">From hello VSTS workspace, check hello build status by selecting **Build & Release** > **Build**</span></span>
5.  <span data-ttu-id="531c4-254">Verá una compilación en curso.</span><span class="sxs-lookup"><span data-stu-id="531c4-254">You will see a build in progress.</span></span>  <span data-ttu-id="531c4-255">Haga doble clic en el estado de hello, y puede ver el progreso de compilación de Hola.</span><span class="sxs-lookup"><span data-stu-id="531c4-255">Double-click hello status, and you can watch hello build progress.</span></span>  <span data-ttu-id="531c4-256">Una vez que vea "Build terminado" en la consola de hello, mover en la versión de Hola toocheck desde **compilar & versión** > **versión**.</span><span class="sxs-lookup"><span data-stu-id="531c4-256">Once you see "Finished build" in hello console, move on toocheck hello release from **Build & Release** > **Release**.</span></span>  <span data-ttu-id="531c4-257">Haga doble clic en la versión de Hola.</span><span class="sxs-lookup"><span data-stu-id="531c4-257">Double-click hello release.</span></span>
6.  <span data-ttu-id="531c4-258">Recibirá una notificación que indica que una versión requiere ser revisada.</span><span class="sxs-lookup"><span data-stu-id="531c4-258">You will receive notification that a release requires review.</span></span> <span data-ttu-id="531c4-259">Compruebe Hola URL de la aplicación Web y los cambios nuevo Hola están presentes.</span><span class="sxs-lookup"><span data-stu-id="531c4-259">Check hello Web App URL and verify hello new changes are present.</span></span>  <span data-ttu-id="531c4-260">Aprobar versión de hello en VSTS.</span><span class="sxs-lookup"><span data-stu-id="531c4-260">Approve hello release in VSTS.</span></span>
    <span data-ttu-id="531c4-261">![configuración de imagen que muestra de cola específica de versión definición toouse](./media/azure-stack-solution-pipeline/image4.png)</span><span class="sxs-lookup"><span data-stu-id="531c4-261">![image showing configuration of release definition toouse specific queue](./media/azure-stack-solution-pipeline/image4.png)</span></span>
    
7.  <span data-ttu-id="531c4-262">Compruebe la publicación tooAzure que pila está completa visitando el sitio Web de hello mediante dirección URL de Hola se indicó al crear la aplicación Web de Hola.</span><span class="sxs-lookup"><span data-stu-id="531c4-262">Verify publishing tooAzure Stack is complete by visiting hello website using hello URL noted when creating hello Web App.</span></span>
    <span data-ttu-id="531c4-263">![imagen que muestra la aplicación ASP.NET con el pie de página cambiado](./media/azure-stack-solution-pipeline/image5.png)</span><span class="sxs-lookup"><span data-stu-id="531c4-263">![image showing ASP.NEt app with footer changed](./media/azure-stack-solution-pipeline/image5.png)</span></span>


<span data-ttu-id="531c4-264">Ahora puede usar la nueva canalización de CI/CD híbrida como un bloque de creación para otros modelos de nube híbrida.</span><span class="sxs-lookup"><span data-stu-id="531c4-264">You can now use your new hybrid CI/CD pipeline as a building block for other hybrid cloud patterns.</span></span>

## <a name="next-steps"></a><span data-ttu-id="531c4-265">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="531c4-265">Next steps</span></span>
<span data-ttu-id="531c4-266">En este tutorial, ha aprendido cómo toobuild un elemento de configuración/CD híbrido de canalización que:</span><span class="sxs-lookup"><span data-stu-id="531c4-266">In this tutorial, you learned how toobuild a hybrid CI/CD pipeline that:</span></span>

> [!div class="checklist"]
> * <span data-ttu-id="531c4-267">Inicia una nueva compilación basada en el repositorio de código confirmaciones tooyour Visual Studio Team Services (VSTS).</span><span class="sxs-lookup"><span data-stu-id="531c4-267">Initiates a new build based on code commits tooyour Visual Studio Team Services (VSTS) repository.</span></span>
> * <span data-ttu-id="531c4-268">Implementa automáticamente su tooAzure de código recién creado para las pruebas de aceptación de usuario.</span><span class="sxs-lookup"><span data-stu-id="531c4-268">Automatically deploys your newly built code tooAzure for user acceptance testing.</span></span>
> * <span data-ttu-id="531c4-269">Una vez que el código ha pasado la prueba, implementa automáticamente tooAzure pila.</span><span class="sxs-lookup"><span data-stu-id="531c4-269">Once your code has passed testing, automatically deploys tooAzure Stack.</span></span> 

<span data-ttu-id="531c4-270">Ahora que tiene una canalización de CI/CD híbrida, continuar por aprendizaje cómo toodevelop aplicaciones para la pila de Azure.</span><span class="sxs-lookup"><span data-stu-id="531c4-270">Now that you have a hybrid CI/CD pipeline, continue by learning how toodevelop apps for Azure Stack.</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="531c4-271">Desarrollo para Azure Stack</span><span class="sxs-lookup"><span data-stu-id="531c4-271">Develop for Azure Stack</span></span>](azure-stack-developer.md)


