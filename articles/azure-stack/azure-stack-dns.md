---
title: aaaDNS en la pila de Azure | Documentos de Microsoft
description: DNS en Azure Stack
services: azure-stack
documentationcenter: 
author: ScottNapolitan
manager: byronr
editor: 
ms.assetid: 
ms.service: azure-stack
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 7/27/2017
ms.author: victorh
ms.openlocfilehash: 8620178833ac29e9653cce332b7c5d89bbdea0af
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="dns-in-azure-stack"></a><span data-ttu-id="bc938-103">DNS en Azure Stack</span><span class="sxs-lookup"><span data-stu-id="bc938-103">DNS in Azure Stack</span></span>
<span data-ttu-id="bc938-104">Pila de Azure incluye Hola siguientes características DNS:</span><span class="sxs-lookup"><span data-stu-id="bc938-104">Azure Stack includes hello following DNS features:</span></span>
* <span data-ttu-id="bc938-105">Compatibilidad con la resolución de nombres de host DNS</span><span class="sxs-lookup"><span data-stu-id="bc938-105">Support for DNS hostname resolution</span></span>
* <span data-ttu-id="bc938-106">Crear y administrar registros y zonas DNS con API</span><span class="sxs-lookup"><span data-stu-id="bc938-106">Create and manage DNS zones and records using API</span></span>

## <a name="support-for-dns-hostname-resolution"></a><span data-ttu-id="bc938-107">Compatibilidad con la resolución de nombres de host DNS</span><span class="sxs-lookup"><span data-stu-id="bc938-107">Support for DNS hostname resolution</span></span>
<span data-ttu-id="bc938-108">Puede especificar una etiqueta de nombre de dominio DNS para un recurso IP pública, que se crea una asignación para *domainnamelabel.location*. cloudapp.azurestack.external toohello la dirección IP en hello Azure pila administra servidores DNS.</span><span class="sxs-lookup"><span data-stu-id="bc938-108">You can specify a DNS domain name label for a public IP resource, which creates a mapping for *domainnamelabel.location*.cloudapp.azurestack.external toohello public IP address in hello Azure Stack managed DNS servers.</span></span>  

<span data-ttu-id="bc938-109">Por ejemplo, si crea un recurso IP público con **contoso** como una etiqueta de nombre de dominio en la ubicación de la pila de Azure Local hello, nombre de dominio completo (FQDN) de Hola **contoso.local.cloudapp.azurestack.external** resuelve la dirección IP pública de toohello del recurso de Hola.</span><span class="sxs-lookup"><span data-stu-id="bc938-109">For example, if you create a public IP resource with **contoso** as a domain name label in hello Local Azure Stack location, hello fully qualified domain name (FQDN) **contoso.local.cloudapp.azurestack.external** resolves toohello public IP address of hello resource.</span></span> <span data-ttu-id="bc938-110">Puede usar este toocreate FQDN un registro CNAME que señala la dirección IP pública toohello en pila de Azure de dominio personalizado.</span><span class="sxs-lookup"><span data-stu-id="bc938-110">You can use this FQDN toocreate a custom domain CNAME record that points toohello public IP address in Azure Stack.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="bc938-111">Cada etiqueta de nombre de dominio que se cree debe ser única dentro de su ubicación de Azure Stack.</span><span class="sxs-lookup"><span data-stu-id="bc938-111">Each domain name label created must be unique within its Azure Stack location.</span></span>

<span data-ttu-id="bc938-112">Si crea la dirección IP pública hello mediante el portal de hello, parece similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="bc938-112">If you create hello public IP address using hello portal, it looks like this:</span></span>

![Creación de una dirección IP pública](media/azure-stack-whats-new-dns/image01.png)

<span data-ttu-id="bc938-114">Esta configuración es útil si desea tooassociate una dirección IP pública a un recurso con equilibrio de carga.</span><span class="sxs-lookup"><span data-stu-id="bc938-114">This configuration is useful if you want tooassociate a public IP address with a load-balanced resource.</span></span> <span data-ttu-id="bc938-115">Por ejemplo, podría tener una solicitud de procesamiento de equilibrador de carga desde una aplicación web.</span><span class="sxs-lookup"><span data-stu-id="bc938-115">For example, you might have a load balancer processing requests from a web application.</span></span> <span data-ttu-id="bc938-116">Detrás de la carga de hello equilibrador es un sitio web ubicado en una o más máquinas virtuales.</span><span class="sxs-lookup"><span data-stu-id="bc938-116">Behind hello load balancer is a web site located  on one or more virtual machines.</span></span> <span data-ttu-id="bc938-117">Ahora puede tener acceso a sitios web con equilibrio de carga de hello mediante un nombre DNS, en lugar de una dirección IP.</span><span class="sxs-lookup"><span data-stu-id="bc938-117">Now you can access hello load-balanced web site by a DNS name, rather than by an IP address.</span></span>

## <a name="create-and-manage-dns-zones-and-records-using-api"></a><span data-ttu-id="bc938-118">Crear y administrar registros y zonas DNS con API</span><span class="sxs-lookup"><span data-stu-id="bc938-118">Create and manage DNS zones and records using API</span></span>
<span data-ttu-id="bc938-119">Puede crear y administrar registros y zonas DNS en Azure Stack.</span><span class="sxs-lookup"><span data-stu-id="bc938-119">You can create and manage DNS zones and records in Azure Stack.</span></span>  

<span data-ttu-id="bc938-120">Azure Stack proporciona un servicio DNS como Azure mediante API que son coherentes con las API de DNS de Azure.</span><span class="sxs-lookup"><span data-stu-id="bc938-120">Azure Stack provides a DNS service like Azure’s, using APIs that are consistent with Azure’s DNS APIs.</span></span>  <span data-ttu-id="bc938-121">Mediante el hospedaje de los dominios de DNS de la pila de Azure, puede administrar los registros DNS con hello mismas credenciales, API, herramientas, facturación y soporte a medida que los servicios de Azure.</span><span class="sxs-lookup"><span data-stu-id="bc938-121">By hosting your domains in Azure Stack DNS, you can manage your DNS records with hello same credentials, APIs, tools, billing, and support as your other Azure services.</span></span> 

<span data-ttu-id="bc938-122">Por razones obvias, la infraestructura de DNS de la pila de Azure de hello es más compacto que el de Azure.</span><span class="sxs-lookup"><span data-stu-id="bc938-122">For obvious reasons, hello Azure Stack DNS infrastructure is more compact than Azure's.</span></span> <span data-ttu-id="bc938-123">Por lo tanto, hello ámbito, escalabilidad y rendimiento dependen de escala de Hola de implementación de la pila de Azure de Hola y entorno de hello en los que se implementó.</span><span class="sxs-lookup"><span data-stu-id="bc938-123">Thus, hello scope, scale, and performance depend on hello scale of hello Azure Stack deployment and hello environment where it is deployed.</span></span>  <span data-ttu-id="bc938-124">Por lo tanto, por ejemplo, rendimiento, disponibilidad, distribución global y alta disponibilidad (HA) puede variar de toodeployment de implementación.</span><span class="sxs-lookup"><span data-stu-id="bc938-124">So, things like performance, availability, global distribution, and High-Availability (HA) can vary from deployment toodeployment.</span></span>

## <a name="comparison-with-azure-dns"></a><span data-ttu-id="bc938-125">Comparación con el DNS de Azure</span><span class="sxs-lookup"><span data-stu-id="bc938-125">Comparison with Azure DNS</span></span>
<span data-ttu-id="bc938-126">DNS en la pila de Azure es tooDNS similar en Azure, con dos excepciones principales:</span><span class="sxs-lookup"><span data-stu-id="bc938-126">DNS in Azure Stack is similar tooDNS in Azure, with two major exceptions:</span></span>
* <span data-ttu-id="bc938-127">**No admite registros AAAA**.</span><span class="sxs-lookup"><span data-stu-id="bc938-127">**It does not support AAAA records**</span></span>

    <span data-ttu-id="bc938-128">Azure Stack NO admite registros AAAA porque no es compatible con las direcciones IPv6.</span><span class="sxs-lookup"><span data-stu-id="bc938-128">Azure Stack does NOT support AAAA records because Azure Stack does not support IPv6 addresses.</span></span>  <span data-ttu-id="bc938-129">Se trata de una diferencia clave entre el DNS de Azure y de Azure Stack.</span><span class="sxs-lookup"><span data-stu-id="bc938-129">This is a key difference between DNS in Azure and Azure Stack.</span></span>
* <span data-ttu-id="bc938-130">**No es multiinquilino**.</span><span class="sxs-lookup"><span data-stu-id="bc938-130">**It is not multi-tenant**</span></span>

    <span data-ttu-id="bc938-131">A diferencia de Azure, Hola servicio DNS en la pila de Azure no es multiempresa.</span><span class="sxs-lookup"><span data-stu-id="bc938-131">Unlike Azure, hello DNS Service in Azure Stack is not multi-tenant.</span></span> <span data-ttu-id="bc938-132">Por lo que no se puede crear cada inquilino Hola misma zona DNS.</span><span class="sxs-lookup"><span data-stu-id="bc938-132">So each tenant cannot create hello same DNS zone.</span></span> <span data-ttu-id="bc938-133">Solo Hola primera suscripción que intente zona de hello toocreate se realiza correctamente y producirá un error en las solicitudes posteriores.</span><span class="sxs-lookup"><span data-stu-id="bc938-133">Only hello first subscription that attempts toocreate hello zone succeeds, and subsequent requests fail.</span></span>  <span data-ttu-id="bc938-134">Se trata de un problema conocido, y una diferencia clave entre el DNS de Azure y de Azure Stack.</span><span class="sxs-lookup"><span data-stu-id="bc938-134">It is a known issue, and a key difference between Azure and Azure Stack DNS.</span></span> <span data-ttu-id="bc938-135">El problema se solucionará en una futura versión.</span><span class="sxs-lookup"><span data-stu-id="bc938-135">This issue will be resolved in a future release.</span></span>

<span data-ttu-id="bc938-136">Además, hay algunas pequeñas diferencias en cómo el DNS de Azure Stack implementa las etiquetas, los metadatos, las etiquetas ETag y los límites.</span><span class="sxs-lookup"><span data-stu-id="bc938-136">In addition, there are some minor differences in how Azure Stack DNS implements Tags, Metadata, Etags, and Limits.</span></span>

<span data-ttu-id="bc938-137">Hola siguiente información aplica específicamente tooAzure DNS de la pila y varía ligeramente de DNS de Azure.</span><span class="sxs-lookup"><span data-stu-id="bc938-137">hello following information applies specifically tooAzure Stack DNS and varies slightly from Azure DNS.</span></span> <span data-ttu-id="bc938-138">toolearn más información acerca de DNS de Azure, consulte [zonas y registros DNS](../dns/dns-zones-records.md) en el sitio de documentación de Microsoft Azure Hola.</span><span class="sxs-lookup"><span data-stu-id="bc938-138">toolearn more about Azure DNS, see [DNS zones and records](../dns/dns-zones-records.md) at hello Microsoft Azure documentation site.</span></span>

### <a name="tags-metadata-and-etags"></a><span data-ttu-id="bc938-139">Etiquetas, metadatos y etiquetas de identidad</span><span class="sxs-lookup"><span data-stu-id="bc938-139">Tags, metadata, and Etags</span></span>

<span data-ttu-id="bc938-140">**Etiquetas**</span><span class="sxs-lookup"><span data-stu-id="bc938-140">**Tags**</span></span>

<span data-ttu-id="bc938-141">El DNS de Azure Stack admite el uso de etiquetas de Azure Resource Manager en recursos de zona DNS.</span><span class="sxs-lookup"><span data-stu-id="bc938-141">Azure Stack DNS supports using Azure Resource Manager tags on DNS zone resources.</span></span> <span data-ttu-id="bc938-142">No admite etiquetas en conjuntos de registros de DNS, aunque, como alternativa, se admiten "metadatos" en estos tipos de conjuntos, como se explica a continuación.</span><span class="sxs-lookup"><span data-stu-id="bc938-142">It does not support tags on DNS record sets, although as an alternative 'metadata' is supported on DNS record sets as explained next.</span></span>

<span data-ttu-id="bc938-143">**Metadata**</span><span class="sxs-lookup"><span data-stu-id="bc938-143">**Metadata**</span></span>

<span data-ttu-id="bc938-144">Como una alternativa toorecord conjunto de etiquetas, DNS de la pila de Azure admite la anotación de conjuntos de registros mediante 'metadatos de '.</span><span class="sxs-lookup"><span data-stu-id="bc938-144">As an alternative toorecord set tags, Azure Stack DNS supports annotating record sets using 'metadata'.</span></span> <span data-ttu-id="bc938-145">Tootags similar, metadatos permiten a tooassociate pares nombre / valor con cada conjunto de registros.</span><span class="sxs-lookup"><span data-stu-id="bc938-145">Similar tootags, metadata enables you tooassociate name-value pairs with each record set.</span></span> <span data-ttu-id="bc938-146">Por ejemplo, esto puede ser útil toorecord propósito de Hola de cada conjunto de registros.</span><span class="sxs-lookup"><span data-stu-id="bc938-146">For example, this can be useful toorecord hello purpose of each record set.</span></span> <span data-ttu-id="bc938-147">A diferencia de las etiquetas, los metadatos no pueden ser tooprovide usa una vista filtrada de la factura de Azure y no se puede especificar en una directiva de Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="bc938-147">Unlike tags, metadata cannot be used tooprovide a filtered view of your Azure bill and cannot be specified in an Azure Resource Manager policy.</span></span>

<span data-ttu-id="bc938-148">**Etiquetas de identidad**</span><span class="sxs-lookup"><span data-stu-id="bc938-148">**Etags**</span></span>

<span data-ttu-id="bc938-149">Suponga que dos personas o dos procesos intente toomodify un registro DNS en hello mismo tiempo.</span><span class="sxs-lookup"><span data-stu-id="bc938-149">Suppose two people or two processes try toomodify a DNS record at hello same time.</span></span> <span data-ttu-id="bc938-150">¿Cuál gana?</span><span class="sxs-lookup"><span data-stu-id="bc938-150">Which one wins?</span></span> <span data-ttu-id="bc938-151">¿Y ganador Hola sabe que han sobrescrito cambios creados por otra persona?</span><span class="sxs-lookup"><span data-stu-id="bc938-151">And does hello winner know that they've overwritten changes created by someone else?</span></span>

<span data-ttu-id="bc938-152">DNS de pila de Azure usa Etags toohandle cambios simultáneos toohello mismo recurso de forma segura.</span><span class="sxs-lookup"><span data-stu-id="bc938-152">Azure Stack DNS uses Etags toohandle concurrent changes toohello same resource safely.</span></span> <span data-ttu-id="bc938-153">Las etiquetas de entidad (ETag) son independientes de las "etiquetas" de Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="bc938-153">Etags are separate from Azure Resource Manager 'Tags'.</span></span> <span data-ttu-id="bc938-154">Cada recurso DNS (zona o conjunto de registros) tiene un valor de Etag asociado a él.</span><span class="sxs-lookup"><span data-stu-id="bc938-154">Each DNS resource (zone or record set) has an Etag associated with it.</span></span> <span data-ttu-id="bc938-155">Siempre que se recupera un recurso, también se recupera su Etag.</span><span class="sxs-lookup"><span data-stu-id="bc938-155">Whenever a resource is retrieved, its Etag is also retrieved.</span></span> <span data-ttu-id="bc938-156">Al actualizar un recurso, puede elegir volver toopass Hola Etag para que Azure pila DNS pueda comprobar que Hola Etag en hello coincide con el servidor.</span><span class="sxs-lookup"><span data-stu-id="bc938-156">When updating a resource, you can choose toopass back hello Etag so Azure Stack DNS can verify that hello Etag on hello server matches.</span></span> <span data-ttu-id="bc938-157">Puesto que cada recurso de tooa actualización da como resultado Hola Etag que se va a volver a generar, un error de coincidencia de Etag indica que se ha producido un cambio simultáneo.</span><span class="sxs-lookup"><span data-stu-id="bc938-157">Since each update tooa resource results in hello Etag being regenerated, an Etag mismatch indicates a concurrent change has occurred.</span></span> <span data-ttu-id="bc938-158">ETags también puede utilizarse al crear un nuevo tooensure de recursos que ya no existe el recurso de Hola.</span><span class="sxs-lookup"><span data-stu-id="bc938-158">Etags can also be used when creating a new resource tooensure that hello resource does not already exist.</span></span>

<span data-ttu-id="bc938-159">De manera predeterminada, Azure pila DNS PowerShell usa Etags tooblock cambios simultáneos toozones y conjuntos de registros.</span><span class="sxs-lookup"><span data-stu-id="bc938-159">By default, Azure Stack DNS PowerShell uses Etags tooblock concurrent changes toozones and record sets.</span></span> <span data-ttu-id="bc938-160">Hola opcional *-sobrescribir* conmutador puede ser utilizados toosuppress Etag comprobaciones, en cuyo caso cualquier simultáneas se sobrescriben los cambios que se han producido.</span><span class="sxs-lookup"><span data-stu-id="bc938-160">hello optional *-Overwrite* switch can be used toosuppress Etag checks, in which case any concurrent changes that have occurred are overwritten.</span></span>

<span data-ttu-id="bc938-161">En el nivel de Hola de hello API de REST de DNS de pila de Azure, Etags se especifican mediante encabezados HTTP.</span><span class="sxs-lookup"><span data-stu-id="bc938-161">At hello level of hello Azure Stack DNS REST API, Etags are specified using HTTP headers.</span></span> <span data-ttu-id="bc938-162">Su comportamiento se expresa en hello en la tabla siguiente:</span><span class="sxs-lookup"><span data-stu-id="bc938-162">Their behavior is given in hello following table:</span></span>

| <span data-ttu-id="bc938-163">Encabezado</span><span class="sxs-lookup"><span data-stu-id="bc938-163">Header</span></span> | <span data-ttu-id="bc938-164">Comportamiento</span><span class="sxs-lookup"><span data-stu-id="bc938-164">Behavior</span></span>|
|--------|---------|
| <span data-ttu-id="bc938-165">Ninguna</span><span class="sxs-lookup"><span data-stu-id="bc938-165">None</span></span>   | <span data-ttu-id="bc938-166">PUT always succeeds (no Etag checks)</span><span class="sxs-lookup"><span data-stu-id="bc938-166">PUT always succeeds (no Etag checks)</span></span>|
| <span data-ttu-id="bc938-167">If-match</span><span class="sxs-lookup"><span data-stu-id="bc938-167">If-match</span></span>| <span data-ttu-id="bc938-168">PUT only succeeds if resource exists and Etag matches</span><span class="sxs-lookup"><span data-stu-id="bc938-168">PUT only succeeds if resource exists and Etag matches</span></span>|
| <span data-ttu-id="bc938-169">If-match *</span><span class="sxs-lookup"><span data-stu-id="bc938-169">If-match *</span></span>| <span data-ttu-id="bc938-170">PUT only succeeds if resource exists</span><span class="sxs-lookup"><span data-stu-id="bc938-170">PUT only succeeds if resource exists</span></span>|
| <span data-ttu-id="bc938-171">If-none-match *</span><span class="sxs-lookup"><span data-stu-id="bc938-171">If-none-match *</span></span>| <span data-ttu-id="bc938-172">PUT only succeeds if resource does not exist</span><span class="sxs-lookup"><span data-stu-id="bc938-172">PUT only succeeds if resource does not exist</span></span>|

### <a name="limits"></a><span data-ttu-id="bc938-173">límites</span><span class="sxs-lookup"><span data-stu-id="bc938-173">Limits</span></span>

<span data-ttu-id="bc938-174">Hola siguiendo los límites predeterminados se aplica cuando se usa DNS de la pila de Azure:</span><span class="sxs-lookup"><span data-stu-id="bc938-174">hello following default limits apply when using Azure Stack DNS:</span></span>

| <span data-ttu-id="bc938-175">Recurso</span><span class="sxs-lookup"><span data-stu-id="bc938-175">Resource</span></span>| <span data-ttu-id="bc938-176">Límite predeterminado</span><span class="sxs-lookup"><span data-stu-id="bc938-176">Default limit</span></span>|
|---------|--------------|
| <span data-ttu-id="bc938-177">Zonas por suscripción</span><span class="sxs-lookup"><span data-stu-id="bc938-177">Zones per subscription</span></span>| <span data-ttu-id="bc938-178">100</span><span class="sxs-lookup"><span data-stu-id="bc938-178">100</span></span>|
| <span data-ttu-id="bc938-179">Conjuntos de registros por zona</span><span class="sxs-lookup"><span data-stu-id="bc938-179">Record sets per zone</span></span>| <span data-ttu-id="bc938-180">5000</span><span class="sxs-lookup"><span data-stu-id="bc938-180">5000</span></span>|
| <span data-ttu-id="bc938-181">Registros por conjunto de registros</span><span class="sxs-lookup"><span data-stu-id="bc938-181">Records per record set</span></span>| <span data-ttu-id="bc938-182">20 |</span><span class="sxs-lookup"><span data-stu-id="bc938-182">20</span></span>|

## <a name="next-steps"></a><span data-ttu-id="bc938-183">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="bc938-183">Next steps</span></span>
[<span data-ttu-id="bc938-184">Presentación de iDNS para Azure Stack</span><span class="sxs-lookup"><span data-stu-id="bc938-184">Introducing iDNS for Azure Stack</span></span>](azure-stack-understanding-dns.md)
