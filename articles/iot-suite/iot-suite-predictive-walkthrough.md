---
title: Tutorial de mantenimiento predictivo | Microsoft Docs
description: "Tutorial de la solución preconfigurada de mantenimiento predictivo de IoT de Azure."
services: 
suite: iot-suite
documentationcenter: 
author: dominicbetts
manager: timlt
editor: 
ms.assetid: 3c48a716-b805-4c99-8177-414cc4bec3de
ms.service: iot-suite
ms.devlang: na
ms.topic: get-started-article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 07/25/2017
ms.author: dobett
ms.openlocfilehash: a68a8fdc3976ade0d1036d5ed58c8b2eb6d32a5d
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/03/2017
---
# <a name="predictive-maintenance-preconfigured-solution-walkthrough"></a><span data-ttu-id="ea456-103">Tutorial de la solución preconfigurada de mantenimiento predictivo</span><span class="sxs-lookup"><span data-stu-id="ea456-103">Predictive maintenance preconfigured solution walkthrough</span></span>

<span data-ttu-id="ea456-104">La solución preconfigurada de mantenimiento predictivo es una solución completa para un escenario empresarial, que predice el punto en el que es probable que se produzca un error.</span><span class="sxs-lookup"><span data-stu-id="ea456-104">The predictive maintenance preconfigured solution is an end-to-end solution for a business scenario that predicts the point at which a failure is likely to occur.</span></span> <span data-ttu-id="ea456-105">Puede utilizar esta solución preconfigurada de forma proactiva para actividades como, por ejemplo, la optimización del mantenimiento.</span><span class="sxs-lookup"><span data-stu-id="ea456-105">You can use this preconfigured solution proactively for activities such as optimizing maintenance.</span></span> <span data-ttu-id="ea456-106">La solución combina servicios esenciales del Conjunto de aplicaciones de IoT de Azure, como IoT Hub, Stream Analytics y un área de trabajo de [Azure Machine Learning][lnk-machine-learning].</span><span class="sxs-lookup"><span data-stu-id="ea456-106">The solution combines key Azure IoT Suite services, such as IoT Hub, Stream analytics, and an [Azure Machine Learning][lnk-machine-learning] workspace.</span></span> <span data-ttu-id="ea456-107">Esta área de trabajo contiene un modelo, basado en un conjunto público de datos de ejemplo para predecir la vida útil restante (RUL) de un motor de avión.</span><span class="sxs-lookup"><span data-stu-id="ea456-107">This workspace contains a model, based on a public sample data set, to predict the Remaining Useful Life (RUL) of an aircraft engine.</span></span> <span data-ttu-id="ea456-108">La solución proporciona una implementación completa del escenario empresarial como punto de partida para planear e implementar una solución que satisfaga sus propios requisitos empresariales específicos.</span><span class="sxs-lookup"><span data-stu-id="ea456-108">The solution fully implements the IoT business scenario as a starting point for you to plan and implement a solution that meets your own specific business requirements.</span></span>

## <a name="logical-architecture"></a><span data-ttu-id="ea456-109">Arquitectura lógica</span><span class="sxs-lookup"><span data-stu-id="ea456-109">Logical architecture</span></span>

<span data-ttu-id="ea456-110">El diagrama siguiente describe los componentes lógicos de la solución preconfigurada:</span><span class="sxs-lookup"><span data-stu-id="ea456-110">The following diagram outlines the logical components of the preconfigured solution:</span></span>

![][img-architecture]

<span data-ttu-id="ea456-111">Los elementos de color azul son servicios de Azure que se aprovisionan en la región en la que se implementó la solución preconfigurada.</span><span class="sxs-lookup"><span data-stu-id="ea456-111">The blue items are Azure services provisioned in the region where you deployed the preconfigured solution.</span></span> <span data-ttu-id="ea456-112">La lista de regiones donde puede implementar la solución preconfigurada se muestra en la [página de aprovisionamiento][lnk-azureiotsuite].</span><span class="sxs-lookup"><span data-stu-id="ea456-112">The list of regions where you can deploy the preconfigured solution displays on the [provisioning page][lnk-azureiotsuite].</span></span>

<span data-ttu-id="ea456-113">El elemento verde es un dispositivo simulado que representa un motor de avión.</span><span class="sxs-lookup"><span data-stu-id="ea456-113">The green item is a simulated device that represents an aircraft engine.</span></span> <span data-ttu-id="ea456-114">Puede obtener más información acerca de estos dispositivos simulados en la sección siguiente.</span><span class="sxs-lookup"><span data-stu-id="ea456-114">You can learn more about these simulated devices in the following section.</span></span>

<span data-ttu-id="ea456-115">Los elementos de color gris representan los componentes que implementan funcionalidades de *administración de dispositivos*.</span><span class="sxs-lookup"><span data-stu-id="ea456-115">The gray items represent components that implement *device management* capabilities.</span></span> <span data-ttu-id="ea456-116">La versión actual de la solución preconfigurada de mantenimiento predictivo no aprovisiona estos recursos.</span><span class="sxs-lookup"><span data-stu-id="ea456-116">The current release of the predictive maintenance preconfigured solution does not provision these resources.</span></span> <span data-ttu-id="ea456-117">Para más información sobre la administración de dispositivos, consulte la [solución preconfigurada de supervisión remota][lnk-remote-monitoring].</span><span class="sxs-lookup"><span data-stu-id="ea456-117">To learn more about device management, refer to the [remote monitoring pre-configured solution][lnk-remote-monitoring].</span></span>

## <a name="simulated-devices"></a><span data-ttu-id="ea456-118">Dispositivos simulados</span><span class="sxs-lookup"><span data-stu-id="ea456-118">Simulated devices</span></span>

<span data-ttu-id="ea456-119">En la solución preconfigurada, un dispositivo simulado representa un motor de avión.</span><span class="sxs-lookup"><span data-stu-id="ea456-119">In the preconfigured solution, a simulated device represents an aircraft engine.</span></span> <span data-ttu-id="ea456-120">La solución se aprovisiona con dos motores que se asignan a un avión único.</span><span class="sxs-lookup"><span data-stu-id="ea456-120">The solution is provisioned with two engines that map to a single aircraft.</span></span> <span data-ttu-id="ea456-121">Cada motor emite cuatro tipos de telemetría: Sensor 9, Sensor 11, Sensor 14 y Sensor 15 proporcionan los datos necesarios para el modelo de Machine Learning a fin de calcular la vida útil restante (RUL) del motor.</span><span class="sxs-lookup"><span data-stu-id="ea456-121">Each engine emits four types of telemetry: Sensor 9, Sensor 11, Sensor 14, and Sensor 15 provide the data necessary for the Machine Learning model to calculate the RUL for the engine.</span></span> <span data-ttu-id="ea456-122">Cada dispositivo simulado envía los siguientes mensajes de telemetría al Centro de IoT:</span><span class="sxs-lookup"><span data-stu-id="ea456-122">Each simulated device sends the following telemetry messages to IoT Hub:</span></span>

<span data-ttu-id="ea456-123">*Recuento de ciclos*.</span><span class="sxs-lookup"><span data-stu-id="ea456-123">*Cycle count*.</span></span> <span data-ttu-id="ea456-124">Un ciclo representa un vuelo completo con una duración de entre dos y diez horas.</span><span class="sxs-lookup"><span data-stu-id="ea456-124">A cycle represents a completed flight with a duration between two and ten hours.</span></span> <span data-ttu-id="ea456-125">Durante el vuelo, se capturan datos de telemetría cada media hora.</span><span class="sxs-lookup"><span data-stu-id="ea456-125">During the flight, telemetry data is captured every half hour.</span></span>

<span data-ttu-id="ea456-126">*Telemetría*.</span><span class="sxs-lookup"><span data-stu-id="ea456-126">*Telemetry*.</span></span> <span data-ttu-id="ea456-127">Existen cuatro sensores que representan atributos de motor.</span><span class="sxs-lookup"><span data-stu-id="ea456-127">There are four sensors that represent engine attributes.</span></span> <span data-ttu-id="ea456-128">Los sensores se etiquetan genéricamente Sensor 9, Sensor 11, Sensor 14 y Sensor 15.</span><span class="sxs-lookup"><span data-stu-id="ea456-128">The sensors are generically labeled Sensor 9, Sensor 11, Sensor 14, and Sensor 15.</span></span> <span data-ttu-id="ea456-129">Estos cuatro sensores representan la telemetría suficiente para obtener resultados útiles en el modelo de RUL.</span><span class="sxs-lookup"><span data-stu-id="ea456-129">These four sensors represent telemetry sufficient to obtain useful results from the RUL model.</span></span> <span data-ttu-id="ea456-130">El modelo usado en la solución preconfigurada se crea a partir de un conjunto de datos público que incluye datos reales del sensor del motor.</span><span class="sxs-lookup"><span data-stu-id="ea456-130">The model used in the preconfigured solution is created from a public data set that includes real engine sensor data.</span></span> <span data-ttu-id="ea456-131">Para más información sobre cómo se creó el modelo del conjunto de datos original, consulte [Predictive Maintenance Template (Plantilla de mantenimiento predictivo) en la Galería de Cortana Intelligence][lnk-cortana-analytics].</span><span class="sxs-lookup"><span data-stu-id="ea456-131">For more information on how the model was created from the original data set, see the [Cortana Intelligence Gallery Predictive Maintenance Template][lnk-cortana-analytics].</span></span>

<span data-ttu-id="ea456-132">Los dispositivos simulados también pueden controlar los siguientes comandos enviados desde el centro de IoT en la solución:</span><span class="sxs-lookup"><span data-stu-id="ea456-132">The simulated devices can handle the following commands sent from the IoT hub in the solution:</span></span>

| <span data-ttu-id="ea456-133">Comando</span><span class="sxs-lookup"><span data-stu-id="ea456-133">Command</span></span> | <span data-ttu-id="ea456-134">Description</span><span class="sxs-lookup"><span data-stu-id="ea456-134">Description</span></span> |
| --- | --- |
| <span data-ttu-id="ea456-135">StartTelemetry</span><span class="sxs-lookup"><span data-stu-id="ea456-135">StartTelemetry</span></span> |<span data-ttu-id="ea456-136">Controla el estado de la simulación.</span><span class="sxs-lookup"><span data-stu-id="ea456-136">Controls the state of the simulation.</span></span><br/><span data-ttu-id="ea456-137">Inicia el envío de telemetría del dispositivo.</span><span class="sxs-lookup"><span data-stu-id="ea456-137">Starts the device sending telemetry</span></span> |
| <span data-ttu-id="ea456-138">StopTelemetry</span><span class="sxs-lookup"><span data-stu-id="ea456-138">StopTelemetry</span></span> |<span data-ttu-id="ea456-139">Controla el estado de la simulación.</span><span class="sxs-lookup"><span data-stu-id="ea456-139">Controls the state of the simulation.</span></span><br/><span data-ttu-id="ea456-140">Detiene el envío de telemetría del dispositivo.</span><span class="sxs-lookup"><span data-stu-id="ea456-140">Stops the device sending telemetry</span></span> |

<span data-ttu-id="ea456-141">Centro de IoT proporciona la confirmación de los comandos del dispositivo.</span><span class="sxs-lookup"><span data-stu-id="ea456-141">IoT Hub provides device command acknowledgment.</span></span>

## <a name="azure-stream-analytics-job"></a><span data-ttu-id="ea456-142">Trabajo de Análisis de transmisiones de Azure</span><span class="sxs-lookup"><span data-stu-id="ea456-142">Azure Stream Analytics job</span></span>

<span data-ttu-id="ea456-143">**Trabajo: telemetría** opera en la transmisión entrante de la telemetría del dispositivo mediante dos instrucciones:</span><span class="sxs-lookup"><span data-stu-id="ea456-143">**Job: Telemetry** operates on the incoming device telemetry stream using two statements:</span></span>

* <span data-ttu-id="ea456-144">La primera selecciona todos los datos de telemetría de los dispositivos y los envía al almacenamiento de blobs.</span><span class="sxs-lookup"><span data-stu-id="ea456-144">The first selects all telemetry from the devices and sends this data to blob storage.</span></span> <span data-ttu-id="ea456-145">A partir de aquí, se visualizan en la aplicación web.</span><span class="sxs-lookup"><span data-stu-id="ea456-145">From here, it is visualized in the web app.</span></span>
* <span data-ttu-id="ea456-146">La segunda calcula los valores medios del sensor con una ventana deslizante de dos minutos y envía estos datos a través del centro de eventos a un **procesador de eventos**.</span><span class="sxs-lookup"><span data-stu-id="ea456-146">The second computes average sensor values over a two-minute sliding window and sends this data through the Event hub to an **event processor**.</span></span>

## <a name="event-processor"></a><span data-ttu-id="ea456-147">procesador de eventos</span><span class="sxs-lookup"><span data-stu-id="ea456-147">Event processor</span></span>
<span data-ttu-id="ea456-148">El **host de procesador de eventos** se ejecuta en un trabajo web de Azure.</span><span class="sxs-lookup"><span data-stu-id="ea456-148">The **event processor host** runs in an Azure Web Job.</span></span> <span data-ttu-id="ea456-149">El **procesador de eventos** toma los valores promedio de los sensores para un ciclo completado.</span><span class="sxs-lookup"><span data-stu-id="ea456-149">The **event processor** takes the average sensor values for a completed cycle.</span></span> <span data-ttu-id="ea456-150">Luego, pasa esos valores a una API que expone el modelo entrenado para calcular la vida útil restante (RUL) de un motor.</span><span class="sxs-lookup"><span data-stu-id="ea456-150">It then passes those values to an API that exposes trained model to calculate the RUL for an engine.</span></span> <span data-ttu-id="ea456-151">La API se expone un área de trabajo de Machine Learning que se aprovisiona como parte de la solución.</span><span class="sxs-lookup"><span data-stu-id="ea456-151">The API is exposed by a Machine Learning workspace that is provisioned as part of the solution.</span></span>

## <a name="machine-learning"></a><span data-ttu-id="ea456-152">Aprendizaje automático</span><span class="sxs-lookup"><span data-stu-id="ea456-152">Machine Learning</span></span>
<span data-ttu-id="ea456-153">El componente de Machine Learning usa un modelo que se deriva de los datos recopilados de los motores de avión reales.</span><span class="sxs-lookup"><span data-stu-id="ea456-153">The Machine Learning component uses a model derived from data collected from real aircraft engines.</span></span> <span data-ttu-id="ea456-154">Puede navegar al área de trabajo de Machine Learning desde el icono de la página [azureiotsuite.com][lnk-azureiotsuite] de la solución de aprovisionamiento.</span><span class="sxs-lookup"><span data-stu-id="ea456-154">You can navigate to the Machine Learning workspace from the tile on the [azureiotsuite.com][lnk-azureiotsuite] page for your provisioned solution.</span></span> <span data-ttu-id="ea456-155">El icono está disponible cuando la solución se encuentra en el estado **Listo**.</span><span class="sxs-lookup"><span data-stu-id="ea456-155">The tile is available when the solution is in the **Ready** state.</span></span>


## <a name="next-steps"></a><span data-ttu-id="ea456-156">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="ea456-156">Next steps</span></span>
<span data-ttu-id="ea456-157">Ahora que ha visto los componentes clave de la solución preconfigurada de mantenimiento predictivo, puede personalizarla si así lo desea.</span><span class="sxs-lookup"><span data-stu-id="ea456-157">Now you've seen the key components of the predictive maintenance preconfigured solution, you may want to customize it.</span></span> <span data-ttu-id="ea456-158">Consulte [Personalizar una solución preconfigurada][lnk-customize].</span><span class="sxs-lookup"><span data-stu-id="ea456-158">See [Guidance on customizing preconfigured solutions][lnk-customize].</span></span>

<span data-ttu-id="ea456-159">También puede explorar algunas de las demás características y funcionalidades de las soluciones preconfiguradas del conjunto de aplicaciones de IoT:</span><span class="sxs-lookup"><span data-stu-id="ea456-159">You can also explore some of the other features and capabilities of the IoT Suite preconfigured solutions:</span></span>

* <span data-ttu-id="ea456-160">[Preguntas más frecuentes sobre el Conjunto de aplicaciones de IoT][lnk-faq]</span><span class="sxs-lookup"><span data-stu-id="ea456-160">[Frequently asked questions for IoT Suite][lnk-faq]</span></span>
* <span data-ttu-id="ea456-161">[Seguridad de Internet de las cosas desde el principio][lnk-security-groundup]</span><span class="sxs-lookup"><span data-stu-id="ea456-161">[IoT security from the ground up][lnk-security-groundup]</span></span>

[img-architecture]: media/iot-suite-predictive-walkthrough/architecture.png

[lnk-remote-monitoring]: iot-suite-remote-monitoring-sample-walkthrough.md
[lnk-cortana-analytics]: http://gallery.cortanaintelligence.com/Collection/Predictive-Maintenance-Template-3
[lnk-azureiotsuite]: https://www.azureiotsuite.com/
[lnk-customize]: iot-suite-guidance-on-customizing-preconfigured-solutions.md
[lnk-faq]: iot-suite-faq.md
[lnk-security-groundup]: securing-iot-ground-up.md
[lnk-machine-learning]: https://azure.microsoft.com/services/machine-learning/