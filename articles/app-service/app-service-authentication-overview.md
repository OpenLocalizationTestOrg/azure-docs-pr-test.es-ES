---
title: "Autenticación y autorización en Azure App Service | Microsoft Docs"
description: "Referencia e información general conceptual de la característica de autenticación o autorización para el Servicio de aplicaciones de Azure"
services: app-service
documentationcenter: 
author: mattchenderson
manager: erikre
editor: 
ms.assetid: b7151b57-09e5-4c77-a10c-375a262f17e5
ms.service: app-service
ms.workload: mobile
ms.tgt_pltfrm: na
ms.devlang: multiple
ms.topic: article
ms.date: 08/29/2016
ms.author: mahender
ms.openlocfilehash: e89ba5613c615c41af93e8f63b3703da8395095c
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 07/11/2017
---
# <a name="authentication-and-authorization-in-azure-app-service"></a><span data-ttu-id="e82e6-103">Autenticación y autorización en el Servicio de aplicaciones de Azure</span><span class="sxs-lookup"><span data-stu-id="e82e6-103">Authentication and authorization in Azure App Service</span></span>
## <a name="what-is-app-service-authentication--authorization"></a><span data-ttu-id="e82e6-104">¿Qué es la autenticación o autorización del Servicio de aplicaciones?</span><span class="sxs-lookup"><span data-stu-id="e82e6-104">What is App Service Authentication / Authorization?</span></span>
<span data-ttu-id="e82e6-105">La autenticación/autorización del Servicio de aplicaciones es una característica que proporciona una forma para que los usuarios inicien sesión en la aplicación con objeto de que no tengan que cambiar el código en el back-end de aplicación.</span><span class="sxs-lookup"><span data-stu-id="e82e6-105">App Service Authentication / Authorization is a feature that provides a way for your application to sign in users so that you don't have to change code on the app backend.</span></span> <span data-ttu-id="e82e6-106">Ofrece una forma fácil de proteger su aplicación y trabajar con datos por usuario.</span><span class="sxs-lookup"><span data-stu-id="e82e6-106">It provides an easy way to protect your application and work with per-user data.</span></span>

<span data-ttu-id="e82e6-107">El Servicio de aplicaciones usa la identidad federada, en la cual un proveedor de identidades de terceros almacena cuentas y autentica usuarios.</span><span class="sxs-lookup"><span data-stu-id="e82e6-107">App Service uses federated identity, in which a third-party identity provider stores accounts and authenticates users.</span></span> <span data-ttu-id="e82e6-108">La aplicación se basa en la información de identidad del proveedor para que la aplicación no tenga que almacenar esa información por sí misma.</span><span class="sxs-lookup"><span data-stu-id="e82e6-108">The application relies on the provider's identity information so that the app doesn't have to store that information itself.</span></span> <span data-ttu-id="e82e6-109">El Servicio de aplicaciones admite cinco proveedores de identidades listos para usar: Azure Active Directory, Facebook, Google, la cuenta Microsoft y Twitter.</span><span class="sxs-lookup"><span data-stu-id="e82e6-109">App Service supports five identity providers out of the box: Azure Active Directory, Facebook, Google, Microsoft Account, and Twitter.</span></span> <span data-ttu-id="e82e6-110">La aplicación puede usar cualquier cantidad de estos proveedores de identidades para proporcionar opciones de inicio de sesión a sus usuarios.</span><span class="sxs-lookup"><span data-stu-id="e82e6-110">Your app can use any number of these identity providers to provide your users with options for how they sign in.</span></span> <span data-ttu-id="e82e6-111">Para ampliar la compatibilidad incorporada, puede integrar otro proveedor de identidades o [su propia solución de identidad personalizada][custom-auth].</span><span class="sxs-lookup"><span data-stu-id="e82e6-111">To expand the built-in support, you can integrate another identity provider or [your own custom identity solution][custom-auth].</span></span>

<span data-ttu-id="e82e6-112">Si desea comenzar inmediatamente, consulte uno de los siguientes tutoriales:</span><span class="sxs-lookup"><span data-stu-id="e82e6-112">If you want to get started right away, see one of the following tutorials:</span></span>

* <span data-ttu-id="e82e6-113">[Incorporación de la autenticación a la aplicación iOS][iOS] (o [Android], [Windows], [Xamarin.iOS], [Xamarin.Android], [Xamarin.Forms] o [Cordova])</span><span class="sxs-lookup"><span data-stu-id="e82e6-113">[Add authentication to your iOS app][iOS] (or [Android], [Windows], [Xamarin.iOS], [Xamarin.Android], [Xamarin.Forms], or [Cordova])</span></span>
* <span data-ttu-id="e82e6-114">[Autenticación de usuario para aplicaciones de API en Azure App Service][apia-user]</span><span class="sxs-lookup"><span data-stu-id="e82e6-114">[User authentication for API Apps in Azure App Service][apia-user]</span></span>
* <span data-ttu-id="e82e6-115">[Introducción a Azure App Service: parte 2][web-getstarted]</span><span class="sxs-lookup"><span data-stu-id="e82e6-115">[Get started with Azure App Service - Part 2][web-getstarted]</span></span>

## <a name="how-authentication-works-in-app-service"></a><span data-ttu-id="e82e6-116">Funcionamiento de la autenticación en el Servicio de aplicaciones</span><span class="sxs-lookup"><span data-stu-id="e82e6-116">How authentication works in App Service</span></span>
<span data-ttu-id="e82e6-117">Para autenticarse con uno de los proveedores de identidades, primero debe configurar el proveedor de identidades para obtener información sobre su aplicación.</span><span class="sxs-lookup"><span data-stu-id="e82e6-117">In order to authenticate by using one of the identity providers, you first need to configure the identity provider to know about your application.</span></span> <span data-ttu-id="e82e6-118">A continuación, el proveedor de identidades proporcionará los identificadores y secretos que se deben proporcionar al Servicio de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="e82e6-118">The identity provider will then provide IDs and secrets that you provide to App Service.</span></span> <span data-ttu-id="e82e6-119">Esto completa la relación de confianza para que el Servicio de aplicaciones pueda validar las aserciones de usuario, como los tokens de autenticación, del proveedor de identidades.</span><span class="sxs-lookup"><span data-stu-id="e82e6-119">This completes the trust relationship so that App Service can validate user assertions, such as authentication tokens, from the identity provider.</span></span>

<span data-ttu-id="e82e6-120">Para que un usuario inicie sesión con uno de estos proveedores, se debe redirigir al usuario a un punto de conexión con el que los usuarios inician sesión para ese proveedor.</span><span class="sxs-lookup"><span data-stu-id="e82e6-120">To sign in a user by using one of these providers, the user must be redirected to an endpoint that signs in users for that provider.</span></span> <span data-ttu-id="e82e6-121">Si los clientes están utilizando un explorador web, puede hacer que el Servicio de aplicaciones dirija automáticamente a todos los usuarios no autenticados al punto de conexión con el que los usuarios pueden iniciar sesión.</span><span class="sxs-lookup"><span data-stu-id="e82e6-121">If customers are using a web browser, you can have App Service automatically direct all unauthenticated users to the endpoint that signs in users.</span></span> <span data-ttu-id="e82e6-122">En caso contrario, deberá dirigir a los clientes a `{your App Service base URL}/.auth/login/<provider>`, donde `<provider>` es uno de los siguientes valores: aad, facebook, google, microsoft y twitter.</span><span class="sxs-lookup"><span data-stu-id="e82e6-122">Otherwise, you will need to direct your customers to `{your App Service base URL}/.auth/login/<provider>`, where `<provider>` is one of the following values: aad, facebook, google, microsoft, or twitter.</span></span> <span data-ttu-id="e82e6-123">En secciones posteriores de este artículo se explican los escenarios móviles y API.</span><span class="sxs-lookup"><span data-stu-id="e82e6-123">Mobile and API scenarios are explained in sections later in this article.</span></span>

<span data-ttu-id="e82e6-124">Los usuarios que interactúan con su aplicación a través de un explorador web tendrán una cookie establecida de modo que puedan permanecer autenticados a medida que se desplazan por la aplicación.</span><span class="sxs-lookup"><span data-stu-id="e82e6-124">Users who interact with your application through a web browser will have a cookie set so that they can remain authenticated as they browse your application.</span></span> <span data-ttu-id="e82e6-125">Para otros tipos de cliente, como los dispositivos móviles, se emitirá un token de web JSON (JWT) para el cliente que debe presentarse en el encabezado `X-ZUMO-AUTH` .</span><span class="sxs-lookup"><span data-stu-id="e82e6-125">For other client types, such as mobile, a JSON web token (JWT), which should be presented in the `X-ZUMO-AUTH` header, will be issued to the client.</span></span> <span data-ttu-id="e82e6-126">Los SDK de cliente de Aplicaciones móviles controlarán esto en su lugar.</span><span class="sxs-lookup"><span data-stu-id="e82e6-126">The Mobile Apps client SDKs will handle this for you.</span></span> <span data-ttu-id="e82e6-127">Como alternativa, se puede incluir un token de acceso o el token de identidad de Azure Active Directory directamente en el encabezado `Authorization` como [token de portador](https://tools.ietf.org/html/rfc6750).</span><span class="sxs-lookup"><span data-stu-id="e82e6-127">Alternatively, an Azure Active Directory identity token or access token may be directly included in the `Authorization` header as a [bearer token](https://tools.ietf.org/html/rfc6750).</span></span>

<span data-ttu-id="e82e6-128">El Servicio de aplicaciones validará cualquier cookie o token que haya emitido la aplicación para autenticar usuarios.</span><span class="sxs-lookup"><span data-stu-id="e82e6-128">App Service will validate any cookie or token that your application issues to authenticate users.</span></span> <span data-ttu-id="e82e6-129">Para restringir quién puede tener acceso a la aplicación, consulte la sección de [autorización](#authorization) más abajo en este artículo.</span><span class="sxs-lookup"><span data-stu-id="e82e6-129">To restrict who can access your application, see the [Authorization](#authorization) section later in this article.</span></span>

### <a name="mobile-authentication-with-a-provider-sdk"></a><span data-ttu-id="e82e6-130">Funcionamiento de la autenticación con un SDK del proveedor</span><span class="sxs-lookup"><span data-stu-id="e82e6-130">Mobile authentication with a provider SDK</span></span>
<span data-ttu-id="e82e6-131">Cuando todo se haya configurado en el back-end, puede modificar los clientes móviles para que inicien sesión con el Servicio de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="e82e6-131">After everything is configured on the backend, you can modify mobile clients to sign in with App Service.</span></span> <span data-ttu-id="e82e6-132">Hay dos enfoques aquí:</span><span class="sxs-lookup"><span data-stu-id="e82e6-132">There are two approaches here:</span></span>

* <span data-ttu-id="e82e6-133">Use un SDK que un proveedor de identidades determinado establezca la identidad y después obtener acceso al Servicio de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="e82e6-133">Use an SDK that a given identity provider publishes to establish identity and then gain access to App Service.</span></span>
* <span data-ttu-id="e82e6-134">Permita que los usuarios inicien sesión en el SDK del cliente de Aplicaciones móviles con una sola línea de código.</span><span class="sxs-lookup"><span data-stu-id="e82e6-134">Use a single line of code so that the Mobile Apps client SDK can sign in users.</span></span>

> [!TIP]
> <span data-ttu-id="e82e6-135">La mayoría de las aplicaciones deben utilizar un SDK del proveedor para obtener una experiencia más coherente cuando los usuarios inician sesión, para usar la compatibilidad de actualización y para obtener otros beneficios que especifica el proveedor.</span><span class="sxs-lookup"><span data-stu-id="e82e6-135">Most applications should use a provider SDK to get a more consistent experience when users sign in, to use refresh support, and to get other benefits that the provider specifies.</span></span>
> 
> 

<span data-ttu-id="e82e6-136">Cuando se utiliza un SDK del proveedor, los usuarios pueden iniciar sesión en una experiencia que se integra más estrechamente con el sistema operativo que la aplicación en la que se está ejecutando.</span><span class="sxs-lookup"><span data-stu-id="e82e6-136">When you use a provider SDK, users can sign in to an experience that integrates more tightly with the operating system that the app is running on.</span></span> <span data-ttu-id="e82e6-137">También le proporciona un token del proveedor e información de usuario sobre el cliente, lo que facilita en gran medida el consumo de API de gráficos y la personalización de la experiencia del usuario.</span><span class="sxs-lookup"><span data-stu-id="e82e6-137">This also gives you a provider token and some user information on the client, which makes it much easier to consume graph APIs and customize the user experience.</span></span> <span data-ttu-id="e82e6-138">En ocasiones, en blogs y foros, encontrará que se hace referencia al "flujo de cliente" o "flujo dirigido al cliente", porque el código en el cliente con el que los usuarios pueden iniciar sesión y el código de cliente tiene acceso a un token del proveedor.</span><span class="sxs-lookup"><span data-stu-id="e82e6-138">Occasionally on blogs and forums, you will see this referred to as the "client flow" or "client-directed flow" because code on the client signs in users, and the client code has access to a provider token.</span></span>

<span data-ttu-id="e82e6-139">Una vez que se obtiene un token del proveedor, debe enviarse al Servicio de aplicaciones para su validación.</span><span class="sxs-lookup"><span data-stu-id="e82e6-139">After a provider token is obtained, it needs to be sent to App Service for validation.</span></span> <span data-ttu-id="e82e6-140">Después de que el Servicio de aplicaciones valida el token, crea un nuevo token de Servicio de aplicaciones que se devuelve al cliente.</span><span class="sxs-lookup"><span data-stu-id="e82e6-140">After App Service validates the token, App Service creates a new App Service token that is returned to the client.</span></span> <span data-ttu-id="e82e6-141">El SDK de cliente de Aplicaciones móviles tiene métodos auxiliares para administrar este intercambio y asociar automáticamente el token a todas las solicitudes en el back-end de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="e82e6-141">The Mobile Apps client SDK has helper methods to manage this exchange and automatically attach the token to all requests to the application backend.</span></span> <span data-ttu-id="e82e6-142">El desarrollador también puede mantener una referencia al token del proveedor si así lo desea.</span><span class="sxs-lookup"><span data-stu-id="e82e6-142">Developers can also keep a reference to the provider token if they so choose.</span></span>

### <a name="mobile-authentication-without-a-provider-sdk"></a><span data-ttu-id="e82e6-143">Autenticación móvil sin un SDK del proveedor</span><span class="sxs-lookup"><span data-stu-id="e82e6-143">Mobile authentication without a provider SDK</span></span>
<span data-ttu-id="e82e6-144">Si no desea configurar un SDK del proveedor, puede permitir que la característica de Aplicaciones móviles de Servicio de aplicaciones de Azure para iniciar sesión automáticamente.</span><span class="sxs-lookup"><span data-stu-id="e82e6-144">If you do not want to set up a provider SDK, you can allow the Mobile Apps feature of Azure App Service to sign in for you.</span></span> <span data-ttu-id="e82e6-145">El SDK del cliente de Aplicaciones móviles abrirá una vista web al proveedor de su elección y permitirá que el usuario inicie sesión.</span><span class="sxs-lookup"><span data-stu-id="e82e6-145">The Mobile Apps client SDK will open a web view to the provider of your choosing and sign in the user.</span></span> <span data-ttu-id="e82e6-146">En ocasiones, en blogs y foros encontrará que se hace referencia a este como "flujo de servidor" o "flujo dirigido al servidor", pues el servidor administra el proceso con el que los usuarios inician sesión y el SDK del cliente nunca recibe el token del proveedor.</span><span class="sxs-lookup"><span data-stu-id="e82e6-146">Occasionally on blogs and forums, you will see this referred to as the "server flow" or "server-directed flow" because the server manages the process that signs in users, and the client SDK never receives the provider token.</span></span>

<span data-ttu-id="e82e6-147">El código para iniciar este flujo se incluye en el tutorial de autenticación para cada plataforma.</span><span class="sxs-lookup"><span data-stu-id="e82e6-147">Code to start this flow is included in the authentication tutorial for each platform.</span></span> <span data-ttu-id="e82e6-148">Al final del flujo, el SDK del cliente tiene un token del Servicio de aplicaciones que se adjunta automáticamente a todas las solicitudes para el back-end de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="e82e6-148">At the end of the flow, the client SDK has an App Service token, and the token is automatically attached to all requests to the application backend.</span></span>

### <a name="service-to-service-authentication"></a><span data-ttu-id="e82e6-149">Autenticación entre servicios</span><span class="sxs-lookup"><span data-stu-id="e82e6-149">Service-to-service authentication</span></span>
<span data-ttu-id="e82e6-150">Aunque puede conceder acceso a los usuarios a la aplicación, también puede confiar en otra aplicación para llamar a su propia API.</span><span class="sxs-lookup"><span data-stu-id="e82e6-150">Although you can give users access to your application, you can also trust another application to call your own API.</span></span> <span data-ttu-id="e82e6-151">Por ejemplo, podría hacer que una aplicación web llame a una API en otra aplicación web.</span><span class="sxs-lookup"><span data-stu-id="e82e6-151">For example, you could have one web app call an API in another web app.</span></span> <span data-ttu-id="e82e6-152">En este escenario utilice credenciales para una cuenta de servicio, en lugar de las credenciales de usuario para obtener un token.</span><span class="sxs-lookup"><span data-stu-id="e82e6-152">In this scenario, you use credentials for a service account instead of user credentials to get a token.</span></span> <span data-ttu-id="e82e6-153">Las cuentas de servicio también se conocen como *entidades de servicio* en la jerga de Azure Active Directory y la autenticación que usa dichas cuentas también se conoce como escenario entre servicios.</span><span class="sxs-lookup"><span data-stu-id="e82e6-153">A service account is also known as a *service principal* in Azure Active Directory parlance, and authentication that uses such an account is also known as a service-to-service scenario.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="e82e6-154">Al ejecutarse en dispositivos de cliente, las aplicaciones móviles *no* se consideran aplicaciones de confianza y no deberían usar un flujo de la entidad de servicio.</span><span class="sxs-lookup"><span data-stu-id="e82e6-154">Because mobile apps run on customer devices, mobile applications do *not* count as trusted applications and should not use a service principal flow.</span></span> <span data-ttu-id="e82e6-155">En su lugar, deben utilizar un flujo de usuario que se ha mencionado anteriormente.</span><span class="sxs-lookup"><span data-stu-id="e82e6-155">Instead, they should use a user flow that was detailed earlier.</span></span>
> 
> 

<span data-ttu-id="e82e6-156">En los escenarios entre servicios, el Servicio de aplicaciones puede proteger la aplicación mediante Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="e82e6-156">For service-to-service scenarios, App Service can protect your application by using Azure Active Directory.</span></span> <span data-ttu-id="e82e6-157">La aplicación de llamada solo debe proporcionar un token de autorización de una entidad de servicio de Azure Active Directory, obtenido al proporcionar el identificador y el secreto de cliente desde Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="e82e6-157">The calling application just needs to provide an Azure Active Directory service principal authorization token that is obtained by providing the client ID and client secret from Azure Active Directory.</span></span> <span data-ttu-id="e82e6-158">Un ejemplo del uso de este escenario que usa aplicaciones de API de ASP.NET puede encontrarse en el tutorial [Autenticación de entidad de servicio para Aplicaciones de API en Azure App Service][apia-service].</span><span class="sxs-lookup"><span data-stu-id="e82e6-158">An example of this scenario that uses ASP.NET API apps is explained by the tutorial, [Service principal authentication for API Apps][apia-service].</span></span>

<span data-ttu-id="e82e6-159">Si desea usar la autenticación de Servicio de aplicaciones para controlar un escenario entre servicios, puede usar certificados de cliente o una autenticación básica.</span><span class="sxs-lookup"><span data-stu-id="e82e6-159">If you want to use App Service authentication to handle a service-to-service scenario, you can use client certificates or basic authentication.</span></span> <span data-ttu-id="e82e6-160">Para obtener información acerca de los certificados de cliente en Azure, consulte [Configuración de la autenticación mutua de TLS para una aplicación web](../app-service-web/app-service-web-configure-tls-mutual-auth.md).</span><span class="sxs-lookup"><span data-stu-id="e82e6-160">For information about client certificates in Azure, see [How To Configure TLS Mutual Authentication for Web Apps](../app-service-web/app-service-web-configure-tls-mutual-auth.md).</span></span> <span data-ttu-id="e82e6-161">Para más información sobre la autenticación básica en ASP.NET, consulte [Authentication Filters in ASP.NET Web API 2](http://www.asp.net/web-api/overview/security/authentication-filters)(Filtros de autenticación en ASP.NET Web API 2).</span><span class="sxs-lookup"><span data-stu-id="e82e6-161">For information about basic authentication in ASP.NET, see [Authentication Filters in ASP.NET Web API 2](http://www.asp.net/web-api/overview/security/authentication-filters).</span></span>

<span data-ttu-id="e82e6-162">La autenticación de cuentas de servicio desde una aplicación lógica de Servicio de aplicaciones en una aplicación de API es un caso especial que se explica detalladamente en [Uso de la API personalizada hospedada en Servicio de aplicaciones con aplicaciones lógicas](../logic-apps/logic-apps-custom-hosted-api.md).</span><span class="sxs-lookup"><span data-stu-id="e82e6-162">Service account authentication from an App Service logic app to an API app is a special case that is detailed in [Using your custom API hosted on App Service with Logic apps](../logic-apps/logic-apps-custom-hosted-api.md).</span></span>

## <span data-ttu-id="e82e6-163"><a name="authorization"></a>Funcionamiento de la autorización en el Servicio de aplicaciones</span><span class="sxs-lookup"><span data-stu-id="e82e6-163"><a name="authorization"></a>How authorization works in App Service</span></span>
<span data-ttu-id="e82e6-164">Tiene un control total para decidir qué solicitudes pueden acceder a su aplicación.</span><span class="sxs-lookup"><span data-stu-id="e82e6-164">You have full control over the requests that can access your application.</span></span> <span data-ttu-id="e82e6-165">Se puede configurar la autenticación o autorización del Servicio de aplicaciones mediante cualquiera de las siguientes acciones:</span><span class="sxs-lookup"><span data-stu-id="e82e6-165">App Service Authentication / Authorization can be configured with any of the following behaviors:</span></span>

* <span data-ttu-id="e82e6-166">Permitir que solo lleguen a la aplicación las solicitudes autenticadas.</span><span class="sxs-lookup"><span data-stu-id="e82e6-166">Allow only authenticated requests to reach your application.</span></span>
  
    <span data-ttu-id="e82e6-167">Si un explorador recibe una solicitud anónima, el Servicio de aplicaciones le redirigirá a una página del proveedor de identidades que elija para que los usuarios puedan iniciar sesión.</span><span class="sxs-lookup"><span data-stu-id="e82e6-167">If a browser receives an anonymous request, App Service will redirect to a page for the identity provider that you choose so that users can sign in.</span></span> <span data-ttu-id="e82e6-168">Si la solicitud proviene de un dispositivo móvil, se devolverá una respuesta HTTP *401 no autorizado*.</span><span class="sxs-lookup"><span data-stu-id="e82e6-168">If the request comes from a mobile device, the returned response is an HTTP *401 Unauthorized* response.</span></span>
  
    <span data-ttu-id="e82e6-169">Con esta opción, no es necesario escribir ningún código de autenticación en la aplicación.</span><span class="sxs-lookup"><span data-stu-id="e82e6-169">With this option, you don't need to write any authentication code at all in your app.</span></span> <span data-ttu-id="e82e6-170">Si necesita una autorización más específica, hay información disponible para su código acerca del usuario.</span><span class="sxs-lookup"><span data-stu-id="e82e6-170">If you need finer authorization, information about the user is available to your code.</span></span>
* <span data-ttu-id="e82e6-171">Permita que todas las solicitudes lleguen a la aplicación, pero valide las solicitudes autenticadas y pase la información de autenticación en los encabezados HTTP.</span><span class="sxs-lookup"><span data-stu-id="e82e6-171">Allow all requests to reach your application, but validate authenticated requests, and pass along authentication information in the HTTP headers.</span></span>
  
    <span data-ttu-id="e82e6-172">Esta opción traslada las decisiones de autorización al código de aplicación.</span><span class="sxs-lookup"><span data-stu-id="e82e6-172">This option defers authorization decisions to your application code.</span></span> <span data-ttu-id="e82e6-173">Esto proporciona más flexibilidad a la hora de controlar las solicitudes anónimas, pero tiene que escribir el código.</span><span class="sxs-lookup"><span data-stu-id="e82e6-173">It provides more flexibility in handling anonymous requests, but you have to write code.</span></span>
* <span data-ttu-id="e82e6-174">Permita que todas las solicitudes lleguen a la aplicación y no realice acciones relativas a la información de autenticación de las solicitudes.</span><span class="sxs-lookup"><span data-stu-id="e82e6-174">Allow all requests to reach your application, and take no action on authentication information in the requests.</span></span>
  
    <span data-ttu-id="e82e6-175">En este caso, la característica de autenticación o autorización está desactivada.</span><span class="sxs-lookup"><span data-stu-id="e82e6-175">In this case, the Authentication / Authorization feature is off.</span></span> <span data-ttu-id="e82e6-176">Esta opción deja las tareas de autenticación y autorización totalmente en manos del código de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="e82e6-176">The tasks of authentication and authorization are entirely up to your application code.</span></span>

<span data-ttu-id="e82e6-177">Los comportamientos anteriores se controlan mediante la opción **Acción necesaria cuando la solicitud no está autenticada** del Portal de Azure.</span><span class="sxs-lookup"><span data-stu-id="e82e6-177">The previous behaviors are controlled by the **Action to take when request is not authenticated** option in the Azure portal.</span></span> <span data-ttu-id="e82e6-178">Si elige **Iniciar sesión con *nombre de proveedor***, se tienen que autenticar todas las solicitudes.</span><span class="sxs-lookup"><span data-stu-id="e82e6-178">If you choose **Log in with *provider name* **, all requests have to be authenticated.</span></span> <span data-ttu-id="e82e6-179">**Permitir solicitud (sin acción)** traslada la decisión de autorización al código, pero sigue proporcionando información de autenticación.</span><span class="sxs-lookup"><span data-stu-id="e82e6-179">**Allow request (no action)** defers the authorization decision to your code, but it still provides authentication information.</span></span> <span data-ttu-id="e82e6-180">Si desea que su código lo controle todo, puede deshabilitar la característica de autenticación y autorización.</span><span class="sxs-lookup"><span data-stu-id="e82e6-180">If you want to have your code handle everything, you can disable the Authentication / Authorization feature.</span></span>

## <a name="working-with-user-identities-in-your-application"></a><span data-ttu-id="e82e6-181">Trabajo con identidades de usuario en la aplicación</span><span class="sxs-lookup"><span data-stu-id="e82e6-181">Working with user identities in your application</span></span>
<span data-ttu-id="e82e6-182">El Servicio de aplicaciones pasa parte de la información del usuario a la aplicación mediante encabezados especiales.</span><span class="sxs-lookup"><span data-stu-id="e82e6-182">App Service passes some user information to your application by using special headers.</span></span> <span data-ttu-id="e82e6-183">Las solicitudes externas prohíben estos encabezados y solo estarán presentes si así se ha establecido mediante la autenticación o autorización del Servicio de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="e82e6-183">External requests prohibit these headers and will only be present if set by App Service Authentication / Authorization.</span></span> <span data-ttu-id="e82e6-184">A continuación puede ver algunos encabezados de ejemplo:</span><span class="sxs-lookup"><span data-stu-id="e82e6-184">Some example headers include:</span></span>

* <span data-ttu-id="e82e6-185">X-MS-CLIENT-PRINCIPAL-NAME</span><span class="sxs-lookup"><span data-stu-id="e82e6-185">X-MS-CLIENT-PRINCIPAL-NAME</span></span>
* <span data-ttu-id="e82e6-186">X-MS-CLIENT-PRINCIPAL-ID</span><span class="sxs-lookup"><span data-stu-id="e82e6-186">X-MS-CLIENT-PRINCIPAL-ID</span></span>
* <span data-ttu-id="e82e6-187">X-MS-TOKEN-FACEBOOK-ACCESS-TOKEN</span><span class="sxs-lookup"><span data-stu-id="e82e6-187">X-MS-TOKEN-FACEBOOK-ACCESS-TOKEN</span></span>
* <span data-ttu-id="e82e6-188">X-MS-TOKEN-FACEBOOK-EXPIRES-ON</span><span class="sxs-lookup"><span data-stu-id="e82e6-188">X-MS-TOKEN-FACEBOOK-EXPIRES-ON</span></span>

<span data-ttu-id="e82e6-189">El código escrito en cualquier lenguaje o plataforma puede obtener la información que necesita de estos encabezados.</span><span class="sxs-lookup"><span data-stu-id="e82e6-189">Code that is written in any language or framework can get the information that it needs from these headers.</span></span> <span data-ttu-id="e82e6-190">Para las aplicaciones de ASP.NET 4.6, **ClaimsPrincipal** se establece automáticamente con los valores adecuados.</span><span class="sxs-lookup"><span data-stu-id="e82e6-190">For ASP.NET 4.6 apps, the **ClaimsPrincipal** is automatically set with the appropriate values.</span></span>

<span data-ttu-id="e82e6-191">La aplicación también puede obtener detalles adicionales del usuario a través de un comando HTTP GET en el punto de conexión `/.auth/me` de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="e82e6-191">Your application can also obtain additional user details through an HTTP GET on the `/.auth/me` endpoint of your application.</span></span> <span data-ttu-id="e82e6-192">Un token válido que se incluye con la solicitud devolverá una carga JSON con detalles sobre el proveedor que se está usando, el token del proveedor subyacente y alguna otra información de usuario.</span><span class="sxs-lookup"><span data-stu-id="e82e6-192">A valid token that's included with the request will return a JSON payload with details about the provider that's being used, the underlying provider token, and some other user information.</span></span> <span data-ttu-id="e82e6-193">Los SDK del servidor de Aplicaciones móviles proporcionan métodos auxiliares para trabajar con estos datos.</span><span class="sxs-lookup"><span data-stu-id="e82e6-193">The Mobile Apps server SDKs provide helper methods to work with this data.</span></span> <span data-ttu-id="e82e6-194">Para más información, consulte [Uso del SDK de Node.js de Azure Mobile Apps](../app-service-mobile/app-service-mobile-node-backend-how-to-use-server-sdk.md#howto-tables-getidentity) y [Trabajar con el SDK del servidor back-end de .NET para Azure Mobile Apps](../app-service-mobile/app-service-mobile-dotnet-backend-how-to-use-server-sdk.md#user-info).</span><span class="sxs-lookup"><span data-stu-id="e82e6-194">For more information, see [How to use the Azure Mobile Apps Node.js SDK](../app-service-mobile/app-service-mobile-node-backend-how-to-use-server-sdk.md#howto-tables-getidentity), and [Work with the .NET backend server SDK for Azure Mobile Apps](../app-service-mobile/app-service-mobile-dotnet-backend-how-to-use-server-sdk.md#user-info).</span></span>

## <a name="documentation-and-additional-resources"></a><span data-ttu-id="e82e6-195">Documentación y recursos adicionales</span><span class="sxs-lookup"><span data-stu-id="e82e6-195">Documentation and additional resources</span></span>
### <a name="identity-providers"></a><span data-ttu-id="e82e6-196">Proveedores de identidades</span><span class="sxs-lookup"><span data-stu-id="e82e6-196">Identity providers</span></span>
<span data-ttu-id="e82e6-197">En los siguientes tutoriales se muestra cómo configurar el Servicio de aplicaciones para usar los distintos proveedores de autenticación:</span><span class="sxs-lookup"><span data-stu-id="e82e6-197">The following tutorials show how to configure App Service to use different authentication providers:</span></span>

* <span data-ttu-id="e82e6-198">[Configuración de la aplicación para usar el inicio de sesión de Azure Active Directory][AAD]</span><span class="sxs-lookup"><span data-stu-id="e82e6-198">[How to configure your app to use Azure Active Directory login][AAD]</span></span>
* <span data-ttu-id="e82e6-199">[Configuración de la aplicación para usar el inicio de sesión de Facebook][Facebook]</span><span class="sxs-lookup"><span data-stu-id="e82e6-199">[How to configure your app to use Facebook login][Facebook]</span></span>
* <span data-ttu-id="e82e6-200">[Configuración de la aplicación para usar el inicio de sesión de Google][Google]</span><span class="sxs-lookup"><span data-stu-id="e82e6-200">[How to configure your app to use Google login][Google]</span></span>
* <span data-ttu-id="e82e6-201">[Configuración de la aplicación para usar el inicio de sesión de la cuenta Microsoft][MSA]</span><span class="sxs-lookup"><span data-stu-id="e82e6-201">[How to configure your app to use Microsoft Account login][MSA]</span></span>
* <span data-ttu-id="e82e6-202">[Configuración de la aplicación para usar el inicio de sesión de Twitter][Twitter]</span><span class="sxs-lookup"><span data-stu-id="e82e6-202">[How to configure your app to use Twitter login][Twitter]</span></span>

<span data-ttu-id="e82e6-203">Si quiere usar un sistema de identidades diferente a los proporcionados aquí, también puede usar la [compatibilidad con la autenticación personalizada de versión preliminar en el SDK de servidor .NET de Mobile Apps][custom-auth], que se puede utilizar en aplicaciones web, móviles o de API.</span><span class="sxs-lookup"><span data-stu-id="e82e6-203">If you want to use an identity system other than the ones provided here, you can also use the [preview custom authentication support in the Mobile Apps .NET server SDK][custom-auth], which can be used in web apps, mobile apps, or API apps.</span></span>

### <a name="web-applications"></a><span data-ttu-id="e82e6-204">Aplicaciones web</span><span class="sxs-lookup"><span data-stu-id="e82e6-204">Web applications</span></span>
<span data-ttu-id="e82e6-205">Los siguientes tutoriales muestran cómo incorporar la autenticación a una aplicación web:</span><span class="sxs-lookup"><span data-stu-id="e82e6-205">The following tutorials show how to add authentication to a web application:</span></span>

* <span data-ttu-id="e82e6-206">[Introducción a Azure App Service: parte 2][web-getstarted]</span><span class="sxs-lookup"><span data-stu-id="e82e6-206">[Get started with Azure App Service - Part 2][web-getstarted]</span></span>

### <a name="mobile-applications"></a><span data-ttu-id="e82e6-207">Aplicaciones móviles</span><span class="sxs-lookup"><span data-stu-id="e82e6-207">Mobile applications</span></span>
<span data-ttu-id="e82e6-208">Los siguientes tutoriales muestran cómo incorporar la autenticación a los clientes móviles con el flujo dirigido al servidor:</span><span class="sxs-lookup"><span data-stu-id="e82e6-208">The following tutorials show how to add authentication to your mobile clients by using the server-directed flow:</span></span>

* <span data-ttu-id="e82e6-209">[Incorporación de la autenticación a la aplicación iOS][iOS]</span><span class="sxs-lookup"><span data-stu-id="e82e6-209">[Add authentication to your iOS app][iOS]</span></span>
* <span data-ttu-id="e82e6-210">[Add Authentication to your Android app][Android] (Adición de autenticación a una aplicación Android)</span><span class="sxs-lookup"><span data-stu-id="e82e6-210">[Add Authentication to your Android app][Android]</span></span>
* <span data-ttu-id="e82e6-211">[Add Authentication to your Windows app][Windows] (Adición de autenticación a una aplicación Windows)</span><span class="sxs-lookup"><span data-stu-id="e82e6-211">[Add Authentication to your Windows app][Windows]</span></span>
* <span data-ttu-id="e82e6-212">[Add authentication to your Xamarin.iOS app][Xamarin.iOS] (Adición de autenticación a una aplicación Xamarin.iOS)</span><span class="sxs-lookup"><span data-stu-id="e82e6-212">[Add authentication to your Xamarin.iOS app][Xamarin.iOS]</span></span>
* <span data-ttu-id="e82e6-213">[Add authentication to your Xamarin.Android app][Xamarin.Android] (Adición de autenticación a una aplicación Xamarin.Android)</span><span class="sxs-lookup"><span data-stu-id="e82e6-213">[Add authentication to your Xamarin.Android app][Xamarin.Android]</span></span>
* <span data-ttu-id="e82e6-214">[Add authentication to your Xamarin.Forms app][Xamarin.Forms] (Adición de autenticación a una aplicación Xamarin.Forms)</span><span class="sxs-lookup"><span data-stu-id="e82e6-214">[Add authentication to your Xamarin.Forms app][Xamarin.Forms]</span></span>
* <span data-ttu-id="e82e6-215">[Adición de la autenticación a la aplicación de Cordova][Cordova]</span><span class="sxs-lookup"><span data-stu-id="e82e6-215">[Add Authentication to your Cordova app][Cordova]</span></span>

<span data-ttu-id="e82e6-216">Si desea usar el flujo dirigido al cliente para Azure Active Directory, use los siguientes recursos:</span><span class="sxs-lookup"><span data-stu-id="e82e6-216">Use the following resources if you want to use the client-directed flow for Azure Active Directory:</span></span>

* <span data-ttu-id="e82e6-217">[Utilice la biblioteca de autenticación de Active Directory para iOS][ADAL-iOS]</span><span class="sxs-lookup"><span data-stu-id="e82e6-217">[Use the Active Directory Authentication Library for iOS][ADAL-iOS]</span></span>
* <span data-ttu-id="e82e6-218">[Utilice la biblioteca de autenticación de Active Directory para Android][ADAL-Android]</span><span class="sxs-lookup"><span data-stu-id="e82e6-218">[Use the Active Directory Authentication Library for Android][ADAL-Android]</span></span>
* <span data-ttu-id="e82e6-219">[Utilice la biblioteca de autenticación de Active Directory para Windows y Xamarin][ADAL-dotnet]</span><span class="sxs-lookup"><span data-stu-id="e82e6-219">[Use the Active Directory Authentication Library for Windows and Xamarin][ADAL-dotnet]</span></span>

<span data-ttu-id="e82e6-220">Si desea usar el flujo dirigido al cliente para Facebook, use los siguientes recursos:</span><span class="sxs-lookup"><span data-stu-id="e82e6-220">Use the following resources if you want to use the client-directed flow for Facebook:</span></span>

* [<span data-ttu-id="e82e6-221">Uso del SDK de Facebook para iOS</span><span class="sxs-lookup"><span data-stu-id="e82e6-221">Use the Facebook SDK for iOS</span></span>](../app-service-mobile/app-service-mobile-ios-how-to-use-client-library.md#facebook-sdk)

<span data-ttu-id="e82e6-222">Si desea usar el flujo dirigido al cliente para Twitter, use los siguientes recursos:</span><span class="sxs-lookup"><span data-stu-id="e82e6-222">Use the following resources if you want to use the client-directed flow for Twitter:</span></span>

* [<span data-ttu-id="e82e6-223">Uso de Fabric de Twitter para iOS</span><span class="sxs-lookup"><span data-stu-id="e82e6-223">Use Twitter Fabric for iOS</span></span>](../app-service-mobile/app-service-mobile-ios-how-to-use-client-library.md#twitter-fabric)

<span data-ttu-id="e82e6-224">Si desea usar el flujo dirigido al cliente para Google, use los siguientes recursos:</span><span class="sxs-lookup"><span data-stu-id="e82e6-224">Use the following resources if you want to use the client-directed flow for Google:</span></span>

* [<span data-ttu-id="e82e6-225">Uso del SDK de inicio de sesión de Google para iOS</span><span class="sxs-lookup"><span data-stu-id="e82e6-225">Use the Google Sign-In SDK for iOS</span></span>](../app-service-mobile/app-service-mobile-ios-how-to-use-client-library.md#google-sdk)

### <a name="api-applications"></a><span data-ttu-id="e82e6-226">Aplicaciones de API</span><span class="sxs-lookup"><span data-stu-id="e82e6-226">API applications</span></span>
<span data-ttu-id="e82e6-227">Los siguientes tutoriales muestran cómo proteger sus aplicaciones de API:</span><span class="sxs-lookup"><span data-stu-id="e82e6-227">The following tutorials show how to protect your API apps:</span></span>

* <span data-ttu-id="e82e6-228">[Autenticación de usuario para aplicaciones de API en Azure App Service][apia-user]</span><span class="sxs-lookup"><span data-stu-id="e82e6-228">[User authentication for API Apps in Azure App Service][apia-user]</span></span>
* <span data-ttu-id="e82e6-229">[Autenticación de entidad de servicio para Aplicaciones de API en Azure App Service][apia-service]</span><span class="sxs-lookup"><span data-stu-id="e82e6-229">[Service principal authentication for API Apps in Azure App Service][apia-service]</span></span>

[apia-user]: ../app-service-api/app-service-api-dotnet-user-principal-auth.md
[apia-service]: ../app-service-api/app-service-api-dotnet-service-principal-auth.md

[web-getstarted]: ../app-service-web/app-service-web-get-started-2.md#authenticate-your-users

[iOS]: ../app-service-mobile/app-service-mobile-ios-get-started-users.md
<span data-ttu-id="e82e6-230">[Android]: ../app-service-mobile/app-service-mobile-android-get-started-users.md</span><span class="sxs-lookup"><span data-stu-id="e82e6-230">[Android]: ../app-service-mobile/app-service-mobile-android-get-started-users.md</span></span>
<span data-ttu-id="e82e6-231">[Xamarin.iOS]: ../app-service-mobile/app-service-mobile-xamarin-ios-get-started-users.md</span><span class="sxs-lookup"><span data-stu-id="e82e6-231">[Xamarin.iOS]: ../app-service-mobile/app-service-mobile-xamarin-ios-get-started-users.md</span></span>
<span data-ttu-id="e82e6-232">[Xamarin.Android]: ../app-service-mobile/app-service-mobile-xamarin-android-get-started-users.md</span><span class="sxs-lookup"><span data-stu-id="e82e6-232">[Xamarin.Android]: ../app-service-mobile/app-service-mobile-xamarin-android-get-started-users.md</span></span>
<span data-ttu-id="e82e6-233">[Xamarin.Forms]: ../app-service-mobile/app-service-mobile-xamarin-forms-get-started-users.md</span><span class="sxs-lookup"><span data-stu-id="e82e6-233">[Xamarin.Forms]: ../app-service-mobile/app-service-mobile-xamarin-forms-get-started-users.md</span></span>
<span data-ttu-id="e82e6-234">[Windows]: ../app-service-mobile/app-service-mobile-windows-store-dotnet-get-started-users.md</span><span class="sxs-lookup"><span data-stu-id="e82e6-234">[Windows]: ../app-service-mobile/app-service-mobile-windows-store-dotnet-get-started-users.md</span></span>
<span data-ttu-id="e82e6-235">[Cordova]: ../app-service-mobile/app-service-mobile-cordova-get-started-users.md</span><span class="sxs-lookup"><span data-stu-id="e82e6-235">[Cordova]: ../app-service-mobile/app-service-mobile-cordova-get-started-users.md</span></span>

[AAD]: ../app-service-mobile/app-service-mobile-how-to-configure-active-directory-authentication.md
[Facebook]: ../app-service-mobile/app-service-mobile-how-to-configure-facebook-authentication.md
[Google]: ../app-service-mobile/app-service-mobile-how-to-configure-google-authentication.md
[MSA]: ../app-service-mobile/app-service-mobile-how-to-configure-microsoft-authentication.md
[Twitter]: ../app-service-mobile/app-service-mobile-how-to-configure-twitter-authentication.md

[custom-auth]: ../app-service-mobile/app-service-mobile-dotnet-backend-how-to-use-server-sdk.md#custom-auth

[ADAL-Android]: ../app-service-mobile/app-service-mobile-android-how-to-use-client-library.md#adal
[ADAL-iOS]: ../app-service-mobile/app-service-mobile-ios-how-to-use-client-library.md#adal
[ADAL-dotnet]: ../app-service-mobile/app-service-mobile-dotnet-how-to-use-client-library.md#adal
