---
title: aaaCreate un entorno de servicio de aplicaciones de Azure mediante una plantilla de administrador de recursos
description: "Explica cómo toocreate un entorno externo o servicio de aplicaciones de Azure de ILB mediante una plantilla de administrador de recursos"
services: app-service
documentationcenter: na
author: ccompy
manager: stefsch
ms.assetid: 6eb7d43d-e820-4a47-818c-80ff7d3b6f8e
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/13/2017
ms.author: ccompy
ms.openlocfilehash: c8aeedee675a6e931169b725ee916cc7fa8f762f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="create-an-ase-by-using-an-azure-resource-manager-template"></a><span data-ttu-id="b937a-103">Creación de una instancia de ASE mediante el uso de una plantilla de Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="b937a-103">Create an ASE by using an Azure Resource Manager template</span></span>

## <a name="overview"></a><span data-ttu-id="b937a-104">Información general</span><span class="sxs-lookup"><span data-stu-id="b937a-104">Overview</span></span>
<span data-ttu-id="b937a-105">Las instancias de Azure App Service Environment (ASE) pueden crearse con un punto de conexión accesible de Internet o un punto de conexión en una dirección interna en una red virtual de Azure (VNet).</span><span class="sxs-lookup"><span data-stu-id="b937a-105">Azure App Service environments (ASEs) can be created with an internet-accessible endpoint or an endpoint on an internal address in an Azure virtual network (VNet).</span></span> <span data-ttu-id="b937a-106">Cuando se crea con un punto de conexión interno, ese punto de conexión siempre lo proporciona un componente de Azure denominado equilibrador de carga interno (ILB).</span><span class="sxs-lookup"><span data-stu-id="b937a-106">When created with an internal endpoint, that endpoint is provided by an Azure component called an internal load balancer (ILB).</span></span> <span data-ttu-id="b937a-107">Hola ASE en una dirección IP interna se denomina una ASE de ILB.</span><span class="sxs-lookup"><span data-stu-id="b937a-107">hello ASE on an internal IP address is called an ILB ASE.</span></span> <span data-ttu-id="b937a-108">Hola ASE con un punto de conexión público se denomina un ASE externo.</span><span class="sxs-lookup"><span data-stu-id="b937a-108">hello ASE with a public endpoint is called an External ASE.</span></span> 

<span data-ttu-id="b937a-109">Un ASE puede crearse mediante el uso de Hola portal de Azure o una plantilla de Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="b937a-109">An ASE can be created by using hello Azure portal or an Azure Resource Manager template.</span></span> <span data-ttu-id="b937a-110">Este artículo le guía a través de pasos de Hola y sintaxis necesita toocreate un ASE externo o ASE de ILB con plantillas de administrador de recursos.</span><span class="sxs-lookup"><span data-stu-id="b937a-110">This article walks through hello steps and syntax you need toocreate an External ASE or ILB ASE with Resource Manager templates.</span></span> <span data-ttu-id="b937a-111">toolearn toocreate un ASE Hola portal de Azure, vea [realizar una ASE externo] [ MakeExternalASE] o [realizar una ASE de ILB][MakeILBASE].</span><span class="sxs-lookup"><span data-stu-id="b937a-111">toolearn how toocreate an ASE in hello Azure portal, see [Make an External ASE][MakeExternalASE] or [Make an ILB ASE][MakeILBASE].</span></span>

<span data-ttu-id="b937a-112">Cuando se crea un ASE Hola portal de Azure, puede crear la red virtual en hello al mismo tiempo o elija un toodeploy de red virtual preexistente en.</span><span class="sxs-lookup"><span data-stu-id="b937a-112">When you create an ASE in hello Azure portal, you can create your VNet at hello same time or choose a preexisting VNet toodeploy into.</span></span> <span data-ttu-id="b937a-113">Cuando crea un ASE desde una plantilla, debe comenzar por:</span><span class="sxs-lookup"><span data-stu-id="b937a-113">When you create an ASE from a template, you must start with:</span></span> 

* <span data-ttu-id="b937a-114">Una red virtual de Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="b937a-114">A Resource Manager VNet.</span></span>
* <span data-ttu-id="b937a-115">Una subred de esa red virtual.</span><span class="sxs-lookup"><span data-stu-id="b937a-115">A subnet in that VNet.</span></span> <span data-ttu-id="b937a-116">Se recomienda un tamaño de la subred de ASE de `/25` con el crecimiento futuro de 128 direcciones tooaccomodate.</span><span class="sxs-lookup"><span data-stu-id="b937a-116">We recommend an ASE subnet size of `/25` with 128 addresses tooaccomodate future growth.</span></span> <span data-ttu-id="b937a-117">Después de crea ASE hello, no se puede cambiar tamaño de Hola.</span><span class="sxs-lookup"><span data-stu-id="b937a-117">After hello ASE is created, you can't change hello size.</span></span>
* <span data-ttu-id="b937a-118">Hola Id. de recurso de la red virtual.</span><span class="sxs-lookup"><span data-stu-id="b937a-118">hello resource ID from your VNet.</span></span> <span data-ttu-id="b937a-119">Puede obtener esta información de hello portal de Azure en las propiedades de red virtual.</span><span class="sxs-lookup"><span data-stu-id="b937a-119">You can get this information from hello Azure portal under your virtual network properties.</span></span>
* <span data-ttu-id="b937a-120">suscripción de Hola que desea toodeploy en.</span><span class="sxs-lookup"><span data-stu-id="b937a-120">hello subscription you want toodeploy into.</span></span>
* <span data-ttu-id="b937a-121">ubicación de Hello toodeploy en la que desea.</span><span class="sxs-lookup"><span data-stu-id="b937a-121">hello location you want toodeploy into.</span></span>

<span data-ttu-id="b937a-122">tooautomate la creación de ASE:</span><span class="sxs-lookup"><span data-stu-id="b937a-122">tooautomate your ASE creation:</span></span>

1. <span data-ttu-id="b937a-123">Crear Hola ASE desde una plantilla.</span><span class="sxs-lookup"><span data-stu-id="b937a-123">Create hello ASE from a template.</span></span> <span data-ttu-id="b937a-124">Si crea un ASE externo, habrá terminado después de este paso.</span><span class="sxs-lookup"><span data-stu-id="b937a-124">If you create an External ASE, you're finished after this step.</span></span> <span data-ttu-id="b937a-125">Si crea una ASE de ILB, existen unos toodo cosas más.</span><span class="sxs-lookup"><span data-stu-id="b937a-125">If you create an ILB ASE, there are a few more things toodo.</span></span>

2. <span data-ttu-id="b937a-126">Una vez creado el ASE con un ILB, se carga un certificado SSL que coincide con su dominio de ASE con un ILB.</span><span class="sxs-lookup"><span data-stu-id="b937a-126">After your ILB ASE is created, an SSL certificate that matches your ILB ASE domain is uploaded.</span></span>

3. <span data-ttu-id="b937a-127">Hello cargado certificado SSL esté asignado toohello ILB ASE como su propio certificado SSL "default".</span><span class="sxs-lookup"><span data-stu-id="b937a-127">hello uploaded SSL certificate is assigned toohello ILB ASE as its "default" SSL certificate.</span></span>  <span data-ttu-id="b937a-128">Este certificado se usa para tooapps de tráfico SSL en hello ASE de ILB cuando utiliza el dominio raíz común hello es ASE toohello asignado (por ejemplo, https://someapp.mycustomrootcomain.com).</span><span class="sxs-lookup"><span data-stu-id="b937a-128">This certificate is used for SSL traffic tooapps on hello ILB ASE when they use hello common root domain that's assigned toohello ASE (for example, https://someapp.mycustomrootcomain.com).</span></span>


## <a name="create-hello-ase"></a><span data-ttu-id="b937a-129">Crear Hola ASE</span><span class="sxs-lookup"><span data-stu-id="b937a-129">Create hello ASE</span></span>
<span data-ttu-id="b937a-130">En GitHub, encontrará [un ejemplo][quickstartasev2create] de plantilla de Resource Manager que crea un ASE y su archivo de parámetros asociado.</span><span class="sxs-lookup"><span data-stu-id="b937a-130">A Resource Manager template that creates an ASE and its associated parameters file is available [in an example][quickstartasev2create] on GitHub.</span></span>

<span data-ttu-id="b937a-131">Si desea toomake una ASE de ILB, use estas plantillas de administrador de recursos [ejemplos][quickstartilbasecreate].</span><span class="sxs-lookup"><span data-stu-id="b937a-131">If you want toomake an ILB ASE, use these Resource Manager template [examples][quickstartilbasecreate].</span></span> <span data-ttu-id="b937a-132">Atienden toothat caso de uso.</span><span class="sxs-lookup"><span data-stu-id="b937a-132">They cater toothat use case.</span></span> <span data-ttu-id="b937a-133">La mayoría de los parámetros de Hola Hola *azuredeploy.parameters.json* archivo son comunes toohello creación de ILB ASEs y ASEs externo.</span><span class="sxs-lookup"><span data-stu-id="b937a-133">Most of hello parameters in hello *azuredeploy.parameters.json* file are common toohello creation of ILB ASEs and External ASEs.</span></span> <span data-ttu-id="b937a-134">Hello lista siguiente llama a los parámetros de nota especial, o que son únicos, cuando se crea una ASE de ILB:</span><span class="sxs-lookup"><span data-stu-id="b937a-134">hello following list calls out parameters of special note, or that are unique, when you create an ILB ASE:</span></span>

* <span data-ttu-id="b937a-135">*interalLoadBalancingMode*: en la mayoría de los casos, establezca este too3, lo que significa que tanto el tráfico HTTP/HTTPS en los puertos 80/443, y puertos de canal de datos de control/hello escuchaba tooby servicio FTP Hola Hola ASE, será asignado ILB tooan enlazados de red virtual dirección interna.</span><span class="sxs-lookup"><span data-stu-id="b937a-135">*interalLoadBalancingMode*: In most cases, set this too3, which means both HTTP/HTTPS traffic on ports 80/443, and hello control/data channel ports listened tooby hello FTP service on hello ASE, will be bound tooan ILB-allocated virtual network internal address.</span></span> <span data-ttu-id="b937a-136">Si esta propiedad se establece too2, puertos de relacionados con el servicio de hello FTP (canales de datos y de control) solo son direcciones ILB tooan enlazado.</span><span class="sxs-lookup"><span data-stu-id="b937a-136">If this property is set too2, only hello FTP service-related ports (both control and data channels) are bound tooan ILB address.</span></span> <span data-ttu-id="b937a-137">Hola tráfico HTTP/HTTPS permanece en Hola pública VIP.</span><span class="sxs-lookup"><span data-stu-id="b937a-137">hello HTTP/HTTPS traffic remains on hello public VIP.</span></span>
* <span data-ttu-id="b937a-138">*sufijo DNS*: este parámetro define el dominio raíz de hello predeterminado que está asignado toohello ASE.</span><span class="sxs-lookup"><span data-stu-id="b937a-138">*dnsSuffix*: This parameter defines hello default root domain that's assigned toohello ASE.</span></span> <span data-ttu-id="b937a-139">En variación pública de hello del servicio de aplicaciones de Azure, Hola raíz dominio predeterminado para todas las aplicaciones web es *azurewebsites.net*.</span><span class="sxs-lookup"><span data-stu-id="b937a-139">In hello public variation of Azure App Service, hello default root domain for all web apps is *azurewebsites.net*.</span></span> <span data-ttu-id="b937a-140">Dado que una ASE de ILB es red virtual del cliente de tooa interno, que no tiene dominio de raíz del servicio de sentido toouse Hola público predeterminado.</span><span class="sxs-lookup"><span data-stu-id="b937a-140">Because an ILB ASE is internal tooa customer's virtual network, it doesn't make sense toouse hello public service's default root domain.</span></span> <span data-ttu-id="b937a-141">En su lugar, un ASE de ILB debe tener un dominio raíz predeterminado que tenga sentido usar en la red virtual interna de una compañía.</span><span class="sxs-lookup"><span data-stu-id="b937a-141">Instead, an ILB ASE should have a default root domain that makes sense for use within a company's internal virtual network.</span></span> <span data-ttu-id="b937a-142">Por ejemplo, Contoso Corporation podría usar un dominio de raíz predeterminado de *contoso.com interna* para las aplicaciones que están toobe previsto pueda resolverse y accesible únicamente dentro de la red virtual de Contoso.</span><span class="sxs-lookup"><span data-stu-id="b937a-142">For example, Contoso Corporation might use a default root domain of *internal-contoso.com* for apps that are intended toobe resolvable and accessible only within Contoso's virtual network.</span></span> 
* <span data-ttu-id="b937a-143">*ipSslAddressCount*: este parámetro establece de forma automática tooa el valor 0 en hello *azuredeploy.json* archivo porque ILB ASEs sólo tiene una única dirección ILB.</span><span class="sxs-lookup"><span data-stu-id="b937a-143">*ipSslAddressCount*: This parameter automatically defaults tooa value of 0 in hello *azuredeploy.json* file because ILB ASEs only have a single ILB address.</span></span> <span data-ttu-id="b937a-144">No hay direcciones IP-SSL explícitas para un ASE con ILB.</span><span class="sxs-lookup"><span data-stu-id="b937a-144">There are no explicit IP-SSL addresses for an ILB ASE.</span></span> <span data-ttu-id="b937a-145">Por lo tanto, se debe establecer Hola grupo de direcciones IP SSL para un ASE ILB toozero.</span><span class="sxs-lookup"><span data-stu-id="b937a-145">Hence, hello IP-SSL address pool for an ILB ASE must be set toozero.</span></span> <span data-ttu-id="b937a-146">En caso contrario, se produce un error de aprovisionamiento.</span><span class="sxs-lookup"><span data-stu-id="b937a-146">Otherwise, a provisioning error occurs.</span></span> 

<span data-ttu-id="b937a-147">Después de hello *azuredeploy.parameters.json* se llena el archivo, cree Hola ASE mediante el uso de fragmento de código de PowerShell de Hola.</span><span class="sxs-lookup"><span data-stu-id="b937a-147">After hello *azuredeploy.parameters.json* file is filled in, create hello ASE by using hello PowerShell code snippet.</span></span> <span data-ttu-id="b937a-148">Cambiar Hola archivo rutas de acceso toomatch Hola Administrador de recursos de archivo de plantilla ubicaciones en su equipo.</span><span class="sxs-lookup"><span data-stu-id="b937a-148">Change hello file paths toomatch hello Resource Manager template-file locations on your machine.</span></span> <span data-ttu-id="b937a-149">Recuerde toosupply sus propios valores para nombre de implementación del Administrador de recursos de Hola y el nombre de grupo de recursos de hello:</span><span class="sxs-lookup"><span data-stu-id="b937a-149">Remember toosupply your own values for hello Resource Manager deployment name and hello resource group name:</span></span>

    $templatePath="PATH\azuredeploy.json"
    $parameterPath="PATH\azuredeploy.parameters.json"

    New-AzureRmResourceGroupDeployment -Name "CHANGEME" -ResourceGroupName "YOUR-RG-NAME-HERE" -TemplateFile $templatePath -TemplateParameterFile $parameterPath

<span data-ttu-id="b937a-150">Tarda aproximadamente una hora Hola ASE toobe creado.</span><span class="sxs-lookup"><span data-stu-id="b937a-150">It takes about an hour for hello ASE toobe created.</span></span> <span data-ttu-id="b937a-151">A continuación, Hola ASE mostrarán en portal de hello en lista de Hola de ASEs para la suscripción de Hola que desencadenó la implementación de Hola.</span><span class="sxs-lookup"><span data-stu-id="b937a-151">Then hello ASE shows up in hello portal in hello list of ASEs for hello subscription that triggered hello deployment.</span></span>

## <a name="upload-and-configure-hello-default-ssl-certificate"></a><span data-ttu-id="b937a-152">Cargar y configurar un certificado SSL de Hola "default"</span><span class="sxs-lookup"><span data-stu-id="b937a-152">Upload and configure hello "default" SSL certificate</span></span>
<span data-ttu-id="b937a-153">Un certificado SSL debe asociarse con hello ASE como Hola "default" certificado SSL usado tooestablish SSL conexiones tooapps.</span><span class="sxs-lookup"><span data-stu-id="b937a-153">An SSL certificate must be associated with hello ASE as hello "default" SSL certificate that's used tooestablish SSL connections tooapps.</span></span> <span data-ttu-id="b937a-154">Si el sufijo DNS de Hola de ASE predeterminada es *contoso.com interna*, un toohttps://some-random-app.internal-contoso.com conexión requiere un certificado SSL válido para **.internal contoso.com* .</span><span class="sxs-lookup"><span data-stu-id="b937a-154">If hello ASE's default DNS suffix is *internal-contoso.com*, a connection toohttps://some-random-app.internal-contoso.com requires an SSL certificate that's valid for **.internal-contoso.com*.</span></span> 

<span data-ttu-id="b937a-155">Obtenga un certificado SSL válido a través de las autoridades de certificados internas, adquiriendo un certificado de un emisor externo o usando un certificado autofirmado.</span><span class="sxs-lookup"><span data-stu-id="b937a-155">Obtain a valid SSL certificate by using internal certificate authorities, purchasing a certificate from an external issuer, or using a self-signed certificate.</span></span> <span data-ttu-id="b937a-156">Independientemente del origen de hello del certificado SSL de hello, Hola siguientes atributos de certificado debe estar configurado correctamente:</span><span class="sxs-lookup"><span data-stu-id="b937a-156">Regardless of hello source of hello SSL certificate, hello following certificate attributes must be configured properly:</span></span>

* <span data-ttu-id="b937a-157">**Asunto**: este atributo debe establecerse demasiado **.your-raíz-dominio-here.com*.</span><span class="sxs-lookup"><span data-stu-id="b937a-157">**Subject**: This attribute must be set too**.your-root-domain-here.com*.</span></span>
* <span data-ttu-id="b937a-158">**Nombre alternativo del firmante**: este atributo debe incluir tanto **.your-root-domain-here.com* como **.scm.your-root-domain-here.com*. Toohello de las conexiones SSL sitio SCM/Kudu asociado a cada aplicación usa una dirección del formulario de hello *your-app-name.scm.your-root-domain-here.com*.</span><span class="sxs-lookup"><span data-stu-id="b937a-158">**Subject Alternative Name**: This attribute must include both **.your-root-domain-here.com* and **.scm.your-root-domain-here.com*. SSL connections toohello SCM/Kudu site associated with each app use an address of hello form *your-app-name.scm.your-root-domain-here.com*.</span></span>

<span data-ttu-id="b937a-159">Con un certificado SSL válido, se necesitan dos pasos preparatorios adicionales.</span><span class="sxs-lookup"><span data-stu-id="b937a-159">With a valid SSL certificate in hand, two additional preparatory steps are needed.</span></span> <span data-ttu-id="b937a-160">Certificado SSL de Hola de Convert/Guardar como un archivo. pfx.</span><span class="sxs-lookup"><span data-stu-id="b937a-160">Convert/save hello SSL certificate as a .pfx file.</span></span> <span data-ttu-id="b937a-161">Recuerde ese archivo .pfx de hello debe incluir todos los intermedio y raíz certificados.</span><span class="sxs-lookup"><span data-stu-id="b937a-161">Remember that hello .pfx file must include all intermediate and root certificates.</span></span> <span data-ttu-id="b937a-162">Protéjalo con una contraseña.</span><span class="sxs-lookup"><span data-stu-id="b937a-162">Secure it with a password.</span></span>

<span data-ttu-id="b937a-163">archivo .pfx de Hello debe toobe convertir en una cadena base64 porque el certificado SSL de Hola se carga mediante una plantilla de administrador de recursos.</span><span class="sxs-lookup"><span data-stu-id="b937a-163">hello .pfx file needs toobe converted into a base64 string because hello SSL certificate is uploaded by using a Resource Manager template.</span></span> <span data-ttu-id="b937a-164">Dado que las plantillas de administrador de recursos son archivos de texto, archivo .pfx de hello debe convertirse en una cadena de base64.</span><span class="sxs-lookup"><span data-stu-id="b937a-164">Because Resource Manager templates are text files, hello .pfx file must be converted into a base64 string.</span></span> <span data-ttu-id="b937a-165">De esta forma que se puede incluir como un parámetro de plantilla de Hola.</span><span class="sxs-lookup"><span data-stu-id="b937a-165">This way it can be included as a parameter of hello template.</span></span>

<span data-ttu-id="b937a-166">Usar hello siguiente fragmento de código de PowerShell:</span><span class="sxs-lookup"><span data-stu-id="b937a-166">Use hello following PowerShell code snippet to:</span></span>

* <span data-ttu-id="b937a-167">Generar un certificado autofirmado.</span><span class="sxs-lookup"><span data-stu-id="b937a-167">Generate a self-signed certificate.</span></span>
* <span data-ttu-id="b937a-168">Exporte el certificado de Hola como un archivo. pfx.</span><span class="sxs-lookup"><span data-stu-id="b937a-168">Export hello certificate as a .pfx file.</span></span>
* <span data-ttu-id="b937a-169">Convertir archivo .pfx de hello en una cadena codificada en base64.</span><span class="sxs-lookup"><span data-stu-id="b937a-169">Convert hello .pfx file into a base64-encoded string.</span></span>
* <span data-ttu-id="b937a-170">Guardar archivo independiente de hello cadena codificada en base64 tooa.</span><span class="sxs-lookup"><span data-stu-id="b937a-170">Save hello base64-encoded string tooa separate file.</span></span> 

<span data-ttu-id="b937a-171">Este código de PowerShell para la codificación base64 se adaptó del hello [blog de secuencias de comandos de PowerShell][examplebase64encoding]:</span><span class="sxs-lookup"><span data-stu-id="b937a-171">This PowerShell code for base64 encoding was adapted from hello [PowerShell scripts blog][examplebase64encoding]:</span></span>

        $certificate = New-SelfSignedCertificate -certstorelocation cert:\localmachine\my -dnsname "*.internal-contoso.com","*.scm.internal-contoso.com"

        $certThumbprint = "cert:\localMachine\my\" + $certificate.Thumbprint
        $password = ConvertTo-SecureString -String "CHANGETHISPASSWORD" -Force -AsPlainText

        $fileName = "exportedcert.pfx"
        Export-PfxCertificate -cert $certThumbprint -FilePath $fileName -Password $password     

        $fileContentBytes = get-content -encoding byte $fileName
        $fileContentEncoded = [System.Convert]::ToBase64String($fileContentBytes)
        $fileContentEncoded | set-content ($fileName + ".b64")

<span data-ttu-id="b937a-172">Después de certificado SSL de Hola se genera correctamente y convertir la cadena con codificación base64 de tooa, usar plantilla de administrador de recursos de ejemplo de Hola [certificado SSL de configurar Hola predeterminado] [ quickstartconfiguressl] en GitHub.</span><span class="sxs-lookup"><span data-stu-id="b937a-172">After hello SSL certificate is successfully generated and converted tooa base64-encoded string, use hello example Resource Manager template [Configure hello default SSL certificate][quickstartconfiguressl] on GitHub.</span></span> 

<span data-ttu-id="b937a-173">Hola parámetros Hola *azuredeploy.parameters.json* archivo se muestran aquí:</span><span class="sxs-lookup"><span data-stu-id="b937a-173">hello parameters in hello *azuredeploy.parameters.json* file are listed here:</span></span>

* <span data-ttu-id="b937a-174">*appServiceEnvironmentName*: nombre de Hola de hello ASE de ILB que se está configurando.</span><span class="sxs-lookup"><span data-stu-id="b937a-174">*appServiceEnvironmentName*: hello name of hello ILB ASE being configured.</span></span>
* <span data-ttu-id="b937a-175">*existingAseLocation*: cadena de texto que contiene Hola región de Azure donde hello ASE de ILB se implementó.</span><span class="sxs-lookup"><span data-stu-id="b937a-175">*existingAseLocation*: Text string containing hello Azure region where hello ILB ASE was deployed.</span></span>  <span data-ttu-id="b937a-176">Por ejemplo: "Centro-Sur de EE.UU.".</span><span class="sxs-lookup"><span data-stu-id="b937a-176">For example: "South Central US".</span></span>
* <span data-ttu-id="b937a-177">*pfxBlobString*: Hola representación en forma de cadena codificada en based64 del archivo .pfx de Hola.</span><span class="sxs-lookup"><span data-stu-id="b937a-177">*pfxBlobString*: hello based64-encoded string representation of hello .pfx file.</span></span> <span data-ttu-id="b937a-178">Use el fragmento de código de hello mostrado anteriormente y copie cadena Hola incluido en "exportedcert.pfx.b64".</span><span class="sxs-lookup"><span data-stu-id="b937a-178">Use hello code snippet shown earlier and copy hello string contained in "exportedcert.pfx.b64".</span></span> <span data-ttu-id="b937a-179">Péguelo como valor de Hola de hello *pfxBlobString* atributo.</span><span class="sxs-lookup"><span data-stu-id="b937a-179">Paste it in as hello value of hello *pfxBlobString* attribute.</span></span>
* <span data-ttu-id="b937a-180">*contraseña*: Hola contraseña utilizada toosecure hello archivo.pfx.</span><span class="sxs-lookup"><span data-stu-id="b937a-180">*password*: hello password used toosecure hello .pfx file.</span></span>
* <span data-ttu-id="b937a-181">*certificateThumbprint*: Hola huella digital del certificado.</span><span class="sxs-lookup"><span data-stu-id="b937a-181">*certificateThumbprint*: hello certificate's thumbprint.</span></span> <span data-ttu-id="b937a-182">Si este valor se recupera desde PowerShell (por ejemplo, *$certificate. Huella digital* de hello fragmento de código anterior), puede usar el valor de hello tal cual.</span><span class="sxs-lookup"><span data-stu-id="b937a-182">If you retrieve this value from PowerShell (for example, *$certificate.Thumbprint* from hello earlier code snippet), you can use hello value as is.</span></span> <span data-ttu-id="b937a-183">Si copia el valor de Hola desde el cuadro de diálogo de certificado de Windows hello, recuerde toostrip out espacios Hola.</span><span class="sxs-lookup"><span data-stu-id="b937a-183">If you copy hello value from hello Windows certificate dialog box, remember toostrip out hello extraneous spaces.</span></span> <span data-ttu-id="b937a-184">Hola *certificateThumbprint* debería ser similar a AF3143EB61D43F6727842115BB7F17BBCECAECAE.</span><span class="sxs-lookup"><span data-stu-id="b937a-184">hello *certificateThumbprint* should look something like  AF3143EB61D43F6727842115BB7F17BBCECAECAE.</span></span>
* <span data-ttu-id="b937a-185">*nombre de certificado*: un identificador de cadena descriptivo de su propia elección usa certificados de hello tooidentity.</span><span class="sxs-lookup"><span data-stu-id="b937a-185">*certificateName*: A friendly string identifier of your own choosing used tooidentity hello certificate.</span></span> <span data-ttu-id="b937a-186">nombre de Hola se usa como parte del identificador de administrador de recursos de Hola para hello *Microsoft.Web/certificates* entidad que representa el certificado SSL de Hola.</span><span class="sxs-lookup"><span data-stu-id="b937a-186">hello name is used as part of hello unique Resource Manager identifier for hello *Microsoft.Web/certificates* entity that represents hello SSL certificate.</span></span> <span data-ttu-id="b937a-187">nombre de Hello *debe* finalizar con hello siguiente sufijo: \_yourASENameHere_InternalLoadBalancingASE.</span><span class="sxs-lookup"><span data-stu-id="b937a-187">hello name *must* end with hello following suffix: \_yourASENameHere_InternalLoadBalancingASE.</span></span> <span data-ttu-id="b937a-188">Hola portal de Azure usa este sufijo como un indicador que Hola certificado es toosecure usado un ASE habilitado ILB.</span><span class="sxs-lookup"><span data-stu-id="b937a-188">hello Azure portal uses this suffix as an indicator that hello certificate is used toosecure an ILB-enabled ASE.</span></span>

<span data-ttu-id="b937a-189">Aquí se muestra un ejemplo abreviado de *azuredeploy.parameters.json* :</span><span class="sxs-lookup"><span data-stu-id="b937a-189">An abbreviated example of *azuredeploy.parameters.json* is shown here:</span></span>

    {
         "$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentParameters.json",
         "contentVersion": "1.0.0.0",
         "parameters": {
              "appServiceEnvironmentName": {
                   "value": "yourASENameHere"
              },
              "existingAseLocation": {
                   "value": "East US 2"
              },
              "pfxBlobString": {
                   "value": "MIIKcAIBAz...snip...snip...pkCAgfQ"
              },
              "password": {
                   "value": "PASSWORDGOESHERE"
              },
              "certificateThumbprint": {
                   "value": "AF3143EB61D43F6727842115BB7F17BBCECAECAE"
              },
              "certificateName": {
                   "value": "DefaultCertificateFor_yourASENameHere_InternalLoadBalancingASE"
              }
         }
    }

<span data-ttu-id="b937a-190">Después de hello *azuredeploy.parameters.json* se llena el archivo, configure el certificado SSL de hello predeterminado mediante el uso de fragmento de código de PowerShell de Hola.</span><span class="sxs-lookup"><span data-stu-id="b937a-190">After hello *azuredeploy.parameters.json* file is filled in, configure hello default SSL certificate by using hello PowerShell code snippet.</span></span> <span data-ttu-id="b937a-191">Cambiar toomatch de rutas de acceso de archivo Hola donde se encuentran los archivos de plantilla del Administrador de recursos de hello en su equipo.</span><span class="sxs-lookup"><span data-stu-id="b937a-191">Change hello file paths toomatch where hello Resource Manager template files are located on your machine.</span></span> <span data-ttu-id="b937a-192">Recuerde toosupply sus propios valores para nombre de implementación del Administrador de recursos de Hola y el nombre de grupo de recursos de hello:</span><span class="sxs-lookup"><span data-stu-id="b937a-192">Remember toosupply your own values for hello Resource Manager deployment name and hello resource group name:</span></span>

     $templatePath="PATH\azuredeploy.json"
     $parameterPath="PATH\azuredeploy.parameters.json"

     New-AzureRmResourceGroupDeployment -Name "CHANGEME" -ResourceGroupName "YOUR-RG-NAME-HERE" -TemplateFile $templatePath -TemplateParameterFile $parameterPath

<span data-ttu-id="b937a-193">Se tarda aproximadamente 40 minutos por cambio de ASE front-end tooapply Hola.</span><span class="sxs-lookup"><span data-stu-id="b937a-193">It takes roughly 40 minutes per ASE front end tooapply hello change.</span></span> <span data-ttu-id="b937a-194">Por ejemplo, para un ASE tamaño predeterminado que usa dos servidores front-end, plantilla de hello toma alrededor de una hora y toocomplete de 20 minutos.</span><span class="sxs-lookup"><span data-stu-id="b937a-194">For example, for a default-sized ASE that uses two front ends, hello template takes around one hour and 20 minutes toocomplete.</span></span> <span data-ttu-id="b937a-195">Mientras se ejecuta la plantilla de hello, no se puede escalar Hola ASE.</span><span class="sxs-lookup"><span data-stu-id="b937a-195">While hello template is running, hello ASE can't scale.</span></span>  

<span data-ttu-id="b937a-196">Una vez finalizada la plantilla de hello, aplicaciones en hello ASE de ILB pueden tener acceso a través de HTTPS.</span><span class="sxs-lookup"><span data-stu-id="b937a-196">After hello template finishes, apps on hello ILB ASE can be accessed over HTTPS.</span></span> <span data-ttu-id="b937a-197">las conexiones de Hello están protegidas mediante el uso de certificado SSL de hello predeterminado.</span><span class="sxs-lookup"><span data-stu-id="b937a-197">hello connections are secured by using hello default SSL certificate.</span></span> <span data-ttu-id="b937a-198">certificado SSL de Hello predeterminado se utiliza cuando las aplicaciones en hello ASE de ILB se direccionan mediante una combinación de nombre de la aplicación hello más el nombre de host predeterminado de Hola.</span><span class="sxs-lookup"><span data-stu-id="b937a-198">hello default SSL certificate is used when apps on hello ILB ASE are addressed by using a combination of hello application name plus hello default host name.</span></span> <span data-ttu-id="b937a-199">Por ejemplo, https://mycustomapp.internal-contoso.com utiliza el certificado SSL predeterminado de Hola para **.internal contoso.com*.</span><span class="sxs-lookup"><span data-stu-id="b937a-199">For example, https://mycustomapp.internal-contoso.com uses hello default SSL certificate for **.internal-contoso.com*.</span></span>

<span data-ttu-id="b937a-200">Sin embargo, al igual que las aplicaciones que se ejecutan en el servicio de varios inquilinos públicos de hello, los desarrolladores pueden configurar los nombres de host personalizados para las aplicaciones individuales.</span><span class="sxs-lookup"><span data-stu-id="b937a-200">However, just like apps that run on hello public multitenant service, developers can configure custom host names for individual apps.</span></span> <span data-ttu-id="b937a-201">También pueden configurar enlaces de certificado SSL SNI únicos para las aplicaciones individuales.</span><span class="sxs-lookup"><span data-stu-id="b937a-201">They also can configure unique SNI SSL certificate bindings for individual apps.</span></span>

## <a name="app-service-environment-v1"></a><span data-ttu-id="b937a-202">App Service Environment v1</span><span class="sxs-lookup"><span data-stu-id="b937a-202">App Service Environment v1</span></span> ##
<span data-ttu-id="b937a-203">App Service Environment tiene dos versiones: ASEv1 y ASEv2.</span><span class="sxs-lookup"><span data-stu-id="b937a-203">App Service Environment has two versions: ASEv1 and ASEv2.</span></span> <span data-ttu-id="b937a-204">Hola información anterior se basa en ASEv2.</span><span class="sxs-lookup"><span data-stu-id="b937a-204">hello preceding information was based on ASEv2.</span></span> <span data-ttu-id="b937a-205">Esta sección se muestra hello diferencias entre ASEv1 y ASEv2.</span><span class="sxs-lookup"><span data-stu-id="b937a-205">This section shows you hello differences between ASEv1 and ASEv2.</span></span>

<span data-ttu-id="b937a-206">En ASEv1, administre todos los recursos de hello manualmente.</span><span class="sxs-lookup"><span data-stu-id="b937a-206">In ASEv1, you manage all of hello resources manually.</span></span> <span data-ttu-id="b937a-207">Que incluye servidores front-end de hello, los trabajadores y direcciones IP usadas para SSL basado en IP.</span><span class="sxs-lookup"><span data-stu-id="b937a-207">That includes hello front ends, workers, and IP addresses used for IP-based SSL.</span></span> <span data-ttu-id="b937a-208">Antes de que puede escalar horizontalmente su plan de servicio de aplicaciones, se debe escalar grupo de trabajo de Hola que desea que toohost lo.</span><span class="sxs-lookup"><span data-stu-id="b937a-208">Before you can scale out your App Service plan, you must scale out hello worker pool that you want toohost it.</span></span>

<span data-ttu-id="b937a-209">ASEv1 utiliza un modelo de precios diferente al de ASEv2.</span><span class="sxs-lookup"><span data-stu-id="b937a-209">ASEv1 uses a different pricing model from ASEv2.</span></span> <span data-ttu-id="b937a-210">En ASEv1, paga por cada núcleo asignado.</span><span class="sxs-lookup"><span data-stu-id="b937a-210">In ASEv1, you pay for each core allocated.</span></span> <span data-ttu-id="b937a-211">Esto incluye los núcleos que usan para los servidores front-end y trabajos que no hospedan ninguna carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="b937a-211">That includes cores that are used for front ends or workers that aren't hosting any workloads.</span></span> <span data-ttu-id="b937a-212">En ASEv1, tamaño de escala máximo predeterminado de Hola de un ASE es 55 total de hosts.</span><span class="sxs-lookup"><span data-stu-id="b937a-212">In ASEv1, hello default maximum-scale size of an ASE is 55 total hosts.</span></span> <span data-ttu-id="b937a-213">Esto incluye servidores front-end y trabajos.</span><span class="sxs-lookup"><span data-stu-id="b937a-213">That includes workers and front ends.</span></span> <span data-ttu-id="b937a-214">Una tooASEv1 ventaja es que se puede implementar en una red virtual clásica y una red virtual del Administrador de recursos.</span><span class="sxs-lookup"><span data-stu-id="b937a-214">One advantage tooASEv1 is that it can be deployed in a classic virtual network and a Resource Manager virtual network.</span></span> <span data-ttu-id="b937a-215">toolearn más información sobre ASEv1, consulte [introducción de v1 entono][ASEv1Intro].</span><span class="sxs-lookup"><span data-stu-id="b937a-215">toolearn more about ASEv1, see [App Service Environment v1 introduction][ASEv1Intro].</span></span>

<span data-ttu-id="b937a-216">toocreate un ASEv1 mediante una plantilla de administrador de recursos, consulte [crear un v1 ASE de ILB con una plantilla de administrador de recursos][ILBASEv1Template].</span><span class="sxs-lookup"><span data-stu-id="b937a-216">toocreate an ASEv1 by using a Resource Manager template, see [Create an ILB ASE v1 with a Resource Manager template][ILBASEv1Template].</span></span>


<!--Links-->
[quickstartilbasecreate]: http://azure.microsoft.com/documentation/templates/201-web-app-asev2-ilb-create
[quickstartasev2create]: http://azure.microsoft.com/documentation/templates/201-web-app-asev2-create
[quickstartconfiguressl]: http://azure.microsoft.com/documentation/templates/201-web-app-ase-ilb-configure-default-ssl
[quickstartwebapponasev2create]: http://azure.microsoft.com/documentation/templates/201-web-app-asp-app-on-asev2-create
[examplebase64encoding]: http://powershellscripts.blogspot.com/2007/02/base64-encode-file.html 
[configuringDefaultSSLCertificate]: https://azure.microsoft.com/documentation/templates/201-web-app-ase-ilb-configure-default-ssl/
[Intro]: ./intro.md
[MakeExternalASE]: ./create-external-ase.md
[MakeASEfromTemplate]: ./create-from-template.md
[MakeILBASE]: ./create-ilb-ase.md
[ASENetwork]: ./network-info.md
[ASEReadme]: ./readme.md
[UsingASE]: ./using-an-ase.md
[UDRs]: ../../virtual-network/virtual-networks-udr-overview.md
[NSGs]: ../../virtual-network/virtual-networks-nsg.md
[ConfigureASEv1]: ../../app-service-web/app-service-web-configure-an-app-service-environment.md
[ASEv1Intro]: ../../app-service-web/app-service-app-service-environment-intro.md
[webapps]: ../../app-service-web/app-service-web-overview.md
[mobileapps]: ../../app-service-mobile/app-service-mobile-value-prop.md
[APIapps]: ../../app-service-api/app-service-api-apps-why-best-platform.md
[Functions]: ../../azure-functions/index.yml
[Pricing]: http://azure.microsoft.com/pricing/details/app-service/
[ARMOverview]: ../../azure-resource-manager/resource-group-overview.md
[ConfigureSSL]: ../../app-service-web/web-sites-purchase-ssl-web-site.md
[Kudu]: http://azure.microsoft.com/resources/videos/super-secret-kudu-debug-console-for-azure-web-sites/
[AppDeploy]: ../../app-service-web/web-sites-deploy.md
[ASEWAF]: ../../app-service-web/app-service-app-service-environment-web-application-firewall.md
[AppGW]: ../../application-gateway/application-gateway-web-application-firewall-overview.md
[ILBASEv1Template]: ../../app-service-web/app-service-app-service-environment-create-ilb-ase-resourcemanager.md
