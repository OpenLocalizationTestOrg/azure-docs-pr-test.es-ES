---
title: "Exportación de una API hospedada en Azure a PowerApps y Microsoft Flow | Microsoft Docs"
description: "Introducción a la exposición de una API que se hospeda en App Service a PowerApps y Microsoft Flow"
services: app-service
documentationcenter: 
author: mattchenderson
manager: erikre
editor: 
ms.assetid: 
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: multiple
ms.topic: article
ms.date: 06/20/2017
ms.author: mahender
ms.openlocfilehash: 0d166a2e5b60c3b9f911f9fc3ad49ad7f252abb4
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 07/11/2017
---
# <a name="exporting-an-azure-hosted-api-to-powerapps-and-microsoft-flow"></a><span data-ttu-id="de6aa-103">Exportación de una API hospedada en Azure a PowerApps y Microsoft Flow</span><span class="sxs-lookup"><span data-stu-id="de6aa-103">Exporting an Azure-hosted API to PowerApps and Microsoft Flow</span></span>

## <a name="creating-custom-connectors-for-powerapps-and-microsoft-flow"></a><span data-ttu-id="de6aa-104">Creación de conectores personalizados para PowerApps y Microsoft Flow</span><span class="sxs-lookup"><span data-stu-id="de6aa-104">Creating custom connectors for PowerApps and Microsoft Flow</span></span>

<span data-ttu-id="de6aa-105">[PowerApps](https://powerapps.com) es un servicio para generar y utilizar aplicaciones empresariales personalizadas que se conectan a los datos y funcionan en otras plataformas.</span><span class="sxs-lookup"><span data-stu-id="de6aa-105">[PowerApps](https://powerapps.com) is a service for building and using custom business apps that connect to your data and work across platforms.</span></span> <span data-ttu-id="de6aa-106">[Microsoft Flow](https://flow.microsoft.com) facilita la automatización de los flujos de trabajo y los procesos empresariales en sus aplicaciones y servicios favoritos.</span><span class="sxs-lookup"><span data-stu-id="de6aa-106">[Microsoft Flow](https://flow.microsoft.com) makes it easy to automate workflows and business processes between your favorite apps and services.</span></span> <span data-ttu-id="de6aa-107">Tanto PowerApps como Microsoft Flow vienen con una variedad de conectores integrados a los orígenes de datos, como Office 365, 365 Dynamics, Salesforce y mucho más.</span><span class="sxs-lookup"><span data-stu-id="de6aa-107">Both PowerApps and Microsoft Flow come with a variety of built-in connectors to data sources such as Office 365, Dynamics 365, Salesforce, and more.</span></span> <span data-ttu-id="de6aa-108">Sin embargo, los usuarios también necesitan aprovechar los orígenes de datos y las API que genera la organización.</span><span class="sxs-lookup"><span data-stu-id="de6aa-108">However, users also need to be able to leverage data sources and APIs being built by their organization.</span></span>

<span data-ttu-id="de6aa-109">De igual forma, los desarrolladores que desean exponer su API de manera más amplia dentro de la organización pueden querer que sus API estén disponibles para los usuarios de PowerApps y Microsoft Flow.</span><span class="sxs-lookup"><span data-stu-id="de6aa-109">Similarly, developers that want to expose their APIs more broadly within the organization may want to make their APIs available to PowerApps and Microsoft Flow users.</span></span> <span data-ttu-id="de6aa-110">Este tema le mostrará cómo exponer una API generada con Azure App Service o Azure Functions para PowerApps y Microsoft Flow.</span><span class="sxs-lookup"><span data-stu-id="de6aa-110">This topic will show you how to expose an API built with Azure App Service or Azure Functions to PowerApps and Microsoft Flow.</span></span> <span data-ttu-id="de6aa-111">[Azure App Service](https://azure.microsoft.com/services/app-service/) es una oferta de plataforma como servicio que permite a los desarrolladores crear fácil y rápidamente aplicaciones web, móviles y de API a nivel empresarial.</span><span class="sxs-lookup"><span data-stu-id="de6aa-111">[Azure App Service](https://azure.microsoft.com/services/app-service/) is a platform-as-a-service offering that allows developers to quickly and easily build enterprise-grade web, mobile, and API applications.</span></span> <span data-ttu-id="de6aa-112">[Azure Functions](https://azure.microsoft.com/services/functions/) es una solución de proceso sin servidor basado en eventos que le permite crear rápidamente código que pueda reaccionar a otras partes del sistema y de escala a petición.</span><span class="sxs-lookup"><span data-stu-id="de6aa-112">[Azure Functions](https://azure.microsoft.com/services/functions/) is an event-based serverless compute solution that allows you to quickly author code that can react to other parts of your system and scale based on demand.</span></span>

<span data-ttu-id="de6aa-113">Para más información acerca de estos servicios, consulte:</span><span class="sxs-lookup"><span data-stu-id="de6aa-113">To learn more about these services, see:</span></span>
- <span data-ttu-id="de6aa-114">[PowerApps Guided Learning](https://powerapps.microsoft.com/guided-learning/learning-introducing-powerapps/) (Aprendizaje guiado de PowerApps)</span><span class="sxs-lookup"><span data-stu-id="de6aa-114">[PowerApps Guided Learning](https://powerapps.microsoft.com/guided-learning/learning-introducing-powerapps/)</span></span> 
- [<span data-ttu-id="de6aa-115">Aprendizaje guiado de Microsoft Flow</span><span class="sxs-lookup"><span data-stu-id="de6aa-115">Microsoft Flow Guided Learning</span></span>](https://flow.microsoft.com/guided-learning/learning-introducing-flow/)
- [<span data-ttu-id="de6aa-116">¿Qué es App Service?</span><span class="sxs-lookup"><span data-stu-id="de6aa-116">What is App Service?</span></span>](https://docs.microsoft.com/azure/app-service/app-service-value-prop-what-is)
- [<span data-ttu-id="de6aa-117">Qué es Azure Functions</span><span class="sxs-lookup"><span data-stu-id="de6aa-117">What is Azure Functions</span></span>](https://docs.microsoft.com/azure/azure-functions/functions-overview)

## <a name="sharing-an-api-definition"></a><span data-ttu-id="de6aa-118">Uso compartido de una definición de API</span><span class="sxs-lookup"><span data-stu-id="de6aa-118">Sharing an API definition</span></span>

<span data-ttu-id="de6aa-119">Las API a menudo se describen mediante un [documento de Open API](https://www.openapis.org/) (en ocasiones denominado documento de "Swagger").</span><span class="sxs-lookup"><span data-stu-id="de6aa-119">APIs are often described using an [OpenAPI document](https://www.openapis.org/) (sometimes referred to as a "Swagger" document).</span></span> <span data-ttu-id="de6aa-120">Contiene toda la información sobre qué operaciones están disponibles y cómo se deben estructurar los datos.</span><span class="sxs-lookup"><span data-stu-id="de6aa-120">This contains all of the information about what operations are available and how the data should be structured.</span></span> <span data-ttu-id="de6aa-121">PowerApps y Microsoft Flow pueden crear conectores personalizados para cualquier documento de Open API 2.0.</span><span class="sxs-lookup"><span data-stu-id="de6aa-121">PowerApps and Microsoft Flow can create custom connectors for any OpenAPI 2.0 document.</span></span> <span data-ttu-id="de6aa-122">Una vez creado un conector personalizado, puede utilizarse exactamente de la misma forma que uno de los conectores integrados y se puede integrar rápidamente en una aplicación.</span><span class="sxs-lookup"><span data-stu-id="de6aa-122">Once a custom connector is created, it can be used in exactly the same way as one of the built-in connectors and can quickly be integrated into an application.</span></span>

<span data-ttu-id="de6aa-123">Azure App Service y Azure Functions tienen [compatibilidad integrada](https://docs.microsoft.com/azure/app-service-api/app-service-api-metadata) para crear, hospedar y administrar un documento de Open API.</span><span class="sxs-lookup"><span data-stu-id="de6aa-123">Azure App Service and Azure Functions have [built-in support](https://docs.microsoft.com/azure/app-service-api/app-service-api-metadata) for creating, hosting, and managing an OpenAPI document.</span></span> <span data-ttu-id="de6aa-124">Para crear un conector personalizado para una aplicación web, móvil, una API o una aplicación de función, es necesario proporcionar una copia de la definición a PowerApps y Flow.</span><span class="sxs-lookup"><span data-stu-id="de6aa-124">In order to create a custom connector for a web, mobile, API, or function app, PowerApps and Flow need to be given a copy of the definition.</span></span>

> [!NOTE]
> <span data-ttu-id="de6aa-125">Como se está usando una copia de la definición de la API, PowerApps y Microsoft Flow no conocerán inmediatamente las actualizaciones o los cambios de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="de6aa-125">Because a copy of the API definition is being used, PowerApps and Microsoft Flow will not immediately know about updates or breaking changes to the application.</span></span> <span data-ttu-id="de6aa-126">Si está disponible una nueva versión de la API, se deben repetir estos pasos para la nueva versión.</span><span class="sxs-lookup"><span data-stu-id="de6aa-126">If a new version of the API is made available, these steps should be repeated for the new version.</span></span> 

<span data-ttu-id="de6aa-127">Para proporcionar a PowerApps y Microsoft Flow la definición de la API hospedada para la aplicación, siga estos pasos:</span><span class="sxs-lookup"><span data-stu-id="de6aa-127">To provide PowerApps and Microsoft Flow with the hosted API definition for your app, follow these steps:</span></span>

1. <span data-ttu-id="de6aa-128">Abra [Azure Portal](https://portal.azure.com) y vaya a la aplicación de App Service o Azure Functions.</span><span class="sxs-lookup"><span data-stu-id="de6aa-128">Open the [Azure Portal](https://portal.azure.com) and navigate to your App Service or Azure Functions application.</span></span>

    <span data-ttu-id="de6aa-129">Si usa Azure App Service, seleccione **Definición de la API** de la lista de valores.</span><span class="sxs-lookup"><span data-stu-id="de6aa-129">If using Azure App Service, select **API definition** from the settings list.</span></span> 
    
    <span data-ttu-id="de6aa-130">Si usa Azure Functions, seleccione la aplicación de función y después elija **Características de la plataforma** y **Definición de la API**.</span><span class="sxs-lookup"><span data-stu-id="de6aa-130">If using Azure Functions, select your function app, and then choose **Platform features**, and then **API definition**.</span></span> <span data-ttu-id="de6aa-131">En su lugar, también puede abrir la pestaña **Definición de API (vista previa)**.</span><span class="sxs-lookup"><span data-stu-id="de6aa-131">You could also choose to open the **API definition (preview)** tab instead.</span></span>

2. <span data-ttu-id="de6aa-132">Si se ha proporcionado una definición de API, verá un botón **Export to PowerApps + Microsoft Flow** (Exportar a PowerApps + Microsoft Flow).</span><span class="sxs-lookup"><span data-stu-id="de6aa-132">If an API definition has been provided, you will see an **Export to PowerApps + Microsoft Flow** button.</span></span> <span data-ttu-id="de6aa-133">Haga clic en este botón para iniciar la exportación.</span><span class="sxs-lookup"><span data-stu-id="de6aa-133">Click this button to begin the export process.</span></span>

3. <span data-ttu-id="de6aa-134">Seleccione el **Modo de exportación**.</span><span class="sxs-lookup"><span data-stu-id="de6aa-134">Select the **Export mode**.</span></span> <span data-ttu-id="de6aa-135">Esto determina los pasos que debe seguir para crear un conector.</span><span class="sxs-lookup"><span data-stu-id="de6aa-135">This determines the steps you will need to follow to create a connector.</span></span> <span data-ttu-id="de6aa-136">App Service ofrece dos opciones para proporcionar a PowerApps y Microsoft Flow la definición de la API:</span><span class="sxs-lookup"><span data-stu-id="de6aa-136">App Service offers two options for providing PowerApps and Microsoft Flow with your API definition:</span></span>

    <span data-ttu-id="de6aa-137">**Rápida** permite crear el conector personalizado desde dentro Azure Portal.</span><span class="sxs-lookup"><span data-stu-id="de6aa-137">**Express** lets you create the custom connector from within the Azure portal.</span></span> <span data-ttu-id="de6aa-138">Requiere que el usuario registrado actualmente tenga permiso para crear conectores en el entorno de destino.</span><span class="sxs-lookup"><span data-stu-id="de6aa-138">It requires that the curent logged-in user has permission to create connectors in the target environment.</span></span> <span data-ttu-id="de6aa-139">Se trata del enfoque recomendado si se puede cumplir dicho requisito.</span><span class="sxs-lookup"><span data-stu-id="de6aa-139">This is the recommended approach if that requirement can be met.</span></span> <span data-ttu-id="de6aa-140">Si usa este modo, siga las instrucciones de [Exportación rápida](#express) especificadas más abajo.</span><span class="sxs-lookup"><span data-stu-id="de6aa-140">If using this mode, follow the [Express export](#express) instructions below.</span></span>

    <span data-ttu-id="de6aa-141">**Manual** permite exportar una copia de la definición de la API que puede importarse mediante los portales de PowerApps o Microsoft Flow.</span><span class="sxs-lookup"><span data-stu-id="de6aa-141">**Manual** lets you export a copy of the API definiton which can be imported using the PowerApps or Microsoft Flow portals.</span></span> <span data-ttu-id="de6aa-142">Este es el enfoque recomendado si el usuario de Azure y el usuario con permiso para crear conectores son personas diferentes o si el conector debe crearse en otro inquilino.</span><span class="sxs-lookup"><span data-stu-id="de6aa-142">This is the recommended approach if the Azure user and the user with permission to create connectors are different people or if the connector needs to be created in another tenant.</span></span> <span data-ttu-id="de6aa-143">Si usa este modo, siga las instrucciones de [Exportación e importación manual](#manual) especificadas más abajo.</span><span class="sxs-lookup"><span data-stu-id="de6aa-143">If using this mode, follow the [Manual export and import](#manual) instructions below.</span></span>

<a name="express"></a>
## <a name="express-export"></a><span data-ttu-id="de6aa-144">Exportación rápida</span><span class="sxs-lookup"><span data-stu-id="de6aa-144">Express export</span></span>

<span data-ttu-id="de6aa-145">En esta sección, creará un conector personalizado desde dentro Azure Portal.</span><span class="sxs-lookup"><span data-stu-id="de6aa-145">In this section, you will create a new custom connector from within the Azure portal.</span></span> <span data-ttu-id="de6aa-146">Debe estar registrado en el inquilino en que desea realizar la exportación y, además, debe disponer de permisos para crear un conector personalizado en el entorno de destino.</span><span class="sxs-lookup"><span data-stu-id="de6aa-146">You must be logged into the tenant to which you wish to export, and you must have permission to create a custom connector in the target environment.</span></span>

1. <span data-ttu-id="de6aa-147">Seleccione el entorno en que desea crear el conector.</span><span class="sxs-lookup"><span data-stu-id="de6aa-147">Select the environment in which you would like to create the connector.</span></span> <span data-ttu-id="de6aa-148">Después, proporcione un nombre para el conector personalizado.</span><span class="sxs-lookup"><span data-stu-id="de6aa-148">Then provide a name for your custom connector.</span></span>

2. <span data-ttu-id="de6aa-149">Si la definición de la API incluye cualquier definición de seguridad, estas se indicarán en el paso 2.</span><span class="sxs-lookup"><span data-stu-id="de6aa-149">If your API definition includes any security definitions, these will be called out in step #2.</span></span> <span data-ttu-id="de6aa-150">Si es necesario, proporcione los detalles de configuración de seguridad requeridos para conceder a los usuarios acceso a la API.</span><span class="sxs-lookup"><span data-stu-id="de6aa-150">If required, provide the security configuration details needed to grant users access to your API.</span></span> <span data-ttu-id="de6aa-151">Para más información, vea el apartado [Autenticación](#auth) más abajo.</span><span class="sxs-lookup"><span data-stu-id="de6aa-151">For more information, see [Authentication](#auth) below.</span></span> 

3. <span data-ttu-id="de6aa-152">Haga clic en **Aceptar** para crear el conector personalizado.</span><span class="sxs-lookup"><span data-stu-id="de6aa-152">Click **OK** to create your custom connector.</span></span>


<a name="manual"></a>
## <a name="manual-export-and-import"></a><span data-ttu-id="de6aa-153">Exportación e importación manual</span><span class="sxs-lookup"><span data-stu-id="de6aa-153">Manual export and import</span></span>

<span data-ttu-id="de6aa-154">Para crear un conector personalizado para una aplicación web, móvil, de API o de función, se necesitan dos pasos:</span><span class="sxs-lookup"><span data-stu-id="de6aa-154">In order to create a custom connector for a web, mobile, API, or function app, two steps will be needed:</span></span>

1. [<span data-ttu-id="de6aa-155">Recuperación de la definición de la API de App Service o Azure Functions</span><span class="sxs-lookup"><span data-stu-id="de6aa-155">Retrieving the API definition from App Service or Azure Functions</span></span>](#export)
2. [<span data-ttu-id="de6aa-156">Importación de la definición de la API en PowerApps y Microsoft Flow</span><span class="sxs-lookup"><span data-stu-id="de6aa-156">Importing the API definition into PowerApps and Microsoft Flow</span></span>](#import)

<span data-ttu-id="de6aa-157">Es posible que estos dos pasos deban llevarlos a cabo personas distintas de una organización, ya que un usuario concreto puede no tener permiso para realizar ambas acciones.</span><span class="sxs-lookup"><span data-stu-id="de6aa-157">It is possible that these two steps will need to be carried out by separate individuals within an organization, as a given user may not have permission to perform both actions.</span></span> <span data-ttu-id="de6aa-158">En este caso, un desarrollador que tenga acceso de colaborador a la aplicación de App Service o de Azure Functions deberá obtener la definición de la API (un único archivo JSON) o un vínculo a esta.</span><span class="sxs-lookup"><span data-stu-id="de6aa-158">In this case, a developer who has contributor access to the App Service or Azure Functions application will need to obtain the API definition (a single JSON file) or a link to it.</span></span> <span data-ttu-id="de6aa-159">A continuación, deberá proporcionar esa definición a un propietario de PowerApps o Microsoft Flow.</span><span class="sxs-lookup"><span data-stu-id="de6aa-159">They will then need to provide that definition to a PowerApps or Microsoft Flow owner.</span></span> <span data-ttu-id="de6aa-160">Ese propietario puede utilizar los metadatos para crear el conector personalizado.</span><span class="sxs-lookup"><span data-stu-id="de6aa-160">That owner can use the metadata to create the custom connector.</span></span>

<a name="export"></a>
### <a name="retrieving-the-api-definition-from-app-service-or-azure-functions"></a><span data-ttu-id="de6aa-161">Recuperación de la definición de la API de App Service o Azure Functions</span><span class="sxs-lookup"><span data-stu-id="de6aa-161">Retrieving the API definition from App Service or Azure Functions</span></span>

<span data-ttu-id="de6aa-162">En esta sección, exportará la definición de la API para la API de App Service, que se usará después en los portales de PowerApps o Microsoft Flow.</span><span class="sxs-lookup"><span data-stu-id="de6aa-162">In this section, you will export the API definition for your App Service API, to be used later in the PowerApps or Microsoft Flow portal.</span></span>

1. <span data-ttu-id="de6aa-163">Puede elegir **Download the API definition** (Descargar la definición de la API) u **Obtener un vínculo**.</span><span class="sxs-lookup"><span data-stu-id="de6aa-163">You can choose to either **Download the API definition** or **Get a link**.</span></span> <span data-ttu-id="de6aa-164">El resultado se proporcionará en la sección siguiente, independientemente de su elección.</span><span class="sxs-lookup"><span data-stu-id="de6aa-164">Whichever you choose, the result will be provided in the next section.</span></span> <span data-ttu-id="de6aa-165">Seleccione una de estas opciones y siga las instrucciones.</span><span class="sxs-lookup"><span data-stu-id="de6aa-165">Select one of these options and follow the instructions.</span></span>
 
2. <span data-ttu-id="de6aa-166">Si la definición de la API incluye cualquier definición de seguridad, estas se indicarán en el paso 2.</span><span class="sxs-lookup"><span data-stu-id="de6aa-166">If your API definition includes any security definitions, these will be called out in step #2.</span></span> <span data-ttu-id="de6aa-167">Durante la importación, PowerApps y Microsoft Flow las detectarán y solicitarán información de seguridad.</span><span class="sxs-lookup"><span data-stu-id="de6aa-167">During import, PowerApps and Microsoft Flow will detect these and will prompt for security information.</span></span> <span data-ttu-id="de6aa-168">Recopile las credenciales relacionadas con cada definición para su uso en la sección siguiente.</span><span class="sxs-lookup"><span data-stu-id="de6aa-168">Gather the credentials related to each definition for use in the next section.</span></span> <span data-ttu-id="de6aa-169">Para más información, vea el apartado [Autenticación](#auth) más abajo.</span><span class="sxs-lookup"><span data-stu-id="de6aa-169">For more information, see [Authentication](#auth) below.</span></span> 

<a name="import"></a>
### <a name="importing-the-api-definition-into-powerapps-and-microsoft-flow"></a><span data-ttu-id="de6aa-170">Importación de la definición de la API en PowerApps y Microsoft Flow</span><span class="sxs-lookup"><span data-stu-id="de6aa-170">Importing the API definition into PowerApps and Microsoft Flow</span></span>

<span data-ttu-id="de6aa-171">En esta sección, creará un conector personalizado en PowerApps y Microsoft Flow mediante la definición de API obtenida anteriormente.</span><span class="sxs-lookup"><span data-stu-id="de6aa-171">In this section, you will create a custom connector in PowerApps and Microsoft Flow using the API definition obtained earlier.</span></span> <span data-ttu-id="de6aa-172">Los conectores personalizados se comparten entre los dos servicios, por lo que solo tiene que importar la definición una vez.</span><span class="sxs-lookup"><span data-stu-id="de6aa-172">Custom connectors are shared between the two services, so you only need to import the definition once.</span></span> <span data-ttu-id="de6aa-173">Para más información sobre los conectores personalizados, consulte [Registrar y usar conectores personalizados en PowerApps] y [Registro y uso de conectores personalizados en Microsoft Flow].</span><span class="sxs-lookup"><span data-stu-id="de6aa-173">For more information on custom connectors, see [Register and use custom connectors in PowerApps] and [Register and use custom connectors in Microsoft Flow].</span></span>

1. <span data-ttu-id="de6aa-174">Abra el [portal web de Powerapps](https://web.powerapps.com) o el de [Microsoft Flow](https://flow.microsoft.com/) e inicie sesión.</span><span class="sxs-lookup"><span data-stu-id="de6aa-174">Open the [Powerapps web portal](https://web.powerapps.com) or the [Microsoft Flow web portal](https://flow.microsoft.com/), and sign in.</span></span> 

2. <span data-ttu-id="de6aa-175">Haga clic en el botón **Configuración** situado en la esquina superior derecha de la página (un icono de engranaje) y seleccione **Custom connectors** (Conectores personalizados).</span><span class="sxs-lookup"><span data-stu-id="de6aa-175">Click the **Settings** button (the gear icon) at the upper right of the page and select **Custom connectors**.</span></span> 

3. <span data-ttu-id="de6aa-176">Haga clic en **Create custom connector** (Crear conector personalizado).</span><span class="sxs-lookup"><span data-stu-id="de6aa-176">Click **Create custom connector**.</span></span>

4. <span data-ttu-id="de6aa-177">En la pestaña **General**, proporcione un nombre para la API y cargue la definición de OpenAPI o pegue la dirección URL de metadatos.</span><span class="sxs-lookup"><span data-stu-id="de6aa-177">On the **General** tab, provide a name for your API, and then upload the OpenAPI definition or paste in the metadata URL.</span></span> <span data-ttu-id="de6aa-178">Haga clic en **Continue**.</span><span class="sxs-lookup"><span data-stu-id="de6aa-178">Click **Continue**.</span></span>

4. <span data-ttu-id="de6aa-179">En la pestaña **Seguridad**, si se le pide que proporcione detalles de autenticación, escriba los valores obtenidos en la sección anterior.</span><span class="sxs-lookup"><span data-stu-id="de6aa-179">On the **Security** tab, if you are prompted to provide authentication details, enter the values obtained in the previous section.</span></span> <span data-ttu-id="de6aa-180">Si no, siga con el paso siguiente.</span><span class="sxs-lookup"><span data-stu-id="de6aa-180">If not, proceed to the next step.</span></span>

5. <span data-ttu-id="de6aa-181">En la pestaña **Definiciones**, todas las operaciones definidas en el archivo de OpenAPI se rellenan automáticamente.</span><span class="sxs-lookup"><span data-stu-id="de6aa-181">On the **Definitions** tab, all the operations defined in your OpenAPI file are auto-populated.</span></span> <span data-ttu-id="de6aa-182">Si se han definido todas las operaciones necesarias, puede ir al paso siguiente.</span><span class="sxs-lookup"><span data-stu-id="de6aa-182">If all your required operations are defined, you can go to the next step.</span></span> <span data-ttu-id="de6aa-183">Si no es así, puede agregar y modificar las operaciones aquí.</span><span class="sxs-lookup"><span data-stu-id="de6aa-183">If not, you can add and modify operations here.</span></span>

6. <span data-ttu-id="de6aa-184">Haga clic en **Crear conector**.</span><span class="sxs-lookup"><span data-stu-id="de6aa-184">Click **Create connector**.</span></span> <span data-ttu-id="de6aa-185">Si desea probar las llamadas de API, vaya al paso siguiente.</span><span class="sxs-lookup"><span data-stu-id="de6aa-185">If you want to test API calls, go to the next step.</span></span>

7. <span data-ttu-id="de6aa-186">En la pestaña **Probar**, cree una conexión, seleccione una operación para probarla y escriba los datos necesarios de la operación.</span><span class="sxs-lookup"><span data-stu-id="de6aa-186">On the **Test** tab, create a connection, select an operation to test, and enter any data required by the operation.</span></span>

8. <span data-ttu-id="de6aa-187">Haga clic en **Operación de prueba**.</span><span class="sxs-lookup"><span data-stu-id="de6aa-187">Click **Test operation**.</span></span>


<a name="auth"></a>
## <a name="authentication"></a><span data-ttu-id="de6aa-188">Autenticación</span><span class="sxs-lookup"><span data-stu-id="de6aa-188">Authentication</span></span>

<span data-ttu-id="de6aa-189">PowerApps y Microsoft Flow admiten de forma nativa una colección de proveedores de identidades que se puede usar para que los usuarios inicien sesión en el conector personalizado.</span><span class="sxs-lookup"><span data-stu-id="de6aa-189">PowerApps and Microsoft Flow natively support a collection of identity providers which can be used to log in users of your custom connector.</span></span> <span data-ttu-id="de6aa-190">Si la API requiere autenticación, asegúrese de que se captura como _definición de seguridad_ en el documento Open API.</span><span class="sxs-lookup"><span data-stu-id="de6aa-190">If your API requires authentication, ensure that it is captured as a _security definition_ in your OpenAPI document.</span></span> <span data-ttu-id="de6aa-191">Durante la exportación, deberá proporcionar los valores de configuración que permiten a PowerApps y Microsoft Flow realizar las siguientes acciones de inicio de sesión.</span><span class="sxs-lookup"><span data-stu-id="de6aa-191">During export, you will need to provide configuration values that allow PowerApps an Microsoft Flow to perform login actions.</span></span>

<span data-ttu-id="de6aa-192">En esta sección se describen los tipos de autenticación admitidos en el flujo rápido: clave de API, Azure Active Directory y OAuth 2.0 genérico.</span><span class="sxs-lookup"><span data-stu-id="de6aa-192">This section covers the authentication types which are supported by the express flow: API key, Azure Active Directory, and Generic OAuth 2.0.</span></span> <span data-ttu-id="de6aa-193">Para acceder a una lista completa de los proveedores y las credenciales que cada uno requiere, vea [Registrar y usar conectores personalizados en PowerApps] y [Registro y uso de conectores personalizados en Microsoft Flow].</span><span class="sxs-lookup"><span data-stu-id="de6aa-193">For a complete list of providers and the credentials each requires, see [Register and use custom connectors in PowerApps] and [Register and use custom connectors in Microsoft Flow].</span></span>

### <a name="api-key"></a><span data-ttu-id="de6aa-194">Clave de API</span><span class="sxs-lookup"><span data-stu-id="de6aa-194">API key</span></span>
<span data-ttu-id="de6aa-195">Cuando se usa este esquema de seguridad, a los usuarios de su conector se les pedirá que proporcionen la clave cuando creen una conexión.</span><span class="sxs-lookup"><span data-stu-id="de6aa-195">When this security scheme is used, the users of your connector will be prompted to provide the key when they create a connection.</span></span> <span data-ttu-id="de6aa-196">Puede proporcionar un nombre para la clave de API para ayudarlos a saber qué clave necesitan.</span><span class="sxs-lookup"><span data-stu-id="de6aa-196">You can provide an API key name to help them know which key is needed.</span></span> <span data-ttu-id="de6aa-197">En Azure Functions, normalmente será una de las claves de host, que abarcan varias funciones en una aplicación de función.</span><span class="sxs-lookup"><span data-stu-id="de6aa-197">For Azure Functions, this will typically be one of the host keys, covering several functions within the function app.</span></span>

### <a name="azure-active-directory"></a><span data-ttu-id="de6aa-198">Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="de6aa-198">Azure Active Directory</span></span>
<span data-ttu-id="de6aa-199">Al configurar un conector personalizado que requiere el inicio de sesión de AAD, se necesitan dos registros de aplicaciones de AAD: uno para modelar la API de back-end y otro para modelar el conector en PowerApps y Flow.</span><span class="sxs-lookup"><span data-stu-id="de6aa-199">When configuring a custom connector that requires AAD login, two AAD application registrations are required: one to model the backend API, and one to model the connector in PowerApps and Flow.</span></span>

<span data-ttu-id="de6aa-200">La API debe configurarse para que funcione con el primer registro, y esto ya se habrá tenido en cuenta si usó la característica [Autenticación/Autorización de App Service](https://docs.microsoft.com/azure/app-service-mobile/app-service-mobile-how-to-configure-active-directory-authentication).</span><span class="sxs-lookup"><span data-stu-id="de6aa-200">Your API should be configured to work with the first registration, and this will already be taken care of if you used the [App Service Authentication/Authorization](https://docs.microsoft.com/azure/app-service-mobile/app-service-mobile-how-to-configure-active-directory-authentication) feature.</span></span>

<span data-ttu-id="de6aa-201">Tendrá que crear manualmente el segundo registro para el conector mediante los pasos descritos en [Agregar una aplicación de AAD](https://docs.microsoft.com/azure/active-directory/develop/active-directory-integrating-applications#adding-an-application).</span><span class="sxs-lookup"><span data-stu-id="de6aa-201">You will have to manually create the second registration for the connector, using the steps covered in [Adding an AAD application](https://docs.microsoft.com/azure/active-directory/develop/active-directory-integrating-applications#adding-an-application).</span></span> <span data-ttu-id="de6aa-202">El registro necesita tener acceso delegado a la API y una dirección URL de respuesta de `https://msmanaged-na.consent.azure-apim.net/redirect`.</span><span class="sxs-lookup"><span data-stu-id="de6aa-202">The registration needs to have delegated access to your API and a reply URL of `https://msmanaged-na.consent.azure-apim.net/redirect`.</span></span> <span data-ttu-id="de6aa-203">Consulte [este ejemplo](
https://powerapps.microsoft.com/tutorials/customapi-azure-resource-manager-tutorial/) para información más detallada y sustituya la API por Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="de6aa-203">Please see [this example](
https://powerapps.microsoft.com/tutorials/customapi-azure-resource-manager-tutorial/) for more detail, substituting your API for the Azure Resource Manager.</span></span>

<span data-ttu-id="de6aa-204">Se requieren los siguientes valores de configuración:</span><span class="sxs-lookup"><span data-stu-id="de6aa-204">The following configuration values are required:</span></span>
- <span data-ttu-id="de6aa-205">**Id. de cliente**: el identificador de cliente del registro de AAD del conector</span><span class="sxs-lookup"><span data-stu-id="de6aa-205">**Client ID** - the client ID of your connector AAD registration</span></span>
- <span data-ttu-id="de6aa-206">**Secreto de cliente**: el secreto de cliente del registro de AAD del conector</span><span class="sxs-lookup"><span data-stu-id="de6aa-206">**Client secret** - the client secret of your connector AAD registration</span></span>
- <span data-ttu-id="de6aa-207">**Dirección URL de inicio de sesión**: la dirección URL base para AAD.</span><span class="sxs-lookup"><span data-stu-id="de6aa-207">**Login URL** - the base URL for AAD.</span></span> <span data-ttu-id="de6aa-208">En Azure público, normalmente será `https://login.windows.net`.</span><span class="sxs-lookup"><span data-stu-id="de6aa-208">In public Azure, this will typically be `https://login.windows.net`.</span></span>
- <span data-ttu-id="de6aa-209">**Identificador de inquilino**: el identificador del inquilino que se usará para el inicio de sesión.</span><span class="sxs-lookup"><span data-stu-id="de6aa-209">**Tenant ID** - the ID of the tenant to be used for the login.</span></span> <span data-ttu-id="de6aa-210">Debe ser "common" o el identificador del inquilino en el que se va a crear el conector.</span><span class="sxs-lookup"><span data-stu-id="de6aa-210">This should be "common" or the ID of the tenant in which the connector is being created.</span></span>
- <span data-ttu-id="de6aa-211">**URL de recursos**: la dirección URL del recurso del registro de AAD de back-end de la API</span><span class="sxs-lookup"><span data-stu-id="de6aa-211">**Resource URL** - the resource URL of your API backend AAD registration</span></span>

> [!IMPORTANT]
> <span data-ttu-id="de6aa-212">Si otra persona va a importar la definición de la API en PowerApps y Microsoft Flow como parte del flujo manual, tendrá que proporcionarle el identificador y el secreto de cliente **del registro del conector**, así como la dirección URL de recursos de la API.</span><span class="sxs-lookup"><span data-stu-id="de6aa-212">If another individual will be importing the API definition into PowerApps and Microsoft Flow as part of the manual flow, you will need to provide them with the client ID and client secret **of the connector registration**, as well as the resource URL of your API.</span></span> <span data-ttu-id="de6aa-213">Asegúrese de que estos secretos se administran de forma segura.</span><span class="sxs-lookup"><span data-stu-id="de6aa-213">Make sure that these secrets are managed securely.</span></span> <span data-ttu-id="de6aa-214">**No comparta las credenciales de seguridad de la propia API.**</span><span class="sxs-lookup"><span data-stu-id="de6aa-214">**Do not share the security credentials of the API itself.**</span></span>

### <a name="generic-oauth-20"></a><span data-ttu-id="de6aa-215">OAuth 2.0 genérico</span><span class="sxs-lookup"><span data-stu-id="de6aa-215">Generic OAuth 2.0</span></span>
<span data-ttu-id="de6aa-216">La compatibilidad de OAuth 2.0 genérico permite realizar la integración con cualquier proveedor de OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="de6aa-216">The generic OAuth 2.0 support allows you to integrate with any OAuth 2.0 provider.</span></span> <span data-ttu-id="de6aa-217">Esto permite integrar cualquier proveedor personalizado que no se admite de forma nativa.</span><span class="sxs-lookup"><span data-stu-id="de6aa-217">This allows you to bring in any custom provider which is not natively supported.</span></span>

<span data-ttu-id="de6aa-218">Se requieren los siguientes valores de configuración:</span><span class="sxs-lookup"><span data-stu-id="de6aa-218">The following configuration values are required:</span></span>
- <span data-ttu-id="de6aa-219">**Id. de cliente**: el identificador de cliente de OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="de6aa-219">**Client ID** - the OAuth 2.0 client ID</span></span>
- <span data-ttu-id="de6aa-220">**Secreto de cliente**: el secreto de cliente de OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="de6aa-220">**Client secret** - the OAuth 2.0 client secret</span></span>
- <span data-ttu-id="de6aa-221">**Dirección URL de autorización**: la dirección URL de autorización de OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="de6aa-221">**Authorization URL** - the OAuth 2.0 authorization URL</span></span>
- <span data-ttu-id="de6aa-222">**Dirección URL de token**: la dirección URL del token de OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="de6aa-222">**Token URL** - the OAuth 2.0 token URL</span></span>
- <span data-ttu-id="de6aa-223">**Dirección URL de actualización**: la dirección URL de actualización de OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="de6aa-223">**Refresh URL** - the OAuth 2.0 refresh URL</span></span>



<span data-ttu-id="de6aa-224">[Registrar y usar conectores personalizados en PowerApps]: https://powerapps.microsoft.com/tutorials/register-custom-api/</span><span class="sxs-lookup"><span data-stu-id="de6aa-224">[Register and use custom connectors in PowerApps]: https://powerapps.microsoft.com/tutorials/register-custom-api/</span></span>
<span data-ttu-id="de6aa-225">[Registro y uso de conectores personalizados en Microsoft Flow]: https://flow.microsoft.com/documentation/register-custom-api/</span><span class="sxs-lookup"><span data-stu-id="de6aa-225">[Register and use custom connectors in Microsoft Flow]: https://flow.microsoft.com/documentation/register-custom-api/</span></span>
