---
title: Hybrid Connections de Azure App Service | Microsoft Docs
description: "Creación y uso de Hybrid Connections para acceder a recursos de redes distintas"
services: app-service
documentationcenter: 
author: ccompy
manager: stefsch
editor: 
ms.assetid: 66774bde-13f5-45d0-9a70-4e9536a4f619
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 04/22/2017
ms.author: ccompy
ms.openlocfilehash: fef9e7b280387934cb093f51b4c8aa134a3b87e7
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 07/11/2017
---
# <a name="azure-app-service-hybrid-connections"></a><span data-ttu-id="602ca-103">Hybrid Connections de Azure App Service</span><span class="sxs-lookup"><span data-stu-id="602ca-103">Azure App Service Hybrid Connections</span></span> #

## <a name="overview"></a><span data-ttu-id="602ca-104">Información general</span><span class="sxs-lookup"><span data-stu-id="602ca-104">Overview</span></span> ##

<span data-ttu-id="602ca-105">Hybrid Connections es tanto un servicio de Azure como una característica de Azure App Service.</span><span class="sxs-lookup"><span data-stu-id="602ca-105">Hybrid Connections is both a service in Azure as well as a feature in the Azure App Service.</span></span>  <span data-ttu-id="602ca-106">Como servicio tiene un uso y unas funcionalidades que van más allá de las que Azure App Service puede sacar provecho.</span><span class="sxs-lookup"><span data-stu-id="602ca-106">As a service it has use and capabilities beyond those that are leveraged in the Azure App Service.</span></span>  <span data-ttu-id="602ca-107">Para más información acerca de Hybrid Connections y su uso fuera de Azure App Service puede comenzar aquí, [Protocolo de conexiones híbridas de Azure Relay][HCService]</span><span class="sxs-lookup"><span data-stu-id="602ca-107">To learn more about Hybrid Connections and their usage outside of the Azure App Service you can start here, [Azure Relay Hybrid Connections][HCService]</span></span>

<span data-ttu-id="602ca-108">En Azure App Service, las conexiones híbridas se pueden utilizar para acceder a recursos de aplicaciones en otras redes.</span><span class="sxs-lookup"><span data-stu-id="602ca-108">Within the Azure App Service, hybrid connections can be used to access application resources in other networks.</span></span> <span data-ttu-id="602ca-109">Proporciona acceso DESDE una aplicación A punto de conexión de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="602ca-109">It provides access FROM your app TO an application endpoint.</span></span>  <span data-ttu-id="602ca-110">No habilita una funcionalidad alternativa para acceder a la aplicación.</span><span class="sxs-lookup"><span data-stu-id="602ca-110">It does not enable an alternative capability to access your application.</span></span>  <span data-ttu-id="602ca-111">Dado que se utiliza en App Service, cada conexión híbrida se correlaciona con una combinación única de host y puerto TCP,</span><span class="sxs-lookup"><span data-stu-id="602ca-111">As used in the App Service, each hybrid connection correlates to a single TCP host and port combination.</span></span>  <span data-ttu-id="602ca-112">lo que significa que el punto de conexión de la conexión híbrida puede estar en cualquier sistema operativo y en cualquier aplicación, siempre que acceda a un puerto de escucha TCP.</span><span class="sxs-lookup"><span data-stu-id="602ca-112">This means that the hybrid connection endpoint can be on any operating system and any application provided you are hitting a TCP listening port.</span></span> <span data-ttu-id="602ca-113">Hybrid Connections no sabe lo que es el protocolo de aplicaciones sabe ni a qué accede.</span><span class="sxs-lookup"><span data-stu-id="602ca-113">Hybrid connections does not know or care what the application protocol is or what you are accessing.</span></span>  <span data-ttu-id="602ca-114">Simplemente ofrece acceso a la red.</span><span class="sxs-lookup"><span data-stu-id="602ca-114">It is simply providing network access.</span></span>  


## <a name="how-it-works"></a><span data-ttu-id="602ca-115">Cómo funciona</span><span class="sxs-lookup"><span data-stu-id="602ca-115">How it works</span></span> ##
<span data-ttu-id="602ca-116">La característica de conexiones híbridas consta de dos llamadas salientes a Service Bus Relay.</span><span class="sxs-lookup"><span data-stu-id="602ca-116">The hybrid connections feature consists of two outbound calls to Service Bus Relay.</span></span>  <span data-ttu-id="602ca-117">Hay una conexión desde una biblioteca del host en el que la aplicación se ejecuta en App Service y, después, hay una conexión desde Hybrid Connection Manager (HCM) a Service Bus Relay.</span><span class="sxs-lookup"><span data-stu-id="602ca-117">There is a connection from a library on the host where your app is running in the app service and then there is a connection from the Hybrid Connection Manager(HCM) to Service Bus relay.</span></span>  <span data-ttu-id="602ca-118">HCM es un servicio de retransmisión que se implementa en el hospedaje de la red</span><span class="sxs-lookup"><span data-stu-id="602ca-118">The HCM is a relay service that you deploy within the network hosting</span></span> 

<span data-ttu-id="602ca-119">A través de las dos conexiones unidas la aplicación tiene un túnel TCP a una combinación de host:puerto fija en el otro lado del HCM.</span><span class="sxs-lookup"><span data-stu-id="602ca-119">Through the two joined connections your app has a TCP tunnel to a fixed host:port combination on the other side of the HCM.</span></span>  <span data-ttu-id="602ca-120">La conexión usa TLS 1.2 para la seguridad y las claves SAS para la autenticación y autorización.</span><span class="sxs-lookup"><span data-stu-id="602ca-120">The connection uses TLS 1.2 for security and SAS keys for authentication/authorization.</span></span>    

![][1]

<span data-ttu-id="602ca-121">Cuando la aplicación realiza una solicitud DNS que coincide con un punto de conexión híbrida configurado, el tráfico TCP saliente se redirigirán por la conexión híbrida,</span><span class="sxs-lookup"><span data-stu-id="602ca-121">When your app makes a DNS request that matches a configure Hybrid Connection endpoint, then the outbound TCP traffic will be redirected down the hybrid connection.</span></span>  

> [!NOTE]
> <span data-ttu-id="602ca-122">lo que significa que debe intentar usar siempre un nombre DNS para la conexión híbrida.</span><span class="sxs-lookup"><span data-stu-id="602ca-122">This means that you should try to always use a DNS name for your Hybrid Connection.</span></span>  <span data-ttu-id="602ca-123">Cierto software cliente no lleva a cabo una búsqueda de DNS si el punto de conexión utiliza una dirección IP.</span><span class="sxs-lookup"><span data-stu-id="602ca-123">Some client software does not do a DNS lookup if the endpoint uses an IP address instead.</span></span>
>
>

<span data-ttu-id="602ca-124">Hay dos tipos de conexiones híbridas, las conexiones híbridas nuevas que se ofrecen como un servicio en Azure Relay y las antiguas conexiones híbridas de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="602ca-124">There are two types of hybrid connections, the new hybrid connections that are offered as a service under Azure Relay and the older BizTalk Hybrid Connections.</span></span>  <span data-ttu-id="602ca-125">En el portal, a las antiguas conexiones híbridas de BizTalk se les denomina conexiones híbridas clásicas.</span><span class="sxs-lookup"><span data-stu-id="602ca-125">The older BizTalk Hybrid Connections are referred to as Classic Hybrid Connections in the portal.</span></span>  <span data-ttu-id="602ca-126">En este mismo documento encontrará más información acerca de ellas.</span><span class="sxs-lookup"><span data-stu-id="602ca-126">There is more information later in this document about them.</span></span>

### <a name="app-service-hybrid-connection-benefits"></a><span data-ttu-id="602ca-127">Beneficios de usar las conexiones híbridas de App Service</span><span class="sxs-lookup"><span data-stu-id="602ca-127">App Service hybrid connection benefits</span></span> ###

<span data-ttu-id="602ca-128">El uso de la funcionalidad de conexiones híbridas reporta varios beneficios, entre los que se cuentan los siguientes</span><span class="sxs-lookup"><span data-stu-id="602ca-128">There are a number of benefits to the hybrid connections capability including</span></span>

- <span data-ttu-id="602ca-129">Las aplicaciones pueden acceder de forma segura a los servicios y sistemas locales.</span><span class="sxs-lookup"><span data-stu-id="602ca-129">Apps can securely access on premises systems and services securely</span></span>
- <span data-ttu-id="602ca-130">La característica no requiere ningún punto de conexión al que se pueda acceder a través de Internet.</span><span class="sxs-lookup"><span data-stu-id="602ca-130">the feature does not require an internet accessible endpoint</span></span>
- <span data-ttu-id="602ca-131">Se configura de forma rápida y sencilla.</span><span class="sxs-lookup"><span data-stu-id="602ca-131">it is quick and easy to set up</span></span>  
- <span data-ttu-id="602ca-132">Cada conexión híbrida coincide con una combinación de host: puerto única, lo que es un aspecto excelente de la seguridad.</span><span class="sxs-lookup"><span data-stu-id="602ca-132">each hybrid connection matches to a single host:port combination which is an excellent security aspect</span></span>
- <span data-ttu-id="602ca-133">Normalmente no requiere vulnerabilidades de seguridad en el firewall, ya que todas las conexiones salen a través de puertos web estándar.</span><span class="sxs-lookup"><span data-stu-id="602ca-133">it normally does not require firewall holes as the connections are all outbound over standard web ports</span></span>
- <span data-ttu-id="602ca-134">Dado que la característica está en el nivel de la red da igual el lenguaje que use la aplicación y la tecnología que emplee el punto de conexión.</span><span class="sxs-lookup"><span data-stu-id="602ca-134">because the feature is network level that also means that it is agnostic to the language used by your app and the technology used by the endpoint</span></span>
- <span data-ttu-id="602ca-135">Se puede utilizar para proporcionar acceso en varias redes desde una única aplicación.</span><span class="sxs-lookup"><span data-stu-id="602ca-135">it can be used to provide access in multiple networks from a single app</span></span> 

### <a name="things-you-cannot-do-with-hybrid-connections"></a><span data-ttu-id="602ca-136">Cosas que no se pueden hacer con las conexiones híbridas</span><span class="sxs-lookup"><span data-stu-id="602ca-136">Things you cannot do with Hybrid Connections</span></span> ###

<span data-ttu-id="602ca-137">Estas operaciones no se pueden realizar con las conexiones híbridas:</span><span class="sxs-lookup"><span data-stu-id="602ca-137">There are a few things you cannot do with hybrid connections and they include:</span></span>

- <span data-ttu-id="602ca-138">montar una unidad;</span><span class="sxs-lookup"><span data-stu-id="602ca-138">mounting a drive</span></span>
- <span data-ttu-id="602ca-139">usar UDP;</span><span class="sxs-lookup"><span data-stu-id="602ca-139">using UDP</span></span>
- <span data-ttu-id="602ca-140">acceder a servicios basados en TCP que usen puertos dinámicos, como el modo pasivo de FTP o el modo pasivo extendido;</span><span class="sxs-lookup"><span data-stu-id="602ca-140">accessing TCP based services that use dynamic ports such as FTP Passive Mode or Extended Passive Mode</span></span>
- <span data-ttu-id="602ca-141">proporcionar soporte para LDAP, ya que a veces requiere UDP;</span><span class="sxs-lookup"><span data-stu-id="602ca-141">LDAP support, as it sometimes requires UDP</span></span>
- <span data-ttu-id="602ca-142">proporcionar soporte para Active Directory</span><span class="sxs-lookup"><span data-stu-id="602ca-142">Active Directory support</span></span>

## <a name="adding-and-creating-a-hybrid-connection-in-your-app"></a><span data-ttu-id="602ca-143">Adición y creación de una conexión híbrida en una aplicación</span><span class="sxs-lookup"><span data-stu-id="602ca-143">Adding and Creating a Hybrid Connection in your App</span></span> ##

<span data-ttu-id="602ca-144">Las conexiones híbridas pueden crearse a través del portal de la aplicación o desde el portal del servicio Hybrid Connection.</span><span class="sxs-lookup"><span data-stu-id="602ca-144">Hybrid Connections can be created through the app portal or from the Hybrid Connection service portal.</span></span>  <span data-ttu-id="602ca-145">Se recomienda encarecidamente usar el portal de la aplicación para crear las conexiones híbridas que deseen usarse con la aplicación.</span><span class="sxs-lookup"><span data-stu-id="602ca-145">It is highly recommended that you use the app portal to create the Hybrid Connections you wish to use with your app.</span></span>  <span data-ttu-id="602ca-146">Para crear una conexión híbrida, vaya a [Azure Portal][portal] y entre en la interfaz de usuario de su aplicación.</span><span class="sxs-lookup"><span data-stu-id="602ca-146">To create a Hybrid Connection go to the [Azure portal][portal] and go into the UI for your app.</span></span>  <span data-ttu-id="602ca-147">Seleccione **Redes > Configure los extremos de la conexión híbrida**.</span><span class="sxs-lookup"><span data-stu-id="602ca-147">Select **Networking > Configure your hybrid connection endpoints**.</span></span>  <span data-ttu-id="602ca-148">Desde ahí se puede ver las conexiones híbridas que se configuran con la aplicación</span><span class="sxs-lookup"><span data-stu-id="602ca-148">From here you can see the Hybrid Connections that are configured with your app</span></span>  

![][2]

<span data-ttu-id="602ca-149">Para agregar una conexión híbrida nueva, haga clic en Agregar conexión híbrida.</span><span class="sxs-lookup"><span data-stu-id="602ca-149">To add a new Hybrid Connection, click Add Hybrid Connection.</span></span>  <span data-ttu-id="602ca-150">En la interfaz de usuario que se abre se enumeran las conexiones híbridas que ya se han creado.</span><span class="sxs-lookup"><span data-stu-id="602ca-150">The UI that opens up lists the Hybrid Connections that you have already created.</span></span>  <span data-ttu-id="602ca-151">Para agregar una o varias a la aplicación, haga clic en ellas y pulse **Agregar conexión híbrida seleccionada**.</span><span class="sxs-lookup"><span data-stu-id="602ca-151">To add one or more of them to your app, click on the ones you want and hit **Add selected hybrid connection**.</span></span>  

![][3]

<span data-ttu-id="602ca-152">Si desea crear una conexión híbrida nueva, haga clic en **Crear conexión híbrida nueva**.</span><span class="sxs-lookup"><span data-stu-id="602ca-152">If you want to create a new Hybrid Connection, click **Create new hybrid connection**.</span></span>  <span data-ttu-id="602ca-153">En el cuadro que aparece, especifique el:</span><span class="sxs-lookup"><span data-stu-id="602ca-153">From here you specify the:</span></span> 

- <span data-ttu-id="602ca-154">nombre del punto de conexión</span><span class="sxs-lookup"><span data-stu-id="602ca-154">endpoint name</span></span>
- <span data-ttu-id="602ca-155">nombre de host del punto de conexión</span><span class="sxs-lookup"><span data-stu-id="602ca-155">endpoint hostname</span></span>
- <span data-ttu-id="602ca-156">puerto del punto de conexión</span><span class="sxs-lookup"><span data-stu-id="602ca-156">endpoint port</span></span>
- <span data-ttu-id="602ca-157">espacio de nombres del bus de servicio que se desea usar</span><span class="sxs-lookup"><span data-stu-id="602ca-157">servicebus namespace you wish to use</span></span>

![][4]

<span data-ttu-id="602ca-158">Cada conexión híbrida está asociado a un espacio de nombres del bus de servicio y cada uno de estos espacios está en una región de Azure.</span><span class="sxs-lookup"><span data-stu-id="602ca-158">Every hybrid connection is tied to a service bus namespace and each service bus namespace is in an Azure region.</span></span>  <span data-ttu-id="602ca-159">Es importante probar y usar un espacio de nombres del bus de servicio que se encuentre en la misma región que la aplicación, con el fin de evitar una latencia de red excesiva.</span><span class="sxs-lookup"><span data-stu-id="602ca-159">It is important to try and use a service bus namespace in the same region as your app so as to avoid network induced latency.</span></span>

<span data-ttu-id="602ca-160">Si desea quitar una conexión híbrida de una aplicación, haga clic con el botón derecho en ella y seleccione **Desconectar**.</span><span class="sxs-lookup"><span data-stu-id="602ca-160">If you want to remove your hybrid connection from your app, right click on it and select **Disconnect**.</span></span>  

<span data-ttu-id="602ca-161">Una vez que una conexión híbrida se agrega a una aplicación web, puede ver los detalles solo debe hacer clic en ella.</span><span class="sxs-lookup"><span data-stu-id="602ca-161">Once a hybrid connection is added to your web app, you can see details on it by simply clicking on it.</span></span>  

![][5]

## <a name="hybrid-connections-and-app-service-plans"></a><span data-ttu-id="602ca-162">Conexiones híbridas y planes de App Service</span><span class="sxs-lookup"><span data-stu-id="602ca-162">Hybrid Connections and App Service Plans</span></span> ##

<span data-ttu-id="602ca-163">Las únicas conexiones híbridas que puede establecer ahora son las conexiones híbridas nuevas.</span><span class="sxs-lookup"><span data-stu-id="602ca-163">The only hybrid connections you can now make are the new hybrid connections.</span></span>  <span data-ttu-id="602ca-164">Solo están disponibles en las SKU de precios de nivel Básico, Estándar, Premium y Aislado.</span><span class="sxs-lookup"><span data-stu-id="602ca-164">They are only available in Basic, Standard, Premium and Isolated pricing SKUs.</span></span>  <span data-ttu-id="602ca-165">No hay límites asociados al plan de precios.</span><span class="sxs-lookup"><span data-stu-id="602ca-165">There are limits tied to the pricing plan.</span></span>  

| <span data-ttu-id="602ca-166">Plan de precios</span><span class="sxs-lookup"><span data-stu-id="602ca-166">Pricing Plan</span></span> | <span data-ttu-id="602ca-167">Número de conexiones híbridas se pueden usar en el plan</span><span class="sxs-lookup"><span data-stu-id="602ca-167">Number of hybrid connections usable in the plan</span></span> |
|----|----|
| <span data-ttu-id="602ca-168">Básico</span><span class="sxs-lookup"><span data-stu-id="602ca-168">Basic</span></span> | <span data-ttu-id="602ca-169">5</span><span class="sxs-lookup"><span data-stu-id="602ca-169">5</span></span> |
| <span data-ttu-id="602ca-170">Estándar</span><span class="sxs-lookup"><span data-stu-id="602ca-170">Standard</span></span> | <span data-ttu-id="602ca-171">25</span><span class="sxs-lookup"><span data-stu-id="602ca-171">25</span></span> |
| <span data-ttu-id="602ca-172">Premium</span><span class="sxs-lookup"><span data-stu-id="602ca-172">Premium</span></span> | <span data-ttu-id="602ca-173">200</span><span class="sxs-lookup"><span data-stu-id="602ca-173">200</span></span> |
| <span data-ttu-id="602ca-174">Aislado</span><span class="sxs-lookup"><span data-stu-id="602ca-174">Isolated</span></span> | <span data-ttu-id="602ca-175">200</span><span class="sxs-lookup"><span data-stu-id="602ca-175">200</span></span> |

<span data-ttu-id="602ca-176">Dado que existen restricciones en el plan de App Service también hay una interfaz de usuario en el plan que muestra el número de conexiones híbridas que se usan y las aplicaciones que lo hacen.</span><span class="sxs-lookup"><span data-stu-id="602ca-176">Since there are App Service Plan restrictions there is also UI in the App Service Plan that shows you how many hybrid connections are being used and by what apps.</span></span>  

![][6]

<span data-ttu-id="602ca-177">Igual que sucede con la vista de la aplicación, para ver los detalles de la conexión híbrida es preciso hacer clic en ella.</span><span class="sxs-lookup"><span data-stu-id="602ca-177">Just as with the app view, you can see details on your hybrid connection by clicking on it.</span></span>  <span data-ttu-id="602ca-178">En las propiedades que se muestran a continuación puede ver toda la información que tenía en la vista de aplicación, pero también puede ver el número de aplicaciones del mismo plan de App Service que usan esa conexión híbrida.</span><span class="sxs-lookup"><span data-stu-id="602ca-178">In the properties shown here you can see all the information you had at the app view but can also see how many other apps in the same App Service Plan are using that hybrid connection.</span></span>

![][7]

<span data-ttu-id="602ca-179">Aunque hay un límite en el número de puntos de conexión de las conexiones híbridas que se pueden usar en un plan de App Service, cada conexión híbrida se puede usar en cualquier número de aplicaciones de dicho plan.</span><span class="sxs-lookup"><span data-stu-id="602ca-179">While there is a limit on the number of hybrid connection endpoints that can be used in an App Service Plan, each hybrid connection used can be used across any number of apps in that App Service Plan.</span></span>  <span data-ttu-id="602ca-180">Es decir que si se tiene una conexión híbrida que se ha usado en cinco aplicaciones distintas de un plan de App Service, no deja de ser una sola conexión híbrida.</span><span class="sxs-lookup"><span data-stu-id="602ca-180">That is to say that if I had 1 hybrid connection that I used in 5 separate apps in my App Service Plan, that is still just 1 hybrid connection.</span></span>

<span data-ttu-id="602ca-181">Hay un costo adicional para las conexiones híbridas que van más allá de solo poder usarse en las SKU Básico, Estándar, Premium o Aislado.</span><span class="sxs-lookup"><span data-stu-id="602ca-181">There is an additional cost to hybrid connections beyond being only usable in a Basic, Standard, Premium or Isolated SKU.</span></span>  <span data-ttu-id="602ca-182">Para más información acerca de los precios de las conexiones híbridas, vaya aquí: [Precios de Service Bus][sbpricing].</span><span class="sxs-lookup"><span data-stu-id="602ca-182">For details on hybrid connection pricing please go here: [Service Bus pricing][sbpricing].</span></span>

## <a name="hybrid-connection-manager"></a><span data-ttu-id="602ca-183">Hybrid Connection Manager</span><span class="sxs-lookup"><span data-stu-id="602ca-183">Hybrid Connection Manager</span></span> ##

<span data-ttu-id="602ca-184">Para que las conexiones híbridas funcionen, necesita un agente de retransmisión en la red que hospeda el punto de conexión de la conexión híbrida.</span><span class="sxs-lookup"><span data-stu-id="602ca-184">In order for hybrid connections to work you need a relay agent in the network that hosts your hybrid connection endpoint.</span></span>  <span data-ttu-id="602ca-185">Dicho agente de retransmisión se denomina Hybrid Connection Manager (HCM).</span><span class="sxs-lookup"><span data-stu-id="602ca-185">That relay agent is called the Hybrid Connection Manager (HCM).</span></span>  <span data-ttu-id="602ca-186">Esta herramienta puede descargarse desde la interfaz de usuario de **Redes > Configure los extremos de la conexión híbrida** usuario disponible en la aplicación en [Azure Portal][portal].</span><span class="sxs-lookup"><span data-stu-id="602ca-186">This tool can be downloaded from the **Networking > Configure your hybrid connection endpoints** UI available from your app in the [Azure portal][portal].</span></span>  

<span data-ttu-id="602ca-187">Esta herramienta se ejecuta en Windows Server 2008 R2 y en las versiones posteriores de Windows.</span><span class="sxs-lookup"><span data-stu-id="602ca-187">This tool runs on Windows server 2008 R2 and later versions of Windows.</span></span>  <span data-ttu-id="602ca-188">Una vez instalado, el HCM se ejecuta como servicio.</span><span class="sxs-lookup"><span data-stu-id="602ca-188">Once installed the HCM runs as a service.</span></span>  <span data-ttu-id="602ca-189">Este servicio se conecta a la retransmisión del bus de servicio de Azure basándose en los puntos de conexión configurados.</span><span class="sxs-lookup"><span data-stu-id="602ca-189">This service connects to Azure servicebus relay based on the configured endpoints.</span></span>  <span data-ttu-id="602ca-190">Las conexiones del HCM salen por los puertos 80 y 443.</span><span class="sxs-lookup"><span data-stu-id="602ca-190">The connections from the HCM are outbound to ports 80 and 443.</span></span>    

<span data-ttu-id="602ca-191">El HCM tiene una interfaz de usuario para configurarlo.</span><span class="sxs-lookup"><span data-stu-id="602ca-191">The HCM has a UI to configure it.</span></span>  <span data-ttu-id="602ca-192">Después de instalar HCM para mostrar la interfaz de usuario debe ejecutar el archivo HybridConnectionManagerUi.exe que se encuentra en el directorio de instalación de Hybrid Connection Manager.</span><span class="sxs-lookup"><span data-stu-id="602ca-192">After the HCM is installed you can bring up the UI by running the HybridConnectionManagerUi.exe that sits in the Hybrid Connection Manager installation directory.</span></span>  <span data-ttu-id="602ca-193">Para acceder fácilmente en Windows 10, escriba *Interfaz de usuario de Hybrid Connection Manager* en el cuadro de búsqueda.</span><span class="sxs-lookup"><span data-stu-id="602ca-193">It is also easily reached on Windows 10 by typing *Hybrid Connection Manager UI* in your search box.</span></span>  

<span data-ttu-id="602ca-194">Cuando se inicia la interfaz de usuario de HCM, lo primero que se ve es una tabla que enumera todas las conexiones híbridas configuradas con esta instancia de HCM.</span><span class="sxs-lookup"><span data-stu-id="602ca-194">When the HCM UI is started, the first thing you see is a table that lists all of the hybrid connections that are configured with this instance of the HCM.</span></span>  <span data-ttu-id="602ca-195">Si desea realizar algún cambio, tendrá que autenticarse con Azure.</span><span class="sxs-lookup"><span data-stu-id="602ca-195">If you wish to make any changes you will need to authenticate with Azure.</span></span> 

<span data-ttu-id="602ca-196">Para agregar una o varias conexiones híbridas a HCM:</span><span class="sxs-lookup"><span data-stu-id="602ca-196">To add one or more Hybrid Connections to your HCM:</span></span>

1. <span data-ttu-id="602ca-197">Inicie la interfaz de usuario de HCM.</span><span class="sxs-lookup"><span data-stu-id="602ca-197">Start the HCM UI</span></span>
1. <span data-ttu-id="602ca-198">Haga clic en Configure other hybrid connection![][8] (Configurar otra conexión híbrida).</span><span class="sxs-lookup"><span data-stu-id="602ca-198">Click Configure another hybrid connection ![][8]</span></span>

1. <span data-ttu-id="602ca-199">Inicie sesión con su cuenta de Azure</span><span class="sxs-lookup"><span data-stu-id="602ca-199">Sign in with your Azure account</span></span>
1. <span data-ttu-id="602ca-200">Elija una suscripción</span><span class="sxs-lookup"><span data-stu-id="602ca-200">Choose a subscription</span></span>
1. <span data-ttu-id="602ca-201">Haga clic en las conexiones híbridas en las que desea que este HCM retransmita![][9]</span><span class="sxs-lookup"><span data-stu-id="602ca-201">Click on the hybrid connections you want this HCM to relay ![][9]</span></span>

1. <span data-ttu-id="602ca-202">Haga clic en Guardar</span><span class="sxs-lookup"><span data-stu-id="602ca-202">Click Save</span></span>

<span data-ttu-id="602ca-203">En este momento, verá las conexiones híbridas que ha agregado.</span><span class="sxs-lookup"><span data-stu-id="602ca-203">At this point you will see the hybrid connections you added.</span></span>  <span data-ttu-id="602ca-204">También puede hacer clic en la conexión híbrida configurada y ver detalles acerca de ella.</span><span class="sxs-lookup"><span data-stu-id="602ca-204">You can also click on the configured hybrid connection and see details about the connection.</span></span>

![][10]

<span data-ttu-id="602ca-205">Para que HCM pueda dar soporte a las conexiones híbridas con las que está configurado, necesita:</span><span class="sxs-lookup"><span data-stu-id="602ca-205">For your HCM to be able to support the hybrid connections it is configured with, it needs:</span></span>

- <span data-ttu-id="602ca-206">Acceso de TCP a Azure a través de los puertos 80 y 443.</span><span class="sxs-lookup"><span data-stu-id="602ca-206">TCP access to Azure over ports 80 and 443</span></span>
- <span data-ttu-id="602ca-207">Acceso de TCP al punto de conexión de la conexión híbrida.</span><span class="sxs-lookup"><span data-stu-id="602ca-207">TCP access to the hybrid connection endpoint</span></span>
- <span data-ttu-id="602ca-208">Capacidad para realizar búsquedas de DNS en el host del punto de conexión y el espacio de nombres de Azure ServiceBus</span><span class="sxs-lookup"><span data-stu-id="602ca-208">ability to do DNS look ups on the endpoint host and the azure servicebus namespace</span></span>

<span data-ttu-id="602ca-209">HCM admite tanto conexiones híbridas nuevas como las conexiones híbridas de BizTalk antiguas.</span><span class="sxs-lookup"><span data-stu-id="602ca-209">The HCM supports both new hybrid connections as well as the older BizTalk hybrid connections.</span></span>

### <a name="redundancy"></a><span data-ttu-id="602ca-210">Redundancia</span><span class="sxs-lookup"><span data-stu-id="602ca-210">Redundancy</span></span> ###

<span data-ttu-id="602ca-211">Cada HCM puede admitir varias conexiones híbridas.</span><span class="sxs-lookup"><span data-stu-id="602ca-211">Each HCM can support multiple hybrid connections.</span></span>  <span data-ttu-id="602ca-212">Además, varios HCM pueden admitir cualquier conexión híbrida dada.</span><span class="sxs-lookup"><span data-stu-id="602ca-212">Also, any given hybrid connection can be supported by multiple HCMs.</span></span>  <span data-ttu-id="602ca-213">El comportamiento predeterminado es operar el tráfico por turnos en los HCM configurados en cualquier punto de conexión dado.</span><span class="sxs-lookup"><span data-stu-id="602ca-213">The default behavior is to round robin traffic across the configured HCMs for any given endpoint.</span></span>  <span data-ttu-id="602ca-214">Si desea alta disponibilidad en las conexiones híbridas de la red, solo haya que crear instancias de varios HCM en equipos diferentes.</span><span class="sxs-lookup"><span data-stu-id="602ca-214">If you want high availability on your hybrid connections from your network, simply instantiate multiple HCMs on separate machines.</span></span> 

### <a name="manually-adding-a-hybrid-connection"></a><span data-ttu-id="602ca-215">Adición manual de una conexión híbrida</span><span class="sxs-lookup"><span data-stu-id="602ca-215">Manually adding a hybrid connection</span></span> ###

<span data-ttu-id="602ca-216">Si desea que alguien de fuera de su suscripción hospede una instancia de HCM para una conexión híbrida determinado, puede compartir con dicho usuario la cadena de conexión de la puerta de enlace de la conexión híbrida.</span><span class="sxs-lookup"><span data-stu-id="602ca-216">If you wish somebody outside of your subscription to host an HCM instance for a given hybrid connection, you can share with them the gateway connection string for the hybrid connection.</span></span>  <span data-ttu-id="602ca-217">Esto se puede ver en las propiedades de una conexión híbrida en [Azure Portal][portal].</span><span class="sxs-lookup"><span data-stu-id="602ca-217">You can see this in the properties for a hybrid connection in the [Azure portal][portal].</span></span> <span data-ttu-id="602ca-218">Para utilizar dicha cadena, haga clic en el botón **Configure manually** (Configurar manualmente) de HCM y péguela en la cadena de conexión de puerta de enlace.</span><span class="sxs-lookup"><span data-stu-id="602ca-218">To use that string, click the **Configure manually** button in the HCM and paste in the gateway connection string.</span></span>


## <a name="troubleshooting"></a><span data-ttu-id="602ca-219">Solución de problemas</span><span class="sxs-lookup"><span data-stu-id="602ca-219">Troubleshooting</span></span> ##

<span data-ttu-id="602ca-220">Si la conexión híbrida se configura con una aplicación en ejecución y hay al menos un HCM que tiene dicha conexión híbrida configurada, en el portal el estado aparecerá como **Connected** (Conectado).</span><span class="sxs-lookup"><span data-stu-id="602ca-220">When your hybrid connection is set up with a running application and there is at least one HCM that has that hybrid connection configured, then the status will say **Connected** in the portal.</span></span>  <span data-ttu-id="602ca-221">Si no aparece **así**, la aplicación está inactiva o HCM no se puede conectar a Azure a través de los puertos 80 o 443.</span><span class="sxs-lookup"><span data-stu-id="602ca-221">If it does not say **Connected** then it means that either your app is down or your HCM cannot connect out to Azure on ports 80 or 443.</span></span>  

<span data-ttu-id="602ca-222">La razón principal por la que los clientes no se pueden conectar a su punto de conexión es porque este se especificó mediante una dirección IP, en lugar de un nombre DNS.</span><span class="sxs-lookup"><span data-stu-id="602ca-222">The primary reason that clients cannot connect to their endpoint is because the endpoint was specified using an IP address instead of a DNS name.</span></span>  <span data-ttu-id="602ca-223">Si la aplicación no puede acceder al punto de conexión deseado y ha usado una dirección IP, utilice un nombre DNS que sea válido en el host en el que se ejecuta HCM.</span><span class="sxs-lookup"><span data-stu-id="602ca-223">If your app cannot reach the desired endpoint and you used an IP address, switch to using a DNS name that is valid on the host where the HCM is running.</span></span>  <span data-ttu-id="602ca-224">Otras operaciones que se deben comprobar son que el nombre DNS se resuelve satisfactoriamente en el host en el que HCM se ejecuta y que hay con el host en el que HCM se ejecuta en el punto de conexión de la conexión híbrida.</span><span class="sxs-lookup"><span data-stu-id="602ca-224">Other things to check are that the DNS name resolves properly on the host where the HCM is running and that there is connectivity from the host where the HCM is running to the hybrid connection endpoint.</span></span>  

<span data-ttu-id="602ca-225">Hay una herramienta en App Service que se puede invocar desde la consola llamada tcpping.</span><span class="sxs-lookup"><span data-stu-id="602ca-225">There is a tool in the App Service that can be invoked from the console called tcpping.</span></span>  <span data-ttu-id="602ca-226">Dicha herramienta puede indicarle si tienen acceso a un punto de conexión de TCP, pero no indica si tiene acceso a un punto de conexión de una conexión híbrida.</span><span class="sxs-lookup"><span data-stu-id="602ca-226">This tool can tell you if you have access to a TCP endpoint but does not tell you if you have access to a hybrid connection endpoint.</span></span>  <span data-ttu-id="602ca-227">Si se utiliza en la consola en un punto de conexión de la conexión híbrida, un ping correcto solo indicará que tiene una conexión híbrida configurada para la aplicación que use la combinación host: puerto.</span><span class="sxs-lookup"><span data-stu-id="602ca-227">When used in the console against a hybrid connection endpoint, a successful ping will only tell you that you have a hybrid connection configured for your app that uses that host:port combination.</span></span>  

## <a name="biztalk-hybrid-connections"></a><span data-ttu-id="602ca-228">Conexiones híbridas de BizTalk</span><span class="sxs-lookup"><span data-stu-id="602ca-228">BizTalk Hybrid Connections</span></span> ##

<span data-ttu-id="602ca-229">La funcionalidad de las conexiones híbridas de BizTalk antiguas se ha cerrado para otras operaciones de creación de conexiones híbridas de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="602ca-229">The older BizTalk Hybrid Connections capability has been closed off to further BizTalk Hybrid Connection creations.</span></span>  <span data-ttu-id="602ca-230">Puede seguir usando las conexiones híbridas de BizTalk preexistentes con sus aplicaciones, pero debe realizar la migración al nuevo servicio.</span><span class="sxs-lookup"><span data-stu-id="602ca-230">You can continue using your preexisting BizTalk Hybrid Connections with your apps but should migrate to the new service.</span></span>  <span data-ttu-id="602ca-231">Entre las ventajas del nuevo servicio, con respecto a la versión de BizTalk son:</span><span class="sxs-lookup"><span data-stu-id="602ca-231">Among the benefits in the new service over the BizTalk version are:</span></span>

- <span data-ttu-id="602ca-232">No se requieren cuentas de BizTalk adicionales.</span><span class="sxs-lookup"><span data-stu-id="602ca-232">no additional BizTalk account is required</span></span>
- <span data-ttu-id="602ca-233">La versión de TLS es la 1.2, en lugar de la 1.0 que era en las conexiones híbridas de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="602ca-233">TLS is 1.2 instead of 1.0 as in BizTalk Hybrid Connections</span></span>
- <span data-ttu-id="602ca-234">La comunicación se realiza a través de los puertos 80 y 443 y se usa un nombre DNS para acceder a Azure, en lugar de direcciones IP y un intervalo de otros puertos adicionales.</span><span class="sxs-lookup"><span data-stu-id="602ca-234">Communication is over ports 80 and 443 using a DNS name to reach Azure instead of IP addresses and a range of additional other ports.</span></span>  

<span data-ttu-id="602ca-235">Para agregar una conexión híbrida de BizTalk a una aplicación, vaya a la aplicación en [Azure Portal][portal] y haga clic en **Redes > Configure los extremos de la conexión híbrida**.</span><span class="sxs-lookup"><span data-stu-id="602ca-235">To add a BizTalk hybrid connection to your app, go to your app in the [Azure portal][portal] and click **Networking > Configure your hybrid connection endpoints**.</span></span>  <span data-ttu-id="602ca-236">En la tabla de conexiones híbridas clásicas, haga clic en **Agregar conexión híbrida clásica**.</span><span class="sxs-lookup"><span data-stu-id="602ca-236">In the Classic hybrid connections table click **Add classic hybrid connection**.</span></span>  <span data-ttu-id="602ca-237">Ahí verá una lista de las conexiones híbridas de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="602ca-237">From here you will see a list of your BizTalk hybrid connections.</span></span>  


<!--Image references-->
[1]: ./media/app-service-hybrid-connections/hybridconn-connectiondiagram.png
[2]: ./media/app-service-hybrid-connections/hybridconn-portal.png
[3]: ./media/app-service-hybrid-connections/hybridconn-addhc.png
[4]: ./media/app-service-hybrid-connections/hybridconn-createhc.png
[5]: ./media/app-service-hybrid-connections/hybridconn-properties.png
[6]: ./media/app-service-hybrid-connections/hybridconn-aspproperties.png
[7]: ./media/app-service-hybrid-connections/hybridconn-hcm.png
[8]: ./media/app-service-hybrid-connections/hybridconn-hcmadd.png
[9]: ./media/app-service-hybrid-connections/hybridconn-hcmadded.png
[10]: ./media/app-service-hybrid-connections/hybridconn-hcmdetails.png

<!--Links-->
[HCService]: http://docs.microsoft.com/azure/service-bus-relay/relay-hybrid-connections-protocol/
[portal]: http://portal.azure.com/
[oldhc]: http://docs.microsoft.com/azure/biztalk-services/integration-hybrid-connection-overview/
[sbpricing]: http://azure.microsoft.com/pricing/details/service-bus/

