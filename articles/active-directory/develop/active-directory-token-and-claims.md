---
title: "aaaLearn sobre Hola distintos tokens y los tipos compatibles con Azure AD de notificación | Documentos de Microsoft"
description: "Una guía para entender y evaluar las notificaciones de hello en hello SAML 2.0 y tokens de Tokens de Web JSON (JWT) emitidos por Azure Active Directory (AAD)"
documentationcenter: na
author: dstrockis
services: active-directory
manager: mbaldwin
editor: 
ms.assetid: 166aa18e-1746-4c5e-b382-68338af921e2
ms.service: active-directory
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: identity
ms.date: 02/08/2017
ms.author: dastrock
ms.custom: aaddev
ms.openlocfilehash: c512894476613e94d86a994c32a8459d6cf00fbd
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="azure-ad-token-reference"></a><span data-ttu-id="a19f8-103">Referencia de tokens de Azure AD</span><span class="sxs-lookup"><span data-stu-id="a19f8-103">Azure AD token reference</span></span>
<span data-ttu-id="a19f8-104">Azure Active Directory (Azure AD) emite varios tipos de tokens de seguridad en el procesamiento de Hola de cada flujo de autenticación.</span><span class="sxs-lookup"><span data-stu-id="a19f8-104">Azure Active Directory (Azure AD) emits several types of security tokens in hello processing of each authentication flow.</span></span> <span data-ttu-id="a19f8-105">Este documento describe el formato de hello, características de seguridad y el contenido de cada tipo de símbolo (token).</span><span class="sxs-lookup"><span data-stu-id="a19f8-105">This document describes hello format, security characteristics, and contents of each type of token.</span></span>

## <a name="types-of-tokens"></a><span data-ttu-id="a19f8-106">Tipos de tokens</span><span class="sxs-lookup"><span data-stu-id="a19f8-106">Types of tokens</span></span>
<span data-ttu-id="a19f8-107">Azure AD admite hello [protocolo de autorización de OAuth 2.0](active-directory-protocols-oauth-code.md), que hace uso de access_tokens y refresh_tokens.</span><span class="sxs-lookup"><span data-stu-id="a19f8-107">Azure AD supports hello [OAuth 2.0 authorization protocol](active-directory-protocols-oauth-code.md), which makes use of both access_tokens and refresh_tokens.</span></span>  <span data-ttu-id="a19f8-108">También admite la autenticación e inicio de sesión a través de [OpenID Connect](active-directory-protocols-openid-connect-code.md), que presenta un tercer tipo de token, id_token Hola.</span><span class="sxs-lookup"><span data-stu-id="a19f8-108">It also supports authentication and sign-in via [OpenID Connect](active-directory-protocols-openid-connect-code.md), which introduces a third type of token, hello id_token.</span></span>  <span data-ttu-id="a19f8-109">Todos estos tokens se representan como un "token de portador".</span><span class="sxs-lookup"><span data-stu-id="a19f8-109">Each of these tokens is represented as a "bearer token".</span></span>

<span data-ttu-id="a19f8-110">Un token de portador es un token de seguridad ligero que concede Hola tooa de "portador" acceso al recurso protegido.</span><span class="sxs-lookup"><span data-stu-id="a19f8-110">A bearer token is a lightweight security token that grants hello “bearer” access tooa protected resource.</span></span> <span data-ttu-id="a19f8-111">En este sentido, Hola "portador" es cualquier persona que puede presentar el token de Hola.</span><span class="sxs-lookup"><span data-stu-id="a19f8-111">In this sense, hello “bearer” is any party that can present hello token.</span></span> <span data-ttu-id="a19f8-112">Si se requiere la autenticación con Azure AD en orden tooreceive un token de portador, se deben realizar pasos interceptación toosecure Hola de token, tooprevent por una de las partes no deseada.</span><span class="sxs-lookup"><span data-stu-id="a19f8-112">Though authentication with Azure AD is required in order tooreceive a bearer token, steps must be taken toosecure hello token, tooprevent interception by an unintended party.</span></span> <span data-ttu-id="a19f8-113">Porque tokens portadores no tienen un partes de tooprevent no autorizado mecanismo integrado de su uso, deberán ser transportados en un canal seguro, como la seguridad de la capa de transporte (HTTPS).</span><span class="sxs-lookup"><span data-stu-id="a19f8-113">Because bearer tokens do not have a built-in mechanism tooprevent unauthorized parties from using them, they must be transported in a secure channel such as transport layer security (HTTPS).</span></span> <span data-ttu-id="a19f8-114">Si se transmite un token de portador en hello claro, un ataque intermedio Hola man en puede ser usado tooacquire Hola token y obtener recursos de tooa protegido del acceso no autorizado.</span><span class="sxs-lookup"><span data-stu-id="a19f8-114">If a bearer token is transmitted in hello clear, a man-in hello middle attack can be used tooacquire hello token and gain unauthorized access tooa protected resource.</span></span> <span data-ttu-id="a19f8-115">Hola mismos principios de seguridad que se aplican al almacenamiento o almacenamiento en caché de tokens portadores para su uso posterior.</span><span class="sxs-lookup"><span data-stu-id="a19f8-115">hello same security principles apply when storing or caching bearer tokens for later use.</span></span> <span data-ttu-id="a19f8-116">Asegúrate siempre de que la aplicación transmite y almacena los tokens de portador de manera segura.</span><span class="sxs-lookup"><span data-stu-id="a19f8-116">Always ensure that your app transmits and stores bearer tokens in a secure manner.</span></span> <span data-ttu-id="a19f8-117">Para otras consideraciones sobre la seguridad de los tokens portadores, consulte la [Sección 5 de RFC 6750](http://tools.ietf.org/html/rfc6750).</span><span class="sxs-lookup"><span data-stu-id="a19f8-117">For more security considerations on bearer tokens, see [RFC 6750 Section 5](http://tools.ietf.org/html/rfc6750).</span></span>

<span data-ttu-id="a19f8-118">Muchos de los tokens de hello emitidos por Azure AD se implementan como Tokens Web JSON o Jwt.</span><span class="sxs-lookup"><span data-stu-id="a19f8-118">Many of hello tokens issued by Azure AD are implemented as JSON Web Tokens, or JWTs.</span></span>  <span data-ttu-id="a19f8-119">Un JWT es un medio compacto y seguro de la dirección URL para transferir información entre dos partes.</span><span class="sxs-lookup"><span data-stu-id="a19f8-119">A JWT is a compact, URL-safe means of transferring information between two parties.</span></span>  <span data-ttu-id="a19f8-120">información de Hello contenida en los Jwt se conocen como "notificaciones", o aserciones de información acerca de portador de Hola y el asunto del token de Hola.</span><span class="sxs-lookup"><span data-stu-id="a19f8-120">hello information contained in JWTs are known as "claims", or assertions of information about hello bearer and subject of hello token.</span></span>  <span data-ttu-id="a19f8-121">notificaciones de Hola de Jwt son objetos JSON codificar y serializar para su transmisión.</span><span class="sxs-lookup"><span data-stu-id="a19f8-121">hello claims in JWTs are JSON objects encoded and serialized for transmission.</span></span>  <span data-ttu-id="a19f8-122">Puesto que los Jwt de hello emitidos por Azure AD están firmados, pero no cifra, puede inspeccionar fácilmente contenido Hola de un JWT para fines de depuración.</span><span class="sxs-lookup"><span data-stu-id="a19f8-122">Since hello JWTs issued by Azure AD are signed, but not encrypted, you can easily inspect hello contents of a JWT for debugging purposes.</span></span>  <span data-ttu-id="a19f8-123">Hay varias herramientas disponibles para hacerlo, como [jwt.calebb.net](http://jwt.calebb.net).</span><span class="sxs-lookup"><span data-stu-id="a19f8-123">There are several tools available for doing so, such as [jwt.calebb.net](http://jwt.calebb.net).</span></span> <span data-ttu-id="a19f8-124">Para obtener más información sobre los Jwt, puede hacer referencia a toohello [especificación JWT](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html).</span><span class="sxs-lookup"><span data-stu-id="a19f8-124">For more information on JWTs, you can refer toohello [JWT specification](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html).</span></span>

## <a name="idtokens"></a><span data-ttu-id="a19f8-125">Id_Tokens</span><span class="sxs-lookup"><span data-stu-id="a19f8-125">Id_tokens</span></span>
<span data-ttu-id="a19f8-126">Los id_tokens son una forma de token de seguridad de inicio de sesión que recibe la aplicación cuando la autenticación se realiza mediante [OpenID Connect](active-directory-protocols-openid-connect-code.md).</span><span class="sxs-lookup"><span data-stu-id="a19f8-126">Id_tokens are a form of sign-in security token that your app receives when performing authentication using [OpenID Connect](active-directory-protocols-openid-connect-code.md).</span></span>  <span data-ttu-id="a19f8-127">Se representan como [JWTs](#types-of-tokens)y contienen notificaciones que puede usar para iniciar la sesión de usuario hello en la aplicación.</span><span class="sxs-lookup"><span data-stu-id="a19f8-127">They are represented as [JWTs](#types-of-tokens), and contain claims that you can use for signing hello user into your app.</span></span>  <span data-ttu-id="a19f8-128">Puede usar notificaciones de hello en un id_token como considere oportuno: normalmente se usan para mostrar información de la cuenta o para tomar decisiones de control de acceso en una aplicación.</span><span class="sxs-lookup"><span data-stu-id="a19f8-128">You can use hello claims in an id_token as you see fit - commonly they are used for displaying account information or making access control decisions in an app.</span></span>

<span data-ttu-id="a19f8-129">En ese momento los id_tokens están firmados, pero no cifrados.</span><span class="sxs-lookup"><span data-stu-id="a19f8-129">Id_tokens are signed, but not encrypted at this time.</span></span>  <span data-ttu-id="a19f8-130">Cuando la aplicación recibe un id_token, debe [validar la firma de hello](#validating-tokens) tooprove Hola autenticidad del token y validar las reclamaciones unos en hello token tooprove su validez.</span><span class="sxs-lookup"><span data-stu-id="a19f8-130">When your app receives an id_token, it must [validate hello signature](#validating-tokens) tooprove hello token's authenticity and validate a few claims in hello token tooprove its validity.</span></span>  <span data-ttu-id="a19f8-131">Hello validados por una aplicación de notificaciones varían dependiendo de los requisitos de escenario, pero hay algunos [validaciones de notificación comunes](#validating-tokens) que la aplicación debe realizar en cada escenario.</span><span class="sxs-lookup"><span data-stu-id="a19f8-131">hello claims validated by an app vary depending on scenario requirements, but there are some [common claim validations](#validating-tokens) that your app must perform in every scenario.</span></span>

<span data-ttu-id="a19f8-132">Vea la siguiente sección para obtener información de notificaciones de id_tokens, así como un id_token de ejemplo de Hola.</span><span class="sxs-lookup"><span data-stu-id="a19f8-132">See hello following section for information on id_tokens claims, as well as a sample id_token.</span></span>  <span data-ttu-id="a19f8-133">Tenga en cuenta que no se devuelven notificaciones de hello en id_tokens en ningún orden concreto.</span><span class="sxs-lookup"><span data-stu-id="a19f8-133">Note that hello claims in id_tokens are not returned in any particular order.</span></span>  <span data-ttu-id="a19f8-134">Además, se pueden introducir nuevas notificaciones en los id_tokens en cualquier momento y no se debe interrumpir la aplicación cuando se introducen nuevas notificaciones.</span><span class="sxs-lookup"><span data-stu-id="a19f8-134">In addition, new claims can be introduced into id_tokens at any point in time - your app should not break as new claims are introduced.</span></span>  <span data-ttu-id="a19f8-135">Hello siguiente lista incluye las notificaciones de Hola que la aplicación puede interpretar de forma confiable en tiempo de Hola de redactar este artículo.</span><span class="sxs-lookup"><span data-stu-id="a19f8-135">hello following list includes hello claims that your app can reliably interpret at hello time of this writing.</span></span>  <span data-ttu-id="a19f8-136">Si es necesario, incluso más detalle puede encontrarse en hello [especificación OpenID Connect](http://openid.net/specs/openid-connect-core-1_0.html).</span><span class="sxs-lookup"><span data-stu-id="a19f8-136">If necessary, even more detail can be found in hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span></span>

#### <a name="sample-idtoken"></a><span data-ttu-id="a19f8-137">Ejemplo de id_token</span><span class="sxs-lookup"><span data-stu-id="a19f8-137">Sample id_token</span></span>
```
eyJ0eXAiOiJKV1QiLCJhbGciOiJub25lIn0.eyJhdWQiOiIyZDRkMTFhMi1mODE0LTQ2YTctODkwYS0yNzRhNzJhNzMwOWUiLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC83ZmU4MTQ0Ny1kYTU3LTQzODUtYmVjYi02ZGU1N2YyMTQ3N2UvIiwiaWF0IjoxMzg4NDQwODYzLCJuYmYiOjEzODg0NDA4NjMsImV4cCI6MTM4ODQ0NDc2MywidmVyIjoiMS4wIiwidGlkIjoiN2ZlODE0NDctZGE1Ny00Mzg1LWJlY2ItNmRlNTdmMjE0NzdlIiwib2lkIjoiNjgzODlhZTItNjJmYS00YjE4LTkxZmUtNTNkZDEwOWQ3NGY1IiwidXBuIjoiZnJhbmttQGNvbnRvc28uY29tIiwidW5pcXVlX25hbWUiOiJmcmFua21AY29udG9zby5jb20iLCJzdWIiOiJKV3ZZZENXUGhobHBTMVpzZjd5WVV4U2hVd3RVbTV5elBtd18talgzZkhZIiwiZmFtaWx5X25hbWUiOiJNaWxsZXIiLCJnaXZlbl9uYW1lIjoiRnJhbmsifQ.
```

> [!TIP]
> <span data-ttu-id="a19f8-138">Para practicar, intente inspeccionar notificaciones de hello en id_token de ejemplo de Hola pegándolos en [calebb.net](http://jwt.calebb.net).</span><span class="sxs-lookup"><span data-stu-id="a19f8-138">For practice, try inspecting hello claims in hello sample id_token by pasting it into [calebb.net](http://jwt.calebb.net).</span></span>
> 
> 

#### <a name="claims-in-idtokens"></a><span data-ttu-id="a19f8-139">Notificaciones en los id_tokens</span><span class="sxs-lookup"><span data-stu-id="a19f8-139">Claims in id_tokens</span></span>
> [!div class="mx-codeBreakAll"]
| <span data-ttu-id="a19f8-140">Notificación de JWT</span><span class="sxs-lookup"><span data-stu-id="a19f8-140">JWT Claim</span></span> | <span data-ttu-id="a19f8-141">Nombre</span><span class="sxs-lookup"><span data-stu-id="a19f8-141">Name</span></span> | <span data-ttu-id="a19f8-142">Description</span><span class="sxs-lookup"><span data-stu-id="a19f8-142">Description</span></span> |
| --- | --- | --- |
| `appid` |<span data-ttu-id="a19f8-143">Identificador de aplicación</span><span class="sxs-lookup"><span data-stu-id="a19f8-143">Application ID</span></span> |<span data-ttu-id="a19f8-144">Identifica la aplicación hello que está usando Hola token tooaccess un recurso.</span><span class="sxs-lookup"><span data-stu-id="a19f8-144">Identifies hello application that is using hello token tooaccess a resource.</span></span> <span data-ttu-id="a19f8-145">aplicación Hello puede actuar por sí misma o en nombre del usuario.</span><span class="sxs-lookup"><span data-stu-id="a19f8-145">hello application can act as itself or on behalf of a user.</span></span> <span data-ttu-id="a19f8-146">Identificador de la aplicación Hello normalmente representa un objeto de aplicación, pero también puede representar un objeto de entidad de seguridad de servicio en Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a19f8-146">hello application ID typically represents an application object, but it can also represent a service principal object in Azure AD.</span></span> <br><br> <span data-ttu-id="a19f8-147">**Valor de JWT de ejemplo**:</span><span class="sxs-lookup"><span data-stu-id="a19f8-147">**Example JWT Value**:</span></span> <br> `"appid":"15CB020F-3984-482A-864D-1D92265E8268"` |
| `aud` |<span data-ttu-id="a19f8-148">Público</span><span class="sxs-lookup"><span data-stu-id="a19f8-148">Audience</span></span> |<span data-ttu-id="a19f8-149">Hola destinatario del token de Hola.</span><span class="sxs-lookup"><span data-stu-id="a19f8-149">hello intended recipient of hello token.</span></span> <span data-ttu-id="a19f8-150">aplicación Hello que recibe el token de hello debe comprobar que el valor de audiencia de hello es correcto y rechazar los tokens destinados a una audiencia diferente.</span><span class="sxs-lookup"><span data-stu-id="a19f8-150">hello application that receives hello token must verify that hello audience value is correct and reject any tokens intended for a different audience.</span></span> <br><br> <span data-ttu-id="a19f8-151">**Valor de SAML de ejemplo**:</span><span class="sxs-lookup"><span data-stu-id="a19f8-151">**Example SAML Value**:</span></span> <br> `<AudienceRestriction>`<br>`<Audience>`<br>`https://contoso.com`<br>`</Audience>`<br>`</AudienceRestriction>` <br><br> <span data-ttu-id="a19f8-152">**Valor de JWT de ejemplo**:</span><span class="sxs-lookup"><span data-stu-id="a19f8-152">**Example JWT Value**:</span></span> <br> `"aud":"https://contoso.com"` |
| `appidacr` |<span data-ttu-id="a19f8-153">Referencia de clase de contexto de autenticación de aplicación</span><span class="sxs-lookup"><span data-stu-id="a19f8-153">Application Authentication Context Class Reference</span></span> |<span data-ttu-id="a19f8-154">Indica cómo se autenticó el cliente de Hola.</span><span class="sxs-lookup"><span data-stu-id="a19f8-154">Indicates how hello client was authenticated.</span></span> <span data-ttu-id="a19f8-155">Para un cliente público, el valor de hello es 0.</span><span class="sxs-lookup"><span data-stu-id="a19f8-155">For a public client, hello value is 0.</span></span> <span data-ttu-id="a19f8-156">Si se usan los Id. de cliente y el secreto del cliente, el valor de hello es 1.</span><span class="sxs-lookup"><span data-stu-id="a19f8-156">If client ID and client secret are used, hello value is 1.</span></span> <br><br> <span data-ttu-id="a19f8-157">**Valor de JWT de ejemplo**:</span><span class="sxs-lookup"><span data-stu-id="a19f8-157">**Example JWT Value**:</span></span> <br> `"appidacr": "0"` |
| `acr` |<span data-ttu-id="a19f8-158">Referencia de clase de contexto de autenticación</span><span class="sxs-lookup"><span data-stu-id="a19f8-158">Authentication Context Class Reference</span></span> |<span data-ttu-id="a19f8-159">Indica cómo se autenticó el sujeto de hello, como cliente de toohello lugar en la notificación de referencia de clase de contexto de autenticación de aplicación Hola.</span><span class="sxs-lookup"><span data-stu-id="a19f8-159">Indicates how hello subject was authenticated, as opposed toohello client in hello Application Authentication Context Class Reference claim.</span></span> <span data-ttu-id="a19f8-160">Un valor de "0" indica la autenticación de usuario final de hello no cumplía los requisitos de Hola de ISO/IEC 29115.</span><span class="sxs-lookup"><span data-stu-id="a19f8-160">A value of "0" indicates hello end-user authentication did not meet hello requirements of ISO/IEC 29115.</span></span> <br><br> <span data-ttu-id="a19f8-161">**Valor de JWT de ejemplo**:</span><span class="sxs-lookup"><span data-stu-id="a19f8-161">**Example JWT Value**:</span></span> <br> `"acr": "0"` |
| <span data-ttu-id="a19f8-162">Instante de autenticación</span><span class="sxs-lookup"><span data-stu-id="a19f8-162">Authentication Instant</span></span> |<span data-ttu-id="a19f8-163">Registros Hola fecha y hora en que se realizó la autenticación.</span><span class="sxs-lookup"><span data-stu-id="a19f8-163">Records hello date and time when authentication occurred.</span></span> <br><br> <span data-ttu-id="a19f8-164">**Valor de SAML de ejemplo**:</span><span class="sxs-lookup"><span data-stu-id="a19f8-164">**Example SAML Value**:</span></span> <br> `<AuthnStatement AuthnInstant="2011-12-29T05:35:22.000Z">` | |
| `amr` |<span data-ttu-id="a19f8-165">Método de autenticación</span><span class="sxs-lookup"><span data-stu-id="a19f8-165">Authentication Method</span></span> |<span data-ttu-id="a19f8-166">Identifica cómo se autenticó Hola sujeto del token de Hola.</span><span class="sxs-lookup"><span data-stu-id="a19f8-166">Identifies how hello subject of hello token was authenticated.</span></span> <br><br> <span data-ttu-id="a19f8-167">**Valor de SAML de ejemplo**:</span><span class="sxs-lookup"><span data-stu-id="a19f8-167">**Example SAML Value**:</span></span> <br> `<AuthnContextClassRef>`<br>`http://schemas.microsoft.com/ws/2008/06/identity/claims/authenticationmethod/password`<br>`</AuthnContextClassRef>` <br><br> <span data-ttu-id="a19f8-168">**Valor de JWT de ejemplo**: `“amr”: ["pwd"]`</span><span class="sxs-lookup"><span data-stu-id="a19f8-168">**Example JWT Value**: `“amr”: ["pwd"]`</span></span> |
| `given_name` |<span data-ttu-id="a19f8-169">Nombre</span><span class="sxs-lookup"><span data-stu-id="a19f8-169">First Name</span></span> |<span data-ttu-id="a19f8-170">Proporciona Hola primero o "el nombre de usuario de hello, especificado" como está establecido en el objeto de usuario de hello Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a19f8-170">Provides hello first or "given" name of hello user, as set on hello Azure AD user object.</span></span> <br><br> <span data-ttu-id="a19f8-171">**Valor de SAML de ejemplo**:</span><span class="sxs-lookup"><span data-stu-id="a19f8-171">**Example SAML Value**:</span></span> <br> `<Attribute Name=”http://schemas.xmlsoap.org/ws/2005/05/identity/claims/givenname”>`<br>`<AttributeValue>Frank<AttributeValue>` <br><br> <span data-ttu-id="a19f8-172">**Valor de JWT de ejemplo**:</span><span class="sxs-lookup"><span data-stu-id="a19f8-172">**Example JWT Value**:</span></span> <br> `"given_name": "Frank"` |
| `groups` |<span data-ttu-id="a19f8-173">Grupos</span><span class="sxs-lookup"><span data-stu-id="a19f8-173">Groups</span></span> |<span data-ttu-id="a19f8-174">Proporciona identificadores de objetos que representan la pertenencia a grupos del sujeto Hola.</span><span class="sxs-lookup"><span data-stu-id="a19f8-174">Provides object IDs that represent hello subject's group memberships.</span></span> <span data-ttu-id="a19f8-175">Estos valores son únicos (consulte el Id. de objeto) y se pueden usar para administrar el acceso, como exigir la autorización tooaccess un recurso.</span><span class="sxs-lookup"><span data-stu-id="a19f8-175">These values are unique (see Object ID) and can be safely used for managing access, such as enforcing authorization tooaccess a resource.</span></span> <span data-ttu-id="a19f8-176">grupos de Hello incluidos en la notificación de grupos de Hola se configuran de forma según la aplicación, a través de la propiedad "groupMembershipClaims" de Hola Hola del manifiesto de aplicación.</span><span class="sxs-lookup"><span data-stu-id="a19f8-176">hello groups included in hello groups claim are configured on a per-application basis, through hello "groupMembershipClaims" property of hello application manifest.</span></span> <span data-ttu-id="a19f8-177">Un valor null excluirá todos los grupos, un valor de "SecurityGroup" incluirá únicamente la pertenencia a grupos de seguridad de Active Directory y un valor de "All" incluirá grupos de seguridad y listas de distribución de Office 365.</span><span class="sxs-lookup"><span data-stu-id="a19f8-177">A value of null will exclude all groups, a value of "SecurityGroup" will include only Active Directory Security Group memberships, and a value of "All" will include both Security Groups and Office 365 Distribution Lists.</span></span> <br><br> <span data-ttu-id="a19f8-178">**Valor de SAML de ejemplo**:</span><span class="sxs-lookup"><span data-stu-id="a19f8-178">**Example SAML Value**:</span></span> <br> `<Attribute Name="http://schemas.microsoft.com/ws/2008/06/identity/claims/groups">`<br>`<AttributeValue>07dd8a60-bf6d-4e17-8844-230b77145381</AttributeValue>` <br><br> <span data-ttu-id="a19f8-179">**Valor de JWT de ejemplo**:</span><span class="sxs-lookup"><span data-stu-id="a19f8-179">**Example JWT Value**:</span></span> <br> `“groups”: ["0e129f5b-6b0a-4944-982d-f776045632af", … ]` |
| `idp` |<span data-ttu-id="a19f8-180">Proveedor de identidades</span><span class="sxs-lookup"><span data-stu-id="a19f8-180">Identity Provider</span></span> |<span data-ttu-id="a19f8-181">Registros Hola proveedor de identidades que autenticó Hola sujeto del token de Hola.</span><span class="sxs-lookup"><span data-stu-id="a19f8-181">Records hello identity provider that authenticated hello subject of hello token.</span></span> <span data-ttu-id="a19f8-182">Este valor es valor toohello idénticos de hello emisor de notificaciones a menos que la cuenta de usuario de hello está en un inquilino diferente emisor Hola.</span><span class="sxs-lookup"><span data-stu-id="a19f8-182">This value is identical toohello value of hello Issuer claim unless hello user account is in a different tenant than hello issuer.</span></span> <br><br> <span data-ttu-id="a19f8-183">**Valor de SAML de ejemplo**:</span><span class="sxs-lookup"><span data-stu-id="a19f8-183">**Example SAML Value**:</span></span> <br> `<Attribute Name=” http://schemas.microsoft.com/identity/claims/identityprovider”>`<br>`<AttributeValue>https://sts.windows.net/cbb1a5ac-f33b-45fa-9bf5-f37db0fed422/<AttributeValue>` <br><br> <span data-ttu-id="a19f8-184">**Valor de JWT de ejemplo**:</span><span class="sxs-lookup"><span data-stu-id="a19f8-184">**Example JWT Value**:</span></span> <br> `"idp":”https://sts.windows.net/cbb1a5ac-f33b-45fa-9bf5-f37db0fed422/”` |
| `iat` |<span data-ttu-id="a19f8-185">IssuedAt</span><span class="sxs-lookup"><span data-stu-id="a19f8-185">IssuedAt</span></span> |<span data-ttu-id="a19f8-186">Almacena la hora de hello en qué Hola token haya sido emitido.</span><span class="sxs-lookup"><span data-stu-id="a19f8-186">Stores hello time at which hello token was issued.</span></span> <span data-ttu-id="a19f8-187">A menudo resulta toomeasure usado actualización del token.</span><span class="sxs-lookup"><span data-stu-id="a19f8-187">It is often used toomeasure token freshness.</span></span> <br><br> <span data-ttu-id="a19f8-188">**Valor de SAML de ejemplo**:</span><span class="sxs-lookup"><span data-stu-id="a19f8-188">**Example SAML Value**:</span></span> <br> `<Assertion ID="_d5ec7a9b-8d8f-4b44-8c94-9812612142be" IssueInstant="2014-01-06T20:20:23.085Z" Version="2.0" xmlns="urn:oasis:names:tc:SAML:2.0:assertion">` <br><br> <span data-ttu-id="a19f8-189">**Valor de JWT de ejemplo**:</span><span class="sxs-lookup"><span data-stu-id="a19f8-189">**Example JWT Value**:</span></span> <br> `"iat": 1390234181` |
| `iss` |<span data-ttu-id="a19f8-190">Emisor</span><span class="sxs-lookup"><span data-stu-id="a19f8-190">Issuer</span></span> |<span data-ttu-id="a19f8-191">Identifica Hola símbolo (token) servicio de seguridad (STS) que construye y devuelve el símbolo (token) de Hola.</span><span class="sxs-lookup"><span data-stu-id="a19f8-191">Identifies hello security token service (STS) that constructs and returns hello token.</span></span> <span data-ttu-id="a19f8-192">En los tokens de Hola que devuelve Azure AD, emisor de hello es sts.windows.net.</span><span class="sxs-lookup"><span data-stu-id="a19f8-192">In hello tokens that Azure AD returns, hello issuer is sts.windows.net.</span></span> <span data-ttu-id="a19f8-193">Hello GUID en el valor de notificación de emisor de hello es Hola Id. de inquilino de directorio de Azure AD Hola.</span><span class="sxs-lookup"><span data-stu-id="a19f8-193">hello GUID in hello Issuer claim value is hello tenant ID of hello Azure AD directory.</span></span> <span data-ttu-id="a19f8-194">Id. de inquilino de Hello es un identificador inmutable y confiable del directorio de Hola.</span><span class="sxs-lookup"><span data-stu-id="a19f8-194">hello tenant ID is an immutable and reliable identifier of hello directory.</span></span> <br><br> <span data-ttu-id="a19f8-195">**Valor de SAML de ejemplo**:</span><span class="sxs-lookup"><span data-stu-id="a19f8-195">**Example SAML Value**:</span></span> <br> `<Issuer>https://sts.windows.net/cbb1a5ac-f33b-45fa-9bf5-f37db0fed422/</Issuer>` <br><br> <span data-ttu-id="a19f8-196">**Valor de JWT de ejemplo**:</span><span class="sxs-lookup"><span data-stu-id="a19f8-196">**Example JWT Value**:</span></span> <br>  `"iss":”https://sts.windows.net/cbb1a5ac-f33b-45fa-9bf5-f37db0fed422/”` |
| `family_name` |<span data-ttu-id="a19f8-197">Apellido</span><span class="sxs-lookup"><span data-stu-id="a19f8-197">Last Name</span></span> |<span data-ttu-id="a19f8-198">Proporciona apellido hello, apellido o apellidos del usuario de hello tal como se define en el objeto de usuario de hello Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a19f8-198">Provides hello last name, surname, or family name of hello user as defined in hello Azure AD user object.</span></span> <br><br> <span data-ttu-id="a19f8-199">**Valor de SAML de ejemplo**:</span><span class="sxs-lookup"><span data-stu-id="a19f8-199">**Example SAML Value**:</span></span> <br> `<Attribute Name=” http://schemas.xmlsoap.org/ws/2005/05/identity/claims/surname”>`<br>`<AttributeValue>Miller<AttributeValue>` <br><br> <span data-ttu-id="a19f8-200">**Valor de JWT de ejemplo**:</span><span class="sxs-lookup"><span data-stu-id="a19f8-200">**Example JWT Value**:</span></span> <br> `"family_name": "Miller"` |
| `unique_name` |<span data-ttu-id="a19f8-201">Nombre</span><span class="sxs-lookup"><span data-stu-id="a19f8-201">Name</span></span> |<span data-ttu-id="a19f8-202">Proporciona un valor legible que identifica a Hola sujeto del token de Hola.</span><span class="sxs-lookup"><span data-stu-id="a19f8-202">Provides a human readable value that identifies hello subject of hello token.</span></span> <span data-ttu-id="a19f8-203">Este valor no está garantizado toobe único dentro de un inquilino y está diseñada toobe utilizada solo con fines de visualización.</span><span class="sxs-lookup"><span data-stu-id="a19f8-203">This value is not guaranteed toobe unique within a tenant and is designed toobe used only for display purposes.</span></span> <br><br> <span data-ttu-id="a19f8-204">**Valor de SAML de ejemplo**:</span><span class="sxs-lookup"><span data-stu-id="a19f8-204">**Example SAML Value**:</span></span> <br> `<Attribute Name=”http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name”>`<br>`<AttributeValue>frankm@contoso.com<AttributeValue>` <br><br> <span data-ttu-id="a19f8-205">**Valor de JWT de ejemplo**:</span><span class="sxs-lookup"><span data-stu-id="a19f8-205">**Example JWT Value**:</span></span> <br> `"unique_name": "frankm@contoso.com"` |
| `oid` |<span data-ttu-id="a19f8-206">Id. de objeto</span><span class="sxs-lookup"><span data-stu-id="a19f8-206">Object ID</span></span> |<span data-ttu-id="a19f8-207">Contiene un identificador único de un objeto en Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a19f8-207">Contains a unique identifier of an object in Azure AD.</span></span> <span data-ttu-id="a19f8-208">Este valor es inmutable y no se puede reasignar ni volver a usar.</span><span class="sxs-lookup"><span data-stu-id="a19f8-208">This value is immutable and cannot be reassigned or reused.</span></span> <span data-ttu-id="a19f8-209">Use tooidentify de Id. de objeto de hello un objeto de tooAzure de las consultas AD.</span><span class="sxs-lookup"><span data-stu-id="a19f8-209">Use hello object ID tooidentify an object in queries tooAzure AD.</span></span> <br><br> <span data-ttu-id="a19f8-210">**Valor de SAML de ejemplo**:</span><span class="sxs-lookup"><span data-stu-id="a19f8-210">**Example SAML Value**:</span></span> <br> `<Attribute Name="http://schemas.microsoft.com/identity/claims/objectidentifier">`<br>`<AttributeValue>528b2ac2-aa9c-45e1-88d4-959b53bc7dd0<AttributeValue>` <br><br> <span data-ttu-id="a19f8-211">**Valor de JWT de ejemplo**:</span><span class="sxs-lookup"><span data-stu-id="a19f8-211">**Example JWT Value**:</span></span> <br> `"oid":"528b2ac2-aa9c-45e1-88d4-959b53bc7dd0"` |
| `roles` |<span data-ttu-id="a19f8-212">Roles</span><span class="sxs-lookup"><span data-stu-id="a19f8-212">Roles</span></span> |<span data-ttu-id="a19f8-213">Control de acceso representa todos los roles de aplicación Hola asunto se ha concedido directa e indirectamente a través de la pertenencia a grupos y puede ser usado tooenforce basada en roles.</span><span class="sxs-lookup"><span data-stu-id="a19f8-213">Represents all application roles that hello subject has been granted both directly and indirectly through group membership and can be used tooenforce role-based access control.</span></span> <span data-ttu-id="a19f8-214">Roles de aplicación se definen de forma según la aplicación, a través de hello `appRoles` propiedad Hola del manifiesto de aplicación.</span><span class="sxs-lookup"><span data-stu-id="a19f8-214">Application roles are defined on a per-application basis, through hello `appRoles` property of hello application manifest.</span></span> <span data-ttu-id="a19f8-215">Hola `value` propiedad de cada rol de aplicación es el valor de Hola que aparece en la notificación de roles de Hola.</span><span class="sxs-lookup"><span data-stu-id="a19f8-215">hello `value` property of each application role is hello value that appears in hello roles claim.</span></span> <br><br> <span data-ttu-id="a19f8-216">**Valor de SAML de ejemplo**:</span><span class="sxs-lookup"><span data-stu-id="a19f8-216">**Example SAML Value**:</span></span> <br> `<Attribute Name="http://schemas.microsoft.com/ws/2008/06/identity/claims/role">`<br>`<AttributeValue>Admin</AttributeValue>` <br><br> <span data-ttu-id="a19f8-217">**Valor de JWT de ejemplo**:</span><span class="sxs-lookup"><span data-stu-id="a19f8-217">**Example JWT Value**:</span></span> <br> `“roles”: ["Admin", … ]` |
| `scp` |<span data-ttu-id="a19f8-218">Scope</span><span class="sxs-lookup"><span data-stu-id="a19f8-218">Scope</span></span> |<span data-ttu-id="a19f8-219">Indica la aplicación de cliente de hello suplantación permisos concedidos toohello.</span><span class="sxs-lookup"><span data-stu-id="a19f8-219">Indicates hello impersonation permissions granted toohello client application.</span></span> <span data-ttu-id="a19f8-220">permiso de Hello predeterminado es `user_impersonation`.</span><span class="sxs-lookup"><span data-stu-id="a19f8-220">hello default permission is `user_impersonation`.</span></span> <span data-ttu-id="a19f8-221">propietario de Hola de hello protegida recursos puede registrar valores adicionales en Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a19f8-221">hello owner of hello secured resource can register additional values in Azure AD.</span></span> <br><br> <span data-ttu-id="a19f8-222">**Valor de JWT de ejemplo**:</span><span class="sxs-lookup"><span data-stu-id="a19f8-222">**Example JWT Value**:</span></span> <br> `"scp": "user_impersonation"` |
| `sub` |<span data-ttu-id="a19f8-223">Asunto</span><span class="sxs-lookup"><span data-stu-id="a19f8-223">Subject</span></span> |<span data-ttu-id="a19f8-224">Identifica la entidad de seguridad de hello sobre qué Hola token valida información, como usuario de Hola de una aplicación.</span><span class="sxs-lookup"><span data-stu-id="a19f8-224">Identifies hello principal about which hello token asserts information, such as hello user of an application.</span></span> <span data-ttu-id="a19f8-225">Este valor es inmutable y no se pueden reasignar o volver a usar, por lo que puede ser usado tooperform las comprobaciones de autorización sin ningún riesgo.</span><span class="sxs-lookup"><span data-stu-id="a19f8-225">This value is immutable and cannot be reassigned or reused, so it can be used tooperform authorization checks safely.</span></span> <span data-ttu-id="a19f8-226">Porque siempre está presente en el asunto de Hola Hola tokens emite Azure AD de hello, se recomienda usar este valor en un sistema de autorización de uso general.</span><span class="sxs-lookup"><span data-stu-id="a19f8-226">Because hello subject is always present in hello tokens hello Azure AD issues, we recommended using this value in a general purpose authorization system.</span></span> <br> <span data-ttu-id="a19f8-227">`SubjectConfirmation` no es una notificación.</span><span class="sxs-lookup"><span data-stu-id="a19f8-227">`SubjectConfirmation` is not a claim.</span></span> <span data-ttu-id="a19f8-228">Describe cómo se comprueba el sujeto de Hola de token de Hola.</span><span class="sxs-lookup"><span data-stu-id="a19f8-228">It describes how hello subject of hello token is verified.</span></span> <span data-ttu-id="a19f8-229">`Bearer`indica que los firmantes de Hola se ha confirmado por medio de su posesión del token de Hola.</span><span class="sxs-lookup"><span data-stu-id="a19f8-229">`Bearer` indicates that hello subject is confirmed by their possession of hello token.</span></span> <br><br> <span data-ttu-id="a19f8-230">**Valor de SAML de ejemplo**:</span><span class="sxs-lookup"><span data-stu-id="a19f8-230">**Example SAML Value**:</span></span> <br> `<Subject>`<br>`<NameID>S40rgb3XjhFTv6EQTETkEzcgVmToHKRkZUIsJlmLdVc</NameID>`<br>`<SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer" />`<br>`</Subject>` <br><br> <span data-ttu-id="a19f8-231">**Valor de JWT de ejemplo**:</span><span class="sxs-lookup"><span data-stu-id="a19f8-231">**Example JWT Value**:</span></span> <br> `"sub":"92d0312b-26b9-4887-a338-7b00fb3c5eab"` |
| `tid` |<span data-ttu-id="a19f8-232">Id. de inquilino</span><span class="sxs-lookup"><span data-stu-id="a19f8-232">Tenant ID</span></span> |<span data-ttu-id="a19f8-233">Un identificador inmutable y no reutilizable que identifica el inquilino de directorio de Hola que emitió el token de Hola.</span><span class="sxs-lookup"><span data-stu-id="a19f8-233">An immutable, non-reusable identifier that identifies hello directory tenant that issued hello token.</span></span> <span data-ttu-id="a19f8-234">Puede utilizar este recurso de directorio específico del inquilino de tooaccess de valor en una aplicación de varios inquilinos.</span><span class="sxs-lookup"><span data-stu-id="a19f8-234">You can use this value tooaccess tenant-specific directory resources in a multi-tenant application.</span></span> <span data-ttu-id="a19f8-235">Por ejemplo, puede usar a este inquilino de hello tooidentify de valor en un toohello de llamada de API Graph.</span><span class="sxs-lookup"><span data-stu-id="a19f8-235">For example, you can use this value tooidentify hello tenant in a call toohello Graph API.</span></span> <br><br> <span data-ttu-id="a19f8-236">**Valor de SAML de ejemplo**:</span><span class="sxs-lookup"><span data-stu-id="a19f8-236">**Example SAML Value**:</span></span> <br> `<Attribute Name=”http://schemas.microsoft.com/identity/claims/tenantid”>`<br>`<AttributeValue>cbb1a5ac-f33b-45fa-9bf5-f37db0fed422<AttributeValue>` <br><br> <span data-ttu-id="a19f8-237">**Valor de JWT de ejemplo**:</span><span class="sxs-lookup"><span data-stu-id="a19f8-237">**Example JWT Value**:</span></span> <br> `"tid":"cbb1a5ac-f33b-45fa-9bf5-f37db0fed422"` |
| <span data-ttu-id="a19f8-238">`nbf`, `exp`</span><span class="sxs-lookup"><span data-stu-id="a19f8-238">`nbf`, `exp`</span></span> |<span data-ttu-id="a19f8-239">Vigencia del token</span><span class="sxs-lookup"><span data-stu-id="a19f8-239">Token Lifetime</span></span> |<span data-ttu-id="a19f8-240">Define el intervalo de tiempo de hello dentro del cual un token es válido.</span><span class="sxs-lookup"><span data-stu-id="a19f8-240">Defines hello time interval within which a token is valid.</span></span> <span data-ttu-id="a19f8-241">servicio Hola que valida el token de Hola debe comprobar que hello fecha actual está dentro de hello duración del token, else debe rechazar el token de Hola.</span><span class="sxs-lookup"><span data-stu-id="a19f8-241">hello service that validates hello token should verify that hello current date is within hello token lifetime, else it should reject hello token.</span></span> <span data-ttu-id="a19f8-242">Hello servicio podría permitir la toofive minutos más allá de tooaccount de intervalo de duración del token de Hola de las diferencias en el tiempo de reloj ("sesgo horario") entre Azure AD y el servicio de Hola.</span><span class="sxs-lookup"><span data-stu-id="a19f8-242">hello service might allow for up toofive minutes beyond hello token lifetime range tooaccount for any differences in clock time ("time skew") between Azure AD and hello service.</span></span> <br><br> <span data-ttu-id="a19f8-243">**Valor de SAML de ejemplo**:</span><span class="sxs-lookup"><span data-stu-id="a19f8-243">**Example SAML Value**:</span></span> <br> `<Conditions`<br>`NotBefore="2013-03-18T21:32:51.261Z"`<br>`NotOnOrAfter="2013-03-18T22:32:51.261Z"`<br>`>` <br><br> <span data-ttu-id="a19f8-244">**Valor de JWT de ejemplo**:</span><span class="sxs-lookup"><span data-stu-id="a19f8-244">**Example JWT Value**:</span></span> <br> `"nbf":1363289634, "exp":1363293234` |
| `upn` |<span data-ttu-id="a19f8-245">Nombre principal de usuario</span><span class="sxs-lookup"><span data-stu-id="a19f8-245">User Principal Name</span></span> |<span data-ttu-id="a19f8-246">Nombre de usuario principal de usuario de Hola Hola a almacenes.</span><span class="sxs-lookup"><span data-stu-id="a19f8-246">Stores hello user name of hello user principal.</span></span><br><br> <span data-ttu-id="a19f8-247">**Valor de JWT de ejemplo**:</span><span class="sxs-lookup"><span data-stu-id="a19f8-247">**Example JWT Value**:</span></span> <br> `"upn": frankm@contoso.com` |
| `ver` |<span data-ttu-id="a19f8-248">Versión</span><span class="sxs-lookup"><span data-stu-id="a19f8-248">Version</span></span> |<span data-ttu-id="a19f8-249">Almacena el número de versión de Hola de token de Hola.</span><span class="sxs-lookup"><span data-stu-id="a19f8-249">Stores hello version number of hello token.</span></span> <br><br> <span data-ttu-id="a19f8-250">**Valor de JWT de ejemplo**:</span><span class="sxs-lookup"><span data-stu-id="a19f8-250">**Example JWT Value**:</span></span> <br> `"ver": "1.0"` |

## <a name="access-tokens"></a><span data-ttu-id="a19f8-251">Tokens de acceso</span><span class="sxs-lookup"><span data-stu-id="a19f8-251">Access tokens</span></span>
<span data-ttu-id="a19f8-252">Tras una autenticación correcta, Azure AD devuelve un token de acceso, que puede ser usado tooaccess protegido recursos.</span><span class="sxs-lookup"><span data-stu-id="a19f8-252">Upon successful authentication, Azure AD returns an access token, which can be used tooaccess protected resources.</span></span> <span data-ttu-id="a19f8-253">token de acceso de Hello es una base 64 con codificación JSON Web Token (JWT) y se puede inspeccionar su contenido mediante la ejecución a través de un descodificador.</span><span class="sxs-lookup"><span data-stu-id="a19f8-253">hello access token is a base 64 encoded JSON Web Token (JWT) and its contents can be inspected by running it through a decoder.</span></span>

<span data-ttu-id="a19f8-254">Si la aplicación solo *utiliza* tooget acceso tooAPIs los tokens de acceso, se puede (y debe) trata los tokens de acceso como completamente opaco; son simplemente cadenas que su aplicación pasa tooresources en las solicitudes HTTP.</span><span class="sxs-lookup"><span data-stu-id="a19f8-254">If your app only *uses* access tokens tooget access tooAPIs, you can (and should) treat access tokens as completely opaque - they are just strings which your app can pass tooresources in HTTP requests.</span></span>

<span data-ttu-id="a19f8-255">Cuando se solicita un token de acceso, Azure AD también devuelve algunos metadatos sobre el token de acceso de hello para el consumo de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="a19f8-255">When you request an access token, Azure AD also returns some metadata about hello access token for your app's consumption.</span></span>  <span data-ttu-id="a19f8-256">Esta información incluye la hora de expiración Hola de token de acceso de Hola y ámbitos de hello para el que es válido.</span><span class="sxs-lookup"><span data-stu-id="a19f8-256">This information includes hello expiry time of hello access token and hello scopes for which it is valid.</span></span>  <span data-ttu-id="a19f8-257">Esto permite que su aplicación tooperform inteligente de almacenamiento en caché de tokens de acceso sin necesidad de abrir el token de acceso de hello propio tooparse.</span><span class="sxs-lookup"><span data-stu-id="a19f8-257">This allows your app tooperform intelligent caching of access tokens without having tooparse open hello access token itself.</span></span>

<span data-ttu-id="a19f8-258">Si la aplicación es una API protegida con Azure AD que espera tokens de acceso en las solicitudes HTTP, debe realizar validación e inspección de tokens de hello que recibirá.</span><span class="sxs-lookup"><span data-stu-id="a19f8-258">If your app is an API protected with Azure AD that expects access tokens in HTTP requests, then you should perform validation and inspection of hello tokens you receive.</span></span> <span data-ttu-id="a19f8-259">La aplicación debe realizar la validación de token de acceso de hello antes de usar recursos de tooaccess.</span><span class="sxs-lookup"><span data-stu-id="a19f8-259">Your app should perform validation of hello access token before using it tooaccess resources.</span></span> <span data-ttu-id="a19f8-260">Para obtener más información sobre la validación, consulte [Validación de los tokens](#validating-tokens).</span><span class="sxs-lookup"><span data-stu-id="a19f8-260">For more information on validation, please see [Validating Tokens](#validating-tokens).</span></span>  
<span data-ttu-id="a19f8-261">Para obtener más información sobre cómo toodo esto con. NET, vea [proteger una API Web mediante tokens de portador de Azure AD](active-directory-devquickstarts-webapi-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="a19f8-261">For details on how toodo this with .NET, see [Protect a Web API using Bearer tokens from Azure AD](active-directory-devquickstarts-webapi-dotnet.md).</span></span>

## <a name="refresh-tokens"></a><span data-ttu-id="a19f8-262">Tokens de actualización</span><span class="sxs-lookup"><span data-stu-id="a19f8-262">Refresh tokens</span></span>

<span data-ttu-id="a19f8-263">Actualizar tokens son tokens de seguridad, que puede usar su aplicación tooacquire nuevos tokens de acceso en un flujo de OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="a19f8-263">Refresh tokens are security tokens, which your app can use tooacquire new access tokens in an OAuth 2.0 flow.</span></span>  <span data-ttu-id="a19f8-264">Permite el tooresources de acceso a largo plazo de aplicación tooachieve en nombre del usuario sin requerir la interacción del usuario de Hola.</span><span class="sxs-lookup"><span data-stu-id="a19f8-264">It allows your app tooachieve long-term access tooresources on behalf of a user without requiring interaction by hello user.</span></span>

<span data-ttu-id="a19f8-265">Los tokens de actualización tienen varios recursos.</span><span class="sxs-lookup"><span data-stu-id="a19f8-265">Refresh tokens are multi-resource.</span></span>  <span data-ttu-id="a19f8-266">Que es toosay que recibe un token de actualización durante una solicitud de token para un recurso se puede canjear para tooa completamente diferentes recursos de tokens de acceso.</span><span class="sxs-lookup"><span data-stu-id="a19f8-266">That is toosay that a refresh token received during a token request for one resource can be redeemed for access tokens tooa completely different resource.</span></span> <span data-ttu-id="a19f8-267">toodo, Hola conjunto `resource` parámetro hello solicitud toohello recurso de destino.</span><span class="sxs-lookup"><span data-stu-id="a19f8-267">toodo this, set hello `resource` parameter in hello request toohello targeted resource.</span></span>

<span data-ttu-id="a19f8-268">Tokens de actualización son completamente opacos tooyour aplicación.</span><span class="sxs-lookup"><span data-stu-id="a19f8-268">Refresh tokens are completely opaque tooyour app.</span></span> <span data-ttu-id="a19f8-269">Son de larga duración, pero la aplicación no debe escribirse tooexpect que un token de actualización durarán durante cualquier período de tiempo.</span><span class="sxs-lookup"><span data-stu-id="a19f8-269">They are long-lived, but your app should not be written tooexpect that a refresh token will last for any period of time.</span></span>  <span data-ttu-id="a19f8-270">Los tokens de actualización pueden ser invalidados en cualquier momento por varios motivos.</span><span class="sxs-lookup"><span data-stu-id="a19f8-270">Refresh tokens can be invalidated at any moment in time for a variety of reasons.</span></span>  <span data-ttu-id="a19f8-271">Hola solo manera para que su tooknow de aplicación si un token de actualización es válido es tooattempt tooredeem, mediante la realización de un extremo de token de solicitud de token tooAzure AD.</span><span class="sxs-lookup"><span data-stu-id="a19f8-271">hello only way for your app tooknow if a refresh token is valid is tooattempt tooredeem it by making a token request tooAzure AD token endpoint.</span></span>

<span data-ttu-id="a19f8-272">Al canjear un token de actualización para un nuevo token de acceso, recibirá un nuevo token de actualización en la respuesta de token de Hola.</span><span class="sxs-lookup"><span data-stu-id="a19f8-272">When you redeem a refresh token for a new access token, you will receive a new refresh token in hello token response.</span></span>  <span data-ttu-id="a19f8-273">Debe guardar símbolo (token) de la actualización de hello recién emitido, reemplazando Hola que usó en la solicitud de saludo.</span><span class="sxs-lookup"><span data-stu-id="a19f8-273">You should save hello newly issued refresh token, replacing hello one you used in hello request.</span></span>  <span data-ttu-id="a19f8-274">Esto garantizará que los tokens de actualización sigan siendo válidos mientras sea posible.</span><span class="sxs-lookup"><span data-stu-id="a19f8-274">This will guarantee that your refresh tokens remain valid for as long as possible.</span></span>

## <a name="validating-tokens"></a><span data-ttu-id="a19f8-275">Validación de los tokens</span><span class="sxs-lookup"><span data-stu-id="a19f8-275">Validating tokens</span></span>

<span data-ttu-id="a19f8-276">En orden toovalidate una id_token o una access_token, la aplicación debe validar notificaciones de hello y firma del token de ambos Hola.</span><span class="sxs-lookup"><span data-stu-id="a19f8-276">In order toovalidate an id_token or an access_token, your app should validate both hello token's signature and hello claims.</span></span> <span data-ttu-id="a19f8-277">En los tokens de acceso de toovalidate de orden, la aplicación también debe validar emisor hello, audiencia de Hola y Hola firmar los tokens.</span><span class="sxs-lookup"><span data-stu-id="a19f8-277">In order toovalidate access tokens, your app should also validate hello issuer, hello audience and hello signing tokens.</span></span> <span data-ttu-id="a19f8-278">Es necesario toobe valida con respecto a valores de hello en el documento de descubrimiento de hello OpenID.</span><span class="sxs-lookup"><span data-stu-id="a19f8-278">These need toobe validated against hello values in hello OpenID discovery document.</span></span> <span data-ttu-id="a19f8-279">Por ejemplo, se encuentra en la versión independiente de inquilino de Hola de documento de hello [https://login.microsoftonline.com/common/.well-known/openid-configuration](https://login.microsoftonline.com/common/.well-known/openid-configuration).</span><span class="sxs-lookup"><span data-stu-id="a19f8-279">For example, hello tenant independent version of hello document is located at [https://login.microsoftonline.com/common/.well-known/openid-configuration](https://login.microsoftonline.com/common/.well-known/openid-configuration).</span></span> <span data-ttu-id="a19f8-280">Middleware de Azure AD tiene capacidades integradas para validar los tokens de acceso, y puede examinar a través de nuestro [ejemplos](https://docs.microsoft.com/en-us/azure/active-directory/active-directory-code-samples) toofind en lenguaje de Hola de su elección.</span><span class="sxs-lookup"><span data-stu-id="a19f8-280">Azure AD middleware has built-in capabilities for validating access tokens, and you can browse through our [samples](https://docs.microsoft.com/en-us/azure/active-directory/active-directory-code-samples) toofind one in hello language of your choice.</span></span> <span data-ttu-id="a19f8-281">Para obtener más información sobre cómo tooexplicitly validar un token JWT, vea hello [manual ejemplo de validación de JWT](https://github.com/Azure-Samples/active-directory-dotnet-webapi-manual-jwt-validation).</span><span class="sxs-lookup"><span data-stu-id="a19f8-281">For more information on how tooexplicitly validate a JWT token, please see hello [manual JWT validation sample](https://github.com/Azure-Samples/active-directory-dotnet-webapi-manual-jwt-validation).</span></span>  

<span data-ttu-id="a19f8-282">Se proporcionan las bibliotecas y ejemplos de código que muestran cómo tooeasily administran la validación de token - hello debajo de información simplemente se proporciona para quienes desea hello toounderstand subyacente proceso.</span><span class="sxs-lookup"><span data-stu-id="a19f8-282">We provide libraries and code samples that show how tooeasily handle token validation - hello below information is simply provided for those who wish toounderstand hello underlying process.</span></span>  <span data-ttu-id="a19f8-283">También hay varias bibliotecas de código abierto de terceros para la validación de JWT; hay al menos una opción para casi cualquier plataforma e idioma.</span><span class="sxs-lookup"><span data-stu-id="a19f8-283">There are also several third party open source libraries available for JWT validation - there is at least one option for almost every platform and language out there.</span></span> <span data-ttu-id="a19f8-284">Para más información acerca de los ejemplos de código y las bibliotecas de autenticación de Azure AD, consulte [Bibliotecas de autenticación de Azure Active Directory](active-directory-authentication-libraries.md).</span><span class="sxs-lookup"><span data-stu-id="a19f8-284">For more information about Azure AD authentication libraries and code samples, please see [Azure AD authentication libraries](active-directory-authentication-libraries.md).</span></span>

#### <a name="validating-hello-signature"></a><span data-ttu-id="a19f8-285">Validar la firma de Hola</span><span class="sxs-lookup"><span data-stu-id="a19f8-285">Validating hello signature</span></span>

<span data-ttu-id="a19f8-286">Un JWT contiene tres segmentos, que están separados por hello `.` caracteres.</span><span class="sxs-lookup"><span data-stu-id="a19f8-286">A JWT contains three segments, which are separated by hello `.` character.</span></span>  <span data-ttu-id="a19f8-287">primer segmento de Hola se conoce como hello **encabezado**, hello en segundo lugar como hello **cuerpo**, hello en tercer lugar como hello y **firma**.</span><span class="sxs-lookup"><span data-stu-id="a19f8-287">hello first segment is known as hello **header**, hello second as hello **body**, and hello third as hello **signature**.</span></span>  <span data-ttu-id="a19f8-288">segmento de firma de Hello puede ser usado toovalidate Hola autenticidad del token de Hola para que lo puede ser de confianza para la aplicación.</span><span class="sxs-lookup"><span data-stu-id="a19f8-288">hello signature segment can be used toovalidate hello authenticity of hello token so that it can be trusted by your app.</span></span>

<span data-ttu-id="a19f8-289">Los tokens emitidos por Azure AD se firman con algoritmos de cifrado asimétrico estándar del sector, como RSA 256.</span><span class="sxs-lookup"><span data-stu-id="a19f8-289">Tokens issued by Azure AD are signed using industry standard asymmetric encryption algorithms, such as RSA 256.</span></span> <span data-ttu-id="a19f8-290">encabezado de Hola de hello JWT contiene información acerca de la clave de Hola y método de cifrado usa el token de Hola toosign:</span><span class="sxs-lookup"><span data-stu-id="a19f8-290">hello header of hello JWT contains information about hello key and encryption method used toosign hello token:</span></span>

```
{
  "typ": "JWT",
  "alg": "RS256",
  "x5t": "kriMPdmBvx68skT8-mPAB3BseeA"
}
```

<span data-ttu-id="a19f8-291">Hola `alg` notificación indica el algoritmo de Hola que era el token de hello toosign utilizados, mientras se realizaba hello `x5t` notificación indica la clave pública determinada Hola que era el token de hello toosign usado.</span><span class="sxs-lookup"><span data-stu-id="a19f8-291">hello `alg` claim indicates hello algorithm that was used toosign hello token, while hello `x5t` claim indicates hello particular public key that was used toosign hello token.</span></span>

<span data-ttu-id="a19f8-292">En cualquier momento, Azure AD puede firmar un id_token mediante cualquiera de un determinado conjunto de pares de claves pública y privada.</span><span class="sxs-lookup"><span data-stu-id="a19f8-292">At any given point in time, Azure AD may sign an id_token using any one of a certain set of public-private key pairs.</span></span> <span data-ttu-id="a19f8-293">Azure AD gira el conjunto posibles Hola de claves de forma periódica, por lo que la aplicación debe escribirse toohandle esos clave cambia automáticamente.</span><span class="sxs-lookup"><span data-stu-id="a19f8-293">Azure AD rotates hello possible set of keys on a periodic basis, so your app should be written toohandle those key changes automatically.</span></span>  <span data-ttu-id="a19f8-294">Un toocheck frecuencia razonable para claves públicas de las actualizaciones toohello usa Azure AD es cada 24 horas.</span><span class="sxs-lookup"><span data-stu-id="a19f8-294">A reasonable frequency toocheck for updates toohello public keys used by Azure AD is every 24 hours.</span></span>

<span data-ttu-id="a19f8-295">Puede adquirir Hola firmar firma de datos de la clave toovalidate necesarios hello mediante el uso de hello OpenID Connect metadatos documento que se encuentra en:</span><span class="sxs-lookup"><span data-stu-id="a19f8-295">You can acquire hello signing key data necessary toovalidate hello signature by using hello OpenID Connect metadata document located at:</span></span>

```
https://login.microsoftonline.com/common/.well-known/openid-configuration
```

> [!TIP]
> <span data-ttu-id="a19f8-296">Pruebe esta dirección URL en un explorador.</span><span class="sxs-lookup"><span data-stu-id="a19f8-296">Try this URL in a browser!</span></span>
> 
> 

<span data-ttu-id="a19f8-297">Este documento de metadatos es un objeto JSON que contiene varias piezas útiles de información, como la ubicación de Hola de hello varios extremos necesarios para realizar la autenticación de OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="a19f8-297">This metadata document is a JSON object containing several useful pieces of information, such as hello location of hello various endpoints required for performing OpenID Connect authentication.</span></span>  

<span data-ttu-id="a19f8-298">También incluye un `jwks_uri`, que proporciona la ubicación de Hola de hello del conjunto de claves públicas utiliza toosign símbolos (tokens).</span><span class="sxs-lookup"><span data-stu-id="a19f8-298">It also includes a `jwks_uri`, which gives hello location of hello set of public keys used toosign tokens.</span></span>  <span data-ttu-id="a19f8-299">documento JSON de Hello situada hello `jwks_uri` contiene toda la información de clave pública de hello en uso en ese momento determinado.</span><span class="sxs-lookup"><span data-stu-id="a19f8-299">hello JSON document located at hello `jwks_uri` contains all of hello public key information in use at that particular moment in time.</span></span>  <span data-ttu-id="a19f8-300">Puede usar su aplicación Hola `kid` de notificación en hello JWT encabezado tooselect qué clave pública en este documento ha sido toosign usa un símbolo concreto.</span><span class="sxs-lookup"><span data-stu-id="a19f8-300">Your app can use hello `kid` claim in hello JWT header tooselect which public key in this document has been used toosign a particular token.</span></span>  <span data-ttu-id="a19f8-301">A continuación, puede realizar la validación de firma mediante una clave pública correcta Hola y Hola un algoritmo indicado.</span><span class="sxs-lookup"><span data-stu-id="a19f8-301">It can then perform signature validation using hello correct public key and hello indicated algorithm.</span></span>

<span data-ttu-id="a19f8-302">Realizar la validación de firma es ámbito de hello fuera de este documento, hay muchas bibliotecas de código abierto disponible para ayudarle a hacerlo si es necesario.</span><span class="sxs-lookup"><span data-stu-id="a19f8-302">Performing signature validation is outside hello scope of this document - there are many open source libraries available for helping you do so if necessary.</span></span>

#### <a name="validating-hello-claims"></a><span data-ttu-id="a19f8-303">Validación de notificaciones de Hola</span><span class="sxs-lookup"><span data-stu-id="a19f8-303">Validating hello claims</span></span>

<span data-ttu-id="a19f8-304">Cuando la aplicación recibe un token (una id_token al inicio de sesión de usuario o un token de acceso como un token de portador en la solicitud HTTP de hello) también debe realizar algunas comprobaciones frente a las notificaciones de hello en el token de Hola.</span><span class="sxs-lookup"><span data-stu-id="a19f8-304">When your app receives a token (either an id_token upon user sign-in, or an access token as a bearer token in hello HTTP request) it should also perform a few checks against hello claims in hello token.</span></span>  <span data-ttu-id="a19f8-305">Estas incluyen, pero no se limitan a:</span><span class="sxs-lookup"><span data-stu-id="a19f8-305">These include but are not limited to:</span></span>

* <span data-ttu-id="a19f8-306">Hola **audiencia** notificación - tooverify que Hola token estaba previsto toobe dado tooyour aplicación.</span><span class="sxs-lookup"><span data-stu-id="a19f8-306">hello **Audience** claim - tooverify that hello token was intended toobe given tooyour app.</span></span>
* <span data-ttu-id="a19f8-307">Hola **no antes** y **tiempo de expiración** notificaciones - tooverify que Hola token no ha expirado.</span><span class="sxs-lookup"><span data-stu-id="a19f8-307">hello **Not Before** and **Expiration Time** claims - tooverify that hello token has not expired.</span></span>
* <span data-ttu-id="a19f8-308">Hola **emisor** notificación - tooverify que Hola token se emite realmente tooyour aplicación Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a19f8-308">hello **Issuer** claim - tooverify that hello token was indeed issued tooyour app by Azure AD.</span></span>
* <span data-ttu-id="a19f8-309">Hola **Nonce** -toomitigate un ataque de reproducción de tokens.</span><span class="sxs-lookup"><span data-stu-id="a19f8-309">hello **Nonce** -  toomitigate a token replay attack.</span></span>
* <span data-ttu-id="a19f8-310">y mucho más...</span><span class="sxs-lookup"><span data-stu-id="a19f8-310">and more...</span></span>

<span data-ttu-id="a19f8-311">Para obtener una lista completa de la aplicación debe realizar para los Tokens de Id. de validaciones de notificación, consulte toohello [especificación OpenID Connect](http://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation).</span><span class="sxs-lookup"><span data-stu-id="a19f8-311">For a full list of claim validations your app should perform for ID Tokens, refer toohello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation).</span></span> <span data-ttu-id="a19f8-312">Detalles de los valores esperados de Hola para estas notificaciones se incluyen en hello anterior [id_token sección](#id-tokens) sección.</span><span class="sxs-lookup"><span data-stu-id="a19f8-312">Details of hello expected values for these claims are included in hello preceding [id_token section](#id-tokens) section.</span></span>

## <a name="sample-tokens"></a><span data-ttu-id="a19f8-313">Tokens de ejemplo</span><span class="sxs-lookup"><span data-stu-id="a19f8-313">Sample Tokens</span></span>

<span data-ttu-id="a19f8-314">Esta sección muestra ejemplos de tokens SAML y JWT que Azure AD devuelve.</span><span class="sxs-lookup"><span data-stu-id="a19f8-314">This section displays samples of SAML and JWT tokens that Azure AD returns.</span></span> <span data-ttu-id="a19f8-315">Estos ejemplos le permiten ver notificaciones de hello en contexto.</span><span class="sxs-lookup"><span data-stu-id="a19f8-315">These samples let you see hello claims in context.</span></span>

### <a name="saml-token"></a><span data-ttu-id="a19f8-316">Token SAML</span><span class="sxs-lookup"><span data-stu-id="a19f8-316">SAML Token</span></span>

<span data-ttu-id="a19f8-317">Este es un ejemplo de token SAML típico.</span><span class="sxs-lookup"><span data-stu-id="a19f8-317">This is a sample of a typical SAML token.</span></span>

    <?xml version="1.0" encoding="UTF-8"?>
    <t:RequestSecurityTokenResponse xmlns:t="http://schemas.xmlsoap.org/ws/2005/02/trust">
      <t:Lifetime>
        <wsu:Created xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">2014-12-24T05:15:47.060Z</wsu:Created>
        <wsu:Expires xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">2014-12-24T06:15:47.060Z</wsu:Expires>
      </t:Lifetime>
      <wsp:AppliesTo xmlns:wsp="http://schemas.xmlsoap.org/ws/2004/09/policy">
        <EndpointReference xmlns="http://www.w3.org/2005/08/addressing">
          <Address>https://contoso.onmicrosoft.com/MyWebApp</Address>
        </EndpointReference>
      </wsp:AppliesTo>
      <t:RequestedSecurityToken>
        <Assertion xmlns="urn:oasis:names:tc:SAML:2.0:assertion" ID="_3ef08993-846b-41de-99df-b7f3ff77671b" IssueInstant="2014-12-24T05:20:47.060Z" Version="2.0">
          <Issuer>https://sts.windows.net/b9411234-09af-49c2-b0c3-653adc1f376e/</Issuer>
          <ds:Signature xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
            <ds:SignedInfo>
              <ds:CanonicalizationMethod Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#" />
              <ds:SignatureMethod Algorithm="http://www.w3.org/2001/04/xmldsig-more#rsa-sha256" />
              <ds:Reference URI="#_3ef08993-846b-41de-99df-b7f3ff77671b">
                <ds:Transforms>
                  <ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature" />
                  <ds:Transform Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#" />
                </ds:Transforms>
                <ds:DigestMethod Algorithm="http://www.w3.org/2001/04/xmlenc#sha256" />
                <ds:DigestValue>cV1J580U1pD24hEyGuAxrbtgROVyghCqI32UkER/nDY=</ds:DigestValue>
              </ds:Reference>
            </ds:SignedInfo>
            <ds:SignatureValue>j+zPf6mti8Rq4Kyw2NU2nnu0pbJU1z5bR/zDaKaO7FCTdmjUzAvIVfF8pspVR6CbzcYM3HOAmLhuWmBkAAk6qQUBmKsw+XlmF/pB/ivJFdgZSLrtlBs1P/WBV3t04x6fRW4FcIDzh8KhctzJZfS5wGCfYw95er7WJxJi0nU41d7j5HRDidBoXgP755jQu2ZER7wOYZr6ff+ha+/Aj3UMw+8ZtC+WCJC3yyENHDAnp2RfgdElJal68enn668fk8pBDjKDGzbNBO6qBgFPaBT65YvE/tkEmrUxdWkmUKv3y7JWzUYNMD9oUlut93UTyTAIGOs5fvP9ZfK2vNeMVJW7Xg==</ds:SignatureValue>
            <KeyInfo xmlns="http://www.w3.org/2000/09/xmldsig#">
              <X509Data>
                <X509Certificate>MIIDPjCCAabcAwIBAgIQsRiM0jheFZhKk49YD0SK1TAJBgUrDgMCHQUAMC0xKzApBgNVBAMTImFjY291bnRzLmFjY2Vzc2NvbnRyb2wud2luZG93cy5uZXQwHhcNMTQwMTAxMDcwMDAwWhcNMTYwMTAxMDcwMDAwWjAtMSswKQYDVQQDEyJhY2NvdW50cy5hY2Nlc3Njb250cm9sLndpbmRvd3MubmV0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAkSCWg6q9iYxvJE2NIhSyOiKvqoWCO2GFipgH0sTSAs5FalHQosk9ZNTztX0ywS/AHsBeQPqYygfYVJL6/EgzVuwRk5txr9e3n1uml94fLyq/AXbwo9yAduf4dCHTP8CWR1dnDR+Qnz/4PYlWVEuuHHONOw/blbfdMjhY+C/BYM2E3pRxbohBb3x//CfueV7ddz2LYiH3wjz0QS/7kjPiNCsXcNyKQEOTkbHFi3mu0u13SQwNddhcynd/GTgWN8A+6SN1r4hzpjFKFLbZnBt77ACSiYx+IHK4Mp+NaVEi5wQtSsjQtI++XsokxRDqYLwus1I1SihgbV/STTg5enufuwIDAQABo2IwYDBeBgNVHQEEVzBVgBDLebM6bK3BjWGqIBrBNFeNoS8wLTErMCkGA1UEAxMiYWNjb3VudHMuYWNjZXNzY29udHJvbC53aW5kb3dzLm5ldIIQsRiM0jheFZhKk49YD0SK1TAJBgUrDgMCHQUAA4IBAQCJ4JApryF77EKC4zF5bUaBLQHQ1PNtA1uMDbdNVGKCmSp8M65b8h0NwlIjGGGy/unK8P6jWFdm5IlZ0YPTOgzcRZguXDPj7ajyvlVEQ2K2ICvTYiRQqrOhEhZMSSZsTKXFVwNfW6ADDkN3bvVOVbtpty+nBY5UqnI7xbcoHLZ4wYD251uj5+lo13YLnsVrmQ16NCBYq2nQFNPuNJw6t3XUbwBHXpF46aLT1/eGf/7Xx6iy8yPJX4DyrpFTutDz882RWofGEO5t4Cw+zZg70dJ/hH/ODYRMorfXEW+8uKmXMKmX2wyxMKvfiPbTy5LmAU8Jvjs2tLg4rOBcXWLAIarZ</X509Certificate>
              </X509Data>
            </KeyInfo>
          </ds:Signature>
          <Subject>
            <NameID Format="urn:oasis:names:tc:SAML:2.0:nameid-format:persistent">m_H3naDei2LNxUmEcWd0BZlNi_jVET1pMLR6iQSuYmo</NameID>
            <SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer" />
          </Subject>
          <Conditions NotBefore="2014-12-24T05:15:47.060Z" NotOnOrAfter="2014-12-24T06:15:47.060Z">
            <AudienceRestriction>
              <Audience>https://contoso.onmicrosoft.com/MyWebApp</Audience>
            </AudienceRestriction>
          </Conditions>
          <AttributeStatement>
            <Attribute Name="http://schemas.microsoft.com/identity/claims/objectidentifier">
              <AttributeValue>a1addde8-e4f9-4571-ad93-3059e3750d23</AttributeValue>
            </Attribute>
            <Attribute Name="http://schemas.microsoft.com/identity/claims/tenantid">
              <AttributeValue>b9411234-09af-49c2-b0c3-653adc1f376e</AttributeValue>
            </Attribute>
            <Attribute Name="http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name">
              <AttributeValue>sample.admin@contoso.onmicrosoft.com</AttributeValue>
            </Attribute>
            <Attribute Name="http://schemas.xmlsoap.org/ws/2005/05/identity/claims/surname">
              <AttributeValue>Admin</AttributeValue>
            </Attribute>
            <Attribute Name="http://schemas.xmlsoap.org/ws/2005/05/identity/claims/givenname">
              <AttributeValue>Sample</AttributeValue>
            </Attribute>
            <Attribute Name="http://schemas.microsoft.com/ws/2008/06/identity/claims/groups">
              <AttributeValue>5581e43f-6096-41d4-8ffa-04e560bab39d</AttributeValue>
              <AttributeValue>07dd8a89-bf6d-4e81-8844-230b77145381</AttributeValue>
              <AttributeValue>0e129f4g-6b0a-4944-982d-f776000632af</AttributeValue>
              <AttributeValue>3ee07328-52ef-4739-a89b-109708c22fb5</AttributeValue>
              <AttributeValue>329k14b3-1851-4b94-947f-9a4dacb595f4</AttributeValue>
              <AttributeValue>6e32c650-9b0a-4491-b429-6c60d2ca9a42</AttributeValue>
              <AttributeValue>f3a169a7-9a58-4e8f-9d47-b70029v07424</AttributeValue>
              <AttributeValue>8e2c86b2-b1ad-476d-9574-544d155aa6ff</AttributeValue>
              <AttributeValue>1bf80264-ff24-4866-b22c-6212e5b9a847</AttributeValue>
              <AttributeValue>4075f9c3-072d-4c32-b542-03e6bc678f3e</AttributeValue>
              <AttributeValue>76f80527-f2cd-46f4-8c52-8jvd8bc749b1</AttributeValue>
              <AttributeValue>0ba31460-44d0-42b5-b90c-47b3fcc48e35</AttributeValue>
              <AttributeValue>edd41703-8652-4948-94a7-2d917bba7667</AttributeValue>
            </Attribute>
            <Attribute Name="http://schemas.microsoft.com/identity/claims/identityprovider">
              <AttributeValue>https://sts.windows.net/b9411234-09af-49c2-b0c3-653adc1f376e/</AttributeValue>
            </Attribute>
          </AttributeStatement>
          <AuthnStatement AuthnInstant="2014-12-23T18:51:11.000Z">
            <AuthnContext>
              <AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:Password</AuthnContextClassRef>
            </AuthnContext>
          </AuthnStatement>
        </Assertion>
      </t:RequestedSecurityToken>
      <t:RequestedAttachedReference>
        <SecurityTokenReference xmlns="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:d3p1="http://docs.oasis-open.org/wss/oasis-wss-wssecurity-secext-1.1.xsd" d3p1:TokenType="http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLV2.0">
          <KeyIdentifier ValueType="http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLID">_3ef08993-846b-41de-99df-b7f3ff77671b</KeyIdentifier>
        </SecurityTokenReference>
      </t:RequestedAttachedReference>
      <t:RequestedUnattachedReference>
        <SecurityTokenReference xmlns="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:d3p1="http://docs.oasis-open.org/wss/oasis-wss-wssecurity-secext-1.1.xsd" d3p1:TokenType="http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLV2.0">
          <KeyIdentifier ValueType="http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLID">_3ef08993-846b-41de-99df-b7f3ff77671b</KeyIdentifier>
        </SecurityTokenReference>
      </t:RequestedUnattachedReference>
      <t:TokenType>http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLV2.0</t:TokenType>
      <t:RequestType>http://schemas.xmlsoap.org/ws/2005/02/trust/Issue</t:RequestType>
      <t:KeyType>http://schemas.xmlsoap.org/ws/2005/05/identity/NoProofKey</t:KeyType>
    </t:RequestSecurityTokenResponse>

### <a name="jwt-token---user-impersonation"></a><span data-ttu-id="a19f8-318">Token JWT: suplantación de usuario</span><span class="sxs-lookup"><span data-stu-id="a19f8-318">JWT Token - User Impersonation</span></span>
<span data-ttu-id="a19f8-319">A continuación se muestra un ejemplo de token web JSON (JWT) típico que se usa en un flujo de concesión de códigos de autorización.</span><span class="sxs-lookup"><span data-stu-id="a19f8-319">This is a sample of a typical JSON web token (JWT) used in an authorization code grant flow.</span></span>
<span data-ttu-id="a19f8-320">En suma tooclaims, token de hello incluye un número de versión en **ver** y **appidacr**, Hola autenticación contexto referencia de clase, que indica cómo se autenticó el cliente de Hola.</span><span class="sxs-lookup"><span data-stu-id="a19f8-320">In addition tooclaims, hello token includes a version number in **ver** and **appidacr**, hello authentication context class reference, which indicates how hello client was authenticated.</span></span> <span data-ttu-id="a19f8-321">Para un cliente público, el valor de hello es 0.</span><span class="sxs-lookup"><span data-stu-id="a19f8-321">For a public client, hello value is 0.</span></span> <span data-ttu-id="a19f8-322">Si se usó un Id. de cliente o el secreto del cliente, el valor de hello es 1.</span><span class="sxs-lookup"><span data-stu-id="a19f8-322">If a client ID or client secret was used, hello value is 1.</span></span>

    {
     typ: "JWT",
     alg: "RS256",
     x5t: "kriMPdmBvx68skT8-mPAB3BseeA"
    }.
    {
     aud: "https://contoso.onmicrosoft.com/scratchservice",
     iss: "https://sts.windows.net/b9411234-09af-49c2-b0c3-653adc1f376e/",
     iat: 1416968588,
     nbf: 1416968588,
     exp: 1416972488,
     ver: "1.0",
     tid: "b9411234-09af-49c2-b0c3-653adc1f376e",
     amr: [
      "pwd"
     ],
     roles: [
      "Admin"
     ],
     oid: "6526e123-0ff9-4fec-ae64-a8d5a77cf287",
     upn: "sample.user@contoso.onmicrosoft.com",
     unique_name: "sample.user@contoso.onmicrosoft.com",
     sub: "yf8C5e_VRkR1egGxJSDt5_olDFay6L5ilBA81hZhQEI",
     family_name: "User",
     given_name: "Sample",
     groups: [
      "0e129f6b-6b0a-4944-982d-f776000632af",
      "323b13b3-1851-4b94-947f-9a4dacb595f4",
      "6e32c250-9b0a-4491-b429-6c60d2ca9a42",
      "f3a161a7-9a58-4e8f-9d47-b70022a07424",
      "8d4c81b2-b1ad-476d-9574-544d155aa6ff",
      "1bf80164-ff24-4866-b19c-6212e5b9a847",
      "76f80127-f2cd-46f4-8c52-8edd8bc749b1",
      "0ba27160-44d0-42b5-b90c-47b3fcc48e35"
     ],
     appid: "b075ddef-0efa-123b-997b-de1337c29185",
     appidacr: "1",
     scp: "user_impersonation",
     acr: "1"
    }.

## <a name="related-content"></a><span data-ttu-id="a19f8-323">Contenido relacionado</span><span class="sxs-lookup"><span data-stu-id="a19f8-323">Related content</span></span>
* <span data-ttu-id="a19f8-324">Vea hello Azure AD Graph [operaciones de directiva](https://msdn.microsoft.com/library/azure/ad/graph/api/policy-operations) hello y [entidad directiva](https://msdn.microsoft.com/library/azure/ad/graph/api/entity-and-complex-type-reference#policy-entity), toolearn más acerca de cómo administrar la directiva de duración del token a través de hello Azure AD Graph API.</span><span class="sxs-lookup"><span data-stu-id="a19f8-324">See hello Azure AD Graph [Policy operations](https://msdn.microsoft.com/library/azure/ad/graph/api/policy-operations) and hello [Policy entity](https://msdn.microsoft.com/library/azure/ad/graph/api/entity-and-complex-type-reference#policy-entity), toolearn more about managing token lifetime policy via hello Azure AD Graph API.</span></span>
* <span data-ttu-id="a19f8-325">Para más información y ejemplos acerca de cómo administrar las directivas a través de los cmdlets de PowerShell, incluidos ejemplos, consulte [Configurable Token Lifetimes in Azure Active Directory](../active-directory-configurable-token-lifetimes.md) (Vigencias de tokens configurables en Azure Active Directory).</span><span class="sxs-lookup"><span data-stu-id="a19f8-325">For more information and samples on managing policies via PowerShell cmdlets, including samples, see [Configurable token lifetimes in Azure AD](../active-directory-configurable-token-lifetimes.md).</span></span> 
