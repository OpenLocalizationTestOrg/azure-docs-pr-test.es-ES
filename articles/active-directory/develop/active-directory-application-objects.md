---
title: "Objetos de aplicación y de entidad de servicio de Azure Active Directory | Microsoft Docs"
description: "Una descripción de la relación entre los objetos de aplicación y de entidad de servicio en Azure Active Directory"
documentationcenter: dev-center-name
author: dstrockis
manager: mbaldwin
services: active-directory
editor: 
ms.assetid: adfc0569-dc91-48fe-92c3-b5b4833703de
ms.service: active-directory
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: identity
ms.date: 04/28/2016
ms.author: dastrock
ms.custom: aaddev
ms.openlocfilehash: 4c75ade5f4e47ef64ccc0fe8af4b174c377dc7bc
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 07/11/2017
---
# <a name="application-and-service-principal-objects-in-azure-active-directory-azure-ad"></a><span data-ttu-id="d2172-103">Objetos de aplicación y de entidad de servicio de Azure Active Directory (Azure AD)</span><span class="sxs-lookup"><span data-stu-id="d2172-103">Application and service principal objects in Azure Active Directory (Azure AD)</span></span>
<span data-ttu-id="d2172-104">En ocasiones, puede malinterpretarse el significado del término "aplicación" cuando se utiliza en el contexto de Azure AD.</span><span class="sxs-lookup"><span data-stu-id="d2172-104">Sometimes the meaning of the term "application" can be misunderstood when used in the context of Azure AD.</span></span> <span data-ttu-id="d2172-105">El objetivo de este artículo es intentar aclararlo, definiendo los aspectos concretos y conceptuales de la integración de aplicaciones de Azure AD con un ejemplo de registro y su consentimiento para una [aplicación multiinquilino](active-directory-dev-glossary.md#multi-tenant-application).</span><span class="sxs-lookup"><span data-stu-id="d2172-105">The goal of this article is to make it clearer, by clarifying conceptual and concrete aspects of Azure AD application integration, with an illustration of registration and consent for a [multi-tenant application](active-directory-dev-glossary.md#multi-tenant-application).</span></span>

## <a name="overview"></a><span data-ttu-id="d2172-106">Información general</span><span class="sxs-lookup"><span data-stu-id="d2172-106">Overview</span></span>
<span data-ttu-id="d2172-107">Una aplicación que se ha integrado con Azure AD tiene implicaciones que van más allá de los aspectos de software.</span><span class="sxs-lookup"><span data-stu-id="d2172-107">An application that has been integrated with Azure AD has implications that go beyond the software aspect.</span></span> <span data-ttu-id="d2172-108">"Aplicación" se utiliza con frecuencia como un término conceptual, que hace referencia a no solo la aplicación de software, pero también a su registro de Azure AD y rol en "conversaciones" de autenticación o autorización en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="d2172-108">"Application" is frequently used as a conceptual term, referring to not only the the application software, but also its Azure AD registration and role in authentication/authorization "conversations" at runtime.</span></span> <span data-ttu-id="d2172-109">Por definición, una aplicación puede funcionar en un rol de [cliente](active-directory-dev-glossary.md#client-application) (al consumir un recurso), un rol de [servidor de recursos](active-directory-dev-glossary.md#resource-server) (al exponer las API a los clientes), o incluso ambos.</span><span class="sxs-lookup"><span data-stu-id="d2172-109">By definition, an application can function in a [client](active-directory-dev-glossary.md#client-application) role (consuming a resource), a [resource server](active-directory-dev-glossary.md#resource-server) role (exposing APIs to clients), or even both.</span></span> <span data-ttu-id="d2172-110">El protocolo de conversación se define mediante un [flujo de concesión de autorizaciones de OAuth 2.0](active-directory-dev-glossary.md#authorization-grant), que permite que el cliente o recurso acceda o proteja los datos de un recurso respectivamente.</span><span class="sxs-lookup"><span data-stu-id="d2172-110">The conversation protocol is defined by an [OAuth 2.0 Authorization Grant flow](active-directory-dev-glossary.md#authorization-grant), allowing the client/resource to access/protect a resource's data respectively.</span></span> <span data-ttu-id="d2172-111">Ahora vamos a profundizar un poco más y ver cómo el modelo de aplicaciones de Azure AD representa una aplicación.</span><span class="sxs-lookup"><span data-stu-id="d2172-111">Now let's go a level deeper, and see how the Azure AD application model represents an application at design-time and run-time.</span></span> 

## <a name="application-registration"></a><span data-ttu-id="d2172-112">Registro de la aplicación</span><span class="sxs-lookup"><span data-stu-id="d2172-112">Application registration</span></span>
<span data-ttu-id="d2172-113">Al registrar una aplicación de Azure AD en [Azure Portal][AZURE-Portal], se crean dos objetos en el inquilino de Azure AD: un objeto de aplicación y un objeto de entidad de servicio.</span><span class="sxs-lookup"><span data-stu-id="d2172-113">When you register an Azure AD application in the [Azure portal][AZURE-Portal], two objects are created in your Azure AD tenant: an application object, and a service principal object.</span></span>

#### <a name="application-object"></a><span data-ttu-id="d2172-114">Objeto de aplicación</span><span class="sxs-lookup"><span data-stu-id="d2172-114">Application object</span></span>
<span data-ttu-id="d2172-115">Una aplicación de Azure AD se define por su único objeto de aplicación, que reside en el inquilino de Azure AD donde se registró la aplicación, conocido como inquilino "principal" de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="d2172-115">An Azure AD application is defined by its one and only application object, which resides in the Azure AD tenant where the application was registered, known as the application's "home" tenant.</span></span> <span data-ttu-id="d2172-116">La [entidad de aplicación][AAD-Graph-App-Entity] de Azure AD Graph define el esquema para las propiedades de un objeto de aplicación.</span><span class="sxs-lookup"><span data-stu-id="d2172-116">The Azure AD Graph [Application entity][AAD-Graph-App-Entity] defines the schema for an application object's properties.</span></span> 

#### <a name="service-principal-object"></a><span data-ttu-id="d2172-117">Objeto de entidad de servicio</span><span class="sxs-lookup"><span data-stu-id="d2172-117">Service principal object</span></span>
<span data-ttu-id="d2172-118">El objeto de entidad de servicio define la directiva y los permisos para el uso de una aplicación en un inquilino específico, que proporciona la base para una entidad de seguridad para representar la aplicación en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="d2172-118">The service principal object defines the policy and permissions for an application's use in a specific tenant, providing the basis for a security principal to represent the application at run-time.</span></span> <span data-ttu-id="d2172-119">La [entidad ServicePrincipal][AAD-Graph-Sp-Entity] de Azure AD Graph define el esquema para las propiedades de un objeto de entidad de servicio.</span><span class="sxs-lookup"><span data-stu-id="d2172-119">The Azure AD Graph [ServicePrincipal entity][AAD-Graph-Sp-Entity] defines the schema for a service principal object's properties.</span></span> 

#### <a name="application-and-service-principal-relationship"></a><span data-ttu-id="d2172-120">Relación entre la aplicación y la entidad de servicio</span><span class="sxs-lookup"><span data-stu-id="d2172-120">Application and service principal relationship</span></span>
<span data-ttu-id="d2172-121">Considere el objeto de aplicación como una representación *global* de la aplicación para su uso en todos los inquilinos y la entidad de servicio como una representación *local* para su uso en un inquilino específico.</span><span class="sxs-lookup"><span data-stu-id="d2172-121">Consider the application object as the *global* representation of your application for use across all tenants, and the service principal as the *local* representation for use in a specific tenant.</span></span> <span data-ttu-id="d2172-122">El objeto de aplicación actúa como la plantilla a partir de la cual se *derivan* las propiedades comunes y predeterminadas para su uso en la creación de objetos de entidad de servicio correspondientes.</span><span class="sxs-lookup"><span data-stu-id="d2172-122">The application object serves as the template from which common and default properties are *derived* for use in creating corresponding service principal objects.</span></span> <span data-ttu-id="d2172-123">Por lo tanto, un objeto de aplicación tiene una relación 1:1 con la aplicación de software y una relación 1:muchos con sus objetos de entidad de servicio correspondientes.</span><span class="sxs-lookup"><span data-stu-id="d2172-123">An application object therefore has a 1:1 relationship with the software application, and a 1:many relationship with its corresponding service principal object(s).</span></span>

<span data-ttu-id="d2172-124">Una entidad de servicio debe crearse en cada inquilino donde se usará la aplicación, lo que le permite establecer una identidad para el inicio de sesión y/o el acceso a los recursos que va a proteger el inquilino.</span><span class="sxs-lookup"><span data-stu-id="d2172-124">A service principal must be created in each tenant where the application will be used, enabling it to establish an identity for sign-in and/or access to resources being secured by the tenant.</span></span> <span data-ttu-id="d2172-125">Una aplicación de un único inquilino tendrá solo una entidad de servicio (en su inquilino principal), que normalmente se crea y consiente para su uso durante el registro de aplicación.</span><span class="sxs-lookup"><span data-stu-id="d2172-125">A single-tenant application will have only one service principal (in its home tenant), usually created and consented for use during application registration.</span></span> <span data-ttu-id="d2172-126">Una API o aplicación web multiinquilino también tendrá una entidad de servicio creada en cada inquilino donde un usuario de ese inquilino ha dado su consentimiento para su uso.</span><span class="sxs-lookup"><span data-stu-id="d2172-126">A multi-tenant Web application/API will also have a service principal created in each tenant where a user from that tenant has consented to its use.</span></span>  

> [!NOTE]
> <span data-ttu-id="d2172-127">Los cambios que realice en el objeto de aplicación también se reflejan en el objeto de entidad de servicio, solo en el inquilino principal de la aplicación (es decir, el inquilino en donde se registró).</span><span class="sxs-lookup"><span data-stu-id="d2172-127">Any changes you make to your application object, are also reflected in its service principal object in the application's home tenant only (the tenant where it was registered).</span></span> <span data-ttu-id="d2172-128">Para aplicaciones multiinquilino, los cambios realizados en el objeto de aplicación no se reflejan en los objetos de entidad de servicio del inquilino consumidor hasta que el acceso se quita a través del [panel de acceso de la aplicación](https://myapps.microsoft.com) y se concede de nuevo.</span><span class="sxs-lookup"><span data-stu-id="d2172-128">For multi-tenant applications, changes to the application object are not reflected in any consumer tenants' service principal objects, until the access is removed via the [Application Access Panel](https://myapps.microsoft.com) and granted again.</span></span>
><br>  
> <span data-ttu-id="d2172-129">Tenga en cuenta también que las aplicaciones nativas se registran como multiinquilino de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="d2172-129">Also note that native applications are registered as multi-tenant by default.</span></span>
> 
> 

## <a name="example"></a><span data-ttu-id="d2172-130">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="d2172-130">Example</span></span>
<span data-ttu-id="d2172-131">En el siguiente se muestra la relación entre un objeto de aplicación de la aplicación y los objetos de entidad de servicio correspondientes, en el contexto de una aplicación multiinquilino de ejemplo denominada **HR app**.</span><span class="sxs-lookup"><span data-stu-id="d2172-131">The following diagram illustrates the relationship between an application's application object and corresponding service principal objects, in the context of a sample multi-tenant application called **HR app**.</span></span> <span data-ttu-id="d2172-132">En este escenario hay tres inquilinos de Azure AD:</span><span class="sxs-lookup"><span data-stu-id="d2172-132">There are three Azure AD tenants in this scenario:</span></span> 

* <span data-ttu-id="d2172-133">**Adatum**: el inquilino usado por la empresa que desarrolló la **aplicación de recursos humanos**</span><span class="sxs-lookup"><span data-stu-id="d2172-133">**Adatum** - the tenant used by the company that developed the **HR app**</span></span>
* <span data-ttu-id="d2172-134">**Contoso**: el inquilino usado por la organización Contoso, que es un consumidor de la **aplicación de recursos humanos**</span><span class="sxs-lookup"><span data-stu-id="d2172-134">**Contoso** - the tenant used by the Contoso organization, which is a consumer of the **HR app**</span></span>
* <span data-ttu-id="d2172-135">**Fabrikam**: el inquilino usado por la organización Fabrikam, que también consume la **aplicación de recursos humanos**</span><span class="sxs-lookup"><span data-stu-id="d2172-135">**Fabrikam** - the tenant used by the Fabrikam organization, which also consumes the **HR app**</span></span>

![Relación entre un objeto de aplicación y un objeto de entidad de servicio](./media/active-directory-application-objects/application-objects-relationship.png)

<span data-ttu-id="d2172-137">En el diagrama anterior, el paso 1 es el proceso de creación de los objetos de aplicación y de entidad de servicio del inquilino principal de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="d2172-137">In the previous diagram, Step 1 is the process of creating the application and service principal objects in the application's home tenant.</span></span>

<span data-ttu-id="d2172-138">En el paso 2, cuando los administradores de Contoso y Fabrikam completan el consentimiento, se crea un objeto de entidad de servicio en el inquilino de Azure AD de la empresa y se asignan los permisos que concede el administrador.</span><span class="sxs-lookup"><span data-stu-id="d2172-138">In Step 2, when Contoso and Fabrikam administrators complete consent, a service principal object is created in their company's Azure AD tenant and assigned the permissions that the administrator granted.</span></span> <span data-ttu-id="d2172-139">Tenga en cuenta también que la aplicación de recursos humanos podría estar configurada o diseñada para dar consentimiento a los usuarios para el uso individual.</span><span class="sxs-lookup"><span data-stu-id="d2172-139">Also note that the HR app could be configured/designed to allow consent by users for individual use.</span></span>

<span data-ttu-id="d2172-140">En el paso 3, los inquilinos consumidores de la aplicación HR (Contoso y Fabrikam) tienen cada uno de ellos su propio objeto de entidad de servicio.</span><span class="sxs-lookup"><span data-stu-id="d2172-140">In Step 3, the consumer tenants of the HR application (Contoso and Fabrikam) each have their own service principal object.</span></span> <span data-ttu-id="d2172-141">Cada uno representa su uso de una instancia de la aplicación en tiempo de ejecución, que se rige por los permisos que consiente el administrador correspondiente.</span><span class="sxs-lookup"><span data-stu-id="d2172-141">Each represents their use of an instance of the application at runtime, governed by the permissions consented by the respective administrator.</span></span>

## <a name="next-steps"></a><span data-ttu-id="d2172-142">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="d2172-142">Next steps</span></span>
<span data-ttu-id="d2172-143">Se puede acceder al objeto de aplicación de la aplicación a través de la API de Azure AD Graph, el editor de manifiestos de aplicación de [Azure Portal][AZURE-Portal] o de [cmdlets de Azure AD PowerShell](https://docs.microsoft.com/powershell/azure/overview?view=azureadps-2.0), tal como y como se representa mediante su [entidad Application][AAD-Graph-App-Entity] de OData.</span><span class="sxs-lookup"><span data-stu-id="d2172-143">An application's application object can be accessed via the Azure AD Graph API, the [Azure portal's][AZURE-Portal] application manifest editor, or [Azure AD PowerShell cmdlets](https://docs.microsoft.com/powershell/azure/overview?view=azureadps-2.0), as represented by its OData [Application entity][AAD-Graph-App-Entity].</span></span>

<span data-ttu-id="d2172-144">Se puede acceder al objeto de entidad de servicio de la aplicación a través de la API de Azure AD Graph o de [cmdlets de Azure AD PowerShell](https://docs.microsoft.com/powershell/azure/overview?view=azureadps-2.0), tal como se representa mediante su entidad [ServicePrincipal][AAD-Graph-Sp-Entity] de OData.</span><span class="sxs-lookup"><span data-stu-id="d2172-144">An application's service principal object can be accessed via the Azure AD Graph API or [Azure AD PowerShell cmdlets](https://docs.microsoft.com/powershell/azure/overview?view=azureadps-2.0), as represented by its OData [ServicePrincipal entity][AAD-Graph-Sp-Entity].</span></span>

<span data-ttu-id="d2172-145">[Azure AD Graph Explorer](https://graphexplorer.azurewebsites.net/) es útil para consultar tanto objetos de aplicación como objetos de entidad de servicio.</span><span class="sxs-lookup"><span data-stu-id="d2172-145">The [Azure AD Graph Explorer](https://graphexplorer.azurewebsites.net/) is useful for querying both the application and service principal objects.</span></span>

<!--Image references-->

<!--Reference style links -->
[AAD-Graph-App-Entity]: https://msdn.microsoft.com/Library/Azure/Ad/Graph/api/entity-and-complex-type-reference#application-entity
[AAD-Graph-Sp-Entity]: https://msdn.microsoft.com/Library/Azure/Ad/Graph/api/entity-and-complex-type-reference#serviceprincipal-entity
[AZURE-Portal]: https://portal.azure.com
