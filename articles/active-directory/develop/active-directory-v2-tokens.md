---
title: aaaAzure Active Directory v2.0 tokens referencia | Documentos de Microsoft
description: tipos de Hola de notificaciones y tokens emiten por hello extremo v2.0 de Azure AD
services: active-directory
documentationcenter: 
author: dstrockis
manager: mbaldwin
editor: 
ms.assetid: dc58c282-9684-4b38-b151-f3e079f034fd
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/07/2017
ms.author: dastrock
ms.custom: aaddev
ms.openlocfilehash: 29eb5c3402aeae302ee7c6234488520495f85904
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="azure-active-directory-v20-tokens-reference"></a><span data-ttu-id="eff27-103">Referencia de tokens de Azure Active Directory v2.0</span><span class="sxs-lookup"><span data-stu-id="eff27-103">Azure Active Directory v2.0 tokens reference</span></span>
<span data-ttu-id="eff27-104">el punto de conexión de Azure Active Directory (Azure AD) v2.0 Hello emite varios tipos de tokens de seguridad en cada uno de ellos [flujo de autenticación](active-directory-v2-flows.md).</span><span class="sxs-lookup"><span data-stu-id="eff27-104">hello Azure Active Directory (Azure AD) v2.0 endpoint emits several types of security tokens in each [authentication flow](active-directory-v2-flows.md).</span></span> <span data-ttu-id="eff27-105">Esta referencia describe el formato de hello, características de seguridad y el contenido de cada tipo de símbolo (token).</span><span class="sxs-lookup"><span data-stu-id="eff27-105">This reference describes hello format, security characteristics, and contents of each type of token.</span></span>

> [!NOTE]
> <span data-ttu-id="eff27-106">el punto de conexión de Hello v2.0 no admite todas las características y escenarios de Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="eff27-106">hello v2.0 endpoint does not support all Azure Active Directory scenarios and features.</span></span> <span data-ttu-id="eff27-107">toodetermine si debe utilizar Hola v2.0 extremo, que conozca [v2.0 limitaciones](active-directory-v2-limitations.md).</span><span class="sxs-lookup"><span data-stu-id="eff27-107">toodetermine whether you should use hello v2.0 endpoint, read about [v2.0 limitations](active-directory-v2-limitations.md).</span></span>
>
>

## <a name="types-of-tokens"></a><span data-ttu-id="eff27-108">Tipos de tokens</span><span class="sxs-lookup"><span data-stu-id="eff27-108">Types of tokens</span></span>
<span data-ttu-id="eff27-109">Hello v2.0 extremo admite hello [protocolo de autorización de OAuth 2.0](active-directory-v2-protocols.md), que usa tokens de acceso y tokens de actualización.</span><span class="sxs-lookup"><span data-stu-id="eff27-109">hello v2.0 endpoint supports hello [OAuth 2.0 authorization protocol](active-directory-v2-protocols.md), which uses access tokens and refresh tokens.</span></span> <span data-ttu-id="eff27-110">el punto de conexión de Hello v2.0 también admite la autenticación e inicio de sesión a través de [OpenID Connect](active-directory-v2-protocols.md).</span><span class="sxs-lookup"><span data-stu-id="eff27-110">hello v2.0 endpoint also supports authentication and sign-in via [OpenID Connect](active-directory-v2-protocols.md).</span></span> <span data-ttu-id="eff27-111">OpenID Connect presenta a un tercer tipo de token de Id. de token, Hola.</span><span class="sxs-lookup"><span data-stu-id="eff27-111">OpenID Connect introduces a third type of token, hello ID token.</span></span> <span data-ttu-id="eff27-112">Todos estos tokens se representan como un token de *portador*.</span><span class="sxs-lookup"><span data-stu-id="eff27-112">Each of these tokens is represented as a *bearer* token.</span></span>

<span data-ttu-id="eff27-113">Un token de portador es un token de seguridad ligero que concede Hola portador tooa de acceso al recurso protegido.</span><span class="sxs-lookup"><span data-stu-id="eff27-113">A bearer token is a lightweight security token that grants hello bearer access tooa protected resource.</span></span> <span data-ttu-id="eff27-114">portador de Hello es cualquier entidad que puede presentar el token de Hola.</span><span class="sxs-lookup"><span data-stu-id="eff27-114">hello bearer is any party that can present hello token.</span></span> <span data-ttu-id="eff27-115">Aunque una parte debe autenticarse con el token de acceso de Azure AD tooreceive hello, si no se toman medidas token de hello toosecure durante la transmisión y el almacenamiento, puede interceptar y utilizado por una entidad no deseada.</span><span class="sxs-lookup"><span data-stu-id="eff27-115">Although a party must authenticate with Azure AD tooreceive hello bearer token, if steps are not taken toosecure hello token during transmission and storage, it can be intercepted and used by an unintended party.</span></span> <span data-ttu-id="eff27-116">Algunos tokens de seguridad tienen un entidades de tooprevent no autorizado de mecanismo integrado del uso de ellos, pero no de tokens de portador no.</span><span class="sxs-lookup"><span data-stu-id="eff27-116">Some security tokens have a built-in mechanism tooprevent unauthorized parties from using them, but bearer tokens do not.</span></span> <span data-ttu-id="eff27-117">Los tokens de portador deben ser transportados en un canal seguro, como Seguridad de la capa de transporte (HTTPS).</span><span class="sxs-lookup"><span data-stu-id="eff27-117">Bearer tokens must be transported in a secure channel such as transport layer security (HTTPS).</span></span> <span data-ttu-id="eff27-118">Si se transmite un token de portador sin este tipo de seguridad, un tercero malintencionado podría usar un símbolo (token) "man-in-the-middle ataque" tooacquire hello y usarlo para el recurso de tooa protegido del acceso no autorizado.</span><span class="sxs-lookup"><span data-stu-id="eff27-118">If a bearer token is transmitted without this type of security, a malicious party could use a "man-in-the-middle attack" tooacquire hello token and use it for unauthorized access tooa protected resource.</span></span> <span data-ttu-id="eff27-119">Hola mismos principios de seguridad que se aplican al almacenamiento o almacenamiento en caché de tokens portadores para su uso posterior.</span><span class="sxs-lookup"><span data-stu-id="eff27-119">hello same security principles apply when storing or caching bearer tokens for later use.</span></span> <span data-ttu-id="eff27-120">Siempre debe asegurarse de que la aplicación transmite y almacena los tokens de portador de manera segura.</span><span class="sxs-lookup"><span data-stu-id="eff27-120">Always ensure that your app securely transmits and stores bearer tokens.</span></span> <span data-ttu-id="eff27-121">Para otras consideraciones de seguridad sobre los tokens de portador, consulte la [sección 5 de RFC 6750](http://tools.ietf.org/html/rfc6750).</span><span class="sxs-lookup"><span data-stu-id="eff27-121">For more security considerations for bearer tokens, see [RFC 6750 Section 5](http://tools.ietf.org/html/rfc6750).</span></span>

<span data-ttu-id="eff27-122">Muchos de los tokens de hello emitidos por el punto de conexión de hello v2.0 se implementan como Tokens de Web JSON (Jwt).</span><span class="sxs-lookup"><span data-stu-id="eff27-122">Many of hello tokens issued by hello v2.0 endpoint are implemented as JSON Web Tokens (JWTs).</span></span> <span data-ttu-id="eff27-123">Un JWT es una manera compacta, seguridad de la dirección URL, tootransfer más información entre dos entidades.</span><span class="sxs-lookup"><span data-stu-id="eff27-123">A JWT is a compact, URL-safe way tootransfer information between two parties.</span></span> <span data-ttu-id="eff27-124">información de Hello en un JWT se denomina un *notificación*.</span><span class="sxs-lookup"><span data-stu-id="eff27-124">hello information in a JWT is called a *claim*.</span></span> <span data-ttu-id="eff27-125">Es una aserción de información sobre el portador de Hola y el asunto del token de Hola.</span><span class="sxs-lookup"><span data-stu-id="eff27-125">It's an assertion of information about hello bearer and subject of hello token.</span></span> <span data-ttu-id="eff27-126">notificaciones de Hello en un JWT son objetos de JavaScript Object Notation (JSON) que están codificados y se serializan para la transmisión.</span><span class="sxs-lookup"><span data-stu-id="eff27-126">hello claims in a JWT are JavaScript Object Notation (JSON) objects that are encoded and serialized for transmission.</span></span> <span data-ttu-id="eff27-127">Dado que hello Jwt emitido por el punto de conexión de hello v2.0 se firma pero no cifrado, fácilmente puede inspeccionar el contenido de Hola de un JWT para fines de depuración.</span><span class="sxs-lookup"><span data-stu-id="eff27-127">Because hello JWTs issued by hello v2.0 endpoint are signed but not encrypted, you can easily inspect hello contents of a JWT for debugging purposes.</span></span> <span data-ttu-id="eff27-128">Para obtener más información acerca de Jwt, consulte hello [especificación JWT](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html).</span><span class="sxs-lookup"><span data-stu-id="eff27-128">For more information about JWTs, see hello [JWT specification](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html).</span></span>

### <a name="id-tokens"></a><span data-ttu-id="eff27-129">Tokens de identificador</span><span class="sxs-lookup"><span data-stu-id="eff27-129">ID tokens</span></span>
<span data-ttu-id="eff27-130">Un token de identificador es una forma de token de seguridad de inicio de sesión que recibe la aplicación cuando realiza la autenticación mediante [OpenID Connect](active-directory-v2-protocols.md).</span><span class="sxs-lookup"><span data-stu-id="eff27-130">An ID token is a form of sign-in security token that your app receives when it performs authentication by using [OpenID Connect](active-directory-v2-protocols.md).</span></span> <span data-ttu-id="eff27-131">Tokens de identificador se representan como [JWTs](#types-of-tokens), y contienen notificaciones que puede usar toosign Hola usuario en aplicaciones de tooyour.</span><span class="sxs-lookup"><span data-stu-id="eff27-131">ID tokens are represented as [JWTs](#types-of-tokens), and they contain claims that you can use toosign hello user in tooyour app.</span></span> <span data-ttu-id="eff27-132">Puede usar notificaciones de hello en un identificador de token de varias maneras.</span><span class="sxs-lookup"><span data-stu-id="eff27-132">You can use hello claims in an ID token in various ways.</span></span> <span data-ttu-id="eff27-133">Por lo general, administradores utilizan información de cuenta de identificación de tokens toodisplay o toomake decisiones de control de acceso en una aplicación.</span><span class="sxs-lookup"><span data-stu-id="eff27-133">Typically, admins use ID tokens toodisplay account information or toomake access control decisions in an app.</span></span> <span data-ttu-id="eff27-134">el punto de conexión de Hello v2.0 emite solo un tipo de identificador de token, que tiene un conjunto coherente de notificaciones, independientemente del tipo de saludo del usuario que ha iniciado sesión.</span><span class="sxs-lookup"><span data-stu-id="eff27-134">hello v2.0 endpoint issues only one type of ID token, which has a consistent set of claims, regardless of hello type of user that is signed in.</span></span> <span data-ttu-id="eff27-135">formato de Hola y el contenido de los tokens de Id. de se Hola igual para los usuarios de cuentas de Microsoft personales y para cuentas profesionales o educativas.</span><span class="sxs-lookup"><span data-stu-id="eff27-135">hello format and content of ID tokens are hello same for personal Microsoft account users and for work or school accounts.</span></span>

<span data-ttu-id="eff27-136">Actualmente, los tokens de identificador están firmados pero no cifrados.</span><span class="sxs-lookup"><span data-stu-id="eff27-136">Currently, ID tokens are signed but not encrypted.</span></span> <span data-ttu-id="eff27-137">Cuando la aplicación recibe un identificador de token, debe [validar la firma de hello](#validating-tokens) tooprove Hola autenticidad del token y validar las reclamaciones unos en hello token tooprove su validez.</span><span class="sxs-lookup"><span data-stu-id="eff27-137">When your app receives an ID token, it must [validate hello signature](#validating-tokens) tooprove hello token's authenticity and validate a few claims in hello token tooprove its validity.</span></span> <span data-ttu-id="eff27-138">Hello validados por una aplicación de notificaciones varían según los requisitos de escenario, aunque la aplicación debe realizar algunas [validaciones de notificación comunes](#validating-tokens) en cada escenario.</span><span class="sxs-lookup"><span data-stu-id="eff27-138">hello claims validated by an app vary depending on scenario requirements, but your app must perform some [common claim validations](#validating-tokens) in every scenario.</span></span>

<span data-ttu-id="eff27-139">Se proporcionan detalles completos de hello sobre notificaciones en tokens de Id. de Hola siguientes secciones, además tooa token de Id. de ejemplo.</span><span class="sxs-lookup"><span data-stu-id="eff27-139">We give you hello full details about claims in ID tokens in hello following sections, in addition tooa sample ID token.</span></span> <span data-ttu-id="eff27-140">Tenga en cuenta que las notificaciones en los tokens de identificador no se devuelven en ningún orden específico.</span><span class="sxs-lookup"><span data-stu-id="eff27-140">Note that claims in ID tokens are not returned in a specific order.</span></span> <span data-ttu-id="eff27-141">Además, se pueden agregar nuevas notificaciones en tokens de identificador en cualquier momento.</span><span class="sxs-lookup"><span data-stu-id="eff27-141">Also, new claims can be introduced into ID tokens at any time.</span></span> <span data-ttu-id="eff27-142">La aplicación no se debe interrumpir cuando se agregan notificaciones nuevas.</span><span class="sxs-lookup"><span data-stu-id="eff27-142">Your app should not break when new claims are introduced.</span></span> <span data-ttu-id="eff27-143">Hola lista siguiente incluye las notificaciones de Hola que la aplicación actualmente puede confiable interpretar.</span><span class="sxs-lookup"><span data-stu-id="eff27-143">hello following list includes hello claims that your app currently can reliably interpret.</span></span> <span data-ttu-id="eff27-144">Puede encontrar más detalles en hello [especificación OpenID Connect](http://openid.net/specs/openid-connect-core-1_0.html).</span><span class="sxs-lookup"><span data-stu-id="eff27-144">You can find more details in hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span></span>

#### <a name="sample-id-token"></a><span data-ttu-id="eff27-145">Token de identificador de ejemplo</span><span class="sxs-lookup"><span data-stu-id="eff27-145">Sample ID token</span></span>
```
eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik1uQ19WWmNBVGZNNXBPWWlKSE1iYTlnb0VLWSJ9.eyJhdWQiOiI2NzMxZGU3Ni0xNGE2LTQ5YWUtOTdiYy02ZWJhNjkxNDM5MWUiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vYjk0MTk4MTgtMDlhZi00OWMyLWIwYzMtNjUzYWRjMWYzNzZlL3YyLjAiLCJpYXQiOjE0NTIyODUzMzEsIm5iZiI6MTQ1MjI4NTMzMSwiZXhwIjoxNDUyMjg5MjMxLCJuYW1lIjoiQmFiZSBSdXRoIiwibm9uY2UiOiIxMjM0NSIsIm9pZCI6ImExZGJkZGU4LWU0ZjktNDU3MS1hZDkzLTMwNTllMzc1MGQyMyIsInByZWZlcnJlZF91c2VybmFtZSI6InRoZWdyZWF0YmFtYmlub0BueXkub25taWNyb3NvZnQuY29tIiwic3ViIjoiTUY0Zi1nZ1dNRWppMTJLeW5KVU5RWnBoYVVUdkxjUXVnNWpkRjJubDAxUSIsInRpZCI6ImI5NDE5ODE4LTA5YWYtNDljMi1iMGMzLTY1M2FkYzFmMzc2ZSIsInZlciI6IjIuMCJ9.p_rYdrtJ1oCmgDBggNHB9O38KTnLCMGbMDODdirdmZbmJcTHiZDdtTc-hguu3krhbtOsoYM2HJeZM3Wsbp_YcfSKDY--X_NobMNsxbT7bqZHxDnA2jTMyrmt5v2EKUnEeVtSiJXyO3JWUq9R0dO-m4o9_8jGP6zHtR62zLaotTBYHmgeKpZgTFB9WtUq8DVdyMn_HSvQEfz-LWqckbcTwM_9RNKoGRVk38KChVJo4z5LkksYRarDo8QgQ7xEKmYmPvRr_I7gvM2bmlZQds2OeqWLB1NSNbFZqyFOCgYn3bAQ-nEQSKwBaA36jYGPOVG2r2Qv1uKcpSOxzxaQybzYpQ
```

> [!TIP]
> <span data-ttu-id="eff27-146">Para practicar, tooinspect Hola de notificaciones en el token de Id. de ejemplo de Hola, pegue token de Id. de ejemplo de Hola en [calebb.net](http://calebb.net/).</span><span class="sxs-lookup"><span data-stu-id="eff27-146">For practice, tooinspect hello claims in hello sample ID token, paste hello sample ID token into [calebb.net](http://calebb.net/).</span></span>
>
>

#### <a name="claims-in-id-tokens"></a><span data-ttu-id="eff27-147">Notificaciones en tokens de identificador</span><span class="sxs-lookup"><span data-stu-id="eff27-147">Claims in ID tokens</span></span>
| <span data-ttu-id="eff27-148">Nombre</span><span class="sxs-lookup"><span data-stu-id="eff27-148">Name</span></span> | <span data-ttu-id="eff27-149">Notificación</span><span class="sxs-lookup"><span data-stu-id="eff27-149">Claim</span></span> | <span data-ttu-id="eff27-150">Valor de ejemplo</span><span class="sxs-lookup"><span data-stu-id="eff27-150">Example value</span></span> | <span data-ttu-id="eff27-151">Descripción</span><span class="sxs-lookup"><span data-stu-id="eff27-151">Description</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="eff27-152">audience</span><span class="sxs-lookup"><span data-stu-id="eff27-152">audience</span></span> |`aud` |`6731de76-14a6-49ae-97bc-6eba6914391e` |<span data-ttu-id="eff27-153">Identifica a Hola pensado destinatario del token de Hola.</span><span class="sxs-lookup"><span data-stu-id="eff27-153">Identifies hello intended recipient of hello token.</span></span> <span data-ttu-id="eff27-154">En los tokens de Id., audiencia hello es Id. de aplicación de la aplicación, asigna tooyour aplicación Hola Portal de registro de aplicación de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="eff27-154">In ID tokens, hello audience is your app's Application ID, assigned tooyour app in hello Microsoft Application Registration Portal.</span></span> <span data-ttu-id="eff27-155">La aplicación debe validar este valor y rechazar el token de hello si no coincide con el valor de Hola.</span><span class="sxs-lookup"><span data-stu-id="eff27-155">Your app should validate this value, and reject hello token if hello value does not match.</span></span> |
| <span data-ttu-id="eff27-156">issuer</span><span class="sxs-lookup"><span data-stu-id="eff27-156">issuer</span></span> |`iss` |`https://login.microsoftonline.com/b9419818-09af-49c2-b0c3-653adc1f376e/v2.0 ` |<span data-ttu-id="eff27-157">Identifica Hola símbolo (token) servicio de seguridad (STS) que construye y devuelve el símbolo (token) de Hola e inquilino de Azure AD de hello en qué Hola se ha autenticado el usuario.</span><span class="sxs-lookup"><span data-stu-id="eff27-157">Identifies hello security token service (STS) that constructs and returns hello token, and hello Azure AD tenant in which hello user was authenticated.</span></span> <span data-ttu-id="eff27-158">La aplicación debe validar la notificación de emisor de hello tooensure que Hola token procede de punto de conexión de hello v2.0.</span><span class="sxs-lookup"><span data-stu-id="eff27-158">Your app should validate hello issuer claim tooensure that hello token came from hello v2.0 endpoint.</span></span> <span data-ttu-id="eff27-159">También debe usar parte GUID de Hola de hello toorestrict Hola conjunto de notificaciones los inquilinos que puede iniciar sesión en la aplicación toohello.</span><span class="sxs-lookup"><span data-stu-id="eff27-159">It also should use hello GUID portion of hello claim toorestrict hello set of tenants that can sign in toohello app.</span></span> <span data-ttu-id="eff27-160">GUID que indica que el usuario Hola Hello es un usuario de consumidor de una cuenta de Microsoft `9188040d-6c67-4c5b-b112-36a304b66dad`.</span><span class="sxs-lookup"><span data-stu-id="eff27-160">hello GUID that indicates that hello user is a consumer user from a Microsoft account is `9188040d-6c67-4c5b-b112-36a304b66dad`.</span></span> |
| <span data-ttu-id="eff27-161">issued at</span><span class="sxs-lookup"><span data-stu-id="eff27-161">issued at</span></span> |`iat` |`1452285331` |<span data-ttu-id="eff27-162">hora de Hello en qué Hola se emitió el token, representado en tiempo base.</span><span class="sxs-lookup"><span data-stu-id="eff27-162">hello time at which hello token was issued, represented in epoch time.</span></span> |
| <span data-ttu-id="eff27-163">expiration time</span><span class="sxs-lookup"><span data-stu-id="eff27-163">expiration time</span></span> |`exp` |`1452289231` |<span data-ttu-id="eff27-164">hora de Hello en qué Hola token deja de ser válido, se representa en tiempo base.</span><span class="sxs-lookup"><span data-stu-id="eff27-164">hello time at which hello token becomes invalid, represented in epoch time.</span></span> <span data-ttu-id="eff27-165">La aplicación debe utilizar este validez de hello tooverify de notificación de duración del token Hola.</span><span class="sxs-lookup"><span data-stu-id="eff27-165">Your app should use this claim tooverify hello validity of hello token lifetime.</span></span> |
| <span data-ttu-id="eff27-166">not before</span><span class="sxs-lookup"><span data-stu-id="eff27-166">not before</span></span> |`nbf` |`1452285331` |<span data-ttu-id="eff27-167">tiempo de Hello en qué hello es válida, símbolo (token) se representan en tiempo base.</span><span class="sxs-lookup"><span data-stu-id="eff27-167">hello time at which hello token becomes valid, represented in epoch time.</span></span> <span data-ttu-id="eff27-168">Resulta igual Hola normalmente como hora de emisión de Hola.</span><span class="sxs-lookup"><span data-stu-id="eff27-168">It is usually hello same as hello issuance time.</span></span> <span data-ttu-id="eff27-169">La aplicación debe utilizar este validez de hello tooverify de notificación de duración del token Hola.</span><span class="sxs-lookup"><span data-stu-id="eff27-169">Your app should use this claim tooverify hello validity of hello token lifetime.</span></span> |
| <span data-ttu-id="eff27-170">versión</span><span class="sxs-lookup"><span data-stu-id="eff27-170">version</span></span> |`ver` |`2.0` |<span data-ttu-id="eff27-171">versión de Hola de token de Id. de hello, tal como se define por Azure AD.</span><span class="sxs-lookup"><span data-stu-id="eff27-171">hello version of hello ID token, as defined by Azure AD.</span></span> <span data-ttu-id="eff27-172">Punto de conexión de hello v2.0, valor de hello es `2.0`.</span><span class="sxs-lookup"><span data-stu-id="eff27-172">For hello v2.0 endpoint, hello value is `2.0`.</span></span> |
| <span data-ttu-id="eff27-173">tenant ID</span><span class="sxs-lookup"><span data-stu-id="eff27-173">tenant ID</span></span> |`tid` |`b9419818-09af-49c2-b0c3-653adc1f376e` |<span data-ttu-id="eff27-174">Un GUID que representa el inquilino de hello Azure AD que Hola usuario procede.</span><span class="sxs-lookup"><span data-stu-id="eff27-174">A GUID that represents hello Azure AD tenant that hello user is from.</span></span> <span data-ttu-id="eff27-175">Para cuentas profesionales o educativas, Hola GUID es inquilino inmutable Hola Id. de organización de Hola que Hola usuario pertenece.</span><span class="sxs-lookup"><span data-stu-id="eff27-175">For work and school accounts, hello GUID is hello immutable tenant ID of hello organization that hello user belongs to.</span></span> <span data-ttu-id="eff27-176">Para las cuentas personales, el valor de hello es `9188040d-6c67-4c5b-b112-36a304b66dad`.</span><span class="sxs-lookup"><span data-stu-id="eff27-176">For personal accounts, hello value is `9188040d-6c67-4c5b-b112-36a304b66dad`.</span></span> <span data-ttu-id="eff27-177">Hola `profile` se requiere el ámbito en orden tooreceive esta notificación.</span><span class="sxs-lookup"><span data-stu-id="eff27-177">hello `profile` scope is required in order tooreceive this claim.</span></span> |
| <span data-ttu-id="eff27-178">code hash</span><span class="sxs-lookup"><span data-stu-id="eff27-178">code hash</span></span> |`c_hash` |`SGCPtt01wxwfgnYZy2VJtQ` |<span data-ttu-id="eff27-179">hash de código de Hello se incluye en los tokens de identificador solo cuando se emite el token de Id. de hello con un código de autorización de OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="eff27-179">hello code hash is included in ID tokens only when hello ID token is issued with an OAuth 2.0 authorization code.</span></span> <span data-ttu-id="eff27-180">Puede ser usado toovalidate Hola autenticidad de un código de autorización.</span><span class="sxs-lookup"><span data-stu-id="eff27-180">It can be used toovalidate hello authenticity of an authorization code.</span></span> <span data-ttu-id="eff27-181">Para obtener más información acerca de cómo realizar esta validación, vea hello [especificación OpenID Connect](http://openid.net/specs/openid-connect-core-1_0.html).</span><span class="sxs-lookup"><span data-stu-id="eff27-181">For details about performing this validation, see hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span></span> |
| <span data-ttu-id="eff27-182">access token hash</span><span class="sxs-lookup"><span data-stu-id="eff27-182">access token hash</span></span> |`at_hash` |`SGCPtt01wxwfgnYZy2VJtQ` |<span data-ttu-id="eff27-183">hash de token de acceso de Hola se incluye en los tokens de identificador solo cuando se emite el token de Id. de hello con un token de acceso de OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="eff27-183">hello access token hash is included in ID tokens only when hello ID token is issued with an OAuth 2.0 access token.</span></span> <span data-ttu-id="eff27-184">Puede ser usado toovalidate Hola autenticidad de un token de acceso.</span><span class="sxs-lookup"><span data-stu-id="eff27-184">It can be used toovalidate hello authenticity of an access token.</span></span> <span data-ttu-id="eff27-185">Para obtener más información acerca de cómo realizar esta validación, vea hello [especificación OpenID Connect](http://openid.net/specs/openid-connect-core-1_0.html).</span><span class="sxs-lookup"><span data-stu-id="eff27-185">For details about performing this validation, see hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span></span> |
| <span data-ttu-id="eff27-186">valor de seguridad</span><span class="sxs-lookup"><span data-stu-id="eff27-186">nonce</span></span> |`nonce` |`12345` |<span data-ttu-id="eff27-187">nonce Hello es una estrategia para mitigar los ataques de reproducción de tokens.</span><span class="sxs-lookup"><span data-stu-id="eff27-187">hello nonce is a strategy for mitigating token replay attacks.</span></span> <span data-ttu-id="eff27-188">La aplicación puede especificar un valor nonce en una solicitud de autorización mediante hello `nonce` parámetro de consulta.</span><span class="sxs-lookup"><span data-stu-id="eff27-188">Your app can specify a nonce in an authorization request by using hello `nonce` query parameter.</span></span> <span data-ttu-id="eff27-189">valor de Hola que proporcione en solicitud de saludo se emite en del token de Id. de hello `nonce` notificación, sin modificar.</span><span class="sxs-lookup"><span data-stu-id="eff27-189">hello value you provide in hello request is emitted in hello ID token's `nonce` claim, unmodified.</span></span> <span data-ttu-id="eff27-190">La aplicación puede comprobar el valor Hola respecto al valor de hello que lo especificado en la solicitud de hello, que asocia la sesión de la aplicación hello con un token de Id. específico.</span><span class="sxs-lookup"><span data-stu-id="eff27-190">Your app can verify hello value against hello value it specified on hello request, which associates hello app's session with a specific ID token.</span></span> <span data-ttu-id="eff27-191">La aplicación debe realizar esta validación durante el proceso de validación del token de Id. de Hola.</span><span class="sxs-lookup"><span data-stu-id="eff27-191">Your app should perform this validation during hello ID token validation process.</span></span> |
| <span data-ttu-id="eff27-192">name</span><span class="sxs-lookup"><span data-stu-id="eff27-192">name</span></span> |`name` |`Babe Ruth` |<span data-ttu-id="eff27-193">notificación de nombre de Hello proporciona un valor legible que identifica a Hola sujeto del token de Hola.</span><span class="sxs-lookup"><span data-stu-id="eff27-193">hello name claim provides a human-readable value that identifies hello subject of hello token.</span></span> <span data-ttu-id="eff27-194">no se garantiza el valor de Hello toobe único es mutable y está diseñado toobe utilizada solo con fines de visualización.</span><span class="sxs-lookup"><span data-stu-id="eff27-194">hello value is not guaranteed toobe unique, it is mutable, and it's designed toobe used only for display purposes.</span></span> <span data-ttu-id="eff27-195">Hola `profile` se requiere el ámbito en orden tooreceive esta notificación.</span><span class="sxs-lookup"><span data-stu-id="eff27-195">hello `profile` scope is required in order tooreceive this claim.</span></span> |
| <span data-ttu-id="eff27-196">email</span><span class="sxs-lookup"><span data-stu-id="eff27-196">email</span></span> |`email` |`thegreatbambino@nyy.onmicrosoft.com` |<span data-ttu-id="eff27-197">dirección de correo electrónico principal de Hello asociado con la cuenta de usuario de hello, si existe.</span><span class="sxs-lookup"><span data-stu-id="eff27-197">hello primary email address associated with hello user account, if one exists.</span></span> <span data-ttu-id="eff27-198">Su valor es mutable y podría cambiar en el tiempo.</span><span class="sxs-lookup"><span data-stu-id="eff27-198">Its value is mutable and might change over time.</span></span> <span data-ttu-id="eff27-199">Hola `email` se requiere el ámbito en orden tooreceive esta notificación.</span><span class="sxs-lookup"><span data-stu-id="eff27-199">hello `email` scope is required in order tooreceive this claim.</span></span> |
| <span data-ttu-id="eff27-200">preferred username</span><span class="sxs-lookup"><span data-stu-id="eff27-200">preferred username</span></span> |`preferred_username` |`thegreatbambino@nyy.onmicrosoft.com` |<span data-ttu-id="eff27-201">Hola nombre principal de usuario que representa al usuario de hello en el punto de conexión de hello v2.0.</span><span class="sxs-lookup"><span data-stu-id="eff27-201">hello primary username that represents hello user in hello v2.0 endpoint.</span></span> <span data-ttu-id="eff27-202">Puede ser una dirección de correo electrónico, un número de teléfono o un nombre de usuario genérico sin un formato especificado.</span><span class="sxs-lookup"><span data-stu-id="eff27-202">It could be an email address, phone number, or a generic username without a specified format.</span></span> <span data-ttu-id="eff27-203">Su valor es mutable y podría cambiar en el tiempo.</span><span class="sxs-lookup"><span data-stu-id="eff27-203">Its value is mutable and might change over time.</span></span> <span data-ttu-id="eff27-204">Hola `profile` se requiere el ámbito en orden tooreceive esta notificación.</span><span class="sxs-lookup"><span data-stu-id="eff27-204">hello `profile` scope is required in order tooreceive this claim.</span></span> |
| <span data-ttu-id="eff27-205">subject</span><span class="sxs-lookup"><span data-stu-id="eff27-205">subject</span></span> |`sub` |`MF4f-ggWMEji12KynJUNQZphaUTvLcQug5jdF2nl01Q` | <span data-ttu-id="eff27-206">entidad de seguridad de Hello sobre qué Hola token valida información, como el usuario de una aplicación Hola.</span><span class="sxs-lookup"><span data-stu-id="eff27-206">hello principal about which hello token asserts information, such as hello user of an app.</span></span> <span data-ttu-id="eff27-207">Este valor es inmutable y no se puede reasignar ni volver a usar.</span><span class="sxs-lookup"><span data-stu-id="eff27-207">This value is immutable and cannot be reassigned or reused.</span></span> <span data-ttu-id="eff27-208">Puede ser usado tooperform las comprobaciones de autorización de forma segura, como al símbolo (token) de hello es tooaccess usa un recurso y puede utilizarse como clave en las tablas de base de datos.</span><span class="sxs-lookup"><span data-stu-id="eff27-208">It can be used tooperform authorization checks safely, such as when hello token is used tooaccess a resource, and can be used as a key in database tables.</span></span> <span data-ttu-id="eff27-209">Porque Hola sujeto siempre está presente en los tokens de Hola que emite Azure AD, se recomienda usar este valor en un sistema de autorización de uso general.</span><span class="sxs-lookup"><span data-stu-id="eff27-209">Because hello subject is always present in hello tokens that Azure AD issues, we recommend using this value in a general-purpose authorization system.</span></span> <span data-ttu-id="eff27-210">asunto Hola es, sin embargo, un identificador en pares: tooa único Id. de aplicación en particular.</span><span class="sxs-lookup"><span data-stu-id="eff27-210">hello subject is, however, a pairwise identifier - it is unique tooa particular application ID.</span></span>  <span data-ttu-id="eff27-211">Por lo tanto, si un usuario inicia sesión en dos aplicaciones diferentes con dos identificadores de cliente diferente, esas aplicaciones recibirán dos valores diferentes para la notificación de asunto Hola.</span><span class="sxs-lookup"><span data-stu-id="eff27-211">Therefore, if a single user signs into two different apps using two different client IDs, those apps will receive two different values for hello subject claim.</span></span>  <span data-ttu-id="eff27-212">Esto puede ser o no deseable dependiendo de los requisitos de arquitectura y privacidad.</span><span class="sxs-lookup"><span data-stu-id="eff27-212">This may or may not be desired depending on your architecture and privacy requirements.</span></span> |
| <span data-ttu-id="eff27-213">object ID</span><span class="sxs-lookup"><span data-stu-id="eff27-213">object ID</span></span> |`oid` |`a1dbdde8-e4f9-4571-ad93-3059e3750d23` | <span data-ttu-id="eff27-214">Hola identificador inmutable de un objeto en hello identidad sistema de Microsoft, en este caso, una cuenta de usuario.</span><span class="sxs-lookup"><span data-stu-id="eff27-214">hello immutable identifier for an object in hello Microsoft identity system, in this case, a user account.</span></span>  <span data-ttu-id="eff27-215">También puede ser usado tooperform las comprobaciones de autorización como una clave en tablas de base de datos y de forma segura.</span><span class="sxs-lookup"><span data-stu-id="eff27-215">It can also be used tooperform authorization checks safely and as a key in database tables.</span></span> <span data-ttu-id="eff27-216">Este identificador identifica de forma única el usuario de hello en todas las aplicaciones: dos aplicaciones diferentes que iniciar sesión en hello recibirá el mismo usuario Hola mismo valor en hello `oid` de notificación.</span><span class="sxs-lookup"><span data-stu-id="eff27-216">This ID uniquely identifies hello user across applications - two different applications signing in hello same user will receive hello same value in hello `oid` claim.</span></span>  <span data-ttu-id="eff27-217">Esto significa que puede usarse al realizar consultas tooMicrosoft los servicios en línea, como Hola Microsoft Graph.</span><span class="sxs-lookup"><span data-stu-id="eff27-217">This means that it can be used when making queries tooMicrosoft online services, such as hello Microsoft Graph.</span></span>  <span data-ttu-id="eff27-218">Hola Microsoft Graph devuelve este identificador como hello `id` propiedad para una cuenta de usuario determinada.</span><span class="sxs-lookup"><span data-stu-id="eff27-218">hello Microsoft Graph will return this ID as hello `id` property for a given user account.</span></span>  <span data-ttu-id="eff27-219">Dado que hello `oid` permite varias aplicaciones toocorrelate a los usuarios, hello `profile` se requiere el ámbito en orden tooreceive esta notificación.</span><span class="sxs-lookup"><span data-stu-id="eff27-219">Because hello `oid` allows multiple apps toocorrelate users, hello `profile` scope is required in order tooreceive this claim.</span></span> <span data-ttu-id="eff27-220">Tenga en cuenta que si un usuario existe en varios inquilinos, usuario Hola contendrá un identificador de un objeto distinto en cada inquilino, se consideran cuentas diferentes, aunque Hola usuario inicia sesión en cada cuenta con Hola mismas credenciales.</span><span class="sxs-lookup"><span data-stu-id="eff27-220">Note that if a single user exists in multiple tenants, hello user will contain a different object ID in each tenant - they are considered different accounts, even though hello user logs into each account with hello same credentials.</span></span> |

### <a name="access-tokens"></a><span data-ttu-id="eff27-221">Tokens de acceso</span><span class="sxs-lookup"><span data-stu-id="eff27-221">Access tokens</span></span>
<span data-ttu-id="eff27-222">Actualmente, los tokens de acceso emitidos por el punto de conexión de hello v2.0 pueden utilizarse solo en Microsoft Services.</span><span class="sxs-lookup"><span data-stu-id="eff27-222">Currently, access tokens issued by hello v2.0 endpoint can be consumed only by Microsoft Services.</span></span> <span data-ttu-id="eff27-223">Las aplicaciones no es necesario tooperform ninguna validación o la inspección de tokens de acceso en cualquiera de las situaciones de hello admite actualmente.</span><span class="sxs-lookup"><span data-stu-id="eff27-223">Your apps shouldn't need tooperform any validation or inspection of access tokens for any of hello currently supported scenarios.</span></span> <span data-ttu-id="eff27-224">Los tokens de acceso se pueden tratar como completamente opacos.</span><span class="sxs-lookup"><span data-stu-id="eff27-224">You can treat access tokens as completely opaque.</span></span> <span data-ttu-id="eff27-225">Son simplemente cadenas que su aplicación pasa tooMicrosoft en las solicitudes HTTP.</span><span class="sxs-lookup"><span data-stu-id="eff27-225">They are just strings that your app can pass tooMicrosoft in HTTP requests.</span></span>

<span data-ttu-id="eff27-226">Hola cerca futuras, v2.0 Hola extremo incorporará capacidad de Hola para sus tokens de acceso de aplicación tooreceive desde otros clientes.</span><span class="sxs-lookup"><span data-stu-id="eff27-226">In hello near future, hello v2.0 endpoint will introduce hello ability for your app tooreceive access tokens from other clients.</span></span> <span data-ttu-id="eff27-227">En ese momento, información de hello en este tema de referencia se actualizará con la información de Hola que necesite para la validación del token de acceso de aplicación tooperform y otras tareas similares.</span><span class="sxs-lookup"><span data-stu-id="eff27-227">At that time, hello information in this reference topic will be updated with hello information that you need for your app tooperform access token validation and other similar tasks.</span></span>

<span data-ttu-id="eff27-228">Cuando se solicita un token de acceso de punto de conexión de hello v2.0, el punto de conexión de hello v2.0 también devuelve metadatos sobre el token de acceso de Hola para su toouse de aplicación.</span><span class="sxs-lookup"><span data-stu-id="eff27-228">When you request an access token from hello v2.0 endpoint, hello v2.0 endpoint also returns metadata about hello access token for your app toouse.</span></span> <span data-ttu-id="eff27-229">Esta información incluye la hora de expiración Hola de token de acceso de Hola y ámbitos de hello para el que es válido.</span><span class="sxs-lookup"><span data-stu-id="eff27-229">This information includes hello expiry time of hello access token and hello scopes for which it is valid.</span></span> <span data-ttu-id="eff27-230">La aplicación usa este metadatos tooperform inteligente almacenamiento en caché de tokens de acceso sin necesidad de token de acceso de hello abierto tooparse propio.</span><span class="sxs-lookup"><span data-stu-id="eff27-230">Your app uses this metadata tooperform intelligent caching of access tokens without having tooparse open hello access token itself.</span></span>

### <a name="refresh-tokens"></a><span data-ttu-id="eff27-231">Tokens de actualización</span><span class="sxs-lookup"><span data-stu-id="eff27-231">Refresh tokens</span></span>
<span data-ttu-id="eff27-232">Tokens de actualización son tokens de seguridad que puede usar su aplicación tooget nuevos tokens de acceso en un flujo de OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="eff27-232">Refresh tokens are security tokens that your app can use tooget new access tokens in an OAuth 2.0 flow.</span></span> <span data-ttu-id="eff27-233">Puede usar su aplicación tooresources a largo plazo de acceso de actualización de tokens tooachieve en nombre del usuario sin necesidad de interacción con el usuario de Hola.</span><span class="sxs-lookup"><span data-stu-id="eff27-233">Your app can use refresh tokens tooachieve long-term access tooresources on behalf of a user without requiring interaction with hello user.</span></span>

<span data-ttu-id="eff27-234">Los tokens de actualización tienen varios recursos.</span><span class="sxs-lookup"><span data-stu-id="eff27-234">Refresh tokens are multi-resource.</span></span> <span data-ttu-id="eff27-235">Un token de actualización recibido durante una solicitud de token para un recurso se puede canjear para recursos completamente diferente de tooa de tokens de acceso.</span><span class="sxs-lookup"><span data-stu-id="eff27-235">A refresh token received during a token request for one resource can be redeemed for access tokens tooa completely different resource.</span></span>

<span data-ttu-id="eff27-236">tooreceive una actualización en una respuesta de token, la aplicación debe solicitar y recibir hello `offline_acesss` ámbito.</span><span class="sxs-lookup"><span data-stu-id="eff27-236">tooreceive a refresh in a token response, your app must request and be granted hello `offline_acesss` scope.</span></span> <span data-ttu-id="eff27-237">más información acerca de hello toolearn `offline_access` ámbito, vea hello [consentimiento y ámbitos](active-directory-v2-scopes.md) artículo.</span><span class="sxs-lookup"><span data-stu-id="eff27-237">toolearn more about hello `offline_access` scope, see hello [consent and scopes](active-directory-v2-scopes.md) article.</span></span>

<span data-ttu-id="eff27-238">Tokens de actualización son y siempre será, aplicación tooyour completamente opaco.</span><span class="sxs-lookup"><span data-stu-id="eff27-238">Refresh tokens are, and always will be, completely opaque tooyour app.</span></span> <span data-ttu-id="eff27-239">Están emitidos por el punto de conexión de hello Azure AD v2.0 y puede solo inspeccionar e interpretados por el punto de conexión de hello v2.0.</span><span class="sxs-lookup"><span data-stu-id="eff27-239">They are issued by hello Azure AD v2.0 endpoint and can only be inspected and interpreted by hello v2.0 endpoint.</span></span> <span data-ttu-id="eff27-240">Son de larga duración, pero la aplicación no debe escribirse tooexpect que un token de actualización durarán durante cualquier período de tiempo.</span><span class="sxs-lookup"><span data-stu-id="eff27-240">They are long-lived, but your app should not be written tooexpect that a refresh token will last for any period of time.</span></span> <span data-ttu-id="eff27-241">Los tokens de actualización pueden invalidarse en cualquier momento por diversos motivos.</span><span class="sxs-lookup"><span data-stu-id="eff27-241">Refresh tokens can be invalidated at any moment for various reasons.</span></span> <span data-ttu-id="eff27-242">Hola solo manera para que su tooknow de aplicación si un token de actualización es válido es tooattempt tooredeem, mediante la realización de un punto de conexión de solicitud de token toohello v2.0.</span><span class="sxs-lookup"><span data-stu-id="eff27-242">hello only way for your app tooknow if a refresh token is valid is tooattempt tooredeem it by making a token request toohello v2.0 endpoint.</span></span>

<span data-ttu-id="eff27-243">Al canjear un token de actualización para un nuevo token de acceso (y si la aplicación se hubiesen garantizada hello `offline_access` ámbito), recibirá un nuevo token de actualización en la respuesta de token de Hola.</span><span class="sxs-lookup"><span data-stu-id="eff27-243">When you redeem a refresh token for a new access token (and if your app had been granted hello `offline_access` scope), you receive a new refresh token in hello token response.</span></span> <span data-ttu-id="eff27-244">Guardar Hola recién emitido actualización Hola tooreplace token, que ha utilizado en la solicitud de saludo.</span><span class="sxs-lookup"><span data-stu-id="eff27-244">Save hello newly issued refresh token, tooreplace hello one you used in hello request.</span></span> <span data-ttu-id="eff27-245">Esto garantiza que los tokens de actualización sigan siendo válidos mientras sea posible.</span><span class="sxs-lookup"><span data-stu-id="eff27-245">This guarantees that your refresh tokens remain valid for as long as possible.</span></span>

## <a name="validating-tokens"></a><span data-ttu-id="eff27-246">Validación de los tokens</span><span class="sxs-lookup"><span data-stu-id="eff27-246">Validating tokens</span></span>
<span data-ttu-id="eff27-247">Hola actualmente, solo deberían ser necesario las aplicaciones de la validación del token tooperform es validar los tokens de identificador.</span><span class="sxs-lookup"><span data-stu-id="eff27-247">Currently, hello only token validation your apps should need tooperform is validating ID tokens.</span></span> <span data-ttu-id="eff27-248">toovalidate un identificador de token, la aplicación debe validar notificaciones hello y firma del ambos Hola el token del identificador token de Id. de Hola.</span><span class="sxs-lookup"><span data-stu-id="eff27-248">toovalidate an ID token, your app should validate both hello ID token's signature and hello claims in hello ID token.</span></span>

<!-- TODO: Link -->
<span data-ttu-id="eff27-249">Microsoft proporciona las bibliotecas y ejemplos de código que muestran cómo tooeasily administran la validación de token.</span><span class="sxs-lookup"><span data-stu-id="eff27-249">Microsoft provides libraries and code samples that show you how tooeasily handle token validation.</span></span> <span data-ttu-id="eff27-250">En las secciones siguientes de hello, describimos Hola subyacente de proceso.</span><span class="sxs-lookup"><span data-stu-id="eff27-250">In hello next sections, we describe hello underlying process.</span></span> <span data-ttu-id="eff27-251">Varias bibliotecas de código abierto de terceros también están disponibles para validación de JWT.</span><span class="sxs-lookup"><span data-stu-id="eff27-251">Several third-party open-source libraries also are available for JWT validation.</span></span> <span data-ttu-id="eff27-252">Hay al menos una opción de biblioteca para casi cualquier plataforma y lenguaje.</span><span class="sxs-lookup"><span data-stu-id="eff27-252">There's at least one library option for almost every platform and language.</span></span>

### <a name="validate-hello-signature"></a><span data-ttu-id="eff27-253">Validar la firma de Hola</span><span class="sxs-lookup"><span data-stu-id="eff27-253">Validate hello signature</span></span>
<span data-ttu-id="eff27-254">Un JWT contiene tres segmentos, que están separados por hello `.` caracteres.</span><span class="sxs-lookup"><span data-stu-id="eff27-254">A JWT contains three segments, which are separated by hello `.` character.</span></span> <span data-ttu-id="eff27-255">primer segmento de Hola se conoce como hello *encabezado*, segundo segmento de hello es hello *cuerpo*, y tercer segmento de hello es hello *firma*.</span><span class="sxs-lookup"><span data-stu-id="eff27-255">hello first segment is known as hello *header*, hello second segment is hello *body*, and hello third segment is hello *signature*.</span></span> <span data-ttu-id="eff27-256">segmento de firma de Hello puede ser usado toovalidate Hola autenticidad del token de Id. de Hola para que lo puede ser de confianza para la aplicación.</span><span class="sxs-lookup"><span data-stu-id="eff27-256">hello signature segment can be used toovalidate hello authenticity of hello ID token so that it can be trusted by your app.</span></span>

<span data-ttu-id="eff27-257">Los tokens de identificador se firman con algoritmos de cifrado asimétrico estándar del sector, como RSA 256.</span><span class="sxs-lookup"><span data-stu-id="eff27-257">ID tokens are signed by using industry-standard asymmetric encryption algorithms, such as RSA 256.</span></span> <span data-ttu-id="eff27-258">encabezado de token de Id. de hello Hello tiene información acerca de la clave de Hola y método de cifrado usa el token de hello toosign.</span><span class="sxs-lookup"><span data-stu-id="eff27-258">hello header of hello ID token has information about hello key and encryption method used toosign hello token.</span></span> <span data-ttu-id="eff27-259">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="eff27-259">For example:</span></span>

```
{
  "typ": "JWT",
  "alg": "RS256",
  "kid": "MnC_VZcATfM5pOYiJHMba9goEKY"
}
```

<span data-ttu-id="eff27-260">Hola `alg` notificación indica el algoritmo de Hola que era el token de hello toosign usado.</span><span class="sxs-lookup"><span data-stu-id="eff27-260">hello `alg` claim indicates hello algorithm that was used toosign hello token.</span></span> <span data-ttu-id="eff27-261">Hola `kid` notificación indica la clave pública de Hola que era el token de hello toosign usado.</span><span class="sxs-lookup"><span data-stu-id="eff27-261">hello `kid` claim indicates hello public key that was used toosign hello token.</span></span>

<span data-ttu-id="eff27-262">En cualquier momento, el punto de conexión de hello v2.0 puede firmar un identificador de token mediante uno de un determinado conjunto de pares de claves pública y privada.</span><span class="sxs-lookup"><span data-stu-id="eff27-262">At any time, hello v2.0 endpoint might sign an ID token by using any one of a specific set of public-private key pairs.</span></span> <span data-ttu-id="eff27-263">el punto de conexión de Hello v2.0 periódicamente gira posible conjunto de Hola de claves, por lo que la aplicación debe escribirse toohandle esos clave cambia automáticamente.</span><span class="sxs-lookup"><span data-stu-id="eff27-263">hello v2.0 endpoint periodically rotates hello possible set of keys, so your app should be written toohandle those key changes automatically.</span></span> <span data-ttu-id="eff27-264">Un toocheck frecuencia razonable para claves públicas de las actualizaciones toohello utilizado por el punto de conexión de hello v2.0 es cada 24 horas.</span><span class="sxs-lookup"><span data-stu-id="eff27-264">A reasonable frequency toocheck for updates toohello public keys used by hello v2.0 endpoint is every 24 hours.</span></span>

<span data-ttu-id="eff27-265">Puede adquirir Hola firmar datos claves que necesita firma de hello toovalidate mediante Hola OpenID Connect metadatos documento que se encuentra en:</span><span class="sxs-lookup"><span data-stu-id="eff27-265">You can acquire hello signing key data that you need toovalidate hello signature by using hello OpenID Connect metadata document located at:</span></span>

```
https://login.microsoftonline.com/common/v2.0/.well-known/openid-configuration
```

> [!TIP]
> <span data-ttu-id="eff27-266">Intente Hola URL en un explorador.</span><span class="sxs-lookup"><span data-stu-id="eff27-266">Try hello URL in a browser!</span></span>
>
>

<span data-ttu-id="eff27-267">Este documento de metadatos es un objeto JSON que tiene varias piezas útiles de información, como ubicación de Hola de hello varios extremos requeridos para la autenticación de OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="eff27-267">This metadata document is a JSON object that has several useful pieces of information, such as hello location of hello various endpoints required for OpenID Connect authentication.</span></span>  <span data-ttu-id="eff27-268">documento de Hello también incluye una *jwks_uri*, que proporciona la ubicación de Hola de hello del conjunto de claves públicas utiliza toosign símbolos (tokens).</span><span class="sxs-lookup"><span data-stu-id="eff27-268">hello document also includes a *jwks_uri*, which gives hello location of hello set of public keys used toosign tokens.</span></span> <span data-ttu-id="eff27-269">documento JSON de Hello ubicado en hello jwks_uri tiene todos los Hola información de clave pública que está actualmente en uso.</span><span class="sxs-lookup"><span data-stu-id="eff27-269">hello JSON document located at hello jwks_uri has all hello public key information that is currently in use.</span></span> <span data-ttu-id="eff27-270">Puede usar su aplicación Hola `kid` un token de notificación en hello JWT encabezado tooselect qué clave pública en este documento ha sido toosign usado.</span><span class="sxs-lookup"><span data-stu-id="eff27-270">Your app can use hello `kid` claim in hello JWT header tooselect which public key in this document has been used toosign a token.</span></span> <span data-ttu-id="eff27-271">A continuación, realiza la validación de firma mediante una clave pública correcta Hola y Hola indicado algoritmo.</span><span class="sxs-lookup"><span data-stu-id="eff27-271">It then performs signature validation by using hello correct public key and hello indicated algorithm.</span></span>

<span data-ttu-id="eff27-272">Realizar la validación de la firma es el ámbito de hello fuera de este documento.</span><span class="sxs-lookup"><span data-stu-id="eff27-272">Performing signature validation is outside hello scope of this document.</span></span> <span data-ttu-id="eff27-273">Muchas bibliotecas de código abierto están disponible toohelp a esto.</span><span class="sxs-lookup"><span data-stu-id="eff27-273">Many open-source libraries are available toohelp you with this.</span></span>

### <a name="validate-hello-claims"></a><span data-ttu-id="eff27-274">Validar las reclamaciones de Hola</span><span class="sxs-lookup"><span data-stu-id="eff27-274">Validate hello claims</span></span>
<span data-ttu-id="eff27-275">Cuando la aplicación recibe un identificador de token al inicio de sesión de usuario, también debe realizar algunas comprobaciones frente a las notificaciones de hello en el token del identificador hello.</span><span class="sxs-lookup"><span data-stu-id="eff27-275">When your app receives an ID token upon user sign-in, it should also perform a few checks against hello claims in hello ID token.</span></span> <span data-ttu-id="eff27-276">Estas incluyen, pero no se limitan a:</span><span class="sxs-lookup"><span data-stu-id="eff27-276">These include but are not limited to:</span></span>

* <span data-ttu-id="eff27-277">**audiencia** de notificación, tooverify que Hola identificador de token estaba previsto toobe dado tooyour aplicación</span><span class="sxs-lookup"><span data-stu-id="eff27-277">**audience** claim, tooverify that hello ID token was intended toobe given tooyour app</span></span>
* <span data-ttu-id="eff27-278">**antes de no** y **tiempo de expiración** de notificaciones, tooverify que Hola identificador de token no ha expirado</span><span class="sxs-lookup"><span data-stu-id="eff27-278">**not before** and **expiration time** claims, tooverify that hello ID token has not expired</span></span>
* <span data-ttu-id="eff27-279">**emisor** de notificación, tooverify que Hola token emitido tooyour aplicación por el punto de conexión de hello v2.0</span><span class="sxs-lookup"><span data-stu-id="eff27-279">**issuer** claim, tooverify that hello token was issued tooyour app by hello v2.0 endpoint</span></span>
* <span data-ttu-id="eff27-280">**nonce**, como mitigación de ataques de reproducción de tokens.</span><span class="sxs-lookup"><span data-stu-id="eff27-280">**nonce**, as a token replay attack mitigation</span></span>

<span data-ttu-id="eff27-281">Para obtener una lista completa de las validaciones de notificación que se debe realizar la aplicación, vea hello [especificación OpenID Connect](http://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation).</span><span class="sxs-lookup"><span data-stu-id="eff27-281">For a full list of claim validations that your app should perform, see hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation).</span></span>

<span data-ttu-id="eff27-282">Detalles de los valores esperados de Hola para estas notificaciones se incluyen en hello [tokens de identificador](# ID tokens) sección.</span><span class="sxs-lookup"><span data-stu-id="eff27-282">Details of hello expected values for these claims are included in hello [ID tokens](# ID tokens) section.</span></span>

## <a name="token-lifetimes"></a><span data-ttu-id="eff27-283">Vigencia de los tokens</span><span class="sxs-lookup"><span data-stu-id="eff27-283">Token lifetimes</span></span>
<span data-ttu-id="eff27-284">Proporcionamos Hola siguiendo la vigencia de los tokens solo para fines informativos.</span><span class="sxs-lookup"><span data-stu-id="eff27-284">We provide hello following token lifetimes for your information only.</span></span> <span data-ttu-id="eff27-285">Hola información puede ayudarle a desarrollar y depurar aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="eff27-285">hello information might help you as you develop and debug apps.</span></span> <span data-ttu-id="eff27-286">Las aplicaciones no deben estar escrito tooexpect cualquiera de estos constante de tooremain duraciones.</span><span class="sxs-lookup"><span data-stu-id="eff27-286">Your apps should not be written tooexpect any of these lifetimes tooremain constant.</span></span> <span data-ttu-id="eff27-287">La vigencia de los tokens puede cambiar en cualquier momento, y así será.</span><span class="sxs-lookup"><span data-stu-id="eff27-287">Token lifetimes can and will change at any time.</span></span>

| <span data-ttu-id="eff27-288">SWT</span><span class="sxs-lookup"><span data-stu-id="eff27-288">Token</span></span> | <span data-ttu-id="eff27-289">Vigencia</span><span class="sxs-lookup"><span data-stu-id="eff27-289">Lifetime</span></span> | <span data-ttu-id="eff27-290">Descripción</span><span class="sxs-lookup"><span data-stu-id="eff27-290">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="eff27-291">Tokens de identificador (cuentas profesionales o educativas)</span><span class="sxs-lookup"><span data-stu-id="eff27-291">ID tokens (work or school accounts)</span></span> |<span data-ttu-id="eff27-292">1 hora</span><span class="sxs-lookup"><span data-stu-id="eff27-292">1 hour</span></span> |<span data-ttu-id="eff27-293">Habitualmente, los tokens de identificador son válidos durante 1 hora.</span><span class="sxs-lookup"><span data-stu-id="eff27-293">ID tokens typically are valid for 1 hour.</span></span> <span data-ttu-id="eff27-294">La aplicación web puede utilizar este mismo toomaintain de duración su propia sesión de usuario de hello (recomendado), o puede elegir una duración de sesión completamente diferente.</span><span class="sxs-lookup"><span data-stu-id="eff27-294">Your web app can use this same lifetime toomaintain its own session with hello user (recommended), or you can choose a completely different session lifetime.</span></span> <span data-ttu-id="eff27-295">Si la aplicación necesita tooget un nuevo token de Id., necesita toohello v2.0 extremo authorize de solicitud de toomake un inicio de sesión de nuevo.</span><span class="sxs-lookup"><span data-stu-id="eff27-295">If your app needs tooget a new ID token, it needs toomake a new sign-in request toohello v2.0 authorize endpoint.</span></span> <span data-ttu-id="eff27-296">Si el usuario de hello tiene una sesión de explorador válidas con el punto de conexión de hello v2.0, usuario Hola podría no ser necesario tooenter sus credenciales de nuevo.</span><span class="sxs-lookup"><span data-stu-id="eff27-296">If hello user has a valid browser session with hello v2.0 endpoint, hello user might not be required tooenter their credentials again.</span></span> |
| <span data-ttu-id="eff27-297">Tokens de identificador (cuentas personales)</span><span class="sxs-lookup"><span data-stu-id="eff27-297">ID tokens (personal accounts)</span></span> |<span data-ttu-id="eff27-298">24 horas</span><span class="sxs-lookup"><span data-stu-id="eff27-298">24 hours</span></span> |<span data-ttu-id="eff27-299">Habitualmente, los tokens de identificador para cuentas personales son válidos durante 24 horas.</span><span class="sxs-lookup"><span data-stu-id="eff27-299">ID tokens for personal accounts typically are valid for 24 hours.</span></span> <span data-ttu-id="eff27-300">La aplicación web puede utilizar este mismo toomaintain de duración su propia sesión de usuario de hello (recomendado), o puede elegir una duración de sesión completamente diferente.</span><span class="sxs-lookup"><span data-stu-id="eff27-300">Your web app can use this same lifetime toomaintain its own session with hello user (recommended), or you can choose a completely different session lifetime.</span></span> <span data-ttu-id="eff27-301">Si la aplicación necesita tooget un nuevo token de Id., necesita toohello v2.0 extremo authorize de solicitud de toomake un inicio de sesión de nuevo.</span><span class="sxs-lookup"><span data-stu-id="eff27-301">If your app needs tooget a new ID token, it needs toomake a new sign-in request toohello v2.0 authorize endpoint.</span></span> <span data-ttu-id="eff27-302">Si el usuario de hello tiene una sesión de explorador válidas con el punto de conexión de hello v2.0, usuario Hola podría no ser necesario tooenter sus credenciales de nuevo.</span><span class="sxs-lookup"><span data-stu-id="eff27-302">If hello user has a valid browser session with hello v2.0 endpoint, hello user might not be required tooenter their credentials again.</span></span> |
| <span data-ttu-id="eff27-303">Tokens de acceso (cuentas profesionales o educativas)</span><span class="sxs-lookup"><span data-stu-id="eff27-303">Access tokens (work or school accounts)</span></span> |<span data-ttu-id="eff27-304">1 hora</span><span class="sxs-lookup"><span data-stu-id="eff27-304">1 hour</span></span> |<span data-ttu-id="eff27-305">Como parte de los metadatos del token Hola indicados en respuestas símbolo (token).</span><span class="sxs-lookup"><span data-stu-id="eff27-305">Indicated in token responses as part of hello token metadata.</span></span> |
| <span data-ttu-id="eff27-306">Tokens de acceso (cuentas personales)</span><span class="sxs-lookup"><span data-stu-id="eff27-306">Access tokens (personal accounts)</span></span> |<span data-ttu-id="eff27-307">1 hora</span><span class="sxs-lookup"><span data-stu-id="eff27-307">1 hour</span></span> |<span data-ttu-id="eff27-308">Como parte de los metadatos del token Hola indicados en respuestas símbolo (token).</span><span class="sxs-lookup"><span data-stu-id="eff27-308">Indicated in token responses as part of hello token metadata.</span></span> <span data-ttu-id="eff27-309">Los tokens de acceso que se emiten en nombre de las cuentas personales se pueden configurar para que tengan una vigencia distinta, pero lo habitual suele ser 1 hora.</span><span class="sxs-lookup"><span data-stu-id="eff27-309">Access tokens that are issued on behalf of personal accounts can be configured for a different lifetime, but 1 hour is typical.</span></span> |
| <span data-ttu-id="eff27-310">Tokens de actualización (cuentas profesionales o educativas)</span><span class="sxs-lookup"><span data-stu-id="eff27-310">Refresh tokens (work or school account)</span></span> |<span data-ttu-id="eff27-311">Los días de too14</span><span class="sxs-lookup"><span data-stu-id="eff27-311">Up too14 days</span></span> |<span data-ttu-id="eff27-312">Un token de actualización solo es válido durante un máximo de 14 días.</span><span class="sxs-lookup"><span data-stu-id="eff27-312">A single refresh token is valid for a maximum of 14 days.</span></span> <span data-ttu-id="eff27-313">Sin embargo, token de actualización de hello podría dejan de ser válido en cualquier momento por diversas razones, por lo que la aplicación debe continuar tootry toouse un token de actualización hasta que se produce un error, o hasta que la aplicación lo reemplaza con un nuevo token de actualización.</span><span class="sxs-lookup"><span data-stu-id="eff27-313">However, hello refresh token might become invalid at any time for various reasons, so your app should continue tootry toouse a refresh token until it fails, or until your app replaces it with a new refresh token.</span></span> <span data-ttu-id="eff27-314">Un token de actualización también deja de ser válido si ha transcurrido 90 días desde que ha entrado en sus credenciales de usuario de Hola.</span><span class="sxs-lookup"><span data-stu-id="eff27-314">A refresh token also becomes invalid if it has been 90 days since hello user has entered their credentials.</span></span> |
| <span data-ttu-id="eff27-315">Tokens de actualización (cuentas personales)</span><span class="sxs-lookup"><span data-stu-id="eff27-315">Refresh tokens (personal accounts)</span></span> |<span data-ttu-id="eff27-316">Año too1</span><span class="sxs-lookup"><span data-stu-id="eff27-316">Up too1 year</span></span> |<span data-ttu-id="eff27-317">Un token de actualización solo es válido durante un máximo de 1 año.</span><span class="sxs-lookup"><span data-stu-id="eff27-317">A single refresh token is valid for a maximum of 1 year.</span></span> <span data-ttu-id="eff27-318">Sin embargo, token de actualización de hello podría no ser válido en cualquier momento por diversas razones, por lo que la aplicación debe continuar tootry toouse un token de actualización hasta que se produce un error.</span><span class="sxs-lookup"><span data-stu-id="eff27-318">However, hello refresh token might become invalid at any time for various reasons, so your app should continue tootry toouse a refresh token until it fails.</span></span> |
| <span data-ttu-id="eff27-319">Códigos de autorización (cuentas profesionales o educativas)</span><span class="sxs-lookup"><span data-stu-id="eff27-319">Authorization codes (work or school accounts)</span></span> |<span data-ttu-id="eff27-320">10 minutos</span><span class="sxs-lookup"><span data-stu-id="eff27-320">10 minutes</span></span> |<span data-ttu-id="eff27-321">Códigos de autorización son de corta duración deliberadamente y deben pueden canjear inmediatamente para los tokens de acceso y tokens de actualización cuando se reciben los tokens de Hola.</span><span class="sxs-lookup"><span data-stu-id="eff27-321">Authorization codes are purposely short-lived, and should be immediately redeemed for access tokens and refresh tokens when hello tokens are received.</span></span> |
| <span data-ttu-id="eff27-322">Códigos de autorización (cuentas personales)</span><span class="sxs-lookup"><span data-stu-id="eff27-322">Authorization codes (personal accounts)</span></span> |<span data-ttu-id="eff27-323">5 minutos</span><span class="sxs-lookup"><span data-stu-id="eff27-323">5 minutes</span></span> |<span data-ttu-id="eff27-324">Códigos de autorización son de corta duración deliberadamente y deben pueden canjear inmediatamente para los tokens de acceso y tokens de actualización cuando se reciben los tokens de Hola.</span><span class="sxs-lookup"><span data-stu-id="eff27-324">Authorization codes are purposely short-lived, and should be immediately redeemed for access tokens and refresh tokens when hello tokens are received.</span></span> <span data-ttu-id="eff27-325">Los códigos de autorización emitidos en nombre de las cuentas personales son de un solo uso.</span><span class="sxs-lookup"><span data-stu-id="eff27-325">Authorization codes that are issued on behalf of personal accounts are for one-time use.</span></span> |
