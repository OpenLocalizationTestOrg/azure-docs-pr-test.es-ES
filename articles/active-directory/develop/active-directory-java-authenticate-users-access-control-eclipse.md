---
title: Uso de Access Control (Java) | Microsoft Docs
description: "Obtenga información acerca de cómo desarrollar y usar el Control de acceso con Java en Azure."
services: active-directory
documentationcenter: java
author: rmcmurray
manager: erikre
editor: 
ms.assetid: 247dfd59-0221-4193-97ec-4f3ebe01d3c7
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: Java
ms.topic: article
ms.date: 04/25/2017
ms.author: robmcm
ms.custom: aaddev
ms.openlocfilehash: 698403d181e1fee09bb4692290c92203ded97ba4
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 07/11/2017
---
# <a name="how-to-authenticate-web-users-with-azure-access-control-service-using-eclipse"></a><span data-ttu-id="f73cd-103">Autenticación de usuarios web con el servicio de control de acceso de Azure mediante Eclipse</span><span class="sxs-lookup"><span data-stu-id="f73cd-103">How to Authenticate Web Users with Azure Access Control Service Using Eclipse</span></span>
<span data-ttu-id="f73cd-104">Esta guía le mostrará cómo usar el servicio de control de acceso de Azure (ACS) dentro del Kit de herramientas de Azure para Eclipse.</span><span class="sxs-lookup"><span data-stu-id="f73cd-104">This guide will show you how to use the Azure Access Control Service (ACS) within the Azure Toolkit for Eclipse.</span></span> <span data-ttu-id="f73cd-105">Para obtener más información sobre ACS, consulte la sección [Pasos siguientes](#next_steps) .</span><span class="sxs-lookup"><span data-stu-id="f73cd-105">For more information on ACS, see the [Next steps](#next_steps) section.</span></span>

> [!NOTE]
> <span data-ttu-id="f73cd-106">El filtro de control de los servicios de acceso de Azure es una Community Technology Preview.</span><span class="sxs-lookup"><span data-stu-id="f73cd-106">The Azure Access Services Control Filter is a community technology preview.</span></span> <span data-ttu-id="f73cd-107">Como versión preliminar de software, no cuenta formalmente con el respaldo de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="f73cd-107">As pre-release software, it is not formally supported by Microsoft.</span></span>
> 
> 

## <a name="what-is-acs"></a><span data-ttu-id="f73cd-108">¿Qué es ACS?</span><span class="sxs-lookup"><span data-stu-id="f73cd-108">What is ACS?</span></span>
<span data-ttu-id="f73cd-109">La mayoría de los desarrolladores ni son expertos en identidad ni generalmente quieren dedicar demasiado tiempo a desarrollar mecanismos de autenticación y autorización para sus aplicaciones y servicios.</span><span class="sxs-lookup"><span data-stu-id="f73cd-109">Most developers are not identity experts and generally do not want to spend time developing authentication and authorization mechanisms for their applications and services.</span></span> <span data-ttu-id="f73cd-110">ACS es un servicio de Azure que ofrece un sencillo método de autenticación de usuarios que necesitan tener acceso a sus servicios y aplicaciones web sin tener que tomar en consideración una lógica de autenticación compleja en su código.</span><span class="sxs-lookup"><span data-stu-id="f73cd-110">ACS is an Azure service that provides an easy way of authenticating users who need to access your web applications and services without having to factor complex authentication logic into your code.</span></span>

<span data-ttu-id="f73cd-111">En ACS están disponibles las características siguientes:</span><span class="sxs-lookup"><span data-stu-id="f73cd-111">The following features are available in ACS:</span></span>

* <span data-ttu-id="f73cd-112">Integración con Windows Identity Foundation (WIF).</span><span class="sxs-lookup"><span data-stu-id="f73cd-112">Integration with Windows Identity Foundation (WIF).</span></span>
* <span data-ttu-id="f73cd-113">Compatibilidad con los proveedores de identidades (IP) habituales, entre los que se incluyen Windows Live ID, Google, Yahoo! y Facebook.</span><span class="sxs-lookup"><span data-stu-id="f73cd-113">Support for popular web identity providers (IPs) including Windows Live ID, Google, Yahoo!, and Facebook.</span></span>
* <span data-ttu-id="f73cd-114">Compatibilidad con los servicios de federación de Active Directory (AD FS) 2.0.</span><span class="sxs-lookup"><span data-stu-id="f73cd-114">Support for Active Directory Federation Services (AD FS) 2.0.</span></span>
* <span data-ttu-id="f73cd-115">Un servicio de administración basado en un protocolo de datos abierto (OData) que proporciona acceso programático a la configuración de ACS.</span><span class="sxs-lookup"><span data-stu-id="f73cd-115">An Open Data Protocol (OData)-based management service that provides programmatic access to ACS settings.</span></span>
* <span data-ttu-id="f73cd-116">Un portal de administración que concede acceso administrativo a la configuración de ACS.</span><span class="sxs-lookup"><span data-stu-id="f73cd-116">A Management Portal that allows administrative access to the ACS settings.</span></span>

<span data-ttu-id="f73cd-117">Para más información acerca de ACS, consulte [Access Control Service 2.0][Access Control Service 2.0].</span><span class="sxs-lookup"><span data-stu-id="f73cd-117">For more information about ACS, see [Access Control Service 2.0][Access Control Service 2.0].</span></span>

## <a name="concepts"></a><span data-ttu-id="f73cd-118">Conceptos</span><span class="sxs-lookup"><span data-stu-id="f73cd-118">Concepts</span></span>
<span data-ttu-id="f73cd-119">Azure ACS se ha creado sobre los principios de la identidad basada en notificaciones, un enfoque coherente para crear mecanismos de autenticación para las aplicaciones que se ejecutan en el entorno local o en la nube.</span><span class="sxs-lookup"><span data-stu-id="f73cd-119">Azure ACS is built on the principals of claims-based identity - a consistent approach to creating authentication mechanisms for applications running on-premises or in the cloud.</span></span> <span data-ttu-id="f73cd-120">La identidad basada en notificaciones proporciona un método común para que las aplicaciones y los servicios obtengan la información necesaria acerca de la identidad de los usuarios de la organización, de otras organizaciones y en Internet.</span><span class="sxs-lookup"><span data-stu-id="f73cd-120">Claims-based identity provides a common way for applications and services to acquire the identity information they need about users inside their organization, in other organizations, and on the Internet.</span></span>

<span data-ttu-id="f73cd-121">Para completar las tareas de esta guía, deberá comprender los siguientes conceptos:</span><span class="sxs-lookup"><span data-stu-id="f73cd-121">To complete the tasks in this guide, you should understand the following concepts:</span></span>

<span data-ttu-id="f73cd-122">**Cliente** : en el contexto de esta guía de procedimientos, es un explorador que intenta obtener acceso a su aplicación web.</span><span class="sxs-lookup"><span data-stu-id="f73cd-122">**Client** - In the context of this how-to guide, this is a browser that is attempting to gain access to your web application.</span></span>

<span data-ttu-id="f73cd-123">**Aplicación de usuarios de confianza (RP)** : una aplicación RP es un servicio o sitio web que externaliza la autenticación a una autoridad externa.</span><span class="sxs-lookup"><span data-stu-id="f73cd-123">**Relying party (RP) application** - An RP application is a website or service that outsources authentication to one external authority.</span></span> <span data-ttu-id="f73cd-124">En la jerga de la identidad, se dice que los RP confían en dicha autoridad.</span><span class="sxs-lookup"><span data-stu-id="f73cd-124">In identity jargon, we say that the RP trusts that authority.</span></span> <span data-ttu-id="f73cd-125">En esta guía se explica cómo configurar su aplicación para que confíe en ACS.</span><span class="sxs-lookup"><span data-stu-id="f73cd-125">This guide explains how to configure your application to trust ACS.</span></span>

<span data-ttu-id="f73cd-126">**Token** : un token es una colección de datos de seguridad que normalmente se emite después de la autenticación correcta de un usuario.</span><span class="sxs-lookup"><span data-stu-id="f73cd-126">**Token** - A token is a collection of security data that is usually issued upon successful authentication of a user.</span></span> <span data-ttu-id="f73cd-127">Contiene un conjunto de *notificaciones*, atributos del usuario autenticado.</span><span class="sxs-lookup"><span data-stu-id="f73cd-127">It contains a set of *claims*, attributes of the authenticated user.</span></span> <span data-ttu-id="f73cd-128">Una notificación puede representar el nombre de un usuario, un identificador para el rol al que pertenece un usuario, la edad del usuario, etc.</span><span class="sxs-lookup"><span data-stu-id="f73cd-128">A claim can represent a user's name, an identifier for a role a user belongs to, a user's age, and so on.</span></span> <span data-ttu-id="f73cd-129">Normalmente se firma un token de manera digital, lo que significa que siempre se podrá rastrear a quien lo emite y no se podrá cambiar su contenido.</span><span class="sxs-lookup"><span data-stu-id="f73cd-129">A token is usually digitally signed, which means it can always be sourced back to its issuer, and its content cannot be tampered with.</span></span> <span data-ttu-id="f73cd-130">Un usuario tiene acceso a una aplicación RP presentando un token válido emitido por una autoridad en la que confía la aplicación RP.</span><span class="sxs-lookup"><span data-stu-id="f73cd-130">A user gains access to a RP application by presenting a valid token issued by an authority that the RP application trusts.</span></span>

<span data-ttu-id="f73cd-131">**Proveedor de identidades (IP)** : un proveedor de identidades es una autoridad que autentica las identidades de los usuarios y emite los tokens de seguridad.</span><span class="sxs-lookup"><span data-stu-id="f73cd-131">**Identity Provider (IP)** - An IP is an authority that authenticates user identities and issues security tokens.</span></span> <span data-ttu-id="f73cd-132">El trabajo real de emitir tokens se implementa a través de un servicio especial llamado servicio de token de seguridad (STS).</span><span class="sxs-lookup"><span data-stu-id="f73cd-132">The actual work of issuing tokens is implemented though a special service called Security Token Service (STS).</span></span> <span data-ttu-id="f73cd-133">Ejemplos típicos de proveedores de identidades incluyen Windows Live ID; Facebook, repositorios de usuarios profesionales (como Active Directory), etc.</span><span class="sxs-lookup"><span data-stu-id="f73cd-133">Typical examples of IPs include Windows Live ID, Facebook, business user repositories (like Active Directory), and so on.</span></span>
<span data-ttu-id="f73cd-134">Cuando ACS se ha configurado para confiar en un IP, el sistema aceptará y validará los tokens que emite dicho IP.</span><span class="sxs-lookup"><span data-stu-id="f73cd-134">When ACS is configured to trust an IP, the system will accept and validate tokens issued by that IP.</span></span> <span data-ttu-id="f73cd-135">ACS puede confiar en varios IP a la vez, lo que significa que cuando su aplicación confía en ACS, puede ofrecer de manera inmediata su aplicación a todos los usuarios autenticados por todos los IP en los que ACS confía en su nombre.</span><span class="sxs-lookup"><span data-stu-id="f73cd-135">ACS can trust multiple IPs at once, which means that when your application trusts ACS, you can instantly offer your application to all the authenticated users from all the IPs that ACS trusts on your behalf.</span></span>

<span data-ttu-id="f73cd-136">**Proveedor de federación (FP)** : los IP conocen directamente a los usuarios, los autentican usando sus credenciales y emiten notificaciones sobre lo que saben de ellos.</span><span class="sxs-lookup"><span data-stu-id="f73cd-136">**Federation Provider (FP)** - IPs have direct knowledge of users, and authenticate them using their credentials and issue claims about what they know about them.</span></span> <span data-ttu-id="f73cd-137">Un proveedor de federación (FP) es un tipo de entidad diferente: en lugar de autenticar a los usuarios directamente, actúa como un intermediario y negocia la autenticación entre un RP y uno o más IP.</span><span class="sxs-lookup"><span data-stu-id="f73cd-137">A Federation Provider (FP) is a different kind of authority: rather than authenticating users directly, it acts as an intermediary and brokers authentication between one RP and one or more IPs.</span></span> <span data-ttu-id="f73cd-138">Tanto los IP como los FP emiten tokens de seguridad, por lo tanto, ambos utilizan los servicios de token de seguridad (STS).</span><span class="sxs-lookup"><span data-stu-id="f73cd-138">Both IPs and FPs issue security tokens, hence they both use Security Token Services (STS).</span></span> <span data-ttu-id="f73cd-139">ACS es un FP.</span><span class="sxs-lookup"><span data-stu-id="f73cd-139">ACS is one FP.</span></span>

<span data-ttu-id="f73cd-140">**Motor de reglas de ACS** : la lógica que se utiliza para transformar los tokens entrantes procedentes de IP de confianza en tokens que pueda consumir el RP se codifica en forma de simples reglas de transformación de notificaciones.</span><span class="sxs-lookup"><span data-stu-id="f73cd-140">**ACS Rule Engine** - The logic used to transform incoming tokens from trusted IPs to tokens meant to be consumed by the RP is codified in form of simple claims transformation rules.</span></span> <span data-ttu-id="f73cd-141">ACS incluye un motor de reglas que se ocupa de aplicar cualquier lógica de transformación que se haya especificado para su RP.</span><span class="sxs-lookup"><span data-stu-id="f73cd-141">ACS features a rule engine that takes care of applying whatever transformation logic you specified for your RP.</span></span>

<span data-ttu-id="f73cd-142">**Espacio de nombres de ACS** : un espacio de nombres es una partición de nivel superior de ACS que se utiliza para organizar su configuración.</span><span class="sxs-lookup"><span data-stu-id="f73cd-142">**ACS Namespace** - A namespace is a top level partition of ACS that you use for organizing your settings.</span></span> <span data-ttu-id="f73cd-143">Un espacio de nombres contiene una lista de los IP en los que confía, las aplicaciones de RP a las que desea servir, las reglas con las que espera que el motor de reglas procese los tokens entrantes, etc.</span><span class="sxs-lookup"><span data-stu-id="f73cd-143">A namespace holds a list of IPs you trust, the RP applications you want to serve, the rules that you expect the rule engine to process incoming tokens with, and so on.</span></span> <span data-ttu-id="f73cd-144">Un espacio de nombres expone varios extremos que la aplicación y el desarrollador utilizarán para hacer que ACS realice su función.</span><span class="sxs-lookup"><span data-stu-id="f73cd-144">A namespace exposes various endpoints that will be used by the application and the developer to get ACS to perform its function.</span></span>

<span data-ttu-id="f73cd-145">La siguiente ilustración muestra cómo funciona la autenticación de ACS con una aplicación web:</span><span class="sxs-lookup"><span data-stu-id="f73cd-145">The following figure shows how ACS authentication works with a web application:</span></span>

![Diagrama de flujo de ACS][acs_flow]

1. <span data-ttu-id="f73cd-147">El cliente (en este caso, un explorador) solicita una página del RP.</span><span class="sxs-lookup"><span data-stu-id="f73cd-147">The client (in this case a browser) requests a page from the RP.</span></span>
2. <span data-ttu-id="f73cd-148">Como la solicitud no se ha autenticado todavía, el RP redirige al usuario a la autoridad en la que confía, es decir, ACS.</span><span class="sxs-lookup"><span data-stu-id="f73cd-148">Since the request is not yet authenticated, the RP redirects the user to the authority that it trusts, which is ACS.</span></span> <span data-ttu-id="f73cd-149">El ACS presenta al usuario la selección de IP especificados para este RP.</span><span class="sxs-lookup"><span data-stu-id="f73cd-149">The ACS presents the user with the choice of IPs that were specified for this RP.</span></span> <span data-ttu-id="f73cd-150">El usuario selecciona el IP adecuado.</span><span class="sxs-lookup"><span data-stu-id="f73cd-150">The user selects the appropriate IP.</span></span>
3. <span data-ttu-id="f73cd-151">El cliente examina la página de autenticación del IP y pide al usuario que inicie sesión.</span><span class="sxs-lookup"><span data-stu-id="f73cd-151">The client browses to the IP's authentication page, and prompts the user to log on.</span></span>
4. <span data-ttu-id="f73cd-152">Cuando el cliente se haya autenticado (por ejemplo, cuando haya escrito las credenciales de identidad), el IP emitirá un token de seguridad.</span><span class="sxs-lookup"><span data-stu-id="f73cd-152">After the client is authenticated (for example, the identity credentials are entered), the IP issues a security token.</span></span>
5. <span data-ttu-id="f73cd-153">Después de haber emitido un token de seguridad, el IP redirige el cliente a ACS y el cliente envía a ACS el token de seguridad que emite el IP.</span><span class="sxs-lookup"><span data-stu-id="f73cd-153">After issuing a security token, the IP redirects the client to ACS and the client sends the security token issued by the IP to ACS.</span></span>
6. <span data-ttu-id="f73cd-154">ACS valida el token de seguridad emitido por el IP, introduce las notificaciones de identidad de este token en el motor de reglas de ACS, calcula las notificaciones de identidad resultantes y emite un nuevo token de seguridad que contenga estas notificaciones.</span><span class="sxs-lookup"><span data-stu-id="f73cd-154">ACS validates the security token issued by the IP, inputs the identity claims in this token into the ACS rules engine, calculates the output identity claims, and issues a new security token that contains these output claims.</span></span>
7. <span data-ttu-id="f73cd-155">ACS redirige el cliente al RP.</span><span class="sxs-lookup"><span data-stu-id="f73cd-155">ACS redirects the client to the RP.</span></span> <span data-ttu-id="f73cd-156">El cliente envía el nuevo token de seguridad emitido por ACS al RP.</span><span class="sxs-lookup"><span data-stu-id="f73cd-156">The client sends the new security token issued by ACS to the RP.</span></span> <span data-ttu-id="f73cd-157">El RP valida la firma del token de seguridad emitido por ACS, valida las notificaciones en este token y devuelve la página que solicitó originalmente.</span><span class="sxs-lookup"><span data-stu-id="f73cd-157">The RP validates the signature on the security token issued by ACS, validates the claims in this token, and returns the page that was originally requested.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="f73cd-158">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="f73cd-158">Prerequisites</span></span>
<span data-ttu-id="f73cd-159">Necesitará lo siguiente para completar las tareas de esta guía:</span><span class="sxs-lookup"><span data-stu-id="f73cd-159">To complete the tasks in this guide, you will need the following:</span></span>

* <span data-ttu-id="f73cd-160">Un kit para desarrolladores de Java (JDK) v1.6 o superior.</span><span class="sxs-lookup"><span data-stu-id="f73cd-160">A Java Developer Kit (JDK), v 1.6 or later.</span></span>
* <span data-ttu-id="f73cd-161">Eclipse IDE para Java EE Developers, Indigo o superior.</span><span class="sxs-lookup"><span data-stu-id="f73cd-161">Eclipse IDE for Java EE Developers, Indigo or later.</span></span> <span data-ttu-id="f73cd-162">Se puede descargar en <http://www.eclipse.org/downloads/>.</span><span class="sxs-lookup"><span data-stu-id="f73cd-162">This can be downloaded from <http://www.eclipse.org/downloads/>.</span></span> 
* <span data-ttu-id="f73cd-163">Una distribución de un servidor de aplicaciones o servidor web basado en Java, como Apache Tomcat, GlassFish, JBoss Application Server o Jetty.</span><span class="sxs-lookup"><span data-stu-id="f73cd-163">A distribution of a Java-based web server or application server, such as Apache Tomcat, GlassFish, JBoss Application Server, or Jetty.</span></span>
* <span data-ttu-id="f73cd-164">Una suscripción de Azure, que se puede adquirir en <http://www.microsoft.com/windowsazure/offers/>.</span><span class="sxs-lookup"><span data-stu-id="f73cd-164">an Azure subscription, which can be acquired from <http://www.microsoft.com/windowsazure/offers/>.</span></span>
* <span data-ttu-id="f73cd-165">El Kit de herramientas de Azure para Eclipse, versión de abril de 2014 o posterior.</span><span class="sxs-lookup"><span data-stu-id="f73cd-165">The Azure Toolkit for Eclipse, April 2014 release or later.</span></span> <span data-ttu-id="f73cd-166">Para más información, consulte [Instalación del kit de herramientas de Azure para Eclipse](http://msdn.microsoft.com/library/windowsazure/hh690946.aspx).</span><span class="sxs-lookup"><span data-stu-id="f73cd-166">For more information, see [Installing the Azure Toolkit for Eclipse](http://msdn.microsoft.com/library/windowsazure/hh690946.aspx).</span></span>
* <span data-ttu-id="f73cd-167">Un certificado X.509 para utilizar con la aplicación.</span><span class="sxs-lookup"><span data-stu-id="f73cd-167">An X.509 certificate to use with your application.</span></span> <span data-ttu-id="f73cd-168">Necesitará este certificado en formato de certificado público (.cer) e intercambio de información personal (.PFX).</span><span class="sxs-lookup"><span data-stu-id="f73cd-168">You will need this certificate in both public certificate (.cer) and Personal Information Exchange (.PFX) format.</span></span> <span data-ttu-id="f73cd-169">(Las opciones para crear este certificado se describirán más adelante en este tutorial).</span><span class="sxs-lookup"><span data-stu-id="f73cd-169">(Options for creating this certificate will be described later in this tutorial).</span></span>
* <span data-ttu-id="f73cd-170">Estar familiarizado con el emulador de proceso de Azure y las técnicas de implementación analizadas en [Creación de una aplicación Hello World para Azure en Eclipse](http://msdn.microsoft.com/library/windowsazure/hh690944.aspx).</span><span class="sxs-lookup"><span data-stu-id="f73cd-170">Familiarity with the Azure compute emulator and deployment techniques discussed at [Creating a Hello World Application for Azure in Eclipse](http://msdn.microsoft.com/library/windowsazure/hh690944.aspx).</span></span>

## <a name="create-an-acs-namespace"></a><span data-ttu-id="f73cd-171">Creación de un espacio de nombres de ACS</span><span class="sxs-lookup"><span data-stu-id="f73cd-171">Create an ACS Namespace</span></span>
<span data-ttu-id="f73cd-172">Para comenzar a utilizar el servicio de control de acceso (ACS) en Azure, debe crear un espacio de nombres de ACS.</span><span class="sxs-lookup"><span data-stu-id="f73cd-172">To begin using Access Control Service (ACS) in Azure, you must create an ACS namespace.</span></span> <span data-ttu-id="f73cd-173">El espacio de nombres proporciona un ámbito único para dirigir los recursos de ACS desde dentro de su aplicación.</span><span class="sxs-lookup"><span data-stu-id="f73cd-173">The namespace provides a unique scope for addressing ACS resources from within your application.</span></span>

1. <span data-ttu-id="f73cd-174">Inicie sesión en el [Portal de administración de Azure][Azure Management Portal].</span><span class="sxs-lookup"><span data-stu-id="f73cd-174">Log into the [Azure Management Portal][Azure Management Portal].</span></span>
2. <span data-ttu-id="f73cd-175">Haga clic en **Active Directory**.</span><span class="sxs-lookup"><span data-stu-id="f73cd-175">Click **Active Directory**.</span></span> 
3. <span data-ttu-id="f73cd-176">Para crear un nuevo espacio de nombres de Access Control, haga clic en **Nuevo**, **App Services**, **Access Control** y luego en **Creación rápida**.</span><span class="sxs-lookup"><span data-stu-id="f73cd-176">To create a new Access Control namespace, click **New**, click **App Services**, click **Access Control**, and then click **Quick Create**.</span></span> 
4. <span data-ttu-id="f73cd-177">Escriba un nombre para el espacio de nombres.</span><span class="sxs-lookup"><span data-stu-id="f73cd-177">Enter a name for the namespace.</span></span> <span data-ttu-id="f73cd-178">Azure verificará si el nombre es único.</span><span class="sxs-lookup"><span data-stu-id="f73cd-178">Azure verifies that the name is unique.</span></span>
5. <span data-ttu-id="f73cd-179">Seleccione la región en la que se usa el espacio de nombres.</span><span class="sxs-lookup"><span data-stu-id="f73cd-179">Select the region in which the namespace is used.</span></span> <span data-ttu-id="f73cd-180">Para obtener el máximo rendimiento, utilice la región en la que va a implementar su aplicación.</span><span class="sxs-lookup"><span data-stu-id="f73cd-180">For the best performance, use the region in which you are deploying your application.</span></span>
6. <span data-ttu-id="f73cd-181">Si tiene varias suscripciones, seleccione la que desea utilizar para el espacio de nombres de ACS.</span><span class="sxs-lookup"><span data-stu-id="f73cd-181">If you have more than one subscription, select the subscription that you want to use for the ACS namespace.</span></span>
7. <span data-ttu-id="f73cd-182">Haga clic en **Crear**.</span><span class="sxs-lookup"><span data-stu-id="f73cd-182">Click **Create**.</span></span>

<span data-ttu-id="f73cd-183">Azure crea y activa el espacio de nombres.</span><span class="sxs-lookup"><span data-stu-id="f73cd-183">Azure creates and activates the namespace.</span></span> <span data-ttu-id="f73cd-184">Espere hasta que el estado del nuevo espacio de nombres sea **Activo** antes de continuar.</span><span class="sxs-lookup"><span data-stu-id="f73cd-184">Wait until the status of the new namespace is **Active** before continuing.</span></span> 

## <a name="add-identity-providers"></a><span data-ttu-id="f73cd-185">Incorporación de proveedores de identidades</span><span class="sxs-lookup"><span data-stu-id="f73cd-185">Add identity providers</span></span>
<span data-ttu-id="f73cd-186">En esta tarea, agregará IP para utilizarlos con su aplicación RP para la autenticación.</span><span class="sxs-lookup"><span data-stu-id="f73cd-186">In this task, you add IPs to use with your RP application for authentication.</span></span> <span data-ttu-id="f73cd-187">Para los fines de esta demostración, esta tarea muestra cómo agregar Windows Live como un IP, pero podría utilizarse cualquiera de los IP que aparecen en el portal de administración de ACS.</span><span class="sxs-lookup"><span data-stu-id="f73cd-187">For demonstration purposes, this task shows how to add Windows Live as an IP, but you could use any of the IPs listed in the ACS Management Portal.</span></span>

1. <span data-ttu-id="f73cd-188">En el [Portal de administración de Azure][Azure Management Portal], haga clic en **Active Directory**, seleccione un espacio de nombres de control de acceso y, a continuación, haga clic en **Administrar**.</span><span class="sxs-lookup"><span data-stu-id="f73cd-188">In the [Azure Management Portal][Azure Management Portal], click **Active Directory**, select an Access Control namespace, and then click **Manage**.</span></span> <span data-ttu-id="f73cd-189">Se abre el portal de administración de ACS.</span><span class="sxs-lookup"><span data-stu-id="f73cd-189">The ACS Management Portal opens.</span></span>
2. <span data-ttu-id="f73cd-190">En el panel de navegación izquierdo del portal de administración de ACS, haga clic en **Proveedores de identidades**.</span><span class="sxs-lookup"><span data-stu-id="f73cd-190">In the left navigation pane of the ACS Management Portal, click **Identity providers**.</span></span>
3. <span data-ttu-id="f73cd-191">Windows Live ID está habilitado de manera predeterminada y no se puede eliminar.</span><span class="sxs-lookup"><span data-stu-id="f73cd-191">Windows Live ID is enabled by default, and cannot be deleted.</span></span> <span data-ttu-id="f73cd-192">Para los fines de este tutorial, solo se utiliza Windows Live ID.</span><span class="sxs-lookup"><span data-stu-id="f73cd-192">For purposes of this tutorial, only Windows Live ID is used.</span></span> <span data-ttu-id="f73cd-193">Sin embargo, en esta pantalla podría agregar otros IP haciendo clic en el botón **Agregar** .</span><span class="sxs-lookup"><span data-stu-id="f73cd-193">This screen, however, is where you could add other IPs, by clicking the **Add** button.</span></span>

<span data-ttu-id="f73cd-194">Windows Live ID ahora está habilitado como un IP para su espacio de nombres de ACS.</span><span class="sxs-lookup"><span data-stu-id="f73cd-194">Windows Live ID is now enabled as an IP for your ACS namespace.</span></span> <span data-ttu-id="f73cd-195">A continuación, especifique la aplicación web de Java (que se va a crear más adelante) como un RP.</span><span class="sxs-lookup"><span data-stu-id="f73cd-195">Next, you specify your Java web application (to be created later) as an RP.</span></span>

## <a name="add-a-relying-party-application"></a><span data-ttu-id="f73cd-196">Incorporación de una aplicación de usuario de confianza</span><span class="sxs-lookup"><span data-stu-id="f73cd-196">Add a relying party application</span></span>
<span data-ttu-id="f73cd-197">En esta tarea, configurará ACS para reconocer la aplicación web de Java como una aplicación RP válida.</span><span class="sxs-lookup"><span data-stu-id="f73cd-197">In this task, you configure ACS to recognize your Java web application as a valid RP application.</span></span>

1. <span data-ttu-id="f73cd-198">En el portal de administración de ACS, haga clic en **Aplicaciones de usuarios de confianza**.</span><span class="sxs-lookup"><span data-stu-id="f73cd-198">On the ACS Management Portal, click **Relying party applications**.</span></span>
2. <span data-ttu-id="f73cd-199">En la página **Relying Party Applications** (Aplicaciones de usuarios de confianza), haga clic en **Agregar**.</span><span class="sxs-lookup"><span data-stu-id="f73cd-199">On the **Relying Party Applications** page, click **Add**.</span></span>
3. <span data-ttu-id="f73cd-200">En la página **Adición de aplicación de usuarios de confianza** , haga lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="f73cd-200">On the **Add Relying Party Application** page, do the following:</span></span>
   
   1. <span data-ttu-id="f73cd-201">En **Nombre**, escriba el nombre del RP.</span><span class="sxs-lookup"><span data-stu-id="f73cd-201">In **Name**, type the name of the RP.</span></span> <span data-ttu-id="f73cd-202">Para los fines de este tutorial, escriba **Azure Web App**.</span><span class="sxs-lookup"><span data-stu-id="f73cd-202">For purposes of this tutorial, type **Azure Web App**.</span></span>
   2. <span data-ttu-id="f73cd-203">En **Modo**, seleccione **Enter settings manually** (Especificar la configuración manualmente).</span><span class="sxs-lookup"><span data-stu-id="f73cd-203">In **Mode**, select **Enter settings manually**.</span></span>
   3. <span data-ttu-id="f73cd-204">En **Territorio**, escriba el URI al que se aplica el token de seguridad que emitió ACS.</span><span class="sxs-lookup"><span data-stu-id="f73cd-204">In **Realm**, type the URI to which the security token issued by ACS applies.</span></span> <span data-ttu-id="f73cd-205">Para esta tarea, escriba **http://localhost:8080/**.</span><span class="sxs-lookup"><span data-stu-id="f73cd-205">For this task, type **http://localhost:8080/**.</span></span>
      <span data-ttu-id="f73cd-206">![El dominio de usuario de confianza para utilizar en el emulador de proceso][relying_party_realm_emulator]</span><span class="sxs-lookup"><span data-stu-id="f73cd-206">![Relying party realm for use in compute emulator][relying_party_realm_emulator]</span></span>
   4. <span data-ttu-id="f73cd-207">En **Dirección URL de retorno** , escriba la dirección URL a la cual ACS devuelve el token de seguridad.</span><span class="sxs-lookup"><span data-stu-id="f73cd-207">In **Return URL,** type the URL to which ACS returns the security token.</span></span> <span data-ttu-id="f73cd-208">Para esta tarea, escriba **http://localhost:8080/MyACSHelloWorld/index.jsp**
      ![, que es la dirección URL de retorno de usuario de confianza para utilizar en el emulador de proceso][relying_party_return_url_emulator].</span><span class="sxs-lookup"><span data-stu-id="f73cd-208">For this task, type **http://localhost:8080/MyACSHelloWorld/index.jsp**
![Relying party return URL for use in compute emulator][relying_party_return_url_emulator]</span></span>
   5. <span data-ttu-id="f73cd-209">Acepte los valores predeterminados en el resto de los campos.</span><span class="sxs-lookup"><span data-stu-id="f73cd-209">Accept the default values in the rest of the fields.</span></span>
4. <span data-ttu-id="f73cd-210">Haga clic en **Save**.</span><span class="sxs-lookup"><span data-stu-id="f73cd-210">Click **Save**.</span></span>

<span data-ttu-id="f73cd-211">Ha configurado correctamente su aplicación web de Java para que cuando se ejecute en el emulador de proceso de Azure (en http://localhost:8080/) sea un RP en su espacio de nombres de ACS.</span><span class="sxs-lookup"><span data-stu-id="f73cd-211">You have now successfully configured your Java web application when it is run in the Azure compute emulator (at http://localhost:8080/) to be an RP in your ACS namespace.</span></span> <span data-ttu-id="f73cd-212">A continuación, cree las reglas que ACS utiliza para procesar notificaciones para el RP.</span><span class="sxs-lookup"><span data-stu-id="f73cd-212">Next, create the rules that ACS uses to process claims for the RP.</span></span>

## <a name="create-rules"></a><span data-ttu-id="f73cd-213">Creación de reglas</span><span class="sxs-lookup"><span data-stu-id="f73cd-213">Create rules</span></span>
<span data-ttu-id="f73cd-214">En esta tarea, definirá las reglas que controlan la manera en que las notificaciones se transmiten desde los IP a su RP.</span><span class="sxs-lookup"><span data-stu-id="f73cd-214">In this task, you define the rules that drive how claims are passed from IPs to your RP.</span></span> <span data-ttu-id="f73cd-215">En lo que respecta a esta guía, simplemente configuraremos ACS para que copie los valores y tipos de notificación de introducción directamente en el token de salida, sin filtrarlos ni modificarlos.</span><span class="sxs-lookup"><span data-stu-id="f73cd-215">For the purpose of this guide, we will simply configure ACS to copy the input claim types and values directly in the output token, without filtering or modifying them.</span></span>

1. <span data-ttu-id="f73cd-216">En la página principal del portal de administración de ACS, haga clic en **Grupos de reglas**.</span><span class="sxs-lookup"><span data-stu-id="f73cd-216">On the ACS Management Portal main page, click **Rule groups**.</span></span>
2. <span data-ttu-id="f73cd-217">En la página **Grupos de reglas**, haga clic en **Default Rule Group for Azure Web App** (Grupo de reglas predeterminadas para aplicación web de Azure).</span><span class="sxs-lookup"><span data-stu-id="f73cd-217">On the **Rule Groups** page, click **Default Rule Group for Azure Web App**.</span></span>
3. <span data-ttu-id="f73cd-218">En la página **Edit Rule Group** (Editar grupo de reglas), haga clic en **Generar**.</span><span class="sxs-lookup"><span data-stu-id="f73cd-218">On the **Edit Rule Group** page, click **Generate**.</span></span>
4. <span data-ttu-id="f73cd-219">En la página **Generate Rules: Default Rule Group for Azure Web App** (Generar reglas: Grupo de reglas predeterminado para aplicación web de Azure), asegúrese de que la opción Windows Live ID esté activada y, a continuación, haga clic en **Generar**.</span><span class="sxs-lookup"><span data-stu-id="f73cd-219">On the **Generate Rules: Default Rule Group for Azure Web App** page, ensure Windows Live ID is checked and then click **Generate**.</span></span>    
5. <span data-ttu-id="f73cd-220">En la página **Edit Rule Group** (Editar grupo de reglas), haga clic en **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="f73cd-220">On the **Edit Rule Group** page, click **Save**.</span></span>

## <a name="upload-a-certificate-to-your-acs-namespace"></a><span data-ttu-id="f73cd-221">Carga de un certificado en su espacio de nombres de ACS</span><span class="sxs-lookup"><span data-stu-id="f73cd-221">Upload a certificate to your ACS namespace</span></span>
<span data-ttu-id="f73cd-222">En esta tarea, cargará un certificado .PFX que se utilizará para firmar solicitudes de token creadas por su espacio de nombres de ACS.</span><span class="sxs-lookup"><span data-stu-id="f73cd-222">In this task, you upload a .PFX certificate that will be used to sign token requests created by your ACS namespace.</span></span>

1. <span data-ttu-id="f73cd-223">En la página principal del portal de administración de ACS, haga clic en **Certificados y claves**.</span><span class="sxs-lookup"><span data-stu-id="f73cd-223">On the ACS Management Portal main page, click **Certificates and keys**.</span></span>
2. <span data-ttu-id="f73cd-224">En la página **Certificates and Keys** (Certificados y claves), haga clic en **Agregar** encima de **Token Signing** (Firma de tokens).</span><span class="sxs-lookup"><span data-stu-id="f73cd-224">On the **Certificates and Keys** page, click **Add** above **Token Signing**.</span></span>
3. <span data-ttu-id="f73cd-225">En la página **Agregar certificado o clave de firma de tokens** :</span><span class="sxs-lookup"><span data-stu-id="f73cd-225">On the **Add Token-Signing Certificate or Key** page:</span></span>
   1. <span data-ttu-id="f73cd-226">En la sección **Usado para**, haga clic en **Aplicación de usuario de confianza** y seleccione **Azure Web App** (que anteriormente definió como el nombre de su aplicación de usuario de confianza).</span><span class="sxs-lookup"><span data-stu-id="f73cd-226">In the **Used for** section, click **Relying Party Application** and select **Azure Web App** (which you previously set as the name of your relying party application).</span></span>
   2. <span data-ttu-id="f73cd-227">En la sección **Tipo**, seleccione **Certificado X.509**.</span><span class="sxs-lookup"><span data-stu-id="f73cd-227">In the **Type** section, select **X.509 Certificate**.</span></span>
   3. <span data-ttu-id="f73cd-228">En la sección **Certificado** , haga clic en el botón de examinar y navegue al archivo del certificado X.509 que desea utilizar.</span><span class="sxs-lookup"><span data-stu-id="f73cd-228">In the **Certificate** section, click the browse button and navigate to the X.509 certificate file that you want to use.</span></span> <span data-ttu-id="f73cd-229">Este será un archivo .PFX.</span><span class="sxs-lookup"><span data-stu-id="f73cd-229">This will be a .PFX file.</span></span> <span data-ttu-id="f73cd-230">Seleccione el archivo, haga clic en **Abrir** y luego escriba la contraseña del certificado en el cuadro de texto **Contraseña**.</span><span class="sxs-lookup"><span data-stu-id="f73cd-230">Select the file, click **Open**,  and then enter the certificate password in the **Password** text box.</span></span> <span data-ttu-id="f73cd-231">Observe que, para fines de prueba, puede utilizar un certificado autofirmado.</span><span class="sxs-lookup"><span data-stu-id="f73cd-231">Note that for testing purposes, you may use a self-signed-certificate.</span></span> <span data-ttu-id="f73cd-232">Para crear un certificado autofirmado, utilice el botón **Nuevo** que aparece en el cuadro de diálogo **Biblioteca de filtros de ACS** (que se describe más adelante), o bien, puede usar la utilidad **encutil.exe** desde el [sitio web del proyecto][project website] del kit de inicio de Azure para Java.</span><span class="sxs-lookup"><span data-stu-id="f73cd-232">To create a self-signed certificate, use the **New** button in the **ACS Filter Library** dialog (described later), or use the **encutil.exe** utility from the [project website][project website] of the Azure Starter Kit for Java.</span></span>
   4. <span data-ttu-id="f73cd-233">Asegúrese de que la opción **Hacer principal** esté activada.</span><span class="sxs-lookup"><span data-stu-id="f73cd-233">Ensure that **Make Primary** is checked.</span></span> <span data-ttu-id="f73cd-234">La página **Agregar clave o certificado de firma de tokens** debería ser similar a la siguiente.</span><span class="sxs-lookup"><span data-stu-id="f73cd-234">Your **Add Token-Signing Certificate or Key** page should look similar to the following.</span></span>
       <span data-ttu-id="f73cd-235">![Agregar certificado de firma de tokens][add_token_signing_cert]</span><span class="sxs-lookup"><span data-stu-id="f73cd-235">![Add token-signing certificate][add_token_signing_cert]</span></span>
   5. <span data-ttu-id="f73cd-236">Haga clic en **Guardar** para guardar la configuración y cierre la página **Add Token-Signing Certificate or Key** (Agregar clave o certificado de firma de token).</span><span class="sxs-lookup"><span data-stu-id="f73cd-236">Click **Save** to save your settings and close the **Add Token-Signing Certificate or Key** page.</span></span>

<span data-ttu-id="f73cd-237">A continuación, revise la información que se encuentra en la página de integración de aplicaciones y copie el URI que necesitará para configurar su aplicación web de Java para usar ACS.</span><span class="sxs-lookup"><span data-stu-id="f73cd-237">Next, review the information in the Application Integration page and copy the URI that you will need to configure your Java web application to use ACS.</span></span>

## <a name="review-the-application-integration-page"></a><span data-ttu-id="f73cd-238">Revisión de la página de integración de aplicaciones</span><span class="sxs-lookup"><span data-stu-id="f73cd-238">Review the Application Integration page</span></span>
<span data-ttu-id="f73cd-239">Puede encontrar toda la información y el código que se necesita para configurar su aplicación web de Java (la aplicación RP) para trabajar con ACS en la página de integración de aplicaciones del portal de administración de ACS.</span><span class="sxs-lookup"><span data-stu-id="f73cd-239">You can find all the information and the code necessary to configure your Java web application (the RP application) to work with ACS on the Application Integration page of the ACS Management Portal.</span></span> <span data-ttu-id="f73cd-240">Necesitará esta información cuando configure la aplicación web de Java para la autenticación federada.</span><span class="sxs-lookup"><span data-stu-id="f73cd-240">You will need this information when configuring your Java web application for federated authentication.</span></span>

1. <span data-ttu-id="f73cd-241">En el portal de administración de ACS, haga clic en **Integración de aplicaciones**.</span><span class="sxs-lookup"><span data-stu-id="f73cd-241">On the ACS Management Portal, click **Application integration**.</span></span>  
2. <span data-ttu-id="f73cd-242">En la página **Integración de aplicaciones**, haga clic en **Páginas de inicio de sesión**.</span><span class="sxs-lookup"><span data-stu-id="f73cd-242">In the **Application Integration** page, click **Login Pages**.</span></span>
3. <span data-ttu-id="f73cd-243">En la página **Login Page Integration** (Integración de página de inicio de sesión), haga clic en **Aplicación web de Azure**.</span><span class="sxs-lookup"><span data-stu-id="f73cd-243">In the **Login Page Integration** page, click **Azure Web App**.</span></span>

<span data-ttu-id="f73cd-244">En la página **Login Page Integration: Azure Web App** (Integración de página de inicio de sesión: Aplicación web de Azure), la dirección URL que aparece en **Option 1: Link to an ACS-hosted login page** (Opción 1: vínculo a una página de inicio de sesión hospedada de ACS) se utilizará en la aplicación web de Java.</span><span class="sxs-lookup"><span data-stu-id="f73cd-244">In the **Login Page Integration: Azure Web App** page, the URL listed in **Option 1: Link to an ACS-hosted login page** will be used in your Java web application.</span></span> <span data-ttu-id="f73cd-245">Necesitará este valor cuando agregue la biblioteca de filtros de servicios de control de acceso de Azure a su aplicación Java.</span><span class="sxs-lookup"><span data-stu-id="f73cd-245">You will need this value when you add the Azure Access Control Services Filter library to your Java application.</span></span>

## <a name="create-a-java-web-application"></a><span data-ttu-id="f73cd-246">Creación de una aplicación web de Java</span><span class="sxs-lookup"><span data-stu-id="f73cd-246">Create a Java web application</span></span>
1. <span data-ttu-id="f73cd-247">En Eclipse, en el menú, haga clic en **File** (Archivo), **New** (Nuevo) y en **Dynamic Web Project** (Proyecto web dinámico).</span><span class="sxs-lookup"><span data-stu-id="f73cd-247">Within Eclipse, at the menu click **File**, click **New**, and then click **Dynamic Web Project**.</span></span> <span data-ttu-id="f73cd-248">(Si no ve que **Dynamic Web Project** [Proyecto web dinámico] aparece como proyecto disponible después de hacer clic en **File** [Archivo], **New** [Nuevo], haga lo siguiente: haga clic en **File** [Archivo], **New** [Nuevo], **Project** [Proyecto], expanda **Web**, haga clic en **Dynamic Web Project** [Proyecto web dinámico] y haga clic en **Next** [Siguiente]). Para los fines de este tutorial, asigne el nombre **MyACSHelloWorld al proyecto**.</span><span class="sxs-lookup"><span data-stu-id="f73cd-248">(If you don't see **Dynamic Web Project** listed as an available project after clicking **File**, **New**, then do the following: click **File**, click **New**, click **Project**, expand **Web**, click **Dynamic Web Project**, and click **Next**.) For purposes of this tutorial, name the project **MyACSHelloWorld**.</span></span> <span data-ttu-id="f73cd-249">(Asegúrese de utilizar este nombre; los pasos posteriores de este historial esperan que su archivo WAR tenga el nombre MyACSHelloWorld).</span><span class="sxs-lookup"><span data-stu-id="f73cd-249">(Ensure you use this name, subsequent steps in this tutorial expect your WAR file to be named MyACSHelloWorld).</span></span> <span data-ttu-id="f73cd-250">La pantalla se parecerá a la siguiente:</span><span class="sxs-lookup"><span data-stu-id="f73cd-250">Your screen will appear similar to the following:</span></span>
   
    ![Ejemplo: Crear un proyecto Hello World para ACS][create_acs_hello_world]
   
    <span data-ttu-id="f73cd-252">Haga clic en **Finalizar**</span><span class="sxs-lookup"><span data-stu-id="f73cd-252">Click **Finish**.</span></span>
2. <span data-ttu-id="f73cd-253">En la vista del explorador de proyectos de Eclipse, expanda **MyACSHelloWorld**.</span><span class="sxs-lookup"><span data-stu-id="f73cd-253">Within Eclipse's Project Explorer view, expand **MyACSHelloWorld**.</span></span> <span data-ttu-id="f73cd-254">Haga clic con el botón derecho en **WebContent**, haga clic en **New** (Nuevo) y, después, en **JSP File** (Archivo JSP).</span><span class="sxs-lookup"><span data-stu-id="f73cd-254">Right-click **WebContent**, click **New**, and then click **JSP File**.</span></span>
3. <span data-ttu-id="f73cd-255">En el cuadro de diálogo **Nuevo archivo JSP**, asigne al archivo el nombre **index.jsp**.</span><span class="sxs-lookup"><span data-stu-id="f73cd-255">In the **New JSP File** dialog, name the file **index.jsp**.</span></span> <span data-ttu-id="f73cd-256">Mantenga la carpeta principal como MyACSHelloWorld/WebContent, tal como aparece a continuación:</span><span class="sxs-lookup"><span data-stu-id="f73cd-256">Keep the parent folder as MyACSHelloWorld/WebContent, as shown in the following:</span></span>
   
    ![Ejemplo: Agregar un archivo JSP para ACS][add_jsp_file_acs]
   
    <span data-ttu-id="f73cd-258">Haga clic en **Siguiente**.</span><span class="sxs-lookup"><span data-stu-id="f73cd-258">Click **Next**.</span></span>
4. <span data-ttu-id="f73cd-259">En el cuadro de diálogo **Select JSP Template** (Seleccionar plantilla JSP), seleccione **New JSP File (html)** (Nuevo archivo JSP [htlm] y haga clic en **Finish** (FInalizar).</span><span class="sxs-lookup"><span data-stu-id="f73cd-259">In the **Select JSP Template** dialog, select **New JSP File (html)** and click **Finish**.</span></span>
5. <span data-ttu-id="f73cd-260">Cuando el archivo index.jsp se abra en Eclipse, agregue texto para mostrar **Hello ACS World!** dentro del elemento existente.</span><span class="sxs-lookup"><span data-stu-id="f73cd-260">When the index.jsp file opens in Eclipse, add in text to display **Hello ACS World!**</span></span> <span data-ttu-id="f73cd-261">dentro del elemento `<body>` existente.</span><span class="sxs-lookup"><span data-stu-id="f73cd-261">within the existing `<body>` element.</span></span> <span data-ttu-id="f73cd-262">Su contenido de `<body>` actualizado debería aparecer de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="f73cd-262">Your updated `<body>` content should appear as the following:</span></span>
   
        <body>
          <b><% out.println("Hello ACS World!"); %></b>
        </body>
   
    <span data-ttu-id="f73cd-263">Guarde el archivo index.jsp.</span><span class="sxs-lookup"><span data-stu-id="f73cd-263">Save index.jsp.</span></span>

## <a name="add-the-acs-filter-library-to-your-application"></a><span data-ttu-id="f73cd-264">Incorporación de la biblioteca de filtros de ACS a su aplicación</span><span class="sxs-lookup"><span data-stu-id="f73cd-264">Add the ACS Filter library to your application</span></span>
1. <span data-ttu-id="f73cd-265">En el explorador de proyectos de Eclipse, haga clic con el botón derecho en **MyACSHelloWorld** y, a continuación, haga clic en **Build Path** (Ruta de acceso de compilación) y luego en **Configure Build Path** (Configurar ruta de acceso de compilación).</span><span class="sxs-lookup"><span data-stu-id="f73cd-265">In Eclipse's Project Explorer, right-click **MyACSHelloWorld**, click **Build Path**, and then click **Configure Build Path**.</span></span>
2. <span data-ttu-id="f73cd-266">En el cuadro de diálogo **Java Build Path** (Ruta de acceso de compilación de Java), haga clic en la pestaña **Libraries** (Biblioteca).</span><span class="sxs-lookup"><span data-stu-id="f73cd-266">In the **Java Build Path** dialog, click the **Libraries** tab.</span></span>
3. <span data-ttu-id="f73cd-267">Haga clic en **Agregar biblioteca**.</span><span class="sxs-lookup"><span data-stu-id="f73cd-267">Click **Add Library**.</span></span>
4. <span data-ttu-id="f73cd-268">Haga clic en **Azure Access Control Services Filter (by MS Open Tech)** (Filtro de servicios de control de acceso de Azure [de MS Open Tech]) y, a continuación, en **Next** (Siguiente).</span><span class="sxs-lookup"><span data-stu-id="f73cd-268">Click **Azure Access Control Services Filter (by MS Open Tech)** and then click **Next**.</span></span> <span data-ttu-id="f73cd-269">Aparecerá el cuadro de diálogo **Filtro de servicios de control de acceso de Azure** .</span><span class="sxs-lookup"><span data-stu-id="f73cd-269">The **Azure Access Control Services Filter** dialog is displayed.</span></span>  <span data-ttu-id="f73cd-270">(El campo **Ubicación** puede tener una ruta de acceso distinta, dependiendo de dónde instalara Eclipse; además, el número de versión podría ser distinto, dependiendo de las actualizaciones de software).</span><span class="sxs-lookup"><span data-stu-id="f73cd-270">(The **Location** field may have a different path, depending on where you installed Eclipse, and the version number could be different, depending on software updates.)</span></span>
   
    ![Agregar biblioteca de filtros de ACS][add_acs_filter_lib]
5. <span data-ttu-id="f73cd-272">Con el explorador abierto en la página **Login Page Integration** (Integración de página de inicio de sesión) del Portal de administración, copie la dirección URL que aparece en el campo **Option 1: Link to an ACS-hosted login page** (Opción 1: vínculo a una página de inicio de sesión hospedada de ACS) y péguelo en el campo **ACS Authentication Endpoint** (Punto de conexión de autenticación ACS) del cuadro de diálogo de Eclipse.</span><span class="sxs-lookup"><span data-stu-id="f73cd-272">Using a browser opened to the **Login Page Integration** page of the Management Portal, copy the URL listed in the **Option 1: Link to an ACS-hosted login page** field and paste it into the **ACS Authentication Endpoint** field of the Eclipse dialog.</span></span>
6. <span data-ttu-id="f73cd-273">En el explorador, abra la página **Edit Relying Party Application** (Editar aplicación de usuario de confianza) del Portal de administración, copie la dirección URL que aparece en el campo **Territorio** y péguela en el campo **Relying Party Realm** (Territorio de usuario de confianza) del cuadro de diálogo de Eclipse.</span><span class="sxs-lookup"><span data-stu-id="f73cd-273">Using a browser opened to the **Edit Relying Party Application** page of the Management Portal, copy the URL listed in the **Realm** field and paste it into the **Relying Party Realm** field of the Eclipse dialog.</span></span>
7. <span data-ttu-id="f73cd-274">En la sección **Security** (Seguridad) del cuadro de diálogo de Eclipse, si desea utilizar un certificado existente, haga clic en **Browse** (Examinar), navegue al certificado que desea utilizar, selecciónelo y haga clic en **Open** (Abrir).</span><span class="sxs-lookup"><span data-stu-id="f73cd-274">Within the **Security** section of the Eclipse dialog, if you want to use an existing certificate, click **Browse**, navigate to the certificate you want to use, select it, and click **Open**.</span></span> <span data-ttu-id="f73cd-275">O bien, si desea crear un certificado nuevo, haga clic en **New** (Nuevo) para mostrar el cuadro de diálogo **New Certificate** (Nuevo certificado) y, a continuación, especifique la contraseña, el nombre del certificado .cer y el nombre del archivo .pfx para el certificado nuevo.</span><span class="sxs-lookup"><span data-stu-id="f73cd-275">Or, if you want to create a new certificate, click **New** to display the **New Certificate** dialog, then specify the password, name of the .cer file, and name of the .pfx file for the new certificate.</span></span>
8. <span data-ttu-id="f73cd-276">Haga clic en **Insertar el certificado en el archivo WAR**.</span><span class="sxs-lookup"><span data-stu-id="f73cd-276">Check **Embed the certificate in the WAR file**.</span></span> <span data-ttu-id="f73cd-277">Al insertar el certificado de esta manera se incluye en su implementación sin que deba agregarlo manualmente como componente.</span><span class="sxs-lookup"><span data-stu-id="f73cd-277">Embedding the certificate in this manner includes it in your deployment without requiring you to manually add it as a component.</span></span> <span data-ttu-id="f73cd-278">(Si, por el contrario, debe almacenar el certificado de manera externa desde el archivo WAR, podría agregar el certificado como un componente de rol y desactivar la opción **Incrustar el certificado en el archivo WAR**).</span><span class="sxs-lookup"><span data-stu-id="f73cd-278">(If instead you must store your certificate externally from your WAR file, you could add the certificate as a role component and uncheck **Embed the certificate in the WAR file**.)</span></span>
9. <span data-ttu-id="f73cd-279">[Opcional] Mantenga activada la opción **Requerir conexiones HTTPS** .</span><span class="sxs-lookup"><span data-stu-id="f73cd-279">[Optional] Keep **Require HTTPS connections** checked.</span></span> <span data-ttu-id="f73cd-280">Si define esta opción, deberá tener acceso a su aplicación mediante el protocolo HTTPS.</span><span class="sxs-lookup"><span data-stu-id="f73cd-280">If you set this option, you'll need to access your application using the HTTPS protocol.</span></span> <span data-ttu-id="f73cd-281">Si no desea exigir conexiones HTTPS, desactive esta opción.</span><span class="sxs-lookup"><span data-stu-id="f73cd-281">If you don't want to require HTTPS connections, uncheck this option.</span></span>
10. <span data-ttu-id="f73cd-282">En una implementación en el emulador de proceso, su configuración de **Azure ACS Filter** será como la siguiente.</span><span class="sxs-lookup"><span data-stu-id="f73cd-282">For a deployment to the compute emulator, your **Azure ACS Filter** settings will look similar to the following.</span></span>
    
    ![Configuración del filtro de Azure ACS para una implementación en el emulador de proceso][add_acs_filter_lib_emulator]
11. <span data-ttu-id="f73cd-284">Haga clic en **Finalizar**</span><span class="sxs-lookup"><span data-stu-id="f73cd-284">Click **Finish**.</span></span>
12. <span data-ttu-id="f73cd-285">Haga clic en **Sí** cuando aparezca un cuadro de diálogo que indique que se creará un archivo web.xml.</span><span class="sxs-lookup"><span data-stu-id="f73cd-285">Click **Yes** when presented with with a dialog box stating that a web.xml file will be created.</span></span>
13. <span data-ttu-id="f73cd-286">Haga clic en **OK** (Aceptar) para cerrar el cuadro de diálogo **Java Build Path** (Ruta de acceso de compilación de Java).</span><span class="sxs-lookup"><span data-stu-id="f73cd-286">Click **OK** to close the **Java Build Path** dialog.</span></span>

## <a name="deploy-to-the-compute-emulator"></a><span data-ttu-id="f73cd-287">Implementación del emulador de proceso</span><span class="sxs-lookup"><span data-stu-id="f73cd-287">Deploy to the compute emulator</span></span>
1. <span data-ttu-id="f73cd-288">En el explorador de proyectos de Eclipse, haga clic con el botón derecho en **MyACSHelloWorld** y luego haga clic en **Azure** y en **Package for Azure** (Paquete de Azure).</span><span class="sxs-lookup"><span data-stu-id="f73cd-288">In Eclipse's Project Explorer, right-click **MyACSHelloWorld**, click **Azure**, and then click **Package for Azure**.</span></span>
2. <span data-ttu-id="f73cd-289">En **Project name** (Nombre de proyecto), escriba **MyAzureACSProject** y haga clic en **Next** (Siguiente).</span><span class="sxs-lookup"><span data-stu-id="f73cd-289">For **Project name**, type **MyAzureACSProject** and click **Next**.</span></span>
3. <span data-ttu-id="f73cd-290">Seleccione un JDK y un servidor de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="f73cd-290">Select a JDK and application server.</span></span> <span data-ttu-id="f73cd-291">(Estos pasos aparecen detallados en el tutorial [Creación de una aplicación Hello World para Azure en Eclipse](http://msdn.microsoft.com/library/windowsazure/hh690944.aspx) ).</span><span class="sxs-lookup"><span data-stu-id="f73cd-291">(These steps are covered in detail in the [Creating a Hello World Application for Azure in Eclipse](http://msdn.microsoft.com/library/windowsazure/hh690944.aspx) tutorial).</span></span>
4. <span data-ttu-id="f73cd-292">Haga clic en **Finalizar**</span><span class="sxs-lookup"><span data-stu-id="f73cd-292">Click **Finish**.</span></span>
5. <span data-ttu-id="f73cd-293">Haga clic en el botón **Ejecutar Emulador de Azure** .</span><span class="sxs-lookup"><span data-stu-id="f73cd-293">Click the **Run in Azure Emulator** button.</span></span>
6. <span data-ttu-id="f73cd-294">Una vez que la aplicación web de Java se inicie en el emulador de proceso, cierre todas las instancias del explorador (para que ninguna sesión actual del explorador interfiera con la prueba de inicio de sesión en ACS).</span><span class="sxs-lookup"><span data-stu-id="f73cd-294">After your Java web application starts in the compute emulator, close all instances of your browser (so that any current browser sessions do not interfere with your ACS login test).</span></span>
7. <span data-ttu-id="f73cd-295">Para ejecutar la aplicación, abra <http://localhost:8080/MyACSHelloWorld/> en el explorador (o <https://localhost:8080/MyACSHelloWorld/> si ha activado **Require HTTPS connections** [Requerir conexiones HTTPS]).</span><span class="sxs-lookup"><span data-stu-id="f73cd-295">Run your application by opening <http://localhost:8080/MyACSHelloWorld/> in your browser (or <https://localhost:8080/MyACSHelloWorld/> if you checked **Require HTTPS connections**).</span></span> <span data-ttu-id="f73cd-296">Se le solicitará un inicio de sesión de Windows Live ID y, a continuación, debería ir a la URL de retorno que se especificó para su aplicación de usuario de confianza.</span><span class="sxs-lookup"><span data-stu-id="f73cd-296">You should be prompted for a Windows Live ID login, then you should be taken to the return URL specified for your relying party application.</span></span>
8. <span data-ttu-id="f73cd-297">Cuando haya terminado de visualizar la aplicación, haga clic en el botón **Restablecer Emulador de Azure** .</span><span class="sxs-lookup"><span data-stu-id="f73cd-297">When you have finished viewing your application, click the **Reset Azure Emulator** button.</span></span>

## <a name="deploy-to-azure"></a><span data-ttu-id="f73cd-298">Implementación en Azure</span><span class="sxs-lookup"><span data-stu-id="f73cd-298">Deploy to Azure</span></span>
<span data-ttu-id="f73cd-299">Para implementar en Azure, deberá cambiar el dominio de usuario de confianza y la URL de retorno para su espacio de nombres de ACS.</span><span class="sxs-lookup"><span data-stu-id="f73cd-299">To deploy to Azure, you'll need to change the relying party realm and return URL for your ACS namespace.</span></span>

1. <span data-ttu-id="f73cd-300">Dentro del Portal de administración de Azure, en la página **Edit Relying Party Application** (Editar aplicación de usuario de confianza), modifique **Territorio** para que sea la URL del sitio implementado.</span><span class="sxs-lookup"><span data-stu-id="f73cd-300">Within the Azure Management Portal, in the **Edit Relying Party Application** page, modify **Realm** to be the URL of your deployed site.</span></span> <span data-ttu-id="f73cd-301">Reemplace **example** por el nombre DNS que especificó para la implementación.</span><span class="sxs-lookup"><span data-stu-id="f73cd-301">Replace **example** with the DNS name you specified for your deployment.</span></span>
   
    ![El dominio de usuario de confianza para utilizar en producción][relying_party_realm_production]
2. <span data-ttu-id="f73cd-303">Modifique la **dirección URL de retorno** para que sea la dirección URL de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="f73cd-303">Modify **Return URL** to be the URL of your application.</span></span> <span data-ttu-id="f73cd-304">Reemplace **example** por el nombre DNS que especificó para la implementación.</span><span class="sxs-lookup"><span data-stu-id="f73cd-304">Replace **example** with the DNS name you specified for your deployment.</span></span>
   
    ![La URL de retorno de usuario de confianza para utilizar en producción][relying_party_return_url_production]
3. <span data-ttu-id="f73cd-306">Haga clic en **Guardar** para guardar los cambios actualizados en la URL de retorno y el dominio de usuario de confianza.</span><span class="sxs-lookup"><span data-stu-id="f73cd-306">Click **Save** to save your updated replying party realm and return URL changes.</span></span>
4. <span data-ttu-id="f73cd-307">Mantenga abierta la página **Integración de página de inicio de sesión** en el explorador, porque deberá copiar información desde ella.</span><span class="sxs-lookup"><span data-stu-id="f73cd-307">Keep the **Login Page Integration** page open in your browser, you'll need to copy from it shortly.</span></span>
5. <span data-ttu-id="f73cd-308">En el explorador de proyectos de Eclipse, haga clic con el botón derecho en **MyACSHelloWorld** y, a continuación, haga clic en **Build Path** (Ruta de acceso de compilación) y luego en **Configure Build Path** (Configurar ruta de acceso de compilación).</span><span class="sxs-lookup"><span data-stu-id="f73cd-308">In Eclipse's Project Explorer, right-click **MyACSHelloWorld**, click **Build Path**, and then click **Configure Build Path**.</span></span>
6. <span data-ttu-id="f73cd-309">Haga clic en la pestaña **Libraries** (Bibliotecas), en **Azure Access Control Services Filter** (Filtro de Access Control Service) y en **Edit** (Editar).</span><span class="sxs-lookup"><span data-stu-id="f73cd-309">Click the **Libraries** tab, click **Azure Access Control Services Filter**, and then click **Edit**.</span></span>
7. <span data-ttu-id="f73cd-310">Con el explorador abierto en la página **Login Page Integration** (Integración de página de inicio de sesión) del Portal de administración, copie la dirección URL que aparece en el campo **Option 1: Link to an ACS-hosted login page** (Opción 1: vínculo a una página de inicio de sesión hospedada de ACS) y péguelo en el campo **ACS Authentication Endpoint** (Punto de conexión de autenticación ACS) del cuadro de diálogo de Eclipse.</span><span class="sxs-lookup"><span data-stu-id="f73cd-310">Using a browser opened to the **Login Page Integration** page of the Management Portal, copy the URL listed in the **Option 1: Link to an ACS-hosted login page** field and paste it into the **ACS Authentication Endpoint** field of the Eclipse dialog.</span></span>
8. <span data-ttu-id="f73cd-311">En el explorador, abra la página **Edit Relying Party Application** (Editar aplicación de usuario de confianza) del Portal de administración, copie la dirección URL que aparece en el campo **Territorio** y péguela en el campo **Relying Party Realm** (Territorio de usuario de confianza) del cuadro de diálogo de Eclipse.</span><span class="sxs-lookup"><span data-stu-id="f73cd-311">Using a browser opened to the **Edit Relying Party Application** page of the Management Portal, copy the URL listed in the **Realm** field and paste it into the **Relying Party Realm** field of the Eclipse dialog.</span></span>
9. <span data-ttu-id="f73cd-312">En la sección **Security** (Seguridad) del cuadro de diálogo de Eclipse, si desea utilizar un certificado existente, haga clic en **Browse** (Examinar), navegue al certificado que desea utilizar, selecciónelo y haga clic en **Open** (Abrir).</span><span class="sxs-lookup"><span data-stu-id="f73cd-312">Within the **Security** section of the Eclipse dialog, if you want to use an existing certificate, click **Browse**, navigate to the certificate you want to use, select it, and click **Open**.</span></span> <span data-ttu-id="f73cd-313">O bien, si desea crear un certificado nuevo, haga clic en **New** (Nuevo) para mostrar el cuadro de diálogo **New Certificate** (Nuevo certificado) y, a continuación, especifique la contraseña, el nombre del certificado .cer y el nombre del archivo .pfx para el certificado nuevo.</span><span class="sxs-lookup"><span data-stu-id="f73cd-313">Or, if you want to create a new certificate, click **New** to display the **New Certificate** dialog, then specify the password, name of the .cer file, and name of the .pfx file for the new certificate.</span></span>
10. <span data-ttu-id="f73cd-314">Si desea insertar el certificado en el archivo WAR, mantenga activada la opción **Insertar el certificado en el archivo WAR** .</span><span class="sxs-lookup"><span data-stu-id="f73cd-314">Keep **Embed the certificate in the WAR file** checked, assuming you want to embed the certificate in the WAR file.</span></span>
11. <span data-ttu-id="f73cd-315">[Opcional] Mantenga activada la opción **Requerir conexiones HTTPS** .</span><span class="sxs-lookup"><span data-stu-id="f73cd-315">[Optional] Keep **Require HTTPS connections** checked.</span></span> <span data-ttu-id="f73cd-316">Si define esta opción, deberá tener acceso a su aplicación mediante el protocolo HTTPS.</span><span class="sxs-lookup"><span data-stu-id="f73cd-316">If you set this option, you'll need to access your application using the HTTPS protocol.</span></span> <span data-ttu-id="f73cd-317">Si no desea exigir conexiones HTTPS, desactive esta opción.</span><span class="sxs-lookup"><span data-stu-id="f73cd-317">If you don't want to require HTTPS connections, uncheck this option.</span></span>
12. <span data-ttu-id="f73cd-318">En una implementación en Azure, la configuración del filtro de ACS de Azure será como la siguiente.</span><span class="sxs-lookup"><span data-stu-id="f73cd-318">For a deployment to Azure, your Azure ACS Filter settings will look similar to the following.</span></span>
    
    ![Configuración del filtro de ACS de Azure para una implementación en producción][add_acs_filter_lib_production]
13. <span data-ttu-id="f73cd-320">Haga clic en **Finish** (Finalizar) para cerrar el cuadro de diálogo **Edit Library** (Editar biblioteca).</span><span class="sxs-lookup"><span data-stu-id="f73cd-320">Click **Finish** to close the **Edit Library** dialog.</span></span>
14. <span data-ttu-id="f73cd-321">Haga clic en **OK** (Aceptar) para cerrar el cuadro de diálogo **Properties for MyACSHelloWorld** (Propiedades de MyACSHelloWorld).</span><span class="sxs-lookup"><span data-stu-id="f73cd-321">Click **OK** to close the **Properties for MyACSHelloWorld** dialog.</span></span>
15. <span data-ttu-id="f73cd-322">En Eclipse, haga clic en el botón **Publicar en Azure Cloud** .</span><span class="sxs-lookup"><span data-stu-id="f73cd-322">In Eclipse, click the **Publish to Azure Cloud** button.</span></span> <span data-ttu-id="f73cd-323">Siga las indicaciones, tal como lo hizo en la sección **Implementación de su aplicación en Azure** del tema [Creación de una aplicación Hello World para Azure en Eclipse](http://msdn.microsoft.com/library/windowsazure/hh690944.aspx) .</span><span class="sxs-lookup"><span data-stu-id="f73cd-323">Respond to the prompts, similar as done in the **To deploy your application to Azure** section of the [Creating a Hello World Application for Azure in Eclipse](http://msdn.microsoft.com/library/windowsazure/hh690944.aspx) topic.</span></span> 

<span data-ttu-id="f73cd-324">Una vez que se ha implementado la aplicación web, cierre las sesiones abiertas del explorador, ejecute la aplicación web y se le solicitará iniciar sesión con credenciales de Windows Live ID y, a continuación, irá a la URL de retorno de su aplicación de usuario de confianza.</span><span class="sxs-lookup"><span data-stu-id="f73cd-324">After your web application has been deployed, close any open browser sessions, run your web application, and you should be prompted to sign in with Windows Live ID credentials, followed by being sent to the return URL of your relying party application.</span></span>

<span data-ttu-id="f73cd-325">Cuando haya terminado de utilizar la aplicación Hello World de ACS, recuerde eliminar la implementación (aprenda a eliminar una implementación en el tema [Creación de una aplicación Hello World para Azure en Eclipse](http://msdn.microsoft.com/library/windowsazure/hh690944.aspx) ).</span><span class="sxs-lookup"><span data-stu-id="f73cd-325">When you are done using your ACS Hello World application, remember to delete the deployment (you can learn how to delete a deployment in the [Creating a Hello World Application for Azure in Eclipse](http://msdn.microsoft.com/library/windowsazure/hh690944.aspx) topic).</span></span>

## <span data-ttu-id="f73cd-326"><a name="next_steps"></a>Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="f73cd-326"><a name="next_steps"></a>Next steps</span></span>
<span data-ttu-id="f73cd-327">Para analizar el lenguaje de marcado de aserción de seguridad (SAML) que devuelve ACS a su aplicación, consulte [Visualización del SAML que devuelve Azure Access Control Service][How to view SAML returned by the Azure Access Control Service].</span><span class="sxs-lookup"><span data-stu-id="f73cd-327">For an examination of the Security Assertion Markup Language (SAML) returned by ACS to your application, see [How to view SAML returned by the Azure Access Control Service][How to view SAML returned by the Azure Access Control Service].</span></span> <span data-ttu-id="f73cd-328">Para seguir explorando la funcionalidad de ACS y experimentar con escenarios más sofisticados, consulte [Access Control Service 2.0][Access Control Service 2.0].</span><span class="sxs-lookup"><span data-stu-id="f73cd-328">To further explore ACS's functionality and to experiment with more sophisticated scenarios, see [Access Control Service 2.0][Access Control Service 2.0].</span></span>

<span data-ttu-id="f73cd-329">Además, en este ejemplo se utilizó la opción **Insertar el certificado en el archivo WAR** .</span><span class="sxs-lookup"><span data-stu-id="f73cd-329">Also, this example used the **Embed the certificate in the WAR file** option.</span></span> <span data-ttu-id="f73cd-330">Esta opción facilita la implementación del certificado.</span><span class="sxs-lookup"><span data-stu-id="f73cd-330">This option makes it simple to deploy the certificate.</span></span> <span data-ttu-id="f73cd-331">Si, por el contrario, desea mantener el certificado de firma independiente del archivo WAR, puede utilizar la siguiente técnica:</span><span class="sxs-lookup"><span data-stu-id="f73cd-331">If instead you want to keep your signing certificate separate from your WAR file, you can use the following technique:</span></span>

1. <span data-ttu-id="f73cd-332">En la sección **Security** (Seguridad) del cuadro de diálogo **Azure Access Control Services Filter** (Filtro de Access Control Service), escriba **${env.JAVA_HOME}/mycert.cer** y desactive la opción **Embed the certificate in the WAR file** (Insertar el certificado en el archivo WAR).</span><span class="sxs-lookup"><span data-stu-id="f73cd-332">Within the **Security** section of the **Azure Access Control Services Filter** dialog, type **${env.JAVA_HOME}/mycert.cer** and uncheck **Embed the certificate in the WAR file**.</span></span> <span data-ttu-id="f73cd-333">(Ajuste mycert.cer si el nombre del archivo de certificado es distinto). Haga clic en **Finish** (Finalizar) para cerrar el cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="f73cd-333">(Adjust mycert.cer if your certificate file name is different.) Click **Finish** to close the dialog.</span></span>
2. <span data-ttu-id="f73cd-334">En el explorador de proyectos de Eclipse, expanda **MyAzureACSProject**, haga clic con el botón derecho en **WorkerRole1**, haga clic en **Properties** (Propiedades), expanda **Azure Rol** (Rol de Azure) y luego haga clic en **Componentes**.</span><span class="sxs-lookup"><span data-stu-id="f73cd-334">Copy the certificate as a component in your deployment: In Eclipse's Project Explorer, expand **MyAzureACSProject**, right-click **WorkerRole1**, click **Properties**, expand **Azure Role**, and click **Components**.</span></span>
3. <span data-ttu-id="f73cd-335">Haga clic en **Agregar**.</span><span class="sxs-lookup"><span data-stu-id="f73cd-335">Click **Add**.</span></span>
4. <span data-ttu-id="f73cd-336">Dentro del cuadro de diálogo **Agregar componente** :</span><span class="sxs-lookup"><span data-stu-id="f73cd-336">Within the **Add Component** dialog:</span></span>
   
   1. <span data-ttu-id="f73cd-337">En la sección **Importación** :</span><span class="sxs-lookup"><span data-stu-id="f73cd-337">In the **Import** section:</span></span>
      1. <span data-ttu-id="f73cd-338">Utilice el botón **Archivo** para navegar al certificado que desea usar.</span><span class="sxs-lookup"><span data-stu-id="f73cd-338">Use the **File** button to navigate to the certificate you want to use.</span></span> 
      2. <span data-ttu-id="f73cd-339">En **Method** (Método) seleccione **copy** (copiar).</span><span class="sxs-lookup"><span data-stu-id="f73cd-339">For **Method**, select **copy**.</span></span>
   2. <span data-ttu-id="f73cd-340">En **Como nombre**, haga clic en el cuadro de texto y acepte el nombre predeterminado.</span><span class="sxs-lookup"><span data-stu-id="f73cd-340">For **As Name**, click on the text box and accept the default name.</span></span>
   3. <span data-ttu-id="f73cd-341">En la sección **Implementación** :</span><span class="sxs-lookup"><span data-stu-id="f73cd-341">In the **Deploy** section:</span></span>
      1. <span data-ttu-id="f73cd-342">En **Method** (Método) seleccione **copy** (copiar).</span><span class="sxs-lookup"><span data-stu-id="f73cd-342">For **Method**, select **copy**.</span></span>
      2. <span data-ttu-id="f73cd-343">En **To directory** (Directorio de destino), escriba **%JAVA_HOME%**.</span><span class="sxs-lookup"><span data-stu-id="f73cd-343">For **To directory**, type **%JAVA_HOME%**.</span></span>
   4. <span data-ttu-id="f73cd-344">El cuadro de diálogo **Agregar componente** debe parecerse al siguiente.</span><span class="sxs-lookup"><span data-stu-id="f73cd-344">Your **Add Component** dialog should look similar to the following.</span></span>
      
       ![Agregar componente de certificado][add_cert_component]
   5. <span data-ttu-id="f73cd-346">Haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="f73cd-346">Click **OK**.</span></span>

<span data-ttu-id="f73cd-347">En este punto, su certificado se incluiría en la implementación.</span><span class="sxs-lookup"><span data-stu-id="f73cd-347">At this point, your certificate would be included in your deployment.</span></span> <span data-ttu-id="f73cd-348">Observe que, independientemente de si insertó el certificado en el archivo WAR o si lo agregó como componente a la implementación, necesita cargar el certificado en su espacio de nombres, tal como se describe en la sección [Carga de un certificado en su espacio de nombres de ACS][Upload a certificate to your ACS namespace].</span><span class="sxs-lookup"><span data-stu-id="f73cd-348">Note that regardless of whether you embed the certificate in the WAR file or add it as a component to your deployment, you need to upload the certificate to your namespace as described in the [Upload a certificate to your ACS namespace][Upload a certificate to your ACS namespace] section.</span></span>

[What is ACS?]: #what-is
[Concepts]: #concepts
[Prerequisites]: #pre
[Create a Java web application]: #create-java-app
[Create an ACS Namespace]: #create-namespace
[Add Identity Providers]: #add-IP
[Add a Relying Party Application]: #add-RP
[Create Rules]: #create-rules
[Upload a certificate to your ACS namespace]: #upload-certificate
[Review the Application Integration Page]: #review-app-int
[Configure Trust between ACS and Your ASP.NET Web Application]: #config-trust
[Add the ACS Filter library to your application]: #add_acs_filter_library
[Deploy to the compute emulator]: #deploy_compute_emulator
[Deploy to Azure]: #deploy_azure
[Next steps]: #next_steps
[project website]: http://wastarterkit4java.codeplex.com/releases/view/61026
[How to view SAML returned by the Azure Access Control Service]: active-directory-java-view-saml-returned-by-access-control.md
[Access Control Service 2.0]: http://go.microsoft.com/fwlink/?LinkID=212360
[Windows Identity Foundation]: http://www.microsoft.com/download/en/details.aspx?id=17331
[Windows Identity Foundation SDK]: http://www.microsoft.com/download/en/details.aspx?id=4451
[Azure Management Portal]: https://manage.windowsazure.com
[acs_flow]: ./media/active-directory-java-authenticate-users-access-control-eclipse/ACSFlow.png

<!-- Eclipse-specific -->
[add_acs_filter_lib]: ./media/active-directory-java-authenticate-users-access-control-eclipse/AddACSFilterLibrary.png
[add_acs_filter_lib_emulator]: ./media/active-directory-java-authenticate-users-access-control-eclipse/AddACSFilterLibraryEmulator.png
[add_acs_filter_lib_production]: ./media/active-directory-java-authenticate-users-access-control-eclipse/AddACSFilterLibraryProduction.png

[relying_party_realm_emulator]: ./media/active-directory-java-authenticate-users-access-control-eclipse/RelyingPartyRealmEmulator.png
[relying_party_return_url_emulator]: ./media/active-directory-java-authenticate-users-access-control-eclipse/RelyingPartyReturnURLEmulator.png
[relying_party_realm_production]: ./media/active-directory-java-authenticate-users-access-control-eclipse/RelyingPartyRealmProduction.png
[relying_party_return_url_production]: ./media/active-directory-java-authenticate-users-access-control-eclipse/RelyingPartyReturnURLProduction.png
[add_cert_component]: ./media/active-directory-java-authenticate-users-access-control-eclipse/AddCertificateComponent.png
[add_jsp_file_acs]: ./media/active-directory-java-authenticate-users-access-control-eclipse/AddJSPFileACS.png
[create_acs_hello_world]: ./media/active-directory-java-authenticate-users-access-control-eclipse/CreateACSHelloWorld.png
[add_token_signing_cert]: ./media/active-directory-java-authenticate-users-access-control-eclipse/AddTokenSigningCertificate.png

