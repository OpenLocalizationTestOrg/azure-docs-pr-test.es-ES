---
title: "Sincronización de identidades y resistencia de atributos duplicados | Microsoft Docs"
description: "Nuevo comportamiento a la hora de administrar objetos con conflictos de UPN o ProxyAddress durante la sincronización de directorios con Azure AD Connect."
services: active-directory
documentationcenter: 
author: MarkusVi
manager: femila
editor: 
ms.assetid: 537a92b7-7a84-4c89-88b0-9bce0eacd931
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/12/2017
ms.author: markvi
ms.openlocfilehash: 7a8700e70f64851a0c5e5e8c6b31ec7a6884a96c
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/03/2017
---
# <a name="identity-synchronization-and-duplicate-attribute-resiliency"></a><span data-ttu-id="fbf21-103">Sincronización de identidades y resistencia de atributos duplicados</span><span class="sxs-lookup"><span data-stu-id="fbf21-103">Identity synchronization and duplicate attribute resiliency</span></span>
<span data-ttu-id="fbf21-104">La resistencia de atributos duplicados es una característica de Azure Active Directory que eliminará la fricción causada por los conflictos entre **UserPrincipalName** y **ProxyAddress** al ejecutar una de las herramientas de sincronización de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="fbf21-104">Duplicate Attribute Resiliency is a feature in Azure Active Directory that will eliminate friction caused by **UserPrincipalName** and **ProxyAddress** conflicts when running one of Microsoft’s synchronization tools.</span></span>

<span data-ttu-id="fbf21-105">Por lo general, se necesita que estos dos atributos sean únicos entre los objetos **User**, **Group** o **Contact** de un inquilino determinado de Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="fbf21-105">These two attributes are generally required to be unique across all **User**, **Group**, or **Contact** objects in a given Azure Active Directory tenant.</span></span>

> [!NOTE]
> <span data-ttu-id="fbf21-106">Solo los usuarios pueden tener UPN.</span><span class="sxs-lookup"><span data-stu-id="fbf21-106">Only Users can have UPNs.</span></span>
> 
> 

<span data-ttu-id="fbf21-107">El nuevo comportamiento que permite esta característica se produce en la parte de la nube de canalización de sincronización, por lo tanto es independiente del cliente y pertinente para cualquier producto de sincronización de Microsoft incluidos Azure AD Connect, DirSync y MIM + Connector.</span><span class="sxs-lookup"><span data-stu-id="fbf21-107">The new behavior that this feature enables is in the cloud portion of the sync pipeline, therefore it is client agnostic and relevant for any Microsoft synchronization product including Azure AD Connect, DirSync and MIM + Connector.</span></span> <span data-ttu-id="fbf21-108">El término general "cliente de sincronización" se usará en este documento para representar cualquiera de estos productos.</span><span class="sxs-lookup"><span data-stu-id="fbf21-108">The generic term “sync client” is used in this document to represent any one of these products.</span></span>

## <a name="current-behavior"></a><span data-ttu-id="fbf21-109">Comportamiento actual</span><span class="sxs-lookup"><span data-stu-id="fbf21-109">Current behavior</span></span>
<span data-ttu-id="fbf21-110">Si hay un intento de aprovisionar un nuevo objeto con un valor de UPN o ProxyAddress que infrinja esta restricción de unicidad, Azure Active Directory bloqueará la creación de ese objeto.</span><span class="sxs-lookup"><span data-stu-id="fbf21-110">If there is an attempt to provision a new object with a UPN or ProxyAddress value that violates this uniqueness constraint, Azure Active Directory blocks that object from being created.</span></span> <span data-ttu-id="fbf21-111">Igualmente, si un objeto se actualiza con un UPN o ProxyAddress que no sea único, se producirá un error en la actualización.</span><span class="sxs-lookup"><span data-stu-id="fbf21-111">Similarly, if an object is updated with a non-unique UPN or ProxyAddress, the update fails.</span></span> <span data-ttu-id="fbf21-112">El cliente de sincronización realiza el intento de aprovisionamiento o actualización tras cada ciclo de exportación y sigue generando un error hasta que se resuelva el conflicto.</span><span class="sxs-lookup"><span data-stu-id="fbf21-112">The provisioning attempt or update is retried by the sync client upon each export cycle, and continues to fail until the conflict is resolved.</span></span> <span data-ttu-id="fbf21-113">Se genera un correo electrónico de informe de errores tras cada intento y el cliente de sincronización registra un error.</span><span class="sxs-lookup"><span data-stu-id="fbf21-113">An error report email is generated upon each attempt and an error is logged by the sync client.</span></span>

## <a name="behavior-with-duplicate-attribute-resiliency"></a><span data-ttu-id="fbf21-114">Comportamiento con resistencia de atributos duplicados</span><span class="sxs-lookup"><span data-stu-id="fbf21-114">Behavior with Duplicate Attribute Resiliency</span></span>
<span data-ttu-id="fbf21-115">En lugar de generar un error completo al aprovisionar o actualizar un objeto con un atributo duplicado, Azure Active Directory "pone en cuarentena" el atributo duplicado que infringe la restricción de unicidad.</span><span class="sxs-lookup"><span data-stu-id="fbf21-115">Instead of completely failing to provision or update an object with a duplicate attribute, Azure Active Directory “quarantines” the duplicate attribute which would violate the uniqueness constraint.</span></span> <span data-ttu-id="fbf21-116">Si este atributo es necesario para el aprovisionamiento, como en el caso de UserPrincipalName, el servicio asigna un valor de marcador de posición.</span><span class="sxs-lookup"><span data-stu-id="fbf21-116">If this attribute is required for provisioning, like UserPrincipalName, the service assigns a placeholder value.</span></span> <span data-ttu-id="fbf21-117">El formato de estos valores temporales es</span><span class="sxs-lookup"><span data-stu-id="fbf21-117">The format of these temporary values is</span></span>  
<span data-ttu-id="fbf21-118">"***<OriginalPrefix>+<Número4Dígitos>@<InitialTenantDomain>.onmicrosoft.com***".</span><span class="sxs-lookup"><span data-stu-id="fbf21-118">“***<OriginalPrefix>+<4DigitNumber>@<InitialTenantDomain>.onmicrosoft.com***”.</span></span>  
<span data-ttu-id="fbf21-119">Si el atributo no es necesario, como en el caso de **ProxyAddress**, Azure Active Directory simplemente pone en cuarentena el atributo en conflicto y continúa con la creación o actualización de objetos.</span><span class="sxs-lookup"><span data-stu-id="fbf21-119">If the attribute is not required, like a  **ProxyAddress**, Azure Active Directory simply quarantines the conflict attribute and proceeds with the object creation or update.</span></span>

<span data-ttu-id="fbf21-120">Al poner en cuarentena el atributo, se envía información sobre el conflicto con el mismo correo electrónico de informe de errores utilizado en el comportamiento anterior.</span><span class="sxs-lookup"><span data-stu-id="fbf21-120">Upon quarantining the attribute, information about the conflict is sent in the same error report email used in the old behavior.</span></span> <span data-ttu-id="fbf21-121">Sin embargo, esta información solo aparece en el informe de errores una vez, cuando se produce la cuarentena; no se vuelve a registrar en futuros correos electrónicos.</span><span class="sxs-lookup"><span data-stu-id="fbf21-121">However, this info only appears in the error report one time, when the quarantine happens, it does not continue to be logged in future emails.</span></span> <span data-ttu-id="fbf21-122">Además, puesto que la exportación de este objeto se ha realizado correctamente, el cliente de sincronización no registrará ningún error y no volverá a intentar la operación de creación o actualización en ciclos de sincronización posteriores.</span><span class="sxs-lookup"><span data-stu-id="fbf21-122">Also, since the export for this object has succeeded, the sync client does not log an error and does not retry the create / update operation upon subsequent sync cycles.</span></span>

<span data-ttu-id="fbf21-123">Para admitir este comportamiento se ha agregado un nuevo atributo a las clases de objeto User, Group y Contact: </span><span class="sxs-lookup"><span data-stu-id="fbf21-123">To support this behavior a new attribute has been added to the User, Group, and Contact object classes:</span></span>  
<span data-ttu-id="fbf21-124">**DirSyncProvisioningErrors**</span><span class="sxs-lookup"><span data-stu-id="fbf21-124">**DirSyncProvisioningErrors**</span></span>

<span data-ttu-id="fbf21-125">Se trata de un atributo multivalor que se utiliza para almacenar los atributos en conflicto que infringirían la restricción de unicidad si se agregaran normalmente.</span><span class="sxs-lookup"><span data-stu-id="fbf21-125">This is a multi-valued attribute that is used to store the conflicting attributes that would violate the uniqueness constraint should they be added normally.</span></span> <span data-ttu-id="fbf21-126">Se ha habilitado una tarea de temporizador de segundo plano en Azure Active Directory que se ejecuta cada hora para buscar conflictos de atributos duplicados que se han resuelto y quitar automáticamente los atributos en cuestión de la cuarentena.</span><span class="sxs-lookup"><span data-stu-id="fbf21-126">A background timer task has been enabled in Azure Active Directory that  runs every hour to look for duplicate attribute conflicts that have been resolved, and automatically removes the attributes in question from quarantine.</span></span>

### <a name="enabling-duplicate-attribute-resiliency"></a><span data-ttu-id="fbf21-127">Habilitación de resistencia de atributos duplicados</span><span class="sxs-lookup"><span data-stu-id="fbf21-127">Enabling Duplicate Attribute Resiliency</span></span>
<span data-ttu-id="fbf21-128">Resistencia de atributo duplicados será el nuevo comportamiento predeterminado en todos los inquilinos de Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="fbf21-128">Duplicate Attribute Resiliency will be the new default behavior across all Azure Active Directory tenants.</span></span> <span data-ttu-id="fbf21-129">Estarán activos de forma predeterminada para todos los inquilinos que habilitaron la sincronización por primera vez el 22 de agosto de 2016, o en cualquier fecha posterior.</span><span class="sxs-lookup"><span data-stu-id="fbf21-129">It will be on by default for all tenants that enabled synchronization for the first time on August 22nd, 2016 or later.</span></span> <span data-ttu-id="fbf21-130">Los inquilinos que habilitaron la sincronización antes de esta fecha tendrán la característica habilitada en lotes.</span><span class="sxs-lookup"><span data-stu-id="fbf21-130">Tenants that enabled sync prior to this date will have the feature enabled in batches.</span></span> <span data-ttu-id="fbf21-131">Este lanzamiento comenzará en septiembre de 2016 y se enviará una notificación por correo electrónico al contacto de notificación técnica de cada inquilino con la fecha específica en que se habilitará la característica.</span><span class="sxs-lookup"><span data-stu-id="fbf21-131">This rollout will begin in September 2016, and an email notification will be sent to each tenant's technical notification contact with the specific date when the feature will be enabled.</span></span>

> [!NOTE]
> <span data-ttu-id="fbf21-132">Una vez que se ha activado la resistencia de atributo duplicados no se puede deshabilitar.</span><span class="sxs-lookup"><span data-stu-id="fbf21-132">Once Duplicate Attribute Resiliency has been turned on it cannot be disabled.</span></span>

<span data-ttu-id="fbf21-133">Para comprobar si la característica está habilitada para su inquilino, puede hacerlo descargando la versión más reciente del módulo de PowerShell de Azure Active Directory y ejecutando lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="fbf21-133">To check if the feature is enabled for your tenant, you can do so by downloading the latest version of the Azure Active Directory PowerShell module and running:</span></span>

`Get-MsolDirSyncFeatures -Feature DuplicateUPNResiliency`

`Get-MsolDirSyncFeatures -Feature DuplicateProxyAddressResiliency`

> [!NOTE]
> <span data-ttu-id="fbf21-134">Ya no puede usar el cmdlet Set-MsolDirSyncFeature para habilitar de forma proactiva la característica Resistencia de atributos duplicados antes de activarla en el inquilino.</span><span class="sxs-lookup"><span data-stu-id="fbf21-134">You can no longer use Set-MsolDirSyncFeature cmdlet to proactively enable the Duplicate Attribute Resiliency feature before it is turned on for your tenant.</span></span> <span data-ttu-id="fbf21-135">Para poder probar la característica, deberá crear un inquilino nuevo de Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="fbf21-135">To be able to test the feature, you will need to create a new Azure Active Directory tenant.</span></span>

## <a name="identifying-objects-with-dirsyncprovisioningerrors"></a><span data-ttu-id="fbf21-136">Identificación de objetos con el atributo DirSyncProvisioningErrors</span><span class="sxs-lookup"><span data-stu-id="fbf21-136">Identifying Objects with DirSyncProvisioningErrors</span></span>
<span data-ttu-id="fbf21-137">Existen actualmente dos métodos para identificar los objetos que experimentan estos errores debido a conflictos de propiedad duplicada, Azure Active Directory PowerShell y el Portal de administración de Office 365.</span><span class="sxs-lookup"><span data-stu-id="fbf21-137">There are currently two methods to identify objects that have these errors due to duplicate property conflicts, Azure Active Directory PowerShell and the Office 365 Admin Portal.</span></span> <span data-ttu-id="fbf21-138">Existen planes de ampliación con informes adicionales basados en el portal para el futuro.</span><span class="sxs-lookup"><span data-stu-id="fbf21-138">There are plans to extend to additional portal based reporting in the future.</span></span>

### <a name="azure-active-directory-powershell"></a><span data-ttu-id="fbf21-139">Azure Active Directory PowerShell</span><span class="sxs-lookup"><span data-stu-id="fbf21-139">Azure Active Directory PowerShell</span></span>
<span data-ttu-id="fbf21-140">Para los cmdlets de PowerShell en este tema, las siguientes afirmaciones son verdaderas:</span><span class="sxs-lookup"><span data-stu-id="fbf21-140">For the PowerShell cmdlets in this topic, the following is true:</span></span>

* <span data-ttu-id="fbf21-141">Todos los cmdlets siguientes distinguen mayúsculas de minúsculas.</span><span class="sxs-lookup"><span data-stu-id="fbf21-141">All of the following cmdlets are case sensitive.</span></span>
* <span data-ttu-id="fbf21-142">Siempre se debe incluir **–ErrorCategoryPropertyConflict** .</span><span class="sxs-lookup"><span data-stu-id="fbf21-142">The **–ErrorCategory PropertyConflict** must always be included.</span></span> <span data-ttu-id="fbf21-143">Actualmente no hay ningún otro tipo de **ErrorCategory**, pero esto se podría ampliar en el futuro.</span><span class="sxs-lookup"><span data-stu-id="fbf21-143">There are currently no other types of **ErrorCategory**, but this may be extended in the future.</span></span>

<span data-ttu-id="fbf21-144">En primer lugar, comience con la ejecución de **Connect-MsolService** y escriba las credenciales de un administrador de inquilinos.</span><span class="sxs-lookup"><span data-stu-id="fbf21-144">First, get started by running **Connect-MsolService** and entering credentials for a tenant administrator.</span></span>

<span data-ttu-id="fbf21-145">A continuación, use los cmdlets y operadores siguientes para ver los errores de maneras diferentes:</span><span class="sxs-lookup"><span data-stu-id="fbf21-145">Then, use the following cmdlets and operators to view errors in different ways:</span></span>

1. [<span data-ttu-id="fbf21-146">Ver todos</span><span class="sxs-lookup"><span data-stu-id="fbf21-146">See All</span></span>](#see-all)
2. [<span data-ttu-id="fbf21-147">Por tipo de propiedad</span><span class="sxs-lookup"><span data-stu-id="fbf21-147">By Property Type</span></span>](#by-property-type)
3. [<span data-ttu-id="fbf21-148">Por valor en conflicto</span><span class="sxs-lookup"><span data-stu-id="fbf21-148">By Conflicting Value</span></span>](#by-conflicting-value)
4. [<span data-ttu-id="fbf21-149">Mediante una búsqueda de cadena</span><span class="sxs-lookup"><span data-stu-id="fbf21-149">Using a String Search</span></span>](#using-a-string-search)
5. [<span data-ttu-id="fbf21-150">Ordenados</span><span class="sxs-lookup"><span data-stu-id="fbf21-150">Sorted</span></span>](#sorted)
6. [<span data-ttu-id="fbf21-151">En una cantidad limitada o todos</span><span class="sxs-lookup"><span data-stu-id="fbf21-151">In a Limited Quantity or All</span></span>](#in-a-limited-quantity-or-all)

#### <a name="see-all"></a><span data-ttu-id="fbf21-152">Ver todos</span><span class="sxs-lookup"><span data-stu-id="fbf21-152">See all</span></span>
<span data-ttu-id="fbf21-153">Una vez conectado, para ver una lista general de errores de aprovisionamiento de atributos en el inquilino ejecute:</span><span class="sxs-lookup"><span data-stu-id="fbf21-153">Once connected, to see a general list of attribute provisioning errors in the tenant run:</span></span>

`Get-MsolDirSyncProvisioningError -ErrorCategory PropertyConflict`

<span data-ttu-id="fbf21-154">Esto genera un resultado similar al siguiente: </span><span class="sxs-lookup"><span data-stu-id="fbf21-154">This produces a result like the following:</span></span>  
 <span data-ttu-id="fbf21-155">![Get-MsolDirSyncProvisioningError](./media/active-directory-aadconnectsyncservice-duplicate-attribute-resiliency/1.png "MsolDirSyncProvisioningError Get")</span><span class="sxs-lookup"><span data-stu-id="fbf21-155">![Get-MsolDirSyncProvisioningError](./media/active-directory-aadconnectsyncservice-duplicate-attribute-resiliency/1.png "Get-MsolDirSyncProvisioningError")</span></span>  

#### <a name="by-property-type"></a><span data-ttu-id="fbf21-156">Por tipo de propiedad</span><span class="sxs-lookup"><span data-stu-id="fbf21-156">By property type</span></span>
<span data-ttu-id="fbf21-157">Para ver los errores ordenados por tipo de propiedad, agregue la marca **-PropertyName** con el argumento **UserPrincipalName** o **ProxyAddresses**:</span><span class="sxs-lookup"><span data-stu-id="fbf21-157">To see errors by property type, add the **-PropertyName** flag with the **UserPrincipalName** or **ProxyAddresses** argument:</span></span>

`Get-MsolDirSyncProvisioningError -ErrorCategory PropertyConflict -PropertyName UserPrincipalName`

<span data-ttu-id="fbf21-158">O</span><span class="sxs-lookup"><span data-stu-id="fbf21-158">Or</span></span>

`Get-MsolDirSyncProvisioningError -ErrorCategory PropertyConflict -PropertyName ProxyAddresses`

#### <a name="by-conflicting-value"></a><span data-ttu-id="fbf21-159">Por valor en conflicto</span><span class="sxs-lookup"><span data-stu-id="fbf21-159">By conflicting value</span></span>
<span data-ttu-id="fbf21-160">Para ver los errores relativos a una propiedad específica, agregue la marca **-PropertyValue** (**-PropertyName** se debe utilizar también al agregar esta marca):</span><span class="sxs-lookup"><span data-stu-id="fbf21-160">To see errors relating to a specific property add the **-PropertyValue** flag (**-PropertyName** must be used as well when adding this flag):</span></span>

`Get-MsolDirSyncProvisioningError -ErrorCategory PropertyConflict -PropertyValue User@domain.com -PropertyName UserPrincipalName`

#### <a name="using-a-string-search"></a><span data-ttu-id="fbf21-161">Mediante una búsqueda de cadena</span><span class="sxs-lookup"><span data-stu-id="fbf21-161">Using a string search</span></span>
<span data-ttu-id="fbf21-162">Para realizar una búsqueda de cadenas amplia, use la marca **-SearchString** .</span><span class="sxs-lookup"><span data-stu-id="fbf21-162">To do a broad string search use the **-SearchString** flag.</span></span> <span data-ttu-id="fbf21-163">Se puede utilizar independientemente de todas las marcas anteriores, con la excepción de **-ErrorCategory PropertyConflict**, que es obligatoria:</span><span class="sxs-lookup"><span data-stu-id="fbf21-163">This can be used independently from all of the above flags, with the exception of **-ErrorCategory PropertyConflict**, which is always required:</span></span>

`Get-MsolDirSyncProvisioningError -ErrorCategory PropertyConflict -SearchString User`

#### <a name="in-a-limited-quantity-or-all"></a><span data-ttu-id="fbf21-164">En una cantidad limitada o todos</span><span class="sxs-lookup"><span data-stu-id="fbf21-164">In a limited quantity or all</span></span>
1. <span data-ttu-id="fbf21-165">**MaxResults <Int>** se puede utilizar para limitar la consulta a un número específico de valores.</span><span class="sxs-lookup"><span data-stu-id="fbf21-165">**MaxResults <Int>** can be used to limit the query to a specific number of values.</span></span>
2. <span data-ttu-id="fbf21-166">**All** se puede utilizar para asegurarse de que todos los resultados se recuperan en caso de que exista un gran número de errores.</span><span class="sxs-lookup"><span data-stu-id="fbf21-166">**All** can be used to ensure all results are retrieved in the case that a large number of errors exists.</span></span>

`Get-MsolDirSyncProvisioningError -ErrorCategory PropertyConflict -MaxResults 5`

## <a name="office-365-admin-portal"></a><span data-ttu-id="fbf21-167">Portal de administración de Office 365</span><span class="sxs-lookup"><span data-stu-id="fbf21-167">Office 365 admin portal</span></span>
<span data-ttu-id="fbf21-168">Puede ver los errores de sincronización de directorios en el Centro de administración de Office 365.</span><span class="sxs-lookup"><span data-stu-id="fbf21-168">You can view directory synchronization errors in the Office 365 admin center.</span></span> <span data-ttu-id="fbf21-169">En el informe del portal de Office 365 solo aparecen los objetos **User** que presentan estos errores.</span><span class="sxs-lookup"><span data-stu-id="fbf21-169">The report in the Office 365 portal only displays **User** objects that have these errors.</span></span> <span data-ttu-id="fbf21-170">No se muestran datos acerca de los conflictos entre los objetos **Groups**, **Contacts**.</span><span class="sxs-lookup"><span data-stu-id="fbf21-170">It does not show info about conflicts between **Groups** and **Contacts**.</span></span>

<span data-ttu-id="fbf21-171">![Usuarios activos](./media/active-directory-aadconnectsyncservice-duplicate-attribute-resiliency/1234.png "Usuarios activos")</span><span class="sxs-lookup"><span data-stu-id="fbf21-171">![Active Users](./media/active-directory-aadconnectsyncservice-duplicate-attribute-resiliency/1234.png "Active Users")</span></span>

<span data-ttu-id="fbf21-172">Para obtener instrucciones acerca de cómo ver los errores de sincronización de directorios en el Centro de administración de Office 365, consulte [Identificar problemas de sincronización de directorios en Office 365](https://support.office.com/en-us/article/Identify-directory-synchronization-errors-in-Office-365-b4fc07a5-97ea-4ca6-9692-108acab74067).</span><span class="sxs-lookup"><span data-stu-id="fbf21-172">For instructions on how to view directory synchronization errors in the Office 365 admin center, see [Identify directory synchronization errors in Office 365](https://support.office.com/en-us/article/Identify-directory-synchronization-errors-in-Office-365-b4fc07a5-97ea-4ca6-9692-108acab74067).</span></span>

### <a name="identity-synchronization-error-report"></a><span data-ttu-id="fbf21-173">Informe de errores de sincronización de identidades</span><span class="sxs-lookup"><span data-stu-id="fbf21-173">Identity synchronization error report</span></span>
<span data-ttu-id="fbf21-174">Cuando se administra un objeto con un conflicto de atributo duplicado con este nuevo comportamiento se incluye una notificación en el correo electrónico estándar de informe de errores de sincronización de identidades que se envía al contacto de notificaciones técnicas del inquilino.</span><span class="sxs-lookup"><span data-stu-id="fbf21-174">When an object with a duplicate attribute conflict is handled with this new behavior a notification is included in the standard Identity Synchronization Error Report email that is sent to the Technical Notification contact for the tenant.</span></span> <span data-ttu-id="fbf21-175">Sin embargo, hay un cambio importante en este comportamiento.</span><span class="sxs-lookup"><span data-stu-id="fbf21-175">However, there is an important change in this behavior.</span></span> <span data-ttu-id="fbf21-176">En el pasado, se incluía información sobre un conflicto de atributo duplicado en cada informe de errores posterior hasta que se resolvía el conflicto.</span><span class="sxs-lookup"><span data-stu-id="fbf21-176">In the past, information about a duplicate attribute conflict would be included in every subsequent error report until the conflict was resolved.</span></span> <span data-ttu-id="fbf21-177">Con este nuevo comportamiento, la notificación de error de un conflicto determinado solo aparece una vez en el momento en que se pone en cuarentena el atributo en conflicto.</span><span class="sxs-lookup"><span data-stu-id="fbf21-177">With this new behavior, the error notification for a given conflict does only appear once- at the time the conflicting attribute is quarantined.</span></span>

<span data-ttu-id="fbf21-178">Este es un ejemplo del aspecto de la notificación de correo electrónico si hay un conflicto de ProxyAddress: </span><span class="sxs-lookup"><span data-stu-id="fbf21-178">Here is an example of what the email notification looks like for a ProxyAddress conflict:</span></span>  
    <span data-ttu-id="fbf21-179">![Usuarios activos](./media/active-directory-aadconnectsyncservice-duplicate-attribute-resiliency/6.png "Usuarios activos")</span><span class="sxs-lookup"><span data-stu-id="fbf21-179">![Active Users](./media/active-directory-aadconnectsyncservice-duplicate-attribute-resiliency/6.png "Active Users")</span></span>  

## <a name="resolving-conflicts"></a><span data-ttu-id="fbf21-180">Resolución de conflictos</span><span class="sxs-lookup"><span data-stu-id="fbf21-180">Resolving conflicts</span></span>
<span data-ttu-id="fbf21-181">La estrategia de solución de problemas y las tácticas de resolución no son diferentes de la forma en que se controlaban los errores de atributo duplicado en el pasado.</span><span class="sxs-lookup"><span data-stu-id="fbf21-181">Troubleshooting strategy and resolution tactics for these errors should not differ from the way duplicate attribute errors were handled in the past.</span></span> <span data-ttu-id="fbf21-182">La única diferencia es que la tarea de temporizador limpiará el inquilino en el servicio para agregar automáticamente el atributo en cuestión al objeto adecuado una vez que se resuelva el conflicto.</span><span class="sxs-lookup"><span data-stu-id="fbf21-182">The only difference is that the timer task sweeps through the tenant on the service-side to automatically add the attribute in question to the proper object once the conflict is resolved.</span></span>

<span data-ttu-id="fbf21-183">En el siguiente artículo se describen diversas estrategias de solución de problemas: [Atributos duplicados o no válidos evitar la sincronización de directorios en Office 365](https://support.microsoft.com/kb/2647098).</span><span class="sxs-lookup"><span data-stu-id="fbf21-183">The following article outlines various troubleshooting and resolution strategies: [Duplicate or invalid attributes prevent directory synchronization in Office 365](https://support.microsoft.com/kb/2647098).</span></span>

## <a name="known-issues"></a><span data-ttu-id="fbf21-184">Problemas conocidos</span><span class="sxs-lookup"><span data-stu-id="fbf21-184">Known issues</span></span>
<span data-ttu-id="fbf21-185">Ninguno de estos problemas conocidos provoca la degradación del servicio o la pérdida de datos.</span><span class="sxs-lookup"><span data-stu-id="fbf21-185">None of these known issues causes data loss or service degradation.</span></span> <span data-ttu-id="fbf21-186">Varios de ellos son estéticos, otros producen errores estándar de atributos duplicados de “*resistencia previa*” que se generan en lugar de poner en cuarentena el archivo en conflicto, y otros que provocan ciertos errores que requieren una solución manual adicional.</span><span class="sxs-lookup"><span data-stu-id="fbf21-186">Several of them are aesthetic, others cause standard “*pre-resiliency*” duplicate attribute errors to be thrown instead of quarantining the conflict attribute, and another causes certain errors to require extra manual fix-up.</span></span>

<span data-ttu-id="fbf21-187">**Comportamiento básico:**</span><span class="sxs-lookup"><span data-stu-id="fbf21-187">**Core behavior:**</span></span>

1. <span data-ttu-id="fbf21-188">Los objetos con configuraciones de atributos específicos continúan recibiendo errores de exportación, en lugar de que los atributos duplicados se pongan en cuarentena.</span><span class="sxs-lookup"><span data-stu-id="fbf21-188">Objects with specific attribute configurations continue to receive export errors as opposed to the duplicate attribute(s) being quarantined.</span></span>  
   <span data-ttu-id="fbf21-189">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="fbf21-189">For example:</span></span>
   
    <span data-ttu-id="fbf21-190">a.</span><span class="sxs-lookup"><span data-stu-id="fbf21-190">a.</span></span> <span data-ttu-id="fbf21-191">Se crea un nuevo usuario en AD con un UPN de **Joe@contoso.com** y ProxyAddress **smtp:Joe@contoso.com**</span><span class="sxs-lookup"><span data-stu-id="fbf21-191">New user is created in AD with a UPN of **Joe@contoso.com** and ProxyAddress **smtp:Joe@contoso.com**</span></span>
   
    <span data-ttu-id="fbf21-192">b.</span><span class="sxs-lookup"><span data-stu-id="fbf21-192">b.</span></span> <span data-ttu-id="fbf21-193">Las propiedades de este objeto entran en conflicto con un grupo existente, donde el valor de ProxyAddress es **SMTP:Joe@contoso.com**.</span><span class="sxs-lookup"><span data-stu-id="fbf21-193">The properties of this object conflict with an existing Group, where ProxyAddress is **SMTP:Joe@contoso.com**.</span></span>
   
    <span data-ttu-id="fbf21-194">c.</span><span class="sxs-lookup"><span data-stu-id="fbf21-194">c.</span></span> <span data-ttu-id="fbf21-195">Tras la exportación, se produce un error de **conflicto de ProxyAddress** en lugar de poner los atributos en conflicto en cuarentena.</span><span class="sxs-lookup"><span data-stu-id="fbf21-195">Upon export, a **ProxyAddress conflict** error is thrown instead of having the conflict attributes quarantined.</span></span> <span data-ttu-id="fbf21-196">Se reintenta la operación tras cada ciclo de sincronización posterior, como sucedía antes de que se habilitara la característica de resistencia.</span><span class="sxs-lookup"><span data-stu-id="fbf21-196">The operation is retried upon each subsequent sync cycle, as it would have been before the resiliency feature was enabled.</span></span>
2. <span data-ttu-id="fbf21-197">Si se crean dos grupos locales con la misma dirección SMTP, uno no se podrá aprovisionar en el primer intento con un error estándar de atributo **ProxyAddress** duplicado.</span><span class="sxs-lookup"><span data-stu-id="fbf21-197">If two Groups are created on-premises with the same SMTP address, one fails to provision on the first attempt with a standard duplicate **ProxyAddress** error.</span></span> <span data-ttu-id="fbf21-198">Sin embargo, el valor duplicado se pondrá en cuarentena correctamente en el siguiente ciclo de sincronización.</span><span class="sxs-lookup"><span data-stu-id="fbf21-198">However, the duplicate value is properly quarantined upon the next sync cycle.</span></span>

<span data-ttu-id="fbf21-199">**Informe del Portal de Office**:</span><span class="sxs-lookup"><span data-stu-id="fbf21-199">**Office Portal Report**:</span></span>

1. <span data-ttu-id="fbf21-200">El mensaje de error detallado para dos objetos en un conjunto de conflictos de UPN es el mismo.</span><span class="sxs-lookup"><span data-stu-id="fbf21-200">The detailed error message for two objects in a UPN conflict set is the same.</span></span> <span data-ttu-id="fbf21-201">Esto indica que se ha modificado o puesto en cuarentena el UPN de ambos cuando, en realidad, solo se modificaron los datos de uno de ellos.</span><span class="sxs-lookup"><span data-stu-id="fbf21-201">This indicates that they have both had their UPN changed / quarantined, when in fact only a one of them had any data changed.</span></span>
2. <span data-ttu-id="fbf21-202">El mensaje de error detallado de un conflicto de UPN muestra la propiedad displayName incorrecta de un usuario cuyo UPN se ha modificado o puesto en cuarentena.</span><span class="sxs-lookup"><span data-stu-id="fbf21-202">The detailed error message for a UPN conflict shows the wrong displayName for a user who has had their UPN changed/quarantined.</span></span> <span data-ttu-id="fbf21-203">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="fbf21-203">For example:</span></span>
   
    <span data-ttu-id="fbf21-204">a.</span><span class="sxs-lookup"><span data-stu-id="fbf21-204">a.</span></span> <span data-ttu-id="fbf21-205">El **usuario A** se sincroniza primero con **UPN = User@contoso.com**.</span><span class="sxs-lookup"><span data-stu-id="fbf21-205">**User A** syncs up first with **UPN = User@contoso.com**.</span></span>
   
    <span data-ttu-id="fbf21-206">b.</span><span class="sxs-lookup"><span data-stu-id="fbf21-206">b.</span></span> <span data-ttu-id="fbf21-207">A continuación, se trata de sincronizar el **usuario B** con **UPN = User@contoso.com**.</span><span class="sxs-lookup"><span data-stu-id="fbf21-207">**User B** is attempted to be synced up next with **UPN = User@contoso.com**.</span></span>
   
    <span data-ttu-id="fbf21-208">c.</span><span class="sxs-lookup"><span data-stu-id="fbf21-208">c.</span></span> <span data-ttu-id="fbf21-209">El UPN del **usuario B** se cambia a **User1234@contoso.onmicrosoft.com** y **User@contoso.com** se agrega a **DirSyncProvisioningErrors**.</span><span class="sxs-lookup"><span data-stu-id="fbf21-209">**User B’s** UPN is changed to **User1234@contoso.onmicrosoft.com** and **User@contoso.com** is added to **DirSyncProvisioningErrors**.</span></span>
   
    <span data-ttu-id="fbf21-210">d.</span><span class="sxs-lookup"><span data-stu-id="fbf21-210">d.</span></span> <span data-ttu-id="fbf21-211">El mensaje de error para el **usuario B** debe indicar que el **usuario A** ya tiene **User@contoso.com** como UPN; no obstante, muestra el valor de nombreParaMostrar propio del **usuario B**.</span><span class="sxs-lookup"><span data-stu-id="fbf21-211">The error message for **User B** should indicate that **User A** already has **User@contoso.com** as a UPN, but it shows **User B’s** own displayName.</span></span>

<span data-ttu-id="fbf21-212">**Informe de errores de sincronización de identidades**:</span><span class="sxs-lookup"><span data-stu-id="fbf21-212">**Identity synchronization error report**:</span></span>

<span data-ttu-id="fbf21-213">El vínculo de los *pasos necesarios para resolver este problema* no es correcto:</span><span class="sxs-lookup"><span data-stu-id="fbf21-213">The link for *steps on how to resolve this issue* is incorrect:</span></span>  
    <span data-ttu-id="fbf21-214">![Usuarios activos](./media/active-directory-aadconnectsyncservice-duplicate-attribute-resiliency/6.png "Usuarios activos")</span><span class="sxs-lookup"><span data-stu-id="fbf21-214">![Active Users](./media/active-directory-aadconnectsyncservice-duplicate-attribute-resiliency/6.png "Active Users")</span></span>  

<span data-ttu-id="fbf21-215">Debe apuntar a [https://aka.ms/duplicateattributeresiliency](https://aka.ms/duplicateattributeresiliency).</span><span class="sxs-lookup"><span data-stu-id="fbf21-215">It should point to [https://aka.ms/duplicateattributeresiliency](https://aka.ms/duplicateattributeresiliency).</span></span>

## <a name="see-also"></a><span data-ttu-id="fbf21-216">Consulte también</span><span class="sxs-lookup"><span data-stu-id="fbf21-216">See also</span></span>
* [<span data-ttu-id="fbf21-217">Sincronización de Azure AD Connect</span><span class="sxs-lookup"><span data-stu-id="fbf21-217">Azure AD Connect sync</span></span>](active-directory-aadconnectsync-whatis.md)
* [<span data-ttu-id="fbf21-218">Integración de las identidades locales con Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="fbf21-218">Integrating your on-premises identities with Azure Active Directory</span></span>](active-directory-aadconnect.md)
* [<span data-ttu-id="fbf21-219">Identificar problemas de sincronización de directorios en Office 365</span><span class="sxs-lookup"><span data-stu-id="fbf21-219">Identify directory synchronization errors in Office 365</span></span>](https://support.office.com/en-us/article/Identify-directory-synchronization-errors-in-Office-365-b4fc07a5-97ea-4ca6-9692-108acab74067)

