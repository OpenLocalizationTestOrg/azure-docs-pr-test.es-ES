---
title: "Sincronización de Azure AD Connect: Scheduler | Microsoft Docs"
description: "En este tema se describe la característica de Programador incorporada en la sincronización de Azure AD Connect."
services: active-directory
documentationcenter: 
author: AndKjell
manager: femila
editor: 
ms.assetid: 6b1a598f-89c0-4244-9b20-f4aaad5233cf
ms.service: active-directory
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: identity
ms.date: 07/12/2017
ms.author: billmath
ms.openlocfilehash: 63f69756b3933fecdec75cc677e1098447e5b94e
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/03/2017
---
# <a name="azure-ad-connect-sync-scheduler"></a><span data-ttu-id="bacc0-103">Sincronización de Azure AD Connect: Programador</span><span class="sxs-lookup"><span data-stu-id="bacc0-103">Azure AD Connect sync: Scheduler</span></span>
<span data-ttu-id="bacc0-104">En este tema se describe el programador incorporado en la sincronización de Azure AD Connect (también denominado</span><span class="sxs-lookup"><span data-stu-id="bacc0-104">This topic describes the built-in scheduler in Azure AD Connect sync (a.k.a.</span></span> <span data-ttu-id="bacc0-105">motor de sincronización).</span><span class="sxs-lookup"><span data-stu-id="bacc0-105">sync engine).</span></span>

<span data-ttu-id="bacc0-106">Esta característica se introdujo con la compilación 1.1.105.0 (publicada en febrero de 2016).</span><span class="sxs-lookup"><span data-stu-id="bacc0-106">This feature was introduced with build 1.1.105.0 (released February 2016).</span></span>

## <a name="overview"></a><span data-ttu-id="bacc0-107">Información general</span><span class="sxs-lookup"><span data-stu-id="bacc0-107">Overview</span></span>
<span data-ttu-id="bacc0-108">Azure AD Connect Sync sincronizará los cambios que se producen en su directorio local mediante un programador.</span><span class="sxs-lookup"><span data-stu-id="bacc0-108">Azure AD Connect sync synchronize changes occurring in your on-premises directory using a scheduler.</span></span> <span data-ttu-id="bacc0-109">Hay dos procesos de programador, uno para la sincronización de contraseñas y otro para la sincronización de objetos o atributos y tareas de mantenimiento.</span><span class="sxs-lookup"><span data-stu-id="bacc0-109">There are two scheduler processes, one for password sync and another for object/attribute sync and maintenance tasks.</span></span> <span data-ttu-id="bacc0-110">En este tema se trata el último.</span><span class="sxs-lookup"><span data-stu-id="bacc0-110">This topic covers the latter.</span></span>

<span data-ttu-id="bacc0-111">En versiones anteriores, el programador de objetos y atributos era externo al motor de sincronización.</span><span class="sxs-lookup"><span data-stu-id="bacc0-111">In earlier releases, the scheduler for objects and attributes was external to the sync engine.</span></span> <span data-ttu-id="bacc0-112">Usaba el programador de tareas de Windows o un servicio de Windows independiente para desencadenar el proceso de sincronización.</span><span class="sxs-lookup"><span data-stu-id="bacc0-112">It used Windows task scheduler or a separate Windows service to trigger the synchronization process.</span></span> <span data-ttu-id="bacc0-113">En las versiones 1.1 el programador viene integrado con el motor de sincronización y permite alguna personalización.</span><span class="sxs-lookup"><span data-stu-id="bacc0-113">The scheduler is with the 1.1 releases built-in to the sync engine and do allow some customization.</span></span> <span data-ttu-id="bacc0-114">La nueva frecuencia de sincronización predeterminada es de 30 minutos.</span><span class="sxs-lookup"><span data-stu-id="bacc0-114">The new default synchronization frequency is 30 minutes.</span></span>

<span data-ttu-id="bacc0-115">El programador es responsable de dos tareas:</span><span class="sxs-lookup"><span data-stu-id="bacc0-115">The scheduler is responsible for two tasks:</span></span>

* <span data-ttu-id="bacc0-116">**Ciclo de sincronización**.</span><span class="sxs-lookup"><span data-stu-id="bacc0-116">**Synchronization cycle**.</span></span> <span data-ttu-id="bacc0-117">El proceso para importar, sincronizar y exportar los cambios.</span><span class="sxs-lookup"><span data-stu-id="bacc0-117">The process to import, sync, and export changes.</span></span>
* <span data-ttu-id="bacc0-118">**Tareas de mantenimiento**.</span><span class="sxs-lookup"><span data-stu-id="bacc0-118">**Maintenance tasks**.</span></span> <span data-ttu-id="bacc0-119">Renueve las claves y certificados para el restablecimiento de contraseña y el servicio de registro de dispositivos (DRS).</span><span class="sxs-lookup"><span data-stu-id="bacc0-119">Renew keys and certificates for Password reset and Device Registration Service (DRS).</span></span> <span data-ttu-id="bacc0-120">Purgue las entradas antiguas en el registro de operaciones.</span><span class="sxs-lookup"><span data-stu-id="bacc0-120">Purge old entries in the operations log.</span></span>

<span data-ttu-id="bacc0-121">El programador en sí, siempre está en ejecución, pero se puede configurar para que ejecute solo una o ninguna de estas tareas.</span><span class="sxs-lookup"><span data-stu-id="bacc0-121">The scheduler itself is always running, but it can be configured to only run one or none of these tasks.</span></span> <span data-ttu-id="bacc0-122">Por ejemplo, si necesita tener su propio proceso de ciclo de sincronización, puede deshabilitar esta tarea en el programador y continuar ejecutando la tarea de mantenimiento.</span><span class="sxs-lookup"><span data-stu-id="bacc0-122">For example, if you need to have your own synchronization cycle process, you can disable this task in the scheduler but still run the maintenance task.</span></span>

## <a name="scheduler-configuration"></a><span data-ttu-id="bacc0-123">Configuración del programador</span><span class="sxs-lookup"><span data-stu-id="bacc0-123">Scheduler configuration</span></span>
<span data-ttu-id="bacc0-124">Para ver la configuración actual, vaya a PowerShell y ejecute `Get-ADSyncScheduler`.</span><span class="sxs-lookup"><span data-stu-id="bacc0-124">To see your current configuration settings, go to PowerShell and run `Get-ADSyncScheduler`.</span></span> <span data-ttu-id="bacc0-125">Muestra algo parecido a esta imagen:</span><span class="sxs-lookup"><span data-stu-id="bacc0-125">It shows you something like this picture:</span></span>

![GetSyncScheduler](./media/active-directory-aadconnectsync-feature-scheduler/getsynccyclesettings2016.png)

<span data-ttu-id="bacc0-127">Si al ejecutar este cmdlet, aparece el error **The sync command or cmdlet is not available** (El comando de sincronización o el cmdlet no están disponibles), significa que el módulo de PowerShell no está cargado.</span><span class="sxs-lookup"><span data-stu-id="bacc0-127">If you see **The sync command or cmdlet is not available** when you run this cmdlet, then the PowerShell module is not loaded.</span></span> <span data-ttu-id="bacc0-128">Este problema podría suceder si ejecuta Azure AD Connect en un controlador de dominio o en un servidor con niveles de restricción para PowerShell más elevados que la configuración predeterminada.</span><span class="sxs-lookup"><span data-stu-id="bacc0-128">This problem could happen if you run Azure AD Connect on a domain controller or on a server with higher PowerShell restriction levels than the default settings.</span></span> <span data-ttu-id="bacc0-129">Si ve este error, ejecute `Import-Module ADSync` para que esté disponible el cmdlet.</span><span class="sxs-lookup"><span data-stu-id="bacc0-129">If you see this error, then run `Import-Module ADSync` to make the cmdlet available.</span></span>

* <span data-ttu-id="bacc0-130">**AllowedSyncCycleInterval**.</span><span class="sxs-lookup"><span data-stu-id="bacc0-130">**AllowedSyncCycleInterval**.</span></span> <span data-ttu-id="bacc0-131">El intervalo de tiempo más corto entre ciclos de sincronización permitido por Azure AD.</span><span class="sxs-lookup"><span data-stu-id="bacc0-131">The shortest time interval between synchronization cycles allowed by Azure AD.</span></span> <span data-ttu-id="bacc0-132">No se puede sincronizar con más frecuencia que esta configuración y mantener la compatibilidad.</span><span class="sxs-lookup"><span data-stu-id="bacc0-132">You cannot synchronize more frequently than this setting and still be supported.</span></span>
* <span data-ttu-id="bacc0-133">**CurrentlyEffectiveSyncCycleInterval**.</span><span class="sxs-lookup"><span data-stu-id="bacc0-133">**CurrentlyEffectiveSyncCycleInterval**.</span></span> <span data-ttu-id="bacc0-134">La programación en vigor actualmente.</span><span class="sxs-lookup"><span data-stu-id="bacc0-134">The schedule currently in effect.</span></span> <span data-ttu-id="bacc0-135">Tiene el mismo valor que CustomizedSyncInterval (si está establecido), si no es más frecuente que AllowedSyncInterval.</span><span class="sxs-lookup"><span data-stu-id="bacc0-135">It has the same value as CustomizedSyncInterval (if set) if it is not more frequent than AllowedSyncInterval.</span></span> <span data-ttu-id="bacc0-136">Si usa una compilación anterior a 1.1.281 y cambia CustomizedSyncCycleInterval, esto surte efecto tras el próximo ciclo de sincronización.</span><span class="sxs-lookup"><span data-stu-id="bacc0-136">If you use a build before 1.1.281 and you change CustomizedSyncCycleInterval, this change takes effect after next synchronization cycle.</span></span> <span data-ttu-id="bacc0-137">A partir de la compilación 1.1.281, el cambio surte efecto inmediatamente.</span><span class="sxs-lookup"><span data-stu-id="bacc0-137">From build 1.1.281 the change takes effect immediately.</span></span>
* <span data-ttu-id="bacc0-138">**CustomizedSyncCycleInterval**.</span><span class="sxs-lookup"><span data-stu-id="bacc0-138">**CustomizedSyncCycleInterval**.</span></span> <span data-ttu-id="bacc0-139">Si desea que el programador se ejecute con cualquier otra frecuencia distinta a la del valor predeterminado de 30 minutos, configure este valor.</span><span class="sxs-lookup"><span data-stu-id="bacc0-139">If you want the scheduler to run at any other frequency than the default 30 minutes, then you configure this setting.</span></span> <span data-ttu-id="bacc0-140">En la imagen anterior, el programador se ha establecido para que se ejecute cada hora.</span><span class="sxs-lookup"><span data-stu-id="bacc0-140">In the picture above, the scheduler has been set to run every hour instead.</span></span> <span data-ttu-id="bacc0-141">Si establece esta configuración en un valor inferior al de AllowedSyncInterval, se utilizará el último.</span><span class="sxs-lookup"><span data-stu-id="bacc0-141">If you set this setting to a value lower than AllowedSyncInterval, then the latter is used.</span></span>
* <span data-ttu-id="bacc0-142">**NextSyncCyclePolicyType**.</span><span class="sxs-lookup"><span data-stu-id="bacc0-142">**NextSyncCyclePolicyType**.</span></span> <span data-ttu-id="bacc0-143">Diferencial o inicial.</span><span class="sxs-lookup"><span data-stu-id="bacc0-143">Either Delta or Initial.</span></span> <span data-ttu-id="bacc0-144">Define si la siguiente ejecución debe procesar solo cambios diferenciales, o bien si debería hacer una importación y sincronización completas.</span><span class="sxs-lookup"><span data-stu-id="bacc0-144">Defines if the next run should only process delta changes, or if the next run should do a full import and sync.</span></span> <span data-ttu-id="bacc0-145">En el último caso también vuelve a procesar las reglas nuevas o modificadas.</span><span class="sxs-lookup"><span data-stu-id="bacc0-145">The latter would also reprocess any new or changed rules.</span></span>
* <span data-ttu-id="bacc0-146">**NextSyncCycleStartTimeInUTC**.</span><span class="sxs-lookup"><span data-stu-id="bacc0-146">**NextSyncCycleStartTimeInUTC**.</span></span> <span data-ttu-id="bacc0-147">La hora en que el programador inicia el siguiente ciclo de sincronización.</span><span class="sxs-lookup"><span data-stu-id="bacc0-147">Next time the scheduler starts the next sync cycle.</span></span>
* <span data-ttu-id="bacc0-148">**PurgeRunHistoryInterval**.</span><span class="sxs-lookup"><span data-stu-id="bacc0-148">**PurgeRunHistoryInterval**.</span></span> <span data-ttu-id="bacc0-149">El tiempo que deben mantenerse los registros de operación.</span><span class="sxs-lookup"><span data-stu-id="bacc0-149">The time operation logs should be kept.</span></span> <span data-ttu-id="bacc0-150">Estos registros se pueden revisar en Synchronization Service Manager.</span><span class="sxs-lookup"><span data-stu-id="bacc0-150">These logs can be reviewed in the synchronization service manager.</span></span> <span data-ttu-id="bacc0-151">El valor predeterminado mantener estos registros 7 días.</span><span class="sxs-lookup"><span data-stu-id="bacc0-151">The default is to keep these logs for 7 days.</span></span>
* <span data-ttu-id="bacc0-152">**SyncCycleEnabled**.</span><span class="sxs-lookup"><span data-stu-id="bacc0-152">**SyncCycleEnabled**.</span></span> <span data-ttu-id="bacc0-153">Indica si el programador está ejecutando los procesos de importación, sincronización y exportación como parte de su funcionamiento.</span><span class="sxs-lookup"><span data-stu-id="bacc0-153">Indicates if the scheduler is running the import, sync, and export processes as part of its operation.</span></span>
* <span data-ttu-id="bacc0-154">**MaintenanceEnabled**.</span><span class="sxs-lookup"><span data-stu-id="bacc0-154">**MaintenanceEnabled**.</span></span> <span data-ttu-id="bacc0-155">Muestra si está habilitado el proceso de mantenimiento.</span><span class="sxs-lookup"><span data-stu-id="bacc0-155">Shows if the maintenance process is enabled.</span></span> <span data-ttu-id="bacc0-156">Actualiza los certificados y las claves y purga el registro de operaciones.</span><span class="sxs-lookup"><span data-stu-id="bacc0-156">It updates the certificates/keys and purges the operations log.</span></span>
* <span data-ttu-id="bacc0-157">**StagingModeEnabled**.</span><span class="sxs-lookup"><span data-stu-id="bacc0-157">**StagingModeEnabled**.</span></span> <span data-ttu-id="bacc0-158">Muestra si el [modo provisional](active-directory-aadconnectsync-operations.md#staging-mode) está habilitado.</span><span class="sxs-lookup"><span data-stu-id="bacc0-158">Shows if [staging mode](active-directory-aadconnectsync-operations.md#staging-mode) is enabled.</span></span> <span data-ttu-id="bacc0-159">Si esta opción está habilitada, suprime la ejecución de las exportaciones, pero ejecuta la importación y la sincronización.</span><span class="sxs-lookup"><span data-stu-id="bacc0-159">If this setting is enabled, then it suppresses the exports from running but still run import and synchronization.</span></span>
* <span data-ttu-id="bacc0-160">**SchedulerSuspended**.</span><span class="sxs-lookup"><span data-stu-id="bacc0-160">**SchedulerSuspended**.</span></span> <span data-ttu-id="bacc0-161">Configure Connect durante una actualización para impedir temporalmente que se ejecute el programador.</span><span class="sxs-lookup"><span data-stu-id="bacc0-161">Set by Connect during an upgrade to temporarily block the scheduler from running.</span></span>

<span data-ttu-id="bacc0-162">Puede cambiar algunos de estos valores con `Set-ADSyncScheduler`.</span><span class="sxs-lookup"><span data-stu-id="bacc0-162">You can change some of these settings with `Set-ADSyncScheduler`.</span></span> <span data-ttu-id="bacc0-163">Se pueden modificar los parámetros siguientes:</span><span class="sxs-lookup"><span data-stu-id="bacc0-163">The following parameters can be modified:</span></span>

* <span data-ttu-id="bacc0-164">CustomizedSyncCycleInterval</span><span class="sxs-lookup"><span data-stu-id="bacc0-164">CustomizedSyncCycleInterval</span></span>
* <span data-ttu-id="bacc0-165">NextSyncCyclePolicyType</span><span class="sxs-lookup"><span data-stu-id="bacc0-165">NextSyncCyclePolicyType</span></span>
* <span data-ttu-id="bacc0-166">PurgeRunHistoryInterval</span><span class="sxs-lookup"><span data-stu-id="bacc0-166">PurgeRunHistoryInterval</span></span>
* <span data-ttu-id="bacc0-167">SyncCycleEnabled</span><span class="sxs-lookup"><span data-stu-id="bacc0-167">SyncCycleEnabled</span></span>
* <span data-ttu-id="bacc0-168">MaintenanceEnabled</span><span class="sxs-lookup"><span data-stu-id="bacc0-168">MaintenanceEnabled</span></span>

<span data-ttu-id="bacc0-169">En compilaciones anteriores de Azure AD Connect, **isStagingModeEnabled** se expuso en Set-ADSyncScheduler.</span><span class="sxs-lookup"><span data-stu-id="bacc0-169">In earlier builds of Azure AD Connect, **isStagingModeEnabled** was exposed in Set-ADSyncScheduler.</span></span> <span data-ttu-id="bacc0-170">**No se puede** establecer esta propiedad.</span><span class="sxs-lookup"><span data-stu-id="bacc0-170">It is **unsupported** to set this property.</span></span> <span data-ttu-id="bacc0-171">La propiedad **SchedulerSuspended** solo debe modificarse con Connect.</span><span class="sxs-lookup"><span data-stu-id="bacc0-171">The property **SchedulerSuspended** should only be modified by Connect.</span></span> <span data-ttu-id="bacc0-172">**No se puede** establecer esto con PowerShell directamente.</span><span class="sxs-lookup"><span data-stu-id="bacc0-172">It is **unsupported** to set this with PowerShell directly.</span></span>

<span data-ttu-id="bacc0-173">La configuración del programador se almacena en Azure AD.</span><span class="sxs-lookup"><span data-stu-id="bacc0-173">The scheduler configuration is stored in Azure AD.</span></span> <span data-ttu-id="bacc0-174">Si tiene un servidor de ensayo, cualquier cambio realizado en el servidor principal también afectará a este servidor (excepto IsStagingModeEnabled).</span><span class="sxs-lookup"><span data-stu-id="bacc0-174">If you have a staging server, any change on the primary server also affects the staging server (except IsStagingModeEnabled).</span></span>

### <a name="customizedsynccycleinterval"></a><span data-ttu-id="bacc0-175">CustomizedSyncCycleInterval</span><span class="sxs-lookup"><span data-stu-id="bacc0-175">CustomizedSyncCycleInterval</span></span>
<span data-ttu-id="bacc0-176">Sintaxis: `Set-ADSyncScheduler -CustomizedSyncCycleInterval d.HH:mm:ss`</span><span class="sxs-lookup"><span data-stu-id="bacc0-176">Syntax: `Set-ADSyncScheduler -CustomizedSyncCycleInterval d.HH:mm:ss`</span></span>  
<span data-ttu-id="bacc0-177">d: días; HH: horas; mm: minutos; ss: segundos</span><span class="sxs-lookup"><span data-stu-id="bacc0-177">d - days, HH - hours, mm - minutes, ss - seconds</span></span>

<span data-ttu-id="bacc0-178">Ejemplo: `Set-ADSyncScheduler -CustomizedSyncCycleInterval 03:00:00`</span><span class="sxs-lookup"><span data-stu-id="bacc0-178">Example: `Set-ADSyncScheduler -CustomizedSyncCycleInterval 03:00:00`</span></span>  
<span data-ttu-id="bacc0-179">Cambia el programador para ejecutarse cada 3 horas.</span><span class="sxs-lookup"><span data-stu-id="bacc0-179">Changes the scheduler to run every 3 hours.</span></span>

<span data-ttu-id="bacc0-180">Ejemplo: `Set-ADSyncScheduler -CustomizedSyncCycleInterval 1.0:0:0`</span><span class="sxs-lookup"><span data-stu-id="bacc0-180">Example: `Set-ADSyncScheduler -CustomizedSyncCycleInterval 1.0:0:0`</span></span>  
<span data-ttu-id="bacc0-181">Cambia el programador para ejecutarse a diario.</span><span class="sxs-lookup"><span data-stu-id="bacc0-181">Changes change the scheduler to run daily.</span></span>

### <a name="disable-the-scheduler"></a><span data-ttu-id="bacc0-182">Deshabilitación del programador</span><span class="sxs-lookup"><span data-stu-id="bacc0-182">Disable the scheduler</span></span>  
<span data-ttu-id="bacc0-183">Si necesita realizar cambios en la configuración, es conveniente deshabilitar el programador.</span><span class="sxs-lookup"><span data-stu-id="bacc0-183">If you need to make configuration changes, then you want to disable the scheduler.</span></span> <span data-ttu-id="bacc0-184">Por ejemplo, cuando [configura el filtrado](active-directory-aadconnectsync-configure-filtering.md) o [realiza cambios en las reglas de sincronización](active-directory-aadconnectsync-change-the-configuration.md).</span><span class="sxs-lookup"><span data-stu-id="bacc0-184">For example, when you [configure filtering](active-directory-aadconnectsync-configure-filtering.md) or [make changes to synchronization rules](active-directory-aadconnectsync-change-the-configuration.md).</span></span>

<span data-ttu-id="bacc0-185">Para deshabilitar el programador, ejecute `Set-ADSyncScheduler -SyncCycleEnabled $false`.</span><span class="sxs-lookup"><span data-stu-id="bacc0-185">To disable the scheduler, run `Set-ADSyncScheduler -SyncCycleEnabled $false`.</span></span>

![Deshabilitación del programador](./media/active-directory-aadconnectsync-change-the-configuration/schedulerdisable.png)

<span data-ttu-id="bacc0-187">Una vez realizados los cambios, no olvide volver a habilitar el programador con `Set-ADSyncScheduler -SyncCycleEnabled $true`.</span><span class="sxs-lookup"><span data-stu-id="bacc0-187">When you've made your changes, do not forget to enable the scheduler again with `Set-ADSyncScheduler -SyncCycleEnabled $true`.</span></span>

## <a name="start-the-scheduler"></a><span data-ttu-id="bacc0-188">Inicio del programador</span><span class="sxs-lookup"><span data-stu-id="bacc0-188">Start the scheduler</span></span>
<span data-ttu-id="bacc0-189">De forma predeterminada, el programador se ejecuta cada 30 minutos.</span><span class="sxs-lookup"><span data-stu-id="bacc0-189">The scheduler is by default run every 30 minutes.</span></span> <span data-ttu-id="bacc0-190">En algunos casos, es posible que quiera ejecutar un ciclo de sincronización entre los ciclos programados o necesite ejecutar un tipo diferente.</span><span class="sxs-lookup"><span data-stu-id="bacc0-190">In some cases, you might want to run a sync cycle in between the scheduled cycles or you need to run a different type.</span></span>

<span data-ttu-id="bacc0-191">**Ciclo de sincronización diferencial**</span><span class="sxs-lookup"><span data-stu-id="bacc0-191">**Delta sync cycle**</span></span>  
<span data-ttu-id="bacc0-192">Un ciclo de sincronización diferencial incluye los siguientes pasos:</span><span class="sxs-lookup"><span data-stu-id="bacc0-192">A delta sync cycle includes the following steps:</span></span>

* <span data-ttu-id="bacc0-193">Importación diferencial en todos los conectores</span><span class="sxs-lookup"><span data-stu-id="bacc0-193">Delta import on all Connectors</span></span>
* <span data-ttu-id="bacc0-194">Sincronización diferencial en todos los conectores</span><span class="sxs-lookup"><span data-stu-id="bacc0-194">Delta sync on all Connectors</span></span>
* <span data-ttu-id="bacc0-195">Exportación en todos los conectores</span><span class="sxs-lookup"><span data-stu-id="bacc0-195">Export on all Connectors</span></span>

<span data-ttu-id="bacc0-196">Es posible que haya un cambio urgente que debe sincronizar inmediatamente, para lo que necesita ejecutar manualmente un ciclo.</span><span class="sxs-lookup"><span data-stu-id="bacc0-196">It could be that you have an urgent change that must be synchronized immediately, which is why you need to manually run a cycle.</span></span> <span data-ttu-id="bacc0-197">Si necesita ejecutar manualmente un ciclo, ejecute `Start-ADSyncSyncCycle -PolicyType Delta`desde PowerShell.</span><span class="sxs-lookup"><span data-stu-id="bacc0-197">If you need to manually run a cycle, then from PowerShell run `Start-ADSyncSyncCycle -PolicyType Delta`.</span></span>

<span data-ttu-id="bacc0-198">**Ciclo de sincronización completo**</span><span class="sxs-lookup"><span data-stu-id="bacc0-198">**Full sync cycle**</span></span>  
<span data-ttu-id="bacc0-199">Si ha realizado uno de los siguientes cambios de configuración, debe ejecutar un ciclo de sincronización completo (también conocido como</span><span class="sxs-lookup"><span data-stu-id="bacc0-199">If you have made one of the following configuration changes, you need to run a full sync cycle (a.k.a.</span></span> <span data-ttu-id="bacc0-200">sincronización inicial):</span><span class="sxs-lookup"><span data-stu-id="bacc0-200">Initial):</span></span>

* <span data-ttu-id="bacc0-201">Agregó más objetos o atributos para su importación desde un directorio de origen</span><span class="sxs-lookup"><span data-stu-id="bacc0-201">Added more objects or attributes to be imported from a source directory</span></span>
* <span data-ttu-id="bacc0-202">Realizó cambios en las reglas de sincronización</span><span class="sxs-lookup"><span data-stu-id="bacc0-202">Made changes to the Synchronization rules</span></span>
* <span data-ttu-id="bacc0-203">Cambió el [filtrado](active-directory-aadconnectsync-configure-filtering.md) para que se incluya un número diferente de objetos</span><span class="sxs-lookup"><span data-stu-id="bacc0-203">Changed [filtering](active-directory-aadconnectsync-configure-filtering.md) so a different number of objects should be included</span></span>

<span data-ttu-id="bacc0-204">Si ha realizado uno de estos cambios, debe ejecutar un ciclo de sincronización completo, para que el motor de sincronización tenga la oportunidad de volver a consolidar los espacios de conector.</span><span class="sxs-lookup"><span data-stu-id="bacc0-204">If you have made one of these changes, then you need to run a full sync cycle so the sync engine has the opportunity to reconsolidate the connector spaces.</span></span> <span data-ttu-id="bacc0-205">Un ciclo de sincronización completo incluye los pasos siguientes:</span><span class="sxs-lookup"><span data-stu-id="bacc0-205">A full sync cycle includes the following steps:</span></span>

* <span data-ttu-id="bacc0-206">Importación completa en todos los conectores</span><span class="sxs-lookup"><span data-stu-id="bacc0-206">Full Import on all Connectors</span></span>
* <span data-ttu-id="bacc0-207">Sincronización completa en todos los conectores</span><span class="sxs-lookup"><span data-stu-id="bacc0-207">Full Sync on all Connectors</span></span>
* <span data-ttu-id="bacc0-208">Exportación en todos los conectores</span><span class="sxs-lookup"><span data-stu-id="bacc0-208">Export on all Connectors</span></span>

<span data-ttu-id="bacc0-209">Para iniciar un ciclo de sincronización completo, ejecute `Start-ADSyncSyncCycle -PolicyType Initial` desde un símbolo del sistema de PowerShell.</span><span class="sxs-lookup"><span data-stu-id="bacc0-209">To initiate a full sync cycle, run `Start-ADSyncSyncCycle -PolicyType Initial` from a PowerShell prompt.</span></span> <span data-ttu-id="bacc0-210">Este comando inicia un ciclo de sincronización completo.</span><span class="sxs-lookup"><span data-stu-id="bacc0-210">This command starts a full sync cycle.</span></span>

## <a name="stop-the-scheduler"></a><span data-ttu-id="bacc0-211">Detención del programador</span><span class="sxs-lookup"><span data-stu-id="bacc0-211">Stop the scheduler</span></span>
<span data-ttu-id="bacc0-212">Si el programador está ejecutando actualmente un ciclo de sincronización, puede que necesite detenerlo.</span><span class="sxs-lookup"><span data-stu-id="bacc0-212">If the scheduler is currently running a synchronization cycle, you might need to stop it.</span></span> <span data-ttu-id="bacc0-213">Por ejemplo, si inicia el Asistente para instalación y recibe este error:</span><span class="sxs-lookup"><span data-stu-id="bacc0-213">For example if you start the installation wizard and you get this error:</span></span>

![SyncCycleRunningError](./media/active-directory-aadconnectsync-feature-scheduler/synccyclerunningerror.png)

<span data-ttu-id="bacc0-215">Cuando se está ejecutando un ciclo de sincronización, no puede realizar cambios de configuración.</span><span class="sxs-lookup"><span data-stu-id="bacc0-215">When a sync cycle is running, you cannot make configuration changes.</span></span> <span data-ttu-id="bacc0-216">Debe esperar hasta que el programador haya terminado el proceso, pero también es posible detenerlo para poder realizar los cambios inmediatamente.</span><span class="sxs-lookup"><span data-stu-id="bacc0-216">You could wait until the scheduler has finished the process, but you can also stop it so you can make your changes immediately.</span></span> <span data-ttu-id="bacc0-217">Detener el ciclo actual no es perjudicial y los cambios pendientes se procesarán en la próxima ejecución.</span><span class="sxs-lookup"><span data-stu-id="bacc0-217">Stopping the current cycle is not harmful and pending changes are processed with next run.</span></span>

1. <span data-ttu-id="bacc0-218">Para empezar, indique al programador que detenga el ciclo actual con el cmdlet `Stop-ADSyncSyncCycle`de PowerShell.</span><span class="sxs-lookup"><span data-stu-id="bacc0-218">Start by telling the scheduler to stop its current cycle with the PowerShell cmdlet `Stop-ADSyncSyncCycle`.</span></span>
2. <span data-ttu-id="bacc0-219">Si usa una compilación anterior a 1.1.281, detener el programador no hará que este conector detenga su tarea actual.</span><span class="sxs-lookup"><span data-stu-id="bacc0-219">If you use a build before 1.1.281, then stopping the scheduler does not stop the current Connector from its current task.</span></span> <span data-ttu-id="bacc0-220">Para forzar el conector a que se detenga, tome las medidas siguientes: ![StopAConnector](./media/active-directory-aadconnectsync-feature-scheduler/stopaconnector.png)</span><span class="sxs-lookup"><span data-stu-id="bacc0-220">To force the Connector to stop, take the following actions: ![StopAConnector](./media/active-directory-aadconnectsync-feature-scheduler/stopaconnector.png)</span></span>
   * <span data-ttu-id="bacc0-221">Inicie el **Servicio de sincronización** desde el menú Inicio.</span><span class="sxs-lookup"><span data-stu-id="bacc0-221">Start **Synchronization Service** from the start menu.</span></span> <span data-ttu-id="bacc0-222">Vaya a **Conectores**, resalte el conector con el estado **En ejecución** y seleccione **Detener** en la lista de acciones.</span><span class="sxs-lookup"><span data-stu-id="bacc0-222">Go to **Connectors**, highlight the Connector with the state **Running**, and select **Stop** from the Actions.</span></span>

<span data-ttu-id="bacc0-223">El programador todavía permanece activo y se inicia de nuevo en la siguiente oportunidad.</span><span class="sxs-lookup"><span data-stu-id="bacc0-223">The scheduler is still active and starts again on next opportunity.</span></span>

## <a name="custom-scheduler"></a><span data-ttu-id="bacc0-224">Programador personalizado</span><span class="sxs-lookup"><span data-stu-id="bacc0-224">Custom scheduler</span></span>
<span data-ttu-id="bacc0-225">Los cmdlets que se documentan en esta sección solo están disponibles en la compilación [1.1.130.0](active-directory-aadconnect-version-history.md#111300) y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="bacc0-225">The cmdlets documented in this section are only available in build [1.1.130.0](active-directory-aadconnect-version-history.md#111300) and later.</span></span>

<span data-ttu-id="bacc0-226">Si el programador integrado no cumple con sus requisitos, puede programar los conectores con PowerShell.</span><span class="sxs-lookup"><span data-stu-id="bacc0-226">If the built-in scheduler does not satisfy your requirements, then you can schedule the Connectors using PowerShell.</span></span>

### <a name="invoke-adsyncrunprofile"></a><span data-ttu-id="bacc0-227">Invoke-ADSyncRunProfile</span><span class="sxs-lookup"><span data-stu-id="bacc0-227">Invoke-ADSyncRunProfile</span></span>
<span data-ttu-id="bacc0-228">Puede iniciar un perfil para un conector de esta manera:</span><span class="sxs-lookup"><span data-stu-id="bacc0-228">You can start a profile for a Connector in this way:</span></span>

```
Invoke-ADSyncRunProfile -ConnectorName "name of connector" -RunProfileName "name of profile"
```

<span data-ttu-id="bacc0-229">Los nombres para utilizar como [nombres de conectores](active-directory-aadconnectsync-service-manager-ui-connectors.md) y [nombres de perfil de ejecución](active-directory-aadconnectsync-service-manager-ui-connectors.md#configure-run-profiles) pueden encontrarse en la [interfaz de usuario de Synchronization Service Manager](active-directory-aadconnectsync-service-manager-ui.md).</span><span class="sxs-lookup"><span data-stu-id="bacc0-229">The names to use for [Connector names](active-directory-aadconnectsync-service-manager-ui-connectors.md) and [Run Profile Names](active-directory-aadconnectsync-service-manager-ui-connectors.md#configure-run-profiles) can be found in the [Synchronization Service Manager UI](active-directory-aadconnectsync-service-manager-ui.md).</span></span>

![Invocar el perfil de ejecución](./media/active-directory-aadconnectsync-feature-scheduler/invokerunprofile.png)  

<span data-ttu-id="bacc0-231">El cmdlet `Invoke-ADSyncRunProfile` es sincrónico; es decir, no devuelve el control hasta que el conector ha completado la operación, ya sea correcta o incorrectamente.</span><span class="sxs-lookup"><span data-stu-id="bacc0-231">The `Invoke-ADSyncRunProfile` cmdlet is synchronous, that is, it does not return control until the Connector has completed the operation, either successfully or with an error.</span></span>

<span data-ttu-id="bacc0-232">Al programar los conectores, se recomienda hacerlo en el siguiente orden:</span><span class="sxs-lookup"><span data-stu-id="bacc0-232">When you schedule your Connectors, the recommendation is to schedule them in the following order:</span></span>

1. <span data-ttu-id="bacc0-233">(Diferencial y completo) Importar desde directorios locales, como Active Directory</span><span class="sxs-lookup"><span data-stu-id="bacc0-233">(Full/Delta) Import from on-premises directories, such as Active Directory</span></span>
2. <span data-ttu-id="bacc0-234">(Diferencial y completo) Importar desde Azure AD</span><span class="sxs-lookup"><span data-stu-id="bacc0-234">(Full/Delta) Import from Azure AD</span></span>
3. <span data-ttu-id="bacc0-235">(Diferencial y completo) Sincronización desde directorios locales, como Active Directory</span><span class="sxs-lookup"><span data-stu-id="bacc0-235">(Full/Delta) Synchronization from on-premises directories, such as Active Directory</span></span>
4. <span data-ttu-id="bacc0-236">(Diferencial y completo) Sincronización desde Azure AD</span><span class="sxs-lookup"><span data-stu-id="bacc0-236">(Full/Delta) Synchronization from Azure AD</span></span>
5. <span data-ttu-id="bacc0-237">Exportar a Azure AD</span><span class="sxs-lookup"><span data-stu-id="bacc0-237">Export to Azure AD</span></span>
6. <span data-ttu-id="bacc0-238">Exportar a los directorios locales, como Active Directory</span><span class="sxs-lookup"><span data-stu-id="bacc0-238">Export to on-premises directories, such as Active Directory</span></span>

<span data-ttu-id="bacc0-239">Este orden es en el que el programador integrado ejecuta los conectores.</span><span class="sxs-lookup"><span data-stu-id="bacc0-239">This order is how the built-in scheduler runs the Connectors.</span></span>

### <a name="get-adsyncconnectorrunstatus"></a><span data-ttu-id="bacc0-240">Get-ADSyncConnectorRunStatus</span><span class="sxs-lookup"><span data-stu-id="bacc0-240">Get-ADSyncConnectorRunStatus</span></span>
<span data-ttu-id="bacc0-241">También puede supervisar el motor de sincronización para ver si está ocupado o inactivo.</span><span class="sxs-lookup"><span data-stu-id="bacc0-241">You can also monitor the sync engine to see if it is busy or idle.</span></span> <span data-ttu-id="bacc0-242">Este cmdlet devuelve un resultado vacío si el motor de sincronización está inactivo y no está ejecutando ningún conector.</span><span class="sxs-lookup"><span data-stu-id="bacc0-242">This cmdlet returns an empty result if the sync engine is idle and is not running a Connector.</span></span> <span data-ttu-id="bacc0-243">Si se está ejecutando un conector, devuelve el nombre del conector.</span><span class="sxs-lookup"><span data-stu-id="bacc0-243">If a Connector is running, it returns the name of the Connector.</span></span>

```
Get-ADSyncConnectorRunStatus
```

![Estado de la ejecución de conector](./media/active-directory-aadconnectsync-feature-scheduler/getconnectorrunstatus.png)  
<span data-ttu-id="bacc0-245">En la ilustración anterior, la primera línea refleja un estado donde el motor de sincronización está inactivo.</span><span class="sxs-lookup"><span data-stu-id="bacc0-245">In the picture above, the first line is from a state where the sync engine is idle.</span></span> <span data-ttu-id="bacc0-246">La segunda línea es de cuando se ejecuta el conector de Azure AD.</span><span class="sxs-lookup"><span data-stu-id="bacc0-246">The second line from when the Azure AD Connector is running.</span></span>

## <a name="scheduler-and-installation-wizard"></a><span data-ttu-id="bacc0-247">Programador y Asistente para instalación</span><span class="sxs-lookup"><span data-stu-id="bacc0-247">Scheduler and installation wizard</span></span>
<span data-ttu-id="bacc0-248">Si inicia el Asistente para instalación, el programador se suspende temporalmente.</span><span class="sxs-lookup"><span data-stu-id="bacc0-248">If you start the installation wizard, then the scheduler is temporarily suspended.</span></span> <span data-ttu-id="bacc0-249">Este comportamiento es debido a que se supone que realizará cambios en la configuración y estos cambios no se pueden aplicar si el motor de sincronización se está ejecutando activamente.</span><span class="sxs-lookup"><span data-stu-id="bacc0-249">This behavior is because it is assumed you make configuration changes and these settings cannot be applied if the sync engine is actively running.</span></span> <span data-ttu-id="bacc0-250">Por este motivo, no deje el Asistente para instalación abierto, ya que impide que el motor de sincronización realizar ninguna acción.</span><span class="sxs-lookup"><span data-stu-id="bacc0-250">For this reason, do not leave the installation wizard open since it stops the sync engine from performing any synchronization actions.</span></span>

## <a name="next-steps"></a><span data-ttu-id="bacc0-251">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="bacc0-251">Next steps</span></span>
<span data-ttu-id="bacc0-252">Obtenga más información sobre la configuración de la [Sincronización de Azure AD Connect](active-directory-aadconnectsync-whatis.md) .</span><span class="sxs-lookup"><span data-stu-id="bacc0-252">Learn more about the [Azure AD Connect sync](active-directory-aadconnectsync-whatis.md) configuration.</span></span>

<span data-ttu-id="bacc0-253">Obtenga más información sobre la [Integración de las identidades locales con Azure Active Directory](active-directory-aadconnect.md).</span><span class="sxs-lookup"><span data-stu-id="bacc0-253">Learn more about [Integrating your on-premises identities with Azure Active Directory](active-directory-aadconnect.md).</span></span>
