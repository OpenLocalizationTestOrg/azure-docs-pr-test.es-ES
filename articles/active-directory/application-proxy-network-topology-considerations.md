---
title: "Consideraciones sobre la topología aaaNetwork cuando se utiliza el Proxy de aplicación de Azure Active Directory | Documentos de Microsoft"
description: "Se tratan las consideraciones de la topología de red al utilizar el Proxy de aplicación de Azure AD."
services: active-directory
documentationcenter: 
author: kgremban
manager: femila
ms.assetid: 
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/28/2017
ms.author: kgremban
ms.reviewer: harshja
ms.custom: it-pro
ms.openlocfilehash: 9b8cdd2196efeb92a74e44dde6511f7d3091a968
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="network-topology-considerations-when-using-azure-active-directory-application-proxy"></a><span data-ttu-id="9e16b-103">Consideraciones sobre la topología de red al utilizar el Proxy de aplicación de Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="9e16b-103">Network topology considerations when using Azure Active Directory Application Proxy</span></span>

<span data-ttu-id="9e16b-104">En este artículo se explican las consideraciones de la topología de red al utilizar el Proxy de aplicación de Azure Active Directory (Azure AD) para la publicación y el acceso a las aplicaciones de forma remota.</span><span class="sxs-lookup"><span data-stu-id="9e16b-104">This article explains network topology considerations when using Azure Active Directory (Azure AD) Application Proxy for publishing and accessing your applications remotely.</span></span>

## <a name="traffic-flow"></a><span data-ttu-id="9e16b-105">Flujo de tráfico</span><span class="sxs-lookup"><span data-stu-id="9e16b-105">Traffic flow</span></span>

<span data-ttu-id="9e16b-106">Cuando se publica una aplicación a través de Proxy de aplicación de Azure AD, el tráfico desde las aplicaciones de hello usuarios toohello fluye a través de tres conexiones:</span><span class="sxs-lookup"><span data-stu-id="9e16b-106">When an application is published through Azure AD Application Proxy, traffic from hello users toohello applications flows through three connections:</span></span>

1. <span data-ttu-id="9e16b-107">usuario de Hola conecta las pública extremo de servicio del Proxy de aplicación de Azure AD de toohello en Azure</span><span class="sxs-lookup"><span data-stu-id="9e16b-107">hello user connects toohello Azure AD Application Proxy service public endpoint on Azure</span></span>
2. <span data-ttu-id="9e16b-108">Hola servicio Proxy de aplicación conecta el conector del Proxy de aplicación de toohello</span><span class="sxs-lookup"><span data-stu-id="9e16b-108">hello Application Proxy service connects toohello Application Proxy connector</span></span>
3. <span data-ttu-id="9e16b-109">conector del Proxy de aplicación Hola conecta la aplicación de destino toohello</span><span class="sxs-lookup"><span data-stu-id="9e16b-109">hello Application Proxy connector connects toohello target application</span></span>

![Diagrama que muestra el flujo de tráfico de aplicación de usuario tootarget](./media/application-proxy-network-topologies/application-proxy-three-hops.png)

## <a name="tenant-location-and-application-proxy-service"></a><span data-ttu-id="9e16b-111">Ubicación del inquilino y el servicio de Proxy de aplicación</span><span class="sxs-lookup"><span data-stu-id="9e16b-111">Tenant location and Application Proxy service</span></span>

<span data-ttu-id="9e16b-112">Cuando se registra para un inquilino de Azure AD, región Hola del inquilino de viene determinada por país de Hola que especifique.</span><span class="sxs-lookup"><span data-stu-id="9e16b-112">When you sign up for an Azure AD tenant, hello region of your tenant is determined by hello country you specify.</span></span> <span data-ttu-id="9e16b-113">Cuando se habilita el Proxy de aplicación, instancias de servicio de Proxy de aplicación hello para el inquilino se elegido o creadas en hello mismo región que el inquilino de Azure AD o tooit región más cercana de Hola.</span><span class="sxs-lookup"><span data-stu-id="9e16b-113">When you enable Application Proxy, hello Application Proxy service instances for your tenant are chosen or created in hello same region as your Azure AD tenant, or hello closest region tooit.</span></span>

<span data-ttu-id="9e16b-114">Por ejemplo, si la región del inquilino de Azure AD es hello (unión), todos los conectores de Proxy de aplicación utilice instancias de servicio en los centros de datos de Azure en hello Europa.</span><span class="sxs-lookup"><span data-stu-id="9e16b-114">For example, if your Azure AD tenant’s region is hello European Union (EU), all your Application Proxy connectors use service instances in Azure datacenters in hello EU.</span></span> <span data-ttu-id="9e16b-115">Cuando a los usuarios acceso aplicaciones publican, su tráfico pasa a través de instancias de servicio de Proxy de aplicación hello en esta ubicación.</span><span class="sxs-lookup"><span data-stu-id="9e16b-115">When your users access published applications, their traffic goes through hello Application Proxy service instances in this location.</span></span>

## <a name="considerations-for-reducing-latency"></a><span data-ttu-id="9e16b-116">Consideraciones para reducir la latencia</span><span class="sxs-lookup"><span data-stu-id="9e16b-116">Considerations for reducing latency</span></span>

<span data-ttu-id="9e16b-117">Todas las soluciones de proxy introducirán latencia en la conexión de red.</span><span class="sxs-lookup"><span data-stu-id="9e16b-117">All proxy solutions introduce latency into your network connection.</span></span> <span data-ttu-id="9e16b-118">Con independencia de qué proxy o una solución VPN elige como solución de acceso remoto, siempre incluye un conjunto de servidores habilitar hello tooinside de conexión de la red corporativa.</span><span class="sxs-lookup"><span data-stu-id="9e16b-118">No matter which proxy or VPN solution you choose as your remote access solution, it always includes a set of servers enabling hello connection tooinside your corporate network.</span></span>

<span data-ttu-id="9e16b-119">Las organizaciones suelen incluir puntos de conexión de servidor en su red perimetral.</span><span class="sxs-lookup"><span data-stu-id="9e16b-119">Organizations typically include server endpoints in their perimeter network.</span></span> <span data-ttu-id="9e16b-120">Con el Proxy de aplicación de Azure AD, sin embargo, el tráfico fluye a través del servicio de proxy de hello en nube de Hola mientras conectores Hola residen en la red corporativa.</span><span class="sxs-lookup"><span data-stu-id="9e16b-120">With Azure AD Application Proxy, however, traffic flows through hello proxy service in hello cloud while hello connectors reside on your corporate network.</span></span> <span data-ttu-id="9e16b-121">No se requiere red perimetral.</span><span class="sxs-lookup"><span data-stu-id="9e16b-121">No perimeter network is required.</span></span>

<span data-ttu-id="9e16b-122">las secciones siguientes se Hola contienen toohelp sugerencias adicionales reducir aún más la latencia.</span><span class="sxs-lookup"><span data-stu-id="9e16b-122">hello next sections contain additional suggestions toohelp you reduce latency even further.</span></span> 

### <a name="connector-placement"></a><span data-ttu-id="9e16b-123">Colocación del conector</span><span class="sxs-lookup"><span data-stu-id="9e16b-123">Connector placement</span></span>

<span data-ttu-id="9e16b-124">Proxy de aplicación elige ubicación Hola de instancias, en función de la ubicación del inquilino.</span><span class="sxs-lookup"><span data-stu-id="9e16b-124">Application Proxy chooses hello location of instances for you, based on your tenant location.</span></span> <span data-ttu-id="9e16b-125">Sin embargo, obtendrá toodecide donde tooinstall conector de hello, lo que le otorga Hola características de latencia de consumo de energía toodefine Hola del tráfico de red.</span><span class="sxs-lookup"><span data-stu-id="9e16b-125">However, you get toodecide where tooinstall hello connector, giving you hello power toodefine hello latency characteristics of your network traffic.</span></span>

<span data-ttu-id="9e16b-126">Al configurar el servicio de Proxy de aplicación Hola, pregunte al Hola siguientes preguntas:</span><span class="sxs-lookup"><span data-stu-id="9e16b-126">When setting up hello Application Proxy service, ask hello following questions:</span></span>

* <span data-ttu-id="9e16b-127">¿Dónde se encuentra la aplicación hello?</span><span class="sxs-lookup"><span data-stu-id="9e16b-127">Where is hello app located?</span></span>
* <span data-ttu-id="9e16b-128">¿Dónde están mayoría de los usuarios que tienen acceso a la aplicación hello encuentra?</span><span class="sxs-lookup"><span data-stu-id="9e16b-128">Where are most users who access hello app located?</span></span>
* <span data-ttu-id="9e16b-129">¿Dónde se encuentra la instancia de Proxy de aplicación Hola?</span><span class="sxs-lookup"><span data-stu-id="9e16b-129">Where is hello Application Proxy instance located?</span></span>
* <span data-ttu-id="9e16b-130">¿Ya tiene una red dedicada conexión tooAzure los centros de datos configurado como ExpressRoute de Azure o una VPN similar?</span><span class="sxs-lookup"><span data-stu-id="9e16b-130">Do you already have a dedicated network connection tooAzure datacenters set up, like Azure ExpressRoute or a similar VPN?</span></span>

<span data-ttu-id="9e16b-131">conector Hello tiene toocommunicate con Azure y las aplicaciones (pasos 2 y 3 en el diagrama de flujo de tráfico de hello), por lo que Hola colocación de afecta a conector de Hola Hola la latencia de esas dos conexiones.</span><span class="sxs-lookup"><span data-stu-id="9e16b-131">hello connector has toocommunicate with both Azure and your applications (steps 2 and 3 in hello Traffic flow diagram), so hello placement of hello connector affects hello latency of those two connections.</span></span> <span data-ttu-id="9e16b-132">Al evaluar la selección de ubicación de Hola de conector de hello, tenga en Hola de cuenta siguientes puntos:</span><span class="sxs-lookup"><span data-stu-id="9e16b-132">When evaluating hello placement of hello connector, keep in mind hello following points:</span></span>

* <span data-ttu-id="9e16b-133">Si desea toouse de la delegación limitada de Kerberos (KCD) para el inicio de sesión único, a continuación, el conector de hello necesita un centro de datos de línea de visión tooa.</span><span class="sxs-lookup"><span data-stu-id="9e16b-133">If you want toouse Kerberos constrained delegation (KCD) for single sign-on, then hello connector needs a line of sight tooa datacenter.</span></span> <span data-ttu-id="9e16b-134">Además, el servidor de conector de hello tiene Unidos a un dominio de toobe.</span><span class="sxs-lookup"><span data-stu-id="9e16b-134">Additionally, hello connector server needs toobe domain joined.</span></span>  
* <span data-ttu-id="9e16b-135">En caso de duda, instalar aplicación hello conector de más de cerca toohello.</span><span class="sxs-lookup"><span data-stu-id="9e16b-135">When in doubt, install hello connector closer toohello application.</span></span>

### <a name="general-approach-toominimize-latency"></a><span data-ttu-id="9e16b-136">Latencia de toominimize enfoque general</span><span class="sxs-lookup"><span data-stu-id="9e16b-136">General approach toominimize latency</span></span>

<span data-ttu-id="9e16b-137">Puede minimizar la latencia de Hola de tráfico de hello-to-end mediante la optimización de cada conexión de red.</span><span class="sxs-lookup"><span data-stu-id="9e16b-137">You can minimize hello latency of hello end-to-end traffic by optimizing each network connection.</span></span> <span data-ttu-id="9e16b-138">Cada conexión se puede optimizar mediante uno de estos modos:</span><span class="sxs-lookup"><span data-stu-id="9e16b-138">Each connection can be optimized by:</span></span>

* <span data-ttu-id="9e16b-139">Reduciendo la distancia de hello entre dos extremos de Hola de salto de Hola.</span><span class="sxs-lookup"><span data-stu-id="9e16b-139">Reducing hello distance between hello two ends of hello hop.</span></span>
* <span data-ttu-id="9e16b-140">Elegir hello tootraverse de red apropiado.</span><span class="sxs-lookup"><span data-stu-id="9e16b-140">Choosing hello right network tootraverse.</span></span> <span data-ttu-id="9e16b-141">Por ejemplo, recorrer una red privada en lugar de hello Internet pública puede ser más rápido, debido a vínculos toodedicated.</span><span class="sxs-lookup"><span data-stu-id="9e16b-141">For example, traversing a private network rather than hello public Internet may be faster, due toodedicated links.</span></span>

<span data-ttu-id="9e16b-142">Si tiene un vínculo dedicado ExpressRoute o VPN entre Azure y la red corporativa, puede que desee toouse que.</span><span class="sxs-lookup"><span data-stu-id="9e16b-142">If you have a dedicated VPN or ExpressRoute link between Azure and your corporate network, you may want toouse that.</span></span>

## <a name="focus-your-optimization-strategy"></a><span data-ttu-id="9e16b-143">Centrar la estrategia de optimización</span><span class="sxs-lookup"><span data-stu-id="9e16b-143">Focus your optimization strategy</span></span>

<span data-ttu-id="9e16b-144">No hay poco que puede realizar la conexión de hello toocontrol entre los usuarios y el servicio Proxy de aplicación Hola.</span><span class="sxs-lookup"><span data-stu-id="9e16b-144">There's little that you can do toocontrol hello connection between your users and hello Application Proxy service.</span></span> <span data-ttu-id="9e16b-145">Los usuarios pueden tener acceso a las aplicaciones desde una red doméstica, una cafetería u otro país.</span><span class="sxs-lookup"><span data-stu-id="9e16b-145">Users may access your apps from a home network, a coffee shop, or a different country.</span></span> <span data-ttu-id="9e16b-146">En su lugar, puede optimizar las conexiones de Hola de servicio de Proxy de aplicación Hola toohello Proxy de aplicación conectores toohello aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="9e16b-146">Instead, you can optimize hello connections from hello Application Proxy service toohello Application Proxy connectors toohello apps.</span></span> <span data-ttu-id="9e16b-147">Considere la posibilidad de incorporar Hola siguiendo patrones en su entorno.</span><span class="sxs-lookup"><span data-stu-id="9e16b-147">Consider incorporating hello following patterns in your environment.</span></span>

### <a name="pattern-1-put-hello-connector-close-toohello-application"></a><span data-ttu-id="9e16b-148">Modelo 1: Put Hola conector toohello Cerrar aplicación</span><span class="sxs-lookup"><span data-stu-id="9e16b-148">Pattern 1: Put hello connector close toohello application</span></span>

<span data-ttu-id="9e16b-149">Aplicación de destino de cierre toohello lugar Hola conector en red de cliente de Hola.</span><span class="sxs-lookup"><span data-stu-id="9e16b-149">Place hello connector close toohello target application in hello customer network.</span></span> <span data-ttu-id="9e16b-150">Esta configuración minimiza el paso 3 en el diagrama de la topología de hello, porque el conector Hola y aplicación son similares.</span><span class="sxs-lookup"><span data-stu-id="9e16b-150">This configuration minimizes step 3 in hello topography diagram, because hello connector and application are close.</span></span> 

<span data-ttu-id="9e16b-151">Si el conector tiene un controlador de dominio de línea de visión toohello, este patrón es ventajoso.</span><span class="sxs-lookup"><span data-stu-id="9e16b-151">If your connector needs a line of sight toohello domain controller, then this pattern is advantageous.</span></span> <span data-ttu-id="9e16b-152">La mayoría de nuestros clientes lo usa, puesto que funciona bien para la mayoría de los escenarios.</span><span class="sxs-lookup"><span data-stu-id="9e16b-152">Most of our customers use this pattern, because it works well for most scenarios.</span></span> <span data-ttu-id="9e16b-153">Este patrón también puede combinarse con el tráfico de 2 toooptimize patrón entre servicio Hola y Hola del conector.</span><span class="sxs-lookup"><span data-stu-id="9e16b-153">This pattern can also be combined with pattern 2 toooptimize traffic between hello service and hello connector.</span></span>

### <a name="pattern-2-take-advantage-of-expressroute-with-public-peering"></a><span data-ttu-id="9e16b-154">Patrón 2: sacar partido de ExpressRoute con el emparejamiento público</span><span class="sxs-lookup"><span data-stu-id="9e16b-154">Pattern 2: Take advantage of ExpressRoute with public peering</span></span>

<span data-ttu-id="9e16b-155">Si tiene ExpressRoute configurado con el emparejamiento público, puede usar una conexión ExpressRoute hello más rápida para el tráfico entre el Proxy de aplicación y el conector de Hola.</span><span class="sxs-lookup"><span data-stu-id="9e16b-155">If you have ExpressRoute set up with public peering, you can use hello faster ExpressRoute connection for traffic between Application Proxy and hello connector.</span></span> <span data-ttu-id="9e16b-156">Conector de Hello todavía está en la red, toohello Cerrar aplicación.</span><span class="sxs-lookup"><span data-stu-id="9e16b-156">hello connector is still on your network, close toohello app.</span></span>

### <a name="pattern-3-take-advantage-of-expressroute-with-private-peering"></a><span data-ttu-id="9e16b-157">Patrón 3: sacar partido de ExpressRoute con el emparejamiento privado</span><span class="sxs-lookup"><span data-stu-id="9e16b-157">Pattern 3: Take advantage of ExpressRoute with private peering</span></span>

<span data-ttu-id="9e16b-158">Si tiene una configuración de VPN o ExpressRoute dedicada con emparejamiento privado entre Azure y la red corporativa, tiene otra opción.</span><span class="sxs-lookup"><span data-stu-id="9e16b-158">If you have a dedicated VPN or ExpressRoute set up with private peering between Azure and your corporate network, you have another option.</span></span> <span data-ttu-id="9e16b-159">En esta configuración, la red virtual de hello en Azure normalmente se considera como una extensión de la red corporativa de Hola.</span><span class="sxs-lookup"><span data-stu-id="9e16b-159">In this configuration, hello virtual network in Azure is typically considered as an extension of hello corporate network.</span></span> <span data-ttu-id="9e16b-160">Por lo que puede instalar el conector de Hola Hola centro de datos de Azure y cumplir los requisitos de latencia baja de Hola de conexión de conector para aplicación Hola.</span><span class="sxs-lookup"><span data-stu-id="9e16b-160">So you can install hello connector in hello Azure datacenter, and still satisfy hello low latency requirements of hello connector-to-app connection.</span></span>

<span data-ttu-id="9e16b-161">La latencia no se ve comprometida porque el tráfico está fluyendo por una red dedicada.</span><span class="sxs-lookup"><span data-stu-id="9e16b-161">Latency is not compromised because traffic is flowing over a dedicated connection.</span></span> <span data-ttu-id="9e16b-162">También obtendrá mejorada latencia de conector de servicio de Proxy de aplicación porque está instalado el conector de hello en una ubicación del inquilino de Azure AD de centro de datos Azure cerrar tooyour.</span><span class="sxs-lookup"><span data-stu-id="9e16b-162">You also get improved Application Proxy service-to-connector latency because hello connector is installed in an Azure datacenter close tooyour Azure AD tenant location.</span></span>

![Diagrama que muestra el conector instalado en un centro de datos de Azure](./media/application-proxy-network-topologies/application-proxy-expressroute-private.png)

### <a name="other-approaches"></a><span data-ttu-id="9e16b-164">Otros enfoques</span><span class="sxs-lookup"><span data-stu-id="9e16b-164">Other approaches</span></span>

<span data-ttu-id="9e16b-165">Aunque el enfoque Hola de este artículo es colocación del conector, también puede cambiar selección de ubicación de Hola de hello aplicación tooget mejor latencia.</span><span class="sxs-lookup"><span data-stu-id="9e16b-165">Although hello focus of this article is connector placement, you can also change hello placement of hello application tooget better latency characteristics.</span></span>

<span data-ttu-id="9e16b-166">Las organizaciones están cambiando sus redes a entornos hospedados cada vez con más frecuencia.</span><span class="sxs-lookup"><span data-stu-id="9e16b-166">Increasingly, organizations are moving their networks into hosted environments.</span></span> <span data-ttu-id="9e16b-167">Esto les permite tooplace sus aplicaciones en un entorno hospedado que también forma parte de su red corporativa y seguir siendo dentro de dominio Hola.</span><span class="sxs-lookup"><span data-stu-id="9e16b-167">This enables them tooplace their apps in a hosted environment that is also part of their corporate network, and still be within hello domain.</span></span> <span data-ttu-id="9e16b-168">En este caso, los patrones de Hola se describe en secciones anteriores de hello pueden ser toohello aplicado nueva ubicación de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="9e16b-168">In this case, hello patterns discussed in hello preceding sections can be applied toohello new application location.</span></span> <span data-ttu-id="9e16b-169">Si se plantea esta opción, consulte [Servicios de dominio de Azure Active Directory](../active-directory-domain-services/active-directory-ds-overview.md).</span><span class="sxs-lookup"><span data-stu-id="9e16b-169">If you're considering this option, see [Azure AD Domain Services](../active-directory-domain-services/active-directory-ds-overview.md).</span></span>

<span data-ttu-id="9e16b-170">Además, considere la posibilidad de organizar sus conectores mediante [grupos de conectores](active-directory-application-proxy-connectors.md) tootarget aplicaciones que se encuentran en diferentes ubicaciones y redes.</span><span class="sxs-lookup"><span data-stu-id="9e16b-170">Additionally, consider organizing your connectors using [connector groups](active-directory-application-proxy-connectors.md) tootarget apps that are in different locations and networks.</span></span> 

## <a name="common-use-cases"></a><span data-ttu-id="9e16b-171">Casos de uso comunes</span><span class="sxs-lookup"><span data-stu-id="9e16b-171">Common use cases</span></span>

<span data-ttu-id="9e16b-172">En esta sección, se abordan algunos de los escenarios habituales.</span><span class="sxs-lookup"><span data-stu-id="9e16b-172">In this section, we walk through a few common scenarios.</span></span> <span data-ttu-id="9e16b-173">Suponga que Hola inquilino de Azure AD (y, por tanto, el extremo de servicio proxy) se encuentra en Estados Unidos (US) Hola.</span><span class="sxs-lookup"><span data-stu-id="9e16b-173">Assume that hello Azure AD tenant (and therefore proxy service endpoint) is located in hello United States (US).</span></span> <span data-ttu-id="9e16b-174">Hello aspectos descritos en estos casos de uso también se aplican las regiones tooother mundo Hola.</span><span class="sxs-lookup"><span data-stu-id="9e16b-174">hello considerations discussed in these use cases also apply tooother regions around hello globe.</span></span>

<span data-ttu-id="9e16b-175">Para estos escenarios, se llama "salto" a cada una de las conexiones y les asignamos un número para facilitar el análisis:</span><span class="sxs-lookup"><span data-stu-id="9e16b-175">For these scenarios, we call each connection a "hop" and number them for easier discussion:</span></span>

- <span data-ttu-id="9e16b-176">**Saltar 1**: toohello servicio Proxy de aplicación de usuario</span><span class="sxs-lookup"><span data-stu-id="9e16b-176">**Hop 1**: User toohello Application Proxy service</span></span>
- <span data-ttu-id="9e16b-177">**Saltar 2**: conector del Proxy de aplicación de servicio toohello Proxy de aplicación</span><span class="sxs-lookup"><span data-stu-id="9e16b-177">**Hop 2**: Application Proxy service toohello Application Proxy connector</span></span>
- <span data-ttu-id="9e16b-178">**Saltar 3**: aplicación de destino de Proxy de aplicación conector toohello</span><span class="sxs-lookup"><span data-stu-id="9e16b-178">**Hop 3**: Application Proxy connector toohello target application</span></span> 

### <a name="use-case-1"></a><span data-ttu-id="9e16b-179">Caso de uso 1</span><span class="sxs-lookup"><span data-stu-id="9e16b-179">Use case 1</span></span>

<span data-ttu-id="9e16b-180">**Escenario:** aplicación hello está en red de una organización en hello nosotros, con usuarios de hello misma región.</span><span class="sxs-lookup"><span data-stu-id="9e16b-180">**Scenario:** hello app is in an organization's network in hello US, with users in hello same region.</span></span> <span data-ttu-id="9e16b-181">No ExpressRoute o VPN existe entre hello centro de datos de Azure y la red corporativa de Hola.</span><span class="sxs-lookup"><span data-stu-id="9e16b-181">No ExpressRoute or VPN exists between hello Azure datacenter and hello corporate network.</span></span>

<span data-ttu-id="9e16b-182">**Recomendación:** patrón de seguimiento 1, explicado en la sección anterior de Hola.</span><span class="sxs-lookup"><span data-stu-id="9e16b-182">**Recommendation:** Follow pattern 1, explained in hello previous section.</span></span> <span data-ttu-id="9e16b-183">Para mejorar la latencia, considere la posibilidad de usar ExpressRoute, si es necesario.</span><span class="sxs-lookup"><span data-stu-id="9e16b-183">For improved latency, consider using ExpressRoute, if needed.</span></span>

<span data-ttu-id="9e16b-184">Se trata de un modelo simple.</span><span class="sxs-lookup"><span data-stu-id="9e16b-184">This is a simple pattern.</span></span> <span data-ttu-id="9e16b-185">Optimizar saltos 3 mediante la colocación de conector de hello cerca de la aplicación hello.</span><span class="sxs-lookup"><span data-stu-id="9e16b-185">You optimize hop 3 by placing hello connector near hello app.</span></span> <span data-ttu-id="9e16b-186">También es una opción natural, porque el conector Hola normalmente se instala con línea de visión toohello aplicación y toohello tooperform KCD las operaciones de datacenter.</span><span class="sxs-lookup"><span data-stu-id="9e16b-186">This is also a natural choice, because hello connector typically is installed with line of sight toohello app and toohello datacenter tooperform KCD operations.</span></span>

![Diagrama que muestra que los usuarios, proxy, conector y aplicación aparecen en hello nos](./media/application-proxy-network-topologies/application-proxy-pattern1.png)

### <a name="use-case-2"></a><span data-ttu-id="9e16b-188">Caso de uso 2</span><span class="sxs-lookup"><span data-stu-id="9e16b-188">Use case 2</span></span>

<span data-ttu-id="9e16b-189">**Escenario:** aplicación hello está en red de una organización en hello nosotros, con usuarios que se reparten globalmente.</span><span class="sxs-lookup"><span data-stu-id="9e16b-189">**Scenario:** hello app is in an organization's network in hello US, with users spread out globally.</span></span> <span data-ttu-id="9e16b-190">No ExpressRoute o VPN existe entre hello centro de datos de Azure y la red corporativa de Hola.</span><span class="sxs-lookup"><span data-stu-id="9e16b-190">No ExpressRoute or VPN exists between hello Azure datacenter and hello corporate network.</span></span>

<span data-ttu-id="9e16b-191">**Recomendación:** patrón de seguimiento 1, explicado en la sección anterior de Hola.</span><span class="sxs-lookup"><span data-stu-id="9e16b-191">**Recommendation:** Follow pattern 1, explained in hello previous section.</span></span> 

<span data-ttu-id="9e16b-192">Una vez más, patrón común de hello toooptimize salto es 3, donde colocar conector Hola cerca de la aplicación hello.</span><span class="sxs-lookup"><span data-stu-id="9e16b-192">Again, hello common pattern is toooptimize hop 3, where you place hello connector near hello app.</span></span> <span data-ttu-id="9e16b-193">Salto 3 no es normalmente caro, si es todo dentro Hola misma región.</span><span class="sxs-lookup"><span data-stu-id="9e16b-193">Hop 3 is not typically expensive, if it is all within hello same region.</span></span> <span data-ttu-id="9e16b-194">Sin embargo, salto 1 puede resultar más costoso dependiendo de dónde esté el usuario hello, porque los usuarios a través de Hola a todos deben tener acceso a la instancia de Proxy de aplicación Hola Hola Estados Unidos.</span><span class="sxs-lookup"><span data-stu-id="9e16b-194">However, hop 1 can be more expensive depending on where hello user is, because users across hello world must access hello Application Proxy instance in hello US.</span></span> <span data-ttu-id="9e16b-195">Merece la pena mencionar que cualquier solución de proxy tendrá similares características con respecto a los usuarios que se reparten por todo el mundo.</span><span class="sxs-lookup"><span data-stu-id="9e16b-195">It's worth noting that any proxy solution has similar characteristics regarding users being spread out globally.</span></span>

![Diagrama que muestra que los usuarios están repartidos global, pero app, conector y proxy de Hola Hola EE. UU.](./media/application-proxy-network-topologies/application-proxy-pattern2.png)

### <a name="use-case-3"></a><span data-ttu-id="9e16b-197">Caso de uso 3</span><span class="sxs-lookup"><span data-stu-id="9e16b-197">Use case 3</span></span>

<span data-ttu-id="9e16b-198">**Escenario:** aplicación hello está en la red de una organización en hello nos.</span><span class="sxs-lookup"><span data-stu-id="9e16b-198">**Scenario:** hello app is in an organization's network in hello US.</span></span> <span data-ttu-id="9e16b-199">ExpressRoute con emparejamiento público existe entre la red corporativa hello y Azure.</span><span class="sxs-lookup"><span data-stu-id="9e16b-199">ExpressRoute with public peering exists between Azure and hello corporate network.</span></span>

<span data-ttu-id="9e16b-200">**Recomendación:** seguir los patrones de 1 y 2, que se explica en la sección anterior de Hola.</span><span class="sxs-lookup"><span data-stu-id="9e16b-200">**Recommendation:** Follow patterns 1 and 2, explained in hello previous section.</span></span>

<span data-ttu-id="9e16b-201">En primer lugar, coloque el conector de hello lo más cerca posible toohello aplicación.</span><span class="sxs-lookup"><span data-stu-id="9e16b-201">First, place hello connector as close as possible toohello app.</span></span> <span data-ttu-id="9e16b-202">A continuación, sistema de hello usa automáticamente ExpressRoute de salto 2.</span><span class="sxs-lookup"><span data-stu-id="9e16b-202">Then, hello system automatically uses ExpressRoute for hop 2.</span></span> 

<span data-ttu-id="9e16b-203">Si el vínculo de ExpressRoute de hello usa emparejamiento público, el tráfico de hello entre el proxy de Hola y el conector de hello fluye a través de ese vínculo.</span><span class="sxs-lookup"><span data-stu-id="9e16b-203">If hello ExpressRoute link is using public peering, hello traffic between hello proxy and hello connector flows over that link.</span></span> <span data-ttu-id="9e16b-204">El salto 2 tiene la latencia optimizada.</span><span class="sxs-lookup"><span data-stu-id="9e16b-204">Hop 2 has optimized latency.</span></span>

![Diagrama que muestra ExpressRoute entre el conector y proxy de Hola](./media/application-proxy-network-topologies/application-proxy-pattern3.png)

### <a name="use-case-4"></a><span data-ttu-id="9e16b-206">Caso de uso 4</span><span class="sxs-lookup"><span data-stu-id="9e16b-206">Use case 4</span></span>

<span data-ttu-id="9e16b-207">**Escenario:** aplicación hello está en la red de una organización en hello nos.</span><span class="sxs-lookup"><span data-stu-id="9e16b-207">**Scenario:** hello app is in an organization's network in hello US.</span></span> <span data-ttu-id="9e16b-208">ExpressRoute con intercambio de tráfico privado existe entre la red corporativa hello y Azure.</span><span class="sxs-lookup"><span data-stu-id="9e16b-208">ExpressRoute with private peering exists between Azure and hello corporate network.</span></span>

<span data-ttu-id="9e16b-209">**Recomendación:** seguimiento patrón 3, explicado en la sección anterior de Hola.</span><span class="sxs-lookup"><span data-stu-id="9e16b-209">**Recommendation:** Follow pattern 3, explained in hello previous section.</span></span>

<span data-ttu-id="9e16b-210">Coloque el conector de hello en hello centro de datos de Azure que está conectado toohello la red corporativa a través de ExpressRoute de emparejamiento privado.</span><span class="sxs-lookup"><span data-stu-id="9e16b-210">Place hello connector in hello Azure datacenter that is connected toohello corporate network through ExpressRoute private peering.</span></span> 

<span data-ttu-id="9e16b-211">Conector de Hello puede colocarse en hello centro de datos de Azure.</span><span class="sxs-lookup"><span data-stu-id="9e16b-211">hello connector can be placed in hello Azure datacenter.</span></span> <span data-ttu-id="9e16b-212">Puesto que el conector de hello todavía tiene una aplicación de línea de visión toohello y datacenter de Hola a través de la red privada de hello, salto 3 sigue estando optimizado.</span><span class="sxs-lookup"><span data-stu-id="9e16b-212">Since hello connector still has a line of sight toohello application and hello datacenter through hello private network, hop 3 remains optimized.</span></span> <span data-ttu-id="9e16b-213">Además, el salto 2 se optimiza aún más.</span><span class="sxs-lookup"><span data-stu-id="9e16b-213">In addition, hop 2 is optimized further.</span></span>

![Diagrama que muestra el conector de hello en un centro de datos de Azure y ExpressRoute entre la aplicación y el conector de Hola](./media/application-proxy-network-topologies/application-proxy-pattern4.png)

### <a name="use-case-5"></a><span data-ttu-id="9e16b-215">Caso de uso 5</span><span class="sxs-lookup"><span data-stu-id="9e16b-215">Use case 5</span></span>

<span data-ttu-id="9e16b-216">**Escenario:** aplicación hello está en la red de una organización en hello Europa, con la instancia de Proxy de aplicación Hola y la mayoría de los usuarios en hello nos.</span><span class="sxs-lookup"><span data-stu-id="9e16b-216">**Scenario:** hello app is in an organization's network in hello EU, with hello Application Proxy instance and most users in hello US.</span></span>

<span data-ttu-id="9e16b-217">**Recomendación:** conector de hello lugar cerca de la aplicación hello.</span><span class="sxs-lookup"><span data-stu-id="9e16b-217">**Recommendation:** Place hello connector near hello app.</span></span> <span data-ttu-id="9e16b-218">Como los usuarios de Estados Unidos tienen acceso a una instancia de Proxy de aplicación que se produce a toobe Hola misma región, salto 1 no es demasiado caro.</span><span class="sxs-lookup"><span data-stu-id="9e16b-218">Because US users are accessing an Application Proxy instance that happens toobe in hello same region, hop 1 is not too expensive.</span></span> <span data-ttu-id="9e16b-219">El salto 3 se optimiza.</span><span class="sxs-lookup"><span data-stu-id="9e16b-219">Hop 3 is optimized.</span></span> <span data-ttu-id="9e16b-220">Considere el uso de ExpressRoute toooptimize salto 2.</span><span class="sxs-lookup"><span data-stu-id="9e16b-220">Consider using ExpressRoute toooptimize hop 2.</span></span> 

![Diagrama que muestra los usuarios y el proxy en hello Estados Unidos, con el conector de Hola y aplicación Hola Europa](./media/application-proxy-network-topologies/application-proxy-pattern5b.png)

<span data-ttu-id="9e16b-222">También puede considerar la utilización de alguna otra variante en esta situación.</span><span class="sxs-lookup"><span data-stu-id="9e16b-222">You can also consider using one other variant in this situation.</span></span> <span data-ttu-id="9e16b-223">Si hay mayoría de los usuarios en la organización de Hola Hola nos, lo más probable es que la red extiende toohello nosotros también.</span><span class="sxs-lookup"><span data-stu-id="9e16b-223">If most users in hello organization are in hello US, then chances are that your network extends toohello US as well.</span></span> <span data-ttu-id="9e16b-224">Colocar el conector de Hola Hola EE. UU. y utilizar la aplicación de toohello de línea de red corporativa interna de hello dedicado en hello Europa.</span><span class="sxs-lookup"><span data-stu-id="9e16b-224">Place hello connector in hello US, and use hello dedicated internal corporate network line toohello application in hello EU.</span></span> <span data-ttu-id="9e16b-225">De esta forma se optimizan los saltos 2 y 3.</span><span class="sxs-lookup"><span data-stu-id="9e16b-225">This way hops 2 and 3 are optimized.</span></span>

![Diagrama que muestra los usuarios, el proxy y el conector en hello Estados Unidos, aplicación Hola Europa](./media/application-proxy-network-topologies/application-proxy-pattern5c.png)

## <a name="next-steps"></a><span data-ttu-id="9e16b-227">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="9e16b-227">Next steps</span></span>

- [<span data-ttu-id="9e16b-228">Habilitación del proxy de la aplicación</span><span class="sxs-lookup"><span data-stu-id="9e16b-228">Enable Application Proxy</span></span>](active-directory-application-proxy-enable.md)
- [<span data-ttu-id="9e16b-229">Habilitar el inicio de sesión único</span><span class="sxs-lookup"><span data-stu-id="9e16b-229">Enable single-sign on</span></span>](active-directory-application-proxy-sso-using-kcd.md)
- [<span data-ttu-id="9e16b-230">Habilitar el acceso condicional</span><span class="sxs-lookup"><span data-stu-id="9e16b-230">Enable conditional access</span></span>](active-directory-application-proxy-conditional-access.md)
- [<span data-ttu-id="9e16b-231">Solucionar los problemas que tiene con el Proxy de aplicación</span><span class="sxs-lookup"><span data-stu-id="9e16b-231">Troubleshoot issues you're having with Application Proxy</span></span>](active-directory-application-proxy-troubleshoot.md)
