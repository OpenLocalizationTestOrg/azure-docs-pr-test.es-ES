---
title: aaaService Bus con .NET y AMQP 1.0 | Documentos de Microsoft
description: Uso de Azure Service Bus desde .NET con AMQP
services: service-bus-messaging
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 332bcb13-e287-4715-99ee-3d7d97396487
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 04/19/2017
ms.author: sethm
ms.openlocfilehash: d8b40f92ba29058951556fa3db1adcf9383ee69f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="using-service-bus-from-net-with-amqp-10"></a><span data-ttu-id="c485b-103">Uso de Service Bus desde .NET con AMQP 1.0</span><span class="sxs-lookup"><span data-stu-id="c485b-103">Using Service Bus from .NET with AMQP 1.0</span></span>

## <a name="downloading-hello-service-bus-sdk"></a><span data-ttu-id="c485b-104">Descargar Hola SDK del Bus de servicio</span><span class="sxs-lookup"><span data-stu-id="c485b-104">Downloading hello Service Bus SDK</span></span>

<span data-ttu-id="c485b-105">Compatibilidad con AMQP 1.0 está disponible en hello versión 2.1 o posterior del SDK de Bus de servicio.</span><span class="sxs-lookup"><span data-stu-id="c485b-105">AMQP 1.0 support is available in hello Service Bus SDK version 2.1 or later.</span></span> <span data-ttu-id="c485b-106">Puede asegurarse de que tiene versión más reciente de hello mediante la descarga de bits de Bus de servicio de Hola de [NuGet][NuGet].</span><span class="sxs-lookup"><span data-stu-id="c485b-106">You can ensure you have hello latest version by downloading hello Service Bus bits from [NuGet][NuGet].</span></span>

## <a name="configuring-net-applications-toouse-amqp-10"></a><span data-ttu-id="c485b-107">Configurar aplicaciones de .NET toouse AMQP 1.0</span><span class="sxs-lookup"><span data-stu-id="c485b-107">Configuring .NET applications toouse AMQP 1.0</span></span>

<span data-ttu-id="c485b-108">De forma predeterminada, biblioteca de cliente de .NET de Bus de servicio de Hola se comunica con hello servicio de Bus de servicio mediante un protocolo dedicado basado en SOAP.</span><span class="sxs-lookup"><span data-stu-id="c485b-108">By default, hello Service Bus .NET client library communicates with hello Service Bus service using a dedicated SOAP-based protocol.</span></span> <span data-ttu-id="c485b-109">toouse AMQP 1.0 en lugar de protocolo predeterminado de hello requiere una configuración explícita en la cadena de conexión de Bus de servicio de hello, como se describe en la sección siguiente Hola.</span><span class="sxs-lookup"><span data-stu-id="c485b-109">toouse AMQP 1.0 instead of hello default protocol requires explicit configuration on hello Service Bus connection string, as described in hello next section.</span></span> <span data-ttu-id="c485b-110">Aparte de este cambio, el código de la aplicación permanece invariable al utilizar AMQP 1.0.</span><span class="sxs-lookup"><span data-stu-id="c485b-110">Other than this change, application code remains unchanged when using AMQP 1.0.</span></span>

<span data-ttu-id="c485b-111">En la versión actual de hello, hay algunas características de la API que no son compatibles cuando se usa AMQP.</span><span class="sxs-lookup"><span data-stu-id="c485b-111">In hello current release, there are a few API features that are not supported when using AMQP.</span></span> <span data-ttu-id="c485b-112">Estas características no compatibles se enumeran más adelante en la sección de hello [no admite características, restricciones y diferencias de comportamiento](#unsupported-features-restrictions-and-behavioral-differences).</span><span class="sxs-lookup"><span data-stu-id="c485b-112">These unsupported features are listed later in hello section [Unsupported features, restrictions, and behavioral differences](#unsupported-features-restrictions-and-behavioral-differences).</span></span> <span data-ttu-id="c485b-113">Algunos de los ajustes de configuración avanzada de hello también tienen un significado diferente al usar AMQP.</span><span class="sxs-lookup"><span data-stu-id="c485b-113">Some of hello advanced configuration settings also have a different meaning when using AMQP.</span></span>

### <a name="configuration-using-appconfig"></a><span data-ttu-id="c485b-114">Configuración mediante App.config</span><span class="sxs-lookup"><span data-stu-id="c485b-114">Configuration using App.config</span></span>

<span data-ttu-id="c485b-115">Es recomendable para los valores de toostore del archivo de configuración de aplicaciones toouse Hola App.config.</span><span class="sxs-lookup"><span data-stu-id="c485b-115">It is good practice for applications toouse hello App.config configuration file toostore settings.</span></span> <span data-ttu-id="c485b-116">Para las aplicaciones de Bus de servicio, puede usar la cadena de conexión de Bus de servicio de App.config toostore Hola.</span><span class="sxs-lookup"><span data-stu-id="c485b-116">For Service Bus applications, you can use App.config toostore hello Service Bus connection string.</span></span> <span data-ttu-id="c485b-117">A continuación se muestra un archivo App.config de ejemplo:</span><span class="sxs-lookup"><span data-stu-id="c485b-117">An example App.config file is as follows:</span></span>

```xml
<?xml version="1.0" encoding="utf-8" ?>
<configuration>
    <appSettings>
        <add key="Microsoft.ServiceBus.ConnectionString"
             value="Endpoint=sb://[namespace].servicebus.windows.net/;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=[SAS key];TransportType=Amqp" />
    </appSettings>
</configuration>
```

<span data-ttu-id="c485b-118">Hola valo hello `Microsoft.ServiceBus.ConnectionString` configuración es la cadena de conexión de Bus de servicio de Hola que es usado tooconfigure Hola conexión tooService Bus.</span><span class="sxs-lookup"><span data-stu-id="c485b-118">hello value of hello `Microsoft.ServiceBus.ConnectionString` setting is hello Service Bus connection string that is used tooconfigure hello connection tooService Bus.</span></span> <span data-ttu-id="c485b-119">formato de Hello es el siguiente:</span><span class="sxs-lookup"><span data-stu-id="c485b-119">hello format is as follows:</span></span>

`Endpoint=sb://[namespace].servicebus.windows.net/;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=[SAS key];TransportType=Amqp`

<span data-ttu-id="c485b-120">Donde `[namespace]` y `SharedAccessKey` se obtienen de hello [portal de Azure] [ Azure portal] cuando se crea un espacio de nombres de Bus de servicio.</span><span class="sxs-lookup"><span data-stu-id="c485b-120">Where `[namespace]` and `SharedAccessKey` are obtained from hello [Azure portal][Azure portal] when you create a Service Bus namespace.</span></span> <span data-ttu-id="c485b-121">Para obtener más información, consulte [crear un espacio de nombres de Bus de servicio mediante el portal de Azure de hello][Create a Service Bus namespace using hello Azure portal].</span><span class="sxs-lookup"><span data-stu-id="c485b-121">For more information, see [Create a Service Bus namespace using hello Azure portal][Create a Service Bus namespace using hello Azure portal].</span></span>

<span data-ttu-id="c485b-122">Al usar AMQP, anexe la cadena de conexión de hello con `;TransportType=Amqp`.</span><span class="sxs-lookup"><span data-stu-id="c485b-122">When using AMQP, append hello connection string with `;TransportType=Amqp`.</span></span> <span data-ttu-id="c485b-123">Esta notación indica toomake de biblioteca de cliente de hello su tooService conexión Bus mediante AMQP 1.0.</span><span class="sxs-lookup"><span data-stu-id="c485b-123">This notation instructs hello client library toomake its connection tooService Bus using AMQP 1.0.</span></span>

## <a name="message-serialization"></a><span data-ttu-id="c485b-124">Serialización de mensajes</span><span class="sxs-lookup"><span data-stu-id="c485b-124">Message serialization</span></span>

<span data-ttu-id="c485b-125">Cuando se usa el protocolo predeterminado de hello, comportamiento de serialización predeterminado de Hola de biblioteca de cliente de .NET de hello es hello de toouse [DataContractSerializer] [ DataContractSerializer] escriba tooserialize una [BrokeredMessage ] [ BrokeredMessage] instancia para el transporte entre la biblioteca de cliente de Hola y Hola servicio service Bus.</span><span class="sxs-lookup"><span data-stu-id="c485b-125">When using hello default protocol, hello default serialization behavior of hello .NET client library is toouse hello [DataContractSerializer][DataContractSerializer] type tooserialize a [BrokeredMessage][BrokeredMessage] instance for transport between hello client library and hello Service Bus service.</span></span> <span data-ttu-id="c485b-126">Al utilizar el modo de transporte AMQP de hello, biblioteca de cliente de hello usa el sistema de tipos AMQP de hello para la serialización de hello [mensaje negociado] [ BrokeredMessage] en un mensaje AMQP.</span><span class="sxs-lookup"><span data-stu-id="c485b-126">When using hello AMQP transport mode, hello client library uses hello AMQP type system for serialization of hello [brokered message][BrokeredMessage] into an AMQP message.</span></span> <span data-ttu-id="c485b-127">Esta serialización permite toobe de mensaje de Hola reciba e interprete por una aplicación receptora que potencialmente se ejecuta en una plataforma diferente, por ejemplo, una aplicación de Java que use Hola API de JMS tooaccess Bus de servicio.</span><span class="sxs-lookup"><span data-stu-id="c485b-127">This serialization enables hello message toobe received and interpreted by a receiving application that is potentially running on a different platform, for example, a Java application that uses hello JMS API tooaccess Service Bus.</span></span>

<span data-ttu-id="c485b-128">Al construir un [BrokeredMessage] [ BrokeredMessage] instancia, puede proporcionar un objeto .NET como un tooserve de constructor de parámetro toohello como cuerpo del mensaje Hola de mensaje de bienvenida.</span><span class="sxs-lookup"><span data-stu-id="c485b-128">When you construct a [BrokeredMessage][BrokeredMessage] instance, you can provide a .NET object as a parameter toohello constructor tooserve as hello body of hello message.</span></span> <span data-ttu-id="c485b-129">Para los objetos que pueden ser tipos primitivos tooAMQP asignada, cuerpo de Hola se serializa en tipos de datos AMQP.</span><span class="sxs-lookup"><span data-stu-id="c485b-129">For objects that can be mapped tooAMQP primitive types, hello body is serialized into AMQP data types.</span></span> <span data-ttu-id="c485b-130">Si el objeto de hello no se puede asignar directamente a un tipo primitivo de AMQP; es decir, se serializa un tipo personalizado definido por la aplicación hello y, a continuación, el objeto de hello mediante hello [DataContractSerializer][DataContractSerializer], y se envían los bytes de hello serializado en un mensaje de datos AMQP.</span><span class="sxs-lookup"><span data-stu-id="c485b-130">If hello object cannot be directly mapped into an AMQP primitive type; that is, a custom type defined by hello application, then hello object is serialized using hello [DataContractSerializer][DataContractSerializer], and hello serialized bytes are sent in an AMQP data message.</span></span>

<span data-ttu-id="c485b-131">toofacilitate interoperabilidad con clientes que no sean. NET, use solo los tipos de .NET que se pueden serializar directamente en tipos AMQP para el cuerpo de Hola de mensaje de bienvenida.</span><span class="sxs-lookup"><span data-stu-id="c485b-131">toofacilitate interoperability with non-.NET clients, use only .NET types that can be serialized directly into AMQP types for hello body of hello message.</span></span> <span data-ttu-id="c485b-132">Hello en la tabla siguiente detalla esos tipos y el sistema de hello correspondiente asignación toohello AMQP tipo.</span><span class="sxs-lookup"><span data-stu-id="c485b-132">hello following table details those types and hello corresponding mapping toohello AMQP type system.</span></span>

| <span data-ttu-id="c485b-133">Tipo de objeto de cuerpo de .NET</span><span class="sxs-lookup"><span data-stu-id="c485b-133">.NET Body Object Type</span></span> | <span data-ttu-id="c485b-134">Tipo de AMQP asignado</span><span class="sxs-lookup"><span data-stu-id="c485b-134">Mapped AMQP Type</span></span> | <span data-ttu-id="c485b-135">Tipo de sección de cuerpo de AMQP</span><span class="sxs-lookup"><span data-stu-id="c485b-135">AMQP Body Section Type</span></span> |
| --- | --- | --- |
| <span data-ttu-id="c485b-136">booleano</span><span class="sxs-lookup"><span data-stu-id="c485b-136">bool</span></span> |<span data-ttu-id="c485b-137">boolean</span><span class="sxs-lookup"><span data-stu-id="c485b-137">boolean</span></span> |<span data-ttu-id="c485b-138">Valor de AMQP</span><span class="sxs-lookup"><span data-stu-id="c485b-138">AMQP Value</span></span> |
| <span data-ttu-id="c485b-139">byte</span><span class="sxs-lookup"><span data-stu-id="c485b-139">byte</span></span> |<span data-ttu-id="c485b-140">ubyte</span><span class="sxs-lookup"><span data-stu-id="c485b-140">ubyte</span></span> |<span data-ttu-id="c485b-141">Valor de AMQP</span><span class="sxs-lookup"><span data-stu-id="c485b-141">AMQP Value</span></span> |
| <span data-ttu-id="c485b-142">ushort</span><span class="sxs-lookup"><span data-stu-id="c485b-142">ushort</span></span> |<span data-ttu-id="c485b-143">ushort</span><span class="sxs-lookup"><span data-stu-id="c485b-143">ushort</span></span> |<span data-ttu-id="c485b-144">Valor de AMQP</span><span class="sxs-lookup"><span data-stu-id="c485b-144">AMQP Value</span></span> |
| <span data-ttu-id="c485b-145">uint</span><span class="sxs-lookup"><span data-stu-id="c485b-145">uint</span></span> |<span data-ttu-id="c485b-146">uint</span><span class="sxs-lookup"><span data-stu-id="c485b-146">uint</span></span> |<span data-ttu-id="c485b-147">Valor de AMQP</span><span class="sxs-lookup"><span data-stu-id="c485b-147">AMQP Value</span></span> |
| <span data-ttu-id="c485b-148">ulong</span><span class="sxs-lookup"><span data-stu-id="c485b-148">ulong</span></span> |<span data-ttu-id="c485b-149">ulong</span><span class="sxs-lookup"><span data-stu-id="c485b-149">ulong</span></span> |<span data-ttu-id="c485b-150">Valor de AMQP</span><span class="sxs-lookup"><span data-stu-id="c485b-150">AMQP Value</span></span> |
| <span data-ttu-id="c485b-151">sbyte</span><span class="sxs-lookup"><span data-stu-id="c485b-151">sbyte</span></span> |<span data-ttu-id="c485b-152">byte</span><span class="sxs-lookup"><span data-stu-id="c485b-152">byte</span></span> |<span data-ttu-id="c485b-153">Valor de AMQP</span><span class="sxs-lookup"><span data-stu-id="c485b-153">AMQP Value</span></span> |
| <span data-ttu-id="c485b-154">short</span><span class="sxs-lookup"><span data-stu-id="c485b-154">short</span></span> |<span data-ttu-id="c485b-155">short</span><span class="sxs-lookup"><span data-stu-id="c485b-155">short</span></span> |<span data-ttu-id="c485b-156">Valor de AMQP</span><span class="sxs-lookup"><span data-stu-id="c485b-156">AMQP Value</span></span> |
| <span data-ttu-id="c485b-157">int</span><span class="sxs-lookup"><span data-stu-id="c485b-157">int</span></span> |<span data-ttu-id="c485b-158">int</span><span class="sxs-lookup"><span data-stu-id="c485b-158">int</span></span> |<span data-ttu-id="c485b-159">Valor de AMQP</span><span class="sxs-lookup"><span data-stu-id="c485b-159">AMQP Value</span></span> |
| <span data-ttu-id="c485b-160">long</span><span class="sxs-lookup"><span data-stu-id="c485b-160">long</span></span> |<span data-ttu-id="c485b-161">long</span><span class="sxs-lookup"><span data-stu-id="c485b-161">long</span></span> |<span data-ttu-id="c485b-162">Valor de AMQP</span><span class="sxs-lookup"><span data-stu-id="c485b-162">AMQP Value</span></span> |
| <span data-ttu-id="c485b-163">float</span><span class="sxs-lookup"><span data-stu-id="c485b-163">float</span></span> |<span data-ttu-id="c485b-164">float</span><span class="sxs-lookup"><span data-stu-id="c485b-164">float</span></span> |<span data-ttu-id="c485b-165">Valor de AMQP</span><span class="sxs-lookup"><span data-stu-id="c485b-165">AMQP Value</span></span> |
| <span data-ttu-id="c485b-166">double</span><span class="sxs-lookup"><span data-stu-id="c485b-166">double</span></span> |<span data-ttu-id="c485b-167">double</span><span class="sxs-lookup"><span data-stu-id="c485b-167">double</span></span> |<span data-ttu-id="c485b-168">Valor de AMQP</span><span class="sxs-lookup"><span data-stu-id="c485b-168">AMQP Value</span></span> |
| <span data-ttu-id="c485b-169">decimal</span><span class="sxs-lookup"><span data-stu-id="c485b-169">decimal</span></span> |<span data-ttu-id="c485b-170">decimal128</span><span class="sxs-lookup"><span data-stu-id="c485b-170">decimal128</span></span> |<span data-ttu-id="c485b-171">Valor de AMQP</span><span class="sxs-lookup"><span data-stu-id="c485b-171">AMQP Value</span></span> |
| <span data-ttu-id="c485b-172">char</span><span class="sxs-lookup"><span data-stu-id="c485b-172">char</span></span> |<span data-ttu-id="c485b-173">char</span><span class="sxs-lookup"><span data-stu-id="c485b-173">char</span></span> |<span data-ttu-id="c485b-174">Valor de AMQP</span><span class="sxs-lookup"><span data-stu-id="c485b-174">AMQP Value</span></span> |
| <span data-ttu-id="c485b-175">DateTime</span><span class="sxs-lookup"><span data-stu-id="c485b-175">DateTime</span></span> |<span data-ttu-id="c485b-176">timestamp</span><span class="sxs-lookup"><span data-stu-id="c485b-176">timestamp</span></span> |<span data-ttu-id="c485b-177">Valor de AMQP</span><span class="sxs-lookup"><span data-stu-id="c485b-177">AMQP Value</span></span> |
| <span data-ttu-id="c485b-178">Guid</span><span class="sxs-lookup"><span data-stu-id="c485b-178">Guid</span></span> |<span data-ttu-id="c485b-179">uuid</span><span class="sxs-lookup"><span data-stu-id="c485b-179">uuid</span></span> |<span data-ttu-id="c485b-180">Valor de AMQP</span><span class="sxs-lookup"><span data-stu-id="c485b-180">AMQP Value</span></span> |
| <span data-ttu-id="c485b-181">byte[]</span><span class="sxs-lookup"><span data-stu-id="c485b-181">byte[]</span></span> |<span data-ttu-id="c485b-182">binary</span><span class="sxs-lookup"><span data-stu-id="c485b-182">binary</span></span> |<span data-ttu-id="c485b-183">Valor de AMQP</span><span class="sxs-lookup"><span data-stu-id="c485b-183">AMQP Value</span></span> |
| <span data-ttu-id="c485b-184">string</span><span class="sxs-lookup"><span data-stu-id="c485b-184">string</span></span> |<span data-ttu-id="c485b-185">string</span><span class="sxs-lookup"><span data-stu-id="c485b-185">string</span></span> |<span data-ttu-id="c485b-186">Valor de AMQP</span><span class="sxs-lookup"><span data-stu-id="c485b-186">AMQP Value</span></span> |
| <span data-ttu-id="c485b-187">System.Collections.IList</span><span class="sxs-lookup"><span data-stu-id="c485b-187">System.Collections.IList</span></span> |<span data-ttu-id="c485b-188">list</span><span class="sxs-lookup"><span data-stu-id="c485b-188">list</span></span> |<span data-ttu-id="c485b-189">Valor AMQP: elementos contenidos en la colección de hello solo pueden ser los que se definen en esta tabla.</span><span class="sxs-lookup"><span data-stu-id="c485b-189">AMQP Value: items contained in hello collection can only be those that are defined in this table.</span></span> |
| <span data-ttu-id="c485b-190">System.Array</span><span class="sxs-lookup"><span data-stu-id="c485b-190">System.Array</span></span> |<span data-ttu-id="c485b-191">array</span><span class="sxs-lookup"><span data-stu-id="c485b-191">array</span></span> |<span data-ttu-id="c485b-192">Valor AMQP: elementos contenidos en la colección de hello solo pueden ser los que se definen en esta tabla.</span><span class="sxs-lookup"><span data-stu-id="c485b-192">AMQP Value: items contained in hello collection can only be those that are defined in this table.</span></span> |
| <span data-ttu-id="c485b-193">System.Collections.IDictionary</span><span class="sxs-lookup"><span data-stu-id="c485b-193">System.Collections.IDictionary</span></span> |<span data-ttu-id="c485b-194">map</span><span class="sxs-lookup"><span data-stu-id="c485b-194">map</span></span> |<span data-ttu-id="c485b-195">Valor AMQP: elementos contenidos en la colección de hello solo pueden ser los que se definen en esta tabla. Nota: se admiten sólo las claves de cadena.</span><span class="sxs-lookup"><span data-stu-id="c485b-195">AMQP Value: items contained in hello collection can only be those that are defined in this table.Note: only String keys are supported.</span></span> |
| <span data-ttu-id="c485b-196">Identificador URI</span><span class="sxs-lookup"><span data-stu-id="c485b-196">Uri</span></span> |<span data-ttu-id="c485b-197">Se describe la cadena (vea hello en la tabla siguiente)</span><span class="sxs-lookup"><span data-stu-id="c485b-197">Described string(see hello following table)</span></span> |<span data-ttu-id="c485b-198">Valor de AMQP</span><span class="sxs-lookup"><span data-stu-id="c485b-198">AMQP Value</span></span> |
| <span data-ttu-id="c485b-199">Datetimeoffset</span><span class="sxs-lookup"><span data-stu-id="c485b-199">DateTimeOffset</span></span> |<span data-ttu-id="c485b-200">Longitud descrita (vea hello en la tabla siguiente)</span><span class="sxs-lookup"><span data-stu-id="c485b-200">Described long(see hello following table)</span></span> |<span data-ttu-id="c485b-201">Valor de AMQP</span><span class="sxs-lookup"><span data-stu-id="c485b-201">AMQP Value</span></span> |
| <span data-ttu-id="c485b-202">TimeSpan</span><span class="sxs-lookup"><span data-stu-id="c485b-202">TimeSpan</span></span> |<span data-ttu-id="c485b-203">Longitud descrita (vea la siguiente hello)</span><span class="sxs-lookup"><span data-stu-id="c485b-203">Described long(see hello following)</span></span> |<span data-ttu-id="c485b-204">Valor de AMQP</span><span class="sxs-lookup"><span data-stu-id="c485b-204">AMQP Value</span></span> |
| <span data-ttu-id="c485b-205">Stream</span><span class="sxs-lookup"><span data-stu-id="c485b-205">Stream</span></span> |<span data-ttu-id="c485b-206">binary</span><span class="sxs-lookup"><span data-stu-id="c485b-206">binary</span></span> |<span data-ttu-id="c485b-207">Datos de AMQP (pueden ser varios)</span><span class="sxs-lookup"><span data-stu-id="c485b-207">AMQP Data (may be multiple).</span></span> <span data-ttu-id="c485b-208">secciones de datos de Hello contienen bytes sin formato Hola leídos del objeto de secuencia de Hola.</span><span class="sxs-lookup"><span data-stu-id="c485b-208">hello Data sections contain hello raw bytes read from hello Stream object.</span></span> |
| <span data-ttu-id="c485b-209">Otro objeto</span><span class="sxs-lookup"><span data-stu-id="c485b-209">Other Object</span></span> |<span data-ttu-id="c485b-210">binary</span><span class="sxs-lookup"><span data-stu-id="c485b-210">binary</span></span> |<span data-ttu-id="c485b-211">Datos de AMQP (pueden ser varios)</span><span class="sxs-lookup"><span data-stu-id="c485b-211">AMQP Data (may be multiple).</span></span> <span data-ttu-id="c485b-212">Contiene binarios Hola serializado del objeto de Hola que usa Hola DataContractSerializer o un serializador suministrado por la aplicación hello.</span><span class="sxs-lookup"><span data-stu-id="c485b-212">Contains hello serialized binary of hello object that uses hello DataContractSerializer or a serializer supplied by hello application.</span></span> |

| <span data-ttu-id="c485b-213">Tipo .NET</span><span class="sxs-lookup"><span data-stu-id="c485b-213">.NET Type</span></span> | <span data-ttu-id="c485b-214">Mapped AMQP Described Type</span><span class="sxs-lookup"><span data-stu-id="c485b-214">Mapped AMQP Described Type</span></span> | <span data-ttu-id="c485b-215">Notas</span><span class="sxs-lookup"><span data-stu-id="c485b-215">Notes</span></span> |
| --- | --- | --- |
| <span data-ttu-id="c485b-216">Identificador URI</span><span class="sxs-lookup"><span data-stu-id="c485b-216">Uri</span></span> |`<type name=”uri” class=restricted source=”string”> <descriptor name=”com.microsoft:uri” /></type>` |<span data-ttu-id="c485b-217">Uri.AbsoluteUri</span><span class="sxs-lookup"><span data-stu-id="c485b-217">Uri.AbsoluteUri</span></span> |
| <span data-ttu-id="c485b-218">Datetimeoffset</span><span class="sxs-lookup"><span data-stu-id="c485b-218">DateTimeOffset</span></span> |`<type name=”datetime-offset” class=restricted source=”long”> <descriptor name=”com.microsoft:datetime-offset” /></type>` |<span data-ttu-id="c485b-219">DateTimeOffset.UtcTicks</span><span class="sxs-lookup"><span data-stu-id="c485b-219">DateTimeOffset.UtcTicks</span></span> |
| <span data-ttu-id="c485b-220">TimeSpan</span><span class="sxs-lookup"><span data-stu-id="c485b-220">TimeSpan</span></span> |`<type name=”timespan” class=restricted source=”long”> <descriptor name=”com.microsoft:timespan” /></type> ` |<span data-ttu-id="c485b-221">TimeSpan.Ticks</span><span class="sxs-lookup"><span data-stu-id="c485b-221">TimeSpan.Ticks</span></span> |

## <a name="unsupported-features-restrictions-and-behavioral-differences"></a><span data-ttu-id="c485b-222">Características no admitidas, restricciones y diferencias de comportamiento</span><span class="sxs-lookup"><span data-stu-id="c485b-222">Unsupported features, restrictions, and behavioral differences</span></span>

<span data-ttu-id="c485b-223">Hola siguientes características del programa Hola a API de .NET de Bus de servicio no se admite actualmente al usar AMQP:</span><span class="sxs-lookup"><span data-stu-id="c485b-223">hello following features of hello Service Bus .NET API are not currently supported when using AMQP:</span></span>

* <span data-ttu-id="c485b-224">Transacciones</span><span class="sxs-lookup"><span data-stu-id="c485b-224">Transactions</span></span>
* <span data-ttu-id="c485b-225">Envío a través de un destino de transferencia</span><span class="sxs-lookup"><span data-stu-id="c485b-225">Send via transfer destination</span></span>

<span data-ttu-id="c485b-226">También hay algunas pequeñas diferencias en el comportamiento de Hola de hello API de .NET de Bus de servicio al usar AMQP, protocolo de toohello comparados predeterminado:</span><span class="sxs-lookup"><span data-stu-id="c485b-226">There are also some small differences in hello behavior of hello Service Bus .NET API when using AMQP, compared toohello default protocol:</span></span>

* <span data-ttu-id="c485b-227">Hola [OperationTimeout] [ OperationTimeout] propiedad se omite.</span><span class="sxs-lookup"><span data-stu-id="c485b-227">hello [OperationTimeout][OperationTimeout] property is ignored.</span></span>
* <span data-ttu-id="c485b-228">`MessageReceiver.Receive(TimeSpan.Zero)` se implementa como `MessageReceiver.Receive(TimeSpan.FromSeconds(10))`.</span><span class="sxs-lookup"><span data-stu-id="c485b-228">`MessageReceiver.Receive(TimeSpan.Zero)` is implemented as `MessageReceiver.Receive(TimeSpan.FromSeconds(10))`.</span></span>
* <span data-ttu-id="c485b-229">Finalización de mensajes mediante tokens de bloqueo solo puede realizarse mediante los receptores de mensajes de Hola que inicialmente se reciben mensajes de saludo.</span><span class="sxs-lookup"><span data-stu-id="c485b-229">Completing messages by lock tokens can only be done by hello message receivers that initially received hello messages.</span></span>

## <a name="controlling-amqp-protocol-settings"></a><span data-ttu-id="c485b-230">Control de la configuración del protocolo AMQP</span><span class="sxs-lookup"><span data-stu-id="c485b-230">Controlling AMQP protocol settings</span></span>

<span data-ttu-id="c485b-231">Hola [API de .NET](/dotnet/api/) exponer varios valores toocontrol Hola comportamiento de hello protocolo AMQP:</span><span class="sxs-lookup"><span data-stu-id="c485b-231">hello [.NET APIs](/dotnet/api/) expose several settings toocontrol hello behavior of hello AMQP protocol:</span></span>

* <span data-ttu-id="c485b-232">**[MessageReceiver.PrefetchCount](/dotnet/api/microsoft.servicebus.messaging.messagereceiver.prefetchcount?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_MessageReceiver_PrefetchCount)**: controles Hola crédito inicial que se aplica tooa vínculo.</span><span class="sxs-lookup"><span data-stu-id="c485b-232">**[MessageReceiver.PrefetchCount](/dotnet/api/microsoft.servicebus.messaging.messagereceiver.prefetchcount?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_MessageReceiver_PrefetchCount)**: Controls hello initial credit applied tooa link.</span></span> <span data-ttu-id="c485b-233">Hola predeterminado es 0.</span><span class="sxs-lookup"><span data-stu-id="c485b-233">hello default is 0.</span></span>
* <span data-ttu-id="c485b-234">**[MessagingFactorySettings.AmqpTransportSettings.MaxFrameSize](/dotnet/api/microsoft.servicebus.messaging.amqp.amqptransportsettings.maxframesize?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_Amqp_AmqpTransportSettings_MaxFrameSize)**: tamaño del marco de controles Hola máximo AMQP ofrecido durante la negociación de hello en el momento de abrir la conexión.</span><span class="sxs-lookup"><span data-stu-id="c485b-234">**[MessagingFactorySettings.AmqpTransportSettings.MaxFrameSize](/dotnet/api/microsoft.servicebus.messaging.amqp.amqptransportsettings.maxframesize?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_Amqp_AmqpTransportSettings_MaxFrameSize)**: Controls hello maximum AMQP frame size offered during hello negotiation at connection open time.</span></span> <span data-ttu-id="c485b-235">valor predeterminado de Hello es 65.536 bytes.</span><span class="sxs-lookup"><span data-stu-id="c485b-235">hello default is 65,536 bytes.</span></span>
* <span data-ttu-id="c485b-236">**[MessagingFactorySettings.AmqpTransportSettings.BatchFlushInterval](/dotnet/api/microsoft.servicebus.messaging.amqp.amqptransportsettings.batchflushinterval?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_Amqp_AmqpTransportSettings_BatchFlushInterval)**: si las transferencias se pueden definir por lotes, este valor determina retraso máximo de hello las disposiciones de envío.</span><span class="sxs-lookup"><span data-stu-id="c485b-236">**[MessagingFactorySettings.AmqpTransportSettings.BatchFlushInterval](/dotnet/api/microsoft.servicebus.messaging.amqp.amqptransportsettings.batchflushinterval?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_Amqp_AmqpTransportSettings_BatchFlushInterval)**: If transfers are batchable, this value determines hello maximum delay for sending dispositions.</span></span> <span data-ttu-id="c485b-237">Heredado por remitentes/receptores de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="c485b-237">Inherited by senders/receivers by default.</span></span> <span data-ttu-id="c485b-238">Remitente/receptor individual puede invalidar el valor predeterminado de hello, que es de 20 milisegundos.</span><span class="sxs-lookup"><span data-stu-id="c485b-238">Individual sender/receiver can override hello default, which is 20 milliseconds.</span></span>
* <span data-ttu-id="c485b-239">**[MessagingFactorySettings.AmqpTransportSettings.UseSslStreamSecurity](/dotnet/api/microsoft.servicebus.messaging.amqp.amqptransportsettings.usesslstreamsecurity?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_Amqp_AmqpTransportSettings_UseSslStreamSecurity)**: controla si las conexiones de AMQP se establecen a través de una conexión SSL.</span><span class="sxs-lookup"><span data-stu-id="c485b-239">**[MessagingFactorySettings.AmqpTransportSettings.UseSslStreamSecurity](/dotnet/api/microsoft.servicebus.messaging.amqp.amqptransportsettings.usesslstreamsecurity?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_Amqp_AmqpTransportSettings_UseSslStreamSecurity)**: Controls whether AMQP connections are established over an SSL connection.</span></span> <span data-ttu-id="c485b-240">valor predeterminado de Hello es **true**.</span><span class="sxs-lookup"><span data-stu-id="c485b-240">hello default is **true**.</span></span>

## <a name="next-steps"></a><span data-ttu-id="c485b-241">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="c485b-241">Next steps</span></span>

<span data-ttu-id="c485b-242">¿Toolearn listo más?</span><span class="sxs-lookup"><span data-stu-id="c485b-242">Ready toolearn more?</span></span> <span data-ttu-id="c485b-243">Visite Hola siguientes vínculos:</span><span class="sxs-lookup"><span data-stu-id="c485b-243">Visit hello following links:</span></span>

* <span data-ttu-id="c485b-244">[Información general sobre AMQP para Service Bus]</span><span class="sxs-lookup"><span data-stu-id="c485b-244">[Service Bus AMQP overview]</span></span>
* <span data-ttu-id="c485b-245">[Compatibilidad de AMQP 1.0 con los temas y las colas con particiones de Service Bus]</span><span class="sxs-lookup"><span data-stu-id="c485b-245">[AMQP 1.0 support for Service Bus partitioned queues and topics]</span></span>
* <span data-ttu-id="c485b-246">[AMQP de Service Bus para Windows Server]</span><span class="sxs-lookup"><span data-stu-id="c485b-246">[AMQP in Service Bus for Windows Server]</span></span>

[Create a Service Bus namespace using hello Azure portal]: service-bus-create-namespace-portal.md
[DataContractSerializer]: https://msdn.microsoft.com/library/system.runtime.serialization.datacontractserializer.aspx
[BrokeredMessage]: /dotnet/api/microsoft.servicebus.messaging.brokeredmessage?view=azureservicebus-4.0.0
[Microsoft.ServiceBus.Messaging.MessagingFactory.AcceptMessageSession]: /dotnet/api/microsoft.servicebus.messaging.messagingfactory.acceptmessagesession?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_MessagingFactory_AcceptMessageSession
[OperationTimeout]: /dotnet/api/microsoft.servicebus.messaging.messagingfactorysettings.operationtimeout?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_MessagingFactorySettings_OperationTimeout
[NuGet]: http://nuget.org/packages/WindowsAzure.ServiceBus/
[Azure portal]: https://portal.azure.com
[Información general sobre AMQP para Service Bus]: service-bus-amqp-overview.md
[Compatibilidad de AMQP 1.0 con los temas y las colas con particiones de Service Bus]: service-bus-partitioned-queues-and-topics-amqp-overview.md
[AMQP de Service Bus para Windows Server]: https://msdn.microsoft.com/library/dn574799.aspx
