---
title: las colas de mensajes no enviados de Bus aaaService | Documentos de Microsoft
description: "Información general de colas de mensajes fallidos del Bus de servicio de Azure"
services: service-bus-messaging
documentationcenter: .net
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 68b2aa38-dba7-491a-9c26-0289bc15d397
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 05/17/2017
ms.author: clemensv;sethm
ms.openlocfilehash: 1638272085b8a3a59e8814f6f943caee35a2bfdc
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="overview-of-service-bus-dead-letter-queues"></a><span data-ttu-id="9194f-103">Información general de colas de mensajes fallidos del Bus de servicio</span><span class="sxs-lookup"><span data-stu-id="9194f-103">Overview of Service Bus dead-letter queues</span></span>

<span data-ttu-id="9194f-104">Las colas de Service Bus y las suscripciones a temas proporcionan una subcola secundaria, llamada *cola de mensajes fallidos* (DLQ).</span><span class="sxs-lookup"><span data-stu-id="9194f-104">Service Bus queues and topic subscriptions provide a secondary sub-queue, called a *dead-letter queue* (DLQ).</span></span> <span data-ttu-id="9194f-105">cola de mensajes no enviados de Hello no necesita toobe creado explícitamente y no puede ser eliminada o de otra manera independiente administrado de la entidad principal de Hola.</span><span class="sxs-lookup"><span data-stu-id="9194f-105">hello dead-letter queue does not need toobe explicitly created and cannot be deleted or otherwise managed independent of hello main entity.</span></span>

<span data-ttu-id="9194f-106">En este artículo se describen las colas de mensajes fallidos de Azure Service Bus.</span><span class="sxs-lookup"><span data-stu-id="9194f-106">This article discusses dead-letter queues in Azure Service Bus.</span></span> <span data-ttu-id="9194f-107">Gran parte del análisis de Hola se muestra en hello [ejemplo de colas de mensajes fallidos](https://github.com/Azure/azure-service-bus/tree/master/samples/DotNet/Microsoft.ServiceBus.Messaging/DeadletterQueue) en GitHub.</span><span class="sxs-lookup"><span data-stu-id="9194f-107">Much of hello discussion is illustrated by hello [Dead-Letter Queues sample](https://github.com/Azure/azure-service-bus/tree/master/samples/DotNet/Microsoft.ServiceBus.Messaging/DeadletterQueue) on GitHub.</span></span>
 
## <a name="hello-dead-letter-queue"></a><span data-ttu-id="9194f-108">cola de mensajes no enviados de Hola</span><span class="sxs-lookup"><span data-stu-id="9194f-108">hello dead-letter queue</span></span>

<span data-ttu-id="9194f-109">Hola de cola de mensajes no enviados de hello sirve toohold mensajes que no se puede entregar a tooany receptor, o que no se pudieron procesar.</span><span class="sxs-lookup"><span data-stu-id="9194f-109">hello purpose of hello dead-letter queue is toohold messages that cannot be delivered tooany receiver, or messages that could not be processed.</span></span> <span data-ttu-id="9194f-110">Mensajes, a continuación, se quita de hello DLQ e inspeccionar.</span><span class="sxs-lookup"><span data-stu-id="9194f-110">Messages can then be removed from hello DLQ and inspected.</span></span> <span data-ttu-id="9194f-111">Una aplicación podría, con ayuda de un operador, corregir los problemas y reenviar mensaje de bienvenida, registra que se produjo un error el hecho de Hola y tomar medidas correctivas.</span><span class="sxs-lookup"><span data-stu-id="9194f-111">An application might, with help of an operator, correct issues and resubmit hello message, log hello fact that there was an error, and take corrective action.</span></span> 

<span data-ttu-id="9194f-112">Desde una perspectiva de API y el protocolo, Hola DLQ es principalmente similar tooany otra cola, excepto en que sólo se pueden enviar mensajes mediante gestos de mensajes no enviados de Hola de entidad primaria de Hola.</span><span class="sxs-lookup"><span data-stu-id="9194f-112">From an API and protocol perspective, hello DLQ is mostly similar tooany other queue, except that messages can only be submitted via hello dead-letter gesture of hello parent entity.</span></span> <span data-ttu-id="9194f-113">Además, no se observa el período de vida, y no puede tratar como fallido un mensaje desde una cola de mensajes fallidos.</span><span class="sxs-lookup"><span data-stu-id="9194f-113">In addition, time-to-live is not observed, and you can't dead-letter a message from a DLQ.</span></span> <span data-ttu-id="9194f-114">cola de mensajes no enviados de Hello es totalmente compatible con las operaciones transaccionales y entrega de bloqueo.</span><span class="sxs-lookup"><span data-stu-id="9194f-114">hello dead-letter queue fully supports peek-lock delivery and transactional operations.</span></span>

<span data-ttu-id="9194f-115">Tenga en cuenta que no hay ninguna limpieza automática de hello DLQ.</span><span class="sxs-lookup"><span data-stu-id="9194f-115">Note that there is no automatic cleanup of hello DLQ.</span></span> <span data-ttu-id="9194f-116">Los mensajes permanecen en hello DLQ hasta que los recupera explícitamente de hello DLQ y llame al método [Complete()](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_CompleteAsync) en el mensaje de bienvenida de mensajes no enviados.</span><span class="sxs-lookup"><span data-stu-id="9194f-116">Messages remain in hello DLQ until you explicitly retrieve them from hello DLQ and call [Complete()](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_CompleteAsync) on hello dead-letter message.</span></span>

## <a name="moving-messages-toohello-dlq"></a><span data-ttu-id="9194f-117">Mover mensajes toohello DLQ</span><span class="sxs-lookup"><span data-stu-id="9194f-117">Moving messages toohello DLQ</span></span>

<span data-ttu-id="9194f-118">Hay varias actividades en Service Bus que provocan tooget mensajes insertado toohello DLQ desde dentro de hello propio motor de mensajería.</span><span class="sxs-lookup"><span data-stu-id="9194f-118">There are several activities in Service Bus that cause messages tooget pushed toohello DLQ from within hello messaging engine itself.</span></span> <span data-ttu-id="9194f-119">Una aplicación explícitamente también puede mover mensajes toohello DLQ.</span><span class="sxs-lookup"><span data-stu-id="9194f-119">An application can also explicitly move messages toohello DLQ.</span></span> 

<span data-ttu-id="9194f-120">A medida que obtiene mover mensaje de bienvenida de broker de hello, dos propiedades se agregan toohello mensaje como broker Hola llama a su versión interna de hello [mensajes fallidos](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_DeadLetter_System_String_System_String_) método en el mensaje de bienvenida: `DeadLetterReason` y `DeadLetterErrorDescription`.</span><span class="sxs-lookup"><span data-stu-id="9194f-120">As hello message gets moved by hello broker, two properties are added toohello message as hello broker calls its internal version of hello [DeadLetter](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_DeadLetter_System_String_System_String_) method on hello message: `DeadLetterReason` and `DeadLetterErrorDescription`.</span></span>

<span data-ttu-id="9194f-121">Las aplicaciones pueden definir sus propios códigos de hello `DeadLetterReason` propiedad pero Hola sistema conjuntos Hola después de valores.</span><span class="sxs-lookup"><span data-stu-id="9194f-121">Applications can define their own codes for hello `DeadLetterReason` property, but hello system sets hello following values.</span></span>

| <span data-ttu-id="9194f-122">Condición</span><span class="sxs-lookup"><span data-stu-id="9194f-122">Condition</span></span> | <span data-ttu-id="9194f-123">DeadLetterReason</span><span class="sxs-lookup"><span data-stu-id="9194f-123">DeadLetterReason</span></span> | <span data-ttu-id="9194f-124">DeadLetterErrorDescription</span><span class="sxs-lookup"><span data-stu-id="9194f-124">DeadLetterErrorDescription</span></span> |
| --- | --- | --- |
| <span data-ttu-id="9194f-125">Siempre</span><span class="sxs-lookup"><span data-stu-id="9194f-125">Always</span></span> |<span data-ttu-id="9194f-126">HeaderSizeExceeded</span><span class="sxs-lookup"><span data-stu-id="9194f-126">HeaderSizeExceeded</span></span> |<span data-ttu-id="9194f-127">se superó la cuota de tamaño de Hola para esta secuencia.</span><span class="sxs-lookup"><span data-stu-id="9194f-127">hello size quota for this stream has been exceeded.</span></span> |
| <span data-ttu-id="9194f-128">!TopicDescription.</span><span class="sxs-lookup"><span data-stu-id="9194f-128">!TopicDescription.</span></span><br /><span data-ttu-id="9194f-129">EnableFilteringMessagesBeforePublishing and SubscriptionDescription.</span><span class="sxs-lookup"><span data-stu-id="9194f-129">EnableFilteringMessagesBeforePublishing and SubscriptionDescription.</span></span><br /><span data-ttu-id="9194f-130">EnableDeadLetteringOnFilterEvaluationExceptions</span><span class="sxs-lookup"><span data-stu-id="9194f-130">EnableDeadLetteringOnFilterEvaluationExceptions</span></span> |<span data-ttu-id="9194f-131">exception.GetType().Name</span><span class="sxs-lookup"><span data-stu-id="9194f-131">exception.GetType().Name</span></span> |<span data-ttu-id="9194f-132">exception.Message</span><span class="sxs-lookup"><span data-stu-id="9194f-132">exception.Message</span></span> |
| <span data-ttu-id="9194f-133">EnableDeadLetteringOnMessageExpiration</span><span class="sxs-lookup"><span data-stu-id="9194f-133">EnableDeadLetteringOnMessageExpiration</span></span> |<span data-ttu-id="9194f-134">TTLExpiredException</span><span class="sxs-lookup"><span data-stu-id="9194f-134">TTLExpiredException</span></span> |<span data-ttu-id="9194f-135">mensaje de saludo expirado y cuellos se fallido.</span><span class="sxs-lookup"><span data-stu-id="9194f-135">hello message expired and was dead lettered.</span></span> |
| <span data-ttu-id="9194f-136">SubscriptionDescription.RequiresSession</span><span class="sxs-lookup"><span data-stu-id="9194f-136">SubscriptionDescription.RequiresSession</span></span> |<span data-ttu-id="9194f-137">El identificador de sesión es null.</span><span class="sxs-lookup"><span data-stu-id="9194f-137">Session id is null.</span></span> |<span data-ttu-id="9194f-138">La entidad habilitada por sesión no permite un mensaje cuyo identificador de sesión es null.</span><span class="sxs-lookup"><span data-stu-id="9194f-138">Session enabled entity doesn't allow a message whose session identifier is null.</span></span> |
| <span data-ttu-id="9194f-139">!cola de mensajes fallidos</span><span class="sxs-lookup"><span data-stu-id="9194f-139">!dead letter queue</span></span> |<span data-ttu-id="9194f-140">MaxTransferHopCountExceeded</span><span class="sxs-lookup"><span data-stu-id="9194f-140">MaxTransferHopCountExceeded</span></span> |<span data-ttu-id="9194f-141">Null</span><span class="sxs-lookup"><span data-stu-id="9194f-141">Null</span></span> |
| <span data-ttu-id="9194f-142">Mensajes fallidos explícitos de aplicación</span><span class="sxs-lookup"><span data-stu-id="9194f-142">Application explicit dead lettering</span></span> |<span data-ttu-id="9194f-143">Especificado por la aplicación</span><span class="sxs-lookup"><span data-stu-id="9194f-143">Specified by application</span></span> |<span data-ttu-id="9194f-144">Especificado por la aplicación</span><span class="sxs-lookup"><span data-stu-id="9194f-144">Specified by application</span></span> |

## <a name="exceeding-maxdeliverycount"></a><span data-ttu-id="9194f-145">Superación de MaxDeliveryCount</span><span class="sxs-lookup"><span data-stu-id="9194f-145">Exceeding MaxDeliveryCount</span></span>
<span data-ttu-id="9194f-146">Las colas y las suscripciones tienen un [QueueDescription.MaxDeliveryCount](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_MaxDeliveryCount) y [SubscriptionDescription.MaxDeliveryCount](/dotnet/api/microsoft.servicebus.messaging.subscriptiondescription#Microsoft_ServiceBus_Messaging_SubscriptionDescription_MaxDeliveryCount) propiedad respectivamente; hello valor predeterminado es 10.</span><span class="sxs-lookup"><span data-stu-id="9194f-146">Queues and subscriptions each have a [QueueDescription.MaxDeliveryCount](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_MaxDeliveryCount) and [SubscriptionDescription.MaxDeliveryCount](/dotnet/api/microsoft.servicebus.messaging.subscriptiondescription#Microsoft_ServiceBus_Messaging_SubscriptionDescription_MaxDeliveryCount) property respectively; hello default value is 10.</span></span> <span data-ttu-id="9194f-147">Cada vez que se ha entregado un mensaje con un bloqueo ([ReceiveMode.PeekLock](/dotnet/api/microsoft.servicebus.messaging.receivemode)), pero se ha ya sea explícitamente abandona o ha caducado el bloqueo de hello, mensaje de saludo [BrokeredMessage.DeliveryCount](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_DeliveryCount) es se incrementa.</span><span class="sxs-lookup"><span data-stu-id="9194f-147">Whenever a message has been delivered under a lock ([ReceiveMode.PeekLock](/dotnet/api/microsoft.servicebus.messaging.receivemode)), but has been either explicitly abandoned or hello lock has expired, hello message's [BrokeredMessage.DeliveryCount](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_DeliveryCount) is incremented.</span></span> <span data-ttu-id="9194f-148">Cuando [DeliveryCount](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_DeliveryCount) supera [MaxDeliveryCount](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_MaxDeliveryCount), mensaje de bienvenida es movida toohello DLQ, especificar hello `MaxDeliveryCountExceeded` código de motivo.</span><span class="sxs-lookup"><span data-stu-id="9194f-148">When [DeliveryCount](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_DeliveryCount) exceeds [MaxDeliveryCount](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_MaxDeliveryCount), hello message is moved toohello DLQ, specifying hello `MaxDeliveryCountExceeded` reason code.</span></span>

<span data-ttu-id="9194f-149">No se puede deshabilitar este comportamiento, pero puede establecer [MaxDeliveryCount](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_MaxDeliveryCount) tooa gran número.</span><span class="sxs-lookup"><span data-stu-id="9194f-149">This behavior cannot be disabled, but you can set [MaxDeliveryCount](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_MaxDeliveryCount) tooa very large number.</span></span>

## <a name="exceeding-timetolive"></a><span data-ttu-id="9194f-150">Superación de TimeToLive</span><span class="sxs-lookup"><span data-stu-id="9194f-150">Exceeding TimeToLive</span></span>
<span data-ttu-id="9194f-151">Cuando Hola [QueueDescription.EnableDeadLetteringOnMessageExpiration](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_EnableDeadLetteringOnMessageExpiration) o [SubscriptionDescription.EnableDeadLetteringOnMessageExpiration](/dotnet/api/microsoft.servicebus.messaging.subscriptiondescription#Microsoft_ServiceBus_Messaging_SubscriptionDescription_EnableDeadLetteringOnMessageExpiration) propiedad se establece demasiado**true** (valor predeterminado de hello es **false**), todos los mensajes que van a expirar son movida toohello DLQ, especificar hello `TTLExpiredException` código de motivo.</span><span class="sxs-lookup"><span data-stu-id="9194f-151">When hello [QueueDescription.EnableDeadLetteringOnMessageExpiration](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_EnableDeadLetteringOnMessageExpiration) or [SubscriptionDescription.EnableDeadLetteringOnMessageExpiration](/dotnet/api/microsoft.servicebus.messaging.subscriptiondescription#Microsoft_ServiceBus_Messaging_SubscriptionDescription_EnableDeadLetteringOnMessageExpiration) property is set too**true** (hello default is **false**), all expiring messages are moved toohello DLQ, specifying hello  `TTLExpiredException` reason code.</span></span>

<span data-ttu-id="9194f-152">Tenga en cuenta que los mensajes caducados se purgan solo y, por tanto, moverse toohello DLQ cuando hay al menos un destinatario active extraer en cola principal de Hola o suscripción; Este comportamiento es así por diseño.</span><span class="sxs-lookup"><span data-stu-id="9194f-152">Note that expired messages are only purged and therefore moved toohello DLQ when there is at least one active receiver pulling on hello main queue or subscription; that behavior is by design.</span></span>

## <a name="errors-while-processing-subscription-rules"></a><span data-ttu-id="9194f-153">Errores al procesar reglas de suscripción</span><span class="sxs-lookup"><span data-stu-id="9194f-153">Errors while processing subscription rules</span></span>
<span data-ttu-id="9194f-154">Cuando Hola [SubscriptionDescription.EnableDeadLetteringOnFilterEvaluationExceptions](/dotnet/api/microsoft.servicebus.messaging.subscriptiondescription#Microsoft_ServiceBus_Messaging_SubscriptionDescription_EnableDeadLetteringOnFilterEvaluationExceptions) propiedad está habilitada para una suscripción, se capturan los errores que se producen mientras se ejecuta la regla de filtro SQL de una suscripción en hello DLQ junto con el mensaje de Hola.</span><span class="sxs-lookup"><span data-stu-id="9194f-154">When hello [SubscriptionDescription.EnableDeadLetteringOnFilterEvaluationExceptions](/dotnet/api/microsoft.servicebus.messaging.subscriptiondescription#Microsoft_ServiceBus_Messaging_SubscriptionDescription_EnableDeadLetteringOnFilterEvaluationExceptions) property is enabled for a subscription, any errors that occur while a subscription's SQL filter rule executes are captured in hello DLQ along with hello offending message.</span></span>

## <a name="application-level-dead-lettering"></a><span data-ttu-id="9194f-155">Mensajes fallidos de nivel de aplicación</span><span class="sxs-lookup"><span data-stu-id="9194f-155">Application-level dead-lettering</span></span>
<span data-ttu-id="9194f-156">En suma toohello proporcionado por el sistema colas de mensajes fallidos características, las aplicaciones pueden utilizar mensajes de inaceptable de rechazo de hello DLQ tooexplicitly.</span><span class="sxs-lookup"><span data-stu-id="9194f-156">In addition toohello system-provided dead-lettering features, applications can use hello DLQ tooexplicitly reject unacceptable messages.</span></span> <span data-ttu-id="9194f-157">Esto puede incluir los mensajes que no se puede procesar correctamente debido ordenación tooany del problema del sistema, mensajes que contienen cargas con formato incorrecto o que no superen la autenticación cuando se utiliza algún esquema de seguridad de nivel de mensaje.</span><span class="sxs-lookup"><span data-stu-id="9194f-157">This may include messages that cannot be properly processed due tooany sort of system issue, messages that hold malformed payloads, or messages that fail authentication when some message-level security scheme is used.</span></span>

## <a name="dead-lettering-in-forwardto-or-sendvia-scenarios"></a><span data-ttu-id="9194f-158">Colas de mensajes fallidos en escenarios ForwardTo o SendVia</span><span class="sxs-lookup"><span data-stu-id="9194f-158">Dead-lettering in ForwardTo or SendVia scenarios</span></span>

<span data-ttu-id="9194f-159">Mensajes serán cola de mensajes no enviados de transferencia toohello enviados en hello condiciones siguientes:</span><span class="sxs-lookup"><span data-stu-id="9194f-159">Messages will be sent toohello transfer dead-letter queue under hello following conditions:</span></span>

- <span data-ttu-id="9194f-160">Un mensaje pasa a través de más de 3 colas o temas que están [encadenados](service-bus-auto-forwarding.md).</span><span class="sxs-lookup"><span data-stu-id="9194f-160">A message passes through more than 3 queues or topics that are [chained together](service-bus-auto-forwarding.md).</span></span>
- <span data-ttu-id="9194f-161">cola de destino de Hola o tema esté deshabilitado o eliminado.</span><span class="sxs-lookup"><span data-stu-id="9194f-161">hello destination queue or topic is disabled or deleted.</span></span>
- <span data-ttu-id="9194f-162">Hola destino cola o tema supera el tamaño máximo de entidad de Hola.</span><span class="sxs-lookup"><span data-stu-id="9194f-162">hello destination queue or topic exceeds hello maximum entity size.</span></span>

<span data-ttu-id="9194f-163">tooretrieve estos mensajes fallido, puede crear un receptor con hello [FormatTransferDeadletterPath](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_FormatTransferDeadLetterPath_System_String_) método de utilidad.</span><span class="sxs-lookup"><span data-stu-id="9194f-163">tooretrieve these dead-lettered messages, you can create a receiver using hello [FormatTransferDeadletterPath](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_FormatTransferDeadLetterPath_System_String_) utility method.</span></span>

## <a name="example"></a><span data-ttu-id="9194f-164">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="9194f-164">Example</span></span>
<span data-ttu-id="9194f-165">Hola siguiente fragmento de código crea un receptor del mensaje.</span><span class="sxs-lookup"><span data-stu-id="9194f-165">hello following code snippet creates a message receiver.</span></span> <span data-ttu-id="9194f-166">Hola recibir un bucle para la cola principal hello, código de hello recupera mensajes de bienvenida con [Receive(TimeSpan.Zero)](/dotnet/api/microsoft.servicebus.messaging.messagereceiver#Microsoft_ServiceBus_Messaging_MessageReceiver_Receive_System_TimeSpan_), que le pregunta Hola broker tooinstantly devuelto ningún mensaje estén disponible o tooreturn con ningún resultado.</span><span class="sxs-lookup"><span data-stu-id="9194f-166">In hello receive loop for hello main queue, hello code retrieves hello message with [Receive(TimeSpan.Zero)](/dotnet/api/microsoft.servicebus.messaging.messagereceiver#Microsoft_ServiceBus_Messaging_MessageReceiver_Receive_System_TimeSpan_), which asks hello broker tooinstantly return any message readily available, or tooreturn with no result.</span></span> <span data-ttu-id="9194f-167">Si el código de hello recibe un mensaje, inmediatamente abandona, que se incrementa hello `DeliveryCount`.</span><span class="sxs-lookup"><span data-stu-id="9194f-167">If hello code receives a message, it immediately abandons it, which increments hello  `DeliveryCount`.</span></span> <span data-ttu-id="9194f-168">Una vez que el sistema de hello mueve toohello de mensaje de Hola DLQ, cola principal Hola está vacía y Hola sale del bucle, como [ReceiveAsync](/dotnet/api/microsoft.servicebus.messaging.messagereceiver#Microsoft_ServiceBus_Messaging_MessageReceiver_ReceiveAsync_System_TimeSpan_) devuelve **null**.</span><span class="sxs-lookup"><span data-stu-id="9194f-168">Once hello system moves hello message toohello DLQ, hello main queue is empty and hello loop exits, as [ReceiveAsync](/dotnet/api/microsoft.servicebus.messaging.messagereceiver#Microsoft_ServiceBus_Messaging_MessageReceiver_ReceiveAsync_System_TimeSpan_) returns **null**.</span></span>

```csharp
var receiver = await receiverFactory.CreateMessageReceiverAsync(queueName, ReceiveMode.PeekLock);
while(true)
{
    var msg = await receiver.ReceiveAsync(TimeSpan.Zero);
    if (msg != null)
    {
        Console.WriteLine("Picked up message; DeliveryCount {0}", msg.DeliveryCount);
        await msg.AbandonAsync();
    }
    else
    {
        break;
    }
}
```

## <a name="next-steps"></a><span data-ttu-id="9194f-169">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="9194f-169">Next steps</span></span>
<span data-ttu-id="9194f-170">Vea Hola siguientes artículos para obtener más información acerca de las colas de Bus de servicio:</span><span class="sxs-lookup"><span data-stu-id="9194f-170">See hello following articles for more information about Service Bus queues:</span></span>

* [<span data-ttu-id="9194f-171">Introducción a las colas de Service Bus</span><span class="sxs-lookup"><span data-stu-id="9194f-171">Get started with Service Bus queues</span></span>](service-bus-dotnet-get-started-with-queues.md)
* [<span data-ttu-id="9194f-172">Comparación de colas de Azure y colas de Service Bus</span><span class="sxs-lookup"><span data-stu-id="9194f-172">Azure Queues and Service Bus queues compared</span></span>](service-bus-azure-and-service-bus-queues-compared-contrasted.md)

