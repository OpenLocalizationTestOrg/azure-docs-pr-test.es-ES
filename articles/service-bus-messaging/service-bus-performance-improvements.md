---
title: "prácticas recomendadas de aaaBest para mejorar el rendimiento de uso del Bus de servicio de Azure | Documentos de Microsoft"
description: "Describe cómo toouse rendimiento toooptimize de Bus de servicio al intercambiar asíncrona los mensajes."
services: service-bus-messaging
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: e756c15d-31fc-45c0-8df4-0bca0da10bb2
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 05/10/2017
ms.author: sethm
ms.openlocfilehash: 52764d227757cbb11246675878933f21685817f1
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="best-practices-for-performance-improvements-using-service-bus-messaging"></a><span data-ttu-id="45fb1-103">Procedimientos recomendados para mejorar el rendimiento mediante la mensajería de Service Bus</span><span class="sxs-lookup"><span data-stu-id="45fb1-103">Best Practices for performance improvements using Service Bus Messaging</span></span>

<span data-ttu-id="45fb1-104">Este artículo se describe cómo toouse [mensajería de Service Bus de Azure](https://azure.microsoft.com/services/service-bus/) asíncrona de toooptimize rendimiento al intercambiar mensajes.</span><span class="sxs-lookup"><span data-stu-id="45fb1-104">This article describes how toouse [Azure Service Bus messaging](https://azure.microsoft.com/services/service-bus/) toooptimize performance when exchanging brokered messages.</span></span> <span data-ttu-id="45fb1-105">Hola primera parte de este tema describe mecanismos diferentes Hola que se ofrecen toohelp aumento del rendimiento.</span><span class="sxs-lookup"><span data-stu-id="45fb1-105">hello first part of this topic describes hello different mechanisms that are offered toohelp increase performance.</span></span> <span data-ttu-id="45fb1-106">segunda parte de Hello proporciona instrucciones sobre cómo Hola a toouse Bus de servicio de forma que pueda ofrecer un rendimiento óptimo en un escenario determinado.</span><span class="sxs-lookup"><span data-stu-id="45fb1-106">hello second part provides guidance on how toouse Service Bus in a way that can offer hello best performance in a given scenario.</span></span>

<span data-ttu-id="45fb1-107">A lo largo de este tema, término Hola "cliente" hace referencia a entidad tooany que tiene acceso a Service Bus.</span><span class="sxs-lookup"><span data-stu-id="45fb1-107">Throughout this topic, hello term "client" refers tooany entity that accesses Service Bus.</span></span> <span data-ttu-id="45fb1-108">Un cliente puede asumir el rol de Hola de un remitente o destinatario.</span><span class="sxs-lookup"><span data-stu-id="45fb1-108">A client can take hello role of a sender or a receiver.</span></span> <span data-ttu-id="45fb1-109">Hola término "remitente" se usa para un cliente de cola o tema de Bus de servicio que envía mensajes tooa Bus de servicio cola o tema.</span><span class="sxs-lookup"><span data-stu-id="45fb1-109">hello term "sender" is used for a Service Bus queue or topic client that sends messages tooa Service Bus queue or topic.</span></span> <span data-ttu-id="45fb1-110">Hola "receptor" se entiende a tooa Bus de servicio cola o suscripción de cliente que recibe los mensajes de una cola de Bus de servicio o la suscripción.</span><span class="sxs-lookup"><span data-stu-id="45fb1-110">hello term "receiver" refers tooa Service Bus queue or subscription client that receives messages from a Service Bus queue or subscription.</span></span>

<span data-ttu-id="45fb1-111">Estas secciones presentan varios conceptos que Service Bus usa toohelp mejorar el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="45fb1-111">These sections introduce several concepts that Service Bus uses toohelp boost performance.</span></span>

## <a name="protocols"></a><span data-ttu-id="45fb1-112">Protocolos</span><span class="sxs-lookup"><span data-stu-id="45fb1-112">Protocols</span></span>
<span data-ttu-id="45fb1-113">Bus de servicio permite a los clientes toosend y recibir mensajes a través de uno de tres protocolos:</span><span class="sxs-lookup"><span data-stu-id="45fb1-113">Service Bus enables clients toosend and receive messages via one of three protocols:</span></span>

1. <span data-ttu-id="45fb1-114">Advanced Message Queuing Protocol (AMQP)</span><span class="sxs-lookup"><span data-stu-id="45fb1-114">Advanced Message Queuing Protocol (AMQP)</span></span>
2. <span data-ttu-id="45fb1-115">Protocolo de mensajería de Service Bus (SBMP)</span><span class="sxs-lookup"><span data-stu-id="45fb1-115">Service Bus Messaging Protocol (SBMP)</span></span>
3. <span data-ttu-id="45fb1-116">HTTP</span><span class="sxs-lookup"><span data-stu-id="45fb1-116">HTTP</span></span>

<span data-ttu-id="45fb1-117">AMQP y SBMP son más eficaces, debido a que mantienen Hola conexión tooService Bus siempre que exista el generador de mensajería de Hola.</span><span class="sxs-lookup"><span data-stu-id="45fb1-117">AMQP and SBMP are more efficient, because they maintain hello connection tooService Bus as long as hello messaging factory exists.</span></span> <span data-ttu-id="45fb1-118">También implementa el procesamiento por lotes y la captura previa.</span><span class="sxs-lookup"><span data-stu-id="45fb1-118">It also implements batching and prefetching.</span></span> <span data-ttu-id="45fb1-119">A menos que se mencione explícitamente, todo el contenido de este tema supone el uso de Hola de AMQP o SBMP.</span><span class="sxs-lookup"><span data-stu-id="45fb1-119">Unless explicitly mentioned, all content in this topic assumes hello use of AMQP or SBMP.</span></span>

## <a name="reusing-factories-and-clients"></a><span data-ttu-id="45fb1-120">Reutilización de factorías y clientes</span><span class="sxs-lookup"><span data-stu-id="45fb1-120">Reusing factories and clients</span></span>
<span data-ttu-id="45fb1-121">Los objetos de cliente de Service Bus, como [QueueClient][QueueClient] o [MessageSender][MessageSender], se crean mediante un objeto [MessagingFactory][MessagingFactory], que también proporciona administración interna de las conexiones.</span><span class="sxs-lookup"><span data-stu-id="45fb1-121">Service Bus client objects, such as [QueueClient][QueueClient] or [MessageSender][MessageSender], are created through a [MessagingFactory][MessagingFactory] object, which also provides internal management of connections.</span></span> <span data-ttu-id="45fb1-122">No debería cerrar fábricas de mensajes o cola, tema y los clientes de la suscripción después de enviar un mensaje y, a continuación, volver a crearlos cuando envíe mensajes de bienvenida del siguiente.</span><span class="sxs-lookup"><span data-stu-id="45fb1-122">You should not close messaging factories or queue, topic, and subscription clients after you send a message, and then re-create them when you send hello next message.</span></span> <span data-ttu-id="45fb1-123">Cerrar una fábrica de mensajería elimina Hola conexión toohello servicio service Bus, y se establece una nueva conexión al volver a crear el generador de Hola.</span><span class="sxs-lookup"><span data-stu-id="45fb1-123">Closing a messaging factory deletes hello connection toohello Service Bus service, and a new connection is established when recreating hello factory.</span></span> <span data-ttu-id="45fb1-124">Establecer que una conexión es una operación costosa, puede evitar al volver a usar Hola mismo cliente y generador de objetos para varias operaciones.</span><span class="sxs-lookup"><span data-stu-id="45fb1-124">Establishing a connection is an expensive operation that you can avoid by re-using hello same factory and client objects for multiple operations.</span></span> <span data-ttu-id="45fb1-125">Puede utilizar sin ningún riesgo hello [QueueClient] [ QueueClient] objeto para enviar mensajes desde varios subprocesos y de operaciones asincrónicas simultáneas.</span><span class="sxs-lookup"><span data-stu-id="45fb1-125">You can safely use hello [QueueClient][QueueClient] object for sending messages from concurrent asynchronous operations and multiple threads.</span></span> 

## <a name="concurrent-operations"></a><span data-ttu-id="45fb1-126">Operaciones simultáneas</span><span class="sxs-lookup"><span data-stu-id="45fb1-126">Concurrent operations</span></span>
<span data-ttu-id="45fb1-127">Se tarda tiempo en realizar una operación (enviar, recibir, eliminar, etc.).</span><span class="sxs-lookup"><span data-stu-id="45fb1-127">Performing an operation (send, receive, delete, etc.) takes some time.</span></span> <span data-ttu-id="45fb1-128">Este tiempo incluye el procesamiento de Hola de operación de Hola por hello servicio de Bus de servicio en la latencia de toohello de adición de solicitud de Hola y respuesta de Hola.</span><span class="sxs-lookup"><span data-stu-id="45fb1-128">This time includes hello processing of hello operation by hello Service Bus service in addition toohello latency of hello request and hello reply.</span></span> <span data-ttu-id="45fb1-129">número de hello tooincrease de operaciones por tiempo, las operaciones deberán ejecutarse simultáneamente.</span><span class="sxs-lookup"><span data-stu-id="45fb1-129">tooincrease hello number of operations per time, operations must execute concurrently.</span></span> <span data-ttu-id="45fb1-130">Puede hacerlo de varias maneras diferentes:</span><span class="sxs-lookup"><span data-stu-id="45fb1-130">You can do this in several different ways:</span></span>

* <span data-ttu-id="45fb1-131">**Operaciones asincrónicas**: cliente hello programa las operaciones mediante la realización de operaciones asincrónicas.</span><span class="sxs-lookup"><span data-stu-id="45fb1-131">**Asynchronous operations**: hello client schedules operations by performing asynchronous operations.</span></span> <span data-ttu-id="45fb1-132">Hola siguiente solicitud se inicia antes de completar la solicitud anterior de Hola.</span><span class="sxs-lookup"><span data-stu-id="45fb1-132">hello next request is started before hello previous request is completed.</span></span> <span data-ttu-id="45fb1-133">Hola te mostramos un ejemplo de una operación de envío asincrónico:</span><span class="sxs-lookup"><span data-stu-id="45fb1-133">hello following is an example of an asynchronous send operation:</span></span>
  
 ```csharp
  BrokeredMessage m1 = new BrokeredMessage(body);
  BrokeredMessage m2 = new BrokeredMessage(body);
  
  Task send1 = queueClient.SendAsync(m1).ContinueWith((t) => 
    {
      Console.WriteLine("Sent message #1");
    });
  Task send2 = queueClient.SendAsync(m2).ContinueWith((t) => 
    {
      Console.WriteLine("Sent message #2");
    });
  Task.WaitAll(send1, send2);
  Console.WriteLine("All messages sent");
  ```
  
  <span data-ttu-id="45fb1-134">Esto es un ejemplo de operación asincrónica de recepción:</span><span class="sxs-lookup"><span data-stu-id="45fb1-134">This is an example of an asynchronous receive operation:</span></span>
  
  ```csharp
  Task receive1 = queueClient.ReceiveAsync().ContinueWith(ProcessReceivedMessage);
  Task receive2 = queueClient.ReceiveAsync().ContinueWith(ProcessReceivedMessage);
  
  Task.WaitAll(receive1, receive2);
  Console.WriteLine("All messages received");
  
  async void ProcessReceivedMessage(Task<BrokeredMessage> t)
  {
    BrokeredMessage m = t.Result;
    Console.WriteLine("{0} received", m.Label);
    await m.CompleteAsync();
    Console.WriteLine("{0} complete", m.Label);
  }
  ```
* <span data-ttu-id="45fb1-135">**Varias fábricas**: Hola a todos los clientes (remitentes de suma tooreceivers) que se crean mediante misma fábrica recurso compartido de una conexión TCP.</span><span class="sxs-lookup"><span data-stu-id="45fb1-135">**Multiple factories**: all clients (senders in addition tooreceivers) that are created by hello same factory share one TCP connection.</span></span> <span data-ttu-id="45fb1-136">rendimiento máximo del mensaje de Hola está limitado por el número de Hola de operaciones que pueden pasar a través de esta conexión TCP.</span><span class="sxs-lookup"><span data-stu-id="45fb1-136">hello maximum message throughput is limited by hello number of operations that can go through this TCP connection.</span></span> <span data-ttu-id="45fb1-137">rendimiento de Hola que puede obtenerse con una sola fábrica varía en gran medida con tiempos de ida y vuelta de TCP y el tamaño de mensaje.</span><span class="sxs-lookup"><span data-stu-id="45fb1-137">hello throughput that can be obtained with a single factory varies greatly with TCP round-trip times and message size.</span></span> <span data-ttu-id="45fb1-138">tooobtain mayores tasas de rendimiento, debe usar varias fábricas de mensajes.</span><span class="sxs-lookup"><span data-stu-id="45fb1-138">tooobtain higher throughput rates, you should use multiple messaging factories.</span></span>

## <a name="receive-mode"></a><span data-ttu-id="45fb1-139">Modo de recepción</span><span class="sxs-lookup"><span data-stu-id="45fb1-139">Receive mode</span></span>
<span data-ttu-id="45fb1-140">Al crear un cliente de cola o suscripción, puede especificar un modo de recepción: *Peek-lock* (Inspección y bloqueo) o *Receive And Delete* (Recepción y eliminación).</span><span class="sxs-lookup"><span data-stu-id="45fb1-140">When creating a queue or subscription client, you can specify a receive mode: *Peek-lock* or *Receive and Delete*.</span></span> <span data-ttu-id="45fb1-141">modo de recepción predeterminado Hello es [PeekLock][PeekLock].</span><span class="sxs-lookup"><span data-stu-id="45fb1-141">hello default receive mode is [PeekLock][PeekLock].</span></span> <span data-ttu-id="45fb1-142">Cuando se trabaja en este modo, Hola cliente envía un mensaje de una solicitud tooreceive de Bus de servicio.</span><span class="sxs-lookup"><span data-stu-id="45fb1-142">When operating in this mode, hello client sends a request tooreceive a message from Service Bus.</span></span> <span data-ttu-id="45fb1-143">Después de hello cliente recibe mensajes de bienvenida, envía un mensaje de saludo de solicitud toocomplete.</span><span class="sxs-lookup"><span data-stu-id="45fb1-143">After hello client has received hello message, it sends a request toocomplete hello message.</span></span>

<span data-ttu-id="45fb1-144">Al establecer Hola modo de recepción demasiado[ReceiveAndDelete][ReceiveAndDelete], ambos pasos se combinan en una sola solicitud.</span><span class="sxs-lookup"><span data-stu-id="45fb1-144">When setting hello receive mode too[ReceiveAndDelete][ReceiveAndDelete], both steps are combined in a single request.</span></span> <span data-ttu-id="45fb1-145">Esto reduce al número total de operaciones de Hola y puede mejorar Hola rendimiento global de mensajes.</span><span class="sxs-lookup"><span data-stu-id="45fb1-145">This reduces hello overall number of operations, and can improve hello overall message throughput.</span></span> <span data-ttu-id="45fb1-146">Esta mejora del rendimiento conlleva corre el riesgo de Hola de pérdida de mensajes.</span><span class="sxs-lookup"><span data-stu-id="45fb1-146">This performance gain comes at hello risk of losing messages.</span></span>

<span data-ttu-id="45fb1-147">El Bus de servicio no admite transacciones para las operaciones de recepción y eliminación.</span><span class="sxs-lookup"><span data-stu-id="45fb1-147">Service Bus does not support transactions for receive-and-delete operations.</span></span> <span data-ttu-id="45fb1-148">Además, se necesitan para cualquier escenario de en qué Hola cliente desea toodefer semántica de bloqueo o [mensajes no enviados](service-bus-dead-letter-queues.md) un mensaje.</span><span class="sxs-lookup"><span data-stu-id="45fb1-148">In addition, peek-lock semantics are required for any scenarios in which hello client wants toodefer or [dead-letter](service-bus-dead-letter-queues.md) a message.</span></span>

## <a name="client-side-batching"></a><span data-ttu-id="45fb1-149">Procesamiento por lotes del lado cliente</span><span class="sxs-lookup"><span data-stu-id="45fb1-149">Client-side batching</span></span>
<span data-ttu-id="45fb1-150">Procesamiento por lotes de cliente permite a una cola o tema cliente toodelay Hola envío de un mensaje durante un período de tiempo determinado.</span><span class="sxs-lookup"><span data-stu-id="45fb1-150">Client-side batching enables a queue or topic client toodelay hello sending of a message for a certain period of time.</span></span> <span data-ttu-id="45fb1-151">Si el cliente de hello envía mensajes adicionales durante este período de tiempo, transmite mensajes de saludo en un único lote.</span><span class="sxs-lookup"><span data-stu-id="45fb1-151">If hello client sends additional messages during this time period, it transmits hello messages in a single batch.</span></span> <span data-ttu-id="45fb1-152">Procesamiento por lotes de cliente también hace un toobatch de cliente de cola o suscripción varios **completar** solicitudes en una única solicitud.</span><span class="sxs-lookup"><span data-stu-id="45fb1-152">Client-side batching also causes a queue or subscription client toobatch multiple **Complete** requests into a single request.</span></span> <span data-ttu-id="45fb1-153">El procesamiento por lotes solo está disponible para las operaciones **Send** y **Complete** asincrónicas.</span><span class="sxs-lookup"><span data-stu-id="45fb1-153">Batching is only available for asynchronous **Send** and **Complete** operations.</span></span> <span data-ttu-id="45fb1-154">Operaciones sincrónicas se envían inmediatamente toohello servicio service Bus.</span><span class="sxs-lookup"><span data-stu-id="45fb1-154">Synchronous operations are immediately sent toohello Service Bus service.</span></span> <span data-ttu-id="45fb1-155">El procesamiento por lotes no tiene lugar para las operaciones de inspección o recepción, así como tampoco entre clientes.</span><span class="sxs-lookup"><span data-stu-id="45fb1-155">Batching does not occur for peek or receive operations, nor does batching occur across clients.</span></span>

<span data-ttu-id="45fb1-156">De forma predeterminada, un cliente usa un intervalo entre lotes de 20 ms.</span><span class="sxs-lookup"><span data-stu-id="45fb1-156">By default, a client uses a batch interval of 20ms.</span></span> <span data-ttu-id="45fb1-157">Puede cambiar el intervalo del lote de Hola Hola establecer [BatchFlushInterval] [ BatchFlushInterval] propiedad antes de crear Hola fábrica de mensajería.</span><span class="sxs-lookup"><span data-stu-id="45fb1-157">You can change hello batch interval by setting hello [BatchFlushInterval][BatchFlushInterval] property before creating hello messaging factory.</span></span> <span data-ttu-id="45fb1-158">Esta configuración afecta a todos los clientes que se creen en esta factoría.</span><span class="sxs-lookup"><span data-stu-id="45fb1-158">This setting affects all clients that are created by this factory.</span></span>

<span data-ttu-id="45fb1-159">procesamiento por lotes toodisable, establecer hello [BatchFlushInterval] [ BatchFlushInterval] propiedad demasiado**TimeSpan.Zero**.</span><span class="sxs-lookup"><span data-stu-id="45fb1-159">toodisable batching, set hello [BatchFlushInterval][BatchFlushInterval] property too**TimeSpan.Zero**.</span></span> <span data-ttu-id="45fb1-160">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="45fb1-160">For example:</span></span>

```csharp
MessagingFactorySettings mfs = new MessagingFactorySettings();
mfs.TokenProvider = tokenProvider;
mfs.NetMessagingTransportSettings.BatchFlushInterval = TimeSpan.FromSeconds(0.05);
MessagingFactory messagingFactory = MessagingFactory.Create(namespaceUri, mfs);
```

<span data-ttu-id="45fb1-161">Procesamiento por lotes no afecta al número de Hola de operaciones de mensajería facturables y solo está disponible para hello protocolo de cliente de Bus de servicio.</span><span class="sxs-lookup"><span data-stu-id="45fb1-161">Batching does not affect hello number of billable messaging operations, and is available only for hello Service Bus client protocol.</span></span> <span data-ttu-id="45fb1-162">Hola protocolo HTTP no es compatible con el procesamiento por lotes.</span><span class="sxs-lookup"><span data-stu-id="45fb1-162">hello HTTP protocol does not support batching.</span></span>

## <a name="batching-store-access"></a><span data-ttu-id="45fb1-163">Acceso al almacén de procesamiento por lotes</span><span class="sxs-lookup"><span data-stu-id="45fb1-163">Batching store access</span></span>
<span data-ttu-id="45fb1-164">rendimiento de hello tooincrease de una cola, tema o suscripción, Bus de servicio procesa por lotes varios mensajes cuando escribe tooits internos del almacén.</span><span class="sxs-lookup"><span data-stu-id="45fb1-164">tooincrease hello throughput of a queue, topic, or subscription, Service Bus batches multiple messages when it writes tooits internal store.</span></span> <span data-ttu-id="45fb1-165">Si se habilita en una cola o tema, escribir mensajes en el almacén de Hola se procesarán por lotes.</span><span class="sxs-lookup"><span data-stu-id="45fb1-165">If enabled on a queue or topic, writing messages into hello store will be batched.</span></span> <span data-ttu-id="45fb1-166">Si se habilita en una cola o suscripción, al eliminar los mensajes del almacén de Hola se procesarán por lotes.</span><span class="sxs-lookup"><span data-stu-id="45fb1-166">If enabled on a queue or subscription, deleting messages from hello store will be batched.</span></span> <span data-ttu-id="45fb1-167">Si el acceso al almacén por lotes está habilitado para una entidad, Bus de servicio retrasa una operación de escritura de la tienda con respecto a esa entidad por seguridad too20ms.</span><span class="sxs-lookup"><span data-stu-id="45fb1-167">If batched store access is enabled for an entity, Service Bus delays a store write operation regarding that entity by up too20ms.</span></span> <span data-ttu-id="45fb1-168">Operaciones de almacenamiento adicionales que se producen durante este intervalo se agregan toohello lote.</span><span class="sxs-lookup"><span data-stu-id="45fb1-168">Additional store operations that occur during this interval are added toohello batch.</span></span> <span data-ttu-id="45fb1-169">El acceso al almacén de procesamiento por lotes solo afecta a las operaciones **Send** y **Complete**, pero no a las de recepción.</span><span class="sxs-lookup"><span data-stu-id="45fb1-169">Batched store access only affects **Send** and **Complete** operations; receive operations are not affected.</span></span> <span data-ttu-id="45fb1-170">El acceso al almacén de procesamiento por lotes es una propiedad de una entidad.</span><span class="sxs-lookup"><span data-stu-id="45fb1-170">Batched store access is a property on an entity.</span></span> <span data-ttu-id="45fb1-171">El procesamiento por lotes se produce en todas las entidades que tengan habilitado el acceso al almacén de procesamiento por lotes.</span><span class="sxs-lookup"><span data-stu-id="45fb1-171">Batching occurs across all entities that enable batched store access.</span></span>

<span data-ttu-id="45fb1-172">Cuando se crea una cola, un tema o una suscripción nuevos, el acceso al almacén de procesamiento por lotes está habilitado de manera predeterminada.</span><span class="sxs-lookup"><span data-stu-id="45fb1-172">When creating a new queue, topic or subscription, batched store access is enabled by default.</span></span> <span data-ttu-id="45fb1-173">toodisable por lotes acceso al almacén, conjunto hello [EnableBatchedOperations] [ EnableBatchedOperations] propiedad demasiado**false** antes de crear entidad Hola.</span><span class="sxs-lookup"><span data-stu-id="45fb1-173">toodisable batched store access, set hello [EnableBatchedOperations][EnableBatchedOperations] property too**false** before creating hello entity.</span></span> <span data-ttu-id="45fb1-174">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="45fb1-174">For example:</span></span>

```csharp
QueueDescription qd = new QueueDescription();
qd.EnableBatchedOperations = false;
Queue q = namespaceManager.CreateQueue(qd);
```

<span data-ttu-id="45fb1-175">Acceso al almacén por lotes no afecta al número de Hola de operaciones de mensajería facturables y es una propiedad de una cola, tema o suscripción.</span><span class="sxs-lookup"><span data-stu-id="45fb1-175">Batched store access does not affect hello number of billable messaging operations, and is a property of a queue, topic, or subscription.</span></span> <span data-ttu-id="45fb1-176">Es independiente de hello hello y modo de protocolo que se utiliza entre un cliente y Hola servicio de Bus de servicio de recepción.</span><span class="sxs-lookup"><span data-stu-id="45fb1-176">It is independent of hello receive mode and hello protocol that is used between a client and hello Service Bus service.</span></span>

## <a name="prefetching"></a><span data-ttu-id="45fb1-177">Captura previa</span><span class="sxs-lookup"><span data-stu-id="45fb1-177">Prefetching</span></span>
<span data-ttu-id="45fb1-178">La captura previa permite Hola cola o suscripción cliente tooload mensajes adicionales del servicio de hello cuando realiza una operación de recepción.</span><span class="sxs-lookup"><span data-stu-id="45fb1-178">Prefetching enables hello queue or subscription client tooload additional messages from hello service when it performs a receive operation.</span></span> <span data-ttu-id="45fb1-179">cliente de Hello almacena estos mensajes en una caché local.</span><span class="sxs-lookup"><span data-stu-id="45fb1-179">hello client stores these messages in a local cache.</span></span> <span data-ttu-id="45fb1-180">tamaño de Hola de caché de hello viene determinado por hello [QueueClient.PrefetchCount] [ QueueClient.PrefetchCount] o [SubscriptionClient.PrefetchCount] [ SubscriptionClient.PrefetchCount] Propiedades.</span><span class="sxs-lookup"><span data-stu-id="45fb1-180">hello size of hello cache is determined by hello [QueueClient.PrefetchCount][QueueClient.PrefetchCount] or [SubscriptionClient.PrefetchCount][SubscriptionClient.PrefetchCount] properties.</span></span> <span data-ttu-id="45fb1-181">Cada cliente con la captura previa habilitada mantiene su propia memoria caché.</span><span class="sxs-lookup"><span data-stu-id="45fb1-181">Each client that enables prefetching maintains its own cache.</span></span> <span data-ttu-id="45fb1-182">La memoria caché no se comparte entre los clientes.</span><span class="sxs-lookup"><span data-stu-id="45fb1-182">A cache is not shared across clients.</span></span> <span data-ttu-id="45fb1-183">Si el cliente de hello inicia una operación de recepción y su memoria caché está vacía, el servicio de hello transmite un lote de mensajes.</span><span class="sxs-lookup"><span data-stu-id="45fb1-183">If hello client initiates a receive operation and its cache is empty, hello service transmits a batch of messages.</span></span> <span data-ttu-id="45fb1-184">tamaño de Hola de lote de hello es igual a tamaño Hola de memoria caché de Hola o 256 KB, lo que sea menor.</span><span class="sxs-lookup"><span data-stu-id="45fb1-184">hello size of hello batch equals hello size of hello cache or 256 KB, whichever is smaller.</span></span> <span data-ttu-id="45fb1-185">Si Hola cliente inicia una operación de recepción y caché de hello contiene un mensaje, mensaje de bienvenida se realiza desde la caché de Hola.</span><span class="sxs-lookup"><span data-stu-id="45fb1-185">If hello client initiates a receive operation and hello cache contains a message, hello message is taken from hello cache.</span></span>

<span data-ttu-id="45fb1-186">Cuando un mensaje se realiza la captura previa, Hola servicio bloqueos Hola mensaje con captura previa.</span><span class="sxs-lookup"><span data-stu-id="45fb1-186">When a message is prefetched, hello service locks hello prefetched message.</span></span> <span data-ttu-id="45fb1-187">Al hacerlo, no se puede recibir mensaje con captura previa Hola otro destinatario.</span><span class="sxs-lookup"><span data-stu-id="45fb1-187">By doing this, hello prefetched message cannot be received by a different receiver.</span></span> <span data-ttu-id="45fb1-188">Si receptor hello no puede completar mensaje Hola antes de que expire el bloqueo de hello, mensaje de bienvenida se convierte en disponible tooother receptores.</span><span class="sxs-lookup"><span data-stu-id="45fb1-188">If hello receiver cannot complete hello message before hello lock expires, hello message becomes available tooother receivers.</span></span> <span data-ttu-id="45fb1-189">copia de Hello realiza la captura previa de mensajes de bienvenida permanece en memoria caché de Hola.</span><span class="sxs-lookup"><span data-stu-id="45fb1-189">hello prefetched copy of hello message remains in hello cache.</span></span> <span data-ttu-id="45fb1-190">Hello destinatario que consume Hola expirado en caché copia recibirá una excepción al intentar toocomplete ese mensaje.</span><span class="sxs-lookup"><span data-stu-id="45fb1-190">hello receiver that consumes hello expired cached copy will receive an exception when it tries toocomplete that message.</span></span> <span data-ttu-id="45fb1-191">De forma predeterminada, el bloqueo del mensaje de Hola expira después de 60 segundos.</span><span class="sxs-lookup"><span data-stu-id="45fb1-191">By default, hello message lock expires after 60 seconds.</span></span> <span data-ttu-id="45fb1-192">Este valor puede ser extendido too5 minutos.</span><span class="sxs-lookup"><span data-stu-id="45fb1-192">This value can be extended too5 minutes.</span></span> <span data-ttu-id="45fb1-193">consumo de hello tooprevent de mensajes que han expirado, tamaño de la caché de hello siempre debe ser menor que número Hola de mensajes que puede ser utilizado por un cliente dentro del intervalo de tiempo de espera de bloqueo de saludo.</span><span class="sxs-lookup"><span data-stu-id="45fb1-193">tooprevent hello consumption of expired messages, hello cache size should always be smaller than hello number of messages that can be consumed by a client within hello lock time-out interval.</span></span>

<span data-ttu-id="45fb1-194">Cuando se usa la expiración de bloqueo de saludo predeterminado de 60 segundos, un buen valor para [SubscriptionClient.PrefetchCount] [ SubscriptionClient.PrefetchCount] es 20 veces Hola máximo tasas de procesamiento de todos los destinatarios de fábrica de Hola.</span><span class="sxs-lookup"><span data-stu-id="45fb1-194">When using hello default lock expiration of 60 seconds, a good value for [SubscriptionClient.PrefetchCount][SubscriptionClient.PrefetchCount] is 20 times hello maximum processing rates of all receivers of hello factory.</span></span> <span data-ttu-id="45fb1-195">Por ejemplo, una fábrica crea 3 receptores y cada receptor puede procesar los mensajes de too10 por segundo.</span><span class="sxs-lookup"><span data-stu-id="45fb1-195">For example, a factory creates 3 receivers, and each receiver can process up too10 messages per second.</span></span> <span data-ttu-id="45fb1-196">número de capturas previas Hello no debe superar 20 X 3 X 10 = 600.</span><span class="sxs-lookup"><span data-stu-id="45fb1-196">hello prefetch count should not exceed 20 X 3 X 10 = 600.</span></span> <span data-ttu-id="45fb1-197">De forma predeterminada, [QueueClient.PrefetchCount] [ QueueClient.PrefetchCount] es too0 de conjunto, lo que significa que ningún mensaje adicional se recuperan del servicio de Hola.</span><span class="sxs-lookup"><span data-stu-id="45fb1-197">By default, [QueueClient.PrefetchCount][QueueClient.PrefetchCount] is set too0, which means that no additional messages are fetched from hello service.</span></span>

<span data-ttu-id="45fb1-198">La captura previa mensajes aumenta Hola rendimiento global de una cola o suscripción porque reduce Hola al número total de operaciones de mensajes o viajes de ida y vuelta.</span><span class="sxs-lookup"><span data-stu-id="45fb1-198">Prefetching messages increases hello overall throughput for a queue or subscription because it reduces hello overall number of message operations, or round trips.</span></span> <span data-ttu-id="45fb1-199">Obtener el primer mensaje de Hola, sin embargo, se tardará más tiempo (vence toohello aumentado el tamaño del mensaje).</span><span class="sxs-lookup"><span data-stu-id="45fb1-199">Fetching hello first message, however, will take longer (due toohello increased message size).</span></span> <span data-ttu-id="45fb1-200">Recibir mensajes con captura previa será más rápida porque ya se han descargado estos mensajes por cliente Hola.</span><span class="sxs-lookup"><span data-stu-id="45fb1-200">Receiving prefetched messages will be faster because these messages have already been downloaded by hello client.</span></span>

<span data-ttu-id="45fb1-201">la propiedad time-to-live de (TTL) de Hola de un mensaje se comprueba por servidor hello en tiempo de hello servidor hello envía el cliente de toohello de mensaje de Hola.</span><span class="sxs-lookup"><span data-stu-id="45fb1-201">hello time-to-live (TTL) property of a message is checked by hello server at hello time hello server sends hello message toohello client.</span></span> <span data-ttu-id="45fb1-202">cliente Hello no comprueba la propiedad TTL del mensaje de Hola cuando se recibe el mensaje de bienvenida.</span><span class="sxs-lookup"><span data-stu-id="45fb1-202">hello client does not check hello message’s TTL property when hello message is received.</span></span> <span data-ttu-id="45fb1-203">En su lugar, se pueden recibir mensajes de bienvenida incluso si ha pasado el TTL del mensaje de Hola mientras se almacenó en caché de los mensajes de bienvenida del cliente Hola.</span><span class="sxs-lookup"><span data-stu-id="45fb1-203">Instead, hello message can be received even if hello message’s TTL has passed while hello message was cached by hello client.</span></span>

<span data-ttu-id="45fb1-204">La captura previa no afecta al número de Hola de operaciones de mensajería facturables y solo está disponible para hello protocolo de cliente de Bus de servicio.</span><span class="sxs-lookup"><span data-stu-id="45fb1-204">Prefetching does not affect hello number of billable messaging operations, and is available only for hello Service Bus client protocol.</span></span> <span data-ttu-id="45fb1-205">Hola protocolo HTTP no admite la captura previa.</span><span class="sxs-lookup"><span data-stu-id="45fb1-205">hello HTTP protocol does not support prefetching.</span></span> <span data-ttu-id="45fb1-206">La captura previa está disponible para las operaciones de recepción sincrónicas y asincrónicas.</span><span class="sxs-lookup"><span data-stu-id="45fb1-206">Prefetching is available for both synchronous and asynchronous receive operations.</span></span>

## <a name="express-queues-and-topics"></a><span data-ttu-id="45fb1-207">Colas y temas exprés</span><span class="sxs-lookup"><span data-stu-id="45fb1-207">Express queues and topics</span></span>

<span data-ttu-id="45fb1-208">Las entidades exprés habilitar los escenarios de menor latencia y alto rendimiento y solo se admiten en nivel de mensajería estándar Hola.</span><span class="sxs-lookup"><span data-stu-id="45fb1-208">Express entities enable high throughput and reduced latency scenarios, and are supported only in hello Standard messaging tier.</span></span> <span data-ttu-id="45fb1-209">Entidades creadas en [los espacios de nombres Premium](service-bus-premium-messaging.md) no admiten la opción rápida Hola.</span><span class="sxs-lookup"><span data-stu-id="45fb1-209">Entities created in [Premium namespaces](service-bus-premium-messaging.md) do not support hello express option.</span></span> <span data-ttu-id="45fb1-210">Con las entidades exprés, si se envía un mensaje tooa cola o tema, mensaje de bienvenida no se inmediatamente almacena en el almacén de mensajes de Hola.</span><span class="sxs-lookup"><span data-stu-id="45fb1-210">With express entities, if a message is sent tooa queue or topic, hello message is not immediately stored in hello messaging store.</span></span> <span data-ttu-id="45fb1-211">En su lugar, se almacena en la memoria caché.</span><span class="sxs-lookup"><span data-stu-id="45fb1-211">Instead, it is cached in memory.</span></span> <span data-ttu-id="45fb1-212">Si un mensaje permanece en la cola de Hola durante más de unos segundos, se escribe automáticamente almacenamiento toostable, lo que se protege contra la pérdida de vencimiento tooan interrupción.</span><span class="sxs-lookup"><span data-stu-id="45fb1-212">If a message remains in hello queue for more than a few seconds, it is automatically written toostable storage, thus protecting it against loss due tooan outage.</span></span> <span data-ttu-id="45fb1-213">Escribir mensaje de saludo en una memoria caché aumenta el rendimiento y reduce la latencia porque no hay ningún acceso toostable storage en el mensaje de saludo de tiempo de Hola se envía.</span><span class="sxs-lookup"><span data-stu-id="45fb1-213">Writing hello message into a memory cache increases throughput and reduces latency because there is no access toostable storage at hello time hello message is sent.</span></span> <span data-ttu-id="45fb1-214">Los mensajes que se consumen en cuestión de segundos no se escriben toohello almacén de mensajes.</span><span class="sxs-lookup"><span data-stu-id="45fb1-214">Messages that are consumed within a few seconds are not written toohello messaging store.</span></span> <span data-ttu-id="45fb1-215">Hola de ejemplo siguiente crea un tema exprés.</span><span class="sxs-lookup"><span data-stu-id="45fb1-215">hello following example creates an express topic.</span></span>

```csharp
TopicDescription td = new TopicDescription(TopicName);
td.EnableExpress = true;
namespaceManager.CreateTopic(td);
```

<span data-ttu-id="45fb1-216">Si un mensaje que contiene información importante que no debe perderse se envía la entidad exprés tooan, remitente Hola puede forzar el Bus de servicio tooimmediately persista almacenamiento de toostable de mensajes de Hola Hola establecer [ForcePersistence] [ ForcePersistence] propiedad demasiado**true**.</span><span class="sxs-lookup"><span data-stu-id="45fb1-216">If a message containing critical information that must not be lost is sent tooan express entity, hello sender can force Service Bus tooimmediately persist hello message toostable storage by setting hello [ForcePersistence][ForcePersistence] property too**true**.</span></span>

> [!NOTE]
> <span data-ttu-id="45fb1-217">Las entidades con la opción Rápido no admiten transacciones.</span><span class="sxs-lookup"><span data-stu-id="45fb1-217">Express entities do not support transactions.</span></span>

## <a name="use-of-partitioned-queues-or-topics"></a><span data-ttu-id="45fb1-218">Uso de colas o temas con particiones</span><span class="sxs-lookup"><span data-stu-id="45fb1-218">Use of partitioned queues or topics</span></span>
<span data-ttu-id="45fb1-219">Internamente, Bus de servicio usa Hola mismo nodo y tooprocess de almacén de mensajería y almacena todos los mensajes para una entidad de mensajería (cola o tema).</span><span class="sxs-lookup"><span data-stu-id="45fb1-219">Internally, Service Bus uses hello same node and messaging store tooprocess and store all messages for a messaging entity (queue or topic).</span></span> <span data-ttu-id="45fb1-220">Una cola o tema particionado, en hello otra parte, se distribuye por varios nodos y almacenes de mensajería.</span><span class="sxs-lookup"><span data-stu-id="45fb1-220">A partitioned queue or topic, on hello other hand, is distributed across multiple nodes and messaging stores.</span></span> <span data-ttu-id="45fb1-221">Las colas y los temas con particiones no solo producen un rendimiento mayor que las colas y los temas normales, sino que también ofrecen una mayor disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="45fb1-221">Partitioned queues and topics not only yield a higher throughput than regular queues and topics, they also exhibit superior availability.</span></span> <span data-ttu-id="45fb1-222">toocreate una entidad particionada, conjunto hello [EnablePartitioning] [ EnablePartitioning] propiedad demasiado**true**, tal y como se muestra en el siguiente ejemplo de Hola.</span><span class="sxs-lookup"><span data-stu-id="45fb1-222">toocreate a partitioned entity, set hello [EnablePartitioning][EnablePartitioning] property too**true**, as shown in hello following example.</span></span> <span data-ttu-id="45fb1-223">Para obtener más información sobre las entidades con particiones, consulte [Entidades de mensajería con particiones][Partitioned messaging entities].</span><span class="sxs-lookup"><span data-stu-id="45fb1-223">For more information about partitioned entities, see [Partitioned messaging entities][Partitioned messaging entities].</span></span>

```csharp
// Create partitioned queue.
QueueDescription qd = new QueueDescription(QueueName);
qd.EnablePartitioning = true;
namespaceManager.CreateQueue(qd);
```

## <a name="use-of-multiple-queues"></a><span data-ttu-id="45fb1-224">Uso de varias colas</span><span class="sxs-lookup"><span data-stu-id="45fb1-224">Use of multiple queues</span></span>

<span data-ttu-id="45fb1-225">Si no es posible toouse que una cola o tema o particionado Hola espera de carga no puede controlar una única cola o tema particionados, debe usar varias entidades de mensajes.</span><span class="sxs-lookup"><span data-stu-id="45fb1-225">If it is not possible toouse a partitioned queue or topic, or hello expected load cannot be handled by a single partitioned queue or topic, you must use multiple messaging entities.</span></span> <span data-ttu-id="45fb1-226">Al usar varias entidades, cree un cliente dedicado para cada entidad, en lugar de usar Hola mismo cliente para todas las entidades.</span><span class="sxs-lookup"><span data-stu-id="45fb1-226">When using multiple entities, create a dedicated client for each entity, instead of using hello same client for all entities.</span></span>

## <a name="development-and-testing-features"></a><span data-ttu-id="45fb1-227">Características de desarrollo y pruebas</span><span class="sxs-lookup"><span data-stu-id="45fb1-227">Development and testing features</span></span>

<span data-ttu-id="45fb1-228">Service Bus tiene una característica que se utiliza específicamente para desarrollo que **nunca debe utilizarse en configuraciones de producción**: [TopicDescription.EnableFilteringMessagesBeforePublishing][].</span><span class="sxs-lookup"><span data-stu-id="45fb1-228">Service Bus has one feature that is used specifically for development which **should never be used in production configurations**: [TopicDescription.EnableFilteringMessagesBeforePublishing][].</span></span>

<span data-ttu-id="45fb1-229">Cuando se agregan nuevas reglas o filtros el tema toohello, puede usar [TopicDescription.EnableFilteringMessagesBeforePublishing][] tooverify que Hola nueva expresión de filtro funciona según lo previsto.</span><span class="sxs-lookup"><span data-stu-id="45fb1-229">When new rules or filters are added toohello topic, you can use [TopicDescription.EnableFilteringMessagesBeforePublishing][] tooverify that hello new filter expression is working as expected.</span></span>

## <a name="scenarios"></a><span data-ttu-id="45fb1-230">Escenarios</span><span class="sxs-lookup"><span data-stu-id="45fb1-230">Scenarios</span></span>
<span data-ttu-id="45fb1-231">Hello las secciones siguientes describen los escenarios de mensajería típicos y describen la configuración de Bus de servicio de hello preferido.</span><span class="sxs-lookup"><span data-stu-id="45fb1-231">hello following sections describe typical messaging scenarios and outline hello preferred Service Bus settings.</span></span> <span data-ttu-id="45fb1-232">Las tasas de rendimiento se clasifican como pequeñas (menos de 1 mensaje/segundo), moderadas (1 mensaje/segundo o más, pero menos de 100 mensajes/segundo) y altas (100 mensajes/segundo o más).</span><span class="sxs-lookup"><span data-stu-id="45fb1-232">Throughput rates are classified as small (less than 1 message/second), moderate (1 message/second or greater but less than 100 messages/second) and high (100 messages/second or greater).</span></span> <span data-ttu-id="45fb1-233">Hello número de clientes que son pequeños moderados (5 o menos), (más de 5 pero menor que o igual too20) y gran tamaño (más de 20).</span><span class="sxs-lookup"><span data-stu-id="45fb1-233">hello number of clients are classified as small (5 or fewer), moderate (more than 5 but less than or equal too20), and large (more than 20).</span></span>

### <a name="high-throughput-queue"></a><span data-ttu-id="45fb1-234">Cola de alto rendimiento</span><span class="sxs-lookup"><span data-stu-id="45fb1-234">High-throughput queue</span></span>
<span data-ttu-id="45fb1-235">Objetivo: Maximizar el rendimiento de Hola de una sola cola.</span><span class="sxs-lookup"><span data-stu-id="45fb1-235">Goal: Maximize hello throughput of a single queue.</span></span> <span data-ttu-id="45fb1-236">Hola número de remitentes y destinatarios es pequeño.</span><span class="sxs-lookup"><span data-stu-id="45fb1-236">hello number of senders and receivers is small.</span></span>

* <span data-ttu-id="45fb1-237">Use una cola particionada para mejorar la disponibilidad y el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="45fb1-237">Use a partitioned queue for improved performance and availability.</span></span>
* <span data-ttu-id="45fb1-238">Hola tooincrease general tasa de envío en la cola de hello, utilice varios remitentes de toocreate de generadores de mensajes.</span><span class="sxs-lookup"><span data-stu-id="45fb1-238">tooincrease hello overall send rate into hello queue, use multiple message factories toocreate senders.</span></span> <span data-ttu-id="45fb1-239">Para cada remitente, use operaciones asincrónicas o varios subprocesos.</span><span class="sxs-lookup"><span data-stu-id="45fb1-239">For each sender, use asynchronous operations or multiple threads.</span></span>
* <span data-ttu-id="45fb1-240">Hola tooincrease general velocidad de recepción de cola de hello, utilice varios receptores de toocreate de generadores de mensaje.</span><span class="sxs-lookup"><span data-stu-id="45fb1-240">tooincrease hello overall receive rate from hello queue, use multiple message factories toocreate receivers.</span></span>
* <span data-ttu-id="45fb1-241">Utilice las operaciones asincrónicas tootake aprovechar el procesamiento por lotes de cliente.</span><span class="sxs-lookup"><span data-stu-id="45fb1-241">Use asynchronous operations tootake advantage of client-side batching.</span></span>
* <span data-ttu-id="45fb1-242">Establecer Hola número de intervalo too50ms tooreduce Hola de las transmisiones de protocolo de cliente de Bus de servicio de procesamiento por lotes.</span><span class="sxs-lookup"><span data-stu-id="45fb1-242">Set hello batching interval too50ms tooreduce hello number of Service Bus client protocol transmissions.</span></span> <span data-ttu-id="45fb1-243">Si se utilizan varios remitentes, aumente hello too100ms de intervalo de procesamiento por lotes.</span><span class="sxs-lookup"><span data-stu-id="45fb1-243">If multiple senders are used, increase hello batching interval too100ms.</span></span>
* <span data-ttu-id="45fb1-244">Deje habilitado el acceso al almacén de procesamiento por lotes.</span><span class="sxs-lookup"><span data-stu-id="45fb1-244">Leave batched store access enabled.</span></span> <span data-ttu-id="45fb1-245">Esto aumenta Hola general tasa a la que se pueden escribir mensajes en cola de Hola.</span><span class="sxs-lookup"><span data-stu-id="45fb1-245">This increases hello overall rate at which messages can be written into hello queue.</span></span>
* <span data-ttu-id="45fb1-246">Establecer tiempos de too20 de recuento de hello precarga de velocidad de procesamiento máxima de Hola de todos los destinatarios de una fábrica.</span><span class="sxs-lookup"><span data-stu-id="45fb1-246">Set hello prefetch count too20 times hello maximum processing rates of all receivers of a factory.</span></span> <span data-ttu-id="45fb1-247">Esto reduce el número de Hola de las transmisiones de protocolo de cliente de Bus de servicio.</span><span class="sxs-lookup"><span data-stu-id="45fb1-247">This reduces hello number of Service Bus client protocol transmissions.</span></span>

### <a name="multiple-high-throughput-queues"></a><span data-ttu-id="45fb1-248">Varias colas de alto rendimiento</span><span class="sxs-lookup"><span data-stu-id="45fb1-248">Multiple high-throughput queues</span></span>
<span data-ttu-id="45fb1-249">Objetivo: Maximizar el rendimiento general de varias colas.</span><span class="sxs-lookup"><span data-stu-id="45fb1-249">Goal: Maximize overall throughput of multiple queues.</span></span> <span data-ttu-id="45fb1-250">rendimiento de Hola de una cola individual es moderado o alto.</span><span class="sxs-lookup"><span data-stu-id="45fb1-250">hello throughput of an individual queue is moderate or high.</span></span>

<span data-ttu-id="45fb1-251">tooobtain al máximo el rendimiento a través de varias colas, usar la configuración de hello describe el rendimiento de hello toomaximize de una sola cola.</span><span class="sxs-lookup"><span data-stu-id="45fb1-251">tooobtain maximum throughput across multiple queues, use hello settings outlined toomaximize hello throughput of a single queue.</span></span> <span data-ttu-id="45fb1-252">Además, usar a los clientes de toocreate distintas fábricas que envíen o reciban desde diferentes colas.</span><span class="sxs-lookup"><span data-stu-id="45fb1-252">In addition, use different factories toocreate clients that send or receive from different queues.</span></span>

### <a name="low-latency-queue"></a><span data-ttu-id="45fb1-253">Cola de baja latencia</span><span class="sxs-lookup"><span data-stu-id="45fb1-253">Low latency queue</span></span>
<span data-ttu-id="45fb1-254">Objetivo: minimizar la latencia de un extremo a otro de una cola o un tema.</span><span class="sxs-lookup"><span data-stu-id="45fb1-254">Goal: Minimize end-to-end latency of a queue or topic.</span></span> <span data-ttu-id="45fb1-255">Hola número de remitentes y destinatarios es pequeño.</span><span class="sxs-lookup"><span data-stu-id="45fb1-255">hello number of senders and receivers is small.</span></span> <span data-ttu-id="45fb1-256">rendimiento de Hola de cola de hello es pequeño o moderado.</span><span class="sxs-lookup"><span data-stu-id="45fb1-256">hello throughput of hello queue is small or moderate.</span></span>

* <span data-ttu-id="45fb1-257">Use una cola particionada para mejorar la disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="45fb1-257">Use a partitioned queue for improved availability.</span></span>
* <span data-ttu-id="45fb1-258">Deshabilite el procesamiento por lotes del lado cliente.</span><span class="sxs-lookup"><span data-stu-id="45fb1-258">Disable client-side batching.</span></span> <span data-ttu-id="45fb1-259">cliente de Hello envía inmediatamente un mensaje.</span><span class="sxs-lookup"><span data-stu-id="45fb1-259">hello client immediately sends a message.</span></span>
* <span data-ttu-id="45fb1-260">Deshabilite el acceso al almacén de procesamiento por lotes.</span><span class="sxs-lookup"><span data-stu-id="45fb1-260">Disable batched store access.</span></span> <span data-ttu-id="45fb1-261">servicio de Hello escribe inmediatamente el almacén de toohello de mensajes de Hola.</span><span class="sxs-lookup"><span data-stu-id="45fb1-261">hello service immediately writes hello message toohello store.</span></span>
* <span data-ttu-id="45fb1-262">Si usa a un solo cliente, establezca el velocidad de procesamiento de hello precarga recuento too20 veces Hola de receptor de Hola.</span><span class="sxs-lookup"><span data-stu-id="45fb1-262">If using a single client, set hello prefetch count too20 times hello processing rate of hello receiver.</span></span> <span data-ttu-id="45fb1-263">Si llegan varios mensajes en cola Hola Hola mismo tiempo, Hola protocolo de cliente de Bus de servicio transmitirá todos al Hola mismo tiempo.</span><span class="sxs-lookup"><span data-stu-id="45fb1-263">If multiple messages arrive at hello queue at hello same time, hello Service Bus client protocol transmits them all at hello same time.</span></span> <span data-ttu-id="45fb1-264">Cuando el cliente de hello recibe mensajes de bienvenida del siguiente, ese mensaje ya está en memoria caché local de Hola.</span><span class="sxs-lookup"><span data-stu-id="45fb1-264">When hello client receives hello next message, that message is already in hello local cache.</span></span> <span data-ttu-id="45fb1-265">caché de Hello debería ser bajo.</span><span class="sxs-lookup"><span data-stu-id="45fb1-265">hello cache should be small.</span></span>
* <span data-ttu-id="45fb1-266">Si usa a varios clientes, defina too0 de recuento de precarga de Hola.</span><span class="sxs-lookup"><span data-stu-id="45fb1-266">If using multiple clients, set hello prefetch count too0.</span></span> <span data-ttu-id="45fb1-267">Al hacerlo, Hola segundo cliente puede recibir mensajes de bienvenida del segundo mientras el primer cliente de hello todavía está procesando el primer mensaje de Hola.</span><span class="sxs-lookup"><span data-stu-id="45fb1-267">By doing this, hello second client can receive hello second message while hello first client is still processing hello first message.</span></span>

### <a name="queue-with-a-large-number-of-senders"></a><span data-ttu-id="45fb1-268">Cola con un gran número de remitentes</span><span class="sxs-lookup"><span data-stu-id="45fb1-268">Queue with a large number of senders</span></span>
<span data-ttu-id="45fb1-269">Objetivo: maximizar el rendimiento de una cola o un tema con un gran número de remitentes.</span><span class="sxs-lookup"><span data-stu-id="45fb1-269">Goal: Maximize throughput of a queue or topic with a large number of senders.</span></span> <span data-ttu-id="45fb1-270">Cada remitente envía mensajes a una tasa moderada.</span><span class="sxs-lookup"><span data-stu-id="45fb1-270">Each sender sends messages with a moderate rate.</span></span> <span data-ttu-id="45fb1-271">número de Hola de destinatarios es pequeño.</span><span class="sxs-lookup"><span data-stu-id="45fb1-271">hello number of receivers is small.</span></span>

<span data-ttu-id="45fb1-272">Bus de servicio permite una entidad de mensajería de too1000 conexiones simultáneas tooa (o 5000 mediante AMQP).</span><span class="sxs-lookup"><span data-stu-id="45fb1-272">Service Bus enables up too1000 concurrent connections tooa messaging entity (or 5000 using AMQP).</span></span> <span data-ttu-id="45fb1-273">Este límite se aplica en el nivel de espacio de nombres de Hola y las colas, temas/suscripciones quedan restringidas por límite de Hola de conexiones simultáneas por espacio de nombres.</span><span class="sxs-lookup"><span data-stu-id="45fb1-273">This limit is enforced at hello namespace level, and queues/topics/subscriptions are capped by hello limit of concurrent connections per namespace.</span></span> <span data-ttu-id="45fb1-274">Para las colas, este número se comparte entre remitentes y receptores.</span><span class="sxs-lookup"><span data-stu-id="45fb1-274">For queues, this number is shared between senders and receivers.</span></span> <span data-ttu-id="45fb1-275">Si todas las conexiones de 1000 son necesarias para los remitentes, debe reemplazar Hola cola con un tema y una sola suscripción.</span><span class="sxs-lookup"><span data-stu-id="45fb1-275">If all 1000 connections are required for senders, you should replace hello queue with a topic and a single subscription.</span></span> <span data-ttu-id="45fb1-276">Un tema acepta too1000 conexiones simultáneas de remitentes, mientras que la suscripción de hello acepta un adicionales 1000 conexiones simultáneas a destinatarios.</span><span class="sxs-lookup"><span data-stu-id="45fb1-276">A topic accepts up too1000 concurrent connections from senders, whereas hello subscription accepts an additional 1000 concurrent connections from receivers.</span></span> <span data-ttu-id="45fb1-277">Si se requieren más de 1000 remitentes simultáneos, Hola deberán enviar mensajes toohello protocolo de Service Bus a través de HTTP.</span><span class="sxs-lookup"><span data-stu-id="45fb1-277">If more than 1000 concurrent senders are required, hello senders should send messages toohello Service Bus protocol via HTTP.</span></span>

<span data-ttu-id="45fb1-278">rendimiento de toomaximize, Hola siguientes:</span><span class="sxs-lookup"><span data-stu-id="45fb1-278">toomaximize throughput, do hello following:</span></span>

* <span data-ttu-id="45fb1-279">Use una cola particionada para mejorar la disponibilidad y el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="45fb1-279">Use a partitioned queue for improved performance and availability.</span></span>
* <span data-ttu-id="45fb1-280">Si cada remitente reside en un proceso diferente, use solo una única factoría para cada proceso.</span><span class="sxs-lookup"><span data-stu-id="45fb1-280">If each sender resides in a different process, use only a single factory per process.</span></span>
* <span data-ttu-id="45fb1-281">Utilice las operaciones asincrónicas tootake aprovechar el procesamiento por lotes de cliente.</span><span class="sxs-lookup"><span data-stu-id="45fb1-281">Use asynchronous operations tootake advantage of client-side batching.</span></span>
* <span data-ttu-id="45fb1-282">Usar valor predeterminado de hello intervalo de 20 ms. tooreduce Hola número de transmisiones de protocolo de cliente de Bus de servicio de procesamiento por lotes.</span><span class="sxs-lookup"><span data-stu-id="45fb1-282">Use hello default batching interval of 20ms tooreduce hello number of Service Bus client protocol transmissions.</span></span>
* <span data-ttu-id="45fb1-283">Deje habilitado el acceso al almacén de procesamiento por lotes.</span><span class="sxs-lookup"><span data-stu-id="45fb1-283">Leave batched store access enabled.</span></span> <span data-ttu-id="45fb1-284">Esto aumenta Hola general tasa a la que se pueden escribir mensajes en cola de Hola o un tema.</span><span class="sxs-lookup"><span data-stu-id="45fb1-284">This increases hello overall rate at which messages can be written into hello queue or topic.</span></span>
* <span data-ttu-id="45fb1-285">Establecer tiempos de too20 de recuento de hello precarga de velocidad de procesamiento máxima de Hola de todos los destinatarios de una fábrica.</span><span class="sxs-lookup"><span data-stu-id="45fb1-285">Set hello prefetch count too20 times hello maximum processing rates of all receivers of a factory.</span></span> <span data-ttu-id="45fb1-286">Esto reduce el número de Hola de las transmisiones de protocolo de cliente de Bus de servicio.</span><span class="sxs-lookup"><span data-stu-id="45fb1-286">This reduces hello number of Service Bus client protocol transmissions.</span></span>

### <a name="queue-with-a-large-number-of-receivers"></a><span data-ttu-id="45fb1-287">Cola con un gran número de receptores</span><span class="sxs-lookup"><span data-stu-id="45fb1-287">Queue with a large number of receivers</span></span>
<span data-ttu-id="45fb1-288">Objetivo: Maximizar Hola velocidad de una cola o suscripción con un gran número de destinatarios de recepción.</span><span class="sxs-lookup"><span data-stu-id="45fb1-288">Goal: Maximize hello receive rate of a queue or subscription with a large number of receivers.</span></span> <span data-ttu-id="45fb1-289">Cada receptor recibe mensajes a una tasa moderada.</span><span class="sxs-lookup"><span data-stu-id="45fb1-289">Each receiver receives messages at a moderate rate.</span></span> <span data-ttu-id="45fb1-290">número de Hola de remitentes es pequeño.</span><span class="sxs-lookup"><span data-stu-id="45fb1-290">hello number of senders is small.</span></span>

<span data-ttu-id="45fb1-291">Bus de servicio permite que una entidad de tooan de too1000 conexiones simultáneas.</span><span class="sxs-lookup"><span data-stu-id="45fb1-291">Service Bus enables up too1000 concurrent connections tooan entity.</span></span> <span data-ttu-id="45fb1-292">Si una cola requiere más de 1000 receptores, debe reemplazar Hola cola con un tema y varias suscripciones.</span><span class="sxs-lookup"><span data-stu-id="45fb1-292">If a queue requires more than 1000 receivers, you should replace hello queue with a topic and multiple subscriptions.</span></span> <span data-ttu-id="45fb1-293">Cada suscripción puede admitir hasta too1000 de conexiones simultáneas.</span><span class="sxs-lookup"><span data-stu-id="45fb1-293">Each subscription can support up too1000 concurrent connections.</span></span> <span data-ttu-id="45fb1-294">Como alternativa, receptores pueden tener acceso a cola de Hola a través del protocolo HTTP Hola.</span><span class="sxs-lookup"><span data-stu-id="45fb1-294">Alternatively, receivers can access hello queue via hello HTTP protocol.</span></span>

<span data-ttu-id="45fb1-295">rendimiento de toomaximize, Hola siguientes:</span><span class="sxs-lookup"><span data-stu-id="45fb1-295">toomaximize throughput, do hello following:</span></span>

* <span data-ttu-id="45fb1-296">Use una cola particionada para mejorar la disponibilidad y el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="45fb1-296">Use a partitioned queue for improved performance and availability.</span></span>
* <span data-ttu-id="45fb1-297">Si cada receptor reside en un proceso diferente, use solo una única factoría por proceso.</span><span class="sxs-lookup"><span data-stu-id="45fb1-297">If each receiver resides in a different process, use only a single factory per process.</span></span>
* <span data-ttu-id="45fb1-298">Los receptores pueden usar operaciones sincrónicas o asincrónicas.</span><span class="sxs-lookup"><span data-stu-id="45fb1-298">Receivers can use synchronous or asynchronous operations.</span></span> <span data-ttu-id="45fb1-299">Debido a moderada Hola velocidad de un destinatario individual de recepción, procesamiento por lotes de cliente de una solicitud completar no afecta al rendimiento del receptor.</span><span class="sxs-lookup"><span data-stu-id="45fb1-299">Given hello moderate receive rate of an individual receiver, client-side batching of a Complete request does not affect receiver throughput.</span></span>
* <span data-ttu-id="45fb1-300">Deje habilitado el acceso al almacén de procesamiento por lotes.</span><span class="sxs-lookup"><span data-stu-id="45fb1-300">Leave batched store access enabled.</span></span> <span data-ttu-id="45fb1-301">Esto reduce Hola carga global de entidad de Hola.</span><span class="sxs-lookup"><span data-stu-id="45fb1-301">This reduces hello overall load of hello entity.</span></span> <span data-ttu-id="45fb1-302">También reduce Hola velocidad global con la que se pueden escribir mensajes en cola de Hola o un tema.</span><span class="sxs-lookup"><span data-stu-id="45fb1-302">It also reduces hello overall rate at which messages can be written into hello queue or topic.</span></span>
* <span data-ttu-id="45fb1-303">Establecer valor pequeño tooa del recuento de precarga de hello (por ejemplo, PrefetchCount = 10).</span><span class="sxs-lookup"><span data-stu-id="45fb1-303">Set hello prefetch count tooa small value (for example, PrefetchCount = 10).</span></span> <span data-ttu-id="45fb1-304">Esto evita que haya receptores inactivos mientras otros tienen un gran número de mensajes almacenados en caché.</span><span class="sxs-lookup"><span data-stu-id="45fb1-304">This prevents receivers from being idle while other receivers have large numbers of messages cached.</span></span>

### <a name="topic-with-a-small-number-of-subscriptions"></a><span data-ttu-id="45fb1-305">Tema con un número pequeño de suscripciones</span><span class="sxs-lookup"><span data-stu-id="45fb1-305">Topic with a small number of subscriptions</span></span>
<span data-ttu-id="45fb1-306">Objetivo: Maximizar el rendimiento de Hola de un tema con un número pequeño de suscripciones.</span><span class="sxs-lookup"><span data-stu-id="45fb1-306">Goal: Maximize hello throughput of a topic with a small number of subscriptions.</span></span> <span data-ttu-id="45fb1-307">Se recibe un mensaje en numerosas suscripciones, lo que significa Hola combinan recepción velocidad en todas las suscripciones es mayor que la velocidad de envío de Hola.</span><span class="sxs-lookup"><span data-stu-id="45fb1-307">A message is received by many subscriptions, which means hello combined receive rate over all subscriptions is larger than hello send rate.</span></span> <span data-ttu-id="45fb1-308">número de Hola de remitentes es pequeño.</span><span class="sxs-lookup"><span data-stu-id="45fb1-308">hello number of senders is small.</span></span> <span data-ttu-id="45fb1-309">Hola número de destinatarios por suscripción es pequeño.</span><span class="sxs-lookup"><span data-stu-id="45fb1-309">hello number of receivers per subscription is small.</span></span>

<span data-ttu-id="45fb1-310">rendimiento de toomaximize, Hola siguientes:</span><span class="sxs-lookup"><span data-stu-id="45fb1-310">toomaximize throughput, do hello following:</span></span>

* <span data-ttu-id="45fb1-311">Use un tema con particiones para mejorar la disponibilidad y el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="45fb1-311">Use a partitioned topic for improved performance and availability.</span></span>
* <span data-ttu-id="45fb1-312">Hola tooincrease general tasa de envío en el tema de hello, utilice varios remitentes de toocreate de generadores de mensajes.</span><span class="sxs-lookup"><span data-stu-id="45fb1-312">tooincrease hello overall send rate into hello topic, use multiple message factories toocreate senders.</span></span> <span data-ttu-id="45fb1-313">Para cada remitente, use operaciones asincrónicas o varios subprocesos.</span><span class="sxs-lookup"><span data-stu-id="45fb1-313">For each sender, use asynchronous operations or multiple threads.</span></span>
* <span data-ttu-id="45fb1-314">Hola tooincrease general velocidad de recepción de una suscripción, utilice varios receptores de toocreate de generadores de mensaje.</span><span class="sxs-lookup"><span data-stu-id="45fb1-314">tooincrease hello overall receive rate from a subscription, use multiple message factories toocreate receivers.</span></span> <span data-ttu-id="45fb1-315">Para cada receptor, use operaciones asincrónicas o varios subprocesos.</span><span class="sxs-lookup"><span data-stu-id="45fb1-315">For each receiver, use asynchronous operations or multiple threads.</span></span>
* <span data-ttu-id="45fb1-316">Utilice las operaciones asincrónicas tootake aprovechar el procesamiento por lotes de cliente.</span><span class="sxs-lookup"><span data-stu-id="45fb1-316">Use asynchronous operations tootake advantage of client-side batching.</span></span>
* <span data-ttu-id="45fb1-317">Usar valor predeterminado de hello intervalo de 20 ms. tooreduce Hola número de transmisiones de protocolo de cliente de Bus de servicio de procesamiento por lotes.</span><span class="sxs-lookup"><span data-stu-id="45fb1-317">Use hello default batching interval of 20ms tooreduce hello number of Service Bus client protocol transmissions.</span></span>
* <span data-ttu-id="45fb1-318">Deje habilitado el acceso al almacén de procesamiento por lotes.</span><span class="sxs-lookup"><span data-stu-id="45fb1-318">Leave batched store access enabled.</span></span> <span data-ttu-id="45fb1-319">Esto aumenta Hola general tasa a la que se pueden escribir mensajes en el tema de Hola.</span><span class="sxs-lookup"><span data-stu-id="45fb1-319">This increases hello overall rate at which messages can be written into hello topic.</span></span>
* <span data-ttu-id="45fb1-320">Establecer tiempos de too20 de recuento de hello precarga de velocidad de procesamiento máxima de Hola de todos los destinatarios de una fábrica.</span><span class="sxs-lookup"><span data-stu-id="45fb1-320">Set hello prefetch count too20 times hello maximum processing rates of all receivers of a factory.</span></span> <span data-ttu-id="45fb1-321">Esto reduce el número de Hola de las transmisiones de protocolo de cliente de Bus de servicio.</span><span class="sxs-lookup"><span data-stu-id="45fb1-321">This reduces hello number of Service Bus client protocol transmissions.</span></span>

### <a name="topic-with-a-large-number-of-subscriptions"></a><span data-ttu-id="45fb1-322">Tema con un gran número de suscripciones</span><span class="sxs-lookup"><span data-stu-id="45fb1-322">Topic with a large number of subscriptions</span></span>
<span data-ttu-id="45fb1-323">Objetivo: Maximizar el rendimiento de Hola de un tema con un gran número de suscripciones.</span><span class="sxs-lookup"><span data-stu-id="45fb1-323">Goal: Maximize hello throughput of a topic with a large number of subscriptions.</span></span> <span data-ttu-id="45fb1-324">Se recibe un mensaje en numerosas suscripciones, lo que significa Hola combinan recepción velocidad en todas las suscripciones es mucho mayor que la velocidad de envío de Hola.</span><span class="sxs-lookup"><span data-stu-id="45fb1-324">A message is received by many subscriptions, which means hello combined receive rate over all subscriptions is much larger than hello send rate.</span></span> <span data-ttu-id="45fb1-325">número de Hola de remitentes es pequeño.</span><span class="sxs-lookup"><span data-stu-id="45fb1-325">hello number of senders is small.</span></span> <span data-ttu-id="45fb1-326">Hola número de destinatarios por suscripción es pequeño.</span><span class="sxs-lookup"><span data-stu-id="45fb1-326">hello number of receivers per subscription is small.</span></span>

<span data-ttu-id="45fb1-327">Temas con un gran número de suscripciones suelen exponen un bajo rendimiento global si todos los mensajes enrutados tooall suscripciones.</span><span class="sxs-lookup"><span data-stu-id="45fb1-327">Topics with a large number of subscriptions typically expose a low overall throughput if all messages are routed tooall subscriptions.</span></span> <span data-ttu-id="45fb1-328">Esto se debe a hechos de Hola que cada mensaje se recibe muchas veces y todos los mensajes que se encuentran en un tema y todas sus suscripciones se almacenan en hello mismo almacenar.</span><span class="sxs-lookup"><span data-stu-id="45fb1-328">This is caused by hello fact that each message is received many times, and all messages that are contained in a topic and all its subscriptions are stored in hello same store.</span></span> <span data-ttu-id="45fb1-329">Se supone que el número de Hola de remitentes y el número de destinatarios por suscripción estén pequeños.</span><span class="sxs-lookup"><span data-stu-id="45fb1-329">It is assumed that hello number of senders and number of receivers per subscription is small.</span></span> <span data-ttu-id="45fb1-330">Bus de servicio admite hasta too2, 000 suscripciones por tema.</span><span class="sxs-lookup"><span data-stu-id="45fb1-330">Service Bus supports up too2,000 subscriptions per topic.</span></span>

<span data-ttu-id="45fb1-331">rendimiento de toomaximize, Hola siguientes:</span><span class="sxs-lookup"><span data-stu-id="45fb1-331">toomaximize throughput, do hello following:</span></span>

* <span data-ttu-id="45fb1-332">Use un tema con particiones para mejorar la disponibilidad y el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="45fb1-332">Use a partitioned topic for improved performance and availability.</span></span>
* <span data-ttu-id="45fb1-333">Utilice las operaciones asincrónicas tootake aprovechar el procesamiento por lotes de cliente.</span><span class="sxs-lookup"><span data-stu-id="45fb1-333">Use asynchronous operations tootake advantage of client-side batching.</span></span>
* <span data-ttu-id="45fb1-334">Usar valor predeterminado de hello intervalo de 20 ms. tooreduce Hola número de transmisiones de protocolo de cliente de Bus de servicio de procesamiento por lotes.</span><span class="sxs-lookup"><span data-stu-id="45fb1-334">Use hello default batching interval of 20ms tooreduce hello number of Service Bus client protocol transmissions.</span></span>
* <span data-ttu-id="45fb1-335">Deje habilitado el acceso al almacén de procesamiento por lotes.</span><span class="sxs-lookup"><span data-stu-id="45fb1-335">Leave batched store access enabled.</span></span> <span data-ttu-id="45fb1-336">Esto aumenta Hola general tasa a la que se pueden escribir mensajes en el tema de Hola.</span><span class="sxs-lookup"><span data-stu-id="45fb1-336">This increases hello overall rate at which messages can be written into hello topic.</span></span>
* <span data-ttu-id="45fb1-337">Establezca Hola precarga recuento too20 veces Hola se esperaba recepción de frecuencia en segundos.</span><span class="sxs-lookup"><span data-stu-id="45fb1-337">Set hello prefetch count too20 times hello expected receive rate in seconds.</span></span> <span data-ttu-id="45fb1-338">Esto reduce el número de Hola de las transmisiones de protocolo de cliente de Bus de servicio.</span><span class="sxs-lookup"><span data-stu-id="45fb1-338">This reduces hello number of Service Bus client protocol transmissions.</span></span>

## <a name="next-steps"></a><span data-ttu-id="45fb1-339">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="45fb1-339">Next steps</span></span>
<span data-ttu-id="45fb1-340">toolearn más información acerca de optimizar el rendimiento de Bus de servicio, consulte [particiones entidades de mensajería][Partitioned messaging entities].</span><span class="sxs-lookup"><span data-stu-id="45fb1-340">toolearn more about optimizing Service Bus performance, see [Partitioned messaging entities][Partitioned messaging entities].</span></span>

[QueueClient]: /dotnet/api/microsoft.servicebus.messaging.queueclient
[MessageSender]: /dotnet/api/microsoft.servicebus.messaging.messagesender
[MessagingFactory]: /dotnet/api/microsoft.servicebus.messaging.messagingfactory
[PeekLock]: /dotnet/api/microsoft.servicebus.messaging.receivemode
[ReceiveAndDelete]: /dotnet/api/microsoft.servicebus.messaging.receivemode
[BatchFlushInterval]: /dotnet/api/microsoft.servicebus.messaging.netmessagingtransportsettings.batchflushinterval#Microsoft_ServiceBus_Messaging_NetMessagingTransportSettings_BatchFlushInterval
[EnableBatchedOperations]: /dotnet/api/microsoft.servicebus.messaging.queuedescription.enablebatchedoperations#Microsoft_ServiceBus_Messaging_QueueDescription_EnableBatchedOperations
[QueueClient.PrefetchCount]: /dotnet/api/microsoft.servicebus.messaging.queueclient.prefetchcount#Microsoft_ServiceBus_Messaging_QueueClient_PrefetchCount
[SubscriptionClient.PrefetchCount]: /dotnet/api/microsoft.servicebus.messaging.subscriptionclient.prefetchcount#Microsoft_ServiceBus_Messaging_SubscriptionClient_PrefetchCount
[ForcePersistence]: /dotnet/api/microsoft.servicebus.messaging.brokeredmessage.forcepersistence#Microsoft_ServiceBus_Messaging_BrokeredMessage_ForcePersistence
[EnablePartitioning]: /dotnet/api/microsoft.servicebus.messaging.queuedescription.enablepartitioning#Microsoft_ServiceBus_Messaging_QueueDescription_EnablePartitioning
[Partitioned messaging entities]: service-bus-partitioning.md
[TopicDescription.EnableFilteringMessagesBeforePublishing]: /dotnet/api/microsoft.servicebus.messaging.topicdescription.enablefilteringmessagesbeforepublishing#Microsoft_ServiceBus_Messaging_TopicDescription_EnableFilteringMessagesBeforePublishing
