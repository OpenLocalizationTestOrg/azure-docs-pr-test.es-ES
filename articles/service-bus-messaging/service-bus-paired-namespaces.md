---
title: aaaAzure Service Bus empareja los espacios de nombres | Documentos de Microsoft
description: "Detalles de la implementación y costos de los espacios de nombres emparejados"
services: service-bus-messaging
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 2440c8d3-ed2e-47e0-93cf-ab7fbb855d2e
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 05/25/2017
ms.author: sethm
ms.openlocfilehash: 4c44b2b95d2228e1ad8075b52634d88a1593d3b1
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="paired-namespace-implementation-details-and-cost-implications"></a><span data-ttu-id="1705c-103">Detalles de implementación y costos asociados de los espacios de nombres emparejados</span><span class="sxs-lookup"><span data-stu-id="1705c-103">Paired namespace implementation details and cost implications</span></span>
<span data-ttu-id="1705c-104">Hola [PairNamespaceAsync] [ PairNamespaceAsync] método, con un [SendAvailabilityPairedNamespaceOptions] [ SendAvailabilityPairedNamespaceOptions] de la instancia, realiza tareas visibles en su nombre.</span><span class="sxs-lookup"><span data-stu-id="1705c-104">hello [PairNamespaceAsync][PairNamespaceAsync] method, using a [SendAvailabilityPairedNamespaceOptions][SendAvailabilityPairedNamespaceOptions] instance, performs visible tasks on your behalf.</span></span> <span data-ttu-id="1705c-105">Dado que existen consideraciones de coste al usar la característica de hello, es útil toounderstand las tareas para que se espere el comportamiento de hello cuando esto ocurre.</span><span class="sxs-lookup"><span data-stu-id="1705c-105">Because there are cost considerations when using hello feature, it is useful toounderstand those tasks so that you expect hello behavior when it happens.</span></span> <span data-ttu-id="1705c-106">Hola API involucra Hola siguiendo el comportamiento automático en su nombre:</span><span class="sxs-lookup"><span data-stu-id="1705c-106">hello API engages hello following automatic behavior on your behalf:</span></span>

* <span data-ttu-id="1705c-107">Creación de colas de trabajos pendientes.</span><span class="sxs-lookup"><span data-stu-id="1705c-107">Creation of backlog queues.</span></span>
* <span data-ttu-id="1705c-108">Creación de un [MessageSender] [ MessageSender] objeto que habla tooqueues o temas.</span><span class="sxs-lookup"><span data-stu-id="1705c-108">Creation of a [MessageSender][MessageSender] object that talks tooqueues or topics.</span></span>
* <span data-ttu-id="1705c-109">Cuando una entidad de mensajería deja de estar disponible, envía los mensajes ping toohello entidad en un intento de toodetect cuando esa entidad vuelve a estar disponible.</span><span class="sxs-lookup"><span data-stu-id="1705c-109">When a messaging entity becomes unavailable, sends ping messages toohello entity in an attempt toodetect when that entity becomes available again.</span></span>
* <span data-ttu-id="1705c-110">Opcionalmente, crea un conjunto de "bombeos de mensajes" que mueva los mensajes de Hola colas principales de toohello de colas de trabajo pendiente.</span><span class="sxs-lookup"><span data-stu-id="1705c-110">Optionally creates of a set of “message pumps” that move messages from hello backlog queues toohello primary queues.</span></span>
* <span data-ttu-id="1705c-111">Coordina el cierre o error de hello principal y secundaria [MessagingFactory] [ MessagingFactory] instancias.</span><span class="sxs-lookup"><span data-stu-id="1705c-111">Coordinates closing/faulting of hello primary and secondary [MessagingFactory][MessagingFactory] instances.</span></span>

<span data-ttu-id="1705c-112">En un nivel alto, característica de hello funciona del siguiente modo: cuando la entidad principal de hello sea correcta, se produce ningún cambio de comportamiento.</span><span class="sxs-lookup"><span data-stu-id="1705c-112">At a high level, hello feature works as follows: when hello primary entity is healthy, no behavior changes occur.</span></span> <span data-ttu-id="1705c-113">Cuando Hola [FailoverInterval] [ FailoverInterval] ha transcurrido de duración, y entidad primaria Hola no ve ningún envía correctamente después de un usuario no transitorio [MessagingException] [ MessagingException] o un [TimeoutException][TimeoutException], Hola siguiendo el comportamiento se produce:</span><span class="sxs-lookup"><span data-stu-id="1705c-113">When hello [FailoverInterval][FailoverInterval] duration elapses, and hello primary entity sees no successful sends after a non-transient [MessagingException][MessagingException] or a [TimeoutException][TimeoutException], hello following behavior occurs:</span></span>

1. <span data-ttu-id="1705c-114">Enviar operaciones toohello principal están deshabilitados de entidad y ping de sistema de Hola Hola entidad principal hasta que los pings se entreguen correctamente.</span><span class="sxs-lookup"><span data-stu-id="1705c-114">Send operations toohello primary entity are disabled and hello system pings hello primary entity until pings can be successfully delivered.</span></span>
2. <span data-ttu-id="1705c-115">Se selecciona una cola de trabajos pendientes aleatoria.</span><span class="sxs-lookup"><span data-stu-id="1705c-115">A random backlog queue is selected.</span></span>
3. <span data-ttu-id="1705c-116">[BrokeredMessage] [ BrokeredMessage] objetos son enrutado toohello elegido cola de trabajos pendientes.</span><span class="sxs-lookup"><span data-stu-id="1705c-116">[BrokeredMessage][BrokeredMessage] objects are routed toohello chosen backlog queue.</span></span>
4. <span data-ttu-id="1705c-117">Si se produce un error en un toohello de operación de envío seleccionado cola de trabajo pendiente, se extrae esa cola de la rotación de Hola y se selecciona una nueva cola.</span><span class="sxs-lookup"><span data-stu-id="1705c-117">If a send operation toohello chosen backlog queue fails, that queue is pulled from hello rotation and a new queue is selected.</span></span> <span data-ttu-id="1705c-118">Todos los remitentes de hello [MessagingFactory] [ MessagingFactory] instancia Obtenga información acerca del error de Hola.</span><span class="sxs-lookup"><span data-stu-id="1705c-118">All senders on hello [MessagingFactory][MessagingFactory] instance learn of hello failure.</span></span>

<span data-ttu-id="1705c-119">Hola siguiendo las cifras representan secuencia Hola.</span><span class="sxs-lookup"><span data-stu-id="1705c-119">hello following figures depict hello sequence.</span></span> <span data-ttu-id="1705c-120">En primer lugar, el remitente de hello envía mensajes.</span><span class="sxs-lookup"><span data-stu-id="1705c-120">First, hello sender sends messages.</span></span>

![Espacios de nombres emparejados][0]

<span data-ttu-id="1705c-122">En la cola principal de error toosend toohello, remitente Hola comienza a enviar tooa mensajes elige aleatoriamente la cola de trabajos pendientes.</span><span class="sxs-lookup"><span data-stu-id="1705c-122">Upon failure toosend toohello primary queue, hello sender begins sending messages tooa randomly chosen backlog queue.</span></span> <span data-ttu-id="1705c-123">Simultáneamente, se inicia una tarea de ping.</span><span class="sxs-lookup"><span data-stu-id="1705c-123">Simultaneously, it starts a ping task.</span></span>

![Espacios de nombres emparejados][1]

<span data-ttu-id="1705c-125">En este momento mensajes de saludo siguen en la cola secundaria hello y no se han entregado toohello de cola principal.</span><span class="sxs-lookup"><span data-stu-id="1705c-125">At this point hello messages are still in hello secondary queue and have not been delivered toohello primary queue.</span></span> <span data-ttu-id="1705c-126">Una vez que la cola principal Hola nuevo es correcto, debe ejecutar al menos un proceso sifón Hola.</span><span class="sxs-lookup"><span data-stu-id="1705c-126">Once hello primary queue is healthy again, at least one process should be running hello syphon.</span></span> <span data-ttu-id="1705c-127">sifón Hola ofrece mensajes de Hola desde distintos de trabajo pendiente de Hola todas las entidades de colas toohello destino pertinentes (colas y temas).</span><span class="sxs-lookup"><span data-stu-id="1705c-127">hello syphon delivers hello messages from all hello various backlog queues toohello proper destination entities (queues and topics).</span></span>

![Espacios de nombres emparejados][2]

<span data-ttu-id="1705c-129">resto de Hola de este tema tratan detalles específicos de Hola de cómo funcionan estas piezas.</span><span class="sxs-lookup"><span data-stu-id="1705c-129">hello remainder of this topic discusses hello specific details of how these pieces work.</span></span>

## <a name="creation-of-backlog-queues"></a><span data-ttu-id="1705c-130">Creación de colas de trabajos pendientes</span><span class="sxs-lookup"><span data-stu-id="1705c-130">Creation of backlog queues</span></span>
<span data-ttu-id="1705c-131">Hola [SendAvailabilityPairedNamespaceOptions] [ SendAvailabilityPairedNamespaceOptions] objeto pasado toohello [PairNamespaceAsync] [ PairNamespaceAsync] método indica Hola número de trabajo pendiente de las colas desea toouse.</span><span class="sxs-lookup"><span data-stu-id="1705c-131">hello [SendAvailabilityPairedNamespaceOptions][SendAvailabilityPairedNamespaceOptions] object passed toohello [PairNamespaceAsync][PairNamespaceAsync] method indicates hello number of backlog queues you want toouse.</span></span> <span data-ttu-id="1705c-132">Cada cola de trabajo pendiente, a continuación, se crea con hello establecer propiedades siguientes explícitamente (todos los demás valores se establecen toohello [QueueDescription] [ QueueDescription] los valores predeterminados):</span><span class="sxs-lookup"><span data-stu-id="1705c-132">Each backlog queue is then created with hello following properties explicitly set (all other values are set toohello [QueueDescription][QueueDescription] defaults):</span></span>

| <span data-ttu-id="1705c-133">Ruta de acceso</span><span class="sxs-lookup"><span data-stu-id="1705c-133">Path</span></span> | <span data-ttu-id="1705c-134">[espacio de nombres principal] / x-servicebus-transfer / [index] donde [index] es un valor de [0, BacklogQueueCount)</span><span class="sxs-lookup"><span data-stu-id="1705c-134">[primary namespace]/x-servicebus-transfer/[index] where [index] is a value in [0, BacklogQueueCount)</span></span> |
| --- | --- |
| <span data-ttu-id="1705c-135">MaxSizeInMegabytes</span><span class="sxs-lookup"><span data-stu-id="1705c-135">MaxSizeInMegabytes</span></span> |<span data-ttu-id="1705c-136">5120</span><span class="sxs-lookup"><span data-stu-id="1705c-136">5120</span></span> |
| <span data-ttu-id="1705c-137">MaxDeliveryCount</span><span class="sxs-lookup"><span data-stu-id="1705c-137">MaxDeliveryCount</span></span> |<span data-ttu-id="1705c-138">int.MaxValue</span><span class="sxs-lookup"><span data-stu-id="1705c-138">int.MaxValue</span></span> |
| <span data-ttu-id="1705c-139">DefaultMessageTimeToLive</span><span class="sxs-lookup"><span data-stu-id="1705c-139">DefaultMessageTimeToLive</span></span> |<span data-ttu-id="1705c-140">TimeSpan.MaxValue</span><span class="sxs-lookup"><span data-stu-id="1705c-140">TimeSpan.MaxValue</span></span> |
| <span data-ttu-id="1705c-141">AutoDeleteOnIdle</span><span class="sxs-lookup"><span data-stu-id="1705c-141">AutoDeleteOnIdle</span></span> |<span data-ttu-id="1705c-142">TimeSpan.MaxValue</span><span class="sxs-lookup"><span data-stu-id="1705c-142">TimeSpan.MaxValue</span></span> |
| <span data-ttu-id="1705c-143">LockDuration</span><span class="sxs-lookup"><span data-stu-id="1705c-143">LockDuration</span></span> |<span data-ttu-id="1705c-144">1 minuto</span><span class="sxs-lookup"><span data-stu-id="1705c-144">1 minute</span></span> |
| <span data-ttu-id="1705c-145">EnableDeadLetteringOnMessageExpiration</span><span class="sxs-lookup"><span data-stu-id="1705c-145">EnableDeadLetteringOnMessageExpiration</span></span> |<span data-ttu-id="1705c-146">true</span><span class="sxs-lookup"><span data-stu-id="1705c-146">true</span></span> |
| <span data-ttu-id="1705c-147">EnableBatchedOperations</span><span class="sxs-lookup"><span data-stu-id="1705c-147">EnableBatchedOperations</span></span> |<span data-ttu-id="1705c-148">true</span><span class="sxs-lookup"><span data-stu-id="1705c-148">true</span></span> |

<span data-ttu-id="1705c-149">Por ejemplo, cola de trabajos pendientes de primera Hola creado para el espacio de nombres **contoso** se denomina `contoso/x-servicebus-transfer/0`.</span><span class="sxs-lookup"><span data-stu-id="1705c-149">For example, hello first backlog queue created for namespace **contoso** is named `contoso/x-servicebus-transfer/0`.</span></span>

<span data-ttu-id="1705c-150">Al crear las colas de hello, código de hello comprueba primero toosee si existe dicha cola.</span><span class="sxs-lookup"><span data-stu-id="1705c-150">When creating hello queues, hello code first checks toosee if such a queue exists.</span></span> <span data-ttu-id="1705c-151">Si no existe la cola de Hola, se crea la cola de Hola.</span><span class="sxs-lookup"><span data-stu-id="1705c-151">If hello queue does not exist, then hello queue is created.</span></span> <span data-ttu-id="1705c-152">código de Hello no limpiar las colas de trabajo pendiente "adicionales".</span><span class="sxs-lookup"><span data-stu-id="1705c-152">hello code does not clean up "extra" backlog queues.</span></span> <span data-ttu-id="1705c-153">En concreto, si hello aplicación Hola espacio de nombres principal **contoso** solicita cinco colas de trabajo pendiente, pero una cola con la ruta de acceso de hello `contoso/x-servicebus-transfer/7` existe, esa cola de trabajo pendiente adicional sigue presente pero no se usa.</span><span class="sxs-lookup"><span data-stu-id="1705c-153">Specifically, if hello application with hello primary namespace **contoso** requests five backlog queues but a backlog queue with hello path `contoso/x-servicebus-transfer/7` exists, that extra backlog queue is still present but is not used.</span></span> <span data-ttu-id="1705c-154">sistema de Hello permite explícitamente tooexist de colas de trabajo pendiente adicionales que no se usen.</span><span class="sxs-lookup"><span data-stu-id="1705c-154">hello system explicitly allows extra backlog queues tooexist that would not be used.</span></span> <span data-ttu-id="1705c-155">Como propietario del espacio de nombres de hello, es responsable de limpiar las colas de trabajo pendiente sin usar o no deseado.</span><span class="sxs-lookup"><span data-stu-id="1705c-155">As hello namespace owner, you are responsible for cleaning up any unused/unwanted backlog queues.</span></span> <span data-ttu-id="1705c-156">motivo de Hola para tomar esta decisión es que el Bus de servicio no se puede saber la finalidad de todas las colas de hello en el espacio de nombres.</span><span class="sxs-lookup"><span data-stu-id="1705c-156">hello reason for this decision is that Service Bus cannot know what purposes exist for all hello queues in your namespace.</span></span> <span data-ttu-id="1705c-157">Además, si una cola existe con el nombre especificado de hello pero no cumple Hola supone [QueueDescription][QueueDescription], a continuación, los motivos son por su propia cambian el comportamiento predeterminado Hola.</span><span class="sxs-lookup"><span data-stu-id="1705c-157">Furthermore, if a queue exists with hello given name but does not meet hello assumed [QueueDescription][QueueDescription], then your reasons are your own for changing hello default behavior.</span></span> <span data-ttu-id="1705c-158">Se realiza ninguna garantía de colas de trabajo pendiente de modificaciones toohello por su código.</span><span class="sxs-lookup"><span data-stu-id="1705c-158">No guarantees are made for modifications toohello backlog queues by your code.</span></span> <span data-ttu-id="1705c-159">Asegúrese de tootest confirma los cambios exhaustivamente.</span><span class="sxs-lookup"><span data-stu-id="1705c-159">Make sure tootest your changes thoroughly.</span></span>

## <a name="custom-messagesender"></a><span data-ttu-id="1705c-160">MessageSender personalizado</span><span class="sxs-lookup"><span data-stu-id="1705c-160">Custom MessageSender</span></span>
<span data-ttu-id="1705c-161">Cuando se envía, todos los mensajes pasan por un interno [MessageSender] [ MessageSender] objeto que tiene un comportamiento normal cuando todo funciona y los redirige las colas de trabajo pendiente de toohello cuando cosas "break".</span><span class="sxs-lookup"><span data-stu-id="1705c-161">When sending, all messages go through an internal [MessageSender][MessageSender] object that behaves normally when everything works, and redirects toohello backlog queues when things "break."</span></span> <span data-ttu-id="1705c-162">Al recibir un error no transitorio, se inicia un temporizador.</span><span class="sxs-lookup"><span data-stu-id="1705c-162">Upon receiving a non-transient failure, a timer starts.</span></span> <span data-ttu-id="1705c-163">Después de un [TimeSpan] [ TimeSpan] período que consta de hello [FailoverInterval] [ FailoverInterval] durante el cual no se envía ningún mensaje correctamente el valor de propiedad , Hola conmutación por error está ocupado.</span><span class="sxs-lookup"><span data-stu-id="1705c-163">After a [TimeSpan][TimeSpan] period consisting of hello [FailoverInterval][FailoverInterval] property value during which no successful messages are sent, hello failover is engaged.</span></span> <span data-ttu-id="1705c-164">En este momento, hello ocurrirá lo siguiente para cada entidad:</span><span class="sxs-lookup"><span data-stu-id="1705c-164">At this point, hello following things happen for each entity:</span></span>

* <span data-ttu-id="1705c-165">Ejecuta una tarea de ping cada [PingPrimaryInterval] [ PingPrimaryInterval] toocheck si Hola entidad está disponible.</span><span class="sxs-lookup"><span data-stu-id="1705c-165">A ping task executes every [PingPrimaryInterval][PingPrimaryInterval] toocheck if hello entity is available.</span></span> <span data-ttu-id="1705c-166">Una vez que esta tarea se realiza correctamente, todo el código de cliente que utiliza entity Hola inmediatamente comienza a enviar nuevos mensajes toohello espacio de nombres principal.</span><span class="sxs-lookup"><span data-stu-id="1705c-166">Once this task succeeds, all client code that uses hello entity immediately starts sending new messages toohello primary namespace.</span></span>
* <span data-ttu-id="1705c-167">Solicitudes futuras toosend toothat misma entidad desde otros remitentes provocará hello [BrokeredMessage] [ BrokeredMessage] enviarse toobe modifica toosit en la cola de trabajos pendientes de Hola.</span><span class="sxs-lookup"><span data-stu-id="1705c-167">Future requests toosend toothat same entity from any other senders will result in hello [BrokeredMessage][BrokeredMessage] being sent toobe modified toosit in hello backlog queue.</span></span> <span data-ttu-id="1705c-168">modificación de Hello quita algunas propiedades de hello [BrokeredMessage] [ BrokeredMessage] objeto y los almacena en otro lugar.</span><span class="sxs-lookup"><span data-stu-id="1705c-168">hello modification removes some properties from hello [BrokeredMessage][BrokeredMessage] object and stores them elsewhere.</span></span> <span data-ttu-id="1705c-169">Hello siguientes propiedades se borran y se agregan con un nuevo alias, lo que permite hello y Bus de servicio de mensajes de SDK de tooprocess uniformemente:</span><span class="sxs-lookup"><span data-stu-id="1705c-169">hello following properties are cleared and added under a new alias, allowing Service Bus and hello SDK tooprocess messages uniformly:</span></span>

| <span data-ttu-id="1705c-170">Nombre de propiedad anterior</span><span class="sxs-lookup"><span data-stu-id="1705c-170">Old Property Name</span></span> | <span data-ttu-id="1705c-171">Nombre de propiedad nuevo</span><span class="sxs-lookup"><span data-stu-id="1705c-171">New Property Name</span></span> |
| --- | --- |
| <span data-ttu-id="1705c-172">SessionId</span><span class="sxs-lookup"><span data-stu-id="1705c-172">SessionId</span></span> |<span data-ttu-id="1705c-173">x-ms-sessionid</span><span class="sxs-lookup"><span data-stu-id="1705c-173">x-ms-sessionid</span></span> |
| <span data-ttu-id="1705c-174">TimeToLive</span><span class="sxs-lookup"><span data-stu-id="1705c-174">TimeToLive</span></span> |<span data-ttu-id="1705c-175">x-ms-timetolive</span><span class="sxs-lookup"><span data-stu-id="1705c-175">x-ms-timetolive</span></span> |
| <span data-ttu-id="1705c-176">ScheduledEnqueueTimeUtc</span><span class="sxs-lookup"><span data-stu-id="1705c-176">ScheduledEnqueueTimeUtc</span></span> |<span data-ttu-id="1705c-177">x-ms-path</span><span class="sxs-lookup"><span data-stu-id="1705c-177">x-ms-path</span></span> |

<span data-ttu-id="1705c-178">ruta de acceso de destino original Hello también se almacena en el mensaje de bienvenida como una propiedad denominada x-ms-path.</span><span class="sxs-lookup"><span data-stu-id="1705c-178">hello original destination path is also stored within hello message as a property named x-ms-path.</span></span> <span data-ttu-id="1705c-179">Este diseño permite los mensajes para muchos toocoexist de entidades en una única cola.</span><span class="sxs-lookup"><span data-stu-id="1705c-179">This design allows messages for many entities toocoexist in a single backlog queue.</span></span> <span data-ttu-id="1705c-180">propiedades de Hola se traducen por sifón Hola.</span><span class="sxs-lookup"><span data-stu-id="1705c-180">hello properties are translated back by hello syphon.</span></span>

<span data-ttu-id="1705c-181">Hola personalizado [MessageSender] [ MessageSender] objeto puede encontrar problemas cuando mensajes aproximarse al límite de 256 KB de Hola y conmutación por error está ocupado.</span><span class="sxs-lookup"><span data-stu-id="1705c-181">hello custom [MessageSender][MessageSender] object can encounter issues when messages approach hello 256-KB limit and failover is engaged.</span></span> <span data-ttu-id="1705c-182">Hola personalizado [MessageSender] [ MessageSender] objeto almacena los mensajes para todas las colas y temas juntos en las colas de trabajo pendiente de Hola.</span><span class="sxs-lookup"><span data-stu-id="1705c-182">hello custom [MessageSender][MessageSender] object stores messages for all queues and topics together in hello backlog queues.</span></span> <span data-ttu-id="1705c-183">Este objeto mezcla los mensajes de varias entidades principales juntos en las colas de trabajo pendiente de Hola.</span><span class="sxs-lookup"><span data-stu-id="1705c-183">This object mixes messages from many primaries together within hello backlog queues.</span></span> <span data-ttu-id="1705c-184">toohandle equilibrio de carga entre muchos clientes que no se conocen cada otra Hola SDK aleatoriamente toma una cola de trabajo pendiente para cada [QueueClient] [ QueueClient] o [TopicClient] [ TopicClient] crear en código.</span><span class="sxs-lookup"><span data-stu-id="1705c-184">toohandle load balancing among many clients that do not know each other, hello SDK randomly picks one backlog queue for each [QueueClient][QueueClient] or [TopicClient][TopicClient] you create in code.</span></span>

## <a name="pings"></a><span data-ttu-id="1705c-185">Pings</span><span class="sxs-lookup"><span data-stu-id="1705c-185">Pings</span></span>
<span data-ttu-id="1705c-186">Un mensaje ping está vacío [BrokeredMessage] [ BrokeredMessage] con su [ContentType] [ ContentType] propiedad establece tooapplication/vnd.ms-servicebus-ping y un [TimeToLive] [ TimeToLive] valor de 1 segundo.</span><span class="sxs-lookup"><span data-stu-id="1705c-186">A ping message is an empty [BrokeredMessage][BrokeredMessage] with its [ContentType][ContentType] property set tooapplication/vnd.ms-servicebus-ping and a [TimeToLive][TimeToLive] value of 1 second.</span></span> <span data-ttu-id="1705c-187">Este ping tiene una característica especial en el Bus de servicio: servidor hello nunca entrega un ping cuando algún llamador solicita un [BrokeredMessage][BrokeredMessage].</span><span class="sxs-lookup"><span data-stu-id="1705c-187">This ping has one special characteristic in Service Bus: hello server never delivers a ping when any caller requests a [BrokeredMessage][BrokeredMessage].</span></span> <span data-ttu-id="1705c-188">Por lo tanto, nunca tendrá toolearn cómo tooreceive y omitir estos mensajes.</span><span class="sxs-lookup"><span data-stu-id="1705c-188">Thus, you never have toolearn how tooreceive and ignore these messages.</span></span> <span data-ttu-id="1705c-189">Cada entidad (cola o tema únicos) por [MessagingFactory] [ MessagingFactory] instancia por cliente recibirá mensajes de ping cuando se consideran toobe no está disponible.</span><span class="sxs-lookup"><span data-stu-id="1705c-189">Each entity (unique queue or topic) per [MessagingFactory][MessagingFactory] instance per client will be pinged when they are considered toobe unavailable.</span></span> <span data-ttu-id="1705c-190">De forma predeterminada, esto ocurre una vez por minuto.</span><span class="sxs-lookup"><span data-stu-id="1705c-190">By default, this happens once per minute.</span></span> <span data-ttu-id="1705c-191">Los mensajes ping se consideran mensajes normales de Bus de servicio de toobe y pueden dar lugar a gastos de ancho de banda y mensajes.</span><span class="sxs-lookup"><span data-stu-id="1705c-191">Ping messages are considered toobe regular Service Bus messages, and can result in charges for bandwidth and messages.</span></span> <span data-ttu-id="1705c-192">Tan pronto como los clientes de hello detectan que el sistema de hello está disponible, los mensajes de Hola se detienen.</span><span class="sxs-lookup"><span data-stu-id="1705c-192">As soon as hello clients detect that hello system is available, hello messages stop.</span></span>

## <a name="hello-syphon"></a><span data-ttu-id="1705c-193">sifón Hola</span><span class="sxs-lookup"><span data-stu-id="1705c-193">hello syphon</span></span>
<span data-ttu-id="1705c-194">Al menos un programa ejecutable de la aplicación hello debe estar ejecutándose activamente sifón Hola.</span><span class="sxs-lookup"><span data-stu-id="1705c-194">At least one executable program in hello application should be actively running hello syphon.</span></span> <span data-ttu-id="1705c-195">sifón Hola realiza un valor largo que dura 15 minutos recepción de sondeo.</span><span class="sxs-lookup"><span data-stu-id="1705c-195">hello syphon performs a long poll receive that lasts 15 minutes.</span></span> <span data-ttu-id="1705c-196">Cuando todas las entidades están disponibles y tienen 10 colas de trabajo pendiente, Hola aplicación que hospeda las llamadas de sifón de Hola Hola recibirán operación 40 veces por hora, 960 veces al día y 28.800 veces en 30 días.</span><span class="sxs-lookup"><span data-stu-id="1705c-196">When all entities are available and you have 10 backlog queues, hello application that hosts hello syphon calls hello receive operation 40 times per hour, 960 times per day, and 28800 times in 30 days.</span></span> <span data-ttu-id="1705c-197">Cuando Hola sifón mueve activamente mensajes desde la cola principal de toohello de trabajo pendiente de hello, cada mensaje experimenta Hola siguientes cargos (cargos estándar según el tamaño del mensaje y el ancho de banda se aplica en todas las fases):</span><span class="sxs-lookup"><span data-stu-id="1705c-197">When hello syphon is actively moving messages from hello backlog toohello primary queue, each message experiences hello following charges (standard charges for message size and bandwidth apply in all stages):</span></span>

1. <span data-ttu-id="1705c-198">Enviar trabajo pendiente de toohello.</span><span class="sxs-lookup"><span data-stu-id="1705c-198">Send toohello backlog.</span></span>
2. <span data-ttu-id="1705c-199">Recibir de trabajo pendiente de Hola.</span><span class="sxs-lookup"><span data-stu-id="1705c-199">Receive from hello backlog.</span></span>
3. <span data-ttu-id="1705c-200">Enviar toohello principal.</span><span class="sxs-lookup"><span data-stu-id="1705c-200">Send toohello primary.</span></span>
4. <span data-ttu-id="1705c-201">Recibir de hello principal.</span><span class="sxs-lookup"><span data-stu-id="1705c-201">Receive from hello primary.</span></span>

## <a name="closefault-behavior"></a><span data-ttu-id="1705c-202">Comportamiento de cierre o error</span><span class="sxs-lookup"><span data-stu-id="1705c-202">Close/fault behavior</span></span>
<span data-ttu-id="1705c-203">Dentro de una aplicación que hospeda el sifón hello, una vez Hola principal o secundaria [MessagingFactory] [ MessagingFactory] produce un error o se cierra sin su asociado también está error o se cierre y Hola sifón detecta este estado , sifón Hola actúa.</span><span class="sxs-lookup"><span data-stu-id="1705c-203">Within an application that hosts hello syphon, once hello primary or secondary [MessagingFactory][MessagingFactory] faults or is closed without its partner also being faulted/closed and hello syphon detects this state, hello syphon acts.</span></span> <span data-ttu-id="1705c-204">Si otro Hola [MessagingFactory] [ MessagingFactory] no se cierra en cinco segundos, Hola sifón creará un error Hola sigue abierto [MessagingFactory] [ MessagingFactory] .</span><span class="sxs-lookup"><span data-stu-id="1705c-204">If hello other [MessagingFactory][MessagingFactory] is not closed within 5 seconds, hello syphon will fault hello still open [MessagingFactory][MessagingFactory].</span></span>

## <a name="next-steps"></a><span data-ttu-id="1705c-205">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="1705c-205">Next steps</span></span>
<span data-ttu-id="1705c-206">Para más información sobre la mensajería asincrónica de Service Bus, consulte [Patrones de mensajería asincrónica y alta disponibilidad][Asynchronous messaging patterns and high availability].</span><span class="sxs-lookup"><span data-stu-id="1705c-206">See [Asynchronous messaging patterns and high availability][Asynchronous messaging patterns and high availability] for a detailed discussion of Service Bus asynchronous messaging.</span></span> 

[PairNamespaceAsync]: /dotnet/api/microsoft.servicebus.messaging.messagingfactory#Microsoft_ServiceBus_Messaging_MessagingFactory_PairNamespaceAsync_Microsoft_ServiceBus_Messaging_PairedNamespaceOptions_
[SendAvailabilityPairedNamespaceOptions]: /dotnet/api/microsoft.servicebus.messaging.sendavailabilitypairednamespaceoptions
[MessageSender]: /dotnet/api/microsoft.servicebus.messaging.messagesender
[MessagingFactory]: /dotnet/api/microsoft.servicebus.messaging.messagingfactory
[FailoverInterval]: /dotnet/api/microsoft.servicebus.messaging.pairednamespaceoptions#Microsoft_ServiceBus_Messaging_PairedNamespaceOptions_FailoverInterval
[MessagingException]: /dotnet/api/microsoft.servicebus.messaging.messagingexception
[TimeoutException]: https://msdn.microsoft.com/library/azure/system.timeoutexception.aspx
[BrokeredMessage]: /dotnet/api/microsoft.servicebus.messaging.brokeredmessage
[QueueDescription]: /dotnet/api/microsoft.servicebus.messaging.queuedescription
[TimeSpan]: https://msdn.microsoft.com/library/azure/system.timespan.aspx
[PingPrimaryInterval]: /dotnet/api/microsoft.servicebus.messaging.sendavailabilitypairednamespaceoptions#Microsoft_ServiceBus_Messaging_SendAvailabilityPairedNamespaceOptions_PingPrimaryInterval
[QueueClient]: /dotnet/api/microsoft.servicebus.messaging.queueclient
[TopicClient]: /dotnet/api/microsoft.servicebus.messaging.topicclient
[ContentType]: /dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_ContentType
[TimeToLive]: /dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_TimeToLive
[Asynchronous messaging patterns and high availability]: service-bus-async-messaging.md
[0]: ./media/service-bus-paired-namespaces/IC673405.png
[1]: ./media/service-bus-paired-namespaces/IC673406.png
[2]: ./media/service-bus-paired-namespaces/IC673407.png
