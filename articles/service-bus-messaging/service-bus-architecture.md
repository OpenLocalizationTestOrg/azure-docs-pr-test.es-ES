---
title: "Introducción a la arquitectura de procesamiento de mensajes de Bus de servicio de aaaAzure | Documentos de Microsoft"
description: Describe la arquitectura de procesamiento de mensajes de Hola de Bus de servicio de Azure.
services: service-bus-messaging
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: baf94c2d-0e58-4d5d-a588-767f996ccf7f
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: get-started-article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/23/2017
ms.author: sethm
ms.openlocfilehash: f7606e40cdf6db3797a0db2de9365453ff2a158e
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="service-bus-architecture"></a><span data-ttu-id="43f07-103">Arquitectura del Bus de servicio</span><span class="sxs-lookup"><span data-stu-id="43f07-103">Service Bus architecture</span></span>
<span data-ttu-id="43f07-104">Este artículo describe la arquitectura de procesamiento de mensajes de Hola de Bus de servicio de Azure.</span><span class="sxs-lookup"><span data-stu-id="43f07-104">This article describes hello message processing architecture of Azure Service Bus.</span></span>

## <a name="service-bus-scale-units"></a><span data-ttu-id="43f07-105">Unidades de escala del Bus de servicio</span><span class="sxs-lookup"><span data-stu-id="43f07-105">Service Bus scale units</span></span>
<span data-ttu-id="43f07-106">El Bus de servicio se organizada por *unidades de escala*.</span><span class="sxs-lookup"><span data-stu-id="43f07-106">Service Bus is organized by *scale units*.</span></span> <span data-ttu-id="43f07-107">Una unidad de escala es una unidad de implementación y contiene todos los componentes necesarios Hola ejecución servicio.</span><span class="sxs-lookup"><span data-stu-id="43f07-107">A scale unit is a unit of deployment and contains all components required run hello service.</span></span> <span data-ttu-id="43f07-108">Cada región implementa una o más unidades de escala del Bus de servicio.</span><span class="sxs-lookup"><span data-stu-id="43f07-108">Each region deploys one or more Service Bus scale units.</span></span>

<span data-ttu-id="43f07-109">Un espacio de nombres de Bus de servicio es la unidad de escala tooa asignada.</span><span class="sxs-lookup"><span data-stu-id="43f07-109">A Service Bus namespace is mapped tooa scale unit.</span></span> <span data-ttu-id="43f07-110">unidad de escala de Hello controla todos los tipos de entidades de Service Bus (colas, temas, suscripciones).</span><span class="sxs-lookup"><span data-stu-id="43f07-110">hello scale unit handles all types of Service Bus entities (queues, topics, subscriptions).</span></span> <span data-ttu-id="43f07-111">Una unidad de escalado del Bus de servicio consta de Hola de los componentes siguientes:</span><span class="sxs-lookup"><span data-stu-id="43f07-111">A Service Bus scale unit consists of hello following components:</span></span>

* <span data-ttu-id="43f07-112">**Un conjunto de nodos de puerta de enlace.**</span><span class="sxs-lookup"><span data-stu-id="43f07-112">**A set of gateway nodes.**</span></span> <span data-ttu-id="43f07-113">Los nodos de puerta de enlace autentican las solicitudes entrantes.</span><span class="sxs-lookup"><span data-stu-id="43f07-113">Gateway nodes authenticate incoming requests.</span></span> <span data-ttu-id="43f07-114">Cada nodo de puerta de enlace tiene una dirección IP pública.</span><span class="sxs-lookup"><span data-stu-id="43f07-114">Each gateway node has a public IP address.</span></span>
* <span data-ttu-id="43f07-115">**Un conjunto de nodos de agente de mensajería.**</span><span class="sxs-lookup"><span data-stu-id="43f07-115">**A set of messaging broker nodes.**</span></span> <span data-ttu-id="43f07-116">Los nodos de agente de mensajería procesan solicitudes relacionadas con entidades de mensajería.</span><span class="sxs-lookup"><span data-stu-id="43f07-116">Messaging broker nodes process requests concerning messaging entities.</span></span>
* <span data-ttu-id="43f07-117">**Un almacén de puerta de enlace.**</span><span class="sxs-lookup"><span data-stu-id="43f07-117">**One gateway store.**</span></span> <span data-ttu-id="43f07-118">almacén de puerta de enlace de Hello contiene los datos de Hola para todas las entidades que se definen en esta unidad de escala.</span><span class="sxs-lookup"><span data-stu-id="43f07-118">hello gateway store holds hello data for every entity that is defined in this scale unit.</span></span> <span data-ttu-id="43f07-119">almacén de puerta de enlace de Hola se implementa en una base de datos de SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="43f07-119">hello gateway store is implemented on top of a SQL Azure database.</span></span>
* <span data-ttu-id="43f07-120">**Varios almacenes de mensajería.**</span><span class="sxs-lookup"><span data-stu-id="43f07-120">**Multiple messaging stores.**</span></span> <span data-ttu-id="43f07-121">Almacenes de mensajería contienen mensajes de saludo de todas las colas, temas y suscripciones que se definen en esta unidad de escala.</span><span class="sxs-lookup"><span data-stu-id="43f07-121">Messaging stores hold hello messages of all queues, topics and subscriptions that are defined in this scale unit.</span></span> <span data-ttu-id="43f07-122">También contiene todos los datos de suscripción.</span><span class="sxs-lookup"><span data-stu-id="43f07-122">It also contains all subscription data.</span></span> <span data-ttu-id="43f07-123">A menos que [particiones entidades de mensajería](service-bus-partitioning.md) está habilitado, una cola o tema es almacén de mensajería tooone asignada.</span><span class="sxs-lookup"><span data-stu-id="43f07-123">Unless [partitioning messaging entities](service-bus-partitioning.md) is enabled, a queue or topic is mapped tooone messaging store.</span></span> <span data-ttu-id="43f07-124">Las suscripciones se almacenan en hello mismo almacén de mensajería como su tema primario.</span><span class="sxs-lookup"><span data-stu-id="43f07-124">Subscriptions are stored in hello same messaging store as their parent topic.</span></span> <span data-ttu-id="43f07-125">Excepto para Service Bus [mensajería Premium](service-bus-premium-messaging.md), almacenes de mensajería de Hola se implementan en las bases de datos de SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="43f07-125">Except for Service Bus [Premium Messaging](service-bus-premium-messaging.md), hello messaging stores are implemented on top of SQL Azure databases.</span></span>

## <a name="containers"></a><span data-ttu-id="43f07-126">Contenedores</span><span class="sxs-lookup"><span data-stu-id="43f07-126">Containers</span></span>
<span data-ttu-id="43f07-127">A cada entidad de mensajería se le asigna a un contenedor específico.</span><span class="sxs-lookup"><span data-stu-id="43f07-127">Each messaging entity is assigned a specific container.</span></span> <span data-ttu-id="43f07-128">Un contenedor es una construcción lógica que utiliza exactamente un toostore de almacén de mensajería todos los datos para este contenedor.</span><span class="sxs-lookup"><span data-stu-id="43f07-128">A container is a logical construct that uses exactly one messaging store toostore all relevant data for this container.</span></span> <span data-ttu-id="43f07-129">Cada contenedor se asigna tooa nodo de broker de mensajería.</span><span class="sxs-lookup"><span data-stu-id="43f07-129">Each container is assigned tooa messaging broker node.</span></span> <span data-ttu-id="43f07-130">Normalmente, hay más contenedores que nodos de agente de mensajería.</span><span class="sxs-lookup"><span data-stu-id="43f07-130">Typically, there are more containers than messaging broker nodes.</span></span> <span data-ttu-id="43f07-131">Por tanto, cada nodo de agente de mensajería carga varios contenedores.</span><span class="sxs-lookup"><span data-stu-id="43f07-131">Therefore, each messaging broker node loads multiple containers.</span></span> <span data-ttu-id="43f07-132">distribución de Hola de nodo de agente de mensajería de contenedores tooa está organizada de manera que igualmente se cargan todos los nodos de agente de mensajería.</span><span class="sxs-lookup"><span data-stu-id="43f07-132">hello distribution of containers tooa messaging broker node is organized such that all messaging broker nodes are equally loaded.</span></span> <span data-ttu-id="43f07-133">Si los cambios de modelo de carga de hello (por ejemplo, uno de hello contenedores obtiene muy ocupado) o si un nodo de broker mensajería deja de estar disponible temporalmente, Hola contenedores se redistribuyen entre nodos de agente de mensajería de Hola.</span><span class="sxs-lookup"><span data-stu-id="43f07-133">If hello load pattern changes (for example, one of hello containers gets very busy), or if a messaging broker node becomes temporarily unavailable, hello containers are redistributed among hello messaging broker nodes.</span></span>

## <a name="processing-of-incoming-messaging-requests"></a><span data-ttu-id="43f07-134">Procesamiento de solicitudes entrantes de mensajería</span><span class="sxs-lookup"><span data-stu-id="43f07-134">Processing of incoming messaging requests</span></span>
<span data-ttu-id="43f07-135">Cuando un cliente envía una tooService solicitud Bus, equilibrador de carga de Azure Hola lo enruta tooany de nodos de la puerta de enlace de Hola.</span><span class="sxs-lookup"><span data-stu-id="43f07-135">When a client sends a request tooService Bus, hello Azure load balancer routes it tooany of hello gateway nodes.</span></span> <span data-ttu-id="43f07-136">nodo de puerta de enlace de Hello autoriza la solicitud de saludo.</span><span class="sxs-lookup"><span data-stu-id="43f07-136">hello gateway node authorizes hello request.</span></span> <span data-ttu-id="43f07-137">Si la solicitud de saludo se refiere a una entidad de mensajería (cola, tema, suscripción), nodo de puerta de enlace de hello busca entidad hello en el almacén de puerta de enlace de Hola y determina qué Hola de almacén de mensajería se encuentra la entidad.</span><span class="sxs-lookup"><span data-stu-id="43f07-137">If hello request concerns a messaging entity (queue, topic, subscription), hello gateway node looks up hello entity in hello gateway store and determines in which messaging store hello entity is located.</span></span> <span data-ttu-id="43f07-138">A continuación, busca qué nodo de broker de mensajería está dando servicio a este contenedor y envía Hola solicitud toothat de nodo de agente de mensajería.</span><span class="sxs-lookup"><span data-stu-id="43f07-138">It then looks up which messaging broker node is currently servicing this container, and sends hello request toothat messaging broker node.</span></span> <span data-ttu-id="43f07-139">Hola de nodo de agente de mensajería procesa la solicitud de Hola y actualiza el estado de la entidad de hello en el almacén de contenedor de Hola.</span><span class="sxs-lookup"><span data-stu-id="43f07-139">hello messaging broker node processes hello request and updates hello entity state in hello container store.</span></span> <span data-ttu-id="43f07-140">Hola de nodo de agente de mensajería, a continuación, envía Hola respuesta toohello atrás puerta de enlace nodo, que envía a un cliente de toohello espera respuesta adecuada esa solicitud original Hola emitido.</span><span class="sxs-lookup"><span data-stu-id="43f07-140">hello messaging broker node then sends hello response back toohello gateway node, which sends an appropriate response back toohello client that issued hello original request.</span></span>

![Procesamiento de solicitudes entrantes de mensajería](./media/service-bus-architecture/ic690644.png)

## <a name="next-steps"></a><span data-ttu-id="43f07-142">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="43f07-142">Next steps</span></span>
<span data-ttu-id="43f07-143">Ahora que ha leído una información general de arquitectura de Bus de servicio, visite Hola siguientes vínculos para obtener más información:</span><span class="sxs-lookup"><span data-stu-id="43f07-143">Now that you've read an overview of Service Bus architecture, visit hello following links for more information:</span></span>

* [<span data-ttu-id="43f07-144">Introducción a la mensajería del Bus de servicio</span><span class="sxs-lookup"><span data-stu-id="43f07-144">Service Bus messaging overview</span></span>](service-bus-messaging-overview.md)
* [<span data-ttu-id="43f07-145">Elementos fundamentales del Bus de servicio</span><span class="sxs-lookup"><span data-stu-id="43f07-145">Service Bus fundamentals</span></span>](service-bus-fundamentals-hybrid-solutions.md)
* <span data-ttu-id="43f07-146">Una [solución de mensajería en cola mediante las colas de Service Bus](service-bus-dotnet-multi-tier-app-using-service-bus-queues.md)</span><span class="sxs-lookup"><span data-stu-id="43f07-146">[A queued messaging solution using Service Bus queues](service-bus-dotnet-multi-tier-app-using-service-bus-queues.md)</span></span>


