---
title: puerta de enlace de datos de aaaOn-local | Documentos de Microsoft
description: "Una puerta de enlace local es necesario si el servidor de Analysis Services en Azure conectará a orígenes de datos locales de tooon."
services: analysis-services
documentationcenter: 
author: minewiskan
manager: erikre
editor: 
tags: 
ms.assetid: cd596155-b608-4a34-935e-e45c95d884a9
ms.service: analysis-services
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: na
ms.date: 08/21/2017
ms.author: owend
ms.openlocfilehash: fc7b9c69e6f81b41deb7a5d6d963225593845d84
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="connecting-tooon-premises-data-sources-with-azure-on-premises-data-gateway"></a><span data-ttu-id="b530b-103">Conectarse a orígenes de datos locales de tooon con puerta de enlace de datos de Azure en local</span><span class="sxs-lookup"><span data-stu-id="b530b-103">Connecting tooon-premises data sources with Azure On-premises Data Gateway</span></span>
<span data-ttu-id="b530b-104">puerta de enlace de datos de Hello local actúa como un puente, proporcionando la transferencia segura de datos entre orígenes de datos locales y los servidores de servicios de análisis de Azure en la nube de Hola.</span><span class="sxs-lookup"><span data-stu-id="b530b-104">hello on-premises data gateway acts as a bridge, providing secure data transfer between on-premises data sources and your Azure Analysis Services servers in hello cloud.</span></span> <span data-ttu-id="b530b-105">En suma tooworking con varios servidores de servicios de análisis de Azure en hello misma región, la versión más reciente de Hola de puerta de enlace de hello también funciona con aplicaciones de Azure lógica, Power BI, las aplicaciones de Power y Microsoft Flow.</span><span class="sxs-lookup"><span data-stu-id="b530b-105">In addition tooworking with multiple Azure Analysis Services servers in hello same region, hello latest version of hello gateway also works with Azure Logic Apps, Power BI, Power Apps, and Microsoft Flow.</span></span> <span data-ttu-id="b530b-106">Puede asociar varios servicios en hello misma región con una sola puerta de enlace.</span><span class="sxs-lookup"><span data-stu-id="b530b-106">You can associate multiple services in hello same region with a single gateway.</span></span> 

 <span data-ttu-id="b530b-107">Azure Analysis Services requiere un recurso de puerta de enlace en hello misma región.</span><span class="sxs-lookup"><span data-stu-id="b530b-107">Azure Analysis Services requires a gateway resource in hello same region.</span></span> <span data-ttu-id="b530b-108">Por ejemplo, si tiene servidores de Analysis Services de Azure en región de hello UU 2, necesita un recurso de puerta de enlace en la región Este de EE. 2 de Hola.</span><span class="sxs-lookup"><span data-stu-id="b530b-108">For example, if you have Azure Analysis Services servers in hello East US 2 region, you need a gateway resource in hello East US 2 region.</span></span> <span data-ttu-id="b530b-109">Varios servidores de zona horaria del Pacífico oriental 2 pueden usar hello misma puerta de enlace.</span><span class="sxs-lookup"><span data-stu-id="b530b-109">Multiple servers in East US 2 can use hello same gateway.</span></span>

<span data-ttu-id="b530b-110">Obtener el programa de instalación con hello de puerta de enlace de hello primera vez es un proceso de cuatro partes:</span><span class="sxs-lookup"><span data-stu-id="b530b-110">Getting setup with hello gateway hello first time is a four-part process:</span></span>

- <span data-ttu-id="b530b-111">**Descargar y ejecutar el programa de instalación**: en este paso se instala un servicio de puerta de enlace en un equipo de la organización.</span><span class="sxs-lookup"><span data-stu-id="b530b-111">**Download and run setup** - This step installs a gateway service on a computer in your organization.</span></span>

- <span data-ttu-id="b530b-112">**Registrar la puerta de enlace** : en este paso, especifique un nombre y la recuperación de clave para la puerta de enlace y seleccionar una región, registrar la puerta de enlace con hello puerta de enlace de servicio en la nube.</span><span class="sxs-lookup"><span data-stu-id="b530b-112">**Register your gateway** - In this step, you specify a name and recovery key for your gateway, and select a region, registering your gateway with hello Gateway Cloud Service.</span></span>

- <span data-ttu-id="b530b-113">**Crear un recurso de puerta de enlace en Azure**: en este paso se crea un recurso de puerta de enlace en una suscripción de Azure.</span><span class="sxs-lookup"><span data-stu-id="b530b-113">**Create a gateway resource in Azure** - In this step, you create a gateway resource in your Azure subscription.</span></span>

- <span data-ttu-id="b530b-114">**Conectar el recurso de puerta de enlace de servidores tooyour** -una vez que tenga un recurso de puerta de enlace en su suscripción, puede empezar a conectar su tooit de servidores.</span><span class="sxs-lookup"><span data-stu-id="b530b-114">**Connect your servers tooyour gateway resource** - Once you have a gateway resource in your subscription, you can begin connecting your servers tooit.</span></span>

<span data-ttu-id="b530b-115">Una vez que tenga un recurso de puerta de enlace configurado para la suscripción, puede conectar varios servidores y otro tooit de servicios.</span><span class="sxs-lookup"><span data-stu-id="b530b-115">Once you have a gateway resource configured for your subscription, you can connect multiple servers, and other services tooit.</span></span> <span data-ttu-id="b530b-116">Solo necesita una puerta de enlace diferentes tooinstall y crear recursos de puerta de enlace adicionales si tiene servidores u otros servicios en una región distinta.</span><span class="sxs-lookup"><span data-stu-id="b530b-116">You only need tooinstall a different gateway and create additional gateway resources if you have servers or other services in a different region.</span></span>

<span data-ttu-id="b530b-117">tooget inicia inmediatamente, vea [instalar y configurar la puerta de enlace de datos local](analysis-services-gateway-install.md).</span><span class="sxs-lookup"><span data-stu-id="b530b-117">tooget started right away, see [Install and configure on-premises data gateway](analysis-services-gateway-install.md).</span></span>

## <span data-ttu-id="b530b-118"><a name="how-it-works"></a>Funcionamiento</span><span class="sxs-lookup"><span data-stu-id="b530b-118"><a name="how-it-works"> </a>How it works</span></span>
<span data-ttu-id="b530b-119">puerta de enlace de Hello instalar en un equipo de su organización se ejecuta como un servicio de Windows, **puerta de enlace de datos local**.</span><span class="sxs-lookup"><span data-stu-id="b530b-119">hello gateway you install on a computer in your organization runs as a Windows service, **On-premises data gateway**.</span></span> <span data-ttu-id="b530b-120">Este servicio está registrado con hello servicio de nube de puerta de enlace a través de Service Bus de Azure.</span><span class="sxs-lookup"><span data-stu-id="b530b-120">This local service is registered with hello Gateway Cloud Service through Azure Service Bus.</span></span> <span data-ttu-id="b530b-121">Luego se crea un servicio en la nube de puerta de enlace del recurso de puerta de enlace para la suscripción de Azure.</span><span class="sxs-lookup"><span data-stu-id="b530b-121">You then create a gateway resource Gateway Cloud Service for your Azure subscription.</span></span> <span data-ttu-id="b530b-122">Los servidores son, a continuación, los servicios de análisis Azure conectado tooyour recursos de puerta de enlace.</span><span class="sxs-lookup"><span data-stu-id="b530b-122">Your Azure Analysis Services servers are then connected tooyour gateway resource.</span></span> <span data-ttu-id="b530b-123">Cuando modelos en su tooyour tooconnect de necesidad de servidor en el servidor local orígenes de datos para las consultas o procesamiento, Hola una consulta y datos flujo recorra Hola puerta de enlace recursos, Bus de servicio de Azure, servicio de puerta de enlace de datos en instalaciones locales y los orígenes de datos.</span><span class="sxs-lookup"><span data-stu-id="b530b-123">When models on your server need tooconnect tooyour on-premises data sources for queries or processing, a query and data flow traverses hello gateway resource, Azure Service Bus, hello local on-premises data gateway service, and your data sources.</span></span> 

![Cómo funciona](./media/analysis-services-gateway/aas-gateway-how-it-works.png)

<span data-ttu-id="b530b-125">Flujo de datos y consultas:</span><span class="sxs-lookup"><span data-stu-id="b530b-125">Queries and data flow:</span></span>

1. <span data-ttu-id="b530b-126">Se crea una consulta de servicio de nube Hola con credenciales de hello cifrada para origen de datos local de Hola.</span><span class="sxs-lookup"><span data-stu-id="b530b-126">A query is created by hello cloud service with hello encrypted credentials for hello on-premises data source.</span></span> <span data-ttu-id="b530b-127">A continuación, envió cola tooa para tooprocess de puerta de enlace de Hola.</span><span class="sxs-lookup"><span data-stu-id="b530b-127">It's then sent tooa queue for hello gateway tooprocess.</span></span>
2. <span data-ttu-id="b530b-128">servicio de nube de puerta de enlace de Hello analiza Hola consulta e inserta Hola solicitud toohello [Service Bus de Azure](https://azure.microsoft.com/documentation/services/service-bus/).</span><span class="sxs-lookup"><span data-stu-id="b530b-128">hello gateway cloud service analyzes hello query and pushes hello request toohello [Azure Service Bus](https://azure.microsoft.com/documentation/services/service-bus/).</span></span>
3. <span data-ttu-id="b530b-129">puerta de enlace de datos de Hello local sondea hello Azure Service Bus para las solicitudes pendientes.</span><span class="sxs-lookup"><span data-stu-id="b530b-129">hello on-premises data gateway polls hello Azure Service Bus for pending requests.</span></span>
4. <span data-ttu-id="b530b-130">puerta de enlace de Hello obtiene Hola consulta, descifra las credenciales de Hola y conecta a orígenes de datos toohello con esas credenciales.</span><span class="sxs-lookup"><span data-stu-id="b530b-130">hello gateway gets hello query, decrypts hello credentials, and connects toohello data sources with those credentials.</span></span>
5. <span data-ttu-id="b530b-131">puerta de enlace de Hello envía Hola consultar toohello origen de datos para su ejecución.</span><span class="sxs-lookup"><span data-stu-id="b530b-131">hello gateway sends hello query toohello data source for execution.</span></span>
6. <span data-ttu-id="b530b-132">Hola resultados se envían de origen de datos de hello, puerta de enlace de toohello atrás y, a continuación, en el servicio de nube de Hola y el servidor.</span><span class="sxs-lookup"><span data-stu-id="b530b-132">hello results are sent from hello data source, back toohello gateway, and then onto hello cloud service and your server.</span></span>

## <span data-ttu-id="b530b-133"><a name="windows-service-account"></a>Cuenta de servicio de Windows</span><span class="sxs-lookup"><span data-stu-id="b530b-133"><a name="windows-service-account"> </a>Windows Service account</span></span>
<span data-ttu-id="b530b-134">puerta de enlace de datos local Hello es configurado toouse *NT SERVICE\PBIEgwService* de credencial de inicio de sesión de servicio de Windows hello.</span><span class="sxs-lookup"><span data-stu-id="b530b-134">hello on-premises data gateway is configured toouse *NT SERVICE\PBIEgwService* for hello Windows service logon credential.</span></span> <span data-ttu-id="b530b-135">De manera predeterminada, tiene Hola derecho de inicio de sesión como un servicio; en el contexto de Hola de máquina de Hola que va a instalar la puerta de enlace de hello en.</span><span class="sxs-lookup"><span data-stu-id="b530b-135">By default, it has hello right of Logon as a service; in hello context of hello machine that you are installing hello gateway on.</span></span> <span data-ttu-id="b530b-136">Esta credencial no es Hola mismos orígenes de datos de cuenta usada tooconnect tooon local o su cuenta de Azure.</span><span class="sxs-lookup"><span data-stu-id="b530b-136">This credential is not hello same account used tooconnect tooon-premises data sources or your Azure account.</span></span>  

<span data-ttu-id="b530b-137">Si tiene problemas con el servidor proxy debido tooauthentication, puede que desee toochange usuario de dominio tooa la cuenta de servicio de Windows hello o administrados cuenta de servicio.</span><span class="sxs-lookup"><span data-stu-id="b530b-137">If you encounter issues with your proxy server due tooauthentication, you may want toochange hello Windows service account tooa domain user or managed service account.</span></span>

## <span data-ttu-id="b530b-138"><a name="ports"></a>Puertos</span><span class="sxs-lookup"><span data-stu-id="b530b-138"><a name="ports"> </a>Ports</span></span>
<span data-ttu-id="b530b-139">puerta de enlace de Hello crea un Bus de servicio de tooAzure de conexión de salida.</span><span class="sxs-lookup"><span data-stu-id="b530b-139">hello gateway creates an outbound connection tooAzure Service Bus.</span></span> <span data-ttu-id="b530b-140">Se comunica en los puertos de salida siguientes: TCP 443 (valor predeterminado), 5671, 5672 y del 9350 al 9354.</span><span class="sxs-lookup"><span data-stu-id="b530b-140">It communicates on outbound ports: TCP 443 (default), 5671, 5672, 9350 through 9354.</span></span>  <span data-ttu-id="b530b-141">puerta de enlace de Hello no requiere puertos de entrada.</span><span class="sxs-lookup"><span data-stu-id="b530b-141">hello gateway does not require inbound ports.</span></span>

<span data-ttu-id="b530b-142">Se recomienda direcciones IP de Hola de lista blanca de direcciones para la región de datos en el firewall.</span><span class="sxs-lookup"><span data-stu-id="b530b-142">We recommend you whitelist hello IP addresses for your data region in your firewall.</span></span> <span data-ttu-id="b530b-143">Puede descargar hello [lista de IP de centro de datos de Microsoft Azure](https://www.microsoft.com/download/details.aspx?id=41653).</span><span class="sxs-lookup"><span data-stu-id="b530b-143">You can download hello [Microsoft Azure Datacenter IP list](https://www.microsoft.com/download/details.aspx?id=41653).</span></span> <span data-ttu-id="b530b-144">La lista se actualiza semanalmente.</span><span class="sxs-lookup"><span data-stu-id="b530b-144">This list is updated weekly.</span></span>

> [!NOTE]
> <span data-ttu-id="b530b-145">Direcciones IP de Hello enumerados en la lista de IP de centro de datos de Azure de Hola están en la notación CIDR.</span><span class="sxs-lookup"><span data-stu-id="b530b-145">hello IP Addresses listed in hello Azure Datacenter IP list are in CIDR notation.</span></span> <span data-ttu-id="b530b-146">Por ejemplo, 10.0.0.0/24 no significa de 10.0.0.0 a 10.0.0.24.</span><span class="sxs-lookup"><span data-stu-id="b530b-146">For example, 10.0.0.0/24 does not mean 10.0.0.0 through 10.0.0.24.</span></span> <span data-ttu-id="b530b-147">Obtener más información sobre hello [la notación CIDR](http://whatismyipaddress.com/cidr).</span><span class="sxs-lookup"><span data-stu-id="b530b-147">Learn more about hello [CIDR notation](http://whatismyipaddress.com/cidr).</span></span>
>
>

<span data-ttu-id="b530b-148">siguiente Hola es nombres de dominio de hello completo utilizados por la puerta de enlace de Hola.</span><span class="sxs-lookup"><span data-stu-id="b530b-148">hello following are hello fully qualified domain names used by hello gateway.</span></span>

| <span data-ttu-id="b530b-149">Nombres de dominio</span><span class="sxs-lookup"><span data-stu-id="b530b-149">Domain names</span></span> | <span data-ttu-id="b530b-150">Puertos de salida</span><span class="sxs-lookup"><span data-stu-id="b530b-150">Outbound ports</span></span> | <span data-ttu-id="b530b-151">Descripción</span><span class="sxs-lookup"><span data-stu-id="b530b-151">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="b530b-152">*.powerbi.com</span><span class="sxs-lookup"><span data-stu-id="b530b-152">*.powerbi.com</span></span> |<span data-ttu-id="b530b-153">80</span><span class="sxs-lookup"><span data-stu-id="b530b-153">80</span></span> |<span data-ttu-id="b530b-154">Instalador de hello toodownload utiliza HTTP.</span><span class="sxs-lookup"><span data-stu-id="b530b-154">HTTP used toodownload hello installer.</span></span> |
| <span data-ttu-id="b530b-155">*.powerbi.com</span><span class="sxs-lookup"><span data-stu-id="b530b-155">*.powerbi.com</span></span> |<span data-ttu-id="b530b-156">443</span><span class="sxs-lookup"><span data-stu-id="b530b-156">443</span></span> |<span data-ttu-id="b530b-157">HTTPS</span><span class="sxs-lookup"><span data-stu-id="b530b-157">HTTPS</span></span> |
| <span data-ttu-id="b530b-158">*. analysis.windows.net</span><span class="sxs-lookup"><span data-stu-id="b530b-158">*.analysis.windows.net</span></span> |<span data-ttu-id="b530b-159">443</span><span class="sxs-lookup"><span data-stu-id="b530b-159">443</span></span> |<span data-ttu-id="b530b-160">HTTPS</span><span class="sxs-lookup"><span data-stu-id="b530b-160">HTTPS</span></span> |
| <span data-ttu-id="b530b-161">*.login.windows.net</span><span class="sxs-lookup"><span data-stu-id="b530b-161">*.login.windows.net</span></span> |<span data-ttu-id="b530b-162">443</span><span class="sxs-lookup"><span data-stu-id="b530b-162">443</span></span> |<span data-ttu-id="b530b-163">HTTPS</span><span class="sxs-lookup"><span data-stu-id="b530b-163">HTTPS</span></span> |
| <span data-ttu-id="b530b-164">*.servicebus.windows.net</span><span class="sxs-lookup"><span data-stu-id="b530b-164">*.servicebus.windows.net</span></span> |<span data-ttu-id="b530b-165">5671-5672</span><span class="sxs-lookup"><span data-stu-id="b530b-165">5671-5672</span></span> |<span data-ttu-id="b530b-166">Advanced Message Queuing Protocol (AMQP)</span><span class="sxs-lookup"><span data-stu-id="b530b-166">Advanced Message Queuing Protocol (AMQP)</span></span> |
| <span data-ttu-id="b530b-167">*.servicebus.windows.net</span><span class="sxs-lookup"><span data-stu-id="b530b-167">*.servicebus.windows.net</span></span> |<span data-ttu-id="b530b-168">443, 9350-9354</span><span class="sxs-lookup"><span data-stu-id="b530b-168">443, 9350-9354</span></span> |<span data-ttu-id="b530b-169">Agentes de escucha en Service Bus Relay sobre TCP (requiere 443 para la adquisición del token de Access Control)</span><span class="sxs-lookup"><span data-stu-id="b530b-169">Listeners on Service Bus Relay over TCP (requires 443 for Access Control token acquisition)</span></span> |
| <span data-ttu-id="b530b-170">*.frontend.clouddatahub.net</span><span class="sxs-lookup"><span data-stu-id="b530b-170">*.frontend.clouddatahub.net</span></span> |<span data-ttu-id="b530b-171">443</span><span class="sxs-lookup"><span data-stu-id="b530b-171">443</span></span> |<span data-ttu-id="b530b-172">HTTPS</span><span class="sxs-lookup"><span data-stu-id="b530b-172">HTTPS</span></span> |
| <span data-ttu-id="b530b-173">*.core.windows.net</span><span class="sxs-lookup"><span data-stu-id="b530b-173">*.core.windows.net</span></span> |<span data-ttu-id="b530b-174">443</span><span class="sxs-lookup"><span data-stu-id="b530b-174">443</span></span> |<span data-ttu-id="b530b-175">HTTPS</span><span class="sxs-lookup"><span data-stu-id="b530b-175">HTTPS</span></span> |
| <span data-ttu-id="b530b-176">login.microsoftonline.com</span><span class="sxs-lookup"><span data-stu-id="b530b-176">login.microsoftonline.com</span></span> |<span data-ttu-id="b530b-177">443</span><span class="sxs-lookup"><span data-stu-id="b530b-177">443</span></span> |<span data-ttu-id="b530b-178">HTTPS</span><span class="sxs-lookup"><span data-stu-id="b530b-178">HTTPS</span></span> |
| <span data-ttu-id="b530b-179">*.msftncsi.com</span><span class="sxs-lookup"><span data-stu-id="b530b-179">*.msftncsi.com</span></span> |<span data-ttu-id="b530b-180">443</span><span class="sxs-lookup"><span data-stu-id="b530b-180">443</span></span> |<span data-ttu-id="b530b-181">Usar tootest conectividad a internet si la puerta de enlace de hello es inaccesible por hello servicio Power BI.</span><span class="sxs-lookup"><span data-stu-id="b530b-181">Used tootest internet connectivity if hello gateway is unreachable by hello Power BI service.</span></span> |
| <span data-ttu-id="b530b-182">*.microsoftonline-p.com</span><span class="sxs-lookup"><span data-stu-id="b530b-182">*.microsoftonline-p.com</span></span> |<span data-ttu-id="b530b-183">443</span><span class="sxs-lookup"><span data-stu-id="b530b-183">443</span></span> |<span data-ttu-id="b530b-184">Se utiliza para la autenticación dependiendo de la configuración.</span><span class="sxs-lookup"><span data-stu-id="b530b-184">Used for authentication depending on configuration.</span></span> |

### <span data-ttu-id="b530b-185"><a name="force-https"></a>Forzar la comunicación HTTPS con Azure Service Bus</span><span class="sxs-lookup"><span data-stu-id="b530b-185"><a name="force-https"></a>Forcing HTTPS communication with Azure Service Bus</span></span>
<span data-ttu-id="b530b-186">Puede forzar hello toocommunicate de puerta de enlace con el Bus de servicio de Azure mediante HTTPS en lugar de TCP directo; Sin embargo, si lo hace por lo que puede reducir considerablemente rendimiento.</span><span class="sxs-lookup"><span data-stu-id="b530b-186">You can force hello gateway toocommunicate with Azure Service Bus by using HTTPS instead of direct TCP; however, doing so can greatly reduce performance.</span></span> <span data-ttu-id="b530b-187">Puede modificar hello *Microsoft.PowerBI.DataMovement.Pipeline.GatewayCore.dll.config* archivo cambiando el valor de Hola de `AutoDetect` demasiado`Https`.</span><span class="sxs-lookup"><span data-stu-id="b530b-187">You can modify hello *Microsoft.PowerBI.DataMovement.Pipeline.GatewayCore.dll.config* file by changing hello value from `AutoDetect` too`Https`.</span></span> <span data-ttu-id="b530b-188">Este archivo suele encontrarse en *C:\Archivos de programa\Puerta de enlace de datos local*.</span><span class="sxs-lookup"><span data-stu-id="b530b-188">This file is typically located at *C:\Program Files\On-premises data gateway*.</span></span>

```
<setting name="ServiceBusSystemConnectivityModeString" serializeAs="String">
    <value>Https</value>
</setting>
```

## <span data-ttu-id="b530b-189"><a name="faq"></a>Preguntas más frecuentes</span><span class="sxs-lookup"><span data-stu-id="b530b-189"><a name="faq"></a>Frequently asked questions</span></span>

### <a name="general"></a><span data-ttu-id="b530b-190">General</span><span class="sxs-lookup"><span data-stu-id="b530b-190">General</span></span>

<span data-ttu-id="b530b-191">**Preguntas**: ¿necesito una puerta de enlace para los orígenes de datos en la nube de hello, como la base de datos de SQL Azure?</span><span class="sxs-lookup"><span data-stu-id="b530b-191">**Q**: Do I need a gateway for data sources in hello cloud, such as Azure SQL Database?</span></span> <br/><span data-ttu-id="b530b-192">
**R:** No.</span><span class="sxs-lookup"><span data-stu-id="b530b-192">
**A**: No.</span></span> <span data-ttu-id="b530b-193">Una puerta de enlace conecta a orígenes de datos de tooon locales solo.</span><span class="sxs-lookup"><span data-stu-id="b530b-193">A gateway connects tooon-premises data sources only.</span></span>

<span data-ttu-id="b530b-194">**¿Preguntas**: puerta de enlace de hello tiene toobe instalado en hello mismo equipo como origen de datos de hello?</span><span class="sxs-lookup"><span data-stu-id="b530b-194">**Q**: Does hello gateway have toobe installed on hello same machine as hello data source?</span></span> <br/><span data-ttu-id="b530b-195">
**R:** No.</span><span class="sxs-lookup"><span data-stu-id="b530b-195">
**A**: No.</span></span> <span data-ttu-id="b530b-196">puerta de enlace de Hello conecta toohello origen de datos usando la información de conexión de Hola que proporcionó.</span><span class="sxs-lookup"><span data-stu-id="b530b-196">hello gateway connects toohello data source using hello connection information that was provided.</span></span> <span data-ttu-id="b530b-197">Considere la posibilidad de puerta de enlace de hello como una aplicación de cliente en este sentido.</span><span class="sxs-lookup"><span data-stu-id="b530b-197">Consider hello gateway as a client application in this sense.</span></span> <span data-ttu-id="b530b-198">Hello puerta de enlace solo necesita Hola capacidad tooconnect toohello nombre del servidor que se proporcionó, normalmente en hello misma red.</span><span class="sxs-lookup"><span data-stu-id="b530b-198">hello gateway just needs hello capability tooconnect toohello server name that was provided, typically on hello same network.</span></span>

<a name="why-azure-work-school-account"></a>

<span data-ttu-id="b530b-199">**Preguntas**: ¿por qué necesita toouse un trabajo o escuela cuenta toosign en?</span><span class="sxs-lookup"><span data-stu-id="b530b-199">**Q**: Why do I need toouse a work or school account toosign in?</span></span> <br/><span data-ttu-id="b530b-200">
**Un**: solo puede usar un trabajo de Azure o educativa cuenta cuando se instala la puerta de enlace de datos de hello en local.</span><span class="sxs-lookup"><span data-stu-id="b530b-200">
**A**: You can only use an Azure work or school account when you install hello on-premises data gateway.</span></span> <span data-ttu-id="b530b-201">Su cuenta de inicio de sesión se almacena en un inquilino administrado por Azure Active Directory (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="b530b-201">Your sign-in account is stored in a tenant that's managed by Azure Active Directory (Azure AD).</span></span> <span data-ttu-id="b530b-202">Por lo general, nombre principal de la cuenta de Azure AD usuario (UPN) coincide con dirección de correo electrónico de Hola.</span><span class="sxs-lookup"><span data-stu-id="b530b-202">Usually, your Azure AD account's user principal name (UPN) matches hello email address.</span></span>

<span data-ttu-id="b530b-203">**P**: ¿Dónde se almacenan mis credenciales?</span><span class="sxs-lookup"><span data-stu-id="b530b-203">**Q**: Where are my credentials stored?</span></span> <br/><span data-ttu-id="b530b-204">
**Un**: credenciales de Hola que especifique para un origen de datos se cifran y almacenan en hello puerta de enlace de servicio en la nube.</span><span class="sxs-lookup"><span data-stu-id="b530b-204">
**A**: hello credentials that you enter for a data source are encrypted and stored in hello Gateway Cloud Service.</span></span> <span data-ttu-id="b530b-205">las credenciales de Hola se descifran en la puerta de enlace de datos de hello en local.</span><span class="sxs-lookup"><span data-stu-id="b530b-205">hello credentials are decrypted at hello on-premises data gateway.</span></span>

<span data-ttu-id="b530b-206">**P**: ¿Hay algún requisito con respecto al ancho de banda de red?</span><span class="sxs-lookup"><span data-stu-id="b530b-206">**Q**: Are there any requirements for network bandwidth?</span></span> <br/><span data-ttu-id="b530b-207">
**R**: Es aconsejable que la conexión de red tenga buen rendimiento.</span><span class="sxs-lookup"><span data-stu-id="b530b-207">
**A**: It's recommend your network connection has good throughput.</span></span> <span data-ttu-id="b530b-208">Cada entorno es diferente y cantidad de Hola de datos que se envían afecta a los resultados de Hola.</span><span class="sxs-lookup"><span data-stu-id="b530b-208">Every environment is different, and hello amount of data being sent affects hello results.</span></span> <span data-ttu-id="b530b-209">Usar ExpressRoute puede ayudar a tooguarantee un nivel de rendimiento entre hello centros de datos de Azure y local.</span><span class="sxs-lookup"><span data-stu-id="b530b-209">Using ExpressRoute could help tooguarantee a level of throughput between on-premises and hello Azure datacenters.</span></span>
<span data-ttu-id="b530b-210">Puede usar Hola herramienta de otro fabricante Azure Speed Test aplicación toohelp medidor su rendimiento.</span><span class="sxs-lookup"><span data-stu-id="b530b-210">You can use hello third-party tool Azure Speed Test app toohelp gauge your throughput.</span></span>

<span data-ttu-id="b530b-211">**Preguntas**: ¿qué es la latencia de Hola para consultas tooa datos de origen en ejecución de puerta de enlace de hello?</span><span class="sxs-lookup"><span data-stu-id="b530b-211">**Q**: What is hello latency for running queries tooa data source from hello gateway?</span></span> <span data-ttu-id="b530b-212">¿Cuál es la mejor arquitectura de hello?</span><span class="sxs-lookup"><span data-stu-id="b530b-212">What is hello best architecture?</span></span> <br/><span data-ttu-id="b530b-213">
**Un**: latencia de red tooreduce, puerta de enlace de instalación hello como origen de datos de toohello cerrar como sea posible.</span><span class="sxs-lookup"><span data-stu-id="b530b-213">
**A**: tooreduce network latency, install hello gateway as close toohello data source as possible.</span></span> <span data-ttu-id="b530b-214">Si puede instalar la puerta de enlace de hello en el origen de datos real de hello, esta proximidad reduce la latencia de hello introducida.</span><span class="sxs-lookup"><span data-stu-id="b530b-214">If you can install hello gateway on hello actual data source, this proximity minimizes hello latency introduced.</span></span> <span data-ttu-id="b530b-215">Considere la posibilidad de centros de datos de hello demasiado.</span><span class="sxs-lookup"><span data-stu-id="b530b-215">Consider hello datacenters too.</span></span> <span data-ttu-id="b530b-216">Por ejemplo, si el servicio usa el centro de datos de hello oeste de Estados Unidos y tiene SQL Server hospedado en una máquina virtual de Azure, la VM de Azure deben estar en hello West US demasiado.</span><span class="sxs-lookup"><span data-stu-id="b530b-216">For example, if your service uses hello West US datacenter, and you have SQL Server hosted in an Azure VM, your Azure VM should be in hello West US too.</span></span> <span data-ttu-id="b530b-217">Esta proximidad reduce la latencia y evita los cargos de salida en hello VM de Azure.</span><span class="sxs-lookup"><span data-stu-id="b530b-217">This proximity minimizes latency and avoids egress charges on hello Azure VM.</span></span>

<span data-ttu-id="b530b-218">**Preguntas**: ¿de qué resultados enviados toohello atrás en la nube?</span><span class="sxs-lookup"><span data-stu-id="b530b-218">**Q**: How are results sent back toohello cloud?</span></span> <br/><span data-ttu-id="b530b-219">
**Un**: los resultados se envían a través de hello Azure Service Bus.</span><span class="sxs-lookup"><span data-stu-id="b530b-219">
**A**: Results are sent through hello Azure Service Bus.</span></span>

<span data-ttu-id="b530b-220">**Preguntas**: ¿hay ninguna puerta de enlace de toohello de las conexiones entrantes de nube de hello?</span><span class="sxs-lookup"><span data-stu-id="b530b-220">**Q**: Are there any inbound connections toohello gateway from hello cloud?</span></span> <br/><span data-ttu-id="b530b-221">
**R:** No.</span><span class="sxs-lookup"><span data-stu-id="b530b-221">
**A**: No.</span></span> <span data-ttu-id="b530b-222">puerta de enlace de Hello utiliza conexiones salientes tooAzure Bus de servicio.</span><span class="sxs-lookup"><span data-stu-id="b530b-222">hello gateway uses outbound connections tooAzure Service Bus.</span></span>

<span data-ttu-id="b530b-223">**P**: ¿Qué sucede si bloqueo las conexiones de salida?</span><span class="sxs-lookup"><span data-stu-id="b530b-223">**Q**: What if I block outbound connections?</span></span> <span data-ttu-id="b530b-224">¿Qué necesito tooopen?</span><span class="sxs-lookup"><span data-stu-id="b530b-224">What do I need tooopen?</span></span> <br/><span data-ttu-id="b530b-225">
**Un**: ver los puertos de Hola y hosts que Hola usos de la puerta de enlace.</span><span class="sxs-lookup"><span data-stu-id="b530b-225">
**A**: See hello ports and hosts that hello gateway uses.</span></span>

<span data-ttu-id="b530b-226">**¿Preguntas**: lo que se denomina el servicio de Windows de hello real?</span><span class="sxs-lookup"><span data-stu-id="b530b-226">**Q**: What is hello actual Windows service called?</span></span><br/><span data-ttu-id="b530b-227">
**Un**: en los servicios, puerta de enlace de Hola se llama servicio de puerta de enlace de datos local.</span><span class="sxs-lookup"><span data-stu-id="b530b-227">
**A**: In Services, hello gateway is called On-premises data gateway service.</span></span>

<span data-ttu-id="b530b-228">**¿Preguntas**: Hola a servicio de Windows de puerta de enlace que se ejecutan con una cuenta de Azure Active Directory?</span><span class="sxs-lookup"><span data-stu-id="b530b-228">**Q**: Can hello gateway Windows service run with an Azure Active Directory account?</span></span> <br/><span data-ttu-id="b530b-229">
**R:** No.</span><span class="sxs-lookup"><span data-stu-id="b530b-229">
**A**: No.</span></span> <span data-ttu-id="b530b-230">Hola servicio de Windows debe tener una cuenta de Windows válida.</span><span class="sxs-lookup"><span data-stu-id="b530b-230">hello Windows service must have a valid Windows account.</span></span> <span data-ttu-id="b530b-231">De forma predeterminada, el servicio de Hola se ejecuta con hello SID de servicio, NT SERVICE\PBIEgwService.</span><span class="sxs-lookup"><span data-stu-id="b530b-231">By default, hello service runs with hello Service SID, NT SERVICE\PBIEgwService.</span></span>

### <span data-ttu-id="b530b-232"><a name="high-availability"></a>Alta disponibilidad y recuperación ante desastres</span><span class="sxs-lookup"><span data-stu-id="b530b-232"><a name="high-availability"></a>High availability and disaster recovery</span></span>

<span data-ttu-id="b530b-233">**P**: ¿Cuáles son las opciones de recuperación ante desastres disponibles?</span><span class="sxs-lookup"><span data-stu-id="b530b-233">**Q**: What options are available for disaster recovery?</span></span> <br/><span data-ttu-id="b530b-234">
**Un**: puede usar toorestore de clave de recuperación de Hola o mover una puerta de enlace.</span><span class="sxs-lookup"><span data-stu-id="b530b-234">
**A**: You can use hello recovery key toorestore or move a gateway.</span></span> <span data-ttu-id="b530b-235">Cuando se instala la puerta de enlace de hello, especifique la clave de recuperación de Hola.</span><span class="sxs-lookup"><span data-stu-id="b530b-235">When you install hello gateway, specify hello recovery key.</span></span>

<span data-ttu-id="b530b-236">**Preguntas**: ¿cuál es la ventaja de Hola de clave de recuperación de hello?</span><span class="sxs-lookup"><span data-stu-id="b530b-236">**Q**: What is hello benefit of hello recovery key?</span></span> <br/><span data-ttu-id="b530b-237">
**Un**: clave de recuperación de hello proporciona una manera toomigrate o recuperar la configuración de puerta de enlace después de un desastre.</span><span class="sxs-lookup"><span data-stu-id="b530b-237">
**A**: hello recovery key provides a way toomigrate or recover your gateway settings after a disaster.</span></span>

## <span data-ttu-id="b530b-238"><a name="troubleshooting"></a>Solución de problemas</span><span class="sxs-lookup"><span data-stu-id="b530b-238"><a name="troubleshooting"> </a>Troubleshooting</span></span>

<span data-ttu-id="b530b-239">**Preguntas**: ¿Cómo puedo ver las consultas que se están enviando el origen de datos local de toohello?</span><span class="sxs-lookup"><span data-stu-id="b530b-239">**Q**: How can I see what queries are being sent toohello on-premises data source?</span></span> <br/><span data-ttu-id="b530b-240">
**Un**: para habilitar el seguimiento de la consulta, que incluye las consultas de Hola que se envían.</span><span class="sxs-lookup"><span data-stu-id="b530b-240">
**A**: You can enable query tracing, which includes hello queries that are sent.</span></span> <span data-ttu-id="b530b-241">Recuerde consulta toochange remontarse toohello valor original cuando haya finalizado la solución de problemas.</span><span class="sxs-lookup"><span data-stu-id="b530b-241">Remember toochange query tracing back toohello original value when done troubleshooting.</span></span> <span data-ttu-id="b530b-242">Si lo deja activado, crea registros de mayor tamaño.</span><span class="sxs-lookup"><span data-stu-id="b530b-242">Leaving query tracing turned on creates larger logs.</span></span>

<span data-ttu-id="b530b-243">También puede examinar las herramientas de que dispone su origen de datos para el seguimiento de consultas.</span><span class="sxs-lookup"><span data-stu-id="b530b-243">You can also look at tools that your data source has for tracing queries.</span></span> <span data-ttu-id="b530b-244">Por ejemplo, puede utilizar Eventos extendidos o SQL Profiler en SQL Server y Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="b530b-244">For example, you can use Extended Events or SQL Profiler for SQL Server and Analysis Services.</span></span>

<span data-ttu-id="b530b-245">**¿Preguntas**: donde se encuentran los registros de puerta de enlace de hello?</span><span class="sxs-lookup"><span data-stu-id="b530b-245">**Q**: Where are hello gateway logs?</span></span> <br/><span data-ttu-id="b530b-246">
**R**: Consulte la sección Registros en este mismo tema.</span><span class="sxs-lookup"><span data-stu-id="b530b-246">
**A**: See Logs later in this topic.</span></span>

### <span data-ttu-id="b530b-247"><a name="update"></a>Actualizar la versión más reciente de toohello</span><span class="sxs-lookup"><span data-stu-id="b530b-247"><a name="update"></a>Update toohello latest version</span></span>

<span data-ttu-id="b530b-248">Muchos problemas pueden surgir cuando la versión de la puerta de enlace de Hola quede anticuado.</span><span class="sxs-lookup"><span data-stu-id="b530b-248">Many issues can surface when hello gateway version becomes outdated.</span></span> <span data-ttu-id="b530b-249">Como buena práctica general, asegúrese de utilizar la versión más reciente de Hola.</span><span class="sxs-lookup"><span data-stu-id="b530b-249">As good general practice, make sure that you use hello latest version.</span></span> <span data-ttu-id="b530b-250">Si no ha actualizado la puerta de enlace de Hola durante un mes o más, podría pensar en instalar la versión más reciente de Hola de puerta de enlace de Hola y vea si puede reproducir el problema de Hola.</span><span class="sxs-lookup"><span data-stu-id="b530b-250">If you haven't updated hello gateway for a month or longer, you might consider installing hello latest version of hello gateway, and see if you can reproduce hello issue.</span></span>

### <a name="error-failed-tooadd-user-toogroup--2147463168-pbiegwservice-performance-log-users"></a><span data-ttu-id="b530b-251">Error: No se pudo tooadd toogroup de usuario.</span><span class="sxs-lookup"><span data-stu-id="b530b-251">Error: Failed tooadd user toogroup.</span></span> <span data-ttu-id="b530b-252">(Usuarios del registro de rendimiento de-2147463168 PBIEgwService)</span><span class="sxs-lookup"><span data-stu-id="b530b-252">(-2147463168 PBIEgwService Performance Log Users)</span></span>

<span data-ttu-id="b530b-253">Podría obtener este error si intentas puerta de enlace de tooinstall hello en un controlador de dominio que no es compatible.</span><span class="sxs-lookup"><span data-stu-id="b530b-253">You might get this error if you try tooinstall hello gateway on a domain controller, which isn't supported.</span></span> <span data-ttu-id="b530b-254">Asegúrese de que implemente la puerta de enlace de hello en un equipo que no es un controlador de dominio.</span><span class="sxs-lookup"><span data-stu-id="b530b-254">Make sure that you deploy hello gateway on a machine that isn't a domain controller.</span></span>

## <span data-ttu-id="b530b-255"><a name="logs"></a>Registros</span><span class="sxs-lookup"><span data-stu-id="b530b-255"><a name="logs"></a>Logs</span></span>

<span data-ttu-id="b530b-256">Los archivos de registro son un recurso importante a la hora de solucionar problemas.</span><span class="sxs-lookup"><span data-stu-id="b530b-256">Log files are an important resource when troubleshooting.</span></span>

#### <a name="enterprise-gateway-service-logs"></a><span data-ttu-id="b530b-257">Registros del servicio de puerta de enlace empresarial</span><span class="sxs-lookup"><span data-stu-id="b530b-257">Enterprise gateway service logs</span></span>

`C:\Users\PBIEgwService\AppData\Local\Microsoft\On-premises data gateway\<yyyyymmdd>.<Number>.log`

#### <a name="configuration-logs"></a><span data-ttu-id="b530b-258">Registros de configuración</span><span class="sxs-lookup"><span data-stu-id="b530b-258">Configuration logs</span></span>

`C:\Users\<username>\AppData\Local\Microsoft\On-premises data gateway\GatewayConfigurator.log`




#### <a name="event-logs"></a><span data-ttu-id="b530b-259">Registros de eventos</span><span class="sxs-lookup"><span data-stu-id="b530b-259">Event logs</span></span>

<span data-ttu-id="b530b-260">Puede encontrar registros de Data Management Gateway y PowerBIGateway en hello **registros de aplicaciones y servicios**.</span><span class="sxs-lookup"><span data-stu-id="b530b-260">You can find hello Data Management Gateway and PowerBIGateway logs under **Application and Services Logs**.</span></span>


## <span data-ttu-id="b530b-261"><a name="telemetry"></a>Telemetría</span><span class="sxs-lookup"><span data-stu-id="b530b-261"><a name="telemetry"></a>Telemetry</span></span>
<span data-ttu-id="b530b-262">La telemetría puede usarse para tareas de supervisión y solución de problemas.</span><span class="sxs-lookup"><span data-stu-id="b530b-262">Telemetry can be used for monitoring and troubleshooting.</span></span> <span data-ttu-id="b530b-263">De forma predeterminada</span><span class="sxs-lookup"><span data-stu-id="b530b-263">By default</span></span>

<span data-ttu-id="b530b-264">**tooturn datos de telemetría**</span><span class="sxs-lookup"><span data-stu-id="b530b-264">**tooturn on telemetry**</span></span>

1.  <span data-ttu-id="b530b-265">Compruebe el directorio del cliente de puerta de enlace Hola local datos en el equipo de Hola.</span><span class="sxs-lookup"><span data-stu-id="b530b-265">Check hello On-premises data gateway client directory on hello computer.</span></span> <span data-ttu-id="b530b-266">Normalmente, es **%systemdrive%\Program Files\On-premises data gateway**.</span><span class="sxs-lookup"><span data-stu-id="b530b-266">Typically, it is **%systemdrive%\Program Files\On-premises data gateway**.</span></span> <span data-ttu-id="b530b-267">O bien, puede abrir una consola de servicios y compruebe tooexecutable de ruta de acceso de hello: una propiedad del servicio de puerta de enlace de datos de hello local.</span><span class="sxs-lookup"><span data-stu-id="b530b-267">Or, you can open a Services console and check hello Path tooexecutable: A property of hello On-premises data gateway service.</span></span>
2.  <span data-ttu-id="b530b-268">En el archivo Microsoft.PowerBI.DataMovement.Pipeline.GatewayCore.dll.config de hello directorio del cliente.</span><span class="sxs-lookup"><span data-stu-id="b530b-268">In hello Microsoft.PowerBI.DataMovement.Pipeline.GatewayCore.dll.config file from client directory.</span></span> <span data-ttu-id="b530b-269">Cambiar hello SendTelemetry configuración tootrue.</span><span class="sxs-lookup"><span data-stu-id="b530b-269">Change hello SendTelemetry setting tootrue.</span></span>
        
    ```
        <setting name="SendTelemetry" serializeAs="String">
                    <value>true</value>
        </setting>
    ```

3.  <span data-ttu-id="b530b-270">Guarde los cambios y reinicie el servicio de Windows hello: el servicio de puerta de enlace de datos local.</span><span class="sxs-lookup"><span data-stu-id="b530b-270">Save your changes and restart hello Windows service: On-premises data gateway service.</span></span>




## <a name="next-steps"></a><span data-ttu-id="b530b-271">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="b530b-271">Next steps</span></span>
* [<span data-ttu-id="b530b-272">Administración de Analysis Services</span><span class="sxs-lookup"><span data-stu-id="b530b-272">Manage Analysis Services</span></span>](analysis-services-manage.md)
* [<span data-ttu-id="b530b-273">Obtención de datos de Azure Analysis Services</span><span class="sxs-lookup"><span data-stu-id="b530b-273">Get data from Azure Analysis Services</span></span>](analysis-services-connect.md)
