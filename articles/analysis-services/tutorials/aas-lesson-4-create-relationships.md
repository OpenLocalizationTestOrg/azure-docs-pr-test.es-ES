---
<span data-ttu-id="b3c7d-101">título: aaa "lección de Azure Analysis Services tutorial 4: crear relaciones | Descripción de Microsoft Docs": describe cómo toocreate relaciones en Hola proyecto tutorial de Analysis Services de Azure.</span><span class="sxs-lookup"><span data-stu-id="b3c7d-101">title: aaa"Azure Analysis Services tutorial lesson 4: Create relationships | Microsoft Docs" description: Describes how toocreate relationships in hello Azure Analysis Services tutorial project.</span></span> <span data-ttu-id="b3c7d-102">servicios: documentationcenter de analysis services: '' autor: minewiskan manager: erikre editor: '' etiquetas: ''</span><span class="sxs-lookup"><span data-stu-id="b3c7d-102">services: analysis-services documentationcenter: '' author: minewiskan manager: erikre editor: '' tags: ''</span></span>

<span data-ttu-id="b3c7d-103">MS.AssetId: ms.service: ms.devlang de analysis services: NA ms.topic: get-started-article ms.tgt_pltfrm: NA ms.workload: na ms.date: 26/05/2017 ms.author: owend</span><span class="sxs-lookup"><span data-stu-id="b3c7d-103">ms.assetid: ms.service: analysis-services ms.devlang: NA ms.topic: get-started-article ms.tgt_pltfrm: NA ms.workload: na ms.date: 05/26/2017 ms.author: owend</span></span>
---
# <a name="lesson-4-create-relationships"></a><span data-ttu-id="b3c7d-104">Lección 4: Creación de relaciones</span><span class="sxs-lookup"><span data-stu-id="b3c7d-104">Lesson 4: Create relationships</span></span>

[!INCLUDE[analysis-services-appliesto-aas-sql2017-later](../../../includes/analysis-services-appliesto-aas-sql2017-later.md)]

<span data-ttu-id="b3c7d-105">En esta lección, compruebe las relaciones de Hola que se crearon automáticamente cuando importó los datos y agregar nuevas relaciones entre tablas diferentes.</span><span class="sxs-lookup"><span data-stu-id="b3c7d-105">In this lesson, you verify hello relationships that were created automatically when you imported data and add new relationships between different tables.</span></span> <span data-ttu-id="b3c7d-106">Una relación es una conexión entre dos tablas que establece cómo se deben relacionar datos de hello en esas tablas.</span><span class="sxs-lookup"><span data-stu-id="b3c7d-106">A relationship is a connection between two tables that establishes how hello data in those tables should be correlated.</span></span> <span data-ttu-id="b3c7d-107">Por ejemplo, tablas de DimProduct de Hola y Hola DimProductSubcategory tienen una relación basada en hechos de Hola que pertenece cada producto tooa subcategoría.</span><span class="sxs-lookup"><span data-stu-id="b3c7d-107">For example, hello DimProduct table and hello DimProductSubcategory table have a relationship based on hello fact that each product belongs tooa subcategory.</span></span> <span data-ttu-id="b3c7d-108">más información, consulte toolearn [relaciones](https://docs.microsoft.com/sql/analysis-services/tabular-models/relationships-ssas-tabular).</span><span class="sxs-lookup"><span data-stu-id="b3c7d-108">toolearn more, see [Relationships](https://docs.microsoft.com/sql/analysis-services/tabular-models/relationships-ssas-tabular).</span></span>
  
<span data-ttu-id="b3c7d-109">Estimado toocomplete de tiempo en esta lección: **10 minutos**</span><span class="sxs-lookup"><span data-stu-id="b3c7d-109">Estimated time toocomplete this lesson: **10 minutes**</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="b3c7d-110">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="b3c7d-110">Prerequisites</span></span>  
<span data-ttu-id="b3c7d-111">Este tema forma parte de un tutorial de modelado tabular, que se debe completar en orden.</span><span class="sxs-lookup"><span data-stu-id="b3c7d-111">This topic is part of a tabular modeling tutorial, which should be completed in order.</span></span> <span data-ttu-id="b3c7d-112">Antes de realizar tareas de hello en esta lección, debe haber completado la lección anterior hello: [lección 3: marcar como tabla de fechas](../tutorials/aas-lesson-3-mark-as-date-table.md).</span><span class="sxs-lookup"><span data-stu-id="b3c7d-112">Before performing hello tasks in this lesson, you should have completed hello previous lesson: [Lesson 3: Mark as Date Table](../tutorials/aas-lesson-3-mark-as-date-table.md).</span></span> 
  
## <a name="review-existing-relationships-and-add-new-relationships"></a><span data-ttu-id="b3c7d-113">Revisión de las relaciones existentes e incorporación de nuevas relaciones</span><span class="sxs-lookup"><span data-stu-id="b3c7d-113">Review existing relationships and add new relationships</span></span>  
<span data-ttu-id="b3c7d-114">Cuando importa datos mediante obtener datos, tenemos siete tablas de base de datos de hello AdventureWorksDW2014.</span><span class="sxs-lookup"><span data-stu-id="b3c7d-114">When you imported data by using Get Data, you got seven tables from hello AdventureWorksDW2014 database.</span></span> <span data-ttu-id="b3c7d-115">Por lo general, al importar datos desde un origen relacional, las relaciones existentes se importan automáticamente junto con datos de Hola.</span><span class="sxs-lookup"><span data-stu-id="b3c7d-115">Generally, when you import data from a relational source, existing relationships are automatically imported together with hello data.</span></span> <span data-ttu-id="b3c7d-116">Sin embargo, antes de continuar creando el modelo, debe comprobar que las relaciones entre tablas se crearon correctamente.</span><span class="sxs-lookup"><span data-stu-id="b3c7d-116">However, before you proceed with authoring your model you should verify those relationships between tables were created properly.</span></span> <span data-ttu-id="b3c7d-117">En este tutorial, agregará tres relaciones nuevas.</span><span class="sxs-lookup"><span data-stu-id="b3c7d-117">For this tutorial, you add three new relationships.</span></span>  
  
#### <a name="tooreview-existing-relationships"></a><span data-ttu-id="b3c7d-118">relaciones existentes de tooreview</span><span class="sxs-lookup"><span data-stu-id="b3c7d-118">tooreview existing relationships</span></span>  
  
1.  <span data-ttu-id="b3c7d-119">Haga clic en hello **modelo** menú > **vista de modelo** > **vista de diagrama**.</span><span class="sxs-lookup"><span data-stu-id="b3c7d-119">Click hello **Model** menu > **Model View** > **Diagram View**.</span></span>  

    <span data-ttu-id="b3c7d-120">Hello Diseñador de modelos aparece ahora en la vista de diagrama, un formato gráfico para mostrar todas las tablas de Hola que importó con líneas entre ellos.</span><span class="sxs-lookup"><span data-stu-id="b3c7d-120">hello model designer now appears in Diagram View, a graphical format displaying all hello tables you imported with lines between them.</span></span> <span data-ttu-id="b3c7d-121">líneas de Hello entre tablas indican las relaciones de Hola que se crearon automáticamente cuando importó los datos de Hola.</span><span class="sxs-lookup"><span data-stu-id="b3c7d-121">hello lines between tables indicate hello relationships that were automatically created when you imported hello data.</span></span>
    
    ![aas-lesson4-diagram](../tutorials/media/aas-lesson4-diagram.png)
  
    <span data-ttu-id="b3c7d-123">Incluir tantas tablas hello como sea posible mediante el uso de controles de minimapa situados en la esquina inferior derecha de hello del Diseñador de modelos de Hola.</span><span class="sxs-lookup"><span data-stu-id="b3c7d-123">Include as many of hello tables as possible by using minimap controls in hello lower-right corner of hello model designer.</span></span> <span data-ttu-id="b3c7d-124">También puede haga clic y arrastre ubicaciones de toodifferent de tablas, aunando las tablas o colocándolas en un orden concreto.</span><span class="sxs-lookup"><span data-stu-id="b3c7d-124">You can also click and drag tables toodifferent locations, bringing tables closer together, or putting them in a particular order.</span></span> <span data-ttu-id="b3c7d-125">Mover tablas no afecta a las relaciones de hello ya entre las tablas de Hola.</span><span class="sxs-lookup"><span data-stu-id="b3c7d-125">Moving tables does not affect hello relationships already between hello tables.</span></span> <span data-ttu-id="b3c7d-126">tooview todas las columnas de hello en una tabla determinada, haga clic y arrastre en un tooexpand de borde de tabla o que sea menor.</span><span class="sxs-lookup"><span data-stu-id="b3c7d-126">tooview all hello columns in a particular table, click and drag on a table edge tooexpand or make it smaller.</span></span>  
  
2.  <span data-ttu-id="b3c7d-127">Haga clic en la línea continua de hello entre hello **DimCustomer** hello y tabla **DimGeography** tabla.</span><span class="sxs-lookup"><span data-stu-id="b3c7d-127">Click hello solid line between hello **DimCustomer** table and hello **DimGeography** table.</span></span> <span data-ttu-id="b3c7d-128">Hola la línea sólida entre estas dos tablas muestra que esta relación está activa, es decir, se utiliza de forma predeterminada al calcular las fórmulas de DAX.</span><span class="sxs-lookup"><span data-stu-id="b3c7d-128">hello solid line between these two tables shows this relationship is active, that is, it is used by default when calculating DAX formulas.</span></span>  
  
    <span data-ttu-id="b3c7d-129">Hola aviso **GeographyKey** columna Hola **DimCustomer** hello y tabla **GeographyKey** columna Hola **DimGeography** tabla aparecen ahora dentro de un cuadro.</span><span class="sxs-lookup"><span data-stu-id="b3c7d-129">Notice hello **GeographyKey** column in hello **DimCustomer** table and hello **GeographyKey** column in hello **DimGeography** table now both each appear within a box.</span></span> <span data-ttu-id="b3c7d-130">Estas columnas se utilizan en la relación de Hola.</span><span class="sxs-lookup"><span data-stu-id="b3c7d-130">These columns are used in hello relationship.</span></span> <span data-ttu-id="b3c7d-131">Hello propiedades de la relación aparecen ahora también en hello **propiedades** ventana.</span><span class="sxs-lookup"><span data-stu-id="b3c7d-131">hello relationship’s properties now also appear in hello **Properties** window.</span></span>  
  
    > [!TIP]  
    > <span data-ttu-id="b3c7d-132">Además toousing Hola Diseñador de modelos en la vista de diagrama, también puede usar Hola administrar relaciones diálogo cuadro tooshow hello las relaciones entre todas las tablas en un formato de tabla.</span><span class="sxs-lookup"><span data-stu-id="b3c7d-132">In addition toousing hello model designer in diagram view, you can also use hello Manage Relationships dialog box tooshow hello relationships between all tables in a table format.</span></span> <span data-ttu-id="b3c7d-133">En el Explorador de modelos tabulares, haga clic con el botón derecho en **Relaciones** > **Administrar relaciones**.</span><span class="sxs-lookup"><span data-stu-id="b3c7d-133">In Tabular Model Explorer, right-click **Relationships** > **Manage Relationships**.</span></span>
  
3.  <span data-ttu-id="b3c7d-134">Comprobar Hola siguiendo las relaciones que se crearon cuando cada una de las tablas de Hola se importaron desde la base de datos de hello AdventureWorksDW:</span><span class="sxs-lookup"><span data-stu-id="b3c7d-134">Verify hello following relationships were created when each of hello tables were imported from hello AdventureWorksDW database:</span></span>  
  
    |<span data-ttu-id="b3c7d-135">Active</span><span class="sxs-lookup"><span data-stu-id="b3c7d-135">Active</span></span>|<span data-ttu-id="b3c7d-136">Tabla</span><span class="sxs-lookup"><span data-stu-id="b3c7d-136">Table</span></span>|<span data-ttu-id="b3c7d-137">Tabla de búsquedas relacionadas</span><span class="sxs-lookup"><span data-stu-id="b3c7d-137">Related Lookup Table</span></span>|  
    |----------|---------|------------------------|  
    |<span data-ttu-id="b3c7d-138">Sí</span><span class="sxs-lookup"><span data-stu-id="b3c7d-138">Yes</span></span>|<span data-ttu-id="b3c7d-139">**DimCustomer [GeographyKey]**</span><span class="sxs-lookup"><span data-stu-id="b3c7d-139">**DimCustomer [GeographyKey]**</span></span>|<span data-ttu-id="b3c7d-140">**DimGeography [GeographyKey]**</span><span class="sxs-lookup"><span data-stu-id="b3c7d-140">**DimGeography [GeographyKey]**</span></span>|  
    |<span data-ttu-id="b3c7d-141">Sí</span><span class="sxs-lookup"><span data-stu-id="b3c7d-141">Yes</span></span>|<span data-ttu-id="b3c7d-142">**DimProduct [ProductSubcategoryKey]**</span><span class="sxs-lookup"><span data-stu-id="b3c7d-142">**DimProduct [ProductSubcategoryKey]**</span></span>|<span data-ttu-id="b3c7d-143">**DimProductSubcategory [ProductSubcategoryKey]**</span><span class="sxs-lookup"><span data-stu-id="b3c7d-143">**DimProductSubcategory [ProductSubcategoryKey]**</span></span>|  
    |<span data-ttu-id="b3c7d-144">Sí</span><span class="sxs-lookup"><span data-stu-id="b3c7d-144">Yes</span></span>|<span data-ttu-id="b3c7d-145">**DimProductSubcategory [ProductCategoryKey]**</span><span class="sxs-lookup"><span data-stu-id="b3c7d-145">**DimProductSubcategory [ProductCategoryKey]**</span></span>|<span data-ttu-id="b3c7d-146">**DimProductCategory [ProductCategoryKey]**</span><span class="sxs-lookup"><span data-stu-id="b3c7d-146">**DimProductCategory [ProductCategoryKey]**</span></span>|  
    |<span data-ttu-id="b3c7d-147">Sí</span><span class="sxs-lookup"><span data-stu-id="b3c7d-147">Yes</span></span>|<span data-ttu-id="b3c7d-148">**FactInternetSales [CustomerKey]**</span><span class="sxs-lookup"><span data-stu-id="b3c7d-148">**FactInternetSales [CustomerKey]**</span></span>|<span data-ttu-id="b3c7d-149">**DimCustomer [CustomerKey]**</span><span class="sxs-lookup"><span data-stu-id="b3c7d-149">**DimCustomer [CustomerKey]**</span></span>|  
    |<span data-ttu-id="b3c7d-150">Sí</span><span class="sxs-lookup"><span data-stu-id="b3c7d-150">Yes</span></span>|<span data-ttu-id="b3c7d-151">**FactInternetSales [ProductKey]**</span><span class="sxs-lookup"><span data-stu-id="b3c7d-151">**FactInternetSales [ProductKey]**</span></span>|<span data-ttu-id="b3c7d-152">**DimProduct [ProductKey]**</span><span class="sxs-lookup"><span data-stu-id="b3c7d-152">**DimProduct [ProductKey]**</span></span>|  
  
    <span data-ttu-id="b3c7d-153">Si falta cualquiera de las relaciones de hello, compruebe que el modelo incluye hello las tablas siguientes: DimCustomer, DimDate, DimGeography, DimProduct, DimProductCategory, DimProductSubcategory y FactInternetSales.</span><span class="sxs-lookup"><span data-stu-id="b3c7d-153">If any of hello relationships are missing, verify that your model includes hello following tables: DimCustomer, DimDate, DimGeography, DimProduct, DimProductCategory, DimProductSubcategory, and FactInternetSales.</span></span> <span data-ttu-id="b3c7d-154">Si las tablas de Hola se importan en la misma conexión de origen de datos independientes veces, las relaciones entre esas tablas no se crean y deben crearse manualmente.</span><span class="sxs-lookup"><span data-stu-id="b3c7d-154">If tables from hello same data source connection are imported at separate times, any relationships between those tables are not be created and must be created manually.</span></span>  

### <a name="take-a-closer-look"></a><span data-ttu-id="b3c7d-155">Un examen más profundo</span><span class="sxs-lookup"><span data-stu-id="b3c7d-155">Take a closer look</span></span>
<span data-ttu-id="b3c7d-156">En la vista de diagrama, tenga en cuenta una flecha, un asterisco y un número de líneas de Hola que mostrar hello relaciones entre tablas.</span><span class="sxs-lookup"><span data-stu-id="b3c7d-156">In Diagram View, notice an arrow, an asterisk, and a number on hello lines that show hello relationship between tables.</span></span>

![aas-lesson4-line](../tutorials/media/aas-lesson4-line.png)

<span data-ttu-id="b3c7d-158">flecha de Hello muestra la dirección del filtro Hola.</span><span class="sxs-lookup"><span data-stu-id="b3c7d-158">hello arrow shows hello filter direction.</span></span> <span data-ttu-id="b3c7d-159">asterisco de Hello muestra que esta tabla es Hola lado "varios" en la cardinalidad de la relación de Hola y Hola uno muestra que esta tabla es un extremo de Hola de relación de Hola.</span><span class="sxs-lookup"><span data-stu-id="b3c7d-159">hello asterisk shows this table is hello many side in hello relationship's cardinality, and hello one shows this table is hello one side of hello relationship.</span></span> <span data-ttu-id="b3c7d-160">Si necesita tooedit una relación; Por ejemplo, cambiar la dirección del filtro o la cardinalidad de la relación de hello, haga doble clic en el cuadro de diálogo de hello relación línea tooopen Hola Editar relación.</span><span class="sxs-lookup"><span data-stu-id="b3c7d-160">If you need tooedit a relationship; for example, change hello relationship's filter direction or cardinality, double-click hello relationship line tooopen hello Edit Relationship dialog.</span></span>

![aas-lesson4-edit](../tutorials/media/aas-lesson4-edit.png)

<span data-ttu-id="b3c7d-162">Estas características están diseñadas para modelado de datos avanzados y estén fuera Hola el ámbito de este tutorial.</span><span class="sxs-lookup"><span data-stu-id="b3c7d-162">These features are meant for advanced data modeling and are outside hello scope of this tutorial.</span></span> <span data-ttu-id="b3c7d-163">más información, consulte toolearn [bidireccional entre los filtros para modelos tabulares de Analysis Services](https://docs.microsoft.com/sql/analysis-services/tabular-models/bi-directional-cross-filters-tabular-models-analysis-services).</span><span class="sxs-lookup"><span data-stu-id="b3c7d-163">toolearn more, see [Bi-directional cross filters for tabular models in Analysis Services](https://docs.microsoft.com/sql/analysis-services/tabular-models/bi-directional-cross-filters-tabular-models-analysis-services).</span></span>

<span data-ttu-id="b3c7d-164">En algunos casos, deberá toocreate relaciones adicionales entre las tablas en el modelo toosupport determinada lógica empresarial.</span><span class="sxs-lookup"><span data-stu-id="b3c7d-164">In some cases, you may need toocreate additional relationships between tables in your model toosupport certain business logic.</span></span> <span data-ttu-id="b3c7d-165">Para este tutorial, necesita toocreate tres relaciones adicionales entre tablas de FactInternetSales de Hola y Hola DimDate.</span><span class="sxs-lookup"><span data-stu-id="b3c7d-165">For this tutorial, you need toocreate three additional relationships between hello FactInternetSales table and hello DimDate table.</span></span>  
  
#### <a name="tooadd-new-relationships-between-tables"></a><span data-ttu-id="b3c7d-166">tooadd nuevas relaciones entre tablas</span><span class="sxs-lookup"><span data-stu-id="b3c7d-166">tooadd new relationships between tables</span></span>  
  
1.  <span data-ttu-id="b3c7d-167">En Diseñador de modelos de Hola Hola **FactInternetSales** de tabla, haga clic y mantenga en hello **OrderDate** columna y, a continuación, arrastre Hola cursor toohello **fecha** columna Hola  **DimDate** de tabla y, a continuación, la versión.</span><span class="sxs-lookup"><span data-stu-id="b3c7d-167">In hello model designer, in hello **FactInternetSales** table, click, and hold on hello **OrderDate** column, then drag hello cursor toohello **Date** column in hello **DimDate** table, and then release.</span></span>  

    <span data-ttu-id="b3c7d-168">Aparece una línea sólida que indica que ha creado una relación activa entre hello **OrderDate** columna Hola **venta por Internet** hello y tabla **fecha** columna Hola **Fecha** tabla.</span><span class="sxs-lookup"><span data-stu-id="b3c7d-168">A solid line appears showing you have created an active relationship between hello **OrderDate** column in hello **Internet Sales** table, and hello **Date** column in hello **Date** table.</span></span> 
  
      ![aas-lesson4-new](../tutorials/media/aas-lesson4-new.png) 
  
    > [!NOTE]  
    > <span data-ttu-id="b3c7d-170">Al crear relaciones, dirección de la cardinalidad y filtro de hello entre tabla principal de Hola y Hola relacionadas con la búsqueda se selecciona automáticamente.</span><span class="sxs-lookup"><span data-stu-id="b3c7d-170">When creating relationships, hello cardinality and filter direction between hello primary table and hello related lookup table is automatically selected.</span></span>  
  
2.  <span data-ttu-id="b3c7d-171">Hola **FactInternetSales** de tabla, haga clic y mantenga en hello **DueDate** columna y, a continuación, arrastre Hola cursor toohello **fecha** columna Hola **DimDate** de tabla y, a continuación, la versión.</span><span class="sxs-lookup"><span data-stu-id="b3c7d-171">In hello **FactInternetSales** table, click and hold on hello **DueDate** column, then drag hello cursor toohello **Date** column in hello **DimDate** table, and then release.</span></span>  
  
    <span data-ttu-id="b3c7d-172">Aparecerá una línea punteada que indica que ha creado una relación inactiva entre hello **DueDate** columna Hola **FactInternetSales** hello y tabla **fecha** columna Hola **DimDate** tabla.</span><span class="sxs-lookup"><span data-stu-id="b3c7d-172">A dotted line appears showing you have created an inactive relationship between hello **DueDate** column in hello **FactInternetSales** table, and hello **Date** column in hello **DimDate** table.</span></span> <span data-ttu-id="b3c7d-173">Puede tener varias relaciones entre tablas, pero solo una relación puede estar activa simultáneamente.</span><span class="sxs-lookup"><span data-stu-id="b3c7d-173">You can have multiple relationships between tables, but only one relationship can be active at a time.</span></span> <span data-ttu-id="b3c7d-174">Las relaciones inactivas se pueden realizar agregaciones especiales de active tooperform en expresiones de DAX personalizadas.</span><span class="sxs-lookup"><span data-stu-id="b3c7d-174">Inactive relationships can be made active tooperform special aggregations in custom DAX expressions.</span></span>  
  
3.  <span data-ttu-id="b3c7d-175">Finalmente, cree una relación más.</span><span class="sxs-lookup"><span data-stu-id="b3c7d-175">Finally, create one more relationship.</span></span> <span data-ttu-id="b3c7d-176">Hola **FactInternetSales** de tabla, haga clic y mantenga en hello **ShipDate** columna y, a continuación, arrastre Hola cursor toohello **fecha** columna Hola **DimDate** de tabla y, a continuación, la versión.</span><span class="sxs-lookup"><span data-stu-id="b3c7d-176">In hello **FactInternetSales** table, click and hold on hello **ShipDate** column, then drag hello cursor toohello **Date** column in hello **DimDate** table, and then release.</span></span>  
    
     ![aas-lesson4-newinactive](../tutorials/media/aas-lesson4-newinactive.png)
  
## <a name="whats-next"></a><span data-ttu-id="b3c7d-178">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="b3c7d-178">What's next?</span></span>
<span data-ttu-id="b3c7d-179">[Lección 5: Creación de columnas calculadas](../tutorials/aas-lesson-5-create-calculated-columns.md)</span><span class="sxs-lookup"><span data-stu-id="b3c7d-179">[Lesson 5: Create calculated columns](../tutorials/aas-lesson-5-create-calculated-columns.md).</span></span>
  
  
  
