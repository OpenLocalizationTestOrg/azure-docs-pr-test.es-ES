---
title: "aaaConfiguring diagnósticos para máquinas virtuales y servicios en la nube | Documentos de Microsoft"
description: "Describe cómo tooconfigure información de diagnóstico para depurar los servicios de nube de Azure y máquinas virtuales (VM) en Visual Studio."
services: visual-studio-online
documentationcenter: na
author: kraigb
manager: ghogen
editor: 
ms.assetid: e70cd7b4-6298-43aa-adea-6fd618414c26
ms.service: multiple
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: multiple
ms.date: 11/11/2016
ms.author: kraigb
ms.openlocfilehash: 74cdf49413d6d89a84195070dd9d817da2463373
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="configuring-diagnostics-for-azure-cloud-services-and-virtual-machines"></a><span data-ttu-id="d4720-103">Configuración de Diagnósticos en Servicios en la nube y Máquinas virtuales de Azure</span><span class="sxs-lookup"><span data-stu-id="d4720-103">Configuring Diagnostics for Azure Cloud Services and Virtual Machines</span></span>
<span data-ttu-id="d4720-104">Cuando necesite tootroubleshoot una máquina virtual de Azure o el servicio de nube de Azure, puede configurar diagnósticos de Azure más fácilmente con Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="d4720-104">When you need tootroubleshoot an Azure cloud service or Azure virtual machine, you can configure Azure diagnostics more easily by using Visual Studio.</span></span> <span data-ttu-id="d4720-105">Diagnósticos de Azure captura los datos del sistema y datos de registro en máquinas virtuales de Hola y las instancias de máquina virtual que ejecutan su servicio de nube y transfieren esos datos en una cuenta de almacenamiento de su elección.</span><span class="sxs-lookup"><span data-stu-id="d4720-105">Azure diagnostics captures system data and logging data on hello virtual machines and virtual machine instances that run your cloud service and transfers that data into a storage account of your choice.</span></span> <span data-ttu-id="d4720-106">Vea [Habilitación del registro de diagnóstico para aplicaciones web en Azure App Service](app-service-web/web-sites-enable-diagnostic-log.md) para obtener más información sobre el registro de diagnóstico de Azure.</span><span class="sxs-lookup"><span data-stu-id="d4720-106">See [Enable diagnostics logging for web apps in Azure App Service](app-service-web/web-sites-enable-diagnostic-log.md) for more information about diagnostics logging in Azure.</span></span>

<span data-ttu-id="d4720-107">Este tema muestra cómo tooenable y configurar diagnósticos de Azure en Visual Studio, tanto antes como después de la implementación, así como en máquinas virtuales de Azure.</span><span class="sxs-lookup"><span data-stu-id="d4720-107">This topic shows you how tooenable and configure Azure diagnostics in Visual Studio, both before and after deployment, as well as in Azure virtual machines.</span></span> <span data-ttu-id="d4720-108">También muestra cómo los tipos de hello tooselect de toocollect de información de diagnóstico y cómo se recopila información de hello tooview una vez.</span><span class="sxs-lookup"><span data-stu-id="d4720-108">It also shows you how tooselect hello types of diagnostics information toocollect and how tooview hello information after it's collected.</span></span>

<span data-ttu-id="d4720-109">Puede configurar diagnósticos de Azure de hello siguientes maneras:</span><span class="sxs-lookup"><span data-stu-id="d4720-109">You can configure Azure Diagnostics in hello following ways:</span></span>

* <span data-ttu-id="d4720-110">Puede cambiar la configuración de diagnóstico a través de hello **configuración de diagnóstico** cuadro de diálogo de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="d4720-110">You can change diagnostics configuration settings through hello **Diagnostics Configuration** dialog box in Visual Studio.</span></span> <span data-ttu-id="d4720-111">configuración de Hola se guarda en un archivo denominado diagnostics.wadcfgx (diagnostics.wadcfg en Azure SDK 2.4 o anterior).</span><span class="sxs-lookup"><span data-stu-id="d4720-111">hello settings are saved in a file called diagnostics.wadcfgx (diagnostics.wadcfg in Azure SDK 2.4 or earlier).</span></span> <span data-ttu-id="d4720-112">Como alternativa, puede modificar directamente el archivo de configuración de Hola.</span><span class="sxs-lookup"><span data-stu-id="d4720-112">Alternatively, you can directly modify hello configuration file.</span></span> <span data-ttu-id="d4720-113">Si actualiza manualmente el archivo de hello, cambios de configuración de hello tardarán Hola efecto siguiente vez que implemente tooAzure de servicio de nube de Hola o servicio de ejecución hello en el emulador de Hola.</span><span class="sxs-lookup"><span data-stu-id="d4720-113">If you manually update hello file, hello configuration changes will take effect hello next time you deploy hello cloud service tooAzure or run hello service in hello emulator.</span></span>
* <span data-ttu-id="d4720-114">Use **Explorer nube** o **Explorador de servidores** en configuración de diagnóstico de Visual Studio toochange Hola para una máquina virtual o un servicio en ejecución en la nube.</span><span class="sxs-lookup"><span data-stu-id="d4720-114">Use **Cloud Explorer** or **Server Explorer** in Visual Studio toochange hello diagnostics settings for a running cloud service or virtual machine.</span></span>

## <a name="azure-26-diagnostics-changes"></a><span data-ttu-id="d4720-115">Cambios de diagnóstico de Azure 2.6</span><span class="sxs-lookup"><span data-stu-id="d4720-115">Azure 2.6 diagnostics changes</span></span>
<span data-ttu-id="d4720-116">Para los proyectos de Azure SDK 2.6 en Visual Studio, Hola siguientes cambios se realizaron.</span><span class="sxs-lookup"><span data-stu-id="d4720-116">For Azure SDK 2.6 projects in Visual Studio, hello following changes were made.</span></span> <span data-ttu-id="d4720-117">(Estos cambios también aplican toolater versiones del SDK de Azure.)</span><span class="sxs-lookup"><span data-stu-id="d4720-117">(These changes also apply toolater versions of Azure SDK.)</span></span>

* <span data-ttu-id="d4720-118">un emulador local Hola ahora es compatible con diagnósticos.</span><span class="sxs-lookup"><span data-stu-id="d4720-118">hello local emulator now supports diagnostics.</span></span> <span data-ttu-id="d4720-119">Esto significa que puede recopilar datos de diagnóstico y asegúrese de que la aplicación está creando Hola seguimientos correctos mientras está desarrollando y pruebas en Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="d4720-119">This means you can collect diagnostics data and ensure your application is creating hello right traces while you're developing and testing in Visual Studio.</span></span> <span data-ttu-id="d4720-120">cadena de conexión de Hola `UseDevelopmentStorage=true` habilita la recopilación de datos de diagnóstico mientras se ejecuta el proyecto de servicio de nube en Visual Studio mediante Hola emulador de almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="d4720-120">hello connection string `UseDevelopmentStorage=true` enables diagnostics data collection while you're running your cloud service project in Visual Studio by using hello Azure storage emulator.</span></span> <span data-ttu-id="d4720-121">Todos los datos de diagnóstico se recopilan en la cuenta de almacenamiento de hello (almacenamiento de desarrollo).</span><span class="sxs-lookup"><span data-stu-id="d4720-121">All diagnostics data is collected in hello (Development Storage) storage account.</span></span>
* <span data-ttu-id="d4720-122">cadena de conexión de la cuenta para la almacenamiento de diagnósticos Hello (Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString) se almacena una vez más en el archivo de configuración (.cscfg) del servicio de Hola.</span><span class="sxs-lookup"><span data-stu-id="d4720-122">hello diagnostics storage account connection string (Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString) is stored once again in hello service configuration (.cscfg) file.</span></span> <span data-ttu-id="d4720-123">En Azure SDK 2.5 cuenta de almacenamiento de diagnósticos de Hola se especificó en el archivo de hello diagnostics.wadcfgx.</span><span class="sxs-lookup"><span data-stu-id="d4720-123">In Azure SDK 2.5 hello diagnostics storage account was specified in hello diagnostics.wadcfgx file.</span></span>

<span data-ttu-id="d4720-124">Hay algunas diferencias importantes entre la cadena de conexión de hello trabajado en Azure SDK 2.4 y versiones anteriores y cómo funciona en Azure SDK 2.6 y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="d4720-124">There are some notable differences between how hello connection string worked in Azure SDK 2.4 and earlier and how it works in Azure SDK 2.6 and later.</span></span>

* <span data-ttu-id="d4720-125">En Azure SDK 2.4 y versiones anteriores, cadena de conexión de hello usado como un tiempo de ejecución por información de cuenta de almacenamiento de Hola de hello diagnósticos complemento tooget para transferir los registros de diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="d4720-125">In Azure SDK 2.4 and earlier, hello connection string was used as a runtime by hello diagnostics plugin tooget hello storage account information for transferring diagnostics logs.</span></span>
* <span data-ttu-id="d4720-126">En Azure SDK 2.6 y versiones posteriores, se utiliza la cadena de conexión de diagnósticos de Hola por extensión de diagnósticos de Visual Studio tooconfigure Hola con la información de cuenta de almacenamiento apropiada de Hola durante la publicación.</span><span class="sxs-lookup"><span data-stu-id="d4720-126">In Azure SDK 2.6 and later, hello diagnostics connection string is used by Visual Studio tooconfigure hello diagnostics extension with hello appropriate storage account information during publishing.</span></span> <span data-ttu-id="d4720-127">cadena de conexión de Hello le permite definir las cuentas de almacenamiento distintas para diferentes configuraciones del servicio que va a usar Visual Studio al publicar.</span><span class="sxs-lookup"><span data-stu-id="d4720-127">hello connection string lets you define different storage accounts for different service configurations that Visual Studio will use when publishing.</span></span> <span data-ttu-id="d4720-128">Sin embargo, porque ya no está disponible el complemento de diagnóstico de hello (después de Azure SDK 2.5), archivo de .cscfg de hello por sí mismo no puede habilitar Hola extensión de diagnósticos.</span><span class="sxs-lookup"><span data-stu-id="d4720-128">However, because hello diagnostics plugin is no longer available (after Azure SDK 2.5), hello .cscfg file by itself can't enable hello Diagnostics Extension.</span></span> <span data-ttu-id="d4720-129">Tiene la extensión de hello tooenable por separado mediante herramientas como Visual Studio o PowerShell.</span><span class="sxs-lookup"><span data-stu-id="d4720-129">You have tooenable hello extension separately through tools such as Visual Studio or PowerShell.</span></span>
* <span data-ttu-id="d4720-130">proceso de hello toosimplify de configuración de extensión de diagnósticos de hello con PowerShell, salida del paquete Hola desde Visual Studio también contiene Hola pública XML de configuración de extensión de diagnósticos de Hola para cada rol.</span><span class="sxs-lookup"><span data-stu-id="d4720-130">toosimplify hello process of configuring hello diagnostics extension with PowerShell, hello package output from Visual Studio also contains hello public configuration XML for hello diagnostics extension for each role.</span></span> <span data-ttu-id="d4720-131">Visual Studio usa Hola conexión cadena toopopulate Hola almacenamiento cuenta información de diagnóstico está presente en la configuración pública de Hola.</span><span class="sxs-lookup"><span data-stu-id="d4720-131">Visual Studio uses hello diagnostics connection string toopopulate hello storage account information present in hello public configuration.</span></span> <span data-ttu-id="d4720-132">archivos de configuración pública de Hola se crean en la carpeta de extensiones de Hola y seguir Hola patrón PaaSDiagnostics. &lt;RoleName >. PubConfig.xml.</span><span class="sxs-lookup"><span data-stu-id="d4720-132">hello public config files are created in hello Extensions folder and follow hello pattern PaaSDiagnostics.&lt;RoleName>.PubConfig.xml.</span></span> <span data-ttu-id="d4720-133">Las implementaciones basadas en PowerShell pueden usar este patrón toomap cada rol tooa de configuración.</span><span class="sxs-lookup"><span data-stu-id="d4720-133">Any PowerShell based deployments can use this pattern toomap each configuration tooa Role.</span></span>
* <span data-ttu-id="d4720-134">También se utiliza la cadena de conexión de Hello en el archivo de .cscfg de hello por hello [portal de Azure](http://go.microsoft.com/fwlink/p/?LinkID=525040) tooaccess Hola datos de diagnóstico para que pueda aparecer en hello **supervisión** se necesita la cadena de conexión de Hola de pestaña. tooconfigure Hola servicio tooshow detallado de los datos en el portal de Hola de supervisión.</span><span class="sxs-lookup"><span data-stu-id="d4720-134">hello connection string in hello .cscfg file is also used by hello [Azure portal](http://go.microsoft.com/fwlink/p/?LinkID=525040) tooaccess hello diagnostics data so it can appear in hello **Monitoring** tab. hello connection string is needed tooconfigure hello service tooshow verbose monitoring data in hello portal.</span></span>

## <a name="migrating-projects-tooazure-sdk-26-and-later"></a><span data-ttu-id="d4720-135">Migrar proyectos tooAzure SDK 2.6 y versiones posterior</span><span class="sxs-lookup"><span data-stu-id="d4720-135">Migrating projects tooAzure SDK 2.6 and later</span></span>
<span data-ttu-id="d4720-136">Al migrar desde Azure SDK 2.5 tooAzure SDK 2.6 o versiones posteriores, si tuviera una cuenta de almacenamiento de diagnósticos especificada en el archivo .wadcfgx de hello, a continuación, permanecerá allí.</span><span class="sxs-lookup"><span data-stu-id="d4720-136">When migrating from Azure SDK 2.5 tooAzure SDK 2.6 or later, if you had a diagnostics storage account specified in hello .wadcfgx file, then it will stay there.</span></span> <span data-ttu-id="d4720-137">cuentas de tootake aprovechar la flexibilidad de hello del uso de almacenamiento diferente para distintas configuraciones de almacenamiento, tendrá que toomanually Agregar proyecto de tooyour de cadena de conexión de Hola.</span><span class="sxs-lookup"><span data-stu-id="d4720-137">tootake advantage of hello flexibility of using different storage accounts for different storage configurations, you'll have toomanually add hello connection string tooyour project.</span></span> <span data-ttu-id="d4720-138">Si está migrando un proyecto de Azure SDK 2.4 o anterior tooAzure SDK 2.6, Hola, a continuación, se conservan las cadenas de conexión de diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="d4720-138">If you're migrating a project from Azure SDK 2.4 or earlier tooAzure SDK 2.6, then hello diagnostics connection strings are preserved.</span></span> <span data-ttu-id="d4720-139">Sin embargo, tenga en cuenta los cambios de hello en cómo se tratan las cadenas de conexión en Azure SDK 2.6 tal como se especifica en la sección anterior de Hola.</span><span class="sxs-lookup"><span data-stu-id="d4720-139">However, please note hello changes in how connection strings are treated in Azure SDK 2.6 as specified in hello previous section.</span></span>

### <a name="how-visual-studio-determines-hello-diagnostics-storage-account"></a><span data-ttu-id="d4720-140">Cómo Visual Studio determina la cuenta de almacenamiento de diagnósticos de Hola</span><span class="sxs-lookup"><span data-stu-id="d4720-140">How Visual Studio determines hello diagnostics storage account</span></span>
* <span data-ttu-id="d4720-141">Si se especifica una cadena de conexión de diagnóstico en el archivo de .cscfg de hello, Visual Studio utiliza extensión de diagnósticos de hello tooconfigure al publicar y al generar archivos xml de configuración pública de Hola durante el empaquetado.</span><span class="sxs-lookup"><span data-stu-id="d4720-141">If a diagnostics connection string is specified in hello .cscfg file, Visual Studio uses it tooconfigure hello diagnostics extension when publishing, and when generating hello public configuration xml files during packaging.</span></span>
* <span data-ttu-id="d4720-142">Si no se especifica ninguna cadena de conexión de diagnóstico en el archivo de .cscfg de hello, a continuación, Visual Studio vuelve cuenta de almacenamiento de hello toousing especificada en hello wadcfgx tooconfigure Hola diagnósticos extensión de archivo al publicar y generar Hola público archivos xml de configuración al empaquetar.</span><span class="sxs-lookup"><span data-stu-id="d4720-142">If no diagnostics connection string is specified in hello .cscfg file, then Visual Studio falls back toousing hello storage account specified in hello .wadcfgx file tooconfigure hello diagnostics extension when publishing, and generating hello public configuration xml files when packaging.</span></span>
* <span data-ttu-id="d4720-143">cadena de conexión de diagnósticos de Hello en el archivo de .cscfg de hello tiene prioridad sobre la cuenta de almacenamiento de hello en el archivo .wadcfgx de Hola.</span><span class="sxs-lookup"><span data-stu-id="d4720-143">hello diagnostics connection string in hello .cscfg file takes precedence over hello storage account in hello .wadcfgx file.</span></span> <span data-ttu-id="d4720-144">Si es una cadena de conexión de diagnósticos especificado en el archivo de .cscfg de hello, a continuación, Visual Studio usa y omite la cuenta de almacenamiento de hello en wadcfgx.</span><span class="sxs-lookup"><span data-stu-id="d4720-144">If a diagnostics connection string is specified in hello .cscfg file, then Visual Studio uses that and ignores hello storage account in .wadcfgx.</span></span>

### <a name="what-does-hello-update-development-storage-connection-strings-checkbox-do"></a><span data-ttu-id="d4720-145">¿Qué does Hola "Actualizar cadenas de conexión de almacenamiento de desarrollo..."</span><span class="sxs-lookup"><span data-stu-id="d4720-145">What does hello "Update development storage connection strings…"</span></span> <span data-ttu-id="d4720-146">desarrollo..."?</span><span class="sxs-lookup"><span data-stu-id="d4720-146">checkbox do?</span></span>
<span data-ttu-id="d4720-147">Hola casilla **actualizar cadenas de conexión de almacenamiento de desarrollo para diagnóstico y almacenamiento en caché con las credenciales de cuenta de almacenamiento de Microsoft Azure al publicar tooMicrosoft Azure** le ofrece una manera cómoda de tooupdate cualquier cadenas de conexión de cuenta de almacenamiento de desarrollo con la cuenta de almacenamiento de Azure Hola especificada durante la publicación.</span><span class="sxs-lookup"><span data-stu-id="d4720-147">hello checkbox for **Update development storage connection strings for Diagnostics and Caching with Microsoft Azure storage account credentials when publishing tooMicrosoft Azure** gives you a convenient way tooupdate any development storage account connection strings with hello Azure storage account specified during publishing.</span></span>

<span data-ttu-id="d4720-148">Por ejemplo, suponga que activa esta casilla y especifica la cadena de conexión de diagnósticos de hello `UseDevelopmentStorage=true`.</span><span class="sxs-lookup"><span data-stu-id="d4720-148">For example, suppose you select this checkbox and hello diagnostics connection string specifies `UseDevelopmentStorage=true`.</span></span> <span data-ttu-id="d4720-149">Cuando publica hello tooAzure de proyecto, Visual Studio actualizará automáticamente cadena de conexión de diagnósticos de Hola con cuenta de almacenamiento de Hola que especificó en el Asistente para publicación de Hola.</span><span class="sxs-lookup"><span data-stu-id="d4720-149">When you publish hello project tooAzure, Visual Studio will automatically update hello diagnostics connection string with hello storage account you specified in hello Publish wizard.</span></span> <span data-ttu-id="d4720-150">Sin embargo, si se especificó una cuenta de almacenamiento real como cadena de conexión de diagnósticos de hello, a continuación, dicha cuenta se utiliza en su lugar.</span><span class="sxs-lookup"><span data-stu-id="d4720-150">However, if a real storage account was specified as hello diagnostics connection string, then that account is used instead.</span></span>

## <a name="diagnostics-functionality-differences-between-azure-sdk-24-and-earlier-and-azure-sdk-25-and-later"></a><span data-ttu-id="d4720-151">Diferencias de funcionalidad de diagnóstico entre Azure SDK 2.4 y versiones anteriores y Azure SDK 2.5 y versiones posteriores</span><span class="sxs-lookup"><span data-stu-id="d4720-151">Diagnostics functionality differences between Azure SDK 2.4 and earlier and Azure SDK 2.5 and later</span></span>
<span data-ttu-id="d4720-152">Si va a actualizar el proyecto de Azure SDK 2.4 tooAzure SDK 2.5 o versiones posteriores, debe tener en hello cuenta después de las diferencias de funcionalidad de diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="d4720-152">If you're upgrading your project from Azure SDK 2.4 tooAzure SDK 2.5 or later, you should bear in mind hello following diagnostics functionality differences.</span></span>

* <span data-ttu-id="d4720-153">**Las API de configuración están desusadas** : la configuración mediante programación del diagnóstico está disponible en Azure SDK 2.4 o versiones anteriores, pero está en desuso en Azure SDK 2.5 y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="d4720-153">**Configuration APIs are deprecated** – Programmatic configuration of diagnostics is available in Azure SDK 2.4 or earlier versions, but is deprecated in Azure SDK 2.5 and later.</span></span> <span data-ttu-id="d4720-154">Si su configuración de diagnóstico está definida actualmente en el código, deberá tooreconfigure estos valores desde cero en el proyecto migrado de hello en orden para trabajar de tookeep de diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="d4720-154">If your diagnostics configuration is currently defined in code, you'll need tooreconfigure those settings from scratch in hello migrated project in order for diagnostics tookeep working.</span></span> <span data-ttu-id="d4720-155">archivo de configuración de diagnósticos de Hola para Azure SDK 2.4 es diagnostics.wadcfg y diagnostics.wadcfgx para Azure SDK 2.5 y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="d4720-155">hello diagnostics configuration file for Azure SDK 2.4 is diagnostics.wadcfg, and diagnostics.wadcfgx for Azure SDK 2.5 and later.</span></span>
* <span data-ttu-id="d4720-156">**Los diagnósticos para aplicaciones de servicio de nube solo pueden configurarse en el nivel de rol de hello, no en el nivel de instancia de Hola.**</span><span class="sxs-lookup"><span data-stu-id="d4720-156">**Diagnostics for cloud service applications can only be configured at hello role level, not at hello instance level.**</span></span>
* <span data-ttu-id="d4720-157">**Cada vez que implementa la aplicación, se actualiza la configuración de diagnóstico de Hola** : Esto puede causar problemas de paridad si cambia la configuración de diagnóstico del explorador de servidores y, a continuación, volver a implementar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="d4720-157">**Every time you deploy your app, hello diagnostics configuration is updated** – This can cause parity issues if you change your diagnostics configuration from Server Explorer and then redeploy your app.</span></span>
* <span data-ttu-id="d4720-158">**En Azure SDK 2.5 y versiones posteriores, los volcados de memoria se configuran en el archivo de configuración de diagnósticos de hello, no en el código** : si tiene volcados de memoria configurados en el código, deberá volver configuración de Hola de transferencia de toomanually toohello configuración archivo de código, no se transfieren porque volcados de Hola durante la migración de hello tooAzure SDK 2.6.</span><span class="sxs-lookup"><span data-stu-id="d4720-158">**In Azure SDK 2.5 and later, crash dumps are configured in hello diagnostics configuration file, not in code** – If you have crash dumps configured in code, you'll have toomanually transfer hello configuration from code toohello configuration file, because hello crash dumps aren't transferred during hello migration tooAzure SDK 2.6.</span></span>

## <a name="enable-diagnostics-in-cloud-service-projects-before-deploying-them"></a><span data-ttu-id="d4720-159">Habilitar diagnósticos en los proyectos de servicios en la nube antes de implementarlos</span><span class="sxs-lookup"><span data-stu-id="d4720-159">Enable diagnostics in cloud service projects before deploying them</span></span>
<span data-ttu-id="d4720-160">En Visual Studio, puede elegir toocollect datos de diagnóstico para los roles que se ejecutan en Azure, al ejecutar el servicio de hello en el emulador de hello antes de implementarla.</span><span class="sxs-lookup"><span data-stu-id="d4720-160">In Visual Studio, you can choose toocollect diagnostics data for roles that run in Azure, when you run hello service in hello emulator before deploying it.</span></span> <span data-ttu-id="d4720-161">Todas las configuraciones de toodiagnostics de cambios en Visual Studio se guardan en el archivo de configuración de hello diagnostics.wadcfgx.</span><span class="sxs-lookup"><span data-stu-id="d4720-161">All changes toodiagnostics settings in Visual Studio are saved in hello diagnostics.wadcfgx configuration file.</span></span> <span data-ttu-id="d4720-162">Estos valores de configuración especifican cuenta de almacenamiento de Hola donde se guardan los datos de diagnóstico cuando se implementa el servicio en la nube.</span><span class="sxs-lookup"><span data-stu-id="d4720-162">These configuration settings specify hello storage account where diagnostics data is saved when you deploy your cloud service.</span></span>

[!INCLUDE [cloud-services-wad-warning](../includes/cloud-services-wad-warning.md)]

### <a name="tooenable-diagnostics-in-visual-studio-before-deployment"></a><span data-ttu-id="d4720-163">diagnóstico de tooenable en Visual Studio antes de la implementación</span><span class="sxs-lookup"><span data-stu-id="d4720-163">tooenable diagnostics in Visual Studio before deployment</span></span>
1. <span data-ttu-id="d4720-164">En el menú contextual de hello para el rol de Hola que le interese, elija **propiedades**y, a continuación, elija hello **configuración** ficha del rol de hello **propiedades** ventana.</span><span class="sxs-lookup"><span data-stu-id="d4720-164">On hello shortcut menu for hello role that interests you, choose **Properties**, and then choose hello **Configuration** tab in hello role’s **Properties** window.</span></span>
2. <span data-ttu-id="d4720-165">Hola **diagnósticos** sección, asegúrese de que ese hello **habilitar diagnósticos** casilla está activada.</span><span class="sxs-lookup"><span data-stu-id="d4720-165">In hello **Diagnostics** section, make sure that hello **Enable Diagnostics** check box is selected.</span></span>
   
    ![Obtener acceso a la opción de habilitar diagnósticos de Hola](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796660.png)
3. <span data-ttu-id="d4720-167">Elija almacenamiento Hola puntos suspensivos (...) botón toospecify Hola cuenta donde desea toobe de datos de diagnóstico de hello almacenado.</span><span class="sxs-lookup"><span data-stu-id="d4720-167">Choose hello ellipsis (…) button toospecify hello storage account where you want hello diagnostics data toobe stored.</span></span> <span data-ttu-id="d4720-168">cuenta de almacenamiento de Hola que elija será ubicación Hola donde se almacenan los datos de diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="d4720-168">hello storage account you choose will be hello location where diagnostics data is stored.</span></span>
   
    ![Especificar toouse de cuenta de almacenamiento de Hola](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796661.png)
4. <span data-ttu-id="d4720-170">Hola **crear cadenas de conexión de almacenamiento** cuadro de diálogo, especifique si desea tooconnect con hello emulador de almacenamiento de Azure, una suscripción a Azure o credenciales escritas manualmente.</span><span class="sxs-lookup"><span data-stu-id="d4720-170">In hello **Create Storage Connection String** dialog box, specify whether you want tooconnect using hello Azure Storage Emulator, an Azure subscription, or manually entered credentials.</span></span>
   
    ![Cuadro de diálogo Cuenta de almacenamiento](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796662.png)
   
   * <span data-ttu-id="d4720-172">Si elige la opción de emulador de almacenamiento de Microsoft Azure hello, cadena de conexión de Hola se establece tooUseDevelopmentStorage = true.</span><span class="sxs-lookup"><span data-stu-id="d4720-172">If you choose hello Microsoft Azure Storage Emulator option, hello connection string is set tooUseDevelopmentStorage=true.</span></span>
   * <span data-ttu-id="d4720-173">Si elige la opción de suscripción hello, puede elegir Hola desea hello y toouse nombre de la cuenta de suscripción de Azure.</span><span class="sxs-lookup"><span data-stu-id="d4720-173">If you choose hello Your subscription option, you can choose hello Azure subscription you want toouse and hello account name.</span></span> <span data-ttu-id="d4720-174">Puede que administrar cuentas de hello botón toomanage las suscripciones de Azure.</span><span class="sxs-lookup"><span data-stu-id="d4720-174">You can choose hello Manage Accounts button toomanage your Azure subscriptions.</span></span>
   * <span data-ttu-id="d4720-175">Si se elige la opción de credenciales de hello escrita manualmente, dispone de nombre de hello tooenter solicitada y la clave de cuenta de Azure que desee toouse Hola.</span><span class="sxs-lookup"><span data-stu-id="d4720-175">If you choose hello Manually entered credentials option, you're prompted tooenter hello name and key of hello Azure account you want toouse.</span></span>
5. <span data-ttu-id="d4720-176">Elija hello **configurar** Hola de botón tooview **configuración de diagnóstico** cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="d4720-176">Choose hello **Configure** button tooview hello **Diagnostics configuration** dialog box.</span></span> <span data-ttu-id="d4720-177">Cada pestaña (excepto para **General** y **Directorios de registro**) representa un origen de datos de diagnóstico que puede recopilar.</span><span class="sxs-lookup"><span data-stu-id="d4720-177">Each tab (except for **General** and **Log Directories**) represents a diagnostic data source that you can collect.</span></span> <span data-ttu-id="d4720-178">ficha predeterminada de Hello, **General**, ofrece Hola siguientes opciones de recopilación de datos de diagnóstico: **solo errores**, **toda la información de**, y **plan personalizado** .</span><span class="sxs-lookup"><span data-stu-id="d4720-178">hello default tab, **General**, offers you hello following diagnostics data collection options: **Errors only**, **All information**, and **Custom plan**.</span></span> <span data-ttu-id="d4720-179">Hola opción predeterminada, **solo errores**, toma Hola menor cantidad de almacenamiento porque no transfiere las advertencias o mensajes de seguimiento.</span><span class="sxs-lookup"><span data-stu-id="d4720-179">hello default option, **Errors only**, takes hello least amount of storage because it doesn’t transfer warnings or tracing messages.</span></span> <span data-ttu-id="d4720-180">Hola todas las transferencias de opción de información Hola mayor cantidad de información y es, por lo tanto, Hola opción más cara en términos de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="d4720-180">hello All information option transfers hello most information and is, therefore, hello most expensive option in terms of storage.</span></span>
   
    ![Habilitar configuración y diagnóstico de Azure](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC758144.png)
6. <span data-ttu-id="d4720-182">En este ejemplo, seleccione hello **plan personalizado** opción para que pueda personalizar datos de hello recopilados.</span><span class="sxs-lookup"><span data-stu-id="d4720-182">For this example, select hello **Custom plan** option so you can customize hello data collected.</span></span>
7. <span data-ttu-id="d4720-183">Hola **cuota de disco en MB** cuadro especifica la cantidad de espacio que desea tooallocate en el almacenamiento de la cuenta para los datos de diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="d4720-183">hello **Disk Quota in MB** box specifies how much space you want tooallocate in your storage account for diagnostics data.</span></span> <span data-ttu-id="d4720-184">Puede cambiar el valor predeterminado de hello si desea.</span><span class="sxs-lookup"><span data-stu-id="d4720-184">You can change hello default value if you want.</span></span>
8. <span data-ttu-id="d4720-185">En cada ficha de datos de diagnóstico que desee toocollect, seleccione su **Habilitar transferencia de <log type>**  casilla de verificación.</span><span class="sxs-lookup"><span data-stu-id="d4720-185">On each tab of diagnostics data you want toocollect, select its **Enable Transfer of <log type>** check box.</span></span> <span data-ttu-id="d4720-186">Por ejemplo, si desea que los registros de aplicación toocollect, seleccione hello **Habilitar transferencia de registros de aplicaciones** casilla de verificación de hello **registros de la aplicación** ficha. Además, especifique cualquier otra información requerida por cada tipo de datos de diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="d4720-186">For example, if you want toocollect application logs, select hello **Enable transfer of Application Logs** check box on hello **Application Logs** tab. Also, specify any other information required by each diagnostics data type.</span></span> <span data-ttu-id="d4720-187">Consulte la sección de hello **configurar orígenes de datos de diagnóstico** más adelante en este tema para obtener información de configuración en cada pestaña.</span><span class="sxs-lookup"><span data-stu-id="d4720-187">See hello section **Configure diagnostics data sources** later in this topic for configuration information on each tab.</span></span>
9. <span data-ttu-id="d4720-188">Después de habilitar la colección de todos los datos de diagnóstico de Hola que desee, elija hello **Aceptar** botón.</span><span class="sxs-lookup"><span data-stu-id="d4720-188">After you’ve enabled collection of all hello diagnostics data you want, choose hello **OK** button.</span></span>
10. <span data-ttu-id="d4720-189">Abra el proyecto del servicio en la nube de Azure en Visual Studio de la manera habitual.</span><span class="sxs-lookup"><span data-stu-id="d4720-189">Run your Azure cloud service project in Visual Studio as usual.</span></span> <span data-ttu-id="d4720-190">Cuando usa su aplicación, información de registro de hello que ha habilitado se guarda toohello cuenta de almacenamiento de Azure que especificó.</span><span class="sxs-lookup"><span data-stu-id="d4720-190">As you use your application, hello log information that you enabled is saved toohello Azure storage account you specified.</span></span>

## <a name="enable-diagnostics-in-azure-virtual-machines"></a><span data-ttu-id="d4720-191">Habilitar diagnósticos en máquinas virtuales de Azure</span><span class="sxs-lookup"><span data-stu-id="d4720-191">Enable diagnostics in Azure virtual machines</span></span>
<span data-ttu-id="d4720-192">En Visual Studio, puede elegir toocollect datos de diagnóstico para máquinas virtuales de Azure.</span><span class="sxs-lookup"><span data-stu-id="d4720-192">In Visual Studio, you can choose toocollect diagnostics data for Azure virtual machines.</span></span>

### <a name="tooenable-diagnostics-in-azure-virtual-machines"></a><span data-ttu-id="d4720-193">tooenable diagnósticos en máquinas virtuales de Azure</span><span class="sxs-lookup"><span data-stu-id="d4720-193">tooenable diagnostics in Azure virtual machines</span></span>
1. <span data-ttu-id="d4720-194">En **Explorador de servidores**, elija Hola nodos de Azure y, a continuación, conecte tooyour suscripción de Azure, si aún no está conectado.</span><span class="sxs-lookup"><span data-stu-id="d4720-194">In **Server Explorer**, choose hello Azure node and then connect tooyour Azure subscription, if you're not already connected.</span></span>
2. <span data-ttu-id="d4720-195">Expanda hello **máquinas virtuales** nodo.</span><span class="sxs-lookup"><span data-stu-id="d4720-195">Expand hello **Virtual Machines** node.</span></span> <span data-ttu-id="d4720-196">Puede crear una nueva máquina virtual o seleccionar uno que ya exista.</span><span class="sxs-lookup"><span data-stu-id="d4720-196">You can create a new virtual machine, or select one that's already there.</span></span>
3. <span data-ttu-id="d4720-197">En el menú contextual de hello para la máquina virtual de Hola que le interese, elija **configurar**.</span><span class="sxs-lookup"><span data-stu-id="d4720-197">On hello shortcut menu for hello virtual machine that interests you, choose **Configure**.</span></span> <span data-ttu-id="d4720-198">Esto muestra el cuadro de diálogo de configuración de máquina virtual de Hola.</span><span class="sxs-lookup"><span data-stu-id="d4720-198">This shows hello virtual machine configuration dialog box.</span></span>
   
    ![Configuración de una máquina virtual de Azure](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796663.png)
4. <span data-ttu-id="d4720-200">Si aún no está instalado, agregue la extensión de diagnósticos del agente de supervisión de Microsoft de Hola.</span><span class="sxs-lookup"><span data-stu-id="d4720-200">If it's not already installed, add hello Microsoft Monitoring Agent Diagnostics extension.</span></span> <span data-ttu-id="d4720-201">Esta extensión le permite recopilar datos de diagnóstico para la máquina virtual de Azure Hola.</span><span class="sxs-lookup"><span data-stu-id="d4720-201">This extension lets you gather diagnostics data for hello Azure virtual machine.</span></span> <span data-ttu-id="d4720-202">En la lista de extensiones instaladas de hello, elija Hola seleccione una extensión disponible desplegable menú y, a continuación, elija diagnóstico de agente de supervisión de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="d4720-202">In hello Installed Extensions list, choose hello Select an available extension drop-down menu and then choose Microsoft Monitoring Agent Diagnostics.</span></span>
   
    ![Instalación de una extensión de máquina virtual de Azure](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC766024.png)
   
   > [!NOTE]
   > <span data-ttu-id="d4720-204">Hay otras extensiones de diagnóstico disponibles para las máquinas virtuales.</span><span class="sxs-lookup"><span data-stu-id="d4720-204">Other diagnostics extensions are available for your virtual machines.</span></span> <span data-ttu-id="d4720-205">Para obtener más información, vea Características y extensiones de máquina virtual de Azure.</span><span class="sxs-lookup"><span data-stu-id="d4720-205">For more information, see Azure VM Extensions and Features.</span></span>
   > 
   > 
5. <span data-ttu-id="d4720-206">Elija hello **agregar** botón tooadd Hola extensión y ver su **configuración de diagnóstico** cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="d4720-206">Choose hello **Add** button tooadd hello extension and view its **Diagnostics configuration** dialog box.</span></span>
6. <span data-ttu-id="d4720-207">Elija hello **configurar** botón toospecify una cuenta de almacenamiento y, a continuación, elija hello **Aceptar** botón.</span><span class="sxs-lookup"><span data-stu-id="d4720-207">Choose hello **Configure** button toospecify a storage account and then choose hello **OK** button.</span></span>
   
    <span data-ttu-id="d4720-208">Cada pestaña (excepto para **General** y **Directorios de registro**) representa un origen de datos de diagnóstico que puede recopilar.</span><span class="sxs-lookup"><span data-stu-id="d4720-208">Each tab (except for **General** and **Log Directories**) represents a diagnostic data source that you can collect.</span></span>
   
    ![Habilitar configuración y diagnóstico de Azure](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC758144.png)
   
    <span data-ttu-id="d4720-210">ficha predeterminada de Hello, **General**, ofrece Hola siguientes opciones de recopilación de datos de diagnóstico: **solo errores**, **toda la información de**, y **plan personalizado** .</span><span class="sxs-lookup"><span data-stu-id="d4720-210">hello default tab, **General**, offers you hello following diagnostics data collection options: **Errors only**, **All information**, and **Custom plan**.</span></span> <span data-ttu-id="d4720-211">Hola opción predeterminada, **solo errores**, toma Hola menor cantidad de almacenamiento porque no transfiere las advertencias o mensajes de seguimiento.</span><span class="sxs-lookup"><span data-stu-id="d4720-211">hello default option, **Errors only**, takes hello least amount of storage because it doesn’t transfer warnings or tracing messages.</span></span> <span data-ttu-id="d4720-212">Hola **toda la información de** opción transferencias Hola mayor cantidad de información y es, por lo tanto, la opción más cara de hello en términos de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="d4720-212">hello **All information** option transfers hello most information and is, therefore, hello most expensive option in terms of storage.</span></span>
7. <span data-ttu-id="d4720-213">En este ejemplo, seleccione hello **plan personalizado** opción para que pueda personalizar datos de hello recopilados.</span><span class="sxs-lookup"><span data-stu-id="d4720-213">For this example, select hello **Custom plan** option so you can customize hello data collected.</span></span>
8. <span data-ttu-id="d4720-214">Hola **cuota de disco en MB** cuadro especifica la cantidad de espacio que desea tooallocate en el almacenamiento de la cuenta para los datos de diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="d4720-214">hello **Disk Quota in MB** box specifies how much space you want tooallocate in your storage account for diagnostics data.</span></span> <span data-ttu-id="d4720-215">Puede cambiar el valor predeterminado de hello si desea.</span><span class="sxs-lookup"><span data-stu-id="d4720-215">You can change hello default value if you want.</span></span>
9. <span data-ttu-id="d4720-216">En cada ficha de datos de diagnóstico que desee toocollect, seleccione su **Habilitar transferencia de <log type>**  casilla de verificación.</span><span class="sxs-lookup"><span data-stu-id="d4720-216">On each tab of diagnostics data you want toocollect, select its **Enable Transfer of <log type>** check box.</span></span>
   
    <span data-ttu-id="d4720-217">Por ejemplo, si desea que los registros de aplicación toocollect, seleccione hello **Habilitar transferencia de registros de aplicaciones** casilla de verificación de hello **registros de la aplicación** ficha. Además, especifique cualquier otra información requerida por cada tipo de datos de diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="d4720-217">For example, if you want toocollect application logs, select hello **Enable transfer of Application Logs** check box on hello **Application Logs** tab. Also, specify any other information required by each diagnostics data type.</span></span> <span data-ttu-id="d4720-218">Consulte la sección de hello **configurar orígenes de datos de diagnóstico** más adelante en este tema para obtener información de configuración en cada pestaña.</span><span class="sxs-lookup"><span data-stu-id="d4720-218">See hello section **Configure diagnostics data sources** later in this topic for configuration information on each tab.</span></span>
10. <span data-ttu-id="d4720-219">Después de habilitar la colección de todos los datos de diagnóstico de Hola que desee, elija hello **Aceptar** botón.</span><span class="sxs-lookup"><span data-stu-id="d4720-219">After you’ve enabled collection of all hello diagnostics data you want, choose hello **OK** button.</span></span>
11. <span data-ttu-id="d4720-220">Guarde el proyecto de hello actualizado.</span><span class="sxs-lookup"><span data-stu-id="d4720-220">Save hello updated project.</span></span>
    
     <span data-ttu-id="d4720-221">Verá un mensaje de Hola **Microsoft Azure Activity Log** ventana que Hola máquina virtual se ha actualizado.</span><span class="sxs-lookup"><span data-stu-id="d4720-221">You'll see a message in hello **Microsoft Azure Activity Log** window that hello virtual machine has been updated.</span></span>

## <a name="configure-diagnostics-data-sources"></a><span data-ttu-id="d4720-222">Configurar orígenes de datos de diagnósticos</span><span class="sxs-lookup"><span data-stu-id="d4720-222">Configure diagnostics data sources</span></span>
<span data-ttu-id="d4720-223">Después de habilitar la recopilación de datos de diagnóstico, puede elegir exactamente qué orígenes de datos que desea toocollect y qué información se recopila.</span><span class="sxs-lookup"><span data-stu-id="d4720-223">After you enable diagnostics data collection, you can choose exactly what data sources you want toocollect and what information is collected.</span></span> <span data-ttu-id="d4720-224">Hello siguiente es una lista de las pestañas en hello **configuración de diagnóstico** cuadro de diálogo y significa qué cada opción de configuración.</span><span class="sxs-lookup"><span data-stu-id="d4720-224">hello following is a list of tabs in hello **Diagnostics configuration** dialog box and what each configuration option means.</span></span>

### <a name="application-logs"></a><span data-ttu-id="d4720-225">Registros de aplicación</span><span class="sxs-lookup"><span data-stu-id="d4720-225">Application logs</span></span>
<span data-ttu-id="d4720-226">**Application logs** contienen información de diagnóstico generada por una aplicación web.</span><span class="sxs-lookup"><span data-stu-id="d4720-226">**Application logs** contain diagnostics information produced by a web application.</span></span> <span data-ttu-id="d4720-227">Si desea que los registros de aplicación toocapture, seleccione hello **Habilitar transferencia de registros de la aplicación** casilla de verificación.</span><span class="sxs-lookup"><span data-stu-id="d4720-227">If you want toocapture application logs, select hello **Enable transfer of Application Logs** check box.</span></span> <span data-ttu-id="d4720-228">Puede aumentar o reducir Hola número de minutos cuando se transfieren los registros de la aplicación hello tooyour cuenta de almacenamiento cambiando hello **período de transferencia (min)** valor.</span><span class="sxs-lookup"><span data-stu-id="d4720-228">You can increase or decrease hello number of minutes when hello application logs are transferred tooyour storage account by changing hello **Transfer Period (min)** value.</span></span> <span data-ttu-id="d4720-229">También puede cambiar la cantidad de Hola de información capturada en el registro de hello estableciendo el valor de nivel de registro de hello.</span><span class="sxs-lookup"><span data-stu-id="d4720-229">You can also change hello amount of information captured in hello log by setting hello Log level value.</span></span> <span data-ttu-id="d4720-230">Por ejemplo, puede elegir **detallado** tooget obtener más información o elija **crítico** toocapture sólo crítico errores.</span><span class="sxs-lookup"><span data-stu-id="d4720-230">For example, you can choose **Verbose** tooget more information or choose **Critical** toocapture only critical errors.</span></span> <span data-ttu-id="d4720-231">Si tiene un proveedor de diagnósticos específicos que emite registros de aplicaciones, puede capturarlos agregando toohello GUID del proveedor de hello **GUID de proveedor** cuadro.</span><span class="sxs-lookup"><span data-stu-id="d4720-231">If you have a specific diagnostics provider that emits application logs, you can capture them by adding hello provider’s GUID toohello **Provider GUID** box.</span></span>

  ![Registros de aplicación](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC758145.png)

  <span data-ttu-id="d4720-233">Vea [Habilitación del registro de diagnóstico para aplicaciones web en Azure App Service](app-service-web/web-sites-enable-diagnostic-log.md) para obtener más información sobre los registros de aplicación.</span><span class="sxs-lookup"><span data-stu-id="d4720-233">See [Enable diagnostics logging for web apps in Azure App Service](app-service-web/web-sites-enable-diagnostic-log.md) for more information about application logs.</span></span>

### <a name="windows-event-logs"></a><span data-ttu-id="d4720-234">Registros de eventos de Windows</span><span class="sxs-lookup"><span data-stu-id="d4720-234">Windows event logs</span></span>
<span data-ttu-id="d4720-235">Si desea que toocapture registros de eventos de Windows, seleccione hello **Habilitar transferencia de registros de eventos de Windows** casilla de verificación.</span><span class="sxs-lookup"><span data-stu-id="d4720-235">If you want toocapture Windows event logs, select hello **Enable transfer of Windows Event Logs** check box.</span></span> <span data-ttu-id="d4720-236">Puede aumentar o reducir Hola número de minutos cuando se transfieren los registros de eventos de hello tooyour cuenta de almacenamiento cambiando hello **período de transferencia (min)** valor.</span><span class="sxs-lookup"><span data-stu-id="d4720-236">You can increase or decrease hello number of minutes when hello event logs are transferred tooyour storage account by changing hello **Transfer Period (min)** value.</span></span> <span data-ttu-id="d4720-237">Hola seleccione las casillas de verificación para los tipos de Hola de eventos que desee tootrack.</span><span class="sxs-lookup"><span data-stu-id="d4720-237">Select hello check boxes for hello types of events that you want tootrack.</span></span>

  ![Registros de eventos](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796664.png)

<span data-ttu-id="d4720-239">Si está usando Azure SDK 2.6 o posterior y desea toospecify un origen de datos personalizado, escríbalo en hello  **<Data source name>**  texto y, a continuación, elija hello **agregar** tooit siguiente botón.</span><span class="sxs-lookup"><span data-stu-id="d4720-239">If you're using Azure SDK 2.6 or later and want toospecify a custom data source, enter it in hello **<Data source name>** text box and then choose hello **Add** button next tooit.</span></span> <span data-ttu-id="d4720-240">origen de datos de Hola se agrega el archivo diagnostics.cfcfg de toohello.</span><span class="sxs-lookup"><span data-stu-id="d4720-240">hello data source is added toohello diagnostics.cfcfg file.</span></span>

<span data-ttu-id="d4720-241">Si está usando Azure SDK 2.5 y desea toospecify un origen de datos personalizado, puede agregarlo toohello `WindowsEventLog` archivo de sección de hello diagnostics.wadcfgx, como se muestra en el siguiente ejemplo de Hola.</span><span class="sxs-lookup"><span data-stu-id="d4720-241">If you're using Azure SDK 2.5 and want toospecify a custom data source, you can add it toohello `WindowsEventLog` section of hello diagnostics.wadcfgx file, such as in hello following example.</span></span>

```
<WindowsEventLog scheduledTransferPeriod="PT1M">
   <DataSource name="Application!*" />
   <DataSource name="CustomDataSource!*" />
</WindowsEventLog>
```
### <a name="performance-counters"></a><span data-ttu-id="d4720-242">Contadores de rendimiento</span><span class="sxs-lookup"><span data-stu-id="d4720-242">Performance counters</span></span>
<span data-ttu-id="d4720-243">La información del contador de rendimiento puede ayudarle a buscar cuellos de botella del sistema y a optimizar el rendimiento del sistema y de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="d4720-243">Performance counter information can help you locate system bottlenecks and fine-tune system and application performance.</span></span> <span data-ttu-id="d4720-244">Vea [Crear y usar contadores de rendimiento en una aplicación de Azure](https://msdn.microsoft.com/library/azure/hh411542.aspx) para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="d4720-244">See [Create and Use Performance Counters in an Azure Application](https://msdn.microsoft.com/library/azure/hh411542.aspx) for more information.</span></span> <span data-ttu-id="d4720-245">Si desea que los contadores de rendimiento toocapture, seleccione hello **Habilitar transferencia de contadores de rendimiento** casilla de verificación.</span><span class="sxs-lookup"><span data-stu-id="d4720-245">If you want toocapture performance counters, select hello **Enable transfer of Performance Counters** check box.</span></span> <span data-ttu-id="d4720-246">Puede aumentar o reducir Hola número de minutos cuando se transfieren los registros de eventos de hello tooyour cuenta de almacenamiento cambiando hello **período de transferencia (min)** valor.</span><span class="sxs-lookup"><span data-stu-id="d4720-246">You can increase or decrease hello number of minutes when hello event logs are transferred tooyour storage account by changing hello **Transfer Period (min)** value.</span></span> <span data-ttu-id="d4720-247">Active la casillas de verificación de Hola para hello contadores de rendimiento que desea tootrack.</span><span class="sxs-lookup"><span data-stu-id="d4720-247">Select hello check boxes for hello performance counters that you want tootrack.</span></span>

  ![Contadores de rendimiento](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC758147.png)

<span data-ttu-id="d4720-249">tootrack un contador de rendimiento que no está en la lista, introdúzcalo utilizando Hola sintaxis sugerida y, a continuación, elija hello **agregar** botón.</span><span class="sxs-lookup"><span data-stu-id="d4720-249">tootrack a performance counter that isn’t listed, enter it by using hello suggested syntax and then choose hello **Add** button.</span></span> <span data-ttu-id="d4720-250">sistema operativo de Hello en la máquina virtual de hello determina qué contadores de rendimiento que se puede realizar un seguimiento. Para obtener más información sobre la sintaxis, vea [Especificación de una ruta de contador](https://msdn.microsoft.com/library/windows/desktop/aa373193.aspx).</span><span class="sxs-lookup"><span data-stu-id="d4720-250">hello operating system on hello virtual machine determines which performance counters you can track. For more information about syntax, see [Specifying a Counter Path](https://msdn.microsoft.com/library/windows/desktop/aa373193.aspx).</span></span>

### <a name="infrastructure-logs"></a><span data-ttu-id="d4720-251">Registros de infraestructura</span><span class="sxs-lookup"><span data-stu-id="d4720-251">Infrastructure logs</span></span>
<span data-ttu-id="d4720-252">Si desea que los registros de infraestructura de toocapture, que contienen información acerca de hello infraestructura de diagnóstico de Azure, el módulo de RemoteAccess de Hola y el módulo RemoteForwarder de hello, seleccione hello **Habilitar transferencia de registros de infraestructura**casilla de verificación.</span><span class="sxs-lookup"><span data-stu-id="d4720-252">If you want toocapture infrastructure logs, which contain information about hello Azure diagnostic infrastructure, hello RemoteAccess module, and hello RemoteForwarder module, select hello **Enable transfer of Infrastructure Logs** check box.</span></span> <span data-ttu-id="d4720-253">Puede aumentar o reducir Hola número de minutos cuando se transfieren los registros de hello tooyour cuenta de almacenamiento cambiando el valor de período de transferencia (min) de Hola.</span><span class="sxs-lookup"><span data-stu-id="d4720-253">You can increase or decrease hello number of minutes when hello logs are transferred tooyour storage account by changing hello Transfer Period (min) value.</span></span>

  ![Registros de infraestructura de diagnóstico](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC758148.png)

  <span data-ttu-id="d4720-255">Consulte [Recopilar datos de registro mediante Diagnósticos de Azure](https://msdn.microsoft.com/library/azure/gg433048.aspx) para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="d4720-255">See [Collect Logging Data by Using Azure Diagnostics](https://msdn.microsoft.com/library/azure/gg433048.aspx) for more information.</span></span>

### <a name="log-directories"></a><span data-ttu-id="d4720-256">Directorios de registro</span><span class="sxs-lookup"><span data-stu-id="d4720-256">Log directories</span></span>
<span data-ttu-id="d4720-257">Si desea que los directorios de registro de toocapture, que contienen datos recopilados de los directorios de registro para las solicitudes de Internet Information Services (IIS), las solicitudes con error, o las carpetas que elija, seleccione hello **Habilitar transferencia de directorios de registro**casilla de verificación.</span><span class="sxs-lookup"><span data-stu-id="d4720-257">If you want toocapture log directories, which contain data collected from log directories for Internet Information Services (IIS) requests, failed requests, or folders that you choose, select hello **Enable transfer of Log Directories** check box.</span></span> <span data-ttu-id="d4720-258">Puede aumentar o reducir Hola número de minutos cuando se transfieren los registros de hello tooyour cuenta de almacenamiento cambiando hello **período de transferencia (min)** valor.</span><span class="sxs-lookup"><span data-stu-id="d4720-258">You can increase or decrease hello number of minutes when hello logs are transferred tooyour storage account by changing hello **Transfer Period (min)** value.</span></span>

<span data-ttu-id="d4720-259">Puede activar las casillas de Hola de registros de hello desee toocollect, por ejemplo, **registros de IIS** y **solicitudes con error** registros.</span><span class="sxs-lookup"><span data-stu-id="d4720-259">You can select hello boxes of hello logs you want toocollect, such as **IIS Logs** and **Failed Request** Logs.</span></span> <span data-ttu-id="d4720-260">Se proporcionan los nombres de contenedor de almacenamiento de forma predeterminada, pero puede cambiar nombres de hello si lo desea.</span><span class="sxs-lookup"><span data-stu-id="d4720-260">Default storage container names are provided, but you can change hello names if you want.</span></span>

<span data-ttu-id="d4720-261">Además, puede capturar registros desde cualquier carpeta.</span><span class="sxs-lookup"><span data-stu-id="d4720-261">Also, you can capture logs from any folder.</span></span> <span data-ttu-id="d4720-262">Simplemente especificar ruta de acceso de Hola Hola **registro de directorio absoluto** sección y, a continuación, elija hello **Agregar directorio** botón.</span><span class="sxs-lookup"><span data-stu-id="d4720-262">Just specify hello path in hello **Log from Absolute Directory** section and then choose hello **Add Directory** button.</span></span> <span data-ttu-id="d4720-263">Hello registros se capturarán toohello especifica contenedores.</span><span class="sxs-lookup"><span data-stu-id="d4720-263">hello logs will be captured toohello specified containers.</span></span>

  ![Directorios de registro](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796665.png)

### <a name="etw-logs"></a><span data-ttu-id="d4720-265">Registros de ETW</span><span class="sxs-lookup"><span data-stu-id="d4720-265">ETW logs</span></span>
<span data-ttu-id="d4720-266">Si usa [seguimiento de eventos para Windows](https://msdn.microsoft.com/library/windows/desktop/bb968803\(v=vs.85\).aspx) (ETW) y desea que los registros ETW toocapture, seleccione hello **Habilitar transferencia de registros de ETW** casilla de verificación.</span><span class="sxs-lookup"><span data-stu-id="d4720-266">If you use [Event Tracing for Windows](https://msdn.microsoft.com/library/windows/desktop/bb968803\(v=vs.85\).aspx) (ETW) and want toocapture ETW logs, select hello **Enable transfer of ETW Logs** check box.</span></span> <span data-ttu-id="d4720-267">Puede aumentar o reducir Hola número de minutos cuando se transfieren los registros de hello tooyour cuenta de almacenamiento cambiando hello **período de transferencia (min)** valor.</span><span class="sxs-lookup"><span data-stu-id="d4720-267">You can increase or decrease hello number of minutes when hello logs are transferred tooyour storage account by changing hello **Transfer Period (min)** value.</span></span>

<span data-ttu-id="d4720-268">Hola eventos se capturan de orígenes de eventos y los manifiestos de eventos que especifique.</span><span class="sxs-lookup"><span data-stu-id="d4720-268">hello events are captured from event sources and event manifests that you specify.</span></span> <span data-ttu-id="d4720-269">toospecify un origen de eventos, escriba un nombre en hello **orígenes de eventos** sección y, a continuación, elija hello **agregar origen de evento** botón.</span><span class="sxs-lookup"><span data-stu-id="d4720-269">toospecify an event source, enter a name in hello **Event Sources** section and then choose hello **Add Event Source** button.</span></span> <span data-ttu-id="d4720-270">De forma similar, puede especificar un manifiesto de evento en hello **manifiestos de eventos** sección y, a continuación, elija hello **agregar manifiesto de evento** botón.</span><span class="sxs-lookup"><span data-stu-id="d4720-270">Similarly, you can specify an event manifest in hello **Event Manifests** section and then choose hello **Add Event Manifest** button.</span></span>

  ![Registros de ETW](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC766025.png)

  <span data-ttu-id="d4720-272">marco ETW de Hola se admite en ASP.NET a través de las clases de hello [System.Diagnostics.aspx] (espacio de nombres https://msdn.microsoft.com/library/system.diagnostics (110).</span><span class="sxs-lookup"><span data-stu-id="d4720-272">hello ETW framework is supported in ASP.NET through classes in hello [System.Diagnostics.aspx](https://msdn.microsoft.com/library/system.diagnostics(v=vs.110) namespace.</span></span> <span data-ttu-id="d4720-273">Hola Microsoft.WindowsAzure.Diagnostics espacio de nombres, que hereda de y amplía estándar (clases https://msdn.microsoft.com/library/system.diagnostics (110), habilita el uso de Hola de [System.Diagnostics.aspx] ([System.Diagnostics.aspx] https://msdn.Microsoft.com/library/System.Diagnostics (110) como un marco de registro de hello entorno de Azure.</span><span class="sxs-lookup"><span data-stu-id="d4720-273">hello Microsoft.WindowsAzure.Diagnostics namespace, which inherits from and extends standard [System.Diagnostics.aspx](https://msdn.microsoft.com/library/system.diagnostics(v=vs.110) classes, enables hello use of [System.Diagnostics.aspx](https://msdn.microsoft.com/library/system.diagnostics(v=vs.110) as a logging framework in hello Azure environment.</span></span> <span data-ttu-id="d4720-274">Para más información, vea [Tomar el control del registro y el seguimiento en Microsoft Azure](https://msdn.microsoft.com/magazine/ff714589.aspx) y [Habilitación de diagnósticos en Azure Cloud Services y Azure Virtual Machines](cloud-services/cloud-services-dotnet-diagnostics.md).</span><span class="sxs-lookup"><span data-stu-id="d4720-274">For more information, see [Take Control of Logging and Tracing in Microsoft Azure](https://msdn.microsoft.com/magazine/ff714589.aspx) and [Enabling Diagnostics in Azure Cloud Services and Virtual Machines](cloud-services/cloud-services-dotnet-diagnostics.md).</span></span>

### <a name="crash-dumps"></a><span data-ttu-id="d4720-275">Volcados de memoria</span><span class="sxs-lookup"><span data-stu-id="d4720-275">Crash dumps</span></span>
<span data-ttu-id="d4720-276">Si desea que toocapture información acerca de cuándo se bloquea una instancia de rol, seleccione hello **Habilitar transferencia de volcados** casilla de verificación.</span><span class="sxs-lookup"><span data-stu-id="d4720-276">If you want toocapture information about when a role instance crashes, select hello **Enable transfer of Crash Dumps** check box.</span></span> <span data-ttu-id="d4720-277">(Puesto que ASP.NET controla la mayoría de las excepciones, normalmente solo es útil para roles de trabajo.) Puede aumentar o reducir el porcentaje de Hola de almacenamiento espacio dedicado a volcados de memoria toohello cambiando hello **cuota de directorio (%)** valor.</span><span class="sxs-lookup"><span data-stu-id="d4720-277">(Because ASP.NET handles most exceptions, this is generally useful only for worker roles.) You can increase or decrease hello percentage of storage space devoted toohello crash dumps by changing hello **Directory Quota (%)** value.</span></span> <span data-ttu-id="d4720-278">Puede cambiar el contenedor de almacenamiento de Hola donde se almacenan los volcados de Hola y puede seleccionar si desea que toocapture una **completa** o **Mini** volcado de memoria.</span><span class="sxs-lookup"><span data-stu-id="d4720-278">You can change hello storage container where hello crash dumps are stored, and you can select whether you want toocapture a **Full** or **Mini** dump.</span></span>

<span data-ttu-id="d4720-279">se enumeran los procesos de Hello está realizando el seguimiento.</span><span class="sxs-lookup"><span data-stu-id="d4720-279">hello processes currently being tracked are listed.</span></span> <span data-ttu-id="d4720-280">Seleccione Hola casillas para los procesos de Hola que desea toocapture.</span><span class="sxs-lookup"><span data-stu-id="d4720-280">Select hello check boxes for hello processes that you want toocapture.</span></span> <span data-ttu-id="d4720-281">tooadd otra lista de toohello de proceso, escriba el nombre del proceso de hello y, a continuación, elija hello **Agregar proceso** botón.</span><span class="sxs-lookup"><span data-stu-id="d4720-281">tooadd another process toohello list, enter hello process name and then choose hello **Add Process** button.</span></span>

  ![Volcados de memoria](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC766026.png)

  <span data-ttu-id="d4720-283">Vea [Tomar el control del registro y el seguimiento en Microsoft Azure](https://msdn.microsoft.com/magazine/ff714589.aspx) y [Diagnósticos de Microsoft Azure Parte 4: Componentes de registro personalizados y cambios de Diagnósticos de Azure 1.3](http://justazure.com/microsoft-azure-diagnostics-part-4-custom-logging-components-azure-diagnostics-1-3-changes/) para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="d4720-283">See [Take Control of Logging and Tracing in Microsoft Azure](https://msdn.microsoft.com/magazine/ff714589.aspx) and [Microsoft Azure Diagnostics Part 4: Custom Logging Components and Azure Diagnostics 1.3 Changes](http://justazure.com/microsoft-azure-diagnostics-part-4-custom-logging-components-azure-diagnostics-1-3-changes/) for more information.</span></span>

## <a name="view-hello-diagnostics-data"></a><span data-ttu-id="d4720-284">Ver datos de diagnóstico de Hola</span><span class="sxs-lookup"><span data-stu-id="d4720-284">View hello diagnostics data</span></span>
<span data-ttu-id="d4720-285">Después de haber recopilado los datos de diagnóstico de Hola para un servicio de nube o una máquina virtual, puede verlo.</span><span class="sxs-lookup"><span data-stu-id="d4720-285">After you’ve collected hello diagnostics data for a cloud service or a virtual machine, you can view it.</span></span>

### <a name="tooview-cloud-service-diagnostics-data"></a><span data-ttu-id="d4720-286">datos de diagnóstico de servicio de nube tooview</span><span class="sxs-lookup"><span data-stu-id="d4720-286">tooview cloud service diagnostics data</span></span>
1. <span data-ttu-id="d4720-287">Implemente su servicio en nube como de costumbre y luego ejecútelo.</span><span class="sxs-lookup"><span data-stu-id="d4720-287">Deploy your cloud service as usual and then run it.</span></span>
2. <span data-ttu-id="d4720-288">Puede ver datos de diagnóstico de hello en un informe que genera Visual Studio o en tablas en la cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="d4720-288">You can view hello diagnostics data in either a report that Visual Studio generates or tables in your storage account.</span></span> <span data-ttu-id="d4720-289">datos de hello tooview en un informe, abra **Explorer nube** o **Explorador de servidores**, abra el acceso directo de hello del nodo de hello para el rol de Hola que le interese y, a continuación, elija **ver datos de diagnóstico** .</span><span class="sxs-lookup"><span data-stu-id="d4720-289">tooview hello data in a report, open **Cloud Explorer** or **Server Explorer**, open hello shortcut menu of hello node for hello role that interests you, and then choose **View Diagnostic Data**.</span></span>
   
    ![Ver datos de diagnóstico](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC748912.png)
   
    <span data-ttu-id="d4720-291">Aparece un informe que muestra los datos disponibles de Hola.</span><span class="sxs-lookup"><span data-stu-id="d4720-291">A report that shows hello available data appears.</span></span>
   
    ![Informe de diagnósticos de Microsoft Azure en Visual Studio](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796666.png)
   
    <span data-ttu-id="d4720-293">Si no aparecen los datos más recientes de hello, podría tener toowait para tooelapse período de transferencia de Hola.</span><span class="sxs-lookup"><span data-stu-id="d4720-293">If hello most recent data doesn't appear, you might have toowait for hello transfer period tooelapse.</span></span>
   
    <span data-ttu-id="d4720-294">Elija hello **actualizar** vincular los datos de tooimmediately actualización hello, o elegir un intervalo de hello **actualización automática** lista desplegable lista cuadro toohave Hola datos se actualicen automáticamente.</span><span class="sxs-lookup"><span data-stu-id="d4720-294">Choose hello **Refresh** link tooimmediately update hello data, or choose an interval in hello **Auto-Refresh** dropdown list box toohave hello data updated automatically.</span></span> <span data-ttu-id="d4720-295">datos de error de hello tooexport, elija hello **exportar tooCSV** botón toocreate un archivo de valores separados por comas se pueden abrir en una hoja de cálculo.</span><span class="sxs-lookup"><span data-stu-id="d4720-295">tooexport hello error data, choose hello **Export tooCSV** button toocreate a comma-separated value file you can open in a spreadsheet.</span></span>
   
    <span data-ttu-id="d4720-296">En **nube explorador** o **Explorador de servidores**, abra la cuenta de almacenamiento de Hola que esté asociada con la implementación de Hola.</span><span class="sxs-lookup"><span data-stu-id="d4720-296">In **Cloud Explorer** or **Server Explorer**, open hello storage account that's associated with hello deployment.</span></span>
3. <span data-ttu-id="d4720-297">Abrir tablas de diagnósticos de hello en el Visor de la tabla de hello y, a continuación, revise los datos de Hola que haya recopilado.</span><span class="sxs-lookup"><span data-stu-id="d4720-297">Open hello diagnostics tables in hello table viewer, and then review hello data that you collected.</span></span> <span data-ttu-id="d4720-298">Para los registros de IIS y los registros personalizados, puede abrir un contenedor de blobs.</span><span class="sxs-lookup"><span data-stu-id="d4720-298">For IIS logs and custom logs, you can open a blob container.</span></span> <span data-ttu-id="d4720-299">Si revisa hello en la tabla siguiente, encontrará Hola tabla o contenedor de blobs que contiene datos de Hola que le interese.</span><span class="sxs-lookup"><span data-stu-id="d4720-299">By reviewing hello following table, you can find hello table or blob container that contains hello data that interests you.</span></span> <span data-ttu-id="d4720-300">Además toohello datos para que el archivo de registro, las entradas de tabla de hello contienen EventTickCount, DeploymentId, Role y toohelp RoleInstance identificar qué máquina virtual y el rol genera datos de Hola y cuándo.</span><span class="sxs-lookup"><span data-stu-id="d4720-300">In addition toohello data for that log file, hello table entries contain EventTickCount, DeploymentId, Role, and RoleInstance toohelp you identify what virtual machine and role generated hello data and when.</span></span> 
   
   | <span data-ttu-id="d4720-301">Datos de diagnóstico</span><span class="sxs-lookup"><span data-stu-id="d4720-301">Diagnostic data</span></span> | <span data-ttu-id="d4720-302">Descripción</span><span class="sxs-lookup"><span data-stu-id="d4720-302">Description</span></span> | <span data-ttu-id="d4720-303">La ubicación</span><span class="sxs-lookup"><span data-stu-id="d4720-303">Location</span></span> |
   | --- | --- | --- |
   | <span data-ttu-id="d4720-304">Registros de aplicación</span><span class="sxs-lookup"><span data-stu-id="d4720-304">Application Logs</span></span> |<span data-ttu-id="d4720-305">Registra que el código se genera mediante una llamada a métodos de hello clase System.Diagnostics.Trace.</span><span class="sxs-lookup"><span data-stu-id="d4720-305">Logs that your code generates by calling methods of hello System.Diagnostics.Trace class.</span></span> |<span data-ttu-id="d4720-306">WADLogsTable</span><span class="sxs-lookup"><span data-stu-id="d4720-306">WADLogsTable</span></span> |
   | <span data-ttu-id="d4720-307">Registros de eventos</span><span class="sxs-lookup"><span data-stu-id="d4720-307">Event Logs</span></span> |<span data-ttu-id="d4720-308">Estos datos son de registros de eventos de Windows hello en máquinas virtuales de Hola.</span><span class="sxs-lookup"><span data-stu-id="d4720-308">This data is from hello Windows event logs on hello virtual machines.</span></span> <span data-ttu-id="d4720-309">Windows almacena información en estos registros, pero las aplicaciones y servicios también usarlos tooreport errores o información de registro.</span><span class="sxs-lookup"><span data-stu-id="d4720-309">Windows stores information in these logs, but applications and services also use them tooreport errors or log information.</span></span> |<span data-ttu-id="d4720-310">WADWindowsEventLogsTable</span><span class="sxs-lookup"><span data-stu-id="d4720-310">WADWindowsEventLogsTable</span></span> |
   | <span data-ttu-id="d4720-311">Contadores de rendimiento</span><span class="sxs-lookup"><span data-stu-id="d4720-311">Performance Counters</span></span> |<span data-ttu-id="d4720-312">Puede recopilar datos de cualquier contador de rendimiento que está disponible en la máquina virtual de Hola.</span><span class="sxs-lookup"><span data-stu-id="d4720-312">You can collect data on any performance counter that’s available on hello virtual machine.</span></span> <span data-ttu-id="d4720-313">sistema operativo de Hello proporciona contadores de rendimiento, que incluyen muchas estadísticas como el tiempo de procesador y el uso de memoria.</span><span class="sxs-lookup"><span data-stu-id="d4720-313">hello operating system provides performance counters, which include many statistics such as memory usage and processor time.</span></span> |<span data-ttu-id="d4720-314">WADPerformanceCountersTable</span><span class="sxs-lookup"><span data-stu-id="d4720-314">WADPerformanceCountersTable</span></span> |
   | <span data-ttu-id="d4720-315">Registros de infraestructura</span><span class="sxs-lookup"><span data-stu-id="d4720-315">Infrastructure Logs</span></span> |<span data-ttu-id="d4720-316">Estos registros se generan a partir de la propia infraestructura de diagnóstico Hola.</span><span class="sxs-lookup"><span data-stu-id="d4720-316">These logs are generated from hello diagnostics infrastructure itself.</span></span> |<span data-ttu-id="d4720-317">WADDiagnosticInfrastructureLogsTable</span><span class="sxs-lookup"><span data-stu-id="d4720-317">WADDiagnosticInfrastructureLogsTable</span></span> |
   | <span data-ttu-id="d4720-318">Registros IIS</span><span class="sxs-lookup"><span data-stu-id="d4720-318">IIS Logs</span></span> |<span data-ttu-id="d4720-319">Estos registros registran solicitudes web.</span><span class="sxs-lookup"><span data-stu-id="d4720-319">These logs record web requests.</span></span> <span data-ttu-id="d4720-320">Si su servicio en la nube obtiene una cantidad importante de tráfico, estos registros pueden ser bastante largos, por lo que debe recopilar y almacenar estos datos solo cuando los necesite.</span><span class="sxs-lookup"><span data-stu-id="d4720-320">If your cloud service gets a significant amount of traffic, these logs can be quite lengthy, so you should collect and store this data only when you need it.</span></span> |<span data-ttu-id="d4720-321">Puede encontrar registros de solicitudes con error en el contenedor de blobs de hello en wad-iis-failedreqlogs bajo una ruta de acceso para esa implementación, rol e instancia.</span><span class="sxs-lookup"><span data-stu-id="d4720-321">You can find failed-request logs in hello blob container under wad-iis-failedreqlogs under a path for that deployment, role, and instance.</span></span> <span data-ttu-id="d4720-322">Puede encontrar registros completos en wad-iis-logfiles.</span><span class="sxs-lookup"><span data-stu-id="d4720-322">You can find complete logs under wad-iis-logfiles.</span></span> <span data-ttu-id="d4720-323">Entradas de cada archivo se realizan en la tabla WADDirectories de Hola.</span><span class="sxs-lookup"><span data-stu-id="d4720-323">Entries for each file are made in hello WADDirectories table.</span></span> |
   | <span data-ttu-id="d4720-324">Volcados de memoria</span><span class="sxs-lookup"><span data-stu-id="d4720-324">Crash dumps</span></span> |<span data-ttu-id="d4720-325">Esta información ofrece imágenes binarias del proceso del servicio en la nube (normalmente un rol de trabajo).</span><span class="sxs-lookup"><span data-stu-id="d4720-325">This information provides binary images of your cloud service’s process (typically a worker role).</span></span> |<span data-ttu-id="d4720-326">contenedor de blobs de wad-crush-dumps</span><span class="sxs-lookup"><span data-stu-id="d4720-326">wad-crush-dumps blob container</span></span> |
   | <span data-ttu-id="d4720-327">Archivos de registro personalizados</span><span class="sxs-lookup"><span data-stu-id="d4720-327">Custom log files</span></span> |<span data-ttu-id="d4720-328">Registros de datos que ha predefinido.</span><span class="sxs-lookup"><span data-stu-id="d4720-328">Logs of data that you predefined.</span></span> |<span data-ttu-id="d4720-329">Puede especificar en ubicación de Hola de código personalizado de archivos de registro en la cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="d4720-329">You can specify in code hello location of custom log files in your storage account.</span></span> <span data-ttu-id="d4720-330">Por ejemplo, puede especificar un contenedor de blobs personalizado.</span><span class="sxs-lookup"><span data-stu-id="d4720-330">For example, you can specify a custom blob container.</span></span> |
4. <span data-ttu-id="d4720-331">Si se truncan los datos de cualquier tipo, puede intentar creciente búfer Hola para ese tipo de datos o reducir el intervalo de saludo entre las transferencias de datos de cuenta de almacenamiento de tooyour Hola máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="d4720-331">If data of any type is truncated, you can try increasing hello buffer for that data type or shortening hello interval between transfers of data from hello virtual machine tooyour storage account.</span></span>
5. <span data-ttu-id="d4720-332">(opcional) Purgar datos desde almacenamiento de hello en ocasiones cuenta tooreduce los costes generales de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="d4720-332">(optional) Purge data from hello storage account occasionally tooreduce overall storage costs.</span></span>
6. <span data-ttu-id="d4720-333">Cuando realice una implementación completa, archivo de hello diagnostics.cscfg (.wadcfgx para Azure SDK 2.5) se actualiza en Azure y su servicio de nube recoge cualquier configuración de diagnóstico de tooyour de cambios.</span><span class="sxs-lookup"><span data-stu-id="d4720-333">When you do a full deployment, hello diagnostics.cscfg file (.wadcfgx for Azure SDK 2.5) is updated in Azure, and your cloud service picks up any changes tooyour diagnostics configuration.</span></span> <span data-ttu-id="d4720-334">Si, en su lugar, actualiza una implementación existente, archivo de .cscfg de hello no se actualiza en Azure.</span><span class="sxs-lookup"><span data-stu-id="d4720-334">If you, instead, update an existing deployment, hello .cscfg file isn’t updated in Azure.</span></span> <span data-ttu-id="d4720-335">Todavía puede cambiar la configuración de diagnósticos, no obstante, siguiendo los pasos de hello en la sección siguiente Hola.</span><span class="sxs-lookup"><span data-stu-id="d4720-335">You can still change diagnostics settings, though, by following hello steps in hello next section.</span></span> <span data-ttu-id="d4720-336">Para obtener más información sobre cómo realizar una implementación completa y actualizar una implementación existente, vea [Asistente Publicar aplicaciones de Azure](vs-azure-tools-publish-azure-application-wizard.md).</span><span class="sxs-lookup"><span data-stu-id="d4720-336">For more information about performing a full deployment and updating an existing deployment, see [Publish Azure Application Wizard](vs-azure-tools-publish-azure-application-wizard.md).</span></span>

### <a name="tooview-virtual-machine-diagnostics-data"></a><span data-ttu-id="d4720-337">datos de diagnóstico de máquina virtual de tooview</span><span class="sxs-lookup"><span data-stu-id="d4720-337">tooview virtual machine diagnostics data</span></span>
1. <span data-ttu-id="d4720-338">En el menú contextual de hello para la máquina virtual de hello, elija **ver datos de diagnóstico**.</span><span class="sxs-lookup"><span data-stu-id="d4720-338">On hello shortcut menu for hello virtual machine, choose **View Diagnostics Data**.</span></span>
   
    ![Ver datos de diagnóstico en la máquina virtual de Azure](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC766027.png)
   
    <span data-ttu-id="d4720-340">Se abrirá hello **resumen de diagnóstico** ventana.</span><span class="sxs-lookup"><span data-stu-id="d4720-340">This opens hello **Diagnostics summary** window.</span></span>
   
    ![Resumen de diagnóstico de máquina virtual de Azure](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796667.png)  
   
    <span data-ttu-id="d4720-342">Si no aparecen los datos más recientes de hello, podría tener toowait para tooelapse período de transferencia de Hola.</span><span class="sxs-lookup"><span data-stu-id="d4720-342">If hello most recent data doesn't appear, you might have toowait for hello transfer period tooelapse.</span></span>
   
    <span data-ttu-id="d4720-343">Elija hello **actualizar** vincular los datos de tooimmediately actualización hello, o elegir un intervalo de hello **actualización automática** lista desplegable lista cuadro toohave Hola datos se actualicen automáticamente.</span><span class="sxs-lookup"><span data-stu-id="d4720-343">Choose hello **Refresh** link tooimmediately update hello data, or choose an interval in hello **Auto-Refresh** dropdown list box toohave hello data updated automatically.</span></span> <span data-ttu-id="d4720-344">datos de error de hello tooexport, elija hello **exportar tooCSV** botón toocreate un archivo de valores separados por comas se pueden abrir en una hoja de cálculo.</span><span class="sxs-lookup"><span data-stu-id="d4720-344">tooexport hello error data, choose hello **Export tooCSV** button toocreate a comma-separated value file you can open in a spreadsheet.</span></span>

## <a name="configure-cloud-service-diagnostics-after-deployment"></a><span data-ttu-id="d4720-345">Configurar el diagnóstico de servicio en la nube después de la implementación</span><span class="sxs-lookup"><span data-stu-id="d4720-345">Configure cloud service diagnostics after deployment</span></span>
<span data-ttu-id="d4720-346">Si está investigando un problema con un servicio de nube que ya está ejecutando, conviene toocollect datos que especificó antes de el rol de hello originalmente implementada.</span><span class="sxs-lookup"><span data-stu-id="d4720-346">If you're investigating a problem with a cloud service that already running, you might want toocollect data that you didn't specify before you originally deployed hello role.</span></span> <span data-ttu-id="d4720-347">En este caso, puede iniciar toocollect esos datos mediante la configuración de hello en el Explorador de servidores.</span><span class="sxs-lookup"><span data-stu-id="d4720-347">In this case, you can start toocollect that data by using hello settings in Server Explorer.</span></span> <span data-ttu-id="d4720-348">Puede configurar diagnósticos para una sola instancia o de todas las instancias de hello en un rol, dependiendo de si abre el cuadro de diálogo de configuración de diagnóstico de hello en menú contextual Hola instancia Hola o el rol de Hola.</span><span class="sxs-lookup"><span data-stu-id="d4720-348">You can configure diagnostics for either a single instance or all hello instances in a role, depending on whether you open hello Diagnostics Configuration dialog box from hello shortcut menu for hello instance or hello role.</span></span> <span data-ttu-id="d4720-349">Si configura el nodo de rol de hello, los cambios aplican tooall instancias.</span><span class="sxs-lookup"><span data-stu-id="d4720-349">If you configure hello role node, any changes apply tooall instances.</span></span> <span data-ttu-id="d4720-350">Si configura el nodo de la instancia de hello, los cambios aplican toothat instancia única.</span><span class="sxs-lookup"><span data-stu-id="d4720-350">If you configure hello instance node, any changes apply toothat instance only.</span></span>

### <a name="tooconfigure-diagnostics-for-a-running-cloud-service"></a><span data-ttu-id="d4720-351">tooconfigure diagnósticos para un servicio en ejecución en la nube</span><span class="sxs-lookup"><span data-stu-id="d4720-351">tooconfigure diagnostics for a running cloud service</span></span>
1. <span data-ttu-id="d4720-352">En el Explorador de servidores, expanda hello **servicios en la nube** nodo y a continuación, expanda el rol de Hola de toolocate de nodos o la instancia que desea tooinvestigate o ambos.</span><span class="sxs-lookup"><span data-stu-id="d4720-352">In Server Explorer, expand hello **Cloud Services** node, and then expand nodes toolocate hello role or instance that you want tooinvestigate or both.</span></span>
   
    ![Configuración de diagnósticos](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC748913.png)
2. <span data-ttu-id="d4720-354">En el menú contextual de Hola para un nodo de instancia o un nodo de rol, elija **actualizar valores de diagnóstico**y, a continuación, elija Hola configuración de diagnóstico que desea toocollect.</span><span class="sxs-lookup"><span data-stu-id="d4720-354">On hello shortcut menu for an instance node or a role node, choose **Update Diagnostics Settings**, and then choose hello diagnostic settings that you want toocollect.</span></span>
   
    <span data-ttu-id="d4720-355">Para obtener información sobre opciones de configuración de hello, consulte **configurar orígenes de datos de diagnóstico** en este tema.</span><span class="sxs-lookup"><span data-stu-id="d4720-355">For information about hello configuration settings, see **Configure diagnostics data sources** in this topic.</span></span> <span data-ttu-id="d4720-356">Para obtener información acerca de cómo tooview Hola datos de diagnóstico, vea **ver datos de diagnóstico de hello** en este tema.</span><span class="sxs-lookup"><span data-stu-id="d4720-356">For information about how tooview hello diagnostics data, see **View hello diagnostics data** in this topic.</span></span>
   
    <span data-ttu-id="d4720-357">Si cambia la colección de datos en el **Explorador de servidores**, estos cambios permanecerán en vigor hasta que vuelva a implementar totalmente su servicio en la nube.</span><span class="sxs-lookup"><span data-stu-id="d4720-357">If you change data collection in **Server Explorer**, these changes remain in effect until you fully redeploy your cloud service.</span></span> <span data-ttu-id="d4720-358">Si utiliza configuración de publicación predeterminada de hello, cambios de hello no se sobrescriben, puesto que la publicación Hola predeterminada configuración es implementación existente de tooupdate hello, en lugar de hacer una implementación completa.</span><span class="sxs-lookup"><span data-stu-id="d4720-358">If you use hello default publish settings, hello changes are not overwritten, since hello default publish setting is tooupdate hello existing deployment, rather than do a full redeployment.</span></span> <span data-ttu-id="d4720-359">configuración de Hola de toomake seguro de que se borra durante la implementación, vaya toohello **configuración avanzada** ficha en el Asistente para publicación de Hola y Hola desactive **actualización de la implementación** casilla de verificación.</span><span class="sxs-lookup"><span data-stu-id="d4720-359">toomake sure hello settings clear at deployment time, go toohello **Advanced Settings** tab in hello Publish wizard and clear hello **Deployment update** checkbox.</span></span> <span data-ttu-id="d4720-360">Si vuelve a implementar con esa casilla borrada, configuración de hello revierte toothose en archivo wadcfgx (o .wadcfg) de hello como conjunto a través del editor de propiedades de hello para el rol de Hola.</span><span class="sxs-lookup"><span data-stu-id="d4720-360">When you redeploy with that checkbox cleared, hello settings revert toothose in hello .wadcfgx (or .wadcfg) file as set through hello Properties editor for hello role.</span></span> <span data-ttu-id="d4720-361">Si actualiza su implementación, Azure mantiene la configuración anterior de Hola.</span><span class="sxs-lookup"><span data-stu-id="d4720-361">If you update your deployment, Azure keeps hello old settings.</span></span>

## <a name="troubleshoot-azure-cloud-service-issues"></a><span data-ttu-id="d4720-362">Solucionar problemas del servicio en la nube de Azure</span><span class="sxs-lookup"><span data-stu-id="d4720-362">Troubleshoot Azure cloud service issues</span></span>
<span data-ttu-id="d4720-363">Si experimenta problemas con los proyectos de servicio en la nube, como un rol que se queda bloqueado en un estado "ocupado", se recicla repetidamente o produce un error interno del servidor, existen herramientas y técnicas que puede usar toodiagnose y corregir estos problemas.</span><span class="sxs-lookup"><span data-stu-id="d4720-363">If you experience problems with your cloud service projects, such as a role that gets stuck in a "busy" status, repeatedly recycles, or throws an internal server error, there are tools and techniques you can use toodiagnose and fix these problems.</span></span> <span data-ttu-id="d4720-364">Para ver ejemplos específicos de problemas comunes y soluciones, así como información general de conceptos de Hola y herramientas usa toodiagnose y corregir estos errores, vea [Azure PaaS Compute Diagnostics Data](http://blogs.msdn.com/b/kwill/archive/2013/08/09/windows-azure-paas-compute-diagnostics-data.aspx).</span><span class="sxs-lookup"><span data-stu-id="d4720-364">For specific examples of common problems and solutions, as well as an overview of hello concepts and tools used toodiagnose and fix such errors, see [Azure PaaS Compute Diagnostics Data](http://blogs.msdn.com/b/kwill/archive/2013/08/09/windows-azure-paas-compute-diagnostics-data.aspx).</span></span>

## <a name="q--a"></a><span data-ttu-id="d4720-365">Preguntas y respuestas</span><span class="sxs-lookup"><span data-stu-id="d4720-365">Q & A</span></span>
<span data-ttu-id="d4720-366">**¿Qué es el tamaño del búfer de Hola y cómo debería ser?**</span><span class="sxs-lookup"><span data-stu-id="d4720-366">**What is hello buffer size, and how large should it be?**</span></span>

<span data-ttu-id="d4720-367">En cada instancia de máquina virtual, las cuotas limitan cuántos datos de diagnóstico pueden almacenarse en el sistema de archivos local de Hola.</span><span class="sxs-lookup"><span data-stu-id="d4720-367">On each virtual machine instance, quotas limit how much diagnostic data can be stored on hello local file system.</span></span> <span data-ttu-id="d4720-368">Además, especifique un tamaño de búfer para cada tipo de datos de diagnóstico que está disponible.</span><span class="sxs-lookup"><span data-stu-id="d4720-368">In addition, you specify a buffer size for each type of diagnostic data that's available.</span></span> <span data-ttu-id="d4720-369">Este tamaño de búfer actúa como una cuota individual para ese tipo de datos.</span><span class="sxs-lookup"><span data-stu-id="d4720-369">This buffer size acts like an individual quota for that type of data.</span></span> <span data-ttu-id="d4720-370">Comprobando la parte inferior de Hola Hola del cuadro de diálogo, puede determinar Hola cuota total y cantidad de Hola de memoria que queda.</span><span class="sxs-lookup"><span data-stu-id="d4720-370">By checking hello bottom of hello dialog box, you can determine hello overall quota and hello amount of memory that remains.</span></span> <span data-ttu-id="d4720-371">Si se especifican búferes mayores o más tipos de datos, se alcanzará Hola cuota total.</span><span class="sxs-lookup"><span data-stu-id="d4720-371">If you specify larger buffers or more types of data, you'll approach hello overall quota.</span></span> <span data-ttu-id="d4720-372">Puede cambiar Hola cuota total modificando el archivo de configuración de hello diagnostics.wadcfg/.wadcfgx.</span><span class="sxs-lookup"><span data-stu-id="d4720-372">You can change hello overall quota by modifying hello diagnostics.wadcfg/.wadcfgx configuration file.</span></span> <span data-ttu-id="d4720-373">datos se almacenan en el diagnóstico de Hola Hola mismo sistema de archivos como datos de la aplicación, por lo que si la aplicación utiliza una gran cantidad de espacio en disco, no se incrementa Hola cuota de diagnóstico total.</span><span class="sxs-lookup"><span data-stu-id="d4720-373">hello diagnostics data is stored on hello same filesystem as your application’s data, so if your application uses a lot of disk space, you shouldn’t increase hello overall diagnostics quota.</span></span>

<span data-ttu-id="d4720-374">**¿Cuál es el período de transferencia de Hola y cuánto tiempo debería ser?**</span><span class="sxs-lookup"><span data-stu-id="d4720-374">**What is hello transfer period, and how long should it be?**</span></span>

<span data-ttu-id="d4720-375">período de transferencia de Hello es la cantidad de Hola de tiempo que transcurre entre los datos de captura.</span><span class="sxs-lookup"><span data-stu-id="d4720-375">hello transfer period is hello amount of time that elapses between data captures.</span></span> <span data-ttu-id="d4720-376">Después de cada período de transferencia, los datos se mueven desde el sistema de archivos local de hello en una máquina virtual tootables en su cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="d4720-376">After each transfer period, data is moved from hello local filesystem on a virtual machine tootables in your storage account.</span></span> <span data-ttu-id="d4720-377">Si cantidad Hola de datos que se recopilan supera la cuota de hello antes del fin Hola de un período de transferencia, se descartan los datos más antiguos.</span><span class="sxs-lookup"><span data-stu-id="d4720-377">If hello amount of data that's collected exceeds hello quota before hello end of a transfer period, older data is discarded.</span></span> <span data-ttu-id="d4720-378">Conviene período de transferencia de hello toodecrease si pierde datos porque los datos superan el tamaño del búfer de Hola u Hola cuota total.</span><span class="sxs-lookup"><span data-stu-id="d4720-378">You might want toodecrease hello transfer period if you're losing data because your data exceeds hello buffer size or hello overall quota.</span></span>

<span data-ttu-id="d4720-379">**¿Qué zona horaria son Hola marcas de tiempo en?**</span><span class="sxs-lookup"><span data-stu-id="d4720-379">**What time zone are hello time stamps in?**</span></span>

<span data-ttu-id="d4720-380">marcas de tiempo de Hello están en la zona horaria local Hola Hola del centro de datos que hospeda el servicio de nube.</span><span class="sxs-lookup"><span data-stu-id="d4720-380">hello time stamps are in hello local time zone of hello data center that hosts your cloud service.</span></span> <span data-ttu-id="d4720-381">Hello siguientes tres columnas de marca de tiempo en tablas de registro de hello se utilizan.</span><span class="sxs-lookup"><span data-stu-id="d4720-381">hello following three timestamp columns in hello log tables are used.</span></span>

* <span data-ttu-id="d4720-382">**PreciseTimeStamp** es Hola ETW marca de tiempo del evento de Hola.</span><span class="sxs-lookup"><span data-stu-id="d4720-382">**PreciseTimeStamp** is hello ETW timestamp of hello event.</span></span> <span data-ttu-id="d4720-383">Es decir, se registra el evento de Hola de tiempo de Hola desde el cliente de Hola.</span><span class="sxs-lookup"><span data-stu-id="d4720-383">That is, hello time hello event is logged from hello client.</span></span>
* <span data-ttu-id="d4720-384">**Marca de tiempo** es PreciseTimeStamp redondeado hacia abajo toohello límite de frecuencia de carga.</span><span class="sxs-lookup"><span data-stu-id="d4720-384">**TIMESTAMP** is PreciseTimeStamp rounded down toohello upload frequency boundary.</span></span> <span data-ttu-id="d4720-385">Por lo tanto, si la frecuencia de carga es 5 minutos y eventos de hello hora 00:17:12, marca de tiempo será 00:15:00.</span><span class="sxs-lookup"><span data-stu-id="d4720-385">So, if your upload frequency is 5 minutes and hello event time 00:17:12, TIMESTAMP will be 00:15:00.</span></span>
* <span data-ttu-id="d4720-386">**Marca de tiempo** es marca de tiempo de hello en qué Hola entidad creada en hello tabla de Azure.</span><span class="sxs-lookup"><span data-stu-id="d4720-386">**Timestamp** is hello timestamp at which hello entity was created in hello Azure table.</span></span>

<span data-ttu-id="d4720-387">**¿Cómo administrar los costos al recopilar información de diagnóstico?**</span><span class="sxs-lookup"><span data-stu-id="d4720-387">**How do I manage costs when collecting diagnostic information?**</span></span>

<span data-ttu-id="d4720-388">Hola configuración predeterminada (**nivel de registro** establecido demasiado**Error** y **período de transferencia** establecido demasiado**1 minuto**) están diseñada toominimize costo.</span><span class="sxs-lookup"><span data-stu-id="d4720-388">hello default settings (**Log level** set too**Error** and **Transfer period** set too**1 minute**) are designed toominimize cost.</span></span> <span data-ttu-id="d4720-389">Sus gastos de proceso aumentará si recopilar más datos de diagnóstico o reducir el período de transferencia de Hola.</span><span class="sxs-lookup"><span data-stu-id="d4720-389">Your compute costs will increase if you collect more diagnostic data or decrease hello transfer period.</span></span> <span data-ttu-id="d4720-390">No recopile más datos de los que necesita y no olvide toodisable la recopilación de datos cuando ya no lo necesite.</span><span class="sxs-lookup"><span data-stu-id="d4720-390">Don’t collect more data than you need, and don’t forget toodisable data collection when you no longer need it.</span></span> <span data-ttu-id="d4720-391">Puede siempre habilitarlo de nuevo, incluso en tiempo de ejecución, como se muestra en la sección anterior de Hola.</span><span class="sxs-lookup"><span data-stu-id="d4720-391">You can always enable it again, even at runtime, as shown in hello previous section.</span></span>

<span data-ttu-id="d4720-392">**¿Cómo recopilo registros de solicitudes con error de IIS?**</span><span class="sxs-lookup"><span data-stu-id="d4720-392">**How do I collect failed-request logs from IIS?**</span></span>

<span data-ttu-id="d4720-393">De forma predeterminada, IIS no recopila registros de solicitud con error.</span><span class="sxs-lookup"><span data-stu-id="d4720-393">By default, IIS doesn’t collect failed-request logs.</span></span> <span data-ttu-id="d4720-394">Puede configurar toocollect IIS ellos si edita Hola archivo web.config para su rol web.</span><span class="sxs-lookup"><span data-stu-id="d4720-394">You can configure IIS toocollect them if you edit hello web.config file for your web role.</span></span>

<span data-ttu-id="d4720-395">**No estoy obteniendo información de seguimiento desde métodos RoleEntryPoint como OnStart. ¿Cuál es el problema?**</span><span class="sxs-lookup"><span data-stu-id="d4720-395">**I’m not getting trace information from RoleEntryPoint methods like OnStart. What’s wrong?**</span></span>

<span data-ttu-id="d4720-396">métodos de Hola de RoleEntryPoint se invocan en el contexto de Hola de WAIISHost.exe, no IIS.</span><span class="sxs-lookup"><span data-stu-id="d4720-396">hello methods of RoleEntryPoint are called in hello context of WAIISHost.exe, not IIS.</span></span> <span data-ttu-id="d4720-397">Por lo tanto, Hola información de configuración en el archivo web.config que normalmente no se aplica habilita la traza.</span><span class="sxs-lookup"><span data-stu-id="d4720-397">Therefore, hello configuration information in web.config that normally enables tracing doesn’t apply.</span></span> <span data-ttu-id="d4720-398">tooresolve este problema, agregue un proyecto de rol .config archivo tooyour web y nombre hello archivo toomatch Hola ensamblado de salida que contiene código de hello RoleEntryPoint.</span><span class="sxs-lookup"><span data-stu-id="d4720-398">tooresolve this issue, add a .config file tooyour web role project, and name hello file toomatch hello output assembly that contains hello RoleEntryPoint code.</span></span> <span data-ttu-id="d4720-399">En el proyecto de rol web de hello predeterminado el nombre de hello del archivo .config de hello sería WAIISHost.exe.config. A continuación, agregue Hola líneas toothis archivo siguiente:</span><span class="sxs-lookup"><span data-stu-id="d4720-399">In hello default web role project, hello name of hello .config file would be WAIISHost.exe.config. Then add hello following lines toothis file:</span></span>

```
<system.diagnostics>
  <trace>
      <listeners>
          <add name “AzureDiagnostics” type=”Microsoft.WindowsAzure.Diagnostics.DiagnosticMonitorTraceListener”>
              <filter type=”” />
          </add>
      </listeners>
  </trace>
</system.diagnostics>
```

<span data-ttu-id="d4720-400">Ahora, en hello **propiedades** (ventana), conjunto hello **copiar tooOutput directorio** propiedad demasiado**copiar siempre**.</span><span class="sxs-lookup"><span data-stu-id="d4720-400">Now, in hello **Properties** window, set hello **Copy tooOutput Directory** property too**Copy always**.</span></span>

## <a name="next-steps"></a><span data-ttu-id="d4720-401">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="d4720-401">Next steps</span></span>
<span data-ttu-id="d4720-402">toolearn más información acerca de los diagnósticos de registro en Azure, consulte [habilitar diagnósticos en servicios en la nube y máquinas virtuales](cloud-services/cloud-services-dotnet-diagnostics.md) y [habilitar el registro de diagnósticos para aplicaciones web en el servicio de aplicaciones de Azure](app-service-web/web-sites-enable-diagnostic-log.md).</span><span class="sxs-lookup"><span data-stu-id="d4720-402">toolearn more about diagnostics logging in Azure, see [Enabling Diagnostics in Azure Cloud Services and Virtual Machines](cloud-services/cloud-services-dotnet-diagnostics.md) and [Enable diagnostics logging for web apps in Azure App Service](app-service-web/web-sites-enable-diagnostic-log.md).</span></span>

