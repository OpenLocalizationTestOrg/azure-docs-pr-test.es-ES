---
title: "aaaAccess aplicación YARN de Hadoop mediante programación - registros de Azure | Documentos de Microsoft"
description: "La aplicación de Access se registra mediante programación en un clúster de Hadoop en HDInsight."
services: hdinsight
documentationcenter: 
tags: azure-portal
author: mumian
manager: jhubbard
editor: cgronlun
ms.assetid: 0198d6c9-7767-4682-bd34-42838cf48fc5
ms.service: hdinsight
ms.workload: big-data
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/25/2017
ms.author: jgao
ROBOTS: NOINDEX
ms.openlocfilehash: 064efee1ea6a864c29ab897692ead0152c926c0b
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="access-yarn-application-logs-on-windows-based-hdinsight"></a><span data-ttu-id="1dd9e-103">Acceso a registros de aplicación de YARN en HDInsight basado en Windows</span><span class="sxs-lookup"><span data-stu-id="1dd9e-103">Access YARN application logs on Windows-based HDInsight</span></span>
<span data-ttu-id="1dd9e-104">Este tema explica cómo tooaccess Hola registros para las aplicaciones de YARN (aún otro negociador de recursos) que se hayan terminado en un clúster basado en Windows Hadoop en HDInsight de Azure</span><span class="sxs-lookup"><span data-stu-id="1dd9e-104">This topic explains how tooaccess hello logs for YARN (Yet Another Resource Negotiator) applications that have finished on a Windows-based Hadoop cluster in Azure HDInsight</span></span>

> [!IMPORTANT]
> <span data-ttu-id="1dd9e-105">información de Hello en este documento aplica según tooWindows solo clústeres de HDInsight.</span><span class="sxs-lookup"><span data-stu-id="1dd9e-105">hello information in this document applies only tooWindows-based HDInsight clusters.</span></span> <span data-ttu-id="1dd9e-106">Linux es Hola único sistema operativo usado en HDInsight versión 3.4 o superior.</span><span class="sxs-lookup"><span data-stu-id="1dd9e-106">Linux is hello only operating system used on HDInsight version 3.4 or greater.</span></span> <span data-ttu-id="1dd9e-107">Consulte la información sobre la [retirada de HDInsight en Windows](hdinsight-component-versioning.md#hdinsight-windows-retirement).</span><span class="sxs-lookup"><span data-stu-id="1dd9e-107">For more information, see [HDInsight retirement on Windows](hdinsight-component-versioning.md#hdinsight-windows-retirement).</span></span> <span data-ttu-id="1dd9e-108">Para obtener información sobre cómo acceder a registros de YARN en clústeres de HDInsight basados en Linux, vea [Acceso a registros de aplicación de YARN en Hadoop basado en Linux en HDInsight](hdinsight-hadoop-access-yarn-app-logs-linux.md)</span><span class="sxs-lookup"><span data-stu-id="1dd9e-108">For information on accessing YARN logs on Linux-based HDInsight clusters, see [Access YARN application logs on Linux-based Hadoop on HDInsight](hdinsight-hadoop-access-yarn-app-logs-linux.md)</span></span>
>


### <a name="prerequisites"></a><span data-ttu-id="1dd9e-109">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="1dd9e-109">Prerequisites</span></span>
* <span data-ttu-id="1dd9e-110">Un clúster de HDInsight basado en Windows</span><span class="sxs-lookup"><span data-stu-id="1dd9e-110">A Windows-based HDInsight cluster.</span></span>  <span data-ttu-id="1dd9e-111">Consulte [Creación de clústeres de Hadoop basados en Windows en HDInsight](hdinsight-hadoop-provision-linux-clusters.md).</span><span class="sxs-lookup"><span data-stu-id="1dd9e-111">See [Create Windows-based Hadoop clusters in HDInsight](hdinsight-hadoop-provision-linux-clusters.md).</span></span>

## <a name="yarn-timeline-server"></a><span data-ttu-id="1dd9e-112">Servidor de escala de tiempo de YARN</span><span class="sxs-lookup"><span data-stu-id="1dd9e-112">YARN Timeline Server</span></span>
<span data-ttu-id="1dd9e-113">Hola <a href="http://hadoop.apache.org/docs/r2.4.0/hadoop-yarn/hadoop-yarn-site/TimelineServer.html" target="_blank">YARN escala de tiempo de servidor</a> proporciona información genérica sobre aplicaciones completadas, así como framework información específica de la aplicación a través de dos interfaces diferentes.</span><span class="sxs-lookup"><span data-stu-id="1dd9e-113">hello <a href="http://hadoop.apache.org/docs/r2.4.0/hadoop-yarn/hadoop-yarn-site/TimelineServer.html" target="_blank">YARN Timeline Server</a> provides generic information on completed applications as well as framework-specific application information through two different interfaces.</span></span> <span data-ttu-id="1dd9e-114">Concretamente:</span><span class="sxs-lookup"><span data-stu-id="1dd9e-114">Specifically:</span></span>

* <span data-ttu-id="1dd9e-115">Se ha habilitado el almacenamiento y la recuperación de información de aplicaciones genéricas en clústeres de HDInsight con la versión 3.1.1.374 o superiores.</span><span class="sxs-lookup"><span data-stu-id="1dd9e-115">Storage and retrieval of generic application information on HDInsight clusters has been enabled with version 3.1.1.374 or higher.</span></span>
* <span data-ttu-id="1dd9e-116">componente de información de aplicación específica del marco de Hola de hello escala de tiempo de servidor no está disponible actualmente en clústeres de HDInsight.</span><span class="sxs-lookup"><span data-stu-id="1dd9e-116">hello framework-specific application information component of hello Timeline Server is not currently available on HDInsight clusters.</span></span>

<span data-ttu-id="1dd9e-117">Obtener información general sobre aplicaciones incluye Hola siguientes a tipos de datos:</span><span class="sxs-lookup"><span data-stu-id="1dd9e-117">Generic information on applications includes hello following sorts of data:</span></span>

* <span data-ttu-id="1dd9e-118">Identificador de la aplicación Hello, un identificador único de una aplicación</span><span class="sxs-lookup"><span data-stu-id="1dd9e-118">hello application ID, a unique identifier of an application</span></span>
* <span data-ttu-id="1dd9e-119">usuario de Hola que inició la aplicación hello</span><span class="sxs-lookup"><span data-stu-id="1dd9e-119">hello user who started hello application</span></span>
* <span data-ttu-id="1dd9e-120">Obtener información acerca de intentos realizados aplicación de hello toocomplete</span><span class="sxs-lookup"><span data-stu-id="1dd9e-120">Information on attempts made toocomplete hello application</span></span>
* <span data-ttu-id="1dd9e-121">contenedores de Hello utilizados por cualquier intento de aplicación determinada</span><span class="sxs-lookup"><span data-stu-id="1dd9e-121">hello containers used by any given application attempt</span></span>

<span data-ttu-id="1dd9e-122">En los clústeres de HDInsight, esta información se almacenarán en tienda de Azure Resource Manager tooa historial en contenedor de hello predeterminado de la cuenta de almacenamiento de Azure de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="1dd9e-122">On your HDInsight clusters, this information will be stored by Azure Resource Manager tooa history store in hello default container of your default Azure Storage account.</span></span> <span data-ttu-id="1dd9e-123">Estos datos genéricos sobre aplicaciones completadas se pueden recuperar a través de una API de REST:</span><span class="sxs-lookup"><span data-stu-id="1dd9e-123">This generic data on completed applications can be retrieved through a REST API:</span></span>

    GET on https://<cluster-dns-name>.azurehdinsight.net/ws/v1/applicationhistory/apps


## <a name="yarn-applications-and-logs"></a><span data-ttu-id="1dd9e-124">Registros y aplicaciones de YARN</span><span class="sxs-lookup"><span data-stu-id="1dd9e-124">YARN applications and logs</span></span>
<span data-ttu-id="1dd9e-125">YARN admite varios modelos de programación (MapReduce es uno de ellos) al desacoplar la administración de recursos de la programación/supervisión de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="1dd9e-125">YARN supports multiple programming models (MapReduce being one of them) by decoupling resource management from application scheduling/monitoring.</span></span> <span data-ttu-id="1dd9e-126">Esto se realiza mediante un *Resource Manager* (RM) global, por nodo de trabajo *Administradores de nodos* (NM) y por aplicación *Maestros de aplicación* (AM).</span><span class="sxs-lookup"><span data-stu-id="1dd9e-126">This is done through a global *ResourceManager* (RM), per-worker-node *NodeManagers* (NMs), and per-application *ApplicationMasters* (AMs).</span></span> <span data-ttu-id="1dd9e-127">Hello por aplicación AM negocia recursos (CPU, memoria, disco, red) para ejecutar la aplicación con RM de Hola.</span><span class="sxs-lookup"><span data-stu-id="1dd9e-127">hello per-application AM negotiates resources (CPU, memory, disk, network) for running your application with hello RM.</span></span> <span data-ttu-id="1dd9e-128">Hola RM funciona con NMs toogrant estos recursos, que se le conceden como *contenedores*.</span><span class="sxs-lookup"><span data-stu-id="1dd9e-128">hello RM works with NMs toogrant these resources, which are granted as *containers*.</span></span> <span data-ttu-id="1dd9e-129">Hola AM es responsable de seguimiento del progreso de Hola de hello tooit de contenedores asignados por RM de Hola.</span><span class="sxs-lookup"><span data-stu-id="1dd9e-129">hello AM is responsible for tracking hello progress of hello containers assigned tooit by hello RM.</span></span> <span data-ttu-id="1dd9e-130">Una aplicación puede requerir muchos contenedores según la naturaleza de Hola de aplicación hello.</span><span class="sxs-lookup"><span data-stu-id="1dd9e-130">An application may require many containers depending on hello nature of hello application.</span></span>

<span data-ttu-id="1dd9e-131">Además, cada aplicación puede constar de varios *aplicación intentos* en orden toofinish en presencia de Hola de bloqueos o toohello pérdida de comunicación entre un AM y un RM.</span><span class="sxs-lookup"><span data-stu-id="1dd9e-131">Furthermore, each application may consist of multiple *application attempts* in order toofinish in hello presence of crashes or due toohello loss of communication between an AM and an RM.</span></span> <span data-ttu-id="1dd9e-132">Por lo tanto, los contenedores se conceden tooa intento específico de una aplicación.</span><span class="sxs-lookup"><span data-stu-id="1dd9e-132">Hence, containers are granted tooa specific attempt of an application.</span></span> <span data-ttu-id="1dd9e-133">En un sentido, un contenedor proporciona el contexto de hello para la unidad básica del trabajo realizado por una aplicación de YARN y todo el trabajo que se realiza en contexto de Hola de un contenedor se realiza en el nodo de trabajo único de hello en qué Hola se asignó el contenedor.</span><span class="sxs-lookup"><span data-stu-id="1dd9e-133">In a sense, a container provides hello context for basic unit of work performed by a YARN application, and all work that is done within hello context of a container is performed on hello single worker node on which hello container was allocated.</span></span> <span data-ttu-id="1dd9e-134">Consulte [Conceptos de YARN][YARN-concepts] como referencia adicional.</span><span class="sxs-lookup"><span data-stu-id="1dd9e-134">See [YARN Concepts][YARN-concepts] for further reference.</span></span>

<span data-ttu-id="1dd9e-135">Registros de aplicación (y registros de contenedor de hello asociado) son fundamentales en la depuración de aplicaciones de Hadoop problemáticas.</span><span class="sxs-lookup"><span data-stu-id="1dd9e-135">Application logs (and hello associated container logs) are critical in debugging problematic Hadoop applications.</span></span> <span data-ttu-id="1dd9e-136">YARN proporciona un marco "nice" para recopilar, agregar y almacenar los registros de aplicación con hello [registro agregación] [ log-aggregation] característica.</span><span class="sxs-lookup"><span data-stu-id="1dd9e-136">YARN provides a nice framework for collecting, aggregating, and storing application logs with hello [Log Aggregation][log-aggregation] feature.</span></span> <span data-ttu-id="1dd9e-137">función de agregación de registro de Hello hace acceso a registros de aplicaciones más determinista, ya que agrega registros en todos los contenedores en un nodo de trabajo y almacena como un archivo registro agregado por nodo de trabajo en el sistema de archivos predeterminado de hello una vez finalizada una aplicación.</span><span class="sxs-lookup"><span data-stu-id="1dd9e-137">hello Log Aggregation feature makes accessing application logs more deterministic, as it aggregates logs across all containers on a worker node and stores them as one aggregated log file per worker node on hello default file system after an application finishes.</span></span> <span data-ttu-id="1dd9e-138">La aplicación puede usar cientos o miles de contenedores, pero registros para todos los contenedores que se ejecute en un nodo de trabajo único siempre será tooa agregado archivos únicos, lo que da lugar a un archivo de registro por cada nodo de trabajo utilizado por la aplicación.</span><span class="sxs-lookup"><span data-stu-id="1dd9e-138">Your application may use hundreds or thousands of containers, but logs for all containers run on a single worker node will always be aggregated tooa single file, resulting in one log file per worker node used by your application.</span></span> <span data-ttu-id="1dd9e-139">Agregación de registro está habilitado de forma predeterminada en los clústeres de HDInsight (versión 3.0 y versiones posteriores), y registros agregados pueden encontrarse en el contenedor de hello predeterminado del clúster en hello ubicación siguiente:</span><span class="sxs-lookup"><span data-stu-id="1dd9e-139">Log Aggregation is enabled by default on HDInsight clusters (version 3.0 and above), and aggregated logs can be found in hello default container of your cluster at hello following location:</span></span>

    wasb:///app-logs/<user>/logs/<applicationId>

<span data-ttu-id="1dd9e-140">En esa ubicación, *usuario* es Hola nombre de usuario de Hola que inició la aplicación hello, y *applicationId* es el identificador único de Hola de una aplicación tal como lo asignó hello YARN RM</span><span class="sxs-lookup"><span data-stu-id="1dd9e-140">In that location, *user* is hello name of hello user who started hello application, and *applicationId* is hello unique identifier of an application as assigned by hello YARN RM.</span></span>

<span data-ttu-id="1dd9e-141">Hello registros agregados no son directamente legibles, tal y como se escriben un [TFile][T-file], [formato binario] [ binary-format] indizado por contenedor.</span><span class="sxs-lookup"><span data-stu-id="1dd9e-141">hello aggregated logs are not directly readable, as they are written in a [TFile][T-file], [binary format][binary-format] indexed by container.</span></span> <span data-ttu-id="1dd9e-142">YARN proporciona CLI herramientas toodump estos registros como texto sin formato para las aplicaciones o contenedores de interés.</span><span class="sxs-lookup"><span data-stu-id="1dd9e-142">YARN provides CLI tools toodump these logs as plain text for applications or containers of interest.</span></span> <span data-ttu-id="1dd9e-143">Puede ver estos registros como texto sin formato, ejecute uno de hello siga los comandos YARN directamente en nodos de clúster de hello (después de conectarse tooit a través de RDP):</span><span class="sxs-lookup"><span data-stu-id="1dd9e-143">You can view these logs as plain text by running one of hello following YARN commands directly on hello cluster nodes (after connecting tooit through RDP):</span></span>

    yarn logs -applicationId <applicationId> -appOwner <user-who-started-the-application>
    yarn logs -applicationId <applicationId> -appOwner <user-who-started-the-application> -containerId <containerId> -nodeAddress <worker-node-address>


## <a name="yarn-resourcemanager-ui"></a><span data-ttu-id="1dd9e-144">Interfaz de usuario de ResourceManager de YARN</span><span class="sxs-lookup"><span data-stu-id="1dd9e-144">YARN ResourceManager UI</span></span>
<span data-ttu-id="1dd9e-145">Hola YARN ResourceManager UI se ejecuta en el nodo principal del clúster de Hola y son accesibles a través de hello Azure panel del portal:</span><span class="sxs-lookup"><span data-stu-id="1dd9e-145">hello YARN ResourceManager UI runs on hello cluster headnode, and can be accessed through hello Azure portal dashboard:</span></span>

1. <span data-ttu-id="1dd9e-146">Inicie sesión en demasiado[portal de Azure](https://portal.azure.com/).</span><span class="sxs-lookup"><span data-stu-id="1dd9e-146">Sign in too[Azure portal](https://portal.azure.com/).</span></span>
2. <span data-ttu-id="1dd9e-147">En el menú de la izquierda hello, haga clic en **examinar**, haga clic en **clústeres de HDInsight**, haga clic en un clúster basado en Windows que desea tooaccess Hola YARN registros de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="1dd9e-147">On hello left menu, click **Browse**, click **HDInsight Clusters**, click a Windows-based cluster that you want tooaccess hello YARN application logs.</span></span>
3. <span data-ttu-id="1dd9e-148">En el menú superior de hello, haga clic en **panel**.</span><span class="sxs-lookup"><span data-stu-id="1dd9e-148">On hello top menu, click **Dashboard**.</span></span> <span data-ttu-id="1dd9e-149">Verá una página abierta en una nueva pestaña del explorador denominada **Consola de consultas de HDInsight**.</span><span class="sxs-lookup"><span data-stu-id="1dd9e-149">You will see a page opened on a new browser tab called **HDInsight Query Console**.</span></span>
4. <span data-ttu-id="1dd9e-150">Desde **Consola de consultas de HDInsight**, haga clic en **IU de YARN**.</span><span class="sxs-lookup"><span data-stu-id="1dd9e-150">From **HDInsight Query Console**, click **Yarn UI**.</span></span>

[YARN-timeline-server]:http://hadoop.apache.org/docs/r2.4.0/hadoop-yarn/hadoop-yarn-site/TimelineServer.html
[log-aggregation]:http://hortonworks.com/blog/simplifying-user-logs-management-and-access-in-yarn/
[T-file]:https://issues.apache.org/jira/secure/attachment/12396286/TFile%20Specification%2020081217.pdf
[binary-format]:https://issues.apache.org/jira/browse/HADOOP-3315
[YARN-concepts]:http://hortonworks.com/blog/apache-hadoop-yarn-concepts-and-applications/
