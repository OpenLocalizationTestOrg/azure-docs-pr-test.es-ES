---
title: "Uso de varios clústeres de HDInsight con una cuenta de Azure Data Lake Store (Azure) | Microsoft Docs"
description: "Obtenga información sobre cómo usar más de un clúster de HDInsight con una sola cuenta de Data Lake Store"
keywords: almacenamiento para hdinsight,hdfs,datos estructurados,datos no estructurados, data lake store
services: hdinsight,storage
documentationcenter: 
tags: azure-portal
author: nitinme
manager: jhubbard
editor: cgronlun
ms.service: hdinsight
ms.custom: hdinsightactive
ms.workload: big-data
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/02/2017
ms.author: nitinme
ms.openlocfilehash: 043141e8496a947f54564d29a1d7fb724fac5cda
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 07/11/2017
---
# <a name="use-multiple-hdinsight-clusters-with-an-azure-data-lake-store-account"></a><span data-ttu-id="e2401-104">Uso de varios clústeres de HDInsight con una cuenta de Azure Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="e2401-104">Use multiple HDInsight clusters with an Azure Data Lake Store account</span></span>

<span data-ttu-id="e2401-105">A partir de la HDInsight 3.5, puede crear clústeres de HDInsight con cuentas de Azure Data Lake Store como el sistema de archivos predeterminado.</span><span class="sxs-lookup"><span data-stu-id="e2401-105">Starting with HDInsight version 3.5, you can create HDInsight clusters with  Azure Data Lake Store accounts as the default filesystem.</span></span>
<span data-ttu-id="e2401-106">Data Lake Store admite almacenamiento ilimitado, lo cual es idóneo no solo para hospedar grandes cantidades de datos, sino también para hospedar varios clústeres de HDInsight que compartan una única cuenta de Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="e2401-106">Data Lake Store supports unlimited storage that makes it ideal not only for hosting large amounts of data; but also for hosting multiple HDInsight clusters that share a single Data Lake Store Account.</span></span> <span data-ttu-id="e2401-107">Para obtener instrucciones sobre cómo crear un clúster de HDInsight con Data Lake Store como almacenamiento, consulte [Creación de un clúster de HDInsight con Data Lake Store mediante Azure Portal](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md).</span><span class="sxs-lookup"><span data-stu-id="e2401-107">For instructionson how to create an HDInsight cluster with Data Lake Store as the storage, see [Create HDInsight clusters with Data Lake Store](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md).</span></span>

<span data-ttu-id="e2401-108">Este artículo se proporcionan recomendaciones para que el administrador de Data Lake Store configure una única cuenta compartida de Data Lake Store que pueda usarse en varios clústeres **activos** de HDInsight.</span><span class="sxs-lookup"><span data-stu-id="e2401-108">This article provides recommendations to the Data Lake store administrator for setting up a single and shared Data Lake Store Account that can be used across multiple **active** HDInsight clusters.</span></span> <span data-ttu-id="e2401-109">Estas recomendaciones se aplican al hospedaje de varios clústeres de Hadoop seguros y no seguros en una cuenta compartida de Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="e2401-109">These recommendations apply to hosting multiple secure as well as non-secure Hadoop clusters on a shared Data Lake store account.</span></span>


## <a name="data-lake-store-file-and-folder-level-acls"></a><span data-ttu-id="e2401-110">ACL de nivel de archivo y carpeta de Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="e2401-110">Data Lake Store file and folder level ACLs</span></span>

<span data-ttu-id="e2401-111">El resto de este artículo da por supuesto que tiene un conocimiento profundo de ACL de nivel de archivo y carpeta en Azure Data Lake Store, que se describe en detalle en [Control de acceso en Azure Data Lake Store](../data-lake-store/data-lake-store-access-control.md).</span><span class="sxs-lookup"><span data-stu-id="e2401-111">The rest of this article assumes that you have a good knowledge of file and folder level ACLs in Azure Data Lake Store, which is described in detail at [Access control in Azure Data Lake Store](../data-lake-store/data-lake-store-access-control.md).</span></span>

## <a name="data-lake-store-setup-for-multiple-hdinsight-clusters"></a><span data-ttu-id="e2401-112">Configuración de Data Lake Store para varios clústeres de HDInsight</span><span class="sxs-lookup"><span data-stu-id="e2401-112">Data Lake Store setup for multiple HDInsight clusters</span></span>
<span data-ttu-id="e2401-113">Empecemos por una jerarquía de carpetas de dos niveles para explicar las recomendaciones de uso de varios clústeres de HDInsight con una cuenta de Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="e2401-113">Let us take a two-level folder hierarchy to explain the recommendations for using mutilple HDInsight clusters with a Data Lake Store account.</span></span> <span data-ttu-id="e2401-114">Supongamos que tiene una cuenta de Data Lake Store con la estructura de carpetas **/clusters/finance**.</span><span class="sxs-lookup"><span data-stu-id="e2401-114">Consider you have a Data Lake Store account with the folder structure **/clusters/finance**.</span></span> <span data-ttu-id="e2401-115">Con esta estructura, todos los clústeres requeridos por la organización de Finanzas pueden usar /clusters/finance como la ubicación de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="e2401-115">With this structure, all the clusters required by the Finance organization can use /clusters/finance as the storage location.</span></span> <span data-ttu-id="e2401-116">En el futuro, si otra organización (por ejemplo, Marketing) desea crear clústeres de HDInsight con la misma cuenta de Data Lake Store, podría crear /clusters/marketing.</span><span class="sxs-lookup"><span data-stu-id="e2401-116">In the future, if another organization, say Marketing, wants to create HDInsight clusters using the same Data Lake Store account, they could create /clusters/marketing.</span></span> <span data-ttu-id="e2401-117">De momento, usaremos simplemente **/clusters/finance**.</span><span class="sxs-lookup"><span data-stu-id="e2401-117">For now, let's just use **/clusters/finance**.</span></span>

<span data-ttu-id="e2401-118">Para que los clústeres de HDInsight puedan utilizar esta estructura de carpetas eficazmente, el administrador de Data Lake Store debe asignar los permisos adecuados, tal como se describe en la tabla.</span><span class="sxs-lookup"><span data-stu-id="e2401-118">To enable this folder structure to be effectively used by HDInsight clusters, the Data Lake Store administrator must assign appropriate permissions, as described in the table.</span></span> <span data-ttu-id="e2401-119">Los permisos mostrados en la tabla corresponden a las ACL de acceso, y no a las ACL predeterminadas.</span><span class="sxs-lookup"><span data-stu-id="e2401-119">The permissions shown in the table correspond to Access-ACLs, and not Default-ACLs.</span></span> 


|<span data-ttu-id="e2401-120">Carpeta</span><span class="sxs-lookup"><span data-stu-id="e2401-120">Folder</span></span>  |<span data-ttu-id="e2401-121">Permisos</span><span class="sxs-lookup"><span data-stu-id="e2401-121">Permissions</span></span>  |<span data-ttu-id="e2401-122">usuario propietario</span><span class="sxs-lookup"><span data-stu-id="e2401-122">Owning user</span></span>  |<span data-ttu-id="e2401-123">grupo propietario</span><span class="sxs-lookup"><span data-stu-id="e2401-123">Owning group</span></span>  | <span data-ttu-id="e2401-124">Usuario con nombre</span><span class="sxs-lookup"><span data-stu-id="e2401-124">Named user</span></span> | <span data-ttu-id="e2401-125">Permisos de usuario con nombre</span><span class="sxs-lookup"><span data-stu-id="e2401-125">Named user permissions</span></span> | <span data-ttu-id="e2401-126">Grupo con nombre</span><span class="sxs-lookup"><span data-stu-id="e2401-126">Named group</span></span> | <span data-ttu-id="e2401-127">Permisos de grupo con nombre</span><span class="sxs-lookup"><span data-stu-id="e2401-127">Named group permissions</span></span> |
|---------|---------|---------|---------|---------|---------|---------|---------|
|/ | <span data-ttu-id="e2401-128">rwxr-x--x</span><span class="sxs-lookup"><span data-stu-id="e2401-128">rwxr-x--x</span></span>  |<span data-ttu-id="e2401-129">admin</span><span class="sxs-lookup"><span data-stu-id="e2401-129">admin</span></span> |<span data-ttu-id="e2401-130">admin</span><span class="sxs-lookup"><span data-stu-id="e2401-130">admin</span></span>  |<span data-ttu-id="e2401-131">Entidad de servicio</span><span class="sxs-lookup"><span data-stu-id="e2401-131">Service principal</span></span> |<span data-ttu-id="e2401-132">--x</span><span class="sxs-lookup"><span data-stu-id="e2401-132">--x</span></span>  |<span data-ttu-id="e2401-133">FINGRP</span><span class="sxs-lookup"><span data-stu-id="e2401-133">FINGRP</span></span>   |<span data-ttu-id="e2401-134">r-x</span><span class="sxs-lookup"><span data-stu-id="e2401-134">r-x</span></span>         |
|<span data-ttu-id="e2401-135">/clusters</span><span class="sxs-lookup"><span data-stu-id="e2401-135">/clusters</span></span> | <span data-ttu-id="e2401-136">rwxr-x--x</span><span class="sxs-lookup"><span data-stu-id="e2401-136">rwxr-x--x</span></span> |<span data-ttu-id="e2401-137">admin</span><span class="sxs-lookup"><span data-stu-id="e2401-137">admin</span></span> |<span data-ttu-id="e2401-138">admin</span><span class="sxs-lookup"><span data-stu-id="e2401-138">admin</span></span> |<span data-ttu-id="e2401-139">Entidad de servicio</span><span class="sxs-lookup"><span data-stu-id="e2401-139">Service principal</span></span> |<span data-ttu-id="e2401-140">--x</span><span class="sxs-lookup"><span data-stu-id="e2401-140">--x</span></span>  |<span data-ttu-id="e2401-141">FINGRP</span><span class="sxs-lookup"><span data-stu-id="e2401-141">FINGRP</span></span> |<span data-ttu-id="e2401-142">r-x</span><span class="sxs-lookup"><span data-stu-id="e2401-142">r-x</span></span>         |
|<span data-ttu-id="e2401-143">/clusters/finance</span><span class="sxs-lookup"><span data-stu-id="e2401-143">/clusters/finance</span></span> | <span data-ttu-id="e2401-144">rwxr-x--t</span><span class="sxs-lookup"><span data-stu-id="e2401-144">rwxr-x--t</span></span> |<span data-ttu-id="e2401-145">admin</span><span class="sxs-lookup"><span data-stu-id="e2401-145">admin</span></span> |<span data-ttu-id="e2401-146">FINGRP</span><span class="sxs-lookup"><span data-stu-id="e2401-146">FINGRP</span></span>  |<span data-ttu-id="e2401-147">Entidad de servicio</span><span class="sxs-lookup"><span data-stu-id="e2401-147">Service principal</span></span> |<span data-ttu-id="e2401-148">rwx</span><span class="sxs-lookup"><span data-stu-id="e2401-148">rwx</span></span>  |-  |-     |

<span data-ttu-id="e2401-149">En la tabla,</span><span class="sxs-lookup"><span data-stu-id="e2401-149">In the table,</span></span>

- <span data-ttu-id="e2401-150">**admin** es el creador y el administrador de la cuenta de Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="e2401-150">**admin** is the creator and administrator of the Data Lake Store account.</span></span>
- <span data-ttu-id="e2401-151">**Entidad de servicio** es la entidad de servicio de Azure Active Directory (AAD) asociada a la cuenta.</span><span class="sxs-lookup"><span data-stu-id="e2401-151">**Service principal** is the Azure Active Directory (AAD) service principal associated with the account.</span></span>
- <span data-ttu-id="e2401-152">**FINGRP** es un grupo de usuarios creado en AAD que contiene usuarios de la organización de Finanzas.</span><span class="sxs-lookup"><span data-stu-id="e2401-152">**FINGRP** is a user group created in AAD that contains users from the Finance organization.</span></span>

<span data-ttu-id="e2401-153">Para obtener instrucciones sobre cómo crear una aplicación de AAD (que también crea una entidad de servicio), consulte [Creación de una aplicación de Azure Active Directory](../azure-resource-manager/resource-group-create-service-principal-portal.md#create-an-azure-active-directory-application).</span><span class="sxs-lookup"><span data-stu-id="e2401-153">For instructions on how to create an AAD application (that also creates a Service Principal), see [Create an AAD application](../azure-resource-manager/resource-group-create-service-principal-portal.md#create-an-azure-active-directory-application).</span></span> <span data-ttu-id="e2401-154">Para obtener instrucciones sobre cómo crear un grupo de usuarios en AAD, consulte [Administración de grupos en Azure Active Directory](../active-directory/active-directory-accessmanagement-manage-groups.md).</span><span class="sxs-lookup"><span data-stu-id="e2401-154">For instructions on how to create a user group in AAD, see [Managing groups in Azure Active Directory](../active-directory/active-directory-accessmanagement-manage-groups.md).</span></span>

<span data-ttu-id="e2401-155">Algunos puntos que se deben tener en cuenta:</span><span class="sxs-lookup"><span data-stu-id="e2401-155">Some key points to consider.</span></span>

- <span data-ttu-id="e2401-156">El administrador de Data Lake Store debe crear la estructura de carpetas de dos niveles (**/clusters/finance/**) y aprovisionarla con los permisos adecuados **antes** de utilizar la cuenta de almacenamiento para clústeres.</span><span class="sxs-lookup"><span data-stu-id="e2401-156">The two level folder structure (**/clusters/finance/**) must be created and provisioned with appropriate permissions by the Data Lake Store admin **before** using the storage account for clusters.</span></span> <span data-ttu-id="e2401-157">Esta estructura no se crea automáticamente durante la creación de clústeres.</span><span class="sxs-lookup"><span data-stu-id="e2401-157">This structure is not created automatically while creating clusters.</span></span>
- <span data-ttu-id="e2401-158">El ejemplo anterior recomienda establecer el grupo propietario de **/clusters/finance** como **FINGRP** y permitir acceso **r-x** a FINGRP a la jerarquía de carpetas completa desde la raíz.</span><span class="sxs-lookup"><span data-stu-id="e2401-158">The example above recommends setting the owning group of **/clusters/finance** as **FINGRP** and permitting **r-x** access to FINGRP to the entire folder hierarchy starting from the root.</span></span> <span data-ttu-id="e2401-159">Esto garantiza que los miembros de FINGRP pueden navegar desde la raíz de la estructura de carpetas.</span><span class="sxs-lookup"><span data-stu-id="e2401-159">This ensures that the members of FINGRP can navigate the folder structure starting from root.</span></span>
- <span data-ttu-id="e2401-160">En el caso de que varias entidades de servicio de AAD puedan crear clústeres en **/clusters/finance**, el bit sticky (cuando se establece en la carpeta **finance**) garantiza que una carpeta creada por una entidad de servicio no puede eliminar a otra.</span><span class="sxs-lookup"><span data-stu-id="e2401-160">In the case when different AAD Service Principals can create clusters under **/clusters/finance**, the sticky-bit (when set on the **finance** folder) ensures that folders created by one Service Principal cannot be deleted by the other.</span></span>
- <span data-ttu-id="e2401-161">Una vez que la estructura de carpetas y los permisos estén configurados, el proceso de creación de clústeres de HDInsight crea una ubicación de almacenamiento específica para clústeres en **/clusters/finance/**.</span><span class="sxs-lookup"><span data-stu-id="e2401-161">Once the folder structure and permissions are in place, HDInsight cluster creation process creates a cluster-specific storage loaction under **/clusters/finance/**.</span></span> <span data-ttu-id="e2401-162">Por ejemplo, el almacenamiento para un clúster con el nombre fincluster01 podría ser **/clusters/finance/fincluster01**.</span><span class="sxs-lookup"><span data-stu-id="e2401-162">For example, the storage for a cluster with the name fincluster01 could be **/clusters/finance/fincluster01**.</span></span> <span data-ttu-id="e2401-163">La propiedad y los permisos para las carpetas creadas por un clúster de HDInsight se muestran en esta tabla.</span><span class="sxs-lookup"><span data-stu-id="e2401-163">The ownership and permissions for the folders created by HDInsight cluster is shown in the table here.</span></span>

    |<span data-ttu-id="e2401-164">Carpeta</span><span class="sxs-lookup"><span data-stu-id="e2401-164">Folder</span></span>  |<span data-ttu-id="e2401-165">Permisos</span><span class="sxs-lookup"><span data-stu-id="e2401-165">Permissions</span></span>  |<span data-ttu-id="e2401-166">usuario propietario</span><span class="sxs-lookup"><span data-stu-id="e2401-166">Owning user</span></span>  |<span data-ttu-id="e2401-167">grupo propietario</span><span class="sxs-lookup"><span data-stu-id="e2401-167">Owning group</span></span>  | <span data-ttu-id="e2401-168">Usuario con nombre</span><span class="sxs-lookup"><span data-stu-id="e2401-168">Named user</span></span> | <span data-ttu-id="e2401-169">Permisos de usuario con nombre</span><span class="sxs-lookup"><span data-stu-id="e2401-169">Named user permissions</span></span> | <span data-ttu-id="e2401-170">Grupo con nombre</span><span class="sxs-lookup"><span data-stu-id="e2401-170">Named group</span></span> | <span data-ttu-id="e2401-171">Permisos de grupo con nombre</span><span class="sxs-lookup"><span data-stu-id="e2401-171">Named group permissions</span></span> |
    |---------|---------|---------|---------|---------|---------|---------|---------|
    |<span data-ttu-id="e2401-172">/clusters/finance/ fincluster01</span><span class="sxs-lookup"><span data-stu-id="e2401-172">/clusters/finanace/ fincluster01</span></span> | <span data-ttu-id="e2401-173">rwxr-x---</span><span class="sxs-lookup"><span data-stu-id="e2401-173">rwxr-x---</span></span>  |<span data-ttu-id="e2401-174">Entidad de servicio</span><span class="sxs-lookup"><span data-stu-id="e2401-174">Service Principal</span></span> |<span data-ttu-id="e2401-175">FINGRP</span><span class="sxs-lookup"><span data-stu-id="e2401-175">FINGRP</span></span>  |- |-  |-   |-  | 
   


## <a name="recommendations-for-job-input-and-output-data"></a><span data-ttu-id="e2401-176">Recomendaciones para los datos de entrada y salida de trabajos</span><span class="sxs-lookup"><span data-stu-id="e2401-176">Recommendations for job input and output data</span></span>

<span data-ttu-id="e2401-177">Se recomienda que los datos de entrada y salida de un trabajo se almacenen en una carpeta fuera de **/clusters**.</span><span class="sxs-lookup"><span data-stu-id="e2401-177">We recommend that input data to a job, and the outputs from a job be stored in a folder outside **/clusters**.</span></span> <span data-ttu-id="e2401-178">Esto garantiza que incluso si se elimina la carpeta específica del clúster para liberar espacio de almacenamiento, las entradas y salidas de trabajo y seguirán disponibles para su uso futuro.</span><span class="sxs-lookup"><span data-stu-id="e2401-178">This ensures that even if the cluster-specific folder is deleted to reclaim some storage space,the job inputs and outputs are still available for future use.</span></span> <span data-ttu-id="e2401-179">En ese caso, asegúrese de que la jerarquía de carpetas para almacenar las entradas y salidas de trabajo permita un nivel de acceso adecuado para la entidad de servicio.</span><span class="sxs-lookup"><span data-stu-id="e2401-179">In such a case, ensure that the folder hierarchy for storing the job inputs and outputs allows appropriate level of access for the Service Principal.</span></span>

## <a name="limit-on-clusters-sharing-a-single-storage-account"></a><span data-ttu-id="e2401-180">Límite de clústeres que comparten una única cuenta de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="e2401-180">Limit on clusters sharing a single storage account</span></span>

<span data-ttu-id="e2401-181">El límite del número de clústeres que pueden compartir una única cuenta de Data Lake Store depende en la carga de trabajo ejecutada en esos clústeres.</span><span class="sxs-lookup"><span data-stu-id="e2401-181">The limit on the number of clusters that can share a single Data Lake Store account depends on the workload being run on those clusters.</span></span> <span data-ttu-id="e2401-182">Tener demasiados clústeres o cargas de trabajo muy elevadas en los clústeres que comparten una cuenta de almacenamiento puede causar limitaciones en la entrada o salida de datos de la cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="e2401-182">Having too many clusters or very heavy workloads on the clusters that share a storage account might cause the storage account ingress/egress to get throttled.</span></span>

## <a name="support-for-default-acls"></a><span data-ttu-id="e2401-183">Soporte para ACL predeterminadas</span><span class="sxs-lookup"><span data-stu-id="e2401-183">Support for Default-ACLs</span></span>

<span data-ttu-id="e2401-184">Al crear una entidad de servicio con acceso de un usuario con nombre (como se indica en la tabla anterior), se recomienda **no** agregar el usuario con nombre con una ACL predeterminada.</span><span class="sxs-lookup"><span data-stu-id="e2401-184">When creating a Service Principal with named-user access (as shown in the table above), we recommend **not** adding the named-user with a default-ACL.</span></span> <span data-ttu-id="e2401-185">El aprovisionamiento de acceso de un usuario con nombre mediante las ACL predeterminadas da como resultado la asignación de 770 permisos de usuario propietario, grupo propietario y otros.</span><span class="sxs-lookup"><span data-stu-id="e2401-185">Provisioning named-user access using default-ACLs results in the assignment of 770 permissions for owning-user, owning-group, and others.</span></span> <span data-ttu-id="e2401-186">Mientras que el valor predeterminado de 770 no retira permisos al usuario propietario (7) o grupo propietario (7), retira todos los permisos del resto (0).</span><span class="sxs-lookup"><span data-stu-id="e2401-186">While this default value of 770 does not take away permissions from owning-user (7) or owning-group (7), it takes away all permissions for others (0).</span></span> <span data-ttu-id="e2401-187">Esto da como resultado un problema conocido con un determinado caso de uso que se describe en detalle en la sección [Problemas conocidos y soluciones alternativas](#known-issues-and-workarounds).</span><span class="sxs-lookup"><span data-stu-id="e2401-187">This results in a known issue with one particular use-case that is discussed in detail in the [Known issues and workarounds](#known-issues-and-workarounds) section.</span></span>

## <a name="known-issues-and-workarounds"></a><span data-ttu-id="e2401-188">Problemas conocidos y soluciones alternativas</span><span class="sxs-lookup"><span data-stu-id="e2401-188">Known issues and workarounds</span></span>

<span data-ttu-id="e2401-189">Esta sección muestra los problemas conocidos de uso de HDInsight con Data Lake Store y sus soluciones alternativas.</span><span class="sxs-lookup"><span data-stu-id="e2401-189">This section lists the known issues for using HDInsight with Data Lake Store, and their workarounds.</span></span>

### <a name="publicly-visible-localized-yarn-resources"></a><span data-ttu-id="e2401-190">Recursos YARN localizados visibles públicamente</span><span class="sxs-lookup"><span data-stu-id="e2401-190">Publicly visible localized YARN resources</span></span>

<span data-ttu-id="e2401-191">Cuando se crea una nueva cuenta de Azure Data Lake Store, el directorio raíz se aprovisiona automáticamente con los bits de permiso de acceso ACL establecidos en 770.</span><span class="sxs-lookup"><span data-stu-id="e2401-191">When a new Azure Data Lake store account is created, the root directory is automatically provisioned with Access-ACL permission bits set to 770.</span></span> <span data-ttu-id="e2401-192">El usuario propietario de la carpeta raíz está configurado como el usuario que creó la cuenta (el administrador de Data Lake Store) y el grupo propietario está configurado como el grupo principal del usuario que creó la cuenta.</span><span class="sxs-lookup"><span data-stu-id="e2401-192">The root folder’s owning user is set to the user that created the account (the Data Lake Store admin) and the owning group is set to the primary group of the user that created the account.</span></span> <span data-ttu-id="e2401-193">No se proporciona acceso para otros usuarios.</span><span class="sxs-lookup"><span data-stu-id="e2401-193">No access is provided for "others".</span></span>

<span data-ttu-id="e2401-194">Se sabe que esta configuración afecta a un caso de uso de HDInsight específico descrito en [YARN 247](https://hwxmonarch.atlassian.net/browse/YARN-247).</span><span class="sxs-lookup"><span data-stu-id="e2401-194">These settings are known to affect one specific HDInsight use-case captured in [YARN 247](https://hwxmonarch.atlassian.net/browse/YARN-247).</span></span> <span data-ttu-id="e2401-195">Los envíos de trabajos pueden generar un error con un mensaje similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="e2401-195">Job submissions could fail with an error message similar to this:</span></span>

    Resource XXXX is not publicly accessible and as such cannot be part of the public cache.

<span data-ttu-id="e2401-196">Como se indica en el JIRA YARN vinculado anteriormente, al localizar recursos públicos el localizador valida que todos los recursos solicitados son realmente públicos comprobando sus permisos en el sistema de archivos remoto.</span><span class="sxs-lookup"><span data-stu-id="e2401-196">As stated in the YARN JIRA linked earlier, while localizing public resources, the localizer validates that all the requested resources are indeed public by checking their permissions on the remote file-system.</span></span> <span data-ttu-id="e2401-197">Se rechaza la localización de cualquier recurso local que no se ajuste a esa condición.</span><span class="sxs-lookup"><span data-stu-id="e2401-197">Any LocalResource that does not fit that condition is rejected for localization.</span></span> <span data-ttu-id="e2401-198">La comprobación de permisos incluye acceso de lectura al archivo para otros usuarios.</span><span class="sxs-lookup"><span data-stu-id="e2401-198">The check for permissions, includes read-access to the file for "others".</span></span> <span data-ttu-id="e2401-199">Este escenario no funciona en principio al hospedar clústeres de HDInsight en Azure Data Lake, ya que Azure Data Lake deniega el acceso a otros usuarios en el nivel de la carpeta raíz.</span><span class="sxs-lookup"><span data-stu-id="e2401-199">This scenario does not work out-of-the-box when hosting HDInsight clusters on Azure Data Lake, since Azure Data Lake denies all access to "others" at root folder level.</span></span>

#### <a name="workaround"></a><span data-ttu-id="e2401-200">Solución alternativa</span><span class="sxs-lookup"><span data-stu-id="e2401-200">Workaround</span></span>
<span data-ttu-id="e2401-201">Configure los permisos de lectura y ejecución para **otros** mediante la jerarquía (por ejemplo, en **/**, **/clusters** y **/clusters/finance**), como se muestra en la tabla anterior.</span><span class="sxs-lookup"><span data-stu-id="e2401-201">Set read-execute permissions for **others** through the hierarchy, for example,  at **/**, **/clusters** and **/clusters/finance** as shown in the table above.</span></span>

## <a name="see-also"></a><span data-ttu-id="e2401-202">Consulte también</span><span class="sxs-lookup"><span data-stu-id="e2401-202">See also</span></span>

* [<span data-ttu-id="e2401-203">Creación de un clúster de HDInsight con Almacén de Data Lake como almacenamiento</span><span class="sxs-lookup"><span data-stu-id="e2401-203">Create an HDInsight cluster with Data Lake Store as storage</span></span>](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md)


