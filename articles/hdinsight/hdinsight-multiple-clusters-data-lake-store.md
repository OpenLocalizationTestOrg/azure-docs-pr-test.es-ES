---
title: "aaaUse HDInsight varios clústeres con una cuenta de almacén de Azure Data Lake - Azure | Documentos de Microsoft"
description: "Obtenga información acerca de cómo toouse más de HDInsight de un clúster con una sola cuenta de almacén de Data Lake"
keywords: almacenamiento para hdinsight,hdfs,datos estructurados,datos no estructurados, data lake store
services: hdinsight,storage
documentationcenter: 
tags: azure-portal
author: nitinme
manager: jhubbard
editor: cgronlun
ms.service: hdinsight
ms.custom: hdinsightactive
ms.workload: big-data
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/02/2017
ms.author: nitinme
ms.openlocfilehash: 3a125b91fcc1e436270a1bd349f7a2d8f27e06fb
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="use-multiple-hdinsight-clusters-with-an-azure-data-lake-store-account"></a><span data-ttu-id="9d742-104">Uso de varios clústeres de HDInsight con una cuenta de Azure Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="9d742-104">Use multiple HDInsight clusters with an Azure Data Lake Store account</span></span>

<span data-ttu-id="9d742-105">A partir de HDInsight versión 3.5, puede crear clústeres de HDInsight con las cuentas de almacén de Azure Data Lake como Hola predeterminado filesystem.</span><span class="sxs-lookup"><span data-stu-id="9d742-105">Starting with HDInsight version 3.5, you can create HDInsight clusters with  Azure Data Lake Store accounts as hello default filesystem.</span></span>
<span data-ttu-id="9d742-106">Data Lake Store admite almacenamiento ilimitado, lo cual es idóneo no solo para hospedar grandes cantidades de datos, sino también para hospedar varios clústeres de HDInsight que compartan una única cuenta de Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="9d742-106">Data Lake Store supports unlimited storage that makes it ideal not only for hosting large amounts of data; but also for hosting multiple HDInsight clusters that share a single Data Lake Store Account.</span></span> <span data-ttu-id="9d742-107">Para instructionson cómo toocreate una HDInsight de clúster con el almacén de Data Lake como almacenamiento de hello, consulte [HDInsight crear clústeres con el almacén de Data Lake](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md).</span><span class="sxs-lookup"><span data-stu-id="9d742-107">For instructionson how toocreate an HDInsight cluster with Data Lake Store as hello storage, see [Create HDInsight clusters with Data Lake Store](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md).</span></span>

<span data-ttu-id="9d742-108">Este artículo proporciona administrador de almacén de Data Lake toohello de recomendaciones para configurar un único y compartido datos Lake almacenar una cuenta que se puede usar en varias **active** clústeres de HDInsight.</span><span class="sxs-lookup"><span data-stu-id="9d742-108">This article provides recommendations toohello Data Lake store administrator for setting up a single and shared Data Lake Store Account that can be used across multiple **active** HDInsight clusters.</span></span> <span data-ttu-id="9d742-109">Estas recomendaciones aplican toohosting Hadoop segura, así como no seguras varios clústeres en una cuenta de almacén de Data Lake compartida.</span><span class="sxs-lookup"><span data-stu-id="9d742-109">These recommendations apply toohosting multiple secure as well as non-secure Hadoop clusters on a shared Data Lake store account.</span></span>


## <a name="data-lake-store-file-and-folder-level-acls"></a><span data-ttu-id="9d742-110">ACL de nivel de archivo y carpeta de Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="9d742-110">Data Lake Store file and folder level ACLs</span></span>

<span data-ttu-id="9d742-111">Hello resto de este artículo se da por supuesto que tiene un conocimiento profundo de las ACL de nivel de archivo y carpeta en el almacén de Azure Data Lake, que se describe en detalle en [control de acceso en el almacén de Azure Data Lake](../data-lake-store/data-lake-store-access-control.md).</span><span class="sxs-lookup"><span data-stu-id="9d742-111">hello rest of this article assumes that you have a good knowledge of file and folder level ACLs in Azure Data Lake Store, which is described in detail at [Access control in Azure Data Lake Store](../data-lake-store/data-lake-store-access-control.md).</span></span>

## <a name="data-lake-store-setup-for-multiple-hdinsight-clusters"></a><span data-ttu-id="9d742-112">Configuración de Data Lake Store para varios clústeres de HDInsight</span><span class="sxs-lookup"><span data-stu-id="9d742-112">Data Lake Store setup for multiple HDInsight clusters</span></span>
<span data-ttu-id="9d742-113">Empecemos por una jerarquía de carpetas de dos niveles tooexplain recomendaciones de hello para el uso de clústeres de HDInsight de mutilple con una cuenta de almacén de Data Lake.</span><span class="sxs-lookup"><span data-stu-id="9d742-113">Let us take a two-level folder hierarchy tooexplain hello recommendations for using mutilple HDInsight clusters with a Data Lake Store account.</span></span> <span data-ttu-id="9d742-114">Considere la posibilidad de tener una cuenta de almacén de Data Lake con estructura de carpetas de hello **/clústeres/finance**.</span><span class="sxs-lookup"><span data-stu-id="9d742-114">Consider you have a Data Lake Store account with hello folder structure **/clusters/finance**.</span></span> <span data-ttu-id="9d742-115">Con esta estructura, todos los clústeres de hello requeridos Hola Finanzas organización pueden usar /clusters/finance como ubicación de almacenamiento de Hola.</span><span class="sxs-lookup"><span data-stu-id="9d742-115">With this structure, all hello clusters required by hello Finance organization can use /clusters/finance as hello storage location.</span></span> <span data-ttu-id="9d742-116">Hola futuras, si otra organización, por ejemplo Marketing, desea que los clústeres de HDInsight de toocreate con Hola misma cuenta de almacén de Data Lake, podría crear /clusters/marketing.</span><span class="sxs-lookup"><span data-stu-id="9d742-116">In hello future, if another organization, say Marketing, wants toocreate HDInsight clusters using hello same Data Lake Store account, they could create /clusters/marketing.</span></span> <span data-ttu-id="9d742-117">De momento, usaremos simplemente **/clusters/finance**.</span><span class="sxs-lookup"><span data-stu-id="9d742-117">For now, let's just use **/clusters/finance**.</span></span>

<span data-ttu-id="9d742-118">tooenable esta toobe de la estructura de carpeta usa eficazmente los clústeres de HDInsight, Administrador de almacén de Data Lake Hola debe asignar los permisos adecuados, tal como se describe en la tabla de Hola.</span><span class="sxs-lookup"><span data-stu-id="9d742-118">tooenable this folder structure toobe effectively used by HDInsight clusters, hello Data Lake Store administrator must assign appropriate permissions, as described in hello table.</span></span> <span data-ttu-id="9d742-119">permisos de Hola que se muestra en la tabla de hello corresponden tooAccess ACL y no las ACL de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="9d742-119">hello permissions shown in hello table correspond tooAccess-ACLs, and not Default-ACLs.</span></span> 


|<span data-ttu-id="9d742-120">Carpeta</span><span class="sxs-lookup"><span data-stu-id="9d742-120">Folder</span></span>  |<span data-ttu-id="9d742-121">Permisos</span><span class="sxs-lookup"><span data-stu-id="9d742-121">Permissions</span></span>  |<span data-ttu-id="9d742-122">usuario propietario</span><span class="sxs-lookup"><span data-stu-id="9d742-122">Owning user</span></span>  |<span data-ttu-id="9d742-123">grupo propietario</span><span class="sxs-lookup"><span data-stu-id="9d742-123">Owning group</span></span>  | <span data-ttu-id="9d742-124">Usuario con nombre</span><span class="sxs-lookup"><span data-stu-id="9d742-124">Named user</span></span> | <span data-ttu-id="9d742-125">Permisos de usuario con nombre</span><span class="sxs-lookup"><span data-stu-id="9d742-125">Named user permissions</span></span> | <span data-ttu-id="9d742-126">Grupo con nombre</span><span class="sxs-lookup"><span data-stu-id="9d742-126">Named group</span></span> | <span data-ttu-id="9d742-127">Permisos de grupo con nombre</span><span class="sxs-lookup"><span data-stu-id="9d742-127">Named group permissions</span></span> |
|---------|---------|---------|---------|---------|---------|---------|---------|
|/ | <span data-ttu-id="9d742-128">rwxr-x--x</span><span class="sxs-lookup"><span data-stu-id="9d742-128">rwxr-x--x</span></span>  |<span data-ttu-id="9d742-129">admin</span><span class="sxs-lookup"><span data-stu-id="9d742-129">admin</span></span> |<span data-ttu-id="9d742-130">admin</span><span class="sxs-lookup"><span data-stu-id="9d742-130">admin</span></span>  |<span data-ttu-id="9d742-131">Entidad de servicio</span><span class="sxs-lookup"><span data-stu-id="9d742-131">Service principal</span></span> |<span data-ttu-id="9d742-132">--x</span><span class="sxs-lookup"><span data-stu-id="9d742-132">--x</span></span>  |<span data-ttu-id="9d742-133">FINGRP</span><span class="sxs-lookup"><span data-stu-id="9d742-133">FINGRP</span></span>   |<span data-ttu-id="9d742-134">r-x</span><span class="sxs-lookup"><span data-stu-id="9d742-134">r-x</span></span>         |
|<span data-ttu-id="9d742-135">/clusters</span><span class="sxs-lookup"><span data-stu-id="9d742-135">/clusters</span></span> | <span data-ttu-id="9d742-136">rwxr-x--x</span><span class="sxs-lookup"><span data-stu-id="9d742-136">rwxr-x--x</span></span> |<span data-ttu-id="9d742-137">admin</span><span class="sxs-lookup"><span data-stu-id="9d742-137">admin</span></span> |<span data-ttu-id="9d742-138">admin</span><span class="sxs-lookup"><span data-stu-id="9d742-138">admin</span></span> |<span data-ttu-id="9d742-139">Entidad de servicio</span><span class="sxs-lookup"><span data-stu-id="9d742-139">Service principal</span></span> |<span data-ttu-id="9d742-140">--x</span><span class="sxs-lookup"><span data-stu-id="9d742-140">--x</span></span>  |<span data-ttu-id="9d742-141">FINGRP</span><span class="sxs-lookup"><span data-stu-id="9d742-141">FINGRP</span></span> |<span data-ttu-id="9d742-142">r-x</span><span class="sxs-lookup"><span data-stu-id="9d742-142">r-x</span></span>         |
|<span data-ttu-id="9d742-143">/clusters/finance</span><span class="sxs-lookup"><span data-stu-id="9d742-143">/clusters/finance</span></span> | <span data-ttu-id="9d742-144">rwxr-x--t</span><span class="sxs-lookup"><span data-stu-id="9d742-144">rwxr-x--t</span></span> |<span data-ttu-id="9d742-145">admin</span><span class="sxs-lookup"><span data-stu-id="9d742-145">admin</span></span> |<span data-ttu-id="9d742-146">FINGRP</span><span class="sxs-lookup"><span data-stu-id="9d742-146">FINGRP</span></span>  |<span data-ttu-id="9d742-147">Entidad de servicio</span><span class="sxs-lookup"><span data-stu-id="9d742-147">Service principal</span></span> |<span data-ttu-id="9d742-148">rwx</span><span class="sxs-lookup"><span data-stu-id="9d742-148">rwx</span></span>  |-  |-     |

<span data-ttu-id="9d742-149">En la tabla de hello,</span><span class="sxs-lookup"><span data-stu-id="9d742-149">In hello table,</span></span>

- <span data-ttu-id="9d742-150">**administración** es el creador de Hola y Administrador de cuenta de almacén de Data Lake Hola.</span><span class="sxs-lookup"><span data-stu-id="9d742-150">**admin** is hello creator and administrator of hello Data Lake Store account.</span></span>
- <span data-ttu-id="9d742-151">**Entidad de servicio** es hello Azure Active Directory (AAD) entidad de servicio asociado a la cuenta de hello.</span><span class="sxs-lookup"><span data-stu-id="9d742-151">**Service principal** is hello Azure Active Directory (AAD) service principal associated with hello account.</span></span>
- <span data-ttu-id="9d742-152">**FINGRP** es un grupo de usuario creado en AAD que contenga los usuarios de hello organización de finanzas.</span><span class="sxs-lookup"><span data-stu-id="9d742-152">**FINGRP** is a user group created in AAD that contains users from hello Finance organization.</span></span>

<span data-ttu-id="9d742-153">Para obtener instrucciones sobre cómo ver una aplicación de AAD (que también se crea una entidad de servicio), toocreate [crear una aplicación AAD](../azure-resource-manager/resource-group-create-service-principal-portal.md#create-an-azure-active-directory-application).</span><span class="sxs-lookup"><span data-stu-id="9d742-153">For instructions on how toocreate an AAD application (that also creates a Service Principal), see [Create an AAD application](../azure-resource-manager/resource-group-create-service-principal-portal.md#create-an-azure-active-directory-application).</span></span> <span data-ttu-id="9d742-154">Para obtener instrucciones sobre cómo toocreate un grupo de usuarios en AAD, consulte [administrar grupos en Azure Active Directory](../active-directory/active-directory-accessmanagement-manage-groups.md).</span><span class="sxs-lookup"><span data-stu-id="9d742-154">For instructions on how toocreate a user group in AAD, see [Managing groups in Azure Active Directory](../active-directory/active-directory-accessmanagement-manage-groups.md).</span></span>

<span data-ttu-id="9d742-155">Algunos tooconsider puntos clave.</span><span class="sxs-lookup"><span data-stu-id="9d742-155">Some key points tooconsider.</span></span>

- <span data-ttu-id="9d742-156">estructura de carpetas de nivel de Hello dos (**/clústeres/finance/**) deben crearse y aprovisionado con los permisos adecuados Hola, Administrador de almacén de Data Lake **antes de** con la cuenta de almacenamiento de Hola para los clústeres.</span><span class="sxs-lookup"><span data-stu-id="9d742-156">hello two level folder structure (**/clusters/finance/**) must be created and provisioned with appropriate permissions by hello Data Lake Store admin **before** using hello storage account for clusters.</span></span> <span data-ttu-id="9d742-157">Esta estructura no se crea automáticamente durante la creación de clústeres.</span><span class="sxs-lookup"><span data-stu-id="9d742-157">This structure is not created automatically while creating clusters.</span></span>
- <span data-ttu-id="9d742-158">ejemplo de Hola anterior recomienda establecer Hola grupo del propietario **/clústeres/finance** como **FINGRP** y permitir **r-x** tener acceso a la jerarquía de carpeta completa de tooFINGRP toohello a partir de la raíz de Hola.</span><span class="sxs-lookup"><span data-stu-id="9d742-158">hello example above recommends setting hello owning group of **/clusters/finance** as **FINGRP** and permitting **r-x** access tooFINGRP toohello entire folder hierarchy starting from hello root.</span></span> <span data-ttu-id="9d742-159">Esto garantiza que los miembros de Hola de FINGRP pueden explorar la estructura de carpeta de Hola a partir de la raíz.</span><span class="sxs-lookup"><span data-stu-id="9d742-159">This ensures that hello members of FINGRP can navigate hello folder structure starting from root.</span></span>
- <span data-ttu-id="9d742-160">En caso de hello cuando diferentes entidades de servicio de AAD puede crear clústeres en **/clústeres/finance**, Hola rápidas bits (cuando se establece en hello **finance** carpeta) garantiza que las carpetas se crean por un servicio No se puede eliminar la entidad de seguridad por hello otro.</span><span class="sxs-lookup"><span data-stu-id="9d742-160">In hello case when different AAD Service Principals can create clusters under **/clusters/finance**, hello sticky-bit (when set on hello **finance** folder) ensures that folders created by one Service Principal cannot be deleted by hello other.</span></span>
- <span data-ttu-id="9d742-161">Una vez que la estructura de carpetas de Hola y permisos están en su lugar, el proceso de creación de clústeres de HDInsight crea un loaction de almacenamiento de clúster específicos en **/clústeres/finance/**.</span><span class="sxs-lookup"><span data-stu-id="9d742-161">Once hello folder structure and permissions are in place, HDInsight cluster creation process creates a cluster-specific storage loaction under **/clusters/finance/**.</span></span> <span data-ttu-id="9d742-162">Por ejemplo, podría ser almacenamiento de Hola para un clúster con hello nombre fincluster01 **/clusters/finance/fincluster01**.</span><span class="sxs-lookup"><span data-stu-id="9d742-162">For example, hello storage for a cluster with hello name fincluster01 could be **/clusters/finance/fincluster01**.</span></span> <span data-ttu-id="9d742-163">Hello propiedad y los permisos para carpetas de hello creados por clúster de HDInsight se muestra en la tabla de hello aquí.</span><span class="sxs-lookup"><span data-stu-id="9d742-163">hello ownership and permissions for hello folders created by HDInsight cluster is shown in hello table here.</span></span>

    |<span data-ttu-id="9d742-164">Carpeta</span><span class="sxs-lookup"><span data-stu-id="9d742-164">Folder</span></span>  |<span data-ttu-id="9d742-165">Permisos</span><span class="sxs-lookup"><span data-stu-id="9d742-165">Permissions</span></span>  |<span data-ttu-id="9d742-166">usuario propietario</span><span class="sxs-lookup"><span data-stu-id="9d742-166">Owning user</span></span>  |<span data-ttu-id="9d742-167">grupo propietario</span><span class="sxs-lookup"><span data-stu-id="9d742-167">Owning group</span></span>  | <span data-ttu-id="9d742-168">Usuario con nombre</span><span class="sxs-lookup"><span data-stu-id="9d742-168">Named user</span></span> | <span data-ttu-id="9d742-169">Permisos de usuario con nombre</span><span class="sxs-lookup"><span data-stu-id="9d742-169">Named user permissions</span></span> | <span data-ttu-id="9d742-170">Grupo con nombre</span><span class="sxs-lookup"><span data-stu-id="9d742-170">Named group</span></span> | <span data-ttu-id="9d742-171">Permisos de grupo con nombre</span><span class="sxs-lookup"><span data-stu-id="9d742-171">Named group permissions</span></span> |
    |---------|---------|---------|---------|---------|---------|---------|---------|
    |<span data-ttu-id="9d742-172">/clusters/finance/ fincluster01</span><span class="sxs-lookup"><span data-stu-id="9d742-172">/clusters/finanace/ fincluster01</span></span> | <span data-ttu-id="9d742-173">rwxr-x---</span><span class="sxs-lookup"><span data-stu-id="9d742-173">rwxr-x---</span></span>  |<span data-ttu-id="9d742-174">Entidad de servicio</span><span class="sxs-lookup"><span data-stu-id="9d742-174">Service Principal</span></span> |<span data-ttu-id="9d742-175">FINGRP</span><span class="sxs-lookup"><span data-stu-id="9d742-175">FINGRP</span></span>  |- |-  |-   |-  | 
   


## <a name="recommendations-for-job-input-and-output-data"></a><span data-ttu-id="9d742-176">Recomendaciones para los datos de entrada y salida de trabajos</span><span class="sxs-lookup"><span data-stu-id="9d742-176">Recommendations for job input and output data</span></span>

<span data-ttu-id="9d742-177">Le recomendamos que el trabajo de tooa de datos de entrada y Hola salidas de un trabajo se almacenan en una carpeta fuera **/clústeres**.</span><span class="sxs-lookup"><span data-stu-id="9d742-177">We recommend that input data tooa job, and hello outputs from a job be stored in a folder outside **/clusters**.</span></span> <span data-ttu-id="9d742-178">Esto garantiza que incluso si carpeta específica del clúster de hello es eliminado tooreclaim algún espacio de almacenamiento, las entradas de trabajo de Hola y salidas siguen estando disponibles para un uso futuro.</span><span class="sxs-lookup"><span data-stu-id="9d742-178">This ensures that even if hello cluster-specific folder is deleted tooreclaim some storage space,hello job inputs and outputs are still available for future use.</span></span> <span data-ttu-id="9d742-179">En tal caso, asegúrese de que jerarquía de carpetas de Hola para almacenar Hola trabajo entradas y salidas de permite el nivel adecuado de acceso para hello entidad de servicio.</span><span class="sxs-lookup"><span data-stu-id="9d742-179">In such a case, ensure that hello folder hierarchy for storing hello job inputs and outputs allows appropriate level of access for hello Service Principal.</span></span>

## <a name="limit-on-clusters-sharing-a-single-storage-account"></a><span data-ttu-id="9d742-180">Límite de clústeres que comparten una única cuenta de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="9d742-180">Limit on clusters sharing a single storage account</span></span>

<span data-ttu-id="9d742-181">Hola Hola número límite de clústeres que se puede compartir una sola cuenta de almacén de Data Lake depende de la carga de trabajo de Hola que se ejecutan en esos clústeres.</span><span class="sxs-lookup"><span data-stu-id="9d742-181">hello limit on hello number of clusters that can share a single Data Lake Store account depends on hello workload being run on those clusters.</span></span> <span data-ttu-id="9d742-182">Tener demasiados clústeres o muy altas cargas de trabajo en clústeres de Hola que comparten una cuenta de almacenamiento puede provocar Hola almacenamiento cuenta entrada/salida tooget limitada.</span><span class="sxs-lookup"><span data-stu-id="9d742-182">Having too many clusters or very heavy workloads on hello clusters that share a storage account might cause hello storage account ingress/egress tooget throttled.</span></span>

## <a name="support-for-default-acls"></a><span data-ttu-id="9d742-183">Soporte para ACL predeterminadas</span><span class="sxs-lookup"><span data-stu-id="9d742-183">Support for Default-ACLs</span></span>

<span data-ttu-id="9d742-184">Al crear una entidad de servicio con acceso de un usuario con el nombre (como se muestra en la tabla de hello anterior), se recomienda **no** agregar Hola con el nombre de usuario con una ACL de manera predeterminada.</span><span class="sxs-lookup"><span data-stu-id="9d742-184">When creating a Service Principal with named-user access (as shown in hello table above), we recommend **not** adding hello named-user with a default-ACL.</span></span> <span data-ttu-id="9d742-185">Aprovisionamiento de acceso de un usuario con el nombre con resultados de la ACL predeterminada asignación Hola de 770 permisos de usuario propietario, grupo propietario y otros usuarios.</span><span class="sxs-lookup"><span data-stu-id="9d742-185">Provisioning named-user access using default-ACLs results in hello assignment of 770 permissions for owning-user, owning-group, and others.</span></span> <span data-ttu-id="9d742-186">Mientras que el valor predeterminado de 770 no retira permisos al usuario propietario (7) o grupo propietario (7), retira todos los permisos del resto (0).</span><span class="sxs-lookup"><span data-stu-id="9d742-186">While this default value of 770 does not take away permissions from owning-user (7) or owning-group (7), it takes away all permissions for others (0).</span></span> <span data-ttu-id="9d742-187">Esto da como resultado un problema conocido con un determinado caso de uso que se describe en detalle en hello [problemas conocidos y soluciones alternativas](#known-issues-and-workarounds) sección.</span><span class="sxs-lookup"><span data-stu-id="9d742-187">This results in a known issue with one particular use-case that is discussed in detail in hello [Known issues and workarounds](#known-issues-and-workarounds) section.</span></span>

## <a name="known-issues-and-workarounds"></a><span data-ttu-id="9d742-188">Problemas conocidos y soluciones alternativas</span><span class="sxs-lookup"><span data-stu-id="9d742-188">Known issues and workarounds</span></span>

<span data-ttu-id="9d742-189">Esta sección enumeran Hola problemas para el uso de HDInsight con el almacén de Data Lake y sus soluciones alternativas conocidos.</span><span class="sxs-lookup"><span data-stu-id="9d742-189">This section lists hello known issues for using HDInsight with Data Lake Store, and their workarounds.</span></span>

### <a name="publicly-visible-localized-yarn-resources"></a><span data-ttu-id="9d742-190">Recursos YARN localizados visibles públicamente</span><span class="sxs-lookup"><span data-stu-id="9d742-190">Publicly visible localized YARN resources</span></span>

<span data-ttu-id="9d742-191">Cuando se crea una nueva cuenta de almacenamiento de Azure Data Lake, el directorio raíz de Hola se aprovisiona automáticamente con too770 de conjunto de bits de permiso de acceso ACL.</span><span class="sxs-lookup"><span data-stu-id="9d742-191">When a new Azure Data Lake store account is created, hello root directory is automatically provisioned with Access-ACL permission bits set too770.</span></span> <span data-ttu-id="9d742-192">carpeta raíz de Hello propietaria de usuario es conjunto toohello que creó la cuenta de hello (almacén de Data Lake Hola, administrador) y grupo propietario Hola se establece toohello grupo principal de usuario de Hola que creó la cuenta de hello.</span><span class="sxs-lookup"><span data-stu-id="9d742-192">hello root folder’s owning user is set toohello user that created hello account (hello Data Lake Store admin) and hello owning group is set toohello primary group of hello user that created hello account.</span></span> <span data-ttu-id="9d742-193">No se proporciona acceso para otros usuarios.</span><span class="sxs-lookup"><span data-stu-id="9d742-193">No access is provided for "others".</span></span>

<span data-ttu-id="9d742-194">Esta configuración se conoce tooaffect uno específico HDInsight casos de uso capturados en [YARN 247](https://hwxmonarch.atlassian.net/browse/YARN-247).</span><span class="sxs-lookup"><span data-stu-id="9d742-194">These settings are known tooaffect one specific HDInsight use-case captured in [YARN 247](https://hwxmonarch.atlassian.net/browse/YARN-247).</span></span> <span data-ttu-id="9d742-195">Envíos de los trabajos pudieron generar un error con un toothis similar del mensaje de error:</span><span class="sxs-lookup"><span data-stu-id="9d742-195">Job submissions could fail with an error message similar toothis:</span></span>

    Resource XXXX is not publicly accessible and as such cannot be part of hello public cache.

<span data-ttu-id="9d742-196">Como se indica en hello que YARN JIRA anteriormente, vinculado al localizar recursos públicos, hello localizador valida que todos Hola recursos solicitados son realmente públicos activando sus permisos en el sistema de archivos remoto Hola.</span><span class="sxs-lookup"><span data-stu-id="9d742-196">As stated in hello YARN JIRA linked earlier, while localizing public resources, hello localizer validates that all hello requested resources are indeed public by checking their permissions on hello remote file-system.</span></span> <span data-ttu-id="9d742-197">Se rechaza la localización de cualquier recurso local que no se ajuste a esa condición.</span><span class="sxs-lookup"><span data-stu-id="9d742-197">Any LocalResource that does not fit that condition is rejected for localization.</span></span> <span data-ttu-id="9d742-198">Hola comprobación de permisos, incluye el archivo toohello de acceso de lectura para "otros".</span><span class="sxs-lookup"><span data-stu-id="9d742-198">hello check for permissions, includes read-access toohello file for "others".</span></span> <span data-ttu-id="9d742-199">Este escenario no funciona de fábrica cuando se hospedan los clústeres de HDInsight de Azure Data Lake, ya que Azure Data Lake deniega el acceso demasiado "otros" en el nivel de la carpeta raíz.</span><span class="sxs-lookup"><span data-stu-id="9d742-199">This scenario does not work out-of-the-box when hosting HDInsight clusters on Azure Data Lake, since Azure Data Lake denies all access too"others" at root folder level.</span></span>

#### <a name="workaround"></a><span data-ttu-id="9d742-200">Solución alternativa</span><span class="sxs-lookup"><span data-stu-id="9d742-200">Workaround</span></span>
<span data-ttu-id="9d742-201">Ejecutar de lectura de conjunto de permisos para **otros** a través de la jerarquía de hello, por ejemplo, en  **/** , **/clústeres** y   **/clústeres/Finanzas**  tal y como se muestra en la tabla de hello anterior.</span><span class="sxs-lookup"><span data-stu-id="9d742-201">Set read-execute permissions for **others** through hello hierarchy, for example,  at **/**, **/clusters** and **/clusters/finance** as shown in hello table above.</span></span>

## <a name="see-also"></a><span data-ttu-id="9d742-202">Otras referencias</span><span class="sxs-lookup"><span data-stu-id="9d742-202">See also</span></span>

* [<span data-ttu-id="9d742-203">Creación de un clúster de HDInsight con Almacén de Data Lake como almacenamiento</span><span class="sxs-lookup"><span data-stu-id="9d742-203">Create an HDInsight cluster with Data Lake Store as storage</span></span>](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md)


