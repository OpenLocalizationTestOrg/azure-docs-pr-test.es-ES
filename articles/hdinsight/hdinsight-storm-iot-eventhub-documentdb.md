---
title: "datos del sensor del vehículo aaaProcess con Apache Storm en HDInsight | Documentos de Microsoft"
description: "Obtenga información acerca de cómo los datos del sensor de vehículo tooprocess desde los centros de eventos con Apache Storm en HDInsight. Agregar datos de modelo de base de datos de Azure Cosmos y almacenar toostorage de salida."
services: hdinsight,documentdb,notification-hubs
documentationcenter: 
author: Blackmist
manager: jhubbard
editor: cgronlun
ms.assetid: 78980635-8bef-4c33-96c3-fae50e932e31
ms.service: hdinsight
ms.custom: hdinsightactive
ms.devlang: java
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 05/03/2017
ms.author: larryfr
ms.openlocfilehash: 8f7b1dbb9072e095ea32160bb731bedd071288af
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="process-vehicle-sensor-data-from-azure-event-hubs-using-apache-storm-on-hdinsight"></a><span data-ttu-id="b1b29-104">Procese datos del sensor de vehículo de Centros de eventos de Azure con Apache Storm en HDInsight</span><span class="sxs-lookup"><span data-stu-id="b1b29-104">Process vehicle sensor data from Azure Event Hubs using Apache Storm on HDInsight</span></span>

<span data-ttu-id="b1b29-105">Obtenga información acerca de cómo los datos del sensor de vehículo tooprocess desde los centros de eventos de Azure con Apache Storm en HDInsight.</span><span class="sxs-lookup"><span data-stu-id="b1b29-105">Learn how tooprocess vehicle sensor data from Azure Event Hubs using Apache Storm on HDInsight.</span></span> <span data-ttu-id="b1b29-106">Este ejemplo lee datos del sensor de centros de eventos de Azure, enriquecer datos Hola haciendo referencia a los datos almacenados en la base de datos de Azure Cosmos.</span><span class="sxs-lookup"><span data-stu-id="b1b29-106">This example reads sensor data from Azure Event Hubs, enriches hello data by referencing data stored in Azure Cosmos DB.</span></span> <span data-ttu-id="b1b29-107">Hola datos se almacenan en el almacenamiento de Azure con hello sistema de archivos de Hadoop (HDFS).</span><span class="sxs-lookup"><span data-stu-id="b1b29-107">hello data is stored into Azure Storage using hello Hadoop File System (HDFS).</span></span>

![HDInsight y Hola diagrama de arquitectura de Internet de las cosas (IoT)](./media/hdinsight-storm-iot-eventhub-documentdb/iot.png)

## <a name="overview"></a><span data-ttu-id="b1b29-109">Información general</span><span class="sxs-lookup"><span data-stu-id="b1b29-109">Overview</span></span>

<span data-ttu-id="b1b29-110">Agregar sensores toovehicles le permite toopredict problemas de los equipos en función de las tendencias de los datos históricos.</span><span class="sxs-lookup"><span data-stu-id="b1b29-110">Adding sensors toovehicles allows you toopredict equipment problems based on historical data trends.</span></span> <span data-ttu-id="b1b29-111">También permite las mejoras de toomake versiones toofuture basadas en el análisis de patrones de uso.</span><span class="sxs-lookup"><span data-stu-id="b1b29-111">It also allows you toomake improvements toofuture versions based on usage pattern analysis.</span></span> <span data-ttu-id="b1b29-112">Debe ser capaz de tooquickly y cargar eficazmente los datos de Hola de todos los vehículos en Hadoop para que pueda suceder MapReduce procesamiento.</span><span class="sxs-lookup"><span data-stu-id="b1b29-112">You must be able tooquickly and efficiently load hello data from all vehicles into Hadoop before MapReduce processing can occur.</span></span> <span data-ttu-id="b1b29-113">Además, es recomendable toodo el análisis de las rutas de acceso de error crítico (temperatura del motor, frenos, etc.) en tiempo real.</span><span class="sxs-lookup"><span data-stu-id="b1b29-113">Additionally, you may wish toodo analysis for critical failure paths (engine temperature, brakes, etc.) in real time.</span></span>

<span data-ttu-id="b1b29-114">Centros de eventos de Azure se basa volumen masivo de hello toohandle de datos generados por sensores.</span><span class="sxs-lookup"><span data-stu-id="b1b29-114">Azure Event Hubs is built toohandle hello massive volume of data generated by sensors.</span></span> <span data-ttu-id="b1b29-115">Apache Storm puede ser usado tooload y procesar los datos de hello antes de almacenarlos en HDFS.</span><span class="sxs-lookup"><span data-stu-id="b1b29-115">Apache Storm can be used tooload and process hello data before storing it into HDFS.</span></span>

## <a name="solution"></a><span data-ttu-id="b1b29-116">Solución</span><span class="sxs-lookup"><span data-stu-id="b1b29-116">Solution</span></span>

<span data-ttu-id="b1b29-117">Los datos de telemetría para la temperatura del motor, la temperatura ambiente y la velocidad del vehículo se registran mediante sensores.</span><span class="sxs-lookup"><span data-stu-id="b1b29-117">Telemetry data for engine temperature, ambient temperature, and vehicle speed is recorded by sensors.</span></span> <span data-ttu-id="b1b29-118">A continuación, se envían datos concentradores tooEvent junto con el número de identificación de vehículo (Niv) del automóvil hello y una marca de tiempo.</span><span class="sxs-lookup"><span data-stu-id="b1b29-118">Data is then sent tooEvent Hubs along with hello car's Vehicle Identification Number (VIN) and a time stamp.</span></span> <span data-ttu-id="b1b29-119">Desde allí, una topología de Storm con un aluvión de Apache en clúster de HDInsight lee los datos de hello, lo procesa y lo almacena en HDFS.</span><span class="sxs-lookup"><span data-stu-id="b1b29-119">From there, a Storm Topology running on an Apache Storm on HDInsight cluster reads hello data, processes it, and stores it into HDFS.</span></span>

<span data-ttu-id="b1b29-120">Durante el procesamiento, Hola Niv es tooretrieve usa información sobre el modelo de base de datos de Cosmos.</span><span class="sxs-lookup"><span data-stu-id="b1b29-120">During processing, hello VIN is used tooretrieve model information from Cosmos DB.</span></span> <span data-ttu-id="b1b29-121">Estos datos se agregan toohello flujo de datos antes de que se almacene.</span><span class="sxs-lookup"><span data-stu-id="b1b29-121">This data is added toohello data stream before it is stored.</span></span>

<span data-ttu-id="b1b29-122">componentes de Hello utilizados en hello aluvión de topología son:</span><span class="sxs-lookup"><span data-stu-id="b1b29-122">hello components used in hello Storm Topology are:</span></span>

* <span data-ttu-id="b1b29-123">**EventHubSpout** : lee los datos de Centros de eventos de Azure.</span><span class="sxs-lookup"><span data-stu-id="b1b29-123">**EventHubSpout** - reads data from Azure Event Hubs</span></span>
* <span data-ttu-id="b1b29-124">**TypeConversionBolt** -convierte Hola cadena JSON desde los centros de eventos en una tupla que contiene Hola después de los datos de sensor:</span><span class="sxs-lookup"><span data-stu-id="b1b29-124">**TypeConversionBolt** - converts hello JSON string from Event Hubs into a tuple containing hello following sensor data:</span></span>
    * <span data-ttu-id="b1b29-125">Engine temperature</span><span class="sxs-lookup"><span data-stu-id="b1b29-125">Engine temperature</span></span>
    * <span data-ttu-id="b1b29-126">Temperatura ambiente</span><span class="sxs-lookup"><span data-stu-id="b1b29-126">Ambient temperature</span></span>
    * <span data-ttu-id="b1b29-127">Velocidad</span><span class="sxs-lookup"><span data-stu-id="b1b29-127">Speed</span></span>
    * <span data-ttu-id="b1b29-128">VIN</span><span class="sxs-lookup"><span data-stu-id="b1b29-128">VIN</span></span>
    * <span data-ttu-id="b1b29-129">Timestamp</span><span class="sxs-lookup"><span data-stu-id="b1b29-129">Timestamp</span></span>
* <span data-ttu-id="b1b29-130">**DataReferencBolt** -busca modelo del vehículo Hola de base de datos de Cosmos con hello VIN</span><span class="sxs-lookup"><span data-stu-id="b1b29-130">**DataReferencBolt** - looks up hello vehicle model from Cosmos DB using hello VIN</span></span>
* <span data-ttu-id="b1b29-131">**WasbStoreBolt** -Hola de almacenes de datos tooHDFS (almacenamiento de Azure)</span><span class="sxs-lookup"><span data-stu-id="b1b29-131">**WasbStoreBolt** - stores hello data tooHDFS (Azure Storage)</span></span>

<span data-ttu-id="b1b29-132">Hola después de la imagen es un diagrama de esta solución:</span><span class="sxs-lookup"><span data-stu-id="b1b29-132">hello following image is a diagram of this solution:</span></span>

![topología de storm](./media/hdinsight-storm-iot-eventhub-documentdb/iottopology.png)

## <a name="implementation"></a><span data-ttu-id="b1b29-134">Implementación</span><span class="sxs-lookup"><span data-stu-id="b1b29-134">Implementation</span></span>

<span data-ttu-id="b1b29-135">Una completa automatizada solución para este escenario está disponible como parte del programa Hola a [HDInsight-Storm-ejemplos](https://github.com/hdinsight/hdinsight-storm-examples) repositorio en GitHub.</span><span class="sxs-lookup"><span data-stu-id="b1b29-135">A complete, automated solution for this scenario is available as part of hello [HDInsight-Storm-Examples](https://github.com/hdinsight/hdinsight-storm-examples) repository on GitHub.</span></span> <span data-ttu-id="b1b29-136">toouse en este ejemplo, siga los pasos de Hola Hola [IoTExample README. MD](https://github.com/hdinsight/hdinsight-storm-examples/blob/master/IotExample/README.md).</span><span class="sxs-lookup"><span data-stu-id="b1b29-136">toouse this example, follow hello steps in hello [IoTExample README.MD](https://github.com/hdinsight/hdinsight-storm-examples/blob/master/IotExample/README.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="b1b29-137">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="b1b29-137">Next Steps</span></span>

<span data-ttu-id="b1b29-138">Para más topologías de ejemplo de Storm, vea [Topologías de ejemplo para Storm en HDInsight](hdinsight-storm-example-topology.md).</span><span class="sxs-lookup"><span data-stu-id="b1b29-138">For more example Storm topologies, see [Example topologies for Storm on HDInsight](hdinsight-storm-example-topology.md).</span></span>

