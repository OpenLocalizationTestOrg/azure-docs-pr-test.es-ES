---
title: "Seguridad de Hadoop: clústeres de HDInsight unidos a un dominio en Azure | Microsoft Docs"
description: Aprenda a...
services: hdinsight
documentationcenter: 
author: saurinsh
manager: jhubbard
editor: cgronlun
tags: azure-portal
ms.assetid: 7dc6847d-10d4-4b5c-9c83-cc513cf91965
ms.service: hdinsight
ms.custom: hdinsightactive
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 10/31/2016
ms.author: saurinsh
ms.openlocfilehash: 303be1d303df8074283cb1d37c74923cca80ae59
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/29/2017
---
# <a name="an-introduction-to-hadoop-security-with-domain-joined-hdinsight-clusters-preview"></a><span data-ttu-id="719ca-103">Introducción a la seguridad de Hadoop con clústeres de HDInsight unidos a dominio (versión preliminar)</span><span class="sxs-lookup"><span data-stu-id="719ca-103">An introduction to Hadoop security with domain-joined HDInsight clusters (Preview)</span></span>

<span data-ttu-id="719ca-104">Hasta hoy, Azure HDInsight solo admite un único usuario administrador local. Esto funcionaba muy bien para departamentos o equipos de aplicaciones menores.</span><span class="sxs-lookup"><span data-stu-id="719ca-104">Azure HDInsight until today supported only a single user local admin. This worked great for smaller application teams or departments.</span></span> <span data-ttu-id="719ca-105">A medida que las cargas de trabajo basadas en Hadoop adquirieron más popularidad en el sector empresarial, la necesidad de funcionalidades de tipo empresarial, como la autenticación basada en Active Directory, la compatibilidad de múltiples usuarios y el control de acceso basado en roles, se hizo cada vez más importante.</span><span class="sxs-lookup"><span data-stu-id="719ca-105">As Hadoop based workloads gained more popularity in the enterprise sector, the need for enterprise grade capabilities like active directory based authentication, multi-user support, and role based access control became increasingly important.</span></span> <span data-ttu-id="719ca-106">Mediante los clústeres de HDInsight unidos a dominio, puede crear un clúster de HDInsight unido a un dominio de Active Directory y configurar una lista de empleados de la empresa que pueden autenticarse mediante Azure Active Directory para iniciar sesión en el clúster de HDInsight.</span><span class="sxs-lookup"><span data-stu-id="719ca-106">Using Domain-joined HDInsight clusters, you can create an HDInsight cluster joined to an Active Directory domain, configure a list of employees from the enterprise who can authenticate through Azure Active Directory to log on to HDInsight cluster.</span></span> <span data-ttu-id="719ca-107">Ninguna persona fuera de la empresa puede iniciar sesión o acceder al clúster de HDInsight.</span><span class="sxs-lookup"><span data-stu-id="719ca-107">Anyone outside the enterprise cannot log on or access the HDInsight cluster.</span></span> <span data-ttu-id="719ca-108">El administrador de la empresa puede configurar el control de acceso basado en roles para la seguridad de Hive con [Apache Ranger](http://hortonworks.com/apache/ranger/), que restringe el acceso a datos solo en la medida que sea necesario.</span><span class="sxs-lookup"><span data-stu-id="719ca-108">The enterprise admin can configure role based access control for Hive security using [Apache Ranger](http://hortonworks.com/apache/ranger/), thus restricting access to data to only as much as needed.</span></span> <span data-ttu-id="719ca-109">Por último, el administrador puede auditar el acceso a los datos por parte de los empleados, y los cambios realizados en las directivas de control de acceso, con lo que se consigue un alto grado de control de los recursos corporativos.</span><span class="sxs-lookup"><span data-stu-id="719ca-109">Finally, the admin can audit the data access by employees, and any changes done to access control policies, thus achieving a high degree of governance of their corporate resources.</span></span>

> [!NOTE]
> <span data-ttu-id="719ca-110">Las nuevas características descritas en esta versión preliminar solo están disponibles en los clústeres de HDInsight basados en Linux para cargas de trabajo de Hive.</span><span class="sxs-lookup"><span data-stu-id="719ca-110">The new features described in this preview are available only on Linux-based HDInsight clusters for Hive workload.</span></span> <span data-ttu-id="719ca-111">Las demás cargas de trabajo, como HBase, Spark, Storm y Kafka, se habilitarán en futuras versiones.</span><span class="sxs-lookup"><span data-stu-id="719ca-111">The other workloads, such as HBase, Spark, Storm and Kafka, will be enabled in future releases.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="719ca-112">Oozie no está habilitado en HDInsight unido a un dominio.</span><span class="sxs-lookup"><span data-stu-id="719ca-112">Oozie is not enabled on domain-joined HDInsight.</span></span>

## <a name="benefits"></a><span data-ttu-id="719ca-113">Ventajas</span><span class="sxs-lookup"><span data-stu-id="719ca-113">Benefits</span></span>
<span data-ttu-id="719ca-114">La seguridad de la empresa contiene cuatro grandes pilares; seguridad del perímetro, autenticación, autorización y cifrado.</span><span class="sxs-lookup"><span data-stu-id="719ca-114">Enterprise Security contains four big pillars – Perimeter Security, Authentication, Authorization, and Encryption.</span></span>

![Pilares de las ventajas de los clústeres de HDInsight de dominio unido](./media/hdinsight-domain-joined-introduction/hdinsight-domain-joined-four-pillars.png)<span data-ttu-id="719ca-116">.</span><span class="sxs-lookup"><span data-stu-id="719ca-116">.</span></span>

### <a name="perimeter-security"></a><span data-ttu-id="719ca-117">Seguridad del perímetro</span><span class="sxs-lookup"><span data-stu-id="719ca-117">Perimeter Security</span></span>
<span data-ttu-id="719ca-118">La seguridad del perímetro en HDInsight se logra con redes virtuales y el servicio de puerta de enlace.</span><span class="sxs-lookup"><span data-stu-id="719ca-118">Perimeter security in HDInsight is achieved using virtual networks and Gateway service.</span></span> <span data-ttu-id="719ca-119">En la actualidad, un administrador de empresa puede crear un clúster de HDInsight dentro de una red virtual y usar Grupos de seguridad de red (reglas de firewall de entrada o salida) para restringir el acceso a la red virtual.</span><span class="sxs-lookup"><span data-stu-id="719ca-119">Today, an enterprise admin can create an HDInsight cluster inside a virtual network and use Network Security Groups (inbound or outbound firewall rules) to restrict access to the virtual network.</span></span> <span data-ttu-id="719ca-120">Solo las direcciones IP definidas en las reglas de firewall de entrada podrán comunicarse con el clúster de HDInsight, lo que proporciona la seguridad del perímetro.</span><span class="sxs-lookup"><span data-stu-id="719ca-120">Only the IP addresses defined in the inbound firewall rules will be able to communicate with the HDInsight cluster, thus providing perimeter security.</span></span> <span data-ttu-id="719ca-121">Otro nivel de seguridad del perímetro se realiza mediante el servicio de puerta de enlace.</span><span class="sxs-lookup"><span data-stu-id="719ca-121">Another layer of perimeter security is achieved using Gateway service.</span></span> <span data-ttu-id="719ca-122">La puerta de enlace es el servicio que actúa como la primera línea de defensa para cualquier solicitud entrante al clúster de HDInsight.</span><span class="sxs-lookup"><span data-stu-id="719ca-122">The Gateway is the service which acts as first line of defense for any incoming request to the HDInsight cluster.</span></span> <span data-ttu-id="719ca-123">Acepta la solicitud, la valida y, solo entonces, permite que la solicitud pase a otros nodos del clúster, lo que proporciona la seguridad del perímetro para otros nodos de datos y de nombres del clúster.</span><span class="sxs-lookup"><span data-stu-id="719ca-123">It accepts the request, validates it and only then allows the request to pass to the other nodes in cluster, thus providing perimeter security to other name and data nodes in the cluster.</span></span>

### <a name="authentication"></a><span data-ttu-id="719ca-124">Autenticación</span><span class="sxs-lookup"><span data-stu-id="719ca-124">Authentication</span></span>
<span data-ttu-id="719ca-125">Con esta versión preliminar pública, un administrador de empresa puede aprovisionar un clúster de HDInsight unido a dominio en una [red virtual](https://azure.microsoft.com/services/virtual-network/).</span><span class="sxs-lookup"><span data-stu-id="719ca-125">With this public preview, an enterprise admin can provision a Domain-joined HDInsight cluster, in a [virtual network](https://azure.microsoft.com/services/virtual-network/).</span></span> <span data-ttu-id="719ca-126">Los nodos del clúster de HDInsight se unirán al dominio administrado por la empresa.</span><span class="sxs-lookup"><span data-stu-id="719ca-126">The nodes of the HDInsight cluster will be joined to the domain managed by the enterprise.</span></span> <span data-ttu-id="719ca-127">Esto se logra mediante el uso de [Azure Active Directory Domain Services](../active-directory-domain-services/active-directory-ds-overview.md).</span><span class="sxs-lookup"><span data-stu-id="719ca-127">This is achieved through use of [Azure Active Directory Domain Services](../active-directory-domain-services/active-directory-ds-overview.md).</span></span> <span data-ttu-id="719ca-128">Todos los nodos del clúster se unen a un dominio que administra la empresa.</span><span class="sxs-lookup"><span data-stu-id="719ca-128">All the nodes in the cluster are joined to a domain that the enterprise manages.</span></span> <span data-ttu-id="719ca-129">Con esta configuración, los empleados de la empresa pueden iniciar sesión en los nodos del clúster con sus credenciales de dominio.</span><span class="sxs-lookup"><span data-stu-id="719ca-129">With this setup, the enterprise employees can log on to the cluster nodes using their domain credentials.</span></span> <span data-ttu-id="719ca-130">También pueden usar sus credenciales de dominio para autenticar con otros puntos de conexión aprobados como Hue, Ambari Views, ODBC, JDBC, PowerShell y las API de REST para interactuar con el clúster.</span><span class="sxs-lookup"><span data-stu-id="719ca-130">They can also use their domain credentials to authenticate with other approved endpoints like Hue, Ambari Views, ODBC, JDBC, PowerShell and REST APIs to interact with the cluster.</span></span> <span data-ttu-id="719ca-131">El administrador tiene control total sobre la limitación del número de usuarios que interactúan con el clúster mediante estos puntos de conexión.</span><span class="sxs-lookup"><span data-stu-id="719ca-131">The admin has full control over limiting the number of users interacting with the cluster via these endpoints.</span></span>

### <a name="authorization"></a><span data-ttu-id="719ca-132">Autorización</span><span class="sxs-lookup"><span data-stu-id="719ca-132">Authorization</span></span>
<span data-ttu-id="719ca-133">Un procedimiento recomendado seguido por la mayoría de las empresas es que no todos los empleados tengan acceso a todos los recursos de empresa.</span><span class="sxs-lookup"><span data-stu-id="719ca-133">A best practice followed by most enterprises is that not every employee has access to all enterprise resources.</span></span> <span data-ttu-id="719ca-134">Asimismo, con esta versión, el administrador puede definir directivas de control de acceso basado en roles para los recursos del clúster.</span><span class="sxs-lookup"><span data-stu-id="719ca-134">Likewise, with this release, the admin can define role based access control policies for the cluster resources.</span></span> <span data-ttu-id="719ca-135">Por ejemplo, puede configurar el administrador [Apache Ranger](http://hortonworks.com/apache/ranger/) para establecer las directivas de control de acceso para Hive.</span><span class="sxs-lookup"><span data-stu-id="719ca-135">For example, the admin can configure [Apache Ranger](http://hortonworks.com/apache/ranger/) to set access control policies for Hive.</span></span> <span data-ttu-id="719ca-136">Esta capacidad garantiza que los empleados solo puedan acceder a los datos que necesitan para tener éxito en sus trabajos.</span><span class="sxs-lookup"><span data-stu-id="719ca-136">This functionality ensures that employees will be able to access only as much data as they need to be successful in their jobs.</span></span> <span data-ttu-id="719ca-137">El acceso SSH al clúster también está restringido a solo el administrador.</span><span class="sxs-lookup"><span data-stu-id="719ca-137">SSH access to the cluster is also restricted only to the administrator.</span></span>

### <a name="auditing"></a><span data-ttu-id="719ca-138">Auditoría</span><span class="sxs-lookup"><span data-stu-id="719ca-138">Auditing</span></span>
<span data-ttu-id="719ca-139">Junto con la protección de los recursos del clúster de HDInsight contra usuarios no autorizados y la protección de los datos, la auditoría de todos los accesos a los recursos del clúster y los datos es necesaria para realizar el seguimiento de los accesos no autorizados o accidentales a los recursos.</span><span class="sxs-lookup"><span data-stu-id="719ca-139">Along with protecting the HDInsight cluster resources from unauthorized users, and securing the data, auditing of all access to the cluster resources, and the data is necessary to track unauthorized or unintentional access of the resources.</span></span> <span data-ttu-id="719ca-140">Con esta versión preliminar, el administrador puede ver y notificar todos los accesos a los recursos y los datos del clúster de HDInsight.</span><span class="sxs-lookup"><span data-stu-id="719ca-140">With this preview, the admin can view and report all access to the HDInsight cluster resources and data.</span></span> <span data-ttu-id="719ca-141">El administrador también puede ver y notificar todos los cambios en las directivas de control de acceso en los puntos de conexión de Ranger Apache compatibles.</span><span class="sxs-lookup"><span data-stu-id="719ca-141">The admin can also view and report all changes to the access control policies done in Apache Ranger supported endpoints.</span></span> <span data-ttu-id="719ca-142">Un clúster de HDInsight unido a dominio utiliza la familiar interfaz de usuario de Apache Ranger para buscar registros de auditoría.</span><span class="sxs-lookup"><span data-stu-id="719ca-142">A Domain-joined HDInsight cluster uses the familiar Apache Ranger UI to search audit logs.</span></span> <span data-ttu-id="719ca-143">En el back-end, usa Ranger [Apache Solr](http://hortonworks.com/apache/solr/) para almacenar y buscar los registros.</span><span class="sxs-lookup"><span data-stu-id="719ca-143">On the backend, Ranger uses [Apache Solr](http://hortonworks.com/apache/solr/) for storing and searching the logs.</span></span>

### <a name="encryption"></a><span data-ttu-id="719ca-144">Cifrado</span><span class="sxs-lookup"><span data-stu-id="719ca-144">Encryption</span></span>
<span data-ttu-id="719ca-145">La protección de los datos es importante para cubrir los requisitos de cumplimiento y seguridad de la organización y, junto con la restricción del acceso a datos por parte de empleados no autorizados, también se deben proteger mediante su cifrado.</span><span class="sxs-lookup"><span data-stu-id="719ca-145">Protecting data is important for meeting organizational security and compliance requirements, and along with restricting access to data from unauthorized employees, it should also be secured by encrypting it.</span></span> <span data-ttu-id="719ca-146">Los almacenes de datos para clústeres de HDInsight, Azure Storage Blob y Azure Data Lake Storage admiten el [cifrado de datos](../storage/common/storage-service-encryption.md) en reposo en el lado servidor transparente.</span><span class="sxs-lookup"><span data-stu-id="719ca-146">Both the data stores for HDInsight clusters, Azure Storage Blob, and Azure Data Lake Storage support transparent server-side [encryption of data](../storage/common/storage-service-encryption.md) at rest.</span></span> <span data-ttu-id="719ca-147">Los clústeres de HDInsight seguros funcionarán perfectamente con esta funcionalidad de cifrado de los datos en reposo en el lado servidor.</span><span class="sxs-lookup"><span data-stu-id="719ca-147">Secure HDInsight clusters will seamlessly work with this server side encryption of data at rest capability.</span></span>

## <a name="next-steps"></a><span data-ttu-id="719ca-148">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="719ca-148">Next steps</span></span>
* <span data-ttu-id="719ca-149">Para configurar un clúster de HDInsight unido a dominio, consulte [Configure Domain-joined HDInsight clusters](hdinsight-domain-joined-configure.md) (Configuración de clústeres de HDInsight unidos a un dominio).</span><span class="sxs-lookup"><span data-stu-id="719ca-149">For configuring a Domain-joined HDInsight cluster, see [Configure Domain-joined HDInsight clusters](hdinsight-domain-joined-configure.md).</span></span>
* <span data-ttu-id="719ca-150">Para administrar los clústeres de HDInsight unidos a dominio, consulte [Manage Domain-joined HDInsight clusters](hdinsight-domain-joined-manage.md) (Administración de clústeres de HDInsight unidos a un dominio).</span><span class="sxs-lookup"><span data-stu-id="719ca-150">For managing a Domain-joined HDInsight clusters, see [Manage Domain-joined HDInsight clusters](hdinsight-domain-joined-manage.md).</span></span>
* <span data-ttu-id="719ca-151">Para configurar directivas de Hive y ejecución de consultas de Hive, consulte [Configure Hive policies for Domain-joined HDInsight clusters](hdinsight-domain-joined-run-hive.md) (Configuración de directivas de los clústeres de HDInsight unidos a dominio).</span><span class="sxs-lookup"><span data-stu-id="719ca-151">For configuring Hive policies and run Hive queries, see [Configure Hive policies for Domain-joined HDInsight clusters](hdinsight-domain-joined-run-hive.md).</span></span>
* <span data-ttu-id="719ca-152">Para ejecutar consultas de Hive mediante SSH en clústeres de HDInsight unidos a un dominio, consulte [Uso de SSH con HDInsight](hdinsight-hadoop-linux-use-ssh-unix.md#domainjoined).</span><span class="sxs-lookup"><span data-stu-id="719ca-152">For running Hive queries using SSH on Domain-joined HDInsight clusters, see [Use SSH with HDInsight](hdinsight-hadoop-linux-use-ssh-unix.md#domainjoined).</span></span>
