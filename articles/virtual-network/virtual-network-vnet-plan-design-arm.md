---
title: "Red Virtual (VNet) aaaAzure Guía de diseño y Plan | Documentos de Microsoft"
description: "Obtenga información acerca de cómo tooplan y diseño de redes virtuales en Azure según sus requisitos de aislamiento, la conectividad y la ubicación."
services: virtual-network
documentationcenter: na
author: jimdial
manager: carmonm
editor: tysonn
ms.assetid: 3a4a9aea-7608-4d2e-bb3c-40de2e537200
ms.service: virtual-network
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 02/08/2016
ms.author: jdial
ms.openlocfilehash: f3ffadf8cf254f64b1f86b44f90315d2bc679f63
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="plan-and-design-azure-virtual-networks"></a><span data-ttu-id="547d9-103">Planeación y diseño de redes virtuales de Azure</span><span class="sxs-lookup"><span data-stu-id="547d9-103">Plan and design Azure Virtual Networks</span></span>
<span data-ttu-id="547d9-104">Crear un tooexperiment de red virtual con es bastante fácil, pero lo más probable es que se va a implementar varias redes virtuales a través de necesidades de producción de hello tiempo toosupport de su organización.</span><span class="sxs-lookup"><span data-stu-id="547d9-104">Creating a VNet tooexperiment with is easy enough, but chances are, you will deploy multiple VNets over time toosupport hello production needs of your organization.</span></span> <span data-ttu-id="547d9-105">Con cierta planificación y diseño, debe ser capaz de toodeploy redes virtuales y conectarse a recursos de hello que necesita más eficazmente.</span><span class="sxs-lookup"><span data-stu-id="547d9-105">With some planning and design, you will be able toodeploy VNets and connect hello resources you need more effectively.</span></span> <span data-ttu-id="547d9-106">Si no está familiarizado con las redes virtuales, se recomienda que se [obtener información sobre redes virtuales](virtual-networks-overview.md) y [cómo toodeploy](virtual-networks-create-vnet-arm-pportal.md) uno antes de continuar.</span><span class="sxs-lookup"><span data-stu-id="547d9-106">If you are not familiar with VNets, it's recommended that you [learn about VNets](virtual-networks-overview.md) and [how toodeploy](virtual-networks-create-vnet-arm-pportal.md) one before proceeding.</span></span>

## <a name="plan"></a><span data-ttu-id="547d9-107">Plan</span><span class="sxs-lookup"><span data-stu-id="547d9-107">Plan</span></span>
<span data-ttu-id="547d9-108">Un conocimiento detallado de las suscripciones, las regiones y los recursos de red de Azure resulta fundamental para obtener éxito.</span><span class="sxs-lookup"><span data-stu-id="547d9-108">A thorough understanding of Azure subscriptions, regions, and network resources is critical for success.</span></span> <span data-ttu-id="547d9-109">Puede usar la lista Hola consideraciones a continuación como punto de partida.</span><span class="sxs-lookup"><span data-stu-id="547d9-109">You can use hello list of considerations below as a starting point.</span></span> <span data-ttu-id="547d9-110">Una vez que comprenda las consideraciones, puede definir requisitos de hello para el diseño de red.</span><span class="sxs-lookup"><span data-stu-id="547d9-110">Once you understand those considerations, you can define hello requirements for your network design.</span></span>

### <a name="considerations"></a><span data-ttu-id="547d9-111">Consideraciones</span><span class="sxs-lookup"><span data-stu-id="547d9-111">Considerations</span></span>
<span data-ttu-id="547d9-112">Antes de contestar Hola siguientes preguntas de planificación, tenga en cuenta Hola siguiente:</span><span class="sxs-lookup"><span data-stu-id="547d9-112">Before answering hello planning questions below, consider hello following:</span></span>

* <span data-ttu-id="547d9-113">Todo lo que se crea en Azure consta de uno o más recursos.</span><span class="sxs-lookup"><span data-stu-id="547d9-113">Everything you create in Azure is composed of one or more resources.</span></span> <span data-ttu-id="547d9-114">Una máquina virtual (VM) es un recurso, Hola adaptador interfaz de red (NIC) utilizada por una máquina virtual es un recurso, dirección IP pública Hola utilizado por una NIC es un recurso, red virtual de Hola Hola NIC es toois conectado un recurso.</span><span class="sxs-lookup"><span data-stu-id="547d9-114">A virtual machine (VM) is a resource, hello network adapter interface (NIC) used by a VM is a resource, hello public IP address used by a NIC is a resource, hello VNet hello NIC is connected toois a resource.</span></span>
* <span data-ttu-id="547d9-115">Puede crear recursos dentro de una suscripción y una [región de Azure](https://azure.microsoft.com/regions/#services) .</span><span class="sxs-lookup"><span data-stu-id="547d9-115">You create resources within an [Azure region](https://azure.microsoft.com/regions/#services) and subscription.</span></span> <span data-ttu-id="547d9-116">Recursos solo pueden ser tooa conectado red virtual que existe en hello mismo recurso de Hola de región y la suscripción se encuentra en.</span><span class="sxs-lookup"><span data-stu-id="547d9-116">Resources can only be connected tooa virtual network that exists in hello same region and subscription hello resource is in.</span></span>
* <span data-ttu-id="547d9-117">Puede conectar redes virtuales tooeach otros mediante:</span><span class="sxs-lookup"><span data-stu-id="547d9-117">You can connect virtual networks tooeach other by using:</span></span>
    * <span data-ttu-id="547d9-118">**[Intercambio de tráfico de red virtual](virtual-network-peering-overview.md)**: redes virtuales Hola deben existir en hello misma región de Azure.</span><span class="sxs-lookup"><span data-stu-id="547d9-118">**[Virtual network peering](virtual-network-peering-overview.md)**: hello virtual networks must exist in hello same Azure region.</span></span> <span data-ttu-id="547d9-119">Ancho de banda entre los recursos en redes virtuales emparejar es Hola mismo como si fueron de los recursos de hello toohello conectado misma red virtual.</span><span class="sxs-lookup"><span data-stu-id="547d9-119">Bandwidth between resources in peered virtual networks is hello same as if hello resources were connected toohello same virtual network.</span></span>
    * <span data-ttu-id="547d9-120">**Un Azure [puerta de enlace VPN](../vpn-gateway/vpn-gateway-vnet-vnet-rm-ps.md)**: redes virtuales Hola pueden existir en hello iguales, o en diferentes regiones de Azure.</span><span class="sxs-lookup"><span data-stu-id="547d9-120">**An Azure [VPN Gateway](../vpn-gateway/vpn-gateway-vnet-vnet-rm-ps.md)**: hello virtual networks can exist in hello same, or different Azure regions.</span></span> <span data-ttu-id="547d9-121">Ancho de banda entre los recursos en redes virtuales conectadas a través de una puerta de enlace de VPN está limitado por el ancho de banda de Hola de hello puerta de enlace VPN.</span><span class="sxs-lookup"><span data-stu-id="547d9-121">Bandwidth between resources in virtual networks connected through a VPN Gateway is limited by hello bandwidth of hello VPN Gateway.</span></span>
* <span data-ttu-id="547d9-122">Puede conectar red local de redes virtuales tooyour mediante uno de hello [opciones de conectividad](../vpn-gateway/vpn-gateway-about-vpngateways.md#s2smulti) disponibles en Azure.</span><span class="sxs-lookup"><span data-stu-id="547d9-122">You can connect VNets tooyour on-premises network by using one of hello [connectivity options](../vpn-gateway/vpn-gateway-about-vpngateways.md#s2smulti) available in Azure.</span></span>
* <span data-ttu-id="547d9-123">Varios recursos pueden agruparse en [grupos de recursos](../azure-resource-manager/resource-group-overview.md#resource-groups), lo que sea más fácil recursos de hello toomanage como una unidad.</span><span class="sxs-lookup"><span data-stu-id="547d9-123">Different resources can be grouped together in [resource groups](../azure-resource-manager/resource-group-overview.md#resource-groups), making it easier toomanage hello resource as a unit.</span></span> <span data-ttu-id="547d9-124">Un grupo de recursos puede contener recursos de varias regiones, siempre que pertenecen los recursos de hello toohello misma suscripción.</span><span class="sxs-lookup"><span data-stu-id="547d9-124">A resource group can contain resources from multiple regions, as long as hello resources belong toohello same subscription.</span></span>

### <a name="define-requirements"></a><span data-ttu-id="547d9-125">Definición de los requisitos</span><span class="sxs-lookup"><span data-stu-id="547d9-125">Define requirements</span></span>
<span data-ttu-id="547d9-126">Usar preguntas de Hola a continuación como un punto de partida para el diseño de red de Azure.</span><span class="sxs-lookup"><span data-stu-id="547d9-126">Use hello questions below as a starting point for your Azure network design.</span></span>    

1. <span data-ttu-id="547d9-127">¿Qué ubicaciones de Azure en el que podrá usar toohost redes virtuales?</span><span class="sxs-lookup"><span data-stu-id="547d9-127">What Azure locations will you use toohost VNets?</span></span>
2. <span data-ttu-id="547d9-128">¿Necesita tooprovide comunicación entre estas ubicaciones de Azure?</span><span class="sxs-lookup"><span data-stu-id="547d9-128">Do you need tooprovide communication between these Azure locations?</span></span>
3. <span data-ttu-id="547d9-129">¿Necesita tooprovide comunicación entre el VNet(s) de Azure y su datacenter(s) local?</span><span class="sxs-lookup"><span data-stu-id="547d9-129">Do you need tooprovide communication between your Azure VNet(s) and your on-premises datacenter(s)?</span></span>
4. <span data-ttu-id="547d9-130">¿Cuántas máquinas virtuales de infraestructura como servicio (IaaS), roles de servicios en la nube y aplicaciones web necesita para su solución?</span><span class="sxs-lookup"><span data-stu-id="547d9-130">How many Infrastructure as a Service (IaaS) VMs, cloud services roles, and web apps do you need for your solution?</span></span>
5. <span data-ttu-id="547d9-131">¿Necesita tráfico tooisolate basado en grupos de máquinas virtuales (es decir, front-end web servidores y servidores de base de datos de back-end)?</span><span class="sxs-lookup"><span data-stu-id="547d9-131">Do you need tooisolate traffic based on groups of VMs (i.e. front end web servers and back end database servers)?</span></span>
6. <span data-ttu-id="547d9-132">¿Necesita que el flujo de tráfico de toocontrol con dispositivos virtuales?</span><span class="sxs-lookup"><span data-stu-id="547d9-132">Do you need toocontrol traffic flow using virtual appliances?</span></span>
7. <span data-ttu-id="547d9-133">¿Hacer los usuarios necesidad de distintos conjuntos de permisos toodifferent recursos de Azure?</span><span class="sxs-lookup"><span data-stu-id="547d9-133">Do users need different sets of permissions toodifferent Azure resources?</span></span>

### <a name="understand-vnet-and-subnet-properties"></a><span data-ttu-id="547d9-134">Descripción de las propiedades de las redes virtuales y las subredes</span><span class="sxs-lookup"><span data-stu-id="547d9-134">Understand VNet and subnet properties</span></span>
<span data-ttu-id="547d9-135">Los recursos de las redes virtuales y las subredes ayudan a definir un límite de seguridad para las cargas de trabajo que se ejecutan en Azure.</span><span class="sxs-lookup"><span data-stu-id="547d9-135">VNet and subnets resources help define a security boundary for workloads running in Azure.</span></span> <span data-ttu-id="547d9-136">Una red virtual se caracteriza por una colección de espacios de direcciones, también denominados bloques CIDR.</span><span class="sxs-lookup"><span data-stu-id="547d9-136">A VNet is characterized by a collection of address spaces, defined as CIDR blocks.</span></span>

> [!NOTE]
> <span data-ttu-id="547d9-137">Los administradores de red ya están familiarizados con la notación CIDR.</span><span class="sxs-lookup"><span data-stu-id="547d9-137">Network administrators are familiar with CIDR notation.</span></span> <span data-ttu-id="547d9-138">Si no está familiarizado con el formato CIDR, [puede obtener más información](http://whatismyipaddress.com/cidr).</span><span class="sxs-lookup"><span data-stu-id="547d9-138">If you are not familiar with CIDR, [learn more about it](http://whatismyipaddress.com/cidr).</span></span>
>
>

<span data-ttu-id="547d9-139">Redes virtuales contienen Hola propiedades siguientes.</span><span class="sxs-lookup"><span data-stu-id="547d9-139">VNets contain hello following properties.</span></span>

| <span data-ttu-id="547d9-140">Propiedad</span><span class="sxs-lookup"><span data-stu-id="547d9-140">Property</span></span> | <span data-ttu-id="547d9-141">Description</span><span class="sxs-lookup"><span data-stu-id="547d9-141">Description</span></span> | <span data-ttu-id="547d9-142">Restricciones</span><span class="sxs-lookup"><span data-stu-id="547d9-142">Constraints</span></span> |
| --- | --- | --- |
| <span data-ttu-id="547d9-143">**name**</span><span class="sxs-lookup"><span data-stu-id="547d9-143">**name**</span></span> |<span data-ttu-id="547d9-144">Nombre de red virtual</span><span class="sxs-lookup"><span data-stu-id="547d9-144">VNet name</span></span> |<span data-ttu-id="547d9-145">Cadena de caracteres too80.</span><span class="sxs-lookup"><span data-stu-id="547d9-145">String of up too80 characters.</span></span> <span data-ttu-id="547d9-146">Puede incluir letras, números, caracteres de subrayado, puntos o guiones.</span><span class="sxs-lookup"><span data-stu-id="547d9-146">May contain letters, numbers, underscore, periods, or hyphens.</span></span> <span data-ttu-id="547d9-147">Debe empezar por una letra o un número.</span><span class="sxs-lookup"><span data-stu-id="547d9-147">Must start with a letter or number.</span></span> <span data-ttu-id="547d9-148">Debe finalizar en una letra, un número o un carácter de subrayado.</span><span class="sxs-lookup"><span data-stu-id="547d9-148">Must end with a letter, number, or underscore.</span></span> <span data-ttu-id="547d9-149">Puede incluir letras mayúsculas o minúsculas.</span><span class="sxs-lookup"><span data-stu-id="547d9-149">Can contains upper or lower case letters.</span></span> |
| <span data-ttu-id="547d9-150">**ubicación**</span><span class="sxs-lookup"><span data-stu-id="547d9-150">**location**</span></span> |<span data-ttu-id="547d9-151">Ubicación de Azure (también denominado tooas región).</span><span class="sxs-lookup"><span data-stu-id="547d9-151">Azure location (also referred tooas region).</span></span> |<span data-ttu-id="547d9-152">Debe ser uno de hello ubicaciones válidas de Azure.</span><span class="sxs-lookup"><span data-stu-id="547d9-152">Must be one of hello valid Azure locations.</span></span> |
| <span data-ttu-id="547d9-153">**addressSpace**</span><span class="sxs-lookup"><span data-stu-id="547d9-153">**addressSpace**</span></span> |<span data-ttu-id="547d9-154">Colección de prefijos de direcciones que constituyen Hola red virtual en la notación CIDR.</span><span class="sxs-lookup"><span data-stu-id="547d9-154">Collection of address prefixes that make up hello VNet in CIDR notation.</span></span> |<span data-ttu-id="547d9-155">Debe ser una matriz de bloques de direcciones CIDR válidos, incluidos intervalos de direcciones IP públicas.</span><span class="sxs-lookup"><span data-stu-id="547d9-155">Must be an array of valid CIDR address blocks, including public IP address ranges.</span></span> |
| <span data-ttu-id="547d9-156">**subredes**</span><span class="sxs-lookup"><span data-stu-id="547d9-156">**subnets**</span></span> |<span data-ttu-id="547d9-157">Colección de subredes que componen Hola red virtual</span><span class="sxs-lookup"><span data-stu-id="547d9-157">Collection of subnets that make up hello VNet</span></span> |<span data-ttu-id="547d9-158">vea la tabla de propiedades de subred de hello siguiente.</span><span class="sxs-lookup"><span data-stu-id="547d9-158">see hello subnet properties table below.</span></span> |
| <span data-ttu-id="547d9-159">**dhcpOptions**</span><span class="sxs-lookup"><span data-stu-id="547d9-159">**dhcpOptions**</span></span> |<span data-ttu-id="547d9-160">El objeto que contiene una propiedad requerida única llamada **dnsServers**.</span><span class="sxs-lookup"><span data-stu-id="547d9-160">Object that contains a single required property named **dnsServers**.</span></span> | |
| <span data-ttu-id="547d9-161">**dnsServers**</span><span class="sxs-lookup"><span data-stu-id="547d9-161">**dnsServers**</span></span> |<span data-ttu-id="547d9-162">Matriz de servidores DNS usados por hello red virtual.</span><span class="sxs-lookup"><span data-stu-id="547d9-162">Array of DNS servers used by hello VNet.</span></span> <span data-ttu-id="547d9-163">Si no se especifica ningún servidor, se usa la resolución interna de nombres de Azure.</span><span class="sxs-lookup"><span data-stu-id="547d9-163">If no server is specified, Azure internal name resolution is used.</span></span> |<span data-ttu-id="547d9-164">Debe ser una matriz de los servidores DNS too10, mediante una dirección IP.</span><span class="sxs-lookup"><span data-stu-id="547d9-164">Must be an array of up too10 DNS servers, by IP address.</span></span> |

<span data-ttu-id="547d9-165">Una subred es un recurso secundario de una red virtual que le ayudará a definir segmentos de espacios de direcciones dentro de un bloque CIDR mediante prefijos de direcciones IP.</span><span class="sxs-lookup"><span data-stu-id="547d9-165">A subnet is a child resource of a VNet, and helps define segments of address spaces within a CIDR block, using IP address prefixes.</span></span> <span data-ttu-id="547d9-166">Pueden agregarse NIC toosubnets y tooVMs conectados, proporcionar conectividad para diversas cargas de trabajo.</span><span class="sxs-lookup"><span data-stu-id="547d9-166">NICs can be added toosubnets, and connected tooVMs, providing connectivity for various workloads.</span></span>

<span data-ttu-id="547d9-167">Subredes contienen Hola propiedades siguientes.</span><span class="sxs-lookup"><span data-stu-id="547d9-167">Subnets contain hello following properties.</span></span>

| <span data-ttu-id="547d9-168">Propiedad</span><span class="sxs-lookup"><span data-stu-id="547d9-168">Property</span></span> | <span data-ttu-id="547d9-169">Description</span><span class="sxs-lookup"><span data-stu-id="547d9-169">Description</span></span> | <span data-ttu-id="547d9-170">Restricciones</span><span class="sxs-lookup"><span data-stu-id="547d9-170">Constraints</span></span> |
| --- | --- | --- |
| <span data-ttu-id="547d9-171">**name**</span><span class="sxs-lookup"><span data-stu-id="547d9-171">**name**</span></span> |<span data-ttu-id="547d9-172">Nombre de subred</span><span class="sxs-lookup"><span data-stu-id="547d9-172">Subnet name</span></span> |<span data-ttu-id="547d9-173">Cadena de caracteres too80.</span><span class="sxs-lookup"><span data-stu-id="547d9-173">String of up too80 characters.</span></span> <span data-ttu-id="547d9-174">Puede incluir letras, números, caracteres de subrayado, puntos o guiones.</span><span class="sxs-lookup"><span data-stu-id="547d9-174">May contain letters, numbers, underscore, periods, or hyphens.</span></span> <span data-ttu-id="547d9-175">Debe empezar por una letra o un número.</span><span class="sxs-lookup"><span data-stu-id="547d9-175">Must start with a letter or number.</span></span> <span data-ttu-id="547d9-176">Debe finalizar en una letra, un número o un carácter de subrayado.</span><span class="sxs-lookup"><span data-stu-id="547d9-176">Must end with a letter, number, or underscore.</span></span> <span data-ttu-id="547d9-177">Puede incluir letras mayúsculas o minúsculas.</span><span class="sxs-lookup"><span data-stu-id="547d9-177">Can contains upper or lower case letters.</span></span> |
| <span data-ttu-id="547d9-178">**ubicación**</span><span class="sxs-lookup"><span data-stu-id="547d9-178">**location**</span></span> |<span data-ttu-id="547d9-179">Ubicación de Azure (también denominado tooas región).</span><span class="sxs-lookup"><span data-stu-id="547d9-179">Azure location (also referred tooas region).</span></span> |<span data-ttu-id="547d9-180">Debe ser uno de hello ubicaciones válidas de Azure.</span><span class="sxs-lookup"><span data-stu-id="547d9-180">Must be one of hello valid Azure locations.</span></span> |
| <span data-ttu-id="547d9-181">**addressPrefix**</span><span class="sxs-lookup"><span data-stu-id="547d9-181">**addressPrefix**</span></span> |<span data-ttu-id="547d9-182">Prefijo de dirección única que componen la subred de hello en la notación CIDR</span><span class="sxs-lookup"><span data-stu-id="547d9-182">Single address prefix that make up hello subnet in CIDR notation</span></span> |<span data-ttu-id="547d9-183">Debe ser un único bloque CIDR que forma parte de uno de los espacios de direcciones de la red virtual de Hola.</span><span class="sxs-lookup"><span data-stu-id="547d9-183">Must be a single CIDR block that is part of one of hello VNet's address spaces.</span></span> |
| <span data-ttu-id="547d9-184">**networkSecurityGroup**</span><span class="sxs-lookup"><span data-stu-id="547d9-184">**networkSecurityGroup**</span></span> |<span data-ttu-id="547d9-185">NSG aplica toohello subred</span><span class="sxs-lookup"><span data-stu-id="547d9-185">NSG applied toohello subnet</span></span> | |
| <span data-ttu-id="547d9-186">**routeTable**</span><span class="sxs-lookup"><span data-stu-id="547d9-186">**routeTable**</span></span> |<span data-ttu-id="547d9-187">Tabla de ruta aplicado toohello subred</span><span class="sxs-lookup"><span data-stu-id="547d9-187">Route table applied toohello subnet</span></span> | |
| <span data-ttu-id="547d9-188">**ipConfigurations**</span><span class="sxs-lookup"><span data-stu-id="547d9-188">**ipConfigurations**</span></span> |<span data-ttu-id="547d9-189">Colección de objetos de configuración de IP usa NIC conectado toohello subred</span><span class="sxs-lookup"><span data-stu-id="547d9-189">Collection of IP configuration objects used by NICs connected toohello subnet</span></span> | |

### <a name="name-resolution"></a><span data-ttu-id="547d9-190">Resolución de nombres</span><span class="sxs-lookup"><span data-stu-id="547d9-190">Name resolution</span></span>
<span data-ttu-id="547d9-191">De forma predeterminada, se utiliza la red virtual [resolución de nombres que viene con Azure](virtual-networks-name-resolution-for-vms-and-role-instances.md) tooresolve nombres Hola red virtual y en Hola Internet pública.</span><span class="sxs-lookup"><span data-stu-id="547d9-191">By default, your VNet uses [Azure-provided name resolution](virtual-networks-name-resolution-for-vms-and-role-instances.md) tooresolve names inside hello VNet, and on hello public Internet.</span></span> <span data-ttu-id="547d9-192">Sin embargo, si se conectan a los centros de datos de redes virtuales tooyour local, deberá tooprovide [su propio servidor DNS](virtual-networks-name-resolution-for-vms-and-role-instances.md) tooresolve nombres entre las redes.</span><span class="sxs-lookup"><span data-stu-id="547d9-192">However, if you connect your VNets tooyour on-premises data centers, you need tooprovide [your own DNS server](virtual-networks-name-resolution-for-vms-and-role-instances.md) tooresolve names between your networks.</span></span>  

### <a name="limits"></a><span data-ttu-id="547d9-193">límites</span><span class="sxs-lookup"><span data-stu-id="547d9-193">Limits</span></span>
<span data-ttu-id="547d9-194">Revise los límites de red de hello en hello [Azure tiene una limitación](../azure-subscription-service-limits.md#networking-limits) tooensure de artículo que su diseño no entra en conflicto con alguno de los límites de Hola.</span><span class="sxs-lookup"><span data-stu-id="547d9-194">Review hello networking limits in hello [Azure limits](../azure-subscription-service-limits.md#networking-limits) article tooensure that your design doesn't conflict with any of hello limits.</span></span> <span data-ttu-id="547d9-195">Algunos límites se pueden aumentar con la apertura de una incidencia de soporte técnico.</span><span class="sxs-lookup"><span data-stu-id="547d9-195">Some limits can be increased by opening a support ticket.</span></span>

### <a name="role-based-access-control-rbac"></a><span data-ttu-id="547d9-196">Control de acceso basado en rol (RBAC)</span><span class="sxs-lookup"><span data-stu-id="547d9-196">Role-Based Access Control (RBAC)</span></span>
<span data-ttu-id="547d9-197">Puede usar [RBAC de Azure](../active-directory/role-based-access-built-in-roles.md) nivel de hello toocontrol de usuarios diferentes de acceso puede tener toodifferent recursos en Azure.</span><span class="sxs-lookup"><span data-stu-id="547d9-197">You can use [Azure RBAC](../active-directory/role-based-access-built-in-roles.md) toocontrol hello level of access different users may have toodifferent resources in Azure.</span></span> <span data-ttu-id="547d9-198">De este modo puede dividir el trabajo de hello realizado por el equipo según sus necesidades.</span><span class="sxs-lookup"><span data-stu-id="547d9-198">That way you can segregate hello work done by your team based on their needs.</span></span>

<span data-ttu-id="547d9-199">En lo que las redes virtuales están en cuestión, los usuarios de hello **red colaborador** rol tiene control total sobre los recursos de red virtual de Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="547d9-199">As far as virtual networks are concerned, users in hello **Network Contributor** role have full control over Azure Resource Manager virtual network resources.</span></span> <span data-ttu-id="547d9-200">De igual forma, los usuarios de hello **clásico colaborador de red** rol tiene control total sobre los recursos de red virtual clásica.</span><span class="sxs-lookup"><span data-stu-id="547d9-200">Similarly, users in hello **Classic Network Contributor** role have full control over classic virtual network resources.</span></span>

> [!NOTE]
> <span data-ttu-id="547d9-201">También puede [crear sus propios roles](../active-directory/role-based-access-control-configure.md) tooseparate sus necesidades administrativas.</span><span class="sxs-lookup"><span data-stu-id="547d9-201">You can also [create your own roles](../active-directory/role-based-access-control-configure.md) tooseparate your administrative needs.</span></span>
>
>

## <a name="design"></a><span data-ttu-id="547d9-202">Diseño</span><span class="sxs-lookup"><span data-stu-id="547d9-202">Design</span></span>
<span data-ttu-id="547d9-203">Una vez que sepa respuestas hello toohello preguntas en hello [planear](#Plan) sección, revise los siguientes Hola antes de definir las Vnet.</span><span class="sxs-lookup"><span data-stu-id="547d9-203">Once you know hello answers toohello questions in hello [Plan](#Plan) section, review hello following before defining your VNets.</span></span>

### <a name="number-of-subscriptions-and-vnets"></a><span data-ttu-id="547d9-204">Cantidad de suscripciones y redes virtuales</span><span class="sxs-lookup"><span data-stu-id="547d9-204">Number of subscriptions and VNets</span></span>
<span data-ttu-id="547d9-205">Considere la posibilidad de crear varias redes virtuales en hello los escenarios siguientes:</span><span class="sxs-lookup"><span data-stu-id="547d9-205">You should consider creating multiple VNets in hello following scenarios:</span></span>

* <span data-ttu-id="547d9-206">**Máquinas virtuales que necesitan toobe situada en ubicaciones diferentes de Azure**.</span><span class="sxs-lookup"><span data-stu-id="547d9-206">**VMs that need toobe placed in different Azure locations**.</span></span> <span data-ttu-id="547d9-207">Las redes virtuales de Azure son regionales.</span><span class="sxs-lookup"><span data-stu-id="547d9-207">VNets in Azure are regional.</span></span> <span data-ttu-id="547d9-208">No pueden abarcar ubicaciones.</span><span class="sxs-lookup"><span data-stu-id="547d9-208">They cannot span locations.</span></span> <span data-ttu-id="547d9-209">Por lo tanto, necesitará al menos una red virtual para cada ubicación de Azure que desee toohost las máquinas virtuales en.</span><span class="sxs-lookup"><span data-stu-id="547d9-209">Therefore you need at least one VNet for each Azure location you want toohost VMs in.</span></span>
* <span data-ttu-id="547d9-210">**Las cargas de trabajo que necesitan toobe completamente aislada entre sí**.</span><span class="sxs-lookup"><span data-stu-id="547d9-210">**Workloads that need toobe completely isolated from one another**.</span></span> <span data-ttu-id="547d9-211">Puede crear redes virtuales independientes, ese Hola de uso incluso mismo espacios de direcciones IP, tooisolate distintas cargas de trabajo entre sí.</span><span class="sxs-lookup"><span data-stu-id="547d9-211">You can create separate VNets, that even use hello same IP address spaces, tooisolate different workloads from one another.</span></span>

<span data-ttu-id="547d9-212">Tenga en cuenta que los límites de Hola que se ven arriba son por cada región por suscripción.</span><span class="sxs-lookup"><span data-stu-id="547d9-212">Keep in mind that hello limits you see above are per region, per subscription.</span></span> <span data-ttu-id="547d9-213">Esto significa que puede utilizar varias suscripciones tooincrease Hola límite de recursos, puede mantener en Azure.</span><span class="sxs-lookup"><span data-stu-id="547d9-213">That means you can use multiple subscriptions tooincrease hello limit of resources you can maintain in Azure.</span></span> <span data-ttu-id="547d9-214">Puede usar una VPN de sitio a sitio o un circuito de ExpressRoute, tooconnect redes virtuales en distintas suscripciones.</span><span class="sxs-lookup"><span data-stu-id="547d9-214">You can use a site-to-site VPN, or an ExpressRoute circuit, tooconnect VNets in different subscriptions.</span></span>

### <a name="subscription-and-vnet-design-patterns"></a><span data-ttu-id="547d9-215">Patrones de diseño de redes virtuales y suscripciones</span><span class="sxs-lookup"><span data-stu-id="547d9-215">Subscription and VNet design patterns</span></span>
<span data-ttu-id="547d9-216">Hola tabla siguiente muestran algunos patrones de diseño común para el uso de suscripciones y redes virtuales.</span><span class="sxs-lookup"><span data-stu-id="547d9-216">hello table below shows some common design patterns for using subscriptions and VNets.</span></span>

| <span data-ttu-id="547d9-217">Escenario</span><span class="sxs-lookup"><span data-stu-id="547d9-217">Scenario</span></span> | <span data-ttu-id="547d9-218">Diagrama</span><span class="sxs-lookup"><span data-stu-id="547d9-218">Diagram</span></span> | <span data-ttu-id="547d9-219">Ventajas</span><span class="sxs-lookup"><span data-stu-id="547d9-219">Pros</span></span> | <span data-ttu-id="547d9-220">Desventajas</span><span class="sxs-lookup"><span data-stu-id="547d9-220">Cons</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="547d9-221">Suscripción única, dos redes virtuales por aplicación.</span><span class="sxs-lookup"><span data-stu-id="547d9-221">Single subscription, two VNets per app</span></span> |![Suscripción única](./media/virtual-network-vnet-plan-design-arm/figure1.png) |<span data-ttu-id="547d9-223">Una sola suscripción toomanage.</span><span class="sxs-lookup"><span data-stu-id="547d9-223">Only one subscription toomanage.</span></span> |<span data-ttu-id="547d9-224">Número máximo de redes virtuales por región de Azure.</span><span class="sxs-lookup"><span data-stu-id="547d9-224">Maximum number of VNets per Azure region.</span></span> <span data-ttu-id="547d9-225">Necesita más suscripciones después de ese límite.</span><span class="sxs-lookup"><span data-stu-id="547d9-225">You need more subscriptions after that.</span></span> <span data-ttu-id="547d9-226">Hola de revisión [Azure tiene una limitación](../azure-subscription-service-limits.md#networking-limits) artículo para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="547d9-226">Review hello [Azure limits](../azure-subscription-service-limits.md#networking-limits) article for details.</span></span> |
| <span data-ttu-id="547d9-227">Una suscripción por aplicación, dos redes virtuales por aplicación.</span><span class="sxs-lookup"><span data-stu-id="547d9-227">One subscription per app, two VNets per app</span></span> |![Suscripción única](./media/virtual-network-vnet-plan-design-arm/figure2.png) |<span data-ttu-id="547d9-229">Usa solo dos redes virtuales por suscripción.</span><span class="sxs-lookup"><span data-stu-id="547d9-229">Uses only two VNets per subscription.</span></span> |<span data-ttu-id="547d9-230">Toomanage más difícil cuando hay demasiadas aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="547d9-230">Harder toomanage when there are too many apps.</span></span> |
| <span data-ttu-id="547d9-231">Una suscripción por unidad de negocio, dos redes virtuales por aplicación.</span><span class="sxs-lookup"><span data-stu-id="547d9-231">One subscription per business unit, two VNets per app.</span></span> |![Suscripción única](./media/virtual-network-vnet-plan-design-arm/figure3.png) |<span data-ttu-id="547d9-233">Equilibrio entre la cantidad de suscripciones y las redes virtuales.</span><span class="sxs-lookup"><span data-stu-id="547d9-233">Balance between number of subscriptions and VNets.</span></span> |<span data-ttu-id="547d9-234">Número máximo de redes virtuales por unidad de negocio (suscripción).</span><span class="sxs-lookup"><span data-stu-id="547d9-234">Maximum number of VNets per business unit (subscription).</span></span> <span data-ttu-id="547d9-235">Hola de revisión [Azure tiene una limitación](../azure-subscription-service-limits.md#networking-limits) artículo para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="547d9-235">Review hello [Azure limits](../azure-subscription-service-limits.md#networking-limits) article for details.</span></span> |
| <span data-ttu-id="547d9-236">Una suscripción por unidad de negocio, dos redes virtuales por grupo de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="547d9-236">One subscription per business unit, two VNets per group of apps.</span></span> |![Suscripción única](./media/virtual-network-vnet-plan-design-arm/figure4.png) |<span data-ttu-id="547d9-238">Equilibrio entre la cantidad de suscripciones y las redes virtuales.</span><span class="sxs-lookup"><span data-stu-id="547d9-238">Balance between number of subscriptions and VNets.</span></span> |<span data-ttu-id="547d9-239">Las aplicaciones se deben aislar mediante subredes y NSG.</span><span class="sxs-lookup"><span data-stu-id="547d9-239">Apps must be isolated by using subnets and NSGs.</span></span> |

### <a name="number-of-subnets"></a><span data-ttu-id="547d9-240">Cantidad de subredes</span><span class="sxs-lookup"><span data-stu-id="547d9-240">Number of subnets</span></span>
<span data-ttu-id="547d9-241">Debe considerar varias subredes en una red virtual en hello los escenarios siguientes:</span><span class="sxs-lookup"><span data-stu-id="547d9-241">You should consider multiple subnets in a VNet in hello following scenarios:</span></span>

* <span data-ttu-id="547d9-242">**No hay direcciones IP privadas suficientes para todas las NIC de una subred**.</span><span class="sxs-lookup"><span data-stu-id="547d9-242">**Not enough private IP addresses for all NICs in a subnet**.</span></span> <span data-ttu-id="547d9-243">Si el espacio de direcciones de subred no contiene suficientes direcciones IP para número de Hola de NIC en la subred de hello, deberá toocreate varias subredes.</span><span class="sxs-lookup"><span data-stu-id="547d9-243">If your subnet address space does not contain enough IP addresses for hello number of NICs in hello subnet, you need toocreate multiple subnets.</span></span> <span data-ttu-id="547d9-244">Tenga en cuenta que Azure reserva 5 direcciones IP privadas de cada subred que no se puede usar: Hola primero y último direcciones de espacio de direcciones de hello (para la dirección de subred de Hola y multidifusión) y toobe 3 direcciones utilizado internamente (para fines de DHCP y DNS).</span><span class="sxs-lookup"><span data-stu-id="547d9-244">Keep in mind that Azure reserves 5 private IP addresses from each subnet that cannot be used: hello first and last addresses of hello address space (for hello subnet address, and multicast) and 3 addresses toobe used internally (for DHCP and DNS purposes).</span></span>
* <span data-ttu-id="547d9-245">**Seguridad**.</span><span class="sxs-lookup"><span data-stu-id="547d9-245">**Security**.</span></span> <span data-ttu-id="547d9-246">Puede utilizar grupos de tooseparate de subredes de máquinas virtuales entre sí para las cargas de trabajo que tienen una capa de la estructura y aplicar diferentes [grupos de seguridad (NSG) de red](virtual-networks-nsg.md#subnets) para esas subredes.</span><span class="sxs-lookup"><span data-stu-id="547d9-246">You can use subnets tooseparate groups of VMs from one another for workloads that have a multi-layer structure, and apply different [network security groups (NSGs)](virtual-networks-nsg.md#subnets) for those subnets.</span></span>
* <span data-ttu-id="547d9-247">**Conectividad híbrida**.</span><span class="sxs-lookup"><span data-stu-id="547d9-247">**Hybrid connectivity**.</span></span> <span data-ttu-id="547d9-248">Puede utilizar puertas de enlace VPN y circuitos ExpressRoute demasiado[conectar](../vpn-gateway/vpn-gateway-about-vpngateways.md#s2smulti) su tooone de redes virtuales otro, y tooyour centros de datos local.</span><span class="sxs-lookup"><span data-stu-id="547d9-248">You can use VPN gateways and ExpressRoute circuits too[connect](../vpn-gateway/vpn-gateway-about-vpngateways.md#s2smulti) your VNets tooone another, and tooyour on-premises data center(s).</span></span> <span data-ttu-id="547d9-249">Las puertas de enlace VPN y circuitos ExpressRoute requieren una subred de su propios toobe creado.</span><span class="sxs-lookup"><span data-stu-id="547d9-249">VPN gateways and ExpressRoute circuits require a subnet of their own toobe created.</span></span>
* <span data-ttu-id="547d9-250">**Aplicaciones virtuales**.</span><span class="sxs-lookup"><span data-stu-id="547d9-250">**Virtual appliances**.</span></span> <span data-ttu-id="547d9-251">Puede utilizar una aplicación virtual, como un firewall, un acelerador de WAN o una puerta de enlace de VPN en una red virtual de Azure.</span><span class="sxs-lookup"><span data-stu-id="547d9-251">You can use a virtual appliance, such as a firewall, WAN accelerator, or VPN gateway in an Azure VNet.</span></span> <span data-ttu-id="547d9-252">Al hacerlo, necesita demasiado[enrutar el tráfico](virtual-networks-udr-overview.md) aparatos de toothose y aislarlos en su propia subred.</span><span class="sxs-lookup"><span data-stu-id="547d9-252">When you do so, you need too[route traffic](virtual-networks-udr-overview.md) toothose appliances and isolate them in their own subnet.</span></span>

### <a name="subnet-and-nsg-design-patterns"></a><span data-ttu-id="547d9-253">Patrones de diseño de subredes y NSG</span><span class="sxs-lookup"><span data-stu-id="547d9-253">Subnet and NSG design patterns</span></span>
<span data-ttu-id="547d9-254">Hola tabla siguiente muestran algunos modelos de diseño comunes de uso de subredes.</span><span class="sxs-lookup"><span data-stu-id="547d9-254">hello table below shows some common design patterns for using subnets.</span></span>

| <span data-ttu-id="547d9-255">Escenario</span><span class="sxs-lookup"><span data-stu-id="547d9-255">Scenario</span></span> | <span data-ttu-id="547d9-256">Diagrama</span><span class="sxs-lookup"><span data-stu-id="547d9-256">Diagram</span></span> | <span data-ttu-id="547d9-257">Ventajas</span><span class="sxs-lookup"><span data-stu-id="547d9-257">Pros</span></span> | <span data-ttu-id="547d9-258">Desventajas</span><span class="sxs-lookup"><span data-stu-id="547d9-258">Cons</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="547d9-259">Una sola subred, NSG por nivel de aplicación, por aplicación.</span><span class="sxs-lookup"><span data-stu-id="547d9-259">Single subnet, NSGs per application layer, per app</span></span> |![Subred única](./media/virtual-network-vnet-plan-design-arm/figure5.png) |<span data-ttu-id="547d9-261">Solo un toomanage de subred.</span><span class="sxs-lookup"><span data-stu-id="547d9-261">Only one subnet toomanage.</span></span> |<span data-ttu-id="547d9-262">Varios tooisolate necesario de NSG cada aplicación.</span><span class="sxs-lookup"><span data-stu-id="547d9-262">Multiple NSGs necessary tooisolate each application.</span></span> |
| <span data-ttu-id="547d9-263">Una subred por aplicación, NSG por nivel de aplicación.</span><span class="sxs-lookup"><span data-stu-id="547d9-263">One subnet per app, NSGs per application layer</span></span> |![Subred por aplicación](./media/virtual-network-vnet-plan-design-arm/figure6.png) |<span data-ttu-id="547d9-265">Menos toomanage de NSG.</span><span class="sxs-lookup"><span data-stu-id="547d9-265">Fewer NSGs toomanage.</span></span> |<span data-ttu-id="547d9-266">Toomanage de varias subredes.</span><span class="sxs-lookup"><span data-stu-id="547d9-266">Multiple subnets toomanage.</span></span> |
| <span data-ttu-id="547d9-267">Una sola subred por nivel de aplicación, NSG por aplicación.</span><span class="sxs-lookup"><span data-stu-id="547d9-267">One subnet per application layer, NSGs per app.</span></span> |![Subred por nivel](./media/virtual-network-vnet-plan-design-arm/figure7.png) |<span data-ttu-id="547d9-269">Equilibrio entre la cantidad de subredes y los NSG.</span><span class="sxs-lookup"><span data-stu-id="547d9-269">Balance between number of subnets and NSGs.</span></span> |<span data-ttu-id="547d9-270">Número máximo de NSG por suscripción.</span><span class="sxs-lookup"><span data-stu-id="547d9-270">Maximum number of NSGs per subscription.</span></span> <span data-ttu-id="547d9-271">Hola de revisión [Azure tiene una limitación](../azure-subscription-service-limits.md#networking-limits) artículo para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="547d9-271">Review hello [Azure limits](../azure-subscription-service-limits.md#networking-limits) article for details.</span></span> |
| <span data-ttu-id="547d9-272">Una subred por nivel de aplicación, por aplicación, NSG por subred.</span><span class="sxs-lookup"><span data-stu-id="547d9-272">One subnet per application layer, per app, NSGs per subnet</span></span> |![Subred por nivel por aplicación](./media/virtual-network-vnet-plan-design-arm/figure8.png) |<span data-ttu-id="547d9-274">Posiblemente, una cantidad menor de NSG.</span><span class="sxs-lookup"><span data-stu-id="547d9-274">Possibly smaller number of NSGs.</span></span> |<span data-ttu-id="547d9-275">Toomanage de varias subredes.</span><span class="sxs-lookup"><span data-stu-id="547d9-275">Multiple subnets toomanage.</span></span> |

## <a name="sample-design"></a><span data-ttu-id="547d9-276">Ejemplo de diseño</span><span class="sxs-lookup"><span data-stu-id="547d9-276">Sample design</span></span>
<span data-ttu-id="547d9-277">aplicación de hello tooillustrate de información de hello en este artículo, considere la posibilidad de hello siguiendo el escenario.</span><span class="sxs-lookup"><span data-stu-id="547d9-277">tooillustrate hello application of hello information in this article, consider hello following scenario.</span></span>

<span data-ttu-id="547d9-278">Trabaja para una empresa que tiene 2 centros de datos en Norteamérica y dos centros de datos en Europa.</span><span class="sxs-lookup"><span data-stu-id="547d9-278">You work for a company that has 2 data centers in North America, and two data centers Europe.</span></span> <span data-ttu-id="547d9-279">Ha identificado 6 a aplicaciones de nuestros clientes diferentes mantenida por 2 diferentes unidades de negocio que desea toomigrate tooAzure como una prueba piloto.</span><span class="sxs-lookup"><span data-stu-id="547d9-279">You identified 6 different customer facing applications maintained by 2 different business units that you want toomigrate tooAzure as a pilot.</span></span> <span data-ttu-id="547d9-280">arquitectura básica de Hola para aplicaciones de hello son los siguientes:</span><span class="sxs-lookup"><span data-stu-id="547d9-280">hello basic architecture for hello applications are as follows:</span></span>

* <span data-ttu-id="547d9-281">App1, App2, App3 y App4 son aplicaciones web hospedadas en servidores Linux que ejecutan Ubuntu.</span><span class="sxs-lookup"><span data-stu-id="547d9-281">App1, App2, App3, and App4 are web applications hosted on Linux servers running Ubuntu.</span></span> <span data-ttu-id="547d9-282">Cada aplicación conecta a servidor de aplicaciones independientes de tooa que hospeda los servicios RESTful en servidores Linux.</span><span class="sxs-lookup"><span data-stu-id="547d9-282">Each application connects tooa separate application server that hosts RESTful services on Linux servers.</span></span> <span data-ttu-id="547d9-283">servicios RESTful Hola conectan la base de datos de MySQL tooa back-end.</span><span class="sxs-lookup"><span data-stu-id="547d9-283">hello RESTful services connect tooa back end MySQL database.</span></span>
* <span data-ttu-id="547d9-284">App5 y App6 son aplicaciones web hospedadas en servidores Windows que ejecutan Windows Server 2012 R2.</span><span class="sxs-lookup"><span data-stu-id="547d9-284">App5 and App6 are web applications hosted on Windows servers running Windows Server 2012 R2.</span></span> <span data-ttu-id="547d9-285">Cada aplicación conecta a base de datos de SQL Server de back-end de tooa.</span><span class="sxs-lookup"><span data-stu-id="547d9-285">Each application connects tooa back end SQL Server database.</span></span>
* <span data-ttu-id="547d9-286">Todas las aplicaciones están hospedadas actualmente en uno de los centros de datos de la compañía de hello en América del Norte.</span><span class="sxs-lookup"><span data-stu-id="547d9-286">All apps are currently hosted in one of hello company's data centers in North America.</span></span>
* <span data-ttu-id="547d9-287">centros de datos locales de Hello usar espacio de direcciones de hello 10.0.0.0/8.</span><span class="sxs-lookup"><span data-stu-id="547d9-287">hello on-premises data centers use hello 10.0.0.0/8 address space.</span></span>

<span data-ttu-id="547d9-288">Necesita una solución de red virtual que cumpla Hola según los requisitos de toodesign:</span><span class="sxs-lookup"><span data-stu-id="547d9-288">You need toodesign a virtual network solution that meets hello following requirements:</span></span>

* <span data-ttu-id="547d9-289">El consumo de recursos de las unidades de negocio no debería afectar a ninguna otra unidad de negocio.</span><span class="sxs-lookup"><span data-stu-id="547d9-289">Each business unit should not be affected by resource consumption of other business units.</span></span>
* <span data-ttu-id="547d9-290">Debería minimizar la cantidad de Hola de redes virtuales y subredes toomake la administración sea más fácil.</span><span class="sxs-lookup"><span data-stu-id="547d9-290">You should minimize hello amount of VNets and subnets toomake management easier.</span></span>
* <span data-ttu-id="547d9-291">Cada unidad de negocio debe tener una sola red virtual de prueba/desarrollo para usar para todas las aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="547d9-291">Each business unit should have a single test/development VNet used for all applications.</span></span>
* <span data-ttu-id="547d9-292">Cada aplicación se hospeda en 2 centros de datos de Azure distintos por continente (Norteamérica y Europa).</span><span class="sxs-lookup"><span data-stu-id="547d9-292">Each application is hosted in 2 different Azure data centers per continent (North America and Europe).</span></span>
* <span data-ttu-id="547d9-293">Las aplicaciones están completamente aisladas entre sí.</span><span class="sxs-lookup"><span data-stu-id="547d9-293">Each application is completely isolated from each other.</span></span>
* <span data-ttu-id="547d9-294">Cada aplicación puede tener acceso los clientes a través de hello Internet mediante HTTP.</span><span class="sxs-lookup"><span data-stu-id="547d9-294">Each application can be accessed by customers over hello Internet using HTTP.</span></span>
* <span data-ttu-id="547d9-295">Puede tener acceso a cada aplicación por centros de datos de los usuarios conectados toohello local mediante el uso de un túnel cifrado.</span><span class="sxs-lookup"><span data-stu-id="547d9-295">Each application can be accessed by users connected toohello on-premises data centers by using an encrypted tunnel.</span></span>
* <span data-ttu-id="547d9-296">Centros de datos de conexión local tooon deben usar los dispositivos VPN existentes.</span><span class="sxs-lookup"><span data-stu-id="547d9-296">Connection tooon-premises data centers should use existing VPN devices.</span></span>
* <span data-ttu-id="547d9-297">Hello grupo de red de la compañía debe tener un control total sobre la configuración de redes virtuales de Hola.</span><span class="sxs-lookup"><span data-stu-id="547d9-297">hello company's networking group should have full control over hello VNet configuration.</span></span>
* <span data-ttu-id="547d9-298">Los desarrolladores en cada unidad de negocio solo deben ser capaz de toodeploy máquinas virtuales tooexisting subredes.</span><span class="sxs-lookup"><span data-stu-id="547d9-298">Developers in each business unit should only be able toodeploy VMs tooexisting subnets.</span></span>
* <span data-ttu-id="547d9-299">Todas las aplicaciones se migrarán tal como están tooAzure (elevación y MAYÚS).</span><span class="sxs-lookup"><span data-stu-id="547d9-299">All applications will be migrated as they are tooAzure (lift-and-shift).</span></span>
* <span data-ttu-id="547d9-300">las bases de datos de Hello en cada ubicación deben replicar tooother Azure ubicaciones una vez al día.</span><span class="sxs-lookup"><span data-stu-id="547d9-300">hello databases in each location should replicate tooother Azure locations once a day.</span></span>
* <span data-ttu-id="547d9-301">Cada aplicación deberá usar 5 servidores front-end web, 2 servidores de aplicaciones (cuando corresponda) y 2 servidores de bases de datos.</span><span class="sxs-lookup"><span data-stu-id="547d9-301">Each application should use 5 front end web servers, 2 application servers (when necessary), and 2 database servers.</span></span>

### <a name="plan"></a><span data-ttu-id="547d9-302">Plan</span><span class="sxs-lookup"><span data-stu-id="547d9-302">Plan</span></span>
<span data-ttu-id="547d9-303">Debe iniciar el diseño de la planificación contestar la pregunta de hello en hello [definir requisitos](#Define-requirements) sección tal y como se muestra a continuación.</span><span class="sxs-lookup"><span data-stu-id="547d9-303">You should start your design planning by answering hello question in hello [Define requirements](#Define-requirements) section as shown below.</span></span>

1. <span data-ttu-id="547d9-304">¿Qué ubicaciones de Azure en el que podrá usar toohost redes virtuales?</span><span class="sxs-lookup"><span data-stu-id="547d9-304">What Azure locations will you use toohost VNets?</span></span>

    <span data-ttu-id="547d9-305">2 ubicaciones en Norteamérica y 2 ubicaciones en Europa.</span><span class="sxs-lookup"><span data-stu-id="547d9-305">2 locations in North America, and 2 locations in Europe.</span></span> <span data-ttu-id="547d9-306">Debe elegirlos basados en la ubicación física de Hola de los centros de datos local existente.</span><span class="sxs-lookup"><span data-stu-id="547d9-306">You should pick those based on hello physical location of your existing on-premises data centers.</span></span> <span data-ttu-id="547d9-307">De este modo la conexión de su tooAzure ubicaciones físicas tendrá una mejor latencia.</span><span class="sxs-lookup"><span data-stu-id="547d9-307">That way your connection from your physical locations tooAzure will have a better latency.</span></span>
2. <span data-ttu-id="547d9-308">¿Necesita tooprovide comunicación entre estas ubicaciones de Azure?</span><span class="sxs-lookup"><span data-stu-id="547d9-308">Do you need tooprovide communication between these Azure locations?</span></span>

    <span data-ttu-id="547d9-309">Sí.</span><span class="sxs-lookup"><span data-stu-id="547d9-309">Yes.</span></span> <span data-ttu-id="547d9-310">Puesto que las bases de datos de hello deben ser replicados tooall ubicaciones.</span><span class="sxs-lookup"><span data-stu-id="547d9-310">Since hello databases must be replicated tooall locations.</span></span>
3. <span data-ttu-id="547d9-311">¿Necesita tooprovide comunicación entre el VNet(s) de Azure y los centros de datos local?</span><span class="sxs-lookup"><span data-stu-id="547d9-311">Do you need tooprovide communication between your Azure VNet(s) and your on-premises data center(s)?</span></span>

    <span data-ttu-id="547d9-312">Sí.</span><span class="sxs-lookup"><span data-stu-id="547d9-312">Yes.</span></span> <span data-ttu-id="547d9-313">Puesto que los usuarios conectados centros de datos locales de toohello deben ser tooaccess capaz de aplicaciones de Hola a través de un túnel cifrado.</span><span class="sxs-lookup"><span data-stu-id="547d9-313">Since users connected toohello on-premises data centers must be able tooaccess hello applications through an encrypted tunnel.</span></span>
4. <span data-ttu-id="547d9-314">¿Cuántas máquinas virtuales IaaS necesita para su solución?</span><span class="sxs-lookup"><span data-stu-id="547d9-314">How many IaaS VMs do you need for your solution?</span></span>

    <span data-ttu-id="547d9-315">200 máquinas virtuales IaaS.</span><span class="sxs-lookup"><span data-stu-id="547d9-315">200 IaaS VMs.</span></span> <span data-ttu-id="547d9-316">App1, App2, App3 y App4 requieren, cada una, 5 servidores web, 2 servidores de aplicaciones y 2 servidores de bases de datos.</span><span class="sxs-lookup"><span data-stu-id="547d9-316">App1, App2, App3, and App4 require 5 web servers each, 2 applications servers each, and 2 database servers each.</span></span> <span data-ttu-id="547d9-317">Hablamos de un total de 9 máquinas virtuales IaaS por aplicación, es decir, 36 máquinas virtuales IaaS.</span><span class="sxs-lookup"><span data-stu-id="547d9-317">That's a total of 9 IaaS VMs per application, or 36 IaaS VMs.</span></span> <span data-ttu-id="547d9-318">App5 y App6 requieren, cada una, 5 servidores web y 2 servidores de bases de datos.</span><span class="sxs-lookup"><span data-stu-id="547d9-318">App5 and App6 require 5 web servers and 2 database servers each.</span></span> <span data-ttu-id="547d9-319">Hablamos de un total de 7 máquinas virtuales IaaS por aplicación, es decir, 14 máquinas virtuales IaaS.</span><span class="sxs-lookup"><span data-stu-id="547d9-319">That's a total of 7 IaaS VMs per application, or 14 IaaS VMs.</span></span> <span data-ttu-id="547d9-320">Por lo tanto, necesita 50 máquinas virtuales IaaS para todas las aplicaciones en cada una de las regiones de Azure.</span><span class="sxs-lookup"><span data-stu-id="547d9-320">Therefore, you need 50 IaaS VMs for all applications in each Azure region.</span></span> <span data-ttu-id="547d9-321">Puesto que necesitamos toouse 4 regiones, habrá 200 máquinas virtuales de IaaS.</span><span class="sxs-lookup"><span data-stu-id="547d9-321">Since we need toouse 4 regions, there will be 200 IaaS VMs.</span></span>

    <span data-ttu-id="547d9-322">También necesitará tooprovide los servidores DNS en cada red virtual o en el nombre de tooresolve de centros de datos local entre las máquinas virtuales de IaaS de Azure y la red local.</span><span class="sxs-lookup"><span data-stu-id="547d9-322">You will also need tooprovide DNS servers in each VNet, or in your on-premises data centers tooresolve name between your Azure IaaS VMs and your on-premises network.</span></span>
5. <span data-ttu-id="547d9-323">¿Necesita tráfico tooisolate basado en grupos de máquinas virtuales (es decir, front-end web servidores y servidores de base de datos de back-end)?</span><span class="sxs-lookup"><span data-stu-id="547d9-323">Do you need tooisolate traffic based on groups of VMs (i.e. front end web servers and back end database servers)?</span></span>

    <span data-ttu-id="547d9-324">Sí.</span><span class="sxs-lookup"><span data-stu-id="547d9-324">Yes.</span></span> <span data-ttu-id="547d9-325">Todas las aplicaciones deberán estar completamente aisladas entre sí y cada nivel de aplicación también deberá estar aislado.</span><span class="sxs-lookup"><span data-stu-id="547d9-325">Each application should be completely isolated from each other, and each application layer should also be isolated.</span></span>
6. <span data-ttu-id="547d9-326">¿Necesita que el flujo de tráfico de toocontrol con dispositivos virtuales?</span><span class="sxs-lookup"><span data-stu-id="547d9-326">Do you need toocontrol traffic flow using virtual appliances?</span></span>

    <span data-ttu-id="547d9-327">No.</span><span class="sxs-lookup"><span data-stu-id="547d9-327">No.</span></span> <span data-ttu-id="547d9-328">Aparatos virtuales pueden ser utilizado tooprovide más control sobre el flujo de tráfico, incluido el registro más detallado del plano de datos.</span><span class="sxs-lookup"><span data-stu-id="547d9-328">Virtual appliances can be used tooprovide more control over traffic flow, including more detailed data plane logging.</span></span>
7. <span data-ttu-id="547d9-329">¿Hacer los usuarios necesidad de distintos conjuntos de permisos toodifferent recursos de Azure?</span><span class="sxs-lookup"><span data-stu-id="547d9-329">Do users need different sets of permissions toodifferent Azure resources?</span></span>

    <span data-ttu-id="547d9-330">Sí.</span><span class="sxs-lookup"><span data-stu-id="547d9-330">Yes.</span></span> <span data-ttu-id="547d9-331">Hola red equipo necesita control total sobre la configuración de red virtual de hello, mientras que los desarrolladores solo deben ser capaz de toodeploy sus subredes toopre existente de las máquinas virtuales.</span><span class="sxs-lookup"><span data-stu-id="547d9-331">hello networking team needs full control on hello virtual networking settings, while developers should only be able toodeploy their VMs toopre-existing subnets.</span></span>

### <a name="design"></a><span data-ttu-id="547d9-332">Diseño</span><span class="sxs-lookup"><span data-stu-id="547d9-332">Design</span></span>
<span data-ttu-id="547d9-333">Debe seguir especificando las suscripciones, las redes virtuales, subredes y los NSG de diseño de Hola.</span><span class="sxs-lookup"><span data-stu-id="547d9-333">You should follow hello design specifying subscriptions, VNets, subnets, and NSGs.</span></span> <span data-ttu-id="547d9-334">Si bien aquí los analizaremos, deberá obtener más información sobre los [NSG](virtual-networks-nsg.md) antes de finalizar el diseño.</span><span class="sxs-lookup"><span data-stu-id="547d9-334">We will discuss NSGs here, but you should learn more about [NSGs](virtual-networks-nsg.md) before finishing your design.</span></span>

<span data-ttu-id="547d9-335">**Cantidad de suscripciones y redes virtuales**</span><span class="sxs-lookup"><span data-stu-id="547d9-335">**Number of subscriptions and VNets**</span></span>

<span data-ttu-id="547d9-336">Hola según los requisitos es toosubscriptions relacionados y redes virtuales:</span><span class="sxs-lookup"><span data-stu-id="547d9-336">hello following requirements are related toosubscriptions and VNets:</span></span>

* <span data-ttu-id="547d9-337">El consumo de recursos de las unidades de negocio no debería afectar a ninguna otra unidad de negocio.</span><span class="sxs-lookup"><span data-stu-id="547d9-337">Each business unit should not be affected by resource consumption of other business units.</span></span>
* <span data-ttu-id="547d9-338">Debería minimizar la cantidad de Hola de redes virtuales y subredes.</span><span class="sxs-lookup"><span data-stu-id="547d9-338">You should minimize hello amount of VNets and subnets.</span></span>
* <span data-ttu-id="547d9-339">Cada unidad de negocio debe tener una sola red virtual de prueba/desarrollo para usar para todas las aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="547d9-339">Each business unit should have a single test/development VNet used for all applications.</span></span>
* <span data-ttu-id="547d9-340">Cada aplicación se hospeda en 2 centros de datos de Azure distintos por continente (Norteamérica y Europa).</span><span class="sxs-lookup"><span data-stu-id="547d9-340">Each application is hosted in 2 different Azure data centers per continent (North America and Europe).</span></span>

<span data-ttu-id="547d9-341">Según esos requisitos, necesitará una suscripción para cada unidad de negocio.</span><span class="sxs-lookup"><span data-stu-id="547d9-341">Based on those requirements, you need a subscription for each business unit.</span></span> <span data-ttu-id="547d9-342">De ese modo, el consumo de recursos de una unidad de negocio no se contará de cara a los límites de otras unidades de negocio.</span><span class="sxs-lookup"><span data-stu-id="547d9-342">That way, consumption of resources from a business unit will not count towards limits for other business units.</span></span> <span data-ttu-id="547d9-343">Y puesto que desea que el número de hello toominimize de redes virtuales, debe considerar el uso de hello **una suscripción por unidad de negocio, dos redes virtuales por grupo de aplicaciones** modelo tal como se muestra a continuación.</span><span class="sxs-lookup"><span data-stu-id="547d9-343">And since you want toominimize hello number of VNets, you should consider using hello **one subscription per business unit, two VNets per group of apps** pattern as seen below.</span></span>

![Suscripción única](./media/virtual-network-vnet-plan-design-arm/figure9.png)

<span data-ttu-id="547d9-345">También se necesita espacio de direcciones de hello toospecify para cada red virtual.</span><span class="sxs-lookup"><span data-stu-id="547d9-345">You also need toospecify hello address space for each VNet.</span></span> <span data-ttu-id="547d9-346">Puesto que necesita conectividad entre Hola centros de datos locales y hello regiones de Azure, espacio de direcciones de hello usado para las redes virtuales de Azure no puede entrar en conflicto con la red local de Hola y espacio de direcciones de hello usado por cada red virtual no debe entrar en conflicto con otras redes virtuales existentes.</span><span class="sxs-lookup"><span data-stu-id="547d9-346">Since you need connectivity between hello on-premises data centers and hello Azure regions, hello address space used for Azure VNets cannot clash with hello on-premises network, and hello address space used by each VNet should not clash with other existing VNets.</span></span> <span data-ttu-id="547d9-347">Puede usar espacios de direcciones de hello en tabla de hello siguiente toosatisfy estos requisitos.</span><span class="sxs-lookup"><span data-stu-id="547d9-347">You could use hello address spaces in hello table below toosatisfy these requirements.</span></span>  

| <span data-ttu-id="547d9-348">**Suscripción**</span><span class="sxs-lookup"><span data-stu-id="547d9-348">**Subscription**</span></span> | <span data-ttu-id="547d9-349">**Red virtual**</span><span class="sxs-lookup"><span data-stu-id="547d9-349">**VNet**</span></span> | <span data-ttu-id="547d9-350">**Región de Azure**</span><span class="sxs-lookup"><span data-stu-id="547d9-350">**Azure region**</span></span> | <span data-ttu-id="547d9-351">**Espacio de direcciones**</span><span class="sxs-lookup"><span data-stu-id="547d9-351">**Address space**</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="547d9-352">BU1</span><span class="sxs-lookup"><span data-stu-id="547d9-352">BU1</span></span> |<span data-ttu-id="547d9-353">ProdBU1US1</span><span class="sxs-lookup"><span data-stu-id="547d9-353">ProdBU1US1</span></span> |<span data-ttu-id="547d9-354">Oeste de EE. UU.</span><span class="sxs-lookup"><span data-stu-id="547d9-354">West US</span></span> |<span data-ttu-id="547d9-355">172.16.0.0/16</span><span class="sxs-lookup"><span data-stu-id="547d9-355">172.16.0.0/16</span></span> |
| <span data-ttu-id="547d9-356">BU1</span><span class="sxs-lookup"><span data-stu-id="547d9-356">BU1</span></span> |<span data-ttu-id="547d9-357">ProdBU1US2</span><span class="sxs-lookup"><span data-stu-id="547d9-357">ProdBU1US2</span></span> |<span data-ttu-id="547d9-358">Este de EE. UU.</span><span class="sxs-lookup"><span data-stu-id="547d9-358">East US</span></span> |<span data-ttu-id="547d9-359">172.17.0.0/16</span><span class="sxs-lookup"><span data-stu-id="547d9-359">172.17.0.0/16</span></span> |
| <span data-ttu-id="547d9-360">BU1</span><span class="sxs-lookup"><span data-stu-id="547d9-360">BU1</span></span> |<span data-ttu-id="547d9-361">ProdBU1EU1</span><span class="sxs-lookup"><span data-stu-id="547d9-361">ProdBU1EU1</span></span> |<span data-ttu-id="547d9-362">Europa del Norte</span><span class="sxs-lookup"><span data-stu-id="547d9-362">North Europe</span></span> |<span data-ttu-id="547d9-363">172.18.0.0/16</span><span class="sxs-lookup"><span data-stu-id="547d9-363">172.18.0.0/16</span></span> |
| <span data-ttu-id="547d9-364">BU1</span><span class="sxs-lookup"><span data-stu-id="547d9-364">BU1</span></span> |<span data-ttu-id="547d9-365">ProdBU1EU2</span><span class="sxs-lookup"><span data-stu-id="547d9-365">ProdBU1EU2</span></span> |<span data-ttu-id="547d9-366">Europa occidental</span><span class="sxs-lookup"><span data-stu-id="547d9-366">West Europe</span></span> |<span data-ttu-id="547d9-367">172.19.0.0/16</span><span class="sxs-lookup"><span data-stu-id="547d9-367">172.19.0.0/16</span></span> |
| <span data-ttu-id="547d9-368">BU1</span><span class="sxs-lookup"><span data-stu-id="547d9-368">BU1</span></span> |<span data-ttu-id="547d9-369">TestDevBU1</span><span class="sxs-lookup"><span data-stu-id="547d9-369">TestDevBU1</span></span> |<span data-ttu-id="547d9-370">Oeste de EE. UU.</span><span class="sxs-lookup"><span data-stu-id="547d9-370">West US</span></span> |<span data-ttu-id="547d9-371">172.20.0.0/16</span><span class="sxs-lookup"><span data-stu-id="547d9-371">172.20.0.0/16</span></span> |
| <span data-ttu-id="547d9-372">BU2</span><span class="sxs-lookup"><span data-stu-id="547d9-372">BU2</span></span> |<span data-ttu-id="547d9-373">TestDevBU2</span><span class="sxs-lookup"><span data-stu-id="547d9-373">TestDevBU2</span></span> |<span data-ttu-id="547d9-374">Oeste de EE. UU.</span><span class="sxs-lookup"><span data-stu-id="547d9-374">West US</span></span> |<span data-ttu-id="547d9-375">172.21.0.0/16</span><span class="sxs-lookup"><span data-stu-id="547d9-375">172.21.0.0/16</span></span> |
| <span data-ttu-id="547d9-376">BU2</span><span class="sxs-lookup"><span data-stu-id="547d9-376">BU2</span></span> |<span data-ttu-id="547d9-377">ProdBU2US1</span><span class="sxs-lookup"><span data-stu-id="547d9-377">ProdBU2US1</span></span> |<span data-ttu-id="547d9-378">Oeste de EE. UU.</span><span class="sxs-lookup"><span data-stu-id="547d9-378">West US</span></span> |<span data-ttu-id="547d9-379">172.22.0.0/16</span><span class="sxs-lookup"><span data-stu-id="547d9-379">172.22.0.0/16</span></span> |
| <span data-ttu-id="547d9-380">BU2</span><span class="sxs-lookup"><span data-stu-id="547d9-380">BU2</span></span> |<span data-ttu-id="547d9-381">ProdBU2US2</span><span class="sxs-lookup"><span data-stu-id="547d9-381">ProdBU2US2</span></span> |<span data-ttu-id="547d9-382">Este de EE. UU.</span><span class="sxs-lookup"><span data-stu-id="547d9-382">East US</span></span> |<span data-ttu-id="547d9-383">172.23.0.0/16</span><span class="sxs-lookup"><span data-stu-id="547d9-383">172.23.0.0/16</span></span> |
| <span data-ttu-id="547d9-384">BU2</span><span class="sxs-lookup"><span data-stu-id="547d9-384">BU2</span></span> |<span data-ttu-id="547d9-385">ProdBU2EU1</span><span class="sxs-lookup"><span data-stu-id="547d9-385">ProdBU2EU1</span></span> |<span data-ttu-id="547d9-386">Europa del Norte</span><span class="sxs-lookup"><span data-stu-id="547d9-386">North Europe</span></span> |<span data-ttu-id="547d9-387">172.24.0.0/16</span><span class="sxs-lookup"><span data-stu-id="547d9-387">172.24.0.0/16</span></span> |
| <span data-ttu-id="547d9-388">BU2</span><span class="sxs-lookup"><span data-stu-id="547d9-388">BU2</span></span> |<span data-ttu-id="547d9-389">ProdBU2EU2</span><span class="sxs-lookup"><span data-stu-id="547d9-389">ProdBU2EU2</span></span> |<span data-ttu-id="547d9-390">Europa occidental</span><span class="sxs-lookup"><span data-stu-id="547d9-390">West Europe</span></span> |<span data-ttu-id="547d9-391">172.25.0.0/16</span><span class="sxs-lookup"><span data-stu-id="547d9-391">172.25.0.0/16</span></span> |

<span data-ttu-id="547d9-392">**Cantidad de subredes y NSG**</span><span class="sxs-lookup"><span data-stu-id="547d9-392">**Number of subnets and NSGs**</span></span>

<span data-ttu-id="547d9-393">Hola según los requisitos es toosubnets relacionados y los NSG:</span><span class="sxs-lookup"><span data-stu-id="547d9-393">hello following requirements are related toosubnets and NSGs:</span></span>

* <span data-ttu-id="547d9-394">Debería minimizar la cantidad de Hola de redes virtuales y subredes.</span><span class="sxs-lookup"><span data-stu-id="547d9-394">You should minimize hello amount of VNets and subnets.</span></span>
* <span data-ttu-id="547d9-395">Las aplicaciones están completamente aisladas entre sí.</span><span class="sxs-lookup"><span data-stu-id="547d9-395">Each application is completely isolated from each other.</span></span>
* <span data-ttu-id="547d9-396">Cada aplicación puede tener acceso los clientes a través de hello Internet mediante HTTP.</span><span class="sxs-lookup"><span data-stu-id="547d9-396">Each application can be accessed by customers over hello Internet using HTTP.</span></span>
* <span data-ttu-id="547d9-397">Puede tener acceso a cada aplicación por centros de datos de los usuarios conectados toohello local mediante el uso de un túnel cifrado.</span><span class="sxs-lookup"><span data-stu-id="547d9-397">Each application can be accessed by users connected toohello on-premises data centers by using an encrypted tunnel.</span></span>
* <span data-ttu-id="547d9-398">Centros de datos de conexión local tooon deben usar los dispositivos VPN existentes.</span><span class="sxs-lookup"><span data-stu-id="547d9-398">Connection tooon-premises data centers should use existing VPN devices.</span></span>
* <span data-ttu-id="547d9-399">las bases de datos de Hello en cada ubicación deben replicar tooother Azure ubicaciones una vez al día.</span><span class="sxs-lookup"><span data-stu-id="547d9-399">hello databases in each location should replicate tooother Azure locations once a day.</span></span>

<span data-ttu-id="547d9-400">En función de los requisitos, podría usar una subred por nivel de aplicación y utilizar los NSG toofilter tráfico por aplicación.</span><span class="sxs-lookup"><span data-stu-id="547d9-400">Based on those requirements, you could use one subnet per application layer, and use NSGs toofilter traffic per application.</span></span> <span data-ttu-id="547d9-401">De ese modo, solo tiene 3 subredes en cada red virtual (front-end, nivel de aplicación y nivel de datos) y un NSG por aplicación por subred.</span><span class="sxs-lookup"><span data-stu-id="547d9-401">That way, you only have 3 subnets in each VNet (front end, application layer, and data layer) and one NSG per application per subnet.</span></span> <span data-ttu-id="547d9-402">En este caso, puede utilizar hello **una subred por nivel de aplicación, los NSG por aplicación** modelo de diseño.</span><span class="sxs-lookup"><span data-stu-id="547d9-402">In this case, you should consider using hello **one subnet per application layer, NSGs per app** design pattern.</span></span> <span data-ttu-id="547d9-403">Hola siguiente ilustración muestra el uso de hello del patrón de diseño de Hola que representa hello **ProdBU1US1** red virtual.</span><span class="sxs-lookup"><span data-stu-id="547d9-403">hello figure below shows hello use of hello design pattern representing hello **ProdBU1US1** VNet.</span></span>

![Una subred por nivel, un NSG por aplicación por nivel](./media/virtual-network-vnet-plan-design-arm/figure11.png)

<span data-ttu-id="547d9-405">Sin embargo, también debe toocreate una subred adicional para la conectividad VPN de hello entre Hola redes virtuales y los centros de datos local.</span><span class="sxs-lookup"><span data-stu-id="547d9-405">However, you also need toocreate an extra subnet for hello VPN connectivity between hello VNets, and your on-premises data centers.</span></span> <span data-ttu-id="547d9-406">Y debe tener un espacio de direcciones de hello toospecify para cada subred.</span><span class="sxs-lookup"><span data-stu-id="547d9-406">And you need toospecify hello address space for each subnet.</span></span> <span data-ttu-id="547d9-407">Hola siguiente ilustración muestra una solución de ejemplo para **ProdBU1US1** red virtual.</span><span class="sxs-lookup"><span data-stu-id="547d9-407">hello figure below shows a sample solution for **ProdBU1US1** VNet.</span></span> <span data-ttu-id="547d9-408">Este escenario se podría replicar para cada red virtual.</span><span class="sxs-lookup"><span data-stu-id="547d9-408">You would replicate this scenario for each VNet.</span></span> <span data-ttu-id="547d9-409">Cada color representa una aplicación distinta.</span><span class="sxs-lookup"><span data-stu-id="547d9-409">Each color represents a different application.</span></span>

![Red virtual de ejemplo](./media/virtual-network-vnet-plan-design-arm/figure10.png)

<span data-ttu-id="547d9-411">**Control de acceso**</span><span class="sxs-lookup"><span data-stu-id="547d9-411">**Access Control**</span></span>

<span data-ttu-id="547d9-412">Hello requisitos siguientes son tooaccess relacionados control:</span><span class="sxs-lookup"><span data-stu-id="547d9-412">hello following requirements are related tooaccess control:</span></span>

* <span data-ttu-id="547d9-413">Hello grupo de red de la compañía debe tener un control total sobre la configuración de redes virtuales de Hola.</span><span class="sxs-lookup"><span data-stu-id="547d9-413">hello company's networking group should have full control over hello VNet configuration.</span></span>
* <span data-ttu-id="547d9-414">Los desarrolladores en cada unidad de negocio solo deben ser capaz de toodeploy máquinas virtuales tooexisting subredes.</span><span class="sxs-lookup"><span data-stu-id="547d9-414">Developers in each business unit should only be able toodeploy VMs tooexisting subnets.</span></span>

<span data-ttu-id="547d9-415">En función de los requisitos, puede agregar usuarios de hello toohello de equipo integrada a redes **red colaborador** rol en cada suscripción; y crear un rol personalizado para hello los desarrolladores de aplicaciones en cada suscripción que proporciona subredes tooexisting de estos derechos tooadd máquinas virtuales.</span><span class="sxs-lookup"><span data-stu-id="547d9-415">Based on those requirements, you could add users from hello networking team toohello built-in **Network Contributor** role in each subscription; and create a custom role for hello application developers in each subscription giving them rights tooadd VMs tooexisting subnets.</span></span>

## <a name="next-steps"></a><span data-ttu-id="547d9-416">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="547d9-416">Next steps</span></span>
* <span data-ttu-id="547d9-417">[Implementar una red virtual](virtual-networks-create-vnet-arm-template-click.md) en función de un escenario.</span><span class="sxs-lookup"><span data-stu-id="547d9-417">[Deploy a virtual network](virtual-networks-create-vnet-arm-template-click.md) based on a scenario.</span></span>
* <span data-ttu-id="547d9-418">Comprender cómo demasiado[equilibrar la carga](../load-balancer/load-balancer-overview.md) las máquinas virtuales IaaS y [administrar el enrutamiento a través de varias regiones de Azure](../traffic-manager/traffic-manager-overview.md).</span><span class="sxs-lookup"><span data-stu-id="547d9-418">Understand how too[load balance](../load-balancer/load-balancer-overview.md) IaaS VMs and [manage routing over multiple Azure regions](../traffic-manager/traffic-manager-overview.md).</span></span>
* <span data-ttu-id="547d9-419">Obtenga más información sobre [NSG y cómo tooplan y diseño](virtual-networks-nsg.md) una solución NSG.</span><span class="sxs-lookup"><span data-stu-id="547d9-419">Learn more about [NSGs and how tooplan and design](virtual-networks-nsg.md) an NSG solution.</span></span>
* <span data-ttu-id="547d9-420">Obtener más información sobre las [opciones de conectividad local y redes virtuales](../vpn-gateway/vpn-gateway-about-vpngateways.md#s2smulti).</span><span class="sxs-lookup"><span data-stu-id="547d9-420">Learn more about your [cross-premises and VNet connectivity options](../vpn-gateway/vpn-gateway-about-vpngateways.md#s2smulti).</span></span>
