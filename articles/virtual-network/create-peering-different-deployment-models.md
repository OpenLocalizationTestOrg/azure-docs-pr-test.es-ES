---
title: "Creación de un emparejamiento de red virtual de Azure: modelos de implementación diferentes: misma suscripción | Microsoft Docs"
description: "Obtenga información sobre cómo crear un emparejamiento de redes virtuales entre redes virtuales creadas mediante diferentes modelos de implementación de Azure que existen en la misma suscripción de Azure."
services: virtual-network
documentationcenter: 
author: jimdial
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: 
ms.service: virtual-network
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 07/17/2017
ms.author: jdial;narayan;annahar
ms.openlocfilehash: 7d75d85863ce4b06ef1f552e0d583dec302f7ace
ms.sourcegitcommit: 422efcbac5b6b68295064bd545132fcc98349d01
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 07/29/2017
---
# <a name="create-a-virtual-network-peering---different-deployment-models-same-subscription"></a><span data-ttu-id="8bd4a-103">Creación de un emparejamiento de red virtual: distintos modelos de implementación, la misma suscripción</span><span class="sxs-lookup"><span data-stu-id="8bd4a-103">Create a virtual network peering - different deployment models, same subscription</span></span> 

<span data-ttu-id="8bd4a-104">En este tutorial aprenderá a crear un emparejamiento de redes virtuales entre dos redes virtuales creadas mediante diferentes modelos de implementación.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-104">In this tutorial, you learn to create a virtual network peering between virtual networks created through different deployment models.</span></span> <span data-ttu-id="8bd4a-105">Hay redes virtuales en la misma suscripción en la misma suscripción.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-105">Both virtual networks exist in the same subscription.</span></span> <span data-ttu-id="8bd4a-106">Emparejar dos redes virtuales permite que los recursos en distintas redes virtuales se comuniquen entre sí con el mismo ancho de banda y latencia que tendrían los recursos si estuvieran en la misma red virtual.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-106">Peering two virtual networks enables resources in different virtual networks to communicate with each other with the same bandwidth and latency as though the resources were in the same virtual network.</span></span> <span data-ttu-id="8bd4a-107">Obtenga más información sobre el [Emparejamiento de redes virtuales](virtual-network-peering-overview.md).</span><span class="sxs-lookup"><span data-stu-id="8bd4a-107">Learn more about [Virtual network peering](virtual-network-peering-overview.md).</span></span> 

<span data-ttu-id="8bd4a-108">Los pasos para crear un emparejamiento de redes virtuales cambian en función de si las redes virtuales se encuentran en la misma suscripción o en suscripciones diferentes, y en función del [modelo de implementación de Azure](../azure-resource-manager/resource-manager-deployment-model.md?toc=%2fazure%2fvirtual-network%2ftoc.json) con el que se han creado las redes virtuales.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-108">The steps to create a virtual network peering are different, depending on whether the virtual networks are in the same, or different, subscriptions, and which [Azure deployment model](../azure-resource-manager/resource-manager-deployment-model.md?toc=%2fazure%2fvirtual-network%2ftoc.json) the virtual networks are created through.</span></span> <span data-ttu-id="8bd4a-109">Para más información sobre cómo crear un emparejamiento de redes virtuales en otros escenarios, haga clic en el escenario en la tabla siguiente:</span><span class="sxs-lookup"><span data-stu-id="8bd4a-109">Learn how to create a virtual network peering in other scenarios by clicking the scenario from the following table:</span></span>

|<span data-ttu-id="8bd4a-110">Modelo de implementación de Azure</span><span class="sxs-lookup"><span data-stu-id="8bd4a-110">Azure deployment model</span></span>  | <span data-ttu-id="8bd4a-111">Suscripción de Azure</span><span class="sxs-lookup"><span data-stu-id="8bd4a-111">Azure subscription</span></span>  |
|--------- |---------|
|[<span data-ttu-id="8bd4a-112">Ambas mediante Resource Manager</span><span class="sxs-lookup"><span data-stu-id="8bd4a-112">Both Resource Manager</span></span>](virtual-network-create-peering.md) |<span data-ttu-id="8bd4a-113">Iguales</span><span class="sxs-lookup"><span data-stu-id="8bd4a-113">Same</span></span>|
|[<span data-ttu-id="8bd4a-114">Ambas mediante Resource Manager</span><span class="sxs-lookup"><span data-stu-id="8bd4a-114">Both Resource Manager</span></span>](create-peering-different-subscriptions.md) |<span data-ttu-id="8bd4a-115">Diferentes</span><span class="sxs-lookup"><span data-stu-id="8bd4a-115">Different</span></span>|
|[<span data-ttu-id="8bd4a-116">Una mediante Resource Manager y la otra clásica</span><span class="sxs-lookup"><span data-stu-id="8bd4a-116">One Resource Manager, one classic</span></span>](create-peering-different-deployment-models-subscriptions.md) |<span data-ttu-id="8bd4a-117">Diferentes</span><span class="sxs-lookup"><span data-stu-id="8bd4a-117">Different</span></span>|

<span data-ttu-id="8bd4a-118">No se puede crear un emparejamiento de redes virtuales entre dos redes virtuales implementadas mediante el modelo de implementación clásico.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-118">A virtual network peering cannot be created between two virtual networks deployed through the classic deployment model.</span></span> <span data-ttu-id="8bd4a-119">Un emparejamiento de redes virtuales solo se puede crear entre dos redes virtuales que existen en la misma región de Azure.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-119">A virtual network peering can only be created between two virtual networks that exist in the same Azure region.</span></span> <span data-ttu-id="8bd4a-120">Si necesita conectar redes virtuales que se crearon a través del modelo de implementación clásica, o que existan en diferentes regiones de Azure, puede usar una [Azure VPN Gateway](../vpn-gateway/vpn-gateway-howto-site-to-site-resource-manager-portal.md?toc=%2fazure%2fvirtual-network%2ftoc.json) para conectar las redes virtuales.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-120">If you need to connect virtual networks that were both created through the classic deployment model, or that exist in different Azure regions, you can use an Azure [VPN Gateway](../vpn-gateway/vpn-gateway-howto-site-to-site-resource-manager-portal.md?toc=%2fazure%2fvirtual-network%2ftoc.json) to connect the virtual networks.</span></span> 

<span data-ttu-id="8bd4a-121">Puede usar [Azure Portal](#portal), la [interfaz de la línea de comandos](#cli) (CLI) de Azure o Azure [PowerShell](#powershell) para crear un emparejamiento de redes virtuales.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-121">You can use the [Azure portal](#portal), the Azure [command-line interface](#cli) (CLI), or Azure [PowerShell](#powershell) to create a virtual network peering.</span></span> <span data-ttu-id="8bd4a-122">Haga clic en cualquiera de los vínculos anteriores de herramientas para ir directamente a los pasos para crear un emparejamiento de redes virtuales con la herramienta de su preferencia.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-122">Click any of the previous tool links to go directly to the steps for creating a virtual network peering using your tool of choice.</span></span>

## <span data-ttu-id="8bd4a-123"><a name="cli"></a>Creación de emparejamiento: portal</span><span class="sxs-lookup"><span data-stu-id="8bd4a-123"><a name="cli"></a>Create peering - Portal</span></span>

1. <span data-ttu-id="8bd4a-124">Inicie sesión en el [Portal de Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="8bd4a-124">Log in to the [Azure portal](https://portal.azure.com).</span></span> <span data-ttu-id="8bd4a-125">La cuenta con la que inicie sesión debe tener todos los permisos necesarios para crear un emparejamiento de redes virtuales.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-125">The account you log in with must have the necessary permissions to create a virtual network peering.</span></span> <span data-ttu-id="8bd4a-126">Para detalles, consulte la sección [Permisos](#permissions) de este artículo.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-126">See the [Permissions](#permissions) section of this article for details.</span></span>
2. <span data-ttu-id="8bd4a-127">Haga clic en **+ Nuevo**, **Redes** y, luego, en **Red virtual**.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-127">Click **+ New**, click **Networking**, then click **Virtual network**.</span></span>
3. <span data-ttu-id="8bd4a-128">En la hoja **Crear red virtual**, escriba o seleccione valores para la configuración siguiente y, luego, haga clic en **Crear**:</span><span class="sxs-lookup"><span data-stu-id="8bd4a-128">In the **Create virtual network** blade, enter, or select values for the following settings, then click **Create**:</span></span>
    - <span data-ttu-id="8bd4a-129">**Nombre**: *myVnet1*</span><span class="sxs-lookup"><span data-stu-id="8bd4a-129">**Name**: *myVnet1*</span></span>
    - <span data-ttu-id="8bd4a-130">**Espacio de direcciones**: *10.0.0.0/16*</span><span class="sxs-lookup"><span data-stu-id="8bd4a-130">**Address space**: *10.0.0.0/16*</span></span>
    - <span data-ttu-id="8bd4a-131">**Nombre de subred**: *default*</span><span class="sxs-lookup"><span data-stu-id="8bd4a-131">**Subnet name**: *default*</span></span>
    - <span data-ttu-id="8bd4a-132">**Intervalo de direcciones de subred**: *10.0.0.0/24*</span><span class="sxs-lookup"><span data-stu-id="8bd4a-132">**Subnet address range**: *10.0.0.0/24*</span></span>
    - <span data-ttu-id="8bd4a-133">**Suscripción**: seleccione la suscripción</span><span class="sxs-lookup"><span data-stu-id="8bd4a-133">**Subscription**: Select your subscription</span></span>
    - <span data-ttu-id="8bd4a-134">**Grupo de recursos**: seleccione **Crear nuevo** y escriba *myResourceGroup*</span><span class="sxs-lookup"><span data-stu-id="8bd4a-134">**Resource group**: Select **Create new** and enter *myResourceGroup*</span></span>
    - <span data-ttu-id="8bd4a-135">**Ubicación**: *este de EE. UU.*</span><span class="sxs-lookup"><span data-stu-id="8bd4a-135">**Location**: *East US*</span></span>
4. <span data-ttu-id="8bd4a-136">Haga clic en **+ Nuevo**.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-136">Click **+ New**.</span></span> <span data-ttu-id="8bd4a-137">En el campo **Buscar en el Marketplace**, escriba *Red virtual*.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-137">In the **Search the Marketplace** box, type *Virtual network*.</span></span> <span data-ttu-id="8bd4a-138">Haga clic en **Red virtual** cuando aparezca en los resultados de búsqueda.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-138">Click **Virtual network** when it appears in the search results.</span></span> 
5. <span data-ttu-id="8bd4a-139">En la hoja **Red virtual**, seleccione **Clásica** en el cuadro **Seleccionar un modelo de implementación** y haga clic en **Crear**.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-139">In the **Virtual network** blade, select **Classic** in the **Select a deployment model** box, and then click **Create**.</span></span>
6. <span data-ttu-id="8bd4a-140">En la hoja **Crear red virtual**, escriba o seleccione valores para la configuración siguiente y, luego, haga clic en **Crear**:</span><span class="sxs-lookup"><span data-stu-id="8bd4a-140">In the **Create virtual network** blade, enter, or select values for the following settings, then click **Create**:</span></span>
    - <span data-ttu-id="8bd4a-141">**Nombre**: *myVnet2*</span><span class="sxs-lookup"><span data-stu-id="8bd4a-141">**Name**: *myVnet2*</span></span>
    - <span data-ttu-id="8bd4a-142">**Espacio de direcciones**: *10.1.0.0/16*</span><span class="sxs-lookup"><span data-stu-id="8bd4a-142">**Address space**: *10.1.0.0/16*</span></span>
    - <span data-ttu-id="8bd4a-143">**Nombre de subred**: *default*</span><span class="sxs-lookup"><span data-stu-id="8bd4a-143">**Subnet name**: *default*</span></span>
    - <span data-ttu-id="8bd4a-144">**Intervalo de direcciones de subred**: *10.1.0.0/24*</span><span class="sxs-lookup"><span data-stu-id="8bd4a-144">**Subnet address range**: *10.1.0.0/24*</span></span>
    - <span data-ttu-id="8bd4a-145">**Suscripción**: seleccione la suscripción</span><span class="sxs-lookup"><span data-stu-id="8bd4a-145">**Subscription**: Select your subscription</span></span>
    - <span data-ttu-id="8bd4a-146">**Grupo de recursos**: seleccione **Usar existente** y seleccione *myResourceGroup*</span><span class="sxs-lookup"><span data-stu-id="8bd4a-146">**Resource group**: Select **Use existing** and select *myResourceGroup*</span></span>
    - <span data-ttu-id="8bd4a-147">**Ubicación**: *este de EE. UU.*</span><span class="sxs-lookup"><span data-stu-id="8bd4a-147">**Location**: *East US*</span></span>
7. <span data-ttu-id="8bd4a-148">En el cuadro **Buscar recursos** en la parte superior del portal, escriba *myResourceGroup*.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-148">In the **Search resources** box at the top of the portal, type *myResourceGroup*.</span></span> <span data-ttu-id="8bd4a-149">Haga clic en **myResourceGroup** cuando aparezca en los resultados de la búsqueda.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-149">Click **myResourceGroup** when it appears in the search results.</span></span> <span data-ttu-id="8bd4a-150">Aparece una hoja para el grupo de recursos **myresourcegroup**.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-150">A blade appears for the **myresourcegroup** resource group.</span></span> <span data-ttu-id="8bd4a-151">El grupo de recursos contiene las dos redes virtuales que se crearon en los pasos anteriores.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-151">The resource group contains the two virtual networks created in previous steps.</span></span>
8. <span data-ttu-id="8bd4a-152">Haga clic en **myVNet1**.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-152">Click **myVNet1**.</span></span>
9. <span data-ttu-id="8bd4a-153">En la hoja **myVnet1** que aparece, haga clic en **Emparejamientos** en la lista vertical de opciones que aparece al lado izquierdo de la hoja.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-153">In the **myVnet1** blade that appears, click **Peerings** from the vertical list of options on the left side of the blade.</span></span>
10. <span data-ttu-id="8bd4a-154">En la hoja **myVnet1 - Peerings** (myVnet1: emparejamientos) que aparece, haga clic en **+ Agregar**</span><span class="sxs-lookup"><span data-stu-id="8bd4a-154">In the **myVnet1 - Peerings** blade that appeared, click **+ Add**</span></span>
11. <span data-ttu-id="8bd4a-155">En la hoja **Agregar emparejamiento** que aparece, escriba o seleccione las opciones siguientes y, luego, haga clic en **Aceptar**:</span><span class="sxs-lookup"><span data-stu-id="8bd4a-155">In the **Add peering** blade that appears, enter, or select the following options, then click **OK**:</span></span>
     - <span data-ttu-id="8bd4a-156">**Nombre**: *myVnet1ToMyVnet2*</span><span class="sxs-lookup"><span data-stu-id="8bd4a-156">**Name**: *myVnet1ToMyVnet2*</span></span>
     - <span data-ttu-id="8bd4a-157">**Modelo de implementación de red virtual**: seleccione **Clásico**.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-157">**Virtual network deployment model**:  Select **Classic**.</span></span> 
     - <span data-ttu-id="8bd4a-158">**Suscripción**: seleccione la suscripción</span><span class="sxs-lookup"><span data-stu-id="8bd4a-158">**Subscription**: Select your subscription</span></span>
     - <span data-ttu-id="8bd4a-159">**Red virtual**: haga clic en **Elegir una red virtual** y, luego, en **myVnet2**.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-159">**Virtual network**:  Click **Choose a virtual network**, then click **myVnet2**.</span></span>
     - <span data-ttu-id="8bd4a-160">**Permitir acceso a red virtual:** asegúrese de que esté seleccionada la opción **Habilitado**.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-160">**Allow virtual network access:** Ensure that **Enabled** is selected.</span></span>
    <span data-ttu-id="8bd4a-161">En este tutorial no se usa ninguna otra configuración.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-161">No other settings are used in this tutorial.</span></span> <span data-ttu-id="8bd4a-162">Para conocer todas las configuraciones de emparejamiento, lea [Manage virtual network peerings](virtual-network-manage-peering.md#create-a-peering) (Administración de emparejamientos de redes virtuales).</span><span class="sxs-lookup"><span data-stu-id="8bd4a-162">To learn about all peering settings, read [Manage virtual network peerings](virtual-network-manage-peering.md#create-a-peering).</span></span>
12. <span data-ttu-id="8bd4a-163">Una vez que hace clic en **Aceptar** en el paso anterior, se cierra la hoja **Agregar emparejamiento** y se vuelve a mostrar la hoja **myVnet1 - Peerings** (myVnet1: emparejamientos).</span><span class="sxs-lookup"><span data-stu-id="8bd4a-163">After clicking **OK** in the previous step, the **Add peering** blade closes and you see the **myVnet1 - Peerings** blade again.</span></span> <span data-ttu-id="8bd4a-164">Unos segundos después, el emparejamiento que creó aparece en la hoja.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-164">After a few seconds, the peering you created appears in the blade.</span></span> <span data-ttu-id="8bd4a-165">El estado **Conectado** aparece en la columna **ESTADO DE EMPAREJAMIENTO** correspondiente al emparejamiento **myVnet1ToMyVnet2** que creó.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-165">**Connected** is listed in the **PEERING STATUS** column for the **myVnet1ToMyVnet2** peering you created.</span></span>

    <span data-ttu-id="8bd4a-166">El emparejamiento está ahora establecido.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-166">The peering is now established.</span></span> <span data-ttu-id="8bd4a-167">Los recursos de Azure que cree en cualquiera de las redes virtuales ahora se pueden comunicar entre sí mediante sus direcciones IP.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-167">Any Azure resources you create in either virtual network are now able to communicate with each other through their IP addresses.</span></span> <span data-ttu-id="8bd4a-168">Si usa la resolución de nombres predeterminada de Azure para las redes virtuales, los recursos de las redes virtuales no pueden resolver nombres entre las redes virtuales.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-168">If you're using default Azure name resolution for the virtual networks, the resources in the virtual networks are not able to resolve names across the virtual networks.</span></span> <span data-ttu-id="8bd4a-169">Si desea resolver nombres entre las redes virtuales de un emparejamiento, debe crear su propio servidor DNS.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-169">If you want to resolve names across virtual networks in a peering, you must create your own DNS server.</span></span> <span data-ttu-id="8bd4a-170">Obtenga información sobre cómo configurar la [resolución de nombres mediante su propio servidor DNS](virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server).</span><span class="sxs-lookup"><span data-stu-id="8bd4a-170">Learn how to set up [Name resolution using your own DNS server](virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server).</span></span>
13. <span data-ttu-id="8bd4a-171">**Opcional**: Si bien este tutorial no aborda la creación de máquinas virtuales, puede crear una máquina virtual en cada red virtual y conectar de una máquina virtual a la otra para así validar la conectividad.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-171">**Optional**: Though creating virtual machines is not covered in this tutorial, you can create a virtual machine in each virtual network and connect from one virtual machine to the other, to validate connectivity.</span></span>
14. <span data-ttu-id="8bd4a-172">**Opcional**: Para eliminar los recursos que crea en este tutorial, complete los pasos que aparecen en la sección [Eliminación de recursos](#delete-portal) de este artículo.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-172">**Optional**: To delete the resources that you create in this tutorial, complete the steps in the [Delete resources](#delete-portal) section of this article.</span></span>

## <span data-ttu-id="8bd4a-173"><a name="cli"></a>Creación de emparejamiento: CLI de Azure</span><span class="sxs-lookup"><span data-stu-id="8bd4a-173"><a name="cli"></a>Create peering - Azure CLI</span></span>

1. <span data-ttu-id="8bd4a-174">[Instale](../cli-install-nodejs.md?toc=%2fazure%2fvirtual-network%2ftoc.json) la CLI de Azure 1.0 para crear la red virtual (clásica).</span><span class="sxs-lookup"><span data-stu-id="8bd4a-174">[Install](../cli-install-nodejs.md?toc=%2fazure%2fvirtual-network%2ftoc.json) the Azure CLI 1.0 to create the virtual network (classic).</span></span>
2. <span data-ttu-id="8bd4a-175">Abra una sesión de comandos e inicie sesión en Azure mediante el comando `azure login`.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-175">Open a command session and log in to Azure using the `azure login` command.</span></span>
3. <span data-ttu-id="8bd4a-176">Ejecute la CLI en modo de administración de servicios escribiendo el comando `azure config mode asm`.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-176">Run the CLI in Service Management mode by entering the `azure config mode asm` command.</span></span>
4. <span data-ttu-id="8bd4a-177">Escriba el siguiente comando para crear la red virtual (clásica):</span><span class="sxs-lookup"><span data-stu-id="8bd4a-177">Enter the following command to create the virtual network (classic):</span></span>
 
    ```azurecli
    azure network vnet create --vnet myVnet2 --address-space 10.1.0.0 --cidr 16 --location "East US"
    ```

5. <span data-ttu-id="8bd4a-178">Cree un grupo de recursos y una red virtual (Resource Manager).</span><span class="sxs-lookup"><span data-stu-id="8bd4a-178">Create a resource group and a virtual network (Resource Manager).</span></span> <span data-ttu-id="8bd4a-179">Puede usar la CLI 1.0 o 2.0 ([instalación](/cli/azure/install-azure-cli?toc=%2fazure%2fvirtual-network%2ftoc.json)).</span><span class="sxs-lookup"><span data-stu-id="8bd4a-179">You can use either the CLI 1.0 or 2.0 ([install](/cli/azure/install-azure-cli?toc=%2fazure%2fvirtual-network%2ftoc.json)).</span></span> <span data-ttu-id="8bd4a-180">En este tutorial, la CLI 2.0 se usa para crear la red virtual (Resource Manager), puesto que debe usarse 2.0 para crear el emparejamiento.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-180">In this tutorial, the CLI 2.0 is used to create the virtual network (Resource Manager), since 2.0 must be used to create the peering.</span></span> <span data-ttu-id="8bd4a-181">Ejecute el siguiente script de la CLI de búsqueda desde la máquina local con la CLI 2.0.4 o posterior instalada.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-181">Execute the following bash CLI script from your local machine with the CLI 2.0.4 or later installed.</span></span> <span data-ttu-id="8bd4a-182">Para obtener las opciones de ejecución de scripts de la CLI de Bash en un cliente Windows, vea [Ejecución de la CLI de Azure en Windows](../virtual-machines/windows/cli-options.md?toc=%2fazure%2fvirtual-network%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="8bd4a-182">For options on running bash CLI scripts on Windows client, see [Running the Azure CLI in Windows](../virtual-machines/windows/cli-options.md?toc=%2fazure%2fvirtual-network%2ftoc.json).</span></span> <span data-ttu-id="8bd4a-183">También puede ejecutar el script con Azure Cloud Shell.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-183">You can also run the script using the Azure Cloud Shell.</span></span> <span data-ttu-id="8bd4a-184">Azure Cloud Shell es un shell de Bash gratuito que se puede ejecutar directamente en Azure Portal.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-184">The Azure Cloud Shell is a free Bash shell that you can run directly within the Azure portal.</span></span> <span data-ttu-id="8bd4a-185">Tiene la CLI de Azure preinstalada y configurada para utilizar con su cuenta.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-185">It has the Azure CLI preinstalled and configured to use with your account.</span></span> <span data-ttu-id="8bd4a-186">Haga clic en el botón **Pruébelo** en el script siguiente, que invoca un Cloud Shell en el que puede iniciar sesión con su cuenta de Azure.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-186">Click the **Try it** button in the script that follows, which invokes a Cloud Shell that logs you can log in to your Azure account with.</span></span> <span data-ttu-id="8bd4a-187">Para ejecutar el script, haga clic en el botón **Copiar** y pegue el contenido en Cloud Shell en la nube y, a continuación, pulse `Enter`.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-187">To execute the script, click the **Copy** button and paste, the contents into your Cloud Shell, then press `Enter`.</span></span>

    ```azurecli-interactive
    #!/bin/bash

    # Create a resource group.
    az group create \
      --name myResourceGroup \
      --location eastus

    # Create the virtual network (Resource Manager).
    az network vnet create \
      --name myVnet1 \
      --resource-group myResourceGroup \
      --location eastus \
      --address-prefix 10.0.0.0/16
    ```

6. <span data-ttu-id="8bd4a-188">Cree un emparejamiento de redes virtuales entre las dos redes virtuales creadas mediante los modelos de implementación diferentes.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-188">Create a virtual network peering between the two virtual networks created through the different deployment models.</span></span> <span data-ttu-id="8bd4a-189">Copie el script siguiente en un editor de texto de su equipo.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-189">Copy the following script to a text editor on your PC.</span></span> <span data-ttu-id="8bd4a-190">Reemplace `<subscription id>` con el Id. de suscripción.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-190">Replace `<subscription id>` with your subscription Id.</span></span> <span data-ttu-id="8bd4a-191">Si no conoce el Id. de suscripción, escriba el comando `az account show`.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-191">If you don't know your subscription Id, enter the `az account show` command.</span></span> <span data-ttu-id="8bd4a-192">El valor de **id** en la salida es el identificador de la suscripción.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-192">The value for **id** in the output is your subscription Id.</span></span> <span data-ttu-id="8bd4a-193">Pegue el script modificado en la sesión de CLI y después pulse `Enter`.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-193">Paste the modified script in to your CLI session, and then press `Enter`.</span></span>

    ```azurecli-interactive
    # Get the id for VNet1.
    vnet1Id=$(az network vnet show \
      --resource-group myResourceGroup \
      --name myVnet1 \
      --query id --out tsv)

    # Peer VNet1 to VNet2.
    az network vnet peering create \
      --name myVnet1ToMyVnet2 \
      --resource-group myResourceGroup \
      --vnet-name myVnet1 \
      --remote-vnet-id /subscriptions/<subscription id>/resourceGroups/Default-Networking/providers/Microsoft.ClassicNetwork/virtualNetworks/myVnet2 \
      --allow-vnet-access
    ```
7. <span data-ttu-id="8bd4a-194">Una vez que se ejecute el script, revise los emparejamientos de la red virtual (Resource Manager).</span><span class="sxs-lookup"><span data-stu-id="8bd4a-194">After the script executes, review the peering for the virtual network (Resource Manager).</span></span> <span data-ttu-id="8bd4a-195">Copie el comando siguiente, péguelo en la sesión de la CLI y después presione `Enter`:</span><span class="sxs-lookup"><span data-stu-id="8bd4a-195">Copy the following command, paste it in your CLI session, and then press `Enter`:</span></span>

    ```azurecli-interactive
    az network vnet peering list \
      --resource-group myResourceGroup \
      --vnet-name myVnet1 \
      --output table
    ```
    
    <span data-ttu-id="8bd4a-196">La salida muestra **Conectado** en la columna **PeeringState**.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-196">The output shows **Connected** in the **PeeringState** column.</span></span> 

    <span data-ttu-id="8bd4a-197">Los recursos de Azure que cree en cualquiera de las redes virtuales ahora se pueden comunicar entre sí mediante sus direcciones IP.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-197">Any Azure resources you create in either virtual network are now able to communicate with each other through their IP addresses.</span></span> <span data-ttu-id="8bd4a-198">Si usa la resolución de nombres predeterminada de Azure para las redes virtuales, los recursos de las redes virtuales no pueden resolver nombres entre las redes virtuales.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-198">If you're using default Azure name resolution for the virtual networks, the resources in the virtual networks are not able to resolve names across the virtual networks.</span></span> <span data-ttu-id="8bd4a-199">Si desea resolver nombres entre las redes virtuales de un emparejamiento, debe crear su propio servidor DNS.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-199">If you want to resolve names across virtual networks in a peering, you must create your own DNS server.</span></span> <span data-ttu-id="8bd4a-200">Obtenga información sobre cómo configurar la [resolución de nombres mediante su propio servidor DNS](virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server).</span><span class="sxs-lookup"><span data-stu-id="8bd4a-200">Learn how to set up [Name resolution using your own DNS server](virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server).</span></span>
8. <span data-ttu-id="8bd4a-201">**Opcional**: Si bien este tutorial no aborda la creación de máquinas virtuales, puede crear una máquina virtual en cada red virtual y conectar de una máquina virtual a la otra para así validar la conectividad.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-201">**Optional**: Though creating virtual machines is not covered in this tutorial, you can create a virtual machine in each virtual network and connect from one virtual machine to the other, to validate connectivity.</span></span>
9. <span data-ttu-id="8bd4a-202">**Opcional**: para eliminar los recursos que crea en este tutorial, complete los pasos que aparecen en la sección [Eliminar recursos](#delete-cli) de este artículo.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-202">**Optional**: To delete the resources that you create in this tutorial, complete the steps in [Delete resources](#delete-cli) in this article.</span></span>

## <span data-ttu-id="8bd4a-203"><a name="powershell"></a>Creación de emparejamiento: PowerShell</span><span class="sxs-lookup"><span data-stu-id="8bd4a-203"><a name="powershell"></a>Create peering - PowerShell</span></span>

1. <span data-ttu-id="8bd4a-204">Instale la versión más reciente de los módulos [Azure](https://www.powershellgallery.com/packages/Azure) y [AzureRm](https://www.powershellgallery.com/packages/AzureRM/) de PowerShell.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-204">Install the latest version of the PowerShell [Azure](https://www.powershellgallery.com/packages/Azure) and [AzureRm](https://www.powershellgallery.com/packages/AzureRM/) modules.</span></span> <span data-ttu-id="8bd4a-205">Si no está familiarizado con Azure PowerShell, consulte [Introducción a Azure PowerShell](/powershell/azure/overview?toc=%2fazure%2fvirtual-network%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="8bd4a-205">If you're new to Azure PowerShell, see [Azure PowerShell overview](/powershell/azure/overview?toc=%2fazure%2fvirtual-network%2ftoc.json).</span></span>
2. <span data-ttu-id="8bd4a-206">Inicie una sesión de PowerShell.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-206">Start a PowerShell session.</span></span>
3. <span data-ttu-id="8bd4a-207">En PowerShell, inicie sesión en Azure especificando el comando `Add-AzureAccount`.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-207">In PowerShell, log in to Azure by entering the `Add-AzureAccount` command.</span></span>
4. <span data-ttu-id="8bd4a-208">Para crear una red virtual (clásica) con PowerShell, debe crear o modificar un archivo de configuración de red existente.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-208">To create a virtual network (classic) with PowerShell, you must create a new, or modify an existing, network configuration file.</span></span> <span data-ttu-id="8bd4a-209">Obtenga información sobre cómo [exportar, actualizar e importar archivos de configuración de red](virtual-networks-using-network-configuration-file.md).</span><span class="sxs-lookup"><span data-stu-id="8bd4a-209">Learn how to [export, update, and import network configuration files](virtual-networks-using-network-configuration-file.md).</span></span> <span data-ttu-id="8bd4a-210">El archivo debe incluir el siguiente elemento **VirtualNetworkSite** para la red virtual que se usa en este tutorial:</span><span class="sxs-lookup"><span data-stu-id="8bd4a-210">The file should include the following **VirtualNetworkSite** element for the virtual network used in this tutorial:</span></span>

    ```xml
    <VirtualNetworkSite name="myVnet2" Location="East US">
      <AddressSpace>
        <AddressPrefix>10.1.0.0/16</AddressPrefix>
      </AddressSpace>
      <Subnets>
        <Subnet name="default">
          <AddressPrefix>10.1.0.0/24</AddressPrefix>
        </Subnet>
      </Subnets>
    </VirtualNetworkSite>
    ```

    > [!WARNING]
    > <span data-ttu-id="8bd4a-211">Importar un archivo de configuración de red modificada puede producir cambios en las redes virtuales (clásicas) existentes en la suscripción.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-211">Importing a changed network configuration file can cause changes to existing virtual networks (classic) in your subscription.</span></span> <span data-ttu-id="8bd4a-212">Asegúrese de agregar solo la red virtual anterior y que no cambia o quita ninguna red virtual existente de la suscripción.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-212">Ensure you only add the previous virtual network and that you don't change or remove any existing virtual networks from your subscription.</span></span> 
5. <span data-ttu-id="8bd4a-213">Inicie sesión en Azure para crear la red virtual (Resource Manager) escribiendo el comando `login-azurermaccount`.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-213">Log in to Azure to create the virtual network (Resource Manager) by entering the `login-azurermaccount` command.</span></span> <span data-ttu-id="8bd4a-214">La cuenta con la que inicie sesión debe tener todos los permisos necesarios para crear un emparejamiento de redes virtuales.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-214">The account you log in with must have the necessary permissions to create a virtual network peering.</span></span> <span data-ttu-id="8bd4a-215">Para detalles, consulte la sección [Permisos](#permissions) de este artículo.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-215">See the [Permissions](#permissions) section of this article for details.</span></span>
6. <span data-ttu-id="8bd4a-216">Cree un grupo de recursos y una red virtual (Resource Manager).</span><span class="sxs-lookup"><span data-stu-id="8bd4a-216">Create a resource group and a virtual network (Resource Manager).</span></span> <span data-ttu-id="8bd4a-217">Copie el script, péguelo en PowerShell y, a continuación, pulse `Enter`.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-217">Copy the script, paste it into PowerShell, and then press `Enter`.</span></span>

    ```powershell
    # Create a resource group.
      New-AzureRmResourceGroup -Name myResourceGroup -Location eastus

    # Create the virtual network (Resource Manager).
      $vnet1 = New-AzureRmVirtualNetwork `
      -ResourceGroupName myResourceGroup `
      -Name 'myVnet1' `
      -AddressPrefix '10.0.0.0/16' `
      -Location eastus
    ```

7. <span data-ttu-id="8bd4a-218">Cree un emparejamiento de redes virtuales entre las dos redes virtuales creadas mediante los modelos de implementación diferentes.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-218">Create a virtual network peering between the two virtual networks created through the different deployment models.</span></span> <span data-ttu-id="8bd4a-219">Copie el script siguiente en un editor de texto de su equipo.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-219">Copy the following script to a text editor on your PC.</span></span> <span data-ttu-id="8bd4a-220">Reemplace `<subscription id>` con el Id. de suscripción.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-220">Replace `<subscription id>` with your subscription Id.</span></span> <span data-ttu-id="8bd4a-221">Si no conoce el identificador de la suscripción, escriba el comando `Get-AzureRmSubscription` para verlo.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-221">If you don't know your subscription Id, enter the `Get-AzureRmSubscription` command to view it.</span></span> <span data-ttu-id="8bd4a-222">El valor de **id** en la salida devuelta es el identificador de la suscripción.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-222">The value for **Id** in the returned output is your subscription ID.</span></span> <span data-ttu-id="8bd4a-223">Para ejecutar el script, copie el script modificado del editor de texto, haga clic con el botón derecho en la sesión de PowerShell y, a continuación, pulse `Enter`.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-223">To execute the script, copy the modified script from your text editor, then right-click in your PowerShell session, and then press `Enter`.</span></span>

    ```powershell
    # Peer VNet1 to VNet2.
    Add-AzureRmVirtualNetworkPeering `
      -Name myVnet1ToMyVnet2 `
      -VirtualNetwork $vnet1 `
      -RemoteVirtualNetworkId /subscriptions/<subscription Id>/resourceGroups/Default-Networking/providers/Microsoft.ClassicNetwork/virtualNetworks/myVnet2
    ```

8. <span data-ttu-id="8bd4a-224">Una vez que se ejecute el script, revise los emparejamientos de la red virtual (Resource Manager).</span><span class="sxs-lookup"><span data-stu-id="8bd4a-224">After the script executes, review the peering for the virtual network (Resource Manager).</span></span> <span data-ttu-id="8bd4a-225">Copie el comando siguiente, péguelo en la sesión de PowerShell y después presione `Enter`:</span><span class="sxs-lookup"><span data-stu-id="8bd4a-225">Copy the following command, paste it in your PowerShell session, and then press `Enter`:</span></span>

    ```powershell
    Get-AzureRmVirtualNetworkPeering `
      -ResourceGroupName myResourceGroup `
      -VirtualNetworkName myVnet1 `
      | Format-Table VirtualNetworkName, PeeringState
    ```

    <span data-ttu-id="8bd4a-226">La salida muestra **Conectado** en la columna **PeeringState**.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-226">The output shows **Connected** in the **PeeringState** column.</span></span>

    <span data-ttu-id="8bd4a-227">Los recursos de Azure que cree en cualquiera de las redes virtuales ahora se pueden comunicar entre sí mediante sus direcciones IP.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-227">Any Azure resources you create in either virtual network are now able to communicate with each other through their IP addresses.</span></span> <span data-ttu-id="8bd4a-228">Si usa la resolución de nombres predeterminada de Azure para las redes virtuales, los recursos de las redes virtuales no pueden resolver nombres entre las redes virtuales.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-228">If you're using default Azure name resolution for the virtual networks, the resources in the virtual networks are not able to resolve names across the virtual networks.</span></span> <span data-ttu-id="8bd4a-229">Si desea resolver nombres entre las redes virtuales de un emparejamiento, debe crear su propio servidor DNS.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-229">If you want to resolve names across virtual networks in a peering, you must create your own DNS server.</span></span> <span data-ttu-id="8bd4a-230">Obtenga información sobre cómo configurar la [resolución de nombres mediante su propio servidor DNS](virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server).</span><span class="sxs-lookup"><span data-stu-id="8bd4a-230">Learn how to set up [Name resolution using your own DNS server](virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server).</span></span>

9. <span data-ttu-id="8bd4a-231">**Opcional**: Si bien este tutorial no aborda la creación de máquinas virtuales, puede crear una máquina virtual en cada red virtual y conectar de una máquina virtual a la otra para así validar la conectividad.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-231">**Optional**: Though creating virtual machines is not covered in this tutorial, you can create a virtual machine in each virtual network and connect from one virtual machine to the other, to validate connectivity.</span></span>
10. <span data-ttu-id="8bd4a-232">**Opcional**: para eliminar los recursos que crea en este tutorial, complete los pasos que aparecen en la sección [Eliminar recursos](#delete-powershell) de este artículo.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-232">**Optional**: To delete the resources that you create in this tutorial, complete the steps in [Delete resources](#delete-powershell) in this article.</span></span>
 
## <span data-ttu-id="8bd4a-233"><a name="permissions"></a>Permisos</span><span class="sxs-lookup"><span data-stu-id="8bd4a-233"><a name="permissions"></a>Permissions</span></span>

<span data-ttu-id="8bd4a-234">Las cuentas que use para crear un emparejamiento de redes virtuales deben tener el rol o los permisos necesarios.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-234">The accounts you use to create a virtual network peering must have the necessary role or permissions.</span></span> <span data-ttu-id="8bd4a-235">Por ejemplo, si está emparejando dos redes virtuales denominadas myVnet1 y myVnet2, su cuenta debe tener asignado el rol o los permisos mínimos siguientes para cada red virtual:</span><span class="sxs-lookup"><span data-stu-id="8bd4a-235">For example, if you were peering two virtual networks named myVnet1 and myVnet2, your account must be assigned the following minimum role or permissions for each virtual network:</span></span>
    
|<span data-ttu-id="8bd4a-236">Red virtual</span><span class="sxs-lookup"><span data-stu-id="8bd4a-236">Virtual network</span></span>|<span data-ttu-id="8bd4a-237">Modelo de implementación</span><span class="sxs-lookup"><span data-stu-id="8bd4a-237">Deployment model</span></span>|<span data-ttu-id="8bd4a-238">Rol</span><span class="sxs-lookup"><span data-stu-id="8bd4a-238">Role</span></span>|<span data-ttu-id="8bd4a-239">Permisos</span><span class="sxs-lookup"><span data-stu-id="8bd4a-239">Permissions</span></span>|
|---|---|---|---|
|<span data-ttu-id="8bd4a-240">myVnet1</span><span class="sxs-lookup"><span data-stu-id="8bd4a-240">myVnet1</span></span>|<span data-ttu-id="8bd4a-241">Resource Manager</span><span class="sxs-lookup"><span data-stu-id="8bd4a-241">Resource Manager</span></span>|[<span data-ttu-id="8bd4a-242">Colaborador de la red</span><span class="sxs-lookup"><span data-stu-id="8bd4a-242">Network Contributor</span></span>](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor)|<span data-ttu-id="8bd4a-243">Microsoft.Network/virtualNetworks/virtualNetworkPeerings/write</span><span class="sxs-lookup"><span data-stu-id="8bd4a-243">Microsoft.Network/virtualNetworks/virtualNetworkPeerings/write</span></span>|
| |<span data-ttu-id="8bd4a-244">Clásico</span><span class="sxs-lookup"><span data-stu-id="8bd4a-244">Classic</span></span>|[<span data-ttu-id="8bd4a-245">Colaborador de la red clásica</span><span class="sxs-lookup"><span data-stu-id="8bd4a-245">Classic Network Contributor</span></span>](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#classic-network-contributor)|<span data-ttu-id="8bd4a-246">N/D</span><span class="sxs-lookup"><span data-stu-id="8bd4a-246">N/A</span></span>|
|<span data-ttu-id="8bd4a-247">myVnet2</span><span class="sxs-lookup"><span data-stu-id="8bd4a-247">myVnet2</span></span>|<span data-ttu-id="8bd4a-248">Resource Manager</span><span class="sxs-lookup"><span data-stu-id="8bd4a-248">Resource Manager</span></span>|[<span data-ttu-id="8bd4a-249">Colaborador de la red</span><span class="sxs-lookup"><span data-stu-id="8bd4a-249">Network Contributor</span></span>](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor)|<span data-ttu-id="8bd4a-250">Microsoft.Network/virtualNetworks/peer</span><span class="sxs-lookup"><span data-stu-id="8bd4a-250">Microsoft.Network/virtualNetworks/peer</span></span>|
||<span data-ttu-id="8bd4a-251">Clásico</span><span class="sxs-lookup"><span data-stu-id="8bd4a-251">Classic</span></span>|[<span data-ttu-id="8bd4a-252">Colaborador de la red clásica</span><span class="sxs-lookup"><span data-stu-id="8bd4a-252">Classic Network Contributor</span></span>](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#classic-network-contributor)|<span data-ttu-id="8bd4a-253">Microsoft.ClassicNetwork/virtualNetworks/peer</span><span class="sxs-lookup"><span data-stu-id="8bd4a-253">Microsoft.ClassicNetwork/virtualNetworks/peer</span></span>|

<span data-ttu-id="8bd4a-254">Obtenga más información sobre los [roles integrados](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor) y la asignación de permisos específicos a [roles personalizados](../active-directory/role-based-access-control-custom-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json) (solo Resource Manager).</span><span class="sxs-lookup"><span data-stu-id="8bd4a-254">Learn more about [built-in roles](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor) and assigning specific permissions to [custom roles](../active-directory/role-based-access-control-custom-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json) (Resource Manager only).</span></span>

## <span data-ttu-id="8bd4a-255"><a name="delete"></a>Eliminación de recursos</span><span class="sxs-lookup"><span data-stu-id="8bd4a-255"><a name="delete"></a>Delete resources</span></span>
<span data-ttu-id="8bd4a-256">Cuando haya terminado este tutorial, es posible que quiera eliminar los recursos que creó en el tutorial, para no incurrir en gastos de uso.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-256">When you've finished this tutorial, you might want to delete the resources you created in the tutorial, so you don't incur usage charges.</span></span> <span data-ttu-id="8bd4a-257">Al eliminar un grupo de recursos se eliminan también todos los recursos contenidos en el mismo.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-257">Deleting a resource group also deletes all resources that are in the resource group.</span></span>

### <span data-ttu-id="8bd4a-258"><a name="delete-portal"></a>Azure Portal</span><span class="sxs-lookup"><span data-stu-id="8bd4a-258"><a name="delete-portal"></a>Azure portal</span></span>

1. <span data-ttu-id="8bd4a-259">En el cuadro de búsqueda del portal, escriba **myResourceGroup**.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-259">In the portal search box, enter **myResourceGroup**.</span></span> <span data-ttu-id="8bd4a-260">En los resultados de la búsqueda, haga clic en **myResourceGroup**.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-260">In the search results, click **myResourceGroup**.</span></span>
2. <span data-ttu-id="8bd4a-261">En la hoja **myResourceGroup**, haga clic en el icono **Eliminar**.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-261">On the **myResourceGroup** blade, click the **Delete** icon.</span></span>
3. <span data-ttu-id="8bd4a-262">Para confirmar la eliminación, en el cuadro **ESCRIBA EL NOMBRE DEL GRUPO DE RECURSOS**, escriba **myResourceGroup** y, luego, haga clic en **Eliminar**.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-262">To confirm the deletion, in the **TYPE THE RESOURCE GROUP NAME** box, enter **myResourceGroup**, and then click **Delete**.</span></span>

### <span data-ttu-id="8bd4a-263"><a name="delete-cli"></a>Azure CLI</span><span class="sxs-lookup"><span data-stu-id="8bd4a-263"><a name="delete-cli"></a>Azure CLI</span></span>

1. <span data-ttu-id="8bd4a-264">Use la CLI de Azure 2.0 para eliminar la red virtual (Resource Manager) con el siguiente comando:</span><span class="sxs-lookup"><span data-stu-id="8bd4a-264">Use the Azure CLI 2.0 to delete the virtual network (Resource Manager) with the following command:</span></span>

    ```azurecli-interactive
    az group delete --name myResourceGroup --yes
    ```

2. <span data-ttu-id="8bd4a-265">Use la CLI de Azure 1.0 para eliminar la red virtual (clásico) con los siguientes comandos:</span><span class="sxs-lookup"><span data-stu-id="8bd4a-265">Use the Azure CLI 1.0 to delete the virtual network (classic) with the following commands:</span></span>

    ```azurecli
    azure config mode asm

    azure network vnet delete --vnet myVnet2 --quiet
    ```

### <span data-ttu-id="8bd4a-266"><a name="delete-powershell"></a>PowerShell</span><span class="sxs-lookup"><span data-stu-id="8bd4a-266"><a name="delete-powershell"></a>PowerShell</span></span>

1. <span data-ttu-id="8bd4a-267">Especifique el siguiente comando para eliminar la red virtual (Resource Manager):</span><span class="sxs-lookup"><span data-stu-id="8bd4a-267">Enter the following command to delete the virtual network (Resource Manager):</span></span>

    ```powershell
    Remove-AzureRmResourceGroup -Name myResourceGroup -Force
    ```

2. <span data-ttu-id="8bd4a-268">Para eliminar la red virtual (clásica) con PowerShell, debe modificar un archivo de configuración de red existente.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-268">To delete the virtual network (classic) with PowerShell, you must modify an existing network configuration file.</span></span> <span data-ttu-id="8bd4a-269">Obtenga información sobre cómo [exportar, actualizar e importar archivos de configuración de red](virtual-networks-using-network-configuration-file.md).</span><span class="sxs-lookup"><span data-stu-id="8bd4a-269">Learn how to [export, update, and import network configuration files](virtual-networks-using-network-configuration-file.md).</span></span> <span data-ttu-id="8bd4a-270">Quite el siguiente elemento VirtualNetworkSite para la red virtual que se usa en este tutorial:</span><span class="sxs-lookup"><span data-stu-id="8bd4a-270">Remove the following VirtualNetworkSite element for the virtual network used in this tutorial:</span></span>

    ```xml
    <VirtualNetworkSite name="myVnet2" Location="East US">
      <AddressSpace>
        <AddressPrefix>10.1.0.0/16</AddressPrefix>
      </AddressSpace>
      <Subnets>
        <Subnet name="default">
          <AddressPrefix>10.1.0.0/24</AddressPrefix>
        </Subnet>
      </Subnets>
    </VirtualNetworkSite>
    ```

    > [!WARNING]
    > <span data-ttu-id="8bd4a-271">Importar un archivo de configuración de red modificada puede producir cambios en las redes virtuales (clásicas) existentes en la suscripción.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-271">Importing a changed network configuration file can cause changes to existing virtual networks (classic) in your subscription.</span></span> <span data-ttu-id="8bd4a-272">Asegúrese de quitar solo la red virtual anterior y que no cambia o quita ninguna red virtual existente de la suscripción.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-272">Ensure you only remove the previous virtual network and that you don't change or remove any other existing virtual networks from your subscription.</span></span> 

## <a name="next-steps"></a><span data-ttu-id="8bd4a-273">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="8bd4a-273">Next steps</span></span>

- <span data-ttu-id="8bd4a-274">Conozca en profundidad las [restricciones y comportamientos importantes del emparejamiento de redes virtuales](virtual-network-manage-peering.md#requirements-and-constraints) antes de crear un emparejamiento de redes virtuales para su uso en el entorno de producción.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-274">Thoroughly familiarize yourself with important [virtual network peering constraints and behaviors](virtual-network-manage-peering.md#requirements-and-constraints) before creating a virtual network peering for production use.</span></span>
- <span data-ttu-id="8bd4a-275">Conozca toda la [configuración de emparejamiento de redes virtuales](virtual-network-manage-peering.md#create-a-peering).</span><span class="sxs-lookup"><span data-stu-id="8bd4a-275">Learn about all [virtual network peering settings](virtual-network-manage-peering.md#create-a-peering).</span></span>
- <span data-ttu-id="8bd4a-276">Obtenga información sobre cómo [crear una topología de red de concentrador y radio](/azure/architecture/reference-architectures/hybrid-networking/hub-spoke?toc=%2fazure%2fvirtual-network%2ftoc.json#vnet-peering) con emparejamiento de redes virtuales.</span><span class="sxs-lookup"><span data-stu-id="8bd4a-276">Learn how to [create a hub and spoke network topology](/azure/architecture/reference-architectures/hybrid-networking/hub-spoke?toc=%2fazure%2fvirtual-network%2ftoc.json#vnet-peering) with virtual network peering.</span></span>
