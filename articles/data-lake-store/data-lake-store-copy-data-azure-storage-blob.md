---
title: Copia de datos desde Azure Storage Blob a Data Lake Store| Microsoft Docs
description: "Use la herramienta AdlCopy para copiar datos desde los blobs de almacenamiento de Azure a Almacén de Data Lake."
services: data-lake-store
documentationcenter: 
author: nitinme
manager: jhubbard
editor: cgronlun
ms.assetid: dc273ef8-96ef-47a6-b831-98e8a777a5c1
ms.service: data-lake-store
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 06/29/2017
ms.author: nitinme
ms.openlocfilehash: 68f44991432a76c2ef1c79ec6dffdea4c62bcb17
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 07/11/2017
---
# <a name="copy-data-from-azure-storage-blobs-to-data-lake-store"></a><span data-ttu-id="0674e-103">Copia de datos de los blobs de almacenamiento de Azure en el Almacén de Data Lake</span><span class="sxs-lookup"><span data-stu-id="0674e-103">Copy data from Azure Storage Blobs to Data Lake Store</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="0674e-104">Uso de DistCp</span><span class="sxs-lookup"><span data-stu-id="0674e-104">Using DistCp</span></span>](data-lake-store-copy-data-wasb-distcp.md)
> * [<span data-ttu-id="0674e-105">Uso de AdlCopy</span><span class="sxs-lookup"><span data-stu-id="0674e-105">Using AdlCopy</span></span>](data-lake-store-copy-data-azure-storage-blob.md)
>
>

<span data-ttu-id="0674e-106">Azure Data Lake Store proporciona una herramienta de línea de comandos, [AdlCopy](http://aka.ms/downloadadlcopy), para copiar datos desde los siguientes orígenes:</span><span class="sxs-lookup"><span data-stu-id="0674e-106">Azure Data Lake Store provides a command line tool, [AdlCopy](http://aka.ms/downloadadlcopy), to copy data from the following sources:</span></span>

* <span data-ttu-id="0674e-107">Desde los blobs de Almacenamiento de Azure en Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="0674e-107">From Azure Storage Blobs into Data Lake Store.</span></span> <span data-ttu-id="0674e-108">No puede utilizar AdlCopy para copiar datos del Almacén de Data Lake a los blobs de Almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="0674e-108">You cannot use AdlCopy to copy data from Data Lake Store to Azure Storage blobs.</span></span>
* <span data-ttu-id="0674e-109">Entre dos cuentas de Azure Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="0674e-109">Between two Azure Data Lake Store accounts.</span></span>

<span data-ttu-id="0674e-110">Además, puede usar la herramienta AdlCopy en dos modos diferentes:</span><span class="sxs-lookup"><span data-stu-id="0674e-110">Also, you can use the AdlCopy tool in two different modes:</span></span>

* <span data-ttu-id="0674e-111">**Independiente**, donde la herramienta usa recursos de Almacén de Data Lake para realizar la tarea.</span><span class="sxs-lookup"><span data-stu-id="0674e-111">**Standalone**, where the tool uses Data Lake Store resources to perform the task.</span></span>
* <span data-ttu-id="0674e-112">**Con una cuenta de Análisis de Data Lake**, donde las unidades asignadas a la cuenta de Análisis de Data Lake se usan para realizar la operación de copia.</span><span class="sxs-lookup"><span data-stu-id="0674e-112">**Using a Data Lake Analytics account**, where the units assigned to your Data Lake Analytics account are used to perform the copy operation.</span></span> <span data-ttu-id="0674e-113">Puede que desee usar esta opción cuando quiera realizar las tareas de copia de forma predecible.</span><span class="sxs-lookup"><span data-stu-id="0674e-113">You might want to use this option when you are looking to perform the copy tasks in a predictable manner.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="0674e-114">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="0674e-114">Prerequisites</span></span>
<span data-ttu-id="0674e-115">Antes de empezar este artículo, debe tener lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="0674e-115">Before you begin this article, you must have the following:</span></span>

* <span data-ttu-id="0674e-116">**Una suscripción de Azure**.</span><span class="sxs-lookup"><span data-stu-id="0674e-116">**An Azure subscription**.</span></span> <span data-ttu-id="0674e-117">Vea [Obtener evaluación gratuita de Azure](https://azure.microsoft.com/pricing/free-trial/).</span><span class="sxs-lookup"><span data-stu-id="0674e-117">See [Get Azure free trial](https://azure.microsoft.com/pricing/free-trial/).</span></span>
* <span data-ttu-id="0674e-118">**blobs de almacenamiento de Azure** con algunos datos.</span><span class="sxs-lookup"><span data-stu-id="0674e-118">**Azure Storage Blobs** container with some data.</span></span>
* <span data-ttu-id="0674e-119">**Una cuenta de Almacén de Azure Data Lake**.</span><span class="sxs-lookup"><span data-stu-id="0674e-119">**An Azure Data Lake Store account**.</span></span> <span data-ttu-id="0674e-120">Para obtener instrucciones sobre cómo crear una, consulte la [introducción al Almacén de Azure Data Lake](data-lake-store-get-started-portal.md)</span><span class="sxs-lookup"><span data-stu-id="0674e-120">For instructions on how to create one, see [Get started with Azure Data Lake Store](data-lake-store-get-started-portal.md)</span></span>
* <span data-ttu-id="0674e-121">**Cuenta de Azure Data Lake Analytics (opcional)**. Consulte el artículo de [introducción a Azure Data Lake Analytics](../data-lake-analytics/data-lake-analytics-get-started-portal.md) para obtener instrucciones sobre cómo crear una cuenta de Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="0674e-121">**Azure Data Lake Analytics account (optional)** - See [Get started with Azure Data Lake Analytics](../data-lake-analytics/data-lake-analytics-get-started-portal.md) for instructions on how to create a Data Lake Store account.</span></span>
* <span data-ttu-id="0674e-122">**Herramienta AdlCopy**.</span><span class="sxs-lookup"><span data-stu-id="0674e-122">**AdlCopy tool**.</span></span> <span data-ttu-id="0674e-123">Instale la herramienta AdlCopy desde [http://aka.ms/downloadadlcopy](http://aka.ms/downloadadlcopy).</span><span class="sxs-lookup"><span data-stu-id="0674e-123">Install the AdlCopy tool from [http://aka.ms/downloadadlcopy](http://aka.ms/downloadadlcopy).</span></span>

## <a name="syntax-of-the-adlcopy-tool"></a><span data-ttu-id="0674e-124">Sintaxis de la herramienta AdlCopy</span><span class="sxs-lookup"><span data-stu-id="0674e-124">Syntax of the AdlCopy tool</span></span>
<span data-ttu-id="0674e-125">Use la siguiente sintaxis para trabajar con la herramienta AdlCopy.</span><span class="sxs-lookup"><span data-stu-id="0674e-125">Use the following syntax to work with the AdlCopy tool</span></span>

    AdlCopy /Source <Blob or Data Lake Store source> /Dest <Data Lake Store destination> /SourceKey <Key for Blob account> /Account <Data Lake Analytics account> /Unit <Number of Analytics units> /Pattern

<span data-ttu-id="0674e-126">A continuación, se describen los parámetros de la sintaxis:</span><span class="sxs-lookup"><span data-stu-id="0674e-126">The parameters in the syntax are described below:</span></span>

| <span data-ttu-id="0674e-127">Opción</span><span class="sxs-lookup"><span data-stu-id="0674e-127">Option</span></span> | <span data-ttu-id="0674e-128">Description</span><span class="sxs-lookup"><span data-stu-id="0674e-128">Description</span></span> |
| --- | --- |
| <span data-ttu-id="0674e-129">Origen</span><span class="sxs-lookup"><span data-stu-id="0674e-129">Source</span></span> |<span data-ttu-id="0674e-130">Especifica la ubicación de los datos de origen en el blob de almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="0674e-130">Specifies the location of the source data in the Azure storage blob.</span></span> <span data-ttu-id="0674e-131">El origen puede ser un contenedor de blobs, un blob u otra cuenta de Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="0674e-131">The source can be a blob container, a blob, or another Data Lake Store account.</span></span> |
| <span data-ttu-id="0674e-132">Dest</span><span class="sxs-lookup"><span data-stu-id="0674e-132">Dest</span></span> |<span data-ttu-id="0674e-133">Especifica el destino de Almacén de Data Lake al que copiar.</span><span class="sxs-lookup"><span data-stu-id="0674e-133">Specifies the Data Lake Store destination to copy to.</span></span> |
| <span data-ttu-id="0674e-134">SourceKey</span><span class="sxs-lookup"><span data-stu-id="0674e-134">SourceKey</span></span> |<span data-ttu-id="0674e-135">Especifica la clave de acceso de almacenamiento para el origen de blobs de almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="0674e-135">Specifies the storage access key for the Azure storage blob source.</span></span> <span data-ttu-id="0674e-136">Esto solo es necesario si el origen es un contenedor de blobs o un blob.</span><span class="sxs-lookup"><span data-stu-id="0674e-136">This is required only if the source is a blob container or a blob.</span></span> |
| <span data-ttu-id="0674e-137">Cuenta</span><span class="sxs-lookup"><span data-stu-id="0674e-137">Account</span></span> |<span data-ttu-id="0674e-138">**Opcional**.</span><span class="sxs-lookup"><span data-stu-id="0674e-138">**Optional**.</span></span> <span data-ttu-id="0674e-139">Utilícelo si desea usar una cuenta de Análisis de Azure Data Lake para ejecutar el trabajo de copia.</span><span class="sxs-lookup"><span data-stu-id="0674e-139">Use this if you want to use Azure Data Lake Analytics account to run the copy job.</span></span> <span data-ttu-id="0674e-140">Si usa la opción /Account en la sintaxis, pero no especifica una cuenta de Análisis de Data Lake, AdlCopy usa una cuenta predeterminada para ejecutar el trabajo.</span><span class="sxs-lookup"><span data-stu-id="0674e-140">If you use the /Account option in the syntax but do not specify a Data Lake Analytics account, AdlCopy uses a default account to run the job.</span></span> <span data-ttu-id="0674e-141">Además, si usa esta opción, debe agregar el origen (blob de almacenamiento de Azure) y el destino (Almacén de Azure Data Lake) como orígenes de datos para la cuenta de Análisis de Data Lake.</span><span class="sxs-lookup"><span data-stu-id="0674e-141">Also, if you use this option, you must add the source (Azure Storage Blob) and destination (Azure Data Lake Store) as data sources for your Data Lake Analytics account.</span></span> |
| <span data-ttu-id="0674e-142">Unidades</span><span class="sxs-lookup"><span data-stu-id="0674e-142">Units</span></span> |<span data-ttu-id="0674e-143">Especifica la cantidad de unidades de Análisis de Data Lake que se usará para el trabajo de copia.</span><span class="sxs-lookup"><span data-stu-id="0674e-143">Specifies the number of Data Lake Analytics units that will be used for the copy job.</span></span> <span data-ttu-id="0674e-144">Esta opción es obligatoria si usa la opción **/Account** para especificar la cuenta de Análisis de Data Lake.</span><span class="sxs-lookup"><span data-stu-id="0674e-144">This option is mandatory if you use the **/Account** option to specify the Data Lake Analytics account.</span></span> |
| <span data-ttu-id="0674e-145">Patrón</span><span class="sxs-lookup"><span data-stu-id="0674e-145">Pattern</span></span> |<span data-ttu-id="0674e-146">Especifica un patrón Regex que indica qué blobs o archivos se van a copiar.</span><span class="sxs-lookup"><span data-stu-id="0674e-146">Specifies a regex pattern that indicates which blobs or files to copy.</span></span> <span data-ttu-id="0674e-147">AdlCopy usa una coincidencia que distingue mayúsculas de minúsculas.</span><span class="sxs-lookup"><span data-stu-id="0674e-147">AdlCopy uses case-sensitive matching.</span></span> <span data-ttu-id="0674e-148">El patrón predeterminado que se usa cuando no se especifica ninguno es copiar todos los elementos.</span><span class="sxs-lookup"><span data-stu-id="0674e-148">The default pattern used when no pattern is specified is to copy all items.</span></span> <span data-ttu-id="0674e-149">No se admite la especificación de varios patrones de archivos.</span><span class="sxs-lookup"><span data-stu-id="0674e-149">Specifying multiple file patterns is not supported.</span></span> |

## <a name="use-adlcopy-as-standalone-to-copy-data-from-an-azure-storage-blob"></a><span data-ttu-id="0674e-150">Uso de AdlCopy (en modo independiente) para copiar datos desde un blob de Almacenamiento de Azure</span><span class="sxs-lookup"><span data-stu-id="0674e-150">Use AdlCopy (as standalone) to copy data from an Azure Storage blob</span></span>
1. <span data-ttu-id="0674e-151">Abra un símbolo del sistema y vaya al directorio donde está instalada la herramienta AdlCopy, normalmente `%HOMEPATH%\Documents\adlcopy`.</span><span class="sxs-lookup"><span data-stu-id="0674e-151">Open a command prompt and navigate to the directory where AdlCopy is installed, typically `%HOMEPATH%\Documents\adlcopy`.</span></span>
2. <span data-ttu-id="0674e-152">Ejecute el siguiente comando para copiar un blob específico desde el contenedor de origen a un Almacén de Data Lake:</span><span class="sxs-lookup"><span data-stu-id="0674e-152">Run the following command to copy a specific blob from the source container to a Data Lake Store:</span></span>

        AdlCopy /source https://<source_account>.blob.core.windows.net/<source_container>/<blob name> /dest swebhdfs://<dest_adls_account>.azuredatalakestore.net/<dest_folder>/ /sourcekey <storage_account_key_for_storage_container>

    <span data-ttu-id="0674e-153">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="0674e-153">For example:</span></span>

        AdlCopy /source https://mystorage.blob.core.windows.net/mycluster/HdiSamples/HdiSamples/WebsiteLogSampleData/SampleLog/909f2b.log /dest swebhdfs://mydatalakestore.azuredatalakestore.net/mynewfolder/ /sourcekey uJUfvD6cEvhfLoBae2yyQf8t9/BpbWZ4XoYj4kAS5Jf40pZaMNf0q6a8yqTxktwVgRED4vPHeh/50iS9atS5LQ==

    >[AZURE.NOTE] <span data-ttu-id="0674e-154">La sintaxis anterior especifica el archivo que se va a copiar en una carpeta de la cuenta de Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="0674e-154">The syntax above specifies the file to be copied to a folder in the Data Lake Store account.</span></span> <span data-ttu-id="0674e-155">La herramienta AdlCopy crea una carpeta si el nombre de carpeta especificado no existe.</span><span class="sxs-lookup"><span data-stu-id="0674e-155">AdlCopy tool creates a folder if the specified folder name does not exist.</span></span>

    <span data-ttu-id="0674e-156">Se le pedirá que escriba las credenciales de la suscripción a Azure en la que tiene la cuenta de Azure Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="0674e-156">You will be prompted to enter the credentials for the Azure subscription under which you have your Data Lake Store account.</span></span> <span data-ttu-id="0674e-157">Verá un resultado similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="0674e-157">You will see an output similar to the following:</span></span>

        Initializing Copy.
        Copy Started.
        100% data copied.
        Finishing Copy.
        Copy Completed. 1 file copied.

1. <span data-ttu-id="0674e-158">También puede copiar todos los blobs desde un contenedor a la cuenta de Almacén de Data Lake con el siguiente comando:</span><span class="sxs-lookup"><span data-stu-id="0674e-158">You can also copy all the blobs from one container to the Data Lake Store account using the following command:</span></span>

        AdlCopy /source https://<source_account>.blob.core.windows.net/<source_container>/ /dest swebhdfs://<dest_adls_account>.azuredatalakestore.net/<dest_folder>/ /sourcekey <storage_account_key_for_storage_container>        

    <span data-ttu-id="0674e-159">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="0674e-159">For example:</span></span>

        AdlCopy /Source https://mystorage.blob.core.windows.net/mycluster/example/data/gutenberg/ /dest adl://mydatalakestore.azuredatalakestore.net/mynewfolder/ /sourcekey uJUfvD6cEvhfLoBae2yyQf8t9/BpbWZ4XoYj4kAS5Jf40pZaMNf0q6a8yqTxktwVgRED4vPHeh/50iS9atS5LQ==

### <a name="performance-considerations"></a><span data-ttu-id="0674e-160">Consideraciones sobre rendimiento</span><span class="sxs-lookup"><span data-stu-id="0674e-160">Performance considerations</span></span>

<span data-ttu-id="0674e-161">Si va a copiar de una cuenta de Azure Blob Storage, puede tener alguna limitación durante la copia en Blob Storage.</span><span class="sxs-lookup"><span data-stu-id="0674e-161">If you are copying from an Azure Blob Storage account, you may be throttled during copy on the blob storage side.</span></span> <span data-ttu-id="0674e-162">Como consecuencia, disminuirá el rendimiento de su trabajo de copia.</span><span class="sxs-lookup"><span data-stu-id="0674e-162">This will degrade the performance of your copy job.</span></span> <span data-ttu-id="0674e-163">Para aprender sobre los límites de Azure Blob Storage, consulte la información al respecto en [Límites de suscripciones y servicios de Azure](../azure-subscription-service-limits.md).</span><span class="sxs-lookup"><span data-stu-id="0674e-163">To learn more about the limits of Azure Blob Storage, see Azure Storage limits at [Azure subscription and service limits](../azure-subscription-service-limits.md).</span></span>

## <a name="use-adlcopy-as-standalone-to-copy-data-from-another-data-lake-store-account"></a><span data-ttu-id="0674e-164">Uso de AdlCopy (en modo independiente) para copiar datos desde otra cuenta de Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="0674e-164">Use AdlCopy (as standalone) to copy data from another Data Lake Store account</span></span>
<span data-ttu-id="0674e-165">También puede usar AdlCopy para copiar datos entre dos cuentas de Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="0674e-165">You can also use AdlCopy to copy data between two Data Lake Store accounts.</span></span>

1. <span data-ttu-id="0674e-166">Abra un símbolo del sistema y vaya al directorio donde está instalada la herramienta AdlCopy, normalmente `%HOMEPATH%\Documents\adlcopy`.</span><span class="sxs-lookup"><span data-stu-id="0674e-166">Open a command prompt and navigate to the directory where AdlCopy is installed, typically `%HOMEPATH%\Documents\adlcopy`.</span></span>
2. <span data-ttu-id="0674e-167">Ejecute el siguiente comando para copiar un archivo específico de una cuenta de Data Lake Store a otra.</span><span class="sxs-lookup"><span data-stu-id="0674e-167">Run the following command to copy a specific file from one Data Lake Store account to another.</span></span>

        AdlCopy /Source adl://<source_adls_account>.azuredatalakestore.net/<path_to_file> /dest adl://<dest_adls_account>.azuredatalakestore.net/<path>/

    <span data-ttu-id="0674e-168">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="0674e-168">For example:</span></span>

        AdlCopy /Source adl://mydatastore.azuredatalakestore.net/mynewfolder/909f2b.log /dest adl://mynewdatalakestore.azuredatalakestore.net/mynewfolder/

   > [!NOTE]
   > <span data-ttu-id="0674e-169">La sintaxis anterior especifica el archivo que se va a copiar en una carpeta de la cuenta de Data Lake Store de destino.</span><span class="sxs-lookup"><span data-stu-id="0674e-169">The syntax above specifies the file to be copied to a folder in the destination Data Lake Store account.</span></span> <span data-ttu-id="0674e-170">La herramienta AdlCopy crea una carpeta si el nombre de carpeta especificado no existe.</span><span class="sxs-lookup"><span data-stu-id="0674e-170">AdlCopy tool creates a folder if the specified folder name does not exist.</span></span>
   >
   >

    <span data-ttu-id="0674e-171">Se le pedirá que escriba las credenciales de la suscripción a Azure en la que tiene la cuenta de Azure Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="0674e-171">You will be prompted to enter the credentials for the Azure subscription under which you have your Data Lake Store account.</span></span> <span data-ttu-id="0674e-172">Verá un resultado similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="0674e-172">You will see an output similar to the following:</span></span>

        Initializing Copy.
        Copy Started.|
        100% data copied.
        Finishing Copy.
        Copy Completed. 1 file copied.
3. <span data-ttu-id="0674e-173">El siguiente comando copia todos los archivos de una carpeta específica de la cuenta de Data Lake Store de origen en una carpeta de la cuenta de Data Lake Store de destino.</span><span class="sxs-lookup"><span data-stu-id="0674e-173">The following command copies all files from a specific folder in the source Data Lake Store account to a folder in the destination Data Lake Store account.</span></span>

        AdlCopy /Source adl://mydatastore.azuredatalakestore.net/mynewfolder/ /dest adl://mynewdatalakestore.azuredatalakestore.net/mynewfolder/

### <a name="performance-considerations"></a><span data-ttu-id="0674e-174">Consideraciones sobre rendimiento</span><span class="sxs-lookup"><span data-stu-id="0674e-174">Performance considerations</span></span>

<span data-ttu-id="0674e-175">Cuando se usa AdlCopy como una herramienta independiente, la copia se ejecuta en recursos administrados de Azure compartidos.</span><span class="sxs-lookup"><span data-stu-id="0674e-175">When using AdlCopy as a standalone tool, the copy is run on shared, Azure managed resources.</span></span> <span data-ttu-id="0674e-176">El rendimiento que obtenga en este entorno depende de la carga del sistema y de los recursos disponibles.</span><span class="sxs-lookup"><span data-stu-id="0674e-176">The performance you may get in this environment depends on system load and available resources.</span></span> <span data-ttu-id="0674e-177">Este modo se usa preferiblemente en el caso de pequeñas transferencias de manera ad hoc.</span><span class="sxs-lookup"><span data-stu-id="0674e-177">This mode is best used for small transfers on an ad hoc basis.</span></span> <span data-ttu-id="0674e-178">Cuando se usa AdlCopy como herramienta independiente, no es necesario ajustar ningún parámetro.</span><span class="sxs-lookup"><span data-stu-id="0674e-178">No parameters need to be tuned when using AdlCopy as a standalone tool.</span></span>

## <a name="use-adlcopy-with-data-lake-analytics-account-to-copy-data"></a><span data-ttu-id="0674e-179">Uso de AdlCopy (con una cuenta de Data Lake Analytics) para copiar datos</span><span class="sxs-lookup"><span data-stu-id="0674e-179">Use AdlCopy (with Data Lake Analytics account) to copy data</span></span>
<span data-ttu-id="0674e-180">También puede usar la cuenta de Análisis de Data Lake para ejecutar el trabajo AdlCopy para copiar datos desde los blobs de almacenamiento de Azure al Almacén de Data Lake.</span><span class="sxs-lookup"><span data-stu-id="0674e-180">You can also use your Data Lake Analytics account to run the AdlCopy job to copy data from Azure storage blobs to Data Lake Store.</span></span> <span data-ttu-id="0674e-181">Con frecuencia, usaría esta opción cuando los datos que se van a migrar se encuentran en el rango de gigabytes y terabytes y desea obtener un mejor rendimiento predecible.</span><span class="sxs-lookup"><span data-stu-id="0674e-181">You would typically use this option when the data to be moved is in the range of gigabytes and terabytes, and you want better and predictable performance throughput.</span></span>

<span data-ttu-id="0674e-182">Para usar la cuenta de Data Lake Analytics con AdlCopy para copiar desde un blob de Almacenamiento de Azure, se debe agregar el origen (blob de Almacenamiento de Azure) como origen de datos para la cuenta de Data Lake Analytics.</span><span class="sxs-lookup"><span data-stu-id="0674e-182">To use your Data Lake Analytics account with AdlCopy to copy from an Azure Storage Blob, the source (Azure Storage Blob) must be added as a data source for your Data Lake Analytics account.</span></span> <span data-ttu-id="0674e-183">Para obtener instrucciones sobre cómo agregar orígenes de datos adicionales a la cuenta de Data Lake Analytics, vea [Administración de orígenes de datos de la cuenta de Data Lake Analytics](../data-lake-analytics/data-lake-analytics-manage-use-portal.md#manage-data-sources).</span><span class="sxs-lookup"><span data-stu-id="0674e-183">For instructions on adding additional data sources to your Data Lake Analytics account, see [Manage Data Lake Analytics account data sources](../data-lake-analytics/data-lake-analytics-manage-use-portal.md#manage-data-sources).</span></span>

> [!NOTE]
> <span data-ttu-id="0674e-184">Si va a copiar desde una cuenta de Azure Data Lake Store como origen mediante una cuenta de Data Lake Analytics, no es necesario asociar la cuenta de Data Lake Store con la cuenta de Data Lake Analytics.</span><span class="sxs-lookup"><span data-stu-id="0674e-184">If you are copying from an Azure Data Lake Store account as the source using a Data Lake Analytics account, you do not need to associate the Data Lake Store account with the Data Lake Analytics account.</span></span> <span data-ttu-id="0674e-185">El requisito para asociar el almacén de origen a la cuenta de Data Lake Analytics solo se aplica cuando el origen es una cuenta de Almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="0674e-185">The requirement to associate the source store with the Data Lake Analytics account is only when the source is an Azure Storage account.</span></span>
>
>

<span data-ttu-id="0674e-186">Ejecute el siguiente comando para copiar de un blob de Almacenamiento de Azure a una cuenta de Data Lake Store mediante la cuenta de Data Lake Analytics:</span><span class="sxs-lookup"><span data-stu-id="0674e-186">Run the following command to copy from an Azure Storage blob to a Data Lake Store account using Data Lake Analytics account:</span></span>

    AdlCopy /source https://<source_account>.blob.core.windows.net/<source_container>/<blob name> /dest swebhdfs://<dest_adls_account>.azuredatalakestore.net/<dest_folder>/ /sourcekey <storage_account_key_for_storage_container> /Account <data_lake_analytics_account> /Unit <number_of_data_lake_analytics_units_to_be_used>

<span data-ttu-id="0674e-187">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="0674e-187">For example:</span></span>

    AdlCopy /Source https://mystorage.blob.core.windows.net/mycluster/example/data/gutenberg/ /dest swebhdfs://mydatalakestore.azuredatalakestore.net/mynewfolder/ /sourcekey uJUfvD6cEvhfLoBae2yyQf8t9/BpbWZ4XoYj4kAS5Jf40pZaMNf0q6a8yqTxktwVgRED4vPHeh/50iS9atS5LQ== /Account mydatalakeanalyticaccount /Units 2

<span data-ttu-id="0674e-188">De forma similar, ejecute el siguiente comando para copiar de un blob de Almacenamiento de Azure a una cuenta de Data Lake Store mediante la cuenta de Data Lake Analytics:</span><span class="sxs-lookup"><span data-stu-id="0674e-188">Similarly, run the following command to copy from an Azure Storage blob to a Data Lake Store account using Data Lake Analytics account:</span></span>

    AdlCopy /Source adl://mysourcedatalakestore.azuredatalakestore.net/mynewfolder/ /dest adl://mydestdatastore.azuredatalakestore.net/mynewfolder/ /Account mydatalakeanalyticaccount /Units 2

### <a name="performance-considerations"></a><span data-ttu-id="0674e-189">Consideraciones sobre rendimiento</span><span class="sxs-lookup"><span data-stu-id="0674e-189">Performance considerations</span></span>

<span data-ttu-id="0674e-190">Cuando se copian datos en el intervalo de terabytes, el uso de AdlCopy con su propia cuenta de Azure Data Lake Analytics proporciona un rendimiento mejor y más predecible.</span><span class="sxs-lookup"><span data-stu-id="0674e-190">When copying data in the range of terabytes, using AdlCopy with your own Azure Data Lake Analytics account provides better and more predictable performance.</span></span> <span data-ttu-id="0674e-191">El parámetro que debe ajustarse es el número de unidades de Azure Data Lake Analytics que se usarán con el trabajo de copia.</span><span class="sxs-lookup"><span data-stu-id="0674e-191">The parameter that should be tuned is the number of Azure Data Lake Analytics Units to use for the copy job.</span></span> <span data-ttu-id="0674e-192">Al aumentar el número de unidades, aumentará el rendimiento de su trabajo de copia.</span><span class="sxs-lookup"><span data-stu-id="0674e-192">Increasing the number of units will increase the performance of your copy job.</span></span> <span data-ttu-id="0674e-193">Cada archivo que se va a copiar puede usar como máximo una unidad.</span><span class="sxs-lookup"><span data-stu-id="0674e-193">Each file to be copied can use maximum one unit.</span></span> <span data-ttu-id="0674e-194">Si se especifican más unidades que el número de archivos que se copian, no aumentará el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="0674e-194">Specifying more units than the number of files being copied will not increase performance.</span></span>

## <a name="use-adlcopy-to-copy-data-using-pattern-matching"></a><span data-ttu-id="0674e-195">Uso de AdlCopy para copiar datos mediante la coincidencia de patrones</span><span class="sxs-lookup"><span data-stu-id="0674e-195">Use AdlCopy to copy data using pattern matching</span></span>
<span data-ttu-id="0674e-196">En esta sección, aprenderá a usar AdlCopy para copiar datos de un origen (en el siguiente ejemplo, se usan blobs de Almacenamiento de Azure) a una cuenta de Data Lake Store de destino mediante la coincidencia de patrones.</span><span class="sxs-lookup"><span data-stu-id="0674e-196">In this section, you learn how to use AdlCopy to copy data from a source (in our example below we use Azure Storage Blob) to a destination Data Lake Store account using pattern matching.</span></span> <span data-ttu-id="0674e-197">Por ejemplo, puede usar los pasos siguientes para copiar todos los archivos con la extensión .csv del blob de origen al de destino.</span><span class="sxs-lookup"><span data-stu-id="0674e-197">For example, you can use the steps below to copy all files with .csv extension from the source blob to the destination.</span></span>

1. <span data-ttu-id="0674e-198">Abra un símbolo del sistema y vaya al directorio donde está instalada la herramienta AdlCopy, normalmente `%HOMEPATH%\Documents\adlcopy`.</span><span class="sxs-lookup"><span data-stu-id="0674e-198">Open a command prompt and navigate to the directory where AdlCopy is installed, typically `%HOMEPATH%\Documents\adlcopy`.</span></span>
2. <span data-ttu-id="0674e-199">Ejecute el siguiente comando para copiar todos los archivos con la extensión *.csv de un blob específico del contenedor de origen a una cuenta de Data Lake Store:</span><span class="sxs-lookup"><span data-stu-id="0674e-199">Run the following command to copy all files with *.csv extension from a specific blob from the source container to a Data Lake Store:</span></span>

        AdlCopy /source https://<source_account>.blob.core.windows.net/<source_container>/<blob name> /dest swebhdfs://<dest_adls_account>.azuredatalakestore.net/<dest_folder>/ /sourcekey <storage_account_key_for_storage_container> /Pattern *.csv

    <span data-ttu-id="0674e-200">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="0674e-200">For example:</span></span>

        AdlCopy /source https://mystorage.blob.core.windows.net/mycluster/HdiSamples/HdiSamples/FoodInspectionData/ /dest adl://mydatalakestore.azuredatalakestore.net/mynewfolder/ /sourcekey uJUfvD6cEvhfLoBae2yyQf8t9/BpbWZ4XoYj4kAS5Jf40pZaMNf0q6a8yqTxktwVgRED4vPHeh/50iS9atS5LQ== /Pattern *.csv

## <a name="billing"></a><span data-ttu-id="0674e-201">Facturación</span><span class="sxs-lookup"><span data-stu-id="0674e-201">Billing</span></span>
* <span data-ttu-id="0674e-202">Si usa la herramienta AdlCopy de forma independiente, se le facturarán los costos de salida por migrar datos, si la cuenta de Almacenamiento de Azure de origen no está en la misma región que el Almacén de Data Lake.</span><span class="sxs-lookup"><span data-stu-id="0674e-202">If you use the AdlCopy tool as standalone you will be billed for egress costs for moving data, if the source Azure Storage account is not in the same region as the Data Lake Store.</span></span>
* <span data-ttu-id="0674e-203">Si usa la herramienta AdlCopy con la cuenta de Análisis de Data Lake, se aplicarán las [tarifas de facturación de Análisis de Data Lake](https://azure.microsoft.com/pricing/details/data-lake-analytics/) estándar.</span><span class="sxs-lookup"><span data-stu-id="0674e-203">If you use the AdlCopy tool with your Data Lake Analytics account, standard [Data Lake Analytics billing rates](https://azure.microsoft.com/pricing/details/data-lake-analytics/) will apply.</span></span>

## <a name="considerations-for-using-adlcopy"></a><span data-ttu-id="0674e-204">Consideraciones para usar AdlCopy</span><span class="sxs-lookup"><span data-stu-id="0674e-204">Considerations for using AdlCopy</span></span>
* <span data-ttu-id="0674e-205">AdlCopy (para la versión 1.0.5) admite la copia de datos desde orígenes que en conjunto tienen más de miles de archivos y carpetas.</span><span class="sxs-lookup"><span data-stu-id="0674e-205">AdlCopy (for version 1.0.5), supports copying data from sources that collectively have more than thousands of files and folders.</span></span> <span data-ttu-id="0674e-206">Sin embargo, si tiene problemas al copiar un conjunto de datos grande, puede distribuir los archivos o carpetas en subcarpetas diferentes y usar la ruta de acceso a esas subcarpetas como origen en su lugar.</span><span class="sxs-lookup"><span data-stu-id="0674e-206">However, if you encounter issues copying a large dataset, you can distribute the files/folders into different sub-folders and use the path to those sub-folders as the source instead.</span></span>

## <a name="performance-considerations-for-using-adlcopy"></a><span data-ttu-id="0674e-207">Consideraciones de rendimiento sobre el uso de AdlCopy</span><span class="sxs-lookup"><span data-stu-id="0674e-207">Performance considerations for using AdlCopy</span></span>

<span data-ttu-id="0674e-208">AdlCopy admite la copia de datos que contienen miles de archivos y carpetas.</span><span class="sxs-lookup"><span data-stu-id="0674e-208">AdlCopy supports copying data containing thousands of files and folders.</span></span> <span data-ttu-id="0674e-209">Sin embargo, si encuentra problemas al copiar un conjunto de datos grande, puede distribuir las archivos o carpetas en subcarpetas más pequeñas.</span><span class="sxs-lookup"><span data-stu-id="0674e-209">However, if you encounter issues copying a large dataset, you can distribute the files/folders into smaller sub-folders.</span></span> <span data-ttu-id="0674e-210">AdlCopy se creó para copias ad hoc.</span><span class="sxs-lookup"><span data-stu-id="0674e-210">AdlCopy was built for ad hoc copies.</span></span> <span data-ttu-id="0674e-211">Si va a copiar datos de forma repetida, debe considerar el uso de [Azure Data Factory](../data-factory/data-factory-azure-datalake-connector.md), que proporciona administración completa en torno a las operaciones de copia.</span><span class="sxs-lookup"><span data-stu-id="0674e-211">If you are trying to copy data on a recurring basis, you should consider using [Azure Data Factory](../data-factory/data-factory-azure-datalake-connector.md) that provides full management around the copy operations.</span></span>

## <a name="release-notes"></a><span data-ttu-id="0674e-212">Notas de la versión</span><span class="sxs-lookup"><span data-stu-id="0674e-212">Release notes</span></span>
* <span data-ttu-id="0674e-213">1.0.13: si va a copiar datos en la misma cuenta de Azure Data Lake Store entre varios comandos adlcopy, ya no es necesario volver a escribir las credenciales en cada ejecución.</span><span class="sxs-lookup"><span data-stu-id="0674e-213">1.0.13 - If you are copying data to the same Azure Data Lake Store account across multiple adlcopy commands, you do not need to reenter your credentials for each run anymore.</span></span> <span data-ttu-id="0674e-214">Ahora, Adlcopy almacena en caché esa información entre varias ejecuciones.</span><span class="sxs-lookup"><span data-stu-id="0674e-214">Adlcopy will now cache that information across multiple runs.</span></span>

## <a name="next-steps"></a><span data-ttu-id="0674e-215">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="0674e-215">Next steps</span></span>
* [<span data-ttu-id="0674e-216">Protección de los datos en el Almacén de Data Lake</span><span class="sxs-lookup"><span data-stu-id="0674e-216">Secure data in Data Lake Store</span></span>](data-lake-store-secure-data.md)
* [<span data-ttu-id="0674e-217">Uso de Análisis de Azure Data Lake con el Almacén de Data Lake</span><span class="sxs-lookup"><span data-stu-id="0674e-217">Use Azure Data Lake Analytics with Data Lake Store</span></span>](../data-lake-analytics/data-lake-analytics-get-started-portal.md)
* [<span data-ttu-id="0674e-218">Uso de HDInsight de Azure con el Almacén de Data Lake</span><span class="sxs-lookup"><span data-stu-id="0674e-218">Use Azure HDInsight with Data Lake Store</span></span>](data-lake-store-hdinsight-hadoop-use-portal.md)
