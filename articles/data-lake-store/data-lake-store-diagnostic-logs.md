---
title: "Ver registros de diagnóstico de Azure Data Lake Store | Microsoft Docs"
description: "Sepa cómo configurar registros de diagnóstico y tener acceso a ellos para Azure Data Lake Store  "
services: data-lake-store
documentationcenter: 
author: nitinme
manager: jhubbard
editor: cgronlun
ms.assetid: f6e75eb1-d0ae-47cf-bdb8-06684b7c0a94
ms.service: data-lake-store
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 05/10/2017
ms.author: nitinme
ms.openlocfilehash: b7a38ec445ef0ce13f3f1931e8ee246dce6412a5
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 07/11/2017
---
# <a name="accessing-diagnostic-logs-for-azure-data-lake-store"></a><span data-ttu-id="aa03b-103">Acceso a los registros de diagnóstico de Azure Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="aa03b-103">Accessing diagnostic logs for Azure Data Lake Store</span></span>
<span data-ttu-id="aa03b-104">Sepa cómo habilitar el registro de diagnósticos en su cuenta de Data Lake Store y cómo ver los registros recopilados relativos a su cuenta.</span><span class="sxs-lookup"><span data-stu-id="aa03b-104">Learn about how to enable diagnostic logging for your Data Lake Store account and how to view the logs collected for your account.</span></span>

<span data-ttu-id="aa03b-105">Las organizaciones pueden habilitar el registro de diagnósticos en sus cuentas de Azure Data Lake Store para recopilar trazas de auditoría de acceso a datos que proporcionan información como, por ejemplo, la lista de usuarios que tienen acceso a los datos, con qué frecuencia se tiene acceso a ellos, qué cantidad de datos se almacena en la cuenta, etc.</span><span class="sxs-lookup"><span data-stu-id="aa03b-105">Organizations can enable diagnostic logging for their Azure Data Lake Store account to collect data access audit trails that provides information such as list of users accessing the data, how frequently the data is accessed, how much data is stored in the account, etc.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="aa03b-106">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="aa03b-106">Prerequisites</span></span>
* <span data-ttu-id="aa03b-107">**Una suscripción de Azure**.</span><span class="sxs-lookup"><span data-stu-id="aa03b-107">**An Azure subscription**.</span></span> <span data-ttu-id="aa03b-108">Vea [Obtener evaluación gratuita de Azure](https://azure.microsoft.com/pricing/free-trial/).</span><span class="sxs-lookup"><span data-stu-id="aa03b-108">See [Get Azure free trial](https://azure.microsoft.com/pricing/free-trial/).</span></span>
* <span data-ttu-id="aa03b-109">**Cuenta del Almacén de Azure Data Lake**.</span><span class="sxs-lookup"><span data-stu-id="aa03b-109">**Azure Data Lake Store account**.</span></span> <span data-ttu-id="aa03b-110">Siga las instrucciones que se describen en [Introducción al Almacén de Azure Data Lake mediante el Portal de Azure](data-lake-store-get-started-portal.md).</span><span class="sxs-lookup"><span data-stu-id="aa03b-110">Follow the instructions at [Get started with Azure Data Lake Store using the Azure Portal](data-lake-store-get-started-portal.md).</span></span>

## <a name="enable-diagnostic-logging-for-your-data-lake-store-account"></a><span data-ttu-id="aa03b-111">Habilitar el registro de diagnósticos en la cuenta de Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="aa03b-111">Enable diagnostic logging for your Data Lake Store account</span></span>
1. <span data-ttu-id="aa03b-112">Inicie sesión en el nuevo [Portal de Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="aa03b-112">Sign on to the new [Azure Portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="aa03b-113">Abra la cuenta de Data Lake Store y, en la hoja de la cuenta de Data Lake Store, haga clic en **Configuración** y en **Registros de diagnóstico**.</span><span class="sxs-lookup"><span data-stu-id="aa03b-113">Open your Data Lake Store account, and from your Data Lake Store account blade, click **Settings**, and then click **Diagnostic logs**.</span></span>
3. <span data-ttu-id="aa03b-114">En la hoja **Registros de diagnóstico**, haga clic en **Activar diagnósticos**.</span><span class="sxs-lookup"><span data-stu-id="aa03b-114">In the **Diagnostics logs** blade, click **Turn on diagnostics**.</span></span>

    <span data-ttu-id="aa03b-115">![Habilitar el registro de diagnóstico](./media/data-lake-store-diagnostic-logs/turn-on-diagnostics.png "Habilitar registros de diagnóstico")</span><span class="sxs-lookup"><span data-stu-id="aa03b-115">![Enable diagnostic logging](./media/data-lake-store-diagnostic-logs/turn-on-diagnostics.png "Enable diagnostic logs")</span></span>

3. <span data-ttu-id="aa03b-116">En la hoja **Diagnóstico** , realice los siguientes cambios para configurar el registro de diagnósticos.</span><span class="sxs-lookup"><span data-stu-id="aa03b-116">In the **Diagnostic** blade, make the following changes to configure diagnostic logging.</span></span>
   
    <span data-ttu-id="aa03b-117">![Habilitar el registro de diagnóstico](./media/data-lake-store-diagnostic-logs/enable-diagnostic-logs.png "Habilitar registros de diagnóstico")</span><span class="sxs-lookup"><span data-stu-id="aa03b-117">![Enable diagnostic logging](./media/data-lake-store-diagnostic-logs/enable-diagnostic-logs.png "Enable diagnostic logs")</span></span>
   
   * <span data-ttu-id="aa03b-118">Establezca el **Estado** en **Activado** para habilitar el registro de diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="aa03b-118">Set **Status** to **On** to enable diagnostic logging.</span></span>
   * <span data-ttu-id="aa03b-119">Puede optar por almacenar o procesar los datos de maneras diferentes.</span><span class="sxs-lookup"><span data-stu-id="aa03b-119">You can choose to store/process the data in different ways.</span></span>
     
        * <span data-ttu-id="aa03b-120">Seleccione la opción **Archive to a storage account** (Archivar en cuenta de almacenamiento) para almacenar los registros en una cuenta de Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="aa03b-120">Select the option to **Archive to a storage account** to store logs to an Azure Storage account.</span></span> <span data-ttu-id="aa03b-121">Use esta opción si quiere archivar los datos que se procesarán por lotes más adelante.</span><span class="sxs-lookup"><span data-stu-id="aa03b-121">You use this option if you want to archive the data that will be batch-processed at a later date.</span></span> <span data-ttu-id="aa03b-122">Si selecciona esta opción, debe proporcionar una cuenta de almacenamiento de Azure para guardar los registros.</span><span class="sxs-lookup"><span data-stu-id="aa03b-122">If you select this option you must provide an Azure Storage account to save the logs to.</span></span>
        
        * <span data-ttu-id="aa03b-123">Seleccione la opción **Stream to an event hub** (Transmitir a un centro de eventos) para transmitir los datos de registro a una instancia de Azure Event Hubs.</span><span class="sxs-lookup"><span data-stu-id="aa03b-123">Select the option to **Stream to an event hub** to stream log data to an Azure Event Hub.</span></span> <span data-ttu-id="aa03b-124">Lo más probable es que use esta opción si tiene una canalización de procesamiento de bajada para analizar los registros entrantes en tiempo real.</span><span class="sxs-lookup"><span data-stu-id="aa03b-124">Most likely you will use this option if you have a downstream processing pipeline to analyze incoming logs at real time.</span></span> <span data-ttu-id="aa03b-125">Si selecciona esta opción, debe proporcionar los detalles del Centro de eventos de Azure que quiera usar.</span><span class="sxs-lookup"><span data-stu-id="aa03b-125">If you select this option, you must provide the details for the Azure Event Hub you want to use.</span></span>

        * <span data-ttu-id="aa03b-126">Seleccione la opción de **Send to Log Analytics** (Enviar a Log Analytics) para usar el servicio Azure Log Analytics para analizar los datos de registro generados.</span><span class="sxs-lookup"><span data-stu-id="aa03b-126">Select the option to **Send to Log Analytics** to use the Azure Log Analytics service to analyze the generated log data.</span></span> <span data-ttu-id="aa03b-127">Si selecciona esta opción, debe proporcionar los detalles para el área de trabajo de Operations Management Suite que usaría para realizar análisis de registros.</span><span class="sxs-lookup"><span data-stu-id="aa03b-127">If you select this option, you must provide the details for the Operations Management Suite workspace that you would use the perform log analysis.</span></span>
     
   * <span data-ttu-id="aa03b-128">Indique si quiere obtener los registros de auditoría, los registros de solicitudes o ambos.</span><span class="sxs-lookup"><span data-stu-id="aa03b-128">Specify whether you want to get audit logs or request logs or both.</span></span>
   * <span data-ttu-id="aa03b-129">Especifique el número de días durante los que deben conservarse los datos.</span><span class="sxs-lookup"><span data-stu-id="aa03b-129">Specify the number of days for which the data must be retained.</span></span> <span data-ttu-id="aa03b-130">La retención solo es aplicable si está utilizando la cuenta de Azure Storage para archivar datos de registro.</span><span class="sxs-lookup"><span data-stu-id="aa03b-130">Retention is only applicable if you are using Azure storage account to archive log data.</span></span>
   * <span data-ttu-id="aa03b-131">Haga clic en **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="aa03b-131">Click **Save**.</span></span>

<span data-ttu-id="aa03b-132">Una vez habilitada la configuración de diagnóstico, puede ver los registros en la pestaña **Registros de diagnóstico** .</span><span class="sxs-lookup"><span data-stu-id="aa03b-132">Once you have enabled diagnostic settings, you can watch the logs in the **Diagnostic Logs** tab.</span></span>

## <a name="view-diagnostic-logs-for-your-data-lake-store-account"></a><span data-ttu-id="aa03b-133">Ver registros de diagnóstico de la cuenta de Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="aa03b-133">View diagnostic logs for your Data Lake Store account</span></span>
<span data-ttu-id="aa03b-134">Existen dos formas de ver los datos de registro para la cuenta de Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="aa03b-134">There are two ways to view the log data for your Data Lake Store account.</span></span>

* <span data-ttu-id="aa03b-135">Desde la vista de configuración de la cuenta de Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="aa03b-135">From the Data Lake Store account settings view</span></span>
* <span data-ttu-id="aa03b-136">Desde la cuenta de Almacenamiento de Azure donde se almacenan los datos</span><span class="sxs-lookup"><span data-stu-id="aa03b-136">From the Azure Storage account where the data is stored</span></span>

### <a name="using-the-data-lake-store-settings-view"></a><span data-ttu-id="aa03b-137">Uso de la vista de configuración de Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="aa03b-137">Using the Data Lake Store Settings view</span></span>
1. <span data-ttu-id="aa03b-138">En la hoja **Configuración** de su cuenta de Data Lake Store, haga clic en **Registros de diagnóstico**.</span><span class="sxs-lookup"><span data-stu-id="aa03b-138">From your Data Lake Store account **Settings** blade, click **Diagnostic Logs**.</span></span>
   
    <span data-ttu-id="aa03b-139">![Ver registro de diagnóstico](./media/data-lake-store-diagnostic-logs/view-diagnostic-logs.png "Ver registros de diagnóstico")</span><span class="sxs-lookup"><span data-stu-id="aa03b-139">![View diagnostic logging](./media/data-lake-store-diagnostic-logs/view-diagnostic-logs.png "View diagnostic logs")</span></span> 
2. <span data-ttu-id="aa03b-140">En la hoja **Registros de diagnóstico**, debería ver los registros clasificados por **Registros de auditoría** y **Registros de solicitudes**.</span><span class="sxs-lookup"><span data-stu-id="aa03b-140">In the **Diagnostic Logs** blade, you should see the logs categorized by **Audit Logs** and **Request Logs**.</span></span>
   
   * <span data-ttu-id="aa03b-141">Los registros de solicitudes capturan todas las solicitudes API realizadas en la cuenta de Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="aa03b-141">Request logs capture every API request made on the Data Lake Store account.</span></span>
   * <span data-ttu-id="aa03b-142">Los registros de auditoría son parecidos a los de solicitud, pero proporcionan un desglose mucho más detallado de las operaciones que tienen lugar en la cuenta de Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="aa03b-142">Audit Logs are similar to request Logs but provide a much more detailed breakdown of the operations being performed on the Data Lake Store account.</span></span> <span data-ttu-id="aa03b-143">Por ejemplo, una llamada de API de carga única en los registros de solicitud podría producir varias operaciones "Append" en los registros de auditoría.</span><span class="sxs-lookup"><span data-stu-id="aa03b-143">For example, a single upload API call in request logs might result in multiple "Append" operations in the audit logs.</span></span>
3. <span data-ttu-id="aa03b-144">Haga clic en el vínculo **Descargar** de cada entrada de registro para descargar los registros.</span><span class="sxs-lookup"><span data-stu-id="aa03b-144">Click the **Download** link against each log entry to download the logs.</span></span>

### <a name="from-the-azure-storage-account-that-contains-log-data"></a><span data-ttu-id="aa03b-145">En la cuenta de Almacenamiento de Azure que contiene los datos de registro</span><span class="sxs-lookup"><span data-stu-id="aa03b-145">From the Azure Storage account that contains log data</span></span>
1. <span data-ttu-id="aa03b-146">Abra la hoja de la cuenta de Almacenamiento de Azure asociada con Data Lake Store para el registro y haga clic en Blobs.</span><span class="sxs-lookup"><span data-stu-id="aa03b-146">Open the Azure Storage account blade associated with Data Lake Store for logging, and then click Blobs.</span></span> <span data-ttu-id="aa03b-147">La hoja **Servicio Blob** muestra dos contenedores.</span><span class="sxs-lookup"><span data-stu-id="aa03b-147">The **Blob service** blade lists two containers.</span></span>
   
    <span data-ttu-id="aa03b-148">![Ver registro de diagnóstico](./media/data-lake-store-diagnostic-logs/view-diagnostic-logs-storage-account.png "Ver registros de diagnóstico")</span><span class="sxs-lookup"><span data-stu-id="aa03b-148">![View diagnostic logging](./media/data-lake-store-diagnostic-logs/view-diagnostic-logs-storage-account.png "View diagnostic logs")</span></span>
   
   * <span data-ttu-id="aa03b-149">El contenedor **insights-logs-audit** contiene los registros de auditoría.</span><span class="sxs-lookup"><span data-stu-id="aa03b-149">The container **insights-logs-audit** contains the audit logs.</span></span>
   * <span data-ttu-id="aa03b-150">El contenedor **insights-logs-requests** contiene los registros de solicitudes.</span><span class="sxs-lookup"><span data-stu-id="aa03b-150">The container **insights-logs-requests** contains the request logs.</span></span>
2. <span data-ttu-id="aa03b-151">Dentro de estos contenedores, los registros se almacenan con la siguiente estructura.</span><span class="sxs-lookup"><span data-stu-id="aa03b-151">Within these containers, the logs are stored under the following structure.</span></span>
   
    <span data-ttu-id="aa03b-152">![Ver registro de diagnóstico](./media/data-lake-store-diagnostic-logs/view-diagnostic-logs-storage-account-structure.png "Ver registros de diagnóstico")</span><span class="sxs-lookup"><span data-stu-id="aa03b-152">![View diagnostic logging](./media/data-lake-store-diagnostic-logs/view-diagnostic-logs-storage-account-structure.png "View diagnostic logs")</span></span>
   
    <span data-ttu-id="aa03b-153">Por ejemplo, la ruta de acceso completa a un registro de auditoría sería `https://adllogs.blob.core.windows.net/insights-logs-audit/resourceId=/SUBSCRIPTIONS/<sub-id>/RESOURCEGROUPS/myresourcegroup/PROVIDERS/MICROSOFT.DATALAKESTORE/ACCOUNTS/mydatalakestore/y=2016/m=07/d=18/h=04/m=00/PT1H.json`</span><span class="sxs-lookup"><span data-stu-id="aa03b-153">As an example, the complete path to an audit log could be `https://adllogs.blob.core.windows.net/insights-logs-audit/resourceId=/SUBSCRIPTIONS/<sub-id>/RESOURCEGROUPS/myresourcegroup/PROVIDERS/MICROSOFT.DATALAKESTORE/ACCOUNTS/mydatalakestore/y=2016/m=07/d=18/h=04/m=00/PT1H.json`</span></span>
   
    <span data-ttu-id="aa03b-154">De forma similar, la ruta de acceso completa a un registro de solicitudes sería `https://adllogs.blob.core.windows.net/insights-logs-requests/resourceId=/SUBSCRIPTIONS/<sub-id>/RESOURCEGROUPS/myresourcegroup/PROVIDERS/MICROSOFT.DATALAKESTORE/ACCOUNTS/mydatalakestore/y=2016/m=07/d=18/h=14/m=00/PT1H.json`</span><span class="sxs-lookup"><span data-stu-id="aa03b-154">Similary, the complete path to a request log could be `https://adllogs.blob.core.windows.net/insights-logs-requests/resourceId=/SUBSCRIPTIONS/<sub-id>/RESOURCEGROUPS/myresourcegroup/PROVIDERS/MICROSOFT.DATALAKESTORE/ACCOUNTS/mydatalakestore/y=2016/m=07/d=18/h=14/m=00/PT1H.json`</span></span>

## <a name="understand-the-structure-of-the-log-data"></a><span data-ttu-id="aa03b-155">Comprender la estructura de los datos de registro</span><span class="sxs-lookup"><span data-stu-id="aa03b-155">Understand the structure of the log data</span></span>
<span data-ttu-id="aa03b-156">Los registros de auditoría y de solicitud tienen un formato JSON.</span><span class="sxs-lookup"><span data-stu-id="aa03b-156">The audit and request logs are in a JSON format.</span></span> <span data-ttu-id="aa03b-157">En esta sección, veremos la estructura de JSON de los registros de auditoría y de solicitud.</span><span class="sxs-lookup"><span data-stu-id="aa03b-157">In this section, we look at the structure of JSON for request and audit logs.</span></span>

### <a name="request-logs"></a><span data-ttu-id="aa03b-158">Request Logs</span><span class="sxs-lookup"><span data-stu-id="aa03b-158">Request logs</span></span>
<span data-ttu-id="aa03b-159">Este es un ejemplo de una entrada en el registro de solicitud con formato JSON.</span><span class="sxs-lookup"><span data-stu-id="aa03b-159">Here's a sample entry in the JSON-formatted request log.</span></span> <span data-ttu-id="aa03b-160">Cada blob tiene un objeto raíz llamado **registros** que contiene una matriz de objetos de registro.</span><span class="sxs-lookup"><span data-stu-id="aa03b-160">Each blob has one root object called **records** that contains an array of log objects.</span></span>

    {
    "records": 
      [        
        . . . .
        ,
        {
             "time": "2016-07-07T21:02:53.456Z",
             "resourceId": "/SUBSCRIPTIONS/<subscription_id>/RESOURCEGROUPS/<resource_group_name>/PROVIDERS/MICROSOFT.DATALAKESTORE/ACCOUNTS/<data_lake_store_account_name>",
             "category": "Requests",
             "operationName": "GETCustomerIngressEgress",
             "resultType": "200",
             "callerIpAddress": "::ffff:1.1.1.1",
             "correlationId": "4a11c709-05f5-417c-a98d-6e81b3e29c58",
             "identity": "1808bd5f-62af-45f4-89d8-03c5e81bac30",
             "properties": {"HttpMethod":"GET","Path":"/webhdfs/v1/Samples/Outputs/Drivers.csv","RequestContentLength":0,"ClientRequestId":"3b7adbd9-3519-4f28-a61c-bd89506163b8","StartTime":"2016-07-07T21:02:52.472Z","EndTime":"2016-07-07T21:02:53.456Z"}
        }
        ,
        . . . .
      ]
    }

#### <a name="request-log-schema"></a><span data-ttu-id="aa03b-161">Esquema de un registro de solicitud</span><span class="sxs-lookup"><span data-stu-id="aa03b-161">Request log schema</span></span>
| <span data-ttu-id="aa03b-162">Nombre</span><span class="sxs-lookup"><span data-stu-id="aa03b-162">Name</span></span> | <span data-ttu-id="aa03b-163">Tipo</span><span class="sxs-lookup"><span data-stu-id="aa03b-163">Type</span></span> | <span data-ttu-id="aa03b-164">Description</span><span class="sxs-lookup"><span data-stu-id="aa03b-164">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="aa03b-165">Twitter en tiempo</span><span class="sxs-lookup"><span data-stu-id="aa03b-165">time</span></span> |<span data-ttu-id="aa03b-166">String</span><span class="sxs-lookup"><span data-stu-id="aa03b-166">String</span></span> |<span data-ttu-id="aa03b-167">Marca de tiempo (en UTC) del registro.</span><span class="sxs-lookup"><span data-stu-id="aa03b-167">The timestamp (in UTC) of the log</span></span> |
| <span data-ttu-id="aa03b-168">resourceId</span><span class="sxs-lookup"><span data-stu-id="aa03b-168">resourceId</span></span> |<span data-ttu-id="aa03b-169">String</span><span class="sxs-lookup"><span data-stu-id="aa03b-169">String</span></span> |<span data-ttu-id="aa03b-170">Identificador del recurso en el que tuvo lugar la operación.</span><span class="sxs-lookup"><span data-stu-id="aa03b-170">The ID of the resource that operation took place on</span></span> |
| <span data-ttu-id="aa03b-171">categoría</span><span class="sxs-lookup"><span data-stu-id="aa03b-171">category</span></span> |<span data-ttu-id="aa03b-172">String</span><span class="sxs-lookup"><span data-stu-id="aa03b-172">String</span></span> |<span data-ttu-id="aa03b-173">Categoría del registro.</span><span class="sxs-lookup"><span data-stu-id="aa03b-173">The log category.</span></span> <span data-ttu-id="aa03b-174">Por ejemplo, **Requests**.</span><span class="sxs-lookup"><span data-stu-id="aa03b-174">For example, **Requests**.</span></span> |
| <span data-ttu-id="aa03b-175">operationName</span><span class="sxs-lookup"><span data-stu-id="aa03b-175">operationName</span></span> |<span data-ttu-id="aa03b-176">String</span><span class="sxs-lookup"><span data-stu-id="aa03b-176">String</span></span> |<span data-ttu-id="aa03b-177">Nombre de la operación que se registra.</span><span class="sxs-lookup"><span data-stu-id="aa03b-177">Name of the operation that is logged.</span></span> <span data-ttu-id="aa03b-178">Por ejemplo, getfilestatus.</span><span class="sxs-lookup"><span data-stu-id="aa03b-178">For example, getfilestatus.</span></span> |
| <span data-ttu-id="aa03b-179">resultType</span><span class="sxs-lookup"><span data-stu-id="aa03b-179">resultType</span></span> |<span data-ttu-id="aa03b-180">String</span><span class="sxs-lookup"><span data-stu-id="aa03b-180">String</span></span> |<span data-ttu-id="aa03b-181">Estado de la operación. Por ejemplo, 200.</span><span class="sxs-lookup"><span data-stu-id="aa03b-181">The status of the operation, For example, 200.</span></span> |
| <span data-ttu-id="aa03b-182">callerIpAddress</span><span class="sxs-lookup"><span data-stu-id="aa03b-182">callerIpAddress</span></span> |<span data-ttu-id="aa03b-183">String</span><span class="sxs-lookup"><span data-stu-id="aa03b-183">String</span></span> |<span data-ttu-id="aa03b-184">Dirección IP del cliente que realiza la solicitud.</span><span class="sxs-lookup"><span data-stu-id="aa03b-184">The IP address of the client making the request</span></span> |
| <span data-ttu-id="aa03b-185">correlationId</span><span class="sxs-lookup"><span data-stu-id="aa03b-185">correlationId</span></span> |<span data-ttu-id="aa03b-186">String</span><span class="sxs-lookup"><span data-stu-id="aa03b-186">String</span></span> |<span data-ttu-id="aa03b-187">Identificador del registro que se puede usar para agrupar un conjunto de entradas de registro relacionadas.</span><span class="sxs-lookup"><span data-stu-id="aa03b-187">The id of the log that can used to group together a set of related log entries</span></span> |
| <span data-ttu-id="aa03b-188">identidad</span><span class="sxs-lookup"><span data-stu-id="aa03b-188">identity</span></span> |<span data-ttu-id="aa03b-189">Objeto</span><span class="sxs-lookup"><span data-stu-id="aa03b-189">Object</span></span> |<span data-ttu-id="aa03b-190">Identidad que ha generado el registro.</span><span class="sxs-lookup"><span data-stu-id="aa03b-190">The identity that generated the log</span></span> |
| <span data-ttu-id="aa03b-191">propiedades</span><span class="sxs-lookup"><span data-stu-id="aa03b-191">properties</span></span> |<span data-ttu-id="aa03b-192">JSON</span><span class="sxs-lookup"><span data-stu-id="aa03b-192">JSON</span></span> |<span data-ttu-id="aa03b-193">Vea más abajo para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="aa03b-193">See below for details</span></span> |

#### <a name="request-log-properties-schema"></a><span data-ttu-id="aa03b-194">Esquema de propiedades de un registro de solicitud</span><span class="sxs-lookup"><span data-stu-id="aa03b-194">Request log properties schema</span></span>
| <span data-ttu-id="aa03b-195">Nombre</span><span class="sxs-lookup"><span data-stu-id="aa03b-195">Name</span></span> | <span data-ttu-id="aa03b-196">Tipo</span><span class="sxs-lookup"><span data-stu-id="aa03b-196">Type</span></span> | <span data-ttu-id="aa03b-197">Description</span><span class="sxs-lookup"><span data-stu-id="aa03b-197">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="aa03b-198">HttpMethod</span><span class="sxs-lookup"><span data-stu-id="aa03b-198">HttpMethod</span></span> |<span data-ttu-id="aa03b-199">String</span><span class="sxs-lookup"><span data-stu-id="aa03b-199">String</span></span> |<span data-ttu-id="aa03b-200">Método HTTP usado en la operación.</span><span class="sxs-lookup"><span data-stu-id="aa03b-200">The HTTP Method used for the operation.</span></span> <span data-ttu-id="aa03b-201">Por ejemplo, GET.</span><span class="sxs-lookup"><span data-stu-id="aa03b-201">For example, GET.</span></span> |
| <span data-ttu-id="aa03b-202">Ruta de acceso</span><span class="sxs-lookup"><span data-stu-id="aa03b-202">Path</span></span> |<span data-ttu-id="aa03b-203">String</span><span class="sxs-lookup"><span data-stu-id="aa03b-203">String</span></span> |<span data-ttu-id="aa03b-204">Ruta de acceso en la que se ha realizado la operación.</span><span class="sxs-lookup"><span data-stu-id="aa03b-204">The path the operation was performed on</span></span> |
| <span data-ttu-id="aa03b-205">RequestContentLength</span><span class="sxs-lookup"><span data-stu-id="aa03b-205">RequestContentLength</span></span> |<span data-ttu-id="aa03b-206">int</span><span class="sxs-lookup"><span data-stu-id="aa03b-206">int</span></span> |<span data-ttu-id="aa03b-207">Longitud del contenido de la solicitud HTTP.</span><span class="sxs-lookup"><span data-stu-id="aa03b-207">The content length of the HTTP request</span></span> |
| <span data-ttu-id="aa03b-208">ClientRequestId</span><span class="sxs-lookup"><span data-stu-id="aa03b-208">ClientRequestId</span></span> |<span data-ttu-id="aa03b-209">String</span><span class="sxs-lookup"><span data-stu-id="aa03b-209">String</span></span> |<span data-ttu-id="aa03b-210">Identificador que distingue de manera única esta solicitud.</span><span class="sxs-lookup"><span data-stu-id="aa03b-210">The Id that uniquely identifies this request</span></span> |
| <span data-ttu-id="aa03b-211">StartTime</span><span class="sxs-lookup"><span data-stu-id="aa03b-211">StartTime</span></span> |<span data-ttu-id="aa03b-212">String</span><span class="sxs-lookup"><span data-stu-id="aa03b-212">String</span></span> |<span data-ttu-id="aa03b-213">Hora a la que el servidor ha recibido la solicitud.</span><span class="sxs-lookup"><span data-stu-id="aa03b-213">The time at which the server received the request</span></span> |
| <span data-ttu-id="aa03b-214">EndTime</span><span class="sxs-lookup"><span data-stu-id="aa03b-214">EndTime</span></span> |<span data-ttu-id="aa03b-215">String</span><span class="sxs-lookup"><span data-stu-id="aa03b-215">String</span></span> |<span data-ttu-id="aa03b-216">Hora a la que el servidor ha enviado una respuesta.</span><span class="sxs-lookup"><span data-stu-id="aa03b-216">The time at which the server sent a response</span></span> |

### <a name="audit-logs"></a><span data-ttu-id="aa03b-217">Registros de auditoría</span><span class="sxs-lookup"><span data-stu-id="aa03b-217">Audit logs</span></span>
<span data-ttu-id="aa03b-218">Este es un ejemplo de una entrada en el registro de auditoría con formato JSON.</span><span class="sxs-lookup"><span data-stu-id="aa03b-218">Here's a sample entry in the JSON-formatted audit log.</span></span> <span data-ttu-id="aa03b-219">Cada blob tiene un objeto raíz llamado **registros** que contiene una matriz de objetos de registro</span><span class="sxs-lookup"><span data-stu-id="aa03b-219">Each blob has one root object called **records** that contains an array of log objects</span></span>

    {
    "records": 
      [        
        . . . .
        ,
        {
             "time": "2016-07-08T19:08:59.359Z",
             "resourceId": "/SUBSCRIPTIONS/<subscription_id>/RESOURCEGROUPS/<resource_group_name>/PROVIDERS/MICROSOFT.DATALAKESTORE/ACCOUNTS/<data_lake_store_account_name>",
             "category": "Audit",
             "operationName": "SeOpenStream",
             "resultType": "0",
             "correlationId": "381110fc03534e1cb99ec52376ceebdf;Append_BrEKAmg;25.66.9.145",
             "identity": "A9DAFFAF-FFEE-4BB5-A4A0-1B6CBBF24355",
             "properties": {"StreamName":"adl://<data_lake_store_account_name>.azuredatalakestore.net/logs.csv"}
        }
        ,
        . . . .
      ]
    }

#### <a name="audit-log-schema"></a><span data-ttu-id="aa03b-220">Esquema de un registro de auditoría</span><span class="sxs-lookup"><span data-stu-id="aa03b-220">Audit log schema</span></span>
| <span data-ttu-id="aa03b-221">Nombre</span><span class="sxs-lookup"><span data-stu-id="aa03b-221">Name</span></span> | <span data-ttu-id="aa03b-222">Tipo</span><span class="sxs-lookup"><span data-stu-id="aa03b-222">Type</span></span> | <span data-ttu-id="aa03b-223">Description</span><span class="sxs-lookup"><span data-stu-id="aa03b-223">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="aa03b-224">Twitter en tiempo</span><span class="sxs-lookup"><span data-stu-id="aa03b-224">time</span></span> |<span data-ttu-id="aa03b-225">String</span><span class="sxs-lookup"><span data-stu-id="aa03b-225">String</span></span> |<span data-ttu-id="aa03b-226">Marca de tiempo (en UTC) del registro.</span><span class="sxs-lookup"><span data-stu-id="aa03b-226">The timestamp (in UTC) of the log</span></span> |
| <span data-ttu-id="aa03b-227">resourceId</span><span class="sxs-lookup"><span data-stu-id="aa03b-227">resourceId</span></span> |<span data-ttu-id="aa03b-228">String</span><span class="sxs-lookup"><span data-stu-id="aa03b-228">String</span></span> |<span data-ttu-id="aa03b-229">Identificador del recurso en el que tuvo lugar la operación.</span><span class="sxs-lookup"><span data-stu-id="aa03b-229">The ID of the resource that operation took place on</span></span> |
| <span data-ttu-id="aa03b-230">categoría</span><span class="sxs-lookup"><span data-stu-id="aa03b-230">category</span></span> |<span data-ttu-id="aa03b-231">String</span><span class="sxs-lookup"><span data-stu-id="aa03b-231">String</span></span> |<span data-ttu-id="aa03b-232">Categoría del registro.</span><span class="sxs-lookup"><span data-stu-id="aa03b-232">The log category.</span></span> <span data-ttu-id="aa03b-233">Por ejemplo, **Audit**.</span><span class="sxs-lookup"><span data-stu-id="aa03b-233">For example, **Audit**.</span></span> |
| <span data-ttu-id="aa03b-234">operationName</span><span class="sxs-lookup"><span data-stu-id="aa03b-234">operationName</span></span> |<span data-ttu-id="aa03b-235">String</span><span class="sxs-lookup"><span data-stu-id="aa03b-235">String</span></span> |<span data-ttu-id="aa03b-236">Nombre de la operación que se registra.</span><span class="sxs-lookup"><span data-stu-id="aa03b-236">Name of the operation that is logged.</span></span> <span data-ttu-id="aa03b-237">Por ejemplo, getfilestatus.</span><span class="sxs-lookup"><span data-stu-id="aa03b-237">For example, getfilestatus.</span></span> |
| <span data-ttu-id="aa03b-238">resultType</span><span class="sxs-lookup"><span data-stu-id="aa03b-238">resultType</span></span> |<span data-ttu-id="aa03b-239">String</span><span class="sxs-lookup"><span data-stu-id="aa03b-239">String</span></span> |<span data-ttu-id="aa03b-240">Estado de la operación. Por ejemplo, 200.</span><span class="sxs-lookup"><span data-stu-id="aa03b-240">The status of the operation, For example, 200.</span></span> |
| <span data-ttu-id="aa03b-241">correlationId</span><span class="sxs-lookup"><span data-stu-id="aa03b-241">correlationId</span></span> |<span data-ttu-id="aa03b-242">String</span><span class="sxs-lookup"><span data-stu-id="aa03b-242">String</span></span> |<span data-ttu-id="aa03b-243">Identificador del registro que se puede usar para agrupar un conjunto de entradas de registro relacionadas.</span><span class="sxs-lookup"><span data-stu-id="aa03b-243">The id of the log that can used to group together a set of related log entries</span></span> |
| <span data-ttu-id="aa03b-244">identidad</span><span class="sxs-lookup"><span data-stu-id="aa03b-244">identity</span></span> |<span data-ttu-id="aa03b-245">Objeto</span><span class="sxs-lookup"><span data-stu-id="aa03b-245">Object</span></span> |<span data-ttu-id="aa03b-246">Identidad que ha generado el registro.</span><span class="sxs-lookup"><span data-stu-id="aa03b-246">The identity that generated the log</span></span> |
| <span data-ttu-id="aa03b-247">propiedades</span><span class="sxs-lookup"><span data-stu-id="aa03b-247">properties</span></span> |<span data-ttu-id="aa03b-248">JSON</span><span class="sxs-lookup"><span data-stu-id="aa03b-248">JSON</span></span> |<span data-ttu-id="aa03b-249">Vea más abajo para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="aa03b-249">See below for details</span></span> |

#### <a name="audit-log-properties-schema"></a><span data-ttu-id="aa03b-250">Esquema de propiedades de un registro de auditoría</span><span class="sxs-lookup"><span data-stu-id="aa03b-250">Audit log properties schema</span></span>
| <span data-ttu-id="aa03b-251">Nombre</span><span class="sxs-lookup"><span data-stu-id="aa03b-251">Name</span></span> | <span data-ttu-id="aa03b-252">Tipo</span><span class="sxs-lookup"><span data-stu-id="aa03b-252">Type</span></span> | <span data-ttu-id="aa03b-253">Description</span><span class="sxs-lookup"><span data-stu-id="aa03b-253">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="aa03b-254">StreamName</span><span class="sxs-lookup"><span data-stu-id="aa03b-254">StreamName</span></span> |<span data-ttu-id="aa03b-255">String</span><span class="sxs-lookup"><span data-stu-id="aa03b-255">String</span></span> |<span data-ttu-id="aa03b-256">Ruta de acceso en la que se ha realizado la operación.</span><span class="sxs-lookup"><span data-stu-id="aa03b-256">The path the operation was performed on</span></span> |

## <a name="samples-to-process-the-log-data"></a><span data-ttu-id="aa03b-257">Ejemplos para procesar los datos de registro</span><span class="sxs-lookup"><span data-stu-id="aa03b-257">Samples to process the log data</span></span>
<span data-ttu-id="aa03b-258">Azure Data Lake Store proporciona un ejemplo de cómo procesar y analizar los datos de registro.</span><span class="sxs-lookup"><span data-stu-id="aa03b-258">Azure Data Lake Store provides a sample on how to process and analyze the log data.</span></span> <span data-ttu-id="aa03b-259">Puede encontrar el ejemplo en [https://github.com/Azure/AzureDataLake/tree/master/Samples/AzureDiagnosticsSample](https://github.com/Azure/AzureDataLake/tree/master/Samples/AzureDiagnosticsSample).</span><span class="sxs-lookup"><span data-stu-id="aa03b-259">You can find the sample at [https://github.com/Azure/AzureDataLake/tree/master/Samples/AzureDiagnosticsSample](https://github.com/Azure/AzureDataLake/tree/master/Samples/AzureDiagnosticsSample).</span></span> 

## <a name="see-also"></a><span data-ttu-id="aa03b-260">Otras referencias</span><span class="sxs-lookup"><span data-stu-id="aa03b-260">See also</span></span>
* [<span data-ttu-id="aa03b-261">Información general del Almacén de Azure Data Lake</span><span class="sxs-lookup"><span data-stu-id="aa03b-261">Overview of Azure Data Lake Store</span></span>](data-lake-store-overview.md)
* [<span data-ttu-id="aa03b-262">Protección de los datos en el Almacén de Data Lake</span><span class="sxs-lookup"><span data-stu-id="aa03b-262">Secure data in Data Lake Store</span></span>](data-lake-store-secure-data.md)

