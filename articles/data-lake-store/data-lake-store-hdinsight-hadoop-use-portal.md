---
title: "clústeres de hello aaaUse toocreate portal Azure HDInsight de Azure con el almacén de Data Lake | Documentos de Microsoft"
description: "Usar hello toocreate de portal de Azure y usar clústeres de HDInsight con el almacén de Azure Data Lake"
services: data-lake-store,hdinsight
documentationcenter: 
author: nitinme
manager: jhubbard
editor: cgronlun
ms.assetid: a8c45a83-a8e3-4227-8b02-1bc1e1de6767
ms.service: data-lake-store
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 08/14/2017
ms.author: nitinme
ms.openlocfilehash: f23113d444a3c5a01894dba29f75f3621b2d16bd
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="create-hdinsight-clusters-with-data-lake-store-by-using-hello-azure-portal"></a><span data-ttu-id="35b8b-103">Crear clústeres de HDInsight con el almacén de Data Lake mediante Hola portal de Azure</span><span class="sxs-lookup"><span data-stu-id="35b8b-103">Create HDInsight clusters with Data Lake Store by using hello Azure portal</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="35b8b-104">Usar hello portal de Azure</span><span class="sxs-lookup"><span data-stu-id="35b8b-104">Use hello Azure portal</span></span>](data-lake-store-hdinsight-hadoop-use-portal.md)
> * [<span data-ttu-id="35b8b-105">Uso de PowerShell (para el almacenamiento predeterminado)</span><span class="sxs-lookup"><span data-stu-id="35b8b-105">Use PowerShell (for default storage)</span></span>](data-lake-store-hdinsight-hadoop-use-powershell-for-default-storage.md)
> * [<span data-ttu-id="35b8b-106">Uso de PowerShell (para almacenamiento adicional)</span><span class="sxs-lookup"><span data-stu-id="35b8b-106">Use PowerShell (for additional storage)</span></span>](data-lake-store-hdinsight-hadoop-use-powershell.md)
> * [<span data-ttu-id="35b8b-107">Uso de Resource Manager</span><span class="sxs-lookup"><span data-stu-id="35b8b-107">Use Resource Manager</span></span>](data-lake-store-hdinsight-hadoop-use-resource-manager-template.md)
>
>

<span data-ttu-id="35b8b-108">Obtenga información acerca de cómo toouse Hola toocreate portal Azure un clúster de HDInsight con una cuenta de almacén de Azure Data Lake como almacenamiento predeterminado de Hola o un almacenamiento adicional.</span><span class="sxs-lookup"><span data-stu-id="35b8b-108">Learn how toouse hello Azure portal toocreate a HDInsight cluster with an Azure Data Lake Store account as hello default storage or an additional storage.</span></span> <span data-ttu-id="35b8b-109">Aunque es opcional para un clúster de HDInsight almacenamiento adicional, es recomendable toostore sus datos empresariales en las cuentas de almacenamiento adicional de Hola.</span><span class="sxs-lookup"><span data-stu-id="35b8b-109">Even though additional storage is optional for a HDInsight cluster, it is recommended toostore your business data in hello additional storage accounts.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="35b8b-110">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="35b8b-110">Prerequisites</span></span>
<span data-ttu-id="35b8b-111">Antes de comenzar este tutorial, asegúrese de que se ha cumplido hello según los requisitos:</span><span class="sxs-lookup"><span data-stu-id="35b8b-111">Before you begin this tutorial, ensure that you've met hello following requirements:</span></span>

* <span data-ttu-id="35b8b-112">**Una suscripción de Azure**.</span><span class="sxs-lookup"><span data-stu-id="35b8b-112">**An Azure subscription**.</span></span> <span data-ttu-id="35b8b-113">Vaya demasiado[evaluación gratuita de Azure obtener](https://azure.microsoft.com/pricing/free-trial/).</span><span class="sxs-lookup"><span data-stu-id="35b8b-113">Go too[Get Azure free trial](https://azure.microsoft.com/pricing/free-trial/).</span></span>
* <span data-ttu-id="35b8b-114">**Una cuenta de Almacén de Azure Data Lake**.</span><span class="sxs-lookup"><span data-stu-id="35b8b-114">**An Azure Data Lake Store account**.</span></span> <span data-ttu-id="35b8b-115">Siga las instrucciones de Hola de [empezar a trabajar con el almacén de Azure Data Lake utilizando Hola portal de Azure](data-lake-store-get-started-portal.md).</span><span class="sxs-lookup"><span data-stu-id="35b8b-115">Follow hello instructions from [Get started with Azure Data Lake Store by using hello Azure portal](data-lake-store-get-started-portal.md).</span></span> <span data-ttu-id="35b8b-116">También debe crear una carpeta raíz en la cuenta de hello.</span><span class="sxs-lookup"><span data-stu-id="35b8b-116">You must also create a root folder on hello account.</span></span>  <span data-ttu-id="35b8b-117">En este tutorial se usa una carpeta raíz llamada __/clusters__.</span><span class="sxs-lookup"><span data-stu-id="35b8b-117">In this tutorial, a root folder called __/clusters__ is used.</span></span>
* <span data-ttu-id="35b8b-118">**Una entidad de servicio de Azure Active Directory**.</span><span class="sxs-lookup"><span data-stu-id="35b8b-118">**An Azure Active Directory service principal**.</span></span> <span data-ttu-id="35b8b-119">Este tutorial proporciona instrucciones sobre cómo toocreate una entidad de servicio en Azure Active Directory (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="35b8b-119">This tutorial provides instructions on how toocreate a service principal in Azure Active Directory (Azure AD).</span></span> <span data-ttu-id="35b8b-120">Sin embargo, toocreate una entidad de servicio, debe ser un administrador de Azure AD.</span><span class="sxs-lookup"><span data-stu-id="35b8b-120">However, toocreate a service principal, you must be an Azure AD administrator.</span></span> <span data-ttu-id="35b8b-121">Si es administrador, puede omitir este requisito previo y continuar con tutorial Hola.</span><span class="sxs-lookup"><span data-stu-id="35b8b-121">If you are an administrator, you can skip this prerequisite and proceed with hello tutorial.</span></span>

    >[!NOTE]
    ><span data-ttu-id="35b8b-122">Solamente puede crear una entidad de servicio si es administrador de Azure AD.</span><span class="sxs-lookup"><span data-stu-id="35b8b-122">You can create a service principal only if you are an Azure AD administrator.</span></span> <span data-ttu-id="35b8b-123">Su administrador de Azure AD debe generar una entidad de servicio antes de crear un clúster de HDInsight con Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="35b8b-123">Your Azure AD administrator must create a service principal before you can create an HDInsight cluster with Data Lake Store.</span></span> <span data-ttu-id="35b8b-124">Además, entidad de servicio de hello debe crearse con un certificado, como se describe en [crear una entidad de servicio con el certificado](../azure-resource-manager/resource-group-authenticate-service-principal.md#create-service-principal-with-self-signed-certificate).</span><span class="sxs-lookup"><span data-stu-id="35b8b-124">Also, hello service principal must be created with a certificate, as described at [Create a service principal with certificate](../azure-resource-manager/resource-group-authenticate-service-principal.md#create-service-principal-with-self-signed-certificate).</span></span>
    >

## <a name="create-an-hdinsight-cluster"></a><span data-ttu-id="35b8b-125">Creación de un clúster de HDInsight</span><span class="sxs-lookup"><span data-stu-id="35b8b-125">Create an HDInsight cluster</span></span>

<span data-ttu-id="35b8b-126">En esta sección, creará un clúster de HDInsight con las cuentas de almacén de Data Lake como valor predeterminado de Hola o almacenamiento adicional de Hola.</span><span class="sxs-lookup"><span data-stu-id="35b8b-126">In this section, you create a HDInsight cluster with Data Lake Store accounts as hello default or hello additional storage.</span></span> <span data-ttu-id="35b8b-127">Este artículo trata sólo parte de saludo de la configuración de cuentas de almacén de Data Lake.</span><span class="sxs-lookup"><span data-stu-id="35b8b-127">This article only focuses hello part of configuring Data Lake Store accounts.</span></span>  <span data-ttu-id="35b8b-128">Para obtener información de creación de clúster general de Hola y procedimientos, consulte [Hadoop crear clústeres de HDInsight](../hdinsight/hdinsight-hadoop-provision-linux-clusters.md).</span><span class="sxs-lookup"><span data-stu-id="35b8b-128">For hello general cluster creation information and procedures, see [Create Hadoop clusters in HDInsight](../hdinsight/hdinsight-hadoop-provision-linux-clusters.md).</span></span>

### <a name="create-a-cluster-with-data-lake-store-as-default-storage"></a><span data-ttu-id="35b8b-129">Creación de un clúster con Data Lake Store como almacenamiento predeterminado</span><span class="sxs-lookup"><span data-stu-id="35b8b-129">Create a cluster with Data Lake Store as default storage</span></span>

<span data-ttu-id="35b8b-130">**toocreate HDInsight de un clúster con un almacén de Data Lake como cuenta de almacenamiento predeterminada de Hola**</span><span class="sxs-lookup"><span data-stu-id="35b8b-130">**toocreate a HDInsight cluster with a Data Lake Store as hello default storage account**</span></span>

1. <span data-ttu-id="35b8b-131">Inicie sesión en toohello [portal de Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="35b8b-131">Sign in toohello [Azure portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="35b8b-132">Siga [crear clústeres](../hdinsight/hdinsight-hadoop-create-linux-clusters-portal.md#create-clusters) para obtener información general sobre la creación de clústeres de HDInsight Hola.</span><span class="sxs-lookup"><span data-stu-id="35b8b-132">Follow [Create clusters](../hdinsight/hdinsight-hadoop-create-linux-clusters-portal.md#create-clusters) for hello general information on creating HDInsight clusters.</span></span>
3. <span data-ttu-id="35b8b-133">En hello **almacenamiento** hoja, en **tipo de almacenamiento principal**, seleccione **almacén de Data Lake**y, a continuación, escriba Hola siguiente información:</span><span class="sxs-lookup"><span data-stu-id="35b8b-133">On hello **Storage** blade, under **Primary storage type**, select **Data Lake Store**, and then enter hello following information:</span></span>

    <span data-ttu-id="35b8b-134">![Agregar servicio de cluster Server tooHDInsight principal](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.1.adls.storage.png "Agregar servicio de cluster Server tooHDInsight principal")</span><span class="sxs-lookup"><span data-stu-id="35b8b-134">![Add service principal tooHDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.1.adls.storage.png "Add service principal tooHDInsight cluster")</span></span>

    - <span data-ttu-id="35b8b-135">**Seleccionar la cuenta de Data Lake Store**: seleccione una cuenta existente de Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="35b8b-135">**Select Data Lake Store account**: Select an existing Data Lake Store account.</span></span> <span data-ttu-id="35b8b-136">Se necesita una cuenta existente de Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="35b8b-136">An existing Data Lake Store account is required.</span></span>  <span data-ttu-id="35b8b-137">Consulte [Requisitos previos](#prereuisites).</span><span class="sxs-lookup"><span data-stu-id="35b8b-137">See [Prerequisites](#prereuisites).</span></span>
    - <span data-ttu-id="35b8b-138">**Ruta de acceso raíz**: escriba una ruta de acceso donde archivos específicos para clúster de hello son toobe almacenado.</span><span class="sxs-lookup"><span data-stu-id="35b8b-138">**Root path**: Enter a path where hello cluster-specific files are toobe stored.</span></span> <span data-ttu-id="35b8b-139">En la captura de pantalla de hello, es __/clústeres/myhdiadlcluster/__, en qué hello __/clústeres__ carpeta debe existir y crea hello Portal *myhdicluster* carpeta.</span><span class="sxs-lookup"><span data-stu-id="35b8b-139">On hello screenshot, it is __/clusters/myhdiadlcluster/__, in which hello __/clusters__ folder must exist, and hello Portal creates *myhdicluster* folder.</span></span>  <span data-ttu-id="35b8b-140">Hola *myhdicluster* es el nombre del clúster de Hola.</span><span class="sxs-lookup"><span data-stu-id="35b8b-140">hello *myhdicluster* is hello cluster name.</span></span>
    - <span data-ttu-id="35b8b-141">**Acceso de almacén de Data Lake**: configurar el acceso entre cuentas de almacén de Data Lake hello y clúster de HDInsight.</span><span class="sxs-lookup"><span data-stu-id="35b8b-141">**Data Lake Store access**: Configure access between hello Data Lake Store account and HDInsight cluster.</span></span> <span data-ttu-id="35b8b-142">Para obtener instrucciones, consulte [Configuración del acceso a Data Lake Store](#configure-data-lake-store-access).</span><span class="sxs-lookup"><span data-stu-id="35b8b-142">For instructions, see [Configure Data Lake Store access](#configure-data-lake-store-access).</span></span>
    - <span data-ttu-id="35b8b-143">**Cuentas de almacenamiento adicionales**: cuentas de agregar cuentas de almacenamiento de Azure como almacenamiento adicional para clúster Hola.</span><span class="sxs-lookup"><span data-stu-id="35b8b-143">**Additional storage accounts**: Add Azure Storage Accounts as additional storage accounts for hello cluster.</span></span> <span data-ttu-id="35b8b-144">tooadd adicionales datos Lake almacenes se debe conceder permisos de clúster de hello en los datos en varias cuentas de almacén de Data Lake al configurar una cuenta de almacén de Data Lake como tipo de almacenamiento principal de Hola.</span><span class="sxs-lookup"><span data-stu-id="35b8b-144">tooadd additional Data Lake Stores is done by giving hello cluster permissions on data in more Data Lake Store accounts while configuring a Data Lake Store account as hello primary storage type.</span></span> <span data-ttu-id="35b8b-145">Consulte [Configuración del acceso a Data Lake Store](#configure-data-lake-store-access).</span><span class="sxs-lookup"><span data-stu-id="35b8b-145">See [Configure Data Lake Store access](#configure-data-lake-store-access).</span></span>

4. <span data-ttu-id="35b8b-146">En hello **acceso de almacén de Data Lake**, haga clic en **seleccione**y, a continuación, continuar con la creación del clúster tal y como se describe en [Hadoop crear clústeres de HDInsight](../hdinsight/hdinsight-hadoop-create-linux-clusters-portal.md).</span><span class="sxs-lookup"><span data-stu-id="35b8b-146">On hello **Data Lake Store access**, click **Select**, and then continue with cluster creation as described in [Create Hadoop clusters in HDInsight](../hdinsight/hdinsight-hadoop-create-linux-clusters-portal.md).</span></span>


### <a name="create-a-cluster-with-data-lake-store-as-additional-storage"></a><span data-ttu-id="35b8b-147">Creación de un clúster con Data Lake Store como almacenamiento adicional</span><span class="sxs-lookup"><span data-stu-id="35b8b-147">Create a cluster with Data Lake Store as additional storage</span></span>

<span data-ttu-id="35b8b-148">Hello las instrucciones siguientes crear un clúster de HDInsight con una cuenta de almacenamiento de Azure como almacenamiento predeterminado de hello y una cuenta de almacén de Data Lake como un almacenamiento adicional.</span><span class="sxs-lookup"><span data-stu-id="35b8b-148">hello following instructions create a HDInsight cluster with an Azure Storage account as hello default storage, and a Data Lake Store account as an additional storage.</span></span>
<span data-ttu-id="35b8b-149">**toocreate HDInsight de un clúster con un almacén de Data Lake como cuenta de almacenamiento predeterminada de Hola**</span><span class="sxs-lookup"><span data-stu-id="35b8b-149">**toocreate a HDInsight cluster with a Data Lake Store as hello default storage account**</span></span>

1. <span data-ttu-id="35b8b-150">Inicie sesión en toohello [portal de Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="35b8b-150">Sign in toohello [Azure portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="35b8b-151">Siga [crear clústeres](../hdinsight/hdinsight-hadoop-create-linux-clusters-portal.md#create-clusters) para obtener información general sobre la creación de clústeres de HDInsight Hola.</span><span class="sxs-lookup"><span data-stu-id="35b8b-151">Follow [Create clusters](../hdinsight/hdinsight-hadoop-create-linux-clusters-portal.md#create-clusters) for hello general information on creating HDInsight clusters.</span></span>
3. <span data-ttu-id="35b8b-152">En hello **almacenamiento** hoja, en **tipo de almacenamiento principal**, seleccione **el almacenamiento de Azure**y, a continuación, escriba Hola siguiente información:</span><span class="sxs-lookup"><span data-stu-id="35b8b-152">On hello **Storage** blade, under **Primary storage type**, select **Azure Storage**, and then enter hello following information:</span></span>

    <span data-ttu-id="35b8b-153">![Agregar servicio de cluster Server tooHDInsight principal](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.1.png "Agregar servicio de cluster Server tooHDInsight principal")</span><span class="sxs-lookup"><span data-stu-id="35b8b-153">![Add service principal tooHDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.1.png "Add service principal tooHDInsight cluster")</span></span>

    - <span data-ttu-id="35b8b-154">**Método de selección**: usar una de las siguientes opciones de hello:</span><span class="sxs-lookup"><span data-stu-id="35b8b-154">**Selection method**: use one of hello following options:</span></span>

        * <span data-ttu-id="35b8b-155">Seleccione una cuenta de almacenamiento que forma parte de su suscripción de Azure, toospecify **Mis suscripciones**y, a continuación, seleccione la cuenta de almacenamiento de Hola.</span><span class="sxs-lookup"><span data-stu-id="35b8b-155">toospecify a storage account that is part of your Azure subscription, select **My subscriptions**, and then select hello storage account.</span></span>
        * <span data-ttu-id="35b8b-156">una cuenta de almacenamiento que está fuera de su suscripción de Azure, seleccione toospecify **clave de acceso**y, a continuación, proporcionar información de Hola para hello fuera de la cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="35b8b-156">toospecify a storage account that is outside your Azure subscription, select **Access key**, and then provide hello information for hello outside storage account.</span></span>

    - <span data-ttu-id="35b8b-157">**Contenedor predeterminado**: usar valor predeterminado Hola o especificar su propio nombre.</span><span class="sxs-lookup"><span data-stu-id="35b8b-157">**Default container**: use either hello default value or specify your own name.</span></span>

    - <span data-ttu-id="35b8b-158">Cuentas de almacenamiento adicionales: agregar más cuentas de almacenamiento de Azure como almacenamiento adicional de Hola.</span><span class="sxs-lookup"><span data-stu-id="35b8b-158">Additional Storage accounts: add more Azure Storage accounts as hello additional storage.</span></span>
    - <span data-ttu-id="35b8b-159">Acceso de almacén de Data Lake: configurar el acceso entre cuentas de almacén de Data Lake hello y clúster de HDInsight.</span><span class="sxs-lookup"><span data-stu-id="35b8b-159">Data Lake Store access: configure access between hello Data Lake Store account and HDInsight cluster.</span></span> <span data-ttu-id="35b8b-160">Para obtener instrucciones, consulte [Configuración del acceso a Data Lake Store](#configure-data-lake-store-access).</span><span class="sxs-lookup"><span data-stu-id="35b8b-160">For instructions see [Configure Data Lake Store access](#configure-data-lake-store-access).</span></span>

## <a name="configure-data-lake-store-access"></a><span data-ttu-id="35b8b-161">Configuración del acceso a Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="35b8b-161">Configure Data Lake Store access</span></span> 

<span data-ttu-id="35b8b-162">En esta sección podrá configurar el acceso a Data Lake Store desde los clústeres de HDInsight mediante una entidad de servicio de Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="35b8b-162">In this section, you configure Data Lake Store access from HDInsight clusters using an Azure Active Directory service principal.</span></span> 

### <a name="specify-a-service-principal"></a><span data-ttu-id="35b8b-163">Especificar una entidad de servicio</span><span class="sxs-lookup"><span data-stu-id="35b8b-163">Specify a service principal</span></span>

<span data-ttu-id="35b8b-164">De hello portal de Azure, puede usar a una entidad de servicio existente o cree uno nuevo.</span><span class="sxs-lookup"><span data-stu-id="35b8b-164">From hello Azure portal, you can either use an existing service principal or create a new one.</span></span>

<span data-ttu-id="35b8b-165">**toocreate una entidad de servicio de hello portal de Azure**</span><span class="sxs-lookup"><span data-stu-id="35b8b-165">**toocreate a service principal from hello Azure portal**</span></span>

1. <span data-ttu-id="35b8b-166">Haga clic en **acceso de almacén de Data Lake** de hoja de almacén de Hola.</span><span class="sxs-lookup"><span data-stu-id="35b8b-166">Click **Data Lake Store access** from hello Store blade.</span></span>
2. <span data-ttu-id="35b8b-167">En hello **acceso de almacén de Data Lake** hoja, haga clic en **crear nuevo**.</span><span class="sxs-lookup"><span data-stu-id="35b8b-167">On hello **Data Lake Store access** blade, click **Create new**.</span></span>
3. <span data-ttu-id="35b8b-168">Haga clic en **entidad de servicio**y, a continuación, siga Hola instrucciones toocreate una entidad de servicio.</span><span class="sxs-lookup"><span data-stu-id="35b8b-168">Click **Service Principal**, and then follow hello instructions toocreate a service principal.</span></span>
4. <span data-ttu-id="35b8b-169">Descargar certificado de hello si decide toouse en hello futuras.</span><span class="sxs-lookup"><span data-stu-id="35b8b-169">Download hello certificate if you decide toouse it again in hello future.</span></span> <span data-ttu-id="35b8b-170">Descargando certificado de hello es útil que si desea toouse Hola mismo servicio de entidad de seguridad al crear clústeres de HDInsight adicionales.</span><span class="sxs-lookup"><span data-stu-id="35b8b-170">Downloading hello certificate is useful if you want toouse hello same service principal when you create additional HDInsight clusters.</span></span>

    <span data-ttu-id="35b8b-171">![Agregar servicio de cluster Server tooHDInsight principal](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.2.png "Agregar servicio de cluster Server tooHDInsight principal")</span><span class="sxs-lookup"><span data-stu-id="35b8b-171">![Add service principal tooHDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.2.png "Add service principal tooHDInsight cluster")</span></span>

4. <span data-ttu-id="35b8b-172">Haga clic en **acceso** acceso a la carpeta tooconfigure Hola.</span><span class="sxs-lookup"><span data-stu-id="35b8b-172">Click **Access** tooconfigure hello folder access.</span></span>  <span data-ttu-id="35b8b-173">Consulte [Configurar los permisos de los archivos](#configure-file-permissions).</span><span class="sxs-lookup"><span data-stu-id="35b8b-173">See [Configure file permissions](#configure-file-permissions).</span></span>


<span data-ttu-id="35b8b-174">**toouse un servicio existente principal de hello portal de Azure**</span><span class="sxs-lookup"><span data-stu-id="35b8b-174">**toouse an existing service principal from hello Azure portal**</span></span>

1. <span data-ttu-id="35b8b-175">Haga clic en **Acceso a Data Lake Store**.</span><span class="sxs-lookup"><span data-stu-id="35b8b-175">Click **Data Lake Store access**.</span></span>
1. <span data-ttu-id="35b8b-176">En hello **acceso de almacén de Data Lake** hoja, haga clic en **utilizar existente**.</span><span class="sxs-lookup"><span data-stu-id="35b8b-176">On hello **Data Lake Store access** blade, click **Use existing**.</span></span>
2. <span data-ttu-id="35b8b-177">Haga clic en **Entidad de servicio** y seleccione una entidad de servicio.</span><span class="sxs-lookup"><span data-stu-id="35b8b-177">Click **Service Principal**, and then select a service principal.</span></span> 
3. <span data-ttu-id="35b8b-178">Cargar certificado de hello (archivo .pfx) que está asociado con la entidad de seguridad de servicio seleccionado y, a continuación, escriba la contraseña del certificado Hola.</span><span class="sxs-lookup"><span data-stu-id="35b8b-178">Upload hello certificate (.pfx file) that's associated with your selected service principal, and then enter hello certificate password.</span></span>

    <span data-ttu-id="35b8b-179">![Agregar servicio de cluster Server tooHDInsight principal](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.5.png "Agregar servicio de cluster Server tooHDInsight principal")</span><span class="sxs-lookup"><span data-stu-id="35b8b-179">![Add service principal tooHDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.5.png "Add service principal tooHDInsight cluster")</span></span>

4. <span data-ttu-id="35b8b-180">Haga clic en **acceso** acceso a la carpeta tooconfigure Hola.</span><span class="sxs-lookup"><span data-stu-id="35b8b-180">Click **Access** tooconfigure hello folder access.</span></span>  <span data-ttu-id="35b8b-181">Consulte [Configurar los permisos de los archivos](#configure-file-permissions).</span><span class="sxs-lookup"><span data-stu-id="35b8b-181">See [Configure file permissions](#configure-file-permissions).</span></span>


### <span data-ttu-id="35b8b-182"><a name="configure-file-permissions"></a>Configurar los permisos de los archivos</span><span class="sxs-lookup"><span data-stu-id="35b8b-182"><a name="configure-file-permissions"></a>Configure file permissions</span></span>

<span data-ttu-id="35b8b-183">Hola configura son diferentes dependiendo de si se utiliza la cuenta de hello como almacenamiento predeterminado de Hola o una cuenta de almacenamiento adicional:</span><span class="sxs-lookup"><span data-stu-id="35b8b-183">hello configures are different depending on whether hello account is used as hello default storage or an additional storage account:</span></span>

- <span data-ttu-id="35b8b-184">Uso como almacenamiento predeterminado</span><span class="sxs-lookup"><span data-stu-id="35b8b-184">Used as default storage</span></span>

    - <span data-ttu-id="35b8b-185">permiso de nivel de raíz de Hola de hello cuenta de almacén de Data Lake</span><span class="sxs-lookup"><span data-stu-id="35b8b-185">permission at hello root level of hello Data Lake Store account</span></span>
    - <span data-ttu-id="35b8b-186">permiso de nivel de raíz de Hola de hello almacenamiento de clúster de HDInsight.</span><span class="sxs-lookup"><span data-stu-id="35b8b-186">permission at hello root level of hello HDInsight cluster storage.</span></span> <span data-ttu-id="35b8b-187">Por ejemplo, hello __/clústeres__ carpeta utilizada anteriormente en el tutorial Hola.</span><span class="sxs-lookup"><span data-stu-id="35b8b-187">For example, hello __/clusters__ folder used earlier in hello tutorial.</span></span>
- <span data-ttu-id="35b8b-188">Uso como almacenamiento adicional</span><span class="sxs-lookup"><span data-stu-id="35b8b-188">Use as an additional storage</span></span>

    - <span data-ttu-id="35b8b-189">Permiso en las carpetas de Hola donde se necesita acceso de archivo.</span><span class="sxs-lookup"><span data-stu-id="35b8b-189">Permission at hello folders where you need file access.</span></span>

<span data-ttu-id="35b8b-190">**tooassign permiso en el nivel de raíz de cuenta de almacén de Data Lake Hola**</span><span class="sxs-lookup"><span data-stu-id="35b8b-190">**tooassign permission at hello Data Lake Store account root level**</span></span>

1. <span data-ttu-id="35b8b-191">En hello **acceso de almacén de Data Lake** hoja, haga clic en **acceso**.</span><span class="sxs-lookup"><span data-stu-id="35b8b-191">On hello **Data Lake Store access** blade, click **Access**.</span></span> <span data-ttu-id="35b8b-192">Hola **seleccionar los permisos de archivo** se abre la hoja.</span><span class="sxs-lookup"><span data-stu-id="35b8b-192">hello **Select file permissions** blade is opened.</span></span> <span data-ttu-id="35b8b-193">Muestra todas las cuentas de almacén de Data Lake hello en su suscripción.</span><span class="sxs-lookup"><span data-stu-id="35b8b-193">It lists all hello Data Lake Store accounts in your subscription.</span></span>
2. <span data-ttu-id="35b8b-194">Mantenga el mouse (no haga clic en) mouse Hola sobre nombre Hola de hello cuenta de almacén de Data Lake toomake Hola casilla visible, a continuación, seleccione Hola casilla de verificación.</span><span class="sxs-lookup"><span data-stu-id="35b8b-194">Hover (do not click) hello mouse over hello name of hello Data Lake Store account toomake hello check box visible, then select hello check box.</span></span>

    <span data-ttu-id="35b8b-195">![Agregar servicio de cluster Server tooHDInsight principal](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.3.png "Agregar servicio de cluster Server tooHDInsight principal")</span><span class="sxs-lookup"><span data-stu-id="35b8b-195">![Add service principal tooHDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.3.png "Add service principal tooHDInsight cluster")</span></span>

  <span data-ttu-id="35b8b-196">De forma predeterminada, los permisos __LECTURA__, __ESCRITURA__ Y __EJECUCIÓN__ están seleccionados.</span><span class="sxs-lookup"><span data-stu-id="35b8b-196">By default, __READ__, __WRITE__, AND __EXECUTE__ are all selected.</span></span>

3. <span data-ttu-id="35b8b-197">Haga clic en **seleccione** en parte inferior de Hola de página de Hola.</span><span class="sxs-lookup"><span data-stu-id="35b8b-197">Click **Select** on hello bottom of hello page.</span></span>
4. <span data-ttu-id="35b8b-198">Haga clic en **ejecutar** tooassign permiso.</span><span class="sxs-lookup"><span data-stu-id="35b8b-198">Click **Run** tooassign permission.</span></span>
5. <span data-ttu-id="35b8b-199">Haga clic en **Done**(Listo).</span><span class="sxs-lookup"><span data-stu-id="35b8b-199">Click **Done**.</span></span>

<span data-ttu-id="35b8b-200">**permiso de tooassign en hello nivel de raíz del clúster de HDInsight**</span><span class="sxs-lookup"><span data-stu-id="35b8b-200">**tooassign permission at hello HDInsight cluster root level**</span></span>

1. <span data-ttu-id="35b8b-201">En hello **acceso de almacén de Data Lake** hoja, haga clic en **acceso**.</span><span class="sxs-lookup"><span data-stu-id="35b8b-201">On hello **Data Lake Store access** blade, click **Access**.</span></span> <span data-ttu-id="35b8b-202">Hola **seleccionar los permisos de archivo** se abre la hoja.</span><span class="sxs-lookup"><span data-stu-id="35b8b-202">hello **Select file permissions** blade is opened.</span></span> <span data-ttu-id="35b8b-203">Muestra todas las cuentas de almacén de Data Lake hello en su suscripción.</span><span class="sxs-lookup"><span data-stu-id="35b8b-203">It lists all hello Data Lake Store accounts in your subscription.</span></span>
1. <span data-ttu-id="35b8b-204">De hello **seleccionar los permisos de archivo** hoja, haga clic en tooshow de nombre de almacén de Data Lake Hola su contenido.</span><span class="sxs-lookup"><span data-stu-id="35b8b-204">From hello **Select file permissions** blade, click hello Data Lake Store name tooshow its content.</span></span>
2. <span data-ttu-id="35b8b-205">Seleccione raíz de almacenamiento de clúster de HDInsight de hello seleccionando la casilla Hola izquierda Hola de carpeta de Hola.</span><span class="sxs-lookup"><span data-stu-id="35b8b-205">Select hello HDInsight cluster storage root by selecting hello checkbox on hello left of hello folder.</span></span> <span data-ttu-id="35b8b-206">Según la captura de pantalla de toohello anteriormente, es de raíz de almacenamiento de clúster de hello __/clústeres__ carpeta que especificó al seleccionar almacén de Data Lake de hello como almacenamiento predeterminado.</span><span class="sxs-lookup"><span data-stu-id="35b8b-206">According toohello screenshot earlier, hello cluster storage root is __/clusters__ folder that you specified while selecting hello Data Lake Store as default storage.</span></span>
3. <span data-ttu-id="35b8b-207">Establecer permisos de hello en carpeta de Hola.</span><span class="sxs-lookup"><span data-stu-id="35b8b-207">Set hello permissions on hello folder.</span></span>  <span data-ttu-id="35b8b-208">De forma predeterminada, los permisos LECTURA, ESCRITURA Y EJECUCIÓN están seleccionados.</span><span class="sxs-lookup"><span data-stu-id="35b8b-208">By default, read, write, and execute are all selected.</span></span>
4. <span data-ttu-id="35b8b-209">Haga clic en **seleccione** en parte inferior de Hola de página de Hola.</span><span class="sxs-lookup"><span data-stu-id="35b8b-209">Click **Select** on hello bottom of hello page.</span></span>
5. <span data-ttu-id="35b8b-210">Haga clic en **Ejecutar**.</span><span class="sxs-lookup"><span data-stu-id="35b8b-210">Click **Run**.</span></span>
6. <span data-ttu-id="35b8b-211">Haga clic en **Done**(Listo).</span><span class="sxs-lookup"><span data-stu-id="35b8b-211">Click **Done**.</span></span>

<span data-ttu-id="35b8b-212">Si está utilizando el almacén de Data Lake como almacenamiento adicional, debe asignar permiso únicamente para las carpetas de Hola que desea tooaccess de clúster de HDInsight Hola.</span><span class="sxs-lookup"><span data-stu-id="35b8b-212">If you are using Data Lake Store as additional storage, you must assign permission only for hello folders that you want tooaccess from hello HDInsight cluster.</span></span> <span data-ttu-id="35b8b-213">Por ejemplo, en la siguiente captura de pantalla de hello, proporciona acceso sólo demasiado**hdiaddonstorage** carpeta en una cuenta de almacén de Data Lake.</span><span class="sxs-lookup"><span data-stu-id="35b8b-213">For example, in hello screenshot below, you provide access only too**hdiaddonstorage** folder in a Data Lake Store account.</span></span>

<span data-ttu-id="35b8b-214">![Asignar el clúster de HDInsight de toohello de permisos de entidad de seguridad de servicio](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.3-1.png "clúster de HDInsight de toohello de permisos de entidad de seguridad de servicio de asignar")</span><span class="sxs-lookup"><span data-stu-id="35b8b-214">![Assign service principal permissions toohello HDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.3-1.png "Assign service principal permissions toohello HDInsight cluster")</span></span>


## <a name="verify-cluster-set-up"></a><span data-ttu-id="35b8b-215">Comprobación de la configuración del clúster</span><span class="sxs-lookup"><span data-stu-id="35b8b-215">Verify cluster set up</span></span>

<span data-ttu-id="35b8b-216">Una vez completada la instalación de clúster de hello, en la hoja de clúster de hello, compruebe los resultados, realice una o ambas de hello pasos:</span><span class="sxs-lookup"><span data-stu-id="35b8b-216">After hello cluster setup is complete, on hello cluster blade, verify your results by doing either or both of hello following steps:</span></span>

* <span data-ttu-id="35b8b-217">tooverify Hola almacenamiento asociado para clúster hello es la cuenta de almacén de Data Lake Hola que especificó, haga clic en **cuentas de almacenamiento** en el panel izquierdo de Hola.</span><span class="sxs-lookup"><span data-stu-id="35b8b-217">tooverify that hello associated storage for hello cluster is hello Data Lake Store account that you specified, click **Storage accounts** in hello left pane.</span></span>

    <span data-ttu-id="35b8b-218">![Agregar servicio de cluster Server tooHDInsight principal](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.6-1.png "Agregar servicio de cluster Server tooHDInsight principal")</span><span class="sxs-lookup"><span data-stu-id="35b8b-218">![Add service principal tooHDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.6-1.png "Add service principal tooHDInsight cluster")</span></span>

* <span data-ttu-id="35b8b-219">tooverify que Hola entidad de servicio está correctamente asociado con el clúster de HDInsight de hello, haga clic en **acceso de almacén de Data Lake** en el panel izquierdo de Hola.</span><span class="sxs-lookup"><span data-stu-id="35b8b-219">tooverify that hello service principal is correctly associated with hello HDInsight cluster, click **Data Lake Store access** in hello left pane.</span></span>

    <span data-ttu-id="35b8b-220">![Agregar servicio de cluster Server tooHDInsight principal](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.6.png "Agregar servicio de cluster Server tooHDInsight principal")</span><span class="sxs-lookup"><span data-stu-id="35b8b-220">![Add service principal tooHDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.6.png "Add service principal tooHDInsight cluster")</span></span>


## <a name="examples"></a><span data-ttu-id="35b8b-221">Ejemplos</span><span class="sxs-lookup"><span data-stu-id="35b8b-221">Examples</span></span>

<span data-ttu-id="35b8b-222">Una vez haya configurado el clúster de hello con almacén de Data Lake como su almacenamiento de información, consulte toothese entre los ejemplos de cómo toouse HDInsight el clúster tooanalyze Hola que se almacena en el almacén de Data Lake.</span><span class="sxs-lookup"><span data-stu-id="35b8b-222">After you have set up hello cluster with Data Lake Store as your storage, refer toothese examples of how toouse HDInsight cluster tooanalyze hello data that's stored in Data Lake Store.</span></span>

### <a name="run-a-hive-query-against-data-in-a-data-lake-store-as-primary-storage"></a><span data-ttu-id="35b8b-223">Ejecución de una consulta de Hive en datos de Data Lake Store (como almacenamiento principal)</span><span class="sxs-lookup"><span data-stu-id="35b8b-223">Run a Hive query against data in a Data Lake Store (as primary storage)</span></span>

<span data-ttu-id="35b8b-224">toorun una consulta de Hive, utilice la interfaz de vistas de Hive de hello en el portal de Ambari Hola.</span><span class="sxs-lookup"><span data-stu-id="35b8b-224">toorun a Hive query, use hello Hive views interface in hello Ambari portal.</span></span> <span data-ttu-id="35b8b-225">Para obtener instrucciones sobre cómo se ve toouse Ambari Hive, consulte [Hola Use vista Hive con Hadoop en HDInsight](../hdinsight/hdinsight-hadoop-use-hive-ambari-view.md).</span><span class="sxs-lookup"><span data-stu-id="35b8b-225">For instructions on how toouse Ambari Hive views, see [Use hello Hive View with Hadoop in HDInsight](../hdinsight/hdinsight-hadoop-use-hive-ambari-view.md).</span></span>

<span data-ttu-id="35b8b-226">Cuando se trabaja con datos en un almacén de Data Lake, existen unos toochange de cadenas.</span><span class="sxs-lookup"><span data-stu-id="35b8b-226">When you work with data in a Data Lake Store, there are a few strings toochange.</span></span>

<span data-ttu-id="35b8b-227">Si utiliza, por ejemplo, clúster de Hola que ha creado con el almacén de Data Lake como almacenamiento principal, datos de toohello de ruta de acceso de hello están: *adl: / / < data_lake_store_account_name > /azuredatalakestore.net/path/to/file*.</span><span class="sxs-lookup"><span data-stu-id="35b8b-227">If you use, for example, hello cluster that you created with Data Lake Store as primary storage, hello path toohello data is: *adl://<data_lake_store_account_name>/azuredatalakestore.net/path/to/file*.</span></span> <span data-ttu-id="35b8b-228">Un toocreate de consulta de Hive una tabla de datos de ejemplo que se almacenan en la cuenta de almacén de Data Lake hello es similar a Hola siguiente instrucción:</span><span class="sxs-lookup"><span data-stu-id="35b8b-228">A Hive query toocreate a table from sample data that's stored in hello Data Lake Store account looks like hello following statement:</span></span>

    CREATE EXTERNAL TABLE websitelog (str string) LOCATION 'adl://hdiadlsstorage.azuredatalakestore.net/clusters/myhdiadlcluster/HdiSamples/HdiSamples/WebsiteLogSampleData/SampleLog/'

<span data-ttu-id="35b8b-229">Descripciones:</span><span class="sxs-lookup"><span data-stu-id="35b8b-229">Descriptions:</span></span>
* <span data-ttu-id="35b8b-230">`adl://hdiadlstorage.azuredatalakestore.net/`es la raíz de Hola de hello cuenta de almacén de Data Lake.</span><span class="sxs-lookup"><span data-stu-id="35b8b-230">`adl://hdiadlstorage.azuredatalakestore.net/` is hello root of hello Data Lake Store account.</span></span>
* <span data-ttu-id="35b8b-231">`/clusters/myhdiadlcluster`es la raíz de Hola Hola de datos de clúster que especificó al crear el clúster de Hola.</span><span class="sxs-lookup"><span data-stu-id="35b8b-231">`/clusters/myhdiadlcluster` is hello root of hello cluster data that you specified while creating hello cluster.</span></span>
* <span data-ttu-id="35b8b-232">`/HdiSamples/HdiSamples/WebsiteLogSampleData/SampleLog/`es la ubicación de hello del archivo de ejemplo de Hola que utilizó en la consulta de Hola.</span><span class="sxs-lookup"><span data-stu-id="35b8b-232">`/HdiSamples/HdiSamples/WebsiteLogSampleData/SampleLog/` is hello location of hello sample file that you used in hello query.</span></span>

### <a name="run-a-hive-query-against-data-in-a-data-lake-store-as-additional-storage"></a><span data-ttu-id="35b8b-233">Ejecución de una consulta de Hive en datos de Data Lake Store (como almacenamiento adicional)</span><span class="sxs-lookup"><span data-stu-id="35b8b-233">Run a Hive query against data in a Data Lake Store (as additional storage)</span></span>

<span data-ttu-id="35b8b-234">Si clúster Hola que ha creado usa almacenamiento de blobs como almacenamiento de forma predeterminada, los datos de ejemplo de Hola no está contenidos en hello cuenta de almacén de Data Lake de Azure que se usa como almacenamiento adicional.</span><span class="sxs-lookup"><span data-stu-id="35b8b-234">If hello cluster that you created uses Blob storage as default storage, hello sample data is not contained in hello Azure Data Lake Store account that's used as additional storage.</span></span> <span data-ttu-id="35b8b-235">En este caso, primero transferir datos de Hola de toohello de almacenamiento de blobs almacén de Data Lake y, a continuación, ejecutar consultas de hello tal y como se muestra en el anterior ejemplo de Hola.</span><span class="sxs-lookup"><span data-stu-id="35b8b-235">In such a case, first transfer hello data from Blob storage toohello Data Lake Store, and then run hello queries as shown in hello preceding example.</span></span>

<span data-ttu-id="35b8b-236">Para obtener información sobre cómo toocopy desde almacenamiento de blobs tooa Data Lake almacén de datos, vea Hola siguientes artículos:</span><span class="sxs-lookup"><span data-stu-id="35b8b-236">For information on how toocopy data from Blob storage tooa Data Lake Store, see hello following articles:</span></span>

* [<span data-ttu-id="35b8b-237">Usar datos de toocopy Distcp entre blobs de almacenamiento de Azure y almacén de Data Lake</span><span class="sxs-lookup"><span data-stu-id="35b8b-237">Use Distcp toocopy data between Azure Storage blobs and Data Lake Store</span></span>](data-lake-store-copy-data-wasb-distcp.md)
* [<span data-ttu-id="35b8b-238">TooData Lake almacén de blobs de datos de uso AdlCopy toocopy desde el almacenamiento de Azure</span><span class="sxs-lookup"><span data-stu-id="35b8b-238">Use AdlCopy toocopy data from Azure Storage blobs tooData Lake Store</span></span>](data-lake-store-copy-data-azure-storage-blob.md)

### <a name="use-data-lake-store-with-a-spark-cluster"></a><span data-ttu-id="35b8b-239">Uso de Data Lake Store con un clúster de Spark</span><span class="sxs-lookup"><span data-stu-id="35b8b-239">Use Data Lake Store with a Spark cluster</span></span>
<span data-ttu-id="35b8b-240">Puede usar otra Spark clúster toorun Spark de trabajos en los datos que se almacenan en un almacén de Data Lake.</span><span class="sxs-lookup"><span data-stu-id="35b8b-240">You can use a Spark cluster toorun Spark jobs on data that is stored in a Data Lake Store.</span></span> <span data-ttu-id="35b8b-241">Para obtener más información, consulte [datos de uso HDInsight Spark clúster tooanalyze en almacén de Data Lake](../hdinsight/hdinsight-apache-spark-use-with-data-lake-store.md).</span><span class="sxs-lookup"><span data-stu-id="35b8b-241">For more information, see [Use HDInsight Spark cluster tooanalyze data in Data Lake Store](../hdinsight/hdinsight-apache-spark-use-with-data-lake-store.md).</span></span>


### <a name="use-data-lake-store-in-a-storm-topology"></a><span data-ttu-id="35b8b-242">Usar el Almacén de Data Lake en una topología de Storm</span><span class="sxs-lookup"><span data-stu-id="35b8b-242">Use Data Lake Store in a Storm topology</span></span>
<span data-ttu-id="35b8b-243">Puede usar datos de toowrite de almacén de Data Lake de saludo de una topología de Storm.</span><span class="sxs-lookup"><span data-stu-id="35b8b-243">You can use hello Data Lake Store toowrite data from a Storm topology.</span></span> <span data-ttu-id="35b8b-244">Para obtener instrucciones sobre cómo tooachieve este escenario, vea [almacén de uso Azure Data Lake con Apache Storm con HDInsight](../hdinsight/hdinsight-storm-write-data-lake-store.md).</span><span class="sxs-lookup"><span data-stu-id="35b8b-244">For instructions on how tooachieve this scenario, see [Use Azure Data Lake Store with Apache Storm with HDInsight](../hdinsight/hdinsight-storm-write-data-lake-store.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="35b8b-245">Otras referencias</span><span class="sxs-lookup"><span data-stu-id="35b8b-245">See also</span></span>
* [<span data-ttu-id="35b8b-246">PowerShell: Crear un toouse de clúster de HDInsight almacén de Data Lake</span><span class="sxs-lookup"><span data-stu-id="35b8b-246">PowerShell: Create an HDInsight cluster toouse Data Lake Store</span></span>](data-lake-store-hdinsight-hadoop-use-powershell.md)

[makecert]: https://msdn.microsoft.com/library/windows/desktop/ff548309(v=vs.85).aspx
[pvk2pfx]: https://msdn.microsoft.com/library/windows/desktop/ff550672(v=vs.85).aspx
