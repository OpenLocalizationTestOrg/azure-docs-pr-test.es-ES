---
title: "Autenticación entre servicios: Data Lake Store con Azure Active Directory | Microsoft Docs"
description: "Obtenga información acerca de cómo tooachieve autenticación de servicio al servicio con el almacén de Data Lake con Azure Active Directory"
services: data-lake-store
documentationcenter: 
author: nitinme
manager: jhubbard
editor: cgronlun
ms.assetid: 820b7c5d-4863-4225-9bd1-df4d8f515537
ms.service: data-lake-store
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 04/21/2017
ms.author: nitinme
ms.openlocfilehash: 2e56237a75f020067b3248a1e1cfaf3c8df1371c
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="service-to-service-authentication-with-data-lake-store-using-azure-active-directory"></a><span data-ttu-id="4d9f4-103">Autenticación entre servicios con Data Lake Store mediante Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="4d9f4-103">Service-to-service authentication with Data Lake Store using Azure Active Directory</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="4d9f4-104">Autenticación entre servicios</span><span class="sxs-lookup"><span data-stu-id="4d9f4-104">Service-to-service authentication</span></span>](data-lake-store-authenticate-using-active-directory.md)
> * [<span data-ttu-id="4d9f4-105">Autenticación de usuario final</span><span class="sxs-lookup"><span data-stu-id="4d9f4-105">End-user authentication</span></span>](data-lake-store-end-user-authenticate-using-active-directory.md)
> 
> 

<span data-ttu-id="4d9f4-106">Azure Data Lake Store usa Azure Active Directory para la autenticación.</span><span class="sxs-lookup"><span data-stu-id="4d9f4-106">Azure Data Lake Store uses Azure Active Directory for authentication.</span></span> <span data-ttu-id="4d9f4-107">Antes de crear una aplicación que funcione con el almacén de Azure Data Lake o análisis de Data Lake de Azure, primero debe decidir cómo desea que tooauthenticate su aplicación con Azure Active Directory (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="4d9f4-107">Before authoring an application that works with Azure Data Lake Store or Azure Data Lake Analytics, you must first decide how you would like tooauthenticate your application with Azure Active Directory (Azure AD).</span></span> <span data-ttu-id="4d9f4-108">Hola dos opciones principales disponibles son:</span><span class="sxs-lookup"><span data-stu-id="4d9f4-108">hello two main options available are:</span></span>

* <span data-ttu-id="4d9f4-109">Autenticación de usuario final</span><span class="sxs-lookup"><span data-stu-id="4d9f4-109">End-user authentication</span></span> 
* <span data-ttu-id="4d9f4-110">Autenticación entre servicios (este artículo)</span><span class="sxs-lookup"><span data-stu-id="4d9f4-110">Service-to-service authentication (this article)</span></span> 

<span data-ttu-id="4d9f4-111">Ambas opciones como resultado de la aplicación que se proporciona con un token de OAuth 2.0, que obtiene tooeach adjunto solicitud realizada tooAzure almacén de Data Lake o análisis de Data Lake de Azure.</span><span class="sxs-lookup"><span data-stu-id="4d9f4-111">Both these options result in your application being provided with an OAuth 2.0 token, which gets attached tooeach request made tooAzure Data Lake Store or Azure Data Lake Analytics.</span></span>

<span data-ttu-id="4d9f4-112">En este artículo se habla de cómo crear una **aplicación web de Azure AD para la autenticación entre servicios**.</span><span class="sxs-lookup"><span data-stu-id="4d9f4-112">This article talks about how create an **Azure AD web application for service-to-service authentication**.</span></span> <span data-ttu-id="4d9f4-113">Para obtener instrucciones sobre la configuración de la aplicación de Azure AD para la autenticación entre servicios, vea [Autenticación de usuario final con Data Lake Store mediante Azure Active Directory](data-lake-store-end-user-authenticate-using-active-directory.md).</span><span class="sxs-lookup"><span data-stu-id="4d9f4-113">For instructions on Azure AD application configuration for end-user authentication see [End-user authentication with Data Lake Store using Azure Active Directory](data-lake-store-end-user-authenticate-using-active-directory.md).</span></span>

## <a name="prerequisites"></a><span data-ttu-id="4d9f4-114">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="4d9f4-114">Prerequisites</span></span>
* <span data-ttu-id="4d9f4-115">Una suscripción de Azure.</span><span class="sxs-lookup"><span data-stu-id="4d9f4-115">An Azure subscription.</span></span> <span data-ttu-id="4d9f4-116">Vea [Obtener evaluación gratuita de Azure](https://azure.microsoft.com/pricing/free-trial/).</span><span class="sxs-lookup"><span data-stu-id="4d9f4-116">See [Get Azure free trial](https://azure.microsoft.com/pricing/free-trial/).</span></span>

## <a name="step-1-create-an-active-directory-web-application"></a><span data-ttu-id="4d9f4-117">Paso 1: Crear una aplicación web de Active Directory</span><span class="sxs-lookup"><span data-stu-id="4d9f4-117">Step 1: Create an Active Directory web application</span></span>

<span data-ttu-id="4d9f4-118">Cree y configure una aplicación web de Azure AD para la autenticación entre servicios con Azure Data Lake Store mediante Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="4d9f4-118">Create and configure an Azure AD web application for service-to-service authentication with Azure Data Lake Store using Azure Active Directory.</span></span> <span data-ttu-id="4d9f4-119">Para obtener instrucciones, vea cómo [crear una aplicación de Azure AD](../azure-resource-manager/resource-group-create-service-principal-portal.md).</span><span class="sxs-lookup"><span data-stu-id="4d9f4-119">For instructions, see [Create an Azure AD application](../azure-resource-manager/resource-group-create-service-principal-portal.md).</span></span>

<span data-ttu-id="4d9f4-120">Al seguir las instrucciones de hello en hello por encima del vínculo, asegúrese de seleccionar **aplicación Web / API** para el tipo de aplicación, como se muestra en la siguiente captura de pantalla de Hola.</span><span class="sxs-lookup"><span data-stu-id="4d9f4-120">While following hello instructions at hello above link, make sure you select **Web App / API** for application type, as shown in hello screenshot below.</span></span>

<span data-ttu-id="4d9f4-121">![Crear aplicación web](./media/data-lake-store-authenticate-using-active-directory/azure-active-directory-create-web-app.png "Crear aplicación web")</span><span class="sxs-lookup"><span data-stu-id="4d9f4-121">![Create web app](./media/data-lake-store-authenticate-using-active-directory/azure-active-directory-create-web-app.png "Create web app")</span></span>

## <a name="step-2-get-application-id-authentication-key-and-tenant-id"></a><span data-ttu-id="4d9f4-122">Paso 2: obtención del identificador, la clave de autenticación y el identificador de inquilino de la aplicación</span><span class="sxs-lookup"><span data-stu-id="4d9f4-122">Step 2: Get application id, authentication key, and tenant id</span></span>
<span data-ttu-id="4d9f4-123">Al iniciar sesión mediante programación, se necesita Id. de hello para la aplicación.</span><span class="sxs-lookup"><span data-stu-id="4d9f4-123">When programmatically logging in, you need hello id for your application.</span></span> <span data-ttu-id="4d9f4-124">Si la aplicación hello se ejecuta con sus propias credenciales, también necesitará una clave de autenticación.</span><span class="sxs-lookup"><span data-stu-id="4d9f4-124">If hello application runs under its own credentials, you will also need an authentication key.</span></span>

* <span data-ttu-id="4d9f4-125">Para obtener instrucciones sobre cómo tooretrieve Hola identificador de la aplicación y la autenticación de clave (también el secreto de cliente llamado hello) para la aplicación, consulte [clave de autenticación y el Id. de aplicación de Get](../azure-resource-manager/resource-group-create-service-principal-portal.md#get-application-id-and-authentication-key).</span><span class="sxs-lookup"><span data-stu-id="4d9f4-125">For instructions on how tooretrieve hello application ID and authentication key (also called hello client secret) for your application, see [Get application ID and authentication key](../azure-resource-manager/resource-group-create-service-principal-portal.md#get-application-id-and-authentication-key).</span></span>

* <span data-ttu-id="4d9f4-126">Para obtener instrucciones sobre cómo tooretrieve Hola Id. de inquilino, consulte [obtener Id. de inquilino](../azure-resource-manager/resource-group-create-service-principal-portal.md#get-tenant-id).</span><span class="sxs-lookup"><span data-stu-id="4d9f4-126">For instructions on how tooretrieve hello tenant ID, see [Get tenant ID](../azure-resource-manager/resource-group-create-service-principal-portal.md#get-tenant-id).</span></span>

## <a name="step-3-assign-hello-azure-ad-application-toohello-azure-data-lake-store-account-file-or-folder-only-for-service-to-service-authentication"></a><span data-ttu-id="4d9f4-127">Paso 3: Asignar el archivo de cuenta de almacén de Azure Data Lake de toohello aplicación de Azure AD de Hola o una carpeta (sólo para la autenticación de servicio a servicio)</span><span class="sxs-lookup"><span data-stu-id="4d9f4-127">Step 3: Assign hello Azure AD application toohello Azure Data Lake Store account file or folder (only for service-to-service authentication)</span></span>
1. <span data-ttu-id="4d9f4-128">Inicio de sesión toohello nueva [portal de Azure](https://portal.azure.com) y abrir cuenta de almacén de Azure Data Lake de Hola que desea que tooassociate con hello aplicación de Azure Active Directory que creó anteriormente.</span><span class="sxs-lookup"><span data-stu-id="4d9f4-128">Sign on toohello new [Azure portal](https://portal.azure.com) and open hello Azure Data Lake Store account that you want tooassociate with hello Azure Active Directory application you created earlier.</span></span>
2. <span data-ttu-id="4d9f4-129">En la hoja de su cuenta de Almacén de Data Lake, haga clic en **Explorador de datos**.</span><span class="sxs-lookup"><span data-stu-id="4d9f4-129">In your Data Lake Store account blade, click **Data Explorer**.</span></span>
   
    <span data-ttu-id="4d9f4-130">![Creación de directorios en una cuenta de Data Lake Store](./media/data-lake-store-authenticate-using-active-directory/adl.start.data.explorer.png "Creación de directorios en una cuenta de Data Lake Store")</span><span class="sxs-lookup"><span data-stu-id="4d9f4-130">![Create directories in Data Lake Store account](./media/data-lake-store-authenticate-using-active-directory/adl.start.data.explorer.png "Create directories in Data Lake account")</span></span>
3. <span data-ttu-id="4d9f4-131">Hola **Explorador de datos** hoja, haga clic en el archivo de Hola o una carpeta para el que desea toohello Azure AD para tooprovide acceso a la aplicación y, a continuación, haga clic en **acceso**.</span><span class="sxs-lookup"><span data-stu-id="4d9f4-131">In hello **Data Explorer** blade, click hello file or folder for which you want tooprovide access toohello Azure AD application, and then click **Access**.</span></span> <span data-ttu-id="4d9f4-132">archivo de tooa de acceso de tooconfigure, debe hacer clic **acceso** de hello **vista previa del archivo** hoja.</span><span class="sxs-lookup"><span data-stu-id="4d9f4-132">tooconfigure access tooa file, you must click **Access** from hello **File Preview** blade.</span></span>
   
    <span data-ttu-id="4d9f4-133">![Configuración de ACL en el sistema de archivos de Data Lake](./media/data-lake-store-authenticate-using-active-directory/adl.acl.1.png "Configuración de ACL en el sistema de archivos de Data Lake")</span><span class="sxs-lookup"><span data-stu-id="4d9f4-133">![Set ACLs on Data Lake file system](./media/data-lake-store-authenticate-using-active-directory/adl.acl.1.png "Set ACLs on Data Lake file system")</span></span>
4. <span data-ttu-id="4d9f4-134">Hola **acceso** hoja enumera acceso estándar hello y acceso personalizado ya asignado toohello raíz.</span><span class="sxs-lookup"><span data-stu-id="4d9f4-134">hello **Access** blade lists hello standard access and custom access already assigned toohello root.</span></span> <span data-ttu-id="4d9f4-135">Haga clic en hello **agregar** icono tooadd personalizada basada en la ACL.</span><span class="sxs-lookup"><span data-stu-id="4d9f4-135">Click hello **Add** icon tooadd custom-level ACLs.</span></span>
   
    <span data-ttu-id="4d9f4-136">![Lista de accesos estándar y personalizados](./media/data-lake-store-authenticate-using-active-directory/adl.acl.2.png "Lista de accesos estándar y personalizados")</span><span class="sxs-lookup"><span data-stu-id="4d9f4-136">![List standard and custom access](./media/data-lake-store-authenticate-using-active-directory/adl.acl.2.png "List standard and custom access")</span></span>
5. <span data-ttu-id="4d9f4-137">Haga clic en hello **agregar** Hola de icono tooopen **agregar acceso de personalizado** hoja.</span><span class="sxs-lookup"><span data-stu-id="4d9f4-137">Click hello **Add** icon tooopen hello **Add Custom Access** blade.</span></span> <span data-ttu-id="4d9f4-138">En esta hoja, haga clic en **Seleccionar usuario o grupo**y, a continuación, en **Seleccionar usuario o grupo** hoja, busque la aplicación de Azure Active Directory de Hola que creó anteriormente.</span><span class="sxs-lookup"><span data-stu-id="4d9f4-138">In this blade, click **Select User or Group**, and then in **Select User or Group** blade, look for hello Azure Active Directory application you created earlier.</span></span> <span data-ttu-id="4d9f4-139">Si tiene muchos grupos toosearch desde, utilice el cuadro de texto de hello en hello toofilter superior en el nombre del grupo de Hola.</span><span class="sxs-lookup"><span data-stu-id="4d9f4-139">If you have a lot of groups toosearch from, use hello text box at hello top toofilter on hello group name.</span></span> <span data-ttu-id="4d9f4-140">Haga clic en grupo de Hola que desee tooadd y, a continuación, haga clic en **seleccione**.</span><span class="sxs-lookup"><span data-stu-id="4d9f4-140">Click hello group you want tooadd and then click **Select**.</span></span>
   
    <span data-ttu-id="4d9f4-141">![Incorporación de un grupo](./media/data-lake-store-authenticate-using-active-directory/adl.acl.3.png "Incorporación de un grupo")</span><span class="sxs-lookup"><span data-stu-id="4d9f4-141">![Add a group](./media/data-lake-store-authenticate-using-active-directory/adl.acl.3.png "Add a group")</span></span>
6. <span data-ttu-id="4d9f4-142">Haga clic en **permisos Select**, seleccionar los permisos de Hola y si desea que los permisos de hello tooassign como una ACL predeterminada, tener acceso a ACL, o ambos.</span><span class="sxs-lookup"><span data-stu-id="4d9f4-142">Click **Select Permissions**, select hello permissions and whether you want tooassign hello permissions as a default ACL, access ACL, or both.</span></span> <span data-ttu-id="4d9f4-143">Haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="4d9f4-143">Click **OK**.</span></span>
   
    <span data-ttu-id="4d9f4-144">![Asignar permisos toogroup](./media/data-lake-store-authenticate-using-active-directory/adl.acl.4.png "asignar permisos toogroup")</span><span class="sxs-lookup"><span data-stu-id="4d9f4-144">![Assign permissions toogroup](./media/data-lake-store-authenticate-using-active-directory/adl.acl.4.png "Assign permissions toogroup")</span></span>
   
    <span data-ttu-id="4d9f4-145">Para obtener más información sobre los permisos de Data Lake Store y ACL y las ACL predeterminadas y de acceso, consulte [Control de acceso en Data Lake Store](data-lake-store-access-control.md).</span><span class="sxs-lookup"><span data-stu-id="4d9f4-145">For more information about permissions in Data Lake Store, and Default/Access ACLs, see [Access Control in Data Lake Store](data-lake-store-access-control.md).</span></span>
7. <span data-ttu-id="4d9f4-146">Hola **agregar acceso de personalizado** hoja, haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="4d9f4-146">In hello **Add Custom Access** blade, click **OK**.</span></span> <span data-ttu-id="4d9f4-147">Hola recién agregado grupo con permisos de hello asociado, ahora se mostrarán en hello **acceso** hoja.</span><span class="sxs-lookup"><span data-stu-id="4d9f4-147">hello newly added group, with hello associated permissions, will now be listed in hello **Access** blade.</span></span>
   
    <span data-ttu-id="4d9f4-148">![Asignar permisos toogroup](./media/data-lake-store-authenticate-using-active-directory/adl.acl.5.png "asignar permisos toogroup")</span><span class="sxs-lookup"><span data-stu-id="4d9f4-148">![Assign permissions toogroup](./media/data-lake-store-authenticate-using-active-directory/adl.acl.5.png "Assign permissions toogroup")</span></span>

## <a name="step-4-get-hello-oauth-20-token-endpoint-only-for-java-based-applications"></a><span data-ttu-id="4d9f4-149">Paso 4: Obtener el extremo de token de OAuth 2.0 de hello (sólo para aplicaciones basadas en Java)</span><span class="sxs-lookup"><span data-stu-id="4d9f4-149">Step 4: Get hello OAuth 2.0 token endpoint (only for Java-based applications)</span></span>

1. <span data-ttu-id="4d9f4-150">Inicio de sesión toohello nueva [portal de Azure](https://portal.azure.com) y haga clic en Active Directory en el panel izquierdo de Hola.</span><span class="sxs-lookup"><span data-stu-id="4d9f4-150">Sign on toohello new [Azure portal](https://portal.azure.com) and click Active Directory from hello left pane.</span></span>

2. <span data-ttu-id="4d9f4-151">En el panel izquierdo de hello, haga clic en **registros de aplicación**.</span><span class="sxs-lookup"><span data-stu-id="4d9f4-151">From hello left pane, click **App registrations**.</span></span>

3. <span data-ttu-id="4d9f4-152">Desde la parte superior de la hoja de los registros de aplicación Hola Hola haga clic en **extremos**.</span><span class="sxs-lookup"><span data-stu-id="4d9f4-152">From hello top of hello App registrations blade, click **Endpoints**.</span></span>

    <span data-ttu-id="4d9f4-153">![Punto de conexión de token de OAuth](./media/data-lake-store-authenticate-using-active-directory/oauth-token-endpoint.png "Punto de conexión de token de OAuth")</span><span class="sxs-lookup"><span data-stu-id="4d9f4-153">![OAuth token endpoint](./media/data-lake-store-authenticate-using-active-directory/oauth-token-endpoint.png "OAuth token endpoint")</span></span>

4. <span data-ttu-id="4d9f4-154">En lista de Hola de puntos de conexión, copie el extremo de token de hello OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="4d9f4-154">From hello list of endpoints, copy hello OAuth 2.0 token endpoint.</span></span>

    <span data-ttu-id="4d9f4-155">![Punto de conexión de token de OAuth](./media/data-lake-store-authenticate-using-active-directory/oauth-token-endpoint-1.png "Punto de conexión de token de OAuth")</span><span class="sxs-lookup"><span data-stu-id="4d9f4-155">![OAuth token endpoint](./media/data-lake-store-authenticate-using-active-directory/oauth-token-endpoint-1.png "OAuth token endpoint")</span></span>   

## <a name="next-steps"></a><span data-ttu-id="4d9f4-156">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="4d9f4-156">Next steps</span></span>
<span data-ttu-id="4d9f4-157">En este artículo se crea una aplicación web de Azure AD y recopila información de Hola que necesita en las aplicaciones cliente que creas mediante .NET SDK, SDK de Java, etcetera. Ahora puede continuar toohello siguientes artículos que hable acerca de cómo se autentican con almacén de Data Lake toofirst de aplicación web de toouse hello Azure AD y, a continuación, realizan otras operaciones en el almacén de Hola.</span><span class="sxs-lookup"><span data-stu-id="4d9f4-157">In this article you created an Azure AD web application and gathered hello information you need in your client applications that you author using .NET SDK, Java SDK, etc. You can now proceed toohello following articles that talk about how toouse hello Azure AD web application toofirst authenticate with Data Lake Store and then perform other operations on hello store.</span></span>

* [<span data-ttu-id="4d9f4-158">Introducción al Almacén de Azure Data Lake mediante SDK de .NET</span><span class="sxs-lookup"><span data-stu-id="4d9f4-158">Get started with Azure Data Lake Store using .NET SDK</span></span>](data-lake-store-get-started-net-sdk.md)
* [<span data-ttu-id="4d9f4-159">Introducción a Azure Data Lake Store con el SDK de Java</span><span class="sxs-lookup"><span data-stu-id="4d9f4-159">Get started with Azure Data Lake Store using Java SDK</span></span>](data-lake-store-get-started-java-sdk.md)

<span data-ttu-id="4d9f4-160">En este artículo había visto se Hola pasos básicos necesarios tooget un usuario principal de seguridad y en ejecución para la aplicación.</span><span class="sxs-lookup"><span data-stu-id="4d9f4-160">This article walked you through hello basic steps needed tooget a user principal up and running for your application.</span></span> <span data-ttu-id="4d9f4-161">Puede mirar Hola siguiendo artículos tooget para obtener más información:</span><span class="sxs-lookup"><span data-stu-id="4d9f4-161">You can look at hello following articles tooget further information:</span></span>
* [<span data-ttu-id="4d9f4-162">Usar a entidad de servicio de toocreate de PowerShell</span><span class="sxs-lookup"><span data-stu-id="4d9f4-162">Use PowerShell toocreate service principal</span></span>](https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-authenticate-service-principal)
* [<span data-ttu-id="4d9f4-163">Uso de certificados para la autenticación de la entidad de servicio</span><span class="sxs-lookup"><span data-stu-id="4d9f4-163">Use certificate authentication for service principal authentication</span></span>](https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-authenticate-service-principal#create-service-principal-with-certificate)
* [<span data-ttu-id="4d9f4-164">Otro tooAzure de tooauthenticate métodos AD</span><span class="sxs-lookup"><span data-stu-id="4d9f4-164">Other methods tooauthenticate tooAzure AD</span></span>](https://docs.microsoft.com/en-us/azure/active-directory/active-directory-authentication-scenarios)


