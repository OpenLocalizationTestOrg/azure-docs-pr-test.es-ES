---
title: "aaaConnect tooAzure almacén de Data Lake de redes virtuales | Documentos de Microsoft"
description: "Conectar el almacén de Data Lake de tooAzure de redes virtuales de Azure"
services: data-lake-store,data-catalog
documentationcenter: 
author: nitinme
manager: jhubbard
editor: cgronlun
ms.assetid: 683fcfdc-cf93-46c3-b2d2-5cb79f5e9ea5
ms.service: data-lake-store
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 05/10/2017
ms.author: nitinme
ms.openlocfilehash: c695dcf49fe4e1a87a90729cf085a938f3b51fe3
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="access-azure-data-lake-store-from-vms-within-an-azure-vnet"></a><span data-ttu-id="56411-103">Acceso a Azure Data Lake Store desde máquinas virtuales de una red virtual de Azure</span><span class="sxs-lookup"><span data-stu-id="56411-103">Access Azure Data Lake Store from VMs within an Azure VNET</span></span>
<span data-ttu-id="56411-104">Azure Data Lake Store es un servicio de PaaS que se ejecuta en direcciones IP de Internet pública.</span><span class="sxs-lookup"><span data-stu-id="56411-104">Azure Data Lake Store is a PaaS service that runs on public Internet IP addresses.</span></span> <span data-ttu-id="56411-105">Cualquier servidor que se puede conectar toohello can de Internet pública suelen conectarse así los extremos de almacén de Data Lake tooAzure.</span><span class="sxs-lookup"><span data-stu-id="56411-105">Any server that can connect toohello public Internet can typically connect tooAzure Data Lake Store endpoints as well.</span></span> <span data-ttu-id="56411-106">De forma predeterminada, todas las máquinas virtuales que se encuentran en redes virtuales de Azure pueden tener acceso a Internet de hello y, por lo que pueden tener acceso a almacén de Azure Data Lake.</span><span class="sxs-lookup"><span data-stu-id="56411-106">By default, all VMs that are in Azure VNETs can access hello Internet and hence can access Azure Data Lake Store.</span></span> <span data-ttu-id="56411-107">Sin embargo, es posible tooconfigure las máquinas virtuales en una red virtual toonot tiene toohello de acceso a Internet.</span><span class="sxs-lookup"><span data-stu-id="56411-107">However, it is possible tooconfigure VMs in a VNET toonot have access toohello Internet.</span></span> <span data-ttu-id="56411-108">Para estas máquinas virtuales, almacén de Data Lake de tooAzure de acceso está restringido así.</span><span class="sxs-lookup"><span data-stu-id="56411-108">For such VMs, access tooAzure Data Lake Store is restricted as well.</span></span> <span data-ttu-id="56411-109">Bloquear acceso público a Internet para las máquinas virtuales en redes virtuales de Azure puede realizarse mediante cualquiera de hello enfoque.</span><span class="sxs-lookup"><span data-stu-id="56411-109">Blocking public Internet access for VMs in Azure VNETs can be done using any of hello following approach.</span></span>

* <span data-ttu-id="56411-110">Configurando grupos de seguridad de red (NSG)</span><span class="sxs-lookup"><span data-stu-id="56411-110">By configuring Network Security Groups (NSG)</span></span>
* <span data-ttu-id="56411-111">Configurando rutas definidas por el usuario (UDR)</span><span class="sxs-lookup"><span data-stu-id="56411-111">By configuring User Defined Routes (UDR)</span></span>
* <span data-ttu-id="56411-112">Intercambiando las rutas a través de BGP (sector estándar Protocolo de enrutamiento dinámico) cuando ExpressRoute se usa ese bloque tener acceso a Internet toohello</span><span class="sxs-lookup"><span data-stu-id="56411-112">By exchanging routes via BGP (industry standard dynamic routing protocol) when ExpressRoute is used that block access toohello Internet</span></span>

<span data-ttu-id="56411-113">En este artículo, aprenderá cómo tooenable tener acceso a almacén de toohello Azure Data Lake desde máquinas virtuales de Azure que hayan sido restringido tooaccess recursos usando uno de estos tres métodos Hola mencionados anteriormente.</span><span class="sxs-lookup"><span data-stu-id="56411-113">In this article, you will learn how tooenable access toohello Azure Data Lake Store from Azure VMs which have been restricted tooaccess resources using one of hello three methods listed above.</span></span>

## <a name="enabling-connectivity-tooazure-data-lake-store-from-vms-with-restricted-connectivity"></a><span data-ttu-id="56411-114">Habilitar la conectividad tooAzure almacén de Data Lake desde máquinas virtuales con conectividad restringido</span><span class="sxs-lookup"><span data-stu-id="56411-114">Enabling connectivity tooAzure Data Lake Store from VMs with restricted connectivity</span></span>
<span data-ttu-id="56411-115">Almacén de Azure Data Lake de tooaccess desde máquinas virtuales de este tipo, debe configurarlos dirección IP de hello tooaccess donde hello cuenta de almacén de Azure Data Lake está disponible.</span><span class="sxs-lookup"><span data-stu-id="56411-115">tooaccess Azure Data Lake Store from such VMs, you must configure them tooaccess hello IP address where hello Azure Data Lake Store account is available.</span></span> <span data-ttu-id="56411-116">Puede identificar las direcciones IP de Hola para las cuentas de almacén de Data Lake mediante la resolución de nombres DNS de Hola de sus cuentas (`<account>.azuredatalakestore.net`).</span><span class="sxs-lookup"><span data-stu-id="56411-116">You can identify hello IP addresses for your Data Lake Store accounts by resolving hello DNS names of your accounts (`<account>.azuredatalakestore.net`).</span></span> <span data-ttu-id="56411-117">Para ello, puede usar herramientas como **nslookup**.</span><span class="sxs-lookup"><span data-stu-id="56411-117">For this you can use tools such as **nslookup**.</span></span> <span data-ttu-id="56411-118">Abra un símbolo del sistema en el equipo y ejecute el siguiente comando de Hola.</span><span class="sxs-lookup"><span data-stu-id="56411-118">Open a command prompt on your computer and run hello following command.</span></span>

    nslookup mydatastore.azuredatalakestore.net

<span data-ttu-id="56411-119">salida de Hello es similar a la siguiente Hola.</span><span class="sxs-lookup"><span data-stu-id="56411-119">hello output resembles hello following.</span></span> <span data-ttu-id="56411-120">Hola valor contra **dirección** propiedad es la dirección IP de hello asociada a su cuenta de almacén de Data Lake.</span><span class="sxs-lookup"><span data-stu-id="56411-120">hello value against **Address** property is hello IP address associated with your Data Lake Store account.</span></span>

    Non-authoritative answer:
    Name:    1434ceb1-3a4b-4bc0-9c69-a0823fd69bba-mydatastore.projectcabostore.net
    Address:  104.44.88.112
    Aliases:  mydatastore.azuredatalakestore.net


### <a name="enabling-connectivity-from-vms-restricted-by-using-nsg"></a><span data-ttu-id="56411-121">Habilitación de la conectividad en las máquinas virtuales restringidas mediante NSG</span><span class="sxs-lookup"><span data-stu-id="56411-121">Enabling connectivity from VMs restricted by using NSG</span></span>
<span data-ttu-id="56411-122">Cuando se utiliza una regla NSG tooblock tener acceso a Internet, toohello, a continuación, puede crear otro NSG que permite acceso toohello dirección de IP del almacén de datos Lake.</span><span class="sxs-lookup"><span data-stu-id="56411-122">When a NSG rule is used tooblock access toohello Internet, then you can create another NSG that allows access toohello Data Lake Store IP Address.</span></span> <span data-ttu-id="56411-123">Obtenga más información sobre las reglas de NSG en la página donde se explica qué es [un grupo de seguridad de red](../virtual-network/virtual-networks-nsg.md).</span><span class="sxs-lookup"><span data-stu-id="56411-123">More information on NSG rules is available at [What is a Network Security Group?](../virtual-network/virtual-networks-nsg.md).</span></span> <span data-ttu-id="56411-124">Para obtener instrucciones sobre cómo ven los NSG toocreate [cómo NSG toomanage mediante Hola portal de Azure](../virtual-network/virtual-networks-create-nsg-arm-pportal.md).</span><span class="sxs-lookup"><span data-stu-id="56411-124">For instructions on how toocreate NSGs see [How toomanage NSGs using hello Azure portal](../virtual-network/virtual-networks-create-nsg-arm-pportal.md).</span></span>

### <a name="enabling-connectivity-from-vms-restricted-by-using-udr-or-expressroute"></a><span data-ttu-id="56411-125">Habilitación de la conectividad en las máquinas virtuales restringidas mediante UDR o ExpressRoute</span><span class="sxs-lookup"><span data-stu-id="56411-125">Enabling connectivity from VMs restricted by using UDR or ExpressRoute</span></span>
<span data-ttu-id="56411-126">Una vez rutas, UDRs o intercambian BGP rutas, tooblock usado toohello de acceso a Internet, una ruta especial debe toobe configurado para que las máquinas virtuales en estas subredes pueden tener acceso a los puntos de conexión de almacén de Data Lake.</span><span class="sxs-lookup"><span data-stu-id="56411-126">When routes, either UDRs or BGP-exchanged routes, are used tooblock access toohello Internet, a special route needs toobe configured so that VMs in such subnets can access Data Lake Store endpoints.</span></span> <span data-ttu-id="56411-127">Para obtener más información, consulte el artículo donde se explica [qué son las rutas definidas por el usuario](../virtual-network/virtual-networks-udr-overview.md).</span><span class="sxs-lookup"><span data-stu-id="56411-127">For more information, see [What are User Defined Routes?](../virtual-network/virtual-networks-udr-overview.md).</span></span> <span data-ttu-id="56411-128">Para obtener instrucciones sobre cómo crear UDR, consulte el artículo sobre cómo [crear UDR en Resource Manager](../virtual-network/virtual-network-create-udr-arm-ps.md).</span><span class="sxs-lookup"><span data-stu-id="56411-128">For instructions on creating UDRs, see [Create UDRs in Resource Manager](../virtual-network/virtual-network-create-udr-arm-ps.md).</span></span>

### <a name="enabling-connectivity-from-vms-restricted-by-using-expressroute"></a><span data-ttu-id="56411-129">Habilitación de la conectividad en las máquinas virtuales restringidas mediante ExpressRoute</span><span class="sxs-lookup"><span data-stu-id="56411-129">Enabling connectivity from VMs restricted by using ExpressRoute</span></span>
<span data-ttu-id="56411-130">Cuando se configura un circuito ExpressRoute, servidores locales de hello pueden tener acceso a almacén de Data Lake a través de emparejamiento público.</span><span class="sxs-lookup"><span data-stu-id="56411-130">When an ExpressRoute circuit is configured, hello on-premises servers can access Data Lake Store through public peering.</span></span> <span data-ttu-id="56411-131">Para obtener más información sobre cómo configurar ExpressRoute para pares públicos, consulte las [preguntas más frecuentes de ExpressRoute](../expressroute/expressroute-faqs.md).</span><span class="sxs-lookup"><span data-stu-id="56411-131">More details on configuring ExpressRoute for public peering is available at [ExpressRoute FAQs](../expressroute/expressroute-faqs.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="56411-132">Otras referencias</span><span class="sxs-lookup"><span data-stu-id="56411-132">See also</span></span>
* [<span data-ttu-id="56411-133">Información general del Almacén de Azure Data Lake</span><span class="sxs-lookup"><span data-stu-id="56411-133">Overview of Azure Data Lake Store</span></span>](data-lake-store-overview.md)
* [<span data-ttu-id="56411-134">Protección de los datos almacenados en Azure Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="56411-134">Securing data stored in Azure Data Lake Store</span></span>](data-lake-store-security-overview.md)

