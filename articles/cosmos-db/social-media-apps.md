---
title: "Patrón de diseño de Azure Cosmos DB: aplicaciones de redes sociales | Microsoft Docs"
description: "Obtenga información sobre un patrón de diseño para redes sociales con la flexibilidad de almacenamiento de Azure Cosmos DB y otros servicios de Azure."
keywords: aplicaciones de redes sociales
services: cosmos-db
author: ealsur
manager: jhubbard
editor: 
documentationcenter: 
ms.assetid: 2dbf83a7-512a-4993-bf1b-ea7d72e095d9
ms.service: cosmos-db
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/29/2017
ms.author: mimig
ms.openlocfilehash: 43025adeaf954fedfbcee32e636fb30935f2126b
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/29/2017
---
# <a name="going-social-with-azure-cosmos-db"></a><span data-ttu-id="c4c18-104">Redes sociales y Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="c4c18-104">Going social with Azure Cosmos DB</span></span>
<span data-ttu-id="c4c18-105">Vivir en una sociedad enormemente interconectada significa que, en algún momento de la vida, uno formará parte de una **red social**.</span><span class="sxs-lookup"><span data-stu-id="c4c18-105">Living in a massively-interconnected society means that, at some point in life, you become part of a **social network**.</span></span> <span data-ttu-id="c4c18-106">Las redes sociales se usan para mantenerse en contacto con amigos, compañeros de trabajo y familiares y, a veces, para compartir intereses comunes con otras personas.</span><span class="sxs-lookup"><span data-stu-id="c4c18-106">We use social networks to keep in touch with friends, colleagues, family, or sometimes to share our passion with people with common interests.</span></span>

<span data-ttu-id="c4c18-107">Como ingenieros o desarrolladores, es probable que nos hayamos preguntado cómo almacenan e interconectan nuestros datos estas redes sociales, o incluso puede que nos hayan encargado crear o diseñar la arquitectura de una nueva red social para un segmento de mercado específico.</span><span class="sxs-lookup"><span data-stu-id="c4c18-107">As engineers or developers, we might have wondered how do these networks store and interconnect our data, or might have even been tasked to create or architect a new social network for a specific niche market yourselves.</span></span> <span data-ttu-id="c4c18-108">Y ahí surge la gran duda: ¿cómo se almacenan todos estos datos?</span><span class="sxs-lookup"><span data-stu-id="c4c18-108">That’s when the big question arises: How is all this data stored?</span></span>

<span data-ttu-id="c4c18-109">Supongamos que queremos crear una red social nueva en la que los usuarios puedan publicar artículos y materiales como imágenes, vídeos o incluso música.</span><span class="sxs-lookup"><span data-stu-id="c4c18-109">Let’s suppose that we are creating a new and shiny social network, where our users can post articles with related media like, pictures, videos, or even music.</span></span> <span data-ttu-id="c4c18-110">En esta red social, los usuarios podrán comentar y valorar las publicaciones con fines de clasificación.</span><span class="sxs-lookup"><span data-stu-id="c4c18-110">Users can comment on posts and give points for ratings.</span></span> <span data-ttu-id="c4c18-111">Además, en la página de aterrizaje del sitio web, los usuarios podrán ver e interactuar con una fuente de publicaciones.</span><span class="sxs-lookup"><span data-stu-id="c4c18-111">There will be a feed of posts that users will see and be able to interact with on the main website landing page.</span></span> <span data-ttu-id="c4c18-112">En un principio, esto no parece muy complejo, pero, para mayor simplicidad, lo dejaremos así (podríamos diseñar fuentes de usuario personalizadas en las que se tuvieran en cuenta las relaciones, pero supera el objetivo de este artículo).</span><span class="sxs-lookup"><span data-stu-id="c4c18-112">This doesn’t sound really complex (at first), but for the sake of simplicity, let’s stop there (we could delve into custom user feeds affected by relationships, but it exceeds the goal of this article).</span></span>

<span data-ttu-id="c4c18-113">Entonces, ¿cómo y dónde almacenamos estos datos?</span><span class="sxs-lookup"><span data-stu-id="c4c18-113">So, how do we store this and where?</span></span>

<span data-ttu-id="c4c18-114">En caso de tener experiencia en bases de datos SQL o al menos tener nociones de [modelado de datos relacional](https://en.wikipedia.org/wiki/Relational_model) , podría verse tentado a empezar a dibujar algo parecido a esto:</span><span class="sxs-lookup"><span data-stu-id="c4c18-114">Many of you might have experience on SQL databases or at least have notion of [relational modeling of data](https://en.wikipedia.org/wiki/Relational_model) and you might be tempted to start drawing something like this:</span></span>

![Diagrama que ilustra un modelo relacional relativo](./media/social-media-apps/social-media-apps-sql.png) 

<span data-ttu-id="c4c18-116">Sin embargo, a pesar de ser una estructura de datos perfectamente normalizada,</span><span class="sxs-lookup"><span data-stu-id="c4c18-116">A perfectly normalized and pretty data structure…</span></span> <span data-ttu-id="c4c18-117">no sería posible escalarla.</span><span class="sxs-lookup"><span data-stu-id="c4c18-117">that doesn't scale.</span></span> 

<span data-ttu-id="c4c18-118">No me malinterpreten, he trabajado con bases de datos SQL toda mi vida y me parecen excelentes, pero, al igual que todos los modelos, prácticas y plataformas de software, no son perfectas para todos los escenarios.</span><span class="sxs-lookup"><span data-stu-id="c4c18-118">Don’t get me wrong, I’ve worked with SQL databases all my life, they are great, but like every pattern, practice and software platform, it’s not perfect for every scenario.</span></span>

<span data-ttu-id="c4c18-119">¿Por qué SQL no es la mejor opción en este escenario?</span><span class="sxs-lookup"><span data-stu-id="c4c18-119">Why isn't SQL the best choice in this scenario?</span></span> <span data-ttu-id="c4c18-120">Echemos un vistazo a la estructura de una entrada única, si quisiéramos esa publicación en un sitio web o una aplicación, tendríamos que realizar una consulta con</span><span class="sxs-lookup"><span data-stu-id="c4c18-120">Let’s look at the structure of a single post, if I wanted to show that post in a website or application, I’d have to do a query with…</span></span> <span data-ttu-id="c4c18-121">8 combinaciones de tablas para mostrar una sola publicación. Ahora, cree una secuencia de entradas que se cargue dinámicamente y aparezcan en la pantalla.</span><span class="sxs-lookup"><span data-stu-id="c4c18-121">8 table joins (!) just to show one single post, now, picture a stream of posts that dynamically load and appear on the screen and you might see where I am going.</span></span>

<span data-ttu-id="c4c18-122">Por supuesto, podríamos usar una instancia de SQL enorme con capacidad suficiente para resolver miles de consultas con las combinaciones necesarias para servir el contenido, pero ¿por qué habríamos de hacerlo cuando existe una solución más sencilla?</span><span class="sxs-lookup"><span data-stu-id="c4c18-122">We could, of course, use a humongous SQL instance with enough power to solve thousands of queries with these many joins to serve our content, but truly, why would we when a simpler solution exists?</span></span>

## <a name="the-nosql-road"></a><span data-ttu-id="c4c18-123">La vía NoSQL</span><span class="sxs-lookup"><span data-stu-id="c4c18-123">The NoSQL road</span></span>
<span data-ttu-id="c4c18-124">Este artículo lo ayudará a modelar los datos de su plataforma social con una base de datos NoSQL de Azure, [Azure Cosmos DB](https://azure.microsoft.com/services/cosmos-db/), de una manera rentable y aprovechando otras funciones de Azure Cosmos DB, como la [API Graph de Gremlin](../cosmos-db/graph-introduction.md).</span><span class="sxs-lookup"><span data-stu-id="c4c18-124">This article will guide you into modeling your social platform's data with Azure's NoSQL database [Azure Cosmos DB](https://azure.microsoft.com/services/cosmos-db/) in a cost-effective way while leveraging other Azure Cosmos DB features like the  [Gremlin Graph API](../cosmos-db/graph-introduction.md).</span></span> <span data-ttu-id="c4c18-125">Con un enfoque [NoSQL](https://en.wikipedia.org/wiki/NoSQL), almacenamiento de datos en formato JSON y la aplicación de [desnormalización](https://en.wikipedia.org/wiki/Denormalization), nuestra publicación, que antes era complicada, ahora puede transformarse en un único [documento](https://en.wikipedia.org/wiki/Document-oriented_database):</span><span class="sxs-lookup"><span data-stu-id="c4c18-125">Using a [NoSQL](https://en.wikipedia.org/wiki/NoSQL) approach, storing data in JSON format and applying [denormalization](https://en.wikipedia.org/wiki/Denormalization), our previously complicated post can be transformed into a single [Document](https://en.wikipedia.org/wiki/Document-oriented_database):</span></span>


    {
        "id":"ew12-res2-234e-544f",
        "title":"post title",
        "date":"2016-01-01",
        "body":"this is an awesome post stored on NoSQL",
        "createdBy":User,
        "images":["http://myfirstimage.png","http://mysecondimage.png"],
        "videos":[
            {"url":"http://myfirstvideo.mp4", "title":"The first video"},
            {"url":"http://mysecondvideo.mp4", "title":"The second video"}
        ],
        "audios":[
            {"url":"http://myfirstaudio.mp3", "title":"The first audio"},
            {"url":"http://mysecondaudio.mp3", "title":"The second audio"}
        ]
    }

<span data-ttu-id="c4c18-126">Además, puede obtenerse con una sola consulta y sin combinaciones.</span><span class="sxs-lookup"><span data-stu-id="c4c18-126">And it can be obtained with a single query, and with no joins.</span></span> <span data-ttu-id="c4c18-127">Esto es mucho más sencillo, directo, económico y requiere menos recursos para conseguir un mejor resultado.</span><span class="sxs-lookup"><span data-stu-id="c4c18-127">This is much more simple and straightforward, and, budget-wise, it requires fewer resources to achieve a better result.</span></span>

<span data-ttu-id="c4c18-128">Azure Cosmos DB se asegura de que todas las propiedades se indexen con su indexación automática, que incluso se puede [personalizar](indexing-policies.md).</span><span class="sxs-lookup"><span data-stu-id="c4c18-128">Azure Cosmos DB makes sure that all the properties are indexed with its automatic indexing, which can even be [customized](indexing-policies.md).</span></span> <span data-ttu-id="c4c18-129">El enfoque sin esquema nos permite almacenar documentos con estructuras dinámicas y diferentes. Así, por ejemplo, si en el futuro queremos que las publicaciones tengan una lista de categorías o hashtags asociados, Cosmos DB gestionará los nuevos documentos con los atributos agregados y sin ningún esfuerzo adicional requerido por nuestra parte.</span><span class="sxs-lookup"><span data-stu-id="c4c18-129">The schema-free approach lets us store Documents with different and dynamic structures, maybe tomorrow we want posts to have a list of categories or hashtags associated with them, Cosmos DB will handle the new Documents with the added attributes with no extra work required by us.</span></span>

<span data-ttu-id="c4c18-130">Los comentarios en una publicación pueden tratarse del mismo modo que otras publicaciones con una propiedad primaria (esto simplifica la asignación de objetos).</span><span class="sxs-lookup"><span data-stu-id="c4c18-130">Comments on a post can be treated as just other posts with a parent property (this simplifies our object mapping).</span></span> 

    {
        "id":"1234-asd3-54ts-199a",
        "title":"Awesome post!",
        "date":"2016-01-02",
        "createdBy":User2,
        "parent":"ew12-res2-234e-544f"
    }

    {
        "id":"asd2-fee4-23gc-jh67",
        "title":"Ditto!",
        "date":"2016-01-03",
        "createdBy":User3,
        "parent":"ew12-res2-234e-544f"
    }

<span data-ttu-id="c4c18-131">Por otro lado, todas las interacciones sociales pueden almacenarse en un objeto independiente como contadores:</span><span class="sxs-lookup"><span data-stu-id="c4c18-131">And all social interactions can be stored on a separate object as counters:</span></span>

    {
        "id":"dfe3-thf5-232s-dse4",
        "post":"ew12-res2-234e-544f",
        "comments":2,
        "likes":10,
        "points":200
    }

<span data-ttu-id="c4c18-132">Para la creación de fuentes solo es necesario crear documentos que puedan contener una lista de identificadores de publicación con un orden de importancia determinado:</span><span class="sxs-lookup"><span data-stu-id="c4c18-132">Creating feeds is just a matter of creating documents that can hold a list of post ids with a given relevance order:</span></span>

    [
        {"relevance":9, "post":"ew12-res2-234e-544f"},
        {"relevance":8, "post":"fer7-mnb6-fgh9-2344"},
        {"relevance":7, "post":"w34r-qeg6-ref6-8565"}
    ]

<span data-ttu-id="c4c18-133">Podríamos tener un flujo "más reciente" con publicaciones ordenadas por fecha de creación o un flujo "favoritos" con las publicaciones que más han gustado en las últimas 24 horas. Incluso se puede implementar un flujo personalizado para cada usuario basado en lógica como seguidores e intereses, y seguiría siendo una lista de publicaciones.</span><span class="sxs-lookup"><span data-stu-id="c4c18-133">We could have a “latest” stream with posts ordered by creation date, a “hottest” stream with those posts with more likes in the last 24 hours, we could even implement a custom stream for each user based on logic like followers and interests, and it would still be a list of posts.</span></span> <span data-ttu-id="c4c18-134">La cuestión es cómo crear estas listas, pero el rendimiento de lectura no se verá afectado.</span><span class="sxs-lookup"><span data-stu-id="c4c18-134">It’s a matter of how to build these lists, but the reading performance remains unhindered.</span></span> <span data-ttu-id="c4c18-135">Una vez que se adquiere una de estas listas, se emite una consulta única a Cosmos DB con el [operador IN](documentdb-sql-query.md#WhereClause) para obtener páginas de publicaciones a la vez.</span><span class="sxs-lookup"><span data-stu-id="c4c18-135">Once we acquire one of these lists, we issue a single query to Cosmos DB using the [IN operator](documentdb-sql-query.md#WhereClause) to obtain pages of posts at a time.</span></span>

<span data-ttu-id="c4c18-136">Los flujos de fuente se pueden generar mediante procesos en segundo plano de [Azure App Service](https://azure.microsoft.com/services/app-service/): [Webjobs](../app-service-web/web-sites-create-web-jobs.md).</span><span class="sxs-lookup"><span data-stu-id="c4c18-136">The feed streams could be built using [Azure App Services’](https://azure.microsoft.com/services/app-service/) background processes: [Webjobs](../app-service-web/web-sites-create-web-jobs.md).</span></span> <span data-ttu-id="c4c18-137">Una vez que se crea una publicación, el procesamiento en segundo plano puede activarse mediante el uso de [Azure Storage](https://azure.microsoft.com/services/storage/) [Queues](../storage/queues/storage-dotnet-how-to-use-queues.md) y Webjobs desencadenados mediante el [SDK Azure Webjobs](../app-service-web/websites-dotnet-webjobs-sdk.md), implementando la propagación de publicaciones dentro de los flujos en función de nuestra lógica personalizada.</span><span class="sxs-lookup"><span data-stu-id="c4c18-137">Once a post is created, background processing can be triggered by using [Azure Storage](https://azure.microsoft.com/services/storage/) [Queues](../storage/queues/storage-dotnet-how-to-use-queues.md) and Webjobs triggered using the [Azure Webjobs SDK](../app-service-web/websites-dotnet-webjobs-sdk.md), implementing the post propagation inside streams based on our own custom logic.</span></span> 

<span data-ttu-id="c4c18-138">La puntuación y los "me gusta" de una publicación se pueden procesar de manera aplazada usando esta misma técnica para crear un entorno coherente.</span><span class="sxs-lookup"><span data-stu-id="c4c18-138">Points and likes over a post can be processed in a deferred manner using this same technique to create an eventually consistent environment.</span></span>

<span data-ttu-id="c4c18-139">Con los seguidores es más complicado.</span><span class="sxs-lookup"><span data-stu-id="c4c18-139">Followers are trickier.</span></span> <span data-ttu-id="c4c18-140">Cosmos DB tiene un límite de tamaño máximo del documento y los documentos de gran tamaño de lectura/escritura pueden afectar a la escalabilidad de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="c4c18-140">Cosmos DB has a maximum document size limit, and reading/writing large documents can impact the scalability of your application.</span></span> <span data-ttu-id="c4c18-141">Por esta razón, debería plantearse almacenar los seguidores como un documento con esta estructura:</span><span class="sxs-lookup"><span data-stu-id="c4c18-141">So you may think about storing followers as a document with this structure:</span></span>

    {
        "id":"234d-sd23-rrf2-552d",
        "followersOf": "dse4-qwe2-ert4-aad2",
        "followers":[
            "ewr5-232d-tyrg-iuo2",
            "qejh-2345-sdf1-ytg5",
            //...
            "uie0-4tyg-3456-rwjh"
        ]
    }

<span data-ttu-id="c4c18-142">Este enfoque podría funcionar con un usuario que tenga unos miles de seguidores, pero si se trata de una persona famosa este enfoque produciría un tamaño de documento grande y terminaría superándose el límite de tamaño de documentos.</span><span class="sxs-lookup"><span data-stu-id="c4c18-142">This might work for a user with a few thousands followers, but if some celebrity joins our ranks, this approach will lead to a large document size, and might eventually hit the document size cap.</span></span>

<span data-ttu-id="c4c18-143">Para solucionar esto, podemos adoptar un enfoque mixto.</span><span class="sxs-lookup"><span data-stu-id="c4c18-143">To solve this, we can use a mixed approach.</span></span> <span data-ttu-id="c4c18-144">Como parte del documento Estadísticas de usuario, podemos almacenar el número de seguidores:</span><span class="sxs-lookup"><span data-stu-id="c4c18-144">As part of the User Statistics document we can store the number of followers:</span></span>

    {
        "id":"234d-sd23-rrf2-552d",
        "user": "dse4-qwe2-ert4-aad2",
        "followers":55230,
        "totalPosts":452,
        "totalPoints":11342
    }

<span data-ttu-id="c4c18-145">Y el gráfico real de los seguidores puede almacenarse con [API Graph de Gremlin](../cosmos-db/graph-introduction.md) de Azure Cosmos DB, para crear [vértices](http://mathworld.wolfram.com/GraphVertex.html) para cada usuario y [bordes](http://mathworld.wolfram.com/GraphEdge.html) que mantienen relaciones del tipo "A sigue a B".</span><span class="sxs-lookup"><span data-stu-id="c4c18-145">And the actual graph of followers can be stored using Azure Cosmos DB [Gremlin Graph API](../cosmos-db/graph-introduction.md), to create [vertexes](http://mathworld.wolfram.com/GraphVertex.html) for each user and [edges](http://mathworld.wolfram.com/GraphEdge.html) that maintain the "A-follows-B" relationships.</span></span> <span data-ttu-id="c4c18-146">La API Graph le permite no solo obtener los seguidores de un determinado usuario, sino también crear consultas más complejas que incluso permiten sugerir personas en común.</span><span class="sxs-lookup"><span data-stu-id="c4c18-146">The Graph API let's you not only obtain the followers of a certain user but create more complex queries to even suggest people in common.</span></span> <span data-ttu-id="c4c18-147">Si se agregan al gráfico de las categorías de contenido que gustan o encantan a los individuos, podemos comenzar a componer escenarios que incluyen detección inteligente de contenido, sugerencias de contenido que gustan a las personas a las que seguimos o encontrar personas con quienes puede que tengamos mucho en común.</span><span class="sxs-lookup"><span data-stu-id="c4c18-147">If we add to the graph the Content Categories that people like or enjoy, we can start weaving experiences that include smart content discovery, suggesting content that those we follow like, or finding people with whom we might have much in common.</span></span>

<span data-ttu-id="c4c18-148">El documento de Estadísticas de usuario se sigue pudiendo usar para crear tarjetas en la interfaz de usuario o vistas previas rápidas de los perfiles.</span><span class="sxs-lookup"><span data-stu-id="c4c18-148">The User Statistics document can still be used to create cards in the UI or quick profile previews.</span></span>

## <a name="the-ladder-pattern-and-data-duplication"></a><span data-ttu-id="c4c18-149">El modelo "Escalera" y la duplicación de datos</span><span class="sxs-lookup"><span data-stu-id="c4c18-149">The “Ladder” pattern and data duplication</span></span>
<span data-ttu-id="c4c18-150">Como habrá observado en el documento JSON que hace referencia a una publicación, hay varias apariciones de un usuario.</span><span class="sxs-lookup"><span data-stu-id="c4c18-150">As you might have noticed in the JSON document that references a post, there are multiple occurrences of a user.</span></span> <span data-ttu-id="c4c18-151">Y, como ya habrá imaginado, esto significa que la información que representa a un usuario, dada esta desnormalización, puede existir en más de un lugar.</span><span class="sxs-lookup"><span data-stu-id="c4c18-151">And you’d have guessed right, this means that the information that represents a user, given this denormalization, might be present in more than one place.</span></span>

<span data-ttu-id="c4c18-152">Para permitir consultas más rápidas, incurrimos en duplicación de datos.</span><span class="sxs-lookup"><span data-stu-id="c4c18-152">In order to allow for faster queries, we incur data duplication.</span></span> <span data-ttu-id="c4c18-153">El problema con este efecto secundario es que si, por alguna acción, cambian los datos de un usuario, necesitaremos buscar todas las actividades que ha hecho y actualizarlas.</span><span class="sxs-lookup"><span data-stu-id="c4c18-153">The problem with this side-effect is that if by some action, a user’s data changes, we need to find all the activities he ever did and update them all.</span></span> <span data-ttu-id="c4c18-154">Lo cierto es que no parece muy práctico.</span><span class="sxs-lookup"><span data-stu-id="c4c18-154">Doesn’t sound very practical, right?</span></span>

<span data-ttu-id="c4c18-155">Nosotros vamos a resolverlo mediante la identificación de los atributos clave de un usuario que mostramos en nuestra aplicación para cada actividad.</span><span class="sxs-lookup"><span data-stu-id="c4c18-155">We are going to solve it by identifying the Key attributes of a user that we show in our application for each activity.</span></span> <span data-ttu-id="c4c18-156">Si en nuestra aplicación mostramos una publicación tan solo con el nombre y la imagen del creador, ¿por qué almacenar todos los datos del usuario en el atributo "createdBy"?</span><span class="sxs-lookup"><span data-stu-id="c4c18-156">If we visually show a post in our application and show just the creator’s name and picture, why store all of the user’s data in the “createdBy” attribute?</span></span> <span data-ttu-id="c4c18-157">Si en cada comentario solo se muestra la imagen del usuario, no es necesario el resto de su información.</span><span class="sxs-lookup"><span data-stu-id="c4c18-157">If for each comment we just show the user’s picture, we don’t really need the rest of his information.</span></span> <span data-ttu-id="c4c18-158">Y aquí es donde entra en juego lo que yo llamo el modelo "escalera".</span><span class="sxs-lookup"><span data-stu-id="c4c18-158">That’s where something I call the “Ladder pattern” comes into play.</span></span>

<span data-ttu-id="c4c18-159">Tomemos como ejemplo información de usuario:</span><span class="sxs-lookup"><span data-stu-id="c4c18-159">Let’s take user information as an example:</span></span>

    {
        "id":"dse4-qwe2-ert4-aad2",
        "name":"John",
        "surname":"Doe",
        "address":"742 Evergreen Terrace",
        "birthday":"1983-05-07",
        "email":"john@doe.com",
        "twitterHandle":"@john",
        "username":"johndoe",
        "password":"some_encrypted_phrase",
        "totalPoints":100,
        "totalPosts":24
    }

<span data-ttu-id="c4c18-160">Al examinar esta información, podemos detectar rápidamente cuál es información importante y cuál no lo es, creando así una "escalera":</span><span class="sxs-lookup"><span data-stu-id="c4c18-160">By looking at this information, we can quickly detect which is critical information and which isn’t, thus creating a “Ladder”:</span></span>

![Diagrama de un modelo de escalera](./media/social-media-apps/social-media-apps-ladder.png)

<span data-ttu-id="c4c18-162">El paso más pequeño se denomina UserChunk: es el fragmento mínimo de información que identifica a un usuario y se usa para la duplicación de datos.</span><span class="sxs-lookup"><span data-stu-id="c4c18-162">The smallest step is called a UserChunk, the minimal piece of information that identifies a user and it’s used for data duplication.</span></span> <span data-ttu-id="c4c18-163">Al reducir el tamaño de los datos duplicados a la información que "mostraremos", se reduce también la posibilidad de actualizaciones masivas.</span><span class="sxs-lookup"><span data-stu-id="c4c18-163">By reducing the size of the duplicated data to only the information we will “show”, we reduce the possibility of massive updates.</span></span>

<span data-ttu-id="c4c18-164">El paso intermedio se denomina usuario: son todos los datos que se usarán en la mayoría de las consultas dependientes del rendimiento en Cosmos DB, a los que más se accede y los más críticos.</span><span class="sxs-lookup"><span data-stu-id="c4c18-164">The middle step is called the user, it’s the full data that will be used on most performance-dependent queries on Cosmos DB, the most accessed and critical.</span></span> <span data-ttu-id="c4c18-165">Incluye la información representada por un UserChunk.</span><span class="sxs-lookup"><span data-stu-id="c4c18-165">It includes the information represented by a UserChunk.</span></span>

<span data-ttu-id="c4c18-166">El mayor es el usuario extendido.</span><span class="sxs-lookup"><span data-stu-id="c4c18-166">The largest is the Extended User.</span></span> <span data-ttu-id="c4c18-167">Incluye toda la información crítica del usuario además de otros datos que no es necesario leer rápidamente o cuyo uso es eventual (como el proceso de inicio de sesión).</span><span class="sxs-lookup"><span data-stu-id="c4c18-167">It includes all the critical user information plus other data that doesn’t really require to be read quickly or it’s usage is eventual (like the login process).</span></span> <span data-ttu-id="c4c18-168">Estos datos pueden almacenarse fuera de Cosmos DB, en Azure SQL Database o en tablas de Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="c4c18-168">This data can be stored outside of Cosmos DB, in Azure SQL Database or Azure Storage Tables.</span></span>

<span data-ttu-id="c4c18-169">¿Por qué habríamos de dividir el usuario e incluso almacenar esta información en diferentes lugares?</span><span class="sxs-lookup"><span data-stu-id="c4c18-169">Why would we split the user and even store this information in different places?</span></span> <span data-ttu-id="c4c18-170">Porque desde el punto de vista del rendimiento, cuanto mayores sean los documentos, más costosas serán las consultas.</span><span class="sxs-lookup"><span data-stu-id="c4c18-170">Because from a performance point of view, the bigger the documents, the costlier the queries.</span></span> <span data-ttu-id="c4c18-171">No sobrecargue los documentos; que tengan la información adecuada para realizar todas las consultas dependientes del rendimiento de la red social, y almacene el resto de la información adicional para escenarios eventuales, como modificaciones del perfil completo, inicios de sesión e incluso minería de datos para análisis de uso e iniciativas de macrodatos.</span><span class="sxs-lookup"><span data-stu-id="c4c18-171">Keep documents slim, with the right information to do all your performance-dependent queries for your social network, and store the other extra information for eventual scenarios like, full profile edits, logins, even data mining for usage analytics and Big Data initiatives.</span></span> <span data-ttu-id="c4c18-172">No nos importa que la recopilación de información para minería de datos sea lenta, ya que se ejecuta en la Base de datos SQL de Microsoft Azure. Lo que sí nos importa es que los usuarios tengan una experiencia rápida y ligera.</span><span class="sxs-lookup"><span data-stu-id="c4c18-172">We really don’t care if the data gathering for data mining is slower because it’s running on Azure SQL Database, we do have concern though that our users have a fast and slim experience.</span></span> <span data-ttu-id="c4c18-173">La apariencia de un usuario almacenado en Cosmos DB sería la siguiente:</span><span class="sxs-lookup"><span data-stu-id="c4c18-173">A user, stored on Cosmos DB, would look like this:</span></span>

    {
        "id":"dse4-qwe2-ert4-aad2",
        "name":"John",
        "surname":"Doe",
        "username":"johndoe"
        "email":"john@doe.com",
        "twitterHandle":"@john"
    }

<span data-ttu-id="c4c18-174">Asimismo, una solicitud Post tendría el aspecto siguiente:</span><span class="sxs-lookup"><span data-stu-id="c4c18-174">And a Post would look like:</span></span>

    {
        "id":"1234-asd3-54ts-199a",
        "title":"Awesome post!",
        "date":"2016-01-02",
        "createdBy":{
            "id":"dse4-qwe2-ert4-aad2",
            "username":"johndoe"
        }
    }

<span data-ttu-id="c4c18-175">Si se produce una modificación que afecte a uno de los atributos del fragmento, es fácil encontrar los documentos afectados mediante consultas que señalen a los atributos indexados (SELECT * FROM posts p WHERE p.createdBy.id == “edited_user_id”) y, a continuación, actualizando los fragmentos.</span><span class="sxs-lookup"><span data-stu-id="c4c18-175">And when an edit arises where one of the attributes of the chunk is affected, it’s easy to find the affected documents by using queries that point to the indexed attributes (SELECT * FROM posts p WHERE p.createdBy.id == “edited_user_id”) and then updating the chunks.</span></span>

## <a name="the-search-box"></a><span data-ttu-id="c4c18-176">El cuadro de búsqueda</span><span class="sxs-lookup"><span data-stu-id="c4c18-176">The search box</span></span>
<span data-ttu-id="c4c18-177">Los usuarios generarán, con suerte, una gran cantidad de contenido.</span><span class="sxs-lookup"><span data-stu-id="c4c18-177">Users will generate, luckily, a lot of content.</span></span> <span data-ttu-id="c4c18-178">Debemos proporcionar la capacidad de buscar y encontrar contenido que podría no estar directamente en los flujos de contenido de los usuarios, quizás porque no siguen a los creadores o quizás porque están buscando una publicación antigua de hace seis meses.</span><span class="sxs-lookup"><span data-stu-id="c4c18-178">And we should be able to provide the ability to search and find content that might not be directly in their content streams, maybe because we don’t follow the creators, or maybe we are just trying to find that old post we did 6 months ago.</span></span>

<span data-ttu-id="c4c18-179">Afortunadamente, y gracias al empleo de Azure Cosmos DB, se puede implementar fácilmente un motor de búsqueda con [Azure Search](https://azure.microsoft.com/services/search/) en un par de minutos y sin escribir una sola línea de código (aparte de, obviamente, el proceso de búsqueda y la interfaz de usuario).</span><span class="sxs-lookup"><span data-stu-id="c4c18-179">Thankfully, and because we are using Azure Cosmos DB, we can easily implement a search engine using [Azure Search](https://azure.microsoft.com/services/search/) in a couple of minutes and without typing a single line of code (other than obviously, the search process and UI).</span></span>

<span data-ttu-id="c4c18-180">¿Por qué es tan fácil?</span><span class="sxs-lookup"><span data-stu-id="c4c18-180">Why is this so easy?</span></span>

<span data-ttu-id="c4c18-181">Azure Search implementa lo que llaman "[indexadores](https://msdn.microsoft.com/library/azure/dn946891.aspx)"; es decir, procesos en segundo plano que se enlazan en los repositorios de datos y automáticamente agregan, actualizan o quitan objetos en los índices.</span><span class="sxs-lookup"><span data-stu-id="c4c18-181">Azure Search implements what they call [Indexers](https://msdn.microsoft.com/library/azure/dn946891.aspx), background processes that hook in your data repositories and automagically add, update or remove your objects in the indexes.</span></span> <span data-ttu-id="c4c18-182">Son compatibles con [indexadores de Azure SQL Database](https://blogs.msdn.microsoft.com/kaevans/2015/03/06/indexing-azure-sql-database-with-azure-search/), [indexadores de Blobs de Azure](../search/search-howto-indexing-azure-blob-storage.md) y, afortunadamente, [indexadores de Cosmos DB](../search/search-howto-index-documentdb.md).</span><span class="sxs-lookup"><span data-stu-id="c4c18-182">They support an [Azure SQL Database indexers](https://blogs.msdn.microsoft.com/kaevans/2015/03/06/indexing-azure-sql-database-with-azure-search/), [Azure Blobs indexers](../search/search-howto-indexing-azure-blob-storage.md) and thankfully, [Azure Cosmos DB indexers](../search/search-howto-index-documentdb.md).</span></span> <span data-ttu-id="c4c18-183">La transición de información de Cosmos DB a Azure Search es sencilla porque ambos almacenan la información en formato JSON; tan solo debemos [crear nuestro índice](../search/search-create-index-portal.md) y asignar los atributos de los documentos que deseamos indexar. En cuestión de minutos (según el tamaño de los datos), todo el contenido estará disponible para buscarse con la mejor solución de búsqueda como servicio en la infraestructura de nube.</span><span class="sxs-lookup"><span data-stu-id="c4c18-183">The transition of information from Cosmos DB to Azure Search is straightforward, as both store information in JSON format, we just need to [create our Index](../search/search-create-index-portal.md) and map which attributes from our Documents we want indexed and that’s it, in a matter of minutes (depends on the size of our data), all our content will be available to be searched upon, by the best Search-as-a-Service solution in cloud infrastructure.</span></span> 

<span data-ttu-id="c4c18-184">Para obtener más información sobre Búsqueda de Azure, puede consultar la guía [Hitchhiker’s Guide to Search](https://blogs.msdn.microsoft.com/mvpawardprogram/2016/02/02/a-hitchhikers-guide-to-search/)(Guía de búsqueda de Hitchhiker).</span><span class="sxs-lookup"><span data-stu-id="c4c18-184">For more information about Azure Search, you can visit the [Hitchhiker’s Guide to Search](https://blogs.msdn.microsoft.com/mvpawardprogram/2016/02/02/a-hitchhikers-guide-to-search/).</span></span>

## <a name="the-underlying-knowledge"></a><span data-ttu-id="c4c18-185">La información subyacente</span><span class="sxs-lookup"><span data-stu-id="c4c18-185">The underlying knowledge</span></span>
<span data-ttu-id="c4c18-186">Después de almacenar todo este contenido que crece y crece diariamente, podríamos pensar: ¿qué puedo hacer con todo este flujo de información de mis usuarios?</span><span class="sxs-lookup"><span data-stu-id="c4c18-186">After storing all this content that grows and grows every day, we might find ourselves thinking: What can I do with all this stream of information from my users?</span></span>

<span data-ttu-id="c4c18-187">La respuesta es sencilla: póngala a trabajar y aprenda de ella.</span><span class="sxs-lookup"><span data-stu-id="c4c18-187">The answer is straightforward: Put it to work and learn from it.</span></span>

<span data-ttu-id="c4c18-188">Pero, ¿qué podemos aprender?</span><span class="sxs-lookup"><span data-stu-id="c4c18-188">But, what can we learn?</span></span> <span data-ttu-id="c4c18-189">Por ejemplo, [análisis de opinión](https://en.wikipedia.org/wiki/Sentiment_analysis), recomendaciones de contenido según las preferencias de un usuario o, incluso, un moderador automatizado que garantiza que todo el contenido que publique nuestra red social sea adecuado para todos los públicos.</span><span class="sxs-lookup"><span data-stu-id="c4c18-189">A few easy examples include [sentiment analysis](https://en.wikipedia.org/wiki/Sentiment_analysis), content recommendations based on a user’s preferences or even an automated content moderator that ensures that all the content published by our social network is safe for the family.</span></span>

<span data-ttu-id="c4c18-190">Ahora que ya está interesado, probablemente pensará que necesita un doctorado en ciencias matemáticas para extraer estos patrones y la información de los archivos y las bases de datos, pero no es así.</span><span class="sxs-lookup"><span data-stu-id="c4c18-190">Now that I got you hooked, you’ll probably think you need some PhD in math science to extract these patterns and information out of simple databases and files, but you’d be wrong.</span></span>

<span data-ttu-id="c4c18-191">[Azure Machine Learning](https://azure.microsoft.com/services/machine-learning/), que forma parte de [Cortana Intelligence Suite](https://www.microsoft.com/en/server-cloud/cortana-analytics-suite/overview.aspx), es un servicio en la nube totalmente administrado que permite crear flujos de trabajo mediante algoritmos en una sencilla interfaz de arrastrar y colocar, programar sus propios algoritmos en [R](https://en.wikipedia.org/wiki/R_\(programming_language\)) o usar algunas de las API integradas y listas para usar, como [Text Analytics](https://gallery.cortanaanalytics.com/MachineLearningAPI/Text-Analytics-2), [Content Moderator](https://www.microsoft.com/moderator) o [Recommendations](https://gallery.cortanaanalytics.com/MachineLearningAPI/Recommendations-2).</span><span class="sxs-lookup"><span data-stu-id="c4c18-191">[Azure Machine Learning](https://azure.microsoft.com/services/machine-learning/), part of the [Cortana Intelligence Suite](https://www.microsoft.com/en/server-cloud/cortana-analytics-suite/overview.aspx), is the a fully managed cloud service that lets you create workflows using algorithms in a simple drag-and-drop interface, code your own algorithms in [R](https://en.wikipedia.org/wiki/R_\(programming_language\)) or use some of the already-built and ready to use APIs such as: [Text Analytics](https://gallery.cortanaanalytics.com/MachineLearningAPI/Text-Analytics-2),  [Content Moderator](https://www.microsoft.com/moderator) or [Recommendations](https://gallery.cortanaanalytics.com/MachineLearningAPI/Recommendations-2).</span></span>

<span data-ttu-id="c4c18-192">Para posibilitar cualquiera de estos escenarios de Machine Learning, podemos usar [Azure Data Lake](https://azure.microsoft.com/services/data-lake-store/) para introducir la información de distintos orígenes, así como [U-SQL](https://azure.microsoft.com/documentation/videos/data-lake-u-sql-query-execution/) para procesar dicha información y generar una salida que pueda tratar Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="c4c18-192">To achieve any of these Machine Learning scenarios, we can use [Azure Data Lake](https://azure.microsoft.com/services/data-lake-store/) to ingest the information from different sources, and use [U-SQL](https://azure.microsoft.com/documentation/videos/data-lake-u-sql-query-execution/) to process the information and generate an output that can be processed by Azure Machine Learning.</span></span>

<span data-ttu-id="c4c18-193">Otra opción disponible es usar [Microsoft Cognitive Services](https://www.microsoft.com/cognitive-services) para analizar el contenido de nuestros usuarios; no solo podemos comprenderlos mejor (mediante el análisis de lo que escriben con [Text Analytics API](https://www.microsoft.com/cognitive-services/en-us/text-analytics-api)), sino que también podemos detectar contenido no deseado o contenido para adultos y actuar en consecuencia con [Computer Vision API](https://www.microsoft.com/cognitive-services/en-us/computer-vision-api).</span><span class="sxs-lookup"><span data-stu-id="c4c18-193">Another available option is to use [Microsoft Cognitive Services](https://www.microsoft.com/cognitive-services) to analyze our users content; not only can we understand them better (through analyzing what they write with [Text Analytics API](https://www.microsoft.com/cognitive-services/en-us/text-analytics-api)) , but we could also detect unwanted or mature content and act accordingly with [Computer Vision API](https://www.microsoft.com/cognitive-services/en-us/computer-vision-api).</span></span> <span data-ttu-id="c4c18-194">Cognitive Services incluye una gran cantidad de soluciones listas para usar que no requieren ningún conocimiento de Machine Learning para usarlas.</span><span class="sxs-lookup"><span data-stu-id="c4c18-194">Cognitive Services include a lot of out-of-the-box solutions that don't require any kind of Machine Learning knowledge to use.</span></span>

## <a name="a-planet-scale-social-experience"></a><span data-ttu-id="c4c18-195">Una experiencia social a escala mundial</span><span class="sxs-lookup"><span data-stu-id="c4c18-195">A planet-scale social experience</span></span>
<span data-ttu-id="c4c18-196">Hay un último, pero no por ello menos importante, tema que abordaremos: la **escalabilidad**.</span><span class="sxs-lookup"><span data-stu-id="c4c18-196">There is a last, but not least, important topic I must address: **scalability**.</span></span> <span data-ttu-id="c4c18-197">Cuando se diseña una arquitectura, resulta fundamental que cada componente pueda escalar por sí mismo, ya sea porque es necesario procesar más datos o porque se desea tener una mayor cobertura geográfica (o ambas opciones).</span><span class="sxs-lookup"><span data-stu-id="c4c18-197">When designing an architecture it's crucial that each component can scale on its own, either because we need to process more data or because we want to have a bigger geographical coverage (or both!).</span></span> <span data-ttu-id="c4c18-198">Afortunadamente, llevar a cabo una tarea así de compleja es una **experiencia inmediata** con Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="c4c18-198">Thankfully, achieving such a complex task is a **turnkey experience** with Cosmos DB.</span></span>

<span data-ttu-id="c4c18-199">Cosmos DB admite la [creación de particiones dinámica](https://azure.microsoft.com/blog/10-things-to-know-about-documentdb-partitioned-collections/) inmediata mediante la creación automática de particiones según una **clave de partición** determinada (que se define como uno de los atributos en los documentos).</span><span class="sxs-lookup"><span data-stu-id="c4c18-199">Cosmos DB supports [dynamic partitioning](https://azure.microsoft.com/blog/10-things-to-know-about-documentdb-partitioned-collections/) out-of-the-box by automatically creating partitions based on a given **partition key** (defined as one of the attributes in your documents).</span></span> <span data-ttu-id="c4c18-200">Definir la clave de partición correcta se debe realizar en el momento del diseño, teniendo en cuenta los [procedimientos recomendados](../cosmos-db/partition-data.md#designing-for-partitioning) disponibles; en caso de una experiencia social, la estrategia de creación de particiones debe alinearse con la forma en que consulta (se prefieren las lecturas dentro de la misma partición) y escribe (evite las "zonas activas" distribuyendo las escrituras en varias particiones).</span><span class="sxs-lookup"><span data-stu-id="c4c18-200">Defining the correct partition key must be done at design time and keeping in mind the [best practices](../cosmos-db/partition-data.md#designing-for-partitioning) available; in the case of a social experience, your partitioning strategy must be aligned with the way you query (reads within the same partition are desirable) and write (avoid "hot spots" by spreading writes on multiple partitions).</span></span> <span data-ttu-id="c4c18-201">Algunas opciones son: particiones basadas en una clave temporal (día/mes/semana), por categoría de contenido, por región geográfica, por usuario; en realidad, todo depende de cómo consultará los datos y cómo los mostrará en la experiencia social.</span><span class="sxs-lookup"><span data-stu-id="c4c18-201">Some options are: partitions based on a temporal key (day/month/week), by content category, by geographical region, by user; it all really depends on how you will query the data and show it in your social experience.</span></span> 

<span data-ttu-id="c4c18-202">Un punto interesante que vale la pena mencionar es que Cosmos DB ejecutará las consultas (incluidas las [agregaciones](https://azure.microsoft.com/blog/planet-scale-aggregates-with-azure-documentdb/)) en todas las particiones de forma transparente, por lo que no necesita agregar ninguna lógico a medida que crecen los datos.</span><span class="sxs-lookup"><span data-stu-id="c4c18-202">One interesting point worth mentioning is that Cosmos DB will run your queries (including [aggregates](https://azure.microsoft.com/blog/planet-scale-aggregates-with-azure-documentdb/)) across all your partitions transparently, you don't need to add any logic as your data grows.</span></span>

<span data-ttu-id="c4c18-203">Con el tiempo, a la larga el tráfico crecerá y su consumo de recursos (que se mide en [RU](request-units.md) o unidades de solicitud) aumentará.</span><span class="sxs-lookup"><span data-stu-id="c4c18-203">With time, you will eventually grow in traffic and your resource consumption (measured in [RUs](request-units.md), or Request Units) will increase.</span></span> <span data-ttu-id="c4c18-204">Leerá y escribirá con más frecuencia a medida que crece la base de usuarios y ellos comenzarán a crear y leer más contenido; la capacidad de **escalar el rendimiento** resulta vital.</span><span class="sxs-lookup"><span data-stu-id="c4c18-204">You will read and write more frequently as your userbase grows and they will start creating and reading more content; the ability of **scaling your throughput** is vital.</span></span> <span data-ttu-id="c4c18-205">Aumentar las unidades de solicitud es muy simple: podemos hacerlo con algunos clics en Azure Portal o a través de la [emisión de comandos mediante la API](https://docs.microsoft.com/rest/api/documentdb/replace-an-offer).</span><span class="sxs-lookup"><span data-stu-id="c4c18-205">Increasing our RUs is very easy, we can do it with a few clicks on the Azure Portal or by [issuing commands through the API](https://docs.microsoft.com/rest/api/documentdb/replace-an-offer).</span></span>

![Escalado vertical y definición de una clave de partición](./media/social-media-apps/social-media-apps-scaling.png)

<span data-ttu-id="c4c18-207">¿Qué ocurre si las cosas siguen mejorando y los usuarios de otra región, otro país u otro continente descubren su plataforma y comienzan a usarla? ¡Una gran sorpresa!</span><span class="sxs-lookup"><span data-stu-id="c4c18-207">What happens if things keep getting better and users from another region, country or continent, notice your platform and start using it, what a great surprise!</span></span>

<span data-ttu-id="c4c18-208">Pero... momento: pronto se da cuenta de que su experiencia con la plataforma no es óptima, porque están tan lejos de la región de operaciones que la latencia es enorme y, por supuesto, no quiere que abandonen la plataforma.</span><span class="sxs-lookup"><span data-stu-id="c4c18-208">But wait... you soon realize their experience with your platform is not optimal; they are so far away from your operational region that the latency is terrible, and you obviously don't want them to quit.</span></span> <span data-ttu-id="c4c18-209">¡Si tan solo hubiese una forma sencilla de **extender su alcance global**! Y la hay.</span><span class="sxs-lookup"><span data-stu-id="c4c18-209">If only there was an easy way of **extending your global reach**... but there is!</span></span>

<span data-ttu-id="c4c18-210">Cosmos DB le permite [replicar los datos global](../cosmos-db/tutorial-global-distribution-documentdb.md) y transparentemente con un par de clics y seleccionar de forma automática entre las regiones disponibles del [código de cliente](../cosmos-db/tutorial-global-distribution-documentdb.md).</span><span class="sxs-lookup"><span data-stu-id="c4c18-210">Cosmos DB lets you [replicate your data globally](../cosmos-db/tutorial-global-distribution-documentdb.md) and transparently with a couple of clicks and automatically select among the available regions from your [client code](../cosmos-db/tutorial-global-distribution-documentdb.md).</span></span> <span data-ttu-id="c4c18-211">Esto también significa que tiene [varias regiones de conmutación por error](regional-failover.md).</span><span class="sxs-lookup"><span data-stu-id="c4c18-211">This also means that you can have [multiple failover regions](regional-failover.md).</span></span> 

<span data-ttu-id="c4c18-212">Cuando replica globalmente los datos, debe asegurarse de que los clientes puedan aprovecharlos.</span><span class="sxs-lookup"><span data-stu-id="c4c18-212">When you replicate your data globally, you need to make sure that your clients can take advantage of it.</span></span> <span data-ttu-id="c4c18-213">Si usa un front-end web o tiene acceso a las API desde clientes para dispositivos móviles, puede implementar [Azure Traffic Manager](https://azure.microsoft.com/services/traffic-manager/) y clonar la instancia de Azure App Service en todas las regiones deseadas mediante una [configuración de rendimiento](../app-service-web/web-sites-traffic-manager.md) para admitir la cobertura global extendida.</span><span class="sxs-lookup"><span data-stu-id="c4c18-213">If you are using a web frontend or accesing APIs from mobile clients, you can deploy [Azure Traffic Manager](https://azure.microsoft.com/services/traffic-manager/) and clone your Azure App Service on all the desired regions, using a [Performance configuration](../app-service-web/web-sites-traffic-manager.md) to support your extended global coverage.</span></span> <span data-ttu-id="c4c18-214">Cuando los clientes tienen acceso al front-end o a las API, se enrutarán a la instancia de App Service más cercana, que, a su vez, se conectará a la réplica local de Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="c4c18-214">When your clients access your frontend or APIs, they will be routed to the closest App Service, which in turn, will connect to the local Cosmos DB replica.</span></span>

![Incorporación de la cobertura global en la plataforma social](./media/social-media-apps/social-media-apps-global-replicate.png)

## <a name="conclusion"></a><span data-ttu-id="c4c18-216">Conclusión</span><span class="sxs-lookup"><span data-stu-id="c4c18-216">Conclusion</span></span>
<span data-ttu-id="c4c18-217">Este artículo trata de ofrecer alternativas de bajo costo y excelentes resultados en el proceso integral de creación de redes sociales en Azure. Con este objetivo, se fomenta el uso de una solución de almacenamiento en varias capas y distribución de datos denominada "Escalera".</span><span class="sxs-lookup"><span data-stu-id="c4c18-217">This article tries to shed some light into the alternatives of creating social networks completely on Azure with low-cost services and providing great results by encouraging the use of a multi-layered storage solution and data distribution called “Ladder”.</span></span>

![Diagrama de interacción entre los servicios de Azure para redes sociales](./media/social-media-apps/social-media-apps-azure-solution.png)

<span data-ttu-id="c4c18-219">La verdad es que no hay ninguna fórmula milagrosa para este tipo de escenarios, sino que es la sinergia creada mediante la combinación de excelentes servicios lo que nos permite crear grandes experiencias: la velocidad y la libertad de Azure Cosmos DB para proporcionar una gran aplicación social; la inteligencia de una solución de búsqueda de primera clase como Azure Search; la flexibilidad de Azure App Services para hospedar aplicaciones independientes del lenguaje y eficaces procesos en segundo plano; los ampliables Azure Storage y Azure SQL Database para guardar enormes cantidades de datos; y la potencia analítica de Azure Machine Learning para crear conocimiento e inteligencia que proporcionen información a nuestros procesos y nos ayuden a suministrar el contenido correcto a los usuarios adecuados.</span><span class="sxs-lookup"><span data-stu-id="c4c18-219">The truth is that there is no silver bullet for this kind of scenarios, it’s the synergy created by the combination of great services that allow us to build great experiences: the speed and freedom of Azure Cosmos DB to provide a great social application, the intelligence behind a first-class search solution like Azure Search, the flexibility of Azure App Services to host not even language-agnostic applications but powerful background processes and the expandable Azure Storage and Azure SQL Database for storing massive amounts of data and the analytic power of Azure Machine Learning to create knowledge and intelligence that can provide feedback to our processes and help us deliver the right content to the right users.</span></span>

## <a name="next-steps"></a><span data-ttu-id="c4c18-220">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="c4c18-220">Next steps</span></span>
<span data-ttu-id="c4c18-221">Para más información sobre los casos de uso de Cosmos DB, consulte [Casos de uso comunes de Cosmos DB](use-cases.md).</span><span class="sxs-lookup"><span data-stu-id="c4c18-221">To learn more about use cases for Cosmos DB, see [Common Cosmos DB use cases](use-cases.md).</span></span>