---
title: "Automatización de la base de datos de Cosmos - aaaAzure de administración con Powershell | Documentos de Microsoft"
description: Use Azure Powershell para administrar las cuentas de Azure Cosmos DB.
services: cosmos-db
author: dmakwana
manager: jhubbard
editor: 
tags: azure-resource-manager
documentationcenter: 
ms.assetid: 
ms.service: cosmos-db
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 04/21/2017
ms.author: dimakwan
ms.openlocfilehash: 3239fb815918a0e47bff69fcd1ab6562519e429b
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="create-an-azure-cosmos-db-account-using-powershell"></a><span data-ttu-id="28348-103">Creación de una cuenta de Azure Cosmos DB mediante PowerShell</span><span class="sxs-lookup"><span data-stu-id="28348-103">Create an Azure Cosmos DB account using PowerShell</span></span>

<span data-ttu-id="28348-104">Hello guía siguiente describe comandos tooautomate administración de las cuentas de base de datos de base de datos de Azure Cosmos con Azure Powershell.</span><span class="sxs-lookup"><span data-stu-id="28348-104">hello following guide describes commands tooautomate management of your Azure Cosmos DB database accounts using Azure Powershell.</span></span> <span data-ttu-id="28348-105">También incluye las claves de cuenta de toomanage de comandos y las prioridades de conmutación por error de [cuentas de base de datos de varias regiones][scaling-globally].</span><span class="sxs-lookup"><span data-stu-id="28348-105">It also includes commands toomanage account keys and failover priorities in [multi-region database accounts][scaling-globally].</span></span> <span data-ttu-id="28348-106">Actualizar la cuenta de base de datos permite las directivas de coherencia de toomodify y agregar o quitar regiones.</span><span class="sxs-lookup"><span data-stu-id="28348-106">Updating your database account allows you toomodify consistency policies and add/remove regions.</span></span> <span data-ttu-id="28348-107">Para la administración de varias plataformas de su cuenta de base de datos de Azure Cosmos, puede usar [CLI de Azure](cli-samples.md), hello [API de REST de proveedor de recursos][rp-rest-api], o hello [Azure Portal de](create-documentdb-dotnet.md#create-account).</span><span class="sxs-lookup"><span data-stu-id="28348-107">For cross-platform management of your Azure Cosmos DB account, you can use either [Azure CLI](cli-samples.md), hello [Resource Provider REST API][rp-rest-api], or hello [Azure portal](create-documentdb-dotnet.md#create-account).</span></span>

## <a name="getting-started"></a><span data-ttu-id="28348-108">Introducción</span><span class="sxs-lookup"><span data-stu-id="28348-108">Getting Started</span></span>

<span data-ttu-id="28348-109">Siga las instrucciones de hello en [cómo tooinstall y configurar Azure PowerShell] [ powershell-install-configure] tooinstall y registro en Azure Resource Manager tooyour cuenta de Powershell.</span><span class="sxs-lookup"><span data-stu-id="28348-109">Follow hello instructions in [How tooinstall and configure Azure PowerShell][powershell-install-configure] tooinstall and log in tooyour Azure Resource Manager account in Powershell.</span></span>

### <a name="notes"></a><span data-ttu-id="28348-110">Notas</span><span class="sxs-lookup"><span data-stu-id="28348-110">Notes</span></span>

* <span data-ttu-id="28348-111">Si desea que hello tooexecute estos comandos sin necesidad de confirmación del usuario, anexar hello `-Force` marca toohello comando.</span><span class="sxs-lookup"><span data-stu-id="28348-111">If you would like tooexecute hello following commands without requiring user confirmation, append hello `-Force` flag toohello command.</span></span>
* <span data-ttu-id="28348-112">Hola todos los siguientes comandos son sincrónicas.</span><span class="sxs-lookup"><span data-stu-id="28348-112">All hello following commands are synchronous.</span></span>

## <span data-ttu-id="28348-113"><a id="create-documentdb-account-powershell"></a> Creación de una cuenta de Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="28348-113"><a id="create-documentdb-account-powershell"></a> Create an Azure Cosmos DB Account</span></span>

<span data-ttu-id="28348-114">Este comando permite toocreate una cuenta de base de datos de la base de datos de Azure Cosmos.</span><span class="sxs-lookup"><span data-stu-id="28348-114">This command allows you toocreate an Azure Cosmos DB database account.</span></span> <span data-ttu-id="28348-115">Configure la nueva cuenta de base de datos como de región única o de [varias regiones][scaling-globally] con una determinada [directiva de coherencia](consistency-levels.md).</span><span class="sxs-lookup"><span data-stu-id="28348-115">Configure your new database account as either single-region or [multi-region][scaling-globally] with a certain [consistency policy](consistency-levels.md).</span></span>

    $locations = @(@{"locationName"="<write-region-location>"; "failoverPriority"=0}, @{"locationName"="<read-region-location>"; "failoverPriority"=1})
    $iprangefilter = "<ip-range-filter>"
    $consistencyPolicy = @{"defaultConsistencyLevel"="<default-consistency-level>"; "maxIntervalInSeconds"="<max-interval>"; "maxStalenessPrefix"="<max-staleness-prefix>"}
    $CosmosDBProperties = @{"databaseAccountOfferType"="Standard"; "locations"=$locations; "consistencyPolicy"=$consistencyPolicy; "ipRangeFilter"=$iprangefilter}
    New-AzureRmResource -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName <resource-group-name>  -Location "<resource-group-location>" -Name <database-account-name> -Properties $CosmosDBProperties
    
* <span data-ttu-id="28348-116">`<write-region-location>`nombre de la ubicación de Hola de hello escribir región de cuenta de base de datos de Hola.</span><span class="sxs-lookup"><span data-stu-id="28348-116">`<write-region-location>` hello location name of hello write region of hello database account.</span></span> <span data-ttu-id="28348-117">Esta ubicación es toohave requiere un valor de prioridad de conmutación por error de 0.</span><span class="sxs-lookup"><span data-stu-id="28348-117">This location is required toohave a failover priority value of 0.</span></span> <span data-ttu-id="28348-118">Debe haber exactamente una región de escritura por cuenta de base de datos.</span><span class="sxs-lookup"><span data-stu-id="28348-118">There must be exactly one write region per database account.</span></span>
* <span data-ttu-id="28348-119">`<read-region-location>`nombre de la ubicación de Hola de hello lee región de cuenta de base de datos de Hola.</span><span class="sxs-lookup"><span data-stu-id="28348-119">`<read-region-location>` hello location name of hello read region of hello database account.</span></span> <span data-ttu-id="28348-120">Esta ubicación es toohave requiere un valor de prioridad de conmutación por error de mayor que 0.</span><span class="sxs-lookup"><span data-stu-id="28348-120">This location is required toohave a failover priority value of greater than 0.</span></span> <span data-ttu-id="28348-121">Puede haber más de una región de lectura por cuenta de base de datos.</span><span class="sxs-lookup"><span data-stu-id="28348-121">There can be more than one read regions per database account.</span></span>
* <span data-ttu-id="28348-122">`<ip-range-filter>`Especifica el conjunto de Hola de direcciones IP o intervalos de direcciones IP de CIDR formulario toobe incluido como lista de direcciones IP de cliente para una cuenta de base de datos determinada de elementos permitido de Hola.</span><span class="sxs-lookup"><span data-stu-id="28348-122">`<ip-range-filter>` Specifies hello set of IP addresses or IP address ranges in CIDR form toobe included as hello allowed list of client IPs for a given database account.</span></span> <span data-ttu-id="28348-123">Los intervalos o direcciones IP deben ir separados por una coma y no deben contener espacios.</span><span class="sxs-lookup"><span data-stu-id="28348-123">IP addresses/ranges must be comma separated and must not contain any spaces.</span></span> <span data-ttu-id="28348-124">Para más información, consulte [Compatibilidad con el firewall de Azure Cosmos DB](firewall-support.md).</span><span class="sxs-lookup"><span data-stu-id="28348-124">For more information, see [Azure Cosmos DB Firewall Support](firewall-support.md)</span></span>
* <span data-ttu-id="28348-125">`<default-consistency-level>`nivel de coherencia Hola predeterminado de la cuenta de base de datos de Azure Cosmos Hola.</span><span class="sxs-lookup"><span data-stu-id="28348-125">`<default-consistency-level>` hello default consistency level of hello Azure Cosmos DB account.</span></span> <span data-ttu-id="28348-126">Para más información, consulte [Niveles de coherencia en Azure Cosmos DB](consistency-levels.md).</span><span class="sxs-lookup"><span data-stu-id="28348-126">For more information, see [Consistency Levels in Azure Cosmos DB](consistency-levels.md).</span></span>
* <span data-ttu-id="28348-127">`<max-interval>`Cuando se utiliza con coherencia Bounded Staleness, este valor representa cantidad de tiempo de Hola de obsolescencia (en segundos) tolerado.</span><span class="sxs-lookup"><span data-stu-id="28348-127">`<max-interval>` When used with Bounded Staleness consistency, this value represents hello time amount of staleness (in seconds) tolerated.</span></span> <span data-ttu-id="28348-128">El intervalo aceptado para este valor es de 1 - 100.</span><span class="sxs-lookup"><span data-stu-id="28348-128">Accepted range for this value is 1 - 100.</span></span>
* <span data-ttu-id="28348-129">`<max-staleness-prefix>`Cuando se utiliza con coherencia Bounded Staleness, este valor representa el número de Hola de solicitudes obsoletas tolerado.</span><span class="sxs-lookup"><span data-stu-id="28348-129">`<max-staleness-prefix>` When used with Bounded Staleness consistency, this value represents hello number of stale requests tolerated.</span></span> <span data-ttu-id="28348-130">El intervalo aceptado para este valor es de 1 - 2.147.483.647.</span><span class="sxs-lookup"><span data-stu-id="28348-130">Accepted range for this value is 1 – 2,147,483,647.</span></span>
* <span data-ttu-id="28348-131">`<resource-group-name>`nombre de Hola de hello [grupo de recursos de Azure] [ azure-resource-groups] toowhich Hola cuenta de base de datos de base de datos de Azure Cosmos nueva pertenece a.</span><span class="sxs-lookup"><span data-stu-id="28348-131">`<resource-group-name>` hello name of hello [Azure Resource Group][azure-resource-groups] toowhich hello new Azure Cosmos DB database account belongs to.</span></span>
* <span data-ttu-id="28348-132">`<resource-group-location>`ubicación de Hola de hello cuenta de base de datos de grupo de recursos de Azure toowhich Hola nueva base de datos de Azure Cosmos pertenece.</span><span class="sxs-lookup"><span data-stu-id="28348-132">`<resource-group-location>` hello location of hello Azure Resource Group toowhich hello new Azure Cosmos DB database account belongs to.</span></span>
* <span data-ttu-id="28348-133">`<database-account-name>`nombre de Hola de base de datos de base de datos de Azure Cosmos de hello cuenta toobe creado.</span><span class="sxs-lookup"><span data-stu-id="28348-133">`<database-account-name>` hello name of hello Azure Cosmos DB database account toobe created.</span></span> <span data-ttu-id="28348-134">Sólo puede utilizar letras minúsculas, números, hello '-' caracteres y debe tener entre 3 y 50 caracteres.</span><span class="sxs-lookup"><span data-stu-id="28348-134">It can only use lowercase letters, numbers, hello '-' character, and must be between 3 and 50 characters.</span></span>

<span data-ttu-id="28348-135">Ejemplo:</span><span class="sxs-lookup"><span data-stu-id="28348-135">Example:</span></span> 

    $locations = @(@{"locationName"="West US"; "failoverPriority"=0}, @{"locationName"="East US"; "failoverPriority"=1})
    $iprangefilter = ""
    $consistencyPolicy = @{"defaultConsistencyLevel"="BoundedStaleness"; "maxIntervalInSeconds"=5; "maxStalenessPrefix"=100}
    $CosmosDBProperties = @{"databaseAccountOfferType"="Standard"; "locations"=$locations; "consistencyPolicy"=$consistencyPolicy; "ipRangeFilter"=$iprangefilter}
    New-AzureRmResource -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName "rg-test" -Location "West US" -Name "docdb-test" -Properties $CosmosDBProperties

### <a name="notes"></a><span data-ttu-id="28348-136">Notas</span><span class="sxs-lookup"><span data-stu-id="28348-136">Notes</span></span>
* <span data-ttu-id="28348-137">Hello en el ejemplo anterior se crea una base de datos cuenta con dos regiones.</span><span class="sxs-lookup"><span data-stu-id="28348-137">hello preceding example creates a database account with two regions.</span></span> <span data-ttu-id="28348-138">También es posible toocreate una cuenta de base de datos con una región (que se designa como la región de escritura de Hola y tiene un valor de prioridad de conmutación por error de 0) o más de dos regiones.</span><span class="sxs-lookup"><span data-stu-id="28348-138">It is also possible toocreate a database account with either one region (which is designated as hello write region and have a failover priority value of 0) or more than two regions.</span></span> <span data-ttu-id="28348-139">Para obtener más información, vea la información de [cuentas de bases de datos de varias regiones][scaling-globally].</span><span class="sxs-lookup"><span data-stu-id="28348-139">For more information, see [multi-region database accounts][scaling-globally].</span></span>
* <span data-ttu-id="28348-140">ubicaciones de Hello deben ser las regiones en el que está disponible con carácter general base de datos de Azure Cosmos.</span><span class="sxs-lookup"><span data-stu-id="28348-140">hello locations must be regions in which Azure Cosmos DB is generally available.</span></span> <span data-ttu-id="28348-141">lista actual de Hola de regiones se proporciona en hello [página regiones de Azure](https://azure.microsoft.com/regions/#services).</span><span class="sxs-lookup"><span data-stu-id="28348-141">hello current list of regions is provided on hello [Azure Regions page](https://azure.microsoft.com/regions/#services).</span></span>

## <span data-ttu-id="28348-142"><a id="update-documentdb-account-powershell"></a> Actualización de una cuenta de base de datos de DocumentDB</span><span class="sxs-lookup"><span data-stu-id="28348-142"><a id="update-documentdb-account-powershell"></a> Update a DocumentDB Database Account</span></span>

<span data-ttu-id="28348-143">Este comando permite tooupdate propiedades de la cuenta de base de datos de la base de datos de Azure Cosmos.</span><span class="sxs-lookup"><span data-stu-id="28348-143">This command allows you tooupdate your Azure Cosmos DB database account properties.</span></span> <span data-ttu-id="28348-144">Esto incluye la directiva de coherencia de Hola y ubicaciones de hello qué cuenta de base de datos de hello existe en.</span><span class="sxs-lookup"><span data-stu-id="28348-144">This includes hello consistency policy and hello locations which hello database account exists in.</span></span>

> [!NOTE]
> <span data-ttu-id="28348-145">Este comando permite regiones tooadd y quitar, pero no permite las prioridades de conmutación por error de toomodify.</span><span class="sxs-lookup"><span data-stu-id="28348-145">This command allows you tooadd and remove regions but does not allow you toomodify failover priorities.</span></span> <span data-ttu-id="28348-146">las prioridades de conmutación por error de toomodify, consulte [a continuación](#modify-failover-priority-powershell).</span><span class="sxs-lookup"><span data-stu-id="28348-146">toomodify failover priorities, see [below](#modify-failover-priority-powershell).</span></span>

    $locations = @(@{"locationName"="<write-region-location>"; "failoverPriority"=0}, @{"locationName"="<read-region-location>"; "failoverPriority"=1})
    $iprangefilter = "<ip-range-filter>"
    $consistencyPolicy = @{"defaultConsistencyLevel"="<default-consistency-level>"; "maxIntervalInSeconds"="<max-interval>"; "maxStalenessPrefix"="<max-staleness-prefix>"}
    $CosmosDBProperties = @{"databaseAccountOfferType"="Standard"; "locations"=$locations; "consistencyPolicy"=$consistencyPolicy; "ipRangeFilter"=$iprangefilter}
    Set-AzureRmResource -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName <resource-group-name> -Name <database-account-name> -Properties $CosmosDBProperties
    
* <span data-ttu-id="28348-147">`<write-region-location>`nombre de la ubicación de Hola de hello escribir región de cuenta de base de datos de Hola.</span><span class="sxs-lookup"><span data-stu-id="28348-147">`<write-region-location>` hello location name of hello write region of hello database account.</span></span> <span data-ttu-id="28348-148">Esta ubicación es toohave requiere un valor de prioridad de conmutación por error de 0.</span><span class="sxs-lookup"><span data-stu-id="28348-148">This location is required toohave a failover priority value of 0.</span></span> <span data-ttu-id="28348-149">Debe haber exactamente una región de escritura por cuenta de base de datos.</span><span class="sxs-lookup"><span data-stu-id="28348-149">There must be exactly one write region per database account.</span></span>
* <span data-ttu-id="28348-150">`<read-region-location>`nombre de la ubicación de Hola de hello lee región de cuenta de base de datos de Hola.</span><span class="sxs-lookup"><span data-stu-id="28348-150">`<read-region-location>` hello location name of hello read region of hello database account.</span></span> <span data-ttu-id="28348-151">Esta ubicación es toohave requiere un valor de prioridad de conmutación por error de mayor que 0.</span><span class="sxs-lookup"><span data-stu-id="28348-151">This location is required toohave a failover priority value of greater than 0.</span></span> <span data-ttu-id="28348-152">Puede haber más de una región de lectura por cuenta de base de datos.</span><span class="sxs-lookup"><span data-stu-id="28348-152">There can be more than one read regions per database account.</span></span>
* <span data-ttu-id="28348-153">`<default-consistency-level>`nivel de coherencia Hola predeterminado de la cuenta de base de datos de Azure Cosmos Hola.</span><span class="sxs-lookup"><span data-stu-id="28348-153">`<default-consistency-level>` hello default consistency level of hello Azure Cosmos DB account.</span></span> <span data-ttu-id="28348-154">Para más información, consulte [Niveles de coherencia en Azure Cosmos DB](consistency-levels.md).</span><span class="sxs-lookup"><span data-stu-id="28348-154">For more information, see [Consistency Levels in Azure Cosmos DB](consistency-levels.md).</span></span>
* <span data-ttu-id="28348-155">`<ip-range-filter>`Especifica el conjunto de Hola de direcciones IP o intervalos de direcciones IP de CIDR formulario toobe incluido como lista de direcciones IP de cliente para una cuenta de base de datos determinada de elementos permitido de Hola.</span><span class="sxs-lookup"><span data-stu-id="28348-155">`<ip-range-filter>` Specifies hello set of IP addresses or IP address ranges in CIDR form toobe included as hello allowed list of client IPs for a given database account.</span></span> <span data-ttu-id="28348-156">Los intervalos o direcciones IP deben ir separados por una coma y no deben contener espacios.</span><span class="sxs-lookup"><span data-stu-id="28348-156">IP addresses/ranges must be comma separated and must not contain any spaces.</span></span> <span data-ttu-id="28348-157">Para más información, consulte [Compatibilidad con el firewall de Azure Cosmos DB](firewall-support.md).</span><span class="sxs-lookup"><span data-stu-id="28348-157">For more information, see [Azure Cosmos DB Firewall Support](firewall-support.md)</span></span>
* <span data-ttu-id="28348-158">`<max-interval>`Cuando se utiliza con coherencia Bounded Staleness, este valor representa cantidad de tiempo de Hola de obsolescencia (en segundos) tolerado.</span><span class="sxs-lookup"><span data-stu-id="28348-158">`<max-interval>` When used with Bounded Staleness consistency, this value represents hello time amount of staleness (in seconds) tolerated.</span></span> <span data-ttu-id="28348-159">El intervalo aceptado para este valor es de 1 - 100.</span><span class="sxs-lookup"><span data-stu-id="28348-159">Accepted range for this value is 1 - 100.</span></span>
* <span data-ttu-id="28348-160">`<max-staleness-prefix>`Cuando se utiliza con coherencia Bounded Staleness, este valor representa el número de Hola de solicitudes obsoletas tolerado.</span><span class="sxs-lookup"><span data-stu-id="28348-160">`<max-staleness-prefix>` When used with Bounded Staleness consistency, this value represents hello number of stale requests tolerated.</span></span> <span data-ttu-id="28348-161">El intervalo aceptado para este valor es de 1 - 2.147.483.647.</span><span class="sxs-lookup"><span data-stu-id="28348-161">Accepted range for this value is 1 – 2,147,483,647.</span></span>
* <span data-ttu-id="28348-162">`<resource-group-name>`nombre de Hola de hello [grupo de recursos de Azure] [ azure-resource-groups] toowhich Hola cuenta de base de datos de base de datos de Azure Cosmos nueva pertenece a.</span><span class="sxs-lookup"><span data-stu-id="28348-162">`<resource-group-name>` hello name of hello [Azure Resource Group][azure-resource-groups] toowhich hello new Azure Cosmos DB database account belongs to.</span></span>
* <span data-ttu-id="28348-163">`<resource-group-location>`ubicación de Hola de hello cuenta de base de datos de grupo de recursos de Azure toowhich Hola nueva base de datos de Azure Cosmos pertenece.</span><span class="sxs-lookup"><span data-stu-id="28348-163">`<resource-group-location>` hello location of hello Azure Resource Group toowhich hello new Azure Cosmos DB database account belongs to.</span></span>
* <span data-ttu-id="28348-164">`<database-account-name>`nombre de Hola de base de datos de base de datos de Azure Cosmos de hello cuenta toobe actualizado.</span><span class="sxs-lookup"><span data-stu-id="28348-164">`<database-account-name>` hello name of hello Azure Cosmos DB database account toobe updated.</span></span>

<span data-ttu-id="28348-165">Ejemplo:</span><span class="sxs-lookup"><span data-stu-id="28348-165">Example:</span></span> 

    $locations = @(@{"locationName"="West US"; "failoverPriority"=0}, @{"locationName"="East US"; "failoverPriority"=1})
    $iprangefilter = ""
    $consistencyPolicy = @{"defaultConsistencyLevel"="BoundedStaleness"; "maxIntervalInSeconds"=5; "maxStalenessPrefix"=100}
    $CosmosDBProperties = @{"databaseAccountOfferType"="Standard"; "locations"=$locations; "consistencyPolicy"=$consistencyPolicy; "ipRangeFilter"=$iprangefilter}
    Set-AzureRmResource -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName "rg-test" -Name "docdb-test" -Properties $CosmosDBProperties

## <span data-ttu-id="28348-166"><a id="delete-documentdb-account-powershell"></a> Eliminación de una cuenta de base de datos de DocumentDB</span><span class="sxs-lookup"><span data-stu-id="28348-166"><a id="delete-documentdb-account-powershell"></a> Delete a DocumentDB Database Account</span></span>

<span data-ttu-id="28348-167">Este comando permite toodelete una cuenta de base de datos de base de datos de Azure Cosmos existente.</span><span class="sxs-lookup"><span data-stu-id="28348-167">This command allows you toodelete an existing Azure Cosmos DB database account.</span></span>

    Remove-AzureRmResource -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName "<resource-group-name>" -Name "<database-account-name>"
    
* <span data-ttu-id="28348-168">`<resource-group-name>`nombre de Hola de hello [grupo de recursos de Azure] [ azure-resource-groups] toowhich Hola cuenta de base de datos de base de datos de Azure Cosmos nueva pertenece a.</span><span class="sxs-lookup"><span data-stu-id="28348-168">`<resource-group-name>` hello name of hello [Azure Resource Group][azure-resource-groups] toowhich hello new Azure Cosmos DB database account belongs to.</span></span>
* <span data-ttu-id="28348-169">`<database-account-name>`nombre de Hola de base de datos de base de datos de Azure Cosmos de hello cuenta toobe eliminado.</span><span class="sxs-lookup"><span data-stu-id="28348-169">`<database-account-name>` hello name of hello Azure Cosmos DB database account toobe deleted.</span></span>

<span data-ttu-id="28348-170">Ejemplo:</span><span class="sxs-lookup"><span data-stu-id="28348-170">Example:</span></span>

    Remove-AzureRmResource -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName "rg-test" -Name "docdb-test"

## <span data-ttu-id="28348-171"><a id="get-documentdb-properties-powershell"></a> Obtención de las propiedades de una cuenta de base de datos de DocumentDB</span><span class="sxs-lookup"><span data-stu-id="28348-171"><a id="get-documentdb-properties-powershell"></a> Get Properties of a DocumentDB Database Account</span></span>

<span data-ttu-id="28348-172">Este comando permite propiedades de hello tooget de una cuenta de base de datos de base de datos de Azure Cosmos existente.</span><span class="sxs-lookup"><span data-stu-id="28348-172">This command allows you tooget hello properties of an existing Azure Cosmos DB database account.</span></span>

    Get-AzureRmResource -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName "<resource-group-name>" -Name "<database-account-name>"

* <span data-ttu-id="28348-173">`<resource-group-name>`nombre de Hola de hello [grupo de recursos de Azure] [ azure-resource-groups] toowhich Hola cuenta de base de datos de base de datos de Azure Cosmos nueva pertenece a.</span><span class="sxs-lookup"><span data-stu-id="28348-173">`<resource-group-name>` hello name of hello [Azure Resource Group][azure-resource-groups] toowhich hello new Azure Cosmos DB database account belongs to.</span></span>
* <span data-ttu-id="28348-174">`<database-account-name>`nombre de Hola de hello cuenta de base de datos de la base de datos de Azure Cosmos.</span><span class="sxs-lookup"><span data-stu-id="28348-174">`<database-account-name>` hello name of hello Azure Cosmos DB database account.</span></span>

<span data-ttu-id="28348-175">Ejemplo:</span><span class="sxs-lookup"><span data-stu-id="28348-175">Example:</span></span>

    Get-AzureRmResource -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName "rg-test" -Name "docdb-test"

## <span data-ttu-id="28348-176"><a id="update-tags-powershell"></a> Actualización de la etiquetas de una cuenta de base de datos de Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="28348-176"><a id="update-tags-powershell"></a> Update Tags of an Azure Cosmos DB Database Account</span></span>

<span data-ttu-id="28348-177">Hello ejemplo siguiente se describe cómo tooset [etiquetas de recursos de Azure] [ azure-resource-tags] para la base de datos de Azure Cosmos cuenta de base de datos.</span><span class="sxs-lookup"><span data-stu-id="28348-177">hello following example describes how tooset [Azure resource tags][azure-resource-tags] for your Azure Cosmos DB database account.</span></span>

> [!NOTE]
> <span data-ttu-id="28348-178">Este comando se puede combinar con hello crear o actualizar comandos anexando hello `-Tags` marca con el parámetro correspondiente de Hola.</span><span class="sxs-lookup"><span data-stu-id="28348-178">This command can be combined with hello create or update commands by appending hello `-Tags` flag with hello corresponding parameter.</span></span>

<span data-ttu-id="28348-179">Ejemplo:</span><span class="sxs-lookup"><span data-stu-id="28348-179">Example:</span></span>

    $tags = @{"dept" = "Finance”; environment = “Production”}
    Set-AzureRmResource -ResourceType “Microsoft.DocumentDB/databaseAccounts”  -ResourceGroupName "rg-test" -Name "docdb-test" -Tags $tags

## <span data-ttu-id="28348-180"><a id="list-account-keys-powershell"></a> Enumerar claves de cuenta</span><span class="sxs-lookup"><span data-stu-id="28348-180"><a id="list-account-keys-powershell"></a> List Account Keys</span></span>

<span data-ttu-id="28348-181">Cuando se crea una cuenta de base de datos de Azure Cosmos, servicio de hello genera dos claves de acceso principal que pueden usarse para la autenticación cuando se tiene acceso a la cuenta de base de datos de Azure Cosmos Hola.</span><span class="sxs-lookup"><span data-stu-id="28348-181">When you create an Azure Cosmos DB account, hello service generates two master access keys that can be used for authentication when hello Azure Cosmos DB account is accessed.</span></span> <span data-ttu-id="28348-182">Al proporcionar dos claves de acceso, base de datos de Azure Cosmos permite claves de hello tooregenerate con ninguna cuenta de base de datos de Azure Cosmos tooyour de interrupción.</span><span class="sxs-lookup"><span data-stu-id="28348-182">By providing two access keys, Azure Cosmos DB enables you tooregenerate hello keys with no interruption tooyour Azure Cosmos DB account.</span></span> <span data-ttu-id="28348-183">También están disponibles las claves de solo lectura para autenticar las operaciones de solo lectura.</span><span class="sxs-lookup"><span data-stu-id="28348-183">Read-only keys for authenticating read-only operations are also available.</span></span> <span data-ttu-id="28348-184">Hay dos claves de lectura y escritura (principal y secundaria) y dos claves de solo lectura (principal y secundaria).</span><span class="sxs-lookup"><span data-stu-id="28348-184">There are two read-write keys (primary and secondary) and two read-only keys (primary and secondary).</span></span>

    $keys = Invoke-AzureRmResourceAction -Action listKeys -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName "<resource-group-name>" -Name "<database-account-name>"

* <span data-ttu-id="28348-185">`<resource-group-name>`nombre de Hola de hello [grupo de recursos de Azure] [ azure-resource-groups] toowhich Hola cuenta de base de datos de base de datos de Azure Cosmos nueva pertenece a.</span><span class="sxs-lookup"><span data-stu-id="28348-185">`<resource-group-name>` hello name of hello [Azure Resource Group][azure-resource-groups] toowhich hello new Azure Cosmos DB database account belongs to.</span></span>
* <span data-ttu-id="28348-186">`<database-account-name>`nombre de Hola de hello cuenta de base de datos de la base de datos de Azure Cosmos.</span><span class="sxs-lookup"><span data-stu-id="28348-186">`<database-account-name>` hello name of hello Azure Cosmos DB database account.</span></span>

<span data-ttu-id="28348-187">Ejemplo:</span><span class="sxs-lookup"><span data-stu-id="28348-187">Example:</span></span>

    $keys = Invoke-AzureRmResourceAction -Action listKeys -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName "rg-test" -Name "docdb-test"

## <span data-ttu-id="28348-188"><a id="list-connection-strings-powershell"></a> Enumeración de cadenas de conexión</span><span class="sxs-lookup"><span data-stu-id="28348-188"><a id="list-connection-strings-powershell"></a> List Connection Strings</span></span>

<span data-ttu-id="28348-189">Para las cuentas de MongoDB, Hola tooconnect de cadena de conexión que se puede recuperar su cuenta de base de datos de MongoDB aplicación toohello mediante el siguiente comando de Hola.</span><span class="sxs-lookup"><span data-stu-id="28348-189">For MongoDB accounts, hello connection string tooconnect your MongoDB app toohello database account can be retrieved using hello following command.</span></span>

    $keys = Invoke-AzureRmResourceAction -Action listConnectionStrings -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName "<resource-group-name>" -Name "<database-account-name>"

* <span data-ttu-id="28348-190">`<resource-group-name>`nombre de Hola de hello [grupo de recursos de Azure] [ azure-resource-groups] toowhich Hola cuenta de base de datos de base de datos de Azure Cosmos nueva pertenece a.</span><span class="sxs-lookup"><span data-stu-id="28348-190">`<resource-group-name>` hello name of hello [Azure Resource Group][azure-resource-groups] toowhich hello new Azure Cosmos DB database account belongs to.</span></span>
* <span data-ttu-id="28348-191">`<database-account-name>`nombre de Hola de hello cuenta de base de datos de la base de datos de Azure Cosmos.</span><span class="sxs-lookup"><span data-stu-id="28348-191">`<database-account-name>` hello name of hello Azure Cosmos DB database account.</span></span>

<span data-ttu-id="28348-192">Ejemplo:</span><span class="sxs-lookup"><span data-stu-id="28348-192">Example:</span></span>

    $keys = Invoke-AzureRmResourceAction -Action listConnectionStrings -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName "rg-test" -Name "docdb-test"

## <span data-ttu-id="28348-193"><a id="regenerate-account-key-powershell"></a> Regenerar la clave de cuenta</span><span class="sxs-lookup"><span data-stu-id="28348-193"><a id="regenerate-account-key-powershell"></a> Regenerate Account Key</span></span>

<span data-ttu-id="28348-194">Debe cambiar la cuenta de base de datos de Azure Cosmos de tooyour de claves de acceso de hello periódicamente toohelp proteger las conexiones.</span><span class="sxs-lookup"><span data-stu-id="28348-194">You should change hello access keys tooyour Azure Cosmos DB account periodically toohelp keep your connections more secure.</span></span> <span data-ttu-id="28348-195">Dos claves de acceso se asignan tooenable se toomaintain conexiones toohello cuenta de base de datos de Azure Cosmos mediante una clave de acceso mientras regenera Hola otra clave de acceso.</span><span class="sxs-lookup"><span data-stu-id="28348-195">Two access keys are assigned tooenable you toomaintain connections toohello Azure Cosmos DB account using one access key while you regenerate hello other access key.</span></span>

    Invoke-AzureRmResourceAction -Action regenerateKey -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName "<resource-group-name>" -Name "<database-account-name>" -Parameters @{"keyKind"="<key-kind>"}

* <span data-ttu-id="28348-196">`<resource-group-name>`nombre de Hola de hello [grupo de recursos de Azure] [ azure-resource-groups] toowhich Hola cuenta de base de datos de base de datos de Azure Cosmos nueva pertenece a.</span><span class="sxs-lookup"><span data-stu-id="28348-196">`<resource-group-name>` hello name of hello [Azure Resource Group][azure-resource-groups] toowhich hello new Azure Cosmos DB database account belongs to.</span></span>
* <span data-ttu-id="28348-197">`<database-account-name>`nombre de Hola de hello cuenta de base de datos de la base de datos de Azure Cosmos.</span><span class="sxs-lookup"><span data-stu-id="28348-197">`<database-account-name>` hello name of hello Azure Cosmos DB database account.</span></span>
* <span data-ttu-id="28348-198">`<key-kind>`Uno de hello cuatro tipos de claves: ["Principal" | " Secundaria "|" PrimaryReadonly "|" SecondaryReadonly"] que desearía tooregenerate.</span><span class="sxs-lookup"><span data-stu-id="28348-198">`<key-kind>` One of hello four types of keys: ["Primary"|"Secondary"|"PrimaryReadonly"|"SecondaryReadonly"] that you would like tooregenerate.</span></span>

<span data-ttu-id="28348-199">Ejemplo:</span><span class="sxs-lookup"><span data-stu-id="28348-199">Example:</span></span>

    Invoke-AzureRmResourceAction -Action regenerateKey -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName "rg-test" -Name "docdb-test" -Parameters @{"keyKind"="Primary"}

## <span data-ttu-id="28348-200"><a id="modify-failover-priority-powershell"></a> Modificación de la prioridad de conmutación por error de una cuenta de base de datos de Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="28348-200"><a id="modify-failover-priority-powershell"></a> Modify Failover Priority of an Azure Cosmos DB Database Account</span></span>

<span data-ttu-id="28348-201">Para las cuentas de base de datos de varias regiones, puede cambiar la prioridad de conmutación por error de Hola de hello diversas regiones que Hola cuenta de base de datos de la base de datos de Azure Cosmos existe en.</span><span class="sxs-lookup"><span data-stu-id="28348-201">For multi-region database accounts, you can change hello failover priority of hello various regions which hello Azure Cosmos DB database account exists in.</span></span> <span data-ttu-id="28348-202">Para obtener más información sobre la conmutación por error en la cuenta de base de datos de Azure Cosmos DB, consulte [Distribución de datos global con Azure Cosmos DB][distribute-data-globally].</span><span class="sxs-lookup"><span data-stu-id="28348-202">For more information on failover in your Azure Cosmos DB database account, see [Distribute data globally with Azure Cosmos DB][distribute-data-globally].</span></span>

    $failoverPolicies = @(@{"locationName"="<write-region-location>"; "failoverPriority"=0},@{"locationName"="<read-region-location>"; "failoverPriority"=1})
    Invoke-AzureRmResourceAction -Action failoverPriorityChange -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName "<resource-group-name>" -Name "<database-account-name>" -Parameters @{"failoverPolicies"=$failoverPolicies}

* <span data-ttu-id="28348-203">`<write-region-location>`nombre de la ubicación de Hola de hello escribir región de cuenta de base de datos de Hola.</span><span class="sxs-lookup"><span data-stu-id="28348-203">`<write-region-location>` hello location name of hello write region of hello database account.</span></span> <span data-ttu-id="28348-204">Esta ubicación es toohave requiere un valor de prioridad de conmutación por error de 0.</span><span class="sxs-lookup"><span data-stu-id="28348-204">This location is required toohave a failover priority value of 0.</span></span> <span data-ttu-id="28348-205">Debe haber exactamente una región de escritura por cuenta de base de datos.</span><span class="sxs-lookup"><span data-stu-id="28348-205">There must be exactly one write region per database account.</span></span>
* <span data-ttu-id="28348-206">`<read-region-location>`nombre de la ubicación de Hola de hello lee región de cuenta de base de datos de Hola.</span><span class="sxs-lookup"><span data-stu-id="28348-206">`<read-region-location>` hello location name of hello read region of hello database account.</span></span> <span data-ttu-id="28348-207">Esta ubicación es toohave requiere un valor de prioridad de conmutación por error de mayor que 0.</span><span class="sxs-lookup"><span data-stu-id="28348-207">This location is required toohave a failover priority value of greater than 0.</span></span> <span data-ttu-id="28348-208">Puede haber más de una región de lectura por cuenta de base de datos.</span><span class="sxs-lookup"><span data-stu-id="28348-208">There can be more than one read regions per database account.</span></span>
* <span data-ttu-id="28348-209">`<resource-group-name>`nombre de Hola de hello [grupo de recursos de Azure] [ azure-resource-groups] toowhich Hola cuenta de base de datos de base de datos de Azure Cosmos nueva pertenece a.</span><span class="sxs-lookup"><span data-stu-id="28348-209">`<resource-group-name>` hello name of hello [Azure Resource Group][azure-resource-groups] toowhich hello new Azure Cosmos DB database account belongs to.</span></span>
* <span data-ttu-id="28348-210">`<database-account-name>`nombre de Hola de hello cuenta de base de datos de la base de datos de Azure Cosmos.</span><span class="sxs-lookup"><span data-stu-id="28348-210">`<database-account-name>` hello name of hello Azure Cosmos DB database account.</span></span>

<span data-ttu-id="28348-211">Ejemplo:</span><span class="sxs-lookup"><span data-stu-id="28348-211">Example:</span></span>

    $failoverPolicies = @(@{"locationName"="East US"; "failoverPriority"=0},@{"locationName"="West US"; "failoverPriority"=1})
    Invoke-AzureRmResourceAction -Action failoverPriorityChange -ResourceType "Microsoft.DocumentDb/databaseAccounts" -ApiVersion "2015-04-08" -ResourceGroupName "rg-test" -Name "docdb-test" -Parameters @{"failoverPolicies"=$failoverPolicies}

## <a name="next-steps"></a><span data-ttu-id="28348-212">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="28348-212">Next steps</span></span>

* <span data-ttu-id="28348-213">tooconnect con. NET, vea [conectar y consultas con .NET](create-documentdb-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="28348-213">tooconnect using .NET, see [Connect and query with .NET](create-documentdb-dotnet.md).</span></span>
* <span data-ttu-id="28348-214">tooconnect mediante .NET Core, vea [conectar y consultas con .NET Core](create-documentdb-dotnet-core.md).</span><span class="sxs-lookup"><span data-stu-id="28348-214">tooconnect using .NET Core, see [Connect and query with .NET Core](create-documentdb-dotnet-core.md).</span></span>
* <span data-ttu-id="28348-215">tooconnect con Node.js, vea [conectar y consulta con Node.js y una aplicación de MongoDB](create-mongodb-nodejs.md).</span><span class="sxs-lookup"><span data-stu-id="28348-215">tooconnect using Node.js, see [Connect and query with Node.js and a MongoDB app](create-mongodb-nodejs.md).</span></span>

<!--Reference style links - using these makes hello source content way more readable than using inline links-->
[powershell-install-configure]: https://docs.microsoft.com/azure/powershell-install-configure
[scaling-globally]: distribute-data-globally.md#EnableGlobalDistribution
[distribute-data-globally]: distribute-data-globally.md
[azure-resource-groups]: https://docs.microsoft.com/azure/azure-resource-manager/resource-group-overview#resource-groups
[azure-resource-tags]: https://docs.microsoft.com/azure/azure-resource-manager/resource-group-using-tags
[rp-rest-api]: https://docs.microsoft.com/rest/api/documentdbresourceprovider/
