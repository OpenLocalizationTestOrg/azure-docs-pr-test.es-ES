---
title: "Supervisión de un servicio en la nube | Microsoft Docs"
description: "Vea cómo supervisar servicios en la nube usando el Portal de Azure clásico."
services: cloud-services
documentationcenter: 
author: thraka
manager: timlt
editor: 
ms.assetid: 5c48d2fb-b8ea-420f-80df-7aebe2b66b1b
ms.service: cloud-services
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 12/07/2015
ms.author: adegeo
ms.openlocfilehash: c369b22cf068a473343b006eb1b06fdd350d31db
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/29/2017
---
# <a name="how-to-monitor-cloud-services"></a><span data-ttu-id="d7743-103">Supervisión de servicios en la nube</span><span class="sxs-lookup"><span data-stu-id="d7743-103">How to Monitor Cloud Services</span></span>
[!INCLUDE [disclaimer](../../includes/disclaimer.md)]

<span data-ttu-id="d7743-104">Puede supervisar las métricas de rendimiento `key` de sus servicios en la nube en el Portal de Azure clásico.</span><span class="sxs-lookup"><span data-stu-id="d7743-104">You can monitor `key` performance metrics for your cloud services in the Azure classic portal.</span></span> <span data-ttu-id="d7743-105">También es posible configurar el nivel de supervisión a mínimo o detallado para cada rol del servicio, así como personalizar la visualización de la supervisión.</span><span class="sxs-lookup"><span data-stu-id="d7743-105">You can set the level of monitoring to minimal and verbose for each service role, and can customize the monitoring displays.</span></span> <span data-ttu-id="d7743-106">Los datos de la supervisión detallada se almacenan en una cuenta de almacenamiento, a la que puede obtener acceso fuera del portal.</span><span class="sxs-lookup"><span data-stu-id="d7743-106">Verbose monitoring data is stored in a storage account, which you can access outside the portal.</span></span> 

<span data-ttu-id="d7743-107">En el Portal de Azure clásico, puede configurar muchos parámetros de las visualizaciones de la supervisión.</span><span class="sxs-lookup"><span data-stu-id="d7743-107">Monitoring displays in the Azure classic portal are highly configurable.</span></span> <span data-ttu-id="d7743-108">Puede elegir las métricas que desee supervisar en la lista de métricas, en la página **Supervisión**, así como las métricas que desea mostrar en los gráficos de métricas de la página **Supervisión** y del panel.</span><span class="sxs-lookup"><span data-stu-id="d7743-108">You can choose the metrics you want to monitor in the metrics list on the **Monitor** page, and you can choose which metrics to plot in metrics charts on the **Monitor** page and the dashboard.</span></span> 

## <a name="concepts"></a><span data-ttu-id="d7743-109">Conceptos</span><span class="sxs-lookup"><span data-stu-id="d7743-109">Concepts</span></span>
<span data-ttu-id="d7743-110">De forma predeterminada, para un servicio en la nube nuevo, se proporciona la supervisión mínima con contadores de rendimiento recopilados del sistema operativo host para las instancias de los roles (máquinas virtuales).</span><span class="sxs-lookup"><span data-stu-id="d7743-110">By default, minimal monitoring is provided for a new cloud service using performance counters gathered from the host operating system for the roles instances (virtual machines).</span></span> <span data-ttu-id="d7743-111">Las métricas mínimas se limitan a porcentaje de CPU, datos de entrada, datos de salida, rendimiento de lectura de disco y rendimiento de escritura de disco.</span><span class="sxs-lookup"><span data-stu-id="d7743-111">The minimal metrics are limited to CPU Percentage, Data In, Data Out, Disk Read Throughput, and Disk Write Throughput.</span></span> <span data-ttu-id="d7743-112">Al configurar la supervisión detallada, puede recibir métricas adicionales en función de los datos de rendimiento de las máquinas virtuales (instancias de rol).</span><span class="sxs-lookup"><span data-stu-id="d7743-112">By configuring verbose monitoring, you can receive additional metrics based on performance data within the virtual machines (role instances).</span></span> <span data-ttu-id="d7743-113">Las métricas detalladas facilitan el análisis preciso de los problemas que se producen durante las operaciones de las aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="d7743-113">The verbose metrics enable closer analysis of issues that occur during application operations.</span></span>

<span data-ttu-id="d7743-114">De forma predeterminada, los datos del contador de rendimiento de las instancias de los roles se muestrean y transfieren desde la instancia de rol en intervalos de 3 minutos.</span><span class="sxs-lookup"><span data-stu-id="d7743-114">By default performance counter data from role instances is sampled and transferred from the role instance at 3-minute intervals.</span></span> <span data-ttu-id="d7743-115">Al activar la supervisión detallada, los datos del contador de rendimiento se agregan para cada instancia de rol y entre las instancias de rol de cada rol en intervalos de 5 minutos, 1 hora y 12 horas.</span><span class="sxs-lookup"><span data-stu-id="d7743-115">When you enable verbose monitoring, the raw performance counter data is aggregated for each role instance and across role instances for each role at intervals of 5 minutes, 1 hour, and 12 hours.</span></span> <span data-ttu-id="d7743-116">Los datos agregados se eliminan después de 10 días.</span><span class="sxs-lookup"><span data-stu-id="d7743-116">The aggregated data is purged after 10 days.</span></span>

<span data-ttu-id="d7743-117">Después de activar la supervisión detallada, los datos de supervisión agregados se almacenan en tablas en su cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="d7743-117">After you enable verbose monitoring, the aggregated monitoring data is stored in tables in your storage account.</span></span> <span data-ttu-id="d7743-118">Para activar la supervisión detallada de un rol, debe configurar una cadena de conexión de diagnósticos que lo vincule a la cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="d7743-118">To enable verbose monitoring for a role, you must configure a diagnostics connection string that links to the storage account.</span></span> <span data-ttu-id="d7743-119">Puede utilizar cuentas de almacenamiento diferentes para roles diferentes.</span><span class="sxs-lookup"><span data-stu-id="d7743-119">You can use different storage accounts for different roles.</span></span>

<span data-ttu-id="d7743-120">La habilitación de la supervisión detallada aumentará los costos de almacenamiento relacionados con el almacenamiento de datos, la transferencia de datos y las transacciones de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="d7743-120">Enabling verbose monitoring increases your storage costs related to data storage, data transfer, and storage transactions.</span></span> <span data-ttu-id="d7743-121">La supervisión mínima no requiere una cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="d7743-121">Minimal monitoring does not require a storage account.</span></span> <span data-ttu-id="d7743-122">Los datos de las métricas que se exponen a un nivel mínimo de supervisión no se almacenan en su cuenta de almacenamiento, incluso si configura la supervisión en un nivel detallado.</span><span class="sxs-lookup"><span data-stu-id="d7743-122">The data for the metrics that are exposed at the minimal monitoring level are not stored in your storage account, even if you set the monitoring level to verbose.</span></span>

## <a name="how-to-configure-monitoring-for-cloud-services"></a><span data-ttu-id="d7743-123">Configuración de la supervisión para los servicios en la nube</span><span class="sxs-lookup"><span data-stu-id="d7743-123">How to: Configure monitoring for cloud services</span></span>
<span data-ttu-id="d7743-124">Use los siguientes procedimientos para configurar la supervisión detallada o mínima en el Portal de Azure clásico.</span><span class="sxs-lookup"><span data-stu-id="d7743-124">Use the following procedures to configure verbose or minimal monitoring in the Azure classic portal.</span></span> 

### <a name="before-you-begin"></a><span data-ttu-id="d7743-125">Antes de empezar</span><span class="sxs-lookup"><span data-stu-id="d7743-125">Before you begin</span></span>
* <span data-ttu-id="d7743-126">Cree una cuenta de almacenamiento *clásico* para almacenar los datos de supervisión.</span><span class="sxs-lookup"><span data-stu-id="d7743-126">Create a *classic* storage account to store the monitoring data.</span></span> <span data-ttu-id="d7743-127">Puede utilizar cuentas de almacenamiento diferentes para roles diferentes.</span><span class="sxs-lookup"><span data-stu-id="d7743-127">You can use different storage accounts for different roles.</span></span> <span data-ttu-id="d7743-128">Para obtener más información, vea [Cómo crear una cuenta de almacenamiento](../storage/common/storage-create-storage-account.md#create-a-storage-account).</span><span class="sxs-lookup"><span data-stu-id="d7743-128">For more information, see [How to create a storage account](../storage/common/storage-create-storage-account.md#create-a-storage-account).</span></span>
* <span data-ttu-id="d7743-129">Active Diagnósticos de Azure en sus roles de servicios en la nube.</span><span class="sxs-lookup"><span data-stu-id="d7743-129">Enable Azure Diagnostics for your cloud service roles.</span></span> <span data-ttu-id="d7743-130">Consulte [Configuración de Diagnósticos para servicios en la nube](cloud-services-dotnet-diagnostics.md).</span><span class="sxs-lookup"><span data-stu-id="d7743-130">See [Configuring Diagnostics for Cloud Services](cloud-services-dotnet-diagnostics.md).</span></span>

<span data-ttu-id="d7743-131">Asegúrese de que la cadena de conexión de diagnóstico está presente en la configuración de roles.</span><span class="sxs-lookup"><span data-stu-id="d7743-131">Ensure that the diagnostics connection string is present in the Role configuration.</span></span> <span data-ttu-id="d7743-132">No puede activar la supervisión detallada hasta que habilite Diagnósticos de Azure e incluya una cadena de conexión de diagnóstico en la configuración de roles.</span><span class="sxs-lookup"><span data-stu-id="d7743-132">You cannot turn on verbose monitoring until you enable Azure Diagnostics and include a diagnostics connection string in the Role configuration.</span></span>   

> [!NOTE]
> <span data-ttu-id="d7743-133">Los proyectos destinados a Azure SDK 2.5 no incluían automáticamente la cadena de conexión de diagnóstico en la plantilla de proyecto.</span><span class="sxs-lookup"><span data-stu-id="d7743-133">Projects targeting Azure SDK 2.5 did not automatically include the diagnostics connection string in the project template.</span></span> <span data-ttu-id="d7743-134">Para estos proyectos, deberá agregar manualmente la cadena de conexión de diagnóstico a la configuración de roles.</span><span class="sxs-lookup"><span data-stu-id="d7743-134">For these projects, you need to manually add the diagnostics connection string to the Role configuration.</span></span>
> 
> 

<span data-ttu-id="d7743-135">**Para agregar manualmente la cadena de conexión de diagnóstico a la configuración de roles**</span><span class="sxs-lookup"><span data-stu-id="d7743-135">**To manually add diagnostics connection string to Role configuration**</span></span>

1. <span data-ttu-id="d7743-136">Abra el proyecto Servicio en la nube en Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="d7743-136">Open the Cloud Service project in Visual Studio</span></span>
2. <span data-ttu-id="d7743-137">Haga doble clic en el **rol** para abrir el diseñador de roles y seleccione la pestaña **Configuración**.</span><span class="sxs-lookup"><span data-stu-id="d7743-137">Double-click on the **Role** to open the Role designer and select the **Settings** tab</span></span>
3. <span data-ttu-id="d7743-138">Busque un ajuste llamado **Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString**.</span><span class="sxs-lookup"><span data-stu-id="d7743-138">Look for a setting named **Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString**.</span></span> 
4. <span data-ttu-id="d7743-139">Si esta ajuste no está presente, haga clic en el botón **Agregar ajuste** para agregarlo a la configuración y cambie el tipo del ajuste nuevo a **ConnectionString**</span><span class="sxs-lookup"><span data-stu-id="d7743-139">If this setting is not present, click on the **Add Setting** button to add it to the configuration and change the type for the new setting to **ConnectionString**</span></span>
5. <span data-ttu-id="d7743-140">Establezca el valor de la cadena de conexión haciendo clic en el botón **...** .</span><span class="sxs-lookup"><span data-stu-id="d7743-140">Set the value for connection string the by clicking on the **...** button.</span></span> <span data-ttu-id="d7743-141">Se abrirá un cuadro de diálogo en el que podrá seleccionar una cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="d7743-141">This will open up a dialog allowing you to select a storage account.</span></span>
   
    ![Configuración de Visual Studio](./media/cloud-services-how-to-monitor/CloudServices_Monitor_VisualStudioDiagnosticsConnectionString.png)

### <a name="to-change-the-monitoring-level-to-verbose-or-minimal"></a><span data-ttu-id="d7743-143">Para cambiar el nivel de supervisión a detallado o mínimo</span><span class="sxs-lookup"><span data-stu-id="d7743-143">To change the monitoring level to verbose or minimal</span></span>
1. <span data-ttu-id="d7743-144">En el [Portal de Azure clásico](https://manage.windowsazure.com/), abra la página **Configurar** de la implementación del servicio en la nube.</span><span class="sxs-lookup"><span data-stu-id="d7743-144">In the [Azure classic portal](https://manage.windowsazure.com/), open the **Configure** page for the cloud service deployment.</span></span>
2. <span data-ttu-id="d7743-145">En **Nivel**, haga clic en **Detallado** o **Mínimo**.</span><span class="sxs-lookup"><span data-stu-id="d7743-145">In **Level**, click **Verbose** or **Minimal**.</span></span> 
3. <span data-ttu-id="d7743-146">Haga clic en **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="d7743-146">Click **Save**.</span></span>

<span data-ttu-id="d7743-147">Después de activar la supervisión detallada, debería empezar a ver los datos de supervisión en el Portal de Azure clásico en menos de una hora.</span><span class="sxs-lookup"><span data-stu-id="d7743-147">After you turn on verbose monitoring, you should start seeing the monitoring data in the Azure classic portal within the hour.</span></span>

<span data-ttu-id="d7743-148">Los datos del contador de rendimiento y los datos de supervisión agregados se almacenan en la cuenta de almacenamiento, en tablas, en función del identificador de implementación de los roles.</span><span class="sxs-lookup"><span data-stu-id="d7743-148">The raw performance counter data and aggregated monitoring data are stored in the storage account in tables qualified by the deployment ID for the roles.</span></span> 

## <a name="how-to-receive-alerts-for-cloud-service-metrics"></a><span data-ttu-id="d7743-149">Recepción de alertas de métricas de servicios en la nube</span><span class="sxs-lookup"><span data-stu-id="d7743-149">How to: Receive alerts for cloud service metrics</span></span>
<span data-ttu-id="d7743-150">Puede recibir alertas basadas en las métricas de supervisión de los servicios en la nube.</span><span class="sxs-lookup"><span data-stu-id="d7743-150">You can receive alerts based on your cloud service monitoring metrics.</span></span> <span data-ttu-id="d7743-151">En la página de **Servicios de administración** del Portal de Azure clásico, puede crear una regla para desencadenar una alerta cuando la métrica seleccionada alcance el valor que haya especificado.</span><span class="sxs-lookup"><span data-stu-id="d7743-151">On the **Management Services** page of the Azure classic portal, you can create a rule to trigger an alert when the metric you choose reaches a value that you specify.</span></span> <span data-ttu-id="d7743-152">Puede también elegir que se envíe un correo electrónico cuando se desencadene la alerta.</span><span class="sxs-lookup"><span data-stu-id="d7743-152">You can also choose to have email sent when the alert is triggered.</span></span> <span data-ttu-id="d7743-153">Para obtener más información, consulte [Recepción notificaciones de alerta y administración de reglas de alerta en Azure](http://go.microsoft.com/fwlink/?LinkId=309356).</span><span class="sxs-lookup"><span data-stu-id="d7743-153">For more information, see [How to: Receive Alert Notifications and Manage Alert Rules in Azure](http://go.microsoft.com/fwlink/?LinkId=309356).</span></span>

## <a name="how-to-add-metrics-to-the-metrics-table"></a><span data-ttu-id="d7743-154">Adición de métricas a la tabla de métricas</span><span class="sxs-lookup"><span data-stu-id="d7743-154">How to: Add metrics to the metrics table</span></span>
1. <span data-ttu-id="d7743-155">En el [Portal de Azure clásico](http://manage.windowsazure.com/), abra la página **Supervisión** del servicio en la nube.</span><span class="sxs-lookup"><span data-stu-id="d7743-155">In the [Azure classic portal](http://manage.windowsazure.com/), open the **Monitor** page for the cloud service.</span></span>
   
    <span data-ttu-id="d7743-156">La tabla de métricas muestra de forma predeterminada un subconjunto de las métricas disponibles.</span><span class="sxs-lookup"><span data-stu-id="d7743-156">By default, the metrics table displays a subset of the available metrics.</span></span> <span data-ttu-id="d7743-157">La ilustración muestra las métricas detalladas predeterminadas de un servicio en la nube, que están limitadas al contador de rendimiento Memoria/MBytes disponibles, con datos agregados en el nivel del rol.</span><span class="sxs-lookup"><span data-stu-id="d7743-157">The illustration shows the default verbose metrics for a cloud service, which is limited to the Memory\Available MBytes performance counter, with data aggregated at the role level.</span></span> <span data-ttu-id="d7743-158">Use **Agregar métricas** para seleccionar las métricas agregadas y de nivel del rol adicionales que quiera supervisar en el Portal de Azure clásico.</span><span class="sxs-lookup"><span data-stu-id="d7743-158">Use **Add Metrics** to select additional aggregate and role-level metrics to monitor in the Azure classic portal.</span></span>
   
    ![Visualización detallada](./media/cloud-services-how-to-monitor/CloudServices_DefaultVerboseDisplay.png)
2. <span data-ttu-id="d7743-160">Para agregar métricas a la tabla de métricas:</span><span class="sxs-lookup"><span data-stu-id="d7743-160">To add metrics to the metrics table:</span></span>
   
   1. <span data-ttu-id="d7743-161">Haga clic en **Agregar métricas** para abrir **Elegir métricas**, como se muestra a continuación.</span><span class="sxs-lookup"><span data-stu-id="d7743-161">Click **Add Metrics** to open **Choose Metrics**, shown below.</span></span>
      
       <span data-ttu-id="d7743-162">La primera métrica disponible se expande para mostrar las opciones que están disponibles.</span><span class="sxs-lookup"><span data-stu-id="d7743-162">The first available metric is expanded to show options that are available.</span></span> <span data-ttu-id="d7743-163">En cada métrica, la opción superior muestra los datos de supervisión agregados de todos los roles.</span><span class="sxs-lookup"><span data-stu-id="d7743-163">For each metric, the top option displays aggregated monitoring data for all roles.</span></span> <span data-ttu-id="d7743-164">Además, puede elegir los roles individuales de los que desee visualizar los datos.</span><span class="sxs-lookup"><span data-stu-id="d7743-164">In addition, you can choose individual roles to display data for.</span></span>
      
       ![Agregar métricas](./media/cloud-services-how-to-monitor/CloudServices_AddMetrics.png)
   2. <span data-ttu-id="d7743-166">Para seleccionar las métricas que desea visualizar</span><span class="sxs-lookup"><span data-stu-id="d7743-166">To select metrics to display</span></span>
      
      * <span data-ttu-id="d7743-167">Haga clic en la flecha abajo sobre la métrica para expandir las opciones de supervisión.</span><span class="sxs-lookup"><span data-stu-id="d7743-167">Click the down arrow by the metric to expand the monitoring options.</span></span>
      * <span data-ttu-id="d7743-168">Active la casilla de verificación de cada opción de supervisión que desee visualizar.</span><span class="sxs-lookup"><span data-stu-id="d7743-168">Select the check box for each monitoring option you want to display.</span></span>
        
        <span data-ttu-id="d7743-169">Puede visualizar hasta 50 métricas en la tabla de métricas.</span><span class="sxs-lookup"><span data-stu-id="d7743-169">You can display up to 50 metrics in the metrics table.</span></span>
        
        > [!TIP]
        > <span data-ttu-id="d7743-170">En la supervisión detallada, la lista de métricas puede contener muchas métricas.</span><span class="sxs-lookup"><span data-stu-id="d7743-170">In verbose monitoring, the metrics list can contain dozens of metrics.</span></span> <span data-ttu-id="d7743-171">Para mostrar una barra de desplazamiento, desplace el mouse sobre el lado derecho del cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="d7743-171">To display a scrollbar, hover over the right side of the dialog box.</span></span> <span data-ttu-id="d7743-172">Para filtrar la lista, haga clic en el icono de búsqueda y escriba en texto en el cuadro de búsqueda como se muestra a continuación.</span><span class="sxs-lookup"><span data-stu-id="d7743-172">To filter the list, click the search icon, and enter text in the search box, as shown below.</span></span>
        > 
        > 
        
        ![Búsqueda de Agregar métricas](./media/cloud-services-how-to-monitor/CloudServices_AddMetrics_Search.png)
3. <span data-ttu-id="d7743-174">Después de haber seleccionado las métricas, haga clic en la marca de verificación.</span><span class="sxs-lookup"><span data-stu-id="d7743-174">After you finish selecting metrics, click OK (checkmark).</span></span>
   
    <span data-ttu-id="d7743-175">Las métricas seleccionadas se agregan a la tabla de métricas como se muestra a continuación.</span><span class="sxs-lookup"><span data-stu-id="d7743-175">The selected metrics are added to the metrics table, as shown below.</span></span>
   
    ![supervisar métricas](./media/cloud-services-how-to-monitor/CloudServices_Monitor_UpdatedMetrics.png)
4. <span data-ttu-id="d7743-177">Para eliminar una métrica de la tabla de métricas, haga clic en la métrica para seleccionarla y, a continuación, haga clic en **Eliminar métrica**.</span><span class="sxs-lookup"><span data-stu-id="d7743-177">To delete a metric from the metrics table, click the metric to select it, and then click **Delete Metric**.</span></span> <span data-ttu-id="d7743-178">( **Eliminar métrica** solo se verá si se ha seleccionado una métrica).</span><span class="sxs-lookup"><span data-stu-id="d7743-178">(You only see **Delete Metric** when you have a metric selected.)</span></span>

### <a name="to-add-custom-metrics-to-the-metrics-table"></a><span data-ttu-id="d7743-179">Para agregar métricas personalizadas a la tabla de métricas</span><span class="sxs-lookup"><span data-stu-id="d7743-179">To add custom metrics to the metrics table</span></span>
<span data-ttu-id="d7743-180">El nivel de supervisión **Detallado** proporciona una lista de métricas predeterminadas que se pueden supervisar en el portal.</span><span class="sxs-lookup"><span data-stu-id="d7743-180">The **Verbose** monitoring level provides a list of default metrics that you can monitor on the portal.</span></span> <span data-ttu-id="d7743-181">Además de estas puede supervisar cualquier métrica personalizada o contador de rendimiento que haya definido la aplicación a través del portal.</span><span class="sxs-lookup"><span data-stu-id="d7743-181">In addition to these you can monitor any custom metrics or performance counters defined by your application through the portal.</span></span>

<span data-ttu-id="d7743-182">En los siguientes pasos se asume que ha activado el nivel de supervisión **Detallado** y que ha configurado la aplicación para que recopile y transfiera los contadores de rendimiento personalizados.</span><span class="sxs-lookup"><span data-stu-id="d7743-182">The following steps assume that you have turned on **Verbose** monitoring level and have configured your application to collect and transfer custom performance counters.</span></span> 

<span data-ttu-id="d7743-183">Para mostrar los contadores de rendimiento personalizados en el portal, es preciso actualizar la configuración de wad-control-container:</span><span class="sxs-lookup"><span data-stu-id="d7743-183">To display the custom performance counters in the portal you need to update the configuration in wad-control-container:</span></span>

1. <span data-ttu-id="d7743-184">Abra el blob wad-control-container en una cuenta de almacenamiento de diagnósticos.</span><span class="sxs-lookup"><span data-stu-id="d7743-184">Open the wad-control-container blob in your diagnostics storage account.</span></span> <span data-ttu-id="d7743-185">Para ello, se pueden utilizar Visual Studio o cualquier otro explorador de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="d7743-185">You can use Visual Studio or any other storage explorer to do this.</span></span>
   
    ![Explorador de servidores de Visual Studio](./media/cloud-services-how-to-monitor/CloudServices_Monitor_VisualStudioBlobExplorer.png)
2. <span data-ttu-id="d7743-187">Navegue por la ruta de acceso del blob usando el patrón **RoleName/DeploymentId y RoleInstance** para encontrar la configuración de la instancia de rol.</span><span class="sxs-lookup"><span data-stu-id="d7743-187">Navigate the blob path using the pattern **DeploymentId/RoleName/RoleInstance** to find the configuration for your role instance.</span></span> 
   
    ![Explorador de almacenamiento de Visual Studio](./media/cloud-services-how-to-monitor/CloudServices_Monitor_VisualStudioStorage.png)
3. <span data-ttu-id="d7743-189">Descargue el archivo de configuración de la instancia de rol y actualícelo para que incluya cualquier contador de rendimiento personalizado.</span><span class="sxs-lookup"><span data-stu-id="d7743-189">Download the configuration file for your role instance and update it to include any custom performance counters.</span></span> <span data-ttu-id="d7743-190">Por ejemplo para supervisar *Bytes de escritura en disco/s* para la *unidad C* agregue lo siguiente en el nodo **PerformanceCounters\Subscriptions**</span><span class="sxs-lookup"><span data-stu-id="d7743-190">For example to monitor *Disk Write Bytes/sec* for the *C drive* add the following under **PerformanceCounters\Subscriptions** node</span></span>
   
    ```xml
    <PerformanceCounterConfiguration>
    <CounterSpecifier>\LogicalDisk(C:)\Disk Write Bytes/sec</CounterSpecifier>
    <SampleRateInSeconds>180</SampleRateInSeconds>
    </PerformanceCounterConfiguration>
    ```
4. <span data-ttu-id="d7743-191">Guarde los cambios y vuelva a cargar el archivo de configuración en la misma ubicación, sobrescribiendo el archivo existente en el blob.</span><span class="sxs-lookup"><span data-stu-id="d7743-191">Save the changes and upload the configuration file back to the same location overwriting the existing file in the blob.</span></span>
5. <span data-ttu-id="d7743-192">Alterne al modo Detallado de la configuración del Portal de Azure clásico.</span><span class="sxs-lookup"><span data-stu-id="d7743-192">Toggle to Verbose mode in the Azure classic portal configuration.</span></span> <span data-ttu-id="d7743-193">Si ya estaba en dicho modo, tendrá que alternar a Mínimo y volver a Detallado.</span><span class="sxs-lookup"><span data-stu-id="d7743-193">If you were in Verbose mode already you will have to toggle to minimal and back to verbose.</span></span>
6. <span data-ttu-id="d7743-194">El contador de rendimiento personalizado estará disponible en el cuadro de diálogo **Agregar métricas** .</span><span class="sxs-lookup"><span data-stu-id="d7743-194">The custom performance counter will now be available in the **Add Metrics** dialog box.</span></span> 

## <a name="how-to-customize-the-metrics-chart"></a><span data-ttu-id="d7743-195">Personalización del gráfico de métricas</span><span class="sxs-lookup"><span data-stu-id="d7743-195">How to: Customize the metrics chart</span></span>
1. <span data-ttu-id="d7743-196">En la tabla de métricas, seleccione las métricas que desee mostrar en el gráfico de métricas (un máximo de 6).</span><span class="sxs-lookup"><span data-stu-id="d7743-196">In the metrics table, select up to 6 metrics to plot on the metrics chart.</span></span> <span data-ttu-id="d7743-197">Para seleccionar una métrica, haga clic en la casilla de verificación del lado izquierdo.</span><span class="sxs-lookup"><span data-stu-id="d7743-197">To select a metric, click the check box on its left side.</span></span> <span data-ttu-id="d7743-198">Para quitar una métrica del gráfico de métricas, desmarque la casilla de verificación en la tabla de métricas.</span><span class="sxs-lookup"><span data-stu-id="d7743-198">To remove a metric from the metrics chart, clear its check box in the metrics table.</span></span>
   
    <span data-ttu-id="d7743-199">A medida que seleccione métricas en la tabla de métricas, estas se agregarán al gráfico de métricas.</span><span class="sxs-lookup"><span data-stu-id="d7743-199">As you select metrics in the metrics table, the metrics are added to the metrics chart.</span></span> <span data-ttu-id="d7743-200">En un modo de visualización reducido, una lista desplegable **n más** contiene los encabezados de las métricas que no caben en la pantalla.</span><span class="sxs-lookup"><span data-stu-id="d7743-200">On a narrow display, an **n more** drop-down list contains metric headers that won't fit the display.</span></span>
2. <span data-ttu-id="d7743-201">Para alternar entre los valores relativos de visualización (solo el valor final de cada métrica) y los valores absolutos (se muestra el eje Y), seleccione Relative o Absolute en la parte superior del gráfico.</span><span class="sxs-lookup"><span data-stu-id="d7743-201">To switch between displaying relative values (final value only for each metric) and absolute values (Y axis displayed), select Relative or Absolute at the top of the chart.</span></span>
   
    ![Relative o Absolute](./media/cloud-services-how-to-monitor/CloudServices_Monitor_RelativeAbsolute.png)
3. <span data-ttu-id="d7743-203">Para cambiar el intervalo de tiempo que se muestra en el gráfico de métricas, seleccione 1 hora, 24 horas o 7 días en la parte superior del gráfico.</span><span class="sxs-lookup"><span data-stu-id="d7743-203">To change the time range the metrics chart displays, select 1 hour, 24 hours, or 7 days at the top of the chart.</span></span>
   
    ![Periodo de la pantalla de supervisión](./media/cloud-services-how-to-monitor/CloudServices_Monitor_DisplayPeriod.png)
   
    <span data-ttu-id="d7743-205">En el panel del gráfico de métricas, el método de visualización de métricas es diferente.</span><span class="sxs-lookup"><span data-stu-id="d7743-205">On the dashboard metrics chart, the method for plotting metrics is different.</span></span> <span data-ttu-id="d7743-206">Hay un conjunto de métricas estándar disponible, y las métricas se agregan o se borran seleccionando el encabezado de la métrica.</span><span class="sxs-lookup"><span data-stu-id="d7743-206">A standard set of metrics is available, and metrics are added or removed by selecting the metric header.</span></span>

### <a name="to-customize-the-metrics-chart-on-the-dashboard"></a><span data-ttu-id="d7743-207">Para personalizar el gráfico de métricas en el panel</span><span class="sxs-lookup"><span data-stu-id="d7743-207">To customize the metrics chart on the dashboard</span></span>
1. <span data-ttu-id="d7743-208">Abra el panel del servicio en la nube.</span><span class="sxs-lookup"><span data-stu-id="d7743-208">Open the dashboard for the cloud service.</span></span>
2. <span data-ttu-id="d7743-209">Agregue o borre las métricas del gráfico:</span><span class="sxs-lookup"><span data-stu-id="d7743-209">Add or remove metrics from the chart:</span></span>
   
   * <span data-ttu-id="d7743-210">Para mostrar una nueva métrica, active la casilla de verificación de la métrica en los encabezados del gráfico.</span><span class="sxs-lookup"><span data-stu-id="d7743-210">To plot a new metric, select the check box for the metric in the chart headers.</span></span> <span data-ttu-id="d7743-211">En un modo de visualización reducido, haga clic en la flecha abajo junto a ***n*??metrics** para mostrar una métrica que el área del encabezado del gráfico no puede mostrar.</span><span class="sxs-lookup"><span data-stu-id="d7743-211">On a narrow display, click the down arrow by ***n*??metrics** to plot a metric the chart header area can't display.</span></span>
   * <span data-ttu-id="d7743-212">Para eliminar una métrica que se muestra en el gráfico, desmarque la casilla de verificación en su encabezado.</span><span class="sxs-lookup"><span data-stu-id="d7743-212">To delete a metric that is plotted on the chart, clear the check box by its header.</span></span>
   
3. <span data-ttu-id="d7743-213">Alterne entre las pantallas **Relativo** y **Absoluto**.</span><span class="sxs-lookup"><span data-stu-id="d7743-213">Switch between **Relative** and **Absolute** displays.</span></span>
4. <span data-ttu-id="d7743-214">Elija 1 hora, 24 horas o 7 días para visualizar los datos correspondientes.</span><span class="sxs-lookup"><span data-stu-id="d7743-214">Choose 1 hour, 24 hours, or 7 days of data to display.</span></span>

## <a name="how-to-access-verbose-monitoring-data-outside-the-azure-classic-portal"></a><span data-ttu-id="d7743-215">Acceso a los datos de supervisión detallada fuera del Portal de Azure clásico</span><span class="sxs-lookup"><span data-stu-id="d7743-215">How to: Access verbose monitoring data outside the Azure classic portal</span></span>
<span data-ttu-id="d7743-216">Los datos de la supervisión detallada se almacenan en tablas en las cuentas de almacenamiento que ha especificado para cada rol.</span><span class="sxs-lookup"><span data-stu-id="d7743-216">Verbose monitoring data is stored in tables in the storage accounts that you specify for each role.</span></span> <span data-ttu-id="d7743-217">Para cada implementación de servicios en la nube, se crean seis tablas para el rol.</span><span class="sxs-lookup"><span data-stu-id="d7743-217">For each cloud service deployment, six tables are created for the role.</span></span> <span data-ttu-id="d7743-218">Se crean dos tablas en cada intervalo (5 minutos, 1 hora y 12 horas).</span><span class="sxs-lookup"><span data-stu-id="d7743-218">Two tables are created for each (5 minutes, 1 hour, and 12 hours).</span></span> <span data-ttu-id="d7743-219">Una de estas tablas almacena los agregados a nivel de rol y, la otra, los agregados de las instancias de rol.</span><span class="sxs-lookup"><span data-stu-id="d7743-219">One of these tables stores role-level aggregations; the other table stores aggregations for role instances.</span></span> 

<span data-ttu-id="d7743-220">Los nombres de tabla tienen el siguiente formato:</span><span class="sxs-lookup"><span data-stu-id="d7743-220">The table names have the following format:</span></span>

```
WAD*deploymentID*PT*aggregation_interval*[R|RI]Table
```

<span data-ttu-id="d7743-221">donde:</span><span class="sxs-lookup"><span data-stu-id="d7743-221">where:</span></span>

* <span data-ttu-id="d7743-222">*deploymentID* es el GUID asignado a la implementación del servicio en la nube</span><span class="sxs-lookup"><span data-stu-id="d7743-222">*deploymentID* is the GUID assigned to the cloud service deployment</span></span>
* <span data-ttu-id="d7743-223">*aggregation_interval* = 5M, 1H o 12H</span><span class="sxs-lookup"><span data-stu-id="d7743-223">*aggregation_interval* = 5M, 1H, or 12H</span></span>
* <span data-ttu-id="d7743-224">agregados a nivel de rol = R</span><span class="sxs-lookup"><span data-stu-id="d7743-224">role-level aggregations = R</span></span>
* <span data-ttu-id="d7743-225">agregados de las instancias de rol = RI</span><span class="sxs-lookup"><span data-stu-id="d7743-225">aggregations for role instances = RI</span></span>

<span data-ttu-id="d7743-226">Por ejemplo, las tablas siguientes almacenarían datos de supervisión detallados agregados en intervalos de 1 hora:</span><span class="sxs-lookup"><span data-stu-id="d7743-226">For example, the following tables would store verbose monitoring data aggregated at 1-hour intervals:</span></span>

```
WAD8b7c4233802442b494d0cc9eb9d8dd9fPT1HRTable (hourly aggregations for the role)

WAD8b7c4233802442b494d0cc9eb9d8dd9fPT1HRITable (hourly aggregations for role instances)
```
