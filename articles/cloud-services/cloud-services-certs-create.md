---
title: "Cloud Services y certificados de administración | Microsoft Docs"
description: Aprenda a crear y a usar certificados con Microsoft Azure
services: cloud-services
documentationcenter: .net
author: Thraka
manager: timlt
editor: 
ms.assetid: fc70d00d-899b-4771-855f-44574dc4bfc6
ms.service: cloud-services
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 04/19/2017
ms.author: adegeo
ms.openlocfilehash: f760bfd93b19c43d12889b5dd38015c5eba0a8ac
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/18/2017
---
# <a name="certificates-overview-for-azure-cloud-services"></a><span data-ttu-id="c2611-103">Introducción a los certificados para Azure Cloud Services</span><span class="sxs-lookup"><span data-stu-id="c2611-103">Certificates overview for Azure Cloud Services</span></span>
<span data-ttu-id="c2611-104">Los certificados se usan en Azure para los servicios en la nube ([certificados de servicio](#what-are-service-certificates)) y para realizar la autenticación con la API de administración ([certificados de administración](#what-are-management-certificates) cuando se usa el Portal de Azure clásico y la versión no clásica de Azure Portal).</span><span class="sxs-lookup"><span data-stu-id="c2611-104">Certificates are used in Azure for cloud services ([service certificates](#what-are-service-certificates)) and for authenticating with the management API ([management certificates](#what-are-management-certificates) when using the Azure classic portal and not the non-classic Azure portal).</span></span> <span data-ttu-id="c2611-105">En este tema se proporciona información general de ambos tipos de certificado, cómo [crearlos](#create) y cómo [implementarlos](#deploy) en Azure.</span><span class="sxs-lookup"><span data-stu-id="c2611-105">This topic gives a general overview of both certificate types, how to [create](#create) and [deploy](#deploy) them to Azure.</span></span>

<span data-ttu-id="c2611-106">Los certificados usados en Azure son certificados x.509 v3 y pueden estar firmados por otro certificado de confianza o estar autofirmados.</span><span class="sxs-lookup"><span data-stu-id="c2611-106">Certificates used in Azure are x.509 v3 certificates and can be signed by another trusted certificate or they can be self-signed.</span></span> <span data-ttu-id="c2611-107">Un certificado autofirmado está firmado por su propio creador; por lo tanto, no es de confianza de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="c2611-107">A self-signed certificate is signed by its own creator, therefore it is not trusted by default.</span></span> <span data-ttu-id="c2611-108">La mayoría de los exploradores pueden pasar por alto este problema.</span><span class="sxs-lookup"><span data-stu-id="c2611-108">Most browsers can ignore this problem.</span></span> <span data-ttu-id="c2611-109">Solo debe usar certificados autofirmados cuando desarrolle y pruebe sus servicios en la nube.</span><span class="sxs-lookup"><span data-stu-id="c2611-109">You should only use self-signed certificates when developing and testing your cloud services.</span></span> 

<span data-ttu-id="c2611-110">Los certificados utilizados por Azure pueden contener una clave privada o pública.</span><span class="sxs-lookup"><span data-stu-id="c2611-110">Certificates used by Azure can contain a private or a public key.</span></span> <span data-ttu-id="c2611-111">Los certificados tienen una huella digital que proporciona un medio para identificarlos de forma inequívoca.</span><span class="sxs-lookup"><span data-stu-id="c2611-111">Certificates have a thumbprint that provides a means to identify them in an unambiguous way.</span></span> <span data-ttu-id="c2611-112">Esta huella digital se utiliza en el [archivo de configuración](cloud-services-configure-ssl-certificate.md) de Azure para identificar qué certificado debe usar un servicio en la nube.</span><span class="sxs-lookup"><span data-stu-id="c2611-112">This thumbprint is used in the Azure [configuration file](cloud-services-configure-ssl-certificate.md) to identify which certificate a cloud service should use.</span></span> 

## <a name="what-are-service-certificates"></a><span data-ttu-id="c2611-113">¿Qué son los certificados de servicio?</span><span class="sxs-lookup"><span data-stu-id="c2611-113">What are service certificates?</span></span>
<span data-ttu-id="c2611-114">Los certificados de servicio están vinculados a los servicios en la nube y posibilitan la comunicación segura hacia y desde el servicio.</span><span class="sxs-lookup"><span data-stu-id="c2611-114">Service certificates are attached to cloud services and enable secure communication to and from the service.</span></span> <span data-ttu-id="c2611-115">Por ejemplo, si implementó un rol web, desearía proporcionar un certificado que pueda autenticar un punto de conexión HTTPS expuesto.</span><span class="sxs-lookup"><span data-stu-id="c2611-115">For example, if you deployed a web role, you would want to supply a certificate that can authenticate an exposed HTTPS endpoint.</span></span> <span data-ttu-id="c2611-116">Los certificados de servicio, definidos en la definición de servicio, se implementan automáticamente en la máquina virtual que está ejecutando una instancia del rol.</span><span class="sxs-lookup"><span data-stu-id="c2611-116">Service certificates, defined in your service definition, are automatically deployed to the virtual machine that is running an instance of your role.</span></span> 

<span data-ttu-id="c2611-117">Puede cargar certificados de servicio en el Portal de Azure clásico mediante el Portal de Azure clásico o mediante el modelo de implementación clásica.</span><span class="sxs-lookup"><span data-stu-id="c2611-117">You can upload service certificates to Azure classic portal either using the Azure classic portal or by using the classic deployment model.</span></span> <span data-ttu-id="c2611-118">Los certificados de servicio están asociados a un servicio en la nube específico.</span><span class="sxs-lookup"><span data-stu-id="c2611-118">Service certificates are associated with a specific cloud service.</span></span> <span data-ttu-id="c2611-119">Se asignan a una implementación en el archivo de definición de servicio.</span><span class="sxs-lookup"><span data-stu-id="c2611-119">They are assigned to a deployment in the service definition file.</span></span>

<span data-ttu-id="c2611-120">Los certificados de servicio se pueden administrar independientemente de los servicios y pueden ser administrados por distintas personas.</span><span class="sxs-lookup"><span data-stu-id="c2611-120">Service certificates can be managed separately from your services, and may be managed by different individuals.</span></span> <span data-ttu-id="c2611-121">Por ejemplo, un desarrollador puede cargar un paquete de servicio que hace referencia a un certificado que un administrador de TI ha cargado previamente en Azure.</span><span class="sxs-lookup"><span data-stu-id="c2611-121">For example, a developer may upload a service package that refers to a certificate that an IT manager has previously uploaded to Azure.</span></span> <span data-ttu-id="c2611-122">Un administrador de TI puede administrar y renovar el certificado (cambiando la configuración del servicio) sin necesidad de cargar un nuevo paquete de servicio.</span><span class="sxs-lookup"><span data-stu-id="c2611-122">An IT manager can manage and renew that certificate (changing the configuration of the service) without needing to upload a new service package.</span></span> <span data-ttu-id="c2611-123">La actualización sin un nuevo paquete de servicio es posible porque el nombre lógico, el nombre y la ubicación del certificado se encuentran en el archivo de definición de servicio y la huella digital del certificado se especifica en el archivo de configuración de servicio.</span><span class="sxs-lookup"><span data-stu-id="c2611-123">Updating without a new service package is possible because the logical name, store name, and location of the certificate is in the service definition file and while the certificate thumbprint is specified in the service configuration file.</span></span> <span data-ttu-id="c2611-124">Para actualizar el certificado, solo es necesario cargar un nuevo certificado y cambiar el valor de huella digital en el archivo de configuración de servicio.</span><span class="sxs-lookup"><span data-stu-id="c2611-124">To update the certificate, it's only necessary to upload a new certificate and change the thumbprint value in the service configuration file.</span></span>

>[!Note]
><span data-ttu-id="c2611-125">El artículo [P+F de Cloud Services](cloud-services-faq.md) dispone de información útil sobre los certificados.</span><span class="sxs-lookup"><span data-stu-id="c2611-125">The [Cloud Services FAQ](cloud-services-faq.md) article has some helpful information about certificates.</span></span>

## <a name="what-are-management-certificates"></a><span data-ttu-id="c2611-126">¿Qué son los certificados de administración?</span><span class="sxs-lookup"><span data-stu-id="c2611-126">What are management certificates?</span></span>
<span data-ttu-id="c2611-127">Los certificados de administración le permiten autenticar con el modelo de implementación clásica.</span><span class="sxs-lookup"><span data-stu-id="c2611-127">Management certificates allow you to authenticate with the classic deployment model.</span></span> <span data-ttu-id="c2611-128">Muchos programas y herramientas (como Visual Studio o Azure SDK) utilizan estos certificados para automatizar la configuración y la implementación de diferentes servicios de Azure.</span><span class="sxs-lookup"><span data-stu-id="c2611-128">Many programs and tools (such as Visual Studio or the Azure SDK) use these certificates to automate configuration and deployment of various Azure services.</span></span> <span data-ttu-id="c2611-129">Estos no están relacionados realmente con servicios en la nube.</span><span class="sxs-lookup"><span data-stu-id="c2611-129">These are not really related to cloud services.</span></span> 

> [!WARNING]
> <span data-ttu-id="c2611-130">Por lo tanto, tenga cuidado.</span><span class="sxs-lookup"><span data-stu-id="c2611-130">Be careful!</span></span> <span data-ttu-id="c2611-131">Estos tipos de certificados permiten a quien se autentica con ellos administrar la suscripción a la que están asociados.</span><span class="sxs-lookup"><span data-stu-id="c2611-131">These types of certificates allow anyone who authenticates with them to manage the subscription they are associated with.</span></span> 
> 
> 

### <a name="limitations"></a><span data-ttu-id="c2611-132">Limitaciones</span><span class="sxs-lookup"><span data-stu-id="c2611-132">Limitations</span></span>
<span data-ttu-id="c2611-133">Hay un límite de 100 certificados de administración por suscripción.</span><span class="sxs-lookup"><span data-stu-id="c2611-133">There is a limit of 100 management certificates per subscription.</span></span> <span data-ttu-id="c2611-134">También hay un límite de 100 certificados de administración para todas las suscripciones bajo un identificador de usuario de un administrador de servicio específico.</span><span class="sxs-lookup"><span data-stu-id="c2611-134">There is also a limit of 100 management certificates for all subscriptions under a specific service administrator’s user ID.</span></span> <span data-ttu-id="c2611-135">Si ya ha se ha usado el identificador de usuario para el administrador de la cuenta para agregar 100 certificados de administración y se necesitan más certificados, puede agregar un coadministrador para añadir certificados adicionales.</span><span class="sxs-lookup"><span data-stu-id="c2611-135">If the user ID for the account administrator has already been used to add 100 management certificates and there is a need for more certificates, you can add a co-administrator to add the additional certificates.</span></span> 

<span data-ttu-id="c2611-136">Antes de agregar más de 100 certificados, vea si puede reutilizar un certificado existente.</span><span class="sxs-lookup"><span data-stu-id="c2611-136">Before adding more than 100 certificates, see if you can reuse an existing certificate.</span></span> <span data-ttu-id="c2611-137">El uso de coadministradores agrega complejidad potencialmente innecesaria al proceso de administración de certificados.</span><span class="sxs-lookup"><span data-stu-id="c2611-137">Using co-administrators adds potentially unneeded complexity to your certificate management process.</span></span>

<a name="create"></a>
## <a name="create-a-new-self-signed-certificate"></a><span data-ttu-id="c2611-138">Creación de un nuevo certificado autofirmado</span><span class="sxs-lookup"><span data-stu-id="c2611-138">Create a new self-signed certificate</span></span>
<span data-ttu-id="c2611-139">Puede utilizar cualquier herramienta disponible para crear un certificado autofirmado, siempre que cumpla esta configuración:</span><span class="sxs-lookup"><span data-stu-id="c2611-139">You can use any tool available to create a self-signed certificate as long as they adhere to these settings:</span></span>

* <span data-ttu-id="c2611-140">Un certificado X.509.</span><span class="sxs-lookup"><span data-stu-id="c2611-140">An X.509 certificate.</span></span>
* <span data-ttu-id="c2611-141">Contiene una clave privada.</span><span class="sxs-lookup"><span data-stu-id="c2611-141">Contains a private key.</span></span>
* <span data-ttu-id="c2611-142">Creado para intercambio de claves (archivo .pfx).</span><span class="sxs-lookup"><span data-stu-id="c2611-142">Created for key exchange (.pfx file).</span></span>
* <span data-ttu-id="c2611-143">El nombre de sujeto debe coincidir con el dominio usado para tener acceso al servicio en la nube.</span><span class="sxs-lookup"><span data-stu-id="c2611-143">Subject name must match the domain used to access the cloud service.</span></span>

    > <span data-ttu-id="c2611-144">No se puede adquirir un certificado SSL para el dominio cloudapp.net (ni para ningún dominio relacionado con Azure); el nombre del firmante del certificado debe coincidir con el nombre de dominio personalizado que se usa para obtener acceso a la aplicación.</span><span class="sxs-lookup"><span data-stu-id="c2611-144">You cannot acquire an SSL certificate for the cloudapp.net (or for any Azure-related) domain; the certificate's subject name must match the custom domain name used to access your application.</span></span> <span data-ttu-id="c2611-145">Por ejemplo, **contoso.net**, no **contoso.cloudapp.net**.</span><span class="sxs-lookup"><span data-stu-id="c2611-145">For example, **contoso.net**, not **contoso.cloudapp.net**.</span></span>

* <span data-ttu-id="c2611-146">Mínimo de cifrado de 2.048 bits.</span><span class="sxs-lookup"><span data-stu-id="c2611-146">Minimum of 2048-bit encryption.</span></span>
* <span data-ttu-id="c2611-147">**Solo certificados de servicio**: el certificado de cliente debe encontrarse en el almacén de certificados *Personal* .</span><span class="sxs-lookup"><span data-stu-id="c2611-147">**Service Certificate Only**: Client-side certificate must reside in the *Personal* certificate store.</span></span>

<span data-ttu-id="c2611-148">Hay dos métodos sencillos para crear un certificado en Windows, con la utilidad `makecert.exe` o con IIS.</span><span class="sxs-lookup"><span data-stu-id="c2611-148">There are two easy ways to create a certificate on Windows, with the `makecert.exe` utility, or IIS.</span></span>

### <a name="makecertexe"></a><span data-ttu-id="c2611-149">Makecert.exe</span><span class="sxs-lookup"><span data-stu-id="c2611-149">Makecert.exe</span></span>
<span data-ttu-id="c2611-150">Esta utilidad ha quedado en desuso y ya no se documenta aquí.</span><span class="sxs-lookup"><span data-stu-id="c2611-150">This utility has been deprecated and is no longer documented here.</span></span> <span data-ttu-id="c2611-151">Para obtener más información, consulte [este artículo de MSDN](https://msdn.microsoft.com/library/windows/desktop/aa386968).</span><span class="sxs-lookup"><span data-stu-id="c2611-151">For more information, see [this MSDN article](https://msdn.microsoft.com/library/windows/desktop/aa386968).</span></span>

### <a name="powershell"></a><span data-ttu-id="c2611-152">PowerShell</span><span class="sxs-lookup"><span data-stu-id="c2611-152">PowerShell</span></span>
```powershell
$cert = New-SelfSignedCertificate -DnsName yourdomain.cloudapp.net -CertStoreLocation "cert:\LocalMachine\My"
$password = ConvertTo-SecureString -String "your-password" -Force -AsPlainText
Export-PfxCertificate -Cert $cert -FilePath ".\my-cert-file.pfx" -Password $password
```

> [!NOTE]
> <span data-ttu-id="c2611-153">Si desea utilizar el certificado con una dirección IP en lugar de un dominio, utilice la dirección IP en el parámetro - DnsName.</span><span class="sxs-lookup"><span data-stu-id="c2611-153">If you want to use the certificate with an IP address instead of a domain, use the IP address in the -DnsName parameter.</span></span>


<span data-ttu-id="c2611-154">Si quiere utilizar este [certificado con el portal de administración](../azure-api-management-certs.md), expórtelo a un archivo **.cer** :</span><span class="sxs-lookup"><span data-stu-id="c2611-154">If you want to use this [certificate with the management portal](../azure-api-management-certs.md), export it to a **.cer** file:</span></span>

```powershell
Export-Certificate -Type CERT -Cert $cert -FilePath .\my-cert-file.cer
```

### <a name="internet-information-services-iis"></a><span data-ttu-id="c2611-155">Internet Information Services (IIS)</span><span class="sxs-lookup"><span data-stu-id="c2611-155">Internet Information Services (IIS)</span></span>
<span data-ttu-id="c2611-156">Hay muchas páginas en Internet que explican cómo hacer esto con IIS.</span><span class="sxs-lookup"><span data-stu-id="c2611-156">There are many pages on the internet that cover how to do this with IIS.</span></span> <span data-ttu-id="c2611-157">[Aquí](https://www.sslshopper.com/article-how-to-create-a-self-signed-certificate-in-iis-7.html) hay una excelente que encontré en la que se explica bien.</span><span class="sxs-lookup"><span data-stu-id="c2611-157">[Here](https://www.sslshopper.com/article-how-to-create-a-self-signed-certificate-in-iis-7.html) is a great one I found that I think explains it well.</span></span> 

### <a name="java"></a><span data-ttu-id="c2611-158">Java</span><span class="sxs-lookup"><span data-stu-id="c2611-158">Java</span></span>
<span data-ttu-id="c2611-159">Puede usar Java para [crear un certificado](../app-service-web/java-create-azure-website-using-java-sdk.md#create-a-certificate).</span><span class="sxs-lookup"><span data-stu-id="c2611-159">You can use Java to [create a certificate](../app-service-web/java-create-azure-website-using-java-sdk.md#create-a-certificate).</span></span>

### <a name="linux"></a><span data-ttu-id="c2611-160">Linux</span><span class="sxs-lookup"><span data-stu-id="c2611-160">Linux</span></span>
<span data-ttu-id="c2611-161">[Este](../virtual-machines/linux/mac-create-ssh-keys.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json) artículo se describe cómo crear certificados con SSH.</span><span class="sxs-lookup"><span data-stu-id="c2611-161">[This](../virtual-machines/linux/mac-create-ssh-keys.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json) article describes how to create certificates with SSH.</span></span>

## <a name="next-steps"></a><span data-ttu-id="c2611-162">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="c2611-162">Next steps</span></span>
<span data-ttu-id="c2611-163">[Cargue el certificado de servicio en el Portal de Azure clásico](cloud-services-configure-ssl-certificate.md) (o en [Azure Portal](cloud-services-configure-ssl-certificate-portal.md)).</span><span class="sxs-lookup"><span data-stu-id="c2611-163">[Upload your service certificate to the Azure classic portal](cloud-services-configure-ssl-certificate.md) (or the [Azure portal](cloud-services-configure-ssl-certificate-portal.md)).</span></span>

<span data-ttu-id="c2611-164">Cargue un [certificado de API de administración](../azure-api-management-certs.md) en el Portal de Azure clásico.</span><span class="sxs-lookup"><span data-stu-id="c2611-164">Upload a [management API certificate](../azure-api-management-certs.md) to the Azure classic portal.</span></span> <span data-ttu-id="c2611-165">Azure Portal no usa certificados de administración para la autenticación.</span><span class="sxs-lookup"><span data-stu-id="c2611-165">The Azure portal does not use management certificates for authentication.</span></span>

