---
title: "aaaDebugging un Azure en la nube de servicio o máquina virtual en Visual Studio | Documentos de Microsoft"
description: "Depurar un servicio en la nube o una máquina virtual en Visual Studio"
services: visual-studio-online
documentationcenter: na
author: kraigb
manager: ghogen
editor: 
ms.assetid: 945e06e0-2100-41af-b218-72347367ddab
ms.service: visual-studio-online
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: multiple
ms.workload: na
ms.date: 11/11/2016
ms.author: kraigb
ms.openlocfilehash: 32a326430021ba2ea9317a6a71fa005d4b87c273
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="debugging-an-azure-cloud-service-or-virtual-machine-in-visual-studio"></a><span data-ttu-id="7edf4-103">Depuración de una máquina virtual o un servicio en la nube de Azure en Visual Studio</span><span class="sxs-lookup"><span data-stu-id="7edf4-103">Debugging an Azure cloud service or virtual machine in Visual Studio</span></span>
<span data-ttu-id="7edf4-104">Visual Studio proporciona distintas opciones para la depuración de servicios en la nube y máquinas virtuales de Azure.</span><span class="sxs-lookup"><span data-stu-id="7edf4-104">Visual Studio gives you different options for debugging Azure cloud services and virtual machines.</span></span>

## <a name="debug-your-cloud-service-on-your-local-computer"></a><span data-ttu-id="7edf4-105">Depuración del servicio en la nube en el equipo local</span><span class="sxs-lookup"><span data-stu-id="7edf4-105">Debug your cloud service on your local computer</span></span>
<span data-ttu-id="7edf4-106">Se puede ahorrar tiempo y dinero utilizando hello Azure compute emulator toodebug su servicio en la nube en un equipo local.</span><span class="sxs-lookup"><span data-stu-id="7edf4-106">You can save time and money by using hello Azure compute emulator toodebug your cloud service on a local machine.</span></span> <span data-ttu-id="7edf4-107">La depuración de un servicio localmente antes de su implementación puede mejorar la fiabilidad y el rendimiento sin pagar por tiempo de proceso.</span><span class="sxs-lookup"><span data-stu-id="7edf4-107">By debugging a service locally before you deploy it, you can improve reliability and performance without paying for compute time.</span></span> <span data-ttu-id="7edf4-108">No obstante, pueden producirse algunos errores solo al ejecutar un servicio en la nube en el propio Azure.</span><span class="sxs-lookup"><span data-stu-id="7edf4-108">However, some errors might occur only when you run a cloud service in Azure itself.</span></span> <span data-ttu-id="7edf4-109">Puede depurar estos errores si habilita la depuración remota al publicar su servicio y, a continuación, adjuntar instancia de rol de hello depurador tooa.</span><span class="sxs-lookup"><span data-stu-id="7edf4-109">You can debug these errors if you enable remote debugging when you publish your service and then attach hello debugger tooa role instance.</span></span>

<span data-ttu-id="7edf4-110">emulador de Hello simula el servicio de cálculo de Azure de Hola y se ejecuta en su entorno local para que puede probar y depurar el servicio de nube antes de implementarlo.</span><span class="sxs-lookup"><span data-stu-id="7edf4-110">hello emulator simulates hello Azure Compute service and runs in your local environment so that you can test and debug your cloud service before you deploy it.</span></span> <span data-ttu-id="7edf4-111">identificadores de emulador de Hola Hola ciclo de vida de las instancias de rol y proporciona acceso a recursos de toosimulated, tales como el almacenamiento local.</span><span class="sxs-lookup"><span data-stu-id="7edf4-111">hello emulator handles hello lifecycle of your role instances and provides access toosimulated resources, such as local storage.</span></span> <span data-ttu-id="7edf4-112">Al depurar o ejecutar el servicio desde Visual Studio, se inicia automáticamente el emulador de hello como una aplicación en segundo plano y, a continuación, implementa el emulador del servicio de toohello.</span><span class="sxs-lookup"><span data-stu-id="7edf4-112">When you debug or run your service from Visual Studio, it automatically starts hello emulator as a background application and then deploys your service toohello emulator.</span></span> <span data-ttu-id="7edf4-113">Puede usar Hola emulador tooview su servicio cuando se ejecuta en el entorno local de Hola.</span><span class="sxs-lookup"><span data-stu-id="7edf4-113">You can use hello emulator tooview your service when it runs in hello local environment.</span></span> <span data-ttu-id="7edf4-114">Puede ejecutar la versión completa de Hola o versión express de hello del emulador de Hola.</span><span class="sxs-lookup"><span data-stu-id="7edf4-114">You can run hello full version or hello express version of hello emulator.</span></span> <span data-ttu-id="7edf4-115">(A partir de Azure 2.3, versión express de hello del emulador de hello es predeterminado de hello). Vea [tooRun utilizar Emulator Express y depurar un servicio de nube de forma local](https://msdn.microsoft.com/library/dn339018.aspx).</span><span class="sxs-lookup"><span data-stu-id="7edf4-115">(Starting with Azure 2.3, hello express version of hello emulator is hello default.) See [Using Emulator Express tooRun and Debug a Cloud Service Locally](https://msdn.microsoft.com/library/dn339018.aspx).</span></span>

### <a name="toodebug-your-cloud-service-on-your-local-computer"></a><span data-ttu-id="7edf4-116">toodebug la nube de servicio en el equipo local</span><span class="sxs-lookup"><span data-stu-id="7edf4-116">toodebug your cloud service on your local computer</span></span>
1. <span data-ttu-id="7edf4-117">En la barra de menús de hello, elija **depurar**, **Iniciar depuración** toorun el proyecto de servicio de nube de Azure.</span><span class="sxs-lookup"><span data-stu-id="7edf4-117">On hello menu bar, choose **Debug**, **Start Debugging** toorun your Azure cloud service project.</span></span> <span data-ttu-id="7edf4-118">Como alternativa, puede presionar F5.</span><span class="sxs-lookup"><span data-stu-id="7edf4-118">As an alternative, you can press F5.</span></span> <span data-ttu-id="7edf4-119">Verá un mensaje que Hola emulador de proceso se está iniciando.</span><span class="sxs-lookup"><span data-stu-id="7edf4-119">You’ll see a message that hello Compute Emulator is starting.</span></span> <span data-ttu-id="7edf4-120">Cuando se inicia el emulador de hello, el icono de bandeja del sistema de hello lo confirma.</span><span class="sxs-lookup"><span data-stu-id="7edf4-120">When hello emulator starts, hello system tray icon confirms it.</span></span>

    ![Emulador de Azure en la bandeja del sistema Hola](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC783828.png)
2. <span data-ttu-id="7edf4-122">Mostrar la interfaz de usuario de hello para el emulador de proceso de hello, abra el menú contextual Hola Hola icono de Azure en el área de notificación de hello y, a continuación, seleccione **Mostrar IU del emulador de proceso**.</span><span class="sxs-lookup"><span data-stu-id="7edf4-122">Display hello user interface for hello compute emulator by opening hello shortcut menu for hello Azure icon in hello notification area, and then select **Show Compute Emulator UI**.</span></span>

    <span data-ttu-id="7edf4-123">panel izquierdo de Hola de hello interfaz de usuario muestra los servicios de Hola que están implementados toohello hello y emulador rol instancias de proceso que se ejecuta cada servicio.</span><span class="sxs-lookup"><span data-stu-id="7edf4-123">hello left pane of hello UI shows hello services that are currently deployed toohello compute emulator and hello role instances that each service is running.</span></span> <span data-ttu-id="7edf4-124">Puede elegir el ciclo de vida de toodisplay de servicio o los roles de hello, registro e información de diagnóstico en el panel derecho de Hola.</span><span class="sxs-lookup"><span data-stu-id="7edf4-124">You can choose hello service or roles toodisplay lifecycle, logging, and diagnostic information in hello right pane.</span></span> <span data-ttu-id="7edf4-125">Si coloca el foco de hello en el margen superior de Hola de una ventana incluida, se expande el panel derecho de toofill Hola.</span><span class="sxs-lookup"><span data-stu-id="7edf4-125">If you put hello focus in hello top margin of an included window, it expands toofill hello right pane.</span></span>
3. <span data-ttu-id="7edf4-126">Paso a través de la aplicación hello seleccionando comandos hello **depurar** menú y establecer puntos de interrupción en el código.</span><span class="sxs-lookup"><span data-stu-id="7edf4-126">Step through hello application by selecting commands on hello **Debug** menu and setting breakpoints in your code.</span></span> <span data-ttu-id="7edf4-127">Paso a paso a través de la aplicación hello en el depurador de hello, paneles de Hola se actualizan con el estado actual de Hola de aplicación hello.</span><span class="sxs-lookup"><span data-stu-id="7edf4-127">As you step through hello application in hello debugger, hello panes are updated with hello current status of hello application.</span></span> <span data-ttu-id="7edf4-128">Al detener la depuración, se elimina la implementación de la aplicación hello.</span><span class="sxs-lookup"><span data-stu-id="7edf4-128">When you stop debugging, hello application deployment is deleted.</span></span> <span data-ttu-id="7edf4-129">Si la aplicación incluye un rol web y que ha establecido el Explorador de web hello toostart de propiedad de la acción de inicio de hello, Visual Studio inicia la aplicación web en el Explorador de Hola.</span><span class="sxs-lookup"><span data-stu-id="7edf4-129">If your application includes a web role and you've set hello Startup action property toostart hello web browser, Visual Studio starts your web application in hello browser.</span></span> <span data-ttu-id="7edf4-130">Si cambia el número de Hola de instancias de un rol en la configuración de servicio de Hola, debe detener el servicio de nube y, a continuación, reinicie la depuración para que pueda depurar estas nuevas instancias del rol de Hola.</span><span class="sxs-lookup"><span data-stu-id="7edf4-130">If you change hello number of instances of a role in hello service configuration, you must stop your cloud service and then restart debugging so that you can debug these new instances of hello role.</span></span>

    <span data-ttu-id="7edf4-131">**Nota:** al detener la ejecución o depurar su servicio, Hola emulador de proceso local y el emulador de almacenamiento no se detienen.</span><span class="sxs-lookup"><span data-stu-id="7edf4-131">**Note:** When you stop running or debugging your service, hello local compute emulator and storage emulator aren't stopped.</span></span> <span data-ttu-id="7edf4-132">Debe detenerlos explícitamente desde el área de notificación de Hola.</span><span class="sxs-lookup"><span data-stu-id="7edf4-132">You must stop them explicitly from hello notification area.</span></span>

## <a name="debug-a-cloud-service-in-azure"></a><span data-ttu-id="7edf4-133">Depuración de un servicio en la nube en Azure</span><span class="sxs-lookup"><span data-stu-id="7edf4-133">Debug a cloud service in Azure</span></span>
<span data-ttu-id="7edf4-134">toodebug un servicio de nube desde un equipo remoto, debe habilitar esa funcionalidad explícitamente al implementar su servicio en la nube para que tengan servicios (por ejemplo, msvsmon.exe) están instalados en máquinas virtuales de Hola que se ejecutan las instancias de rol.</span><span class="sxs-lookup"><span data-stu-id="7edf4-134">toodebug a cloud service from a remote machine, you must enable that functionality explicitly when you deploy your cloud service so that required services (msvsmon.exe, for example) are installed on hello virtual machines that run your role instances.</span></span> <span data-ttu-id="7edf4-135">Si no habilitó la depuración remota al publicar servicio hello, tiene el servicio de hello toorepublish con la depuración remota habilitada.</span><span class="sxs-lookup"><span data-stu-id="7edf4-135">If you didn't enable remote debugging when you published hello service, you have toorepublish hello service with remote debugging enabled.</span></span>

<span data-ttu-id="7edf4-136">Si habilita la depuración remota para un servicio en la nube, este no mostrará un rendimiento inferior ni incurrirá en cargos adicionales.</span><span class="sxs-lookup"><span data-stu-id="7edf4-136">If you enable remote debugging for a cloud service, it doesn't exhibit degraded performance or incur additional charges.</span></span> <span data-ttu-id="7edf4-137">No debe usar la depuración remota en un servicio de producción, porque los clientes que usan el servicio de hello podrían verse afectados negativamente.</span><span class="sxs-lookup"><span data-stu-id="7edf4-137">You shouldn't use remote debugging on a production service, because clients who use hello service might be adversely affected.</span></span>

> [!NOTE]
> <span data-ttu-id="7edf4-138">Al publicar un servicio de nube desde Visual Studio, puede habilitar **IntelliTrace** para los roles que servicio ese Hola de destino .NET Framework 4 u Hola .NET Framework 4.5.</span><span class="sxs-lookup"><span data-stu-id="7edf4-138">When you publish a cloud service from Visual Studio, you can enable **IntelliTrace** for any roles in that service that target hello .NET Framework 4 or hello .NET Framework 4.5.</span></span> <span data-ttu-id="7edf4-139">Mediante el uso de **IntelliTrace**, puede examinar eventos que se produjeron en una instancia de rol en hello pasado y reproducen Hola contexto desde ese momento.</span><span class="sxs-lookup"><span data-stu-id="7edf4-139">By using **IntelliTrace**, you can examine events that occurred in a role instance in hello past and reproduce hello context from that time.</span></span> <span data-ttu-id="7edf4-140">Consulte [Depuración con IntelliTrace y Visual Studio de un servicio en la nube publicado](http://go.microsoft.com/fwlink/?LinkID=623016) y [Uso de IntelliTrace](https://msdn.microsoft.com/library/dd264915.aspx).</span><span class="sxs-lookup"><span data-stu-id="7edf4-140">See [Debugging a published cloud service with IntelliTrace and Visual Studio](http://go.microsoft.com/fwlink/?LinkID=623016) and [Using IntelliTrace](https://msdn.microsoft.com/library/dd264915.aspx).</span></span>
>
>

### <a name="tooenable-remote-debugging-for-a-cloud-service"></a><span data-ttu-id="7edf4-141">tooenable para un servicio de nube de la depuración remota</span><span class="sxs-lookup"><span data-stu-id="7edf4-141">tooenable remote debugging for a cloud service</span></span>
1. <span data-ttu-id="7edf4-142">Abra el acceso directo de Hola para hello proyecto de Azure y, a continuación, seleccione **publicar**.</span><span class="sxs-lookup"><span data-stu-id="7edf4-142">Open hello shortcut menu for hello Azure project, and then select **Publish**.</span></span>
2. <span data-ttu-id="7edf4-143">Seleccione hello **ensayo** hello y entorno **depurar** configuración.</span><span class="sxs-lookup"><span data-stu-id="7edf4-143">Select hello **Staging** environment and hello **Debug** configuration.</span></span>

    <span data-ttu-id="7edf4-144">Esto es solo de referencia.</span><span class="sxs-lookup"><span data-stu-id="7edf4-144">This is only a guideline.</span></span> <span data-ttu-id="7edf4-145">Puede optar por toorun los entornos de prueba en un entorno de producción.</span><span class="sxs-lookup"><span data-stu-id="7edf4-145">You can opt toorun your test environments in a Production environment.</span></span> <span data-ttu-id="7edf4-146">Sin embargo, puede perjudicar a los usuarios si habilita la depuración remota en el entorno de producción de hello.</span><span class="sxs-lookup"><span data-stu-id="7edf4-146">However, you may adversely affect users if you enable remote debugging on hello Production environment.</span></span> <span data-ttu-id="7edf4-147">Puede elegir la configuración de lanzamiento de Hola, pero la configuración de depuración de hello simplifica la depuración.</span><span class="sxs-lookup"><span data-stu-id="7edf4-147">You can choose hello Release configuration, but hello Debug configuration makes debugging easier.</span></span>

    ![Elegir configuración de depuración de Hola](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746717.gif)
3. <span data-ttu-id="7edf4-149">Siga los pasos habituales hello, pero seleccione hello **habilitar depurador remoto para todos los roles** casilla de verificación de hello **configuración avanzada** ficha.</span><span class="sxs-lookup"><span data-stu-id="7edf4-149">Follow hello usual steps, but select hello **Enable Remote Debugger for all roles** check box on hello **Advanced Settings** tab.</span></span>

    ![Configuración de depuración](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746718.gif)

### <a name="tooattach-hello-debugger-tooa-cloud-service-in-azure"></a><span data-ttu-id="7edf4-151">servicio de nube de tooattach Hola depurador tooa en Azure</span><span class="sxs-lookup"><span data-stu-id="7edf4-151">tooattach hello debugger tooa cloud service in Azure</span></span>
1. <span data-ttu-id="7edf4-152">En el Explorador de servidores, expanda el nodo de hello para el servicio de nube.</span><span class="sxs-lookup"><span data-stu-id="7edf4-152">In Server Explorer, expand hello node for your cloud service.</span></span>
2. <span data-ttu-id="7edf4-153">Menú contextual abierto Hola rol Hola o toowhich de instancia de rol que desee tooattach y, a continuación, seleccione **adjuntar depurador**.</span><span class="sxs-lookup"><span data-stu-id="7edf4-153">Open hello shortcut menu for hello role or role instance toowhich you want tooattach, and then select **Attach Debugger**.</span></span>

    <span data-ttu-id="7edf4-154">Si depura un rol, depurador de Visual Studio Hola adjunta tooeach instancia de ese rol.</span><span class="sxs-lookup"><span data-stu-id="7edf4-154">If you debug a role, hello Visual Studio debugger attaches tooeach instance of that role.</span></span> <span data-ttu-id="7edf4-155">depurador de Hola se interrumpirá en un punto de interrupción para la primera instancia de rol de Hola que ejecute esta línea de código y cumpla las condiciones de ese punto de interrupción.</span><span class="sxs-lookup"><span data-stu-id="7edf4-155">hello debugger will break on a breakpoint for hello first role instance that runs that line of code and meets any conditions of that breakpoint.</span></span> <span data-ttu-id="7edf4-156">Si depura una instancia, el depurador de hello adjunta tooonly que Hola a instancia y se interrumpe en un punto de interrupción solo cuando esa instancia específica ejecute esa línea de código y cumpla las condiciones del punto de interrupción.</span><span class="sxs-lookup"><span data-stu-id="7edf4-156">If you debug an instance, hello debugger attaches tooonly that instance and breaks on a breakpoint only when that specific instance runs that line of code and meets hello breakpoint's conditions.</span></span>

    ![Asociar depurador](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746719.gif)
3. <span data-ttu-id="7edf4-158">Después de depurador Hola asocia la instancia tooan, depuración como de costumbre.</span><span class="sxs-lookup"><span data-stu-id="7edf4-158">After hello debugger attaches tooan instance, debug as usual.</span></span> <span data-ttu-id="7edf4-159">depurador de Hola asocia automáticamente toohello el proceso de host adecuado para su rol.</span><span class="sxs-lookup"><span data-stu-id="7edf4-159">hello debugger automatically attaches toohello appropriate host process for your role.</span></span> <span data-ttu-id="7edf4-160">Dependiendo de qué hello es rol, Hola depurador adjunta toow3wp.exe, WaWorkerHost.exe o WaIISHost.exe.</span><span class="sxs-lookup"><span data-stu-id="7edf4-160">Depending on what hello role is, hello debugger attaches toow3wp.exe, WaWorkerHost.exe, or WaIISHost.exe.</span></span> <span data-ttu-id="7edf4-161">tooverify Hola proceso toowhich Hola depurador asociado, expanda el nodo de la instancia de hello en el Explorador de servidores.</span><span class="sxs-lookup"><span data-stu-id="7edf4-161">tooverify hello process toowhich hello debugger is attached, expand hello instance node in Server Explorer.</span></span> <span data-ttu-id="7edf4-162">Consulte [Arquitectura de roles de Azure](http://blogs.msdn.com/b/kwill/archive/2011/05/05/windows-azure-role-architecture.aspx) para más información sobre los procesos de Azure.</span><span class="sxs-lookup"><span data-stu-id="7edf4-162">See [Azure Role Architecture](http://blogs.msdn.com/b/kwill/archive/2011/05/05/windows-azure-role-architecture.aspx) for more information about Azure processes.</span></span>

    ![Seleccionar el cuadro de diálogo de tipo de código](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC718346.png)
4. <span data-ttu-id="7edf4-164">procesos de hello tooidentify toowhich Hola depurador, abra Hola procesos cuadro de diálogo, en hello barra de menús, elija Depurar, Windows, procesos.</span><span class="sxs-lookup"><span data-stu-id="7edf4-164">tooidentify hello processes toowhich hello debugger is attached, open hello Processes dialog box by, on hello menu bar, choosing Debug, Windows, Processes.</span></span> <span data-ttu-id="7edf4-165">(Teclado: Ctrl + Alt + Z) toodetach un proceso específico, abra el menú contextual y, a continuación, seleccione **desasociar proceso**.</span><span class="sxs-lookup"><span data-stu-id="7edf4-165">(Keyboard: Ctrl+Alt+Z)toodetach a specific process, open its shortcut menu, and then select **Detach Process**.</span></span> <span data-ttu-id="7edf4-166">O bien, busque el nodo de la instancia de hello en el Explorador de servidores, encuentra el proceso de hello, abra su menú contextual y, a continuación, seleccione **desasociar proceso**.</span><span class="sxs-lookup"><span data-stu-id="7edf4-166">Or, locate hello instance node in Server Explorer, find hello process, open its shortcut menu, and then select **Detach Process**.</span></span>

    ![Depurar procesos](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC690787.gif)

> [!WARNING]
> <span data-ttu-id="7edf4-168">Evite detenciones prolongadas en los puntos de interrupción durante la depuración remota.</span><span class="sxs-lookup"><span data-stu-id="7edf4-168">Avoid long stops at breakpoints when remote debugging.</span></span> <span data-ttu-id="7edf4-169">Azure trata un proceso que se detiene durante más de unos minutos no responde y deja de enviar la instancia de toothat de tráfico.</span><span class="sxs-lookup"><span data-stu-id="7edf4-169">Azure treats a process that's stopped for longer than a few minutes as unresponsive and stops sending traffic toothat instance.</span></span> <span data-ttu-id="7edf4-170">Si se detiene durante demasiado tiempo, msvsmon.exe se separará del proceso de Hola.</span><span class="sxs-lookup"><span data-stu-id="7edf4-170">If you stop for too long, msvsmon.exe detaches from hello process.</span></span>
>
>

<span data-ttu-id="7edf4-171">depurador de hello toodetach de todos los procesos en la instancia o el rol, el menú contextual abierto Hola Hola rol o la instancia que está depurando y, a continuación, seleccione **desasociar depurador**.</span><span class="sxs-lookup"><span data-stu-id="7edf4-171">toodetach hello debugger from all processes in your instance or role, open hello shortcut menu for hello role or instance that you're debugging, and then select **Detach Debugger**.</span></span>

## <a name="limitations-of-remote-debugging-in-azure"></a><span data-ttu-id="7edf4-172">Limitaciones de la depuración remota en Azure</span><span class="sxs-lookup"><span data-stu-id="7edf4-172">Limitations of remote debugging in Azure</span></span>
<span data-ttu-id="7edf4-173">De Azure SDK 2.3, la depuración remota tiene Hola siguientes limitaciones.</span><span class="sxs-lookup"><span data-stu-id="7edf4-173">From Azure SDK 2.3, remote debugging has hello following limitations.</span></span>

* <span data-ttu-id="7edf4-174">Con la depuración remota habilitada, no puede publicar un servicio en la nube que presente algún rol con más de 25 instancias.</span><span class="sxs-lookup"><span data-stu-id="7edf4-174">With remote debugging enabled, you can't publish a cloud service in which any role has more than 25 instances.</span></span>
* <span data-ttu-id="7edf4-175">depurador de Hello usa puertos 30400 too30424, too31424 31400 y too32424 32400.</span><span class="sxs-lookup"><span data-stu-id="7edf4-175">hello debugger uses ports 30400 too30424, 31400 too31424 and 32400 too32424.</span></span> <span data-ttu-id="7edf4-176">Si intentas toouse cualquiera de estos puertos, no será capaz de toopublish su servicio y uno de los siguientes mensajes de error de hello aparecerá en el registro de actividad de Hola de Azure:</span><span class="sxs-lookup"><span data-stu-id="7edf4-176">If you try toouse any of these ports, you won't be able toopublish your service, and one of hello following error messages will appear in hello activity log for Azure:</span></span>

  * <span data-ttu-id="7edf4-177">Error al validar el archivo de .cscfg de hello en el archivo de .csdef Hola.</span><span class="sxs-lookup"><span data-stu-id="7edf4-177">Error validating hello .cscfg file against hello .csdef file.</span></span>
    <span data-ttu-id="7edf4-178">Hola reservado 'range' del intervalo de puertos de extremo que Microsoft.windowsazure.plugins.remotedebugger.Connector de la función 'función' se superpone a un intervalo o el puerto ya está definido.</span><span class="sxs-lookup"><span data-stu-id="7edf4-178">hello reserved port range 'range' for endpoint Microsoft.WindowsAzure.Plugins.RemoteDebugger.Connector of role 'role' overlaps with an already defined port or range.</span></span>
  * <span data-ttu-id="7edf4-179">Error en la asignación.</span><span class="sxs-lookup"><span data-stu-id="7edf4-179">Allocation failed.</span></span> <span data-ttu-id="7edf4-180">Vuelva a intentarlo más tarde, pruebe a reducir el tamaño de máquina virtual de Hola o el número de instancias de rol o intente implementar tooa otra región.</span><span class="sxs-lookup"><span data-stu-id="7edf4-180">Please retry later, try reducing hello VM size or number of role instances, or try deploying tooa different region.</span></span>

## <a name="debugging-azure-virtual-machines"></a><span data-ttu-id="7edf4-181">Depuración de máquinas virtuales de Azure</span><span class="sxs-lookup"><span data-stu-id="7edf4-181">Debugging Azure virtual machines</span></span>
<span data-ttu-id="7edf4-182">Puede depurar programas que se ejecuten en máquinas virtuales de Azure usando el Explorador de servidores en Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="7edf4-182">You can debug programs that run on Azure virtual machines by using Server Explorer in Visual Studio.</span></span> <span data-ttu-id="7edf4-183">Cuando se habilita la depuración remota en una máquina virtual de Azure, Azure instala la extensión de depuración remota de hello en la máquina virtual de Hola.</span><span class="sxs-lookup"><span data-stu-id="7edf4-183">When you enable remote debugging on an Azure virtual machine, Azure installs hello remote debugging extension on hello virtual machine.</span></span> <span data-ttu-id="7edf4-184">A continuación, puede adjuntar tooprocesses en la máquina virtual de Hola y depurar tal y como lo haría normalmente.</span><span class="sxs-lookup"><span data-stu-id="7edf4-184">Then, you can attach tooprocesses on hello virtual machine and debug as you normally would.</span></span>

> [!NOTE]
> <span data-ttu-id="7edf4-185">Las máquinas virtuales creadas a través de la pila del Administrador de recursos de Azure Hola se pueden depurar remotamente mediante el Explorador de nube en Visual Studio 2015.</span><span class="sxs-lookup"><span data-stu-id="7edf4-185">Virtual machines created through hello Azure resource manager stack can be remotely debugged by using Cloud Explorer in Visual Studio 2015.</span></span> <span data-ttu-id="7edf4-186">Para obtener más información, consulte [Administración de recursos de Azure con Cloud Explorer](http://go.microsoft.com/fwlink/?LinkId=623031).</span><span class="sxs-lookup"><span data-stu-id="7edf4-186">For more information, see [Managing Azure Resources with Cloud Explorer](http://go.microsoft.com/fwlink/?LinkId=623031).</span></span>
>
>

### <a name="toodebug-an-azure-virtual-machine"></a><span data-ttu-id="7edf4-187">toodebug una máquina virtual de Azure</span><span class="sxs-lookup"><span data-stu-id="7edf4-187">toodebug an Azure virtual machine</span></span>
1. <span data-ttu-id="7edf4-188">En el Explorador de servidores, expanda el nodo de máquinas virtuales de Hola y nodo seleccione Hola de máquina virtual de Hola que desea toodebug.</span><span class="sxs-lookup"><span data-stu-id="7edf4-188">In Server Explorer, expand hello Virtual Machines node and select hello node of hello virtual machine that you want toodebug.</span></span>
2. <span data-ttu-id="7edf4-189">Abra el menú contextual de Hola y seleccione **habilitar la depuración**.</span><span class="sxs-lookup"><span data-stu-id="7edf4-189">Open hello context menu and select **Enable Debugging**.</span></span> <span data-ttu-id="7edf4-190">Cuando se le pregunte si está seguro de si desea depurar tooenable en la máquina virtual de hello, seleccione **Sí**.</span><span class="sxs-lookup"><span data-stu-id="7edf4-190">When asked if you're sure if you want tooenable debugging on hello virtual machine, select **Yes**.</span></span>

    <span data-ttu-id="7edf4-191">Azure instala la extensión de depuración remota de Hola sobre la depuración de tooenable de máquina virtual de Hola.</span><span class="sxs-lookup"><span data-stu-id="7edf4-191">Azure installs hello remote debugging extension on hello virtual machine tooenable debugging.</span></span>

    ![Comando para habilitar la depuración en máquina virtual](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746720.png)

    ![Registro de actividades de Azure](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746721.png)
3. <span data-ttu-id="7edf4-194">Después de extensión de depuración remota de hello finalice la instalación, abra el menú contextual de la máquina virtual hello y seleccione **asociar depurador...**</span><span class="sxs-lookup"><span data-stu-id="7edf4-194">After hello remote debugging extension finishes installing, open hello virtual machine's context menu and select **Attach Debugger...**</span></span>

    <span data-ttu-id="7edf4-195">Obtiene una lista de procesos de hello en la máquina virtual de hello Azure y los muestra en el cuadro de diálogo de hello asociar tooProcess.</span><span class="sxs-lookup"><span data-stu-id="7edf4-195">Azure gets a list of hello processes on hello virtual machine and shows them in hello Attach tooProcess dialog box.</span></span>

    ![Comando Asociar depurador](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746722.png)
4. <span data-ttu-id="7edf4-197">Hola **adjuntar tooProcess** cuadro de diálogo, seleccione **seleccione** tooshow solo los tipos de Hola de lista de resultados de hello toolimit del código que desea toodebug.</span><span class="sxs-lookup"><span data-stu-id="7edf4-197">In hello **Attach tooProcess** dialog box, select **Select** toolimit hello results list tooshow only hello types of code you want toodebug.</span></span> <span data-ttu-id="7edf4-198">Puede depurar código administrado de 32 o 64 bits, código nativo o ambos.</span><span class="sxs-lookup"><span data-stu-id="7edf4-198">You can debug 32- or 64-bit managed code, native code, or both.</span></span>

    ![Seleccionar el cuadro de diálogo de tipo de código](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC718346.png)
5. <span data-ttu-id="7edf4-200">Seleccionar los procesos de Hola que desee toodebug en la máquina virtual de hello y, a continuación, seleccione **adjuntar**.</span><span class="sxs-lookup"><span data-stu-id="7edf4-200">Select hello processes you want toodebug on hello virtual machine and then select **Attach**.</span></span> <span data-ttu-id="7edf4-201">Por ejemplo, puede elegir el proceso w3wp.exe que Hola si deseara toodebug una aplicación web en la máquina virtual de Hola.</span><span class="sxs-lookup"><span data-stu-id="7edf4-201">For example, you might choose hello w3wp.exe process if you wanted toodebug a web app on hello virtual machine.</span></span> <span data-ttu-id="7edf4-202">Consulte [Depuración de uno o varios procesos en Visual Studio](https://msdn.microsoft.com/library/jj919165.aspx) y [Arquitectura de roles de Azure](http://blogs.msdn.com/b/kwill/archive/2011/05/05/windows-azure-role-architecture.aspx) para más información.</span><span class="sxs-lookup"><span data-stu-id="7edf4-202">See [Debug One or More Processes in Visual Studio](https://msdn.microsoft.com/library/jj919165.aspx) and [Azure Role Architecture](http://blogs.msdn.com/b/kwill/archive/2011/05/05/windows-azure-role-architecture.aspx) for more information.</span></span>

## <a name="create-a-web-project-and-a-virtual-machine-for-debugging"></a><span data-ttu-id="7edf4-203">Creación de un proyecto web y una máquina virtual para la depuración</span><span class="sxs-lookup"><span data-stu-id="7edf4-203">Create a web project and a virtual machine for debugging</span></span>
<span data-ttu-id="7edf4-204">Antes de publicar el proyecto de Azure, le resultará útil tootest en un entorno independiente que admiten la depuración y escenarios de pruebas, y dónde puede instalar pruebas y programas de supervisión.</span><span class="sxs-lookup"><span data-stu-id="7edf4-204">Before publishing your Azure project, you might find it useful tootest it in a contained environment that supports debugging and testing scenarios, and where you can install testing and monitoring programs.</span></span> <span data-ttu-id="7edf4-205">Una manera de toodo es tooremotely depurar la aplicación en una máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="7edf4-205">One way toodo this is tooremotely debug your app on a virtual machine.</span></span>

<span data-ttu-id="7edf4-206">Proyectos de Visual Studio ASP.NET ofrecen una opción toocreate una práctica máquina virtual que puede usar para probar aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="7edf4-206">Visual Studio ASP.NET projects offer an option toocreate a handy virtual machine that you can use for app testing.</span></span> <span data-ttu-id="7edf4-207">máquina virtual de Hello incluye extremos requeridos habitualmente como PowerShell, escritorio remoto y WebDeploy.</span><span class="sxs-lookup"><span data-stu-id="7edf4-207">hello virtual machine includes commonly-needed endpoints such as PowerShell, remote desktop, and WebDeploy.</span></span>

### <a name="toocreate-a-web-project-and-a-virtual-machine-for-debugging"></a><span data-ttu-id="7edf4-208">toocreate un proyecto web y una máquina virtual para la depuración</span><span class="sxs-lookup"><span data-stu-id="7edf4-208">toocreate a web project and a virtual machine for debugging</span></span>
1. <span data-ttu-id="7edf4-209">En Visual Studio, cree una nueva aplicación web ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="7edf4-209">In Visual Studio, create a new ASP.NET Web Application.</span></span>
2. <span data-ttu-id="7edf4-210">Cuadro de diálogo nuevo proyecto de ASP.NET de hello, Hola sección Azure, elija **Máquina Virtual** en el cuadro de lista desplegable de Hola.</span><span class="sxs-lookup"><span data-stu-id="7edf4-210">In hello New ASP.NET Project dialog, in hello Azure section, choose **Virtual Machine** in hello dropdown list box.</span></span> <span data-ttu-id="7edf4-211">Deje hello **crear recursos remotos** casilla activada.</span><span class="sxs-lookup"><span data-stu-id="7edf4-211">Leave hello **Create remote resources** check box selected.</span></span> <span data-ttu-id="7edf4-212">Seleccione **Aceptar** tooproceed.</span><span class="sxs-lookup"><span data-stu-id="7edf4-212">Select **OK** tooproceed.</span></span>

    <span data-ttu-id="7edf4-213">Hola **crear máquina virtual en Azure** aparece el cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="7edf4-213">hello **Create virtual machine on Azure** dialog box appears.</span></span>

    ![Cuadro de diálogo Crear nuevo proyecto ASP.NET](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746723.png)

    <span data-ttu-id="7edf4-215">**Nota:** se le preguntará toosign en tooyour cuenta de Azure si aún no ha iniciado sesión en.</span><span class="sxs-lookup"><span data-stu-id="7edf4-215">**Note:** You'll be asked toosign in tooyour Azure account if you're not already signed in.</span></span>

1. <span data-ttu-id="7edf4-216">Seleccione Hola distintas configuraciones de máquina virtual de hello y, a continuación, seleccione **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="7edf4-216">Select hello various settings for hello virtual machine and then select **OK**.</span></span> <span data-ttu-id="7edf4-217">Consulte [Máquinas virtuales](http://go.microsoft.com/fwlink/?LinkId=623033) para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="7edf4-217">See [Virtual Machines](http://go.microsoft.com/fwlink/?LinkId=623033) for more information.</span></span>

    <span data-ttu-id="7edf4-218">nombre de Hola que especifique para el nombre DNS será el nombre de Hola de máquina virtual de Hola.</span><span class="sxs-lookup"><span data-stu-id="7edf4-218">hello name you enter for DNS name will be hello name of hello virtual machine.</span></span>

    ![Cuadro de diálogo Crear máquina virtual en Azure](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746724.png)

    <span data-ttu-id="7edf4-220">Azure crea la máquina virtual de hello y, a continuación, aprovisiona y configura los extremos de hello, como escritorio remoto y Web Deploy</span><span class="sxs-lookup"><span data-stu-id="7edf4-220">Azure creates hello virtual machine and then provisions and configures hello endpoints, such as Remote Desktop and Web Deploy</span></span>
2. <span data-ttu-id="7edf4-221">Después de hello máquina virtual esté completamente configurada, seleccione el nodo de la máquina virtual hello en el Explorador de servidores.</span><span class="sxs-lookup"><span data-stu-id="7edf4-221">After hello virtual machine is fully configured, select hello virtual machine’s node in Server Explorer.</span></span>
3. <span data-ttu-id="7edf4-222">Abra el menú contextual de Hola y seleccione **habilitar la depuración**.</span><span class="sxs-lookup"><span data-stu-id="7edf4-222">Open hello context menu and select **Enable Debugging**.</span></span> <span data-ttu-id="7edf4-223">Cuando se le pregunte si está seguro de si desea depurar tooenable en la máquina virtual de hello, seleccione **Sí**.</span><span class="sxs-lookup"><span data-stu-id="7edf4-223">When asked if you're sure if you want tooenable debugging on hello virtual machine, select **Yes**.</span></span>

    <span data-ttu-id="7edf4-224">Azure instala Hola depuración extensión toohello máquina virtual tooenable depuración remota.</span><span class="sxs-lookup"><span data-stu-id="7edf4-224">Azure installs hello remote debugging extension toohello virtual machine tooenable debugging.</span></span>

    ![Comando para habilitar la depuración en máquina virtual](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746720.png)

    ![Registro de actividades de Azure](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746721.png)
4. <span data-ttu-id="7edf4-227">Publique su proyecto tal y como se describe en [Implementación de un proyecto web utilizando publicación con un solo clic en Visual Studio](https://msdn.microsoft.com/library/dd465337.aspx).</span><span class="sxs-lookup"><span data-stu-id="7edf4-227">Publish your project as outlined in [How to: Deploy a Web Project Using One-Click Publish in Visual Studio](https://msdn.microsoft.com/library/dd465337.aspx).</span></span> <span data-ttu-id="7edf4-228">Dado que desea toodebug Hola máquina virtual, hello **configuración** página del programa Hola a **publicación Web** asistente, seleccione **depurar** como configuración de Hola.</span><span class="sxs-lookup"><span data-stu-id="7edf4-228">Because you want toodebug on hello virtual machine, on hello **Settings** page of hello **Publish Web** wizard, select **Debug** as hello configuration.</span></span> <span data-ttu-id="7edf4-229">Esto garantiza la disponibilidad de los símbolos de código durante la depuración.</span><span class="sxs-lookup"><span data-stu-id="7edf4-229">This makes sure that code symbols are available while debugging.</span></span>

    ![Configuración Publicar](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC718349.png)
5. <span data-ttu-id="7edf4-231">Hola **File Publish Options**, seleccione **quitar archivos adicionales en destino** si ya se implementó el proyecto hello en un momento anterior.</span><span class="sxs-lookup"><span data-stu-id="7edf4-231">In hello **File Publish Options**, select **Remove additional files at destination** if hello project was already deployed at an earlier time.</span></span>
6. <span data-ttu-id="7edf4-232">Una vez que publica el proyecto de hello, en el menú contextual de la máquina virtual hello en el Explorador de servidores, seleccione **asociar depurador...**</span><span class="sxs-lookup"><span data-stu-id="7edf4-232">After hello project publishes, on hello virtual machine's context menu in Server Explorer, select **Attach Debugger...**</span></span>

    <span data-ttu-id="7edf4-233">Obtiene una lista de procesos de hello en la máquina virtual de hello Azure y los muestra en el cuadro de diálogo de hello asociar tooProcess.</span><span class="sxs-lookup"><span data-stu-id="7edf4-233">Azure gets a list of hello processes on hello virtual machine and shows them in hello Attach tooProcess dialog box.</span></span>

    ![Comando Asociar depurador](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746722.png)
7. <span data-ttu-id="7edf4-235">Hola **adjuntar tooProcess** cuadro de diálogo, seleccione **seleccione** tooshow solo los tipos de Hola de lista de resultados de hello toolimit del código que desea toodebug.</span><span class="sxs-lookup"><span data-stu-id="7edf4-235">In hello **Attach tooProcess** dialog box, select **Select** toolimit hello results list tooshow only hello types of code you want toodebug.</span></span> <span data-ttu-id="7edf4-236">Puede depurar código administrado de 32 o 64 bits, código nativo o ambos.</span><span class="sxs-lookup"><span data-stu-id="7edf4-236">You can debug 32- or 64-bit managed code, native code, or both.</span></span>

    ![Seleccionar el cuadro de diálogo de tipo de código](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC718346.png)
8. <span data-ttu-id="7edf4-238">Seleccionar los procesos de Hola que desee toodebug en la máquina virtual de hello y, a continuación, seleccione **adjuntar**.</span><span class="sxs-lookup"><span data-stu-id="7edf4-238">Select hello processes you want toodebug on hello virtual machine and then select **Attach**.</span></span> <span data-ttu-id="7edf4-239">Por ejemplo, puede elegir el proceso w3wp.exe que Hola si deseara toodebug una aplicación web en la máquina virtual de Hola.</span><span class="sxs-lookup"><span data-stu-id="7edf4-239">For example, you might choose hello w3wp.exe process if you wanted toodebug a web app on hello virtual machine.</span></span> <span data-ttu-id="7edf4-240">Consulte [Depuración de uno o varios procesos en Visual Studio](https://msdn.microsoft.com/library/jj919165.aspx) para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="7edf4-240">See [Debug One or More Processes in Visual Studio](https://msdn.microsoft.com/library/jj919165.aspx) for more information.</span></span>

## <a name="next-steps"></a><span data-ttu-id="7edf4-241">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="7edf4-241">Next steps</span></span>
* <span data-ttu-id="7edf4-242">Use **Intellitrace** toocollect un registro de llamadas y eventos de un servidor de versión.</span><span class="sxs-lookup"><span data-stu-id="7edf4-242">Use **Intellitrace** toocollect a log of calls and events from a release server.</span></span> <span data-ttu-id="7edf4-243">Consulte [Depuración con IntelliTrace y Visual Studio de un servicio en la nube publicado](http://go.microsoft.com/fwlink/?LinkID=623016).</span><span class="sxs-lookup"><span data-stu-id="7edf4-243">See [Debugging a Published Cloud Service with IntelliTrace and Visual Studio](http://go.microsoft.com/fwlink/?LinkID=623016).</span></span>
* <span data-ttu-id="7edf4-244">Use **diagnósticos de Azure** toolog obtener información de ejecución de código en roles, si se están ejecutando los roles de hello en el entorno de desarrollo de Hola o en Azure.</span><span class="sxs-lookup"><span data-stu-id="7edf4-244">Use **Azure Diagnostics** toolog detailed information from code running within roles, whether hello roles are running in hello development environment or in Azure.</span></span> <span data-ttu-id="7edf4-245">Consulte [Recopilación de datos de registro mediante Diagnósticos de Azure](http://go.microsoft.com/fwlink/p/?LinkId=400450).</span><span class="sxs-lookup"><span data-stu-id="7edf4-245">See [Collecting logging data by using Azure Diagnostics](http://go.microsoft.com/fwlink/p/?LinkId=400450).</span></span>
