---
title: "¿Qué es Azure Relay y por qué se usa? | Microsoft Docs"
description: "Información general sobre Relay de Azure"
services: service-bus-relay
documentationcenter: .net
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 1e3e971d-2a24-4f96-a88a-ce3ea2b1a1cd
ms.service: service-bus-relay
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: multiple
ms.topic: get-started-article
ms.date: 08/23/2017
ms.author: sethm
ms.openlocfilehash: 77ee85db0bcc701514a1a98da9405a79d658d49d
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/29/2017
---
# <a name="what-is-azure-relay"></a><span data-ttu-id="73aff-103">¿Qué es Relay de Azure?</span><span class="sxs-lookup"><span data-stu-id="73aff-103">What is Azure Relay?</span></span>

<span data-ttu-id="73aff-104">El servicio Relay de Azure facilita las aplicaciones híbridas, ya que permite exponer de forma segura los servicios que se encuentran en una red corporativa en la nube pública sin tener que abrir una conexión de firewall y sin que sea necesario realizar cambios molestos en una infraestructura de red corporativa.</span><span class="sxs-lookup"><span data-stu-id="73aff-104">The Azure Relay service facilitates hybrid applications by enabling you to securely expose services that reside within a corporate enterprise network to the public cloud, without having to open a firewall connection, or require intrusive changes to a corporate network infrastructure.</span></span> <span data-ttu-id="73aff-105">Relay admite diversos protocolos de transporte y estándares de servicios web.</span><span class="sxs-lookup"><span data-stu-id="73aff-105">Relay supports a variety of different transport protocols and web services standards.</span></span>

<span data-ttu-id="73aff-106">El servicio de retransmisión admite mensajería unidireccional tradicional, de solicitud/respuesta y de punto a punto.</span><span class="sxs-lookup"><span data-stu-id="73aff-106">The relay service supports traditional one-way, request/response, and peer-to-peer traffic.</span></span> <span data-ttu-id="73aff-107">También admite la distribución de eventos en el ámbito de internet para habilitar escenarios de publicación/suscripción y la comunicación de socket bidireccional para aumentar la eficacia punto a punto.</span><span class="sxs-lookup"><span data-stu-id="73aff-107">It also supports event distribution at internet-scope to enable publish/subscribe scenarios and bi-directional socket communication for increased point-to-point efficiency.</span></span> 

<span data-ttu-id="73aff-108">En el patrón de transferencia de datos, un servicio local se conecta al servicio de relé mediante un puerto de salida y crea un socket bidireccional para la comunicación enlazada a una dirección de encuentro concreta.</span><span class="sxs-lookup"><span data-stu-id="73aff-108">In the relayed data transfer pattern, an on-premises service connects to the relay service through an outbound port and creates a bi-directional socket for communication tied to a particular rendezvous address.</span></span> <span data-ttu-id="73aff-109">Después el cliente puede comunicarse con el servicio local enviando tráfico al servicio de retransmisión destinados a la dirección de encuentro.</span><span class="sxs-lookup"><span data-stu-id="73aff-109">The client can then communicate with the on-premises service by sending traffic to the relay service targeting the rendezvous address.</span></span> <span data-ttu-id="73aff-110">El servicio de retransmisión "retransmite" entonces los datos al servicio local a través de un socket bidireccional dedicado a cada cliente.</span><span class="sxs-lookup"><span data-stu-id="73aff-110">The relay service then "relays" data to the on-premises service through a bi-directional socket dedicated to each client.</span></span> <span data-ttu-id="73aff-111">El cliente no necesita una conexión directa al servicio local, no es necesario saber dónde reside el servicio, y el servicio local no necesita ningún puerto de entrada abierto en el firewall.</span><span class="sxs-lookup"><span data-stu-id="73aff-111">The client does not need a direct connection to the on-premises service, it is not required to know where the service resides, and the on-premises service does not need any inbound ports open on the firewall.</span></span>

<span data-ttu-id="73aff-112">Los elementos de las funcionalidades claves que proporciona Relay son mensajes bidireccionales y no almacenados en búfer en los límites de red con limitación de tipo TCP, detección de puntos de conexión, estado de conectividad y seguridad de puntos de conexión superpuesta.</span><span class="sxs-lookup"><span data-stu-id="73aff-112">The key capability elements provided by Relay are bi-directional, unbuffered communication across network boundaries with TCP-like throttling, endpoint discovery, connectivity status, and overlaid endpoint security.</span></span> <span data-ttu-id="73aff-113">Las funcionalidades de Relay se diferencian de las tecnologías de integración en el nivel de red, como VPN, en que pueden alcanzar un punto de conexión de aplicaciones de un solo equipo, mientras que la tecnología VPN es mucho más intrusiva, ya que se basa en modificar el entorno de red.</span><span class="sxs-lookup"><span data-stu-id="73aff-113">The relay capabilities differ from network-level integration technologies such as VPN, in that relay can be scoped to a single application endpoint on a single machine, while VPN technology is far more intrusive as it relies on altering the network environment.</span></span>

<span data-ttu-id="73aff-114">Relay de Azure tiene dos características:</span><span class="sxs-lookup"><span data-stu-id="73aff-114">Azure Relay has two features:</span></span>

1. <span data-ttu-id="73aff-115">[Conexiones híbridas](#hybrid-connections): usa los sockets web de estándar abierto, con lo que se admiten escenarios multiplataforma.</span><span class="sxs-lookup"><span data-stu-id="73aff-115">[Hybrid Connections](#hybrid-connections) - Uses the open standard web sockets enabling multi-platform scenarios.</span></span>
2. <span data-ttu-id="73aff-116">[Retransmisiones de WCF](#wcf-relays): usa Windows Communication Foundation (WCF) para habilitar las llamadas a procedimientos remotos.</span><span class="sxs-lookup"><span data-stu-id="73aff-116">[WCF Relays](#wcf-relays) - Uses Windows Communication Foundation (WCF) to enable remote procedure calls.</span></span> <span data-ttu-id="73aff-117">WCF Relay es la oferta de Relay heredada que muchos clientes ya pueden utilizar con sus modelos de programación de WCF.</span><span class="sxs-lookup"><span data-stu-id="73aff-117">WCF Relay is the legacy relay offering that many customers already use with their WCF programming models.</span></span>

<span data-ttu-id="73aff-118">Conexiones híbridas y Retransmisiones de WCF habilitan una conexión segura a los recursos de dentro de una red corporativa.</span><span class="sxs-lookup"><span data-stu-id="73aff-118">Hybrid Connections and WCF Relays both enable secure connection to assets that exist within a corporate enterprise network.</span></span> <span data-ttu-id="73aff-119">El uso de una u otra depende de sus necesidades particulares que se detallan en la siguiente tabla:</span><span class="sxs-lookup"><span data-stu-id="73aff-119">Use of one over the other is dependent on your particular needs, as described in the following table:</span></span>

|  | <span data-ttu-id="73aff-120">Retransmisión de WCF</span><span class="sxs-lookup"><span data-stu-id="73aff-120">WCF Relay</span></span> | <span data-ttu-id="73aff-121">conexiones híbridas</span><span class="sxs-lookup"><span data-stu-id="73aff-121">Hybrid Connections</span></span> |
| --- |:---:|:---:|
| <span data-ttu-id="73aff-122">**WCF**</span><span class="sxs-lookup"><span data-stu-id="73aff-122">**WCF**</span></span> |<span data-ttu-id="73aff-123">x</span><span class="sxs-lookup"><span data-stu-id="73aff-123">x</span></span> | |
| <span data-ttu-id="73aff-124">**.NET Core**</span><span class="sxs-lookup"><span data-stu-id="73aff-124">**.NET Core**</span></span> | |<span data-ttu-id="73aff-125">x</span><span class="sxs-lookup"><span data-stu-id="73aff-125">x</span></span> |
| <span data-ttu-id="73aff-126">**.NET Framework**</span><span class="sxs-lookup"><span data-stu-id="73aff-126">**.NET Framework**</span></span> |<span data-ttu-id="73aff-127">x</span><span class="sxs-lookup"><span data-stu-id="73aff-127">x</span></span> |<span data-ttu-id="73aff-128">x</span><span class="sxs-lookup"><span data-stu-id="73aff-128">x</span></span> |
| <span data-ttu-id="73aff-129">**JavaScript/NodeJS**</span><span class="sxs-lookup"><span data-stu-id="73aff-129">**JavaScript/NodeJS**</span></span> | |<span data-ttu-id="73aff-130">x</span><span class="sxs-lookup"><span data-stu-id="73aff-130">x</span></span> |
| <span data-ttu-id="73aff-131">**Protocolo abierto basado en estándares**</span><span class="sxs-lookup"><span data-stu-id="73aff-131">**Standards-Based Open Protocol**</span></span> | |<span data-ttu-id="73aff-132">x</span><span class="sxs-lookup"><span data-stu-id="73aff-132">x</span></span> |
| <span data-ttu-id="73aff-133">**Varios modelos de programación de RPC**</span><span class="sxs-lookup"><span data-stu-id="73aff-133">**Multiple RPC Programming Models**</span></span> | |<span data-ttu-id="73aff-134">x</span><span class="sxs-lookup"><span data-stu-id="73aff-134">x</span></span> |

## <a name="hybrid-connections"></a><span data-ttu-id="73aff-135">conexiones híbridas</span><span class="sxs-lookup"><span data-stu-id="73aff-135">Hybrid Connections</span></span>

<span data-ttu-id="73aff-136">La funcionalidad [Conexiones híbridas de Azure Relay](relay-hybrid-connections-protocol.md) es una evolución segura y de protocolo abierto de las características de retransmisión existentes que se pueden implementar en cualquier plataforma y en cualquier lenguaje que tenga una funcionalidad de WebSocket básica, que incluya explícitamente la API de WebSocket en los exploradores web habituales.</span><span class="sxs-lookup"><span data-stu-id="73aff-136">The [Azure Relay Hybrid Connections](relay-hybrid-connections-protocol.md) capability is a secure, open-protocol evolution of the existing Relay features that can be implemented on any platform and in any language that has a basic WebSocket capability, which explicitly includes the WebSocket API in common web browsers.</span></span> <span data-ttu-id="73aff-137">Conexiones híbridas se basa en HTTP y WebSockets.</span><span class="sxs-lookup"><span data-stu-id="73aff-137">Hybrid Connections is based on HTTP and WebSockets.</span></span>

### <a name="service-history"></a><span data-ttu-id="73aff-138">Historial de servicios</span><span class="sxs-lookup"><span data-stu-id="73aff-138">Service history</span></span>

<span data-ttu-id="73aff-139">Conexiones híbridas sustituye a la anterior característica, denominada igualmente "BizTalk Services", que se basa en Retransmisión de WCF de Azure Service Bus.</span><span class="sxs-lookup"><span data-stu-id="73aff-139">Hybrid Connections supplants the former, similarly named "BizTalk Services" feature that was built on the Azure Service Bus WCF Relay.</span></span> <span data-ttu-id="73aff-140">La nueva funcionalidad Conexiones híbridas complementa a la característica Retransmisión de WCF existente y estas dos funcionalidades de servicio se ejecutarán en paralelo en el servicio Azure Relay.</span><span class="sxs-lookup"><span data-stu-id="73aff-140">The new Hybrid Connections capability complements the existing WCF Relay feature and these two service capabilities exist side-by-side in the Azure Relay service.</span></span> <span data-ttu-id="73aff-141">Aunque comparten una puerta de enlace común, se trata de implementaciones diferentes.</span><span class="sxs-lookup"><span data-stu-id="73aff-141">They share a common gateway, but are otherwise different implementations.</span></span>

## <a name="wcf-relays"></a><span data-ttu-id="73aff-142">Relés de WCF</span><span class="sxs-lookup"><span data-stu-id="73aff-142">WCF Relays</span></span>

<span data-ttu-id="73aff-143">Retransmisión de WCF es totalmente compatible con NET Framework (NETFX) y WCF.</span><span class="sxs-lookup"><span data-stu-id="73aff-143">The WCF Relay works for the full .NET Framework (NETFX) and for WCF.</span></span> <span data-ttu-id="73aff-144">La conexión entre el servicio local y el servicio de retransmisión se inicia mediante un conjunto de enlaces de “retransmisión” WCF.</span><span class="sxs-lookup"><span data-stu-id="73aff-144">You initiate the connection between your on-premises service and the relay service using a suite of WCF "relay" bindings.</span></span> <span data-ttu-id="73aff-145">En segundo plano, los enlaces de retransmisión se asignan a nuevos elementos de enlace de transporte diseñados para crear componentes de canal WCF que se integran con el Bus de servicio en la nube.</span><span class="sxs-lookup"><span data-stu-id="73aff-145">Behind the scenes, the relay bindings map to new transport binding elements designed to create WCF channel components that integrate with Service Bus in the cloud.</span></span>

## <a name="architecture-processing-of-incoming-relay-requests"></a><span data-ttu-id="73aff-146">Arquitectura: Procesamiento de solicitudes entrantes de retransmisión</span><span class="sxs-lookup"><span data-stu-id="73aff-146">Architecture: Processing of incoming relay requests</span></span>
<span data-ttu-id="73aff-147">Cuando un cliente envía una solicitud a [Azure Relay](/azure/service-bus-relay/), Azure Load Balancer lo enruta a cualquiera de los nodos de puerta de enlace.</span><span class="sxs-lookup"><span data-stu-id="73aff-147">When a client sends a request to the [Azure Relay](/azure/service-bus-relay/) service, the Azure load balancer routes it to any of the gateway nodes.</span></span> <span data-ttu-id="73aff-148">Si la solicitud es una solicitud de escucha, el nodo de puerta de enlace crea una nueva retransmisión.</span><span class="sxs-lookup"><span data-stu-id="73aff-148">If the request is a listening request, the gateway node creates a new relay.</span></span> <span data-ttu-id="73aff-149">Si la solicitud es una solicitud de conexión a una retransmisión específica, el nodo de puerta de enlace reenvía la solicitud de conexión al nodo de puerta de enlace que posee la retransmisión.</span><span class="sxs-lookup"><span data-stu-id="73aff-149">If the request is a connection request to a specific relay, the gateway node forwards the connection request to the gateway node that owns the relay.</span></span> <span data-ttu-id="73aff-150">El nodo de puerta de enlace que posee la retransmisión envía una solicitud de encuentro al cliente de escucha, solicitando al agente de escucha crear un canal temporal para el nodo de puerta de enlace que recibió la solicitud de conexión.</span><span class="sxs-lookup"><span data-stu-id="73aff-150">The gateway node that owns the relay sends a rendezvous request to the listening client, asking the listener to create a temporary channel to the gateway node that received the connection request.</span></span>

<span data-ttu-id="73aff-151">Cuando se establece la conexión de retransmisión, los clientes pueden intercambiar mensajes a través del nodo de puerta de enlace que se usa para el encuentro.</span><span class="sxs-lookup"><span data-stu-id="73aff-151">When the relay connection is established, the clients can exchange messages via the gateway node that is used for the rendezvous.</span></span>

![Procesamiento de solicitudes entrantes de retransmisión WCF](./media/relay-what-is-it/ic690645.png)

## <a name="next-steps"></a><span data-ttu-id="73aff-153">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="73aff-153">Next steps</span></span>

* [<span data-ttu-id="73aff-154">Preguntas más frecuentes acerca de Relay</span><span class="sxs-lookup"><span data-stu-id="73aff-154">Relay FAQ</span></span>](relay-faq.md)
* [<span data-ttu-id="73aff-155">Creación de un espacio de nombres</span><span class="sxs-lookup"><span data-stu-id="73aff-155">Create a namespace</span></span>](relay-create-namespace-portal.md)
* [<span data-ttu-id="73aff-156">Introducción a .NET</span><span class="sxs-lookup"><span data-stu-id="73aff-156">Get started with .NET</span></span>](relay-hybrid-connections-dotnet-get-started.md)
* [<span data-ttu-id="73aff-157">Introducción a Node</span><span class="sxs-lookup"><span data-stu-id="73aff-157">Get started with Node</span></span>](relay-hybrid-connections-node-get-started.md)

