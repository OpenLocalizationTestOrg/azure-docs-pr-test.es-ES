---
title: "aaaAzure autenticación y autorización de retransmisión | Documentos de Microsoft"
description: "Introducción a la autenticación de Firma de acceso compartido (SAS) en Azure Relay"
services: service-bus-relay
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 
ms.service: service-bus-relay
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 07/03/2017
ms.author: sethm
ms.openlocfilehash: b27914672ce968da2bddba8dafc5683ebf3834ac
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="azure-relay-authentication-and-authorization"></a><span data-ttu-id="7e883-103">Autenticación y autorización en Azure Relay</span><span class="sxs-lookup"><span data-stu-id="7e883-103">Azure Relay authentication and authorization</span></span>
<span data-ttu-id="7e883-104">Las aplicaciones pueden autenticarse tooAzure de retransmisión mediante la autenticación de firma de acceso compartido (SAS).</span><span class="sxs-lookup"><span data-stu-id="7e883-104">Applications can authenticate tooAzure Relay using Shared Access Signature (SAS) authentication.</span></span> <span data-ttu-id="7e883-105">Similar demasiado[Bus de servicio de mensajería](../service-bus-messaging/service-bus-authentication-and-authorization.md), autenticación de SAS permite que aplicaciones tooauthenticate toohello servicio de retransmisión de Azure mediante una clave de acceso configurada en el espacio de nombres de hello retransmisión.</span><span class="sxs-lookup"><span data-stu-id="7e883-105">Similar too[Service Bus messaging](../service-bus-messaging/service-bus-authentication-and-authorization.md), SAS authentication enables applications tooauthenticate toohello Azure Relay service using an access key configured on hello Relay namespace.</span></span> <span data-ttu-id="7e883-106">A continuación, puede usar esta clave toogenerate un token de firma de acceso compartido que los clientes pueden usar el servicio de retransmisión de tooauthenticate toohello.</span><span class="sxs-lookup"><span data-stu-id="7e883-106">You can then use this key toogenerate a Shared Access Signature token that clients can use tooauthenticate toohello relay service.</span></span>

## <a name="shared-access-signature-authentication"></a><span data-ttu-id="7e883-107">Autenticación con Firma de acceso compartido</span><span class="sxs-lookup"><span data-stu-id="7e883-107">Shared Access Signature authentication</span></span>
<span data-ttu-id="7e883-108">[Autenticación de SAS](../service-bus-messaging/service-bus-sas.md) permite toogrant un recursos de retransmisión de tooAzure de acceso de usuario con derechos específicos.</span><span class="sxs-lookup"><span data-stu-id="7e883-108">[SAS authentication](../service-bus-messaging/service-bus-sas.md) enables you toogrant a user access tooAzure Relay resources with specific rights.</span></span> <span data-ttu-id="7e883-109">Autenticación de SAS implica la configuración de Hola de una clave criptográfica con derechos asociados en un recurso.</span><span class="sxs-lookup"><span data-stu-id="7e883-109">SAS authentication involves hello configuration of a cryptographic key with associated rights on a resource.</span></span> <span data-ttu-id="7e883-110">Los clientes, a continuación, pueden obtener acceso a recursos de toothat presentando un token SAS, que consta del URI que se obtiene acceso de recurso de hello y una fecha de expiración firmada con hello configurado clave.</span><span class="sxs-lookup"><span data-stu-id="7e883-110">Clients can then gain access toothat resource by presenting a SAS token, which consists of hello resource URI being accessed and an expiry signed with hello configured key.</span></span>

<span data-ttu-id="7e883-111">Puede configurar claves para SAS en un espacio de nombres de Relay.</span><span class="sxs-lookup"><span data-stu-id="7e883-111">You can configure keys for SAS on a Relay namespace.</span></span> <span data-ttu-id="7e883-112">A diferencia de la mensajería de Service Bus, [Conexiones híbridas de Relay](relay-hybrid-connections-protocol.md) admite remitentes no autorizados o anónimos.</span><span class="sxs-lookup"><span data-stu-id="7e883-112">Unlike Service Bus messaging, [Relay Hybrid Connections](relay-hybrid-connections-protocol.md) supports unauthorized or anonymous senders.</span></span> <span data-ttu-id="7e883-113">Puede habilitar el acceso anónimo para la entidad de hello al crearlo, como se muestra en hello después de la pantalla desde el portal de hello:</span><span class="sxs-lookup"><span data-stu-id="7e883-113">You can enable anonymous access for hello entity when you create it, as shown in hello following screen shot from hello portal:</span></span>

![][0]

<span data-ttu-id="7e883-114">toouse SAS, puede configurar un [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) objeto en un espacio de nombres de retransmisión que consta de hello siguiente:</span><span class="sxs-lookup"><span data-stu-id="7e883-114">toouse SAS, you can configure a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) object on a Relay namespace that consists of hello following:</span></span>

* <span data-ttu-id="7e883-115">*KeyName* que identifica la regla de Hola.</span><span class="sxs-lookup"><span data-stu-id="7e883-115">*KeyName* that identifies hello rule.</span></span>
* <span data-ttu-id="7e883-116">*PrimaryKey* es toosign y validar tokens SAS usa una clave criptográfica.</span><span class="sxs-lookup"><span data-stu-id="7e883-116">*PrimaryKey* is a cryptographic key used toosign/validate SAS tokens.</span></span>
* <span data-ttu-id="7e883-117">*SecondaryKey* es toosign y validar tokens SAS usa una clave criptográfica.</span><span class="sxs-lookup"><span data-stu-id="7e883-117">*SecondaryKey* is a cryptographic key used toosign/validate SAS tokens.</span></span>
* <span data-ttu-id="7e883-118">*Derechos de* que representa colección de Hola de escucha, envío y administración de derechos concedidos.</span><span class="sxs-lookup"><span data-stu-id="7e883-118">*Rights* representing hello collection of Listen, Send, or Manage rights granted.</span></span>

<span data-ttu-id="7e883-119">Reglas de autorización configuradas en el nivel de espacio de nombres de hello pueden conceder acceso tooall conexiones de retransmisión en un espacio de nombres para los clientes con tokens firmados con la clave correspondiente Hola.</span><span class="sxs-lookup"><span data-stu-id="7e883-119">Authorization rules configured at hello namespace level can grant access tooall relay connections in a namespace for clients with tokens signed using hello corresponding key.</span></span> <span data-ttu-id="7e883-120">Seguridad too12 tales reglas de autorización pueden configurarse en un espacio de nombres de retransmisión.</span><span class="sxs-lookup"><span data-stu-id="7e883-120">Up too12 such authorization rules can be configured on a Relay namespace.</span></span> <span data-ttu-id="7e883-121">De forma predeterminada, se configura un objeto [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) con todos los derechos para cada espacio de nombres cuando se aprovisiona por primera vez.</span><span class="sxs-lookup"><span data-stu-id="7e883-121">By default, a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) with all rights is configured for every namespace when it is first provisioned.</span></span>

<span data-ttu-id="7e883-122">tooaccess una entidad, el cliente de hello requiere un token SAS generado con un determinado [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule).</span><span class="sxs-lookup"><span data-stu-id="7e883-122">tooaccess an entity, hello client requires a SAS token generated using a specific [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule).</span></span> <span data-ttu-id="7e883-123">token de SAS de Hola se genera utilizando Hola se notifica el HMAC-SHA256 de una cadena de recurso que consta del recurso de hello acceso URI toowhich y una fecha de expiración con una clave criptográfica asociada la regla de autorización de Hola.</span><span class="sxs-lookup"><span data-stu-id="7e883-123">hello SAS token is generated using hello HMAC-SHA256 of a resource string that consists of hello resource URI toowhich access is claimed, and an expiry with a cryptographic key associated with hello authorization rule.</span></span>

<span data-ttu-id="7e883-124">Compatibilidad con la autenticación SAS para la retransmisión de Azure se incluye en versiones de hello Azure SDK para .NET 2.0 y posteriores.</span><span class="sxs-lookup"><span data-stu-id="7e883-124">SAS authentication support for Azure Relay is included in hello Azure .NET SDK versions 2.0 and later.</span></span> <span data-ttu-id="7e883-125">SAS incluye compatibilidad con un objeto [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule).</span><span class="sxs-lookup"><span data-stu-id="7e883-125">SAS includes support for a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule).</span></span> <span data-ttu-id="7e883-126">Todas las API que aceptan una cadena de conexión como parámetro incluyen compatibilidad con cadenas de conexión SAS.</span><span class="sxs-lookup"><span data-stu-id="7e883-126">All APIs that accept a connection string as a parameter include support for SAS connection strings.</span></span>

## <a name="next-steps"></a><span data-ttu-id="7e883-127">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="7e883-127">Next steps</span></span>
- <span data-ttu-id="7e883-128">Para obtener más información sobre SAS, siga consultando [Autenticación en Service Bus con Firmas de acceso compartido](../service-bus-messaging/service-bus-sas.md).</span><span class="sxs-lookup"><span data-stu-id="7e883-128">Continue reading [Service Bus authentication with Shared Access Signatures](../service-bus-messaging/service-bus-sas.md) for more details about SAS.</span></span>
- <span data-ttu-id="7e883-129">Vea hello [conexiones híbridas de Azure retransmisión protocolo guía](relay-hybrid-connections-protocol.md) para obtener información detallada acerca de la capacidad de conexiones híbridas de Hola.</span><span class="sxs-lookup"><span data-stu-id="7e883-129">See hello [Azure Relay Hybrid Connections protocol guide](relay-hybrid-connections-protocol.md) for detailed information about hello Hybrid Connections capability.</span></span>
- <span data-ttu-id="7e883-130">Para más información sobre la autenticación de mensajería de Service Bus, consulte [Autenticación y autorización de Service Bus](../service-bus-messaging/service-bus-authentication-and-authorization.md).</span><span class="sxs-lookup"><span data-stu-id="7e883-130">For corresponding information about Service Bus Messaging authentication and authorization, see [Service Bus authentication and authorization](../service-bus-messaging/service-bus-authentication-and-authorization.md).</span></span> 

[0]: ./media/relay-authentication-and-authorization/hcanon.png