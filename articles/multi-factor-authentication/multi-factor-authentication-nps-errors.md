---
title: "Solución de problemas de códigos de error para la extensión de NPS de Azure MFA | Microsoft Docs"
description: "Obtenga ayuda para solucionar problemas con la extensión de NPS para Azure Multi-Factor Authentication con resoluciones específicas para los mensajes de error comunes"
services: multi-factor-authentication
documentationcenter: 
author: kgremban
manager: femila
ms.assetid: 
ms.service: multi-factor-authentication
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/14/2017
ms.author: kgremban
ms.reviewer: yossib
ms.custom: it-pro
ms.openlocfilehash: 173353d67772c2549aa1b8ec9f2a471bd1c65677
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/03/2017
---
# <a name="resolve-error-messages-from-the-nps-extension-for-azure-multi-factor-authentication"></a><span data-ttu-id="349e7-103">Resolución de mensajes de error de la extensión de NPS para Azure Multi-Factor Authentication</span><span class="sxs-lookup"><span data-stu-id="349e7-103">Resolve error messages from the NPS extension for Azure Multi-Factor Authentication</span></span>

<span data-ttu-id="349e7-104">Si encuentra errores en la extensión de NPS para Azure Multi-Factor Authentication, use este artículo para lograr una resolución más rápida.</span><span class="sxs-lookup"><span data-stu-id="349e7-104">If you encounter errors with the NPS extension for Azure Multi-Factor Authentication, use this article to reach a resolution faster.</span></span> 

## <a name="troubleshooting-steps-for-common-errors"></a><span data-ttu-id="349e7-105">Pasos para la solución de errores comunes</span><span class="sxs-lookup"><span data-stu-id="349e7-105">Troubleshooting steps for common errors</span></span>

| <span data-ttu-id="349e7-106">Código de error</span><span class="sxs-lookup"><span data-stu-id="349e7-106">Error code</span></span> | <span data-ttu-id="349e7-107">Pasos para solucionar problemas</span><span class="sxs-lookup"><span data-stu-id="349e7-107">Troubleshooting steps</span></span> |
| ---------- | --------------------- |
| <span data-ttu-id="349e7-108">**CONTACT_SUPPORT**</span><span class="sxs-lookup"><span data-stu-id="349e7-108">**CONTACT_SUPPORT**</span></span> | <span data-ttu-id="349e7-109">[Póngase en contacto con el servicio de soporte técnico](#contact-microsoft-support) y mencione la lista de pasos para recopilar registros.</span><span class="sxs-lookup"><span data-stu-id="349e7-109">[Contact support](#contact-microsoft-support), and mention the list of steps for collecting logs.</span></span> <span data-ttu-id="349e7-110">Proporcione la mayor cantidad de información que sea posible sobre lo que sucedió antes del error, incluido el id. del inquilino y el nombre principal de usuario (UPN).</span><span class="sxs-lookup"><span data-stu-id="349e7-110">Provide as much information as you can about what happened before the error, including tenant id, and user principal name (UPN).</span></span> |
| <span data-ttu-id="349e7-111">**CLIENT_CERT_INSTALL_ERROR**</span><span class="sxs-lookup"><span data-stu-id="349e7-111">**CLIENT_CERT_INSTALL_ERROR**</span></span> | <span data-ttu-id="349e7-112">Puede haber un problema con la forma en que se instaló el certificado de cliente o cómo se asoció con el inquilino.</span><span class="sxs-lookup"><span data-stu-id="349e7-112">There may be an issue with how the client certificate was installed or associated with your tenant.</span></span> <span data-ttu-id="349e7-113">Siga las instrucciones que aparecen en [Solución de problemas con la extensión de NPS de MFA](multi-factor-authentication-nps-extension.md#troubleshooting) para investigar los problemas con el certificado de cliente.</span><span class="sxs-lookup"><span data-stu-id="349e7-113">Follow the instructions in [Troubleshooting the MFA NPS extension](multi-factor-authentication-nps-extension.md#troubleshooting) to investigate client cert problems.</span></span> |
| <span data-ttu-id="349e7-114">**ESTS_TOKEN_ERROR**</span><span class="sxs-lookup"><span data-stu-id="349e7-114">**ESTS_TOKEN_ERROR**</span></span> | <span data-ttu-id="349e7-115">Siga las instrucciones que aparecen en [Solución de problemas con la extensión de NPS de MFA](multi-factor-authentication-nps-extension.md#troubleshooting) para investigar los problemas con el token ADAL y el certificado de cliente.</span><span class="sxs-lookup"><span data-stu-id="349e7-115">Follow the instructions in [Troubleshooting the MFA NPS extension](multi-factor-authentication-nps-extension.md#troubleshooting) to investigate client cert and ADAL token problems.</span></span> |
| <span data-ttu-id="349e7-116">**HTTPS_COMMUNICATION_ERROR**</span><span class="sxs-lookup"><span data-stu-id="349e7-116">**HTTPS_COMMUNICATION_ERROR**</span></span> | <span data-ttu-id="349e7-117">El servidor NPS no puede recibir respuestas de Azure MFA.</span><span class="sxs-lookup"><span data-stu-id="349e7-117">The NPS server is unable to receive responses from Azure MFA.</span></span> <span data-ttu-id="349e7-118">Compruebe que los firewalls están abiertos en ambas direcciones para el tráfico hacia y desde https://adnotifications.windowsazure.com</span><span class="sxs-lookup"><span data-stu-id="349e7-118">Verify that your firewalls are open bidirectionally for traffic to and from https://adnotifications.windowsazure.com</span></span> |
| <span data-ttu-id="349e7-119">**HTTP_CONNECT_ERROR**</span><span class="sxs-lookup"><span data-stu-id="349e7-119">**HTTP_CONNECT_ERROR**</span></span> | <span data-ttu-id="349e7-120">En el servidor que ejecuta la extensión de NPS, compruebe que puede acceder a https://adnotifications.windowsazure.com y https://login.microsoftonline.com/.</span><span class="sxs-lookup"><span data-stu-id="349e7-120">On the server that runs the NPS extension, verify that you can reach  https://adnotifications.windowsazure.com and https://login.microsoftonline.com/.</span></span> <span data-ttu-id="349e7-121">Si esos sitios no cargan, solucione los problemas de conectividad que tenga ese servidor.</span><span class="sxs-lookup"><span data-stu-id="349e7-121">If those sites don't load, troubleshoot connectivity on that server.</span></span> |
| <span data-ttu-id="349e7-122">**REGISTRY_CONFIG_ERROR**</span><span class="sxs-lookup"><span data-stu-id="349e7-122">**REGISTRY_CONFIG_ERROR**</span></span> | <span data-ttu-id="349e7-123">Falta una clave en el registro de la aplicación, lo que puede deberse a que el [script de PowerShell](multi-factor-authentication-nps-extension.md#install-the-nps-extension) no se ejecutó después de la instalación.</span><span class="sxs-lookup"><span data-stu-id="349e7-123">A key is missing in the registry for the application, which may be because the [PowerShell script](multi-factor-authentication-nps-extension.md#install-the-nps-extension) wasn't run after installation.</span></span> <span data-ttu-id="349e7-124">El mensaje de error debe incluir la clave que falta.</span><span class="sxs-lookup"><span data-stu-id="349e7-124">The error message should include the missing key.</span></span> <span data-ttu-id="349e7-125">Asegúrese de que la clave se encuentra en HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\AzureMfa.</span><span class="sxs-lookup"><span data-stu-id="349e7-125">Make sure you have the key under HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\AzureMfa.</span></span> |
| <span data-ttu-id="349e7-126">**REQUEST_FORMAT_ERROR**</span><span class="sxs-lookup"><span data-stu-id="349e7-126">**REQUEST_FORMAT_ERROR**</span></span> <br> <span data-ttu-id="349e7-127">Falta el atributo nombreUsuario\Identificador obligatorio en la solicitud de RADIUS. Compruebe que NPS recibe las solicitudes de RADIUS</span><span class="sxs-lookup"><span data-stu-id="349e7-127">Radius Request missing mandatory Radius userName\Identifier attribute.Verify that NPS is receiving RADIUS requests</span></span> | <span data-ttu-id="349e7-128">Este error refleja habitualmente un problema de instalación.</span><span class="sxs-lookup"><span data-stu-id="349e7-128">This error usually reflects an installation issue.</span></span> <span data-ttu-id="349e7-129">La extensión de NPS debe estar instalada en servidores de NPS que pueden recibir solicitudes de RADIUS.</span><span class="sxs-lookup"><span data-stu-id="349e7-129">The NPS extension must be installed in NPS servers that can receive RADIUS requests.</span></span> <span data-ttu-id="349e7-130">Los servidores de NPS que están instalados como dependencias para servicios como RDG y RRAS no reciben solicitudes de RADIUS.</span><span class="sxs-lookup"><span data-stu-id="349e7-130">NPS servers that are installed as dependencies for services like RDG and RRAS don't receive radius requests.</span></span> <span data-ttu-id="349e7-131">La extensión de NPS no funciona si se instala en esas instalaciones y genera errores porque no puede leer los detalles de la solicitud de autenticación.</span><span class="sxs-lookup"><span data-stu-id="349e7-131">NPS Extension does not work when installed over such installations and errors out since it cannot read the details from the authentication request.</span></span> |
| <span data-ttu-id="349e7-132">**REQUEST_MISSING_CODE**</span><span class="sxs-lookup"><span data-stu-id="349e7-132">**REQUEST_MISSING_CODE**</span></span> | <span data-ttu-id="349e7-133">Asegúrese de que el protocolo de cifrado de contraseña entre los servidores NPS y NAS admite el método de autenticación secundario que usa.</span><span class="sxs-lookup"><span data-stu-id="349e7-133">Make sure that the password encryption protocol between the NPS and NAS servers supports the secondary authentication method that you're using.</span></span> <span data-ttu-id="349e7-134">**PAP** es compatible con todos los métodos de autenticación de Azure MFA en la nube: llamada de teléfono, mensaje de texto unidireccional, notificación de aplicación móvil y código de comprobación de la aplicación móvil.</span><span class="sxs-lookup"><span data-stu-id="349e7-134">**PAP** supports all the authentication methods of Azure MFA in the cloud: phone call, one-way text message, mobile app notification, and mobile app verification code.</span></span> <span data-ttu-id="349e7-135">**CHAPV2** y **EAP** admiten llamadas de teléfono y notificaciones de aplicación móvil.</span><span class="sxs-lookup"><span data-stu-id="349e7-135">**CHAPV2** and **EAP** support phone call and mobile app notification.</span></span> |
| <span data-ttu-id="349e7-136">**USERNAME_CANONICALIZATION_ERROR**</span><span class="sxs-lookup"><span data-stu-id="349e7-136">**USERNAME_CANONICALIZATION_ERROR**</span></span> | <span data-ttu-id="349e7-137">Compruebe que el usuario existe en la instancia local de Active Directory y que el servicio NPS tiene permiso para acceder al directorio.</span><span class="sxs-lookup"><span data-stu-id="349e7-137">Verify that the user is present in your on-premises Active Directory instance, and that the NPS Service has permissions to access the directory.</span></span> <span data-ttu-id="349e7-138">Si usa confianzas entre bosques, [póngase en contacto con el servicio de soporte técnico](#contact-microsoft-support) para más ayuda.</span><span class="sxs-lookup"><span data-stu-id="349e7-138">If you are using cross-forest trusts, [contact support](#contact-microsoft-support) for further help.</span></span> |


   

### <a name="alternate-login-id-errors"></a><span data-ttu-id="349e7-139">Errores de identificador de inicio de sesión alternativo</span><span class="sxs-lookup"><span data-stu-id="349e7-139">Alternate login ID errors</span></span>

| <span data-ttu-id="349e7-140">Código de error</span><span class="sxs-lookup"><span data-stu-id="349e7-140">Error code</span></span> | <span data-ttu-id="349e7-141">Mensaje de error</span><span class="sxs-lookup"><span data-stu-id="349e7-141">Error message</span></span> | <span data-ttu-id="349e7-142">Pasos para solucionar problemas</span><span class="sxs-lookup"><span data-stu-id="349e7-142">Troubleshooting steps</span></span> |
| ---------- | ------------- | --------------------- |
| <span data-ttu-id="349e7-143">**ALTERNATE_LOGIN_ID_ERROR**</span><span class="sxs-lookup"><span data-stu-id="349e7-143">**ALTERNATE_LOGIN_ID_ERROR**</span></span> | <span data-ttu-id="349e7-144">Error: error de búsqueda de userObjectSid</span><span class="sxs-lookup"><span data-stu-id="349e7-144">Error: userObjectSid lookup failed</span></span> | <span data-ttu-id="349e7-145">Compruebe que el usuario existe en la instancia local de Active Directory.</span><span class="sxs-lookup"><span data-stu-id="349e7-145">Verify that the user exists in your on-premises Active Directory instance.</span></span> <span data-ttu-id="349e7-146">Si usa confianzas entre bosques, [póngase en contacto con el servicio de soporte técnico](#contact-microsoft-support) para más ayuda.</span><span class="sxs-lookup"><span data-stu-id="349e7-146">If you are using cross-forest trusts, [contact support](#contact-microsoft-support) for further help.</span></span> |
| <span data-ttu-id="349e7-147">**ALTERNATE_LOGIN_ID_ERROR**</span><span class="sxs-lookup"><span data-stu-id="349e7-147">**ALTERNATE_LOGIN_ID_ERROR**</span></span> | <span data-ttu-id="349e7-148">Error: error en la búsqueda de LoginId alternativo</span><span class="sxs-lookup"><span data-stu-id="349e7-148">Error: Alternate LoginId lookup failed</span></span> | <span data-ttu-id="349e7-149">Compruebe que LDAP_ALTERNATE_LOGINID_ATTRIBUTE está establecido en un [atributo de directorio activo válido](https://msdn.microsoft.com/library/ms675090(v=vs.85).aspx).</span><span class="sxs-lookup"><span data-stu-id="349e7-149">Verify that LDAP_ALTERNATE_LOGINID_ATTRIBUTE is set to a [valid active directory attribute](https://msdn.microsoft.com/library/ms675090(v=vs.85).aspx).</span></span> <br><br> <span data-ttu-id="349e7-150">Si LDAP_FORCE_GLOBAL_CATALOG está establecido en True, o LDAP_LOOKUP_FORESTS se configura con un valor no vacío, compruebe que ha configurado un catálogo global y que el atributo AlternateLoginId se agrega a él.</span><span class="sxs-lookup"><span data-stu-id="349e7-150">If LDAP_FORCE_GLOBAL_CATALOG is set to True, or LDAP_LOOKUP_FORESTS is configured with a non-empty value, verify that you have configured a Global Catalog and that the AlternateLoginId attribute is added to it.</span></span> <br><br> <span data-ttu-id="349e7-151">Si LDAP_LOOKUP_FORESTS está configurado con un valor no vacío, compruebe que el valor es correcto.</span><span class="sxs-lookup"><span data-stu-id="349e7-151">If LDAP_LOOKUP_FORESTS is configured with a non-empty value, verify that the value is correct.</span></span> <span data-ttu-id="349e7-152">Si hay más de un nombre de bosque, los nombres deben estar separados con puntos y coma, no espacios.</span><span class="sxs-lookup"><span data-stu-id="349e7-152">If there is more than one forest name, the names must be separated with semi-colons, not spaces.</span></span> <br><br> <span data-ttu-id="349e7-153">Si estos pasos no solucionan el problema, [póngase en contacto con soporte técnico](#contact-microsoft-support) para obtener más ayuda.</span><span class="sxs-lookup"><span data-stu-id="349e7-153">If these steps don't fix the problem, [contact support](#contact-microsoft-support) for more help.</span></span> |
| <span data-ttu-id="349e7-154">**ALTERNATE_LOGIN_ID_ERROR**</span><span class="sxs-lookup"><span data-stu-id="349e7-154">**ALTERNATE_LOGIN_ID_ERROR**</span></span> | <span data-ttu-id="349e7-155">Error: el valor de LoginId alternativo está vacío</span><span class="sxs-lookup"><span data-stu-id="349e7-155">Error: Alternate LoginId value is empty</span></span> | <span data-ttu-id="349e7-156">Compruebe que el atributo de AlternateLoginId está configurado para el usuario.</span><span class="sxs-lookup"><span data-stu-id="349e7-156">Verify that the AlternateLoginId attribute is configured for the user.</span></span> |


## <a name="errors-your-users-may-encounter"></a><span data-ttu-id="349e7-157">Errores que pueden encontrar los usuarios</span><span class="sxs-lookup"><span data-stu-id="349e7-157">Errors your users may encounter</span></span>

| <span data-ttu-id="349e7-158">Código de error</span><span class="sxs-lookup"><span data-stu-id="349e7-158">Error code</span></span> | <span data-ttu-id="349e7-159">Mensaje de error</span><span class="sxs-lookup"><span data-stu-id="349e7-159">Error message</span></span> | <span data-ttu-id="349e7-160">Pasos para solucionar problemas</span><span class="sxs-lookup"><span data-stu-id="349e7-160">Troubleshooting steps</span></span> |
| ---------- | ------------- | --------------------- |
| <span data-ttu-id="349e7-161">**AccessDenied**</span><span class="sxs-lookup"><span data-stu-id="349e7-161">**AccessDenied**</span></span> | <span data-ttu-id="349e7-162">El inquilino autor de la llamada no tiene permisos de acceso para realizar la autenticación por el usuario</span><span class="sxs-lookup"><span data-stu-id="349e7-162">Caller tenant does not have access permissions to do authentication for the user</span></span> | <span data-ttu-id="349e7-163">Revise si el dominio del inquilino y el dominio del nombre principal de usuario (UPN) son iguales.</span><span class="sxs-lookup"><span data-stu-id="349e7-163">Check whether the tenant domain and the domain of the user principal name (UPN) are the same.</span></span> <span data-ttu-id="349e7-164">Por ejemplo, asegúrese de que user@contoso.com intenta autenticarse en el inquilino Contoso.</span><span class="sxs-lookup"><span data-stu-id="349e7-164">For example, make sure that user@contoso.com is trying to authenticate to the Contoso tenant.</span></span> <span data-ttu-id="349e7-165">El nombre principal de usuario representa un usuario válido para el inquilino en Azure.</span><span class="sxs-lookup"><span data-stu-id="349e7-165">The UPN represents a valid user for the tenant in Azure.</span></span> |
| <span data-ttu-id="349e7-166">**AuthenticationMethodNotConfigured**</span><span class="sxs-lookup"><span data-stu-id="349e7-166">**AuthenticationMethodNotConfigured**</span></span> | <span data-ttu-id="349e7-167">El método de autenticación especificado no se configuró para el usuario</span><span class="sxs-lookup"><span data-stu-id="349e7-167">The specified authentication method was not configured for the user</span></span> | <span data-ttu-id="349e7-168">Haga que el usuario agregue o compruebe los métodos de comprobación según las instrucciones que aparecen en [Administración de la configuración de la verificación en dos pasos](./end-user/multi-factor-authentication-end-user-manage-settings.md).</span><span class="sxs-lookup"><span data-stu-id="349e7-168">Have the user add or verify their verification methods according to the instructions in [Manage your settings for two-step verification](./end-user/multi-factor-authentication-end-user-manage-settings.md).</span></span> |
| <span data-ttu-id="349e7-169">**AuthenticationMethodNotSupported**</span><span class="sxs-lookup"><span data-stu-id="349e7-169">**AuthenticationMethodNotSupported**</span></span> | <span data-ttu-id="349e7-170">No se admite el método de autenticación especificado.</span><span class="sxs-lookup"><span data-stu-id="349e7-170">Specified authentication method is not supported.</span></span> | <span data-ttu-id="349e7-171">Recopile todos los registros que incluyen este error y [póngase en contacto con el servicio de soporte técnico](#contact-microsoft-support).</span><span class="sxs-lookup"><span data-stu-id="349e7-171">Collect all your logs that include this error, and [contact support](#contact-microsoft-support).</span></span> <span data-ttu-id="349e7-172">Cuando lo haga, proporcione el nombre de usuario y el método de comprobación secundario que desencadenó el error.</span><span class="sxs-lookup"><span data-stu-id="349e7-172">When you contact support, provide the username and the secondary verification method that triggered the error.</span></span> |
| <span data-ttu-id="349e7-173">**BecAccessDenied**</span><span class="sxs-lookup"><span data-stu-id="349e7-173">**BecAccessDenied**</span></span> | <span data-ttu-id="349e7-174">La llamada Bec de MSODS devolvió un acceso denegado, probablemente porque el nombre de usuario no está definido en el inquilino</span><span class="sxs-lookup"><span data-stu-id="349e7-174">MSODS Bec call returned access denied, probably the username is not defined in the tenant</span></span> | <span data-ttu-id="349e7-175">El usuario se encuentra en la instancia local de Active Directory, pero AD Connect no la sincroniza en Azure AD.</span><span class="sxs-lookup"><span data-stu-id="349e7-175">The user is present in Active Directory on-premises but is not synced into Azure AD by AD Connect.</span></span> <span data-ttu-id="349e7-176">O bien puede que el usuario falte en el inquilino.</span><span class="sxs-lookup"><span data-stu-id="349e7-176">Or, the user is missing for the tenant.</span></span> <span data-ttu-id="349e7-177">Agregue el usuario a Azure AD y haga que agregue sus métodos de comprobación según las instrucciones que aparecen en [Administración de la configuración de la verificación en dos pasos](./end-user/multi-factor-authentication-end-user-manage-settings.md).</span><span class="sxs-lookup"><span data-stu-id="349e7-177">Add the user to Azure AD and have them add their verification methods according to the instructions in [Manage your settings for two-step verification](./end-user/multi-factor-authentication-end-user-manage-settings.md).</span></span> |
| <span data-ttu-id="349e7-178">**InvalidFormat** o **StrongAuthenticationServiceInvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="349e7-178">**InvalidFormat** or **StrongAuthenticationServiceInvalidParameter**</span></span> | <span data-ttu-id="349e7-179">El número de teléfono tiene un formato no reconocible</span><span class="sxs-lookup"><span data-stu-id="349e7-179">The phone number is in an unrecognizable format</span></span> | <span data-ttu-id="349e7-180">Haga que el usuario corrija los números de teléfono de comprobación.</span><span class="sxs-lookup"><span data-stu-id="349e7-180">Have the user correct their verification phone numbers.</span></span> |
| <span data-ttu-id="349e7-181">**InvalidSession**</span><span class="sxs-lookup"><span data-stu-id="349e7-181">**InvalidSession**</span></span> | <span data-ttu-id="349e7-182">La sesión especificada no es válida o puede haber expirado</span><span class="sxs-lookup"><span data-stu-id="349e7-182">The specified session is invalid or may have expired</span></span> | <span data-ttu-id="349e7-183">La sesión tarda más de tres minutos en completarse.</span><span class="sxs-lookup"><span data-stu-id="349e7-183">The session has taken more than three minutes to complete.</span></span> <span data-ttu-id="349e7-184">Compruebe que el usuario escribe el código de comprobación o que responde a la notificación de aplicación en menos de tres minutos después de que se inicia la solicitud de autenticación.</span><span class="sxs-lookup"><span data-stu-id="349e7-184">Verify that the user is entering the verification code, or responding to the app notification, within three minutes of initiating the authentication request.</span></span> <span data-ttu-id="349e7-185">Si no se soluciona el problema, compruebe que no haya latencias de red entre el cliente, el servidor NAS, el servidor NPS y el punto de conexión de Azure MFA.</span><span class="sxs-lookup"><span data-stu-id="349e7-185">If that doesn't fix the problem, check that there are no network latencies between client, NAS Server, NPS Server, and the Azure MFA endpoint.</span></span>  |
| <span data-ttu-id="349e7-186">**NoDefaultAuthenticationMethodIsConfigured**</span><span class="sxs-lookup"><span data-stu-id="349e7-186">**NoDefaultAuthenticationMethodIsConfigured**</span></span> | <span data-ttu-id="349e7-187">No se configuró ningún método de autenticación predeterminado para el usuario</span><span class="sxs-lookup"><span data-stu-id="349e7-187">No default authentication method was configured for the user</span></span> | <span data-ttu-id="349e7-188">Haga que el usuario agregue o compruebe los métodos de comprobación según las instrucciones que aparecen en [Administración de la configuración de la verificación en dos pasos](./end-user/multi-factor-authentication-end-user-manage-settings.md).</span><span class="sxs-lookup"><span data-stu-id="349e7-188">Have the user add or verify their verification methods according to the instructions in [Manage your settings for two-step verification](./end-user/multi-factor-authentication-end-user-manage-settings.md).</span></span> <span data-ttu-id="349e7-189">Compruebe que el usuario eligió un método de autenticación predeterminado y que configuró dicho método para la cuenta.</span><span class="sxs-lookup"><span data-stu-id="349e7-189">Verify that the user has chosen a default authentication method, and configured that method for their account.</span></span> |
| <span data-ttu-id="349e7-190">**OathCodePinIncorrect**</span><span class="sxs-lookup"><span data-stu-id="349e7-190">**OathCodePinIncorrect**</span></span> | <span data-ttu-id="349e7-191">Se escribió un PIN y un código de error incorrectos.</span><span class="sxs-lookup"><span data-stu-id="349e7-191">Wrong code and pin entered.</span></span> | <span data-ttu-id="349e7-192">Este error no se espera en la extensión de NPS.</span><span class="sxs-lookup"><span data-stu-id="349e7-192">This error is not expected in the NPS extension.</span></span> <span data-ttu-id="349e7-193">Si el usuario encuentra este error, [póngase en contacto con el servicio de soporte técnico](#contact-microsoft-support) para ayuda en la solución de problemas.</span><span class="sxs-lookup"><span data-stu-id="349e7-193">If your user encounters this, [contact support](#contact-microsoft-support) for troubleshooting help.</span></span> |
| <span data-ttu-id="349e7-194">**ProofDataNotFound**</span><span class="sxs-lookup"><span data-stu-id="349e7-194">**ProofDataNotFound**</span></span> | <span data-ttu-id="349e7-195">No se configuraron datos de prueba para el método de autenticación especificado.</span><span class="sxs-lookup"><span data-stu-id="349e7-195">Proof data was not configured for the specified authentication method.</span></span> | <span data-ttu-id="349e7-196">Haga que el usuario pruebe con otro método de comprobación o agregue métodos de comprobación nuevos según las instrucciones que aparecen en [Administración de la configuración de la verificación en dos pasos](./end-user/multi-factor-authentication-end-user-manage-settings.md).</span><span class="sxs-lookup"><span data-stu-id="349e7-196">Have the user try a different verification method, or add a new verification methods according to the instructions in [Manage your settings for two-step verification](./end-user/multi-factor-authentication-end-user-manage-settings.md).</span></span> <span data-ttu-id="349e7-197">Si el usuario sigue viendo este error una vez que confirmó que el método de comprobación está configurado correctamente, [póngase en contacto con el servicio de soporte técnico](#contact-microsoft-support).</span><span class="sxs-lookup"><span data-stu-id="349e7-197">If the user continues to see this error after you confirmed that their verification method is set up correctly, [contact support](#contact-microsoft-support).</span></span> |
| <span data-ttu-id="349e7-198">**SMSAuthFailedWrongCodePinEntered**</span><span class="sxs-lookup"><span data-stu-id="349e7-198">**SMSAuthFailedWrongCodePinEntered**</span></span> | <span data-ttu-id="349e7-199">Se escribió un PIN y un código de error incorrectos.</span><span class="sxs-lookup"><span data-stu-id="349e7-199">Wrong code and pin entered.</span></span> <span data-ttu-id="349e7-200">(OneWaySMS)</span><span class="sxs-lookup"><span data-stu-id="349e7-200">(OneWaySMS)</span></span> | <span data-ttu-id="349e7-201">Este error no se espera en la extensión de NPS.</span><span class="sxs-lookup"><span data-stu-id="349e7-201">This error is not expected in the NPS extension.</span></span> <span data-ttu-id="349e7-202">Si el usuario encuentra este error, [póngase en contacto con el servicio de soporte técnico](#contact-microsoft-support) para ayuda en la solución de problemas.</span><span class="sxs-lookup"><span data-stu-id="349e7-202">If your user encounters this, [contact support](#contact-microsoft-support) for troubleshooting help.</span></span> |
| <span data-ttu-id="349e7-203">**TenantIsBlocked**</span><span class="sxs-lookup"><span data-stu-id="349e7-203">**TenantIsBlocked**</span></span> | <span data-ttu-id="349e7-204">El inquilino está bloqueado</span><span class="sxs-lookup"><span data-stu-id="349e7-204">Tenant is blocked</span></span> | <span data-ttu-id="349e7-205">[Póngase en contacto con el servicio de soporte técnico](#contact-microsoft-support) con la identificación de directorio de la página de propiedades de Azure AD en Azure Portal.</span><span class="sxs-lookup"><span data-stu-id="349e7-205">[Contact support](#contact-microsoft-support) with Directory ID from the Azure AD properties page in the Azure portal.</span></span> |
| <span data-ttu-id="349e7-206">**UserNotFound**</span><span class="sxs-lookup"><span data-stu-id="349e7-206">**UserNotFound**</span></span> | <span data-ttu-id="349e7-207">No se encontró el usuario especificado</span><span class="sxs-lookup"><span data-stu-id="349e7-207">The specified user was not found</span></span> | <span data-ttu-id="349e7-208">El inquilino ya no está visible como activo en Azure AD.</span><span class="sxs-lookup"><span data-stu-id="349e7-208">The tenant is no longer visible as active in Azure AD.</span></span> <span data-ttu-id="349e7-209">Compruebe que la suscripción está activa y que tiene las aplicaciones propias requeridas.</span><span class="sxs-lookup"><span data-stu-id="349e7-209">Check that your subscription is active and you have the required first party apps.</span></span> <span data-ttu-id="349e7-210">Además, asegúrese de que el inquilino del asunto del certificado sea el esperado y que el certificado siga siendo válido y esté registrado en la entidad de servicio.</span><span class="sxs-lookup"><span data-stu-id="349e7-210">Also make sure the tenant in the certificate subject is as expected and the cert is still valid and registered under the service principal.</span></span> |

## <a name="messages-your-users-may-encounter-that-arent-errors"></a><span data-ttu-id="349e7-211">Mensajes que pueden encontrar los usuarios que no son errores</span><span class="sxs-lookup"><span data-stu-id="349e7-211">Messages your users may encounter that aren't errors</span></span>

<span data-ttu-id="349e7-212">A veces, los usuarios pueden recibir mensajes de Multi-Factor Authentication debido a un error de la solicitud de autenticación.</span><span class="sxs-lookup"><span data-stu-id="349e7-212">Sometimes, your users may get messages from Multi-Factor Authentication because their authentication request failed.</span></span> <span data-ttu-id="349e7-213">No se trata de errores de configuración, sino que advertencias intencionales que explican por qué se denegó una solicitud de autenticación.</span><span class="sxs-lookup"><span data-stu-id="349e7-213">These aren't errors in the product of configuration, but are intentional warnings explaining why an authentication request was denied.</span></span>

| <span data-ttu-id="349e7-214">Código de error</span><span class="sxs-lookup"><span data-stu-id="349e7-214">Error code</span></span> | <span data-ttu-id="349e7-215">Mensaje de error</span><span class="sxs-lookup"><span data-stu-id="349e7-215">Error message</span></span> | <span data-ttu-id="349e7-216">Pasos recomendados</span><span class="sxs-lookup"><span data-stu-id="349e7-216">Recommended steps</span></span> | 
| ---------- | ------------- | ----------------- |
| <span data-ttu-id="349e7-217">**OathCodeIncorrect**</span><span class="sxs-lookup"><span data-stu-id="349e7-217">**OathCodeIncorrect**</span></span> | <span data-ttu-id="349e7-218">Se escribió un código incorrecto\Código OATH incorrecto</span><span class="sxs-lookup"><span data-stu-id="349e7-218">Wrong code entered\OATH Code Incorrect</span></span> | <span data-ttu-id="349e7-219">No es un error, el usuario escribió un código incorrecto.</span><span class="sxs-lookup"><span data-stu-id="349e7-219">Not an error,User has entered wrong code.</span></span> | <span data-ttu-id="349e7-220">El usuario escribió un código incorrecto.</span><span class="sxs-lookup"><span data-stu-id="349e7-220">The user entered the wrong code.</span></span> <span data-ttu-id="349e7-221">Pídale que solicite un código nuevo o que vuelva a iniciar sesión para intentarlo nuevamente.</span><span class="sxs-lookup"><span data-stu-id="349e7-221">Have them try again by requesting a new code or signing in again.</span></span> | 
| <span data-ttu-id="349e7-222">**SMSAuthFailedMaxAllowedCodeRetryReached**</span><span class="sxs-lookup"><span data-stu-id="349e7-222">**SMSAuthFailedMaxAllowedCodeRetryReached**</span></span> | <span data-ttu-id="349e7-223">Se alcanzó el número máximo de reintentos de código</span><span class="sxs-lookup"><span data-stu-id="349e7-223">Maximum allowed code retry reached</span></span> | <span data-ttu-id="349e7-224">El usuario no pudo completar el desafío de comprobación demasiadas veces.</span><span class="sxs-lookup"><span data-stu-id="349e7-224">The user failed the verification challenge too many times.</span></span> <span data-ttu-id="349e7-225">En función de lo que indique la configuración puede que ahora un administrador deba desbloquearlo.</span><span class="sxs-lookup"><span data-stu-id="349e7-225">Depending on your settings, they may need to be unblocked by an admin now.</span></span>  |
| <span data-ttu-id="349e7-226">**SMSAuthFailedWrongCodeEntered**</span><span class="sxs-lookup"><span data-stu-id="349e7-226">**SMSAuthFailedWrongCodeEntered**</span></span> | <span data-ttu-id="349e7-227">Se escribió un código incorrecto/OTP de mensaje de texto incorrecto</span><span class="sxs-lookup"><span data-stu-id="349e7-227">Wrong code entered/Text Message OTP Incorrect</span></span> | <span data-ttu-id="349e7-228">El usuario escribió un código incorrecto.</span><span class="sxs-lookup"><span data-stu-id="349e7-228">The user entered the wrong code.</span></span> <span data-ttu-id="349e7-229">Pídale que solicite un código nuevo o que vuelva a iniciar sesión para intentarlo nuevamente.</span><span class="sxs-lookup"><span data-stu-id="349e7-229">Have them try again by requesting a new code or signing in again.</span></span> |

## <a name="errors-that-require-support"></a><span data-ttu-id="349e7-230">Errores que requieren soporte técnico</span><span class="sxs-lookup"><span data-stu-id="349e7-230">Errors that require support</span></span>

<span data-ttu-id="349e7-231">Si encuentra uno de estos errores, se recomienda [ponerse en contacto con el servicio de soporte técnico](#contact-microsoft-support) para obtener ayuda en el diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="349e7-231">If you encounter one of these errors, we recommend that you [contact support](#contact-microsoft-support) for diagnostic help.</span></span> <span data-ttu-id="349e7-232">No hay un conjunto estándar de pasos para abordar estos errores.</span><span class="sxs-lookup"><span data-stu-id="349e7-232">There's no standard set of steps that can address these errors.</span></span> <span data-ttu-id="349e7-233">Cuando se comunique con el servicio de soporte técnico, asegúrese de incluir toda la información que sea posible sobre los pasos que generaron un error, además de la información del inquilino.</span><span class="sxs-lookup"><span data-stu-id="349e7-233">When you do contact support, be sure to include as much information as possible about the steps that led to an error, and your tenant information.</span></span>

| <span data-ttu-id="349e7-234">Código de error</span><span class="sxs-lookup"><span data-stu-id="349e7-234">Error code</span></span> | <span data-ttu-id="349e7-235">Mensaje de error</span><span class="sxs-lookup"><span data-stu-id="349e7-235">Error message</span></span> |
| ---------- | ------------- |
| <span data-ttu-id="349e7-236">**InvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="349e7-236">**InvalidParameter**</span></span> | <span data-ttu-id="349e7-237">La solicitud no debe ser nula</span><span class="sxs-lookup"><span data-stu-id="349e7-237">Request must not be null</span></span> |
| <span data-ttu-id="349e7-238">**InvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="349e7-238">**InvalidParameter**</span></span> | <span data-ttu-id="349e7-239">El valor ObjectId no debe estar vacío ni ser un valor nulo para ReplicationScope:{0}</span><span class="sxs-lookup"><span data-stu-id="349e7-239">ObjectId must not be null or empty for ReplicationScope:{0}</span></span> |
| <span data-ttu-id="349e7-240">**InvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="349e7-240">**InvalidParameter**</span></span> | <span data-ttu-id="349e7-241">La longitud de NombreEmpresa \{0}\ es mayor que la longitud máxima permitida {1}</span><span class="sxs-lookup"><span data-stu-id="349e7-241">The length of CompanyName \{0}\ is longer than the maximum allowed length {1}</span></span> |
| <span data-ttu-id="349e7-242">**InvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="349e7-242">**InvalidParameter**</span></span> | <span data-ttu-id="349e7-243">El valor UserPrincipalName no debe estar vacío ni ser un valor nulo</span><span class="sxs-lookup"><span data-stu-id="349e7-243">UserPrincipalName must not be null or empty</span></span> |
| <span data-ttu-id="349e7-244">**InvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="349e7-244">**InvalidParameter**</span></span> | <span data-ttu-id="349e7-245">El valor TenantId proporcionado no tiene el formato correcto</span><span class="sxs-lookup"><span data-stu-id="349e7-245">The provided TenantId is not in correct format</span></span> |
| <span data-ttu-id="349e7-246">**InvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="349e7-246">**InvalidParameter**</span></span> | <span data-ttu-id="349e7-247">El valor SessionId no debe estar vacío ni ser un valor nulo</span><span class="sxs-lookup"><span data-stu-id="349e7-247">SessionId must not be null or empty</span></span> |
| <span data-ttu-id="349e7-248">**InvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="349e7-248">**InvalidParameter**</span></span> | <span data-ttu-id="349e7-249">No se pudo resolver ningún valor ProofData desde la solicitud o Msods.</span><span class="sxs-lookup"><span data-stu-id="349e7-249">Could not resolve any ProofData from request or Msods.</span></span> <span data-ttu-id="349e7-250">El valor de ProofData es desconocido</span><span class="sxs-lookup"><span data-stu-id="349e7-250">The ProofData is unKnown</span></span> |
| <span data-ttu-id="349e7-251">**InternalError**</span><span class="sxs-lookup"><span data-stu-id="349e7-251">**InternalError**</span></span> |  |
| <span data-ttu-id="349e7-252">**OathCodePinIncorrect**</span><span class="sxs-lookup"><span data-stu-id="349e7-252">**OathCodePinIncorrect**</span></span> |  |
| <span data-ttu-id="349e7-253">**VersionNotSupported**</span><span class="sxs-lookup"><span data-stu-id="349e7-253">**VersionNotSupported**</span></span> |  |
| <span data-ttu-id="349e7-254">**MFAPinNotSetup**</span><span class="sxs-lookup"><span data-stu-id="349e7-254">**MFAPinNotSetup**</span></span> |  |

## <a name="next-steps"></a><span data-ttu-id="349e7-255">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="349e7-255">Next steps</span></span>

### <a name="troubleshoot-user-accounts"></a><span data-ttu-id="349e7-256">Solución de problemas de cuentas de usuario</span><span class="sxs-lookup"><span data-stu-id="349e7-256">Troubleshoot user accounts</span></span>

<span data-ttu-id="349e7-257">Si los usuarios [tienen problemas con la verificación en dos pasos](./end-user/multi-factor-authentication-end-user-troubleshoot.md), ayúdelos a autodiagnosticar problemas.</span><span class="sxs-lookup"><span data-stu-id="349e7-257">If your users are [Having trouble with two-step verification](./end-user/multi-factor-authentication-end-user-troubleshoot.md), help them self-diagnose problems.</span></span> 

### <a name="contact-microsoft-support"></a><span data-ttu-id="349e7-258">Consultar al soporte técnico de Microsoft</span><span class="sxs-lookup"><span data-stu-id="349e7-258">Contact Microsoft support</span></span>

<span data-ttu-id="349e7-259">Si necesita ayuda adicional, póngase en contacto con un profesional de soporte técnico a través de [Soporte técnico del servidor Azure Multi-Factor Authentication](https://support.microsoft.com/oas/default.aspx?prid=14947).</span><span class="sxs-lookup"><span data-stu-id="349e7-259">If you need additional help, contact a support professional through [Azure Multi-Factor Authentication Server support](https://support.microsoft.com/oas/default.aspx?prid=14947).</span></span> <span data-ttu-id="349e7-260">Al ponerse en contacto con nosotros, nos resultará de gran utilidad que incluya tanta información sobre su problema como sea posible.</span><span class="sxs-lookup"><span data-stu-id="349e7-260">When contacting us, it's helpful if you can include as much information about your issue as possible.</span></span> <span data-ttu-id="349e7-261">Entre la información que puede aportar se incluyen la página donde vio el error, el código de error específico, el identificador de sesión específico, el identificador del usuario que vio el error y los registros de depuración.</span><span class="sxs-lookup"><span data-stu-id="349e7-261">Information you can supply includes the page where you saw the error, the specific error code, the specific session ID, the ID of the user who saw the error, and debug logs.</span></span>

<span data-ttu-id="349e7-262">Para recopilar los registros de depuración de diagnóstico de soporte técnico, use los pasos siguientes:</span><span class="sxs-lookup"><span data-stu-id="349e7-262">To collect debug logs for support diagnostics, use the following steps:</span></span> 

1. <span data-ttu-id="349e7-263">Abra un símbolo del sistema de administrador y ejecute estos comandos:</span><span class="sxs-lookup"><span data-stu-id="349e7-263">Open an Administrator command prompt and run these commands:</span></span>

   ```
   Mkdir c:\NPS
   Cd NPS
   netsh trace start Scenario=NetConnection capture=yes tracefile=c:\NPS\nettrace.etl
   logman create trace "NPSExtension" -ow -o c:\NPS\NPSExtension.etl -p {7237ED00-E119-430B-AB0F-C63360C8EE81} 0xffffffffffffffff 0xff -nb 16 16 -bs 1024 -mode Circular -f bincirc -max 4096 -ets
   logman update trace "NPSExtension" -p {EC2E6D3A-C958-4C76-8EA4-0262520886FF} 0xffffffffffffffff 0xff -ets
   ```

2. <span data-ttu-id="349e7-264">Reproduzca el problema</span><span class="sxs-lookup"><span data-stu-id="349e7-264">Reproduce the issue</span></span>

3. <span data-ttu-id="349e7-265">Use estos comandos para detener el seguimiento:</span><span class="sxs-lookup"><span data-stu-id="349e7-265">Stop the tracing with these commands:</span></span>

   ```
   logman stop "NPSExtension" -ets
   netsh trace stop
   wevtutil epl AuthNOptCh C:\NPS\%computername%_AuthNOptCh.evtx
   wevtutil epl AuthZOptCh C:\NPS\%computername%_AuthZOptCh.evtx
   wevtutil epl AuthZAdminCh C:\NPS\%computername%_AuthZAdminCh.evtx
   Start .
   ```

4. <span data-ttu-id="349e7-266">Comprima el contenido de la carpeta C:\NPS y adjunte el archivo comprimido al caso de soporte técnico.</span><span class="sxs-lookup"><span data-stu-id="349e7-266">Zip the contents of the C:\NPS folder and attach the zipped file to the support case.</span></span>


