---
title: aaaUse capacidades existentes de NPS servidores tooprovide MFA de Azure | Documentos de Microsoft
description: "Hola extensión de servidor de directivas de red para la autenticación multifactor Azure es una solución sencilla tooadd dos pasos en la nube vericiation capacidades tooyour infraestructura de autenticación existente."
services: multi-factor-authentication
documentationcenter: 
author: kgremban
manager: femila
ms.assetid: 
ms.service: multi-factor-authentication
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/14/2017
ms.author: kgremban
ms.reviewer: yossib
ms.custom: H1Hack27Feb2017; it-pro
ms.openlocfilehash: e9fc495b06873d45f06233f1aa618db9d94f8bd9
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="integrate-your-existing-nps-infrastructure-with-azure-multi-factor-authentication"></a><span data-ttu-id="63f30-103">Integración de la infraestructura existente de NPS con Azure Multi-Factor Authentication</span><span class="sxs-lookup"><span data-stu-id="63f30-103">Integrate your existing NPS infrastructure with Azure Multi-Factor Authentication</span></span>

<span data-ttu-id="63f30-104">extensión de servidor de directivas de redes (NPS) para Azure MFA Hola agrega basada en la nube MFA capacidades tooyour infraestructura de autenticación con los servidores existentes.</span><span class="sxs-lookup"><span data-stu-id="63f30-104">hello Network Policy Server (NPS) extension for Azure MFA adds cloud-based MFA capabilities tooyour authentication infrastructure using your existing servers.</span></span> <span data-ttu-id="63f30-105">Con hello extensión NPS, puede agregar la llamada de teléfono, mensaje de texto o flujo de autenticación existente de teléfono aplicación comprobación tooyour sin necesidad de tooinstall, configurar y mantener servidores nuevos.</span><span class="sxs-lookup"><span data-stu-id="63f30-105">With hello NPS extension, you can add phone call, text message, or phone app verification tooyour existing authentication flow without having tooinstall, configure, and maintain new servers.</span></span> 

<span data-ttu-id="63f30-106">Esta extensión se creó para las organizaciones que desean las conexiones VPN de tooprotect sin implementar Hola servidor Azure MFA.</span><span class="sxs-lookup"><span data-stu-id="63f30-106">This extension was created for organizations that want tooprotect VPN connections without deploying hello Azure MFA Server.</span></span> <span data-ttu-id="63f30-107">Hola extensión NPS actúa como un adaptador entre RADIUS y tooprovide en la nube de Azure MFA un segundo factor de autenticación de usuarios federados o sincronizados.</span><span class="sxs-lookup"><span data-stu-id="63f30-107">hello NPS extension acts as an adapter between RADIUS and cloud-based Azure MFA tooprovide a second factor of authentication for federated or synced users.</span></span>

<span data-ttu-id="63f30-108">Cuando se utiliza la extensión NPS de Hola para Azure MFA, flujo de autenticación de hello incluye Hola de los componentes siguientes:</span><span class="sxs-lookup"><span data-stu-id="63f30-108">When using hello NPS extension for Azure MFA, hello authentication flow includes hello following components:</span></span> 

1. <span data-ttu-id="63f30-109">**Servidor VPN de NAS** recibe solicitudes de los clientes VPN y los convierte en servidores de tooNPS de solicitudes RADIUS.</span><span class="sxs-lookup"><span data-stu-id="63f30-109">**NAS/VPN Server** receives requests from VPN clients and converts them into RADIUS requests tooNPS servers.</span></span> 
2. <span data-ttu-id="63f30-110">**Servidor NPS** conecta tooActive Directory tooperform Hola autenticación principal para hello RADIUS solicita y, cuando se realiza correctamente, pasa las extensiones de hello solicitud tooany instalado.</span><span class="sxs-lookup"><span data-stu-id="63f30-110">**NPS Server** connects tooActive Directory tooperform hello primary authentication for hello RADIUS requests and, upon success, passes hello request tooany installed extensions.</span></span>  
3. <span data-ttu-id="63f30-111">**Extensión de NPS** desencadena una solicitud tooAzure MFA para la autenticación secundaria Hola.</span><span class="sxs-lookup"><span data-stu-id="63f30-111">**NPS Extension** triggers a request tooAzure MFA for hello secondary authentication.</span></span> <span data-ttu-id="63f30-112">Una vez que la extensión de hello recibe respuesta Hola y Hola desafío MFA se realiza correctamente, completa la solicitud de autenticación de hello proporcionando servidor NPS de hello con tokens de seguridad que incluyen una notificación MFA, emitida por el STS de Azure.</span><span class="sxs-lookup"><span data-stu-id="63f30-112">Once hello extension receives hello response, and if hello MFA challenge succeeds, it completes hello authentication request by providing hello NPS server with security tokens that include an MFA claim, issued by Azure STS.</span></span>  
4. <span data-ttu-id="63f30-113">**Azure MFA** se comunica con los detalles de usuario de Azure Active Directory tooretrieve hello y realiza la autenticación secundaria de hello mediante un usuario de toohello método configurado de comprobación.</span><span class="sxs-lookup"><span data-stu-id="63f30-113">**Azure MFA** communicates with Azure Active Directory tooretrieve hello user’s details and performs hello secondary authentication using a verification method configured toohello user.</span></span>

<span data-ttu-id="63f30-114">Hola siguiente diagrama ilustra este flujo de solicitud de autenticación de alto nivel:</span><span class="sxs-lookup"><span data-stu-id="63f30-114">hello following diagram illustrates this high-level authentication request flow:</span></span> 

![Diagrama de flujo de autenticación](./media/multi-factor-authentication-nps-extension/auth-flow.png)

## <a name="plan-your-deployment"></a><span data-ttu-id="63f30-116">Planeamiento de la implementación</span><span class="sxs-lookup"><span data-stu-id="63f30-116">Plan your deployment</span></span>

<span data-ttu-id="63f30-117">Hola extensión NPS controla automáticamente la redundancia, por lo que no necesita una configuración especial.</span><span class="sxs-lookup"><span data-stu-id="63f30-117">hello NPS extension automatically handles redundancy, so you don't need a special configuration.</span></span>

<span data-ttu-id="63f30-118">Puede crear tantos servidores NPS habilitados para Azure MFA como necesite.</span><span class="sxs-lookup"><span data-stu-id="63f30-118">You can create as many Azure MFA-enabled NPS servers as you need.</span></span> <span data-ttu-id="63f30-119">Si instala varios servidores, debe usar un certificado de cliente distinto para cada uno de ellos.</span><span class="sxs-lookup"><span data-stu-id="63f30-119">If you do install multiple servers, you should use a difference client certificate for each one of them.</span></span> <span data-ttu-id="63f30-120">La creación de un certificado para cada servidor significa que puede actualizar individualmente cada certificado y no preocuparse por el tiempo de inactividad en los servidores.</span><span class="sxs-lookup"><span data-stu-id="63f30-120">Creating a cert for each server means that you can update each cert individually, and not worry about downtime across all your servers.</span></span>

<span data-ttu-id="63f30-121">Servidores VPN de enrutan las solicitudes de autenticación, por lo que necesitan toobe consciente de nuevos servidores NPS habilitado para Azure MFA Hola.</span><span class="sxs-lookup"><span data-stu-id="63f30-121">VPN servers route authentication requests, so they need toobe aware of hello new Azure MFA-enabled NPS servers.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="63f30-122">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="63f30-122">Prerequisites</span></span>

<span data-ttu-id="63f30-123">Hola extensión NPS está pensado toowork con la infraestructura existente.</span><span class="sxs-lookup"><span data-stu-id="63f30-123">hello NPS extension is meant toowork with your existing infrastructure.</span></span> <span data-ttu-id="63f30-124">Asegúrese de que tiene Hola siguiendo los requisitos previos antes de comenzar.</span><span class="sxs-lookup"><span data-stu-id="63f30-124">Make sure you have hello following prerequisites before you begin.</span></span>

### <a name="licenses"></a><span data-ttu-id="63f30-125">Licencias</span><span class="sxs-lookup"><span data-stu-id="63f30-125">Licenses</span></span>

<span data-ttu-id="63f30-126">Hola extensión de NPS para Azure MFA está disponible toocustomers con [licencias para la autenticación multifactor Azure](multi-factor-authentication.md) (incluido con Azure AD Premium, EMS o una suscripción de MFA).</span><span class="sxs-lookup"><span data-stu-id="63f30-126">hello NPS Extension for Azure MFA is available toocustomers with [licenses for Azure Multi-Factor Authentication](multi-factor-authentication.md) (included with Azure AD Premium, EMS, or an MFA subscription).</span></span>

### <a name="software"></a><span data-ttu-id="63f30-127">Software</span><span class="sxs-lookup"><span data-stu-id="63f30-127">Software</span></span>

<span data-ttu-id="63f30-128">Windows Server 2008 R2 SP1 o superior.</span><span class="sxs-lookup"><span data-stu-id="63f30-128">Windows Server 2008 R2 SP1 or above.</span></span>

### <a name="libraries"></a><span data-ttu-id="63f30-129">Bibliotecas</span><span class="sxs-lookup"><span data-stu-id="63f30-129">Libraries</span></span>

<span data-ttu-id="63f30-130">Estas bibliotecas se instalan automáticamente con la extensión de Hola.</span><span class="sxs-lookup"><span data-stu-id="63f30-130">These libraries are installed automatically with hello extension.</span></span>
-   [<span data-ttu-id="63f30-131">Paquetes redistribuibles de Visual C++ para Visual Studio 2013 (X64)</span><span class="sxs-lookup"><span data-stu-id="63f30-131">Visual C++ Redistributable Packages for Visual Studio 2013 (X64)</span></span>](https://www.microsoft.com/download/details.aspx?id=40784)
-   [<span data-ttu-id="63f30-132">Módulo Microsoft Azure Active Directory para Windows PowerShell versión1.1.166.0</span><span class="sxs-lookup"><span data-stu-id="63f30-132">Microsoft Azure Active Directory Module for Windows PowerShell version 1.1.166.0</span></span>](https://connect.microsoft.com/site1164/Downloads/DownloadDetails.aspx?DownloadID=59185)

### <a name="azure-active-directory"></a><span data-ttu-id="63f30-133">Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="63f30-133">Azure Active Directory</span></span>

<span data-ttu-id="63f30-134">Todos los usuarios con la extensión NPS Hola deben ser sincronizado tooAzure Active Directory mediante Azure AD Connect y debe estar registrado para MFA.</span><span class="sxs-lookup"><span data-stu-id="63f30-134">Everyone using hello NPS extension must be synced tooAzure Active Directory using Azure AD Connect, and must be registered for MFA.</span></span>

<span data-ttu-id="63f30-135">Cuando se instala la extensión de hello, necesita credenciales de administrador y el Id. de directorio de Hola para su inquilino de Azure AD.</span><span class="sxs-lookup"><span data-stu-id="63f30-135">When you install hello extension, you need hello directory ID and admin credentials for your Azure AD tenant.</span></span> <span data-ttu-id="63f30-136">Puede encontrar el identificador de directorio en hello [portal de Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="63f30-136">You can find your directory ID in hello [Azure portal](https://portal.azure.com).</span></span> <span data-ttu-id="63f30-137">Inicie sesión como administrador, seleccione hello **Azure Active Directory** situado a la izquierda hello, a continuación, seleccione **propiedades**.</span><span class="sxs-lookup"><span data-stu-id="63f30-137">Sign in as an administrator, select hello **Azure Active Directory** icon on hello left, then select **Properties**.</span></span> <span data-ttu-id="63f30-138">Hola copia GUID en hello **Id. de directorio** cuadro y guárdelo.</span><span class="sxs-lookup"><span data-stu-id="63f30-138">Copy hello GUID in hello **Directory ID** box and save it.</span></span> <span data-ttu-id="63f30-139">Este GUID se usa como Id. de inquilino de hello cuando instala Hola extensión NPS.</span><span class="sxs-lookup"><span data-stu-id="63f30-139">You use this GUID as hello tenant ID when you install hello NPS extension.</span></span>

![Busque el identificador de directorio en las propiedades de Azure Active Directory.](./media/multi-factor-authentication-nps-extension/find-directory-id.png)

## <a name="prepare-your-environment"></a><span data-ttu-id="63f30-141">Preparación del entorno</span><span class="sxs-lookup"><span data-stu-id="63f30-141">Prepare your environment</span></span>

<span data-ttu-id="63f30-142">Antes de instalar la extensión NPS hello, que desee tooprepare se entorno toohandle Hola tráfico de autenticación.</span><span class="sxs-lookup"><span data-stu-id="63f30-142">Before you install hello NPS extension, you want tooprepare you environment toohandle hello authentication traffic.</span></span>

### <a name="enable-hello-nps-role-on-a-domain-joined-server"></a><span data-ttu-id="63f30-143">Habilitar el rol NPS de hello en un servidor unido a un dominio</span><span class="sxs-lookup"><span data-stu-id="63f30-143">Enable hello NPS role on a domain-joined server</span></span>

<span data-ttu-id="63f30-144">servidor NPS Hola conecta tooAzure Active Directory y autentica las solicitudes MFA de Hola.</span><span class="sxs-lookup"><span data-stu-id="63f30-144">hello NPS server connects tooAzure Active Directory and authenticates hello MFA requests.</span></span> <span data-ttu-id="63f30-145">Elija un servidor para este rol.</span><span class="sxs-lookup"><span data-stu-id="63f30-145">Choose one server for this role.</span></span> <span data-ttu-id="63f30-146">Se recomienda elegir un servidor que no controla las solicitudes de otros servicios, porque Hola extensión NPS produce errores para las solicitudes que no son RADIUS.</span><span class="sxs-lookup"><span data-stu-id="63f30-146">We recommend choosing a server that doesn't handle requests from other services, because hello NPS extension throws errors for any requests that aren't RADIUS.</span></span>

1. <span data-ttu-id="63f30-147">En el servidor, abra hello **agregar Roles y características Asistente** de hello menú Quickstart administrador del servidor.</span><span class="sxs-lookup"><span data-stu-id="63f30-147">On your server, open hello **Add Roles and Features Wizard** from hello Server Manager Quickstart menu.</span></span>
2. <span data-ttu-id="63f30-148">Elija **Instalación basada en características o en roles** como tipo de instalación.</span><span class="sxs-lookup"><span data-stu-id="63f30-148">Choose **Role-based or feature-based installation** for your installation type.</span></span>
3. <span data-ttu-id="63f30-149">Seleccione hello **servicios de acceso y directivas de redes** rol de servidor.</span><span class="sxs-lookup"><span data-stu-id="63f30-149">Select hello **Network Policy and Access Services** server role.</span></span> <span data-ttu-id="63f30-150">Una ventana puede emergente tooinform de características necesarias toorun este rol.</span><span class="sxs-lookup"><span data-stu-id="63f30-150">A window may pop up tooinform you of required features toorun this role.</span></span>
4. <span data-ttu-id="63f30-151">Continúe con el Asistente de hello hasta la página de confirmación de Hola.</span><span class="sxs-lookup"><span data-stu-id="63f30-151">Continue through hello wizard until hello Confirmation page.</span></span> <span data-ttu-id="63f30-152">Seleccione **Instalar**.</span><span class="sxs-lookup"><span data-stu-id="63f30-152">Select **Install**.</span></span>

<span data-ttu-id="63f30-153">Ahora que tiene un servidor designado para NPS, también debe configurar este servidor toohandle las solicitudes RADIUS entrantes de hello solución VPN.</span><span class="sxs-lookup"><span data-stu-id="63f30-153">Now that you have a server designated for NPS, you should also configure this server toohandle incoming RADIUS requests from hello VPN solution.</span></span>

### <a name="configure-your-vpn-solution-toocommunicate-with-hello-nps-server"></a><span data-ttu-id="63f30-154">Configurar la toocommunicate de solución VPN con el servidor NPS de Hola</span><span class="sxs-lookup"><span data-stu-id="63f30-154">Configure your VPN solution toocommunicate with hello NPS server</span></span>

<span data-ttu-id="63f30-155">Dependiendo de qué solución VPN que utilice, Hola tooconfigure pasos varían en su directiva de autenticación de RADIUS.</span><span class="sxs-lookup"><span data-stu-id="63f30-155">Depending on which VPN solution you use, hello steps tooconfigure your RADIUS authentication policy vary.</span></span> <span data-ttu-id="63f30-156">Configure el servidor de directivas toopoint tooyour RADIUS NPS.</span><span class="sxs-lookup"><span data-stu-id="63f30-156">Configure this policy toopoint tooyour RADIUS NPS server.</span></span>

### <a name="sync-domain-users-toohello-cloud"></a><span data-ttu-id="63f30-157">Nube de toohello de usuarios de dominio de sincronización</span><span class="sxs-lookup"><span data-stu-id="63f30-157">Sync domain users toohello cloud</span></span>

<span data-ttu-id="63f30-158">Este paso ya puede ser completa en su inquilino, pero es buena comprobación toodouble que Azure AD Connect se ha sincronizado sus bases de datos recientemente.</span><span class="sxs-lookup"><span data-stu-id="63f30-158">This step may already be complete on your tenant, but it's good toodouble-check that Azure AD Connect has synchronized your databases recently.</span></span>

1. <span data-ttu-id="63f30-159">Inicie sesión en toohello [portal de Azure](https://portal.azure.com) como administrador.</span><span class="sxs-lookup"><span data-stu-id="63f30-159">Sign in toohello [Azure portal](https://portal.azure.com) as an administrator.</span></span>
2. <span data-ttu-id="63f30-160">Seleccione **Azure Active Directory** > **Azure AD Connect**.</span><span class="sxs-lookup"><span data-stu-id="63f30-160">Select **Azure Active Directory** > **Azure AD Connect**</span></span>
3. <span data-ttu-id="63f30-161">Compruebe que el estado de sincronización es **Habilitado** y que la última sincronización fue hace menos de una hora.</span><span class="sxs-lookup"><span data-stu-id="63f30-161">Verify that your sync status is **Enabled** and that your last sync was less than an hour ago.</span></span>

<span data-ttu-id="63f30-162">Si necesita tookick desactivar una nueva ronda de sincronización, nos Hola instrucciones [Azure AD Connect sync: programador](../active-directory/connect/active-directory-aadconnectsync-feature-scheduler.md#start-the-scheduler).</span><span class="sxs-lookup"><span data-stu-id="63f30-162">If you need tookick off a new round of synchronization, us hello instructions in [Azure AD Connect sync: Scheduler](../active-directory/connect/active-directory-aadconnectsync-feature-scheduler.md#start-the-scheduler).</span></span>

### <a name="determine-which-authentication-methods-your-users-can-use"></a><span data-ttu-id="63f30-163">Determinación de los métodos de autenticación que pueden utilizar los usuarios</span><span class="sxs-lookup"><span data-stu-id="63f30-163">Determine which authentication methods your users can use</span></span>

<span data-ttu-id="63f30-164">Existen dos factores que afectan a la disponibilidad de los métodos de autenticación con una implementación de extensión NPS:</span><span class="sxs-lookup"><span data-stu-id="63f30-164">There are two factors that affect which authentication methods are available with an NPS extension deployment:</span></span>

1. <span data-ttu-id="63f30-165">algoritmo de cifrado de contraseña de Hello utilizado entre el cliente RADIUS de hello (VPN, servidor Netscaler, u otros) y servidores NPS de Hola.</span><span class="sxs-lookup"><span data-stu-id="63f30-165">hello password encryption algorithm used between hello RADIUS client (VPN, Netscaler server, or other) and hello NPS servers.</span></span>
   - <span data-ttu-id="63f30-166">**PAP** admite todos los métodos de autenticación de Hola de MFA de Azure en la nube de hello: llamada de teléfono, mensaje de texto unidireccional, notificación de aplicación móvil y código de comprobación de la aplicación móvil.</span><span class="sxs-lookup"><span data-stu-id="63f30-166">**PAP** supports all hello authentication methods of Azure MFA in hello cloud: phone call, one-way text message, mobile app notification, and mobile app verification code.</span></span>
   - <span data-ttu-id="63f30-167">**CHAPV2** y **EAP** admiten llamadas de teléfono y notificaciones de aplicación móvil.</span><span class="sxs-lookup"><span data-stu-id="63f30-167">**CHAPV2** and **EAP** support phone call and mobile app notification.</span></span>
2. <span data-ttu-id="63f30-168">Hola métodos que Hola aplicación cliente de entrada (VPN, servidor Netscaler, u otros) puede controlar.</span><span class="sxs-lookup"><span data-stu-id="63f30-168">hello input methods that hello client application (VPN, Netscaler server, or other) can handle.</span></span> <span data-ttu-id="63f30-169">¿Por ejemplo, cliente VPN de hello tener alguna manera tooallow Hola usuario tootype en un código de comprobación de un texto o aplicación móvil?</span><span class="sxs-lookup"><span data-stu-id="63f30-169">For example, does hello VPN client have some means tooallow hello user tootype in a verification code from a text or mobile app?</span></span>

<span data-ttu-id="63f30-170">Cuando se implementa la extensión NPS hello, utilice estos tooevaluate factores qué métodos están disponibles para los usuarios.</span><span class="sxs-lookup"><span data-stu-id="63f30-170">When you deploy hello NPS extension, use these factors tooevaluate which methods are available for your users.</span></span> <span data-ttu-id="63f30-171">Si el cliente RADIUS es compatible con PAP, pero el cliente de hello UX no tiene campos de entrada para un código de comprobación, a continuación, llamada de teléfono y notificación de aplicación móvil son Hola dos opciones admitidas.</span><span class="sxs-lookup"><span data-stu-id="63f30-171">If your RADIUS client supports PAP, but hello client UX doesn't have input fields for a verification code, then phone call and mobile app notification are hello two supported options.</span></span>

<span data-ttu-id="63f30-172">Puede [deshabilitar los métodos de autenticación no compatibles](multi-factor-authentication-whats-next.md#selectable-verification-methods) en Azure.</span><span class="sxs-lookup"><span data-stu-id="63f30-172">You can [disable unsupported authentication methods](multi-factor-authentication-whats-next.md#selectable-verification-methods) in Azure.</span></span>

### <a name="enable-users-for-mfa"></a><span data-ttu-id="63f30-173">Habilitar a los usuarios para MFA</span><span class="sxs-lookup"><span data-stu-id="63f30-173">Enable users for MFA</span></span>

<span data-ttu-id="63f30-174">Antes de implementar la extensión NPS completa hello, necesita tooenable MFA para los usuarios de Hola que desea verificacion de tooperform.</span><span class="sxs-lookup"><span data-stu-id="63f30-174">Before you deploy hello full NPS extension, you need tooenable MFA for hello users that you want tooperform two-step verification.</span></span> <span data-ttu-id="63f30-175">Más inmediatamente, extensión de hello tootest que implementarlo, necesita al menos una prueba cuenta totalmente registrado para la autenticación multifactor.</span><span class="sxs-lookup"><span data-stu-id="63f30-175">More immediately, tootest hello extension as you deploy it, you need at least one test account that is fully registered for Multi-Factor Authentication.</span></span>

<span data-ttu-id="63f30-176">Use estos tooget pasos inició una cuenta de prueba:</span><span class="sxs-lookup"><span data-stu-id="63f30-176">Use these steps tooget a test account started:</span></span>
1. <span data-ttu-id="63f30-177">Inicie sesión en demasiado[https://aka.ms/mfasetup](https://aka.ms/mfasetup) con una cuenta de prueba.</span><span class="sxs-lookup"><span data-stu-id="63f30-177">Sign in too[https://aka.ms/mfasetup](https://aka.ms/mfasetup) with a test account.</span></span> 
2. <span data-ttu-id="63f30-178">Siga tooset de mensajes de Hola un método de comprobación.</span><span class="sxs-lookup"><span data-stu-id="63f30-178">Follow hello prompts tooset up a verification method.</span></span>
3. <span data-ttu-id="63f30-179">Cree una directiva de acceso condicional o [cambiar el estado de usuario de hello](multi-factor-authentication-get-started-user-states.md) toorequire verificacion de cuenta de prueba de Hola.</span><span class="sxs-lookup"><span data-stu-id="63f30-179">Either create a conditional access policy or [change hello user state](multi-factor-authentication-get-started-user-states.md) toorequire two-step verification for hello test account.</span></span> 

<span data-ttu-id="63f30-180">Los usuarios también necesitan toofollow tooenroll de estos pasos antes de que pueden autenticarse con la extensión NPS Hola.</span><span class="sxs-lookup"><span data-stu-id="63f30-180">Your users also need toofollow these steps tooenroll before they can authenticate with hello NPS extension.</span></span>

## <a name="install-hello-nps-extension"></a><span data-ttu-id="63f30-181">Instalar extensión NPS Hola</span><span class="sxs-lookup"><span data-stu-id="63f30-181">Install hello NPS extension</span></span>

> [!IMPORTANT]
> <span data-ttu-id="63f30-182">Instalar extensión NPS de hello en un servidor distinto al punto de acceso VPN de Hola.</span><span class="sxs-lookup"><span data-stu-id="63f30-182">Install hello NPS extension on a different server than hello VPN access point.</span></span>

### <a name="download-and-install-hello-nps-extension-for-azure-mfa"></a><span data-ttu-id="63f30-183">Descargar e instalar la extensión NPS de Hola para Azure MFA</span><span class="sxs-lookup"><span data-stu-id="63f30-183">Download and install hello NPS extension for Azure MFA</span></span>

1.  <span data-ttu-id="63f30-184">[Descargar Hola NPS extensión](https://aka.ms/npsmfa) de hello Microsoft Download Center.</span><span class="sxs-lookup"><span data-stu-id="63f30-184">[Download hello NPS Extension](https://aka.ms/npsmfa) from hello Microsoft Download Center.</span></span>
2.  <span data-ttu-id="63f30-185">Copie Hola binario toohello desea tooconfigure el servidor de directivas de red.</span><span class="sxs-lookup"><span data-stu-id="63f30-185">Copy hello binary toohello Network Policy Server you want tooconfigure.</span></span>
3.  <span data-ttu-id="63f30-186">Ejecutar *setup.exe* y siga las instrucciones de instalación de Hola.</span><span class="sxs-lookup"><span data-stu-id="63f30-186">Run *setup.exe* and follow hello installation instructions.</span></span> <span data-ttu-id="63f30-187">Si se producen errores, compruebe que Hola dos bibliotecas de la sección de requisitos previos de Hola se han instalado correctamente.</span><span class="sxs-lookup"><span data-stu-id="63f30-187">If you encounter errors, double-check that hello two libraries from hello prerequisite section were successfully installed.</span></span>

### <a name="run-hello-powershell-script"></a><span data-ttu-id="63f30-188">Ejecutar script de PowerShell de Hola</span><span class="sxs-lookup"><span data-stu-id="63f30-188">Run hello PowerShell script</span></span>

<span data-ttu-id="63f30-189">instalador de Hello crea un script de PowerShell en esta ubicación: `C:\Program Files\Microsoft\AzureMfa\Config` (donde C:\ es la unidad de instalación).</span><span class="sxs-lookup"><span data-stu-id="63f30-189">hello installer creates a PowerShell script in this location: `C:\Program Files\Microsoft\AzureMfa\Config` (where C:\ is your installation drive).</span></span> <span data-ttu-id="63f30-190">Este script de PowerShell realiza Hola siguientes acciones:</span><span class="sxs-lookup"><span data-stu-id="63f30-190">This PowerShell script performs hello following actions:</span></span>

-   <span data-ttu-id="63f30-191">Creación de un certificado autofirmado.</span><span class="sxs-lookup"><span data-stu-id="63f30-191">Create a self-signed certificate.</span></span>
-   <span data-ttu-id="63f30-192">Asociar la clave pública de Hola Hola certificado toohello entidad de servicio en Azure AD.</span><span class="sxs-lookup"><span data-stu-id="63f30-192">Associate hello public key of hello certificate toohello service principal on Azure AD.</span></span>
-   <span data-ttu-id="63f30-193">Almacén de certificados de hello en el almacén de certificados del equipo local de Hola.</span><span class="sxs-lookup"><span data-stu-id="63f30-193">Store hello cert in hello local machine cert store.</span></span>
-   <span data-ttu-id="63f30-194">Privada clave tooNetwork GRANT toohello el certificado de acceso usuario.</span><span class="sxs-lookup"><span data-stu-id="63f30-194">Grant access toohello certificate’s private key tooNetwork User.</span></span>
-   <span data-ttu-id="63f30-195">Reinicie Hola NPS.</span><span class="sxs-lookup"><span data-stu-id="63f30-195">Restart hello NPS.</span></span>

<span data-ttu-id="63f30-196">A menos que desee toouse sus propios certificados (en lugar de hello certificados autofirmados que genera el script de PowerShell de Hola), ejecute hello Script de PowerShell instalación de hello toocomplete.</span><span class="sxs-lookup"><span data-stu-id="63f30-196">Unless you want toouse your own certificates (instead of hello self-signed certificates that hello PowerShell script generates), run hello PowerShell Script toocomplete hello installation.</span></span> <span data-ttu-id="63f30-197">Si se instala la extensión de hello en varios servidores, cada uno debe tener su propio certificado.</span><span class="sxs-lookup"><span data-stu-id="63f30-197">If you install hello extension on multiple servers, each one should have its own certificate.</span></span>

1. <span data-ttu-id="63f30-198">Ejecute Windows PowerShell como administrador.</span><span class="sxs-lookup"><span data-stu-id="63f30-198">Run Windows PowerShell as an administrator.</span></span>
2. <span data-ttu-id="63f30-199">Cambie los directorios.</span><span class="sxs-lookup"><span data-stu-id="63f30-199">Change directories.</span></span>

   `cd "C:\Program Files\Microsoft\AzureMfa\Config"`

3. <span data-ttu-id="63f30-200">Ejecutar script de PowerShell de hello creado por el instalador de Hola.</span><span class="sxs-lookup"><span data-stu-id="63f30-200">Run hello PowerShell script created by hello installer.</span></span>

   `.\AzureMfaNpsExtnConfigSetup.ps1`

4. <span data-ttu-id="63f30-201">PowerShell le pide el identificador de inquilino.</span><span class="sxs-lookup"><span data-stu-id="63f30-201">PowerShell prompts for your tenant ID.</span></span> <span data-ttu-id="63f30-202">Usar hello GUID de Id. de directorio que copió del portal de Azure en la sección de requisitos previos de Hola Hola.</span><span class="sxs-lookup"><span data-stu-id="63f30-202">Use hello Directory ID GUID that you copied from hello Azure portal in hello prerequisites section.</span></span>
5. <span data-ttu-id="63f30-203">Inicie sesión en tooAzure AD como administrador.</span><span class="sxs-lookup"><span data-stu-id="63f30-203">Sign in tooAzure AD as an administrator.</span></span>
6. <span data-ttu-id="63f30-204">PowerShell muestra un mensaje de confirmación cuando haya finalizado la secuencia de comandos de Hola.</span><span class="sxs-lookup"><span data-stu-id="63f30-204">PowerShell shows a success message when hello script is finished.</span></span>  

<span data-ttu-id="63f30-205">Repita estos pasos en todos los servidores NPS adicionales que desee tooset hacia arriba para equilibrio de carga.</span><span class="sxs-lookup"><span data-stu-id="63f30-205">Repeat these steps on any additional NPS servers that you want tooset up for load balancing.</span></span>

>[!NOTE]
><span data-ttu-id="63f30-206">Si utiliza sus propios certificados en lugar de generar certificados con hello script de PowerShell, asegúrese de que estén alineados toohello convención de nomenclatura de NPS.</span><span class="sxs-lookup"><span data-stu-id="63f30-206">If you use your own certificates instead of generating certificates with hello PowerShell script, make sure that they align toohello NPS naming convention.</span></span> <span data-ttu-id="63f30-207">debe ser el nombre de sujeto de Hello **CN =\<TenantID\>, OU = Microsoft NPS extensión**.</span><span class="sxs-lookup"><span data-stu-id="63f30-207">hello subject name must be **CN=\<TenantID\>,OU=Microsoft NPS Extension**.</span></span> 

## <a name="configure-your-nps-extension"></a><span data-ttu-id="63f30-208">Configuración de la extensión de NPS</span><span class="sxs-lookup"><span data-stu-id="63f30-208">Configure your NPS extension</span></span>

<span data-ttu-id="63f30-209">En esta sección se incluyen consideraciones de diseño y sugerencias para las implementaciones correctas de la extensión de NPS.</span><span class="sxs-lookup"><span data-stu-id="63f30-209">This section includes design considerations and suggestions for successful NPS extension deployments.</span></span>

### <a name="configuration-limitations"></a><span data-ttu-id="63f30-210">Limitaciones de configuración</span><span class="sxs-lookup"><span data-stu-id="63f30-210">Configuration limitations</span></span>

- <span data-ttu-id="63f30-211">Hola extensión NPS para MFA de Azure no incluye herramientas toomigrate usuarios y la configuración de nube de servidor MFA toohello.</span><span class="sxs-lookup"><span data-stu-id="63f30-211">hello NPS extension for Azure MFA does not include tools toomigrate users and settings from MFA Server toohello cloud.</span></span> <span data-ttu-id="63f30-212">Por este motivo, se recomienda utilizar la extensión de Hola para nuevas implementaciones, en lugar de implementación existente.</span><span class="sxs-lookup"><span data-stu-id="63f30-212">For this reason, we suggest using hello extension for new deployments, rather than existing deployment.</span></span> <span data-ttu-id="63f30-213">Si se usa la extensión de hello en una implementación existente, los usuarios tienen tooperform prueba el nuevo toopopulate detalles de su MFA en la nube de Hola.</span><span class="sxs-lookup"><span data-stu-id="63f30-213">If you use hello extension on an existing deployment, your users have tooperform proof-up again toopopulate their MFA details in hello cloud.</span></span>  
- <span data-ttu-id="63f30-214">Hola extensión NPS usa Hola los usuario de Hola de tooidentify de Active directory en Azure MFA para realizar la extensión de Hola de hello autenticación secundaria pueden ser toouse configurado un identificador diferente como inicio de sesión alternativo personalizado de Active Directory o Id. de local UPN de Hola campo que no sea de UPN.</span><span class="sxs-lookup"><span data-stu-id="63f30-214">hello NPS extension uses hello UPN from hello on-premises Active directory tooidentify hello user on Azure MFA for performing hello Secondary Auth. hello extension can be configured toouse a different identifier like alternate login ID or custom Active Directory field other than UPN.</span></span> <span data-ttu-id="63f30-215">Vea [configuración las opciones avanzadas para hello extensión NPS para la autenticación multifactor](multi-factor-authentication-advanced-vpn-configurations.md) para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="63f30-215">See [Advanced configuration options for hello NPS extension for Multi-Factor Authentication](multi-factor-authentication-advanced-vpn-configurations.md) for more information.</span></span>
- <span data-ttu-id="63f30-216">No todos los protocolos de cifrado son compatibles con todos los métodos de comprobación.</span><span class="sxs-lookup"><span data-stu-id="63f30-216">Not all encryption protocols support all verification methods.</span></span>
   - <span data-ttu-id="63f30-217">**PAP** admite llamadas de teléfono, mensajes de texto unidireccionales, notificaciones de aplicación móvil y códigos de comprobación de aplicación móvil</span><span class="sxs-lookup"><span data-stu-id="63f30-217">**PAP** supports phone call, one-way text message, mobile app notification, and mobile app verification code</span></span>
   - <span data-ttu-id="63f30-218">**CHAPV2** y **EAP** admiten llamadas de teléfono y notificaciones de aplicación móvil.</span><span class="sxs-lookup"><span data-stu-id="63f30-218">**CHAPV2** and **EAP** support phone call and mobile app notification</span></span>

### <a name="control-radius-clients-that-require-mfa"></a><span data-ttu-id="63f30-219">Control de clientes RADIUS que requieren MFA</span><span class="sxs-lookup"><span data-stu-id="63f30-219">Control RADIUS clients that require MFA</span></span>

<span data-ttu-id="63f30-220">Una vez que habilite MFA para un cliente RADIUS mediante Hola extensión de NPS, todas las autenticaciones para este cliente son necesario tooperform MFA.</span><span class="sxs-lookup"><span data-stu-id="63f30-220">Once you enable MFA for a RADIUS client using hello NPS Extension, all authentications for this client are required tooperform MFA.</span></span> <span data-ttu-id="63f30-221">Si desea tooenable MFA para algunos clientes RADIUS, pero no otros, puede configurar dos servidores NPS e instalar extensión de hello en solo uno de ellos.</span><span class="sxs-lookup"><span data-stu-id="63f30-221">If you want tooenable MFA for some RADIUS clients but not others, you can configure two NPS servers and install hello extension on only one of them.</span></span> <span data-ttu-id="63f30-222">Configurar a los clientes RADIUS que desea toorequire MFA toosend solicitudes toohello NPS configurado servidor con la extensión de hello y otro servidor NPS de toohello de los clientes RADIUS no está configurado con la extensión de Hola.</span><span class="sxs-lookup"><span data-stu-id="63f30-222">Configure RADIUS clients that you want toorequire MFA toosend requests toohello NPS server configured with hello extension, and other RADIUS clients toohello NPS server not configured with hello extension.</span></span>

### <a name="prepare-for-users-that-arent-enrolled-for-mfa"></a><span data-ttu-id="63f30-223">Preparación para los usuarios que no están inscritos en MFA</span><span class="sxs-lookup"><span data-stu-id="63f30-223">Prepare for users that aren't enrolled for MFA</span></span>

<span data-ttu-id="63f30-224">Si tiene usuarios que no están inscritos para MFA, puede determinar lo que sucede cuando intentan tooauthenticate.</span><span class="sxs-lookup"><span data-stu-id="63f30-224">If you have users that aren't enrolled for MFA, you can determine what happens when they try tooauthenticate.</span></span> <span data-ttu-id="63f30-225">Usar la configuración del registro de hello *REQUIRE_USER_MATCH* en la ruta de acceso de registro de hello *HKLM\Software\Microsoft\AzureMFA* toocontrol comportamiento de Hola de características.</span><span class="sxs-lookup"><span data-stu-id="63f30-225">Use hello registry setting *REQUIRE_USER_MATCH* in hello registry path *HKLM\Software\Microsoft\AzureMFA* toocontrol hello feature behavior.</span></span> <span data-ttu-id="63f30-226">Esta opción tiene una única opción de configuración:</span><span class="sxs-lookup"><span data-stu-id="63f30-226">This setting has a single configuration option:</span></span>

| <span data-ttu-id="63f30-227">Clave</span><span class="sxs-lookup"><span data-stu-id="63f30-227">Key</span></span> | <span data-ttu-id="63f30-228">Valor</span><span class="sxs-lookup"><span data-stu-id="63f30-228">Value</span></span> | <span data-ttu-id="63f30-229">Valor predeterminado</span><span class="sxs-lookup"><span data-stu-id="63f30-229">Default</span></span> |
| --- | ----- | ------- |
| <span data-ttu-id="63f30-230">REQUIRE_USER_MATCH</span><span class="sxs-lookup"><span data-stu-id="63f30-230">REQUIRE_USER_MATCH</span></span> | <span data-ttu-id="63f30-231">TRUE/FALSE</span><span class="sxs-lookup"><span data-stu-id="63f30-231">TRUE/FALSE</span></span> | <span data-ttu-id="63f30-232">No establezca (tooTRUE equivalente)</span><span class="sxs-lookup"><span data-stu-id="63f30-232">Not set (equivalent tooTRUE)</span></span> |

<span data-ttu-id="63f30-233">Hola propósito de esta configuración es toodetermine qué toodo cuando un usuario no está inscrito para MFA.</span><span class="sxs-lookup"><span data-stu-id="63f30-233">hello purpose of this setting is toodetermine what toodo when a user is not enrolled for MFA.</span></span> <span data-ttu-id="63f30-234">Cuando clave hello no existe, no se establece o se establece tooTRUE y usuario hello no está inscrito, a continuación, extensión Hola se produce un error de desafío MFA de Hola.</span><span class="sxs-lookup"><span data-stu-id="63f30-234">When hello key does not exist, is not set, or is set tooTRUE, and hello user is not enrolled, then hello extension fails hello MFA challenge.</span></span> <span data-ttu-id="63f30-235">Cuando se establece la tooFALSE de clave de Hola y Hola usuario no está inscrito, autenticación continúa sin realizar MFA.</span><span class="sxs-lookup"><span data-stu-id="63f30-235">When hello key is set tooFALSE and hello user is not enrolled, authentication proceeds without performing MFA.</span></span>

<span data-ttu-id="63f30-236">Puede elegir toocreate esta clave y establecer tooFALSE y los usuarios la incorporación, y pueden no todas se pueden inscribir en Azure MFA todavía.</span><span class="sxs-lookup"><span data-stu-id="63f30-236">You can choose toocreate this key and set it tooFALSE while your users are onboarding, and may not all be enrolled for Azure MFA yet.</span></span> <span data-ttu-id="63f30-237">Sin embargo, puesto que la clave de configuración Hola permite a los usuarios que no están inscritos para toosign MFA en, debe quitar esta clave antes de ir tooproduction.</span><span class="sxs-lookup"><span data-stu-id="63f30-237">However, since setting hello key permits users that aren't enrolled for MFA toosign in, you should remove this key before going tooproduction.</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="63f30-238">Solución de problemas</span><span class="sxs-lookup"><span data-stu-id="63f30-238">Troubleshooting</span></span>

### <a name="how-do-i-verify-that-hello-client-cert-is-installed-as-expected"></a><span data-ttu-id="63f30-239">¿Cómo puedo comprobar que ese certificado de cliente de Hola se instala según lo previsto?</span><span class="sxs-lookup"><span data-stu-id="63f30-239">How do I verify that hello client cert is installed as expected?</span></span>

<span data-ttu-id="63f30-240">Busque creado por el instalador de hello en el almacén de certificados de Hola y compruebe que Hola clave privada de certificado autofirmado hello tiene permisos concedidos toouser **servicio de red**.</span><span class="sxs-lookup"><span data-stu-id="63f30-240">Look for hello self-signed certificate created by hello installer in hello cert store, and check that hello private key has permissions granted toouser **NETWORK SERVICE**.</span></span> <span data-ttu-id="63f30-241">certificado de Hello tiene un nombre de sujeto de **CN \<tenantid\>, OU = extensión de NPS de Microsoft**</span><span class="sxs-lookup"><span data-stu-id="63f30-241">hello cert has a subject name of **CN \<tenantid\>, OU = Microsoft NPS Extension**</span></span>

-------------------------------------------------------------

### <a name="how-can-i-verify-that-my-client-cert-is-associated-toomy-tenant-in-azure-active-directory"></a><span data-ttu-id="63f30-242">¿Cómo se puede comprobar que el certificado de cliente es toomy asociado inquilinos en Azure Active Directory?</span><span class="sxs-lookup"><span data-stu-id="63f30-242">How can I verify that my client cert is associated toomy tenant in Azure Active Directory?</span></span>

<span data-ttu-id="63f30-243">Abra símbolo del sistema de PowerShell y ejecución Hola siguientes comandos:</span><span class="sxs-lookup"><span data-stu-id="63f30-243">Open PowerShell command prompt and run hello following commands:</span></span>

```
import-module MSOnline
Connect-MsolService
Get-MsolServicePrincipalCredential -AppPrincipalId "981f26a1-7f43-403b-a875-f8b09b8cd720" -ReturnKeyValues 1 
```

<span data-ttu-id="63f30-244">Estos comandos imprimen todos los certificados de hello asociar a su inquilino de su instancia de hello extensión NPS en la sesión de PowerShell.</span><span class="sxs-lookup"><span data-stu-id="63f30-244">These commands print all hello certificates associating your tenant with your instance of hello NPS extension in your PowerShell session.</span></span> <span data-ttu-id="63f30-245">Busque el certificado al exportar el certificado de cliente como un archivo "había codificado en Base 64 X.509(.cer)" sin clave privada de Hola y lo comparará con la lista de Hola desde PowerShell.</span><span class="sxs-lookup"><span data-stu-id="63f30-245">Look for your certificate by exporting your client cert as a "Base-64 encoded X.509(.cer)" file without hello private key, and compare it with hello list from PowerShell.</span></span>

<span data-ttu-id="63f30-246">Válido-desde y válido-hasta que las marcas de tiempo, que se encuentran en un formato legible, pueden ser usado toofilter out misfits obvios si comando hello devuelve más de un certificado.</span><span class="sxs-lookup"><span data-stu-id="63f30-246">Valid-From and Valid-Until timestamps, which are in human-readable form, can be used toofilter out obvious misfits if hello command returns more than one cert.</span></span>

-------------------------------------------------------------

### <a name="why-are-my-requests-failing-with-adal-token-error"></a><span data-ttu-id="63f30-247">¿Por qué las solicitudes provocan un error de token de ADAL?</span><span class="sxs-lookup"><span data-stu-id="63f30-247">Why are my requests failing with ADAL token error?</span></span>

<span data-ttu-id="63f30-248">Este error puede deberse tooone varias razones.</span><span class="sxs-lookup"><span data-stu-id="63f30-248">This error could be due tooone of several reasons.</span></span> <span data-ttu-id="63f30-249">Siga estos pasos toohelp solucionar problemas:</span><span class="sxs-lookup"><span data-stu-id="63f30-249">Use these steps toohelp troubleshoot:</span></span>

1. <span data-ttu-id="63f30-250">Reinicie el servidor NPS.</span><span class="sxs-lookup"><span data-stu-id="63f30-250">Restart your NPS server.</span></span>
2. <span data-ttu-id="63f30-251">Compruebe que el certificado de cliente esté instalado según lo previsto.</span><span class="sxs-lookup"><span data-stu-id="63f30-251">Verify that that client cert is installed as expected.</span></span>
3. <span data-ttu-id="63f30-252">Compruebe que Hola certificado está asociado con el inquilino en Azure AD.</span><span class="sxs-lookup"><span data-stu-id="63f30-252">Verify that hello certificate is associated with your tenant on Azure AD.</span></span>
4. <span data-ttu-id="63f30-253">Compruebe que https://login.microsoftonline.com/ es accesible desde servidor hello ejecuta la extensión de Hola.</span><span class="sxs-lookup"><span data-stu-id="63f30-253">Verify that https://login.microsoftonline.com/ is accessible from hello server running hello extension.</span></span>

-------------------------------------------------------------

### <a name="why-does-authentication-fail-with-an-error-in-http-logs-stating-that-hello-user-is-not-found"></a><span data-ttu-id="63f30-254">¿Por qué producirá un error en la autenticación con un error en los registros HTTP que indica que no se encuentra ese usuario Hola?</span><span class="sxs-lookup"><span data-stu-id="63f30-254">Why does authentication fail with an error in HTTP logs stating that hello user is not found?</span></span>

<span data-ttu-id="63f30-255">Compruebe que se ejecuta AD Connect, y ese usuario Hola está presente en Active Directory de Windows y Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="63f30-255">Verify that AD Connect is running, and that hello user is present in both Windows Active Directory and Azure Active Directory.</span></span>

------------------------------------------------------------

### <a name="why-do-i-see-http-connect-errors-in-logs-with-all-my-authentications-failing"></a><span data-ttu-id="63f30-256">¿Por qué aparecen errores de conexión de HTTP en los registros con errores en todas las autenticaciones?</span><span class="sxs-lookup"><span data-stu-id="63f30-256">Why do I see HTTP connect errors in logs with all my authentications failing?</span></span>

<span data-ttu-id="63f30-257">Compruebe que https://adnotifications.windowsazure.com sea accesible desde el servidor hello ejecuta la extensión de NPS Hola.</span><span class="sxs-lookup"><span data-stu-id="63f30-257">Verify that https://adnotifications.windowsazure.com is reachable from hello server running hello NPS extension.</span></span>


## <a name="next-steps"></a><span data-ttu-id="63f30-258">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="63f30-258">Next steps</span></span>

- <span data-ttu-id="63f30-259">Configurar los Id. alternativos de inicio de sesión, o configurar una lista de excepciones para direcciones IP que no debe realizar la comprobación de dos pasos en [configuración las opciones avanzadas para hello extensión NPS para la autenticación multifactor](nps-extension-advanced-configuration.md)</span><span class="sxs-lookup"><span data-stu-id="63f30-259">Configure alternate IDs for login, or set up an exception list for IPs that shouldn't perform two-step verification in [Advanced configuration options for hello NPS extension for Multi-Factor Authentication](nps-extension-advanced-configuration.md)</span></span>

- [<span data-ttu-id="63f30-260">Resolver mensajes de error de hello extensión NPS para la autenticación multifactor de Azure</span><span class="sxs-lookup"><span data-stu-id="63f30-260">Resolve error messages from hello NPS extension for Azure Multi-Factor Authentication</span></span>](multi-factor-authentication-nps-errors.md)
