---
title: "Creación de un ASE de ILB mediante las plantillas de Azure Resource Manager | Microsoft Docs"
description: Aprenda a crear un ASE de equilibrador de carga interno mediante las plantillas de Azure Resource Manager.
services: app-service
documentationcenter: 
author: stefsch
manager: nirma
editor: 
ms.assetid: 091decb6-b0de-42a1-9f2f-c18d9b2e67df
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/11/2017
ms.author: stefsch
ms.openlocfilehash: 147ab76d38c8bbbf34d35ed6c2a194d97fe711ab
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/03/2017
---
# <a name="how-to-create-an-ilb-ase-using-azure-resource-manager-templates"></a><span data-ttu-id="3810c-103">Creación de un ASE de un ILB mediante las plantillas de Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="3810c-103">How To Create an ILB ASE Using Azure Resource Manager Templates</span></span>

> [!NOTE] 
> <span data-ttu-id="3810c-104">Este artículo trata sobre App Service Environment v1.</span><span class="sxs-lookup"><span data-stu-id="3810c-104">This article is about the App Service Environment v1.</span></span> <span data-ttu-id="3810c-105">Hay una versión más reciente que resulta más fácil de usar y se ejecuta en una infraestructura más eficaz.</span><span class="sxs-lookup"><span data-stu-id="3810c-105">There is a newer version of the App Service Environment that is easier to use and runs on more powerful infrastructure.</span></span> <span data-ttu-id="3810c-106">Para aprender más sobre la nueva versión, consulte [Introducción a App Service Environment](../app-service/app-service-environment/intro.md).</span><span class="sxs-lookup"><span data-stu-id="3810c-106">To learn more about the new version start with the [Introduction to the App  Service Environment](../app-service/app-service-environment/intro.md).</span></span>
>

## <a name="overview"></a><span data-ttu-id="3810c-107">Información general</span><span class="sxs-lookup"><span data-stu-id="3810c-107">Overview</span></span>
<span data-ttu-id="3810c-108">Los entornos del Servicio de aplicaciones pueden crearse con una dirección de red virtual interna, en lugar de una VIP pública.</span><span class="sxs-lookup"><span data-stu-id="3810c-108">App Service Environments can be created with a virtual network internal address instead of a public VIP.</span></span>  <span data-ttu-id="3810c-109">Esta dirección interna la proporciona un componente de Azure denominado equilibrador de carga interno (ILB).</span><span class="sxs-lookup"><span data-stu-id="3810c-109">This internal address is provided by an Azure component called the internal load balancer (ILB).</span></span>  <span data-ttu-id="3810c-110">Un ASE del ILB se puede crear con el Portal de Azure.</span><span class="sxs-lookup"><span data-stu-id="3810c-110">An ILB ASE can be created using the Azure portal.</span></span>  <span data-ttu-id="3810c-111">También se puede crear de forma automática por medio de las plantillas de Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="3810c-111">It can also be created using automation by way of Azure Resource Manager templates.</span></span>  <span data-ttu-id="3810c-112">Este artículo le guía por los pasos y la sintaxis necesarios para crear un ASE de ILB con plantillas de Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="3810c-112">This article walks through the steps and syntax needed to create an ILB ASE with Azure Resource Manager templates.</span></span>

<span data-ttu-id="3810c-113">Hay tres pasos implicados en la automatización de la creación de un ASE de ILB:</span><span class="sxs-lookup"><span data-stu-id="3810c-113">There are three steps involved in automating creation of an ILB ASE:</span></span>

1. <span data-ttu-id="3810c-114">En primer lugar, el ASE base se crea en una red virtual con una dirección de equilibrador de carga interno, en lugar de una VIP pública.</span><span class="sxs-lookup"><span data-stu-id="3810c-114">First the base ASE is created in a virtual network using an internal load balancer address instead of a public VIP.</span></span>  <span data-ttu-id="3810c-115">Como parte de este paso, se asigna un nombre de dominio raíz al ASE de ILB.</span><span class="sxs-lookup"><span data-stu-id="3810c-115">As part of this step, a root domain name is assigned to the ILB ASE.</span></span>
2. <span data-ttu-id="3810c-116">Una vez creado el ASE de ILB, se carga un certificado SSL.</span><span class="sxs-lookup"><span data-stu-id="3810c-116">Once the ILB ASE is created, an SSL certificate is uploaded.</span></span>  
3. <span data-ttu-id="3810c-117">El certificado SSL cargado se asigna explícitamente al ASE de ILB como su certificado SSL "predeterminado".</span><span class="sxs-lookup"><span data-stu-id="3810c-117">The uploaded SSL certificate is explicitly assigned to the ILB ASE as its "default" SSL certificate.</span></span>  <span data-ttu-id="3810c-118">Este certificado SSL se usará para el tráfico SSL a las aplicaciones del ASE de ILB cuando las aplicaciones se direccionan mediante el dominio raíz común asignado al ASE (por ejemplo, https://someapp.mycustomrootcomain.com)</span><span class="sxs-lookup"><span data-stu-id="3810c-118">This SSL certificate will be used for SSL traffic to apps on the ILB ASE when the apps are addressed using the common root domain assigned to the ASE (e.g. https://someapp.mycustomrootcomain.com)</span></span>

## <a name="creating-the-base-ilb-ase"></a><span data-ttu-id="3810c-119">Creación del ASE de ILB base</span><span class="sxs-lookup"><span data-stu-id="3810c-119">Creating the Base ILB ASE</span></span>
<span data-ttu-id="3810c-120">Hay un ejemplo de plantilla de Azure Resource Manager y su archivo de parámetros asociado en GitHub, [aquí][quickstartilbasecreate].</span><span class="sxs-lookup"><span data-stu-id="3810c-120">An example Azure Resource Manager template, and its associated parameters file, are available on GitHub [here][quickstartilbasecreate].</span></span>

<span data-ttu-id="3810c-121">La mayoría de los parámetros del archivo *azuredeploy.parameters.json* son comunes para la creación de los dos ASE de ILB, así como de los ASE enlazados a una VIP pública.</span><span class="sxs-lookup"><span data-stu-id="3810c-121">Most of the parameters in the *azuredeploy.parameters.json* file are common to creating both ILB ASEs, as well as ASEs bound to a public VIP.</span></span>  <span data-ttu-id="3810c-122">La lista siguiente llama a los parámetros especiales o únicos al crear un ASE de ILB:</span><span class="sxs-lookup"><span data-stu-id="3810c-122">The list below calls out parameters of special note, or that are unique, when creating an ILB ASE:</span></span>

* <span data-ttu-id="3810c-123">*interalLoadBalancingMode*: en la mayoría de los casos se establece en 3, lo que significa que tanto el tráfico HTTP/HTTPS de los puertos 80 y 443 como los puertos de los canales de control o de datos a los que escucha el servicio FTP en el ASE estarán enlazados a una dirección de red virtual interna asignada al ILB.</span><span class="sxs-lookup"><span data-stu-id="3810c-123">*interalLoadBalancingMode*:  In most cases set this to 3, which means both HTTP/HTTPS traffic on ports 80/443, and the control/data channel ports listened to by the FTP service on the ASE, will be bound to an ILB allocated virtual network internal address.</span></span>  <span data-ttu-id="3810c-124">Si esta propiedad se establece en 2, solo los puertos relacionados con el servicio FTP (los canales de control y de datos) estarán enlazados a una dirección de ILB, mientras que el tráfico HTTP/HTTPS permanecerá en la VIP pública.</span><span class="sxs-lookup"><span data-stu-id="3810c-124">If this property is instead set to 2, then only the FTP service related ports (both control and data channels) will be bound to an ILB address, while the HTTP/HTTPS traffic will remain on the public VIP.</span></span>
* <span data-ttu-id="3810c-125">*dnsSuffix*: este parámetro define el dominio raíz predeterminado que se asignará al ASE.</span><span class="sxs-lookup"><span data-stu-id="3810c-125">*dnsSuffix*:  This parameter defines the default root domain that will be assigned to the ASE.</span></span>  <span data-ttu-id="3810c-126">En la variación pública del Servicio de aplicaciones de Azure, el dominio raíz predeterminado de todas las aplicaciones web es *azurewebsites.net*.</span><span class="sxs-lookup"><span data-stu-id="3810c-126">In the public variation of Azure App Service, the default root domain for all web apps is *azurewebsites.net*.</span></span>  <span data-ttu-id="3810c-127">Sin embargo, dado que un ASE de ILB está dentro de la red virtual de un cliente, no tiene sentido utilizar el dominio raíz predeterminado del servicio público.</span><span class="sxs-lookup"><span data-stu-id="3810c-127">However since an ILB ASE is internal to a customer's virtual network, it doesn't make sense to use the public service's default root domain.</span></span>  <span data-ttu-id="3810c-128">En su lugar, un ASE de ILB debe tener un dominio raíz predeterminado que tenga sentido usar en la red virtual interna de una compañía.</span><span class="sxs-lookup"><span data-stu-id="3810c-128">Instead, an ILB ASE should have a default root domain that makes sense for use within a company's internal virtual network.</span></span>  <span data-ttu-id="3810c-129">Por ejemplo, una empresa hipotética, Contoso Corporation, puede usar el dominio raíz predeterminado *interno contoso.com* para aquellas aplicaciones que se pretende que solo se puedan resolver en la red virtual de Contoso, y a las que solo se pueda acceder desde ella.</span><span class="sxs-lookup"><span data-stu-id="3810c-129">For example, a hypothetical Contoso Corporation might use a default root domain of *internal-contoso.com* for apps that are intended to only be resolvable and accessible within Contoso's virtual network.</span></span> 
* <span data-ttu-id="3810c-130">*ipSslAddressCount*: automáticamente, el valor predeterminado de este parámetro es 0 en el archivo *azuredeploy.json*, ya que los ASE de ILB solo tienen una dirección de ILB individual.</span><span class="sxs-lookup"><span data-stu-id="3810c-130">*ipSslAddressCount*:  This parameter is automatically defaulted to a value of 0 in the *azuredeploy.json* file because ILB ASEs only have a single ILB address.</span></span>  <span data-ttu-id="3810c-131">No hay direcciones IP-SSL explícitas para un ASE de ILB y, por consiguiente, el grupo de direcciones IP SSL de un ASE de ILB debe establecerse en cero, ya que, de lo contrario, se producirá un error de aprovisionamiento.</span><span class="sxs-lookup"><span data-stu-id="3810c-131">There are no explicit IP-SSL addresses for an ILB ASE, and hence the IP-SSL address pool for an ILB ASE must be set to zero, otherwise a provisioning error will occur.</span></span> 

<span data-ttu-id="3810c-132">Una vez que se haya rellenado el archivo *azuredeploy.parameters.json* de un ASE de ILB, este puede crearse mediante el siguiente fragmento de código de Powershell.</span><span class="sxs-lookup"><span data-stu-id="3810c-132">Once the *azuredeploy.parameters.json* file has been filled in for an ILB ASE, the ILB ASE can then be created using the following Powershell code snippet.</span></span>  <span data-ttu-id="3810c-133">Cambie las carpetas PATH del archivo para que coincidan con la ubicación de la máquina en la que se encuentran los archivos de plantilla de Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="3810c-133">Change the file PATHs to match where the Azure Resource Manager template files are located on your machine.</span></span>  <span data-ttu-id="3810c-134">Recuerde también especificar sus propios valores para el nombre de implementación y el nombre del grupo de recursos de Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="3810c-134">Also remember to supply your own values for the Azure Resource Manager deployment name, and resource group name.</span></span>

    $templatePath="PATH\azuredeploy.json"
    $parameterPath="PATH\azuredeploy.parameters.json"

    New-AzureRmResourceGroupDeployment -Name "CHANGEME" -ResourceGroupName "YOUR-RG-NAME-HERE" -TemplateFile $templatePath -TemplateParameterFile $parameterPath

<span data-ttu-id="3810c-135">Después que se envíe la plantilla de Azure Resource Manager el ASE de ILB tardará unas horas en crearse.</span><span class="sxs-lookup"><span data-stu-id="3810c-135">After the Azure Resource Manager template is submitted it will take a few hours for the ILB ASE to be created.</span></span>  <span data-ttu-id="3810c-136">Una vez completada la creación, el ASE de ILB se mostrará en el portal, en la lista de entornos de App Service de la suscripción que desencadenó la implementación.</span><span class="sxs-lookup"><span data-stu-id="3810c-136">Once the creation completes, the ILB ASE will show up in the portal UX in the list of App Service Environments for the subscription that triggered the deployment.</span></span>

## <a name="uploading-and-configuring-the-default-ssl-certificate"></a><span data-ttu-id="3810c-137">Carga y configuración del certificado SSL "predeterminado"</span><span class="sxs-lookup"><span data-stu-id="3810c-137">Uploading and Configuring the "Default" SSL Certificate</span></span>
<span data-ttu-id="3810c-138">Una vez que se crea el ASE de ILB, es preciso asociarle un certificado SSL "predeterminado" que se use para establecer conexiones SSL con las aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="3810c-138">Once the ILB ASE is created, an SSL certificate should be associated with the ASE as the "default" SSL certificate use for establishing SSL connections to apps.</span></span>  <span data-ttu-id="3810c-139">Continuando con el ejemplo de Contoso Corporation, si el sufijo DNS predeterminado del ASE es *internal-contoso.com*, una conexión a *https://some-random-app.internal-contoso.com* requiere un certificado SSL que sea válido para **.internal contoso.com*.</span><span class="sxs-lookup"><span data-stu-id="3810c-139">Continuing with the hypothetical Contoso Corporation example, if the ASE's default DNS suffix is *internal-contoso.com*, then a connection to *https://some-random-app.internal-contoso.com* requires an SSL certificate that is valid for **.internal-contoso.com*.</span></span> 

<span data-ttu-id="3810c-140">Hay varias maneras de obtener un certificado SSL válido, entre las que se incluyen las CA internas, la adquisición de un certificado de un emisor externo y el uso de un certificado autofirmado.</span><span class="sxs-lookup"><span data-stu-id="3810c-140">There are a variety of ways to obtain a valid SSL certificate including internal CAs, purchasing a certificate from an external issuer, and using a self-signed certificate.</span></span>  <span data-ttu-id="3810c-141">Independientemente del origen del certificado SSL, es preciso configurar correctamente los siguientes atributos del certificado:</span><span class="sxs-lookup"><span data-stu-id="3810c-141">Regardless of the source of the SSL certificate, the following certificate attributes need to be configured properly:</span></span>

* <span data-ttu-id="3810c-142">*Subject*: el valor de este atributo debe ser **.your-root-domain-here.com*</span><span class="sxs-lookup"><span data-stu-id="3810c-142">*Subject*:  This attribute must be set to **.your-root-domain-here.com*</span></span>
* <span data-ttu-id="3810c-143">*Nombre alternativo del firmante*: este atributo debe incluir tanto **.your-root-domain-here.com* como **.scm.your-root-domain-here.com*.</span><span class="sxs-lookup"><span data-stu-id="3810c-143">*Subject Alternative Name*:  This attribute must include both **.your-root-domain-here.com*, and **.scm.your-root-domain-here.com*.</span></span>  <span data-ttu-id="3810c-144">El motivo de la segunda entrada es que las conexiones SSL con el sitio de SCM/Kudu asociadas a cada aplicación se realizarán mediante una dirección, cuyo formato será *your-app-name.scm.your-root-domain-here.com*.</span><span class="sxs-lookup"><span data-stu-id="3810c-144">The reason for the second entry is that SSL connections to the SCM/Kudu site associated with each app will be made using an address of the form *your-app-name.scm.your-root-domain-here.com*.</span></span>

<span data-ttu-id="3810c-145">Con un certificado SSL válido, se necesitan dos pasos preparatorios adicionales.</span><span class="sxs-lookup"><span data-stu-id="3810c-145">With a valid SSL certificate in hand, two additional preparatory steps are needed.</span></span>  <span data-ttu-id="3810c-146">El certificado SSL se debe guardar en formato .pfx, o bien convertirse a dicho formato.</span><span class="sxs-lookup"><span data-stu-id="3810c-146">The SSL certificate needs to be converted/saved as a .pfx file.</span></span>  <span data-ttu-id="3810c-147">Recuerde que es preciso que el archivo .pfx incluya todos los certificados raíz e intermedios, y también debe protegerse con una contraseña.</span><span class="sxs-lookup"><span data-stu-id="3810c-147">Remember that the .pfx file needs to include all intermediate and root certificates, and also needs to be secured with a password.</span></span>

<span data-ttu-id="3810c-148">A continuación, el archivo .pfx resultante debe convertirse en una cadena base64, ya que el certificado SSL se cargará mediante una plantilla de Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="3810c-148">Then the resultant .pfx file needs to be converted into a base64 string because the SSL certificate will be uploaded using an Azure Resource Manager template.</span></span>  <span data-ttu-id="3810c-149">Dado que las plantillas de Azure Resource Manager son archivos de texto, el archivo .pfx debe convertirse en una cadena base64 para que puede incluirse como parámetro de la plantilla.</span><span class="sxs-lookup"><span data-stu-id="3810c-149">Since Azure Resource Manager templates are text files, the .pfx file needs to be converted into a base64 string so it can be included as a parameter of the template.</span></span>

<span data-ttu-id="3810c-150">El siguiente fragmento de código de Powershell muestra un ejemplo de cómo generar un certificado autofirmado, exportar el certificado como un archivo .pfx, convertir el archivo .pfx en una cadena base64 codificada y, a continuación, guardar dicha cadena en otro archivo.</span><span class="sxs-lookup"><span data-stu-id="3810c-150">The Powershell code snippet below shows an example of generating a self-signed certificate, exporting the certificate as a .pfx file, converting the .pfx file into a base64 encoded string, and then saving the base64 encoded string to a separate file.</span></span>  <span data-ttu-id="3810c-151">El código de Powershell para la codificación Base64 se adaptó del [blog Powershell Scripts][examplebase64encoding].</span><span class="sxs-lookup"><span data-stu-id="3810c-151">The Powershell code for base64 encoding was adapted from the [Powershell Scripts Blog][examplebase64encoding].</span></span>

    $certificate = New-SelfSignedCertificate -certstorelocation cert:\localmachine\my -dnsname "*.internal-contoso.com","*.scm.internal-contoso.com"

    $certThumbprint = "cert:\localMachine\my\" + $certificate.Thumbprint
    $password = ConvertTo-SecureString -String "CHANGETHISPASSWORD" -Force -AsPlainText

    $fileName = "exportedcert.pfx"
    Export-PfxCertificate -cert $certThumbprint -FilePath $fileName -Password $password     

    $fileContentBytes = get-content -encoding byte $fileName
    $fileContentEncoded = [System.Convert]::ToBase64String($fileContentBytes)
    $fileContentEncoded | set-content ($fileName + ".b64")

<span data-ttu-id="3810c-152">Una vez que el certificado SSL se ha generado y convertido correctamente en una cadena con codificación Base64, se puede usar la plantilla de Azure Resource Manager de ejemplo en GitHub para [configurar el certificado SSL predeterminado][configuringDefaultSSLCertificate].</span><span class="sxs-lookup"><span data-stu-id="3810c-152">Once the SSL certificate has been successfully generated and converted to a base64 encoded string, the example Azure Resource Manager template on GitHub for [configuring the default SSL certificate][configuringDefaultSSLCertificate] can be used.</span></span>

<span data-ttu-id="3810c-153">Los parámetros del archivo *azuredeploy.parameters.json* se enumeran a continuación:</span><span class="sxs-lookup"><span data-stu-id="3810c-153">The parameters in the *azuredeploy.parameters.json* file are listed below:</span></span>

* <span data-ttu-id="3810c-154">*appServiceEnvironmentName*: el nombre del ASE de ILB que se configura.</span><span class="sxs-lookup"><span data-stu-id="3810c-154">*appServiceEnvironmentName*:  The name of the ILB ASE being configured.</span></span>
* <span data-ttu-id="3810c-155">*existingAseLocation*: cadena de texto que contiene la región de Azure en que se implementó el ASE de ILB.</span><span class="sxs-lookup"><span data-stu-id="3810c-155">*existingAseLocation*:  Text string containing the Azure region where the ILB ASE was deployed.</span></span>  <span data-ttu-id="3810c-156">Por ejemplo, "centro-sur de EE. UU.".</span><span class="sxs-lookup"><span data-stu-id="3810c-156">For example:  "South Central US".</span></span>
* <span data-ttu-id="3810c-157">*pfxBlobString*: la representación de la cadena con codificación Base64 del archivo pfx.</span><span class="sxs-lookup"><span data-stu-id="3810c-157">*pfxBlobString*:  The based64 encoded string representation of the .pfx file.</span></span>  <span data-ttu-id="3810c-158">Mediante el fragmento de código que se ha mostrado anteriormente, se copiaría la cadena de "exportedcert.pfx.b64" y se pegaría como el valor del atributo *pfxBlobString* .</span><span class="sxs-lookup"><span data-stu-id="3810c-158">Using the code snippet shown earlier, you would copy the string contained in "exportedcert.pfx.b64" and paste it in as the value of the *pfxBlobString* attribute.</span></span>
* <span data-ttu-id="3810c-159">*password*: la contraseña que se usa para proteger el archivo pfx.</span><span class="sxs-lookup"><span data-stu-id="3810c-159">*password*:  The password used to secure the .pfx file.</span></span>
* <span data-ttu-id="3810c-160">*certificateThumbprint*: la huella digital del certificado.</span><span class="sxs-lookup"><span data-stu-id="3810c-160">*certificateThumbprint*:  The certificate's thumbprint.</span></span>  <span data-ttu-id="3810c-161">Si este valor se recupera de Powershell (por ejemplo, *$certificate.Thumbprint* del fragmento de código anterior), se puede usar tal cual.</span><span class="sxs-lookup"><span data-stu-id="3810c-161">If you retrieve this value from Powershell (e.g. *$certificate.Thumbprint* from the earlier code snippet), you can use the value as-is.</span></span>  <span data-ttu-id="3810c-162">Sin embargo, si copia el valor del cuadro de diálogo del certificado de Windows, no olvide eliminar los espacios superfluos.</span><span class="sxs-lookup"><span data-stu-id="3810c-162">However if you copy the value from the Windows certificate dialog, remember to strip out the extraneous spaces.</span></span>  <span data-ttu-id="3810c-163">*certificateThumbprint* debería ser similar a: AF3143EB61D43F6727842115BB7F17BBCECAECAE</span><span class="sxs-lookup"><span data-stu-id="3810c-163">The *certificateThumbprint* should look something like:  AF3143EB61D43F6727842115BB7F17BBCECAECAE</span></span>
* <span data-ttu-id="3810c-164">*certificateName*: un identificador de cadena fácil de usar que elija y que se usa para identificar el certificado.</span><span class="sxs-lookup"><span data-stu-id="3810c-164">*certificateName*:  A friendly string identifier of your own choosing used to identity the certificate.</span></span>  <span data-ttu-id="3810c-165">El nombre se utiliza como parte del identificador único de Azure Resource Manager para la entidad *Microsoft.Web/certificates* que representa el certificado SSL.</span><span class="sxs-lookup"><span data-stu-id="3810c-165">The name is used as part of the unique Azure Resource Manager identifier for the *Microsoft.Web/certificates* entity representing the SSL certificate.</span></span>  <span data-ttu-id="3810c-166">El nombre **debe** terminar con el sufijo siguiente: \__yourASENameHere_InternalLoadBalancingASE.</span><span class="sxs-lookup"><span data-stu-id="3810c-166">The name **must** end with the following suffix:  \_yourASENameHere_InternalLoadBalancingASE.</span></span>  <span data-ttu-id="3810c-167">El portal utiliza este sufijo como un indicador de que el certificado se usa para asegurar un ASE habilitado para ILB.</span><span class="sxs-lookup"><span data-stu-id="3810c-167">This suffix is used by the portal as an indicator that the certificate is used for securing an ILB-enabled ASE.</span></span>

<span data-ttu-id="3810c-168">A continuación se muestra un ejemplo abreviado de *azuredeploy.parameters.json* :</span><span class="sxs-lookup"><span data-stu-id="3810c-168">An abbreviated example of *azuredeploy.parameters.json* is shown below:</span></span>

    {
         "$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentParameters.json",
         "contentVersion": "1.0.0.0",
         "parameters": {
              "appServiceEnvironmentName": {
                   "value": "yourASENameHere"
              },
              "existingAseLocation": {
                   "value": "East US 2"
              },
              "pfxBlobString": {
                   "value": "MIIKcAIBAz...snip...snip...pkCAgfQ"
              },
              "password": {
                   "value": "PASSWORDGOESHERE"
              },
              "certificateThumbprint": {
                   "value": "AF3143EB61D43F6727842115BB7F17BBCECAECAE"
              },
              "certificateName": {
                   "value": "DefaultCertificateFor_yourASENameHere_InternalLoadBalancingASE"
              }
         }
    }

<span data-ttu-id="3810c-169">Una vez rellenado el archivo *azuredeploy.parameters.json* , se puede configurar el certificado SSL predeterminado mediante el siguiente fragmento de código de Powershell.</span><span class="sxs-lookup"><span data-stu-id="3810c-169">Once the *azuredeploy.parameters.json* file has been filled in, the default SSL certificate can be configured using the following Powershell code snippet.</span></span>  <span data-ttu-id="3810c-170">Cambie las carpetas PATH del archivo para que coincidan con la ubicación de la máquina en la que se encuentran los archivos de plantilla de Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="3810c-170">Change the file PATHs to match where the Azure Resource Manager template files are located on your machine.</span></span>  <span data-ttu-id="3810c-171">Recuerde también especificar sus propios valores para el nombre de implementación y el nombre del grupo de recursos de Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="3810c-171">Also remember to supply your own values for the Azure Resource Manager deployment name, and resource group name.</span></span>

    $templatePath="PATH\azuredeploy.json"
    $parameterPath="PATH\azuredeploy.parameters.json"

    New-AzureRmResourceGroupDeployment -Name "CHANGEME" -ResourceGroupName "YOUR-RG-NAME-HERE" -TemplateFile $templatePath -TemplateParameterFile $parameterPath

<span data-ttu-id="3810c-172">Una vez que se envía la plantilla de Azure Resource Manager, el front-end de ASE tarda aproximadamente 40 minutos en aplicar el cambio.</span><span class="sxs-lookup"><span data-stu-id="3810c-172">After the Azure Resource Manager template is submitted it will take roughly forty minutes minutes per ASE front-end to apply the change.</span></span>  <span data-ttu-id="3810c-173">Por ejemplo, con un ASE de un tamaño predeterminado que usa dos front-ends, la plantilla tardará aproximadamente una hora y veinte minutos en completarse.</span><span class="sxs-lookup"><span data-stu-id="3810c-173">For example, with a default sized ASE using two front-ends, the template will take around one hour and twenty minutes to complete.</span></span>  <span data-ttu-id="3810c-174">Mientras la plantilla ejecute el ASE no se podrá escalar.</span><span class="sxs-lookup"><span data-stu-id="3810c-174">While the template is running the ASE will not be able to scaled.</span></span>  

<span data-ttu-id="3810c-175">Una vez que se completa la plantilla, se puede acceder a las aplicaciones del ASE de ILB a través de HTTPS y las conexiones se protegerán mediante el certificado SSL predeterminado.</span><span class="sxs-lookup"><span data-stu-id="3810c-175">Once the template completes, apps on the ILB ASE can be accessed over HTTPS and the connections will be secured using the default SSL certificate.</span></span>  <span data-ttu-id="3810c-176">El certificado SSL predeterminado se usará cuando las direcciones de las aplicaciones del ASE de ILB sean una combinación del nombre de la aplicación y el nombre de host predeterminado.</span><span class="sxs-lookup"><span data-stu-id="3810c-176">The default SSL certificate will be used when apps on the ILB ASE are addressed using a combination of the application name plus the default hostname.</span></span>  <span data-ttu-id="3810c-177">Por ejemplo,*https://mycustomapp.internal-contoso.com* usaría el certificado SSL predeterminado para **.internal-contoso.com*.</span><span class="sxs-lookup"><span data-stu-id="3810c-177">For example *https://mycustomapp.internal-contoso.com* would use the default SSL certificate for **.internal-contoso.com*.</span></span>

<span data-ttu-id="3810c-178">Sin embargo, al igual que las aplicaciones que se ejecutan en el servicio multiinquilino público, los desarrolladores también pueden configurar nombres de host personalizados para las aplicaciones individuales y luego configurar enlaces de certificados SSL SNI únicos para aplicaciones individuales.</span><span class="sxs-lookup"><span data-stu-id="3810c-178">However, just like apps running on the public multi-tenant service, developers can also configure custom host names for individual apps, and then configure unique SNI SSL certificate bindings for individual apps.</span></span>  

## <a name="getting-started"></a><span data-ttu-id="3810c-179">Introducción</span><span class="sxs-lookup"><span data-stu-id="3810c-179">Getting started</span></span>
<span data-ttu-id="3810c-180">Para empezar a trabajar con los entornos del Servicio de aplicaciones, consulte [Introducción al entorno del Servicio de aplicaciones](app-service-app-service-environment-intro.md)</span><span class="sxs-lookup"><span data-stu-id="3810c-180">To get started with App Service Environments, see [Introduction to App Service Environment](app-service-app-service-environment-intro.md)</span></span>

<span data-ttu-id="3810c-181">Todos los artículos y procedimientos correspondientes a los entornos del Servicio de aplicaciones están disponibles en el archivo [Léame para entornos del Servicio de aplicaciones](../app-service/app-service-app-service-environments-readme.md).</span><span class="sxs-lookup"><span data-stu-id="3810c-181">All articles and How-To's for App Service Environments are available in the [README for Application Service Environments](../app-service/app-service-app-service-environments-readme.md).</span></span>

[!INCLUDE [app-service-web-whats-changed](../../includes/app-service-web-whats-changed.md)]

[!INCLUDE [app-service-web-try-app-service](../../includes/app-service-web-try-app-service.md)]

<!-- LINKS -->
[quickstartilbasecreate]: https://azure.microsoft.com/documentation/templates/201-web-app-ase-ilb-create/
[examplebase64encoding]: http://powershellscripts.blogspot.com/2007/02/base64-encode-file.html 
[configuringDefaultSSLCertificate]: https://azure.microsoft.com/documentation/templates/201-web-app-ase-ilb-configure-default-ssl/ 

