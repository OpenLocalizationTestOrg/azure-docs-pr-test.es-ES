---
title: aaaProvision e implementar microservicios predecible en Azure
description: "Obtenga información acerca de cómo toodeploy una aplicación formada por microservicios en el servicio de aplicación de Azure como una sola unidad y de una manera predecible con plantillas de grupo de recursos JSON y secuencias de comandos de PowerShell."
services: app-service
documentationcenter: 
author: cephalin
manager: erikre
editor: jimbe
ms.assetid: bb51e565-e462-4c60-929a-2ff90121f41d
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/06/2016
ms.author: cephalin
ms.openlocfilehash: d32c2fc82a8b09e89224ec437e5819b65b2e9e78
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="provision-and-deploy-microservices-predictably-in-azure"></a><span data-ttu-id="6315e-103">Aprovisionamiento e implementación predecibles de microservicios en Azure</span><span class="sxs-lookup"><span data-stu-id="6315e-103">Provision and deploy microservices predictably in Azure</span></span>
<span data-ttu-id="6315e-104">Este tutorial se muestra cómo tooprovision e implementar una aplicación formada por [microservicios](https://en.wikipedia.org/wiki/Microservices) en [servicio de aplicaciones de Azure](/services/app-service/) como una sola unidad y de una manera predecible con plantillas de grupo de recursos JSON y Secuencias de comandos de PowerShell.</span><span class="sxs-lookup"><span data-stu-id="6315e-104">This tutorial shows how tooprovision and deploy an application composed of [microservices](https://en.wikipedia.org/wiki/Microservices) in [Azure App Service](/services/app-service/) as a single unit and in a predictable manner using JSON resource group templates and PowerShell scripting.</span></span> 

<span data-ttu-id="6315e-105">Al aprovisionar e implementar aplicaciones de gran escala que se componen de microservicios tan desacoplada, repetibilidad y la previsibilidad son toosuccess fundamental.</span><span class="sxs-lookup"><span data-stu-id="6315e-105">When provisioning and deploying high-scale applications that are composed of highly decoupled microservices, repeatability and predictability are crucial toosuccess.</span></span> <span data-ttu-id="6315e-106">[Servicio de aplicaciones de Azure](/services/app-service/) permite microservicios toocreate que incluyen las aplicaciones web, aplicaciones móviles, aplicaciones de API y las aplicaciones lógicas.</span><span class="sxs-lookup"><span data-stu-id="6315e-106">[Azure App Service](/services/app-service/) enables you toocreate microservices that include web apps, mobile apps, API apps, and logic apps.</span></span> <span data-ttu-id="6315e-107">[El Administrador de recursos Azure](../azure-resource-manager/resource-group-overview.md) permite toomanage todos los microservicios hello como una unidad, junto con las dependencias de recursos como la configuración de control de origen y la base de datos.</span><span class="sxs-lookup"><span data-stu-id="6315e-107">[Azure Resource Manager](../azure-resource-manager/resource-group-overview.md) enables you toomanage all hello microservices as a unit, together with resource dependencies such as database and source control settings.</span></span> <span data-ttu-id="6315e-108">Ahora, también puede implementar esta aplicación mediante plantillas JSON y scripting sencillo de PowerShell.</span><span class="sxs-lookup"><span data-stu-id="6315e-108">Now, you can also deploy such an application using JSON templates and simple PowerShell scripting.</span></span> 

[!INCLUDE [app-service-web-to-api-and-mobile](../../includes/app-service-web-to-api-and-mobile.md)]

## <a name="what-you-will-do"></a><span data-ttu-id="6315e-109">Lo que hará</span><span class="sxs-lookup"><span data-stu-id="6315e-109">What you will do</span></span>
<span data-ttu-id="6315e-110">En el tutorial de hello, implementará una aplicación que incluye:</span><span class="sxs-lookup"><span data-stu-id="6315e-110">In hello tutorial, you will deploy an application that includes:</span></span>

* <span data-ttu-id="6315e-111">Dos aplicaciones web (es decir, dos microservicios)</span><span class="sxs-lookup"><span data-stu-id="6315e-111">Two web apps (i.e. two microservices)</span></span>
* <span data-ttu-id="6315e-112">Un base de datos SQL backend</span><span class="sxs-lookup"><span data-stu-id="6315e-112">A backend SQL Database</span></span>
* <span data-ttu-id="6315e-113">Configuración de aplicaciones, cadenas de conexión y control de código fuente</span><span class="sxs-lookup"><span data-stu-id="6315e-113">App settings, connection strings, and source control</span></span>
* <span data-ttu-id="6315e-114">Información sobre aplicaciones, alertas y configuración de autoescala</span><span class="sxs-lookup"><span data-stu-id="6315e-114">Application insights, alerts, autoscaling settings</span></span>

## <a name="tools-you-will-use"></a><span data-ttu-id="6315e-115">Herramientas que va a utilizar</span><span class="sxs-lookup"><span data-stu-id="6315e-115">Tools you will use</span></span>
<span data-ttu-id="6315e-116">En este tutorial, utilizará Hola después de herramientas.</span><span class="sxs-lookup"><span data-stu-id="6315e-116">In this tutorial, you will use hello following tools.</span></span> <span data-ttu-id="6315e-117">Puesto que no es una discusión completa sobre las herramientas, voy escenario de toostick toohello-to-end y póngale un tooeach breve introducción, y dónde puede encontrar más información sobre él.</span><span class="sxs-lookup"><span data-stu-id="6315e-117">Since it’s not comprehensive discussion on tools, I’m going toostick toohello end-to-end scenario and just give you a brief intro tooeach, and where you can find more information on it.</span></span> 

### <a name="azure-resource-manager-templates-json"></a><span data-ttu-id="6315e-118">Plantillas del Administrador de recursos de Azure (JSON)</span><span class="sxs-lookup"><span data-stu-id="6315e-118">Azure Resource Manager templates (JSON)</span></span>
<span data-ttu-id="6315e-119">Cada vez que cree una aplicación web en el servicio de aplicación de Azure, por ejemplo, Azure Resource Manager usa un grupo de recursos completo de JSON plantilla toocreate Hola con recursos de componente de Hola.</span><span class="sxs-lookup"><span data-stu-id="6315e-119">Every time you create a web app in Azure App Service, for example, Azure Resource Manager uses a JSON template toocreate hello entire resource group with hello component resources.</span></span> <span data-ttu-id="6315e-120">Una plantilla compleja de hello [Azure Marketplace](/marketplace) como hello [WordPress escalable](/marketplace/partners/wordpress/scalablewordpress/) aplicación puede incluir la base de datos de MySQL de hello, cuentas de almacenamiento, Hola plan de servicio de aplicaciones, aplicación web de hello propio, reglas de alerta, aplicación configuración, la configuración de escalado automático y la más y todas estas plantillas son tooyou disponible a través de PowerShell.</span><span class="sxs-lookup"><span data-stu-id="6315e-120">A complex template from hello [Azure Marketplace](/marketplace) like hello [Scalable WordPress](/marketplace/partners/wordpress/scalablewordpress/) app can include hello MySQL database, storage accounts, hello App Service plan, hello web app itself, alert rules, app settings, autoscale settings, and more, and all these templates are available tooyou through PowerShell.</span></span> <span data-ttu-id="6315e-121">Para obtener información sobre cómo toodownload y usar estas plantillas, consulte [con Azure PowerShell con el Administrador de recursos de Azure](../powershell-azure-resource-manager.md).</span><span class="sxs-lookup"><span data-stu-id="6315e-121">For information on how toodownload and use these templates, see [Using Azure PowerShell with Azure Resource Manager](../powershell-azure-resource-manager.md).</span></span>

<span data-ttu-id="6315e-122">Para obtener más información sobre plantillas de Azure Resource Manager hello, consulte [creación de plantillas de administrador de recursos de Azure](../azure-resource-manager/resource-group-authoring-templates.md)</span><span class="sxs-lookup"><span data-stu-id="6315e-122">For more information on hello Azure Resource Manager templates, see [Authoring Azure Resource Manager Templates](../azure-resource-manager/resource-group-authoring-templates.md)</span></span>

### <a name="azure-sdk-26-for-visual-studio"></a><span data-ttu-id="6315e-123">SDK de Azure 2.6 para Visual Studio</span><span class="sxs-lookup"><span data-stu-id="6315e-123">Azure SDK 2.6 for Visual Studio</span></span>
<span data-ttu-id="6315e-124">Hello SDK más reciente contiene mejoras toohello compatibilidad con plantillas de administrador de recursos en el editor de JSON de Hola.</span><span class="sxs-lookup"><span data-stu-id="6315e-124">hello newest SDK contains improvements toohello Resource Manager template support in hello JSON editor.</span></span> <span data-ttu-id="6315e-125">Puede usar este tooquickly crear una plantilla de grupo de recursos desde el principio o abrir una plantilla existente de JSON (por ejemplo, una plantilla de la Galería descargado) para su modificación, rellenar el archivo de parámetros de hello e incluso implementar grupo de recursos de hello directamente desde un Azure Solución de grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="6315e-125">You can use this tooquickly create a resource group template from scratch or open an existing JSON template (such as a downloaded gallery template) for modification, populate hello parameters file, and even deploy hello resource group directly from an Azure Resource Group solution.</span></span>

<span data-ttu-id="6315e-126">Para obtener más información, consulte [SDK de Azure 2.6 para Visual Studio](https://azure.microsoft.com/blog/2015/04/29/announcing-the-azure-sdk-2-6-for-net/).</span><span class="sxs-lookup"><span data-stu-id="6315e-126">For more information, see [Azure SDK 2.6 for Visual Studio](https://azure.microsoft.com/blog/2015/04/29/announcing-the-azure-sdk-2-6-for-net/).</span></span>

### <a name="azure-powershell-080-or-later"></a><span data-ttu-id="6315e-127">Azure PowerShell 0.8.0 o posterior</span><span class="sxs-lookup"><span data-stu-id="6315e-127">Azure PowerShell 0.8.0 or later</span></span>
<span data-ttu-id="6315e-128">A partir de la versión 0.8.0, hello Azure PowerShell instalación incluye el módulo de Azure Resource Manager de hello en suma toohello módulo de Azure.</span><span class="sxs-lookup"><span data-stu-id="6315e-128">Beginning in version 0.8.0, hello Azure PowerShell installation includes hello Azure Resource Manager module in addition toohello Azure module.</span></span> <span data-ttu-id="6315e-129">Este nuevo módulo permite la implementación de hello tooscript de grupos de recursos.</span><span class="sxs-lookup"><span data-stu-id="6315e-129">This new module enables you tooscript hello deployment of resource groups.</span></span>

<span data-ttu-id="6315e-130">Para obtener más información, consulte [Uso de Azure PowerShell con el Administrador de recursos de Azure](../powershell-azure-resource-manager.md)</span><span class="sxs-lookup"><span data-stu-id="6315e-130">For more information, see [Using Azure PowerShell with Azure Resource Manager](../powershell-azure-resource-manager.md)</span></span>

### <a name="azure-resource-explorer"></a><span data-ttu-id="6315e-131">Explorador de recursos de Azure</span><span class="sxs-lookup"><span data-stu-id="6315e-131">Azure Resource Explorer</span></span>
<span data-ttu-id="6315e-132">Esto [herramienta de vista previa](https://resources.azure.com) permite las definiciones de tooexplore Hola JSON de todos los grupos de recursos de hello en los recursos individuales hello y suscripción.</span><span class="sxs-lookup"><span data-stu-id="6315e-132">This [preview tool](https://resources.azure.com) enables you tooexplore hello JSON definitions of all hello resource groups in your subscription and hello individual resources.</span></span> <span data-ttu-id="6315e-133">En la herramienta hello, puede editar las definiciones de JSON de Hola de un recurso, eliminar toda una jerarquía de recursos y crear nuevos recursos.</span><span class="sxs-lookup"><span data-stu-id="6315e-133">In hello tool, you can edit hello JSON definitions of a resource, delete an entire hierarchy of resources, and create new resources.</span></span>  <span data-ttu-id="6315e-134">Hola información inmediatamente disponible en esta herramienta es muy útil para la creación de plantillas, porque muestra qué propiedades debe tooset para un determinado tipo de recurso, hello corregir valores, etcetera. Incluso puede crear el grupo de recursos en hello [Portal de Azure](https://portal.azure.com/), a continuación, inspeccione sus definiciones de JSON en hello explorador herramienta toohelp templatize grupo de recursos de Hola.</span><span class="sxs-lookup"><span data-stu-id="6315e-134">hello information readily available in this tool is very helpful for template authoring because it shows you what properties you need tooset for a particular type of resource, hello correct values, etc. You can even create your resource group in hello [Azure Portal](https://portal.azure.com/), then inspect its JSON definitions in hello explorer tool toohelp you templatize hello resource group.</span></span>

### <a name="deploy-tooazure-button"></a><span data-ttu-id="6315e-135">Botón tooAzure implementar</span><span class="sxs-lookup"><span data-stu-id="6315e-135">Deploy tooAzure button</span></span>
<span data-ttu-id="6315e-136">Si utiliza GitHub para control de código fuente, puede colocar una [implementar tooAzure botón](https://azure.microsoft.com/blog/2014/11/13/deploy-to-azure-button-for-azure-websites-2/) en el archivo Léame. MD, lo que permite un tooAzure de interfaz de usuario de implementación preparada.</span><span class="sxs-lookup"><span data-stu-id="6315e-136">If you use GitHub for source control, you can put a [Deploy tooAzure button](https://azure.microsoft.com/blog/2014/11/13/deploy-to-azure-button-for-azure-websites-2/) into your README.MD, which enables a turn-key deployment UI tooAzure.</span></span> <span data-ttu-id="6315e-137">Aunque también puede hacer esto para cualquier aplicación web simple, puede ampliar este tooenable implantación de un grupo de recursos completo colocando un archivo azuredeploy.json en el directorio raíz del repositorio Hola.</span><span class="sxs-lookup"><span data-stu-id="6315e-137">While you can do this for any simple web app, you can extend this tooenable deploying an entire resource group by putting an azuredeploy.json file in hello repository root.</span></span> <span data-ttu-id="6315e-138">Se usará este archivo JSON, que contiene la plantilla de grupo de recursos de hello, por grupo de recursos Hola de hello implementar tooAzure botón toocreate.</span><span class="sxs-lookup"><span data-stu-id="6315e-138">This JSON file, which contains hello resource group template, will be used by hello Deploy tooAzure button toocreate hello resource group.</span></span> <span data-ttu-id="6315e-139">Para obtener un ejemplo, vea hello [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) ejemplo, que se va a utilizar en este tutorial.</span><span class="sxs-lookup"><span data-stu-id="6315e-139">For an example, see hello [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) sample, which you will use in this tutorial.</span></span>

## <a name="get-hello-sample-resource-group-template"></a><span data-ttu-id="6315e-140">Obtener la plantilla de grupo de recursos de ejemplo de Hola</span><span class="sxs-lookup"><span data-stu-id="6315e-140">Get hello sample resource group template</span></span>
<span data-ttu-id="6315e-141">Ahora vamos a tooit derecho.</span><span class="sxs-lookup"><span data-stu-id="6315e-141">So now let’s get right tooit.</span></span>

1. <span data-ttu-id="6315e-142">Navegue toohello [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) ejemplo de servicio de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="6315e-142">Navigate toohello [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) App Service sample.</span></span>
2. <span data-ttu-id="6315e-143">En readme.md, haga clic en **implementar tooAzure**.</span><span class="sxs-lookup"><span data-stu-id="6315e-143">In readme.md, click **Deploy tooAzure**.</span></span>
3. <span data-ttu-id="6315e-144">Se irán toohello [implementar en azure](https://deploy.azure.com) sitio y los parámetros de implementación de tooinput frecuentes.</span><span class="sxs-lookup"><span data-stu-id="6315e-144">You’re taken toohello [deploy-to-azure](https://deploy.azure.com) site and asked tooinput deployment parameters.</span></span> <span data-ttu-id="6315e-145">Tenga en cuenta que la mayoría de los campos de Hola se rellena con el nombre del repositorio de Hola y algunas cadenas aleatorias para usted.</span><span class="sxs-lookup"><span data-stu-id="6315e-145">Notice that most of hello fields are populated with hello repository name and some random strings for you.</span></span> <span data-ttu-id="6315e-146">Puede cambiar todos los campos de hello si lo desea, pero cosas solo hello tiene tooenter son inicio de sesión de administración de SQL Server hello y la contraseña de hello, a continuación, haga clic en **siguiente**.</span><span class="sxs-lookup"><span data-stu-id="6315e-146">You can change all hello fields if you want, but hello only things you have tooenter are hello SQL Server administrative login and hello password, then click **Next**.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/gettemplate-1-deploybuttonui.png)
4. <span data-ttu-id="6315e-147">A continuación, haga clic en **implementar** proceso de implementación de toostart Hola.</span><span class="sxs-lookup"><span data-stu-id="6315e-147">Next, click **Deploy** toostart hello deployment process.</span></span> <span data-ttu-id="6315e-148">Una vez que toocompletion ejecuta el proceso de hello, haga clic en hello http://todoapp*XXXX*. Hola de azurewebsites.net vínculo toobrowse implementado la aplicación.</span><span class="sxs-lookup"><span data-stu-id="6315e-148">Once hello process runs toocompletion, click hello http://todoapp*XXXX*.azurewebsites.net link toobrowse hello deployed application.</span></span> 
   
   ![](./media/app-service-deploy-complex-application-predictably/gettemplate-2-deployprogress.png)
   
   <span data-ttu-id="6315e-149">Hola UI sería un poco lento cuando examine primero tooit porque Hola aplicaciones simplemente iniciando, pero usted mismo que decida que es una aplicación totalmente funcional.</span><span class="sxs-lookup"><span data-stu-id="6315e-149">hello UI would be a little slow when you first browse tooit because hello apps are just starting up, but convince yourself that it’s a fully-functional application.</span></span>
5. <span data-ttu-id="6315e-150">En página de implementar hello, haga clic en hello **administrar** vincular toosee Hola nueva aplicación Hola Portal de Azure.</span><span class="sxs-lookup"><span data-stu-id="6315e-150">Back in hello Deploy page, click hello **Manage** link toosee hello new application in hello Azure Portal.</span></span>
6. <span data-ttu-id="6315e-151">Hola **Essentials** de lista desplegable, haga clic en el vínculo de grupo de recursos de Hola.</span><span class="sxs-lookup"><span data-stu-id="6315e-151">In hello **Essentials** dropdown, click hello resource group link.</span></span> <span data-ttu-id="6315e-152">Tenga en cuenta también que hello de la aplicación web ya está conectado toohello repositorio de GitHub en **proyecto externo**.</span><span class="sxs-lookup"><span data-stu-id="6315e-152">Note also that hello web app is already connected toohello GitHub repository under **External Project**.</span></span> 
   
   ![](./media/app-service-deploy-complex-application-predictably/gettemplate-3-portalresourcegroup.png)
7. <span data-ttu-id="6315e-153">En la hoja de grupo de recursos de hello, tenga en cuenta que ya hay dos aplicaciones web y una base de datos de SQL en el grupo de recursos de Hola.</span><span class="sxs-lookup"><span data-stu-id="6315e-153">In hello resource group blade, note that there are already two web apps and one SQL Database in hello resource group.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/gettemplate-4-portalresourcegroupclicked.png)

<span data-ttu-id="6315e-154">Todo lo que ha visto en unos minutos cortos es una aplicación totalmente implementado dos-microservicio, con todos los componentes de hello, dependencias, configuración, base de datos y publicación continua, configurar una orquestación automatizadas en el Administrador de recursos de Azure.</span><span class="sxs-lookup"><span data-stu-id="6315e-154">Everything that you just saw in a few short minutes is a fully deployed two-microservice application, with all hello components, dependencies, settings, database, and continuous publishing, set up by an automated orchestration in Azure Resource Manager.</span></span> <span data-ttu-id="6315e-155">Todo esto se realiza mediante dos elementos:</span><span class="sxs-lookup"><span data-stu-id="6315e-155">All this was done by two things:</span></span>

* <span data-ttu-id="6315e-156">botón de Hello implementar tooAzure</span><span class="sxs-lookup"><span data-stu-id="6315e-156">hello Deploy tooAzure button</span></span>
* <span data-ttu-id="6315e-157">azuredeploy.JSON en la raíz del repositorio de Hola</span><span class="sxs-lookup"><span data-stu-id="6315e-157">azuredeploy.json in hello repo root</span></span>

<span data-ttu-id="6315e-158">Puede implementar esta aplicación mismo decenas, cientos o miles de veces y tener Hola misma configuración cada vez.</span><span class="sxs-lookup"><span data-stu-id="6315e-158">You can deploy this same application tens, hundreds, or thousands of times and have hello exact same configuration every time.</span></span> <span data-ttu-id="6315e-159">capacidad de predicción de Hello hello y capacidad de repetición de este enfoque permite toodeploy aplicaciones de gran tamaño con facilidad y de confianza.</span><span class="sxs-lookup"><span data-stu-id="6315e-159">hello repeatability and hello predictability of this approach enables you toodeploy high-scale applications with ease and confidence.</span></span>

## <a name="examine-or-edit-azuredeployjson"></a><span data-ttu-id="6315e-160">Examine (o edite) AZUREDEPLOY.JSON</span><span class="sxs-lookup"><span data-stu-id="6315e-160">Examine (or edit) AZUREDEPLOY.JSON</span></span>
<span data-ttu-id="6315e-161">Ahora Echemos un vistazo a cómo se ha configurado el repositorio de GitHub de Hola.</span><span class="sxs-lookup"><span data-stu-id="6315e-161">Now let’s look at how hello GitHub repository was set up.</span></span> <span data-ttu-id="6315e-162">Va a usar el editor de JSON de hello en hello Azure .NET SDK, por lo que si no ha instalado todavía [.NET de Azure SDK 2.6](/downloads/), hágalo ahora.</span><span class="sxs-lookup"><span data-stu-id="6315e-162">You will be using hello JSON editor in hello Azure .NET SDK, so if you haven’t already installed [Azure .NET SDK 2.6](/downloads/), do it now.</span></span>

1. <span data-ttu-id="6315e-163">Hola clon [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) repositorio mediante la herramienta git favoritos.</span><span class="sxs-lookup"><span data-stu-id="6315e-163">Clone hello [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) repository using your favorite git tool.</span></span> <span data-ttu-id="6315e-164">En la captura de pantalla de Hola a continuación, llevar a cabo esto Hola Team Explorer en Visual Studio 2013.</span><span class="sxs-lookup"><span data-stu-id="6315e-164">In hello screenshot below, I’m doing this in hello Team Explorer in Visual Studio 2013.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/examinejson-1-vsclone.png)
2. <span data-ttu-id="6315e-165">En la raíz del repositorio de hello, abra azuredeploy.json en Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="6315e-165">From hello repository root, open azuredeploy.json in Visual Studio.</span></span> <span data-ttu-id="6315e-166">Si no ve el panel de esquema de JSON de hello, deberá tooinstall .NET SDK de Azure.</span><span class="sxs-lookup"><span data-stu-id="6315e-166">If you don’t see hello JSON Outline pane, you need tooinstall Azure .NET SDK.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/examinejson-2-vsjsoneditor.png)

<span data-ttu-id="6315e-167">Estoy no continuo toodescribe todos los detalles del formato JSON de hello, pero Hola [más recursos](#resources) sección hay vínculos para obtener información sobre el idioma de plantilla de grupo de recursos de Hola.</span><span class="sxs-lookup"><span data-stu-id="6315e-167">I’m not going toodescribe every detail of hello JSON format, but hello [More Resources](#resources) section has links for learning hello resource group template language.</span></span> <span data-ttu-id="6315e-168">En este caso, simplemente voy tooshow Hola interesantes características que pueden ayudarle a empezar a trabajar en la creación de su propia plantilla personalizada para la implementación de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="6315e-168">Here, I’m just going tooshow you hello interesting features that can help you get started in making your own custom template for app deployment.</span></span>

### <a name="parameters"></a><span data-ttu-id="6315e-169">parameters</span><span class="sxs-lookup"><span data-stu-id="6315e-169">Parameters</span></span>
<span data-ttu-id="6315e-170">Eche un vistazo a toosee de sección de parámetros de Hola que la mayoría de estos parámetros son qué hello **implementar tooAzure** botón le pide que tooinput.</span><span class="sxs-lookup"><span data-stu-id="6315e-170">Take a look at hello parameters section toosee that most of these parameters are what hello **Deploy tooAzure** button prompts you tooinput.</span></span> <span data-ttu-id="6315e-171">sitio de Hello detrás de hello **implementar tooAzure** botón rellena Hola entrada interfaz de usuario mediante parámetros de hello definidos en azuredeploy.json.</span><span class="sxs-lookup"><span data-stu-id="6315e-171">hello site behind hello **Deploy tooAzure** button populates hello input UI using hello parameters defined in azuredeploy.json.</span></span> <span data-ttu-id="6315e-172">Estos parámetros se usan en las definiciones de recursos de hello, como nombres de recursos, los valores de propiedad, etcetera.</span><span class="sxs-lookup"><span data-stu-id="6315e-172">These parameters are used throughout hello resource definitions, such as resource names, property values, etc.</span></span>

### <a name="resources"></a><span data-ttu-id="6315e-173">Recursos</span><span class="sxs-lookup"><span data-stu-id="6315e-173">Resources</span></span>
<span data-ttu-id="6315e-174">En el nodo de recursos de hello, puede ver que se definen 4 recursos de nivel superior, incluidos los dos aplicaciones web, un plan de servicio de aplicaciones y una instancia de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="6315e-174">In hello resources node, you can see that 4 top-level resources are defined, including a SQL Server instance, an App Service plan, and two web apps.</span></span> 

#### <a name="app-service-plan"></a><span data-ttu-id="6315e-175">Plan de App Service</span><span class="sxs-lookup"><span data-stu-id="6315e-175">App Service plan</span></span>
<span data-ttu-id="6315e-176">Comencemos con un recurso de nivel de raíz simple en hello JSON.</span><span class="sxs-lookup"><span data-stu-id="6315e-176">Let’s start with a simple root-level resource in hello JSON.</span></span> <span data-ttu-id="6315e-177">Hola esquema JSON, haga clic en plan de servicio de aplicaciones de hello denominado **[hostingPlanName]** toohighlight Hola código JSON correspondiente.</span><span class="sxs-lookup"><span data-stu-id="6315e-177">In hello JSON Outline, click hello App Service plan named **[hostingPlanName]** toohighlight hello corresponding JSON code.</span></span> 

![](./media/app-service-deploy-complex-application-predictably/examinejson-3-appserviceplan.png)

<span data-ttu-id="6315e-178">Tenga en cuenta que hello `type` elemento especifica la cadena de Hola para un plan de servicio de aplicaciones (se llama a una granja de servidores hace un tiempo de long, long) y otros elementos y propiedades se rellenan con los parámetros de hello definidos en el archivo JSON de hello y no tiene este recurso todos los recursos anidados.</span><span class="sxs-lookup"><span data-stu-id="6315e-178">Note that hello `type` element specifies hello string for an App Service plan (it was called a server farm a long, long time ago), and other elements and properties are filled in using hello parameters defined in hello JSON file, and this resource doesn’t have any nested resources.</span></span>

> [!NOTE]
> <span data-ttu-id="6315e-179">Tenga en cuenta también ese valor Hola de `apiVersion` indica qué versión de definición de recursos JSON hello toouse de API de REST Hola con y puede afectar a cómo se deben dar formato a los recursos de hello dentro de Hola de Azure `{}`.</span><span class="sxs-lookup"><span data-stu-id="6315e-179">Note also that hello value of `apiVersion` tells Azure which version of hello REST API toouse hello JSON resource definition with, and it can affect how hello resource should be formatted inside hello `{}`.</span></span> 
> 
> 

#### <a name="sql-server"></a><span data-ttu-id="6315e-180">SQL Server</span><span class="sxs-lookup"><span data-stu-id="6315e-180">SQL Server</span></span>
<span data-ttu-id="6315e-181">A continuación, haga clic en el recurso de SQL Server de hello denominado **SQLServer** Hola esquema JSON.</span><span class="sxs-lookup"><span data-stu-id="6315e-181">Next, click on hello SQL Server resource named **SQLServer** in hello JSON Outline.</span></span>

![](./media/app-service-deploy-complex-application-predictably/examinejson-4-sqlserver.png)

<span data-ttu-id="6315e-182">Hola nota siguiente sobre Hola resalta código JSON:</span><span class="sxs-lookup"><span data-stu-id="6315e-182">Note hello following about hello highlighted JSON code:</span></span>

* <span data-ttu-id="6315e-183">uso de Hola de parámetros garantiza que recursos Hola creado se denominado y configurados de forma que hace que sean coherentes entre sí.</span><span class="sxs-lookup"><span data-stu-id="6315e-183">hello use of parameters ensures that hello created resources are named and configured in a way that makes them consistent with one another.</span></span>
* <span data-ttu-id="6315e-184">Hola recursos de SQL Server tiene dos recursos anidados, cada uno tiene un valor diferente para `type`.</span><span class="sxs-lookup"><span data-stu-id="6315e-184">hello SQLServer resource has two nested resources, each has a different value for `type`.</span></span>
* <span data-ttu-id="6315e-185">Hola anidados recursos dentro de `“resources”: […]`, donde se definen la base de datos de Hola y reglas de firewall de hello, tener un `dependsOn` elemento que especifica el Id. de recurso de Hola de recurso de SQL Server de nivel de raíz de Hola.</span><span class="sxs-lookup"><span data-stu-id="6315e-185">hello nested resources inside `“resources”: […]`, where hello database and hello firewall rules are defined, have a `dependsOn` element that specifies hello resource ID of hello root-level SQLServer resource.</span></span> <span data-ttu-id="6315e-186">Esto indica a Azure Resource Manager, "antes de crear este recurso, que otro recurso debe existir; y si ese otro recurso está definido en la plantilla de hello, a continuación, cree que una primero".</span><span class="sxs-lookup"><span data-stu-id="6315e-186">This tells Azure Resource Manager, “before you create this resource, that other resource must already exist; and if that other resource is defined in hello template, then create that one first”.</span></span>
  
  > [!NOTE]
  > <span data-ttu-id="6315e-187">Para obtener información detallada sobre cómo hello toouse `resourceId()` función, vea [funciones de plantilla de administrador de recursos de Azure](../azure-resource-manager/resource-group-template-functions-resource.md#resourceid).</span><span class="sxs-lookup"><span data-stu-id="6315e-187">For detailed information on how toouse hello `resourceId()` function, see [Azure Resource Manager Template Functions](../azure-resource-manager/resource-group-template-functions-resource.md#resourceid).</span></span>
  > 
  > 
* <span data-ttu-id="6315e-188">Hola efecto de hello `dependsOn` elemento es que el Administrador de recursos de Azure puede saber qué recursos se pueden crear en paralelo y qué recursos deben crearse de forma secuencial.</span><span class="sxs-lookup"><span data-stu-id="6315e-188">hello effect of hello `dependsOn` element is that Azure Resource Manager can know which resources can be created in parallel and which resources must be created sequentially.</span></span> 

#### <a name="web-app"></a><span data-ttu-id="6315e-189">Aplicación web</span><span class="sxs-lookup"><span data-stu-id="6315e-189">Web app</span></span>
<span data-ttu-id="6315e-190">Ahora, pasemos toohello real aplicaciones web, que son más complicadas.</span><span class="sxs-lookup"><span data-stu-id="6315e-190">Now, let’s move on toohello actual web apps themselves, which are more complicated.</span></span> <span data-ttu-id="6315e-191">Haga clic en aplicación web de hello [variables('apiSiteName')] en hello esquema JSON toohighlight su código JSON.</span><span class="sxs-lookup"><span data-stu-id="6315e-191">Click hello [variables(‘apiSiteName’)] web app in hello JSON Outline toohighlight its JSON code.</span></span> <span data-ttu-id="6315e-192">Observará que las cosas se están poniendo mucho más interesantes.</span><span class="sxs-lookup"><span data-stu-id="6315e-192">You’ll notice that things are getting much more interesting.</span></span> <span data-ttu-id="6315e-193">Para este propósito, explicaré características Hola uno a uno:</span><span class="sxs-lookup"><span data-stu-id="6315e-193">For this purpose, I’ll talk about hello features one by one:</span></span>

##### <a name="root-resource"></a><span data-ttu-id="6315e-194">Recurso raíz</span><span class="sxs-lookup"><span data-stu-id="6315e-194">Root resource</span></span>
<span data-ttu-id="6315e-195">aplicación web de Hello depende de dos recursos distintos.</span><span class="sxs-lookup"><span data-stu-id="6315e-195">hello web app depends on two different resources.</span></span> <span data-ttu-id="6315e-196">Esto significa que Azure Resource Manager creará la aplicación web de hello solo después de ambos Hola hello instancia de SQL Server y el plan de servicio de aplicaciones se crean.</span><span class="sxs-lookup"><span data-stu-id="6315e-196">This means that Azure Resource Manager will create hello web app only after both hello App Service plan and hello SQL Server instance are created.</span></span>

![](./media/app-service-deploy-complex-application-predictably/examinejson-5-webapproot.png)

##### <a name="app-settings"></a><span data-ttu-id="6315e-197">Configuración de la aplicación</span><span class="sxs-lookup"><span data-stu-id="6315e-197">App settings</span></span>
<span data-ttu-id="6315e-198">configuración de la aplicación Hello también se define como un recurso anidado.</span><span class="sxs-lookup"><span data-stu-id="6315e-198">hello app settings are also defined as a nested resource.</span></span>

![](./media/app-service-deploy-complex-application-predictably/examinejson-6-webappsettings.png)

<span data-ttu-id="6315e-199">Hola `properties` (elemento) para `config/appsettings`, tiene dos opciones de aplicación en formato de hello `“<name>” : “<value>”`.</span><span class="sxs-lookup"><span data-stu-id="6315e-199">In hello `properties` element for `config/appsettings`, you have two app settings in hello format `“<name>” : “<value>”`.</span></span>

* <span data-ttu-id="6315e-200">`PROJECT`es un [configuración KUDU](https://github.com/projectkudu/kudu/wiki/Customizing-deployments) qué toouse del proyecto de implementación de Azure que indique en una solución de Visual Studio de varios proyecto.</span><span class="sxs-lookup"><span data-stu-id="6315e-200">`PROJECT` is a [KUDU setting](https://github.com/projectkudu/kudu/wiki/Customizing-deployments) that tells Azure deployment which project toouse in a multi-project Visual Studio solution.</span></span> <span data-ttu-id="6315e-201">Se mostrará más adelante cómo se configura el control de código fuente, pero puesto que hello ToDoApp código en una solución de Visual Studio de varios proyecto, necesitamos esta configuración.</span><span class="sxs-lookup"><span data-stu-id="6315e-201">I will show you later how source control is configured, but since hello ToDoApp code is in a multi-project Visual Studio solution, we need this setting.</span></span>
* <span data-ttu-id="6315e-202">`clientUrl`es simplemente una aplicación establecer ese código de la aplicación hello usa.</span><span class="sxs-lookup"><span data-stu-id="6315e-202">`clientUrl` is simply an app setting that hello application code uses.</span></span>

##### <a name="connection-strings"></a><span data-ttu-id="6315e-203">Cadenas de conexión</span><span class="sxs-lookup"><span data-stu-id="6315e-203">Connection strings</span></span>
<span data-ttu-id="6315e-204">las cadenas de conexión de Hello también se definen como un recurso anidado.</span><span class="sxs-lookup"><span data-stu-id="6315e-204">hello connection strings are also defined as a nested resource.</span></span>

![](./media/app-service-deploy-complex-application-predictably/examinejson-7-webappconnstr.png)

<span data-ttu-id="6315e-205">Hola `properties` (elemento) para `config/connectionstrings`, cada cadena de conexión también se define como un par de nombre: valor con formato específico de Hola de `“<name>” : {“value”: “…”, “type”: “…”}`.</span><span class="sxs-lookup"><span data-stu-id="6315e-205">In hello `properties` element for `config/connectionstrings`, each connection string is also defined as a name:value pair, with hello specific format of `“<name>” : {“value”: “…”, “type”: “…”}`.</span></span> <span data-ttu-id="6315e-206">Para hello `type` elemento, los valores posibles son `MySql`, `SQLServer`, `SQLAzure`, y `Custom`.</span><span class="sxs-lookup"><span data-stu-id="6315e-206">For hello `type` element, possible values are `MySql`, `SQLServer`, `SQLAzure`, and `Custom`.</span></span>

> [!TIP]
> <span data-ttu-id="6315e-207">Para obtener una lista de tipos de cadena de conexión de hello definitiva, ejecute hello siguiente comando de PowerShell de Azure: \[Enum]::GetNames("Microsoft.WindowsAzure.Commands.Utilities.Websites.Services.WebEntities.DatabaseType")</span><span class="sxs-lookup"><span data-stu-id="6315e-207">For a definitive list of hello connection string types, run hello following command in Azure PowerShell: \[Enum]::GetNames("Microsoft.WindowsAzure.Commands.Utilities.Websites.Services.WebEntities.DatabaseType")</span></span>
> 
> 

##### <a name="source-control"></a><span data-ttu-id="6315e-208">Control de código fuente</span><span class="sxs-lookup"><span data-stu-id="6315e-208">Source control</span></span>
<span data-ttu-id="6315e-209">configuración de control de código fuente de Hello también se define como un recurso anidado.</span><span class="sxs-lookup"><span data-stu-id="6315e-209">hello source control settings are also defined as a nested resource.</span></span> <span data-ttu-id="6315e-210">Administrador de recursos de Azure usa esta publicación continua de tooconfigure de recursos (vea salvedad en `IsManualIntegration` más adelante) y también tookick desactivar implementación Hola del código de aplicación automáticamente durante el procesamiento de Hola de archivo JSON de hello.</span><span class="sxs-lookup"><span data-stu-id="6315e-210">Azure Resource Manager uses this resource tooconfigure continuous publishing (see caveat on `IsManualIntegration` later) and also tookick off hello deployment of application code automatically during hello processing of hello JSON file.</span></span>

![](./media/app-service-deploy-complex-application-predictably/examinejson-8-webappsourcecontrol.png)

<span data-ttu-id="6315e-211">`RepoUrl`y `branch` deben ser muy intuitiva y debe apuntar toohello Git nombre hello y repositorio de hello bifurcación toopublish desde.</span><span class="sxs-lookup"><span data-stu-id="6315e-211">`RepoUrl` and `branch` should be pretty intuitive and should point toohello Git repository and hello name of hello branch toopublish from.</span></span> <span data-ttu-id="6315e-212">De nuevo, se definen mediante parámetros de entrada.</span><span class="sxs-lookup"><span data-stu-id="6315e-212">Again, these are defined by input parameters.</span></span> 

<span data-ttu-id="6315e-213">Tenga en cuenta en hello `dependsOn` elemento que, en suma toohello web recursos de aplicación, `sourcecontrols/web` depende también de `config/appsettings` y `config/connectionstrings`.</span><span class="sxs-lookup"><span data-stu-id="6315e-213">Note in hello `dependsOn` element that, in addition toohello web app resource itself, `sourcecontrols/web` also depends on `config/appsettings` and `config/connectionstrings`.</span></span> <span data-ttu-id="6315e-214">Esto es porque una vez `sourcecontrols/web` está configurado, Hola proceso de implementación de Azure intentará automáticamente toodeploy, generar e iniciar el código de la aplicación hello.</span><span class="sxs-lookup"><span data-stu-id="6315e-214">This is because once `sourcecontrols/web` is configured, hello Azure deployment process will automatically attempt toodeploy, build, and start hello application code.</span></span> <span data-ttu-id="6315e-215">Por lo tanto, insertar esta Ayuda de dependencia Asegúrese de que esa aplicación hello tiene acceso toohello requiere configuración de la aplicación y las cadenas de conexión antes de ejecuta el código de la aplicación hello.</span><span class="sxs-lookup"><span data-stu-id="6315e-215">Therefore, inserting this dependency helps you make sure that hello application has access toohello required app settings and connection strings before hello application code is run.</span></span> 

> [!NOTE]
> <span data-ttu-id="6315e-216">Tenga en cuenta también que `IsManualIntegration` se establece demasiado`true`.</span><span class="sxs-lookup"><span data-stu-id="6315e-216">Note also that `IsManualIntegration` is set too`true`.</span></span> <span data-ttu-id="6315e-217">Esta propiedad es necesaria en este tutorial, ya que no pertenezcan realmente repositorio de GitHub de hello y, por tanto, realmente no puede conceder permiso tooAzure tooconfigure continua la publicación de [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) (es decir, inserción automática repositorio de actualizaciones tooAzure).</span><span class="sxs-lookup"><span data-stu-id="6315e-217">This property is necessary in this tutorial because you do not actually own hello GitHub repository, and thus cannot actually grant permission tooAzure tooconfigure continuous publishing from [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) (i.e. push automatic repository updates tooAzure).</span></span> <span data-ttu-id="6315e-218">Puede usar el valor predeterminado de hello `false` para el repositorio especificado de hello solo si ha configurado las credenciales de GitHub del propietario de Hola Hola [portal de Azure](https://portal.azure.com/) antes.</span><span class="sxs-lookup"><span data-stu-id="6315e-218">You can use hello default value `false` for hello specified repository only if you have configured hello owner’s GitHub credentials in hello [Azure portal](https://portal.azure.com/) before.</span></span> <span data-ttu-id="6315e-219">En otras palabras, si ha configurado tooGitHub de control de código fuente o BitBucket para cualquier aplicación Hola [Portal de Azure](https://portal.azure.com/) anteriormente, con el usuario las credenciales, Azure se Recordar credenciales hello y utilizarlos para implementar cualquier aplicación del GitHub o BitBucket Hola futuras.</span><span class="sxs-lookup"><span data-stu-id="6315e-219">In other words, if you have set up source control tooGitHub or BitBucket for any app in hello [Azure Portal](https://portal.azure.com/) previously, using your user credentials, then Azure will remember hello credentials and use them whenever you deploy any app from GitHub or BitBucket in hello future.</span></span> <span data-ttu-id="6315e-220">Sin embargo, si aún no lo ha hecho esto todavía, se producirá un error en la implementación de plantilla JSON de hello cuando Azure Resource Manager trata la configuración de control de código fuente de la aplicación de tooconfigure hello web porque no se puede iniciar sesión en GitHub o BitBucket con credenciales del propietario del repositorio de Hola.</span><span class="sxs-lookup"><span data-stu-id="6315e-220">However, if you haven’t done this already, deployment of hello JSON template will fail when Azure Resource Manager tries tooconfigure hello web app’s source control settings because it cannot log into GitHub or BitBucket with hello repository owner’s credentials.</span></span>
> 
> 

## <a name="compare-hello-json-template-with-deployed-resource-group"></a><span data-ttu-id="6315e-221">Comparar Hola JSON plantilla con el grupo de recursos implementados</span><span class="sxs-lookup"><span data-stu-id="6315e-221">Compare hello JSON template with deployed resource group</span></span>
<span data-ttu-id="6315e-222">En este caso, puede ir a través de módulos de la aplicación de todos los hello web Hola [Portal de Azure](https://portal.azure.com/), pero no hay otra herramienta que es igual que resulta muy útil, si no más.</span><span class="sxs-lookup"><span data-stu-id="6315e-222">Here, you can go through all hello web app’s blades in hello [Azure Portal](https://portal.azure.com/), but there’s another tool that’s just as useful, if not more.</span></span> <span data-ttu-id="6315e-223">Vaya toohello [Explorador de recursos de Azure](https://resources.azure.com) herramienta de vista previa, que proporciona una representación JSON de todos los grupos de recursos de hello en sus suscripciones, ya que existen realmente en hello Azure back-end.</span><span class="sxs-lookup"><span data-stu-id="6315e-223">Go toohello [Azure Resource Explorer](https://resources.azure.com) preview tool, which gives you a JSON representation of all hello resource groups in your subscriptions, as they actually exist in hello Azure backend.</span></span> <span data-ttu-id="6315e-224">También puede ver cómo JSON jerarquía del grupo de recursos de hello en Azure corresponde con jerarquía Hola del archivo de plantilla de Hola que ha usado toocreate lo.</span><span class="sxs-lookup"><span data-stu-id="6315e-224">You can also see how hello resource group’s JSON hierarchy in Azure corresponds with hello hierarchy in hello template file that’s used toocreate it.</span></span>

<span data-ttu-id="6315e-225">Por ejemplo, al ir toohello [Explorador de recursos de Azure](https://resources.azure.com) herramienta y expanda los nodos de hello en el Explorador de hello, veo Hola grupo de recursos de nivel de raíz de Hola que se recopilan en sus tipos de recursos respectivas.</span><span class="sxs-lookup"><span data-stu-id="6315e-225">For example, when I go toohello [Azure Resource Explorer](https://resources.azure.com) tool and expand hello nodes in hello explorer, I can see hello resource group and hello root-level resources that are collected under their respective resource types.</span></span>

![](./media/app-service-deploy-complex-application-predictably/ARM-1-treeview.png)

<span data-ttu-id="6315e-226">Si se profundiza tooa web app, debe ser capaz de toosee web app configuración detalles similares toohello siguiente captura de pantalla:</span><span class="sxs-lookup"><span data-stu-id="6315e-226">If you drill down tooa web app, you should be able toosee web app configuration details similar toohello below screenshot:</span></span>

![](./media/app-service-deploy-complex-application-predictably/ARM-2-jsonview.png)

<span data-ttu-id="6315e-227">De nuevo, hello recursos anidados deben tener un toothose muy similar de jerarquía en el archivo de plantilla JSON y debería ver la configuración de la aplicación hello, las cadenas de conexión, etc., refleja correctamente en hello JSON.</span><span class="sxs-lookup"><span data-stu-id="6315e-227">Again, hello nested resources should have a hierarchy very similar toothose in your JSON template file, and you should see hello app settings, connection strings, etc., properly reflected in hello JSON pane.</span></span> <span data-ttu-id="6315e-228">ausencia de Hola de estas opciones puede indicar un problema con el archivo JSON y puede ayudarle a solucionar el archivo de plantilla JSON.</span><span class="sxs-lookup"><span data-stu-id="6315e-228">hello absence of settings here may indicate an issue with your JSON file and can help you troubleshoot your JSON template file.</span></span>

## <a name="deploy-hello-resource-group-template-yourself"></a><span data-ttu-id="6315e-229">Implementar la plantilla de grupo de recursos de hello usted mismo</span><span class="sxs-lookup"><span data-stu-id="6315e-229">Deploy hello resource group template yourself</span></span>
<span data-ttu-id="6315e-230">Hola **implementar tooAzure** botón es grande, pero permite toodeploy plantilla de grupo de recursos de hello en azuredeploy.json sólo si ya ha insertado azuredeploy.json tooGitHub.</span><span class="sxs-lookup"><span data-stu-id="6315e-230">hello **Deploy tooAzure** button is great, but it allows you toodeploy hello resource group template in azuredeploy.json only if you have already pushed azuredeploy.json tooGitHub.</span></span> <span data-ttu-id="6315e-231">Hello Azure SDK para .NET también proporciona herramientas de Hola para toodeploy cualquier archivo de plantilla JSON directamente desde el equipo local.</span><span class="sxs-lookup"><span data-stu-id="6315e-231">hello Azure .NET SDK also provides hello tools for you toodeploy any JSON template file directly from your local machine.</span></span> <span data-ttu-id="6315e-232">toodo, a continuación siga los pasos hello:</span><span class="sxs-lookup"><span data-stu-id="6315e-232">toodo this, follow hello steps below:</span></span>

1. <span data-ttu-id="6315e-233">En Visual Studio, haga clic en **Archivo** > **Nuevo** > **proyecto**.</span><span class="sxs-lookup"><span data-stu-id="6315e-233">In Visual Studio, click **File** > **New** > **Project**.</span></span>
2. <span data-ttu-id="6315e-234">Haga clic en **Visual C#** > **Nube** >  **&gt; Grupo de recursos de Azure** y, a continuación, haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="6315e-234">Click **Visual C#** > **Cloud** > **Azure Resource Group**, then click **OK**.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/deploy-1-vsproject.png)
3. <span data-ttu-id="6315e-235">En **Seleccionar plantilla de Azure**, seleccione **Plantilla en blanco** y haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="6315e-235">In **Select Azure Template**, select **Blank Template** and click **OK**.</span></span>
4. <span data-ttu-id="6315e-236">Arrastre azuredeploy.json hello **plantilla** carpeta del nuevo proyecto.</span><span class="sxs-lookup"><span data-stu-id="6315e-236">Drag azuredeploy.json into hello **Template** folder of your new project.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/deploy-2-copyjson.png)
5. <span data-ttu-id="6315e-237">Desde el Explorador de soluciones, abra azuredeploy.json Hola copiado.</span><span class="sxs-lookup"><span data-stu-id="6315e-237">From Solution Explorer, open hello copied azuredeploy.json.</span></span>
6. <span data-ttu-id="6315e-238">Solo para simplificar Hola demostración de hello, vamos a agregar algunos archivos JSON tooour recursos de Application Insight haciendo clic en **Agregar recurso**.</span><span class="sxs-lookup"><span data-stu-id="6315e-238">Just for hello sake of hello demonstration, let’s add some standard Application Insight resources tooour JSON file, by clicking **Add Resource**.</span></span> <span data-ttu-id="6315e-239">Si le interesa acaba de implementar el archivo JSON de hello, omitir toohello implementar pasos.</span><span class="sxs-lookup"><span data-stu-id="6315e-239">If you’re just interested in deploying hello JSON file, skip toohello deploy steps.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/deploy-3-newresource.png)
7. <span data-ttu-id="6315e-240">Seleccione **Application Insights para Web Apps**; a continuación, asegúrese de que hay un plan de App Service y una aplicación web seleccionados y, a continuación, haga clic en **Agregar**.</span><span class="sxs-lookup"><span data-stu-id="6315e-240">Select **Application Insights for Web Apps**, then make sure an existing App Service plan and web app is selected, and then click **Add**.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/deploy-4-newappinsight.png)
   
   <span data-ttu-id="6315e-241">Ahora deberá ser capaz de toosee varios recursos nuevos que, según los recursos de Hola y lo que hace, tienen dependencias en cualquier aplicación de servicio de aplicaciones plan o hello web Hola.</span><span class="sxs-lookup"><span data-stu-id="6315e-241">You’ll now be able toosee several new resources that, depending on hello resource and what it does, have dependencies on either hello App Service plan or hello web app.</span></span> <span data-ttu-id="6315e-242">Estos recursos no están habilitados por su definición existente y se vayan toochange que.</span><span class="sxs-lookup"><span data-stu-id="6315e-242">These resources are not enabled by their existing definition and you’re going toochange that.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/deploy-5-appinsightresources.png)
8. <span data-ttu-id="6315e-243">Hola esquema JSON, haga clic en **appInsights escalado automático** toohighlight su código JSON.</span><span class="sxs-lookup"><span data-stu-id="6315e-243">In hello JSON Outline, click **appInsights AutoScale** toohighlight its JSON code.</span></span> <span data-ttu-id="6315e-244">Se trata de hello configuración para el plan de servicio de aplicaciones de escala.</span><span class="sxs-lookup"><span data-stu-id="6315e-244">This is hello scaling setting for your App Service plan.</span></span>
9. <span data-ttu-id="6315e-245">En Hola código resaltado de JSON, busque hello `location` y `enabled` propiedades y configúrelos como se muestra a continuación.</span><span class="sxs-lookup"><span data-stu-id="6315e-245">In hello highlighted JSON code, locate hello `location` and `enabled` properties and set them as shown below.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/deploy-6-autoscalesettings.png)
10. <span data-ttu-id="6315e-246">Hola esquema JSON, haga clic en **CPUHigh appInsights** toohighlight su código JSON.</span><span class="sxs-lookup"><span data-stu-id="6315e-246">In hello JSON Outline, click **CPUHigh appInsights** toohighlight its JSON code.</span></span> <span data-ttu-id="6315e-247">Se trata de una alerta.</span><span class="sxs-lookup"><span data-stu-id="6315e-247">This is an alert.</span></span>
11. <span data-ttu-id="6315e-248">Busque hello `location` y `isEnabled` propiedades y configúrelos como se muestra a continuación.</span><span class="sxs-lookup"><span data-stu-id="6315e-248">Locate hello `location` and `isEnabled` properties and set them as shown below.</span></span> <span data-ttu-id="6315e-249">Hola igual para hello otras tres alertas (bombillas púrpuras).</span><span class="sxs-lookup"><span data-stu-id="6315e-249">Do hello same for hello other three alerts (purple bulbs).</span></span>
    
    ![](./media/app-service-deploy-complex-application-predictably/deploy-7-alerts.png)
12. <span data-ttu-id="6315e-250">Ahora está listo toodeploy.</span><span class="sxs-lookup"><span data-stu-id="6315e-250">You’re now ready toodeploy.</span></span> <span data-ttu-id="6315e-251">Haga clic en proyecto de Hola y seleccione **implementar** > **nueva implementación**.</span><span class="sxs-lookup"><span data-stu-id="6315e-251">Right-click hello project and select **Deploy** > **New Deployment**.</span></span>
    
    ![](./media/app-service-deploy-complex-application-predictably/deploy-8-newdeployment.png)
13. <span data-ttu-id="6315e-252">Inicie sesión en su cuenta de Azure si aún no lo ha hecho.</span><span class="sxs-lookup"><span data-stu-id="6315e-252">Log into your Azure account if you haven’t already done so.</span></span>
14. <span data-ttu-id="6315e-253">Seleccione un grupo de recursos existente en su suscripción o cree uno nuevo y seleccione **azuredeploy.json**, y, a continuación, haga clic en **Editar parámetros**.</span><span class="sxs-lookup"><span data-stu-id="6315e-253">Select an existing resource group in your subscription or create a new one, select **azuredeploy.json**, and then click **Edit Parameters**.</span></span>
    
    ![](./media/app-service-deploy-complex-application-predictably/deploy-9-deployconfig.png)
    
    <span data-ttu-id="6315e-254">Ahora podrá tooedit capaz de todos los parámetros de hello definidos en el archivo de plantilla de hello en una tabla "nice".</span><span class="sxs-lookup"><span data-stu-id="6315e-254">You’ll now be able tooedit all hello parameters defined in hello template file in a nice table.</span></span> <span data-ttu-id="6315e-255">Los parámetros que definen los valores predeterminados ya tendrán sus valores predeterminados y los parámetros que definen una lista de valores permitidos se mostrarán como menús desplegables.</span><span class="sxs-lookup"><span data-stu-id="6315e-255">Parameters that define defaults will already have their default values, and parameters that define a list of allowed values will be shown as dropdowns.</span></span>
    
    ![](./media/app-service-deploy-complex-application-predictably/deploy-10-parametereditor.png)
15. <span data-ttu-id="6315e-256">Rellene todos los parámetros vacía hello y usar hello [dirección de repositorio de GitHub para ToDoApp](https://github.com/azure-appservice-samples/ToDoApp.git) en **dirección URL del repositorio**.</span><span class="sxs-lookup"><span data-stu-id="6315e-256">Fill in all hello empty parameters, and use hello [GitHub repo address for ToDoApp](https://github.com/azure-appservice-samples/ToDoApp.git) in **repoUrl**.</span></span> <span data-ttu-id="6315e-257">A continuación, haga clic en **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="6315e-257">Then, click **Save**.</span></span>
    
    ![](./media/app-service-deploy-complex-application-predictably/deploy-11-parametereditorfilled.png)
    
    > [!NOTE]
    > <span data-ttu-id="6315e-258">El escalado automático es una característica que se ofrecen en **estándar** nivel o superior y el nivel de plan alertas son características proporcionadas en **básica** nivel o una versión posterior, deberá hello tooset **sku** parámetro demasiado**estándar** o **Premium** en orden toosee todos los nuevos detalles de aplicaciones recursos claro seguridad.</span><span class="sxs-lookup"><span data-stu-id="6315e-258">Autoscaling is a feature offered in **Standard** tier or higher, and plan-level alerts are features offered in **Basic** tier or higher, you’ll need tooset hello **sku** parameter too**Standard** or **Premium** in order toosee all your new App Insights resources light up.</span></span>
    > 
    > 
16. <span data-ttu-id="6315e-259">Haga clic en **Implementar**.</span><span class="sxs-lookup"><span data-stu-id="6315e-259">Click **Deploy**.</span></span> <span data-ttu-id="6315e-260">Si seleccionó **guardar contraseñas**, Hola contraseña se guardará en el archivo de parámetros de hello **en texto sin formato**.</span><span class="sxs-lookup"><span data-stu-id="6315e-260">If you selected **Save passwords**, hello password will be saved in hello parameter file **in plain text**.</span></span> <span data-ttu-id="6315e-261">En caso contrario, se le preguntará contraseña de base de datos de tooinput Hola durante el proceso de implementación de Hola.</span><span class="sxs-lookup"><span data-stu-id="6315e-261">Otherwise, you’ll be asked tooinput hello database password during hello deployment process.</span></span>

<span data-ttu-id="6315e-262">¡Ya está!</span><span class="sxs-lookup"><span data-stu-id="6315e-262">That’s it!</span></span> <span data-ttu-id="6315e-263">Ahora debe toogo toohello [Portal de Azure](https://portal.azure.com/) hello y [Explorador de recursos de Azure](https://resources.azure.com) herramienta toosee Hola nuevas alertas y configuración de escalado automático agrega tooyour JSON implementado la aplicación.</span><span class="sxs-lookup"><span data-stu-id="6315e-263">Now you just need toogo toohello [Azure Portal](https://portal.azure.com/) and hello [Azure Resource Explorer](https://resources.azure.com) tool toosee hello new alerts and autoscale settings added tooyour JSON deployed application.</span></span>

<span data-ttu-id="6315e-264">Los pasos de esta sección consigue principalmente siguiente hello:</span><span class="sxs-lookup"><span data-stu-id="6315e-264">Your steps in this section mainly accomplished hello following:</span></span>

1. <span data-ttu-id="6315e-265">Archivo de plantilla de hello preparada</span><span class="sxs-lookup"><span data-stu-id="6315e-265">Prepared hello template file</span></span>
2. <span data-ttu-id="6315e-266">Crea un toogo de archivo del parámetro con el archivo de plantilla de hello</span><span class="sxs-lookup"><span data-stu-id="6315e-266">Created a parameter file toogo with hello template file</span></span>
3. <span data-ttu-id="6315e-267">Archivo de plantilla de hello implementado con el archivo de parámetros de Hola</span><span class="sxs-lookup"><span data-stu-id="6315e-267">Deployed hello template file with hello parameter file</span></span>

<span data-ttu-id="6315e-268">último paso de Hello fácilmente se realiza mediante un cmdlet de PowerShell.</span><span class="sxs-lookup"><span data-stu-id="6315e-268">hello last step is easily done by a PowerShell cmdlet.</span></span> <span data-ttu-id="6315e-269">toosee lo hizo Visual Studio cuando implementa la aplicación, abra Scripts\Deploy-AzureResourceGroup.ps1.</span><span class="sxs-lookup"><span data-stu-id="6315e-269">toosee what Visual Studio did when it deployed your application, open Scripts\Deploy-AzureResourceGroup.ps1.</span></span> <span data-ttu-id="6315e-270">Hay una gran cantidad de código, existen, pero simplemente voy a toohighlight todo código pertinente Hola necesitará toodeploy Hola plantilla archivo con el archivo de parámetros de Hola.</span><span class="sxs-lookup"><span data-stu-id="6315e-270">There’s a lot of code there, but I’m just going toohighlight all hello pertinent code you need toodeploy hello template file with hello parameter file.</span></span>

![](./media/app-service-deploy-complex-application-predictably/deploy-12-powershellsnippet.png)

<span data-ttu-id="6315e-271">Hola cmdlet última, `New-AzureResourceGroup`, es hello que realmente realiza la acción de Hola.</span><span class="sxs-lookup"><span data-stu-id="6315e-271">hello last cmdlet, `New-AzureResourceGroup`, is hello one that actually performs hello action.</span></span> <span data-ttu-id="6315e-272">Todo esto debería mostrar tooyou que, con la Ayuda de Hola de herramientas, es relativamente sencillo toodeploy su aplicación en la nube es predecible.</span><span class="sxs-lookup"><span data-stu-id="6315e-272">All this should demonstrate tooyou that, with hello help of tooling, it is relatively straightforward toodeploy your cloud application predictably.</span></span> <span data-ttu-id="6315e-273">Cada vez que se ejecuta el cmdlet de hello en hello Hola a misma plantilla con el mismo archivo de parámetros, se vayan tooget Hola el mismo resultado.</span><span class="sxs-lookup"><span data-stu-id="6315e-273">Every time you run hello cmdlet on hello same template with hello same parameter file, you’re going tooget hello same result.</span></span>

## <a name="summary"></a><span data-ttu-id="6315e-274">Resumen</span><span class="sxs-lookup"><span data-stu-id="6315e-274">Summary</span></span>
<span data-ttu-id="6315e-275">En DevOps, repetibilidad y la previsibilidad son claves tooany implementar correctamente una aplicación de gran escala formada por microservicios.</span><span class="sxs-lookup"><span data-stu-id="6315e-275">In DevOps, repeatability and predictability are keys tooany successful deployment of a high-scale application composed of microservices.</span></span> <span data-ttu-id="6315e-276">En este tutorial, ha implementado un tooAzure de aplicación de dos microservicio como un único grupo de recursos mediante la plantilla de hello Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="6315e-276">In this tutorial, you have deployed a two-microservice application tooAzure as a single resource group using hello Azure Resource Manager template.</span></span> <span data-ttu-id="6315e-277">Con suerte, le ha concedido Hola conocimiento necesita en toostart orden convertir su aplicación en Azure en una plantilla y puede aprovisionar e implementar de forma predecible.</span><span class="sxs-lookup"><span data-stu-id="6315e-277">Hopefully, it has given you hello knowledge you need in order toostart converting your application in Azure into a template and can provision and deploy it predictably.</span></span> 

## <a name="next-steps"></a><span data-ttu-id="6315e-278">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="6315e-278">Next Steps</span></span>
<span data-ttu-id="6315e-279">Obtener información sobre cómo demasiado[aplicar las metodologías de agile y continuamente publicar la aplicación de microservicios con facilidad](app-service-agile-software-development.md) y técnicas de implementación como avanzadas [implementación programa Windows Insider](app-service-web-test-in-production-controlled-test-flight.md) fácilmente.</span><span class="sxs-lookup"><span data-stu-id="6315e-279">Find out how too[apply agile methodologies and continuously publish your microservices application with ease](app-service-agile-software-development.md) and advanced deployment techniques like [flighting deployment](app-service-web-test-in-production-controlled-test-flight.md) easily.</span></span>

<a name="resources"></a>

## <a name="more-resources"></a><span data-ttu-id="6315e-280">Más recursos</span><span class="sxs-lookup"><span data-stu-id="6315e-280">More resources</span></span>
* [<span data-ttu-id="6315e-281">Idioma de la plantilla del Administrador de recursos de Azure</span><span class="sxs-lookup"><span data-stu-id="6315e-281">Azure Resource Manager Template Language</span></span>](../azure-resource-manager/resource-group-authoring-templates.md)
* [<span data-ttu-id="6315e-282">Creación de plantillas del Administrador de recursos de Azure</span><span class="sxs-lookup"><span data-stu-id="6315e-282">Authoring Azure Resource Manager Templates</span></span>](../azure-resource-manager/resource-group-authoring-templates.md)
* [<span data-ttu-id="6315e-283">Funciones de la plantilla del Administrador de recursos de Azure</span><span class="sxs-lookup"><span data-stu-id="6315e-283">Azure Resource Manager Template Functions</span></span>](../azure-resource-manager/resource-group-template-functions.md)
* [<span data-ttu-id="6315e-284">Implementación de una aplicación con la plantilla del Administrador de recursos de Azure</span><span class="sxs-lookup"><span data-stu-id="6315e-284">Deploy an application with Azure Resource Manager template</span></span>](../azure-resource-manager/resource-group-template-deploy.md)
* [<span data-ttu-id="6315e-285">Uso de Azure PowerShell con el Administrador de recursos de Azure</span><span class="sxs-lookup"><span data-stu-id="6315e-285">Using Azure PowerShell with Azure Resource Manager</span></span>](../azure-resource-manager/powershell-azure-resource-manager.md)
* [<span data-ttu-id="6315e-286">Solución de problemas de implementaciones de grupo de recursos en Azure</span><span class="sxs-lookup"><span data-stu-id="6315e-286">Troubleshooting Resource Group Deployments in Azure</span></span>](../azure-resource-manager/resource-manager-common-deployment-errors.md)

