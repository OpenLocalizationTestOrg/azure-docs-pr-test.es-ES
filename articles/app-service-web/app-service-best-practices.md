---
title: "aaaBest prácticas para servicio de aplicaciones de Azure"
description: "Información acerca de los procedimientos recomendados y la solución de problemas del Servicio de aplicaciones de Azure."
services: app-service
documentationcenter: 
author: dariagrigoriu
manager: erikre
editor: mollybos
ms.assetid: f3359464-fa44-4f4a-9ea6-7821060e8d0d
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/30/2016
ms.author: dariagrigoriu
ms.openlocfilehash: a1d3127f5a746aa43f7b56b45f17c45df9087bee
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="best-practices-for-azure-app-service"></a><span data-ttu-id="8dedb-103">Procedimientos recomendados para el Servicio de aplicaciones de Azure</span><span class="sxs-lookup"><span data-stu-id="8dedb-103">Best Practices for Azure App Service</span></span>
<span data-ttu-id="8dedb-104">En este artículo se resumen los procedimientos recomendados para usar el [Servicio de aplicaciones de Azure](http://go.microsoft.com/fwlink/?LinkId=529714).</span><span class="sxs-lookup"><span data-stu-id="8dedb-104">This article summarizes best practices for using [Azure App Service](http://go.microsoft.com/fwlink/?LinkId=529714).</span></span> 

## <span data-ttu-id="8dedb-105"><a name="colocation"></a>Ubicación compartida</span><span class="sxs-lookup"><span data-stu-id="8dedb-105"><a name="colocation"></a>Colocation</span></span>
<span data-ttu-id="8dedb-106">Al redactar una solución como una aplicación web y una base de datos de recursos de Azure se encuentran en los efectos de diferentes regiones Hola puede incluir siguiente de hello:</span><span class="sxs-lookup"><span data-stu-id="8dedb-106">When Azure resources composing a solution such as a web app and a database are located in different regions hello effects can include hello following:</span></span>

* <span data-ttu-id="8dedb-107">Mayor latencia en la comunicación entre recursos</span><span class="sxs-lookup"><span data-stu-id="8dedb-107">Increased latency in communication between resources</span></span>
* <span data-ttu-id="8dedb-108">Monetarios cargos para los datos salientes transferir entre regiones como se indicó en hello [Azure página de precios](https://azure.microsoft.com/pricing/details/data-transfers).</span><span class="sxs-lookup"><span data-stu-id="8dedb-108">Monetary charges for outbound data transfer cross-region as noted on hello [Azure pricing page](https://azure.microsoft.com/pricing/details/data-transfers).</span></span>

<span data-ttu-id="8dedb-109">La colocación en hello misma región es más adecuado para crear una solución como una aplicación web de recursos de Azure y utiliza una cuenta de base de datos o almacenamiento toohold contenido o los datos.</span><span class="sxs-lookup"><span data-stu-id="8dedb-109">Colocation in hello same region is best for Azure resources composing a solution such as a web app and a database or storage account used toohold content or data.</span></span> <span data-ttu-id="8dedb-110">Cuando la creación de recursos debe asegurarse de que están en Hola misma región de Azure a menos que tenga específicos del negocio o diseña motivo para ellos no toobe.</span><span class="sxs-lookup"><span data-stu-id="8dedb-110">When creating resources you should make sure they are in hello same Azure region unless you have specific business or design reason for them not toobe.</span></span> <span data-ttu-id="8dedb-111">Puede mover una toohello de aplicación de servicio de aplicaciones misma región que la base de datos mediante el aprovechamiento de hello [servicio de aplicaciones de característica clonación](app-service-web-app-cloning-portal.md) actualmente disponibles para las aplicaciones de Plan de servicio de aplicaciones Premium.</span><span class="sxs-lookup"><span data-stu-id="8dedb-111">You can move an App Service app toohello same region as your database by leveraging hello [App Service cloning feature](app-service-web-app-cloning-portal.md) currently available for Premium App Service Plan apps.</span></span>   

## <span data-ttu-id="8dedb-112"><a name="memoryresources"></a>Cuando las aplicaciones consumen más memoria de lo esperado</span><span class="sxs-lookup"><span data-stu-id="8dedb-112"><a name="memoryresources"></a>When apps consume more memory than expected</span></span>
<span data-ttu-id="8dedb-113">Cuando observe una aplicación consume más memoria de lo esperado tal como se indica a través de supervisión o considere la posibilidad de un servicio de recomendaciones hello [característica de recuperación automática del servicio de aplicación](https://azure.microsoft.com/blog/auto-healing-windows-azure-web-sites).</span><span class="sxs-lookup"><span data-stu-id="8dedb-113">When you notice an app consumes more memory than expected as indicated via monitoring or service recommendations consider hello [App Service Auto-Healing feature](https://azure.microsoft.com/blog/auto-healing-windows-azure-web-sites).</span></span> <span data-ttu-id="8dedb-114">Una de las opciones de hello para la característica de recuperación automática de hello está tardando acciones personalizadas en función de un umbral de memoria.</span><span class="sxs-lookup"><span data-stu-id="8dedb-114">One of hello options for hello Auto-Healing feature is taking custom actions based on a memory threshold.</span></span> <span data-ttu-id="8dedb-115">Acciones abarcan espectro de Hola de tooinvestigation de notificaciones de correo electrónico a través de la mitigación de tooon puntual de volcado de memoria mediante el reciclado de procesos de trabajo de Hola.</span><span class="sxs-lookup"><span data-stu-id="8dedb-115">Actions span hello spectrum from email notifications tooinvestigation via memory dump tooon-the-spot mitigation by recycling hello worker process.</span></span> <span data-ttu-id="8dedb-116">Recuperación automática puede configurarse a través del archivo web.config y a través de una interfaz de usuario descriptivo como se describe en esta entrada de blog para hello [extensión del sitio de soporte técnico de servicio de aplicación](https://azure.microsoft.com/blog/additional-updates-to-support-site-extension-for-azure-app-service-web-apps).</span><span class="sxs-lookup"><span data-stu-id="8dedb-116">Auto-healing can be configured via web.config and via a friendly user interface as described at in this blog post for hello [App Service Support Site Extension](https://azure.microsoft.com/blog/additional-updates-to-support-site-extension-for-azure-app-service-web-apps).</span></span>   

## <span data-ttu-id="8dedb-117"><a name="CPUresources"></a>Cuando las aplicaciones consumen más CPU de lo esperado</span><span class="sxs-lookup"><span data-stu-id="8dedb-117"><a name="CPUresources"></a>When apps consume more CPU than expected</span></span>
<span data-ttu-id="8dedb-118">Cuando se observe que una aplicación consume más CPU que se esperaba o experimenta repite picos de CPU como se indica a través de supervisión o recomendaciones de servicio considere la posibilidad de escalar verticalmente o escalar horizontalmente Hola plan de servicio de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="8dedb-118">When you notice an app consumes more CPU than expected or experiences repeated CPU spikes as indicated via monitoring or service recommendations consider scaling up or scaling out hello App Service plan.</span></span> <span data-ttu-id="8dedb-119">Si la aplicación es el estado, el escalado es única opción hello, mientras que si la aplicación sin estado, escalado horizontal, tendrá más flexibilidad y mayor potencial de escala.</span><span class="sxs-lookup"><span data-stu-id="8dedb-119">If your application is statefull, scaling up is hello only option, while if your application is stateless, scaling out will give you more flexibility and higher scale potential.</span></span> 

<span data-ttu-id="8dedb-120">Para obtener más información sobre las aplicaciones "con estado" y "sin estado", puede ver este vídeo: [Planning a Scalable End-to-End Multi-Tier Application on Microsoft Azure Web App](https://channel9.msdn.com/Events/TechEd/NorthAmerica/2014/DEV-B414#fbid=?hashlink=fbid)(Planeamiento de una aplicación completa de niveles múltiples en una aplicación web de Microsoft Azure).</span><span class="sxs-lookup"><span data-stu-id="8dedb-120">For more information about “statefull” vs “stateless” applications you can watch this video: [Planning a Scalable End-to-End Multi-Tier Application on Microsoft Azure Web App](https://channel9.msdn.com/Events/TechEd/NorthAmerica/2014/DEV-B414#fbid=?hashlink=fbid).</span></span> <span data-ttu-id="8dedb-121">Para obtener más información sobre las opciones de escalado y escalado automático del Servicio de aplicaciones, consulte [Escalación de una aplicación web en el Servicio de aplicaciones de Azure](web-sites-scale.md).</span><span class="sxs-lookup"><span data-stu-id="8dedb-121">For more information about App Service scaling and autoscaling options read: [Scale a Web App in Azure App Service](web-sites-scale.md).</span></span>  

## <span data-ttu-id="8dedb-122"><a name="socketresources"></a>Cuando se agotan los recursos del socket</span><span class="sxs-lookup"><span data-stu-id="8dedb-122"><a name="socketresources"></a>When socket resources are exhausted</span></span>
<span data-ttu-id="8dedb-123">Una razón común para las conexiones TCP salientes agotando es Hola uso de bibliotecas de cliente que no son las conexiones TCP de implementada tooreuse o, en caso de hello de un protocolo de nivel superior como HTTP - no se aprovecha Keep-Alive.</span><span class="sxs-lookup"><span data-stu-id="8dedb-123">A common reason for exhausting outbound TCP connections is hello use of client libraries which are not implemented tooreuse TCP connections, or in hello case of a higher level protocol such as HTTP - Keep-Alive not being leveraged.</span></span> <span data-ttu-id="8dedb-124">Revise la documentación de Hola para cada una de las bibliotecas de Hola Hola aplicaciones en su tooensure Plan de servicio de aplicaciones que se configuran o acceso en el código para una reutilización eficiente de las conexiones salientes al que hace referencia.</span><span class="sxs-lookup"><span data-stu-id="8dedb-124">Please review hello documentation for each of hello libraries referenced by hello apps in your App Service Plan tooensure they are configured or accessed in your code for efficient reuse of outbound connections.</span></span> <span data-ttu-id="8dedb-125">También siga las instrucciones de documentación de biblioteca de hello para la creación correcta y versión o limpieza tooavoid pérdida de conexiones.</span><span class="sxs-lookup"><span data-stu-id="8dedb-125">Also follow hello library documentation guidance for proper creation and release or cleanup tooavoid leaking connections.</span></span> <span data-ttu-id="8dedb-126">Mientras tales investigaciones de bibliotecas de cliente están en el impacto de progreso puede mitigar mediante el escalado horizontal toomultiple instancias.</span><span class="sxs-lookup"><span data-stu-id="8dedb-126">While such client libraries investigations are in progress impact may be mitigated by scaling out toomultiple instances.</span></span>  

## <span data-ttu-id="8dedb-127"><a name="appbackup"></a>Cuando la copia de seguridad de la aplicación comienza a fallar</span><span class="sxs-lookup"><span data-stu-id="8dedb-127"><a name="appbackup"></a>When your app backup starts failing</span></span>
<span data-ttu-id="8dedb-128">Hola dos razones más comunes, ¿por qué genera un error de aplicación copia de seguridad: base de datos no válidos y la configuración de almacenamiento no es válida.</span><span class="sxs-lookup"><span data-stu-id="8dedb-128">hello two most common reasons why app backup fails are: invalid storage settings and invalid database configuration.</span></span> <span data-ttu-id="8dedb-129">Estos errores se producen normalmente cuando hay cambios toostorage o recursos de base de datos o cambios de cómo tooaccess estos recursos (por ejemplo, credenciales se actualizó con la base de datos de hello seleccionada en la configuración de copia de seguridad de hello).</span><span class="sxs-lookup"><span data-stu-id="8dedb-129">These failures typically happen when there are changes toostorage or database resources, or changes for how tooaccess these resources (e.g. credentials updated for hello database selected in hello backup settings).</span></span> <span data-ttu-id="8dedb-130">Las copias de seguridad normalmente ejecutan según una programación y requieren acceso toostorage (de salida para hello copiado de seguridad de archivos) y las bases de datos (para copiar y leer toobe contenido incluido en la copia de seguridad de hello).</span><span class="sxs-lookup"><span data-stu-id="8dedb-130">Backups typically run on a schedule and require access toostorage (for outputting hello backed up files) and databases (for copying and reading contents toobe included in hello backup).</span></span> <span data-ttu-id="8dedb-131">Hola resultado de un error tooaccess cualquiera de estos recursos sería error de copia de seguridad coherente.</span><span class="sxs-lookup"><span data-stu-id="8dedb-131">hello result of failing tooaccess either of these resources would be consistent backup failure.</span></span> 

<span data-ttu-id="8dedb-132">Cuando se producen errores de copia de seguridad, revise más reciente toounderstand resultados sucede qué tipo de error.</span><span class="sxs-lookup"><span data-stu-id="8dedb-132">When backup failures happen, please review most recent results toounderstand which type of failure is happening.</span></span> <span data-ttu-id="8dedb-133">En caso de hello de errores de acceso de almacenamiento, revisar y actualizar la configuración de almacenamiento de hello utilizado en la configuración de copia de seguridad de Hola.</span><span class="sxs-lookup"><span data-stu-id="8dedb-133">In hello case of storage access failures, please review and update hello storage settings used in hello backup configuration.</span></span> <span data-ttu-id="8dedb-134">En caso de hello de errores de acceso de la base de datos, revise y actualice las cadenas de conexiones como parte de la configuración de la aplicación; a continuación, continuar tooupdate su tooproperly de configuración de copia de seguridad incluyen bases de datos de hello necesario.</span><span class="sxs-lookup"><span data-stu-id="8dedb-134">In hello case of database access failures, please review and update your connections strings as part of app settings; then proceed tooupdate your backup configuration tooproperly include hello required databases.</span></span> <span data-ttu-id="8dedb-135">Para obtener más información sobre la copia de seguridad de aplicaciones, consulte hello [copia de seguridad una aplicación web en el servicio de aplicación de Azure](web-sites-backup.md) documentación.</span><span class="sxs-lookup"><span data-stu-id="8dedb-135">For more information on app backup please see hello [Back up a web app in Azure App Service](web-sites-backup.md) documentation.</span></span>

## <span data-ttu-id="8dedb-136"><a name="nodejs"></a>Cuando nuevas aplicaciones Node.js están implementado tooAzure servicio de aplicaciones</span><span class="sxs-lookup"><span data-stu-id="8dedb-136"><a name="nodejs"></a>When new Node.js apps are deployed tooAzure App Service</span></span>
<span data-ttu-id="8dedb-137">Azure configuración predeterminada de servicio de aplicaciones para las aplicaciones de Node.js es toobest previsto que se adapte a las necesidades de Hola de las aplicaciones más comunes.</span><span class="sxs-lookup"><span data-stu-id="8dedb-137">Azure App Service default configuration for Node.js apps is intended toobest suit hello needs of most common apps.</span></span> <span data-ttu-id="8dedb-138">Si la configuración de la aplicación Node.js podría beneficiarse de optimización del rendimiento tooimprove personalizadas u optimizar el uso de recursos para los recursos de red, CPU o memoria, puede revisar nuestras prácticas recomendadas y pasos para solucionar problemas.</span><span class="sxs-lookup"><span data-stu-id="8dedb-138">If configuration for your Node.js app would benefit from personalized tuning tooimprove performance or optimize resource usage for CPU/memory/network resources, you could review our best practices and troubleshooting steps.</span></span> <span data-ttu-id="8dedb-139">Este artículo de documentación describen configuraciones de iisnode de Hola que puede necesitar tooconfigure para la aplicación Node.js, describe Hola diversos escenarios o los problemas que pueda sufrir su aplicación y se muestra cómo tooaddress estos problemas: [las prácticas recomendadas y Guía de solución de problemas para las aplicaciones del nodo en el servicio de aplicaciones de Azure](app-service-web-nodejs-best-practices-and-troubleshoot-guide.md).</span><span class="sxs-lookup"><span data-stu-id="8dedb-139">This documentation article describes hello iisnode settings you may need tooconfigure for your Node.js app, describes hello various scenarios or issues that your app may be facing, and shows how tooaddress these issues: [Best practices and troubleshooting guide for Node applications on Azure App Service](app-service-web-nodejs-best-practices-and-troubleshoot-guide.md).</span></span>   

