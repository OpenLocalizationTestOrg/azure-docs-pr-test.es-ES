---
title: "aaaGet partió de prueba en producción para las aplicaciones Web"
description: "Obtenga información acerca de hello pruebas en función de la producción (TiP) en aplicaciones de Web del servicio de aplicación de Azure."
services: app-service\web
documentationcenter: 
author: cephalin
manager: erikre
editor: 
ms.assetid: 4623468d-886e-4203-8012-8f86deb2790b
ms.service: app-service-web
ms.workload: web
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/13/2016
ms.author: cephalin
ms.openlocfilehash: 2ddbd532ffe2a4f3e07fd386d9741a3fde3639ca
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="get-started-with-test-in-production-for-web-apps"></a><span data-ttu-id="dd703-103">Introducción a las pruebas en producción para las aplicaciones web</span><span class="sxs-lookup"><span data-stu-id="dd703-103">Get started with test in production for Web Apps</span></span>
<span data-ttu-id="dd703-104">Las pruebas en producción o pruebas en directo de una aplicación web usando el tráfico de clientes, es una estrategia de prueba que los desarrolladores de aplicaciones integran cada vez más en sus metodologías de [desarrollo ágil](https://en.wikipedia.org/wiki/Agile_software_development) .</span><span class="sxs-lookup"><span data-stu-id="dd703-104">Testing in production, or live-testing your web app using live customer traffic, is a test strategy that app developers increasingly integrate into their [agile development](https://en.wikipedia.org/wiki/Agile_software_development) methodology.</span></span> <span data-ttu-id="dd703-105">Le permite tootest calidad de Hola de las aplicaciones con el tráfico de usuario en vivo en el entorno de producción, como datos toosynthesized opuestos en un entorno de prueba.</span><span class="sxs-lookup"><span data-stu-id="dd703-105">It enables you tootest hello quality of your apps with live user traffic in your production environment, as opposed toosynthesized data in a test environment.</span></span> <span data-ttu-id="dd703-106">Mediante la exposición de los usuarios nuevos de tooreal de aplicación, pueda estar informado sobre los problemas reales de hello que puede enfrentarse a la aplicación una vez que se implementa.</span><span class="sxs-lookup"><span data-stu-id="dd703-106">By exposing your new app tooreal users, you can be informed on hello real problems your app may face once it is deployed.</span></span> <span data-ttu-id="dd703-107">Puede comprobar la funcionalidad de hello, el rendimiento y el valor de las actualizaciones de la aplicación en volumen de hello, progreso y variedad de tráfico de usuario real, que no puede aproximar nunca en un entorno de prueba.</span><span class="sxs-lookup"><span data-stu-id="dd703-107">You can verify hello functionality, performance, and value of your app updates against hello volume, velocity, and variety of real user traffic, which you can never approximate in a test environment.</span></span>

## <a name="traffic-routing-in-app-service-web-apps"></a><span data-ttu-id="dd703-108">Enrutamiento de tráfico en las aplicaciones web del Servicio de aplicaciones</span><span class="sxs-lookup"><span data-stu-id="dd703-108">Traffic Routing in App Service Web Apps</span></span>
<span data-ttu-id="dd703-109">Con el enrutamiento de tráfico de hello de características en [servicio de aplicaciones de Azure](http://go.microsoft.com/fwlink/?LinkId=529714), puede dirigir una parte de tooone de tráfico de usuario en vivo o más [ranuras de implementación](web-sites-staged-publishing.md)y, a continuación, analizar la aplicación con [aplicación de Azure Visión](/services/application-insights/) o [HDInsight de Azure](/services/hdinsight/), o una herramienta de terceros, como [New Relic](/marketplace/partners/newrelic/newrelic/) toovalidate el cambio.</span><span class="sxs-lookup"><span data-stu-id="dd703-109">With hello Traffic Routing feature in [Azure App Service](http://go.microsoft.com/fwlink/?LinkId=529714), you can direct a portion of live user traffic tooone or more [deployment slots](web-sites-staged-publishing.md), and then analyze your app with [Azure Application Insights](/services/application-insights/) or [Azure HDInsight](/services/hdinsight/), or a third-party tool like [New Relic](/marketplace/partners/newrelic/newrelic/) toovalidate your change.</span></span> <span data-ttu-id="dd703-110">Por ejemplo, puede implementar Hola con servicio de aplicaciones de los escenarios siguientes:</span><span class="sxs-lookup"><span data-stu-id="dd703-110">For example, you can implement hello following scenarios with App Service:</span></span>

* <span data-ttu-id="dd703-111">Detectar errores funcionales o identificar los cuellos de botella de rendimiento en la implementación de actualizaciones anteriores toosite todo</span><span class="sxs-lookup"><span data-stu-id="dd703-111">Discover functional bugs or pinpoint performance bottlenecks in your updates prior toosite-wide deployment</span></span>
* <span data-ttu-id="dd703-112">Realizar "vuelos de pruebas controlado" de los cambios mediante la medición de las métricas de facilidad de uso en la aplicación de la versión beta de hello</span><span class="sxs-lookup"><span data-stu-id="dd703-112">Perform "controlled test flights" of your changes by measuring usability metrics on hello beta app</span></span>
* <span data-ttu-id="dd703-113">Optimizar gradualmente tooa nueva actualización y correctamente hacia abajo de la versión actual de toohello si se produce un error</span><span class="sxs-lookup"><span data-stu-id="dd703-113">Gradually ramp up tooa new update, and gracefully back down toohello current version if an error occurs</span></span> 
* <span data-ttu-id="dd703-114">Optimizar los resultados empresariales de su aplicación mediante la ejecución de [pruebas A/B](https://en.wikipedia.org/wiki/A/B_testing) o [pruebas sobre múltiples variables](https://en.wikipedia.org/wiki/Multivariate_testing_in_marketing) en varias ranuras de implementación</span><span class="sxs-lookup"><span data-stu-id="dd703-114">Optimize your app's business results by running [A/B tests](https://en.wikipedia.org/wiki/A/B_testing) or [multivariate tests](https://en.wikipedia.org/wiki/Multivariate_testing_in_marketing) in multiple deployment slots</span></span>

### <a name="requirements-for-using-traffic-routing-in-web-apps"></a><span data-ttu-id="dd703-115">Requisitos para usar el enrutamiento del tráfico en las aplicaciones web</span><span class="sxs-lookup"><span data-stu-id="dd703-115">Requirements for using Traffic Routing in Web Apps</span></span>
* <span data-ttu-id="dd703-116">La aplicación web se debe ejecutar en los niveles **Estándar** o **Premium**, ya que es lo que se requiere cuando hay varias ranuras de implementación.</span><span class="sxs-lookup"><span data-stu-id="dd703-116">Your web app must run in **Standard** or **Premium** tier, as it is required for multiple deployment slots.</span></span>
* <span data-ttu-id="dd703-117">En orden toowork correctamente, el enrutamiento de tráfico requiere toobe las cookies habilitada en el Explorador de los usuarios de Hola.</span><span class="sxs-lookup"><span data-stu-id="dd703-117">In order toowork properly, Traffic Routing requires cookies toobe enabled in hello users' browser.</span></span> <span data-ttu-id="dd703-118">Enrutamiento de tráfico usa toopin una ranura de implementación de cliente explorador tooa de cookies de sesión de cliente de Hola Hola vida.</span><span class="sxs-lookup"><span data-stu-id="dd703-118">Traffic Routing uses cookies toopin a client browser tooa deployment slot for hello life hello client session.</span></span>
* <span data-ttu-id="dd703-119">El enrutamiento de tráfico admite escenarios avanzados de TiP mediante cmdlets de PowerShell de Azure.</span><span class="sxs-lookup"><span data-stu-id="dd703-119">Traffic Routing supports advanced TiP scenarios through Azure PowerShell cmdlets.</span></span>

## <a name="route-traffic-segment-tooa-deployment-slot"></a><span data-ttu-id="dd703-120">Ranura de implementación de ruta tráfico segmento tooa</span><span class="sxs-lookup"><span data-stu-id="dd703-120">Route traffic segment tooa deployment slot</span></span>
<span data-ttu-id="dd703-121">En el nivel básico de hello en cada escenario de sugerencia, enrutar una porcentaje predefinido de la ranura de implementación de producción no tooa el tráfico en vivo.</span><span class="sxs-lookup"><span data-stu-id="dd703-121">At hello basic level in every TiP scenario, you route a predefined percentage of your live traffic tooa non-production deployment slot.</span></span> <span data-ttu-id="dd703-122">toodo, a continuación siga los pasos hello:</span><span class="sxs-lookup"><span data-stu-id="dd703-122">toodo this, follow hello steps below:</span></span>

> [!NOTE]
> <span data-ttu-id="dd703-123">Hello estos pasos se da por supuesto que ya tiene un [ranura de implementación no es de producción](web-sites-staged-publishing.md) y ese Hola desea el contenido de las aplicaciones web ya está [implementa](web-sites-deploy.md) tooit.</span><span class="sxs-lookup"><span data-stu-id="dd703-123">hello steps here assumes that you already have a [non-production deployment slot](web-sites-staged-publishing.md) and that hello desired web app content is already [deployed](web-sites-deploy.md) tooit.</span></span>
> 
> 

1. <span data-ttu-id="dd703-124">Inicie sesión en hello [Portal de Azure](https://portal.azure.com/).</span><span class="sxs-lookup"><span data-stu-id="dd703-124">Log into hello [Azure Portal](https://portal.azure.com/).</span></span>
2. <span data-ttu-id="dd703-125">En la hoja de la aplicación web, haga clic en **Configuración** > **Enrutamiento de tráfico**.</span><span class="sxs-lookup"><span data-stu-id="dd703-125">In your web app's blade, click **Settings** > **Traffic Routing**.</span></span>
   ![](./media/app-service-web-test-in-production/01-traffic-routing.png)
3. <span data-ttu-id="dd703-126">Ranura de hello SELECT que desea que el porcentaje de tooroute tráfico tooand Hola de hello total de tráfico que desee y luego haga clic en **guardar**.</span><span class="sxs-lookup"><span data-stu-id="dd703-126">Select hello slot that you want tooroute traffic tooand hello percentage of hello total traffic you desire, then click **Save**.</span></span>
   
    ![](./media/app-service-web-test-in-production/02-select-slot.png)
4. <span data-ttu-id="dd703-127">Hoja de la ranura de implementación de toohello vaya.</span><span class="sxs-lookup"><span data-stu-id="dd703-127">Go toohello deployment slot's blade.</span></span> <span data-ttu-id="dd703-128">Ahora debería ver el tráfico en vivo que se va a tooit enrutado.</span><span class="sxs-lookup"><span data-stu-id="dd703-128">You should now see live traffic being routed tooit.</span></span>
   
    ![](./media/app-service-web-test-in-production/03-traffic-routed.png)

<span data-ttu-id="dd703-129">Una vez configurado el enrutamiento del tráfico, Hola especificados porcentaje de clientes estarán ranura de tooyour aleatoriamente enrutado no sea de producción.</span><span class="sxs-lookup"><span data-stu-id="dd703-129">Once Traffic Routing is configured, hello specified percentage of clients will be randomly routed tooyour non-production slot.</span></span> <span data-ttu-id="dd703-130">Sin embargo, es importante toonote que una vez que un cliente se tooa automáticamente enrutado específico ranura, estará ranura toothat "anclados" para la vida Hola de esa sesión de cliente.</span><span class="sxs-lookup"><span data-stu-id="dd703-130">However, it is important toonote that once a client is automatically routed tooa specific slot, it will be "pinned" toothat slot for hello life of that client session.</span></span> <span data-ttu-id="dd703-131">Esto se realiza mediante una sesión de usuario de cookie toopin Hola.</span><span class="sxs-lookup"><span data-stu-id="dd703-131">This done using a cookie toopin hello user session.</span></span> <span data-ttu-id="dd703-132">Si examina las solicitudes HTTP de hello, encontrará un `TipMix` cookie en cada solicitud posterior.</span><span class="sxs-lookup"><span data-stu-id="dd703-132">If you inspect hello HTTP requests, you will find a `TipMix` cookie in every subsequent request.</span></span>

![](./media/app-service-web-test-in-production/04-tip-cookie.png)

## <a name="force-client-requests-tooa-specific-slot"></a><span data-ttu-id="dd703-133">Forzar la ranura específico de tooa de solicitudes de cliente</span><span class="sxs-lookup"><span data-stu-id="dd703-133">Force client requests tooa specific slot</span></span>
<span data-ttu-id="dd703-134">En suma tooautomatic enrutamiento del tráfico, servicio de aplicaciones es ranura específico de tooroute capaz de solicitudes tooa.</span><span class="sxs-lookup"><span data-stu-id="dd703-134">In addition tooautomatic traffic routing, App Service is able tooroute requests tooa specific slot.</span></span> <span data-ttu-id="dd703-135">Esto es útil cuando desea que su tooopt capaz de usuarios toobe-en o desactivación de la aplicación de la versión beta.</span><span class="sxs-lookup"><span data-stu-id="dd703-135">This is useful when you want your users toobe able tooopt-into or opt-out of your beta app.</span></span> <span data-ttu-id="dd703-136">toodo, usar hello `x-ms-routing-name` parámetro de consulta.</span><span class="sxs-lookup"><span data-stu-id="dd703-136">toodo this, you use hello `x-ms-routing-name` query parameter.</span></span>

<span data-ttu-id="dd703-137">tooreroute usuarios tooa ranura específico utilizando `x-ms-routing-name`, debe asegurarse de que esa ranura Hola ya se ha agregado toohello lista de enrutamiento del tráfico.</span><span class="sxs-lookup"><span data-stu-id="dd703-137">tooreroute users tooa specific slot using `x-ms-routing-name`, you must make sure that hello slot is already added toohello Traffic Routing list.</span></span> <span data-ttu-id="dd703-138">Debido a que desea tooroute tooa ranura explícitamente, no importa el porcentaje de enrutamiento real Hola establece.</span><span class="sxs-lookup"><span data-stu-id="dd703-138">Since you want tooroute tooa slot explicitly, hello actual routing percentage you set doesn't matter.</span></span> <span data-ttu-id="dd703-139">Si lo desea, puede crear un "vínculo beta" que los usuarios puedan seleccionar tooaccess Hola aplicación beta.</span><span class="sxs-lookup"><span data-stu-id="dd703-139">If you want, you can craft a "beta link" that users can click tooaccess hello beta app.</span></span>

![](./media/app-service-web-test-in-production/06-enable-x-ms-routing-name.png)

### <a name="opt-users-out-of-beta-app"></a><span data-ttu-id="dd703-140">Exclusión voluntaria de la aplicación beta para los usuarios</span><span class="sxs-lookup"><span data-stu-id="dd703-140">Opt users out of beta app</span></span>
<span data-ttu-id="dd703-141">toolet a los usuarios que no formen parte de la aplicación de la versión beta, por ejemplo, se puede colocar este vínculo en la página web:</span><span class="sxs-lookup"><span data-stu-id="dd703-141">toolet users opt out of your beta app, for example, you can put this link in your web page:</span></span>

    <a href="<webappname>.azurewebsites.net/?x-ms-routing-name=self">Go back tooproduction app</a>

<span data-ttu-id="dd703-142">Hola cadena `x-ms-routing-name=self` especifica la zona de producción de hello.</span><span class="sxs-lookup"><span data-stu-id="dd703-142">hello string `x-ms-routing-name=self` specifies hello production slot.</span></span> <span data-ttu-id="dd703-143">Una vez hello vínculo de Hola de acceso de explorador de cliente, no solo se redirige toohello ranura de producción, pero todas las solicitudes subsiguientes contendrá hello `x-ms-routing-name=self` cookie que ancla ranura de producción de hello sesión toohello.</span><span class="sxs-lookup"><span data-stu-id="dd703-143">Once hello client browser access hello link, not only is it redirected toohello production slot, but every subsequent request will contain hello `x-ms-routing-name=self` cookie that pins hello session toohello production slot.</span></span>

![](./media/app-service-web-test-in-production/05-access-production-slot.png)

### <a name="opt-users-in-toobeta-app"></a><span data-ttu-id="dd703-144">Participación de los usuarios de aplicación toobeta</span><span class="sxs-lookup"><span data-stu-id="dd703-144">Opt users in toobeta app</span></span>
<span data-ttu-id="dd703-145">toolet a los usuarios participar en aplicaciones de la versión beta de tooyour, conjunto Hola misma consulta toohello nombre del parámetro de la ranura de no producción de hello, por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="dd703-145">toolet users opt in tooyour beta app, set hello same query parameter toohello name of hello non-production slot, for example:</span></span>

        <webappname>.azurewebsites.net/?x-ms-routing-name=staging

## <a name="more-resources"></a><span data-ttu-id="dd703-146">Más recursos</span><span class="sxs-lookup"><span data-stu-id="dd703-146">More resources</span></span>
* [<span data-ttu-id="dd703-147">Configuración de entornos de ensayo para aplicaciones web en el Servicio de aplicaciones de Azure</span><span class="sxs-lookup"><span data-stu-id="dd703-147">Set up staging environments for web apps in Azure App Service</span></span>](web-sites-staged-publishing.md)
* [<span data-ttu-id="dd703-148">Implementación predecible de una aplicación compleja en Azure</span><span class="sxs-lookup"><span data-stu-id="dd703-148">Deploy a complex application predictably in Azure</span></span>](app-service-deploy-complex-application-predictably.md)
* [<span data-ttu-id="dd703-149">Agile Software Development con el Servicio de aplicaciones de Azure</span><span class="sxs-lookup"><span data-stu-id="dd703-149">Agile software development with Azure App Service</span></span>](app-service-agile-software-development.md)
* [<span data-ttu-id="dd703-150">Uso eficaz de entornos DevOps para las aplicaciones web</span><span class="sxs-lookup"><span data-stu-id="dd703-150">Use DevOps environments effectively for your web apps</span></span>](app-service-web-staged-publishing-realworld-scenarios.md)

