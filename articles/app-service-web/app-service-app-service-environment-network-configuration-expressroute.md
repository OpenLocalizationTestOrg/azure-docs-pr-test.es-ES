---
title: "aaaNetwork detalles de configuración para trabajar con Express Route"
description: "Detalles de configuración de red para ejecutar entornos del servicio de aplicación en una red Virtual conectado tooan circuito de ExpressRoute."
services: app-service
documentationcenter: 
author: stefsch
manager: nirma
editor: 
ms.assetid: 34b49178-2595-4d32-9b41-110c96dde6bf
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 10/14/2016
ms.author: stefsch
ms.openlocfilehash: 85bbc45cfed619485957ee2a898aa0a7604173cb
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="network-configuration-details-for-app-service-environments-with-expressroute"></a><span data-ttu-id="cf523-103">Detalles de configuración de red para entornos del Servicio de aplicaciones con ExpressRoute</span><span class="sxs-lookup"><span data-stu-id="cf523-103">Network Configuration Details for App Service Environments with ExpressRoute</span></span>
## <a name="overview"></a><span data-ttu-id="cf523-104">Información general</span><span class="sxs-lookup"><span data-stu-id="cf523-104">Overview</span></span>
<span data-ttu-id="cf523-105">Los clientes pueden conectarse un [ExpressRoute de Azure] [ ExpressRoute] infraestructura de red virtual de circuito tootheir, lo que extender su tooAzure de red local.</span><span class="sxs-lookup"><span data-stu-id="cf523-105">Customers can connect an [Azure ExpressRoute][ExpressRoute] circuit tootheir virtual network infrastructure, thus extending their on-premises network tooAzure.</span></span>  <span data-ttu-id="cf523-106">Se puede crear una instancia de App Service Environment en una subred de la infraestructura de esta [red virtual][virtualnetwork].</span><span class="sxs-lookup"><span data-stu-id="cf523-106">An App Service Environment can  be created in a subnet of this [virtual network][virtualnetwork] infrastructure.</span></span>  <span data-ttu-id="cf523-107">Aplicaciones que se ejecutan en el entorno del servicio de aplicación Hola, a continuación, pueden establecer conexiones seguras tooback los recursos de servidor puede tener acceso sólo a través de hello conexión ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="cf523-107">Apps running on hello App Service Environment can then establish secure connections tooback-end resources accessible only over hello ExpressRoute connection.</span></span>  

<span data-ttu-id="cf523-108">Un entorno del Servicio de aplicaciones se puede crear **en** una red virtual de Azure Resource Manager **o en** una del modelo de implementación clásica.</span><span class="sxs-lookup"><span data-stu-id="cf523-108">An App Service Environment can be created in **either** an Azure Resource Manager virtual network, **or** a classic deployment model virtual network.</span></span>  <span data-ttu-id="cf523-109">Tras el cambio reciente realizado en junio de 2016, los entornos ASE también se pueden implementar ahora en redes virtuales que usen intervalos de direcciones públicas o espacios de direcciones de RFC1918 (es decir, direcciones privadas).</span><span class="sxs-lookup"><span data-stu-id="cf523-109">With a recent change made in June 2016, ASEs can also now be deployed into virtual networks that use either public address ranges, or RFC1918 address spaces (i.e. private addresses).</span></span> 

[!INCLUDE [app-service-web-to-api-and-mobile](../../includes/app-service-web-to-api-and-mobile.md)]

## <a name="required-network-connectivity"></a><span data-ttu-id="cf523-110">Conectividad de red necesaria</span><span class="sxs-lookup"><span data-stu-id="cf523-110">Required Network Connectivity</span></span>
<span data-ttu-id="cf523-111">Hay requisitos de conectividad de red para los entornos del servicio de aplicación que no puede cumplirse inicialmente en un tooan de red virtual conectado ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="cf523-111">There are network connectivity requirements for App Service Environments that may not be initially met in a virtual network connected tooan ExpressRoute.</span></span>  <span data-ttu-id="cf523-112">Los entornos del servicio de aplicación requieren todas siguiente de hello en orden toofunction correctamente:</span><span class="sxs-lookup"><span data-stu-id="cf523-112">App Service Environments require all of hello following in order toofunction properly:</span></span>

* <span data-ttu-id="cf523-113">Red saliente conectividad tooAzure extremos de almacenamiento en todo el mundo en los puertos 80 y 443.</span><span class="sxs-lookup"><span data-stu-id="cf523-113">Outbound network connectivity tooAzure Storage endpoints worldwide on both ports 80 and 443.</span></span>  <span data-ttu-id="cf523-114">Esto incluye los puntos de conexión que se encuentra en hello misma región que Hola entorno del servicio de aplicaciones, así como los extremos de almacenamiento que se encuentra en **otros** regiones de Azure.</span><span class="sxs-lookup"><span data-stu-id="cf523-114">This includes endpoints located in hello same region as hello App Service Environment, as well as storage endpoints located in **other** Azure regions.</span></span>  <span data-ttu-id="cf523-115">Extremos de almacenamiento de Azure resolver en hello siguiendo los dominios DNS: *table.core.windows.net*, *blob.core.windows.net*, *queue.core.windows.net* y *file.core.windows.net*.</span><span class="sxs-lookup"><span data-stu-id="cf523-115">Azure Storage endpoints resolve under hello following DNS domains: *table.core.windows.net*, *blob.core.windows.net*, *queue.core.windows.net* and *file.core.windows.net*.</span></span>  
* <span data-ttu-id="cf523-116">Toohello de conectividad de red saliente servicio de archivos de Azure en el puerto 445.</span><span class="sxs-lookup"><span data-stu-id="cf523-116">Outbound network connectivity toohello Azure Files service on port 445.</span></span>
* <span data-ttu-id="cf523-117">Los puntos de conexión de red saliente conectividad tooSql DB ubicado en hello misma región como lo Hola entorno del servicio de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="cf523-117">Outbound network connectivity tooSql DB endpoints located in hello same region as hello App Service Environment.</span></span>  <span data-ttu-id="cf523-118">Resolver los puntos de conexión de base de datos SQL en hello después de dominio: *database.windows.net*.</span><span class="sxs-lookup"><span data-stu-id="cf523-118">Sql DB endpoints resolve under hello following domain:  *database.windows.net*.</span></span>  <span data-ttu-id="cf523-119">Esto requiere abrir acceso tooports 1433, 11000 a 11999 y 14000 a 14999.</span><span class="sxs-lookup"><span data-stu-id="cf523-119">This requires opening access tooports 1433, 11000-11999 and 14000-14999.</span></span>  <span data-ttu-id="cf523-120">Para obtener más información, consulte [este artículo sobre el uso de puertos en la versión 12 de Base de datos SQL](../sql-database/sql-database-develop-direct-route-ports-adonet-v12.md).</span><span class="sxs-lookup"><span data-stu-id="cf523-120">For more details see [this article on Sql Database V12 port usage](../sql-database/sql-database-develop-direct-route-ports-adonet-v12.md).</span></span>
* <span data-ttu-id="cf523-121">Salida conectividad toohello administración de Azure plano extremos de la red (extremos ASM y ARM).</span><span class="sxs-lookup"><span data-stu-id="cf523-121">Outbound network connectivity toohello Azure management plane endpoints (both ASM and ARM endpoints).</span></span>  <span data-ttu-id="cf523-122">Esto incluye conectividad saliente tooboth *management.core.windows.net* y *management.azure.com*.</span><span class="sxs-lookup"><span data-stu-id="cf523-122">This includes outbound connectivity tooboth *management.core.windows.net* and *management.azure.com*.</span></span> 
* <span data-ttu-id="cf523-123">Salida conectividad de red demasiado*ocsp.msocsp.com*, *mscrl.microsoft.com* y *crl.microsoft.com*.  Se trata de funcionalidad SSL de toosupport necesarios.</span><span class="sxs-lookup"><span data-stu-id="cf523-123">Outbound network connectivity too*ocsp.msocsp.com*, *mscrl.microsoft.com* and *crl.microsoft.com*.  This is needed toosupport SSL functionality.</span></span>
* <span data-ttu-id="cf523-124">configuración de DNS de Hola de red virtual de hello debe ser capaz de resolver todos los puntos de conexión de Hola y dominios que se menciona en Hola puntos anteriores.</span><span class="sxs-lookup"><span data-stu-id="cf523-124">hello DNS configuration for hello virtual network must be capable of resolving all of hello endpoints and domains mentioned in hello earlier points.</span></span>  <span data-ttu-id="cf523-125">Si estos puntos de conexión no se pueden resolver, se producirá un error en los intentos de creación del entorno del Servicio de aplicaciones y los entornos del Servicio de aplicaciones existentes se marcarán como incorrectos.</span><span class="sxs-lookup"><span data-stu-id="cf523-125">If these endpoints cannot be resolved, App Service Environment creation attempts will fail, and existing App Service Environments will be marked as unhealthy.</span></span>
* <span data-ttu-id="cf523-126">Se requiere acceso saliente en el puerto 53 para establecer la comunicación con los servidores DNS.</span><span class="sxs-lookup"><span data-stu-id="cf523-126">Outbound access on port 53 is required for communication with DNS servers.</span></span>
* <span data-ttu-id="cf523-127">Si existe un servidor DNS personalizado en hello otro extremo de una puerta de enlace VPN, servidor DNS de hello debe ser accesible desde la subred de Hola que contiene Hola entorno del servicio de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="cf523-127">If a custom DNS server exists on hello other end of a VPN gateway, hello DNS server must be reachable from hello subnet containing hello App Service Environment.</span></span> 
* <span data-ttu-id="cf523-128">ruta de acceso de red saliente de Hello no se puede atravesar servidores proxy corporativo interno, ni puede ser force túnel tooon local.</span><span class="sxs-lookup"><span data-stu-id="cf523-128">hello outbound network path cannot travel through internal corporate proxies, nor can it be force tunneled tooon-premises.</span></span>  <span data-ttu-id="cf523-129">Si lo hace, cambios Hola efectivo dirección NAT del tráfico de red saliente de hello entorno del servicio de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="cf523-129">Doing so changes hello effective NAT address of outbound network traffic from hello App Service Environment.</span></span>  <span data-ttu-id="cf523-130">Cambiar dirección NAT de Hola de tráfico de red saliente de un entorno servicio de aplicaciones, se producirá conectividad toomany de errores de los puntos de conexión de hello mencionado anteriormente.</span><span class="sxs-lookup"><span data-stu-id="cf523-130">Changing hello NAT address of an App Service Environment's outbound network traffic will cause connectivity failures toomany of hello endpoints listed above.</span></span>  <span data-ttu-id="cf523-131">Lo que da como resultado un error al intentar la creación del entorno del Servicio de aplicaciones, y además, los entornos del Servicio de aplicaciones previamente correctos estarán marcados como incorrectos.</span><span class="sxs-lookup"><span data-stu-id="cf523-131">This results in failed App Service Environment creation attempts, as well as previously healthy App Service Environments being marked as unhealthy.</span></span>  
* <span data-ttu-id="cf523-132">Puertos de toorequired de acceso de red de entrada para entornos del servicio de aplicación debe poder tal como se describe en este [artículo][requiredports].</span><span class="sxs-lookup"><span data-stu-id="cf523-132">Inbound network access toorequired ports for App Service Environments must be allowed as described in this [article][requiredports].</span></span>

<span data-ttu-id="cf523-133">requisitos de DNS de Hello pueden cumplirse asegurándose de una infraestructura DNS válida se configuran y se mantienen para la red virtual de Hola.</span><span class="sxs-lookup"><span data-stu-id="cf523-133">hello DNS requirements can be met by ensuring a valid DNS infrastructure is configured and maintained for hello virtual network.</span></span>  <span data-ttu-id="cf523-134">Si para cualquier hello motivo se cambia la configuración de DNS después de crear un entorno de servicio de aplicaciones, los desarrolladores pueden forzar una toopick entono la nueva configuración de DNS Hola.</span><span class="sxs-lookup"><span data-stu-id="cf523-134">If for any reason hello DNS configuration is changed after an App Service Environment has been created, developers can force an App Service Environment toopick up hello new DNS configuration.</span></span>  <span data-ttu-id="cf523-135">Desencadenar un reinicio gradual de entorno usando Hola "Reiniciar" icono encuentra final Hola de hoja de administración de entorno de servicio de aplicación Hola Hola [portal de Azure] [ NewPortal] provocará Hola entorno toopick la nueva configuración de DNS Hola.</span><span class="sxs-lookup"><span data-stu-id="cf523-135">Triggering a rolling environment reboot using hello "Restart" icon located at hello top of hello App Service Environment management blade in hello [Azure portal][NewPortal] will cause hello environment toopick up hello new DNS configuration.</span></span>

<span data-ttu-id="cf523-136">Hello requisitos de acceso de red de entrada pueden cumplirse mediante la configuración de un [grupo de seguridad de red] [ NetworkSecurityGroups] en subred tooallow Hola requerido acceso del entorno del servicio de aplicación Hola tal como se describe en este [artículo][requiredports].</span><span class="sxs-lookup"><span data-stu-id="cf523-136">hello inbound network access requirements can be met by configuring a [network security group][NetworkSecurityGroups] on hello App Service Environment's subnet tooallow hello required access as described in this [article][requiredports].</span></span>

## <a name="enabling-outbound-network-connectivity-for-an-app-service-environment"></a><span data-ttu-id="cf523-137">Habilitar la conectividad de red saliente para un entorno del Servicio de aplicaciones</span><span class="sxs-lookup"><span data-stu-id="cf523-137">Enabling Outbound Network Connectivity for an App Service Environment</span></span>
<span data-ttu-id="cf523-138">De forma predeterminada, un circuito de ExpressRoute recién creado anuncia una ruta predeterminada que permite la conectividad saliente de Internet.</span><span class="sxs-lookup"><span data-stu-id="cf523-138">By default, a newly created ExpressRoute circuit advertises a default route that allows outbound Internet connectivity.</span></span>  <span data-ttu-id="cf523-139">Con esta configuración de un entorno de servicio de aplicaciones será capaz de tooconnect tooother extremos de Azure.</span><span class="sxs-lookup"><span data-stu-id="cf523-139">With this configuration an App Service Environment will be able tooconnect tooother Azure endpoints.</span></span>

<span data-ttu-id="cf523-140">Sin embargo, una configuración de cliente común es toodefine su propia ruta predeterminada (0.0.0.0/0), lo que obliga al flujo de tooinstead de tráfico de Internet saliente local.</span><span class="sxs-lookup"><span data-stu-id="cf523-140">However a common customer configuration is toodefine their own default route (0.0.0.0/0) which forces outbound Internet traffic tooinstead flow on-premises.</span></span>  <span data-ttu-id="cf523-141">Este flujo de tráfico invariable, interrumpe entornos del servicio de aplicación porque el tráfico saliente Hola está bloqueado de forma local o NAT con el conjunto irreconocible tooan de direcciones que ya no funcionan con varios extremos de Azure.</span><span class="sxs-lookup"><span data-stu-id="cf523-141">This traffic flow invariably breaks App Service Environments because hello outbound traffic is either blocked on-premises, or NAT'd tooan unrecognizable set of addresses that no longer work with various Azure endpoints.</span></span>

<span data-ttu-id="cf523-142">solución de Hello es rutas de toodefine uno (o más) definidos por el usuario (UDRs) de subred de Hola que contiene Hola entorno del servicio de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="cf523-142">hello solution is toodefine one (or more) user defined routes (UDRs) on hello subnet that contains hello App Service Environment.</span></span>  <span data-ttu-id="cf523-143">Un UDR define las rutas de subred específica que se respetará en lugar de la ruta predeterminada de Hola.</span><span class="sxs-lookup"><span data-stu-id="cf523-143">A UDR defines subnet-specific routes that will be honored instead of hello default route.</span></span>

<span data-ttu-id="cf523-144">Si es posible, se recomienda hello toouse siguiente configuración:</span><span class="sxs-lookup"><span data-stu-id="cf523-144">If possible, it is recommended toouse hello following configuration:</span></span>

* <span data-ttu-id="cf523-145">configuración de ExpressRoute de Hello anuncia 0.0.0.0/0 y de forma predeterminada force túneles todo el tráfico saliente en local.</span><span class="sxs-lookup"><span data-stu-id="cf523-145">hello ExpressRoute configuration advertises 0.0.0.0/0 and by default force tunnels all outbound traffic on-premises.</span></span>
* <span data-ttu-id="cf523-146">Hola UDR aplica toohello subred que contiene Hola entono define 0.0.0.0/0 con un tipo de próximo salto de Internet (un ejemplo de esto es situados más abajo en este artículo).</span><span class="sxs-lookup"><span data-stu-id="cf523-146">hello UDR applied toohello subnet containing hello App Service Environment defines 0.0.0.0/0 with a next hop type of Internet (an example of this is farther down in this article).</span></span>

<span data-ttu-id="cf523-147">Hola efecto combinado de estos pasos es que nivel de subred de hello UDR tendrá prioridad sobre hello ExpressRoute forzado túnel, lo que garantiza el acceso a Internet saliente desde Hola entorno del servicio de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="cf523-147">hello combined effect of these steps is that hello subnet level UDR will take precedence over hello ExpressRoute forced tunneling, thus ensuring outbound Internet access from hello App Service Environment.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="cf523-148">Hola rutas definidas en un UDR **debe** ser lo suficientemente específica demasiado tienen prioridad sobre las rutas que anuncia Hola configuración de ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="cf523-148">hello routes defined in a UDR **must** be specific enough too take precedence over any routes advertised by hello ExpressRoute configuration.</span></span>  <span data-ttu-id="cf523-149">ejemplo de Hola siguiente utiliza el intervalo de direcciones de hello amplia 0.0.0.0/0 y así puede potencialmente accidentalmente reemplazarse por anuncios de rutas con intervalos de direcciones más específicos.</span><span class="sxs-lookup"><span data-stu-id="cf523-149">hello example below uses hello broad 0.0.0.0/0 address range, and as such can potentially be accidentally overridden by route advertisements using more specific address ranges.</span></span>
> 
> <span data-ttu-id="cf523-150">Entornos del servicio de aplicación no son compatibles con las configuraciones de ExpressRoute que **entre-anunciar rutas de hello pública emparejamiento toohello privada emparejamiento ruta de acceso**.</span><span class="sxs-lookup"><span data-stu-id="cf523-150">App Service Environments are not supported with ExpressRoute configurations that **cross-advertise routes from hello public peering path toohello private peering path**.</span></span>  <span data-ttu-id="cf523-151">Las configuraciones de ExpressRoute con el emparejamiento público configurado recibirán anuncios de ruta de Microsoft para un amplio conjunto de intervalos de direcciones IP de Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="cf523-151">ExpressRoute configurations that have public peering configured, will receive route advertisements from Microsoft for a large set of Microsoft Azure IP address ranges.</span></span>  <span data-ttu-id="cf523-152">Si estos intervalos de direcciones entre anunciados en la ruta de intercambio de tráfico privado hello, obteniéndose hello es que todos los paquetes de red saliente de la subred del entorno del servicio de aplicación Hola será la infraestructura de red local del cliente de túnel forzado tooa.</span><span class="sxs-lookup"><span data-stu-id="cf523-152">If these address ranges are cross-advertised on hello private peering path, hello end result is that all outbound network packets from hello App Service Environment's subnet will be force-tunneled tooa customer's on-premises network infrastructure.</span></span>  <span data-ttu-id="cf523-153">Actualmente, este flujo de red no es compatible con las instancias de App Service Environment.</span><span class="sxs-lookup"><span data-stu-id="cf523-153">This network flow is currently not supported with App Service Environments.</span></span>  <span data-ttu-id="cf523-154">Un problema de toothis de solución es rutas de toostop entre anuncios de Hola pública emparejamiento toohello privada emparejamiento ruta de acceso.</span><span class="sxs-lookup"><span data-stu-id="cf523-154">One solution toothis problem is toostop cross-advertising routes from hello public peering path toohello private peering path.</span></span>
> 
> 

<span data-ttu-id="cf523-155">Se puede encontrar información de contexto sobre las rutas definidas por el usuario en esta [información general][UDROverview].</span><span class="sxs-lookup"><span data-stu-id="cf523-155">Background information on user defined routes is available in this [overview][UDROverview].</span></span>  

<span data-ttu-id="cf523-156">Obtener más información sobre cómo crear y configurar las rutas definidas por el usuario está disponible en este [cómo tooGuide][UDRHowTo].</span><span class="sxs-lookup"><span data-stu-id="cf523-156">Details on creating and configuring user defined routes is available in this [How tooGuide][UDRHowTo].</span></span>

## <a name="example-udr-configuration-for-an-app-service-environment"></a><span data-ttu-id="cf523-157">Ejemplo de configuración de rutas definidas por el usuario para un entorno del Servicio de aplicaciones</span><span class="sxs-lookup"><span data-stu-id="cf523-157">Example UDR Configuration for an App Service Environment</span></span>
<span data-ttu-id="cf523-158">**Requisitos previos**</span><span class="sxs-lookup"><span data-stu-id="cf523-158">**Pre-requisites**</span></span>

1. <span data-ttu-id="cf523-159">Instalar Azure Powershell de hello [página de descargas de Azure] [ AzureDownloads] (con fecha de junio de 2015 o versiones posterior).</span><span class="sxs-lookup"><span data-stu-id="cf523-159">Install Azure Powershell from hello [Azure Downloads page][AzureDownloads] (dated June 2015 or later).</span></span>  <span data-ttu-id="cf523-160">En "Herramientas de línea de comandos" hay un vínculo de "Instalar" en "Windows Powershell" que va a instalar los cmdlets de Powershell más recientes de Hola.</span><span class="sxs-lookup"><span data-stu-id="cf523-160">Under "Command-line tools" there is an "Install" link under "Windows Powershell" that will install hello latest Powershell cmdlets.</span></span>
2. <span data-ttu-id="cf523-161">Se recomienda crear una única subred para que el entorno del Servicio de aplicaciones lo utilice de manera exclusiva.</span><span class="sxs-lookup"><span data-stu-id="cf523-161">It is recommended that a unique subnet is created for exclusive use by an App Service Environment.</span></span>  <span data-ttu-id="cf523-162">Esto garantiza que esa subred de hello UDRs aplicadas toohello solo abrirá el tráfico saliente para el entorno del servicio de aplicación Hola.</span><span class="sxs-lookup"><span data-stu-id="cf523-162">This ensures that hello UDRs applied toohello subnet will only open outbound traffic for hello App Service Environment.</span></span>
3. <span data-ttu-id="cf523-163">**Importante**: no implemente Hola entono hasta **después** se siguen los siguientes pasos de configuración de Hola.</span><span class="sxs-lookup"><span data-stu-id="cf523-163">**Important**:  do not deploy hello App Service Environment until **after** hello following configuration steps are followed.</span></span>  <span data-ttu-id="cf523-164">Esto garantiza que la conectividad de red saliente está disponible antes de intentar toodeploy un entorno de servicio de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="cf523-164">This ensures that outbound network connectivity is available before attempting toodeploy an App Service Environment.</span></span>

<span data-ttu-id="cf523-165">**Paso 1: Crear una tabla de rutas con nombre**</span><span class="sxs-lookup"><span data-stu-id="cf523-165">**Step 1:  Create a named route table**</span></span>

<span data-ttu-id="cf523-166">Hello fragmento de código siguiente crea una tabla de ruta denominada "DirectInternetRouteTable" en la región del Oeste nos Azure hello:</span><span class="sxs-lookup"><span data-stu-id="cf523-166">hello following snippet creates a route table called "DirectInternetRouteTable" in hello West US Azure region:</span></span>

    New-AzureRouteTable -Name 'DirectInternetRouteTable' -Location uswest

<span data-ttu-id="cf523-167">**Paso 2: Crear una o más rutas en la tabla de rutas de Hola**</span><span class="sxs-lookup"><span data-stu-id="cf523-167">**Step 2:  Create one or more routes in hello route table**</span></span>

<span data-ttu-id="cf523-168">Necesitará tooadd uno o más rutas toohello ruta tabla en orden tooenable acceso saliente a Internet.</span><span class="sxs-lookup"><span data-stu-id="cf523-168">You will need tooadd one or more routes toohello route table in order tooenable outbound Internet access.</span></span>  

<span data-ttu-id="cf523-169">Hola recomienda enfoque para configurar toohello de acceso de salida a que Internet es toodefine una ruta para 0.0.0.0/0 como se muestra a continuación.</span><span class="sxs-lookup"><span data-stu-id="cf523-169">hello recommended approach for configuring outbound access toohello Internet is toodefine a route for 0.0.0.0/0 as shown below.</span></span>

    Get-AzureRouteTable -Name 'DirectInternetRouteTable' | Set-AzureRoute -RouteName 'Direct Internet Range 0' -AddressPrefix 0.0.0.0/0 -NextHopType Internet

<span data-ttu-id="cf523-170">Recuerde que 0.0.0.0/0 es un intervalo de direcciones amplia y como tales serán reemplazadas por intervalos de direcciones más específicos anunciados hello ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="cf523-170">Remember that 0.0.0.0/0 is a broad address range, and as such will be overridden by more specific address ranges advertised by hello ExpressRoute.</span></span>  <span data-ttu-id="cf523-171">toore-iterar Hola recomendación anterior, un UDR con una ruta 0.0.0.0/0 debe usarse junto con una configuración de ExressRoute que solamente se publicita 0.0.0.0/0 también.</span><span class="sxs-lookup"><span data-stu-id="cf523-171">toore-iterate hello earlier recommendation, a UDR with a 0.0.0.0/0 route should be used in conjunction with an ExressRoute configuration that only advertises 0.0.0.0/0 as well.</span></span> 

<span data-ttu-id="cf523-172">Como alternativa, puede descargar una lista completa y actualizada de intervalos CIDR usados por Azure.</span><span class="sxs-lookup"><span data-stu-id="cf523-172">As an alternative, you can download a comprehensive and updated list of CIDR ranges in use by Azure.</span></span>  <span data-ttu-id="cf523-173">Hello archivo Xml que contiene todos los intervalos de direcciones IP Azure Hola está disponible en hello [Microsoft Download Center][DownloadCenterAddressRanges].</span><span class="sxs-lookup"><span data-stu-id="cf523-173">hello Xml file containing all of hello Azure IP address ranges is available from hello [Microsoft Download Center][DownloadCenterAddressRanges].</span></span>  

<span data-ttu-id="cf523-174">Tenga en cuenta sin embargo que estos intervalos se cambian con el tiempo, por lo que hace actualizaciones manuales periódicas toohello definido por el usuario tookeep rutas sincronizados.  Además, dado que no hay valor predeterminado es superior toofit dentro de límite de la ruta de hello 100 intervalos de límite de 100 rutas en un único UDR, necesita demasiado "resumirá" dirección de IP de Azure de hello, teniendo en cuenta que UDR rutas definidas necesitan toobe más específico que las rutas de Hola que anuncia su ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="cf523-174">Note though that these ranges change over time, thus necessitating periodic manual updates toohello user defined routes tookeep in sync.  Also, since there is a default upper limit of 100 routes in a single UDR, you will need too"summarize" hello Azure IP address ranges toofit within hello 100 route limit, keeping in mind that UDR defined routes need toobe more specific than hello routes advertised by your ExpressRoute.</span></span>  

<span data-ttu-id="cf523-175">**Paso 3: Asociar Hola ruta tabla toohello subred contenedor Hola entorno del servicio de aplicaciones**</span><span class="sxs-lookup"><span data-stu-id="cf523-175">**Step 3:  Associate hello route table toohello subnet containing hello App Service Environment**</span></span>

<span data-ttu-id="cf523-176">Hola último paso de configuración es subred toohello de tooassociate Hola ruta tabla donde se implementará Hola entorno del servicio de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="cf523-176">hello last  configuration step is tooassociate hello route table toohello subnet where hello App Service Environment will be deployed.</span></span>  <span data-ttu-id="cf523-177">Hello siguiente comando asocia toohello de "DirectInternetRouteTable" hello "ASESubnet" que finalmente contendrá un entorno de servicio de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="cf523-177">hello following command associates hello "DirectInternetRouteTable" toohello "ASESubnet" that will eventually contain an App Service Environment.</span></span>

    Set-AzureSubnetRouteTable -VirtualNetworkName 'YourVirtualNetworkNameHere' -SubnetName 'ASESubnet' -RouteTableName 'DirectInternetRouteTable'


<span data-ttu-id="cf523-178">**Paso 4: Pasos finales**</span><span class="sxs-lookup"><span data-stu-id="cf523-178">**Step 4:  Final Steps**</span></span>

<span data-ttu-id="cf523-179">Una vez que una tabla de rutas Hola subred toohello enlazado, se recomienda toofirst prueba y confirmar Hola pensado efecto.</span><span class="sxs-lookup"><span data-stu-id="cf523-179">Once hello route table is bound toohello subnet, it is recommended toofirst test and confirm hello intended effect.</span></span>  <span data-ttu-id="cf523-180">Por ejemplo, implementar una máquina virtual en la subred de Hola y confirme que:</span><span class="sxs-lookup"><span data-stu-id="cf523-180">For example, deploy a virtual machine into hello subnet and confirm that:</span></span>

* <span data-ttu-id="cf523-181">El tráfico saliente tooboth Azure y extremos de Azure no se ha mencionado anteriormente en este artículo es **no** que fluyen hacia abajo Hola circuito de ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="cf523-181">Outbound traffic tooboth Azure and non-Azure endpoints mentioned earlier in this article is **not** flowing down hello ExpressRoute circuit.</span></span>  <span data-ttu-id="cf523-182">Es muy importante tooverify este comportamiento, ya que si el tráfico saliente de la subred de hello es todavía verse obligado túnel local, la creación del entorno de servicio de aplicación le siempre producirá un error.</span><span class="sxs-lookup"><span data-stu-id="cf523-182">It is very important tooverify this behavior, since if outbound traffic from hello subnet is still being forced tunneled on-premises, App Service Environment creation will always fail.</span></span> 
* <span data-ttu-id="cf523-183">Las búsquedas DNS para los extremos de hello mencionadas anteriormente son todos resolver correctamente.</span><span class="sxs-lookup"><span data-stu-id="cf523-183">DNS lookups for hello endpoints mentioned earlier are all resolving properly.</span></span> 

<span data-ttu-id="cf523-184">Una vez que se confirman Hola por encima de los pasos, deberá toodelete Hola virtual machine porque subred Hola necesita toobe "vacío" en Hola Hola de tiempo que se crea el entorno del servicio de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="cf523-184">Once hello above steps are confirmed, you will need toodelete hello virtual machine because hello subnet needs toobe "empty" at hello time hello App Service Environment is created.</span></span>

<span data-ttu-id="cf523-185">Ahora, ya puede continuar con la creación de un entorno del Servicio de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="cf523-185">Then proceed with creating an App Service Environment!</span></span>

## <a name="getting-started"></a><span data-ttu-id="cf523-186">Introducción</span><span class="sxs-lookup"><span data-stu-id="cf523-186">Getting started</span></span>
<span data-ttu-id="cf523-187">Todos los artículos y cómo-para para entornos del servicio de aplicación están disponibles en hello [archivo Léame para entornos de aplicaciones de servicio](../app-service/app-service-app-service-environments-readme.md).</span><span class="sxs-lookup"><span data-stu-id="cf523-187">All articles and How-To's for App Service Environments are available in hello [README for Application Service Environments](../app-service/app-service-app-service-environments-readme.md).</span></span>

<span data-ttu-id="cf523-188">tooget iniciado con el entorno de servicio de aplicación, consulte [Introducción tooApp entorno del servicio][IntroToAppServiceEnvironment]</span><span class="sxs-lookup"><span data-stu-id="cf523-188">tooget started with App Service Environments, see [Introduction tooApp Service Environment][IntroToAppServiceEnvironment]</span></span>

<span data-ttu-id="cf523-189">Para obtener más información acerca de la plataforma de servicio de aplicaciones de Azure de hello, consulte [servicio de aplicaciones de Azure][AzureAppService].</span><span class="sxs-lookup"><span data-stu-id="cf523-189">For more information about hello Azure App Service platform, see [Azure App Service][AzureAppService].</span></span>

<!-- LINKS -->
[virtualnetwork]: http://azure.microsoft.com/services/virtual-network/
[ExpressRoute]: http://azure.microsoft.com/services/expressroute/
[requiredports]: http://azure.microsoft.com/documentation/articles/app-service-app-service-environment-control-inbound-traffic/
[NetworkSecurityGroups]: http://azure.microsoft.com/documentation/articles/virtual-networks-nsg/
[UDROverview]: http://azure.microsoft.com/documentation/articles/virtual-networks-udr-overview/
[UDRHowTo]: http://azure.microsoft.com/documentation/articles/virtual-networks-udr-how-to/
[HowToCreateAnAppServiceEnvironment]: http://azure.microsoft.com/documentation/articles/app-service-web-how-to-create-an-app-service-environment/
[AzureDownloads]: http://azure.microsoft.com/en-us/downloads/ 
[DownloadCenterAddressRanges]: http://www.microsoft.com/download/details.aspx?id=41653  
[NetworkSecurityGroups]: https://azure.microsoft.com/documentation/articles/virtual-networks-nsg/
[AzureAppService]: http://azure.microsoft.com/documentation/articles/app-service-value-prop-what-is/
[IntroToAppServiceEnvironment]:  http://azure.microsoft.com/documentation/articles/app-service-app-service-environment-intro/
[NewPortal]:  https://portal.azure.com


<!-- IMAGES -->
