---
title: "Guía de solución de problemas para las aplicaciones del nodo en aplicaciones Web de Azure y los procedimientos recomendados de aaaBest"
description: "Obtenga información acerca de prácticas recomendadas de Hola y pasos para solucionar problemas de aplicaciones de nodo en aplicaciones Web de Azure."
services: app-service\web
documentationcenter: nodejs
author: ranjithr
manager: wadeh
editor: 
ms.assetid: 387ea217-7910-4468-8987-9a1022a99bef
ms.service: app-service-web
ms.workload: web
ms.tgt_pltfrm: na
ms.devlang: nodejs
ms.topic: article
ms.date: 06/06/2016
ms.author: ranjithr
ms.openlocfilehash: 975898142a224f14df1091a46d16e9074d9e2831
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="best-practices-and-troubleshooting-guide-for-node-applications-on-azure-web-apps"></a><span data-ttu-id="3c936-103">Guía de procedimientos recomendados y solución de problemas para aplicaciones Node en Aplicaciones web de Azure</span><span class="sxs-lookup"><span data-stu-id="3c936-103">Best practices and troubleshooting guide for node applications on Azure Web Apps</span></span>
[!INCLUDE [tabs](../../includes/app-service-web-get-started-nav-tabs.md)]

<span data-ttu-id="3c936-104">En este artículo, obtendrá información sobre prácticas recomendadas de Hola y pasos para solucionar problemas [aplicaciones node](app-service-web-get-started-nodejs.md) con aplicaciones Web de Azure (con [iisnode](https://github.com/azure/iisnode)).</span><span class="sxs-lookup"><span data-stu-id="3c936-104">In this article, you will learn hello best practices and troubleshooting steps for [node applications](app-service-web-get-started-nodejs.md) running on Azure Webapps (with [iisnode](https://github.com/azure/iisnode)).</span></span>

> [!WARNING]
> <span data-ttu-id="3c936-105">Tenga cuidado cuando aplique los pasos para solucionar problemas en el sitio de producción.</span><span class="sxs-lookup"><span data-stu-id="3c936-105">Use caution when using troubleshooting steps on your production site.</span></span> <span data-ttu-id="3c936-106">La recomendación es tootroubleshoot la aplicación en un elemento que no sea de producción como configurar la zona de ensayo y cuando se soluciona el problema de hello, intercambiar la ranura de ensayo con la ranura de producción.</span><span class="sxs-lookup"><span data-stu-id="3c936-106">Recommendation is tootroubleshoot your app on a non-production setup for example your staging slot and when hello issue is fixed, swap your staging slot with your production slot.</span></span>
> 
> 

## <a name="iisnode-configuration"></a><span data-ttu-id="3c936-107">Configuración de IISNODE</span><span class="sxs-lookup"><span data-stu-id="3c936-107">IISNODE configuration</span></span>
<span data-ttu-id="3c936-108">Esto [archivo de esquema](https://github.com/Azure/iisnode/blob/master/src/config/iisnode_schema_x64.xml) muestra todas las configuraciones de Hola que pueden configurarse para iisnode.</span><span class="sxs-lookup"><span data-stu-id="3c936-108">This [schema file](https://github.com/Azure/iisnode/blob/master/src/config/iisnode_schema_x64.xml) shows all hello settings that can be configured for iisnode.</span></span> <span data-ttu-id="3c936-109">Algunos de los valores de hello que le serán útiles para la aplicación son:</span><span class="sxs-lookup"><span data-stu-id="3c936-109">Some of hello settings that will be useful for your application are:</span></span>

* <span data-ttu-id="3c936-110">nodeProcessCountPerApplication</span><span class="sxs-lookup"><span data-stu-id="3c936-110">nodeProcessCountPerApplication</span></span>
  
    <span data-ttu-id="3c936-111">Este parámetro controla el número de Hola de procesos de nodo que se inician por cada aplicación de IIS.</span><span class="sxs-lookup"><span data-stu-id="3c936-111">This setting controls hello number of node processes that are launched per IIS application.</span></span> <span data-ttu-id="3c936-112">El valor predeterminado es 1.</span><span class="sxs-lookup"><span data-stu-id="3c936-112">Default value is 1.</span></span> <span data-ttu-id="3c936-113">Puede iniciar tantos node.exe como el recuento de núcleos VM estableciendo este too0.</span><span class="sxs-lookup"><span data-stu-id="3c936-113">You can launch as many node.exe’s as your VM core count by setting this too0.</span></span> <span data-ttu-id="3c936-114">Valor recomendado es 0 para la mayoría de aplicaciones para que pueda utilizar todos los núcleos de hello en su equipo.</span><span class="sxs-lookup"><span data-stu-id="3c936-114">Recommended value is 0 for most application so you can utilize all of hello cores on your machine.</span></span> <span data-ttu-id="3c936-115">Node.exe es un único subproceso por lo que un node.exe consumirá un máximo de 1 núcleo y tooget máximo rendimiento de la aplicación de nodo desearía tooutilize todos los núcleos.</span><span class="sxs-lookup"><span data-stu-id="3c936-115">Node.exe is single threaded so one node.exe will consume a maximum of 1 core and tooget maximum performance out of your node application you would want tooutilize all cores.</span></span>
* <span data-ttu-id="3c936-116">nodeProcessCommandLine</span><span class="sxs-lookup"><span data-stu-id="3c936-116">nodeProcessCommandLine</span></span>
  
    <span data-ttu-id="3c936-117">Esta configuración controla Hola ruta de acceso toohello node.exe.</span><span class="sxs-lookup"><span data-stu-id="3c936-117">This setting controls hello path toohello node.exe.</span></span> <span data-ttu-id="3c936-118">Puede establecer esta versión de valor toopoint tooyour node.exe.</span><span class="sxs-lookup"><span data-stu-id="3c936-118">You can set this value toopoint tooyour node.exe version.</span></span>
* <span data-ttu-id="3c936-119">maxConcurrentRequestsPerProcess</span><span class="sxs-lookup"><span data-stu-id="3c936-119">maxConcurrentRequestsPerProcess</span></span>
  
    <span data-ttu-id="3c936-120">Este parámetro controla el número máximo de Hola de solicitudes simultáneas enviadas por iisnode tooeach node.exe.</span><span class="sxs-lookup"><span data-stu-id="3c936-120">This setting controls hello maximum number of concurrent requests sent by iisnode tooeach node.exe.</span></span> <span data-ttu-id="3c936-121">En aplicaciones Web azure, Hola valor predeterminado es Infinite.</span><span class="sxs-lookup"><span data-stu-id="3c936-121">On azure webapps, hello default value for this is Infinite.</span></span> <span data-ttu-id="3c936-122">No tendrá tooworry sobre esta configuración.</span><span class="sxs-lookup"><span data-stu-id="3c936-122">You will not have tooworry about this setting.</span></span> <span data-ttu-id="3c936-123">Fuera de azure de aplicaciones Web, el valor predeterminado de hello es 1024.</span><span class="sxs-lookup"><span data-stu-id="3c936-123">Outside azure webapps, hello default value is 1024.</span></span> <span data-ttu-id="3c936-124">Puede que desee tooconfigure dependiendo de cuántas solicitudes de la aplicación de esta forma obtiene y rapidez su aplicación procesa cada solicitud.</span><span class="sxs-lookup"><span data-stu-id="3c936-124">You might want tooconfigure this depending on how many requests your application gets and how fast your application processes each request.</span></span>
* <span data-ttu-id="3c936-125">maxNamedPipeConnectionRetry</span><span class="sxs-lookup"><span data-stu-id="3c936-125">maxNamedPipeConnectionRetry</span></span>
  
    <span data-ttu-id="3c936-126">Esta configuración controla el número máximo de Hola de veces iisnode volverá a intentar realizar conexión en hello con el nombre de solicitud de canalización toosend Hola sobre toonode.exe.</span><span class="sxs-lookup"><span data-stu-id="3c936-126">This setting controls hello maximum number of times iisnode will retry making connection on hello named pipe toosend hello request over toonode.exe.</span></span> <span data-ttu-id="3c936-127">Esta configuración en combinación con namedPipeConnectionRetryDelay determina Hola tiempo de espera total de cada solicitud dentro de iisnode.</span><span class="sxs-lookup"><span data-stu-id="3c936-127">This setting in combination with namedPipeConnectionRetryDelay determines hello total timeout of each request within iisnode.</span></span> <span data-ttu-id="3c936-128">El valor predeterminado es 200 en Aplicaciones web de Azure.</span><span class="sxs-lookup"><span data-stu-id="3c936-128">Default value is 200 on Azure Webapps.</span></span> <span data-ttu-id="3c936-129">Tiempo de espera total en segundos = (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000</span><span class="sxs-lookup"><span data-stu-id="3c936-129">Total Timeout in seconds = (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000</span></span>
* <span data-ttu-id="3c936-130">namedPipeConnectionRetryDelay</span><span class="sxs-lookup"><span data-stu-id="3c936-130">namedPipeConnectionRetryDelay</span></span>
  
    <span data-ttu-id="3c936-131">Esta cantidad de Hola de controles de configuración de iisnode de tiempo (en milisegundos) que esperará entre cada reintento toosend solicitud toonode.exe sobre Hola canalización con nombre.</span><span class="sxs-lookup"><span data-stu-id="3c936-131">This setting controls hello amount of time (in ms) iisnode will wait for between each retry toosend request toonode.exe over hello named pipe.</span></span> <span data-ttu-id="3c936-132">El valor predeterminado es 250 ms.</span><span class="sxs-lookup"><span data-stu-id="3c936-132">Default value is 250ms.</span></span>
    <span data-ttu-id="3c936-133">Tiempo de espera total en segundos = (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000</span><span class="sxs-lookup"><span data-stu-id="3c936-133">Total Timeout in seconds = (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000</span></span>
  
    <span data-ttu-id="3c936-134">De forma predeterminada un tiempo de espera total de hello en iisnode en aplicaciones Web de azure es 200 \* 250ms = 50 segundos.</span><span class="sxs-lookup"><span data-stu-id="3c936-134">By default hello total timeout in iisnode on azure webapps is 200 \* 250ms = 50 seconds.</span></span>
* <span data-ttu-id="3c936-135">logDirectory</span><span class="sxs-lookup"><span data-stu-id="3c936-135">logDirectory</span></span>
  
    <span data-ttu-id="3c936-136">Esta configuración controla directory Hola donde iisnode registrará stdout y stderr.</span><span class="sxs-lookup"><span data-stu-id="3c936-136">This setting controls hello directory where iisnode will log stdout/stderr.</span></span> <span data-ttu-id="3c936-137">Valor predeterminado es iisnode, que es relativa toohello script principal directorio (donde server.js principal está presente)</span><span class="sxs-lookup"><span data-stu-id="3c936-137">Default value is iisnode which is relative toohello main script directory (directory where main server.js is present)</span></span>
* <span data-ttu-id="3c936-138">debuggerExtensionDll</span><span class="sxs-lookup"><span data-stu-id="3c936-138">debuggerExtensionDll</span></span>
  
    <span data-ttu-id="3c936-139">Esta configuración controla la versión de node-inspector que iisnode usará para depurar su aplicación Node.</span><span class="sxs-lookup"><span data-stu-id="3c936-139">This setting controls what version of node-inspector iisnode will use when debugging your node application.</span></span> <span data-ttu-id="3c936-140">Actualmente 0.7.3.dll de inspector de iisnode y iisnode inspector.dll Hola solo 2 valores son válidos para esta configuración.</span><span class="sxs-lookup"><span data-stu-id="3c936-140">Currently iisnode-inspector-0.7.3.dll and iisnode-inspector.dll are hello only 2 valid values for this setting.</span></span> <span data-ttu-id="3c936-141">El valor predeterminado es iisnode-inspector-0.7.3.dll.</span><span class="sxs-lookup"><span data-stu-id="3c936-141">Default value is iisnode-inspector-0.7.3.dll.</span></span> <span data-ttu-id="3c936-142">versión de inspector de iisnode de 0.7.3.dll utiliza 0.7.3 de inspector de nodo y websockets, por lo que deberá tooenable websockets en su toouse webapp azure esta versión.</span><span class="sxs-lookup"><span data-stu-id="3c936-142">iisnode-inspector-0.7.3.dll version uses node-inspector-0.7.3 and uses websockets, so you will need tooenable websockets on your azure webapp toouse this version.</span></span> <span data-ttu-id="3c936-143">Vea <http://www.ranjithr.com/?p=98> para obtener más detalles sobre cómo tooconfigure iisnode toouse Hola inspector de nodo nuevo.</span><span class="sxs-lookup"><span data-stu-id="3c936-143">See <http://www.ranjithr.com/?p=98> for more details on how tooconfigure iisnode toouse hello new node-inspector.</span></span>
* <span data-ttu-id="3c936-144">flushResponse</span><span class="sxs-lookup"><span data-stu-id="3c936-144">flushResponse</span></span>
  
    <span data-ttu-id="3c936-145">comportamiento de saludo predeterminado de IIS es que almacena en búfer los datos de respuesta seguridad too4MB antes del vaciado, o hasta el final de Hola de respuesta de hello, lo que ocurra primero.</span><span class="sxs-lookup"><span data-stu-id="3c936-145">hello default behavior of IIS is that it buffers response data up too4MB before flushing, or until hello end of hello response, whichever comes first.</span></span> <span data-ttu-id="3c936-146">iisnode ofrece una configuración de establecer este comportamiento de toooverride: tooflush un fragmento Hola entidad del cuerpo de respuesta en cuanto iisnode lo recibe de node.exe, deberá tooset hello iisnode/@flushResponse atributo en web.config too'true':</span><span class="sxs-lookup"><span data-stu-id="3c936-146">iisnode offers a configuration setting toooverride this behavior: tooflush a fragment of hello response entity body as soon as iisnode receives it from node.exe, you need tooset hello iisnode/@flushResponse attribute in web.config too'true':</span></span>
  
    ```
    <configuration>    
        <system.webServer>    
            <!-- ... -->    
            <iisnode flushResponse="true" />    
        </system.webServer>    
    </configuration>
    ```
  
    <span data-ttu-id="3c936-147">Si se habilita el vaciado de cada fragmento Hola entidad del cuerpo de respuesta agrega sobrecarga de rendimiento que reduce el rendimiento del sistema de Hola Hola % ~ 5 (a partir de v0.1.13), por lo que es mejor tooscope esta tooendpoints solo de configuración que requieren la respuesta de transmisión por secuencias (por ejemplo, mediante Hola <location> elemento en el archivo web.config de hello)</span><span class="sxs-lookup"><span data-stu-id="3c936-147">Enabling flushing of every fragment of hello response entity body adds performance overhead that reduces hello throughput of hello system by ~5% (as of v0.1.13), so it is best tooscope this setting only tooendpoints that require response streaming (e.g. using hello <location> element in hello web.config)</span></span>
  
    <span data-ttu-id="3c936-148">En suma toothis, para la transmisión por secuencias de las aplicaciones, deberá tooalso conjunto responseBufferLimit de su too0 de controlador de iisnode.</span><span class="sxs-lookup"><span data-stu-id="3c936-148">In addition toothis, for streaming applications, you will need tooalso set responseBufferLimit of your iisnode handler too0.</span></span>
  
    ```
    <handlers>    
        <add name="iisnode" path="app.js" verb="\*" modules="iisnode" responseBufferLimit="0"/>    
    </handlers>
    ```
* <span data-ttu-id="3c936-149">watchedFiles</span><span class="sxs-lookup"><span data-stu-id="3c936-149">watchedFiles</span></span>
  
    <span data-ttu-id="3c936-150">Se trata de una lista de archivos separados por punto y coma que se inspeccionarán para ver si hay cambios.</span><span class="sxs-lookup"><span data-stu-id="3c936-150">This is a semi-colon separated list of files that will be watched for changes.</span></span> <span data-ttu-id="3c936-151">Un archivo de tooa de cambio provoca toorecycle de aplicación Hola.</span><span class="sxs-lookup"><span data-stu-id="3c936-151">A change tooa file causes hello application toorecycle.</span></span> <span data-ttu-id="3c936-152">Cada entrada consta de un nombre de directorio opcional más el nombre de archivo necesario que son toohello relativa el directorio donde se encuentra punto de entrada de la aplicación principal de Hola.</span><span class="sxs-lookup"><span data-stu-id="3c936-152">Each entry consists of an optional directory name plus required file name which are relative toohello directory where hello main application entry point is located.</span></span> <span data-ttu-id="3c936-153">En la parte de nombre de archivo de hello solo se permiten comodines.</span><span class="sxs-lookup"><span data-stu-id="3c936-153">Wild cards are allowed in hello file name portion only.</span></span> <span data-ttu-id="3c936-154">El valor predeterminado es "\*.js;web.config"</span><span class="sxs-lookup"><span data-stu-id="3c936-154">Default value is “\*.js;web.config”</span></span>
* <span data-ttu-id="3c936-155">recycleSignalEnabled</span><span class="sxs-lookup"><span data-stu-id="3c936-155">recycleSignalEnabled</span></span>
  
    <span data-ttu-id="3c936-156">El valor predeterminado es False.</span><span class="sxs-lookup"><span data-stu-id="3c936-156">Default value is false.</span></span> <span data-ttu-id="3c936-157">Si está habilitada, la aplicación de nodo puede conectarse tooa canalización con nombre (variable de entorno IISNODE\_CONTROL\_canalización) y enviar un mensaje de "reciclaje".</span><span class="sxs-lookup"><span data-stu-id="3c936-157">If enabled, your node application can connect tooa named pipe (environment variable IISNODE\_CONTROL\_PIPE) and send a “recycle” message.</span></span> <span data-ttu-id="3c936-158">Esto hará que Hola w3wp toorecycle correctamente.</span><span class="sxs-lookup"><span data-stu-id="3c936-158">This will cause hello w3wp toorecycle gracefully.</span></span>
* <span data-ttu-id="3c936-159">idlePageOutTimePeriod</span><span class="sxs-lookup"><span data-stu-id="3c936-159">idlePageOutTimePeriod</span></span>
  
    <span data-ttu-id="3c936-160">El valor predeterminado es 0, lo que significa que esta característica está deshabilitada.</span><span class="sxs-lookup"><span data-stu-id="3c936-160">Default value is 0 which means this feature is disabled.</span></span> <span data-ttu-id="3c936-161">Cuando establezca el valor de la toosome es mayor que 0, iisnode paginará out todos sus secundarios, procesa cada milisegundos 'idlePageOutTimePeriod'.</span><span class="sxs-lookup"><span data-stu-id="3c936-161">When set toosome value greater than 0, iisnode will page out all its child processes every ‘idlePageOutTimePeriod’ milliseconds.</span></span> <span data-ttu-id="3c936-162">toounderstand lo que paginar significa, consulte toothis [documentación](https://msdn.microsoft.com/library/windows/desktop/ms682606.aspx).</span><span class="sxs-lookup"><span data-stu-id="3c936-162">toounderstand what page out means, please refer toothis [documentation](https://msdn.microsoft.com/library/windows/desktop/ms682606.aspx).</span></span> <span data-ttu-id="3c936-163">Esta configuración será útil para las aplicaciones que consumen una gran cantidad de memoria y desea toopageout memoria toodisk ocasionalmente toofree algunos RAM.</span><span class="sxs-lookup"><span data-stu-id="3c936-163">This setting will be useful for applications that consume a lot of memory and want toopageout memory toodisk occasionally toofree up some RAM.</span></span>

> [!WARNING]
> <span data-ttu-id="3c936-164">Tenga cuidado al habilitar las siguientes opciones de configuración en las aplicaciones de producción de hello.</span><span class="sxs-lookup"><span data-stu-id="3c936-164">Use caution when enabling hello following configuration settings on production applications.</span></span> <span data-ttu-id="3c936-165">La recomendación es toonot habilitarlas en las aplicaciones de producción en vivo.</span><span class="sxs-lookup"><span data-stu-id="3c936-165">Recommendation is toonot enable them on live production applications.</span></span>
> 
> 

* <span data-ttu-id="3c936-166">debugHeaderEnabled</span><span class="sxs-lookup"><span data-stu-id="3c936-166">debugHeaderEnabled</span></span>
  
    <span data-ttu-id="3c936-167">valor predeterminado de Hello es false.</span><span class="sxs-lookup"><span data-stu-id="3c936-167">hello default value is false.</span></span> <span data-ttu-id="3c936-168">Si establece tootrue, iisnode agregará una HTTP encabezado iisnode-debug tooevery HTTP respuesta envía el valor del encabezado de depuración iisnode hello es una dirección URL.</span><span class="sxs-lookup"><span data-stu-id="3c936-168">If set tootrue, iisnode will add an HTTP response header iisnode-debug tooevery HTTP response it sends hello iisnode-debug header value is a URL.</span></span> <span data-ttu-id="3c936-169">Las piezas individuales de información de diagnóstico se pueden deducir examinando el fragmento de dirección URL de Hola, pero se consigue una mejor visualización abriendo dirección URL de hello en el Explorador de Hola.</span><span class="sxs-lookup"><span data-stu-id="3c936-169">Individual pieces of diagnostic information can be gleaned by looking at hello URL fragment, but a much better visualization is achieved by opening hello URL in hello browser.</span></span>
* <span data-ttu-id="3c936-170">loggingEnabled</span><span class="sxs-lookup"><span data-stu-id="3c936-170">loggingEnabled</span></span>
  
    <span data-ttu-id="3c936-171">Esta configuración controla el registro de hello de stdout y stderr iisnode.</span><span class="sxs-lookup"><span data-stu-id="3c936-171">This setting controls hello logging of stdout and stderr by iisnode.</span></span> <span data-ttu-id="3c936-172">Iisnode capturará stdout y stderr desde procesos de nodo que inicia y escribir directory toohello especificado en el valor de 'logDirectory' hello.</span><span class="sxs-lookup"><span data-stu-id="3c936-172">Iisnode will capture stdout/stderr from node processes it launches and write toohello directory specified in hello ‘logDirectory’ setting.</span></span> <span data-ttu-id="3c936-173">Una vez que esto está habilitado, la aplicación va a escribir registros toohello filesystem y según la cantidad Hola de registro realizado aplicación hello, podría haber implicaciones de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="3c936-173">Once this is enable, your application will be writing logs toohello file system and depending on hello amount of logging done by hello application, there could be performance implications.</span></span>
* <span data-ttu-id="3c936-174">devErrorsEnabled</span><span class="sxs-lookup"><span data-stu-id="3c936-174">devErrorsEnabled</span></span>
  
    <span data-ttu-id="3c936-175">El valor predeterminado es False.</span><span class="sxs-lookup"><span data-stu-id="3c936-175">Default value is false.</span></span> <span data-ttu-id="3c936-176">Cuando se establece tootrue, iisnode mostrará código de estado HTTP de Hola y código de error Win32 en el explorador.</span><span class="sxs-lookup"><span data-stu-id="3c936-176">When set tootrue, iisnode will display hello HTTP status code and Win32 error code on your browser.</span></span> <span data-ttu-id="3c936-177">código de Hello win32 le resultarán útil en determinados tipos de problemas de depuración.</span><span class="sxs-lookup"><span data-stu-id="3c936-177">hello win32 code will be helpful in debugging certain types of issues.</span></span>
* <span data-ttu-id="3c936-178">debuggingEnabled (no se debe habilitar en el sitio de producción)</span><span class="sxs-lookup"><span data-stu-id="3c936-178">debuggingEnabled (do not enable on live production site)</span></span>
  
    <span data-ttu-id="3c936-179">Esta configuración controla la característica de depuración.</span><span class="sxs-lookup"><span data-stu-id="3c936-179">This setting controls debugging feature.</span></span> <span data-ttu-id="3c936-180">Iisnode está integrado con node-inspector.</span><span class="sxs-lookup"><span data-stu-id="3c936-180">Iisnode is integrated with node-inspector.</span></span> <span data-ttu-id="3c936-181">Si habilita esta configuración, se habilitará la depuración de la aplicación Node.</span><span class="sxs-lookup"><span data-stu-id="3c936-181">By enabling this setting, you enable debugging of your node application.</span></span> <span data-ttu-id="3c936-182">Una vez que esta opción está habilitada, iisnode le diseño Hola inspector de nodo necesarios archivos 'debuggerVirtualDir' directorio de hello primera depuración solicitud tooyour nodo aplicación.</span><span class="sxs-lookup"><span data-stu-id="3c936-182">Once this setting is enabled, iisnode will layout hello necessary node-inspector files in ‘debuggerVirtualDir’ directory on hello first debug request tooyour node application.</span></span> <span data-ttu-id="3c936-183">Puede cargar el inspector de nodo de hello enviando una solicitud toohttp://yoursite/server.js/debug.</span><span class="sxs-lookup"><span data-stu-id="3c936-183">You can load hello node-inspector by sending a request toohttp://yoursite/server.js/debug.</span></span> <span data-ttu-id="3c936-184">Puede controlar el segmento de dirección URL de depuración de hello con valor 'debuggerPathSegment'.</span><span class="sxs-lookup"><span data-stu-id="3c936-184">You can control hello debug URL segment with ‘debuggerPathSegment’ setting.</span></span> <span data-ttu-id="3c936-185">De forma predeterminada, debuggerPathSegment es 'debug'.</span><span class="sxs-lookup"><span data-stu-id="3c936-185">By default debuggerPathSegment=’debug’.</span></span> <span data-ttu-id="3c936-186">Puede establecer este tooa GUID de ejemplo para que resulte más difícil toobe detectado por otros usuarios.</span><span class="sxs-lookup"><span data-stu-id="3c936-186">You can set this tooa GUID for example so that it is more difficult toobe discovered by others.</span></span>
  
    <span data-ttu-id="3c936-187">Consulte este [vínculo](https://tomasz.janczuk.org/2011/11/debug-nodejs-applications-on-windows.html) para más información sobre la depuración.</span><span class="sxs-lookup"><span data-stu-id="3c936-187">Check this [link](https://tomasz.janczuk.org/2011/11/debug-nodejs-applications-on-windows.html) for more details on debugging.</span></span>

## <a name="scenarios-and-recommendationstroubleshooting"></a><span data-ttu-id="3c936-188">Escenarios, recomendaciones y solución de problemas</span><span class="sxs-lookup"><span data-stu-id="3c936-188">Scenarios and recommendations/troubleshooting</span></span>
### <a name="my-node-application-is-making-too-many-outbound-calls"></a><span data-ttu-id="3c936-189">Mi aplicación Node realiza demasiadas llamadas salientes.</span><span class="sxs-lookup"><span data-stu-id="3c936-189">My node application is making too many outbound calls.</span></span>
<span data-ttu-id="3c936-190">Muchas aplicaciones sería aconsejable que las conexiones salientes de toomake como parte de su funcionamiento normal.</span><span class="sxs-lookup"><span data-stu-id="3c936-190">Many applications would want toomake outbound connections as part of their regular operation.</span></span> <span data-ttu-id="3c936-191">Por ejemplo, cuando llega una solicitud, la aplicación de nodo se desea toocontact en otra parte de una API de REST y obtener alguna solicitud de hello tooprocess de información.</span><span class="sxs-lookup"><span data-stu-id="3c936-191">For example, when a request comes in, your node app would want toocontact a REST API elsewhere and get some information tooprocess hello request.</span></span> <span data-ttu-id="3c936-192">Desearía toouse un agente de mantenimiento de conexión de mantener al realizar llamadas http o https.</span><span class="sxs-lookup"><span data-stu-id="3c936-192">You would want toouse a keep alive agent when making http or https calls.</span></span> <span data-ttu-id="3c936-193">Por ejemplo, podría utilizar módulo agentkeepalive de hello como el agente de mantenimiento de conexión de mantener al realizar estas llamadas salientes.</span><span class="sxs-lookup"><span data-stu-id="3c936-193">For example, you could use hello agentkeepalive module as your keep alive agent when making these outbound calls.</span></span> <span data-ttu-id="3c936-194">Esto garantiza que se vuelven a utilizar sockets de hello en su webapp de azure VM y reducir sobrecarga Hola de creación de nuevos sockets para cada solicitud saliente.</span><span class="sxs-lookup"><span data-stu-id="3c936-194">This makes sure that hello sockets are reused on your azure webapp VM and reducing hello overhead of creating new sockets for every outbound request.</span></span> <span data-ttu-id="3c936-195">Además, esto garantiza que está usando un número menor de toomake sockets que muchas solicitudes salientes y, por tanto, no superar maxSockets Hola que se asignan por máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="3c936-195">Also, this makes sure that you are using less number of sockets toomake many outbound requests and therefore you don’t exceed hello maxSockets that are allocated per VM.</span></span> <span data-ttu-id="3c936-196">Recomendación de aplicaciones Web de Azure sería tooset hello agentKeepAlive maxSockets valor total de tooa de 160 sockets por máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="3c936-196">Recommendation on Azure Webapps would be tooset hello agentKeepAlive maxSockets value tooa total of 160 sockets per VM.</span></span> <span data-ttu-id="3c936-197">Esto significa que si tiene 4 node.exe con hello VM, sería conveniente tooset hello agentKeepAlive maxSockets too40 por node.exe que es de 160 total por máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="3c936-197">This means that if you have 4 node.exe running on hello VM, you would want tooset hello agentKeepAlive maxSockets too40 per node.exe which is 160 total per VM.</span></span>

<span data-ttu-id="3c936-198">Ejemplo de configuración de [agentKeepALive](https://www.npmjs.com/package/agentkeepalive):</span><span class="sxs-lookup"><span data-stu-id="3c936-198">Example [agentKeepALive](https://www.npmjs.com/package/agentkeepalive) configuration:</span></span>

```
var keepaliveAgent = new Agent({    
    maxSockets: 40,    
    maxFreeSockets: 10,    
    timeout: 60000,    
    keepAliveTimeout: 300000    
});
```

<span data-ttu-id="3c936-199">En este ejemplo se da por supuesto que tiene cuatro procesos node.exe en ejecución en la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="3c936-199">This example assumes you have 4 node.exe running on your VM.</span></span> <span data-ttu-id="3c936-200">Si tiene un número diferente de node.exe con hello VM, tendrá toomodify Hola maxSockets configurar en consecuencia.</span><span class="sxs-lookup"><span data-stu-id="3c936-200">If you have a different number of node.exe running on hello VM, you will have toomodify hello maxSockets setting accordingly.</span></span>

### <a name="my-node-application-is-consuming-too-much-cpu"></a><span data-ttu-id="3c936-201">Mi aplicación Node consume demasiada CPU.</span><span class="sxs-lookup"><span data-stu-id="3c936-201">My node application is consuming too much CPU.</span></span>
<span data-ttu-id="3c936-202">Probablemente recibirá una recomendación de Aplicaciones web de Azure en el portal sobre el elevado consumo de CPU.</span><span class="sxs-lookup"><span data-stu-id="3c936-202">You will probably get a recommendation from Azure Webapps on your portal about high cpu consumption.</span></span> <span data-ttu-id="3c936-203">También puede toowatch de monitores del programa de instalación para determinados [métricas](web-sites-monitor.md).</span><span class="sxs-lookup"><span data-stu-id="3c936-203">You can also setup monitors toowatch for certain [metrics](web-sites-monitor.md).</span></span> <span data-ttu-id="3c936-204">Al comprobar el uso de CPU de hello en hello [panel del Portal de Azure](../application-insights/app-insights-web-monitor-performance.md), compruebe los valores MAX Hola para CPU para no pasar por alto los valores de pico de Hola.</span><span class="sxs-lookup"><span data-stu-id="3c936-204">When checking hello CPU usage on hello [Azure Portal Dashboard](../application-insights/app-insights-web-monitor-performance.md), please check hello MAX values for CPU so you don’t miss out hello peak values.</span></span>
<span data-ttu-id="3c936-205">En casos donde piensa que su aplicación está consumiendo demasiada CPU y no se pueda explicar por qué, deberá tooprofile la aplicación de nodo.</span><span class="sxs-lookup"><span data-stu-id="3c936-205">In cases where you think your application is consuming too much CPU and you cannot explain why, you will need tooprofile your node application.</span></span>

### 
#### <a name="profiling-your-node-application-on-azure-webapps-with-v8-profiler"></a><span data-ttu-id="3c936-206">Generación del perfil de su aplicación Node en Aplicaciones web de Azure con V8-Profiler</span><span class="sxs-lookup"><span data-stu-id="3c936-206">Profiling your node application on azure webapps with V8-Profiler</span></span>
<span data-ttu-id="3c936-207">Por ejemplo, supongamos le permite tener una aplicación del mundo Hola desea tooprofile tal y como se muestra a continuación:</span><span class="sxs-lookup"><span data-stu-id="3c936-207">For example, lets say you have a hello world app that you want tooprofile as shown below:</span></span>

```
var http = require('http');    
function WriteConsoleLog() {    
    for(var i=0;i<99999;++i) {    
        console.log('hello world');    
    }    
}

function HandleRequest() {    
    WriteConsoleLog();    
}

http.createServer(function (req, res) {    
    res.writeHead(200, {'Content-Type': 'text/html'});    
    HandleRequest();    
    res.end('Hello world!');    
}).listen(process.env.PORT);
```

<span data-ttu-id="3c936-208">Vaya tooyour scm sitio https://yoursite.scm.azurewebsites.net/DebugConsole</span><span class="sxs-lookup"><span data-stu-id="3c936-208">Go tooyour scm site https://yoursite.scm.azurewebsites.net/DebugConsole</span></span>

<span data-ttu-id="3c936-209">Verá un símbolo del sistema, como se muestra a continuación.</span><span class="sxs-lookup"><span data-stu-id="3c936-209">You will see a command prompt as shown below.</span></span> <span data-ttu-id="3c936-210">Vaya al directorio /wwwroot del sitio.</span><span class="sxs-lookup"><span data-stu-id="3c936-210">Go into your site/wwwroot directory</span></span>

![](./media/app-service-web-nodejs-best-practices-and-troubleshoot-guide/scm_install_v8.png)

<span data-ttu-id="3c936-211">Ejecutar comandos de Hola "npm instalar el generador de perfiles v8"</span><span class="sxs-lookup"><span data-stu-id="3c936-211">Run hello command “npm install v8-profiler”</span></span>

<span data-ttu-id="3c936-212">Así se deberían instalar v8-profiler en el directorio node\_modules y todas sus dependencias.</span><span class="sxs-lookup"><span data-stu-id="3c936-212">This should install v8-profiler under node\_modules directory and all of its dependencies.</span></span>
<span data-ttu-id="3c936-213">Ahora, edite su tooprofile server.js la aplicación.</span><span class="sxs-lookup"><span data-stu-id="3c936-213">Now, edit your server.js tooprofile your application.</span></span>

```
var http = require('http');    
var profiler = require('v8-profiler');    
var fs = require('fs');

function WriteConsoleLog() {    
    for(var i=0;i<99999;++i) {    
        console.log('hello world');    
    }    
}

function HandleRequest() {    
    profiler.startProfiling('HandleRequest');    
    WriteConsoleLog();    
    fs.writeFileSync('profile.cpuprofile', JSON.stringify(profiler.stopProfiling('HandleRequest')));    
}

http.createServer(function (req, res) {    
    res.writeHead(200, {'Content-Type': 'text/html'});    
    HandleRequest();    
    res.end('Hello world!');    
}).listen(process.env.PORT);
```

<span data-ttu-id="3c936-214">Hola por encima de los cambios se generar perfiles de función de hello WriteConsoleLog y, a continuación, escribir too'profile.cpuprofile de salida del perfil de hello' archivo bajo su wwwroot del sitio.</span><span class="sxs-lookup"><span data-stu-id="3c936-214">hello above changes will profile hello WriteConsoleLog function and then write hello profile output too‘profile.cpuprofile’ file under your site wwwroot.</span></span> <span data-ttu-id="3c936-215">Enviar una solicitud de tooyour de solicitud.</span><span class="sxs-lookup"><span data-stu-id="3c936-215">Send a request tooyour application.</span></span> <span data-ttu-id="3c936-216">Verá que se crea un archivo 'profile.cpuprofile' en el directorio wwwroot del sitio.</span><span class="sxs-lookup"><span data-stu-id="3c936-216">You will see a ‘profile.cpuprofile’ file created under your site wwwroot.</span></span>

![](./media/app-service-web-nodejs-best-practices-and-troubleshoot-guide/scm_profile.cpuprofile.png)

<span data-ttu-id="3c936-217">Descargue este archivo y deberá tooopen este archivo con herramientas de F12 de Chrome.</span><span class="sxs-lookup"><span data-stu-id="3c936-217">Download this file and you will need tooopen this file with Chrome F12 Tools.</span></span> <span data-ttu-id="3c936-218">Visitará F12 en chrome, a continuación, haga clic en "Perfiles de la ficha" Hola.</span><span class="sxs-lookup"><span data-stu-id="3c936-218">Hit F12 on chrome, then click on hello “Profiles Tab”.</span></span> <span data-ttu-id="3c936-219">Haga clic en el botón "Load" (Cargar).</span><span class="sxs-lookup"><span data-stu-id="3c936-219">Click on “Load” Button.</span></span> <span data-ttu-id="3c936-220">Seleccione el archivo profile.cpuprofile que acaba de descargar.</span><span class="sxs-lookup"><span data-stu-id="3c936-220">Select your profile.cpuprofile file that you just downloaded.</span></span> <span data-ttu-id="3c936-221">Haga clic en el perfil de Hola que acaba de cargar.</span><span class="sxs-lookup"><span data-stu-id="3c936-221">Click on hello profile you just loaded.</span></span>

![](./media/app-service-web-nodejs-best-practices-and-troubleshoot-guide/chrome_tools_view.png)

<span data-ttu-id="3c936-222">Verá que el 95% de tiempo de hello utilizó WriteConsoleLog función tal y como se muestra a continuación.</span><span class="sxs-lookup"><span data-stu-id="3c936-222">You will see that 95% of hello time was consumed by WriteConsoleLog function as shown below.</span></span> <span data-ttu-id="3c936-223">También podrá ver los números de línea exacta de Hola y archivos de código fuente que causan el problema de Hola.</span><span class="sxs-lookup"><span data-stu-id="3c936-223">This also shows you hello exact line numbers and source files that cause hello issue.</span></span>

### <a name="my-node-application-is-consuming-too-much-memory"></a><span data-ttu-id="3c936-224">Mi aplicación Node consume demasiada memoria.</span><span class="sxs-lookup"><span data-stu-id="3c936-224">My node application is consuming too much memory.</span></span>
<span data-ttu-id="3c936-225">Probablemente recibirá una recomendación de Aplicaciones web de Azure en el portal sobre el elevado consumo de memoria.</span><span class="sxs-lookup"><span data-stu-id="3c936-225">You will probably get a recommendation from Azure Webapps on your portal about high memory consumption.</span></span> <span data-ttu-id="3c936-226">También puede toowatch de monitores del programa de instalación para determinados [métricas](web-sites-monitor.md).</span><span class="sxs-lookup"><span data-stu-id="3c936-226">You can also setup monitors toowatch for certain [metrics](web-sites-monitor.md).</span></span> <span data-ttu-id="3c936-227">Al comprobar el uso de memoria de hello en hello [panel del Portal de Azure](../application-insights/app-insights-web-monitor-performance.md), compruebe los valores MAX hello para la memoria para no pasar por alto los valores de pico de Hola.</span><span class="sxs-lookup"><span data-stu-id="3c936-227">When checking hello memory usage on hello [Azure Portal Dashboard](../application-insights/app-insights-web-monitor-performance.md), please check hello MAX values for memory so you don’t miss out hello peak values.</span></span>

#### <a name="leak-detection-and-heap-diffing-for-nodejs"></a><span data-ttu-id="3c936-228">Detección de fugas y comparación de montones para node.js</span><span class="sxs-lookup"><span data-stu-id="3c936-228">Leak detection and Heap Diffing for node.js</span></span>
<span data-ttu-id="3c936-229">Puede usar [memwatch nodo](https://github.com/lloyd/node-memwatch) toohelp identificar memoria pérdidas.</span><span class="sxs-lookup"><span data-stu-id="3c936-229">You could use [node-memwatch](https://github.com/lloyd/node-memwatch) toohelp you identify memory leaks.</span></span>
<span data-ttu-id="3c936-230">Puede instalar memwatch igual que el generador de perfiles v8 y editar que su código toocapture y diff montones tooidentify Hola pérdidas de memoria de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="3c936-230">You can install memwatch just like v8-profiler and edit your code toocapture and diff heaps tooidentify hello memory leaks in your application.</span></span>

### <a name="my-nodeexes-are-getting-killed-randomly"></a><span data-ttu-id="3c936-231">Los procesos node.exe se terminan de forma aleatoria</span><span class="sxs-lookup"><span data-stu-id="3c936-231">My node.exe’s are getting killed randomly</span></span>
<span data-ttu-id="3c936-232">Existen varias razones para que suceda esto:</span><span class="sxs-lookup"><span data-stu-id="3c936-232">There are a few reasons why this could be happening:</span></span>

1. <span data-ttu-id="3c936-233">La aplicación produce excepciones no detectadas: Please check d:\\principal\\LogFiles\\aplicación\\archivo de registro errors.txt para obtener detalles de hello en excepción Hola.</span><span class="sxs-lookup"><span data-stu-id="3c936-233">Your application is throwing uncaught exceptions – Please check d:\\home\\LogFiles\\Application\\logging-errors.txt file for hello details on hello exception thrown.</span></span> <span data-ttu-id="3c936-234">Este archivo tiene el seguimiento de la pila de Hola por lo que puede corregir la aplicación basada en el objeto.</span><span class="sxs-lookup"><span data-stu-id="3c936-234">This file has hello stack trace so you can fix your application based on this.</span></span>
2. <span data-ttu-id="3c936-235">La aplicación consume demasiada memoria, lo cual afecta al inicio de otros procesos.</span><span class="sxs-lookup"><span data-stu-id="3c936-235">Your application is consuming too much memory which is affecting other processes from getting started.</span></span> <span data-ttu-id="3c936-236">Si memoria virtual total de hello es cerrar too100%, se pudo terminar el node.exe Hola proceso manager toolet otros procesos obtengan un toodo posibilidad algún trabajo.</span><span class="sxs-lookup"><span data-stu-id="3c936-236">If hello total VM memory is close too100%, your node.exe’s could be killed by hello process manager toolet other processes get a chance toodo some work.</span></span> <span data-ttu-id="3c936-237">toofix esto, asegúrese de que la aplicación no es una pérdida de memoria o si está seguro, su aplicación necesita toouse una gran cantidad de memoria, por favor, escalar verticalmente tooa máquina virtual mayor con mucha más memoria RAM.</span><span class="sxs-lookup"><span data-stu-id="3c936-237">toofix this, either make sure your application is not leaking memory OR if you application really needs toouse a lot of memory, please scale up tooa larger VM with a lot more RAM.</span></span>

### <a name="my-node-application-does-not-start"></a><span data-ttu-id="3c936-238">Mi aplicación Node no se inicia</span><span class="sxs-lookup"><span data-stu-id="3c936-238">My node application does not start</span></span>
<span data-ttu-id="3c936-239">Si la aplicación devuelve errores 500 durante el inicio, pueden existir varias razones:</span><span class="sxs-lookup"><span data-stu-id="3c936-239">If your application is returning 500 Errors at startup, there could be a few reasons:</span></span>

1. <span data-ttu-id="3c936-240">Node.exe no está presente en la ubicación correcta de Hola.</span><span class="sxs-lookup"><span data-stu-id="3c936-240">Node.exe is not present at hello correct location.</span></span> <span data-ttu-id="3c936-241">Compruebe la configuración nodeProcessCommandLine.</span><span class="sxs-lookup"><span data-stu-id="3c936-241">Check nodeProcessCommandLine setting.</span></span>
2. <span data-ttu-id="3c936-242">Archivo de script principal no está presente en la ubicación correcta de Hola.</span><span class="sxs-lookup"><span data-stu-id="3c936-242">Main script file is not present at hello correct location.</span></span> <span data-ttu-id="3c936-243">Compruebe web.config y asegúrese de nombre seguro de Hola Hola principal del archivo de script en archivo de script principal de hello controladores sección coincidencias Hola.</span><span class="sxs-lookup"><span data-stu-id="3c936-243">Check web.config and make sure hello name of hello main script file in hello handlers section matches hello main script file.</span></span>
3. <span data-ttu-id="3c936-244">Configuración de Web.config no es correcta: comprobación de nombres/valores de configuración de Hola.</span><span class="sxs-lookup"><span data-stu-id="3c936-244">Web.config configuration is not correct – check hello settings names/values.</span></span>
4. <span data-ttu-id="3c936-245">Arranque en frío: la aplicación está tardando demasiado toostartup.</span><span class="sxs-lookup"><span data-stu-id="3c936-245">Cold Start – Your application is taking too long toostartup.</span></span> <span data-ttu-id="3c936-246">Si la aplicación tarda más de (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000 segundos, iisnode devolverá un error 500.</span><span class="sxs-lookup"><span data-stu-id="3c936-246">If your application takes longer than (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000 seconds, iisnode will return 500 error.</span></span> <span data-ttu-id="3c936-247">Aumentar los valores de hello de estos toomatch configuración iisnode tooprevent de tiempo de inicio de las aplicaciones de expirar y devolver el error Hola 500.</span><span class="sxs-lookup"><span data-stu-id="3c936-247">Increase hello values of these settings toomatch your application start time tooprevent iisnode from timing out and returning hello 500 error.</span></span>

### <a name="my-node-application-crashed"></a><span data-ttu-id="3c936-248">Mi aplicación Node se ha bloqueado</span><span class="sxs-lookup"><span data-stu-id="3c936-248">My node application crashed</span></span>
<span data-ttu-id="3c936-249">La aplicación produce excepciones no detectadas: Please check d:\\principal\\LogFiles\\aplicación\\archivo de registro errors.txt para obtener detalles de hello en excepción Hola.</span><span class="sxs-lookup"><span data-stu-id="3c936-249">Your application is throwing uncaught exceptions – Please check d:\\home\\LogFiles\\Application\\logging-errors.txt file for hello details on hello exception thrown.</span></span> <span data-ttu-id="3c936-250">Este archivo tiene el seguimiento de la pila de Hola por lo que puede corregir la aplicación basada en el objeto.</span><span class="sxs-lookup"><span data-stu-id="3c936-250">This file has hello stack trace so you can fix your application based on this.</span></span>

### <a name="my-node-application-takes-too-much-time-toostartup-cold-start"></a><span data-ttu-id="3c936-251">Mi aplicación node tarda demasiado toostartup de tiempo (inicio en frío)</span><span class="sxs-lookup"><span data-stu-id="3c936-251">My node application takes too much time toostartup (Cold Start)</span></span>
<span data-ttu-id="3c936-252">La razón más común para esto es que aplicación hello tiene muchos archivos en el nodo de hello\_módulos y Hola aplicación intentos tooload la mayoría de estos archivos durante el inicio.</span><span class="sxs-lookup"><span data-stu-id="3c936-252">Most common reason for this is that hello application has a lot of files in hello node\_modules and hello application tries tooload most of these files during startup.</span></span> <span data-ttu-id="3c936-253">De forma predeterminada, puesto que los archivos residen en el recurso compartido de red de hello en aplicaciones Web de Azure, carga de tener tantos archivos puede tardar algún tiempo.</span><span class="sxs-lookup"><span data-stu-id="3c936-253">By default, since your files reside on hello network share on Azure Webapps, loading so many files can take some time.</span></span>
<span data-ttu-id="3c936-254">Algunas soluciones toomake esto con mayor rapidez son:</span><span class="sxs-lookup"><span data-stu-id="3c936-254">Some solutions toomake this faster are:</span></span>

1. <span data-ttu-id="3c936-255">Asegúrese de que tiene una estructura de dependencia sin formato y sin dependencias duplicados usando npm3 tooinstall los módulos.</span><span class="sxs-lookup"><span data-stu-id="3c936-255">Make sure you have a flat dependency structure and no duplicate dependencies by using npm3 tooinstall your modules.</span></span>
2. <span data-ttu-id="3c936-256">Intente toolazy carga el nodo\_módulos y no cargará todos los módulos de Hola durante el inicio de.</span><span class="sxs-lookup"><span data-stu-id="3c936-256">Try toolazy load your node\_modules and not load all of hello modules at startup.</span></span> <span data-ttu-id="3c936-257">Esto significa que toorequire('module') de llamada Hola debe realizarse cuando lo necesite realmente dentro de la función hello intentas módulo de hello toouse.</span><span class="sxs-lookup"><span data-stu-id="3c936-257">This means that hello call toorequire(‘module’) should be done when you actually need it within hello function you try toouse hello module.</span></span>
3. <span data-ttu-id="3c936-258">Aplicaciones web de Azure ofrece una característica denominada caché local.</span><span class="sxs-lookup"><span data-stu-id="3c936-258">Azure Webapps offers a feature called local cache.</span></span> <span data-ttu-id="3c936-259">Esta característica copia el contenido de hello red recurso compartido toohello disco local en hello VM.</span><span class="sxs-lookup"><span data-stu-id="3c936-259">This feature copies your content from hello network share toohello local disk on hello VM.</span></span> <span data-ttu-id="3c936-260">Puesto que los archivos de hello son locales, Hola tiempo de carga de nodo\_módulos es mucho más rápido.</span><span class="sxs-lookup"><span data-stu-id="3c936-260">Since hello files are local, hello load time of node\_modules is much faster.</span></span> <span data-ttu-id="3c936-261">-Este [documentación](../app-service/app-service-local-cache.md) explica cómo toouse memoria caché Local en más detalle.</span><span class="sxs-lookup"><span data-stu-id="3c936-261">- This [documentation](../app-service/app-service-local-cache.md) explains how toouse Local Cache in more detail.</span></span>

## <a name="iisnode-http-status-and-substatus"></a><span data-ttu-id="3c936-262">Estado y subestado HTTP de IISNODE</span><span class="sxs-lookup"><span data-stu-id="3c936-262">IISNODE http status and substatus</span></span>
<span data-ttu-id="3c936-263">Esto [archivo de código fuente](https://github.com/Azure/iisnode/blob/master/src/iisnode/cnodeconstants.h) listas puede devolver todas las Hola estado/subestado posible combinación iisnode en caso de error.</span><span class="sxs-lookup"><span data-stu-id="3c936-263">This [source file](https://github.com/Azure/iisnode/blob/master/src/iisnode/cnodeconstants.h) lists all hello possible status/substatus combination iisnode can return in case of error.</span></span>

<span data-ttu-id="3c936-264">Habilita FREB para el código de error de aplicación toosee Hola win32 (por favor, asegúrese de habilitar FREB solo en los sitios no es de producción por motivos de rendimiento).</span><span class="sxs-lookup"><span data-stu-id="3c936-264">Enable FREB for your application toosee hello win32 error code (please make sure you enable FREB only on non-production sites for performance reasons).</span></span>

| <span data-ttu-id="3c936-265">Estado HTTP</span><span class="sxs-lookup"><span data-stu-id="3c936-265">Http Status</span></span> | <span data-ttu-id="3c936-266">Subestado HTTP</span><span class="sxs-lookup"><span data-stu-id="3c936-266">Http SubStatus</span></span> | <span data-ttu-id="3c936-267">¿Posible razón?</span><span class="sxs-lookup"><span data-stu-id="3c936-267">Possible Reason?</span></span> |
| --- | --- | --- |
| <span data-ttu-id="3c936-268">500</span><span class="sxs-lookup"><span data-stu-id="3c936-268">500</span></span> |<span data-ttu-id="3c936-269">1000</span><span class="sxs-lookup"><span data-stu-id="3c936-269">1000</span></span> |<span data-ttu-id="3c936-270">Se produjo algún problema enviando Hola solicitud tooIISNODE: comprobar si se inició node.exe.</span><span class="sxs-lookup"><span data-stu-id="3c936-270">There was some issue dispatching hello request tooIISNODE – check if node.exe was started up.</span></span> <span data-ttu-id="3c936-271">Es posible que node.exe se haya bloqueado durante el inicio.</span><span class="sxs-lookup"><span data-stu-id="3c936-271">Node.exe could have crashed on startup.</span></span> <span data-ttu-id="3c936-272">Compruebe si hay errores en la configuración de web.config.</span><span class="sxs-lookup"><span data-stu-id="3c936-272">Check your web.config configuration for errors.</span></span> |
| <span data-ttu-id="3c936-273">500</span><span class="sxs-lookup"><span data-stu-id="3c936-273">500</span></span> |<span data-ttu-id="3c936-274">1001</span><span class="sxs-lookup"><span data-stu-id="3c936-274">1001</span></span> |<span data-ttu-id="3c936-275">-Win32Error 0 x 2: aplicación no responde toohello URL.</span><span class="sxs-lookup"><span data-stu-id="3c936-275">- Win32Error 0x2 - App is not responding toohello URL.</span></span> <span data-ttu-id="3c936-276">Dirección URL de comprobación de volver a escribir reglas o, si la aplicación express tiene rutas correcto Hola definidas.</span><span class="sxs-lookup"><span data-stu-id="3c936-276">Check URL rewrite rules or if your express app has hello correct routes defined.</span></span> <span data-ttu-id="3c936-277">-Win32Error 0x6d – canalización con nombre está ocupado: Node.exe no acepta solicitudes porque canalización Hola está ocupado.</span><span class="sxs-lookup"><span data-stu-id="3c936-277">- Win32Error 0x6d – named pipe is busy – Node.exe is not accepting requests because hello pipe is busy.</span></span> <span data-ttu-id="3c936-278">Compruebe el uso elevado de CPU.</span><span class="sxs-lookup"><span data-stu-id="3c936-278">Check high cpu usage.</span></span> <span data-ttu-id="3c936-279">-Otros errores: compruebe si se bloqueó node.exe.</span><span class="sxs-lookup"><span data-stu-id="3c936-279">- Other errors – check if node.exe crashed.</span></span> |
| <span data-ttu-id="3c936-280">500</span><span class="sxs-lookup"><span data-stu-id="3c936-280">500</span></span> |<span data-ttu-id="3c936-281">1002</span><span class="sxs-lookup"><span data-stu-id="3c936-281">1002</span></span> |<span data-ttu-id="3c936-282">Se bloqueó node.exe: compruebe el seguimiento de la pila en d:\\home\\LogFiles\\logging-errors.txt.</span><span class="sxs-lookup"><span data-stu-id="3c936-282">Node.exe crashed – check d:\\home\\LogFiles\\logging-errors.txt for stack trace.</span></span> |
| <span data-ttu-id="3c936-283">500</span><span class="sxs-lookup"><span data-stu-id="3c936-283">500</span></span> |<span data-ttu-id="3c936-284">1003</span><span class="sxs-lookup"><span data-stu-id="3c936-284">1003</span></span> |<span data-ttu-id="3c936-285">Configuración de canalización problema nunca verá esto, pero si lo hace, Hola configuración de canalización con nombre es incorrecta.</span><span class="sxs-lookup"><span data-stu-id="3c936-285">Pipe configuration Issue – You should never see this but if you do, hello named pipe configuration is incorrect.</span></span> |
| <span data-ttu-id="3c936-286">500</span><span class="sxs-lookup"><span data-stu-id="3c936-286">500</span></span> |<span data-ttu-id="3c936-287">1004-1018</span><span class="sxs-lookup"><span data-stu-id="3c936-287">1004-1018</span></span> |<span data-ttu-id="3c936-288">Se produjo un error al enviar una respuesta de Hola de hello solicitud o el procesamiento de node.exe.</span><span class="sxs-lookup"><span data-stu-id="3c936-288">There was some error while sending hello request or processing hello response to/from node.exe.</span></span> <span data-ttu-id="3c936-289">Compruebe si se bloqueó node.exe.</span><span class="sxs-lookup"><span data-stu-id="3c936-289">Check if node.exe crashed.</span></span> <span data-ttu-id="3c936-290">compruebe el seguimiento de la pila en d:\\home\\LogFiles\\logging-errors.txt.</span><span class="sxs-lookup"><span data-stu-id="3c936-290">check d:\\home\\LogFiles\\logging-errors.txt for stack trace.</span></span> |
| <span data-ttu-id="3c936-291">503</span><span class="sxs-lookup"><span data-stu-id="3c936-291">503</span></span> |<span data-ttu-id="3c936-292">1000</span><span class="sxs-lookup"><span data-stu-id="3c936-292">1000</span></span> |<span data-ttu-id="3c936-293">No hay suficiente memoria tooallocate denominado más conexiones de canalización.</span><span class="sxs-lookup"><span data-stu-id="3c936-293">Not enough memory tooallocate more named pipe connections.</span></span> <span data-ttu-id="3c936-294">Compruebe por qué la aplicación consume tanta memoria.</span><span class="sxs-lookup"><span data-stu-id="3c936-294">Check why your app is consuming so much memory.</span></span> <span data-ttu-id="3c936-295">Compruebe el valor de la configuración maxConcurrentRequestsPerProcess.</span><span class="sxs-lookup"><span data-stu-id="3c936-295">Check maxConcurrentRequestsPerProcess setting value.</span></span> <span data-ttu-id="3c936-296">Si no infinita y tiene una gran cantidad de solicitudes, aumente este valor tooprevent este error.</span><span class="sxs-lookup"><span data-stu-id="3c936-296">If its not infinite and you have a lot of requests, increase this value tooprevent this error.</span></span> |
| <span data-ttu-id="3c936-297">503</span><span class="sxs-lookup"><span data-stu-id="3c936-297">503</span></span> |<span data-ttu-id="3c936-298">1001</span><span class="sxs-lookup"><span data-stu-id="3c936-298">1001</span></span> |<span data-ttu-id="3c936-299">Solicitud no se pudo toonode.exe enviado porque se recicla la aplicación hello.</span><span class="sxs-lookup"><span data-stu-id="3c936-299">Request could not be dispatched toonode.exe because hello application is recycling.</span></span> <span data-ttu-id="3c936-300">Después de que se recicle la aplicación hello, normalmente se deben atienden las solicitudes.</span><span class="sxs-lookup"><span data-stu-id="3c936-300">After hello application has recycled, requests should be served normally.</span></span> |
| <span data-ttu-id="3c936-301">503</span><span class="sxs-lookup"><span data-stu-id="3c936-301">503</span></span> |<span data-ttu-id="3c936-302">1002</span><span class="sxs-lookup"><span data-stu-id="3c936-302">1002</span></span> |<span data-ttu-id="3c936-303">Comprobación de código de error de win32 para la verdadera razón: solicitud no se pudo node.exe tooa enviado.</span><span class="sxs-lookup"><span data-stu-id="3c936-303">Check win32 error code for actual reason – Request could not be dispatched tooa node.exe.</span></span> |
| <span data-ttu-id="3c936-304">503</span><span class="sxs-lookup"><span data-stu-id="3c936-304">503</span></span> |<span data-ttu-id="3c936-305">1003</span><span class="sxs-lookup"><span data-stu-id="3c936-305">1003</span></span> |<span data-ttu-id="3c936-306">Canalización con nombre demasiado ocupada; compruebe si el nodo consume gran cantidad de CPU.</span><span class="sxs-lookup"><span data-stu-id="3c936-306">Named pipe is too Busy – Check if node is consuming a lot of CPU</span></span> |

<span data-ttu-id="3c936-307">Existe una opción en NODE.exe denominada NODE\_PENDING\_PIPE\_INSTANCES.</span><span class="sxs-lookup"><span data-stu-id="3c936-307">There is a setting within NODE.exe called NODE\_PENDING\_PIPE\_INSTANCES.</span></span> <span data-ttu-id="3c936-308">De forma predeterminada, fuera de Aplicaciones web de Azure, este valor es 4.</span><span class="sxs-lookup"><span data-stu-id="3c936-308">By default outside of azure webapps this value is 4.</span></span> <span data-ttu-id="3c936-309">Esto significa que node.exe sólo pueden aceptar 4 solicitudes a la vez en hello canalización con nombre.</span><span class="sxs-lookup"><span data-stu-id="3c936-309">This means that node.exe can only accept 4 requests at a time on hello named pipe.</span></span> <span data-ttu-id="3c936-310">En aplicaciones Web de Azure, este valor se establece too5000 y este valor debe ser lo suficientemente bueno como para la mayoría de las aplicaciones de nodo con aplicaciones Web de azure.</span><span class="sxs-lookup"><span data-stu-id="3c936-310">On Azure Webapps, this value is set too5000 and this value should be good enough for most node applications running on azure webapps.</span></span> <span data-ttu-id="3c936-311">No debería ver 503.1003 en aplicaciones Web de azure porque es necesario un valor alto para hello nodo\_PENDING\_canalización\_instancias.</span><span class="sxs-lookup"><span data-stu-id="3c936-311">You should not see 503.1003 on azure webapps because we have a high value for hello NODE\_PENDING\_PIPE\_INSTANCES.</span></span>  |

## <a name="more-resources"></a><span data-ttu-id="3c936-312">Más recursos</span><span class="sxs-lookup"><span data-stu-id="3c936-312">More resources</span></span>
<span data-ttu-id="3c936-313">Siga estos toolearn de vínculos más información acerca de las aplicaciones node.js en el servicio de aplicaciones de Azure.</span><span class="sxs-lookup"><span data-stu-id="3c936-313">Follow these links toolearn more about node.js applications on Azure App Service.</span></span>

* [<span data-ttu-id="3c936-314">Introducción a las aplicaciones web Node.js en el Servicio de aplicaciones de Azure</span><span class="sxs-lookup"><span data-stu-id="3c936-314">Get started with Node.js web apps in Azure App Service</span></span>](app-service-web-get-started-nodejs.md)
* [<span data-ttu-id="3c936-315">Cómo toodebug una Node.js web aplicación de servicio de aplicaciones de Azure</span><span class="sxs-lookup"><span data-stu-id="3c936-315">How toodebug a Node.js web app in Azure App Service</span></span>](web-sites-nodejs-debug.md)
* [<span data-ttu-id="3c936-316">Uso de módulos Node.js con aplicaciones de Azure</span><span class="sxs-lookup"><span data-stu-id="3c936-316">Using Node.js Modules with Azure applications</span></span>](../nodejs-use-node-modules-azure-apps.md)
* [<span data-ttu-id="3c936-317">Azure App Service Web Apps: Node.js (Aplicaciones web del Servicio de aplicaciones de Azure: Node.js)</span><span class="sxs-lookup"><span data-stu-id="3c936-317">Azure App Service Web Apps: Node.js</span></span>](https://blogs.msdn.microsoft.com/silverlining/2012/06/14/windows-azure-websites-node-js/)
* [<span data-ttu-id="3c936-318">Centro para desarrolladores de Node.js</span><span class="sxs-lookup"><span data-stu-id="3c936-318">Node.js Developer Center</span></span>](../nodejs-use-node-modules-azure-apps.md)
* [<span data-ttu-id="3c936-319">Explorar Hola Super secreto Kudu depurar consola</span><span class="sxs-lookup"><span data-stu-id="3c936-319">Exploring hello Super Secret Kudu Debug Console</span></span>](https://azure.microsoft.com/documentation/videos/super-secret-kudu-debug-console-for-azure-web-sites/)

