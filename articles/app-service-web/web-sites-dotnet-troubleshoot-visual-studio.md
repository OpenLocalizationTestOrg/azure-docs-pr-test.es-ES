---
title: "Solución de problemas de una aplicación web en el Servicio de aplicaciones de Azure con Visual Studio"
description: "Obtenga información acerca de cómo solucionar problemas de una aplicación web de Azure con herramientas de registro, seguimiento y depuración remota que están integradas en Visual Studio 2013."
services: app-service
documentationcenter: .net
author: tdykstra
manager: erikre
editor: 
ms.assetid: def8e481-7803-4371-aa55-64025d116c97
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 08/29/2016
ms.author: rachelap
ms.openlocfilehash: abfd9a4c1b346377d7f1fc30455a1487b113537d
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/29/2017
---
# <a name="troubleshoot-a-web-app-in-azure-app-service-using-visual-studio"></a><span data-ttu-id="c87c5-103">Solución de problemas de una aplicación web en el Servicio de aplicaciones de Azure con Visual Studio</span><span class="sxs-lookup"><span data-stu-id="c87c5-103">Troubleshoot a web app in Azure App Service using Visual Studio</span></span>
## <a name="overview"></a><span data-ttu-id="c87c5-104">Información general</span><span class="sxs-lookup"><span data-stu-id="c87c5-104">Overview</span></span>
<span data-ttu-id="c87c5-105">En este tutorial se muestra cómo usar herramientas de Visual Studio para ayudar a depurar una aplic. web en [App Service](http://go.microsoft.com/fwlink/?LinkId=529714), ya sea en [modo de depuración](http://www.visualstudio.com/get-started/debug-your-app-vs.aspx) de manera remota o consultando los registros del servidor web o de aplicación.</span><span class="sxs-lookup"><span data-stu-id="c87c5-105">This tutorial shows how to use Visual Studio tools that help debug a web app in [App Service](http://go.microsoft.com/fwlink/?LinkId=529714), by running in [debug mode](http://www.visualstudio.com/get-started/debug-your-app-vs.aspx) remotely or by viewing application logs and web server logs.</span></span>

[!INCLUDE [app-service-web-to-api-and-mobile](../../includes/app-service-web-to-api-and-mobile.md)]

<span data-ttu-id="c87c5-106">Aprenderá a realizar los siguientes procedimientos:</span><span class="sxs-lookup"><span data-stu-id="c87c5-106">You'll learn:</span></span>

* <span data-ttu-id="c87c5-107">Funciones de administración de aplicaciones web de Azure disponibles en Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="c87c5-107">Which Azure web app management functions are available in Visual Studio.</span></span>
* <span data-ttu-id="c87c5-108">Uso de la vista remota de Visual Studio para realizar cambios rápidos en una aplicación web remota.</span><span class="sxs-lookup"><span data-stu-id="c87c5-108">How to use Visual Studio remote view to make quick changes in a remote web app.</span></span>
* <span data-ttu-id="c87c5-109">Ejecución del modo de depuración de manera remota mientras un proyecto se ejecuta en Azure, tanto para una aplicación web como para un WebJob.</span><span class="sxs-lookup"><span data-stu-id="c87c5-109">How to run debug mode remotely while a project is running in Azure, both for a web app and for a WebJob.</span></span>
* <span data-ttu-id="c87c5-110">Creación de registros de seguimiento de aplicación y su visualización mientras los crea la aplicación.</span><span class="sxs-lookup"><span data-stu-id="c87c5-110">How to create application trace logs and view them while the application is creating them.</span></span>
* <span data-ttu-id="c87c5-111">Visualización de registros de servidor web, incluidos mensajes de error detallados y seguimiento de solicitudes con error.</span><span class="sxs-lookup"><span data-stu-id="c87c5-111">How to view web server logs, including detailed error messages and failed request tracing.</span></span>
* <span data-ttu-id="c87c5-112">Envío de registros de diagnóstico a una cuenta de almacenamiento de Azure y su visualización aquí.</span><span class="sxs-lookup"><span data-stu-id="c87c5-112">How to send diagnostic logs to an Azure Storage account and view them there.</span></span>

<span data-ttu-id="c87c5-113">Si tiene Visual Studio Ultimate, también puede usar [IntelliTrace](http://msdn.microsoft.com/library/vstudio/dd264915.aspx) para la depuración.</span><span class="sxs-lookup"><span data-stu-id="c87c5-113">If you have Visual Studio Ultimate, you can also use [IntelliTrace](http://msdn.microsoft.com/library/vstudio/dd264915.aspx) for debugging.</span></span> <span data-ttu-id="c87c5-114">IntelliTrace no se trata en este tutorial.</span><span class="sxs-lookup"><span data-stu-id="c87c5-114">IntelliTrace is not covered in this tutorial.</span></span>

## <span data-ttu-id="c87c5-115"><a name="prerequisites"></a>Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="c87c5-115"><a name="prerequisites"></a>Prerequisites</span></span>
<span data-ttu-id="c87c5-116">Este tutorial funciona con el entorno de desarrollo, proyecto web y aplicación web de Azure que configuró en [Introducción a Azure y ASP.NET][GetStarted].</span><span class="sxs-lookup"><span data-stu-id="c87c5-116">This tutorial works with the development environment, web project, and Azure web app that you set up in [Get started with Azure and ASP.NET][GetStarted].</span></span> <span data-ttu-id="c87c5-117">Para las secciones WebJobs, necesitará la aplicación que cree en [Introducción al SDK de WebJobs de Azure][GetStartedWJ].</span><span class="sxs-lookup"><span data-stu-id="c87c5-117">For the WebJobs sections, you'll need the application that you create in [Get Started with the Azure WebJobs SDK][GetStartedWJ].</span></span>

<span data-ttu-id="c87c5-118">Los ejemplos de código que aparecen en este tutorial son para una aplicación web C# MVC, pero los procedimientos de solución de problemas son los mismos para las aplicaciones de Web Forms y Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="c87c5-118">The code samples shown in this tutorial are for a C# MVC web application, but the troubleshooting procedures are the same for Visual Basic and Web Forms applications.</span></span>

<span data-ttu-id="c87c5-119">El tutorial supone que está utilizando Visual Studio 2015 o 2013.</span><span class="sxs-lookup"><span data-stu-id="c87c5-119">The tutorial assumes you're using Visual Studio 2015 or 2013.</span></span> <span data-ttu-id="c87c5-120">Si utiliza Visual Studio 2013, las características de WebJobs requieren la [actualización 4](http://go.microsoft.com/fwlink/?LinkID=510314) o posterior.</span><span class="sxs-lookup"><span data-stu-id="c87c5-120">If you're using Visual Studio 2013, the WebJobs features require [Update 4](http://go.microsoft.com/fwlink/?LinkID=510314) or later.</span></span>

<span data-ttu-id="c87c5-121">La característica de registros de streaming solo funciona para aplicaciones dirigidas a .NET Framework 4 o superior.</span><span class="sxs-lookup"><span data-stu-id="c87c5-121">The streaming logs feature only works for applications that target .NET Framework 4 or later.</span></span>

## <span data-ttu-id="c87c5-122"><a name="sitemanagement"></a>Administración y configuración de la aplicación web</span><span class="sxs-lookup"><span data-stu-id="c87c5-122"><a name="sitemanagement"></a>Web app configuration and management</span></span>
<span data-ttu-id="c87c5-123">Visual Studio proporciona acceso a un subconjunto de las funciones de administración de aplicaciones web y los ajustes de configuración disponibles en el [Portal de Azure](http://go.microsoft.com/fwlink/?LinkId=529715).</span><span class="sxs-lookup"><span data-stu-id="c87c5-123">Visual Studio provides access to a subset of the web app management functions and configuration settings available in the [Azure Portal](http://go.microsoft.com/fwlink/?LinkId=529715).</span></span> <span data-ttu-id="c87c5-124">En esta sección podrá ver las opciones y funciones disponibles mediante el **Explorador de servidores**.</span><span class="sxs-lookup"><span data-stu-id="c87c5-124">In this section you'll see what's available by using **Server Explorer**.</span></span> <span data-ttu-id="c87c5-125">Para ver las últimas características de integración de Azure, pruebe también **Cloud Explorer** .</span><span class="sxs-lookup"><span data-stu-id="c87c5-125">To see the latest Azure integration features, try out **Cloud Explorer** also.</span></span> <span data-ttu-id="c87c5-126">Puede abrir dos ventanas del menú **Ver** .</span><span class="sxs-lookup"><span data-stu-id="c87c5-126">You can open both windows from the **View** menu.</span></span>

1. <span data-ttu-id="c87c5-127">Si todavía no inició sesión en Azure en Visual Studio, haga clic en el botón **Conectar a Azure** en el **Explorador de servidores**.</span><span class="sxs-lookup"><span data-stu-id="c87c5-127">If you aren't already signed in to Azure in Visual Studio, click the **Connect to Azure** button in **Server Explorer**.</span></span>

    <span data-ttu-id="c87c5-128">Una alternativa es instalar un certificado de administración que permita el acceso a su cuenta.</span><span class="sxs-lookup"><span data-stu-id="c87c5-128">An alternative is to install a management certificate that enables access to your account.</span></span> <span data-ttu-id="c87c5-129">Si elige instalar un certificado, haga clic con el botón derecho en el nodo **Azure** del **Explorador de servidores** y, a continuación, haga clic en **Administrar y filtrar suscripciones** en el menú contextual.</span><span class="sxs-lookup"><span data-stu-id="c87c5-129">If you choose to install a certificate, right-click the **Azure** node in **Server Explorer**, and then click **Manage and Filter Subscriptions** in the context menu.</span></span> <span data-ttu-id="c87c5-130">En el cuadro de diálogo **Administrar suscripciones de Azure**, haga clic en la pestaña **Certificados** y, luego, en **Importar**.</span><span class="sxs-lookup"><span data-stu-id="c87c5-130">In the **Manage Azure Subscriptions** dialog box, click the **Certificates** tab, and then click **Import**.</span></span> <span data-ttu-id="c87c5-131">Siga las instrucciones para descargar y luego importar un archivo de suscripción (también conocido como archivo *.publishsettings* ) para su cuenta de Azure.</span><span class="sxs-lookup"><span data-stu-id="c87c5-131">Follow the directions to download and then import a subscription file (also called a *.publishsettings* file) for your Azure account.</span></span>

   > [!NOTE]
   > <span data-ttu-id="c87c5-132">Si descarga un archivo de suscripción, guárdelo en una carpeta ajena a los directorios de código fuente (por ejemplo, en la carpeta Descargas) y elimínelo una vez que finalice la importación.</span><span class="sxs-lookup"><span data-stu-id="c87c5-132">If you download a subscription file, save it to a folder outside your source code directories (for example, in the Downloads folder), and then delete it once the import has completed.</span></span> <span data-ttu-id="c87c5-133">Si un usuario malintencionado obtuviera acceso al archivo de suscripción, podría editar, crear y eliminar servicios de Azure.</span><span class="sxs-lookup"><span data-stu-id="c87c5-133">A malicious user who gains access to the subscription file can edit, create, and delete your Azure services.</span></span>
   >
   >

    <span data-ttu-id="c87c5-134">Para obtener más información acerca de la conexión a recursos de Azure desde Visual Studio, consulte [Administración de cuentas, suscripciones y roles administrativos](http://go.microsoft.com/fwlink/?LinkId=324796#BKMK_AccountVCert).</span><span class="sxs-lookup"><span data-stu-id="c87c5-134">For more information about connecting to Azure resources from Visual Studio, see [Manage Accounts, Subscriptions, and Administrative Roles](http://go.microsoft.com/fwlink/?LinkId=324796#BKMK_AccountVCert).</span></span>
2. <span data-ttu-id="c87c5-135">En el **Explorador de servidores**, expanda **Azure** y, a continuación, **App Service**.</span><span class="sxs-lookup"><span data-stu-id="c87c5-135">In **Server Explorer**, expand **Azure** and expand **App Service**.</span></span>
3. <span data-ttu-id="c87c5-136">Expanda el grupo de recursos que incluye la aplicación web que creó en [Introducción a Azure y ASP.NET][GetStarted] y, a continuación, haga clic con el botón secundario en el nodo de la aplicación web y haga clic en **Ver configuración**.</span><span class="sxs-lookup"><span data-stu-id="c87c5-136">Expand the resource group that includes the web app that you created in [Getting started with Azure and ASP.NET][GetStarted], and then right-click the web app node and click **View Settings**.</span></span>

    ![Ver configuración en el Explorador de servidores](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-viewsettings.png)

    <span data-ttu-id="c87c5-138">Aparecerá la pestaña **Aplicación web de Azure** y podrá ver las tareas de administración y configuración de aplicaciones web disponibles en Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="c87c5-138">The **Azure Web App** tab appears, and you can see there the web app management and configuration tasks that are available in Visual Studio.</span></span>

    ![Ventana de aplicaciones web de Azure](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-configtab.png)

    <span data-ttu-id="c87c5-140">En este tutorial usará los menús desplegables de registro y seguimiento.</span><span class="sxs-lookup"><span data-stu-id="c87c5-140">In this tutorial you'll be using the logging and tracing drop-downs.</span></span> <span data-ttu-id="c87c5-141">También utilizará la depuración remota, pero va a utilizar un método distinto para habilitarla.</span><span class="sxs-lookup"><span data-stu-id="c87c5-141">You'll also use remote debugging but you'll use a different method to enable it.</span></span>

    <span data-ttu-id="c87c5-142">Para obtener información acerca de los cuadros Configuración de aplicaciones y Cadenas de conexión de esta ventana, consulte [Aplicaciones web de Azure: Funcionamiento de las cadenas de aplicación y de las cadenas de conexión](http://blogs.msdn.com/b/windowsazure/archive/2013/07/17/windows-azure-web-sites-how-application-strings-and-connection-strings-work.aspx).</span><span class="sxs-lookup"><span data-stu-id="c87c5-142">For information about the App Settings and Connection Strings boxes in this window, see [Azure Web Apps: How Application Strings and Connection Strings Work](http://blogs.msdn.com/b/windowsazure/archive/2013/07/17/windows-azure-web-sites-how-application-strings-and-connection-strings-work.aspx).</span></span>

    <span data-ttu-id="c87c5-143">Si desea realizar una tarea de administración de aplicaciones web que no se puede hacer en esta ventana, haga clic en **Abrir en Portal de administración** para abrir una ventana del explorador con el Portal de Azure.</span><span class="sxs-lookup"><span data-stu-id="c87c5-143">If you want to perform a web app management task that can't be done in this window, click **Open in Management Portal** to open a browser window to the Azure portal.</span></span>

## <span data-ttu-id="c87c5-144"><a name="remoteview"></a>Acceso a archivos de aplicaciones web en el Explorador de servidores</span><span class="sxs-lookup"><span data-stu-id="c87c5-144"><a name="remoteview"></a>Access web app files in Server Explorer</span></span>
<span data-ttu-id="c87c5-145">Normalmente implementa un sitio con la marca `customErrors` en el archivo Web.config establecida en `On` o en `RemoteOnly`, lo que significa que no recibirá un práctico mensaje de error cuando algo se realice de manera incorrecta.</span><span class="sxs-lookup"><span data-stu-id="c87c5-145">You typically deploy a web project with the `customErrors` flag in the Web.config file set to `On` or `RemoteOnly`, which means you don't get a helpful error message when something goes wrong.</span></span> <span data-ttu-id="c87c5-146">Para muchos errores, todo lo que verá será una página como alguna de las siguientes.</span><span class="sxs-lookup"><span data-stu-id="c87c5-146">For many errors all you get is a page like one of the following ones.</span></span>

<span data-ttu-id="c87c5-147">**Error del servidor en la aplicación '/':**</span><span class="sxs-lookup"><span data-stu-id="c87c5-147">**Server Error in '/' Application:**</span></span>

![Página de error poco práctica](./media/web-sites-dotnet-troubleshoot-visual-studio/genericerror.png)

<span data-ttu-id="c87c5-149">**Se produjo un error:**</span><span class="sxs-lookup"><span data-stu-id="c87c5-149">**An error occurred:**</span></span>

![Página de error poco práctica](./media/web-sites-dotnet-troubleshoot-visual-studio/genericerror1.png)

<span data-ttu-id="c87c5-151">**El sitio web no puede mostrar la página**</span><span class="sxs-lookup"><span data-stu-id="c87c5-151">**The website cannot display the page**</span></span>

![Página de error poco práctica](./media/web-sites-dotnet-troubleshoot-visual-studio/genericerror2.png)

<span data-ttu-id="c87c5-153">Con frecuencia, la manera más fácil de encontrar la causa de un error es habilitar los mensajes detallados de error, una acción que se explica en la primera de las capturas de pantalla anteriores.</span><span class="sxs-lookup"><span data-stu-id="c87c5-153">Frequently the easiest way to find the cause of the error is to enable detailed error messages, which the first of the preceding screenshots explains how to do.</span></span> <span data-ttu-id="c87c5-154">Eso requiere un cambio en el archivo Web.config implementado.</span><span class="sxs-lookup"><span data-stu-id="c87c5-154">That requires a change in the deployed Web.config file.</span></span> <span data-ttu-id="c87c5-155">Puede editar el archivo *Web.config* en el proyecto y volver a implementar el proyecto, o bien crear una [transformación de Web.config](http://www.asp.net/mvc/tutorials/deployment/visual-studio-web-deployment/web-config-transformations) e implementar una compilación de depuración, pero hay una forma más rápida: en el **Explorador de soluciones** puede ver y editar archivos en el sitio remoto utilizando directamente la característica de *vista remota*.</span><span class="sxs-lookup"><span data-stu-id="c87c5-155">You could edit the *Web.config* file in the project and redeploy the project, or create a [Web.config transform](http://www.asp.net/mvc/tutorials/deployment/visual-studio-web-deployment/web-config-transformations) and deploy a debug build, but there's a quicker way: in **Solution Explorer** you can directly view and edit files in the remote web app by using the *remote view* feature.</span></span>

1. <span data-ttu-id="c87c5-156">En el **Explorador de servidores**, expanda **Azure**, expanda **App Service**, expanda el grupo de recursos en el que se encuentra su aplic. web y, a continuación, expanda el nodo de la aplic. web.</span><span class="sxs-lookup"><span data-stu-id="c87c5-156">In **Server Explorer**, expand **Azure**, expand **App Service**, expand the resource group that your web app is located in, and then expand the node for your web app.</span></span>

    <span data-ttu-id="c87c5-157">Puede ver los nodos que le proporcionan acceso a los archivos de registro y de contenido de la aplicación web.</span><span class="sxs-lookup"><span data-stu-id="c87c5-157">You see nodes that give you access to the web app's content files and log files.</span></span>
2. <span data-ttu-id="c87c5-158">Expanda el nodo **Archivos** y haga doble clic en el archivo *Web.config* .</span><span class="sxs-lookup"><span data-stu-id="c87c5-158">Expand the **Files** node, and double-click the *Web.config* file.</span></span>

    ![Abrir Web.config](./media/web-sites-dotnet-troubleshoot-visual-studio/webconfig.png)

    <span data-ttu-id="c87c5-160">Visual Studio abre el archivo Web.config desde la aplicación web remota y muestra [Remote] junto al nombre de archivo en la barra de títulos.</span><span class="sxs-lookup"><span data-stu-id="c87c5-160">Visual Studio opens the Web.config file from the remote web app and shows [Remote] next to the file name in the title bar.</span></span>
3. <span data-ttu-id="c87c5-161">Agregue la siguiente línea al elemento `system.web` :</span><span class="sxs-lookup"><span data-stu-id="c87c5-161">Add the following line to the `system.web` element:</span></span>

    `<customErrors mode="Off"></customErrors>`

    ![Editar Web.config](./media/web-sites-dotnet-troubleshoot-visual-studio/webconfigedit.png)
4. <span data-ttu-id="c87c5-163">Actualice el explorador que actualmente muestra el mensaje de error poco práctico y ahora podrá ver un mensaje detallado del error, tal como muestra el siguiente ejemplo:</span><span class="sxs-lookup"><span data-stu-id="c87c5-163">Refresh the browser that is showing the unhelpful error message, and now you get a detailed error message, such as the following example:</span></span>

    ![Mensajes de error detallados](./media/web-sites-dotnet-troubleshoot-visual-studio/detailederror.png)

    <span data-ttu-id="c87c5-165">(El error que aparece se generó al agregar la línea en rojo a *Views\Home\Index.cshtml*).</span><span class="sxs-lookup"><span data-stu-id="c87c5-165">(The error shown was created by adding the line shown in red to *Views\Home\Index.cshtml*.)</span></span>

<span data-ttu-id="c87c5-166">Editar el archivo Web.config es solo un ejemplo de las situaciones en las que la capacidad de leer y editar archivos en su aplicación web de Azure facilita la solución de problemas.</span><span class="sxs-lookup"><span data-stu-id="c87c5-166">Editing the Web.config file is only one example of scenarios in which the ability to read and edit files on your Azure web app make troubleshooting easier.</span></span>

## <span data-ttu-id="c87c5-167"><a name="remotedebug"></a>Aplicaciones web de depuración remota</span><span class="sxs-lookup"><span data-stu-id="c87c5-167"><a name="remotedebug"></a>Remote debugging web apps</span></span>
<span data-ttu-id="c87c5-168">Si el mensaje de error detallado no proporciona información suficiente y no es posible recrear el error de manera local, otra forma de solucionar problemas es ejecutar remotamente en modo de depuración.</span><span class="sxs-lookup"><span data-stu-id="c87c5-168">If the detailed error message doesn't provide enough information, and you can't re-create the error locally, another way to troubleshoot is to run in debug mode remotely.</span></span> <span data-ttu-id="c87c5-169">Puede definir puntos de interrupción, manipular directamente la memoria, revisar el código e, incluso, cambiar la ruta del código.</span><span class="sxs-lookup"><span data-stu-id="c87c5-169">You can set breakpoints, manipulate memory directly, step through code, and even change the code path.</span></span>

<span data-ttu-id="c87c5-170">La depuración remota no funciona en ediciones Express de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="c87c5-170">Remote debugging does not work in Express editions of Visual Studio.</span></span>

<span data-ttu-id="c87c5-171">Esta sección muestra cómo depurar remotamente con el proyecto que crea en [Introducción a Azure y ASP.NET][GetStarted].</span><span class="sxs-lookup"><span data-stu-id="c87c5-171">This section shows how to debug remotely using the project you create in [Getting started with Azure and ASP.NET][GetStarted].</span></span>

1. <span data-ttu-id="c87c5-172">Abra el proyecto web que creó en [Introducción a Azure y ASP.NET][GetStarted].</span><span class="sxs-lookup"><span data-stu-id="c87c5-172">Open the web project that you created in [Getting started with Azure and ASP.NET][GetStarted].</span></span>
2. <span data-ttu-id="c87c5-173">Abra *Controllers\HomeController.cs*.</span><span class="sxs-lookup"><span data-stu-id="c87c5-173">Open *Controllers\HomeController.cs*.</span></span>
3. <span data-ttu-id="c87c5-174">Elimine el método `About()` e inserte el siguiente código en su lugar.</span><span class="sxs-lookup"><span data-stu-id="c87c5-174">Delete the `About()` method and insert the following code in its place.</span></span>

        public ActionResult About()
        {
            string currentTime = DateTime.Now.ToLongTimeString();
            ViewBag.Message = "The current time is " + currentTime;
            return View();
        }
4. <span data-ttu-id="c87c5-175">[Establezca un punto de interrupción](http://www.visualstudio.com/get-started/debug-your-app-vs.aspx) en la línea `ViewBag.Message`.</span><span class="sxs-lookup"><span data-stu-id="c87c5-175">[Set a breakpoint](http://www.visualstudio.com/get-started/debug-your-app-vs.aspx) on the `ViewBag.Message` line.</span></span>
5. <span data-ttu-id="c87c5-176">En el **Explorador de soluciones**, haga clic con el botón derecho en el proyecto y, luego, haga clic en **Publicar**.</span><span class="sxs-lookup"><span data-stu-id="c87c5-176">In **Solution Explorer**, right-click the project, and click **Publish**.</span></span>
6. <span data-ttu-id="c87c5-177">En la lista desplegable **Perfil**, seleccione el mismo perfil que utilizó en [Introducción a Azure y ASP.NET][GetStarted].</span><span class="sxs-lookup"><span data-stu-id="c87c5-177">In the **Profile** drop-down list, select the same profile that you used in [Getting started with Azure and ASP.NET][GetStarted].</span></span>
7. <span data-ttu-id="c87c5-178">Haga clic en la pestaña **Configuración**, cambie la **Configuración** a **Depurar** y, luego, haga clic en **Publicar**.</span><span class="sxs-lookup"><span data-stu-id="c87c5-178">Click the **Settings** tab, and change **Configuration** to **Debug**, and then click **Publish**.</span></span>

    ![Publicar en modo de depuración](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-publishdebug.png)
8. <span data-ttu-id="c87c5-180">Una vez que ha finalizado la implementación y que el explorador abre la dirección URL de Azure de su aplicación web, cierre el explorador.</span><span class="sxs-lookup"><span data-stu-id="c87c5-180">After deployment finishes and your browser opens to the Azure URL of your web app, close the browser.</span></span>
9. <span data-ttu-id="c87c5-181">En el **Explorador de servidores**, haga clic con el botón derecho en la aplic. web y, luego, haga clic en **Asociar depurador**.</span><span class="sxs-lookup"><span data-stu-id="c87c5-181">In **Server Explorer**, right-click your web app, and then click **Attach Debugger**.</span></span>

    ![Asociar depurador](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-attachdebugger.png)

    <span data-ttu-id="c87c5-183">El explorador se abre automáticamente en su página inicial en ejecución en Azure.</span><span class="sxs-lookup"><span data-stu-id="c87c5-183">The browser automatically opens to your home page running in Azure.</span></span> <span data-ttu-id="c87c5-184">Es posible que deba esperar unos 20 segundos mientras Azure configura el servidor para la depuración.</span><span class="sxs-lookup"><span data-stu-id="c87c5-184">You might have to wait 20 seconds or so while Azure sets up the server for debugging.</span></span> <span data-ttu-id="c87c5-185">Esta demora solo se produce la primera vez que ejecuta el modo de depuración en una aplicación web.</span><span class="sxs-lookup"><span data-stu-id="c87c5-185">This delay only happens the first time you run in debug mode on a web app.</span></span> <span data-ttu-id="c87c5-186">Las veces posteriores dentro de las próximas 48 horas no habrá demora cuando vuelva a iniciar la depuración.</span><span class="sxs-lookup"><span data-stu-id="c87c5-186">Subsequent times within the next 48 hours when you start debugging again there won't be a delay.</span></span>

    <span data-ttu-id="c87c5-187">**Nota:** Si tiene algún problema para iniciar el depurador, intente hacerlo con **Cloud Explorer** en lugar usar el **Explorador de servidores**.</span><span class="sxs-lookup"><span data-stu-id="c87c5-187">**Note:** If you have any trouble starting the debugger, try to do it by using **Cloud Explorer** instead of **Server Explorer**.</span></span>
10. <span data-ttu-id="c87c5-188">Haga clic en **Acerca de** en el menú.</span><span class="sxs-lookup"><span data-stu-id="c87c5-188">Click **About** in the menu.</span></span>

     <span data-ttu-id="c87c5-189">Visual Studio se detiene en el punto de interrupción y el código se ejecuta en Azure, no en su equipo local.</span><span class="sxs-lookup"><span data-stu-id="c87c5-189">Visual Studio stops on the breakpoint, and the code is running in Azure, not on your local computer.</span></span>
11. <span data-ttu-id="c87c5-190">Mantenga el puntero sobre la variable `currentTime` para ver el valor de tiempo.</span><span class="sxs-lookup"><span data-stu-id="c87c5-190">Hover over the `currentTime` variable to see the time value.</span></span>

     ![Ver la variable en ejecución en modo de depuración en Azure](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-debugviewinwa.png)

     <span data-ttu-id="c87c5-192">La hora que ve es la hora del servidor Azure, que puede estar en una zona horaria distinta a la de su equipo local.</span><span class="sxs-lookup"><span data-stu-id="c87c5-192">The time you see is the Azure server time, which may be in a different time zone than your local computer.</span></span>
12. <span data-ttu-id="c87c5-193">Escriba un valor nuevo para la variable `currentTime` , como "Ahora en ejecución en Azure".</span><span class="sxs-lookup"><span data-stu-id="c87c5-193">Enter a new value for the `currentTime` variable, such as "Now running in Azure".</span></span>
13. <span data-ttu-id="c87c5-194">Presione F5 para continuar la ejecución.</span><span class="sxs-lookup"><span data-stu-id="c87c5-194">Press F5 to continue running.</span></span>

     <span data-ttu-id="c87c5-195">La página About que se ejecuta en Azure muestra el valor nuevo que escribió en la variable currentTime.</span><span class="sxs-lookup"><span data-stu-id="c87c5-195">The About page running in Azure displays the new value that you entered into the currentTime variable.</span></span>

     ![Página About con el valor nuevo](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-debugchangeinwa.png)

## <span data-ttu-id="c87c5-197"><a name="remotedebugwj"></a> WebJobs de depuración remota</span><span class="sxs-lookup"><span data-stu-id="c87c5-197"><a name="remotedebugwj"></a> Remote debugging WebJobs</span></span>
<span data-ttu-id="c87c5-198">En esta sección se muestra cómo depurar de forma remota mediante el proyecto y la aplicación web que creó en [Introducción al SDK de WebJobs de Azure](websites-dotnet-webjobs-sdk.md).</span><span class="sxs-lookup"><span data-stu-id="c87c5-198">This section shows how to debug remotely using the project and web app you create in [Get Started with the Azure WebJobs SDK](websites-dotnet-webjobs-sdk.md).</span></span>

<span data-ttu-id="c87c5-199">Las características mostradas en esta sección solo están disponibles en Visual Studio 2013 con Update 4 o superior.</span><span class="sxs-lookup"><span data-stu-id="c87c5-199">The features shown in this section are available only in Visual Studio 2013 with Update 4 or later.</span></span>

<span data-ttu-id="c87c5-200">La depuración remota solo funciona con WebJobs continuos.</span><span class="sxs-lookup"><span data-stu-id="c87c5-200">Remote debugging only works with continuous WebJobs.</span></span> <span data-ttu-id="c87c5-201">Los WebJobs bajo demanda y programados no admiten la depuración.</span><span class="sxs-lookup"><span data-stu-id="c87c5-201">Scheduled and on-demand WebJobs don't support debugging.</span></span>

1. <span data-ttu-id="c87c5-202">Abra el proyecto web que creó en [Introducción al SDK de WebJobs de Azure][GetStartedWJ].</span><span class="sxs-lookup"><span data-stu-id="c87c5-202">Open the web project that you created in [Get Started with the Azure WebJobs SDK][GetStartedWJ].</span></span>
2. <span data-ttu-id="c87c5-203">En el proyecto ContosoAdsWebJob, abra *Functions.cs*.</span><span class="sxs-lookup"><span data-stu-id="c87c5-203">In the ContosoAdsWebJob project, open *Functions.cs*.</span></span>
3. <span data-ttu-id="c87c5-204">[Establezca un punto de interrupción](http://www.visualstudio.com/get-started/debug-your-app-vs.aspx) en la primera instrucción del método `GnerateThumbnail`.</span><span class="sxs-lookup"><span data-stu-id="c87c5-204">[Set a breakpoint](http://www.visualstudio.com/get-started/debug-your-app-vs.aspx) on the first statement in the `GnerateThumbnail` method.</span></span>

    ![Establecimiento de punto de interrupción](./media/web-sites-dotnet-troubleshoot-visual-studio/wjbreakpoint.png)
4. <span data-ttu-id="c87c5-206">En el **Explorador de soluciones**, haga clic con el botón derecho en el proyecto web (no el proyecto WebJob) y, luego, haga clic en **Publicar**.</span><span class="sxs-lookup"><span data-stu-id="c87c5-206">In **Solution Explorer**, right-click the web project (not the WebJob project), and click **Publish**.</span></span>
5. <span data-ttu-id="c87c5-207">En la lista desplegable **Perfil** , seleccione el mismo perfil que utilizó en [Introducción al SDK de WebJobs de Azure](websites-dotnet-webjobs-sdk.md).</span><span class="sxs-lookup"><span data-stu-id="c87c5-207">In the **Profile** drop-down list, select the same profile that you used in [Get Started with the Azure WebJobs SDK](websites-dotnet-webjobs-sdk.md).</span></span>
6. <span data-ttu-id="c87c5-208">Haga clic en la pestaña **Configuración**, cambie la **Configuración** a **Depurar** y, luego, haga clic en **Publicar**.</span><span class="sxs-lookup"><span data-stu-id="c87c5-208">Click the **Settings** tab, and change **Configuration** to **Debug**, and then click **Publish**.</span></span>

    <span data-ttu-id="c87c5-209">Visual Studio implementará los proyectos web y de WebJobs, y el explorador se abrirá en la dirección URL de Azure de su aplicación web.</span><span class="sxs-lookup"><span data-stu-id="c87c5-209">Visual Studio deploys the web and WebJob projects, and your browser opens to the Azure URL of your web app.</span></span>
7. <span data-ttu-id="c87c5-210">En el **Explorador de servidores**, expanda **Azure > App Service > su grupo de recursos > su aplic. web > WebJobs > Continuo** y, a continuación, haga clic con el botón derecho en **ContosoAdsWebJob**.</span><span class="sxs-lookup"><span data-stu-id="c87c5-210">In **Server Explorer** expand **Azure > App Service > your resource group > your web app > WebJobs > Continuous**, and then right-click **ContosoAdsWebJob**.</span></span>
8. <span data-ttu-id="c87c5-211">Haga clic en **Adjuntar el depurador**.</span><span class="sxs-lookup"><span data-stu-id="c87c5-211">Click **Attach Debugger**.</span></span>

    ![Asociar depurador](./media/web-sites-dotnet-troubleshoot-visual-studio/wjattach.png)

    <span data-ttu-id="c87c5-213">El explorador se abre automáticamente en su página inicial en ejecución en Azure.</span><span class="sxs-lookup"><span data-stu-id="c87c5-213">The browser automatically opens to your home page running in Azure.</span></span> <span data-ttu-id="c87c5-214">Es posible que deba esperar unos 20 segundos mientras Azure configura el servidor para la depuración.</span><span class="sxs-lookup"><span data-stu-id="c87c5-214">You might have to wait 20 seconds or so while Azure sets up the server for debugging.</span></span> <span data-ttu-id="c87c5-215">Esta demora solo se produce la primera vez que ejecuta el modo de depuración en una aplicación web.</span><span class="sxs-lookup"><span data-stu-id="c87c5-215">This delay only happens the first time you run in debug mode on a web app.</span></span> <span data-ttu-id="c87c5-216">La siguiente vez que adjunte el depurador no se producirá un retraso, si lo hace en 48 horas.</span><span class="sxs-lookup"><span data-stu-id="c87c5-216">The next time you attach the debugger there won't be a delay, if you do it within 48 hours.</span></span>
9. <span data-ttu-id="c87c5-217">En el explorador web que se abre en la página principal de Contoso Ads, cree un nuevo anuncio.</span><span class="sxs-lookup"><span data-stu-id="c87c5-217">In the web browser that is opened to the Contoso Ads home page, create a new ad.</span></span>

    <span data-ttu-id="c87c5-218">Al crear un anuncio, se crea un mensaje de la cola, que WebJob recoge y procesa.</span><span class="sxs-lookup"><span data-stu-id="c87c5-218">Creating an ad causes a queue message to be created, which will be picked up by the WebJob and processed.</span></span> <span data-ttu-id="c87c5-219">Cuando el SDK de WebJobs llama a la función para procesar el mensaje de la cola, el código alcanzará el punto de interrupción.</span><span class="sxs-lookup"><span data-stu-id="c87c5-219">When the WebJobs SDK calls the function to process the queue message, the code will hit your breakpoint.</span></span>
10. <span data-ttu-id="c87c5-220">Cuando el depurador se interrumpe en el punto de interrupción, puede examinar y cambiar los valores de las variables mientras está ejecutando el programa en la nube.</span><span class="sxs-lookup"><span data-stu-id="c87c5-220">When the debugger breaks at your breakpoint, you can examine and change variable values while the program is running the cloud.</span></span> <span data-ttu-id="c87c5-221">En la siguiente ilustración, el depurador muestra el contenido del objeto blobInfo que se pasó al método GenerateThumbnail.</span><span class="sxs-lookup"><span data-stu-id="c87c5-221">In the following illustration the debugger shows the contents of the blobInfo object that was passed to the GenerateThumbnail method.</span></span>

     ![Objeto blobInfo en el depurador](./media/web-sites-dotnet-troubleshoot-visual-studio/blobinfo.png)
11. <span data-ttu-id="c87c5-223">Presione F5 para continuar la ejecución.</span><span class="sxs-lookup"><span data-stu-id="c87c5-223">Press F5 to continue running.</span></span>

     <span data-ttu-id="c87c5-224">El método GenerateThumbnail finaliza la creación de la miniatura.</span><span class="sxs-lookup"><span data-stu-id="c87c5-224">The GenerateThumbnail method finishes creating the thumbnail.</span></span>
12. <span data-ttu-id="c87c5-225">En el explorador, actualice la página de índice y vea la miniatura.</span><span class="sxs-lookup"><span data-stu-id="c87c5-225">In the browser, refresh the Index page and you see the thumbnail.</span></span>
13. <span data-ttu-id="c87c5-226">En Visual Studio, presione MAYÚS+F5 para detener la depuración.</span><span class="sxs-lookup"><span data-stu-id="c87c5-226">In Visual Studio, press SHIFT+F5 to stop debugging.</span></span>
14. <span data-ttu-id="c87c5-227">En el **Explorador de servidores**, haga clic con el botón derecho en el nodo ContosoAdsWebJob y, luego, haga clic en **Ver panel**.</span><span class="sxs-lookup"><span data-stu-id="c87c5-227">In **Server Explorer**, right-click the ContosoAdsWebJob node and click **View Dashboard**.</span></span>
15. <span data-ttu-id="c87c5-228">Inicie sesión con sus credenciales de Azure y, a continuación, haga clic en el nombre de WebJob para ir a la página de su WebJob.</span><span class="sxs-lookup"><span data-stu-id="c87c5-228">Sign in with your Azure credentials, and then click the WebJob name to go to the page for your WebJob.</span></span>

     ![Clic en ContosoAdsWebJob](./media/web-sites-dotnet-troubleshoot-visual-studio/clickcaw.png)

     <span data-ttu-id="c87c5-230">El panel muestra la función GenerateThumbnail ejecutada recientemente.</span><span class="sxs-lookup"><span data-stu-id="c87c5-230">The Dashboard shows that the GenerateThumbnail function executed recently.</span></span>

     <span data-ttu-id="c87c5-231">(La próxima vez que haga clic en **Ver panel**, no tendrá que iniciar sesión y el explorador irá directamente a la página de su WebJob).</span><span class="sxs-lookup"><span data-stu-id="c87c5-231">(The next time you click **View Dashboard**, you don't have to sign in, and the browser goes directly to the page for your WebJob.)</span></span>
16. <span data-ttu-id="c87c5-232">Haga clic en el nombre de función para ver detalles acerca de la ejecución de la función.</span><span class="sxs-lookup"><span data-stu-id="c87c5-232">Click the function name to see details about the function execution.</span></span>

     ![Detalles de la función](./media/web-sites-dotnet-troubleshoot-visual-studio/funcdetails.png)

<span data-ttu-id="c87c5-234">Si la función [escribió registros](websites-dotnet-webjobs-sdk-storage-queues-how-to.md#logs), puede hacer clic en **ToggleOutput** para verlos.</span><span class="sxs-lookup"><span data-stu-id="c87c5-234">If your function [wrote logs](websites-dotnet-webjobs-sdk-storage-queues-how-to.md#logs), you could click **ToggleOutput** to see them.</span></span>

## <a name="notes-about-remote-debugging"></a><span data-ttu-id="c87c5-235">Notas acerca de la depuración remota</span><span class="sxs-lookup"><span data-stu-id="c87c5-235">Notes about remote debugging</span></span>
* <span data-ttu-id="c87c5-236">No se recomienda ejecutar el modo de depuración en producción.</span><span class="sxs-lookup"><span data-stu-id="c87c5-236">Running in debug mode in production is not recommended.</span></span> <span data-ttu-id="c87c5-237">Si su aplicación web de producción no está escalada horizontalmente en varias instancias de servidor, la depuración impedirá que el servidor web responda a otras solicitudes.</span><span class="sxs-lookup"><span data-stu-id="c87c5-237">If your production web app is not scaled out to multiple server instances, debugging will prevent the web server from responding to other requests.</span></span> <span data-ttu-id="c87c5-238">Si tiene varias instancias de servidor web, cuando se asocie al depurador recibirá una instancia aleatoria y no tendrá forma de asegurarse de que las solicitudes del explorador siguientes se dirijan a esa instancia.</span><span class="sxs-lookup"><span data-stu-id="c87c5-238">If you do have multiple web server instances, when you attach to the debugger you'll get a random instance, and you have no way to ensure that subsequent browser requests will go to that instance.</span></span> <span data-ttu-id="c87c5-239">Además, normalmente no implementará una compilación de depuración en producción, y las optimizaciones de compilador para compilaciones de versión podrían hacer imposible mostrar lo que ocurre línea a línea en su código fuente.</span><span class="sxs-lookup"><span data-stu-id="c87c5-239">Also, you typically don't deploy a debug build to production, and compiler optimizations for release builds might make it impossible to show what is happening line by line in your source code.</span></span> <span data-ttu-id="c87c5-240">Para solucionar problemas de producción, su mejor recurso son los registros de servidor web y de seguimiento de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="c87c5-240">For troubleshooting production problems, your best resource is application tracing and web server logs.</span></span>
* <span data-ttu-id="c87c5-241">Evite detenciones prolongadas en los puntos de interrupción durante la depuración remota.</span><span class="sxs-lookup"><span data-stu-id="c87c5-241">Avoid long stops at breakpoints when remote debugging.</span></span> <span data-ttu-id="c87c5-242">Azure considera un proceso detenido durante más de unos minutos como un proceso sin respuesta y lo apaga.</span><span class="sxs-lookup"><span data-stu-id="c87c5-242">Azure treats a process that is stopped for longer than a few minutes as an unresponsive process, and shuts it down.</span></span>
* <span data-ttu-id="c87c5-243">Mientras realiza la depuración, el servidor envía datos a Visual Studio, lo que podría afectar a los cargos de ancho de banda.</span><span class="sxs-lookup"><span data-stu-id="c87c5-243">While you're debugging, the server is sending data to Visual Studio, which could affect bandwidth charges.</span></span> <span data-ttu-id="c87c5-244">Para obtener información acerca de las tarifas de ancho de banda, consulte [Precios de Azure](https://azure.microsoft.com/pricing/calculator/).</span><span class="sxs-lookup"><span data-stu-id="c87c5-244">For information about bandwidth rates, see [Azure Pricing](https://azure.microsoft.com/pricing/calculator/).</span></span>
* <span data-ttu-id="c87c5-245">Asegúrese de que el atributo `debug` del elemento `compilation` en el archivo *Web.config* esté establecido en true.</span><span class="sxs-lookup"><span data-stu-id="c87c5-245">Make sure that the `debug` attribute of the `compilation` element in the *Web.config* file is set to true.</span></span> <span data-ttu-id="c87c5-246">Este es el valor predeterminado cuando publica una configuración de compilación de depuración.</span><span class="sxs-lookup"><span data-stu-id="c87c5-246">It is set to true by default when you publish a debug build configuration.</span></span>

        <system.web>
          <compilation debug="true" targetFramework="4.5" />
          <httpRuntime targetFramework="4.5" />
        </system.web>
* <span data-ttu-id="c87c5-247">Si encuentra que el depurador no entra en el código que desea depurar, es posible que deba cambiar la configuración de Solo mi código.</span><span class="sxs-lookup"><span data-stu-id="c87c5-247">If you find that the debugger won't step into code that you want to debug, you might have to change the Just My Code setting.</span></span>  <span data-ttu-id="c87c5-248">Para obtener más información, consulte [Restricción de la ejecución paso a paso a Solo mi código](http://msdn.microsoft.com/library/vstudio/y740d9d3.aspx#BKMK_Restrict_stepping_to_Just_My_Code).</span><span class="sxs-lookup"><span data-stu-id="c87c5-248">For more information, see [Restrict stepping to Just My Code](http://msdn.microsoft.com/library/vstudio/y740d9d3.aspx#BKMK_Restrict_stepping_to_Just_My_Code).</span></span>
* <span data-ttu-id="c87c5-249">Cuando habilita la característica de depuración remota, se inicia un temporizador en el servidor y 48 horas después la característica se desactiva automáticamente.</span><span class="sxs-lookup"><span data-stu-id="c87c5-249">A timer starts on the server when you enable the remote debugging feature, and after 48 hours the feature is automatically turned off.</span></span> <span data-ttu-id="c87c5-250">Este límite de 48 horas es por motivos de seguridad y rendimiento.</span><span class="sxs-lookup"><span data-stu-id="c87c5-250">This 48 hour limit is done for security and performance reasons.</span></span> <span data-ttu-id="c87c5-251">Puede activar fácilmente la característica las veces que lo desee.</span><span class="sxs-lookup"><span data-stu-id="c87c5-251">You can easily turn the feature back on as many times as you like.</span></span> <span data-ttu-id="c87c5-252">Recomendamos dejarla deshabilitada cuando no esté realizando activamente una depuración.</span><span class="sxs-lookup"><span data-stu-id="c87c5-252">We recommend leaving it disabled when you are not actively debugging.</span></span>
* <span data-ttu-id="c87c5-253">Puede asociar manualmente el depurador a cualquier proceso, no solo al proceso de la aplicación web (w3wp.exe).</span><span class="sxs-lookup"><span data-stu-id="c87c5-253">You can manually attach the debugger to any process, not only the web app process (w3wp.exe).</span></span> <span data-ttu-id="c87c5-254">Para obtener más información acerca de cómo utilizar el modo de depuración en Visual Studio, consulte [Depuración en Visual Studio](http://msdn.microsoft.com/library/vstudio/sc65sadd.aspx).</span><span class="sxs-lookup"><span data-stu-id="c87c5-254">For more information about how to use debug mode in Visual Studio, see [Debugging in Visual Studio](http://msdn.microsoft.com/library/vstudio/sc65sadd.aspx).</span></span>

## <span data-ttu-id="c87c5-255"><a name="logsoverview"></a>Información general de registros de diagnóstico</span><span class="sxs-lookup"><span data-stu-id="c87c5-255"><a name="logsoverview"></a>Diagnostic logs overview</span></span>
<span data-ttu-id="c87c5-256">Una aplicación de ASP.NET que se ejecuta en una aplicación web de Azure puede crear las siguientes clases de registros:</span><span class="sxs-lookup"><span data-stu-id="c87c5-256">An ASP.NET application that runs in an Azure web app can create the following kinds of logs:</span></span>

* <span data-ttu-id="c87c5-257">**Registros de seguimiento de aplicación**</span><span class="sxs-lookup"><span data-stu-id="c87c5-257">**Application tracing logs**</span></span><br/>
  <span data-ttu-id="c87c5-258">La aplicación crea estos registros mediante la llamada a métodos de la clase [System.Diagnostics.Trace](http://msdn.microsoft.com/library/system.diagnostics.trace.aspx) .</span><span class="sxs-lookup"><span data-stu-id="c87c5-258">The application creates these logs by calling methods of the [System.Diagnostics.Trace](http://msdn.microsoft.com/library/system.diagnostics.trace.aspx) class.</span></span>
* <span data-ttu-id="c87c5-259">**Registros de servidor web**</span><span class="sxs-lookup"><span data-stu-id="c87c5-259">**Web server logs**</span></span><br/>
  <span data-ttu-id="c87c5-260">El servidor web crea una entrada de registro para cada solicitud HTTP a la aplicación web.</span><span class="sxs-lookup"><span data-stu-id="c87c5-260">The web server creates a log entry for every HTTP request to the web app.</span></span>
* <span data-ttu-id="c87c5-261">**Registros de mensaje de error detallados**</span><span class="sxs-lookup"><span data-stu-id="c87c5-261">**Detailed error message logs**</span></span><br/>
  <span data-ttu-id="c87c5-262">El servidor web crea una página HTML con algo de información adicional para solicitudes HTTP con error (las que generan el código de error 400 o superior).</span><span class="sxs-lookup"><span data-stu-id="c87c5-262">The web server creates an HTML page with some additional information for failed HTTP requests (those that result in status code 400 or greater).</span></span>
* <span data-ttu-id="c87c5-263">**Registros de seguimiento de solicitudes con error**</span><span class="sxs-lookup"><span data-stu-id="c87c5-263">**Failed request tracing logs**</span></span><br/>
  <span data-ttu-id="c87c5-264">El servidor web crea un archivo XML con información de seguimiento detallada para solicitudes HTTP con error.</span><span class="sxs-lookup"><span data-stu-id="c87c5-264">The web server creates an XML file with detailed tracing information for failed HTTP requests.</span></span> <span data-ttu-id="c87c5-265">El servidor web también proporciona un archivo XSL para dar formato al XML en un explorador.</span><span class="sxs-lookup"><span data-stu-id="c87c5-265">The web server also provides an XSL file to format the XML in a browser.</span></span>

<span data-ttu-id="c87c5-266">El registro afecta el rendimiento de la aplicación web, por lo que Azure le ofrece la posibilidad de habilitar o deshabilitar cada tipo de registro según sea necesario.</span><span class="sxs-lookup"><span data-stu-id="c87c5-266">Logging affects web app performance, so Azure gives you the ability to enable or disable each type of log as needed.</span></span> <span data-ttu-id="c87c5-267">En el caso de registros de aplicaciones, puede especificar que solo se escriban los registros por encima de un determinado nivel de gravedad.</span><span class="sxs-lookup"><span data-stu-id="c87c5-267">For application logs, you can specify that only logs above a certain severity level should be written.</span></span> <span data-ttu-id="c87c5-268">Cuando crea una aplicación web, todos los registros están deshabilitados de manera predeterminada.</span><span class="sxs-lookup"><span data-stu-id="c87c5-268">When you create a new web app, by default all logging is disabled.</span></span>

<span data-ttu-id="c87c5-269">Los registros se escriben en archivos en una carpeta *LogFiles* en el sistema de archivos del sitio web y son accesibles a través de FTP.</span><span class="sxs-lookup"><span data-stu-id="c87c5-269">Logs are written to files in a *LogFiles* folder in the file system of your web app and are accessible via FTP.</span></span> <span data-ttu-id="c87c5-270">Los registros de servidor web y registros de aplicaciones también se pueden escribir en una cuenta de almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="c87c5-270">Web server logs and application logs can also be written to an Azure Storage account.</span></span> <span data-ttu-id="c87c5-271">Puede conservar un volumen mayor de registros en una cuenta de almacenamiento de lo que es posible en el sistema de archivos.</span><span class="sxs-lookup"><span data-stu-id="c87c5-271">You can retain a greater volume of logs in a storage account than is possible in the file system.</span></span> <span data-ttu-id="c87c5-272">Cuando utiliza el sistema de archivos, tiene un límite máximo de 100 megabytes de registros.</span><span class="sxs-lookup"><span data-stu-id="c87c5-272">You're limited to a maximum of 100 megabytes of logs when you use the file system.</span></span> <span data-ttu-id="c87c5-273">(Los registros del sistema de archivos solo sirven para la conservación a corto plazo.</span><span class="sxs-lookup"><span data-stu-id="c87c5-273">(File system logs are only for short-term retention.</span></span> <span data-ttu-id="c87c5-274">Azure elimina los archivos de registro antiguos para dejar espacio para los nuevos una vez que se alcanza el límite).</span><span class="sxs-lookup"><span data-stu-id="c87c5-274">Azure deletes old log files to make room for new ones after the limit is reached.)</span></span>  

## <span data-ttu-id="c87c5-275"><a name="apptracelogs"></a>Creación y visualización de registros de seguimiento de aplicación</span><span class="sxs-lookup"><span data-stu-id="c87c5-275"><a name="apptracelogs"></a>Create and view application trace logs</span></span>
<span data-ttu-id="c87c5-276">En esta sección realizará las siguientes tareas:</span><span class="sxs-lookup"><span data-stu-id="c87c5-276">In this section you'll do the following tasks:</span></span>

* <span data-ttu-id="c87c5-277">Agregue instrucciones de seguimiento para el proyecto web que creó en [Introducción a Azure y ASP.NET][GetStarted].</span><span class="sxs-lookup"><span data-stu-id="c87c5-277">Add tracing statements to the web project that you created in [Get started with Azure and ASP.NET][GetStarted].</span></span>
* <span data-ttu-id="c87c5-278">Ver los registros cuando ejecute localmente el proyecto.</span><span class="sxs-lookup"><span data-stu-id="c87c5-278">View the logs when you run the project locally.</span></span>
* <span data-ttu-id="c87c5-279">Ver los registros a medida que los genera la aplicación que se ejecuta en Azure.</span><span class="sxs-lookup"><span data-stu-id="c87c5-279">View the logs as they are generated by the application running in Azure.</span></span>

<span data-ttu-id="c87c5-280">Para obtener información acerca de cómo crear registros de aplicaciones en WebJobs, consulte [Trabajo con el almacenamiento de cola de Azure mediante el SDK de WebJobs - Cómo escribir registros](websites-dotnet-webjobs-sdk-storage-queues-how-to.md#logs).</span><span class="sxs-lookup"><span data-stu-id="c87c5-280">For information about how to create application logs in WebJobs, see [How to work with Azure queue storage using the WebJobs SDK - How to write logs](websites-dotnet-webjobs-sdk-storage-queues-how-to.md#logs).</span></span> <span data-ttu-id="c87c5-281">Las instrucciones siguientes para ver los registros y controlar cómo se almacenan en Azure se aplican también a los registros de aplicación creados por WebJobs.</span><span class="sxs-lookup"><span data-stu-id="c87c5-281">The following instructions for viewing logs and controlling how they're stored in Azure apply also to application logs created by WebJobs.</span></span>

### <a name="add-tracing-statements-to-the-application"></a><span data-ttu-id="c87c5-282">Adición de instrucciones de seguimiento a la aplicación</span><span class="sxs-lookup"><span data-stu-id="c87c5-282">Add tracing statements to the application</span></span>
1. <span data-ttu-id="c87c5-283">Abra *Controllers\HomeController.cs* y reemplace los métodos `Index`, `About` y `Contact` por el siguiente código para agregar instrucciones `Trace` y una instrucción `using` para `System.Diagnostics`:</span><span class="sxs-lookup"><span data-stu-id="c87c5-283">Open *Controllers\HomeController.cs*, and replace the `Index`, `About`, and `Contact` methods with the following code in order to add `Trace` statements and a `using` statement for `System.Diagnostics`:</span></span>

        public ActionResult Index()
        {
            Trace.WriteLine("Entering Index method");
            ViewBag.Message = "Modify this template to jump-start your ASP.NET MVC application.";
            Trace.TraceInformation("Displaying the Index page at " + DateTime.Now.ToLongTimeString());
            Trace.WriteLine("Leaving Index method");
            return View();
        }

        public ActionResult About()
        {
            Trace.WriteLine("Entering About method");
            ViewBag.Message = "Your app description page.";
            Trace.TraceWarning("Transient error on the About page at " + DateTime.Now.ToShortTimeString());
            Trace.WriteLine("Leaving About method");
            return View();
        }

        public ActionResult Contact()
        {
            Trace.WriteLine("Entering Contact method");
            ViewBag.Message = "Your contact page.";
            Trace.TraceError("Fatal error on the Contact page at " + DateTime.Now.ToLongTimeString());
            Trace.WriteLine("Leaving Contact method");
            return View();
        }        
2. <span data-ttu-id="c87c5-284">Agregue una instrucción `using System.Diagnostics;` a la parte superior del archivo.</span><span class="sxs-lookup"><span data-stu-id="c87c5-284">Add a `using System.Diagnostics;` statement to the top of the file.</span></span>

### <a name="view-the-tracing-output-locally"></a><span data-ttu-id="c87c5-285">Visualización del resultado de seguimiento localmente</span><span class="sxs-lookup"><span data-stu-id="c87c5-285">View the tracing output locally</span></span>
1. <span data-ttu-id="c87c5-286">Presione F5 para ejecutar la aplicación en modo de depuración.</span><span class="sxs-lookup"><span data-stu-id="c87c5-286">Press F5 to run the application in debug mode.</span></span>

    <span data-ttu-id="c87c5-287">La escucha de seguimiento predeterminada escribe todo el resultado del seguimiento en la ventana **Resultados** , además del resultado de la depuración.</span><span class="sxs-lookup"><span data-stu-id="c87c5-287">The default trace listener writes all trace output to the **Output** window, along with other Debug output.</span></span> <span data-ttu-id="c87c5-288">La siguiente ilustración muestra el resultado de las instrucciones de seguimiento que agregó al método `Index` .</span><span class="sxs-lookup"><span data-stu-id="c87c5-288">The following illustration shows the output from the trace statements that you added to the `Index` method.</span></span>

    ![Ventana de seguimiento en depuración](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-debugtracing.png)

    <span data-ttu-id="c87c5-290">Los pasos siguientes muestran cómo ver el resultado del seguimiento en una página web, sin compilar en modo de depuración.</span><span class="sxs-lookup"><span data-stu-id="c87c5-290">The following steps show how to view trace output in a web page, without compiling in debug mode.</span></span>
2. <span data-ttu-id="c87c5-291">Abra el archivo Web.config de la aplicación (el que está ubicado en la carpeta del proyecto) y agregue un elemento `<system.diagnostics>` al final del archivo, justo antes del elemento `</configuration>` de cierre:</span><span class="sxs-lookup"><span data-stu-id="c87c5-291">Open the application Web.config file (the one located in the project folder) and add a `<system.diagnostics>` element at the end of the file just before the closing `</configuration>` element:</span></span>

          <system.diagnostics>
            <trace>
              <listeners>
                <add name="WebPageTraceListener"
                    type="System.Web.WebPageTraceListener,
                    System.Web,
                    Version=4.0.0.0,
                    Culture=neutral,
                    PublicKeyToken=b03f5f7f11d50a3a" />
              </listeners>
            </trace>
          </system.diagnostics>

    <span data-ttu-id="c87c5-292">`WebPageTraceListener` le permite ver los resultados de seguimiento si navega a `/trace.axd`.</span><span class="sxs-lookup"><span data-stu-id="c87c5-292">The `WebPageTraceListener` lets you view trace output by browsing to `/trace.axd`.</span></span>
3. <span data-ttu-id="c87c5-293">Agregue un <a href="http://msdn.microsoft.com/library/vstudio/6915t83k(v=vs.100).aspx">elemento de seguimiento</a> bajo `<system.web>` en el archivo Web.config, como en el siguiente ejemplo:</span><span class="sxs-lookup"><span data-stu-id="c87c5-293">Add a <a href="http://msdn.microsoft.com/library/vstudio/6915t83k(v=vs.100).aspx">trace element</a> under `<system.web>` in the Web.config file, such as the following example:</span></span>

        <trace enabled="true" writeToDiagnosticsTrace="true" mostRecent="true" pageOutput="false" />
4. <span data-ttu-id="c87c5-294">Presione CTRL+F5 para ejecutar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="c87c5-294">Press CTRL+F5 to run the application.</span></span>
5. <span data-ttu-id="c87c5-295">En la barra de direcciones de la ventana del explorador, agregue *trace.axd* a la dirección URL y, a continuación, presione Entrar (la dirección URL será similar a http://localhost:53370/trace.axd).</span><span class="sxs-lookup"><span data-stu-id="c87c5-295">In the address bar of the browser window, add *trace.axd* to the URL, and then press Enter (the URL will be similar to http://localhost:53370/trace.axd).</span></span>
6. <span data-ttu-id="c87c5-296">En la página **Seguimiento de la aplicación**, haga clic en **Ver detalles** en la primera línea (no en la línea BrowserLink).</span><span class="sxs-lookup"><span data-stu-id="c87c5-296">On the **Application Trace** page, click **View Details** on the first line (not the BrowserLink line).</span></span>

    ![trace.axd](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-traceaxd1.png)

    <span data-ttu-id="c87c5-298">Aparece la página **Detalles de la solicitud** y en la sección **Información de seguimiento**, podrá ver el resultado de las instrucciones de seguimiento que agregó al método `Index`.</span><span class="sxs-lookup"><span data-stu-id="c87c5-298">The **Request Details** page appears, and in the **Trace Information** section you see the output from the trace statements that you added to the `Index` method.</span></span>

    ![trace.axd](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-traceaxd2.png)

    <span data-ttu-id="c87c5-300">De manera predeterminada, `trace.axd` solo está disponible localmente.</span><span class="sxs-lookup"><span data-stu-id="c87c5-300">By default, `trace.axd` is only available locally.</span></span> <span data-ttu-id="c87c5-301">Si desea que esté disponible desde una aplicación remota, puede agregar `localOnly="false"` al elemento `trace` en el archivo *Web.config*, tal como aparece en el siguiente ejemplo:</span><span class="sxs-lookup"><span data-stu-id="c87c5-301">If you wanted to make it available from a remote web app, you could add `localOnly="false"` to the `trace` element in the *Web.config* file, as shown in the following example:</span></span>

        <trace enabled="true" writeToDiagnosticsTrace="true" localOnly="false" mostRecent="true" pageOutput="false" />

    <span data-ttu-id="c87c5-302">Sin embargo, por lo general no se recomienda habilitar `trace.axd` en una aplicación web de producción por motivos de seguridad y en las siguientes secciones verá una manera más fácil de leer los registros de seguimiento en una aplicación web de Azure.</span><span class="sxs-lookup"><span data-stu-id="c87c5-302">However, enabling `trace.axd` in a production web app is generally not recommended for security reasons, and in the following sections you'll see an easier way to read tracing logs in an Azure web app.</span></span>

### <a name="view-the-tracing-output-in-azure"></a><span data-ttu-id="c87c5-303">Visualización del resultado de seguimiento en Azure</span><span class="sxs-lookup"><span data-stu-id="c87c5-303">View the tracing output in Azure</span></span>
1. <span data-ttu-id="c87c5-304">En el **Explorador de soluciones**, haga clic con el botón derecho en el proyecto web y, a continuación, en **Publicar**.</span><span class="sxs-lookup"><span data-stu-id="c87c5-304">In **Solution Explorer**, right-click the web project and click **Publish**.</span></span>
2. <span data-ttu-id="c87c5-305">En el cuadro de diálogo **Publicación web**, haga clic en **Publicar**.</span><span class="sxs-lookup"><span data-stu-id="c87c5-305">In the **Publish Web** dialog box, click **Publish**.</span></span>

    <span data-ttu-id="c87c5-306">Después de que Visual Studio publica su actualización, se abre una ventana del explorador en su página principal (suponiendo que no desactivó **Dirección URL de destino** en la pestaña **Conexión**).</span><span class="sxs-lookup"><span data-stu-id="c87c5-306">After Visual Studio publishes your update, it opens a browser window to your home page (assuming you didn't clear **Destination URL** on the **Connection** tab).</span></span>
3. <span data-ttu-id="c87c5-307">En el **Explorador de servidores**, haga clic con el botón derecho en su aplic. web y seleccione **Ver registros de streaming**.</span><span class="sxs-lookup"><span data-stu-id="c87c5-307">In **Server Explorer**, right-click your web app and select **View Streaming Logs**.</span></span>

    ![Ver registros de streaming en el menú contextual](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-viewlogsmenu.png)

    <span data-ttu-id="c87c5-309">La ventana **Resultados** muestra que está conectado al servicio de streaming de registros y agrega una línea de notificación cada minuto que pasa sin un registro para mostrar.</span><span class="sxs-lookup"><span data-stu-id="c87c5-309">The **Output** window shows that you are connected to the log-streaming service, and adds a notification line each minute that goes by without a log to display.</span></span>

    ![Ver registros de streaming en el menú contextual](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-nologsyet.png)
4. <span data-ttu-id="c87c5-311">En la ventana del explorador que muestra la página principal de su aplicación, haga clic en **Contact**.</span><span class="sxs-lookup"><span data-stu-id="c87c5-311">In the browser window that shows your application home page, click **Contact**.</span></span>

    <span data-ttu-id="c87c5-312">En unos pocos segundos, el resultado del seguimiento en el nivel de error que agregó al método `Contact` aparecerá en la ventana **Resultados** .</span><span class="sxs-lookup"><span data-stu-id="c87c5-312">Within a few seconds the output from the error-level trace you added to the `Contact` method appears in the **Output** window.</span></span>

    ![Seguimiento de errores en la ventana Output](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-errortrace.png)

    <span data-ttu-id="c87c5-314">Visual Studio muestra solo seguimientos en el nivel de errores porque es el valor predeterminado cuando habilita el servicio de supervisión de registros.</span><span class="sxs-lookup"><span data-stu-id="c87c5-314">Visual Studio is only showing error-level traces because that is the default setting when you enable the log monitoring service.</span></span> <span data-ttu-id="c87c5-315">Cuando crea una aplicación web de Azure, todos los registros están deshabilitados de manera predeterminada, tal como vio cuando abrió anteriormente la página de configuración:</span><span class="sxs-lookup"><span data-stu-id="c87c5-315">When you create a new Azure web app, all logging is disabled by default, as you saw when you opened the settings page earlier:</span></span>

    ![Registro de aplicación desactivado](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-apploggingoff.png)

    <span data-ttu-id="c87c5-317">Sin embargo, cuando selecciona **Ver registros de streaming**, Visual Studio cambia automáticamente **Registro de la aplicación (sistema de archivos)** a **Error**, lo que significa que los registros de errores se notifican.</span><span class="sxs-lookup"><span data-stu-id="c87c5-317">However, when you selected **View Streaming Logs**, Visual Studio automatically changed **Application Logging(File System)** to **Error**, which means error-level logs get reported.</span></span> <span data-ttu-id="c87c5-318">Para ver todos los registros de seguimiento, puede cambiar esta configuración a **Detallado**.</span><span class="sxs-lookup"><span data-stu-id="c87c5-318">In order to see all of your tracing logs, you can change this setting to **Verbose**.</span></span> <span data-ttu-id="c87c5-319">Cuando selecciona un nivel de gravedad inferior al error, también se notifican todos los registros para niveles de gravedad más altos.</span><span class="sxs-lookup"><span data-stu-id="c87c5-319">When you select a severity level lower than error, all logs for higher severity levels are also reported.</span></span> <span data-ttu-id="c87c5-320">Por lo tanto, cuando selecciona detallado, también verá registros de errores, advertencias e información.</span><span class="sxs-lookup"><span data-stu-id="c87c5-320">So when you select verbose, you also see information, warning, and error logs.</span></span>  

1. <span data-ttu-id="c87c5-321">En el **Explorador de servidores**, haga clic con el botón derecho en la aplic. web y, a continuación, haga clic en **Ver configuración** tal como hizo anteriormente.</span><span class="sxs-lookup"><span data-stu-id="c87c5-321">In **Server Explorer**, right-click the web app, and then click **View Settings** as you did earlier.</span></span>
2. <span data-ttu-id="c87c5-322">Cambie **Registro de la aplicación (sistema de archivos)** a **Detallado** y haga clic en **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="c87c5-322">Change **Application Logging (File System)** to **Verbose**, and then click **Save**.</span></span>

    ![Definir el nivel de seguimiento como Verbose](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-applogverbose.png)
3. <span data-ttu-id="c87c5-324">En la ventana del explorador que ahora muestra su página **Contacto**, haga clic en **Inicio**, en **Información** y, a continuación, haga clic en **Contacto**.</span><span class="sxs-lookup"><span data-stu-id="c87c5-324">In the browser window that is now showing your **Contact** page, click **Home**, then click **About**, and then click **Contact**.</span></span>

    <span data-ttu-id="c87c5-325">En unos pocos segundos, la ventana **Resultados** mostrará todos los resultados del seguimiento.</span><span class="sxs-lookup"><span data-stu-id="c87c5-325">Within a few seconds, the **Output** window shows all of your tracing output.</span></span>

    ![Resultados detallados del seguimiento](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-verbosetraces.png)

    <span data-ttu-id="c87c5-327">En esta sección aprendió a habilitar y deshabilitar el registro mediante la configuración de la aplicación web de Azure.</span><span class="sxs-lookup"><span data-stu-id="c87c5-327">In this section you enabled and disabled logging by using Azure web app settings.</span></span> <span data-ttu-id="c87c5-328">También puede habilitar y deshabilitar escuchas de seguimiento si modifica el archivo Web.config.</span><span class="sxs-lookup"><span data-stu-id="c87c5-328">You can also enable and disable trace listeners by modifying the Web.config file.</span></span> <span data-ttu-id="c87c5-329">Sin embargo, modificar el archivo Web.config hace que el dominio de la aplicación se recicle, mientras que habilitar el registro a través de la aplicación web no provoca eso.</span><span class="sxs-lookup"><span data-stu-id="c87c5-329">However, modifying the Web.config file causes the app domain to recycle, while enabling logging via the web app configuration doesn't do that.</span></span> <span data-ttu-id="c87c5-330">Si el problema tarda mucho en reproducirse, o bien es intermitente, reciclar el dominio de la aplicación podría "arreglarlo" y forzarle a esperar hasta que vuelva a ocurrir.</span><span class="sxs-lookup"><span data-stu-id="c87c5-330">If the problem takes a long time to reproduce, or is intermittent, recycling the app domain might "fix" it and force you to wait until it happens again.</span></span> <span data-ttu-id="c87c5-331">Permitir el diagnóstico en Azure no lo hace, por lo que puede comenzar inmediatamente a capturar información sobre el error.</span><span class="sxs-lookup"><span data-stu-id="c87c5-331">Enabling diagnostics in Azure doesn't do this, so you can start capturing error information immediately.</span></span>

### <a name="output-window-features"></a><span data-ttu-id="c87c5-332">Características de la ventana de salida</span><span class="sxs-lookup"><span data-stu-id="c87c5-332">Output window features</span></span>
<span data-ttu-id="c87c5-333">La pestaña **Registros de Azure** de la ventana **Resultados** tiene varios botones y un cuadro de texto:</span><span class="sxs-lookup"><span data-stu-id="c87c5-333">The **Azure Logs** tab of the **Output** Window has several buttons and a text box:</span></span>

![Botones de la pestaña de registros](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-icons.png)

<span data-ttu-id="c87c5-335">Estos elementos realizan las siguientes funciones:</span><span class="sxs-lookup"><span data-stu-id="c87c5-335">These perform the following functions:</span></span>

* <span data-ttu-id="c87c5-336">Limpiar la ventana **Resultado** .</span><span class="sxs-lookup"><span data-stu-id="c87c5-336">Clear the **Output** window.</span></span>
* <span data-ttu-id="c87c5-337">Habilitar o deshabilitar el ajuste automático de línea.</span><span class="sxs-lookup"><span data-stu-id="c87c5-337">Enable or disable word wrap.</span></span>
* <span data-ttu-id="c87c5-338">Iniciar o detener la supervisión de los registros.</span><span class="sxs-lookup"><span data-stu-id="c87c5-338">Start or stop monitoring logs.</span></span>
* <span data-ttu-id="c87c5-339">Especificar los registros para supervisar.</span><span class="sxs-lookup"><span data-stu-id="c87c5-339">Specify which logs to monitor.</span></span>
* <span data-ttu-id="c87c5-340">Descargar registros.</span><span class="sxs-lookup"><span data-stu-id="c87c5-340">Download logs.</span></span>
* <span data-ttu-id="c87c5-341">Filtrar los registros según una cadena de búsqueda o una expresión regular.</span><span class="sxs-lookup"><span data-stu-id="c87c5-341">Filter logs based on a search string or a regular expression.</span></span>
* <span data-ttu-id="c87c5-342">Cierre la ventana **Resultados** .</span><span class="sxs-lookup"><span data-stu-id="c87c5-342">Close the **Output** window.</span></span>

<span data-ttu-id="c87c5-343">Si especificó una cadena de búsqueda o una expresión regular, Visual Studio filtra la información de registro en el cliente.</span><span class="sxs-lookup"><span data-stu-id="c87c5-343">If you enter a search string or regular expression, Visual Studio filters logging information at the client.</span></span> <span data-ttu-id="c87c5-344">Esto significa que puede especificar los criterios después de que aparezcan los registros en la ventana **Resultados** y que puede cambiar esos criterios de filtrado sin tener que volver a generar los registros.</span><span class="sxs-lookup"><span data-stu-id="c87c5-344">That means you can enter the criteria after the logs are displayed in the **Output** window and you can change filtering criteria without having to regenerate the logs.</span></span>

## <span data-ttu-id="c87c5-345"><a name="webserverlogs"></a>Visualización de registros de servidor web</span><span class="sxs-lookup"><span data-stu-id="c87c5-345"><a name="webserverlogs"></a>View web server logs</span></span>
<span data-ttu-id="c87c5-346">Los registros de servidor web registran toda la actividad HTTP para la aplicación web.</span><span class="sxs-lookup"><span data-stu-id="c87c5-346">Web server logs record all HTTP activity for the web app.</span></span> <span data-ttu-id="c87c5-347">Para verlos en la ventana **Resultados** , debe habilitarlos en la aplicación web e indicarle a Visual Studio que desea supervisarlos.</span><span class="sxs-lookup"><span data-stu-id="c87c5-347">In order to see them in the **Output** window you have to enable them for the web app and tell Visual Studio that you want to monitor them.</span></span>

1. <span data-ttu-id="c87c5-348">En la pestaña **Configuración de aplicaciones web de Azure** que abrió desde el **Explorador de servidores**, cambie el registro de servidor web a **Activado** y haga clic en **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="c87c5-348">In the **Azure Web App Configuration** tab that you opened from **Server Explorer**, change Web Server Logging to **On**, and then click **Save**.</span></span>

    ![Habilitar el registro de servidor web](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-webserverloggingon.png)
2. <span data-ttu-id="c87c5-350">En la ventana **Resultados**, haga clic en el botón **Especificar los registros de Azure para supervisar**.</span><span class="sxs-lookup"><span data-stu-id="c87c5-350">In the **Output** Window, click the **Specify which Azure logs to monitor** button.</span></span>

    ![Especificar los registros de Azure para supervisar](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-specifylogs.png)
3. <span data-ttu-id="c87c5-352">En el cuadro de diálogo **Opciones de registro de Azure**, seleccione **Registros de servidor web** y haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="c87c5-352">In the **Azure Logging Options** dialog box, select **Web server logs**, and then click **OK**.</span></span>

    ![Supervisar los registros de servidor web](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-monitorwslogson.png)
4. <span data-ttu-id="c87c5-354">En la ventana del explorador que muestra la aplic. web, haga clic en **Inicio**, en **Información** y, a continuación, en **Contacto**.</span><span class="sxs-lookup"><span data-stu-id="c87c5-354">In the browser window that shows the web app, click **Home**, then click **About**, and then click **Contact**.</span></span>

    <span data-ttu-id="c87c5-355">Los registros de aplicación generalmente aparecen primero y luego aparecen los registros de servidor web.</span><span class="sxs-lookup"><span data-stu-id="c87c5-355">The application logs generally appear first, followed by the web server logs.</span></span> <span data-ttu-id="c87c5-356">Es posible que deba esperar un poco hasta que aparezcan.</span><span class="sxs-lookup"><span data-stu-id="c87c5-356">You might have to wait a while for the logs to appear.</span></span>

    ![Registros de servidor web en la ventana Output](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-wslogs.png)

<span data-ttu-id="c87c5-358">De manera predeterminada, cuando habilita por primera vez los registros de servidor web mediante el uso de Visual Studio, Azure escribe los registros en el sistema de archivos.</span><span class="sxs-lookup"><span data-stu-id="c87c5-358">By default, when you first enable web server logs by using Visual Studio, Azure writes the logs to the file system.</span></span> <span data-ttu-id="c87c5-359">De manera alternativa, puede utilizar el Portal de Azure para especificar que los registros de servidor web se deben escribir en un contenedor de blobs en una cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="c87c5-359">As an alternative, you can use the Azure portal to specify that web server logs should be written to a blob container in a storage account.</span></span>

<span data-ttu-id="c87c5-360">Si utiliza el portal para habilitar el registro de servidor web para una cuenta de almacenamiento de Azure y luego deshabilitar el registro en Visual Studio, cuando vuelva a habilitar el registro en Visual Studio, se restaurará la configuración de su cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="c87c5-360">If you use the portal to enable web server logging to an Azure storage account, and then disable logging in Visual Studio, when you re-enable logging in Visual Studio your storage account settings are restored.</span></span>

## <span data-ttu-id="c87c5-361"><a name="detailederrorlogs"></a>Visualización de registros de mensajes de error detallados</span><span class="sxs-lookup"><span data-stu-id="c87c5-361"><a name="detailederrorlogs"></a>View detailed error message logs</span></span>
<span data-ttu-id="c87c5-362">Los registros de error detallados proporcionan información adicional acerca de las solicitudes HTTP que generaron códigos de respuesta con error (400 o superiores).</span><span class="sxs-lookup"><span data-stu-id="c87c5-362">Detailed error logs provide some additional information about HTTP requests that result in error response codes (400 or above).</span></span> <span data-ttu-id="c87c5-363">Para verlos en la ventana **Resultados** , debe habilitarlos en la aplicación web e indicarle a Visual Studio que desea supervisarlos.</span><span class="sxs-lookup"><span data-stu-id="c87c5-363">In order to see them in the **Output** window, you have to enable them for the web app and tell Visual Studio that you want to monitor them.</span></span>

1. <span data-ttu-id="c87c5-364">En la pestaña **Configuración de aplicaciones web de Azure** que abrió desde el **Explorador de servidores**, cambie **Mensajes de error detallados** a **Activado** y haga clic en **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="c87c5-364">In the **Azure Web App Configuration** tab that you opened from **Server Explorer**, change **Detailed Error Messages** to **On**, and then click **Save**.</span></span>

    ![Habilitar los mensajes de error detallados](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-detailedlogson.png)
2. <span data-ttu-id="c87c5-366">En la ventana **Resultados**, haga clic en el botón **Especificar los registros de Azure para supervisar**.</span><span class="sxs-lookup"><span data-stu-id="c87c5-366">In the **Output** Window, click the **Specify which Azure logs to monitor** button.</span></span>
3. <span data-ttu-id="c87c5-367">En el cuadro de diálogo **Opciones de registro de Azure**, haga clic en **Todos los registros** y, a continuación, en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="c87c5-367">In the **Azure Logging Options** dialog box, click **All logs**, and then click **OK**.</span></span>

    ![Supervisar todos los registros](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-monitorall.png)
4. <span data-ttu-id="c87c5-369">En la barra de direcciones de la ventana del explorador, agregue un carácter adicional a la dirección URL para generar un error 404 (por ejemplo, `http://localhost:53370/Home/Contactx`) y presione Entrar.</span><span class="sxs-lookup"><span data-stu-id="c87c5-369">In the address bar of the browser window, add an extra character to the URL to cause a 404 error (for example, `http://localhost:53370/Home/Contactx`), and press Enter.</span></span>

    <span data-ttu-id="c87c5-370">Después de varios segundos, el registro detallado del error aparecerá en la ventana **Resultados** de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="c87c5-370">After several seconds the detailed error log appears in the Visual Studio **Output** window.</span></span>

    ![Registro de error detallado en la ventana Resultados](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-detailederrorlog.png)

    <span data-ttu-id="c87c5-372">Presione Ctrl y haga clic en el vínculo para ver el resultado del registro formateado en un explorador:</span><span class="sxs-lookup"><span data-stu-id="c87c5-372">Control+click the link to see the log output formatted in a browser:</span></span>

    ![Registro de error detallado en la ventana del explorador](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-detailederrorloginbrowser.png)

## <span data-ttu-id="c87c5-374"><a name="downloadlogs"></a>Descarga de registros del sistema de archivos</span><span class="sxs-lookup"><span data-stu-id="c87c5-374"><a name="downloadlogs"></a>Download file system logs</span></span>
<span data-ttu-id="c87c5-375">Todos los registros que se pueden supervisar en la ventana **Resultados** también pueden descargarse como un archivo *.zip*</span><span class="sxs-lookup"><span data-stu-id="c87c5-375">Any logs that you can monitor in the **Output** window can also be downloaded as a *.zip* file.</span></span>

1. <span data-ttu-id="c87c5-376">En la ventana **Resultados**, haga clic en **Descargar registros de streaming**.</span><span class="sxs-lookup"><span data-stu-id="c87c5-376">In the **Output** window, click **Download Streaming Logs**.</span></span>

    ![Botones de la pestaña de registros](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-downloadicon.png)

    <span data-ttu-id="c87c5-378">El Explorador de archivos abrirá la carpeta *Descargas* con el archivo descargado seleccionado.</span><span class="sxs-lookup"><span data-stu-id="c87c5-378">File Explorer opens to your *Downloads* folder with the downloaded file selected.</span></span>

    ![Archivo descargado](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-downloadedfile.png)
2. <span data-ttu-id="c87c5-380">Extraiga el archivo *.zip* y verá la siguiente estructura de carpetas:</span><span class="sxs-lookup"><span data-stu-id="c87c5-380">Extract the *.zip* file, and you see the following folder structure:</span></span>

    ![Archivo descargado](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-logfilefolders.png)

   * <span data-ttu-id="c87c5-382">Los registros de seguimiento de aplicación están en archivos *.txt* en la carpeta *LogFiles\Application*.</span><span class="sxs-lookup"><span data-stu-id="c87c5-382">Application tracing logs are in *.txt* files in the *LogFiles\Application* folder.</span></span>
   * <span data-ttu-id="c87c5-383">Los registros de servidor web están en archivos *.log* en la carpeta *LogFiles\http\RawLogs*.</span><span class="sxs-lookup"><span data-stu-id="c87c5-383">Web server logs are in *.log* files in the *LogFiles\http\RawLogs* folder.</span></span> <span data-ttu-id="c87c5-384">Puede utilizar una herramienta como [Analizador del registro](http://www.microsoft.com/download/details.aspx?displaylang=en&id=24659) para ver y manipular estos archivos.</span><span class="sxs-lookup"><span data-stu-id="c87c5-384">You can use a tool such as [Log Parser](http://www.microsoft.com/download/details.aspx?displaylang=en&id=24659) to view and manipulate these files.</span></span>
   * <span data-ttu-id="c87c5-385">Los registros de mensajes de error detallados están en los archivos *.html* de la carpeta *LogFiles\DetailedErrors*.</span><span class="sxs-lookup"><span data-stu-id="c87c5-385">Detailed error message logs are in *.html* files in the *LogFiles\DetailedErrors* folder.</span></span>

     <span data-ttu-id="c87c5-386">(La carpeta de *implementaciones* es para archivos creados por la publicación del control del código fuente; no tiene ninguna relación con la publicación en Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="c87c5-386">(The *deployments* folder is for files created by source control publishing; it doesn't have anything related to Visual Studio publishing.</span></span> <span data-ttu-id="c87c5-387">La carpeta *Git* es para seguimientos relacionados con la publicación de control de origen y el servicio de transmisión de archivos de registro).</span><span class="sxs-lookup"><span data-stu-id="c87c5-387">The *Git* folder is for traces related to source control publishing and the log file streaming service.)</span></span>  

## <span data-ttu-id="c87c5-388"><a name="storagelogs"></a>Visualización de registros de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="c87c5-388"><a name="storagelogs"></a>View storage logs</span></span>
<span data-ttu-id="c87c5-389">Los registros de seguimiento de la aplicación también se pueden enviar a una cuenta de almacenamiento de Azure y puede verlos en Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="c87c5-389">Application tracing logs can also be sent to an Azure storage account, and you can view them in Visual Studio.</span></span> <span data-ttu-id="c87c5-390">Para ello, creará una cuenta de almacenamiento, habilitará los registros de almacenamiento en el portal clásico y los verá en la pestaña **Registros** de la ventana **Aplicación web de Azure**.</span><span class="sxs-lookup"><span data-stu-id="c87c5-390">To do that you'll create a storage account, enable storage logs in the classic portal, and view them in the **Logs** tab of the **Azure Web App** window.</span></span>

<span data-ttu-id="c87c5-391">Puede enviar registros a todos o a cualquiera de estos tres destinos:</span><span class="sxs-lookup"><span data-stu-id="c87c5-391">You can send logs to any or all of three destinations:</span></span>

* <span data-ttu-id="c87c5-392">El sistema de archivos.</span><span class="sxs-lookup"><span data-stu-id="c87c5-392">The file system.</span></span>
* <span data-ttu-id="c87c5-393">Tablas de cuentas de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="c87c5-393">Storage account tables.</span></span>
* <span data-ttu-id="c87c5-394">Blobs de cuentas de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="c87c5-394">Storage account blobs.</span></span>

<span data-ttu-id="c87c5-395">Puede especificar un nivel de gravedad distinto para cada destino.</span><span class="sxs-lookup"><span data-stu-id="c87c5-395">You can specify a different severity level for each destination.</span></span>

<span data-ttu-id="c87c5-396">Las tablas facilitan la visualización de los detalles de registros en línea y son compatibles con streaming; puede consultar los registros en las tablas y ver nuevos registros a medida que se van creando.</span><span class="sxs-lookup"><span data-stu-id="c87c5-396">Tables make it easy to view details of logs online, and they support streaming; you can query logs in tables and see new logs as they are being created.</span></span> <span data-ttu-id="c87c5-397">Los blobs facilitan la descarga de registros en archivos y su análisis con HDInsight, porque HDInsight sabe cómo trabajar con el almacenamiento de blobs.</span><span class="sxs-lookup"><span data-stu-id="c87c5-397">Blobs make it easy to download logs in files and to analyze them using HDInsight, because HDInsight knows how to work with blob storage.</span></span> <span data-ttu-id="c87c5-398">Para obtener más información, consulte **Hadoop y MapReduce** en [Opciones de almacenamiento de datos (Creación de aplicaciones reales con Azure)](http://www.asp.net/aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/data-storage-options).</span><span class="sxs-lookup"><span data-stu-id="c87c5-398">For more information, see **Hadoop and MapReduce** in [Data Storage Options (Building Real-World Cloud Apps with Azure)](http://www.asp.net/aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/data-storage-options).</span></span>

<span data-ttu-id="c87c5-399">Actualmente tiene los registros de sistema de archivos definidos en el nivel detallado; los pasos siguientes le guiarán por la configuración de registros en el nivel de información para ir a tablas de cuentas de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="c87c5-399">You currently have file system logs set to verbose level; the following steps walk you through setting up information level logs to go to storage account tables.</span></span> <span data-ttu-id="c87c5-400">El nivel de información se refiere a que se mostrarán todos los registros creados al llamar a  `Trace.TraceInformation`, `Trace.TraceWarning` y `Trace.TraceError`, pero no los creados al llamar a `Trace.WriteLine`.</span><span class="sxs-lookup"><span data-stu-id="c87c5-400">Information level means all logs created by calling `Trace.TraceInformation`, `Trace.TraceWarning`, and `Trace.TraceError` will be displayed, but not logs created by calling `Trace.WriteLine`.</span></span>

<span data-ttu-id="c87c5-401">Las cuentas de almacenamiento ofrecen más almacenamiento y retención más prolongada de registros en comparación con el sistema de archivos.</span><span class="sxs-lookup"><span data-stu-id="c87c5-401">Storage accounts offer more storage and longer-lasting retention for logs compared to the file system.</span></span> <span data-ttu-id="c87c5-402">Otra ventaja de enviar los registros de seguimiento de aplicaciones al almacenamiento es que obtiene información adicional con cada registro que no obtiene de los registros del sistema de archivos.</span><span class="sxs-lookup"><span data-stu-id="c87c5-402">Another advantage of sending application tracing logs to storage is that you get some additional information with each log that you don't get from file system logs.</span></span>

1. <span data-ttu-id="c87c5-403">Haga clic con el botón derecho en **Storage** en el nodo de Azure y, a continuación, haga clic en **Crear cuenta de Storage**.</span><span class="sxs-lookup"><span data-stu-id="c87c5-403">Right-click **Storage** under the Azure node, and then click **Create Storage Account**.</span></span>

![Crear cuenta de almacenamiento](./media/web-sites-dotnet-troubleshoot-visual-studio/createstor.png)

1. <span data-ttu-id="c87c5-405">En el cuadro de diálogo **Crear cuenta de almacenamiento** , escriba un nombre para la cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="c87c5-405">In the **Create Storage Account** dialog, enter a name for the storage account.</span></span>

    <span data-ttu-id="c87c5-406">El nombre debe ser único (ninguna otra cuenta de almacenamiento de Azure puede tener el mismo nombre).</span><span class="sxs-lookup"><span data-stu-id="c87c5-406">The name must be must be unique (no other Azure storage account can have the same name).</span></span> <span data-ttu-id="c87c5-407">Si el nombre especificado ya está en uso, tendrá la oportunidad de cambiarlo.</span><span class="sxs-lookup"><span data-stu-id="c87c5-407">If the name you enter is already in use you'll get a chance to change it.</span></span>

    <span data-ttu-id="c87c5-408">La dirección URL para tener acceso a su cuenta de almacenamiento será *{name}*.core.windows.net.</span><span class="sxs-lookup"><span data-stu-id="c87c5-408">The URL to access your storage account will be *{name}*.core.windows.net.</span></span>
2. <span data-ttu-id="c87c5-409">Establezca la lista desplegable **Grupo de afinidad o región** en la región más cercana a usted.</span><span class="sxs-lookup"><span data-stu-id="c87c5-409">Set the **Region or Affinity Group** drop-down list to the region closest to you.</span></span>

    <span data-ttu-id="c87c5-410">Esta configuración especifica el centro de datos de Azure que va a almacenar la cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="c87c5-410">This setting specifies which Azure datacenter will host your storage account.</span></span> <span data-ttu-id="c87c5-411">En este tutorial, la opción que elija no tendrá mucha repercusión, pero en un entorno de producción se recomienda que la aplicación web y la cuenta de almacenamiento estén en la misma región a fin de minimizar la latencia y los cargos por concepto de salida de los datos.</span><span class="sxs-lookup"><span data-stu-id="c87c5-411">For this tutorial your choice won't make a noticeable difference, but for a production web app you want your web server and your storage account to be in the same region to minimize latency and data egress charges.</span></span> <span data-ttu-id="c87c5-412">La aplicación web (que creará posteriormente) debe estar lo más próxima posible a los exploradores que obtengan acceso a su aplicación con el fin de minimizar la latencia.</span><span class="sxs-lookup"><span data-stu-id="c87c5-412">The web app (which you'll create later) should run in a region as close as possible to the browsers accessing your web app in order to minimize latency.</span></span>
3. <span data-ttu-id="c87c5-413">Establezca la lista desplegable **Replicación** en **Localmente redundante**.</span><span class="sxs-lookup"><span data-stu-id="c87c5-413">Set the **Replication** drop-down list to **Locally redundant**.</span></span>
   
    <span data-ttu-id="c87c5-414">Cuando se habilita la replicación geográfica para una cuenta de almacenamiento, el contenido almacenado se replica en un centro de datos secundario para habilitar la conmutación por error en caso de que se produzca un desastre importante en la ubicación principal.</span><span class="sxs-lookup"><span data-stu-id="c87c5-414">When geo-replication is enabled for a storage account, the stored content is replicated to a secondary datacenter to enable failover to that location in case of a major disaster in the primary location.</span></span> <span data-ttu-id="c87c5-415">La replicación geográfica puede suponer costes adicionales.</span><span class="sxs-lookup"><span data-stu-id="c87c5-415">Geo-replication can incur additional costs.</span></span> <span data-ttu-id="c87c5-416">Lo normal es que no quiera pagar por el servicio de replicación geográfica para las cuentas de prueba y desarrollo.</span><span class="sxs-lookup"><span data-stu-id="c87c5-416">For test and development accounts, you generally don't want to pay for geo-replication.</span></span> <span data-ttu-id="c87c5-417">Para obtener más información, consulte [Creación, administración o eliminación de una cuenta de almacenamiento](../storage/common/storage-create-storage-account.md).</span><span class="sxs-lookup"><span data-stu-id="c87c5-417">For more information, see [Create, manage, or delete a storage account](../storage/common/storage-create-storage-account.md).</span></span>
4. <span data-ttu-id="c87c5-418">Haga clic en **Crear**.</span><span class="sxs-lookup"><span data-stu-id="c87c5-418">Click **Create**.</span></span>

    ![New storage account](./media/web-sites-dotnet-troubleshoot-visual-studio/newstorage.png)    
5. <span data-ttu-id="c87c5-420">En la ventana **Aplicación web de Azure** de Visual Studio, haga clic en la pestaña **Registros** y a continuación, haga clic en **Configurar registro en el Portal de administración**.</span><span class="sxs-lookup"><span data-stu-id="c87c5-420">In the Visual Studio **Azure Web App** window, click the **Logs** tab, and then click **Configure Logging in Management Portal**.</span></span>

    <!-- todo:screenshot of new portal if the VS page link goes to new portal -->
    ![registro](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-configlogging.png)

    <span data-ttu-id="c87c5-422">Esto abre la pestaña **Configurar** en el portal clásico de su aplicación web.</span><span class="sxs-lookup"><span data-stu-id="c87c5-422">This opens the **Configure** tab in the classic portal for your web app.</span></span>
6. <span data-ttu-id="c87c5-423">En la pestaña **Configurar** del portal clásico, desplácese hacia abajo hasta la sección de diagnóstico de aplicaciones y cambie **Registro de la aplicación (Table Storage)** a **Activado**.</span><span class="sxs-lookup"><span data-stu-id="c87c5-423">In the classic portal's **Configure** tab, scroll down to the application diagnostics section, and then change **Application Logging (Table Storage)** to **On**.</span></span>
7. <span data-ttu-id="c87c5-424">Cambie **Nivel de registro** a **Información**.</span><span class="sxs-lookup"><span data-stu-id="c87c5-424">Change **Logging Level** to **Information**.</span></span>
8. <span data-ttu-id="c87c5-425">Haga clic en **Administrar almacenamiento de tablas**.</span><span class="sxs-lookup"><span data-stu-id="c87c5-425">Click **Manage Table Storage**.</span></span>

    ![Hacer clic en Manage Table Storage](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-stgsettingsmgmtportal.png)

    <span data-ttu-id="c87c5-427">En el cuadro **Administrar almacenamiento de tablas para diagnósticos de la aplicación** , puede elegir su cuenta de almacenamiento si tiene más de una.</span><span class="sxs-lookup"><span data-stu-id="c87c5-427">In the **Manage table storage for application diagnostics** box, you can choose your storage account if you have more than one.</span></span> <span data-ttu-id="c87c5-428">Puede crear una tabla o usar una existente.</span><span class="sxs-lookup"><span data-stu-id="c87c5-428">You can create a new table or use an existing one.</span></span>

    ![Administrar almacenamiento de tablas](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-choosestorageacct.png)
9. <span data-ttu-id="c87c5-430">En el cuadro **Administrar almacenamiento de tablas para diagnósticos de la aplicación** , haga clic en la marca de verificación junto al cuadro.</span><span class="sxs-lookup"><span data-stu-id="c87c5-430">In the **Manage table storage for application diagnostics** box click the check mark to close the box.</span></span>
10. <span data-ttu-id="c87c5-431">En la pestaña **Configurar** del portal clásico, haga clic en **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="c87c5-431">In the classic portal's **Configure** tab, click **Save**.</span></span>
11. <span data-ttu-id="c87c5-432">En la ventana del explorador que muestra la aplic. web de la aplicación, haga clic en **Inicio**, en **Información** y, a continuación, en **Contacto**.</span><span class="sxs-lookup"><span data-stu-id="c87c5-432">In the browser window that displays the application web app, click **Home**, then click **About**, and then click **Contact**.</span></span>

     <span data-ttu-id="c87c5-433">La información de registro generada por la navegación en estas páginas web se escribirá en la cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="c87c5-433">The logging information produced by browsing these web pages will be written to the storage account.</span></span>
12. <span data-ttu-id="c87c5-434">En la pestaña **Registros** de la ventana **Aplicación web de Azure** en Visual Studio, haga clic en **Actualizar** en **Resumen de diagnóstico**.</span><span class="sxs-lookup"><span data-stu-id="c87c5-434">In the **Logs** tab of the **Azure Web App** window in Visual Studio, click **Refresh** under **Diagnostic Summary**.</span></span>

     ![Haga clic en Actualizar](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-refreshstorage.png)

     <span data-ttu-id="c87c5-436">De manera predeterminada, la sección **Resumen de diagnóstico** muestra registros de los últimos 15 minutos.</span><span class="sxs-lookup"><span data-stu-id="c87c5-436">The **Diagnostic Summary** section shows logs for the last 15 minutes by default.</span></span> <span data-ttu-id="c87c5-437">Puede cambiar el período para ver más registros.</span><span class="sxs-lookup"><span data-stu-id="c87c5-437">You can change the period to see more logs.</span></span>

     <span data-ttu-id="c87c5-438">(Si recibe un error de "no se encontró tabla", compruebe que navegó a las páginas que realizan el seguimiento después de haber habilitado **Registro de la aplicación (almacenamiento)** y después de haber hecho clic en **Guardar**).</span><span class="sxs-lookup"><span data-stu-id="c87c5-438">(If you get a "table not found" error, verify that you browsed to the pages that do the tracing after you enabled **Application Logging (Storage)** and after you clicked **Save**.)</span></span>

     ![Registros de almacenamiento](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-storagelogs.png)

     <span data-ttu-id="c87c5-440">Tenga en cuenta que en esta vista puede ver el **identificador del proceso** y el **identificador del subproceso** para cada registro, los cuales no vería en los registros del sistema de archivos.</span><span class="sxs-lookup"><span data-stu-id="c87c5-440">Notice that in this view you see **Process ID** and **Thread ID** for each log, which you don't get in the file system logs.</span></span> <span data-ttu-id="c87c5-441">Si desea ver campos adicionales, puede ver directamente la tabla de almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="c87c5-441">You can see additional fields by viewing the Azure storage table directly.</span></span>
13. <span data-ttu-id="c87c5-442">Haga clic en **Ver todos los registros de aplicación**.</span><span class="sxs-lookup"><span data-stu-id="c87c5-442">Click **View all application logs**.</span></span>

     <span data-ttu-id="c87c5-443">La tabla de registros de seguimiento aparece en el visor de tablas de almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="c87c5-443">The trace log table appears in the Azure storage table viewer.</span></span>

     <span data-ttu-id="c87c5-444">(Si recibe un error de "la secuencia no contiene elementos", abra el **Explorador de servidores**, expanda el nodo para la cuenta de almacenamiento en el nodo **Azure**, haga clic con el botón derecho en **Tabla** y, a continuación, haga clic en **Actualizar**).</span><span class="sxs-lookup"><span data-stu-id="c87c5-444">(If you get a "sequence contains no elements" error, open **Server Explorer**, expand the node for your storage account under the **Azure** node, and then right-click **Tables** and click **Refresh**.)</span></span>

     ![Registros de almacenamiento en vista de tabla](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-tracelogtableview.png)

     <span data-ttu-id="c87c5-446">Esta vista muestra campos adicionales que no están disponibles en otras vistas.</span><span class="sxs-lookup"><span data-stu-id="c87c5-446">This view shows additional fields you don't see in any other views.</span></span> <span data-ttu-id="c87c5-447">Esta vista también le permite filtrar registros mediante una interfaz de usuario especial del Generador de consultas para construir una consulta.</span><span class="sxs-lookup"><span data-stu-id="c87c5-447">This view also enables you to filter logs by using special Query Builder UI for constructing a query.</span></span> <span data-ttu-id="c87c5-448">Para obtener más información, consulte Trabajo con recursos de tabla - Filtrado de entidades en [Exploración de recursos de almacenamiento con el Explorador de servidores](http://msdn.microsoft.com/library/ff683677.aspx).</span><span class="sxs-lookup"><span data-stu-id="c87c5-448">For more information, see Working with Table Resources - Filtering Entities in [Browsing Storage Resources with Server Explorer](http://msdn.microsoft.com/library/ff683677.aspx).</span></span>
14. <span data-ttu-id="c87c5-449">Para ver los detalles de una sola fila, haga doble clic en una de ellas.</span><span class="sxs-lookup"><span data-stu-id="c87c5-449">To look at the details for a single row, double-click one of the rows.</span></span>

     ![Tabla de seguimiento en el Explorador de servidores](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-tracetablerow.png)

## <span data-ttu-id="c87c5-451"><a name="failedrequestlogs"></a>Visualización de registros de seguimiento de solicitudes con error</span><span class="sxs-lookup"><span data-stu-id="c87c5-451"><a name="failedrequestlogs"></a>View failed request tracing logs</span></span>
<span data-ttu-id="c87c5-452">Los registros de seguimiento de solicitudes con error son útiles cuando necesita comprender los detalles de cómo IIS maneja una solicitud HTTP, en situaciones tales como problemas de autenticación o reconfiguración de URL.</span><span class="sxs-lookup"><span data-stu-id="c87c5-452">Failed request tracing logs are useful when you need to understand the details of how IIS is handling an HTTP request, in scenarios such as URL rewriting or authentication problems.</span></span>

<span data-ttu-id="c87c5-453">Aplicaciones web de Azure usan la misma funcionalidad de seguimiento de solicitudes con error que ha estado disponible con IIS 7.0 y posterior.</span><span class="sxs-lookup"><span data-stu-id="c87c5-453">Azure web apps use the same failed request tracing functionality that has been available with IIS 7.0 and later.</span></span> <span data-ttu-id="c87c5-454">Sin embargo, no tiene acceso a la configuración de IIS que determina los errores que se registran.</span><span class="sxs-lookup"><span data-stu-id="c87c5-454">You don't have access to the IIS settings that configure which errors get logged, however.</span></span> <span data-ttu-id="c87c5-455">Cuando habilita el seguimiento de solicitudes con error, se capturan todos los errores.</span><span class="sxs-lookup"><span data-stu-id="c87c5-455">When you enable failed request tracing, all errors are captured.</span></span>

<span data-ttu-id="c87c5-456">Puede habilitar el seguimiento de solicitudes con error a través de Visual Studio, pero no puede verlas ahí.</span><span class="sxs-lookup"><span data-stu-id="c87c5-456">You can enable failed request tracing by using Visual Studio, but you can't view them in Visual Studio.</span></span> <span data-ttu-id="c87c5-457">Estos registros son archivos XML.</span><span class="sxs-lookup"><span data-stu-id="c87c5-457">These logs are XML files.</span></span> <span data-ttu-id="c87c5-458">El servicio de registro de streaming solo supervisa archivos que se pueden leer en modo de texto sin formato: *.txt*, *.html* y *.log*.</span><span class="sxs-lookup"><span data-stu-id="c87c5-458">The streaming log service only monitors files that are deemed readable in plain text mode:  *.txt*, *.html*, and *.log* files.</span></span>

<span data-ttu-id="c87c5-459">Puede ver los registros de seguimiento de solicitudes en un explorador directamente vía FTP o de manera local después de utilizar una herramienta FTP para descargarlos en el equipo local.</span><span class="sxs-lookup"><span data-stu-id="c87c5-459">You can view failed request tracing logs in a browser directly via FTP or locally after using an FTP tool to download them to your local computer.</span></span> <span data-ttu-id="c87c5-460">En esta sección los verá directamente en un explorador.</span><span class="sxs-lookup"><span data-stu-id="c87c5-460">In this section you'll view them in a browser directly.</span></span>

1. <span data-ttu-id="c87c5-461">En la pestaña **Configuración** de la ventana **Aplicación web de Azure** que abrió desde el **Explorador de servidores**, cambie **Seguimiento de solicitudes con error** a **Activado** y haga clic en **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="c87c5-461">In the **Configuration** tab of the **Azure Web App** window that you opened from **Server Explorer**, change **Failed Request Tracing** to **On**, and then click **Save**.</span></span>

    ![Habilitar el seguimiento de solicitudes con error](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-failedrequeston.png)
2. <span data-ttu-id="c87c5-463">En la barra de direcciones de la ventana del explorador que muestra la aplicación web, agregue un carácter adicional a la dirección URL y haga clic en Entrar para generar un error 404.</span><span class="sxs-lookup"><span data-stu-id="c87c5-463">In the address bar of the browser window that shows the web app, add an extra character to the URL and click Enter to cause a 404 error.</span></span>

    <span data-ttu-id="c87c5-464">Esto hará que se cree un registro de seguimiento de solicitud con error; los pasos siguientes muestran cómo ver o descargar el registro.</span><span class="sxs-lookup"><span data-stu-id="c87c5-464">This causes a failed request tracing log to be created, and the following steps show how to view or download the log.</span></span>
3. <span data-ttu-id="c87c5-465">En Visual Studio, en la pestaña **Configuración** de la ventana **Aplicación web de Azure**, haga clic en **Abrir en el Portal de administración**.</span><span class="sxs-lookup"><span data-stu-id="c87c5-465">In Visual Studio, in the **Configuration** tab of the **Azure Web App** window, click **Open in Management Portal**.</span></span>
4. <span data-ttu-id="c87c5-466">En la hoja [Azure Portal](https://portal.azure.com) **Configuración** para la aplic. web, haga clic en **Credenciales de implementación** y luego especifique un nuevo nombre de usuario y contraseña.</span><span class="sxs-lookup"><span data-stu-id="c87c5-466">In the [Azure Portal](https://portal.azure.com) **Settings** blade for your web app, click **Deployment credentials**, and then enter a new user name and password.</span></span>

    ![Nuevo nombre de usuario y contraseña de FTP](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-enterftpcredentials.png)

    <span data-ttu-id="c87c5-468">**Cuando inicie sesión, debe utilizar el nombre de usuario completo, con el nombre de la aplicación como prefijo.</span><span class="sxs-lookup"><span data-stu-id="c87c5-468">**When you log in, you have to use the full user name with the web app name prefixed to it.</span></span> <span data-ttu-id="c87c5-469">Por ejemplo, si escribe "myid" como nombre de usuario y el sitio es "myexample", inicie sesión como "myexample\myid".</span><span class="sxs-lookup"><span data-stu-id="c87c5-469">For example, if you enter "myid" as a user name and the site is "myexample", you log in as "myexample\myid".</span></span>
5. <span data-ttu-id="c87c5-470">En una ventana nueva del explorador, vaya a la dirección URL que aparece en **Nombre de host de FTP** o **Nombre de host de FTPS** en la hoja **Aplicación web** de la aplicación web.</span><span class="sxs-lookup"><span data-stu-id="c87c5-470">In a new browser window, go to the URL that is shown under **FTP hostname** or **FTPS hostname** in the **Web App** blade for your web app.</span></span>
6. <span data-ttu-id="c87c5-471">Inicie sesión con las credenciales de FTP que creó anteriormente (el nombre de usuario debe incluir como prefijo el nombre de la aplicación).</span><span class="sxs-lookup"><span data-stu-id="c87c5-471">Log in using the FTP credentials that you created earlier (including the web app name prefix for the user name).</span></span>

    <span data-ttu-id="c87c5-472">El explorador muestra la carpeta raíz de la aplicación web.</span><span class="sxs-lookup"><span data-stu-id="c87c5-472">The browser shows the root folder of the web app.</span></span>
7. <span data-ttu-id="c87c5-473">Abra la carpeta *LogFiles* .</span><span class="sxs-lookup"><span data-stu-id="c87c5-473">Open the *LogFiles* folder.</span></span>

    ![Abrir la carpeta LogFiles](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-logfilesfolder.png)
8. <span data-ttu-id="c87c5-475">Abra la carpeta llamada W3SVC más un valor numérico.</span><span class="sxs-lookup"><span data-stu-id="c87c5-475">Open the folder that is named W3SVC plus a numeric value.</span></span>

    ![Abrir la carpeta W3SVC](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-w3svcfolder.png)

    <span data-ttu-id="c87c5-477">La carpeta contiene archivos XML de todo error que se haya registrado después de haber habilitado el seguimiento de solicitudes con error, además de un archivo XSL que un explorador puede utilizar para dar formato al XML.</span><span class="sxs-lookup"><span data-stu-id="c87c5-477">The folder contains XML files for any errors that have been logged after you enabled failed request tracing, and an XSL file that a browser can use to format the XML.</span></span>

    ![Carpeta W3SVC](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-w3svcfoldercontents.png)
9. <span data-ttu-id="c87c5-479">Haga clic en el archivo XML de la solicitud con error para la que desea ver información de seguimiento.</span><span class="sxs-lookup"><span data-stu-id="c87c5-479">Click the XML file for the failed request that you want to see tracing information for.</span></span>

    <span data-ttu-id="c87c5-480">La siguiente ilustración muestra parte de la información de seguimiento de un error de muestra.</span><span class="sxs-lookup"><span data-stu-id="c87c5-480">The following illustration shows part of the tracing information for a sample error.</span></span>

    ![Seguimiento de solicitudes con error en un explorador](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-failedrequestinbrowser.png)

## <span data-ttu-id="c87c5-482"><a name="nextsteps"></a>Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="c87c5-482"><a name="nextsteps"></a>Next Steps</span></span>
<span data-ttu-id="c87c5-483">Ha visto cómo Visual Studio facilita la visualización de registros creados por una aplicación web de Azure.</span><span class="sxs-lookup"><span data-stu-id="c87c5-483">You've seen how Visual Studio makes it easy to view logs created by an Azure web app.</span></span> <span data-ttu-id="c87c5-484">Las secciones siguientes proporcionan vínculos a más recursos sobre temas relacionados:</span><span class="sxs-lookup"><span data-stu-id="c87c5-484">The following sections provide links to more resources on related topics:</span></span>

* <span data-ttu-id="c87c5-485">Solución de problemas de las aplicaciones web de Azure</span><span class="sxs-lookup"><span data-stu-id="c87c5-485">Azure web app troubleshooting</span></span>
* <span data-ttu-id="c87c5-486">Depuración en Visual Studio</span><span class="sxs-lookup"><span data-stu-id="c87c5-486">Debugging in Visual Studio</span></span>
* <span data-ttu-id="c87c5-487">Depuración remota en Azure</span><span class="sxs-lookup"><span data-stu-id="c87c5-487">Remote debugging in Azure</span></span>
* <span data-ttu-id="c87c5-488">Seguimiento en aplicaciones de ASP.NET</span><span class="sxs-lookup"><span data-stu-id="c87c5-488">Tracing in ASP.NET applications</span></span>
* <span data-ttu-id="c87c5-489">Análisis de registros de servidor web</span><span class="sxs-lookup"><span data-stu-id="c87c5-489">Analyzing web server logs</span></span>
* <span data-ttu-id="c87c5-490">Análisis de registros de seguimiento de solicitudes con error</span><span class="sxs-lookup"><span data-stu-id="c87c5-490">Analyzing failed request tracing logs</span></span>
* <span data-ttu-id="c87c5-491">Depuración de Servicios en la nube</span><span class="sxs-lookup"><span data-stu-id="c87c5-491">Debugging Cloud Services</span></span>

### <a name="azure-web-app-troubleshooting"></a><span data-ttu-id="c87c5-492">Solución de problemas de las aplicaciones web de Azure</span><span class="sxs-lookup"><span data-stu-id="c87c5-492">Azure web app troubleshooting</span></span>
<span data-ttu-id="c87c5-493">Para obtener más información sobre cómo solucionar problemas de aplicaciones web en el Servicio de aplicaciones de Azure, consulte los siguientes recursos:</span><span class="sxs-lookup"><span data-stu-id="c87c5-493">For more information about troubleshooting web apps in Azure App Service, see the following resources:</span></span>

* [<span data-ttu-id="c87c5-494">Supervisión de aplicaciones web</span><span class="sxs-lookup"><span data-stu-id="c87c5-494">How to monitor web apps</span></span>](/manage/services/web-sites/how-to-monitor-websites/)
* <span data-ttu-id="c87c5-495">[Investigación de fugas de memoria en Aplicaciones web de Azure con Visual Studio 2013](http://blogs.msdn.com/b/visualstudioalm/archive/2013/12/20/investigating-memory-leaks-in-azure-web-sites-with-visual-studio-2013.aspx).</span><span class="sxs-lookup"><span data-stu-id="c87c5-495">[Investigating Memory Leaks in Azure Web Apps with Visual Studio 2013](http://blogs.msdn.com/b/visualstudioalm/archive/2013/12/20/investigating-memory-leaks-in-azure-web-sites-with-visual-studio-2013.aspx).</span></span> <span data-ttu-id="c87c5-496">Artículo del blog ALM de Microsoft sobre las características de Visual Studio para el análisis de problemas de memoria administrada.</span><span class="sxs-lookup"><span data-stu-id="c87c5-496">Microsoft ALM blog post about Visual Studio features for analyzing managed memory issues.</span></span>
* <span data-ttu-id="c87c5-497">[Herramientas en línea de Aplicaciones web de Azure que debe conocer](https://azure.microsoft.com/blog/2014/03/28/windows-azure-websites-online-tools-you-should-know-about-2/).</span><span class="sxs-lookup"><span data-stu-id="c87c5-497">[Azure web apps online tools you should know about](https://azure.microsoft.com/blog/2014/03/28/windows-azure-websites-online-tools-you-should-know-about-2/).</span></span> <span data-ttu-id="c87c5-498">Publicación en el blog de Amit Apple.</span><span class="sxs-lookup"><span data-stu-id="c87c5-498">Blog post by Amit Apple.</span></span>

<span data-ttu-id="c87c5-499">Si desea obtener ayuda para una pregunta específica sobre la solución de problemas, comience una conversación en alguno de los siguientes foros:</span><span class="sxs-lookup"><span data-stu-id="c87c5-499">For help with a specific troubleshooting question, start a thread in one of the following forums:</span></span>

* <span data-ttu-id="c87c5-500">[El foro sobre Azure en el sitio de ASP.NET](http://forums.asp.net/1247.aspx/1?Azure+and+ASP+NET).</span><span class="sxs-lookup"><span data-stu-id="c87c5-500">[The Azure forum on the ASP.NET site](http://forums.asp.net/1247.aspx/1?Azure+and+ASP+NET).</span></span>
* <span data-ttu-id="c87c5-501">[El foro de Azure en MSDN](http://social.msdn.microsoft.com/Forums/windowsazure/).</span><span class="sxs-lookup"><span data-stu-id="c87c5-501">[The Azure forum on MSDN](http://social.msdn.microsoft.com/Forums/windowsazure/).</span></span>
* <span data-ttu-id="c87c5-502">[StackOverflow.com](http://www.stackoverflow.com).</span><span class="sxs-lookup"><span data-stu-id="c87c5-502">[StackOverflow.com](http://www.stackoverflow.com).</span></span>

### <a name="debugging-in-visual-studio"></a><span data-ttu-id="c87c5-503">Depuración en Visual Studio</span><span class="sxs-lookup"><span data-stu-id="c87c5-503">Debugging in Visual Studio</span></span>
<span data-ttu-id="c87c5-504">Para más información acerca del uso del modo de depuración en Visual Studio, consulte el tema [Depuración en Visual Studio de MSDN](http://msdn.microsoft.com/library/vstudio/sc65sadd.aspx) y [Sugerencias de depuración de Visual Studio 2010](http://weblogs.asp.net/scottgu/archive/2010/08/18/debugging-tips-with-visual-studio-2010.aspx).</span><span class="sxs-lookup"><span data-stu-id="c87c5-504">For more information about how to use debug mode in Visual Studio, see the [Debugging in Visual Studio](http://msdn.microsoft.com/library/vstudio/sc65sadd.aspx) MSDN topic and [Debugging Tips with Visual Studio 2010](http://weblogs.asp.net/scottgu/archive/2010/08/18/debugging-tips-with-visual-studio-2010.aspx).</span></span>

### <a name="remote-debugging-in-azure"></a><span data-ttu-id="c87c5-505">Depuración remota en Azure</span><span class="sxs-lookup"><span data-stu-id="c87c5-505">Remote debugging in Azure</span></span>
<span data-ttu-id="c87c5-506">Para obtener más información sobre la depuración remota para aplicaciones web de Azure y WebJobs, consulte los siguientes recursos:</span><span class="sxs-lookup"><span data-stu-id="c87c5-506">For more information about remote debugging for Azure web apps and WebJobs, see the following resources:</span></span>

* <span data-ttu-id="c87c5-507">[Introducción a la depuración remota de aplicaciones web de Servicios de aplicaciones de Azure](https://azure.microsoft.com/blog/2014/05/06/introduction-to-remote-debugging-on-azure-web-sites/).</span><span class="sxs-lookup"><span data-stu-id="c87c5-507">[Introduction to Remote Debugging Azure App Service Web Apps](https://azure.microsoft.com/blog/2014/05/06/introduction-to-remote-debugging-on-azure-web-sites/).</span></span>
* [<span data-ttu-id="c87c5-508">Introducción a la depuración remota en Aplicaciones web de Servicios de aplicaciones de Azure, 2ª parte: detalles de la depuración remota</span><span class="sxs-lookup"><span data-stu-id="c87c5-508">Introduction to Remote Debugging Azure App Service Web Apps part 2 - Inside Remote debugging</span></span>](https://azure.microsoft.com/blog/2014/05/07/introduction-to-remote-debugging-azure-web-sites-part-2-inside-remote-debugging/)
* [<span data-ttu-id="c87c5-509">Introducción a la depuración remota en Aplicaciones web de Servicios de aplicaciones de Azure, 3ª parte: entorno de varias instancias y GIT</span><span class="sxs-lookup"><span data-stu-id="c87c5-509">Introduction to Remote Debugging on Azure App Service Web Apps part 3 - Multi-Instance environment and GIT</span></span>](https://azure.microsoft.com/blog/2014/05/08/introduction-to-remote-debugging-on-azure-web-sites-part-3-multi-instance-environment-and-git/)
* [<span data-ttu-id="c87c5-510">Depuración de WebJobs</span><span class="sxs-lookup"><span data-stu-id="c87c5-510">WebJobs Debugging (video)</span></span>](https://www.youtube.com/watch?v=ncQm9q5ZFZs&list=UU_SjTh-ZltPmTYzAybypB-g&index=1)

<span data-ttu-id="c87c5-511">Si su aplicación web utiliza una API web de Azure o el back-end de Servicios móviles y necesita depurarlo, consulte [Depuración de back-end de .NET en Visual Studio](http://blogs.msdn.com/b/azuremobile/archive/2014/03/14/debugging-net-backend-in-visual-studio.aspx).</span><span class="sxs-lookup"><span data-stu-id="c87c5-511">If your web app uses an Azure Web API or Mobile Services back-end and you need to debug that, see [Debugging .NET Backend in Visual Studio](http://blogs.msdn.com/b/azuremobile/archive/2014/03/14/debugging-net-backend-in-visual-studio.aspx).</span></span>

### <a name="tracing-in-aspnet-applications"></a><span data-ttu-id="c87c5-512">Seguimiento en aplicaciones de ASP.NET</span><span class="sxs-lookup"><span data-stu-id="c87c5-512">Tracing in ASP.NET applications</span></span>
<span data-ttu-id="c87c5-513">No hay introducciones rigurosas ni actualizadas al seguimiento de ASP.NET disponibles en Internet.</span><span class="sxs-lookup"><span data-stu-id="c87c5-513">There are no thorough and up-to-date introductions to ASP.NET tracing available on the Internet.</span></span> <span data-ttu-id="c87c5-514">Lo mejor que puede hacer es comenzar con materiales de introducción antiguos escritos para Web Forms, porque MVC todavía no existía, y complementarlos con las publicaciones más recientes en blogs que se centran en temas específicos.</span><span class="sxs-lookup"><span data-stu-id="c87c5-514">The best you can do is get started with old introductory materials written for Web Forms because MVC didn't exist yet, and supplement that with newer blog posts that focus on specific issues.</span></span> <span data-ttu-id="c87c5-515">Algunos buenos sitios para comenzar son los siguientes recursos:</span><span class="sxs-lookup"><span data-stu-id="c87c5-515">Some good places to start are the following resources:</span></span>

* <span data-ttu-id="c87c5-516">[Supervisión y telemetría (crear aplicaciones en la nube para el mundo real con Azure)](http://www.asp.net/aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/monitoring-and-telemetry).</span><span class="sxs-lookup"><span data-stu-id="c87c5-516">[Monitoring and Telemetry (Building Real-World Cloud Apps with Azure)](http://www.asp.net/aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/monitoring-and-telemetry).</span></span><br>
  <span data-ttu-id="c87c5-517">Capítulo de un libro electrónico con recomendaciones para realizar seguimiento en aplicaciones de la nube de Azure.</span><span class="sxs-lookup"><span data-stu-id="c87c5-517">E-book chapter with recommendations for tracing in Azure cloud applications.</span></span>
* [<span data-ttu-id="c87c5-518">Seguimiento de ASP.NET</span><span class="sxs-lookup"><span data-stu-id="c87c5-518">ASP.NET Tracing</span></span>](http://msdn.microsoft.com/library/ms972204.aspx)<br/>
  <span data-ttu-id="c87c5-519">Un recurso antiguo, pero siempre útil, con una introducción básica al tema.</span><span class="sxs-lookup"><span data-stu-id="c87c5-519">Old but still a good resource for a basic introduction to the subject.</span></span>
* [<span data-ttu-id="c87c5-520">Agentes de escucha de seguimiento</span><span class="sxs-lookup"><span data-stu-id="c87c5-520">Trace Listeners</span></span>](http://msdn.microsoft.com/library/4y5y10s7.aspx)<br/>
  <span data-ttu-id="c87c5-521">Brinda información acerca de los agentes de escucha de seguimiento, pero no menciona [WebPageTraceListener](http://msdn.microsoft.com/library/system.web.webpagetracelistener.aspx).</span><span class="sxs-lookup"><span data-stu-id="c87c5-521">Information about trace listeners but doesn't mention the [WebPageTraceListener](http://msdn.microsoft.com/library/system.web.webpagetracelistener.aspx).</span></span>
* [<span data-ttu-id="c87c5-522">Tutorial: Integración del seguimiento de ASP.NET con el seguimiento de System.Diagnostics</span><span class="sxs-lookup"><span data-stu-id="c87c5-522">Walkthrough: Integrating ASP.NET Tracing with System.Diagnostics Tracing</span></span>](http://msdn.microsoft.com/library/b0ectfxd.aspx)<br/>
  <span data-ttu-id="c87c5-523">También antiguo, pero incluye cierta información adicional que el artículo de introducción no incluye.</span><span class="sxs-lookup"><span data-stu-id="c87c5-523">This too is old, but includes some additional information that the introductory article doesn't cover.</span></span>
* [<span data-ttu-id="c87c5-524">Seguimiento en vistas Razor de ASP.NET MVC</span><span class="sxs-lookup"><span data-stu-id="c87c5-524">Tracing in ASP.NET MVC Razor Views</span></span>](http://blogs.msdn.com/b/webdev/archive/2013/07/16/tracing-in-asp-net-mvc-razor-views.aspx)<br/>
  <span data-ttu-id="c87c5-525">Además del seguimiento en vistas de Razor, la publicación también explica cómo crear un filtro de error para registrar todas las excepciones no manejadas en una aplicación MVC.</span><span class="sxs-lookup"><span data-stu-id="c87c5-525">Besides tracing in Razor views, the post also explains how to create an error filter in order to log all unhandled exceptions in an MVC application.</span></span> <span data-ttu-id="c87c5-526">Si desea obtener información sobre cómo registrar todas las excepciones no controladas en una aplicación de Web Forms, consulte el ejemplo Global.asax en [Ejemplo completo de controladores de errores en MSDN](http://msdn.microsoft.com/library/bb397417.aspx) .</span><span class="sxs-lookup"><span data-stu-id="c87c5-526">For information about how to log all unhandled exceptions in a Web Forms application, see the Global.asax example in [Complete Example for Error Handlers](http://msdn.microsoft.com/library/bb397417.aspx) on MSDN.</span></span> <span data-ttu-id="c87c5-527">Ya sea en MVC o en Web Forms, si desea registrar ciertas excepciones, pero permitir que la gestión del marco predeterminado las afecte, puede volver a intentarlo como en el siguiente ejemplo:</span><span class="sxs-lookup"><span data-stu-id="c87c5-527">In either MVC or Web Forms, if you want to log certain exceptions but let the default framework handling take effect for them, you can catch and rethrow as in the following example:</span></span>

        try
        {
           // Your code that might cause an exception to be thrown.
        }
        catch (Exception ex)
        {
            Trace.TraceError("Exception: " + ex.ToString());
            throw;
        }
* [<span data-ttu-id="c87c5-528">Registro de seguimiento de diagnóstico de streaming desde la línea de comandos de Azure (con Glimpse)</span><span class="sxs-lookup"><span data-stu-id="c87c5-528">Streaming Diagnostics Trace Logging from the Azure Command Line (plus Glimpse!)</span></span>](http://www.hanselman.com/blog/StreamingDiagnosticsTraceLoggingFromTheAzureCommandLinePlusGlimpse.aspx)<br/>
  <span data-ttu-id="c87c5-529">Uso de la línea de comandos para hacer lo que muestra este tutorial en Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="c87c5-529">How to use the command line to do what this tutorial shows how to do in Visual Studio.</span></span> <span data-ttu-id="c87c5-530">[Glimpse](http://www.hanselman.com/blog/IfYoureNotUsingGlimpseWithASPNETForDebuggingAndProfilingYoureMissingOut.aspx) es una herramienta de depuración de aplicaciones ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="c87c5-530">[Glimpse](http://www.hanselman.com/blog/IfYoureNotUsingGlimpseWithASPNETForDebuggingAndProfilingYoureMissingOut.aspx) is a tool for debugging ASP.NET applications.</span></span>
* <span data-ttu-id="c87c5-531">[Uso de diagnósticos y registro de Web Apps - con David Ebbo](/documentation/videos/azure-web-site-logging-and-diagnostics/) y [Registros de streaming desde Web Apps - con David Ebbo](/documentation/videos/log-streaming-with-azure-web-sites/)</span><span class="sxs-lookup"><span data-stu-id="c87c5-531">[Using Web Apps Logging and Diagnostics - with David Ebbo](/documentation/videos/azure-web-site-logging-and-diagnostics/) and [Streaming Logs from Web Apps - with David Ebbo](/documentation/videos/log-streaming-with-azure-web-sites/)</span></span><br>
  <span data-ttu-id="c87c5-532">Vídeos de Scott Hanselman y David Ebbo.</span><span class="sxs-lookup"><span data-stu-id="c87c5-532">Videos by Scott Hanselman and David Ebbo.</span></span>

<span data-ttu-id="c87c5-533">Para el registro de errores, una alternativa a escribir su propio código de seguimiento es utilizar un marco de registro de código abierto, como [ELMAH](http://nuget.org/packages/elmah/).</span><span class="sxs-lookup"><span data-stu-id="c87c5-533">For error logging, an alternative to writing your own tracing code is to use an open-source logging framework such as [ELMAH](http://nuget.org/packages/elmah/).</span></span> <span data-ttu-id="c87c5-534">Para obtener más información, consulte [Publicaciones de blog de Scott Hanselman sobre ELMAH](http://www.hanselman.com/blog/NuGetPackageOfTheWeek7ELMAHErrorLoggingModulesAndHandlersWithSQLServerCompact.aspx).</span><span class="sxs-lookup"><span data-stu-id="c87c5-534">For more information, see [Scott Hanselman's blog posts about ELMAH](http://www.hanselman.com/blog/NuGetPackageOfTheWeek7ELMAHErrorLoggingModulesAndHandlersWithSQLServerCompact.aspx).</span></span>

<span data-ttu-id="c87c5-535">Además, tenga en cuenta que no tiene que utilizar el seguimiento de System.Diagnostics o ASP.NET si desea obtener registros de streaming de Azure.</span><span class="sxs-lookup"><span data-stu-id="c87c5-535">Also, note that you don't have to use ASP.NET or System.Diagnostics tracing if you want to get streaming logs from Azure.</span></span> <span data-ttu-id="c87c5-536">El servicio de registros de streaming de la aplicación web de Azure transmitirá todo archivo *.txt*, *.html* o *.log* que encuentre en la carpeta *LogFiles*.</span><span class="sxs-lookup"><span data-stu-id="c87c5-536">The Azure web app streaming log service will stream any *.txt*, *.html*, or *.log* file that it finds in the *LogFiles* folder.</span></span> <span data-ttu-id="c87c5-537">Por lo tanto, podría crear su propio sistema de registro que escriba en el sistema de archivos de la aplicación web y su archivo se transmitirá y descargará automáticamente.</span><span class="sxs-lookup"><span data-stu-id="c87c5-537">Therefore, you could create your own logging system that writes to the file system of the web app, and your file will be automatically streamed and downloaded.</span></span> <span data-ttu-id="c87c5-538">Todo lo que tiene que hacer es escribir código de aplicación que cree archivos en la carpeta *d:\home\logfiles*.</span><span class="sxs-lookup"><span data-stu-id="c87c5-538">All you have to do is write application code that creates files in the *d:\home\logfiles* folder.</span></span>

### <a name="analyzing-web-server-logs"></a><span data-ttu-id="c87c5-539">Análisis de registros de servidor web</span><span class="sxs-lookup"><span data-stu-id="c87c5-539">Analyzing web server logs</span></span>
<span data-ttu-id="c87c5-540">Para obtener más información acerca del análisis de registros de servidor web, consulte los siguientes recursos:</span><span class="sxs-lookup"><span data-stu-id="c87c5-540">For more information about analyzing web server logs, see the following resources:</span></span>

* [<span data-ttu-id="c87c5-541">LogParser</span><span class="sxs-lookup"><span data-stu-id="c87c5-541">LogParser</span></span>](http://www.microsoft.com/download/details.aspx?id=24659)<br/>
  <span data-ttu-id="c87c5-542">Una herramienta para visualizar datos en registros de servidor web (archivos*.log* ).</span><span class="sxs-lookup"><span data-stu-id="c87c5-542">A tool for viewing data in web server logs (*.log* files).</span></span>
* [<span data-ttu-id="c87c5-543">Solución de problemas de rendimiento de IIS o errores de aplicación al usar LogParser</span><span class="sxs-lookup"><span data-stu-id="c87c5-543">Troubleshooting IIS Performance Issues or Application Errors using LogParser </span></span>](http://www.iis.net/learn/troubleshoot/performance-issues/troubleshooting-iis-performance-issues-or-application-errors-using-logparser)<br/>
  <span data-ttu-id="c87c5-544">Una introducción a la herramienta de analizador del registro que puede utilizar para analizar registros de servidor web.</span><span class="sxs-lookup"><span data-stu-id="c87c5-544">An introduction to the Log Parser tool that you can use to analyze web server logs.</span></span>
* [<span data-ttu-id="c87c5-545">Publicaciones en el blog de Robert McMurray sobre el uso de LogParser</span><span class="sxs-lookup"><span data-stu-id="c87c5-545">Blog posts by Robert McMurray on using LogParser</span></span>](http://blogs.msdn.com/b/robert_mcmurray/archive/tags/logparser/)<br/>
* [<span data-ttu-id="c87c5-546">El código de estado HTTP en IIS 7.0, IIS 7.5 y IIS 8.0</span><span class="sxs-lookup"><span data-stu-id="c87c5-546">The HTTP status code in IIS 7.0, IIS 7.5, and IIS 8.0</span></span>](http://support.microsoft.com/kb/943891)

### <a name="analyzing-failed-request-tracing-logs"></a><span data-ttu-id="c87c5-547">Análisis de registros de seguimiento de solicitudes con error</span><span class="sxs-lookup"><span data-stu-id="c87c5-547">Analyzing failed request tracing logs</span></span>
<span data-ttu-id="c87c5-548">El sitio web de Microsoft TechNet incluye una sección llamada [Uso de seguimiento de solicitudes erróneas](http://www.iis.net/learn/troubleshoot/using-failed-request-tracing) que puede ser muy práctica para comprender cómo utilizar estos registros.</span><span class="sxs-lookup"><span data-stu-id="c87c5-548">The Microsoft TechNet website includes a [Using Failed Request Tracing](http://www.iis.net/learn/troubleshoot/using-failed-request-tracing) section which may be helpful for understanding how to use these logs.</span></span> <span data-ttu-id="c87c5-549">Sin embargo, esta documentación se centra principalmente en la configuración del seguimiento de solicitudes con error en IIS, algo que no puede hacer en Aplicaciones web Azure.</span><span class="sxs-lookup"><span data-stu-id="c87c5-549">However, this documentation focuses mainly on configuring failed request tracing in IIS, which you can't do in Azure Web Apps.</span></span>

[GetStarted]: app-service-web-get-started-dotnet.md
[GetStartedWJ]: websites-dotnet-webjobs-sdk.md
