---
title: "aaaGeo distribuido escala con entornos del servicio de aplicación"
description: "Obtenga información acerca de cómo toohorizontally escalar aplicaciones con la distribución geográfica con el Administrador de tráfico y entornos del servicio de aplicación."
services: app-service
documentationcenter: 
author: stefsch
manager: erikre
editor: 
ms.assetid: c1b05ca8-3703-4d87-a9ae-819d741787fb
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 09/07/2016
ms.author: stefsch
ms.openlocfilehash: 9b441f637d8b7f679b3d83240baf99b8ee57e8f3
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="geo-distributed-scale-with-app-service-environments"></a><span data-ttu-id="afa0e-103">Escala distribuida geográficamente con entornos de Servicio de aplicaciones</span><span class="sxs-lookup"><span data-stu-id="afa0e-103">Geo Distributed Scale with App Service Environments</span></span>
## <a name="overview"></a><span data-ttu-id="afa0e-104">Información general</span><span class="sxs-lookup"><span data-stu-id="afa0e-104">Overview</span></span>
<span data-ttu-id="afa0e-105">Escenarios de aplicaciones que requieren alta escala pueden superar Hola recursos capacidad disponible tooa única implementación de procesos de una aplicación.</span><span class="sxs-lookup"><span data-stu-id="afa0e-105">Application scenarios which require very high scale can exceed hello compute resource capacity available tooa single deployment of an app.</span></span>  <span data-ttu-id="afa0e-106">Algunos ejemplos de los escenarios que requieren una escala extremadamente alta son las aplicaciones de votación, los acontecimientos deportivos y los espectáculos televisados.</span><span class="sxs-lookup"><span data-stu-id="afa0e-106">Voting applications, sporting events, and televised entertainment events are all examples of scenarios that require extremely high scale.</span></span> <span data-ttu-id="afa0e-107">Requisitos de gran escala pueden cumplirse mediante el escalado horizontal de las aplicaciones, con varias implementaciones de aplicación que se va a realizar en una única región, así como entre las regiones, requisitos de carga extrema toohandle en.</span><span class="sxs-lookup"><span data-stu-id="afa0e-107">High scale requirements can be met by horizontally scaling out apps, with multiple app deployments being made within a single region, as well as across regions, toohandle extreme load requirements.</span></span>

<span data-ttu-id="afa0e-108">Los entornos de Servicio de aplicaciones son una plataforma ideal para el escalado horizontal.  Una vez que se ha seleccionado una configuración de entorno del servicio de aplicaciones que puede admitir una tasa de solicitud conocidos, los desarrolladores pueden implementar entornos del servicio de aplicación adicionales en "molde" modo tooattain una capacidad de carga pico deseado.</span><span class="sxs-lookup"><span data-stu-id="afa0e-108">App Service Environments are an ideal platform for horizontal scale out.  Once an App Service Environment configuration has been selected that can support a known request rate, developers can deploy additional App Service Environments in "cookie cutter" fashion tooattain a desired peak load capacity.</span></span>

<span data-ttu-id="afa0e-109">Por ejemplo, imagine una aplicación que se ejecuta en una configuración de entorno del servicio de aplicaciones ha sido probado toohandle 20 KB solicitudes por segundo (RPS).</span><span class="sxs-lookup"><span data-stu-id="afa0e-109">For example suppose an app running on an App Service Environment configuration has been tested toohandle 20K requests per second (RPS).</span></span>  <span data-ttu-id="afa0e-110">Si se carga pico deseado Hola capacidad es 100K RPS, se pueden crear entornos del servicio de aplicación de cinco (5) y tooensure configurado Hola aplicación puede controlar la carga máxima proyectada de Hola.</span><span class="sxs-lookup"><span data-stu-id="afa0e-110">If hello desired peak load capacity is 100K RPS, then five (5) App Service Environments can be created and configured tooensure hello application can handle hello maximum projected load.</span></span>

<span data-ttu-id="afa0e-111">Puesto que los clientes normalmente tienen acceso a aplicaciones que usan un dominio personalizado (o personal), los desarrolladores que necesitan una aplicación de manera toodistribute solicita a través de todas las instancias del entorno del servicio de aplicaciones de Hola de.</span><span class="sxs-lookup"><span data-stu-id="afa0e-111">Since customers typically access apps using a custom (or vanity) domain, developers need a way toodistribute app requests across all of hello App Service Environment instances.</span></span>  <span data-ttu-id="afa0e-112">Un tooaccomplish excelente manera es tooresolve Hola dominio personalizado utilizando un [perfil de Traffic Manager de Azure][AzureTrafficManagerProfile].</span><span class="sxs-lookup"><span data-stu-id="afa0e-112">A great way tooaccomplish this is tooresolve hello custom domain using an [Azure Traffic Manager profile][AzureTrafficManagerProfile].</span></span>  <span data-ttu-id="afa0e-113">Hola Traffic Manager perfil puede ser toopoint configurado en absoluto de Hola entornos del servicio de aplicación individuales.</span><span class="sxs-lookup"><span data-stu-id="afa0e-113">hello Traffic Manager profile can be configured toopoint at all of hello individual App Service Environments.</span></span>  <span data-ttu-id="afa0e-114">El Administrador de tráfico controlará automáticamente la distribución de los clientes en todos los que entornos del servicio de aplicación en función de la configuración de perfil de Traffic Manager Hola de equilibrio de carga de Hola de Hola.</span><span class="sxs-lookup"><span data-stu-id="afa0e-114">Traffic Manager will automatically handle distributing customers across all of hello App Service Environments based on hello load balancing settings in hello Traffic Manager profile.</span></span>  <span data-ttu-id="afa0e-115">Este enfoque funciona independientemente de si todos los entornos del servicio aplicación Hola se implementa en una sola región de Azure o implementadas en todo el mundo a través de varias regiones de Azure.</span><span class="sxs-lookup"><span data-stu-id="afa0e-115">This approach works regardless of whether all of hello App Service Environments are deployed in a single Azure region, or deployed worldwide across multiple Azure regions.</span></span>

<span data-ttu-id="afa0e-116">Además, puesto que los clientes acceder a las aplicaciones a través de dominio personal de hello, los clientes no son conscientes del número de Hola de entornos del servicio de aplicación al ejecutar una aplicación.</span><span class="sxs-lookup"><span data-stu-id="afa0e-116">Furthermore, since customers access apps through hello vanity domain, customers are unaware of hello number of App Service Environments running an app.</span></span>  <span data-ttu-id="afa0e-117">Como resultado, los desarrolladores pueden agregar y quitar rápida y fácilmente entornos de Servicio de aplicaciones según la carga de tráfico observada.</span><span class="sxs-lookup"><span data-stu-id="afa0e-117">As a result developers can quickly and easily add, and remove, App Service Environments based on observed traffic load.</span></span>

<span data-ttu-id="afa0e-118">diagrama conceptual de Hello siguiente muestra una aplicación escalada horizontalmente a través de tres entornos de servicio de aplicación en una única región.</span><span class="sxs-lookup"><span data-stu-id="afa0e-118">hello conceptual diagram below depicts an app horizontally scaled out across three App Service Environments within a single region.</span></span>

![Arquitectura conceptual][ConceptualArchitecture] 

<span data-ttu-id="afa0e-120">resto de Hola de este tema recorre Hola pasos con la configuración de una topología distribuida para la aplicación de ejemplo de Hola con varios entornos de servicio de aplicación.</span><span class="sxs-lookup"><span data-stu-id="afa0e-120">hello remainder of this topic walks through hello steps involved with setting up a distributed topology for hello sample app using multiple App Service Environments.</span></span>

## <a name="planning-hello-topology"></a><span data-ttu-id="afa0e-121">Planear la topología de Hola</span><span class="sxs-lookup"><span data-stu-id="afa0e-121">Planning hello Topology</span></span>
<span data-ttu-id="afa0e-122">Antes de crear una superficie de la aplicación distribuida, es útil toohave algunas partes información con antelación.</span><span class="sxs-lookup"><span data-stu-id="afa0e-122">Before building out a distributed app footprint, it helps toohave a few pieces information ahead of time.</span></span>

* <span data-ttu-id="afa0e-123">**Dominio personalizado para su aplicación hello:** ¿qué es el nombre de dominio personalizado de Hola que los clientes usarán tooaccess Hola aplicación?</span><span class="sxs-lookup"><span data-stu-id="afa0e-123">**Custom domain for hello app:**  What is hello custom domain name that customers will use tooaccess hello app?</span></span>  <span data-ttu-id="afa0e-124">Dominio personalizado de hello ejemplo aplicación Hola nombre es *www.scalableasedemo.com*</span><span class="sxs-lookup"><span data-stu-id="afa0e-124">For hello sample app hello custom domain name is *www.scalableasedemo.com*</span></span>
* <span data-ttu-id="afa0e-125">**Dominio de Traffic Manager:** toobe elegida al crear un nombre de dominio es necesario un [perfil de Traffic Manager de Azure][AzureTrafficManagerProfile].</span><span class="sxs-lookup"><span data-stu-id="afa0e-125">**Traffic Manager domain:**  A domain name needs toobe chosen when creating an [Azure Traffic Manager profile][AzureTrafficManagerProfile].</span></span>  <span data-ttu-id="afa0e-126">Este nombre se combinarán con hello *trafficmanager.net* sufijo tooregister una entrada de dominio que está administrada por el Administrador de tráfico.</span><span class="sxs-lookup"><span data-stu-id="afa0e-126">This name will be combined with hello *trafficmanager.net* suffix tooregister a domain entry that is managed by Traffic Manager.</span></span>  <span data-ttu-id="afa0e-127">Para la aplicación de ejemplo de Hola, elegida de nombre de hello es *escalable de demostración de ase*.</span><span class="sxs-lookup"><span data-stu-id="afa0e-127">For hello sample app, hello name chosen is *scalable-ase-demo*.</span></span>  <span data-ttu-id="afa0e-128">Como resultado es el nombre de dominio completo de Hola que es administrado por el Administrador de tráfico *demo.trafficmanager.net escalable de ase*.</span><span class="sxs-lookup"><span data-stu-id="afa0e-128">As a result hello full domain name that is managed by Traffic Manager is *scalable-ase-demo.trafficmanager.net*.</span></span>
* <span data-ttu-id="afa0e-129">**¿Estrategia para el escalado de la superficie de la aplicación de hello:** se distribuirán superficie de aplicación Hola a través de varios entornos de servicio de aplicación en una sola región?</span><span class="sxs-lookup"><span data-stu-id="afa0e-129">**Strategy for scaling hello app footprint:**  Will hello application footprint be distributed across multiple App Service Environments in a single region?</span></span>  <span data-ttu-id="afa0e-130">¿Varias regiones?</span><span class="sxs-lookup"><span data-stu-id="afa0e-130">Multiple regions?</span></span>  <span data-ttu-id="afa0e-131">¿Una combinación de ambos enfoques?</span><span class="sxs-lookup"><span data-stu-id="afa0e-131">A mix-and-match of both approaches?</span></span>  <span data-ttu-id="afa0e-132">Hola decisión debe basarse en las expectativas de donde se originará a tráfico de cliente, así como la puede escalar el resto de Hola y de una aplicación de la compatibilidad de la infraestructura de back-end.</span><span class="sxs-lookup"><span data-stu-id="afa0e-132">hello decision should be based on expectations of where customer traffic will originate, as well as how well hello rest of an app's supporting back-end infrastructure can scale.</span></span>  <span data-ttu-id="afa0e-133">Por ejemplo, con una aplicación totalmente sin estado, se puede escalar una aplicación de forma masiva mediante una combinación de varias instancias de App Service Environment por región de Azure, multiplicados por más instancias de App Service Environment implementadas en varias regiones de Azure.</span><span class="sxs-lookup"><span data-stu-id="afa0e-133">For example, with a 100% stateless application, an app can be massively scaled using a combination of multiple App Service Environments per Azure region,  multiplied by App Service Environments deployed across multiple Azure regions.</span></span>  <span data-ttu-id="afa0e-134">Con 15 + regiones de Azure pública toochoose disponibles desde, los clientes pueden crear realmente una superficie de la aplicación de gran escala de todo el mundo.</span><span class="sxs-lookup"><span data-stu-id="afa0e-134">With 15+ public Azure regions available toochoose from, customers can truly build a world-wide hyper-scale application footprint.</span></span>  <span data-ttu-id="afa0e-135">Para la aplicación de ejemplo Hola se usa para este artículo, se crearon tres entornos del servicio de aplicación en una sola región de Azure (Ee.uu. Central sur).</span><span class="sxs-lookup"><span data-stu-id="afa0e-135">For hello sample app used for this article, three App Service Environments were created in a single Azure region (South Central US).</span></span>
* <span data-ttu-id="afa0e-136">**Convención de nomenclatura para los entornos del servicio de aplicación Hola:** cada entorno de servicio de aplicaciones requiere un nombre único.</span><span class="sxs-lookup"><span data-stu-id="afa0e-136">**Naming convention for hello App Service Environments:**  Each App Service Environment requires a unique name.</span></span>  <span data-ttu-id="afa0e-137">Más allá de uno o dos entornos del servicio de aplicación resulta útil toohave una convención de nomenclatura toohelp identificar cada entorno de servicio de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="afa0e-137">Beyond one or two App Service Environments it is helpful toohave a naming convention toohelp identify each App Service Environment.</span></span>  <span data-ttu-id="afa0e-138">Aplicación de ejemplo de Hola se usó una convención de nomenclatura simple.</span><span class="sxs-lookup"><span data-stu-id="afa0e-138">For hello sample app a simple naming convention was used.</span></span>  <span data-ttu-id="afa0e-139">Hello nombres de hello tres entornos del servicio de aplicación son *fe1ase*, *fe2ase*, y *fe3ase*.</span><span class="sxs-lookup"><span data-stu-id="afa0e-139">hello names of hello three App Service Environments are *fe1ase*, *fe2ase*, and *fe3ase*.</span></span>
* <span data-ttu-id="afa0e-140">**Convención de nomenclatura para las aplicaciones de hello:** desde que se implementarán varias instancias de la aplicación hello, se requiere un nombre para cada instancia de la aplicación hello implementado.</span><span class="sxs-lookup"><span data-stu-id="afa0e-140">**Naming convention for hello apps:**  Since multiple instances of hello app will be deployed, a name is needed for each instance of hello deployed app.</span></span>  <span data-ttu-id="afa0e-141">Una característica de poco conocidos, pero muy cómoda de entornos del servicio de aplicación es ese hello mismo nombre de aplicación puede utilizarse en varios entornos de servicio de aplicación.</span><span class="sxs-lookup"><span data-stu-id="afa0e-141">One little-known but very convenient feature of App Service Environments is that hello same app name can be used across multiple App Service Environments.</span></span>  <span data-ttu-id="afa0e-142">Puesto que cada entorno de servicio de aplicación tiene un sufijo de dominio único, a los desarrolladores pueden elegir usar toore Hola exacta mismo nombre de aplicación en cada entorno.</span><span class="sxs-lookup"><span data-stu-id="afa0e-142">Since each App Service Environment has a unique domain suffix, developers can choose toore-use hello exact same app name in each environment.</span></span>  <span data-ttu-id="afa0e-143">Por ejemplo, un desarrollador podría asignar los siguientes nombres a las aplicaciones:*myapp.foo1.p.azurewebsites.net*, *myapp.foo2.p.azurewebsites.net*, *myapp.foo3.p.azurewebsites.net, etc*.  Para la aplicación de ejemplo de Hola aunque cada instancia de la aplicación también tiene un nombre único.</span><span class="sxs-lookup"><span data-stu-id="afa0e-143">For example a developer could have apps named as follows:  *myapp.foo1.p.azurewebsites.net*, *myapp.foo2.p.azurewebsites.net*, *myapp.foo3.p.azurewebsites.net*, etc.  For hello sample app though each app instance also has a unique name.</span></span>  <span data-ttu-id="afa0e-144">Hello aplicación instancia nombres utilizados son *webfrontend1*, *webfrontend2*, y *webfrontend3*.</span><span class="sxs-lookup"><span data-stu-id="afa0e-144">hello app instance names used are *webfrontend1*, *webfrontend2*, and *webfrontend3*.</span></span>

## <a name="setting-up-hello-traffic-manager-profile"></a><span data-ttu-id="afa0e-145">Configurar perfil de Traffic Manager Hola</span><span class="sxs-lookup"><span data-stu-id="afa0e-145">Setting up hello Traffic Manager Profile</span></span>
<span data-ttu-id="afa0e-146">Una vez que se implementan varias instancias de una aplicación en varios entornos de servicio de aplicación, se pueden registrar instancias de aplicaciones individuales de hello con Traffic Manager.</span><span class="sxs-lookup"><span data-stu-id="afa0e-146">Once multiple instances of an app are deployed on multiple App Service Environments, hello  individual app instances can be registered with Traffic Manager.</span></span>  <span data-ttu-id="afa0e-147">Aplicación de ejemplo de Hola un administrador de tráfico de perfil es necesaria para *demo.trafficmanager.net escalable de ase* que puede enrutar con instancias de aplicación tooany de hello después de implementar los clientes:</span><span class="sxs-lookup"><span data-stu-id="afa0e-147">For hello sample app a Traffic Manager profile is needed for *scalable-ase-demo.trafficmanager.net* that can route customers tooany of hello following deployed app instances:</span></span>

* <span data-ttu-id="afa0e-148">**webfrontend1.fe1ase.p.azurewebsites.NET:** Hola a una instancia de la aplicación de ejemplo de Hola implementada en el primer entorno de servicio de aplicación.</span><span class="sxs-lookup"><span data-stu-id="afa0e-148">**webfrontend1.fe1ase.p.azurewebsites.net:**  An instance of hello sample app deployed on hello first App Service Environment.</span></span>
* <span data-ttu-id="afa0e-149">**webfrontend2.fe2ase.p.azurewebsites.NET:** Hola a una instancia de la aplicación de ejemplo de Hola implementada en el segundo entorno de servicio de aplicación.</span><span class="sxs-lookup"><span data-stu-id="afa0e-149">**webfrontend2.fe2ase.p.azurewebsites.net:**  An instance of hello sample app deployed on hello second App Service Environment.</span></span>
* <span data-ttu-id="afa0e-150">**webfrontend3.fe3ase.p.azurewebsites.NET:** Hola a una instancia de la aplicación de ejemplo de Hola implementada en el tercer entorno de servicio de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="afa0e-150">**webfrontend3.fe3ase.p.azurewebsites.net:**  An instance of hello sample app deployed on hello third App Service Environment.</span></span>

<span data-ttu-id="afa0e-151">Hola tooregister de manera más fácil varios extremos de servicio de aplicaciones de Azure, ejecutan todos en hello **mismo** región de Azure, está con hello Powershell [soporte técnico de Azure Resource Manager Traffic Manager] [ ARMTrafficManager].</span><span class="sxs-lookup"><span data-stu-id="afa0e-151">hello easiest way tooregister multiple Azure App Service endpoints, all running in hello **same** Azure region, is with hello Powershell [Azure Resource Manager Traffic Manager support][ARMTrafficManager].</span></span>  

<span data-ttu-id="afa0e-152">Hola primer paso es toocreate un perfil de Traffic Manager de Azure.</span><span class="sxs-lookup"><span data-stu-id="afa0e-152">hello first step is toocreate an Azure Traffic Manager profile.</span></span>  <span data-ttu-id="afa0e-153">código de Hello siguiente muestra cómo se creó el perfil de hello para la aplicación de ejemplo de Hola:</span><span class="sxs-lookup"><span data-stu-id="afa0e-153">hello code below shows how hello profile was created for hello sample app:</span></span>

    $profile = New-AzureTrafficManagerProfile –Name scalableasedemo -ResourceGroupName yourRGNameHere -TrafficRoutingMethod Weighted -RelativeDnsName scalable-ase-demo -Ttl 30 -MonitorProtocol HTTP -MonitorPort 80 -MonitorPath "/"

<span data-ttu-id="afa0e-154">Tenga en cuenta cómo Hola *RelativeDnsName* parámetro se establece demasiado*escalable de demostración de ase*.</span><span class="sxs-lookup"><span data-stu-id="afa0e-154">Notice how hello *RelativeDnsName* parameter was set too*scalable-ase-demo*.</span></span>  <span data-ttu-id="afa0e-155">Esto es cómo Hola nombre de dominio *demo.trafficmanager.net escalable de ase* está creado y asociado con un perfil de Traffic Manager.</span><span class="sxs-lookup"><span data-stu-id="afa0e-155">This is how hello domain name *scalable-ase-demo.trafficmanager.net* is created and associated with a Traffic Manager profile.</span></span>

<span data-ttu-id="afa0e-156">Hola *TrafficRoutingMethod* parámetro define la directiva de Traffic Manager usará toodetermine cómo cargar toospread cliente en todos los extremos disponibles de Hola de equilibrio de carga de Hola.</span><span class="sxs-lookup"><span data-stu-id="afa0e-156">hello *TrafficRoutingMethod* parameter defines hello load balancing policy Traffic Manager will use toodetermine how toospread customer load across all of hello available endpoints.</span></span>  <span data-ttu-id="afa0e-157">En este Hola ejemplo *Weighted* método se ha elegido.</span><span class="sxs-lookup"><span data-stu-id="afa0e-157">In this example hello *Weighted* method was chosen.</span></span>  <span data-ttu-id="afa0e-158">Esto provocará en las solicitudes de cliente que se va a distribuir en todos los de los extremos de la aplicación hello registrado en función de los pesos relativos Hola asociados a cada punto de conexión.</span><span class="sxs-lookup"><span data-stu-id="afa0e-158">This will result in customer requests being spread across all of hello registered application endpoints based on hello relative weights associated with each endpoint.</span></span> 

<span data-ttu-id="afa0e-159">Con el perfil de hello creado, cada instancia de la aplicación se agrega toohello perfil como un extremo de Azure nativo.</span><span class="sxs-lookup"><span data-stu-id="afa0e-159">With hello profile created, each app instance is added toohello profile as a native Azure endpoint.</span></span>  <span data-ttu-id="afa0e-160">código de Hello siguiente captura una aplicación de referencia tooeach front-end web y, a continuación, agrega cada aplicación como un punto de conexión de administrador de tráfico por medio de hello *elemento TargetResourceId* parámetro.</span><span class="sxs-lookup"><span data-stu-id="afa0e-160">hello code below fetches a reference tooeach front end web app, and then adds each app as a Traffic Manager endpoint by way of hello *TargetResourceId* parameter.</span></span>

    $webapp1 = Get-AzureRMWebApp -Name webfrontend1
    Add-AzureTrafficManagerEndpointConfig –EndpointName webfrontend1 –TrafficManagerProfile $profile –Type AzureEndpoints -TargetResourceId $webapp1.Id –EndpointStatus Enabled –Weight 10

    $webapp2 = Get-AzureRMWebApp -Name webfrontend2
    Add-AzureTrafficManagerEndpointConfig –EndpointName webfrontend2 –TrafficManagerProfile $profile –Type AzureEndpoints -TargetResourceId $webapp2.Id –EndpointStatus Enabled –Weight 10

    $webapp3 = Get-AzureRMWebApp -Name webfrontend3
    Add-AzureTrafficManagerEndpointConfig –EndpointName webfrontend3 –TrafficManagerProfile $profile –Type AzureEndpoints -TargetResourceId $webapp3.Id –EndpointStatus Enabled –Weight 10

    Set-AzureTrafficManagerProfile –TrafficManagerProfile $profile

<span data-ttu-id="afa0e-161">Observe que hay una llamada demasiado*AzureTrafficManagerEndpointConfig agregar* para cada instancia de aplicación individuales.</span><span class="sxs-lookup"><span data-stu-id="afa0e-161">Notice how there is one call too*Add-AzureTrafficManagerEndpointConfig* for each individual app instance.</span></span>  <span data-ttu-id="afa0e-162">Hola *elemento TargetResourceId* parámetro en cada comando de Powershell hace referencia a uno de tres instancias de aplicación implementada Hola.</span><span class="sxs-lookup"><span data-stu-id="afa0e-162">hello *TargetResourceId* parameter in each Powershell command references one of hello three deployed app instances.</span></span>  <span data-ttu-id="afa0e-163">Hola perfil de Traffic Manager repartirán la carga entre los tres extremos registrados en el perfil de Hola.</span><span class="sxs-lookup"><span data-stu-id="afa0e-163">hello Traffic Manager profile will spread load across all three endpoints registered in hello profile.</span></span>

<span data-ttu-id="afa0e-164">Todos Hola tres extremos utilizan Hola mismo valor (10) para hello *peso* parámetro.</span><span class="sxs-lookup"><span data-stu-id="afa0e-164">All of hello three endpoints use hello same value (10) for hello *Weight* parameter.</span></span>  <span data-ttu-id="afa0e-165">Como resultado, el Administrador de tráfico distribuye las solicitudes de los clientes entre las tres instancias de la aplicación de forma relativamente uniforme.</span><span class="sxs-lookup"><span data-stu-id="afa0e-165">This results in Traffic Manager spreading customer requests across all three app instances relatively evenly.</span></span> 

## <a name="pointing-hello-apps-custom-domain-at-hello-traffic-manager-domain"></a><span data-ttu-id="afa0e-166">Dominio de la aplicación hello señalador personalizado en hello dominio de Traffic Manager</span><span class="sxs-lookup"><span data-stu-id="afa0e-166">Pointing hello App's Custom Domain at hello Traffic Manager Domain</span></span>
<span data-ttu-id="afa0e-167">Hola último paso necesario es dominio personalizado de hello toopoint de aplicación hello en el dominio de Traffic Manager Hola.</span><span class="sxs-lookup"><span data-stu-id="afa0e-167">hello final step necessary is toopoint hello custom domain of hello app at hello Traffic Manager domain.</span></span>  <span data-ttu-id="afa0e-168">Para la aplicación de ejemplo de Hola Esto significa que señala *www.scalableasedemo.com* en *demo.trafficmanager.net escalable de ase*.</span><span class="sxs-lookup"><span data-stu-id="afa0e-168">For hello sample app this means pointing *www.scalableasedemo.com* at *scalable-ase-demo.trafficmanager.net*.</span></span>  <span data-ttu-id="afa0e-169">Este paso es necesario toobe completado con el registrador de dominios de Hola que administra el dominio personalizado de Hola.</span><span class="sxs-lookup"><span data-stu-id="afa0e-169">This step needs toobe completed with hello domain registrar that manages hello custom domain.</span></span>  

<span data-ttu-id="afa0e-170">Con herramientas de administración de dominio de su registrador, un toobe de necesidades de los registros CNAME creado qué dominio personalizado de Hola de puntos en el dominio de Traffic Manager de Hola.</span><span class="sxs-lookup"><span data-stu-id="afa0e-170">Using your registrar's domain management tools, a CNAME records needs toobe created which points hello custom domain at hello Traffic Manager domain.</span></span>  <span data-ttu-id="afa0e-171">Figura Hola siguiente muestra un ejemplo del aspecto de esta configuración CNAME:</span><span class="sxs-lookup"><span data-stu-id="afa0e-171">hello picture below shows an example of what this CNAME configuration looks like:</span></span>

![CNAME para el dominio personalizado][CNAMEforCustomDomain] 

<span data-ttu-id="afa0e-173">Aunque no se tratan en este tema, recuerde que cada instancia de aplicación individuales necesita toohave Hola personalizado de dominio registrado con ella también.</span><span class="sxs-lookup"><span data-stu-id="afa0e-173">Although not covered in this topic, remember that each individual app instance needs toohave hello custom domain registered with it as well.</span></span>  <span data-ttu-id="afa0e-174">En caso contrario, si una solicitud de instancia de aplicación tooan facilita y aplicación hello no tiene dominio personalizado de hello registrado con la aplicación hello, solicitud de Hola se producirá un error.</span><span class="sxs-lookup"><span data-stu-id="afa0e-174">Otherwise if a request makes it tooan app instance, and hello application does not have hello custom domain registered with hello app, hello request will fail.</span></span>  

<span data-ttu-id="afa0e-175">En este Hola de ejemplo es el dominio personalizado *www.scalableasedemo.com*, y cada instancia de la aplicación tiene el dominio personalizado de hello asociado a él.</span><span class="sxs-lookup"><span data-stu-id="afa0e-175">In this example hello custom domain is *www.scalableasedemo.com*, and each application instance has hello custom domain associated with it.</span></span>

![Dominio personalizado][CustomDomain] 

<span data-ttu-id="afa0e-177">Para un resumen de registrar un dominio personalizado con las aplicaciones de servicio de aplicaciones de Azure, vea Hola artículo siguiente [registrar dominios personalizados][RegisterCustomDomain].</span><span class="sxs-lookup"><span data-stu-id="afa0e-177">For a recap of of registering a custom domain with Azure App Service apps, see hello following article on [registering custom domains][RegisterCustomDomain].</span></span>

## <a name="trying-out-hello-distributed-topology"></a><span data-ttu-id="afa0e-178">Probar Hola topología distribuida</span><span class="sxs-lookup"><span data-stu-id="afa0e-178">Trying out hello Distributed Topology</span></span>
<span data-ttu-id="afa0e-179">Hola resultado final de la configuración de Traffic Manager y DNS de hello es que las solicitudes para *www.scalableasedemo.com* fluirá a través de hello sigue secuencia:</span><span class="sxs-lookup"><span data-stu-id="afa0e-179">hello end result of hello Traffic Manager and DNS configuration is that requests for *www.scalableasedemo.com* will flow through hello following sequence:</span></span>

1. <span data-ttu-id="afa0e-180">Un dispositivo o explorador realizará una búsqueda DNS de *www.scalableasedemo.com*</span><span class="sxs-lookup"><span data-stu-id="afa0e-180">A browser or device will make a DNS lookup for *www.scalableasedemo.com*</span></span>
2. <span data-ttu-id="afa0e-181">Hola entrada CNAME en el registrador de dominios de hello hace Hola DNS búsqueda toobe redirigido tooAzure Traffic Manager.</span><span class="sxs-lookup"><span data-stu-id="afa0e-181">hello CNAME entry at hello domain registrar causes hello DNS lookup toobe redirected tooAzure Traffic Manager.</span></span>
3. <span data-ttu-id="afa0e-182">Se ha realizado una búsqueda de DNS para *demo.trafficmanager.net escalable de ase* en uno de los servidores de DNS de Traffic Manager de Azure Hola.</span><span class="sxs-lookup"><span data-stu-id="afa0e-182">A DNS lookup is made for *scalable-ase-demo.trafficmanager.net* against one of hello Azure Traffic Manager DNS servers.</span></span>
4. <span data-ttu-id="afa0e-183">Según la directiva de equilibrio de carga de hello (hello *TrafficRoutingMethod* parámetro utilizado anteriormente al crear el perfil de Traffic Manager de hello), se de Traffic Manager seleccione uno de hello configura los puntos de conexión y devolver Hola FQDN de ese Explorador de toohello de punto de conexión o el dispositivo.</span><span class="sxs-lookup"><span data-stu-id="afa0e-183">Based on hello load balancing policy (hello *TrafficRoutingMethod* parameter used earlier when creating hello Traffic Manager profile), Traffic Manager will select one of hello configured endpoints and return hello FQDN of that endpoint toohello browser or device.</span></span>
5. <span data-ttu-id="afa0e-184">Puesto que Hola FQDN del punto de conexión de Hola Hola Url de una instancia de aplicación que se ejecuta en un entorno de servicio de aplicaciones, hello explorador o dispositivo le pedirá a un servidor DNS de Microsoft Azure hello tooresolve dirección IP de tooan FQDN.</span><span class="sxs-lookup"><span data-stu-id="afa0e-184">Since hello FQDN of hello endpoint is hello Url of an app instance running on an App Service Environment, hello browser or device will ask a Microsoft Azure DNS server tooresolve hello FQDN tooan IP address.</span></span> 
6. <span data-ttu-id="afa0e-185">Hola explorador o dispositivo enviará Hola HTTP/solicitud toohello dirección IP.</span><span class="sxs-lookup"><span data-stu-id="afa0e-185">hello browser or device will send hello HTTP/S request toohello IP address.</span></span>  
7. <span data-ttu-id="afa0e-186">solicitud de Hello llegarán en una de las instancias de aplicación hello en uno de los entornos del servicio de aplicación Hola.</span><span class="sxs-lookup"><span data-stu-id="afa0e-186">hello request will arrive at one of hello app instances running on one of hello App Service Environments.</span></span>

<span data-ttu-id="afa0e-187">Hello figura de consola siguiente muestra una búsqueda de DNS para dominio personalizado resolver correctamente tooan aplicación instancia la aplicación de ejemplo de Hola se ejecuta en una muestra de Hola tres entornos del servicio de aplicación (en este caso Hola segundo de hello tres entornos del servicio de aplicación):</span><span class="sxs-lookup"><span data-stu-id="afa0e-187">hello console picture below shows a DNS lookup for hello sample app's custom domain successfully resolving tooan app instance running on one of hello three sample App Service Environments (in this case hello second of hello three App Service Environments):</span></span>

![Búsqueda DNS][DNSLookup] 

## <a name="additional-links-and-information"></a><span data-ttu-id="afa0e-189">Información y vínculos adicionales</span><span class="sxs-lookup"><span data-stu-id="afa0e-189">Additional Links and Information</span></span>
<span data-ttu-id="afa0e-190">Todos los artículos y cómo-para para entornos del servicio de aplicación están disponibles en hello [archivo Léame para entornos de aplicaciones de servicio](../app-service/app-service-app-service-environments-readme.md).</span><span class="sxs-lookup"><span data-stu-id="afa0e-190">All articles and How-To's for App Service Environments are available in hello [README for Application Service Environments](../app-service/app-service-app-service-environments-readme.md).</span></span>

<span data-ttu-id="afa0e-191">Documentación en hello Powershell [soporte técnico de Azure Resource Manager Traffic Manager][ARMTrafficManager].</span><span class="sxs-lookup"><span data-stu-id="afa0e-191">Documentation on hello Powershell [Azure Resource Manager Traffic Manager support][ARMTrafficManager].</span></span>  

[!INCLUDE [app-service-web-whats-changed](../../includes/app-service-web-whats-changed.md)]

[!INCLUDE [app-service-web-try-app-service](../../includes/app-service-web-try-app-service.md)]

<!-- LINKS -->
[AzureTrafficManagerProfile]: ../traffic-manager/traffic-manager-manage-profiles.md
[ARMTrafficManager]: ../traffic-manager/traffic-manager-powershell-arm.md
[RegisterCustomDomain]: app-service-web-tutorial-custom-domain.md


<!-- IMAGES -->
[ConceptualArchitecture]: ./media/app-service-app-service-environment-geo-distributed-scale/ConceptualArchitecture-1.png
[CNAMEforCustomDomain]:  ./media/app-service-app-service-environment-geo-distributed-scale/CNAMECustomDomain-1.png
[DNSLookup]:  ./media/app-service-app-service-environment-geo-distributed-scale/DNSLookup-1.png
[CustomDomain]:  ./media/app-service-app-service-environment-geo-distributed-scale/CustomDomain-1.png 
