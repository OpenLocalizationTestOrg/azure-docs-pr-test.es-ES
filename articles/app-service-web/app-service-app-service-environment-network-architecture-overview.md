---
title: "información general de arquitectura de aplicación servicio entornos aaaNetwork"
description: "Introducción a la arquitectura de la topología de red de los entornos del Servicio de aplicaciones."
services: app-service
documentationcenter: 
author: stefsch
manager: erikre
editor: 
ms.assetid: 13d03a37-1fe2-4e3e-9d57-46dfb330ba52
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 10/04/2016
ms.author: stefsch
ms.openlocfilehash: 3cbc86883f5687a9ada35a3ab2f577a450a3fa0b
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="network-architecture-overview-of-app-service-environments"></a><span data-ttu-id="888c2-103">Información general sobre la arquitectura de red de los entornos del Servicio de aplicaciones</span><span class="sxs-lookup"><span data-stu-id="888c2-103">Network Architecture Overview of App Service Environments</span></span>
## <a name="introduction"></a><span data-ttu-id="888c2-104">Introducción</span><span class="sxs-lookup"><span data-stu-id="888c2-104">Introduction</span></span>
<span data-ttu-id="888c2-105">Entornos del servicio de aplicación siempre se crean dentro de una subred de un [red virtual] [ virtualnetwork] -aplicaciones que se ejecutan en un entorno de servicio de aplicaciones pueden comunicarse con privada extremos ubicados en hello mismo virtual topología de red.</span><span class="sxs-lookup"><span data-stu-id="888c2-105">App Service Environments are always created within a subnet of a [virtual network][virtualnetwork] - apps running in an App Service Environment can communicate with private endpoints located within hello same virtual network topology.</span></span>  <span data-ttu-id="888c2-106">Puesto que los clientes pueden bloquear partes de su infraestructura de red virtual, es importante toounderstand tipos de Hola de flujos de comunicación de red que se producen con un entorno de servicio de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="888c2-106">Since customers may lock down parts of their virtual network infrastructure, it is important toounderstand hello types of network communication flows that occur with an App Service Environment.</span></span>

## <a name="general-network-flow"></a><span data-ttu-id="888c2-107">Flujo de red general</span><span class="sxs-lookup"><span data-stu-id="888c2-107">General Network Flow</span></span>
<span data-ttu-id="888c2-108">Cuando un entorno del Servicio de aplicaciones (ASE) utiliza una dirección IP virtual pública (VIP) para las aplicaciones, todo el tráfico entrante llega a esa VIP pública,</span><span class="sxs-lookup"><span data-stu-id="888c2-108">When an App Service Environment (ASE) uses a public virtual IP address (VIP) for apps, all inbound traffic arrives on that public VIP.</span></span>  <span data-ttu-id="888c2-109">incluido el tráfico HTTP y HTTPS para las aplicaciones, así como otro tráfico de FTP, la funcionalidad de depuración remota y las operaciones de administración de Azure.</span><span class="sxs-lookup"><span data-stu-id="888c2-109">This includes HTTP and HTTPS traffic for apps, as well as other traffic for FTP, remote debugging functionality, and Azure management operations.</span></span>  <span data-ttu-id="888c2-110">Para obtener una lista completa de hello puertos específicos (necesarios y opcionales) que están disponibles en la VIP pública Hola consulte artículo de hello en [controlar el tráfico entrante] [ controllinginboundtraffic] tooan entorno del servicio de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="888c2-110">For a full list of hello specific ports (both required and optional) that are available on hello public VIP see hello article on [controlling inbound traffic][controllinginboundtraffic] tooan App Service Environment.</span></span> 

<span data-ttu-id="888c2-111">Entornos del servicio de aplicación también permiten la ejecución aplicaciones que se enlazan solo tooa virtual red dirección interna, también denominado tooas una dirección ILB (equilibrador de carga interno).</span><span class="sxs-lookup"><span data-stu-id="888c2-111">App Service Environments also support running apps that are bound only tooa virtual network internal address, also referred tooas an ILB (internal load balancer) address.</span></span>  <span data-ttu-id="888c2-112">En un ILB tráfico ASE, HTTP y HTTPS habilitado para aplicaciones, así como llamadas de depuración remotas, llegan en hello dirección ILB.</span><span class="sxs-lookup"><span data-stu-id="888c2-112">On an ILB enabled ASE, HTTP and HTTPS traffic for apps as well as remote debugging calls, arrive on hello ILB address.</span></span>  <span data-ttu-id="888c2-113">Para configuraciones de ILB ASE más habituales, el tráfico FTP o FTPS también llegarán a Hola dirección ILB.</span><span class="sxs-lookup"><span data-stu-id="888c2-113">For most common ILB-ASE configurations, FTP/FTPS traffic will also arrive on hello ILB address.</span></span>  <span data-ttu-id="888c2-114">Sin embargo las operaciones de administración de Azure sigue fluirá tooports 454 y 455 en hello VIP pública de un ILB habilita ASE.</span><span class="sxs-lookup"><span data-stu-id="888c2-114">However Azure management operations will still flow tooports 454/455 on hello public VIP of an ILB enabled ASE.</span></span>

<span data-ttu-id="888c2-115">diagrama de Hello siguiente muestra un resumen de hello distintos flujos de red entrantes y salientes para un entorno de servicio de aplicación donde hello aplicaciones están enlazadas tooa: dirección IP virtual pública:</span><span class="sxs-lookup"><span data-stu-id="888c2-115">hello diagram below shows an overview of hello various inbound and outbound network flows for an App Service Environment where hello apps are bound tooa public virtual IP address:</span></span>

![Flujos de red generales][GeneralNetworkFlows]

<span data-ttu-id="888c2-117">Un entorno del Servicio de aplicaciones puede comunicarse con una variedad de extremos privados del cliente.</span><span class="sxs-lookup"><span data-stu-id="888c2-117">An App Service Environment can communicate with a variety of private customer endpoints.</span></span>  <span data-ttu-id="888c2-118">Por ejemplo, aplicaciones que se ejecutan en hello en que entorno del servicio de aplicaciones puede conectarse a servidores de toodatabase que se ejecutan en máquinas virtuales de IaaS Hola misma topología de red virtual.</span><span class="sxs-lookup"><span data-stu-id="888c2-118">For example, apps running in hello App Service Environment can connect toodatabase server(s) running on IaaS virtual machines in hello same virtual network topology.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="888c2-119">Examinando el diagrama de red de hello, Hola "otros proceso recursos" se implementan en una subred diferente de hello entorno del servicio de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="888c2-119">Looking at hello network diagram, hello "Other Compute Resources" are deployed in a different Subnet from hello App Service Environment.</span></span> <span data-ttu-id="888c2-120">Implementar recursos en hello misma subred con hello ASE bloqueará la conectividad de los recursos de toothose ASE (a excepción de enrutamiento específico intra-ASE).</span><span class="sxs-lookup"><span data-stu-id="888c2-120">Deploying resources in hello same Subnet with hello ASE will block connectivity from ASE toothose resources (except for specific intra-ASE routing).</span></span> <span data-ttu-id="888c2-121">Implementar tooa subred diferente en su lugar (en Hola misma red virtual).</span><span class="sxs-lookup"><span data-stu-id="888c2-121">Deploy tooa different Subnet instead (in hello same VNET).</span></span> <span data-ttu-id="888c2-122">Hola entono será capaz de tooconnect.</span><span class="sxs-lookup"><span data-stu-id="888c2-122">hello App Service Environment will then be able tooconnect.</span></span> <span data-ttu-id="888c2-123">No se necesita ninguna configuración adicional.</span><span class="sxs-lookup"><span data-stu-id="888c2-123">No additional configuration is necessary.</span></span>
> 
> 

<span data-ttu-id="888c2-124">Los entornos del Servicio de aplicaciones también se comunican con la base de datos SQL y los recursos del Almacenamiento de Azure necesarios para administrar y operar un entorno del Servicio de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="888c2-124">App Service Environments also communicate with Sql DB and Azure Storage resources necessary for managing and operating an App Service Environment.</span></span>  <span data-ttu-id="888c2-125">Algunos de los recursos de Sql y el almacenamiento de Hola que un entorno de servicio de aplicaciones se comunica con se encuentran en hello misma región que Hola entorno de servicio de aplicaciones, mientras que otras personas se encuentran en regiones de Azure remotas.</span><span class="sxs-lookup"><span data-stu-id="888c2-125">Some of hello Sql and Storage resources that an App Service Environment communicates with are located in hello same region as hello App Service Environment, while others are located in remote Azure regions.</span></span>  <span data-ttu-id="888c2-126">Como resultado, conectividad saliente toohello Internet siempre se requiere para un entorno de servicio de aplicaciones toofunction correctamente.</span><span class="sxs-lookup"><span data-stu-id="888c2-126">As a result, outbound connectivity toohello Internet is always required for an App Service Environment toofunction properly.</span></span> 

<span data-ttu-id="888c2-127">Dado que un entorno de servicio de aplicación se implementa en una subred, grupos de seguridad de red pueden ser usado toocontrol subred toohello de tráfico entrante.</span><span class="sxs-lookup"><span data-stu-id="888c2-127">Since an App Service Environment is deployed in a subnet, network security groups can be used toocontrol inbound traffic toohello subnet.</span></span>  <span data-ttu-id="888c2-128">Para obtener detalles sobre cómo toocontrol entrada tráfico tooan entorno del servicio de aplicaciones, vea el siguiente hello [artículo][controllinginboundtraffic].</span><span class="sxs-lookup"><span data-stu-id="888c2-128">For details on how toocontrol inbound traffic tooan App Service Environment, see hello following [article][controllinginboundtraffic].</span></span>

<span data-ttu-id="888c2-129">Para obtener más información acerca de cómo tooallow conectividad a Internet saliente desde un entorno de servicio de aplicaciones, vea Hola artículo sobre cómo trabajar con siguiente [Expressroute][ExpressRoute].</span><span class="sxs-lookup"><span data-stu-id="888c2-129">For details on how tooallow outbound Internet connectivity from an App Service Environment, see hello following article about working with [Express Route][ExpressRoute].</span></span>  <span data-ttu-id="888c2-130">Hola mismo enfoque descrita en el artículo Hola se aplica cuando se trabaja con conectividad de sitio a sitio y que estás usando la tunelización forzada.</span><span class="sxs-lookup"><span data-stu-id="888c2-130">hello same approach described in hello article applies when working with Site-to-Site connectivity and using forced tunneling.</span></span>

## <a name="outbound-network-addresses"></a><span data-ttu-id="888c2-131">Direcciones de red de salida</span><span class="sxs-lookup"><span data-stu-id="888c2-131">Outbound Network Addresses</span></span>
<span data-ttu-id="888c2-132">Cuando un entorno de servicio de aplicaciones realiza las llamadas salientes, siempre se asocia con llamadas salientes de hello una dirección IP.</span><span class="sxs-lookup"><span data-stu-id="888c2-132">When an App Service Environment makes outbound calls, an IP Address is always associated with hello outbound calls.</span></span>  <span data-ttu-id="888c2-133">dirección IP específica Hola que se usa depende de si se llama a un punto de conexión de Hola se encuentra dentro de la topología de red virtual de Hola o fuera de la topología de red virtual de Hola.</span><span class="sxs-lookup"><span data-stu-id="888c2-133">hello specific IP address that is used depends on whether hello endpoint being called is located within hello virtual network topology, or outside of hello virtual network topology.</span></span>

<span data-ttu-id="888c2-134">Si se llama a un punto de conexión de hello es **fuera** de topología de red virtual de Hola y Hola dirección saliente (también conocido como Hola saliente dirección NAT) que se utiliza es Hola VIP pública de hello entorno del servicio de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="888c2-134">If hello endpoint being called is **outside** of hello virtual network topology, then hello outbound address (aka hello outbound NAT address) that is used is hello public VIP of hello App Service Environment.</span></span>  <span data-ttu-id="888c2-135">Esta dirección se puede encontrar en la interfaz de usuario del portal de Hola para hello entorno del servicio de aplicaciones en la hoja de propiedades.</span><span class="sxs-lookup"><span data-stu-id="888c2-135">This address can be found in hello portal user interface for hello App Service Environment in Properties blade.</span></span>

![Dirección IP saliente][OutboundIPAddress]

<span data-ttu-id="888c2-137">También se puede determinar esta dirección para ASEs que solo tienen una VIP pública, cree una aplicación Hola entorno del servicio de aplicaciones y, a continuación, realizar una *nslookup* en dirección de la aplicación hello.</span><span class="sxs-lookup"><span data-stu-id="888c2-137">This address can also be determined for ASEs that only have a public VIP by creating an app in hello App Service Environment, and then performing an *nslookup* on hello app's address.</span></span> <span data-ttu-id="888c2-138">dirección IP resultante de Hello es VIP pública hello, así como dirección NAT de salida del entorno del servicio de aplicación Hola.</span><span class="sxs-lookup"><span data-stu-id="888c2-138">hello resultant IP address is both hello public VIP, as well as hello App Service Environment's outbound NAT address.</span></span>

<span data-ttu-id="888c2-139">Si se llama a un punto de conexión de hello es **en** de topología de red virtual de hello, dirección de salida de hello de aplicación que realiza la llamada de hello será la dirección IP interna de Hola Hola individuales de recurso de proceso ejecutando la aplicación hello.</span><span class="sxs-lookup"><span data-stu-id="888c2-139">If hello endpoint being called is **inside** of hello virtual network topology, hello outbound address of hello calling app will be hello internal IP address of hello individual compute resource running hello app.</span></span>  <span data-ttu-id="888c2-140">Sin embargo, no hay una asignación persistente de red virtual interna IP direcciones tooapps.</span><span class="sxs-lookup"><span data-stu-id="888c2-140">However there is not a persistent mapping of virtual network internal IP addresses tooapps.</span></span>  <span data-ttu-id="888c2-141">Aplicaciones pueden moverse a través de recursos de proceso diferente y grupo de Hola de recursos de proceso disponibles en un entorno de servicio de aplicaciones puede cambiar debido a las operaciones de tooscaling.</span><span class="sxs-lookup"><span data-stu-id="888c2-141">Apps can move around across different compute resources, and hello pool of available compute resources in an App Service Environment can change due tooscaling operations.</span></span>

<span data-ttu-id="888c2-142">Sin embargo, puesto que un entorno de servicio de aplicaciones siempre se encuentra dentro de una subred, se garantiza que la dirección IP interna de Hola de un recurso de proceso que se ejecuta una aplicación siempre se quedan dentro del alcance CIDR de Hola de subred de Hola.</span><span class="sxs-lookup"><span data-stu-id="888c2-142">However, since an App Service Environment is always located within a subnet, you are guaranteed that hello internal IP address of a compute resource running an app will always lie within hello CIDR range of hello subnet.</span></span>  <span data-ttu-id="888c2-143">Como resultado, cuando se utilizan las ACL específicas o grupos de seguridad de red toosecure tener acceso a los puntos de conexión de tooother dentro de la red virtual de hello, Hola intervalo de subred que contiene Hola entono necesidades toobe concedido acceso.</span><span class="sxs-lookup"><span data-stu-id="888c2-143">As a result, when fine-grained ACLs or network security groups are used toosecure access tooother endpoints within hello virtual network, hello subnet range containing hello App Service Environment needs toobe granted access.</span></span>

<span data-ttu-id="888c2-144">Hello diagrama siguiente muestra estos conceptos más detalladamente:</span><span class="sxs-lookup"><span data-stu-id="888c2-144">hello following diagram shows these concepts in more detail:</span></span>

![Direcciones de red de salida][OutboundNetworkAddresses]

<span data-ttu-id="888c2-146">Hola diagrama anterior:</span><span class="sxs-lookup"><span data-stu-id="888c2-146">In hello above diagram:</span></span>

* <span data-ttu-id="888c2-147">Puesto que Hola VIP pública de hello entono es 192.23.1.2, que es Hola saliente dirección IP utilizada cuando se realizan llamadas demasiado los extremos de "Internet".</span><span class="sxs-lookup"><span data-stu-id="888c2-147">Since hello public VIP of hello App Service Environment is 192.23.1.2, that is hello outbound IP address used when making calls too"Internet" endpoints.</span></span>
* <span data-ttu-id="888c2-148">Hola intervalo CIDR de Hola que contiene la subred para hello entono es 10.0.1.0/26.</span><span class="sxs-lookup"><span data-stu-id="888c2-148">hello CIDR range of hello containing subnet for hello App Service Environment is 10.0.1.0/26.</span></span>  <span data-ttu-id="888c2-149">Otros puntos de conexión dentro de hello misma infraestructura de red virtual verá llamadas desde aplicaciones que se originan en algún lugar dentro de este intervalo de direcciones.</span><span class="sxs-lookup"><span data-stu-id="888c2-149">Other endpoints within hello same virtual network infrastructure will see calls from apps as originating from somewhere within this address range.</span></span>

## <a name="calls-between-app-service-environments"></a><span data-ttu-id="888c2-150">Llamadas entre entornos del Servicio de aplicaciones</span><span class="sxs-lookup"><span data-stu-id="888c2-150">Calls Between App Service Environments</span></span>
<span data-ttu-id="888c2-151">Puede producirse una situación más compleja si implementa varios entornos de servicio de aplicación en Hola misma red virtual y realizar llamadas salientes de un entorno de servicio de aplicaciones tooanother entorno del servicio de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="888c2-151">A more complex scenario can occur if you deploy multiple App Service Environments in hello same virtual network, and make outbound calls from one App Service Environment tooanother App Service Environment.</span></span>  <span data-ttu-id="888c2-152">Estos tipos de llamadas cruzadas entre entornos del Servicio de aplicaciones también se tratarán como llamadas de "Internet".</span><span class="sxs-lookup"><span data-stu-id="888c2-152">These types of cross App Service Environment calls will also be treated as "Internet" calls.</span></span>

<span data-ttu-id="888c2-153">Hola siguiente diagrama muestra un ejemplo de una arquitectura en capas con aplicaciones en un entorno de servicio de aplicación (p. ej. Aplicaciones web de "Puerta principal") al llamar a las aplicaciones en un segundo entorno de servicio de aplicación (por ejemplo, aplicaciones internas de API de back-end no están diseñados toobe accesible desde Internet hello).</span><span class="sxs-lookup"><span data-stu-id="888c2-153">hello following diagram shows an example of a layered architecture with apps on one App Service Environment (e.g. "Front door" web apps) calling apps on a second App Service Environment (e.g. internal back-end API apps not intended toobe accessible from hello Internet).</span></span> 

![Llamadas entre entornos del Servicio de aplicaciones][CallsBetweenAppServiceEnvironments] 

<span data-ttu-id="888c2-155">Hola ejemplo anterior Hola entono "ASE uno" tiene una dirección IP saliente de 192.23.1.2.</span><span class="sxs-lookup"><span data-stu-id="888c2-155">In hello example above hello App Service Environment "ASE One" has an outbound IP address of 192.23.1.2.</span></span>  <span data-ttu-id="888c2-156">Si una aplicación que se ejecuta en este entorno de servicio de aplicaciones realiza una aplicación de tooan llamada saliente con un segundo entono ("ASE dos") ubicado en hello mismo virtual de red, hello saliente llamada se tratará como una llamada de "Internet".</span><span class="sxs-lookup"><span data-stu-id="888c2-156">If an app running on this App Service Environment makes an outbound call tooan app running on a second App Service Environment ("ASE Two") located in hello same virtual network, hello outbound call will be treated as an "Internet" call.</span></span>  <span data-ttu-id="888c2-157">Como resultado el tráfico de red de Hola que llegan en hello segundo entorno de servicio de aplicación se mostrará como originaria de 192.23.1.2 (es decir, no Hola subred intervalo de direcciones de Hola primer entorno del servicio de aplicaciones).</span><span class="sxs-lookup"><span data-stu-id="888c2-157">As a result hello network traffic arriving on hello second App Service Environment will show as originating from 192.23.1.2 (i.e. not hello subnet address range of hello first App Service Environment).</span></span>

<span data-ttu-id="888c2-158">Aunque las llamadas entre los distintos entornos de servicio de aplicación se tratan como llamadas de "Internet", cuando ambos entornos del servicio de aplicación se encuentran en hello mismo tráfico de red de Hola de región de Azure, permanecerá en la red de Azure regional hello y no se desplazarán físicamente sobre Hola Internet pública.</span><span class="sxs-lookup"><span data-stu-id="888c2-158">Even though calls between different App Service Environments are treated as "Internet" calls, when both App Service Environments are located in hello same Azure region hello network traffic will remain on hello regional Azure network and will not physically flow over hello public Internet.</span></span>  <span data-ttu-id="888c2-159">Como resultado puede usar un grupo de seguridad de red en la subred de Hola de hello segundo entono tooonly permitir llamadas entrantes de Hola primera entono (cuya dirección IP saliente es 192.23.1.2), lo que garantiza una comunicación segura entre Hola Entornos del servicio de aplicación.</span><span class="sxs-lookup"><span data-stu-id="888c2-159">As a result you can use a network security group on hello subnet of hello second App Service Environment tooonly allow inbound calls from hello first App Service Environment (whose outbound IP address is 192.23.1.2), thus ensuring secure communication between hello App Service Environments.</span></span>

## <a name="additional-links-and-information"></a><span data-ttu-id="888c2-160">Información y vínculos adicionales</span><span class="sxs-lookup"><span data-stu-id="888c2-160">Additional Links and Information</span></span>
<span data-ttu-id="888c2-161">Todos los artículos y cómo-para para entornos del servicio de aplicación están disponibles en hello [archivo Léame para entornos de aplicaciones de servicio](../app-service/app-service-app-service-environments-readme.md).</span><span class="sxs-lookup"><span data-stu-id="888c2-161">All articles and How-To's for App Service Environments are available in hello [README for Application Service Environments](../app-service/app-service-app-service-environments-readme.md).</span></span>

<span data-ttu-id="888c2-162">Obtener más información sobre puertos utilizados por los entornos del servicio de aplicación de entrada y el tráfico entrante con toocontrol de grupos de seguridad de red está disponible [aquí][controllinginboundtraffic].</span><span class="sxs-lookup"><span data-stu-id="888c2-162">Details on inbound ports used by App Service Environments and using network security groups toocontrol inbound traffic is available [here][controllinginboundtraffic].</span></span>

<span data-ttu-id="888c2-163">Detalles sobre el uso de definidos por el usuario rutas toogrant saliente Internet access tooApp entornos del servicio está disponible en este [artículo][ExpressRoute].</span><span class="sxs-lookup"><span data-stu-id="888c2-163">Details on using user defined routes toogrant outbound Internet access tooApp Service Environments is available in this [article][ExpressRoute].</span></span> 

<!-- LINKS -->
[virtualnetwork]: http://azure.microsoft.com/services/virtual-network/
[controllinginboundtraffic]:  http://azure.microsoft.com/documentation/articles/app-service-app-service-environment-control-inbound-traffic/
[ExpressRoute]:  http://azure.microsoft.com/documentation/articles/app-service-app-service-environment-network-configuration-expressroute/

<!-- IMAGES -->
[GeneralNetworkFlows]: ./media/app-service-app-service-environment-network-architecture-overview/NetworkOverview-1.png
[OutboundIPAddress]: ./media/app-service-app-service-environment-network-architecture-overview/OutboundIPAddress-1.png
[OutboundNetworkAddresses]: ./media/app-service-app-service-environment-network-architecture-overview/OutboundNetworkAddresses-1.png
[CallsBetweenAppServiceEnvironments]: ./media/app-service-app-service-environment-network-architecture-overview/CallsBetweenEnvironments-1.png

