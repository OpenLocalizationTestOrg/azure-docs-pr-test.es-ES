---
title: "Supervisión de la disponibilidad y la capacidad de respuesta de cualquier sitio web | Microsoft Docs"
description: Configure pruebas web en Application Insights. Obtenga alertas si un sitio web deja de estar disponible o responde con lentitud.
services: application-insights
documentationcenter: 
author: SoubhagyaDash
manager: carmonm
ms.assetid: 46dc13b4-eb2e-4142-a21c-94a156f760ee
ms.service: application-insights
ms.workload: tbd
ms.tgt_pltfrm: ibiza
ms.devlang: na
ms.topic: get-started-article
ms.date: 05/25/2017
ms.author: bwren
ms.openlocfilehash: 6c7f52fc3998b0b29301206ffbc6a5a0c4134f6a
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/18/2017
---
# <a name="monitor-availability-and-responsiveness-of-any-web-site"></a><span data-ttu-id="58f09-104">Supervisión de la disponibilidad y la capacidad de respuesta de cualquier sito web</span><span class="sxs-lookup"><span data-stu-id="58f09-104">Monitor availability and responsiveness of any web site</span></span>
<span data-ttu-id="58f09-105">Después de haber implementado la aplicación web o el sitio web en cualquier servidor, puede configurar pruebas para supervisar su disponibilidad y capacidad de respuesta.</span><span class="sxs-lookup"><span data-stu-id="58f09-105">After you've deployed your web app or web site to any server, you can set up tests to monitor its availability and responsiveness.</span></span> <span data-ttu-id="58f09-106">[Azure Application Insights](app-insights-overview.md) envía solicitudes web a su aplicación a intervalos regulares desde puntos de todo el mundo.</span><span class="sxs-lookup"><span data-stu-id="58f09-106">[Azure Application Insights](app-insights-overview.md) sends web requests to your application at regular intervals from points around the world.</span></span> <span data-ttu-id="58f09-107">Le alerta si la aplicación no responde o lo hace lentamente.</span><span class="sxs-lookup"><span data-stu-id="58f09-107">It alerts you if your application doesn't respond, or responds slowly.</span></span>

<span data-ttu-id="58f09-108">Puede configurar pruebas de disponibilidad para cualquier punto de conexión HTTP o HTTPS que sea accesible desde la red pública de Internet.</span><span class="sxs-lookup"><span data-stu-id="58f09-108">You can set up availability tests for any HTTP or HTTPS endpoint that is accessible from the public internet.</span></span> <span data-ttu-id="58f09-109">No tiene que agregar nada en el sitio web que se está probando.</span><span class="sxs-lookup"><span data-stu-id="58f09-109">You don't have to add anything to the web site you're testing.</span></span> <span data-ttu-id="58f09-110">Ni siquiera tiene que ser su sitio: puede probar un servicio de API de REST de los que dependa.</span><span class="sxs-lookup"><span data-stu-id="58f09-110">It doesn't even have to be your site: you could test a REST API service on which you depend.</span></span>

<span data-ttu-id="58f09-111">Hay dos tipos de pruebas de disponibilidad:</span><span class="sxs-lookup"><span data-stu-id="58f09-111">There are two types of availability tests:</span></span>

* <span data-ttu-id="58f09-112">[Prueba de ping de la dirección URL](#create): una prueba sencilla que se puede crear en el portal de Azure.</span><span class="sxs-lookup"><span data-stu-id="58f09-112">[URL ping test](#create): a simple test that you can create in the Azure portal.</span></span>
* <span data-ttu-id="58f09-113">[Prueba web de varios pasos](#multi-step-web-tests): que se crea en Visual Studio Enterprise y se carga en el portal.</span><span class="sxs-lookup"><span data-stu-id="58f09-113">[Multi-step web test](#multi-step-web-tests): which you create in Visual Studio Enterprise and upload to the portal.</span></span>

<span data-ttu-id="58f09-114">Puede crear hasta 25 pruebas de disponibilidad por recurso de aplicación.</span><span class="sxs-lookup"><span data-stu-id="58f09-114">You can create up to 25 availability tests per application resource.</span></span>

## <span data-ttu-id="58f09-115"><a name="create"></a>1. Apertura de un recurso para los informes de pruebas de disponibilidad</span><span class="sxs-lookup"><span data-stu-id="58f09-115"><a name="create"></a>1. Open a resource for your availability test reports</span></span>

<span data-ttu-id="58f09-116">**Si ya ha configurado Application Insights** para la aplicación web, abra el recurso de Application Insights en [Azure Portal](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="58f09-116">**If you have already configured Application Insights** for your web app, open its Application Insights resource in the [Azure portal](https://portal.azure.com).</span></span>

<span data-ttu-id="58f09-117">**O, si desea ver los informes en un nuevo recurso,**  suscríbase a [Microsoft Azure](http://azure.com), vaya a [Azure Portal](https://portal.azure.com) y cree un recurso de Application Insights.</span><span class="sxs-lookup"><span data-stu-id="58f09-117">**Or, if you want to see your reports in a new resource,** sign up to [Microsoft Azure](http://azure.com), go to the [Azure portal](https://portal.azure.com), and create an Application Insights resource.</span></span>

![New > Application Insights](./media/app-insights-monitor-web-app-availability/11-new-app.png)

<span data-ttu-id="58f09-119">Haga clic en **Todos los recursos** para abrir la hoja Información general del nuevo recurso.</span><span class="sxs-lookup"><span data-stu-id="58f09-119">Click **All resources** to open the Overview blade for the new resource.</span></span>

## <span data-ttu-id="58f09-120"><a name="setup"></a>2. Creación de una prueba de ping de la dirección URL</span><span class="sxs-lookup"><span data-stu-id="58f09-120"><a name="setup"></a>2. Create a URL ping test</span></span>
<span data-ttu-id="58f09-121">Abra la hoja Disponibilidad y agregue una prueba.</span><span class="sxs-lookup"><span data-stu-id="58f09-121">Open the Availability blade and add a test.</span></span>

![Fill at least the URL of your website](./media/app-insights-monitor-web-app-availability/13-availability.png)

* <span data-ttu-id="58f09-123">**La dirección URL** puede ser cualquier página web que desee probar, pero debe ser visible desde la red pública de Internet.</span><span class="sxs-lookup"><span data-stu-id="58f09-123">**The URL** can be any web page you want to test, but it must be visible from the public internet.</span></span> <span data-ttu-id="58f09-124">La dirección URL puede incluir una cadena de consulta.</span><span class="sxs-lookup"><span data-stu-id="58f09-124">The URL can include a query string.</span></span> <span data-ttu-id="58f09-125">Así, por ejemplo, se puede ejercitar un poco la base de datos.</span><span class="sxs-lookup"><span data-stu-id="58f09-125">So, for example, you can exercise your database a little.</span></span> <span data-ttu-id="58f09-126">Si la dirección URL se resuelve en una redirección, la seguimos, hasta 10 redirecciones.</span><span class="sxs-lookup"><span data-stu-id="58f09-126">If the URL resolves to a redirect, we follow it up to 10 redirects.</span></span>
* <span data-ttu-id="58f09-127">**Analizar solicitudes dependientes**: si se activa esta opción, la prueba solicitará imágenes, scripts, archivos de estilo y otros archivos que forman parte de la página web en pruebas.</span><span class="sxs-lookup"><span data-stu-id="58f09-127">**Parse dependent requests**: If this option is checked, the test requests images, scripts, style files, and other files that are part of the web page under test.</span></span> <span data-ttu-id="58f09-128">El tiempo de respuesta registrado incluye el tiempo dedicado a obtener estos archivos.</span><span class="sxs-lookup"><span data-stu-id="58f09-128">The recorded response time includes the time taken to get these files.</span></span> <span data-ttu-id="58f09-129">La prueba da error si todos estos recursos no se pueden descargar correctamente dentro del tiempo de espera de la prueba entera.</span><span class="sxs-lookup"><span data-stu-id="58f09-129">The test fails if all these resources cannot be successfully downloaded within the timeout for the whole test.</span></span> 

    <span data-ttu-id="58f09-130">Si la opción no está activada, la prueba solo solicita el archivo en la dirección URL que especificó.</span><span class="sxs-lookup"><span data-stu-id="58f09-130">If the option is not checked, the test only requests the file at the URL you specified.</span></span>
* <span data-ttu-id="58f09-131">**Habilitar reintentos**: si esta opción está activa, cuando la prueba da error, se reintenta tras un corto intervalo.</span><span class="sxs-lookup"><span data-stu-id="58f09-131">**Enable retries**:  If this option is checked, when the test fails, it is retried after a short interval.</span></span> <span data-ttu-id="58f09-132">Se notifica un error únicamente si los tres intentos sucesivos producen un error.</span><span class="sxs-lookup"><span data-stu-id="58f09-132">A failure is reported only if three successive attempts fail.</span></span> <span data-ttu-id="58f09-133">Las sucesivas pruebas se realizan según la frecuencia habitual de la prueba.</span><span class="sxs-lookup"><span data-stu-id="58f09-133">Subsequent tests are then performed at the usual test frequency.</span></span> <span data-ttu-id="58f09-134">El reintento se suspende temporalmente hasta que uno se complete correctamente.</span><span class="sxs-lookup"><span data-stu-id="58f09-134">Retry is temporarily suspended until the next success.</span></span> <span data-ttu-id="58f09-135">Esta regla se aplica independientemente en cada ubicación de la prueba.</span><span class="sxs-lookup"><span data-stu-id="58f09-135">This rule is applied independently at each test location.</span></span> <span data-ttu-id="58f09-136">Se recomienda esta opción.</span><span class="sxs-lookup"><span data-stu-id="58f09-136">We recommend this option.</span></span> <span data-ttu-id="58f09-137">Como media, cerca del 80 % de los errores desaparecen al reintentar.</span><span class="sxs-lookup"><span data-stu-id="58f09-137">On average, about 80% of failures disappear on retry.</span></span>
* <span data-ttu-id="58f09-138">**Frecuencia de prueba**: establece la frecuencia con que se ejecuta la prueba desde cada ubicación de prueba.</span><span class="sxs-lookup"><span data-stu-id="58f09-138">**Test frequency**: Sets how often the test is run from each test location.</span></span> <span data-ttu-id="58f09-139">Con una frecuencia de cinco minutos y cinco ubicaciones de prueba, el sitio se prueba, de media, cada minuto.</span><span class="sxs-lookup"><span data-stu-id="58f09-139">With a frequency of five minutes and five test locations, your site is tested on average every minute.</span></span>
* <span data-ttu-id="58f09-140">**ubicaciones de prueba** son los lugares desde donde nuestros servidores envían solicitudes web a la dirección URL.</span><span class="sxs-lookup"><span data-stu-id="58f09-140">**Test locations** are the places from where our servers send web requests to your URL.</span></span> <span data-ttu-id="58f09-141">Elija más de una de tal forma que pueda distinguir los problemas del sitio web a partir de los problemas de red.</span><span class="sxs-lookup"><span data-stu-id="58f09-141">Choose more than one so that you can distinguish problems in your website from network issues.</span></span> <span data-ttu-id="58f09-142">Puede seleccionar hasta 16 ubicaciones.</span><span class="sxs-lookup"><span data-stu-id="58f09-142">You can select up to 16 locations.</span></span>
* <span data-ttu-id="58f09-143">**Criterios de éxito**:</span><span class="sxs-lookup"><span data-stu-id="58f09-143">**Success criteria**:</span></span>

    <span data-ttu-id="58f09-144">**Tiempo de espera de prueba**: reduzca este valor para recibir una alerta sobre las respuestas lentas.</span><span class="sxs-lookup"><span data-stu-id="58f09-144">**Test timeout**: Decrease this value to be alerted about slow responses.</span></span> <span data-ttu-id="58f09-145">La prueba se considera un error si no se han recibido respuestas de su sitio dentro de este período.</span><span class="sxs-lookup"><span data-stu-id="58f09-145">The test is counted as a failure if the responses from your site have not been received within this period.</span></span> <span data-ttu-id="58f09-146">Si seleccionó **Analizar solicitudes dependientes**, todas las imágenes, archivos de estilo, scripts y otros recursos dependientes se deben haber recibido durante este período.</span><span class="sxs-lookup"><span data-stu-id="58f09-146">If you selected **Parse dependent requests**, then all the images, style files, scripts, and other dependent resources must have been received within this period.</span></span>

    <span data-ttu-id="58f09-147">**Respuesta HTTP**: el código de estado devuelto que se considera correcto.</span><span class="sxs-lookup"><span data-stu-id="58f09-147">**HTTP response**: The returned status code that is counted as a success.</span></span> <span data-ttu-id="58f09-148">200 es el código que indica que se ha devuelto una página web normal.</span><span class="sxs-lookup"><span data-stu-id="58f09-148">200 is the code that indicates that a normal web page has been returned.</span></span>

    <span data-ttu-id="58f09-149">**Coincidencia de contenido**: una cadena, como "Bienvenido".</span><span class="sxs-lookup"><span data-stu-id="58f09-149">**Content match**: a string, like "Welcome!"</span></span> <span data-ttu-id="58f09-150">Probamos que se produce una coincidencia exacta entre mayúsculas y minúsculas en todas las respuestas.</span><span class="sxs-lookup"><span data-stu-id="58f09-150">We test that an exact case-sensitive match occurs in every response.</span></span> <span data-ttu-id="58f09-151">Debe ser una cadena sin formato, sin caracteres comodín.</span><span class="sxs-lookup"><span data-stu-id="58f09-151">It must be a plain string, without wildcards.</span></span> <span data-ttu-id="58f09-152">No se olvide de que si el contenido cambia, es posible que tenga que actualizarla.</span><span class="sxs-lookup"><span data-stu-id="58f09-152">Don't forget that if your page content changes you might have to update it.</span></span>
* <span data-ttu-id="58f09-153">**alertas** cuando hay errores en tres ubicaciones durante cinco minutos.</span><span class="sxs-lookup"><span data-stu-id="58f09-153">**Alerts** are, by default, sent to you if there are failures in three locations over five minutes.</span></span> <span data-ttu-id="58f09-154">Es probable que un error en una ubicación sea un problema de red y no un problema con su sitio.</span><span class="sxs-lookup"><span data-stu-id="58f09-154">A failure in one location is likely to be a network problem, and not a problem with your site.</span></span> <span data-ttu-id="58f09-155">No obstante, puede cambiar el umbral a más o menos sensible, y también puede cambiar las personas a quienes se deben enviar los correos electrónicos.</span><span class="sxs-lookup"><span data-stu-id="58f09-155">But you can change the threshold to be more or less sensitive, and you can also change who the emails should be sent to.</span></span>

    <span data-ttu-id="58f09-156">Puede configurar un [webhook](../monitoring-and-diagnostics/insights-webhooks-alerts.md) que se llama cuando se genera una alerta.</span><span class="sxs-lookup"><span data-stu-id="58f09-156">You can set up a [webhook](../monitoring-and-diagnostics/insights-webhooks-alerts.md) that is called when an alert is raised.</span></span> <span data-ttu-id="58f09-157">(Pero tenga en cuenta que, en la actualidad, los parámetros de consulta no se pasan como propiedades).</span><span class="sxs-lookup"><span data-stu-id="58f09-157">(But note that, at present, query parameters are not passed through as Properties.)</span></span>

### <a name="test-more-urls"></a><span data-ttu-id="58f09-158">Prueba de más URL</span><span class="sxs-lookup"><span data-stu-id="58f09-158">Test more URLs</span></span>
<span data-ttu-id="58f09-159">Agregue más pruebas.</span><span class="sxs-lookup"><span data-stu-id="58f09-159">Add more tests.</span></span> <span data-ttu-id="58f09-160">Por ejemplo, además de probar la página principal, puede asegurarse de que la base de datos se está ejecutando si prueba la URL con una búsqueda.</span><span class="sxs-lookup"><span data-stu-id="58f09-160">For example, In addition to testing your home page, you can make sure your database is running by testing the URL for a search.</span></span>


## <span data-ttu-id="58f09-161"><a name="monitor"></a>3. Visualización de los resultados de las pruebas de disponibilidad</span><span class="sxs-lookup"><span data-stu-id="58f09-161"><a name="monitor"></a>3. See your availability test results</span></span>

<span data-ttu-id="58f09-162">Después de unos minutos, haga clic en **Actualizar** para ver los resultados de las pruebas.</span><span class="sxs-lookup"><span data-stu-id="58f09-162">After a few minutes, click **Refresh** to see test results.</span></span> 

![Summary results on the home blade](./media/app-insights-monitor-web-app-availability/14-availSummary-3.png)

<span data-ttu-id="58f09-164">En el gráfico de dispersión se muestran ejemplos de los resultados de las pruebas, que incluyen detalles sobre los pasos de las pruebas de diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="58f09-164">The scatterplot shows samples of the test results that have diagnostic test-step detail in them.</span></span> <span data-ttu-id="58f09-165">El motor de pruebas almacena los detalles de diagnóstico de las pruebas con errores.</span><span class="sxs-lookup"><span data-stu-id="58f09-165">The test engine stores diagnostic detail for tests that have failures.</span></span> <span data-ttu-id="58f09-166">En el caso de las pruebas correctas, los detalles de diagnóstico se almacenan para un subconjunto de las ejecuciones.</span><span class="sxs-lookup"><span data-stu-id="58f09-166">For successful tests, diagnostic details are stored for a subset of the executions.</span></span> <span data-ttu-id="58f09-167">Mantenga el puntero sobre cualquiera de los puntos rojos o verdes para ver la marca de tiempo, duración, ubicación y nombre de la prueba.</span><span class="sxs-lookup"><span data-stu-id="58f09-167">Hover over any of the green/red dots to see the test timestamp, test duration, location, and test name.</span></span> <span data-ttu-id="58f09-168">Haga clic en cualquier punto del gráfico de dispersión para ver los detalles del resultado de la prueba.</span><span class="sxs-lookup"><span data-stu-id="58f09-168">Click through any dot in the scatter plot to see the details of the test result.</span></span>  

<span data-ttu-id="58f09-169">Seleccione una prueba o una ubicación determinadas, o bien reduzca el período de tiempo para ver más resultados del período de tiempo que le interese.</span><span class="sxs-lookup"><span data-stu-id="58f09-169">Select a particular test, location, or reduce the time period to see more results around the time period of interest.</span></span> <span data-ttu-id="58f09-170">Use el Explorador de búsqueda para ver los resultados de todas las ejecuciones, o use consultas de Analytics para ejecutar informes personalizados en estos datos.</span><span class="sxs-lookup"><span data-stu-id="58f09-170">Use Search Explorer to see results from all executions, or use Analytics queries to run custom reports on this data.</span></span>

<span data-ttu-id="58f09-171">Además de los resultados sin formato, hay dos métricas de disponibilidad en el Explorador de métricas:</span><span class="sxs-lookup"><span data-stu-id="58f09-171">In addition to the raw results, there are two Availability metrics in Metrics Explorer:</span></span> 

1. <span data-ttu-id="58f09-172">Disponibilidad: porcentaje de las pruebas que obtuvieron resultados satisfactorios en todas las ejecuciones de prueba.</span><span class="sxs-lookup"><span data-stu-id="58f09-172">Availability: Percentage of the tests that were successful, across all test executions.</span></span> 
2. <span data-ttu-id="58f09-173">Duración de la prueba: duración media de las pruebas en todas las ejecuciones de prueba.</span><span class="sxs-lookup"><span data-stu-id="58f09-173">Test Duration: Average test duration across all test executions.</span></span>

<span data-ttu-id="58f09-174">Puede aplicar filtros en el nombre de la prueba y la ubicación para analizar las tendencias de una prueba o ubicación determinadas.</span><span class="sxs-lookup"><span data-stu-id="58f09-174">You can apply filters on the test name, location to analyze trends of a particular test and/or location.</span></span>

## <span data-ttu-id="58f09-175"><a name="edit"></a> Inspección y edición de pruebas</span><span class="sxs-lookup"><span data-stu-id="58f09-175"><a name="edit"></a> Inspect and edit tests</span></span>

<span data-ttu-id="58f09-176">En la página de resumen, seleccione una prueba concreta.</span><span class="sxs-lookup"><span data-stu-id="58f09-176">From the summary page, select a specific test.</span></span> <span data-ttu-id="58f09-177">Allí, puede ver sus resultados específicos y editarla o deshabilitarla temporalmente.</span><span class="sxs-lookup"><span data-stu-id="58f09-177">There, you can see its specific results, and edit or temporarily disable it.</span></span>

![Edit or disable a web test](./media/app-insights-monitor-web-app-availability/19-availEdit-3.png)

<span data-ttu-id="58f09-179">Tal vez le interese deshabilitar las pruebas de disponibilidad o las reglas de alerta asociadas a ellas mientras esté realizando el mantenimiento del servicio.</span><span class="sxs-lookup"><span data-stu-id="58f09-179">You might want to disable availability tests or the alert rules associated with them while you are performing maintenance on your service.</span></span> 

## <span data-ttu-id="58f09-180"><a name="failures"></a>Si ve errores</span><span class="sxs-lookup"><span data-stu-id="58f09-180"><a name="failures"></a>If you see failures</span></span>
<span data-ttu-id="58f09-181">Haga clic en un punto rojo.</span><span class="sxs-lookup"><span data-stu-id="58f09-181">Click a red dot.</span></span>

![Click a red dot](./media/app-insights-monitor-web-app-availability/open-instance-3.png)


<span data-ttu-id="58f09-183">Desde un resultado de la prueba de disponibilidad, puede hacer lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="58f09-183">From an availability test result, you can:</span></span>

* <span data-ttu-id="58f09-184">Inspeccionar la respuesta recibida desde el servidor.</span><span class="sxs-lookup"><span data-stu-id="58f09-184">Inspect the response received from your server.</span></span>
* <span data-ttu-id="58f09-185">Abrir la telemetría enviada por la aplicación de servidor durante el procesamiento de la instancia de solicitud con error.</span><span class="sxs-lookup"><span data-stu-id="58f09-185">Open the telemetry sent by your server app while processing the failed request instance.</span></span>
* <span data-ttu-id="58f09-186">Registrar un problema o elemento de trabajo en GIT o VSTS para realizar un seguimiento del problema.</span><span class="sxs-lookup"><span data-stu-id="58f09-186">Log an issue or work item in Git or VSTS to track the problem.</span></span> <span data-ttu-id="58f09-187">El error contiene un vínculo a este evento.</span><span class="sxs-lookup"><span data-stu-id="58f09-187">The bug will contain a link to this event.</span></span>
* <span data-ttu-id="58f09-188">Abra el resultado de la prueba web en Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="58f09-188">Open the web test result in Visual Studio.</span></span>


<span data-ttu-id="58f09-189">*¿Parece que se ha completado correctamente pero se notifica como un error?*</span><span class="sxs-lookup"><span data-stu-id="58f09-189">*Looks OK but reported as a failure?*</span></span> <span data-ttu-id="58f09-190">Compruebe todas las imágenes, los scripts, las hojas de estilo y cualquier otro archivo cargado que haya cargado la página.</span><span class="sxs-lookup"><span data-stu-id="58f09-190">Check all the images, scripts, style sheets, and any other files loaded by the page.</span></span> <span data-ttu-id="58f09-191">Si se produce un error en cualquiera de ellos, se notifica que la prueba ha concluido con errores, incluso si la página html principal se carga correctamente.</span><span class="sxs-lookup"><span data-stu-id="58f09-191">If any of them fails, the test is reported as failed, even if the main html page loads OK.</span></span>

<span data-ttu-id="58f09-192">*¿No hay elementos relacionados?*</span><span class="sxs-lookup"><span data-stu-id="58f09-192">*No related items?*</span></span> <span data-ttu-id="58f09-193">Si tiene Application Insights configurado para la aplicación de servidor, esto puede deberse a que se está llevando a cabo un [muestreo](app-insights-sampling.md).</span><span class="sxs-lookup"><span data-stu-id="58f09-193">If you have Application Insights set up for your server-side application, that may be because [sampling](app-insights-sampling.md) is in operation.</span></span> 

## <a name="multi-step-web-tests"></a><span data-ttu-id="58f09-194">Pruebas web de varios pasos</span><span class="sxs-lookup"><span data-stu-id="58f09-194">Multi-step web tests</span></span>
<span data-ttu-id="58f09-195">Puede supervisar un escenario que implique una secuencia de direcciones URL.</span><span class="sxs-lookup"><span data-stu-id="58f09-195">You can monitor a scenario that involves a sequence of URLs.</span></span> <span data-ttu-id="58f09-196">Por ejemplo, si está supervisando un sitio web de ventas, puede probar que la incorporación de elementos al carro de la compra funciona correctamente.</span><span class="sxs-lookup"><span data-stu-id="58f09-196">For example, if you are monitoring a sales website, you can test that adding items to the shopping cart works correctly.</span></span>

> [!NOTE] 
> <span data-ttu-id="58f09-197">Las pruebas web de varios pasos conllevan un coste.</span><span class="sxs-lookup"><span data-stu-id="58f09-197">There is a charge for multi-step web tests.</span></span> <span data-ttu-id="58f09-198">[Esquema de precios](http://azure.microsoft.com/pricing/details/application-insights/).</span><span class="sxs-lookup"><span data-stu-id="58f09-198">[Pricing scheme](http://azure.microsoft.com/pricing/details/application-insights/).</span></span>
> 

<span data-ttu-id="58f09-199">Para crear una prueba de varios pasos, grabe el escenario con Visual Studio Enterprise y, a continuación, cargue la grabación en Application Insights.</span><span class="sxs-lookup"><span data-stu-id="58f09-199">To create a multi-step test, you record the scenario by using Visual Studio Enterprise, and then upload the recording to Application Insights.</span></span> <span data-ttu-id="58f09-200">Application Insights reproduce el escenario a intervalos y comprueba las respuestas.</span><span class="sxs-lookup"><span data-stu-id="58f09-200">Application Insights replays the scenario at intervals and verifies the responses.</span></span>

> [!NOTE]
> <span data-ttu-id="58f09-201">No puede usar funciones codificadas ni bucles en las pruebas.</span><span class="sxs-lookup"><span data-stu-id="58f09-201">You can't use coded functions or loops in your tests.</span></span> <span data-ttu-id="58f09-202">La prueba debe estar contenida completamente en el script .webtest.</span><span class="sxs-lookup"><span data-stu-id="58f09-202">The test must be contained completely in the .webtest script.</span></span> <span data-ttu-id="58f09-203">Sin embargo, puede usar complementos estándar.</span><span class="sxs-lookup"><span data-stu-id="58f09-203">However, you can use standard plugins.</span></span>
>

#### <a name="1-record-a-scenario"></a><span data-ttu-id="58f09-204">1. Grabar un escenario</span><span class="sxs-lookup"><span data-stu-id="58f09-204">1. Record a scenario</span></span>
<span data-ttu-id="58f09-205">Utilice Visual Studio Enterprise para grabar una sesión web.</span><span class="sxs-lookup"><span data-stu-id="58f09-205">Use Visual Studio Enterprise to record a web session.</span></span>

1. <span data-ttu-id="58f09-206">Cree un proyecto de prueba de rendimiento web.</span><span class="sxs-lookup"><span data-stu-id="58f09-206">Create a Web performance test project.</span></span>

    ![En Visual Studio Enterprise, cree un proyecto a partir de la plantilla de prueba de carga y rendimiento web.](./media/app-insights-monitor-web-app-availability/appinsights-71webtest-multi-vs-create.png)

 * <span data-ttu-id="58f09-208">*¿No ve la plantilla de prueba de carga y rendimiento web?*</span><span class="sxs-lookup"><span data-stu-id="58f09-208">*Don't see the Web Performance and Load Test template?*</span></span> <span data-ttu-id="58f09-209">- Cierre Visual Studio Enterprise.</span><span class="sxs-lookup"><span data-stu-id="58f09-209">- Close Visual Studio Enterprise.</span></span> <span data-ttu-id="58f09-210">Abra **Visual Studio Installer** para modificar la instalación de Visual Studio Enterprise.</span><span class="sxs-lookup"><span data-stu-id="58f09-210">Open **Visual Studio Installer** to modify your Visual Studio Enterprise installation.</span></span> <span data-ttu-id="58f09-211">En **Componentes individuales**, seleccione **Herramientas de prueba de carga y rendimiento web**.</span><span class="sxs-lookup"><span data-stu-id="58f09-211">Under **Individual Components**, select **Web Performance and load testing tools**.</span></span>

2. <span data-ttu-id="58f09-212">Abra el archivo .webtest y empiece a grabar.</span><span class="sxs-lookup"><span data-stu-id="58f09-212">Open the .webtest file and start recording.</span></span>

    ![Abra el archivo .webtest y haga clic en Grabar.](./media/app-insights-monitor-web-app-availability/appinsights-71webtest-multi-vs-start.png)
3. <span data-ttu-id="58f09-214">Realice las acciones del usuario que desea simular en la prueba: abra el sitio web, agregue un producto al carro, etc.</span><span class="sxs-lookup"><span data-stu-id="58f09-214">Do the user actions you want to simulate in your test: open your website, add a product to the cart, and so on.</span></span> <span data-ttu-id="58f09-215">Después, detenga la prueba.</span><span class="sxs-lookup"><span data-stu-id="58f09-215">Then stop your test.</span></span>

    ![Se ejecuta la grabadora de la prueba web en Internet Explorer.](./media/app-insights-monitor-web-app-availability/appinsights-71webtest-multi-vs-record.png)

    <span data-ttu-id="58f09-217">No cree un escenario largo.</span><span class="sxs-lookup"><span data-stu-id="58f09-217">Don't make a long scenario.</span></span> <span data-ttu-id="58f09-218">Existe un límite de 100 pasos y 2 minutos.</span><span class="sxs-lookup"><span data-stu-id="58f09-218">There's a limit of 100 steps and 2 minutes.</span></span>
4. <span data-ttu-id="58f09-219">Edite la prueba para:</span><span class="sxs-lookup"><span data-stu-id="58f09-219">Edit the test to:</span></span>

   * <span data-ttu-id="58f09-220">Agregar validaciones que comprueben el texto recibido y los códigos de respuesta.</span><span class="sxs-lookup"><span data-stu-id="58f09-220">Add validations to check the received text and response codes.</span></span>
   * <span data-ttu-id="58f09-221">Quite las interacciones que sean superfluas.</span><span class="sxs-lookup"><span data-stu-id="58f09-221">Remove any superfluous interactions.</span></span> <span data-ttu-id="58f09-222">También puede quitar las solicitudes dependientes relacionadas con imágenes o con sitios de anuncios o de seguimiento.</span><span class="sxs-lookup"><span data-stu-id="58f09-222">You could also remove dependent requests for pictures or to ad or tracking sites.</span></span>

     <span data-ttu-id="58f09-223">Recuerde que solo se puede editar el script de prueba: no se puede agregar código personalizado ni llamar a otras pruebas web.</span><span class="sxs-lookup"><span data-stu-id="58f09-223">Remember that you can only edit the test script - you can't add custom code or call other web tests.</span></span> <span data-ttu-id="58f09-224">No inserte bucles en la prueba.</span><span class="sxs-lookup"><span data-stu-id="58f09-224">Don't insert loops in the test.</span></span> <span data-ttu-id="58f09-225">Puede utilizar complementos de prueba web estándar.</span><span class="sxs-lookup"><span data-stu-id="58f09-225">You can use standard web test plug-ins.</span></span>
5. <span data-ttu-id="58f09-226">Ejecute la prueba en Visual Studio para asegurarse de que funciona.</span><span class="sxs-lookup"><span data-stu-id="58f09-226">Run the test in Visual Studio to make sure it works.</span></span>

    <span data-ttu-id="58f09-227">El ejecutor de pruebas web abre un explorador web y repite las acciones grabadas.</span><span class="sxs-lookup"><span data-stu-id="58f09-227">The web test runner opens a web browser and repeats the actions you recorded.</span></span> <span data-ttu-id="58f09-228">Asegúrese de que funciona como se esperaba.</span><span class="sxs-lookup"><span data-stu-id="58f09-228">Make sure it works as you expect.</span></span>

    ![En Visual Studio, abra el archivo .webtest y haga clic en Ejecutar.](./media/app-insights-monitor-web-app-availability/appinsights-71webtest-multi-vs-run.png)

#### <a name="2-upload-the-web-test-to-application-insights"></a><span data-ttu-id="58f09-230">2. Cargar la prueba web en Application Insights</span><span class="sxs-lookup"><span data-stu-id="58f09-230">2. Upload the web test to Application Insights</span></span>
1. <span data-ttu-id="58f09-231">En el portal de Application Insights, cree una prueba web.</span><span class="sxs-lookup"><span data-stu-id="58f09-231">In the Application Insights portal, create a web test.</span></span>

    ![En la hoja de pruebas web, seleccione Agregar.](./media/app-insights-monitor-web-app-availability/16-another-test.png)
2. <span data-ttu-id="58f09-233">Seleccione la prueba de varios pasos y cargue el archivo .webtest.</span><span class="sxs-lookup"><span data-stu-id="58f09-233">Select multi-step test, and upload the .webtest file.</span></span>

    ![Seleccione la prueba web de varios pasos.](./media/app-insights-monitor-web-app-availability/appinsights-71webtestUpload.png)

    <span data-ttu-id="58f09-235">Establezca las ubicaciones de prueba, la frecuencia y los parámetros de alerta de la misma manera que para las pruebas de ping.</span><span class="sxs-lookup"><span data-stu-id="58f09-235">Set the test locations, frequency, and alert parameters in the same way as for ping tests.</span></span>

#### <a name="3-see-the-results"></a><span data-ttu-id="58f09-236">3. Consultar los resultados</span><span class="sxs-lookup"><span data-stu-id="58f09-236">3. See the results</span></span>

<span data-ttu-id="58f09-237">Vea los resultados y los errores de la prueba igual que hace con las pruebas de una sola dirección URL.</span><span class="sxs-lookup"><span data-stu-id="58f09-237">View your test results and any failures in the same way as single-url tests.</span></span>

<span data-ttu-id="58f09-238">Además, puede descargar los resultados de la prueba para verlos en Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="58f09-238">In addition, you can download the test results to view them in Visual Studio.</span></span>

#### <a name="too-many-failures"></a><span data-ttu-id="58f09-239">¿Hay demasiados errores?</span><span class="sxs-lookup"><span data-stu-id="58f09-239">Too many failures?</span></span>

* <span data-ttu-id="58f09-240">Un motivo habitual de error es que la prueba se ejecuta durante demasiado tiempo.</span><span class="sxs-lookup"><span data-stu-id="58f09-240">A common reason for failure is that the test runs too long.</span></span> <span data-ttu-id="58f09-241">No deben ejecutar durante más de dos minutos.</span><span class="sxs-lookup"><span data-stu-id="58f09-241">It mustn't run longer than two minutes.</span></span>

* <span data-ttu-id="58f09-242">No olvide que todos los recursos de una página se deben cargar correctamente para que la prueba sea correcta, incluidos los scripts, las hojas de estilo, las imágenes, etc.</span><span class="sxs-lookup"><span data-stu-id="58f09-242">Don't forget that all the resources of a page must load correctly for the test to succeed, including scripts, style sheets, images, and so forth.</span></span>

* <span data-ttu-id="58f09-243">La prueba web debe estar contenida totalmente en el script .webtest: no puede usar las funciones codificadas en la prueba.</span><span class="sxs-lookup"><span data-stu-id="58f09-243">The web test must be entirely contained in the .webtest script: you can't use coded functions in the test.</span></span>

### <a name="plugging-time-and-random-numbers-into-your-multi-step-test"></a><span data-ttu-id="58f09-244">Conexión de tiempo y números aleatorios a su prueba de varios pasos</span><span class="sxs-lookup"><span data-stu-id="58f09-244">Plugging time and random numbers into your multi-step test</span></span>
<span data-ttu-id="58f09-245">Suponga que está probando una herramienta que obtiene datos que dependen del tiempo, como acciones de una fuente externa.</span><span class="sxs-lookup"><span data-stu-id="58f09-245">Suppose you're testing a tool that gets time-dependent data such as stocks from an external feed.</span></span> <span data-ttu-id="58f09-246">Cuando se graba la prueba web, debe utilizar horas específicas, pero las establece como parámetros de la prueba, StartTime y EndTime.</span><span class="sxs-lookup"><span data-stu-id="58f09-246">When you record your web test, you have to use specific times, but you set them as parameters of the test, StartTime and EndTime.</span></span>

![Una prueba web con parámetros.](./media/app-insights-monitor-web-app-availability/appinsights-72webtest-parameters.png)

<span data-ttu-id="58f09-248">Al ejecutar la prueba, le gustaría que EndTime fuera siempre la hora actual y que StartTime fuera 15 minutos menos.</span><span class="sxs-lookup"><span data-stu-id="58f09-248">When you run the test, you'd like EndTime always to be the present time, and StartTime should be 15 minutes ago.</span></span>

<span data-ttu-id="58f09-249">Los complementos de prueba web proporcionan la manera de parametrizar los tiempos.</span><span class="sxs-lookup"><span data-stu-id="58f09-249">Web Test Plug-ins provide the way to do parameterize times.</span></span>

1. <span data-ttu-id="58f09-250">Agregue un complemento de prueba de web a cada valor variable que desee.</span><span class="sxs-lookup"><span data-stu-id="58f09-250">Add a web test plug-in for each variable parameter value you want.</span></span> <span data-ttu-id="58f09-251">En la barra de herramientas de pruebas web, elija **Agregar complemento de prueba web**.</span><span class="sxs-lookup"><span data-stu-id="58f09-251">In the web test toolbar, choose **Add Web Test Plugin**.</span></span>

    ![Elija Agregar complemento de prueba web y seleccione un tipo.](./media/app-insights-monitor-web-app-availability/appinsights-72webtest-plugins.png)

    <span data-ttu-id="58f09-253">En este ejemplo, usamos dos instancias del complemento Date Time Plug-in.</span><span class="sxs-lookup"><span data-stu-id="58f09-253">In this example, we use two instances of the Date Time Plug-in.</span></span> <span data-ttu-id="58f09-254">Una instancia es para "hace 15 minutos" y otra para "ahora".</span><span class="sxs-lookup"><span data-stu-id="58f09-254">One instance is for "15 minutes ago" and another for "now."</span></span>
2. <span data-ttu-id="58f09-255">Abra las propiedades de cada complemento.</span><span class="sxs-lookup"><span data-stu-id="58f09-255">Open the properties of each plug-in.</span></span> <span data-ttu-id="58f09-256">Asígnele un nombre y configúrelo para utilizar la hora actual.</span><span class="sxs-lookup"><span data-stu-id="58f09-256">Give it a name and set it to use the current time.</span></span> <span data-ttu-id="58f09-257">En cada uno de ellos, establezca Añadir minutos = -15.</span><span class="sxs-lookup"><span data-stu-id="58f09-257">For one of them, set Add Minutes = -15.</span></span>

    ![Establezca el nombre, Usar hora actual y Agregar minutos.](./media/app-insights-monitor-web-app-availability/appinsights-72webtest-plugin-parameters.png)
3. <span data-ttu-id="58f09-259">En los parámetros de prueba en la web, utilice {{plug-in name}} para hacer referencia al nombre de un complemento.</span><span class="sxs-lookup"><span data-stu-id="58f09-259">In the web test parameters, use {{plug-in name}} to reference a plug-in name.</span></span>

    ![En el parámetro de la prueba, utilice {{plug-in name}}.](./media/app-insights-monitor-web-app-availability/appinsights-72webtest-plugin-name.png)

<span data-ttu-id="58f09-261">Ahora puede cargar la prueba en el portal.</span><span class="sxs-lookup"><span data-stu-id="58f09-261">Now, upload your test to the portal.</span></span> <span data-ttu-id="58f09-262">Utiliza los valores dinámicos en cada ejecución de la prueba.</span><span class="sxs-lookup"><span data-stu-id="58f09-262">It uses the dynamic values on every run of the test.</span></span>

## <a name="dealing-with-sign-in"></a><span data-ttu-id="58f09-263">Tratamiento del inicio de sesión</span><span class="sxs-lookup"><span data-stu-id="58f09-263">Dealing with sign-in</span></span>
<span data-ttu-id="58f09-264">Si los usuarios inician sesión en la aplicación, tiene varias opciones para simular el inicio de sesión a fin de poder probar páginas detrás del inicio de sesión.</span><span class="sxs-lookup"><span data-stu-id="58f09-264">If your users sign in to your app, you have various options for simulating sign-in so that you can test pages behind the sign-in.</span></span> <span data-ttu-id="58f09-265">El enfoque que utilice dependerá del tipo de seguridad proporcionada por la aplicación.</span><span class="sxs-lookup"><span data-stu-id="58f09-265">The approach you use depends on the type of security provided by the app.</span></span>

<span data-ttu-id="58f09-266">En todos los casos, debe crear una cuenta en su aplicación para realizar pruebas.</span><span class="sxs-lookup"><span data-stu-id="58f09-266">In all cases, you should create an account in your application just for the purpose of testing.</span></span> <span data-ttu-id="58f09-267">Si es posible, restrinja los permisos de esta cuenta de prueba para que sea totalmente imposible que las pruebas web afecten a usuarios reales.</span><span class="sxs-lookup"><span data-stu-id="58f09-267">If possible, restrict the permissions of this test account so that there's no possibility of the web tests affecting real users.</span></span>

### <a name="simple-username-and-password"></a><span data-ttu-id="58f09-268">Nombre de usuario y la contraseña simples</span><span class="sxs-lookup"><span data-stu-id="58f09-268">Simple username and password</span></span>
<span data-ttu-id="58f09-269">Grabe una prueba web de la forma habitual.</span><span class="sxs-lookup"><span data-stu-id="58f09-269">Record a web test in the usual way.</span></span> <span data-ttu-id="58f09-270">Elimine las cookies en primer lugar.</span><span class="sxs-lookup"><span data-stu-id="58f09-270">Delete cookies first.</span></span>

### <a name="saml-authentication"></a><span data-ttu-id="58f09-271">Autenticación SAML</span><span class="sxs-lookup"><span data-stu-id="58f09-271">SAML authentication</span></span>
<span data-ttu-id="58f09-272">Utilice el complemento SAML que está disponible para las pruebas web.</span><span class="sxs-lookup"><span data-stu-id="58f09-272">Use the SAML plugin that is available for web tests.</span></span>

### <a name="client-secret"></a><span data-ttu-id="58f09-273">Secreto del cliente</span><span class="sxs-lookup"><span data-stu-id="58f09-273">Client secret</span></span>
<span data-ttu-id="58f09-274">Si la aplicación tiene una ruta de inicio de sesión que implica un secreto de cliente, utilícela.</span><span class="sxs-lookup"><span data-stu-id="58f09-274">If your app has a sign-in route that involves a client secret, use that route.</span></span> <span data-ttu-id="58f09-275">Azure Active Directory (AAD) es un ejemplo de un servicio que proporciona inicio de sesión del secreto de cliente.</span><span class="sxs-lookup"><span data-stu-id="58f09-275">Azure Active Directory (AAD) is an example of a service that provides a client secret sign-in.</span></span> <span data-ttu-id="58f09-276">En AAD, el secreto de cliente es la clave de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="58f09-276">In AAD, the client secret is the App Key.</span></span>

<span data-ttu-id="58f09-277">Esta es una prueba web de ejemplo de una aplicación web de Azure que usa una clave de aplicación:</span><span class="sxs-lookup"><span data-stu-id="58f09-277">Here's a sample web test of an Azure web app using an app key:</span></span>

![Ejemplo de secreto de cliente](./media/app-insights-monitor-web-app-availability/110.png)

1. <span data-ttu-id="58f09-279">Obtener el token de AAD mediante el secreto de cliente (AppKey).</span><span class="sxs-lookup"><span data-stu-id="58f09-279">Get token from AAD using client secret (AppKey).</span></span>
2. <span data-ttu-id="58f09-280">Extraer el token de portador de la respuesta.</span><span class="sxs-lookup"><span data-stu-id="58f09-280">Extract bearer token from response.</span></span>
3. <span data-ttu-id="58f09-281">Llamar a la API mediante el token de portador del encabezado de la autorización.</span><span class="sxs-lookup"><span data-stu-id="58f09-281">Call API using bearer token in the authorization header.</span></span>

<span data-ttu-id="58f09-282">Asegúrese de que la prueba web es un cliente real (es decir, tiene su propia aplicación en AAD) y utilice su clientId + appkey.</span><span class="sxs-lookup"><span data-stu-id="58f09-282">Make sure that the web test is an actual client - that is, it has its own app in AAD - and use its clientId + appkey.</span></span> <span data-ttu-id="58f09-283">El servicio que se prueba también tiene su propia aplicación en AAD: el identificador URI de esta aplicación, appID, se refleja en la prueba web en el campo "resource".</span><span class="sxs-lookup"><span data-stu-id="58f09-283">Your service under test also has its own app in AAD: the appID URI of this app is reflected in the web test in the “resource” field.</span></span>

### <a name="open-authentication"></a><span data-ttu-id="58f09-284">Autenticación abierta</span><span class="sxs-lookup"><span data-stu-id="58f09-284">Open Authentication</span></span>
<span data-ttu-id="58f09-285">Un ejemplo de autenticación abierta es el iniciar sesión con una cuenta de Microsoft o Google.</span><span class="sxs-lookup"><span data-stu-id="58f09-285">An example of open authentication is signing in with your Microsoft or Google account.</span></span> <span data-ttu-id="58f09-286">Muchas aplicaciones que utilizan OAuth proporcionan la alternativa del secreto de cliente, por lo que la primera táctica sería investigar dicha posibilidad.</span><span class="sxs-lookup"><span data-stu-id="58f09-286">Many apps that use OAuth provide the client secret alternative, so your first tactic should be to investigate that possibility.</span></span>

<span data-ttu-id="58f09-287">Si la prueba debe iniciar sesión con OAuth, el enfoque general es el siguiente:</span><span class="sxs-lookup"><span data-stu-id="58f09-287">If your test must sign in using OAuth, the general approach is:</span></span>

* <span data-ttu-id="58f09-288">Utilice una herramienta como Fiddler para examinar el tráfico entre el explorador web, el sitio de autenticación y la aplicación.</span><span class="sxs-lookup"><span data-stu-id="58f09-288">Use a tool such as Fiddler to examine the traffic between your web browser, the authentication site, and your app.</span></span>
* <span data-ttu-id="58f09-289">Realice dos o más inicios de sesión mediante distintas máquinas o exploradores o en intervalos largos de tiempo (para permitir que los tokens expiren).</span><span class="sxs-lookup"><span data-stu-id="58f09-289">Perform two or more sign-ins using different machines or browsers, or at long intervals (to allow tokens to expire).</span></span>
* <span data-ttu-id="58f09-290">Mediante la comparación de diferentes sesiones, identifique el token pasado desde el sitio de autenticación que, a continuación, se pasa al servidor de aplicaciones después de iniciar sesión.</span><span class="sxs-lookup"><span data-stu-id="58f09-290">By comparing different sessions, identify the token passed back from the authenticating site, that is then passed to your app server after sign-in.</span></span>
* <span data-ttu-id="58f09-291">Grabe una prueba web con Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="58f09-291">Record a web test using Visual Studio.</span></span>
* <span data-ttu-id="58f09-292">Parametrice los tokens, estableciendo el parámetro cuando se devuelve el token desde el autenticador y utilizándolo en la consulta al sitio.</span><span class="sxs-lookup"><span data-stu-id="58f09-292">Parameterize the tokens, setting the parameter when the token is returned from the authenticator, and using it in the query to the site.</span></span>
  <span data-ttu-id="58f09-293">(Visual Studio intenta parametrizar la prueba pero no parametriza correctamente los tokens).</span><span class="sxs-lookup"><span data-stu-id="58f09-293">(Visual Studio attempts to parameterize the test, but does not correctly parameterize the tokens.)</span></span>


## <a name="performance-tests"></a><span data-ttu-id="58f09-294">Pruebas de rendimiento</span><span class="sxs-lookup"><span data-stu-id="58f09-294">Performance tests</span></span>
<span data-ttu-id="58f09-295">Puede ejecutar una prueba de carga en el sitio web.</span><span class="sxs-lookup"><span data-stu-id="58f09-295">You can run a load test on your website.</span></span> <span data-ttu-id="58f09-296">Al igual que la prueba de disponibilidad, puede enviar solicitudes sencillas o solicitudes de varios pasos desde nuestros puntos de todo el mundo.</span><span class="sxs-lookup"><span data-stu-id="58f09-296">Like the availability test, you can send either simple requests or multi-step requests from our points around the world.</span></span> <span data-ttu-id="58f09-297">A diferencia de una prueba de disponibilidad, se envían muchas solicitudes, que simulan a varios usuarios simultáneos.</span><span class="sxs-lookup"><span data-stu-id="58f09-297">Unlike an availability test, many requests are sent, simulating multiple simultaneous users.</span></span>

<span data-ttu-id="58f09-298">En la hoja Información general, abra **Configuración**, **Pruebas de rendimiento**.</span><span class="sxs-lookup"><span data-stu-id="58f09-298">From the Overview blade, open **Settings**, **Performance Tests**.</span></span> <span data-ttu-id="58f09-299">Cuando crea una prueba, se le invitará a conectarse o a crear una cuenta de Visual Studio Team Services.</span><span class="sxs-lookup"><span data-stu-id="58f09-299">When you create a test, you are invited to connect to or create a Visual Studio Team Services account.</span></span>

<span data-ttu-id="58f09-300">Una vez finalizada la prueba, se muestran los tiempos de respuesta y las tasas de éxito.</span><span class="sxs-lookup"><span data-stu-id="58f09-300">When the test is complete, you are shown response times and success rates.</span></span>


![Prueba de rendimiento](./media/app-insights-monitor-web-app-availability/perf-test.png)

> [!TIP]
> <span data-ttu-id="58f09-302">Para observar los efectos de una prueba de rendimiento, utilice [Live Stream](app-insights-live-stream.md) y el 
[Generador de perfiles](app-insights-profiler.md).</span><span class="sxs-lookup"><span data-stu-id="58f09-302">To observe the effects of a performance test, use [Live Stream](app-insights-live-stream.md) and [Profiler](app-insights-profiler.md).</span></span>
>

## <a name="automation"></a><span data-ttu-id="58f09-303">Automation</span><span class="sxs-lookup"><span data-stu-id="58f09-303">Automation</span></span>
* <span data-ttu-id="58f09-304">[Use scripts de PowerShell para configurar una prueba de disponibilidad](app-insights-powershell.md#add-an-availability-test) automáticamente.</span><span class="sxs-lookup"><span data-stu-id="58f09-304">[Use PowerShell scripts to set up an availability test](app-insights-powershell.md#add-an-availability-test) automatically.</span></span>
* <span data-ttu-id="58f09-305">Configure un [webhook](../monitoring-and-diagnostics/insights-webhooks-alerts.md) que se llama cuando se genera una alerta.</span><span class="sxs-lookup"><span data-stu-id="58f09-305">Set up a [webhook](../monitoring-and-diagnostics/insights-webhooks-alerts.md) that is called when an alert is raised.</span></span>

## <span data-ttu-id="58f09-306"><a name="qna"></a>¿Tiene preguntas?</span><span class="sxs-lookup"><span data-stu-id="58f09-306"><a name="qna"></a>Questions?</span></span> <span data-ttu-id="58f09-307">¿Tiene problemas?</span><span class="sxs-lookup"><span data-stu-id="58f09-307">Problems?</span></span>
* <span data-ttu-id="58f09-308">*¿Puedo llamar el código desde mi prueba web?*</span><span class="sxs-lookup"><span data-stu-id="58f09-308">*Can I call code from my web test?*</span></span>

    <span data-ttu-id="58f09-309">No.</span><span class="sxs-lookup"><span data-stu-id="58f09-309">No.</span></span> <span data-ttu-id="58f09-310">Los pasos de la prueba deben encontrarse en el archivo .webtest.</span><span class="sxs-lookup"><span data-stu-id="58f09-310">The steps of the test must be in the .webtest file.</span></span> <span data-ttu-id="58f09-311">Y no se puede llamar a otras pruebas web ni utilizar bucles.</span><span class="sxs-lookup"><span data-stu-id="58f09-311">And you can't call other web tests or use loops.</span></span> <span data-ttu-id="58f09-312">Pero hay varios complementos que pueden resultarle útiles.</span><span class="sxs-lookup"><span data-stu-id="58f09-312">But there are several plug-ins that you might find helpful.</span></span>
* <span data-ttu-id="58f09-313">*¿Se admite HTTPS?*</span><span class="sxs-lookup"><span data-stu-id="58f09-313">*Is HTTPS supported?*</span></span>

    <span data-ttu-id="58f09-314">Admitimos TLS 1.1 y TLS 1.2.</span><span class="sxs-lookup"><span data-stu-id="58f09-314">We support TLS 1.1 and TLS 1.2.</span></span>
* <span data-ttu-id="58f09-315">*¿Existe alguna diferencia entre las "pruebas web" y las "pruebas de disponibilidad"?*</span><span class="sxs-lookup"><span data-stu-id="58f09-315">*Is there a difference between "web tests" and "availability tests"?*</span></span>

    <span data-ttu-id="58f09-316">Los dos términos se pueden usar indistintamente.</span><span class="sxs-lookup"><span data-stu-id="58f09-316">The two terms may be referenced interchangeably.</span></span> <span data-ttu-id="58f09-317">El término "pruebas de disponibilidad" es más genérico, e incluye las pruebas de ping de dirección URL única y las pruebas web de varios pasos.</span><span class="sxs-lookup"><span data-stu-id="58f09-317">Availability tests is a more generic term that includes the single URL ping tests in addition to the multi-step web tests.</span></span>
* <span data-ttu-id="58f09-318">*Me gustaría usar pruebas de disponibilidad en nuestro servidor interno que se ejecuta detrás de un firewall.*</span><span class="sxs-lookup"><span data-stu-id="58f09-318">*I'd like to use availability tests on our internal server that runs behind a firewall.*</span></span>

    <span data-ttu-id="58f09-319">Hay dos soluciones posibles:</span><span class="sxs-lookup"><span data-stu-id="58f09-319">There are two possible solutions:</span></span>
    
    * <span data-ttu-id="58f09-320">Configure el firewall para que permita las solicitudes entrantes de las [direcciones IP de los agentes de prueba web](app-insights-ip-addresses.md).</span><span class="sxs-lookup"><span data-stu-id="58f09-320">Configure your firewall to permit incoming requests from the [IP addresses of our web test agents](app-insights-ip-addresses.md).</span></span>
    * <span data-ttu-id="58f09-321">Escriba su propio código para comprobar periódicamente el servidor interno.</span><span class="sxs-lookup"><span data-stu-id="58f09-321">Write your own code to periodically test your internal server.</span></span> <span data-ttu-id="58f09-322">Ejecute el código como un proceso en segundo plano en un servidor de prueba detrás del firewall.</span><span class="sxs-lookup"><span data-stu-id="58f09-322">Run the code as a background process on a test server behind your firewall.</span></span> <span data-ttu-id="58f09-323">El proceso de prueba puede enviar sus resultados a Application Insights mediante la API [TrackAvailability()](https://docs.microsoft.com/dotnet/api/microsoft.applicationinsights.telemetryclient.trackavailability) en el paquete de SDK principal.</span><span class="sxs-lookup"><span data-stu-id="58f09-323">Your test process can send its results to Application Insights by using [TrackAvailability()](https://docs.microsoft.com/dotnet/api/microsoft.applicationinsights.telemetryclient.trackavailability) API in the core SDK package.</span></span> <span data-ttu-id="58f09-324">Para ello, es necesario que el servidor de prueba tenga acceso saliente al punto de conexión de ingesta de Application Insights, pero plantea un riesgo de seguridad mucho menor que la alternativa de permitir las solicitudes entrantes.</span><span class="sxs-lookup"><span data-stu-id="58f09-324">This requires your test server to have outgoing access to the Application Insights ingestion endpoint, but that is a much smaller security risk than the alternative of permitting incoming requests.</span></span> <span data-ttu-id="58f09-325">Los resultados no se mostrarán en las hojas de las pruebas web de disponibilidad, pero sí aparecerán como resultados de disponibilidad en Analytics, Search y en el Explorador de métricas.</span><span class="sxs-lookup"><span data-stu-id="58f09-325">The results will not appear in the availability web tests blades, but appears as availability results in Analytics, Search, and Metric Explorer.</span></span>
* <span data-ttu-id="58f09-326">*Al cargar una prueba web de varios pasos, se produce un error*</span><span class="sxs-lookup"><span data-stu-id="58f09-326">*Uploading a multi-step web test fails*</span></span>

    <span data-ttu-id="58f09-327">Hay un límite de tamaño de 300 000.</span><span class="sxs-lookup"><span data-stu-id="58f09-327">There's a size limit of 300 K.</span></span>

    <span data-ttu-id="58f09-328">No se admiten los bucles.</span><span class="sxs-lookup"><span data-stu-id="58f09-328">Loops aren't supported.</span></span>

    <span data-ttu-id="58f09-329">No se admiten referencias a otras pruebas web.</span><span class="sxs-lookup"><span data-stu-id="58f09-329">References to other web tests aren't supported.</span></span>

    <span data-ttu-id="58f09-330">No se admiten orígenes de datos.</span><span class="sxs-lookup"><span data-stu-id="58f09-330">Data sources aren't supported.</span></span>
* <span data-ttu-id="58f09-331">*No se completa la prueba de varios pasos*</span><span class="sxs-lookup"><span data-stu-id="58f09-331">*My multi-step test doesn't complete*</span></span>

    <span data-ttu-id="58f09-332">Hay un límite de 100 solicitudes por prueba.</span><span class="sxs-lookup"><span data-stu-id="58f09-332">There's a limit of 100 requests per test.</span></span>

    <span data-ttu-id="58f09-333">La prueba se detiene si se ejecuta durante más de dos minutos.</span><span class="sxs-lookup"><span data-stu-id="58f09-333">The test is stopped if it runs longer than two minutes.</span></span>
* <span data-ttu-id="58f09-334">*¿Cómo se puede ejecutar una prueba con certificados de cliente?*</span><span class="sxs-lookup"><span data-stu-id="58f09-334">*How can I run a test with client certificates?*</span></span>

    <span data-ttu-id="58f09-335">Lo sentimos, pero eso no está admitido.</span><span class="sxs-lookup"><span data-stu-id="58f09-335">We don't support that, sorry.</span></span>


## <span data-ttu-id="58f09-336"><a name="next"></a>Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="58f09-336"><a name="next"></a>Next steps</span></span>
<span data-ttu-id="58f09-337">[Búsqueda de registros de diagnóstico][diagnostic]</span><span class="sxs-lookup"><span data-stu-id="58f09-337">[Search diagnostic logs][diagnostic]</span></span>

<span data-ttu-id="58f09-338">[Solución de problemas][qna]</span><span class="sxs-lookup"><span data-stu-id="58f09-338">[Troubleshooting][qna]</span></span>

[<span data-ttu-id="58f09-339">Direcciones IP de agentes de pruebas web</span><span class="sxs-lookup"><span data-stu-id="58f09-339">IP addresses of web test agents</span></span>](app-insights-ip-addresses.md)

<!--Link references-->

[azure-availability]: ../insights-create-web-tests.md
[diagnostic]: app-insights-diagnostic-search.md
[qna]: app-insights-troubleshoot-faq.md
[start]: app-insights-overview.md
