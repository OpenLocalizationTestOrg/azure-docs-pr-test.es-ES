---
title: Establecimiento de alertas en Azure Application Insights | Microsoft Docs
description: "Reciba notificaciones acerca de tiempos de respuesta lentos, excepciones y otros cambios de rendimiento o uso de la aplicación web."
services: application-insights
documentationcenter: 
author: CFreemanwa
manager: carmonm
ms.assetid: f8ebde72-f819-4ba5-afa2-31dbd49509a5
ms.service: application-insights
ms.workload: tbd
ms.tgt_pltfrm: ibiza
ms.devlang: na
ms.topic: article
ms.date: 03/14/2017
ms.author: bwren
ms.openlocfilehash: c8386ffc5d68260eeb75edf7efb77db1163dcef8
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/18/2017
---
# <a name="set-alerts-in-application-insights"></a><span data-ttu-id="0babf-103">Definición de alertas en Application Insights</span><span class="sxs-lookup"><span data-stu-id="0babf-103">Set Alerts in Application Insights</span></span>
<span data-ttu-id="0babf-104">[Azure Application Insights][start] puede avisarle sobre los cambios en las métricas de rendimiento o de uso de la aplicación web.</span><span class="sxs-lookup"><span data-stu-id="0babf-104">[Azure Application Insights][start] can alert you to changes in performance or usage metrics in your web app.</span></span> 

<span data-ttu-id="0babf-105">Application Insights supervisa la aplicación activa en una [amplia variedad de plataformas][platforms] para ayudarlo a diagnosticar problemas de rendimiento y entender los patrones de uso.</span><span class="sxs-lookup"><span data-stu-id="0babf-105">Application Insights monitors your live app on a [wide variety of platforms][platforms] to help you diagnose performance issues and understand usage patterns.</span></span>

<span data-ttu-id="0babf-106">Hay tres tipos de alertas:</span><span class="sxs-lookup"><span data-stu-id="0babf-106">There are three kinds of alerts:</span></span>

* <span data-ttu-id="0babf-107">**Alertas de métricas** le avisan cuando una métrica cruza un valor de umbral durante un período determinado: por ejemplo, tiempos de respuesta, recuentos de excepciones, uso de la CPU o vistas de página.</span><span class="sxs-lookup"><span data-stu-id="0babf-107">**Metric alerts** tell you when a metric crosses a threshold value for some period - such as response times, exception counts, CPU usage, or page views.</span></span> 
* <span data-ttu-id="0babf-108">[**Pruebas web**][availability] le informan de que el sitio no está disponible en Internet o responde lentamente.</span><span class="sxs-lookup"><span data-stu-id="0babf-108">[**Web tests**][availability] tell you when your site is unavailable on the internet, or responding slowly.</span></span> <span data-ttu-id="0babf-109">[Más información][availability].</span><span class="sxs-lookup"><span data-stu-id="0babf-109">[Learn more][availability].</span></span>
* <span data-ttu-id="0babf-110">[**Diagnósticos proactivos**](app-insights-proactive-diagnostics.md) se configuran automáticamente para que le notifiquen acerca de patrones de rendimiento no habituales.</span><span class="sxs-lookup"><span data-stu-id="0babf-110">[**Proactive diagnostics**](app-insights-proactive-diagnostics.md) are configured automatically to notify you about unusual performance patterns.</span></span>

<span data-ttu-id="0babf-111">Nos centraremos en las alertas de métricas en este artículo.</span><span class="sxs-lookup"><span data-stu-id="0babf-111">We focus on metric alerts in this article.</span></span>

## <a name="set-a-metric-alert"></a><span data-ttu-id="0babf-112">Establecimiento de una alerta de métrica</span><span class="sxs-lookup"><span data-stu-id="0babf-112">Set a Metric alert</span></span>
<span data-ttu-id="0babf-113">Abra la hoja Reglas de alerta y, a continuación, utilice el botón Agregar.</span><span class="sxs-lookup"><span data-stu-id="0babf-113">Open the Alert rules blade, and then use the add button.</span></span> 

![En la hoja Reglas de alerta, elija Agregar alerta.](./media/app-insights-alerts/01-set-metric.png)

* <span data-ttu-id="0babf-116">Establezca el recurso antes de las demás propiedades.</span><span class="sxs-lookup"><span data-stu-id="0babf-116">Set the resource before the other properties.</span></span> <span data-ttu-id="0babf-117">**Elija el recurso "(components)"** si desea establecer alertas sobre métricas de rendimiento o de uso.</span><span class="sxs-lookup"><span data-stu-id="0babf-117">**Choose the "(components)" resource** if you want to set alerts on performance or usage metrics.</span></span>
* <span data-ttu-id="0babf-118">El nombre que asigne a la alerta debe ser único dentro del grupo de recursos (no solo en la aplicación).</span><span class="sxs-lookup"><span data-stu-id="0babf-118">The name that you give to the alert must be unique within the resource group (not just your application).</span></span>
* <span data-ttu-id="0babf-119">Asegúrese de tener en cuenta las unidades en las que se le pide que escriba el valor de umbral.</span><span class="sxs-lookup"><span data-stu-id="0babf-119">Be careful to note the units in which you're asked to enter the threshold value.</span></span>
* <span data-ttu-id="0babf-120">Si activa la casilla "Enviar correo electrónico a propietarios, colaboradores y lectores", las alertas se envían por correo electrónico a todos los usuarios con acceso a este grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="0babf-120">If you check the box "Email owners...", alerts are sent by email to everyone who has access to this resource group.</span></span> <span data-ttu-id="0babf-121">Para expandir dicho conjunto de usuarios, agréguelos al [grupo de recursos o suscripción](app-insights-resources-roles-access-control.md) (no al recurso).</span><span class="sxs-lookup"><span data-stu-id="0babf-121">To expand this set of people, add them to the [resource group or subscription](app-insights-resources-roles-access-control.md) (not the resource).</span></span>
* <span data-ttu-id="0babf-122">Si especifica "Correos electrónicos adicionales", las alertas se envían a esos usuarios o grupos (independientemente de que haya activado la casilla anterior).</span><span class="sxs-lookup"><span data-stu-id="0babf-122">If you specify "Additional emails", alerts are sent to those individuals or groups (whether or not you checked the "email owners..." box).</span></span> 
* <span data-ttu-id="0babf-123">Establezca una [dirección de webhook](../monitoring-and-diagnostics/insights-webhooks-alerts.md) si ha configurado una aplicación web para responder a las alertas.</span><span class="sxs-lookup"><span data-stu-id="0babf-123">Set a [webhook address](../monitoring-and-diagnostics/insights-webhooks-alerts.md) if you have set up a web app that responds to alerts.</span></span> <span data-ttu-id="0babf-124">Se llamará a esta dirección cuando la alerta se active y cuando se haya resuelto.</span><span class="sxs-lookup"><span data-stu-id="0babf-124">It is called both when the alert is Activated and when it is Resolved.</span></span> <span data-ttu-id="0babf-125">(Pero tenga en cuenta que, en la actualidad, los parámetros de consulta no se pasan como propiedades de webhook).</span><span class="sxs-lookup"><span data-stu-id="0babf-125">(But note that at present, query parameters are not passed through as webhook properties.)</span></span>
* <span data-ttu-id="0babf-126">Puede habilitar o deshabilitar la alerta: consulte los botones de la parte superior de la hoja.</span><span class="sxs-lookup"><span data-stu-id="0babf-126">You can Disable or Enable the alert: see the buttons at the top of the blade.</span></span>

<span data-ttu-id="0babf-127">*No puedo ver el botón Agregar alerta*</span><span class="sxs-lookup"><span data-stu-id="0babf-127">*I don't see the Add Alert button.*</span></span> 

* <span data-ttu-id="0babf-128">¿Está usando una cuenta de organización?</span><span class="sxs-lookup"><span data-stu-id="0babf-128">Are you using an organizational account?</span></span> <span data-ttu-id="0babf-129">Puede establecer alertas si tiene acceso de propietario o colaborador a este recurso de aplicación.</span><span class="sxs-lookup"><span data-stu-id="0babf-129">You can set alerts if you have owner or contributor access to this application resource.</span></span> <span data-ttu-id="0babf-130">Eche un vistazo a la hoja Access Control.</span><span class="sxs-lookup"><span data-stu-id="0babf-130">Take a look at the Access Control blade.</span></span> <span data-ttu-id="0babf-131">[Más información sobre el control de acceso][roles].</span><span class="sxs-lookup"><span data-stu-id="0babf-131">[Learn about access control][roles].</span></span>

> [!NOTE]
> <span data-ttu-id="0babf-132">En la hoja de alertas, verá que ya hay una alerta configurada: [Proactive Diagnostics](app-insights-proactive-failure-diagnostics.md).</span><span class="sxs-lookup"><span data-stu-id="0babf-132">In the alerts blade, you see that there's already an alert set up: [Proactive Diagnostics](app-insights-proactive-failure-diagnostics.md).</span></span> <span data-ttu-id="0babf-133">La alerta automática supervisa una métrica determinada: el índice de errores de las solicitudes.</span><span class="sxs-lookup"><span data-stu-id="0babf-133">The automatic alert monitors one particular metric, request failure rate.</span></span> <span data-ttu-id="0babf-134">A menos que decida deshabilitar esta opción, no es necesario establecer su propio índice de errores de las solicitudes.</span><span class="sxs-lookup"><span data-stu-id="0babf-134">Unless you decide to disable the proactive alert, you don't need to set your own alert on request failure rate.</span></span> 
> 
> 

## <a name="see-your-alerts"></a><span data-ttu-id="0babf-135">Visualización de alertas</span><span class="sxs-lookup"><span data-stu-id="0babf-135">See your alerts</span></span>
<span data-ttu-id="0babf-136">Recibirá un correo electrónico cuando un alerta cambia el estado entre inactivo y activo.</span><span class="sxs-lookup"><span data-stu-id="0babf-136">You get an email when an alert changes state between inactive and active.</span></span> 

<span data-ttu-id="0babf-137">En la hoja de reglas Alerta se muestra el estado actual de cada alerta.</span><span class="sxs-lookup"><span data-stu-id="0babf-137">The current state of each alert is shown in the Alert rules blade.</span></span>

<span data-ttu-id="0babf-138">Hay un resumen de la actividad reciente en la lista desplegable de alertas:</span><span class="sxs-lookup"><span data-stu-id="0babf-138">There's a summary of recent activity in the alerts drop-down:</span></span>

![Lista desplegable de alertas](./media/app-insights-alerts/010-alert-drop.png)

<span data-ttu-id="0babf-140">El historial de cambios de estado está en el registro de actividad:</span><span class="sxs-lookup"><span data-stu-id="0babf-140">The history of state changes is in the Activity Log:</span></span>

![En la hoja de información general, haga clic en Configuración, Registros de auditoría](./media/app-insights-alerts/09-alerts.png)

## <a name="how-alerts-work"></a><span data-ttu-id="0babf-142">Funcionamiento de las alertas</span><span class="sxs-lookup"><span data-stu-id="0babf-142">How alerts work</span></span>
* <span data-ttu-id="0babf-143">Una alerta tiene tres estados: "Nunca activada", "Activada" y "Resuelta".</span><span class="sxs-lookup"><span data-stu-id="0babf-143">An alert has three states: "Never activated", "Activated", and "Resolved."</span></span> <span data-ttu-id="0babf-144">"Activada" significa que la condición especificada tenía el valor true cuando se evaluó por última vez.</span><span class="sxs-lookup"><span data-stu-id="0babf-144">Activated means the condition you specified was true, when it was last evaluated.</span></span>
* <span data-ttu-id="0babf-145">Se genera una notificación cuando una alerta cambia de estado.</span><span class="sxs-lookup"><span data-stu-id="0babf-145">A notification is generated when an alert changes state.</span></span> <span data-ttu-id="0babf-146">(Si la condición de alerta ya tenía el valor true cuando creó la alerta, es posible que no reciba una notificación hasta que la condición cambie al valor false).</span><span class="sxs-lookup"><span data-stu-id="0babf-146">(If the alert condition was already true when you created the alert, you might not get a notification until the condition goes false.)</span></span>
* <span data-ttu-id="0babf-147">Si ha activado la casilla de correos electrónicos o si ha proporcionado direcciones de correo electrónico, cada notificación generará un correo.</span><span class="sxs-lookup"><span data-stu-id="0babf-147">Each notification generates an email if you checked the emails box, or provided email addresses.</span></span> <span data-ttu-id="0babf-148">También puede consultar la lista desplegable de notificaciones.</span><span class="sxs-lookup"><span data-stu-id="0babf-148">You can also look at the Notifications drop-down list.</span></span>
* <span data-ttu-id="0babf-149">Una alerta se evalúa cada vez que llega una métrica, pero no en caso contrario.</span><span class="sxs-lookup"><span data-stu-id="0babf-149">An alert is evaluated each time a metric arrives, but not otherwise.</span></span>
* <span data-ttu-id="0babf-150">La evaluación agrega la métrica durante el período anterior y, luego, la compara con el umbral para determinar el nuevo estado.</span><span class="sxs-lookup"><span data-stu-id="0babf-150">The evaluation aggregates the metric over the preceding period, and then compares it to the threshold to determine the new state.</span></span>
* <span data-ttu-id="0babf-151">El período que elija especifica el intervalo en el que se agregan métricas.</span><span class="sxs-lookup"><span data-stu-id="0babf-151">The period that you choose specifies the interval over which metrics are aggregated.</span></span> <span data-ttu-id="0babf-152">No afecta a la frecuencia con la que se evalúa la alerta: depende de la frecuencia de llegada de métricas.</span><span class="sxs-lookup"><span data-stu-id="0babf-152">It doesn't affect how often the alert is evaluated: that depends on the frequency of arrival of metrics.</span></span>
* <span data-ttu-id="0babf-153">Si no llega ningún dato para una métrica concreta durante un tiempo, este intervalo tiene efectos diferentes en la evaluación de la alerta y en los gráficos del Explorador de métricas.</span><span class="sxs-lookup"><span data-stu-id="0babf-153">If no data arrives for a particular metric for some time, the gap has different effects on alert evaluation and on the charts in metric explorer.</span></span> <span data-ttu-id="0babf-154">En el Explorador de métricas, si no se ve ningún dato durante más tiempo que el intervalo de muestreo del gráfico, el gráfico mostrará un valor de 0.</span><span class="sxs-lookup"><span data-stu-id="0babf-154">In metric explorer, if no data is seen for longer than the chart's sampling interval, the chart shows a value of 0.</span></span> <span data-ttu-id="0babf-155">Pero una alerta basada en la misma métrica no se volverá a evaluar, y el estado de la alerta permanecerá sin cambios.</span><span class="sxs-lookup"><span data-stu-id="0babf-155">But an alert based on the same metric is not be reevaluated, and the alert's state remains unchanged.</span></span> 
  
    <span data-ttu-id="0babf-156">Cuando finalmente llegan datos, el gráfico se desplazará a un valor distinto de cero.</span><span class="sxs-lookup"><span data-stu-id="0babf-156">When data eventually arrives, the chart jumps back to a non-zero value.</span></span> <span data-ttu-id="0babf-157">La alerta se evaluará en función de los datos disponibles para el período especificado.</span><span class="sxs-lookup"><span data-stu-id="0babf-157">The alert evaluates based on the data available for the period you specified.</span></span> <span data-ttu-id="0babf-158">Si el nuevo punto de datos es el único disponible en el período, el agregado se basará en ese punto.</span><span class="sxs-lookup"><span data-stu-id="0babf-158">If the new data point is the only one available in the period, the aggregate is based just on that data point.</span></span>
* <span data-ttu-id="0babf-159">Una alerta puede parpadear con frecuencia entre los estados de alerta y correcto, incluso si se establece un período largo.</span><span class="sxs-lookup"><span data-stu-id="0babf-159">An alert can flicker frequently between alert and healthy states, even if you set a long period.</span></span> <span data-ttu-id="0babf-160">Esto puede suceder si el valor de métrica se sitúa alrededor del umbral.</span><span class="sxs-lookup"><span data-stu-id="0babf-160">This can happen if the metric value hovers around the threshold.</span></span> <span data-ttu-id="0babf-161">No hay ninguna histéresis en el umbral: la transición a alerta se produce en el mismo valor que la transición a correcto.</span><span class="sxs-lookup"><span data-stu-id="0babf-161">There is no hysteresis in the threshold: the transition to alert happens at the same value as the transition to healthy.</span></span>

## <a name="what-are-good-alerts-to-set"></a><span data-ttu-id="0babf-162">¿Qué alertas es conveniente establecer?</span><span class="sxs-lookup"><span data-stu-id="0babf-162">What are good alerts to set?</span></span>
<span data-ttu-id="0babf-163">Depende de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="0babf-163">It depends on your application.</span></span> <span data-ttu-id="0babf-164">Para empezar, es mejor no establecer demasiadas métricas.</span><span class="sxs-lookup"><span data-stu-id="0babf-164">To start with, it's best not to set too many metrics.</span></span> <span data-ttu-id="0babf-165">Observe durante un tiempo sus gráficos de métrica mientras se ejecuta la aplicación para hacerse una idea de cómo se comporta normalmente.</span><span class="sxs-lookup"><span data-stu-id="0babf-165">Spend some time looking at your metric charts while your app is running, to get a feel for how it behaves normally.</span></span> <span data-ttu-id="0babf-166">Este procedimiento le ayudará a encontrar maneras de mejorar su rendimiento.</span><span class="sxs-lookup"><span data-stu-id="0babf-166">This practice helps you find ways to improve its performance.</span></span> <span data-ttu-id="0babf-167">A continuación, configure alertas para que le avisen cuando las métricas salgan de la zona normal.</span><span class="sxs-lookup"><span data-stu-id="0babf-167">Then set up alerts to tell you when the metrics go outside the normal zone.</span></span> 

<span data-ttu-id="0babf-168">Las alertas más populares son:</span><span class="sxs-lookup"><span data-stu-id="0babf-168">Popular alerts include:</span></span>

* <span data-ttu-id="0babf-169">Las [métricas del explorador][client], especialmente los **tiempos de carga de página del explorador**, son buenas para aplicaciones web.</span><span class="sxs-lookup"><span data-stu-id="0babf-169">[Browser metrics][client], especially Browser **page load times**, are good for web applications.</span></span> <span data-ttu-id="0babf-170">Si la página tiene muchos scripts, debe buscar **excepciones del explorador**.</span><span class="sxs-lookup"><span data-stu-id="0babf-170">If your page has many scripts, you should look for **browser exceptions**.</span></span> <span data-ttu-id="0babf-171">Para obtener estas métricas y alertas, tiene que configurar [la supervisión de páginas web][client].</span><span class="sxs-lookup"><span data-stu-id="0babf-171">In order to get these metrics and alerts, you have to set up [web page monitoring][client].</span></span>
* <span data-ttu-id="0babf-172">**Tiempo de respuesta del servidor** para las aplicaciones web del lado servidor.</span><span class="sxs-lookup"><span data-stu-id="0babf-172">**Server response time** for the server side of web applications.</span></span> <span data-ttu-id="0babf-173">Además de configurar alertas, eche un vistazo a esta métrica para ver si varía desproporcionadamente con tasas de solicitud altas: la variación puede indicar que la aplicación se está quedando sin recursos.</span><span class="sxs-lookup"><span data-stu-id="0babf-173">As well as setting up alerts, keep an eye on this metric to see if it varies disproportionately with high request rates: variation might indicate that your app is running out of resources.</span></span> 
* <span data-ttu-id="0babf-174">**Excepciones de servidor** : para verlas, deberá realizar alguna [configuración adicional](app-insights-asp-net-exceptions.md).</span><span class="sxs-lookup"><span data-stu-id="0babf-174">**Server exceptions** - to see them, you have to do some [additional setup](app-insights-asp-net-exceptions.md).</span></span>

<span data-ttu-id="0babf-175">No olvide que los [diagnósticos proactivos de frecuencia de errores](app-insights-proactive-failure-diagnostics.md) permiten supervisar automáticamente la velocidad a la que la aplicación responde a solicitudes con códigos de error.</span><span class="sxs-lookup"><span data-stu-id="0babf-175">Don't forget that [proactive failure rate diagnostics](app-insights-proactive-failure-diagnostics.md) automatically monitor the rate at which your app responds to requests with failure codes.</span></span> 

## <a name="automation"></a><span data-ttu-id="0babf-176">Automatización</span><span class="sxs-lookup"><span data-stu-id="0babf-176">Automation</span></span>
* [<span data-ttu-id="0babf-177">Uso de PowerShell para automatizar la configuración de alertas</span><span class="sxs-lookup"><span data-stu-id="0babf-177">Use PowerShell to automate setting up alerts</span></span>](app-insights-powershell-alerts.md)
* [<span data-ttu-id="0babf-178">Uso de Webhook para automatizar la respuesta a alertas</span><span class="sxs-lookup"><span data-stu-id="0babf-178">Use webhooks to automate responding to alerts</span></span>](../monitoring-and-diagnostics/insights-webhooks-alerts.md)

## <a name="video"></a><span data-ttu-id="0babf-179">Vídeo</span><span class="sxs-lookup"><span data-stu-id="0babf-179">Video</span></span>

> [!VIDEO https://channel9.msdn.com/events/Connect/2016/112/player]

## <a name="see-also"></a><span data-ttu-id="0babf-180">Otras referencias</span><span class="sxs-lookup"><span data-stu-id="0babf-180">See also</span></span>
* [<span data-ttu-id="0babf-181">Pruebas web de disponibilidad</span><span class="sxs-lookup"><span data-stu-id="0babf-181">Availability web tests</span></span>](app-insights-monitor-web-app-availability.md)
* [<span data-ttu-id="0babf-182">Use PowerShell to set alerts in Application Insights (Uso de PowerShell para definir alertas en Application Insights)</span><span class="sxs-lookup"><span data-stu-id="0babf-182">Automate setting up alerts</span></span>](app-insights-powershell-alerts.md)
* [<span data-ttu-id="0babf-183">Proactive diagnostics</span><span class="sxs-lookup"><span data-stu-id="0babf-183">Proactive diagnostics</span></span>](app-insights-proactive-diagnostics.md) 

<!--Link references-->

[availability]: app-insights-monitor-web-app-availability.md
[client]: app-insights-javascript.md
[platforms]: app-insights-platforms.md
[roles]: app-insights-resources-roles-access-control.md
[start]: app-insights-overview.md

