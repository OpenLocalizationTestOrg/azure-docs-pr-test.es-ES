---
title: "aaaApplication visión para servicios de nube de Azure | Documentos de Microsoft"
description: "Supervisión de los roles web y de trabajo de manera eficaz con Application Insights"
services: application-insights
documentationcenter: 
keywords: WAD2AI, Azure Diagnostics
author: CFreemanwa
manager: carmonm
editor: alancameronwills
ms.assetid: 5c7a5b34-329e-42b7-9330-9dcbb9ff1f88
ms.service: application-insights
ms.devlang: na
ms.tgt_pltfrm: ibiza
ms.topic: get-started-article
ms.workload: tbd
ms.date: 05/05/2017
ms.author: bwren
ms.openlocfilehash: 6956ce423eea1e2cf387bd98250bae32d9501ed0
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="application-insights-for-azure-cloud-services"></a><span data-ttu-id="a49ae-104">Application Insights para los Servicios en la nube de Azure</span><span class="sxs-lookup"><span data-stu-id="a49ae-104">Application Insights for Azure Cloud Services</span></span>
<span data-ttu-id="a49ae-105">[Application Insights](https://azure.microsoft.com/services/cloud-services/)puede supervisar la disponibilidad, el rendimiento, los errores y el uso de las [aplicaciones de Azure Cloud Services][start] mediante la combinación de datos de los SDK de Application Insights con los datos de [Azure Diagnostics](https://docs.microsoft.com/en-us/azure/monitoring-and-diagnostics/azure-diagnostics) desde Cloud Services.</span><span class="sxs-lookup"><span data-stu-id="a49ae-105">[Microsoft Azure Cloud service apps](https://azure.microsoft.com/services/cloud-services/) can be monitored by [Application Insights][start] for availability, performance, failures, and usage by combining data from Application Insights' SDKs with [Azure Diagnotics](https://docs.microsoft.com/en-us/azure/monitoring-and-diagnostics/azure-diagnostics) data from your Cloud Services.</span></span> <span data-ttu-id="a49ae-106">Con los comentarios de Hola que obtendrá acerca del rendimiento de Hola y eficacia de la aplicación Hola comodín, pueda tomar decisiones meditadas sobre la dirección de Hola de diseño de hello en cada ciclo de vida de desarrollo.</span><span class="sxs-lookup"><span data-stu-id="a49ae-106">With hello feedback you get about hello performance and effectiveness of your app in hello wild, you can make informed choices about hello direction of hello design in each development lifecycle.</span></span>

![Ejemplo](./media/app-insights-cloudservices/sample.png)

## <a name="before-you-start"></a><span data-ttu-id="a49ae-108">Antes de comenzar</span><span class="sxs-lookup"><span data-stu-id="a49ae-108">Before you start</span></span>
<span data-ttu-id="a49ae-109">Necesitará:</span><span class="sxs-lookup"><span data-stu-id="a49ae-109">You'll need:</span></span>

* <span data-ttu-id="a49ae-110">Una suscripción a [Microsoft Azure](http://azure.com).</span><span class="sxs-lookup"><span data-stu-id="a49ae-110">A subscription with [Microsoft Azure](http://azure.com).</span></span> <span data-ttu-id="a49ae-111">Inicie sesión con una cuenta Microsoft, que podría tener para Windows, XBox Live u otros servicios en la nube de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="a49ae-111">Sign in with a Microsoft account, which you might have for Windows, XBox Live, or other Microsoft cloud services.</span></span> 
* <span data-ttu-id="a49ae-112">Herramientas de Microsoft Azure 2.9 o superior</span><span class="sxs-lookup"><span data-stu-id="a49ae-112">Microsoft Azure tools 2.9 or later</span></span>
* <span data-ttu-id="a49ae-113">Herramientas de análisis del desarrollador 7.10 o posterior</span><span class="sxs-lookup"><span data-stu-id="a49ae-113">Developer Analytics Tools 7.10 or later</span></span>

## <a name="quick-start"></a><span data-ttu-id="a49ae-114">Inicio rápido</span><span class="sxs-lookup"><span data-stu-id="a49ae-114">Quick start</span></span>
<span data-ttu-id="a49ae-115">Hola toomonitor de forma más rápida y más fácil que su servicio en la nube con Application Insights es toochoose opción al publicar su servicio tooAzure.</span><span class="sxs-lookup"><span data-stu-id="a49ae-115">hello quickest and easiest way toomonitor your cloud service with Application Insights is toochoose that option when you publish your service tooAzure.</span></span>

![Ejemplo](./media/app-insights-cloudservices/azure-cloud-application-insights.png)

<span data-ttu-id="a49ae-117">Instrumentos de esta opción de los contadores de la aplicación en tiempo de ejecución, lo que le proporciona todos los telemetría Hola necesita toomonitor solicitudes, excepciones y las dependencias en el rol web, así como el rendimiento de los roles de trabajo.</span><span class="sxs-lookup"><span data-stu-id="a49ae-117">This option instruments your app at run time, giving you all hello telemetry you need toomonitor requests, exceptions, and dependencies in your web role, as well as performance counters from your worker roles.</span></span> <span data-ttu-id="a49ae-118">Los seguimientos de diagnóstico generados por la aplicación también se envían tooApplication visión.</span><span class="sxs-lookup"><span data-stu-id="a49ae-118">Any diagnostic traces generated by your app are also sent tooApplication Insights.</span></span>

<span data-ttu-id="a49ae-119">Si eso es todo lo que necesita, ha terminado.</span><span class="sxs-lookup"><span data-stu-id="a49ae-119">If that's all you need, you're done!</span></span> <span data-ttu-id="a49ae-120">Los siguientes pasos son [ver las métricas de la aplicación](app-insights-metrics-explorer.md), [consultar los datos con Analytics](app-insights-analytics.md) y, quizás, configurar un [panel](app-insights-dashboards.md).</span><span class="sxs-lookup"><span data-stu-id="a49ae-120">Next steps are [viewing metrics from your app](app-insights-metrics-explorer.md), [querying your data with Analytics](app-insights-analytics.md), and maybe setting up a [dashboard](app-insights-dashboards.md).</span></span> <span data-ttu-id="a49ae-121">Es recomendable tooset seguridad [pruebas de disponibilidad](app-insights-monitor-web-app-availability.md) y [agregar páginas de códigos tooyour web](app-insights-javascript.md) toomonitor rendimiento en el Explorador de Hola.</span><span class="sxs-lookup"><span data-stu-id="a49ae-121">You might want tooset up [availability tests](app-insights-monitor-web-app-availability.md) and [add code tooyour web pages](app-insights-javascript.md) toomonitor performance in hello browser.</span></span>

<span data-ttu-id="a49ae-122">Sin embargo, también puede obtener más opciones:</span><span class="sxs-lookup"><span data-stu-id="a49ae-122">But you can also get more options:</span></span>

* <span data-ttu-id="a49ae-123">Enviar datos de diferentes componentes y recursos de tooseparate de configuraciones de compilación.</span><span class="sxs-lookup"><span data-stu-id="a49ae-123">Send data from different components and build configurations tooseparate resources.</span></span>
* <span data-ttu-id="a49ae-124">Agregar telemetría personalizada desde su aplicación.</span><span class="sxs-lookup"><span data-stu-id="a49ae-124">Add custom telemetry from your app.</span></span>

<span data-ttu-id="a49ae-125">Si estas opciones son de interés tooyou, siga leyendo.</span><span class="sxs-lookup"><span data-stu-id="a49ae-125">If those options are of interest tooyou, read on.</span></span>

## <a name="sample-application-instrumented-with-application-insights"></a><span data-ttu-id="a49ae-126">Aplicación de ejemplo instrumentado con Application Insights</span><span class="sxs-lookup"><span data-stu-id="a49ae-126">Sample Application instrumented with Application Insights</span></span>
<span data-ttu-id="a49ae-127">Eche un vistazo a esto [aplicación de ejemplo](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService) en el que Application Insights se agrega tooa servicio en la nube con dos roles de trabajo hospedados en Azure.</span><span class="sxs-lookup"><span data-stu-id="a49ae-127">Take a look at this [sample application](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService) in which Application Insights is added tooa cloud service with two worker roles hosted in Azure.</span></span> 

<span data-ttu-id="a49ae-128">La información siguiente le indica cómo tooadapt su propio servicio de nube proyecto Hola igual.</span><span class="sxs-lookup"><span data-stu-id="a49ae-128">What follows tells you how tooadapt your own cloud service project in hello same way.</span></span>

## <a name="plan-resources-and-resource-groups"></a><span data-ttu-id="a49ae-129">Planeamiento de recursos y grupos de recursos</span><span class="sxs-lookup"><span data-stu-id="a49ae-129">Plan resources and resource groups</span></span>
<span data-ttu-id="a49ae-130">telemetría Hola desde la aplicación se almacena, analiza y muestra en un recurso de Azure del tipo Application Insights.</span><span class="sxs-lookup"><span data-stu-id="a49ae-130">hello telemetry from your app is stored, analyzed and displayed in an Azure resource of type Application Insights.</span></span> 

<span data-ttu-id="a49ae-131">Grupo de recursos de tooa pertenece cada recurso.</span><span class="sxs-lookup"><span data-stu-id="a49ae-131">Each resource belongs tooa resource group.</span></span> <span data-ttu-id="a49ae-132">Grupos de recursos se usan para administrar los costos, para conceder acceso a los miembros de tooteam, y toodeploy actualizaciones en una única transacción coordinada.</span><span class="sxs-lookup"><span data-stu-id="a49ae-132">Resource groups are used for managing costs, for granting access tooteam members, and toodeploy updates in a single coordinated transaction.</span></span> <span data-ttu-id="a49ae-133">Por ejemplo, podría [escribir una secuencia de comandos toodeploy](../azure-resource-manager/resource-group-template-deploy.md) un servicio de nube de Azure y sus recursos en una operación de supervisión de Application Insights.</span><span class="sxs-lookup"><span data-stu-id="a49ae-133">For example, you could [write a script toodeploy](../azure-resource-manager/resource-group-template-deploy.md) an Azure Cloud Service and its Application Insights monitoring resources all in one operation.</span></span>

### <a name="resources-for-components"></a><span data-ttu-id="a49ae-134">Recursos para componentes</span><span class="sxs-lookup"><span data-stu-id="a49ae-134">Resources for components</span></span>
<span data-ttu-id="a49ae-135">Hola recomienda esquema es toocreate un recurso independiente para cada componente de la aplicación: es decir, cada rol web y rol de trabajo.</span><span class="sxs-lookup"><span data-stu-id="a49ae-135">hello recommended scheme is toocreate a separate resource for each component of your application - that is, each web role and worker role.</span></span> <span data-ttu-id="a49ae-136">Puede analizar por separado cada componente, pero puede crear un [panel](app-insights-dashboards.md) que reúne los gráficos clave Hola de todos los componentes de hello, para que pueda comparar y supervisarlas conjuntamente.</span><span class="sxs-lookup"><span data-stu-id="a49ae-136">You can analyze each component separately, but can create a [dashboard](app-insights-dashboards.md) that brings together hello key charts from all hello components, so that you can compare and monitor them together.</span></span> 

<span data-ttu-id="a49ae-137">Un esquema alternativo es telemetría de hello toosend de toohello de rol más de un mismo recurso, pero [agregar un elemento de telemetría de tooeach de propiedades de dimensión](app-insights-api-filtering-sampling.md#add-properties-itelemetryinitializer) que identifica su rol de origen.</span><span class="sxs-lookup"><span data-stu-id="a49ae-137">An alternative scheme is toosend hello telemetry from more than one role toohello same resource, but [add a dimension property tooeach telemetry item](app-insights-api-filtering-sampling.md#add-properties-itelemetryinitializer) that identifies its source role.</span></span> <span data-ttu-id="a49ae-138">En este esquema, los gráficos de métricas como excepciones normalmente muestran una agregación de recuentos de Hola de Hola distintos roles, pero puede segmentar gráfico Hola por identificador de rol de hello cuando sea necesario.</span><span class="sxs-lookup"><span data-stu-id="a49ae-138">In this scheme, metric charts such as exceptions normally show an aggregation of hello counts from hello different roles, but you can segment hello chart by hello role identifier when required.</span></span> <span data-ttu-id="a49ae-139">También se pueden filtrar las búsquedas por hello misma dimensión.</span><span class="sxs-lookup"><span data-stu-id="a49ae-139">Searches can also be filtered by hello same dimension.</span></span> <span data-ttu-id="a49ae-140">Esta alternativa resulta un poco más fácil tooview todo en hello al mismo tiempo, pero también podría provocar confusión toosome entre los roles de Hola.</span><span class="sxs-lookup"><span data-stu-id="a49ae-140">This alternative makes it a bit easier tooview everything at hello same time, but could also lead toosome confusion between hello roles.</span></span>

<span data-ttu-id="a49ae-141">Telemetría explorador normalmente se incluye en hello mismo recurso como su rol de servidor web.</span><span class="sxs-lookup"><span data-stu-id="a49ae-141">Browser telemetry is usually included in hello same resource as its server-side web role.</span></span>

<span data-ttu-id="a49ae-142">Colocar los recursos de Application Insights de Hola para distintos componentes de hello en un grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="a49ae-142">Put hello Application Insights resources for hello different components in one resource group.</span></span> <span data-ttu-id="a49ae-143">Esto hace fácil toomanage ellos juntos.</span><span class="sxs-lookup"><span data-stu-id="a49ae-143">This makes it easy toomanage them together.</span></span> 

### <a name="separating-development-test-and-production"></a><span data-ttu-id="a49ae-144">Separación de desarrollo, prueba y producción</span><span class="sxs-lookup"><span data-stu-id="a49ae-144">Separating development, test, and production</span></span>
<span data-ttu-id="a49ae-145">Si está desarrollando eventos personalizados para la característica siguiente mientras está activa la versión anterior de hello, desea toosend Hola desarrollo telemetría tooa Application Insights de recursos independiente.</span><span class="sxs-lookup"><span data-stu-id="a49ae-145">If you are developing custom events for your next feature while hello previous version is live, you want toosend hello development telemetry tooa separate Application Insights resource.</span></span> <span data-ttu-id="a49ae-146">Lo contrario, será difícil toofind la telemetría de prueba entre todos Hola tráfico del sitio de hello en vivo.</span><span class="sxs-lookup"><span data-stu-id="a49ae-146">Otherwise it will be hard toofind your test telemetry among all hello traffic from hello live site.</span></span>

<span data-ttu-id="a49ae-147">tooavoid esta situación, crear recursos independientes para cada configuración de compilación o 'marca' (desarrollo, prueba, producción,...) del sistema.</span><span class="sxs-lookup"><span data-stu-id="a49ae-147">tooavoid this situation, create separate resources for each build configuration or 'stamp' (development, test, production, ...) of your system.</span></span> <span data-ttu-id="a49ae-148">Incluir recursos de Hola para cada configuración de compilación en un grupo de recursos independiente.</span><span class="sxs-lookup"><span data-stu-id="a49ae-148">Put hello resources for each build configuration in a separate resource group.</span></span> 

<span data-ttu-id="a49ae-149">toosend Hola telemetría toohello los recursos adecuados, puede configurar Hola Application Insights SDK para que recoge una clave de instrumentación diferentes dependiendo de la configuración de compilación de Hola.</span><span class="sxs-lookup"><span data-stu-id="a49ae-149">toosend hello telemetry toohello appropriate resources, you can set up hello Application Insights SDK so that it picks up a different instrumentation key depending on hello build configuration.</span></span> 

## <a name="create-an-application-insights-resource-for-each-role"></a><span data-ttu-id="a49ae-150">Creación de un recurso de Application Insights para cada rol</span><span class="sxs-lookup"><span data-stu-id="a49ae-150">Create an Application Insights resource for each role</span></span>
<span data-ttu-id="a49ae-151">Si ha decidido toocreate un recurso independiente para cada rol - y quizás otro conjunto para cada configuración de compilación -, resulta más fácil toocreate les todo en el portal de Application Insights Hola.</span><span class="sxs-lookup"><span data-stu-id="a49ae-151">If you've decided toocreate a separate resource for each role - and perhaps a separate set for each build configuration - then it's easiest toocreate them all in hello Application Insights portal.</span></span> <span data-ttu-id="a49ae-152">(Si crea recursos mucho, también puede [automatizar el proceso de hello](app-insights-powershell.md).</span><span class="sxs-lookup"><span data-stu-id="a49ae-152">(If you create resources a lot, you can [automate hello process](app-insights-powershell.md).</span></span>

1. <span data-ttu-id="a49ae-153">Hola [portal de Azure][portal], cree un nuevo recurso de Application Insights.</span><span class="sxs-lookup"><span data-stu-id="a49ae-153">In hello [Azure portal][portal], create a new Application Insights resource.</span></span> <span data-ttu-id="a49ae-154">Para el tipo de aplicación, elija la aplicación ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="a49ae-154">For application type, choose ASP.NET app.</span></span> 

    ![Haga clic en Nuevo, Application Insights.](./media/app-insights-cloudservices/01-new.png)
2. <span data-ttu-id="a49ae-156">Observe que cada recurso se identifica por una clave de instrumentación.</span><span class="sxs-lookup"><span data-stu-id="a49ae-156">Note that each resource is identified by an Instrumentation Key.</span></span> <span data-ttu-id="a49ae-157">Puede necesitarlo más adelante si desea toomanually configurar o comprobar la configuración de Hola de hello SDK.</span><span class="sxs-lookup"><span data-stu-id="a49ae-157">You might need this later if you want toomanually configure or verify hello configuration of hello SDK.</span></span>

    ![Haga clic en Propiedades, seleccione la clave de hello y presione ctrl + C](./media/app-insights-cloudservices/02-props.png) 

## <a name="set-up-azure-diagnostics-for-each-role"></a><span data-ttu-id="a49ae-159">Configuración de Diagnósticos de Azure para cada rol</span><span class="sxs-lookup"><span data-stu-id="a49ae-159">Set up Azure Diagnostics for each role</span></span>
<span data-ttu-id="a49ae-160">Establezca esta opción toomonitor su aplicación con Application Insights.</span><span class="sxs-lookup"><span data-stu-id="a49ae-160">Set this option toomonitor your app with Application Insights.</span></span> <span data-ttu-id="a49ae-161">Para roles web, proporciona supervisión del rendimiento, alertas y diagnósticos, así como análisis de uso.</span><span class="sxs-lookup"><span data-stu-id="a49ae-161">For web roles, this provides performance monitoring, alerts, and diagnostics, as well as usage analysis.</span></span> <span data-ttu-id="a49ae-162">Para otros roles, puede buscar y supervisar los diagnósticos de Azure, como reiniciar y contadores de rendimiento, llamadas tooSystem.Diagnostics.Trace.</span><span class="sxs-lookup"><span data-stu-id="a49ae-162">For other roles, you can search and monitor Azure diagnostics such as restart, performance counters, and calls tooSystem.Diagnostics.Trace.</span></span> 

1. <span data-ttu-id="a49ae-163">En el Explorador de soluciones de Visual Studio, en &lt;YourCloudService&gt;, Roles, abra las propiedades de Hola de cada rol.</span><span class="sxs-lookup"><span data-stu-id="a49ae-163">In Visual Studio Solution Explorer, under &lt;YourCloudService&gt;, Roles, open hello properties of each role.</span></span>
2. <span data-ttu-id="a49ae-164">En **configuración**, establezca **enviar datos de diagnóstico tooApplication visión** y seleccione Hola adecuado de los recursos de información de la aplicación que creó anteriormente.</span><span class="sxs-lookup"><span data-stu-id="a49ae-164">In **Configuration**, set **Send diagnostics data tooApplication Insights** and select hello appropriate Application Insights resource that you created earlier.</span></span>

<span data-ttu-id="a49ae-165">Si ha decidido toouse un recurso de Application Insights independiente para cada configuración de compilación, seleccione Configuración de hello en primer lugar.</span><span class="sxs-lookup"><span data-stu-id="a49ae-165">If you have decided toouse a separate Application Insights resource for each build configuration, select hello configuration first.</span></span>

![En Propiedades de Hola de cada rol de Azure, configurar Application Insights](./media/app-insights-cloudservices/configure-azure-diagnostics.png)

<span data-ttu-id="a49ae-167">Hola efecto insertar las claves de instrumentación de Application Insights en archivos de hello denominados `ServiceConfiguration.*.cscfg`.</span><span class="sxs-lookup"><span data-stu-id="a49ae-167">This has hello effect of inserting your Application Insights instrumentation keys into hello files named `ServiceConfiguration.*.cscfg`.</span></span> <span data-ttu-id="a49ae-168">([Código de ejemplo](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/AzureEmailService/ServiceConfiguration.Cloud.cscfg)).</span><span class="sxs-lookup"><span data-stu-id="a49ae-168">([Sample code](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/AzureEmailService/ServiceConfiguration.Cloud.cscfg)).</span></span>

<span data-ttu-id="a49ae-169">Si desea toovary Hola nivel de información de diagnóstico enviado tooApplication visión, puede hacerlo [mediante la edición de hello `.cscfg` directamente los archivos de](app-insights-azure-diagnostics.md).</span><span class="sxs-lookup"><span data-stu-id="a49ae-169">If you want toovary hello level of diagnostic information sent tooApplication Insights, you can do so [by editing hello `.cscfg` files directly](app-insights-azure-diagnostics.md).</span></span>

## <span data-ttu-id="a49ae-170"><a name="sdk"></a>Instalar SDK de hello en cada proyecto</span><span class="sxs-lookup"><span data-stu-id="a49ae-170"><a name="sdk"></a>Install hello SDK in each project</span></span>
<span data-ttu-id="a49ae-171">Esta opción agrega Hola capacidad tooadd personalizado telemetría tooany función de negocio, para obtener un análisis más cerca del proceso de la aplicación se utiliza y realiza.</span><span class="sxs-lookup"><span data-stu-id="a49ae-171">This option adds hello ability tooadd custom business telemetry tooany role, for a closer analysis of how your application is used and performs.</span></span>

<span data-ttu-id="a49ae-172">En Visual Studio, configure Hola Application Insights SDK para cada proyecto de aplicación en la nube.</span><span class="sxs-lookup"><span data-stu-id="a49ae-172">In Visual Studio, configure hello Application Insights SDK for each cloud app project.</span></span>

1. <span data-ttu-id="a49ae-173">**Roles Web**: haga clic en proyecto de Hola y elija **configurar Application Insights** o **Agregar > telemetría de Application Insights**.</span><span class="sxs-lookup"><span data-stu-id="a49ae-173">**Web roles**: Right-click hello project and choose **Configure Application Insights** or **Add > Application Insights telemetry**.</span></span>

2. <span data-ttu-id="a49ae-174">**Roles de trabajo**:</span><span class="sxs-lookup"><span data-stu-id="a49ae-174">**Worker roles**:</span></span> 
 * <span data-ttu-id="a49ae-175">Haga clic en proyecto de Hola y seleccione **administrar paquetes de Nuget**.</span><span class="sxs-lookup"><span data-stu-id="a49ae-175">Right-click hello project and select **Manage Nuget Packages**.</span></span>
 * <span data-ttu-id="a49ae-176">Agregue [Application Insights para servidores de Windows](https://www.nuget.org/packages/Microsoft.ApplicationInsights.WindowsServer/).</span><span class="sxs-lookup"><span data-stu-id="a49ae-176">Add [Application Insights for Windows Servers](https://www.nuget.org/packages/Microsoft.ApplicationInsights.WindowsServer/).</span></span>

    ![Busque "Application Insights"](./media/app-insights-cloudservices/04-ai-nuget.png)

3. <span data-ttu-id="a49ae-178">Configurar Hola SDK toosend datos toohello recursos de Application Insights.</span><span class="sxs-lookup"><span data-stu-id="a49ae-178">Configure hello SDK toosend data toohello Application Insights resource.</span></span>

    <span data-ttu-id="a49ae-179">En una función de inicio adecuado, establecer clave de instrumentación de Hola de opción de configuración de hello en el archivo de .cscfg de hello:</span><span class="sxs-lookup"><span data-stu-id="a49ae-179">In a suitable startup function, set hello instrumentation key from hello configuration setting in hello .cscfg file:</span></span>
 
    ```C#
   
     TelemetryConfiguration.Active.InstrumentationKey = RoleEnvironment.GetConfigurationSettingValue("APPINSIGHTS_INSTRUMENTATIONKEY");
    ```
   
    <span data-ttu-id="a49ae-180">Realice esto para cada rol de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="a49ae-180">Do this for each role in your application.</span></span> <span data-ttu-id="a49ae-181">Vea los ejemplos de hello:</span><span class="sxs-lookup"><span data-stu-id="a49ae-181">See hello examples:</span></span>
   
   * [<span data-ttu-id="a49ae-182">Rol web</span><span class="sxs-lookup"><span data-stu-id="a49ae-182">Web role</span></span>](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Global.asax.cs#L27)
   * [<span data-ttu-id="a49ae-183">Rol de trabajo</span><span class="sxs-lookup"><span data-stu-id="a49ae-183">Worker role</span></span>](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L232)
   * [<span data-ttu-id="a49ae-184">Para páginas web</span><span class="sxs-lookup"><span data-stu-id="a49ae-184">For web pages</span></span>](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Views/Shared/_Layout.cshtml#L13) 
4. <span data-ttu-id="a49ae-185">Conjunto hello ApplicationInsights.config archivo toobe siempre copia toohello directorio de salida.</span><span class="sxs-lookup"><span data-stu-id="a49ae-185">Set hello ApplicationInsights.config file toobe copied always toohello output directory.</span></span> 
   
    <span data-ttu-id="a49ae-186">(En el archivo .config de hello, verá mensajes pidiéndole tooplace Hola clave de instrumentación no existe.</span><span class="sxs-lookup"><span data-stu-id="a49ae-186">(In hello .config file, you'll see messages asking you tooplace hello instrumentation key there.</span></span> <span data-ttu-id="a49ae-187">Sin embargo, es mejor tooset para aplicaciones de nube desde el archivo de .cscfg Hola.</span><span class="sxs-lookup"><span data-stu-id="a49ae-187">However, for cloud applications it's better tooset it from hello .cscfg file.</span></span> <span data-ttu-id="a49ae-188">Esto garantiza que ese rol Hola está identificado correctamente en el portal de hello).</span><span class="sxs-lookup"><span data-stu-id="a49ae-188">This ensures that hello role is correctly identified in hello portal.)</span></span>

#### <a name="run-and-publish-hello-app"></a><span data-ttu-id="a49ae-189">Ejecutar y publicar la aplicación hello</span><span class="sxs-lookup"><span data-stu-id="a49ae-189">Run and publish hello app</span></span>
<span data-ttu-id="a49ae-190">Ejecute la aplicación e inicie sesión en Azure.</span><span class="sxs-lookup"><span data-stu-id="a49ae-190">Run your app, and sign into Azure.</span></span> <span data-ttu-id="a49ae-191">Recursos de Application Insights Hola abierto que creó y podrá ver los puntos de datos individuales que aparecen en [búsqueda](app-insights-diagnostic-search.md), y los datos agregados en [métrica explorador](app-insights-metrics-explorer.md).</span><span class="sxs-lookup"><span data-stu-id="a49ae-191">Open hello Application Insights resources you created, and you'll see individual data points appearing in [Search](app-insights-diagnostic-search.md), and aggregated data in [Metric Explorer](app-insights-metrics-explorer.md).</span></span> 

<span data-ttu-id="a49ae-192">Agregar más de telemetría: vea hello las siguientes secciones se - y, a continuación, publique su tooget en vivo de diagnóstico y uso de comentarios de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="a49ae-192">Add more telemetry - see hello sections below - and then publish your app tooget live diagnostic and usage feedback.</span></span> 

#### <a name="no-data"></a><span data-ttu-id="a49ae-193">¿No hay datos?</span><span class="sxs-lookup"><span data-stu-id="a49ae-193">No data?</span></span>
* <span data-ttu-id="a49ae-194">Abra hello [búsqueda] [ diagnostic] icono toosee los eventos individuales.</span><span class="sxs-lookup"><span data-stu-id="a49ae-194">Open hello [Search][diagnostic] tile, toosee individual events.</span></span>
* <span data-ttu-id="a49ae-195">Utilizar la aplicación de hello, abrir varias páginas para que genere algunos telemetría.</span><span class="sxs-lookup"><span data-stu-id="a49ae-195">Use hello application, opening different pages so that it generates some telemetry.</span></span>
* <span data-ttu-id="a49ae-196">Espere unos segundos y haga clic en Actualizar.</span><span class="sxs-lookup"><span data-stu-id="a49ae-196">Wait a few seconds and click Refresh.</span></span>
* <span data-ttu-id="a49ae-197">Consulte [Solución de problemas][qna].</span><span class="sxs-lookup"><span data-stu-id="a49ae-197">See [Troubleshooting][qna].</span></span>

## <a name="view-azure-diagnostic-events"></a><span data-ttu-id="a49ae-198">Visualización de eventos de Azure Diagnostic</span><span class="sxs-lookup"><span data-stu-id="a49ae-198">View Azure Diagnostic events</span></span>
<span data-ttu-id="a49ae-199">Donde hello toofind [diagnósticos de Azure](https://docs.microsoft.com/en-us/azure/monitoring-and-diagnostics/azure-diagnostics) información de Application Insights:</span><span class="sxs-lookup"><span data-stu-id="a49ae-199">Where toofind hello [Azure Diagnostics](https://docs.microsoft.com/en-us/azure/monitoring-and-diagnostics/azure-diagnostics) information in Application Insights:</span></span>

* <span data-ttu-id="a49ae-200">Los contadores de rendimiento se muestran como métricas personalizadas.</span><span class="sxs-lookup"><span data-stu-id="a49ae-200">Performance counters are displayed as custom metrics.</span></span> 
* <span data-ttu-id="a49ae-201">Los registros de eventos de Windows se muestran como seguimientos y eventos personalizados.</span><span class="sxs-lookup"><span data-stu-id="a49ae-201">Windows event logs are shown as traces and custom events.</span></span>
* <span data-ttu-id="a49ae-202">Los registros de aplicación, los registros ETW y los registros de infraestructura de diagnóstico aparecen como seguimientos.</span><span class="sxs-lookup"><span data-stu-id="a49ae-202">Application logs, ETW logs, and any diagnostics infrastructure logs appear as traces.</span></span>

<span data-ttu-id="a49ae-203">contadores de rendimiento de toosee y recuentos de eventos, abra [Explorer métricas](app-insights-metrics-explorer.md) y agregar un nuevo gráfico:</span><span class="sxs-lookup"><span data-stu-id="a49ae-203">toosee performance counters and counts of events, open [Metrics Explorer](app-insights-metrics-explorer.md) and add a new chart:</span></span>

![Datos de Diagnósticos de Azure](./media/app-insights-cloudservices/23-wad.png)

<span data-ttu-id="a49ae-205">Use [búsqueda](app-insights-diagnostic-search.md) o un [consulta de análisis](app-insights-analytics-tour.md) toosearch a través de saludo diversos registros enviados por diagnósticos de Azure de seguimiento.</span><span class="sxs-lookup"><span data-stu-id="a49ae-205">Use [Search](app-insights-diagnostic-search.md) or an [Analytics query](app-insights-analytics-tour.md) toosearch across hello various trace logs sent by Azure Diagnostics.</span></span> <span data-ttu-id="a49ae-206">Por ejemplo, suponga que tiene una excepción no controlada que ha provocado un rol toocrash y reciclaje.</span><span class="sxs-lookup"><span data-stu-id="a49ae-206">For example, suppose you have an unhandled exception which caused a Role toocrash and recycle.</span></span> <span data-ttu-id="a49ae-207">Esa información se mostrará en hello aplicación de canal de registro de eventos Windows.</span><span class="sxs-lookup"><span data-stu-id="a49ae-207">That information would show up in hello Application channel of Windows Event Log.</span></span> <span data-ttu-id="a49ae-208">Puede usar búsqueda toolook en hello error de registro de eventos de Windows y realizar seguimiento de pila completo de Hola de excepción de Hola.</span><span class="sxs-lookup"><span data-stu-id="a49ae-208">You can use Search toolook at hello Windows Event Log error and get hello full stack trace for hello exception.</span></span> <span data-ttu-id="a49ae-209">Que le ayudará a encontrar Hola raíz causa del problema de Hola.</span><span class="sxs-lookup"><span data-stu-id="a49ae-209">That will help you find hello root cause of hello issue.</span></span>

![Búsqueda de Diagnósticos de Azure](./media/app-insights-cloudservices/25-wad.png)

## <a name="more-telemetry"></a><span data-ttu-id="a49ae-211">Más telemetría</span><span class="sxs-lookup"><span data-stu-id="a49ae-211">More telemetry</span></span>
<span data-ttu-id="a49ae-212">Hola secciones siguientes se muestra cómo tooget telemetría adicionales procedentes de distintos aspectos de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="a49ae-212">hello sections below show how tooget additional telemetry from different aspects of your application.</span></span>

## <a name="track-requests-from-worker-roles"></a><span data-ttu-id="a49ae-213">Seguimiento de solicitudes de roles de trabajo</span><span class="sxs-lookup"><span data-stu-id="a49ae-213">Track Requests from Worker roles</span></span>
<span data-ttu-id="a49ae-214">En los roles web, módulo de solicitudes de hello recopila automáticamente datos sobre las solicitudes HTTP.</span><span class="sxs-lookup"><span data-stu-id="a49ae-214">In web roles, hello requests module automatically collects data about HTTP requests.</span></span> <span data-ttu-id="a49ae-215">Vea hello [MVCWebRole de ejemplo](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/MvcWebRole) para obtener ejemplos de cómo puede invalidar el comportamiento de colecciones de hello predeterminado.</span><span class="sxs-lookup"><span data-stu-id="a49ae-215">See hello [sample MVCWebRole](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/MvcWebRole) for examples of how you can override hello default collection behavior.</span></span> 

<span data-ttu-id="a49ae-216">Puede capturar Hola de rendimiento de roles de tooworker de llamadas mediante el seguimiento de ellos en hello igual que las solicitudes HTTP.</span><span class="sxs-lookup"><span data-stu-id="a49ae-216">You can capture hello performance of calls tooworker roles by tracking them in hello same way as HTTP requests.</span></span> <span data-ttu-id="a49ae-217">En Application Insights, tipo de telemetría de solicitud de hello mide una unidad de trabajo de servidor con nombre que se puede programar y puede correctamente o producirá un error por separado.</span><span class="sxs-lookup"><span data-stu-id="a49ae-217">In Application Insights, hello Request telemetry type measures a unit of named server-side work that can be timed and can independently succeed or fail.</span></span> <span data-ttu-id="a49ae-218">Mientras que las solicitudes HTTP se capturan automáticamente por hello SDK, puede insertar sus propios roles de tooworker de las solicitudes de tootrack de código.</span><span class="sxs-lookup"><span data-stu-id="a49ae-218">While HTTP requests are captured automatically by hello SDK, you can insert your own code tootrack requests tooworker roles.</span></span>

<span data-ttu-id="a49ae-219">Vea Hola dos ejemplo trabajo roles tooreport instrumentada solicitudes: [WorkerRoleA](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/WorkerRoleA) y [WorkerRoleB](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/WorkerRoleB)</span><span class="sxs-lookup"><span data-stu-id="a49ae-219">See hello two sample worker roles instrumented tooreport requests: [WorkerRoleA](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/WorkerRoleA) and [WorkerRoleB](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/WorkerRoleB)</span></span>

## <a name="exceptions"></a><span data-ttu-id="a49ae-220">Excepciones</span><span class="sxs-lookup"><span data-stu-id="a49ae-220">Exceptions</span></span>
<span data-ttu-id="a49ae-221">Consulte [Supervisión de excepciones en Application Insights](app-insights-asp-net-exceptions.md) para obtener información acerca de cómo puede recopilar excepciones no controladas de tipos de aplicaciones web diferentes.</span><span class="sxs-lookup"><span data-stu-id="a49ae-221">See [Monitoring Exceptions in Application Insights](app-insights-asp-net-exceptions.md) for information on how you can collect unhandled exceptions from different web application types.</span></span>

<span data-ttu-id="a49ae-222">rol web de ejemplo de Hola tiene controladores MVC5 y API Web 2.</span><span class="sxs-lookup"><span data-stu-id="a49ae-222">hello sample web role has MVC5 and Web API 2 controllers.</span></span> <span data-ttu-id="a49ae-223">Hello se capturan las excepciones no controladas de hello dos con hello siguientes controladores:</span><span class="sxs-lookup"><span data-stu-id="a49ae-223">hello unhandled exceptions from hello two are captured with hello following handlers:</span></span>

* <span data-ttu-id="a49ae-224">Configure [AiHandleErrorAttribute](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Telemetry/AiHandleErrorAttribute.cs) [aquí](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/App_Start/FilterConfig.cs#L12) para los controladores MVC5</span><span class="sxs-lookup"><span data-stu-id="a49ae-224">[AiHandleErrorAttribute](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Telemetry/AiHandleErrorAttribute.cs) set up [here](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/App_Start/FilterConfig.cs#L12) for MVC5 controllers</span></span>
* <span data-ttu-id="a49ae-225">Configure [AiWebApiExceptionLogger](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Telemetry/AiWebApiExceptionLogger.cs) [aquí](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/App_Start/WebApiConfig.cs#L25) para los controladores Web API 2</span><span class="sxs-lookup"><span data-stu-id="a49ae-225">[AiWebApiExceptionLogger](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Telemetry/AiWebApiExceptionLogger.cs) set up [here](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/App_Start/WebApiConfig.cs#L25) for Web API 2 controllers</span></span>

<span data-ttu-id="a49ae-226">Para los roles de trabajo, hay dos maneras de excepciones de tootrack:</span><span class="sxs-lookup"><span data-stu-id="a49ae-226">For worker roles, there are two ways tootrack exceptions:</span></span>

* <span data-ttu-id="a49ae-227">TrackException(ex)</span><span class="sxs-lookup"><span data-stu-id="a49ae-227">TrackException(ex)</span></span>
* <span data-ttu-id="a49ae-228">Si ha agregado el paquete de NuGet de agente de escucha de seguimiento de hello Application Insights, puede usar **System.Diagnostics.Trace** toolog excepciones.</span><span class="sxs-lookup"><span data-stu-id="a49ae-228">If you have added hello Application Insights trace listener NuGet package, you can use **System.Diagnostics.Trace** toolog exceptions.</span></span> [<span data-ttu-id="a49ae-229">Ejemplo de código</span><span class="sxs-lookup"><span data-stu-id="a49ae-229">Code example.</span></span>](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L107)

## <a name="performance-counters"></a><span data-ttu-id="a49ae-230">Contadores de rendimiento</span><span class="sxs-lookup"><span data-stu-id="a49ae-230">Performance Counters</span></span>
<span data-ttu-id="a49ae-231">Hola siguiendo los contadores se recopila de forma predeterminada:</span><span class="sxs-lookup"><span data-stu-id="a49ae-231">hello following counters are collected by default:</span></span>

    * <span data-ttu-id="a49ae-232">\Process(??APP_WIN32_PROC??)\% Tiempo de procesador</span><span class="sxs-lookup"><span data-stu-id="a49ae-232">\Process(??APP_WIN32_PROC??)\% Processor Time</span></span>
    * <span data-ttu-id="a49ae-233">\Memoria\Bytes disponibles</span><span class="sxs-lookup"><span data-stu-id="a49ae-233">\Memory\Available Bytes</span></span>
    * <span data-ttu-id="a49ae-234">\.NET CLR Exceptions(??APP_CLR_PROC??)\# of Exceps Thrown / sec</span><span class="sxs-lookup"><span data-stu-id="a49ae-234">\.NET CLR Exceptions(??APP_CLR_PROC??)\# of Exceps Thrown / sec</span></span>
    * <span data-ttu-id="a49ae-235">\Process(??APP_WIN32_PROC??)\Private Bytes</span><span class="sxs-lookup"><span data-stu-id="a49ae-235">\Process(??APP_WIN32_PROC??)\Private Bytes</span></span>
    * <span data-ttu-id="a49ae-236">\Process(??APP_WIN32_PROC??)\IO Data Bytes/sec</span><span class="sxs-lookup"><span data-stu-id="a49ae-236">\Process(??APP_WIN32_PROC??)\IO Data Bytes/sec</span></span>
    * <span data-ttu-id="a49ae-237">\Processor(_Total)\% Processor Time</span><span class="sxs-lookup"><span data-stu-id="a49ae-237">\Processor(_Total)\% Processor Time</span></span>

<span data-ttu-id="a49ae-238">Además, también se recopilan los siguientes contadores para los roles web:</span><span class="sxs-lookup"><span data-stu-id="a49ae-238">For web roles, these counters are also collected:</span></span>

    * <span data-ttu-id="a49ae-239">\ASP.NET Applications(??APP_W3SVC_PROC??)\Requests/Sec</span><span class="sxs-lookup"><span data-stu-id="a49ae-239">\ASP.NET Applications(??APP_W3SVC_PROC??)\Requests/Sec</span></span>
    * <span data-ttu-id="a49ae-240">\ASP.NET Applications(??APP_W3SVC_PROC??)\Request Execution Time</span><span class="sxs-lookup"><span data-stu-id="a49ae-240">\ASP.NET Applications(??APP_W3SVC_PROC??)\Request Execution Time</span></span>
    * <span data-ttu-id="a49ae-241">\ASP.NET Applications(??APP_W3SVC_PROC??)\Requests In Application Queue</span><span class="sxs-lookup"><span data-stu-id="a49ae-241">\ASP.NET Applications(??APP_W3SVC_PROC??)\Requests In Application Queue</span></span>

<span data-ttu-id="a49ae-242">Puede especificar otros contadores de rendimiento de Windows o personalizados editando ApplicationInsights.config [como en este ejemplo](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/ApplicationInsights.config#L14).</span><span class="sxs-lookup"><span data-stu-id="a49ae-242">You can specify additional custom or other windows performance counters by editing ApplicationInsights.config [as in this example](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/ApplicationInsights.config#L14).</span></span>

  ![Contadores de rendimiento](./media/app-insights-cloudservices/OLfMo2f.png)

## <a name="correlated-telemetry-for-worker-roles"></a><span data-ttu-id="a49ae-244">Telemetría correlacionada para roles de trabajo</span><span class="sxs-lookup"><span data-stu-id="a49ae-244">Correlated Telemetry for Worker Roles</span></span>
<span data-ttu-id="a49ae-245">Resulta una rica experiencia de diagnóstico, puede ver qué led tooa error o una solicitud de una latencia elevada.</span><span class="sxs-lookup"><span data-stu-id="a49ae-245">It is a rich diagnostic experience, when you can see what led tooa failed or high latency request.</span></span> <span data-ttu-id="a49ae-246">Con roles web, Hola que SDK se configura automáticamente una correlación entre la telemetría relacionada.</span><span class="sxs-lookup"><span data-stu-id="a49ae-246">With web roles, hello SDK automatically sets up correlation between related telemetry.</span></span> <span data-ttu-id="a49ae-247">Para los roles de trabajo, puede usar un tooset de inicializador de telemetría personalizada un atributo de contexto Operation.Id común para todos los tooachieve de telemetría de hello esto.</span><span class="sxs-lookup"><span data-stu-id="a49ae-247">For worker roles, you can use a custom telemetry initializer tooset a common Operation.Id context attribute for all hello telemetry tooachieve this.</span></span> <span data-ttu-id="a49ae-248">Esto permite toosee si se produjo el problema de latencia o con errores de hello debido a dependencia tooa o su código, de un vistazo!</span><span class="sxs-lookup"><span data-stu-id="a49ae-248">This allows you toosee whether hello latency/failure issue was caused due tooa dependency or your code, at a glance!</span></span> 

<span data-ttu-id="a49ae-249">Este es el procedimiento:</span><span class="sxs-lookup"><span data-stu-id="a49ae-249">Here's how:</span></span>

* <span data-ttu-id="a49ae-250">Establece el identificador de la correlación de hello en un CallContext tal como se muestra [aquí](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L36).</span><span class="sxs-lookup"><span data-stu-id="a49ae-250">Set hello correlation Id into a CallContext as shown [here](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L36).</span></span> <span data-ttu-id="a49ae-251">En este caso, estamos usando Hola Id. de solicitud como Id. de correlación de Hola</span><span class="sxs-lookup"><span data-stu-id="a49ae-251">In this case, we are using hello Request ID as hello correlation id</span></span>
* <span data-ttu-id="a49ae-252">Agregar una implementación personalizada de TelemetryInitializer, tooset hello Operation.Id toohello correlationId establecido anteriormente.</span><span class="sxs-lookup"><span data-stu-id="a49ae-252">Add a custom TelemetryInitializer implementation, tooset hello Operation.Id toohello correlationId set above.</span></span> <span data-ttu-id="a49ae-253">Hay un ejemplo aquí: [ItemCorrelationTelemetryInitializer](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/Telemetry/ItemCorrelationTelemetryInitializer.cs#L13)</span><span class="sxs-lookup"><span data-stu-id="a49ae-253">There's an example here: [ItemCorrelationTelemetryInitializer](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/Telemetry/ItemCorrelationTelemetryInitializer.cs#L13)</span></span>
* <span data-ttu-id="a49ae-254">Agregar a inicializador de telemetría personalizada de Hola.</span><span class="sxs-lookup"><span data-stu-id="a49ae-254">Add hello custom telemetry initializer.</span></span> <span data-ttu-id="a49ae-255">Puede hacerlo en el archivo ApplicationInsights.config de Hola o en el código tal como se muestra [aquí](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L233)</span><span class="sxs-lookup"><span data-stu-id="a49ae-255">You could do that in hello ApplicationInsights.config file, or in code as shown [here](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L233)</span></span>

<span data-ttu-id="a49ae-256">Eso es todo.</span><span class="sxs-lookup"><span data-stu-id="a49ae-256">That's it!</span></span> <span data-ttu-id="a49ae-257">experiencia del portal Hola está ya dispuesta toohelp que vea telemetría todos los asociados de un vistazo:</span><span class="sxs-lookup"><span data-stu-id="a49ae-257">hello portal experience is already wired up toohelp you see all associated telemetry at a glance:</span></span>

![Telemetría correlacionada](./media/app-insights-cloudservices/bHxuUhd.png)

## <a name="client-telemetry"></a><span data-ttu-id="a49ae-259">Telemetría de cliente</span><span class="sxs-lookup"><span data-stu-id="a49ae-259">Client telemetry</span></span>
<span data-ttu-id="a49ae-260">[Agregar Hola páginas web de SDK de JavaScript tooyour] [ client] tooget basada en explorador telemetría como recuentos de vista de página, los tiempos de carga de página, las excepciones de la secuencia de comandos y toolet escribe telemetría personalizada en sus secuencias de comandos de la página.</span><span class="sxs-lookup"><span data-stu-id="a49ae-260">[Add hello JavaScript SDK tooyour web pages][client] tooget browser-based telemetry such as page view counts, page load times, script exceptions, and toolet you write custom telemetry in your page scripts.</span></span>

## <a name="availability-tests"></a><span data-ttu-id="a49ae-261">Pruebas de disponibilidad</span><span class="sxs-lookup"><span data-stu-id="a49ae-261">Availability tests</span></span>
<span data-ttu-id="a49ae-262">[Configurar las pruebas web] [ availability] toomake seguro de la aplicación permanece en vivo y capacidad de respuesta.</span><span class="sxs-lookup"><span data-stu-id="a49ae-262">[Set up web tests][availability] toomake sure your application stays live and responsive.</span></span>

## <a name="display-everything-together"></a><span data-ttu-id="a49ae-263">Mostrar todos los elementos juntos</span><span class="sxs-lookup"><span data-stu-id="a49ae-263">Display everything together</span></span>
<span data-ttu-id="a49ae-264">tooget una perspectiva general del sistema, puede hacer que las clave Hola gráficos de supervisión juntos en una [panel](app-insights-dashboards.md).</span><span class="sxs-lookup"><span data-stu-id="a49ae-264">tooget an overall picture of your system, you can bring hello key monitoring charts together on one [dashboard](app-insights-dashboards.md).</span></span> <span data-ttu-id="a49ae-265">Por ejemplo, puede anclar solicitud hello y recuentos de errores de cada rol.</span><span class="sxs-lookup"><span data-stu-id="a49ae-265">For example, you could pin hello request and failure counts of each role.</span></span> 

<span data-ttu-id="a49ae-266">Si el sistema usa otros servicios de Azure, como Stream Analytics, incluya también sus gráficos de supervisión.</span><span class="sxs-lookup"><span data-stu-id="a49ae-266">If your system uses other Azure services such as Stream Analytics, include their monitoring charts as well.</span></span> 

<span data-ttu-id="a49ae-267">Si tiene una aplicación móvil de cliente, insertar algunos eventos personalizados de toosend de código en las operaciones de clave de usuario y crear un [HockeyApp puente](app-insights-hockeyapp-bridge-app.md).</span><span class="sxs-lookup"><span data-stu-id="a49ae-267">If you have a client mobile app, insert some code toosend custom events on key user operations, and create a [HockeyApp bridge](app-insights-hockeyapp-bridge-app.md).</span></span> <span data-ttu-id="a49ae-268">Crear consultas en [análisis](app-insights-analytics.md) toodisplay Hola recuentos de eventos y anclarlos toohello panel.</span><span class="sxs-lookup"><span data-stu-id="a49ae-268">Create queries in [Analytics](app-insights-analytics.md) toodisplay hello event counts, and pin them toohello dashboard.</span></span>

## <a name="example"></a><span data-ttu-id="a49ae-269">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="a49ae-269">Example</span></span>
<span data-ttu-id="a49ae-270">[ejemplo de Hola](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService) supervisa un servicio que tiene un rol web y dos roles de trabajador.</span><span class="sxs-lookup"><span data-stu-id="a49ae-270">[hello example](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService) monitors a service that has a web role and two worker roles.</span></span>

## <a name="exception-method-not-found-on-running-in-azure-cloud-services"></a><span data-ttu-id="a49ae-271">Excepción "Método no encontrado" en la ejecución en Servicios en la nube de Azure</span><span class="sxs-lookup"><span data-stu-id="a49ae-271">Exception "method not found" on running in Azure Cloud Services</span></span>
<span data-ttu-id="a49ae-272">¿Ha realizado la compilación para .NET 4.6?</span><span class="sxs-lookup"><span data-stu-id="a49ae-272">Did you build for .NET 4.6?</span></span> <span data-ttu-id="a49ae-273">4.6 no se admite automáticamente en los roles de Servicios en la nube de Azure.</span><span class="sxs-lookup"><span data-stu-id="a49ae-273">4.6 is not automatically supported in Azure Cloud Services roles.</span></span> <span data-ttu-id="a49ae-274">[Instale 4.6 en cada rol](../cloud-services/cloud-services-dotnet-install-dotnet.md) antes de ejecutar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="a49ae-274">[Install 4.6 on each role](../cloud-services/cloud-services-dotnet-install-dotnet.md) before running your app.</span></span>

## <a name="video"></a><span data-ttu-id="a49ae-275">Vídeo</span><span class="sxs-lookup"><span data-stu-id="a49ae-275">Video</span></span>

> [!VIDEO https://channel9.msdn.com/events/Connect/2016/100/player]

## <a name="next-steps"></a><span data-ttu-id="a49ae-276">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="a49ae-276">Next steps</span></span>
* [<span data-ttu-id="a49ae-277">Configurar diagnósticos de Azure tooApplication visión de envío</span><span class="sxs-lookup"><span data-stu-id="a49ae-277">Configure sending Azure Diagnostics tooApplication Insights</span></span>](app-insights-azure-diagnostics.md)
* [<span data-ttu-id="a49ae-278">Automatizar la creación de recursos de Application Insights</span><span class="sxs-lookup"><span data-stu-id="a49ae-278">Automate creation of Application Insights resources</span></span>](app-insights-powershell.md)
* [<span data-ttu-id="a49ae-279">Automatizar los diagnósticos de Azure</span><span class="sxs-lookup"><span data-stu-id="a49ae-279">Automate Azure diagnostics</span></span>](app-insights-powershell-azure-diagnostics.md)
* [<span data-ttu-id="a49ae-280">Funciones de Azure</span><span class="sxs-lookup"><span data-stu-id="a49ae-280">Azure Functions</span></span>](https://github.com/christopheranderson/azure-functions-app-insights-sample)

[api]: app-insights-api-custom-events-metrics.md
[availability]: app-insights-monitor-web-app-availability.md
[azure]: app-insights-azure.md
[client]: app-insights-javascript.md
[diagnostic]: app-insights-diagnostic-search.md
[netlogs]: app-insights-asp-net-trace-logs.md
[portal]: http://portal.azure.com/
[qna]: app-insights-troubleshoot-faq.md
[redfield]: app-insights-monitor-performance-live-website-now.md
[start]: app-insights-overview.md 
