---
title: "Telemetría de Application Insights en CodeLens de Visual Studio | Microsoft Docs"
description: "Acceda rápidamente a la telemetría de sus solicitudes y excepciones de Application Insights con CodeLens en Visual Studio."
services: application-insights
documentationcenter: .net
author: numberbycolors
manager: carmonm
ms.assetid: 93559e44-23cb-4b9d-8425-60f7f0d0a82c
ms.service: application-insights
ms.workload: tbd
ms.tgt_pltfrm: ibiza
ms.devlang: na
ms.topic: article
ms.date: 03/17/2017
ms.author: bwren
ms.openlocfilehash: 20933afab55043ccc5ce908c04c6e4a7a28e3538
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/18/2017
---
# <a name="application-insights-telemetry-in-visual-studio-codelens"></a><span data-ttu-id="c93ae-103">Telemetría de Application Insights en CodeLens de Visual Studio</span><span class="sxs-lookup"><span data-stu-id="c93ae-103">Application Insights telemetry in Visual Studio CodeLens</span></span>
<span data-ttu-id="c93ae-104">Los métodos del código de la aplicación web se pueden anotar con telemetría acerca de las excepciones en tiempo de ejecución y los tiempos de respuesta de las solicitudes.</span><span class="sxs-lookup"><span data-stu-id="c93ae-104">Methods in the code of your web app can be annotated with telemetry about run-time exceptions and request response times.</span></span> <span data-ttu-id="c93ae-105">Si instala [Azure Application Insights](app-insights-overview.md) en la aplicación, la telemetría aparece en [CodeLens](https://msdn.microsoft.com/library/dn269218.aspx) de Visual Studio (las notas de la parte superior de cada función en las que suele ver información útil, como el número de lugares en que se hace referencia a la función o la última persona que la editó).</span><span class="sxs-lookup"><span data-stu-id="c93ae-105">If you install [Azure Application Insights](app-insights-overview.md) in your application, the telemetry appears in Visual Studio [CodeLens](https://msdn.microsoft.com/library/dn269218.aspx) - the notes at the top of each function where you're used to seeing useful information such as the number of places the function is referenced or the last person who edited it.</span></span>

![CodeLens](./media/app-insights-visual-studio-codelens/codelens-overview.png)

> [!NOTE]
> <span data-ttu-id="c93ae-107">Application Insights en CodeLens está disponible en Visual Studio 2015 actualización 3, y posteriores, o bien con la última versión de la [extensión de Developer Analytics Tools](https://visualstudiogallery.msdn.microsoft.com/82367b81-3f97-4de1-bbf1-eaf52ddc635a).</span><span class="sxs-lookup"><span data-stu-id="c93ae-107">Application Insights in CodeLens is available in Visual Studio 2015 Update 3 and later, or with the latest version of [Developer Analytics Tools extension](https://visualstudiogallery.msdn.microsoft.com/82367b81-3f97-4de1-bbf1-eaf52ddc635a).</span></span> <span data-ttu-id="c93ae-108">CodeLens está disponible en las ediciones Enterprise y Professional de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="c93ae-108">CodeLens is available in the Enterprise and Professional editions of Visual Studio.</span></span>
> 
> 

## <a name="where-to-find-application-insights-data"></a><span data-ttu-id="c93ae-109">Dónde encontrar datos de Application Insights</span><span class="sxs-lookup"><span data-stu-id="c93ae-109">Where to find Application Insights data</span></span>
<span data-ttu-id="c93ae-110">Busque los datos de telemetría de Application Insights en los indicadores de CodeLens de los métodos de solicitud públicos de la aplicación web.</span><span class="sxs-lookup"><span data-stu-id="c93ae-110">Look for Application Insights telemetry in the CodeLens indicators of the public request methods of your web application.</span></span> <span data-ttu-id="c93ae-111">Los indicadores de CodeLens se muestran encima del método y de otras declaraciones en el código de C# y Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="c93ae-111">CodeLens indicators are shown above method and other declarations in C# and Visual Basic code.</span></span> <span data-ttu-id="c93ae-112">Si hay datos de Application Insights disponibles para un método, verá indicadores de solicitudes y excepciones como "100 solicitudes, 1 % con error" o "10 excepciones".</span><span class="sxs-lookup"><span data-stu-id="c93ae-112">If Application Insights data is available for a method, you'll see indicators for requests and exceptions such as "100 requests, 1% failed" or "10 exceptions."</span></span> <span data-ttu-id="c93ae-113">Para más detalles, haga clic en un indicador de CodeLens.</span><span class="sxs-lookup"><span data-stu-id="c93ae-113">Click a CodeLens indicator for more details.</span></span> 

> [!TIP]
> <span data-ttu-id="c93ae-114">Los indicadores de solicitudes y excepciones de Application Insights pueden tardar unos segundos más en cargarse después de que aparezcan otros indicadores de CodeLens.</span><span class="sxs-lookup"><span data-stu-id="c93ae-114">Application Insights request and exception indicators may take a few extra seconds to load after other CodeLens indicators appear.</span></span>
> 
> 

## <a name="exceptions-in-codelens"></a><span data-ttu-id="c93ae-115">Excepciones en CodeLens</span><span class="sxs-lookup"><span data-stu-id="c93ae-115">Exceptions in CodeLens</span></span>
![TBD](./media/app-insights-visual-studio-codelens/codelens-exceptions.png)

<span data-ttu-id="c93ae-117">El indicador de excepción de CodeLens muestra el número de excepciones que se han producido en las últimas 24 horas de las 15 excepciones que se producen con más frecuencia en la aplicación durante dicho período, al procesar la solicitud atendida por el método.</span><span class="sxs-lookup"><span data-stu-id="c93ae-117">The exception CodeLens indicator shows the number of exceptions that have occurred in the past 24 hours from the 15 most frequently occurring exceptions in your application during that period, while processing the request served by the method.</span></span>

<span data-ttu-id="c93ae-118">Para más detalles, haga clic en el indicador de excepciones de CodeLens:</span><span class="sxs-lookup"><span data-stu-id="c93ae-118">To see more details, click the exceptions CodeLens indicator:</span></span>

* <span data-ttu-id="c93ae-119">El cambio de porcentaje en el número de excepciones en las últimas 24 horas, con respecto a las 24 horas anteriores</span><span class="sxs-lookup"><span data-stu-id="c93ae-119">The percentage change in number of exceptions from the most recent 24 hours relative to the prior 24 hours</span></span>
* <span data-ttu-id="c93ae-120">Elija **Ir al código** para navegar el código fuente de la función que genera la excepción.</span><span class="sxs-lookup"><span data-stu-id="c93ae-120">Choose **Go to code** to navigate to the source code for the function throwing the exception</span></span>
* <span data-ttu-id="c93ae-121">Elija **Buscar** para consultar todas las instancias de esta excepción que se han producido en las últimas 24 horas.</span><span class="sxs-lookup"><span data-stu-id="c93ae-121">Choose **Search** to query all instances of this exception that have occurred in the past 24 hours</span></span>
* <span data-ttu-id="c93ae-122">Elija **Tendencia** para ver la tendencia de las repeticiones de esta excepción en las últimas 24 horas.</span><span class="sxs-lookup"><span data-stu-id="c93ae-122">Choose **Trend** to view a trend visualization for occurrences of this exception in the past 24 hours</span></span>
* <span data-ttu-id="c93ae-123">Elija **Ver todas las excepciones en esta aplicación** para consultar todas las excepciones que se han producido en las últimas 24 horas.</span><span class="sxs-lookup"><span data-stu-id="c93ae-123">Choose **View all exceptions in this app** to query all exceptions that have occurred in the past 24 hours</span></span>
* <span data-ttu-id="c93ae-124">Elija **Explorar tendencias de excepción** para ver la tendencia de todas las excepciones que se han producido en las últimas 24 horas.</span><span class="sxs-lookup"><span data-stu-id="c93ae-124">Choose **Explore exception trends** to view a trend visualization for all exceptions that have occurred in the past 24 hours.</span></span> 

> [!TIP]
> <span data-ttu-id="c93ae-125">Si ve "0 excepciones" en CodeLens, pero sabe que debería haber excepciones, asegúrese de que está seleccionado el recurso de Application Insights correcto en CodeLens.</span><span class="sxs-lookup"><span data-stu-id="c93ae-125">If you see "0 exceptions" in CodeLens but you know there should be exceptions, check to make sure the right Application Insights resource is selected in CodeLens.</span></span> <span data-ttu-id="c93ae-126">Para seleccionar otro recurso, haga clic con el botón derecho en el proyecto en el Explorador de soluciones y elija **Application Insights > Elegir origen de telemetría**.</span><span class="sxs-lookup"><span data-stu-id="c93ae-126">To select another resource, right-click on your project in the Solution Explorer and choose **Application Insights > Choose Telemetry Source**.</span></span> <span data-ttu-id="c93ae-127">CodeLens solo se muestra para las 15 excepciones que se producen con mayor frecuencia en la aplicación en las últimas 24 horas, por lo que si una excepción está en el lugar 16º, o más allá, "0 excepciones".</span><span class="sxs-lookup"><span data-stu-id="c93ae-127">CodeLens is only shown for the 15 most frequently occurring exceptions in your application in the past 24 hours, so if an exception is the 16th most frequently or less, you'll see "0 exceptions."</span></span> <span data-ttu-id="c93ae-128">Las excepciones de las vistas de ASP.NET puede que no aparezcan en los métodos de controlador que generaron dichas vistas.</span><span class="sxs-lookup"><span data-stu-id="c93ae-128">Exceptions from ASP.NET views may not appear on the controller methods that generated those views.</span></span>
> 
> [!TIP]
> <span data-ttu-id="c93ae-129">Si ve "?</span><span class="sxs-lookup"><span data-stu-id="c93ae-129">If you see "?</span></span> <span data-ttu-id="c93ae-130">excepciones"en CodeLens, se deberá a que es preciso que asocie su cuenta de Azure con Visual Studio o puede que haya caducado la credencial de su cuenta de Azure.</span><span class="sxs-lookup"><span data-stu-id="c93ae-130">exceptions" in CodeLens, you need to associate your Azure account with Visual Studio or your Azure account credential may have expired.</span></span> <span data-ttu-id="c93ae-131">En ambos casos, haga clic en "?</span><span class="sxs-lookup"><span data-stu-id="c93ae-131">In either case, click "?</span></span> <span data-ttu-id="c93ae-132">excepciones" y elija **Agregar una cuenta...** para escribir sus credenciales.</span><span class="sxs-lookup"><span data-stu-id="c93ae-132">exceptions" and choose **Add an account...** to enter your credentials.</span></span>
> 
> 

## <a name="requests-in-codelens"></a><span data-ttu-id="c93ae-133">Solicitudes en CodeLens</span><span class="sxs-lookup"><span data-stu-id="c93ae-133">Requests in CodeLens</span></span>
![TBD](./media/app-insights-visual-studio-codelens/codelens-requests.png)

<span data-ttu-id="c93ae-135">El indicador de solicitud de CodeLens muestra el número de solicitudes HTTP que sido atendidas por un método en las últimas 24 horas, además del porcentaje de dichas solicitudes en las que han producido errores.</span><span class="sxs-lookup"><span data-stu-id="c93ae-135">The request CodeLens indicator shows the number of HTTP requests that been serviced by a method in the past 24 hours, plus the percentage of those requests that failed.</span></span>

<span data-ttu-id="c93ae-136">Para más detalles, haga clic en el indicador de solicitudes de CodeLens:</span><span class="sxs-lookup"><span data-stu-id="c93ae-136">To see more details, click the requests CodeLens indicator:</span></span>

* <span data-ttu-id="c93ae-137">Los cambios, tanto a nivel absoluta como porcentual, en el número de solicitudes, solicitudes con error y tiempos de respuesta medios durante las últimas 24 horas, en comparación con las 24 horas anteriores.</span><span class="sxs-lookup"><span data-stu-id="c93ae-137">The absolute and percentage changes in number of requests, failed requests, and average response times over the past 24 hours compared to the prior 24 hours</span></span>
* <span data-ttu-id="c93ae-138">La confiabilidad del método, calculada como el porcentaje de solicitudes en que no se produjeron errores en las últimas 24 horas.</span><span class="sxs-lookup"><span data-stu-id="c93ae-138">The reliability of the method, calculated as the percentage of requests that did not fail in the past 24 hours</span></span>
* <span data-ttu-id="c93ae-139">Elija **Buscar** para las solicitudes o las solicitudes con error para consultar todas las solicitudes (con error) que se produjeron en las últimas 24 horas.</span><span class="sxs-lookup"><span data-stu-id="c93ae-139">Choose **Search** for requests or failed requests to query all the (failed) requests that occurred in the past 24 hours</span></span>
* <span data-ttu-id="c93ae-140">Elija **Tendencia** para ver la tendencia para las solicitudes, las solicitudes con errores o los tiempos de respuesta medios en las últimas 24 horas.</span><span class="sxs-lookup"><span data-stu-id="c93ae-140">Choose **Trend** to view a trend visualization for requests, failed requests, or average response times in the past 24 hours.</span></span>
* <span data-ttu-id="c93ae-141">Elija el nombre del recurso de Application Insights en la esquina superior izquierda de la vista de detalles de CodeLens para cambiar el recurso que es el origen de los datos de CodeLens.</span><span class="sxs-lookup"><span data-stu-id="c93ae-141">Choose the name of the Application Insights resource in the upper left corner of the CodeLens details view to change which resource is the source for CodeLens data.</span></span>

## <span data-ttu-id="c93ae-142"><a name="next"></a>Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="c93ae-142"><a name="next"></a>Next steps</span></span>
|  |  |
| --- | --- |
| <span data-ttu-id="c93ae-143">**[Trabajo con Application Insights en Visual Studio](app-insights-visual-studio.md)**</span><span class="sxs-lookup"><span data-stu-id="c93ae-143">**[Working with Application Insights in Visual Studio](app-insights-visual-studio.md)**</span></span><br/><span data-ttu-id="c93ae-144">Busque la telemetría, consulte los datos de CodeLens y configure Application Insights.</span><span class="sxs-lookup"><span data-stu-id="c93ae-144">Search telemetry, see data in CodeLens, and configure Application Insights.</span></span> <span data-ttu-id="c93ae-145">Todos desde Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="c93ae-145">All within Visual Studio.</span></span> |![Haga clic con el botón derecho en el proyecto y seleccione Application Insights, Búsqueda.](./media/app-insights-visual-studio-codelens/34.png) |
| <span data-ttu-id="c93ae-147">**[Incorporación de datos adicionales](app-insights-asp-net-more.md)**</span><span class="sxs-lookup"><span data-stu-id="c93ae-147">**[Add more data](app-insights-asp-net-more.md)**</span></span><br/><span data-ttu-id="c93ae-148">Supervise el uso, la disponibilidad, las dependencias y las excepciones.</span><span class="sxs-lookup"><span data-stu-id="c93ae-148">Monitor usage, availability, dependencies, exceptions.</span></span> <span data-ttu-id="c93ae-149">Integrar seguimientos de marcos de registro.</span><span class="sxs-lookup"><span data-stu-id="c93ae-149">Integrate traces from logging frameworks.</span></span> <span data-ttu-id="c93ae-150">Escribir telemetría personalizada.</span><span class="sxs-lookup"><span data-stu-id="c93ae-150">Write custom telemetry.</span></span> |![Visual Studio](./media/app-insights-visual-studio-codelens/64.png) |
| <span data-ttu-id="c93ae-152">**[Trabajo con el portal de Application Insights](app-insights-dashboards.md)**</span><span class="sxs-lookup"><span data-stu-id="c93ae-152">**[Working with the Application Insights portal](app-insights-dashboards.md)**</span></span><br/><span data-ttu-id="c93ae-153">Paneles, eficaces herramientas de diagnóstico y análisis, alertas, un mapa activo de dependencias de la aplicación y exportación de la telemetría.</span><span class="sxs-lookup"><span data-stu-id="c93ae-153">Dashboards, powerful diagnostic and analytic tools, alerts, a live dependency map of your application, and telemetry export.</span></span> |![Visual Studio](./media/app-insights-visual-studio-codelens/62.png) |

