---
title: "información general del equilibrador de carga de aaaAzure | Documentos de Microsoft"
description: "Información general sobre las características, la arquitectura y la implementación del Equilibrador de carga de Azure Obtenga información acerca de cómo funciona el equilibrador de carga de Hola y aprovechar en nube Hola."
services: load-balancer
documentationcenter: na
author: kumudd
manager: timlt
editor: 
ms.assetid: 0f313dc0-f007-4cee-b2b9-f542357925a3
ms.service: load-balancer
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 10/24/2016
ms.author: kumud
ms.openlocfilehash: 2376a02f7cbbbed6a90f216419c0c3d30f594272
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="azure-load-balancer-overview"></a><span data-ttu-id="4141f-104">Información general sobre el Equilibrador de carga de Azure</span><span class="sxs-lookup"><span data-stu-id="4141f-104">Azure Load Balancer overview</span></span>

<span data-ttu-id="4141f-105">Equilibrador de carga de Azure ofrece alta disponibilidad y rendimiento de red tooyour aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="4141f-105">Azure Load Balancer delivers high availability and network performance tooyour applications.</span></span> <span data-ttu-id="4141f-106">Se trata de un equilibrador de carga de nivel 4 (TCP y UDP) que distribuye el tráfico entrante entre las instancias de servicio correctas de los servicios que se definen en un conjunto de carga equilibrada.</span><span class="sxs-lookup"><span data-stu-id="4141f-106">It is a Layer 4 (TCP, UDP) load balancer that distributes incoming traffic among healthy instances of services defined in a load-balanced set.</span></span>

<span data-ttu-id="4141f-107">Azure Load Balancer puede configurarse para lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="4141f-107">Azure Load Balancer can be configured to:</span></span>

* <span data-ttu-id="4141f-108">La carga de máquinas de toovirtual de Internet entrantes de equilibrar el tráfico.</span><span class="sxs-lookup"><span data-stu-id="4141f-108">Load balance incoming Internet traffic toovirtual machines.</span></span> <span data-ttu-id="4141f-109">Esta configuración se conoce como " [equilibrio de carga con conexión a Internet](load-balancer-internet-overview.md)".</span><span class="sxs-lookup"><span data-stu-id="4141f-109">This configuration is known as [Internet-facing load balancing](load-balancer-internet-overview.md).</span></span>
* <span data-ttu-id="4141f-110">Equilibrar la carga del tráfico entre máquinas virtuales de una red virtual, entre máquinas virtuales de servicios en la nube o entre equipos locales y máquinas virtuales de una red virtual entre entornos locales.</span><span class="sxs-lookup"><span data-stu-id="4141f-110">Load balance traffic between virtual machines in a virtual network, between virtual machines in cloud services, or between on-premises computers and virtual machines in a cross-premises virtual network.</span></span> <span data-ttu-id="4141f-111">Esta configuración se conoce como " [equilibrio de carga interno](load-balancer-internal-overview.md)".</span><span class="sxs-lookup"><span data-stu-id="4141f-111">This configuration is known as [internal load balancing](load-balancer-internal-overview.md).</span></span>
* <span data-ttu-id="4141f-112">Máquina virtual específica a reenvíe el tráfico externo tooa.</span><span class="sxs-lookup"><span data-stu-id="4141f-112">Forward external traffic tooa specific virtual machine.</span></span>

<span data-ttu-id="4141f-113">Todos los recursos de nube de hello necesitan una toobe de dirección IP pública accesible desde Internet Hola.</span><span class="sxs-lookup"><span data-stu-id="4141f-113">All resources in hello cloud need a public IP address toobe reachable from hello Internet.</span></span> <span data-ttu-id="4141f-114">infraestructura de nube de Hello en Azure usa direcciones IP no enrutables para sus recursos.</span><span class="sxs-lookup"><span data-stu-id="4141f-114">hello cloud infrastructure in Azure uses non-routable IP addresses for its resources.</span></span> <span data-ttu-id="4141f-115">Azure utiliza traducción de direcciones de red (NAT) con toohello de toocommunicate de direcciones IP pública Internet.</span><span class="sxs-lookup"><span data-stu-id="4141f-115">Azure uses network address translation (NAT) with public IP addresses toocommunicate toohello Internet.</span></span>

## <a name="azure-deployment-models"></a><span data-ttu-id="4141f-116">Modelos de implementación de Azure</span><span class="sxs-lookup"><span data-stu-id="4141f-116">Azure deployment models</span></span>

<span data-ttu-id="4141f-117">Es importante toounderstand diferencias de hello entre hello Azure clásico y Administrador de recursos [modelos de implementación](../azure-resource-manager/resource-manager-deployment-model.md).</span><span class="sxs-lookup"><span data-stu-id="4141f-117">It's important toounderstand hello differences between hello Azure classic and Resource Manager [deployment models](../azure-resource-manager/resource-manager-deployment-model.md).</span></span> <span data-ttu-id="4141f-118">ya que Azure Load Balancer se configura de forma diferente en cada uno de ellos.</span><span class="sxs-lookup"><span data-stu-id="4141f-118">Azure Load Balancer is configured differently in each model.</span></span>

### <a name="azure-classic-deployment-model"></a><span data-ttu-id="4141f-119">modelo de implementación clásica de Azure</span><span class="sxs-lookup"><span data-stu-id="4141f-119">Azure classic deployment model</span></span>

<span data-ttu-id="4141f-120">Máquinas virtuales implementadas dentro de un límite de servicio de nube puede ser agrupado toouse un equilibrador de carga.</span><span class="sxs-lookup"><span data-stu-id="4141f-120">Virtual machines deployed within a cloud service boundary can be grouped toouse a load balancer.</span></span> <span data-ttu-id="4141f-121">En este modelo una dirección IP pública y un nombre de dominio completo, (FQDN) se asignan tooa servicio en la nube.</span><span class="sxs-lookup"><span data-stu-id="4141f-121">In this model a public IP address and a Fully Qualified Domain Name, (FQDN) are assigned tooa cloud service.</span></span> <span data-ttu-id="4141f-122">equilibrador de carga de Hello puerto traducción y equilibra la carga de tráfico de red de hello mediante el uso de la dirección IP pública Hola Hola servicio de nube.</span><span class="sxs-lookup"><span data-stu-id="4141f-122">hello load balancer does port translation and load balances hello network traffic by using hello public IP address for hello cloud service.</span></span>

<span data-ttu-id="4141f-123">El tráfico de carga equilibrada lo definen los puntos de conexión.</span><span class="sxs-lookup"><span data-stu-id="4141f-123">Load-balanced traffic is defined by endpoints.</span></span> <span data-ttu-id="4141f-124">Los extremos de traducción de puerto tienen una relación uno a uno entre el puerto asignado por el público Hola de dirección IP pública de Hola y puerto local de hello asignado toohello servicio en una máquina virtual específica.</span><span class="sxs-lookup"><span data-stu-id="4141f-124">Port translation endpoints have a one-to-one relationship between hello public-assigned port of hello public IP address and hello local port assigned toohello service on a specific virtual machine.</span></span> <span data-ttu-id="4141f-125">Extremos de equilibrio de carga tienen una relación de uno a varios entre la dirección IP pública Hola y Hola local puertos asignados toohello servicios en máquinas virtuales de Hola Hola del servicio en nube.</span><span class="sxs-lookup"><span data-stu-id="4141f-125">Load balancing endpoints have a one-to-many relationship between hello public IP address and hello local ports assigned toohello services on hello virtual machines in hello cloud service.</span></span>

![Equilibrador de carga de Azure en el modelo de implementación clásica de Hola](./media/load-balancer-overview/asm-lb.png)

<span data-ttu-id="4141f-127">Figura 1 - Azure equilibrador de carga en el modelo de implementación clásica de Hola</span><span class="sxs-lookup"><span data-stu-id="4141f-127">Figure 1 - Azure Load Balancer in hello classic deployment model</span></span>

<span data-ttu-id="4141f-128">etiqueta de dominio de Hello para la dirección IP pública Hola Hola usos de equilibrador de carga para este modelo de implementación es \<nombre de servicio de nube\>. cloudapp.net.</span><span class="sxs-lookup"><span data-stu-id="4141f-128">hello domain label for hello public IP address that hello load balancer uses for this deployment model is \<cloud service name\>.cloudapp.net.</span></span> <span data-ttu-id="4141f-129">Hello gráfico siguiente muestra hello equilibrador de carga de Azure en este modelo.</span><span class="sxs-lookup"><span data-stu-id="4141f-129">hello following graphic shows hello Azure Load Balancer in this model.</span></span>

### <a name="azure-resource-manager-deployment-model"></a><span data-ttu-id="4141f-130">modelo de implementación de Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="4141f-130">Azure Resource Manager deployment model</span></span>

<span data-ttu-id="4141f-131">En el modelo de implementación del Administrador de recursos de hello no hay ninguna necesidad de toocreate un servicio de nube.</span><span class="sxs-lookup"><span data-stu-id="4141f-131">In hello Resource Manager deployment model there is no need toocreate a Cloud service.</span></span> <span data-ttu-id="4141f-132">equilibrador de carga de Hola se crea tooexplicitly enrutar el tráfico entre varias máquinas virtuales.</span><span class="sxs-lookup"><span data-stu-id="4141f-132">hello load balancer is created tooexplicitly route traffic among multiple virtual machines.</span></span>

<span data-ttu-id="4141f-133">Una dirección IP pública es un recurso individual que tiene una etiqueta de dominio (nombre DNS).</span><span class="sxs-lookup"><span data-stu-id="4141f-133">A public IP address is an individual resource that has a domain label (DNS name).</span></span> <span data-ttu-id="4141f-134">la dirección IP pública Hola está asociada con el recurso de equilibrador de carga de Hola.</span><span class="sxs-lookup"><span data-stu-id="4141f-134">hello public IP address is associated with hello load balancer resource.</span></span> <span data-ttu-id="4141f-135">Reglas del equilibrador de carga y reglas NAT de entrada utilizan la dirección IP pública hello como Hola de punto de conexión de Internet para los recursos de Hola que reciben tráfico con equilibrio de carga de red.</span><span class="sxs-lookup"><span data-stu-id="4141f-135">Load balancer rules and inbound NAT rules use hello public IP address as hello Internet endpoint for hello resources that are receiving load-balanced network traffic.</span></span>

<span data-ttu-id="4141f-136">Se asigna a una dirección IP pública o privada toohello red interfaz recurso adjuntado tooa virtual machine.</span><span class="sxs-lookup"><span data-stu-id="4141f-136">A private or public IP address is assigned toohello network interface resource attached tooa virtual machine.</span></span> <span data-ttu-id="4141f-137">Una vez que una interfaz de red se agrega el grupo de direcciones IP de back-end del equilibrador de carga de tooa, equilibrador de carga de hello es toosend capaz de equilibrio de carga red tráfico basado en reglas Hola con equilibrio de carga que se crean.</span><span class="sxs-lookup"><span data-stu-id="4141f-137">Once a network interface is added tooa load balancer's back-end IP address pool, hello load balancer is able toosend load-balanced network traffic based on hello load-balanced rules that are created.</span></span>

<span data-ttu-id="4141f-138">Hello gráfico siguiente muestra hello equilibrador de carga de Azure en este modelo:</span><span class="sxs-lookup"><span data-stu-id="4141f-138">hello following graphic shows hello Azure Load Balancer in this model:</span></span>

![Azure Load Balancer en Resource Manager](./media/load-balancer-overview/arm-lb.png)

<span data-ttu-id="4141f-140">Ilustración 2: Azure Load Balancer en Resource Manager</span><span class="sxs-lookup"><span data-stu-id="4141f-140">Figure 2 - Azure Load Balancer in Resource Manager</span></span>

<span data-ttu-id="4141f-141">equilibrador de carga de Hello puede administrarse a través de plantillas se basan en el Administrador de recursos, API y herramientas.</span><span class="sxs-lookup"><span data-stu-id="4141f-141">hello load balancer can be managed through Resource Manager-based templates, APIs, and tools.</span></span> <span data-ttu-id="4141f-142">toolearn más acerca de administrador de recursos, vea hello [Introducción al administrador de recursos](../azure-resource-manager/resource-group-overview.md).</span><span class="sxs-lookup"><span data-stu-id="4141f-142">toolearn more about Resource Manager, see hello [Resource Manager overview](../azure-resource-manager/resource-group-overview.md).</span></span>

## <a name="load-balancer-features"></a><span data-ttu-id="4141f-143">Características del equilibrador de carga</span><span class="sxs-lookup"><span data-stu-id="4141f-143">Load Balancer features</span></span>

* <span data-ttu-id="4141f-144">Distribución basada en hash</span><span class="sxs-lookup"><span data-stu-id="4141f-144">Hash-based distribution</span></span>

    <span data-ttu-id="4141f-145">El Equilibrador de carga de Azure usa un algoritmo de distribución basado en hash.</span><span class="sxs-lookup"><span data-stu-id="4141f-145">Azure Load Balancer uses a hash-based distribution algorithm.</span></span> <span data-ttu-id="4141f-146">De forma predeterminada, usa un hash de tupla de 5 formado por dirección IP de origen, puerto de origen, dirección IP de destino, puerto de destino y servidores de protocolo tipo toomap tráfico tooavailable.</span><span class="sxs-lookup"><span data-stu-id="4141f-146">By default, it uses a 5-tuple hash composed of source IP, source port, destination IP, destination port, and protocol type toomap traffic tooavailable servers.</span></span> <span data-ttu-id="4141f-147">Dicho algoritmo solo proporciona adherencia *dentro* de una sesión de transporte.</span><span class="sxs-lookup"><span data-stu-id="4141f-147">It provides stickiness only *within* a transport session.</span></span> <span data-ttu-id="4141f-148">Los paquetes de saludo será la misma sesión TCP o UDP dirigen toohello mismo instancia detrás de extremo con equilibrio de carga de Hola.</span><span class="sxs-lookup"><span data-stu-id="4141f-148">Packets in hello same TCP or UDP session will be directed toohello same instance behind hello load-balanced endpoint.</span></span> <span data-ttu-id="4141f-149">Cuando el cliente de Hola se cierra y vuelve a abrir la conexión de Hola o inicia una nueva sesión de Hola misma IP de origen, los cambios del puerto origen Hola.</span><span class="sxs-lookup"><span data-stu-id="4141f-149">When hello client closes and reopens hello connection or starts a new session from hello same source IP, hello source port changes.</span></span> <span data-ttu-id="4141f-150">Esto puede provocar Hola tráfico toogo tooa puntos de conexión diferentes en un centro de datos diferente.</span><span class="sxs-lookup"><span data-stu-id="4141f-150">This may cause hello traffic toogo tooa different endpoint in a different datacenter.</span></span>

    <span data-ttu-id="4141f-151">Para obtener más detalles, consulte [Modo de distribución del equilibrador de carga (afinidad de IP de origen)](load-balancer-distribution-mode.md).</span><span class="sxs-lookup"><span data-stu-id="4141f-151">For more details, see [Load balancer distribution mode](load-balancer-distribution-mode.md).</span></span> <span data-ttu-id="4141f-152">Hello gráfico siguiente muestra hello basado en hash distribución:</span><span class="sxs-lookup"><span data-stu-id="4141f-152">hello following graphic shows hello hash-based distribution:</span></span>

    ![Distribución basada en hash](./media/load-balancer-overview/load-balancer-distribution.png)

    <span data-ttu-id="4141f-154">Ilustración 3: Distribución basada en Hash</span><span class="sxs-lookup"><span data-stu-id="4141f-154">Figure 3 - Hash based distribution</span></span>

* <span data-ttu-id="4141f-155">Enrutamiento de puerto</span><span class="sxs-lookup"><span data-stu-id="4141f-155">Port forwarding</span></span>

    <span data-ttu-id="4141f-156">El Equilibrador de carga de Azure le permite controlar cómo se administra la comunicación entrante.</span><span class="sxs-lookup"><span data-stu-id="4141f-156">Azure Load Balancer gives you control over how inbound communication is managed.</span></span> <span data-ttu-id="4141f-157">Estas comunicación incluye tráfico iniciado desde hosts de Internet o máquinas virtuales de otros servicios en la nube o redes virtuales.</span><span class="sxs-lookup"><span data-stu-id="4141f-157">This communication includes traffic initiated from Internet hosts, virtual machines in other cloud services, or virtual networks.</span></span> <span data-ttu-id="4141f-158">Este control se representa mediante un punto de conexión (también conocido como punto de conexión de entrada).</span><span class="sxs-lookup"><span data-stu-id="4141f-158">This control is represented by an endpoint (also called an input endpoint).</span></span>

    <span data-ttu-id="4141f-159">Un extremo de entrada escucha en un puerto público y reenvía el tráfico de puerto interno tooan.</span><span class="sxs-lookup"><span data-stu-id="4141f-159">An input endpoint listens on a public port and forwards traffic tooan internal port.</span></span> <span data-ttu-id="4141f-160">Solo se puede asignar Hola mismo puertos para un extremo interno o externo o utilizar un puerto diferente para ellos.</span><span class="sxs-lookup"><span data-stu-id="4141f-160">You can map hello same ports for an internal or external endpoint or use a different port for them.</span></span> <span data-ttu-id="4141f-161">Por ejemplo, puede tener un tooport de toolisten de servidor configurado web 81 mientras asignación de punto de conexión público de hello es el puerto 80.</span><span class="sxs-lookup"><span data-stu-id="4141f-161">For example, you can have a web server configured toolisten tooport 81 while hello public endpoint mapping is port 80.</span></span> <span data-ttu-id="4141f-162">creación de Hello de un extremo público desencadena la creación de hello de una instancia de equilibrador de carga.</span><span class="sxs-lookup"><span data-stu-id="4141f-162">hello creation of a public endpoint triggers hello creation of a load balancer instance.</span></span>

    <span data-ttu-id="4141f-163">Cuando creadas con hello portal de Azure, portal de hello crea automáticamente los puntos de conexión toohello virtual machine para hello protocolo de escritorio remoto (RDP) y tráfico de la sesión de Windows PowerShell remoto.</span><span class="sxs-lookup"><span data-stu-id="4141f-163">When created using hello Azure portal, hello portal automatically creates endpoints toohello virtual machine for hello Remote Desktop Protocol (RDP) and remote Windows PowerShell session traffic.</span></span> <span data-ttu-id="4141f-164">Puede utilizar estos extremos tooremotely administrar máquinas virtuales de Hola a través de Internet de Hola.</span><span class="sxs-lookup"><span data-stu-id="4141f-164">You can use these endpoints tooremotely administer hello virtual machine over hello Internet.</span></span>

* <span data-ttu-id="4141f-165">Reconfiguración automática</span><span class="sxs-lookup"><span data-stu-id="4141f-165">Automatic reconfiguration</span></span>

    <span data-ttu-id="4141f-166">El Equilibrador de carga de Azure se reconfigura inmediatamente al escalar instancias horizontalmente o reducirlas verticalmente.</span><span class="sxs-lookup"><span data-stu-id="4141f-166">Azure Load Balancer instantly reconfigures itself when you scale instances up or down.</span></span> <span data-ttu-id="4141f-167">Por ejemplo, este cambio de configuración puede ocurrir al aumentar Hola recuento de instancias para los roles de web y de trabajo en un servicio de nube o al agregar máquinas virtuales adicionales en hello establecer igual con equilibrio de carga.</span><span class="sxs-lookup"><span data-stu-id="4141f-167">For example, this reconfiguration happens when you increase hello instance count for web/worker roles in a cloud service or when you add additional virtual machines into hello same load-balanced set.</span></span>

* <span data-ttu-id="4141f-168">Supervisión de servicios</span><span class="sxs-lookup"><span data-stu-id="4141f-168">Service monitoring</span></span>

    <span data-ttu-id="4141f-169">Equilibrador de carga de Azure puede sondear estado Hola de hello varias instancias del servidor.</span><span class="sxs-lookup"><span data-stu-id="4141f-169">Azure Load Balancer can probe hello health of hello various server instances.</span></span> <span data-ttu-id="4141f-170">Cuando un sondeo se produce un error toorespond, equilibrador de carga de hello deja de enviar nuevas conexiones toohello instancias en mal estado.</span><span class="sxs-lookup"><span data-stu-id="4141f-170">When a probe fails toorespond, hello load balancer stops sending new connections toohello unhealthy instances.</span></span> <span data-ttu-id="4141f-171">Las conexiones existentes no se ven afectadas.</span><span class="sxs-lookup"><span data-stu-id="4141f-171">Existing connections are not impacted.</span></span>

    <span data-ttu-id="4141f-172">Se admiten tres tipos de sondeos:</span><span class="sxs-lookup"><span data-stu-id="4141f-172">Three types of probes are supported:</span></span>

    + <span data-ttu-id="4141f-173">**Sondeo del agente invitado (en la plataforma como un servicio de máquinas virtuales solo):** equilibrador de carga de hello utiliza el agente de invitado Hola dentro de la máquina virtual de Hola.</span><span class="sxs-lookup"><span data-stu-id="4141f-173">**Guest agent probe (on Platform as a Service Virtual Machines only):** hello load balancer utilizes hello guest agent inside hello virtual machine.</span></span> <span data-ttu-id="4141f-174">escucha Hello agente invitado y responde con una respuesta HTTP 200 OK solo cuando hello instancia está en estado listo hello (es decir, Hola instancia no está en un estado como ocupado, reciclaje o detener).</span><span class="sxs-lookup"><span data-stu-id="4141f-174">hello guest agent listens and responds with an HTTP 200 OK response only when hello instance is in hello ready state (i.e. hello instance is not in a state like busy, recycling, or stopping).</span></span> <span data-ttu-id="4141f-175">Si el agente de hello no toorespond con un HTTP 200 OK, marcas de equilibrador de carga de Hola Hola instancia no responde y deja de enviar la instancia de toothat de tráfico.</span><span class="sxs-lookup"><span data-stu-id="4141f-175">If hello agent fails toorespond with an HTTP 200 OK, hello load balancer marks hello instance as unresponsive and stops sending traffic toothat instance.</span></span> <span data-ttu-id="4141f-176">equilibrador de carga de Hello continúa la instancia de hello tooping.</span><span class="sxs-lookup"><span data-stu-id="4141f-176">hello load balancer continues tooping hello instance.</span></span> <span data-ttu-id="4141f-177">Si el agente de invitado Hola responde con un HTTP 200, equilibrador de carga de hello enviará instancia toothat de tráfico de nuevo.</span><span class="sxs-lookup"><span data-stu-id="4141f-177">If hello guest agent responds with an HTTP 200, hello load balancer will send traffic toothat instance again.</span></span> <span data-ttu-id="4141f-178">Cuando se usa un rol web, el código de sitio Web normalmente se ejecuta en w3wp.exe, que no está supervisado por hello tejido de Azure o el agente de invitado.</span><span class="sxs-lookup"><span data-stu-id="4141f-178">When you're using a web role, your website code typically runs in w3wp.exe, which is not monitored by hello Azure fabric or guest agent.</span></span> <span data-ttu-id="4141f-179">Esto significa que los errores en w3wp.exe (por ejemplo, las respuestas de error HTTP 500) no estará incluido toohello agente de invitado y equilibrador de carga de hello no sabrá tootake esa instancia fuera de la rotación.</span><span class="sxs-lookup"><span data-stu-id="4141f-179">This means that failures in w3wp.exe (e.g. HTTP 500 responses) will not be reported toohello guest agent, and hello load balancer will not know tootake that instance out of rotation.</span></span>
    + <span data-ttu-id="4141f-180">**Sondeo HTTP personalizado:** este sondeo invalida el sondeo de hello predeterminado (agente de invitado).</span><span class="sxs-lookup"><span data-stu-id="4141f-180">**HTTP custom probe:** This probe overrides hello default (guest agent) probe.</span></span> <span data-ttu-id="4141f-181">Puede usar toocreate su propio estado de hello toodetermine lógica personalizada de instancia de rol de Hola.</span><span class="sxs-lookup"><span data-stu-id="4141f-181">You can use it toocreate your own custom logic toodetermine hello health of hello role instance.</span></span> <span data-ttu-id="4141f-182">equilibrador de carga de Hello realizarán un sondeo con regularidad el punto de conexión (cada 15 segundos, de forma predeterminada).</span><span class="sxs-lookup"><span data-stu-id="4141f-182">hello load balancer will regularly probe your endpoint (every 15 seconds, by default).</span></span> <span data-ttu-id="4141f-183">instancia de Hola se considera toobe de rotación si responde con un ACK de TCP o HTTP 200 dentro del período de tiempo de espera de hello (valor predeterminado de segundos 31).</span><span class="sxs-lookup"><span data-stu-id="4141f-183">hello instance is considered toobe in rotation if it responds with a TCP ACK or HTTP 200 within hello timeout period (default of 31 seconds).</span></span> <span data-ttu-id="4141f-184">Esto es útil para implementar sus propias instancias de tooremove de lógica de la rotación del equilibrador de carga de Hola.</span><span class="sxs-lookup"><span data-stu-id="4141f-184">This is useful for implementing your own logic tooremove instances from hello load balancer's rotation.</span></span> <span data-ttu-id="4141f-185">Por ejemplo, puede configurar Hola instancia tooreturn un estado no es 200 si las instancias de hello es por encima del 90% de la CPU.</span><span class="sxs-lookup"><span data-stu-id="4141f-185">For example, you can configure hello instance tooreturn a non-200 status if hello instance is above 90% CPU.</span></span> <span data-ttu-id="4141f-186">Para los roles de web que utilizan w3wp.exe, también obtendrá automática de supervisión del sitio Web, puesto que los errores en el código de sitio Web devuelven un sondeo de estado no es 200 toohello.</span><span class="sxs-lookup"><span data-stu-id="4141f-186">For web roles that use w3wp.exe, you also get automatic monitoring of your website, since failures in your website code return a non-200 status toohello probe.</span></span>
    + <span data-ttu-id="4141f-187">**Sondeo TCP personalizado:** este sondeo se basa en el puerto de sondeo de tooa definido establecimiento de sesión TCP correcta.</span><span class="sxs-lookup"><span data-stu-id="4141f-187">**TCP custom probe:** This probe relies on successful TCP session establishment tooa defined probe port.</span></span>

    <span data-ttu-id="4141f-188">Para obtener más información, vea hello [esquema LoadBalancerProbe](https://msdn.microsoft.com/library/azure/jj151530.aspx).</span><span class="sxs-lookup"><span data-stu-id="4141f-188">For more information, see hello [LoadBalancerProbe schema](https://msdn.microsoft.com/library/azure/jj151530.aspx).</span></span>

* <span data-ttu-id="4141f-189">NAT de origen</span><span class="sxs-lookup"><span data-stu-id="4141f-189">Source NAT</span></span>

    <span data-ttu-id="4141f-190">Todos los toohello el tráfico saliente se somete Internet que se origina en el servicio de origen NAT (SNAT) mediante el uso de Hola la misma dirección VIP como Hola tráfico entrante.</span><span class="sxs-lookup"><span data-stu-id="4141f-190">All outbound traffic toohello Internet that originates from your service undergoes source NAT (SNAT) by using hello same VIP address as hello incoming traffic.</span></span> <span data-ttu-id="4141f-191">SNAT proporciona ventajas importantes:</span><span class="sxs-lookup"><span data-stu-id="4141f-191">SNAT provides important benefits:</span></span>

    + <span data-ttu-id="4141f-192">Hace fácil actualización y recuperación ante desastres de servicios, puesto que Hola que VIP puede ser dinámicamente asignada tooanother instancia del servicio de Hola.</span><span class="sxs-lookup"><span data-stu-id="4141f-192">It enables easy upgrade and disaster recovery of services, since hello VIP can be dynamically mapped tooanother instance of hello service.</span></span>
    + <span data-ttu-id="4141f-193">Facilita la administración de la lista de control de acceso (ACL).</span><span class="sxs-lookup"><span data-stu-id="4141f-193">It makes access control list (ACL) management easier.</span></span> <span data-ttu-id="4141f-194">Las ACL que se expresan en términos de VIP no cambian cuando los servicios se escalan verticalmente, se reducen horizontalmente o se vuelven a implementar.</span><span class="sxs-lookup"><span data-stu-id="4141f-194">ACLs expressed in terms of VIPs do not change as services scale up, down, or get redeployed.</span></span>

    <span data-ttu-id="4141f-195">configuración de equilibrador de carga de Hello admite cono completo NAT para UDP.</span><span class="sxs-lookup"><span data-stu-id="4141f-195">hello load balancer configuration supports full cone NAT for UDP.</span></span> <span data-ttu-id="4141f-196">Cono completo NAT es un tipo de NAT que puerto Hola permite las conexiones entrantes desde cualquier host externo (en la solicitud de respuesta tooan saliente).</span><span class="sxs-lookup"><span data-stu-id="4141f-196">Full cone NAT is a type of NAT where hello port allows inbound connections from any external host (in response tooan outbound request).</span></span>

    <span data-ttu-id="4141f-197">Para cada nueva conexión saliente que inicia una máquina virtual, un puerto de salida también se asigna al equilibrador de carga de Hola.</span><span class="sxs-lookup"><span data-stu-id="4141f-197">For each new outbound connection that a virtual machine initiates, an outbound port is also allocated by hello load balancer.</span></span> <span data-ttu-id="4141f-198">host externo de Hello ve tráfico con un puerto asignado a la dirección VIP de IP virtual.</span><span class="sxs-lookup"><span data-stu-id="4141f-198">hello external host sees traffic with a virtual IP (VIP)-allocated port.</span></span> <span data-ttu-id="4141f-199">Para escenarios que requieren un gran número de conexiones salientes, se recomienda toouse [IP pública de nivel de instancia](../virtual-network/virtual-networks-instance-level-public-ip.md) direcciones para que las máquinas virtuales de hello tienen una dirección IP de salida dedicada para SNAT.</span><span class="sxs-lookup"><span data-stu-id="4141f-199">For scenarios that require a large number of outbound connections, it is recommended toouse [instance-level public IP](../virtual-network/virtual-networks-instance-level-public-ip.md) addresses so that hello VMs have a dedicated outbound IP address for SNAT.</span></span> <span data-ttu-id="4141f-200">Esto reduce el riesgo de Hola de agotamiento de puertos.</span><span class="sxs-lookup"><span data-stu-id="4141f-200">This reduces hello risk of port exhaustion.</span></span>

    <span data-ttu-id="4141f-201">Consulte el artículo sobre [conexiones salientes](load-balancer-outbound-connections.md) para obtener más información acerca de este tema.</span><span class="sxs-lookup"><span data-stu-id="4141f-201">Please see [outbound connections](load-balancer-outbound-connections.md) article for more details on this topic.</span></span>

### <a name="support-for-multiple-load-balanced-ip-addresses-for-virtual-machines"></a><span data-ttu-id="4141f-202">Compatibilidad con varias direcciones IP con equilibrio de carga para máquinas virtuales</span><span class="sxs-lookup"><span data-stu-id="4141f-202">Support for multiple load-balanced IP addresses for virtual machines</span></span>
<span data-ttu-id="4141f-203">Puede asignar más de una carga equilibrada públicos tooa conjunto de direcciones IP de máquinas virtuales.</span><span class="sxs-lookup"><span data-stu-id="4141f-203">You can assign more than one load-balanced public IP address tooa set of virtual machines.</span></span> <span data-ttu-id="4141f-204">Con esta capacidad, puede hospedar varios sitios Web SSL o varios agentes de escucha de grupo de disponibilidad AlwaysOn de SQL Server en el mismo conjunto de máquinas virtuales de Hola.</span><span class="sxs-lookup"><span data-stu-id="4141f-204">With this ability, you can host multiple SSL websites and/or multiple SQL Server AlwaysOn Availability Group listeners on hello same set of virtual machines.</span></span> <span data-ttu-id="4141f-205">Para obtener más información, consulte [Varias direcciones VIP por servicio en la nube](load-balancer-multivip.md).</span><span class="sxs-lookup"><span data-stu-id="4141f-205">For more information, see [Multiple VIPs per cloud service](load-balancer-multivip.md).</span></span>

[!INCLUDE [load-balancer-compare-tm-ag-lb-include.md](../../includes/load-balancer-compare-tm-ag-lb-include.md)]

## <a name="limitations"></a><span data-ttu-id="4141f-206">Limitaciones</span><span class="sxs-lookup"><span data-stu-id="4141f-206">Limitations</span></span>

<span data-ttu-id="4141f-207">Los grupos de back-end de Load Balancer pueden contener cualquier SKU de máquina virtual, excepto nivel Básico.</span><span class="sxs-lookup"><span data-stu-id="4141f-207">Load Balancer backend pools can contain any VM SKU except Basic tier.</span></span>

## <a name="next-steps"></a><span data-ttu-id="4141f-208">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="4141f-208">Next steps</span></span>

- <span data-ttu-id="4141f-209">Más información sobre el [equilibrador de carga accesible desde Internet](load-balancer-internet-overview.md)</span><span class="sxs-lookup"><span data-stu-id="4141f-209">Learn more about [Internet-facing load balancer](load-balancer-internet-overview.md)</span></span>

- <span data-ttu-id="4141f-210">Para más información, consulte [Información general sobre el equilibrador de carga interno](load-balancer-internal-overview.md)</span><span class="sxs-lookup"><span data-stu-id="4141f-210">Learn more about [Internal load balancer overview](load-balancer-internal-overview.md)</span></span>

- <span data-ttu-id="4141f-211">Cree un [equilibrador de carga accesible desde Internet](load-balancer-get-started-internet-portal.md)</span><span class="sxs-lookup"><span data-stu-id="4141f-211">Create an [Internet-facing load balancer](load-balancer-get-started-internet-portal.md)</span></span>

- <span data-ttu-id="4141f-212">Obtener información sobre algunas de hello otra clave [capacidades de red](../networking/networking-overview.md) de Azure</span><span class="sxs-lookup"><span data-stu-id="4141f-212">Learn about some of hello other key [networking capabilities](../networking/networking-overview.md) of Azure</span></span>

