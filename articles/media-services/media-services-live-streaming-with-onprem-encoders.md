---
title: "Streaming en vivo con codificadores locales que crean transmisiones de velocidad de bits múltiple: Azure | Microsoft Docs"
description: "En este tema se describe cómo configurar un canal que recibe streaming en vivo de velocidad de bits múltiple desde un codificador local. Posteriormente, la transmisión se puede enviar a aplicaciones de reproducción cliente a través de uno o más puntos de conexión de streaming, mediante uno de los siguientes protocolos de streaming adaptable: HLS, Smooth Streaming y DASH."
services: media-services
documentationcenter: 
author: Juliako
manager: cfowler
editor: 
ms.assetid: d9f0912d-39ec-4c9c-817b-e5d9fcf1f7ea
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: ne
ms.topic: article
ms.date: 04/12/2017
ms.author: cenkd;juliako
ms.openlocfilehash: 3f6569d32708c42247e0ffec70389f2e0f07389e
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/29/2017
---
# <a name="live-streaming-with-on-premises-encoders-that-create-multi-bitrate-streams"></a><span data-ttu-id="c5756-104">Streaming en vivo con codificadores locales que crean transmisiones de velocidad de bits múltiple</span><span class="sxs-lookup"><span data-stu-id="c5756-104">Live streaming with on-premises encoders that create multi-bitrate streams</span></span>
## <a name="overview"></a><span data-ttu-id="c5756-105">Información general</span><span class="sxs-lookup"><span data-stu-id="c5756-105">Overview</span></span>
<span data-ttu-id="c5756-106">En Azure Media Services, un *canal* representa una canalización para procesar contenido de streaming en vivo.</span><span class="sxs-lookup"><span data-stu-id="c5756-106">In Azure Media Services, a *channel* represents a pipeline for processing live-streaming content.</span></span> <span data-ttu-id="c5756-107">Los canales reciben la transmisión de entrada en vivo de dos maneras posibles:</span><span class="sxs-lookup"><span data-stu-id="c5756-107">A channel receives live input streams in one of two ways:</span></span>

* <span data-ttu-id="c5756-108">Un codificador local en vivo envía una transmisión RTMP o Smooth Streaming (MP4 fragmentado) de velocidad de bits múltiple al canal que no está habilitado para realizar la codificación en vivo con Media Services.</span><span class="sxs-lookup"><span data-stu-id="c5756-108">An on-premises live encoder sends a multi-bitrate RTMP or Smooth Streaming (fragmented MP4) stream to the channel that is not enabled to perform live encoding with Media Services.</span></span> <span data-ttu-id="c5756-109">Las transmisiones ingeridas pasan a través de canales sin más procesamiento.</span><span class="sxs-lookup"><span data-stu-id="c5756-109">The ingested streams pass through channels without any further processing.</span></span> <span data-ttu-id="c5756-110">Este método se llama *paso a través*.</span><span class="sxs-lookup"><span data-stu-id="c5756-110">This method is called *pass-through*.</span></span> <span data-ttu-id="c5756-111">Puede usar los siguientes codificadores en vivo con Smooth Streaming de velocidad de bits múltiple de salida: Media Excel, Ateme, Imagine Communications, Envivio, Cisco y Elemental.</span><span class="sxs-lookup"><span data-stu-id="c5756-111">You can use the following live encoders that have multi-bitrate Smooth Streaming as output: Media Excel, Ateme, Imagine Communications, Envivio, Cisco, and Elemental.</span></span> <span data-ttu-id="c5756-112">Los siguientes codificadores en vivo tienen RTMP de salida: Adobe Flash Media Live Encoder, Telestream Wirecast, Haivision, Teradek y TriCaster.</span><span class="sxs-lookup"><span data-stu-id="c5756-112">The following live encoders have RTMP as output: Adobe Flash Media Live Encoder, Telestream Wirecast, Haivision, Teradek, and TriCaster.</span></span> <span data-ttu-id="c5756-113">El codificador en vivo también envía una transmisión de una sola velocidad de bits a un canal que no está habilitado para la codificación en vivo, pero esto no es recomendable.</span><span class="sxs-lookup"><span data-stu-id="c5756-113">A live encoder can also send a single-bitrate stream to a channel that is not enabled for live encoding, but we don't recommend that.</span></span> <span data-ttu-id="c5756-114">Media Services entrega la transmisión a los clientes que lo soliciten.</span><span class="sxs-lookup"><span data-stu-id="c5756-114">Media Services delivers the stream to customers who request it.</span></span>

  > [!NOTE]
  > <span data-ttu-id="c5756-115">El método de paso a través es la forma más económica de realizar un streaming en vivo.</span><span class="sxs-lookup"><span data-stu-id="c5756-115">Using a pass-through method is the most economical way to do live streaming.</span></span>


* <span data-ttu-id="c5756-116">Un codificador en vivo local envía una transmisión de una sola velocidad de bits al canal habilitado para realizar codificación en vivo con Media Services en uno de estos formatos: RTP (MPEG-TS), RTMP o Smooth Streaming (MP4 fragmentado).</span><span class="sxs-lookup"><span data-stu-id="c5756-116">An on-premises live encoder sends a single-bitrate stream to the channel that is enabled to perform live encoding with Media Services in one of the following formats: RTP (MPEG-TS), RTMP, or Smooth Streaming (fragmented MP4).</span></span> <span data-ttu-id="c5756-117">Después, el canal codifica en vivo la transmisión entrante de una sola velocidad de bits en una de vídeo de velocidad de bits múltiple (adaptable).</span><span class="sxs-lookup"><span data-stu-id="c5756-117">The channel then performs live encoding of the incoming single-bitrate stream to a multi-bitrate (adaptive) video stream.</span></span> <span data-ttu-id="c5756-118">Media Services entrega la transmisión a los clientes que lo soliciten.</span><span class="sxs-lookup"><span data-stu-id="c5756-118">Media Services delivers the stream to customers who request it.</span></span>

<span data-ttu-id="c5756-119">A partir de la versión 2.10 de Media Services, al crear un canal puede especificar cómo desea que este reciba la transmisión entrante.</span><span class="sxs-lookup"><span data-stu-id="c5756-119">Starting with the Media Services 2.10 release, when you create a channel, you can specify how you want your channel to receive the input stream.</span></span> <span data-ttu-id="c5756-120">También puede especificar si desea que el canal realice la codificación en vivo de la transmisión.</span><span class="sxs-lookup"><span data-stu-id="c5756-120">You can also specify whether you want the channel to perform live encoding of your stream.</span></span> <span data-ttu-id="c5756-121">Tiene dos opciones:</span><span class="sxs-lookup"><span data-stu-id="c5756-121">You have two options:</span></span>

* <span data-ttu-id="c5756-122">**Paso a través**: especifique este valor si piensa usar un codificador en vivo local que genere una transmisión de velocidad de bits múltiple (transmisión de paso a través) de salida.</span><span class="sxs-lookup"><span data-stu-id="c5756-122">**Pass Through**: Specify this value if you plan to use an on-premises live encoder that will have a multi-bitrate stream (a pass-through stream) as output.</span></span> <span data-ttu-id="c5756-123">En este caso, la transmisión entrante pasa hasta la salida sin codificación.</span><span class="sxs-lookup"><span data-stu-id="c5756-123">In this case, the incoming stream passes through to the output without any encoding.</span></span> <span data-ttu-id="c5756-124">Este es el comportamiento de los canales antes de la versión 2.10.</span><span class="sxs-lookup"><span data-stu-id="c5756-124">This is the behavior of a channel before the 2.10 release.</span></span> <span data-ttu-id="c5756-125">En este tema se proporciona información sobre cómo trabajar con canales de este tipo.</span><span class="sxs-lookup"><span data-stu-id="c5756-125">This topic gives details about working with channels of this type.</span></span>
* <span data-ttu-id="c5756-126">**Live Encoding**: elija este valor si piensa usar Media Services para codificar transmisiones en vivo con una sola velocidad de bits como transmisión de velocidad de bits múltiple.</span><span class="sxs-lookup"><span data-stu-id="c5756-126">**Live Encoding**: Choose this value if you plan to use Media Services to encode your single-bitrate live stream to a multi-bitrate stream.</span></span> <span data-ttu-id="c5756-127">Tenga en cuenta que dejar una codificación en vivo del canal en estado **En ejecución** supone cargos de facturación.</span><span class="sxs-lookup"><span data-stu-id="c5756-127">Be aware that leaving a live encoding channel in a **Running** state will incur billing charges.</span></span> <span data-ttu-id="c5756-128">Se recomienda detener inmediatamente los canales en ejecución después que termine evento de streaming en vivo para evitar cargos por hora adicionales.</span><span class="sxs-lookup"><span data-stu-id="c5756-128">We recommend that you immediately stop your running channels after your live-streaming event is complete to avoid extra hourly charges.</span></span> <span data-ttu-id="c5756-129">Media Services entrega la transmisión a los clientes que lo soliciten.</span><span class="sxs-lookup"><span data-stu-id="c5756-129">Media Services delivers the stream to customers who request it.</span></span>

> [!NOTE]
> <span data-ttu-id="c5756-130">En este tema se describen los atributos de los canales no habilitados para realizar la codificación en directo.</span><span class="sxs-lookup"><span data-stu-id="c5756-130">This topic discusses attributes of channels that are not enabled to perform live encoding.</span></span> <span data-ttu-id="c5756-131">Para más información sobre cómo trabajar con los canales habilitados para realizar la codificación en directo, consulte [Codificación en directo con Servicios multimedia de Azure para crear velocidades de bits múltiple](media-services-manage-live-encoder-enabled-channels.md).</span><span class="sxs-lookup"><span data-stu-id="c5756-131">For information about working with channels that are enabled to perform live encoding, see [Live streaming using Azure Media Services to create multi-bitrate streams](media-services-manage-live-encoder-enabled-channels.md).</span></span>
>
>

<span data-ttu-id="c5756-132">El siguiente diagrama representa un flujo de trabajo de streaming en vivo que usa un codificador en vivo local para generar transmisiones de RTMP o MP4 fragmentado de velocidad de bits múltiple (Smooth Streaming) de salida.</span><span class="sxs-lookup"><span data-stu-id="c5756-132">The following diagram represents a live-streaming workflow that uses an on-premises live encoder to have multi-bitrate RTMP or fragmented MP4 (Smooth Streaming) streams as output.</span></span>

![Flujo de trabajo activo][live-overview]

## <span data-ttu-id="c5756-134"><a id="scenario"></a>Escenario típico de streaming en vivo</span><span class="sxs-lookup"><span data-stu-id="c5756-134"><a id="scenario"></a>Common live-streaming scenario</span></span>
<span data-ttu-id="c5756-135">En los pasos siguientes se describen las tareas que intervienen en la creación de aplicaciones típicas de streaming en vivo.</span><span class="sxs-lookup"><span data-stu-id="c5756-135">The following steps describe tasks involved in creating common live-streaming applications.</span></span>

1. <span data-ttu-id="c5756-136">Conecte una cámara de vídeo a un equipo.</span><span class="sxs-lookup"><span data-stu-id="c5756-136">Connect a video camera to a computer.</span></span> <span data-ttu-id="c5756-137">Inicie y configure un codificador en vivo local que genera una transmisión de RTMP o MP4 fragmentado de velocidad de bits múltiple (Smooth Streaming) de salida.</span><span class="sxs-lookup"><span data-stu-id="c5756-137">Start and configure an on-premises live encoder that has a multi-bitrate RTMP or fragmented MP4 (Smooth Streaming) stream as output.</span></span> <span data-ttu-id="c5756-138">Para obtener más información, consulte [Compatibilidad con RTMP de Servicios multimedia de Azure y codificadores en directo](http://go.microsoft.com/fwlink/?LinkId=532824).</span><span class="sxs-lookup"><span data-stu-id="c5756-138">For more information, see [Azure Media Services RTMP Support and Live Encoders](http://go.microsoft.com/fwlink/?LinkId=532824).</span></span>

    <span data-ttu-id="c5756-139">También puede realizar este paso después de crear el canal.</span><span class="sxs-lookup"><span data-stu-id="c5756-139">You can also perform this step after you create your channel.</span></span>
2. <span data-ttu-id="c5756-140">Cree e inicie un canal.</span><span class="sxs-lookup"><span data-stu-id="c5756-140">Create and start a channel.</span></span>

3. <span data-ttu-id="c5756-141">Recupere la URL de ingesta de canales.</span><span class="sxs-lookup"><span data-stu-id="c5756-141">Retrieve the channel ingest URL.</span></span>

    <span data-ttu-id="c5756-142">El codificador en vivo usa la URL de ingesta para enviar la transmisión al canal.</span><span class="sxs-lookup"><span data-stu-id="c5756-142">The live encoder uses the ingest URL to send the stream to the channel.</span></span>
4. <span data-ttu-id="c5756-143">Recupere la URL de vista previa de canal.</span><span class="sxs-lookup"><span data-stu-id="c5756-143">Retrieve the channel preview URL.</span></span>

    <span data-ttu-id="c5756-144">Use esta dirección URL para comprobar que el canal recibe correctamente la secuencia en vivo.</span><span class="sxs-lookup"><span data-stu-id="c5756-144">Use this URL to verify that your channel is properly receiving the live stream.</span></span>
5. <span data-ttu-id="c5756-145">Cree un programa.</span><span class="sxs-lookup"><span data-stu-id="c5756-145">Create a program.</span></span>

    <span data-ttu-id="c5756-146">Cuando se usa Azure Portal, al crear un programa también se crea un recurso.</span><span class="sxs-lookup"><span data-stu-id="c5756-146">When you use the Azure portal, creating a program also creates an asset.</span></span>

    <span data-ttu-id="c5756-147">Cuando use el SDK de .NET o REST, debe crear un recurso y especificar que este se use al crear un programa.</span><span class="sxs-lookup"><span data-stu-id="c5756-147">When you use the .NET SDK or REST, you need to create an asset and specify to use this asset when creating a program.</span></span>
6. <span data-ttu-id="c5756-148">Publique el recurso asociado al programa.</span><span class="sxs-lookup"><span data-stu-id="c5756-148">Publish the asset that's associated with the program.</span></span>   

    >[!NOTE]
    ><span data-ttu-id="c5756-149">Cuando se crea la cuenta de Azure Media Services, se agrega un punto de conexión de streaming **predeterminado** a la cuenta en estado **Stopped** (Detenido).</span><span class="sxs-lookup"><span data-stu-id="c5756-149">When your Azure Media Services account is created, a **default** streaming endpoint is added to your account in the **Stopped** state.</span></span> <span data-ttu-id="c5756-150">El punto de conexión de streaming desde el que va a transmitir el contenido debe estar en estado **Running** (En ejecución).</span><span class="sxs-lookup"><span data-stu-id="c5756-150">The streaming endpoint from which you want to stream content has to be in the **Running** state.</span></span>

7. <span data-ttu-id="c5756-151">Inicie el programa cuando esté listo para iniciar el streaming y el archivo.</span><span class="sxs-lookup"><span data-stu-id="c5756-151">Start the program when you're ready to start streaming and archiving.</span></span>

8. <span data-ttu-id="c5756-152">Si lo desea, puede señalar el codificador en directo para iniciar un anuncio.</span><span class="sxs-lookup"><span data-stu-id="c5756-152">Optionally, the live encoder can be signaled to start an advertisement.</span></span> <span data-ttu-id="c5756-153">El anuncio se inserta en el flujo de salida.</span><span class="sxs-lookup"><span data-stu-id="c5756-153">The advertisement is inserted in the output stream.</span></span>

9. <span data-ttu-id="c5756-154">Detenga el programa cuando quiera detener el streaming y el archivo del evento.</span><span class="sxs-lookup"><span data-stu-id="c5756-154">Stop the program whenever you want to stop streaming and archiving the event.</span></span>

10. <span data-ttu-id="c5756-155">Elimine el programa (y, opcionalmente, también el recurso).</span><span class="sxs-lookup"><span data-stu-id="c5756-155">Delete the program (and optionally delete the asset).</span></span>     

## <span data-ttu-id="c5756-156"><a id="channel"></a>Descripción de un canal y sus componentes relacionados</span><span class="sxs-lookup"><span data-stu-id="c5756-156"><a id="channel"></a>Description of a channel and its related components</span></span>
### <span data-ttu-id="c5756-157"><a id="channel_input"></a>Configuraciones de entrada de canal (introducción)</span><span class="sxs-lookup"><span data-stu-id="c5756-157"><a id="channel_input"></a>Channel input (ingest) configurations</span></span>
#### <span data-ttu-id="c5756-158"><a id="ingest_protocols"></a>Protocolo de streaming de ingesta</span><span class="sxs-lookup"><span data-stu-id="c5756-158"><a id="ingest_protocols"></a>Ingest streaming protocol</span></span>
<span data-ttu-id="c5756-159">Media Services admite la ingesta de fuentes en vivo mediante MP4 fragmentado y RTMP de velocidad de bits múltiple como protocolos de streaming.</span><span class="sxs-lookup"><span data-stu-id="c5756-159">Media Services supports ingesting live feeds by using multi-bitrate fragmented MP4 and multi-bitrate RTMP as streaming protocols.</span></span> <span data-ttu-id="c5756-160">Al seleccionar el protocolo de streaming de ingesta RTMP, se crean dos puntos de conexión de ingesta (entrada) para el canal:</span><span class="sxs-lookup"><span data-stu-id="c5756-160">When the RTMP ingest streaming protocol is selected, two ingest (input) endpoints are created for the channel:</span></span>

* <span data-ttu-id="c5756-161">**URL principal**: especifica la dirección URL completa del extremo de introducción RTMP principal del canal.</span><span class="sxs-lookup"><span data-stu-id="c5756-161">**Primary URL**: Specifies the fully qualified URL of the channel's primary RTMP ingest endpoint.</span></span>
* <span data-ttu-id="c5756-162">**URl secundaria** : especifica la dirección URL completa del extremo de introducción RTMP secundario del canal.</span><span class="sxs-lookup"><span data-stu-id="c5756-162">**Secondary URL** (optional): Specifies the fully qualified URL of the channel's secondary RTMP ingest endpoint.</span></span>

<span data-ttu-id="c5756-163">Use la dirección URL secundaria si quiere mejorar la durabilidad y la tolerancia a errores de la transmisión de ingesta, así como la conmutación por error y la tolerancia a errores del codificador, especialmente en los siguientes escenarios:</span><span class="sxs-lookup"><span data-stu-id="c5756-163">Use the secondary URL if you want to improve the durability and fault tolerance of your ingest stream (as well as encoder failover and fault tolerance), especially for the following scenarios:</span></span>

- <span data-ttu-id="c5756-164">Codificador único que realiza inserciones dobles en las URL principal y secundaria:</span><span class="sxs-lookup"><span data-stu-id="c5756-164">Single encoder double-pushing to both primary and secondary URLs:</span></span>

    <span data-ttu-id="c5756-165">El objetivo principal de este escenario es proporcionar más resistencia a las fluctuaciones de la red y a las vibraciones.</span><span class="sxs-lookup"><span data-stu-id="c5756-165">The main purpose of this scenario is to provide more resiliency to network fluctuations and jitters.</span></span> <span data-ttu-id="c5756-166">Algunos codificadores RTMP no controlan bien las desconexiones de red.</span><span class="sxs-lookup"><span data-stu-id="c5756-166">Some RTMP encoders don't handle network disconnects well.</span></span> <span data-ttu-id="c5756-167">Cuando se produce una desconexión de red, un codificador podría detener la codificación y no enviar los datos almacenados en búfer cuando vuelva a conectarse.</span><span class="sxs-lookup"><span data-stu-id="c5756-167">When a network disconnect happens, an encoder might stop encoding and then not send the buffered data when a reconnect happens.</span></span> <span data-ttu-id="c5756-168">Esto provoca discontinuidades y pérdida de datos.</span><span class="sxs-lookup"><span data-stu-id="c5756-168">This causes discontinuities and data loss.</span></span> <span data-ttu-id="c5756-169">Las desconexiones de red pueden suceder por una red en mal estado o un mantenimiento inadecuado por parte de Azure.</span><span class="sxs-lookup"><span data-stu-id="c5756-169">Network disconnects can happen because of a bad network or maintenance on the Azure side.</span></span> <span data-ttu-id="c5756-170">Las URL principal y secundaria reducen los problemas de red y proporcionan un proceso de actualización controlado.</span><span class="sxs-lookup"><span data-stu-id="c5756-170">Primary/secondary URLs reduce the network problems and provide a controlled upgrade process.</span></span> <span data-ttu-id="c5756-171">Cada vez que se produce una desconexión de red programada, Media Services administra la desconexión principal y secundaria, y proporciona un retardo entre las dos.</span><span class="sxs-lookup"><span data-stu-id="c5756-171">Each time a scheduled network disconnect happens, Media Services manages the primary and secondary disconnects and provides a delayed disconnect between the two.</span></span> <span data-ttu-id="c5756-172">Así los codificadores tienen tiempo para seguir enviando los datos y volver a conectarse.</span><span class="sxs-lookup"><span data-stu-id="c5756-172">Encoders then have time to keep sending data and reconnect again.</span></span> <span data-ttu-id="c5756-173">El orden de las desconexiones puede ser aleatorio, pero siempre habrá un retardo entre la URL principal y la secundaria, o viceversa.</span><span class="sxs-lookup"><span data-stu-id="c5756-173">The order of the disconnects can be random, but there will always be a delay between primary/secondary or secondary/primary URLs.</span></span> <span data-ttu-id="c5756-174">En este escenario, el codificador sigue siendo el único punto de error.</span><span class="sxs-lookup"><span data-stu-id="c5756-174">In this scenario, the encoder is still the single point of failure.</span></span>

- <span data-ttu-id="c5756-175">Varios codificadores, cada uno con inserción en un punto específico:</span><span class="sxs-lookup"><span data-stu-id="c5756-175">Multiple encoders, with each encoder pushing to a dedicated point:</span></span>

    <span data-ttu-id="c5756-176">Este escenario proporciona redundancia tanto para el codificador como para la entrada.</span><span class="sxs-lookup"><span data-stu-id="c5756-176">This scenario provides both encoder and ingest redundancy.</span></span> <span data-ttu-id="c5756-177">En este escenario, encoder1 inserta en la dirección URL principal y encoder2 inserta en la dirección URL secundaria.</span><span class="sxs-lookup"><span data-stu-id="c5756-177">In this scenario, encoder1 pushes to the primary URL, and encoder2 pushes to the secondary URL.</span></span> <span data-ttu-id="c5756-178">Cuando se produce un error en un codificador, el otro puede seguir enviando datos.</span><span class="sxs-lookup"><span data-stu-id="c5756-178">When an encoder fails, the other encoder can keep sending data.</span></span> <span data-ttu-id="c5756-179">Se puede mantener la redundancia de datos porque Media Services no desconecta la URL principal y secundaria al mismo tiempo.</span><span class="sxs-lookup"><span data-stu-id="c5756-179">Data redundancy can be maintained because Media Services does not disconnect primary and secondary URLs at the same time.</span></span> <span data-ttu-id="c5756-180">En este escenario se da por hecho que los codificadores tienen sincronización temporal y proporcionan exactamente los mismos datos.</span><span class="sxs-lookup"><span data-stu-id="c5756-180">This scenario assumes that encoders are time synced and provide exactly the same data.</span></span>  

- <span data-ttu-id="c5756-181">Varios codificadores con doble inserción en las URL principal y secundaria:</span><span class="sxs-lookup"><span data-stu-id="c5756-181">Multiple encoders double-pushing to both primary and secondary URLs:</span></span>

    <span data-ttu-id="c5756-182">En este escenario, ambos codificadores insertan datos en las URL principal y secundaria.</span><span class="sxs-lookup"><span data-stu-id="c5756-182">In this scenario, both encoders push data to both primary and secondary URLs.</span></span> <span data-ttu-id="c5756-183">Esto proporciona la mejor confiabilidad y tolerancia a errores, así como redundancia de datos.</span><span class="sxs-lookup"><span data-stu-id="c5756-183">This provides the best reliability and fault tolerance, as well as data redundancy.</span></span> <span data-ttu-id="c5756-184">Este escenario puede tolerar errores y desconexiones en ambos codificadores, aunque un codificador deje de funcionar.</span><span class="sxs-lookup"><span data-stu-id="c5756-184">This scenario can tolerate both encoder failures and disconnects, even if one encoder stops working.</span></span> <span data-ttu-id="c5756-185">Se da por hecho que los codificadores tienen sincronización temporal y proporcionan exactamente los mismos datos.</span><span class="sxs-lookup"><span data-stu-id="c5756-185">It assumes that encoders are time synced and provide exactly the same data.</span></span>  

<span data-ttu-id="c5756-186">Para obtener información sobre los codificadores en directo de RTMP, consulte [Compatibilidad con RTMP de Servicios multimedia de Azure y codificadores en directo](http://go.microsoft.com/fwlink/?LinkId=532824).</span><span class="sxs-lookup"><span data-stu-id="c5756-186">For information about RTMP live encoders, see [Azure Media Services RTMP Support and Live Encoders](http://go.microsoft.com/fwlink/?LinkId=532824).</span></span>

#### <a name="ingest-urls-endpoints"></a><span data-ttu-id="c5756-187">Direcciones URL de ingesta (extremos)</span><span class="sxs-lookup"><span data-stu-id="c5756-187">Ingest URLs (endpoints)</span></span>
<span data-ttu-id="c5756-188">Un canal proporciona un punto de conexión de entrada (dirección URL de ingesta) que usted especifica en el codificador en vivo, de modo que este pueda insertar transmisiones en los canales.</span><span class="sxs-lookup"><span data-stu-id="c5756-188">A channel provides an input endpoint (ingest URL) that you specify in the live encoder, so the encoder can push streams to your channels.</span></span>   

<span data-ttu-id="c5756-189">Puede obtener las direcciones URL de ingesta al crear el canal.</span><span class="sxs-lookup"><span data-stu-id="c5756-189">You can get the ingest URLs when you create the channel.</span></span> <span data-ttu-id="c5756-190">Para obtener estas direcciones URL, el estado del canal no puede ser **En ejecución**.</span><span class="sxs-lookup"><span data-stu-id="c5756-190">For you to get these URLs, the channel does not have to be in the **Running** state.</span></span> <span data-ttu-id="c5756-191">Cuando esté listo para comenzar a insertar datos en el canal, su estado debe ser **En ejecución**.</span><span class="sxs-lookup"><span data-stu-id="c5756-191">When you're ready to start pushing data to the channel, the channel must be in the **Running** state.</span></span> <span data-ttu-id="c5756-192">Una vez que el canal empieza a ingerir datos, puede obtener una vista previa de la transmisión a través de la dirección URL de vista previa.</span><span class="sxs-lookup"><span data-stu-id="c5756-192">After the channel starts ingesting data, you can preview your stream through the preview URL.</span></span>

<span data-ttu-id="c5756-193">Tiene la opción de ingerir una transmisión en vivo de MP4 fragmentado (Smooth Streaming) a través de una conexión SSL.</span><span class="sxs-lookup"><span data-stu-id="c5756-193">You have an option of ingesting a fragmented MP4 (Smooth Streaming) live stream over an SSL connection.</span></span> <span data-ttu-id="c5756-194">Para introducir en SSL, asegúrese de actualizar la dirección URL de introducción a HTTPS.</span><span class="sxs-lookup"><span data-stu-id="c5756-194">To ingest over SSL, make sure to update the ingest URL to HTTPS.</span></span> <span data-ttu-id="c5756-195">Actualmente, no se puede consumir RTMP a través de SSL.</span><span class="sxs-lookup"><span data-stu-id="c5756-195">Currently, you cannot ingest RTMP over SSL.</span></span>

#### <span data-ttu-id="c5756-196"><a id="keyframe_interval"></a>Intervalo de fotogramas clave</span><span class="sxs-lookup"><span data-stu-id="c5756-196"><a id="keyframe_interval"></a>Keyframe interval</span></span>
<span data-ttu-id="c5756-197">Cuando se usa un codificador en vivo local para generar una transmisión de velocidad de bits múltiple, el intervalo de fotogramas clave especifica la duración de grupo de imágenes (GOP) tal como la usa el codificador externo.</span><span class="sxs-lookup"><span data-stu-id="c5756-197">When you're using an on-premises live encoder to generate multi-bitrate stream, the keyframe interval specifies the duration of the group of pictures (GOP) as used by that external encoder.</span></span> <span data-ttu-id="c5756-198">Cuando el canal haya recibido esta transmisión entrante, puede entregar la transmisión en vivo a las aplicaciones cliente de reproducción en cualquiera de los siguientes formatos: Smooth Streaming, Dynamic Adaptive Streaming sobre HTTP (DASH) y HTTP Live Streaming (HLS).</span><span class="sxs-lookup"><span data-stu-id="c5756-198">After the channel receives this incoming stream, you can deliver your live stream to client playback applications in any of the following formats: Smooth Streaming, Dynamic Adaptive Streaming over HTTP (DASH), and HTTP Live Streaming (HLS).</span></span> <span data-ttu-id="c5756-199">Cuando se realiza el streaming en vivo, HLS siempre se empaqueta dinámicamente.</span><span class="sxs-lookup"><span data-stu-id="c5756-199">When you're doing live streaming, HLS is always packaged dynamically.</span></span> <span data-ttu-id="c5756-200">De forma predeterminada, Media Services calcula automáticamente la proporción de empaquetado por segmento HLS (fragmentos por segmento) según el intervalo de fotogramas clave que se recibe del codificador en vivo.</span><span class="sxs-lookup"><span data-stu-id="c5756-200">By default, Media Services automatically calculates the HLS segment packaging ratio (fragments per segment) based on the keyframe interval that's received from the live encoder.</span></span>

<span data-ttu-id="c5756-201">En la tabla siguiente se muestra cómo se calcula la duración de los segmentos:</span><span class="sxs-lookup"><span data-stu-id="c5756-201">The following table shows how the segment duration is calculated:</span></span>

| <span data-ttu-id="c5756-202">Intervalo de fotogramas clave</span><span class="sxs-lookup"><span data-stu-id="c5756-202">Keyframe interval</span></span> | <span data-ttu-id="c5756-203">Relación de empaquetado por segmento HLS (fragmento por segmento)</span><span class="sxs-lookup"><span data-stu-id="c5756-203">HLS segment packaging ratio (FragmentsPerSegment)</span></span> | <span data-ttu-id="c5756-204">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="c5756-204">Example</span></span> |
| --- | --- | --- |
| <span data-ttu-id="c5756-205">Menor o igual que 3 segundos</span><span class="sxs-lookup"><span data-stu-id="c5756-205">Less than or equal to 3 seconds</span></span> |<span data-ttu-id="c5756-206">3:1</span><span class="sxs-lookup"><span data-stu-id="c5756-206">3:1</span></span> |<span data-ttu-id="c5756-207">Si KeyFrameInterval (o GOP) es de 2 segundos, la proporción de empaquetado de segmento HLS predeterminada es de 3 a 1.</span><span class="sxs-lookup"><span data-stu-id="c5756-207">If KeyFrameInterval (or GOP) is 2 seconds, the default HLS segment packaging ratio is 3 to 1.</span></span> <span data-ttu-id="c5756-208">Esto crea un segmento HLS de 6 segundos.</span><span class="sxs-lookup"><span data-stu-id="c5756-208">This creates a 6-second HLS segment.</span></span> |
| <span data-ttu-id="c5756-209">de 3 a 5 segundos</span><span class="sxs-lookup"><span data-stu-id="c5756-209">3 to 5 seconds</span></span> |<span data-ttu-id="c5756-210">2:1</span><span class="sxs-lookup"><span data-stu-id="c5756-210">2:1</span></span> |<span data-ttu-id="c5756-211">Si KeyFrameInterval (o GOP) es de 4 segundos, la proporción de empaquetado de segmento HLS predeterminada es de 2 a 1.</span><span class="sxs-lookup"><span data-stu-id="c5756-211">If KeyFrameInterval (or GOP) is 4 seconds, the default HLS segment packaging ratio is 2 to 1.</span></span> <span data-ttu-id="c5756-212">Esto crea un segmento HLS de 8 segundos.</span><span class="sxs-lookup"><span data-stu-id="c5756-212">This creates an 8-second HLS segment.</span></span> |
| <span data-ttu-id="c5756-213">Mayor que 5 segundos</span><span class="sxs-lookup"><span data-stu-id="c5756-213">Greater than 5 seconds</span></span> |<span data-ttu-id="c5756-214">1:1</span><span class="sxs-lookup"><span data-stu-id="c5756-214">1:1</span></span> |<span data-ttu-id="c5756-215">Si KeyFrameInterval (o GOP) es de 6 segundos, la proporción de empaquetado de segmento HLS predeterminada es de 1 a 1.</span><span class="sxs-lookup"><span data-stu-id="c5756-215">If KeyFrameInterval (or GOP) is 6 seconds, the default HLS segment packaging ratio is 1 to 1.</span></span> <span data-ttu-id="c5756-216">Esto crea un segmento HLS de 6 segundos.</span><span class="sxs-lookup"><span data-stu-id="c5756-216">This creates a 6-second HLS segment.</span></span> |

<span data-ttu-id="c5756-217">Puede cambiar la proporción de fragmentos por segmento al configurar la salida del canal y establecer FragmentsPerSegment en ChannelOutputHls.</span><span class="sxs-lookup"><span data-stu-id="c5756-217">You can change the fragments-per-segment ratio by configuring the channel’s output and setting FragmentsPerSegment on ChannelOutputHls.</span></span>

<span data-ttu-id="c5756-218">También puede cambiar el valor del intervalo de fotogramas clave si establece la propiedad KeyFrameInterval en ChanneInput.</span><span class="sxs-lookup"><span data-stu-id="c5756-218">You can also change the keyframe interval value by setting the KeyFrameInterval property on ChanneInput.</span></span> <span data-ttu-id="c5756-219">Si establece explícitamente KeyFrameInterval, la proporción de empaquetado por segmento HLS FragmentsPerSegment se calcula según las reglas descritas anteriormente.</span><span class="sxs-lookup"><span data-stu-id="c5756-219">If you explicitly set KeyFrameInterval, the HLS segment packaging ratio FragmentsPerSegment is calculated via the rules described previously.</span></span>  

<span data-ttu-id="c5756-220">Si establece explícitamente KeyFrameInterval y FragmentsPerSegment, Media Services usará los valores que usted introduzca.</span><span class="sxs-lookup"><span data-stu-id="c5756-220">If you explicitly set both KeyFrameInterval and FragmentsPerSegment, Media Services will use the values that you set.</span></span>

#### <a name="allowed-ip-addresses"></a><span data-ttu-id="c5756-221">Direcciones IP permitidas</span><span class="sxs-lookup"><span data-stu-id="c5756-221">Allowed IP addresses</span></span>
<span data-ttu-id="c5756-222">Puede definir las direcciones IP permitidas para publicar vídeo en el canal.</span><span class="sxs-lookup"><span data-stu-id="c5756-222">You can define the IP addresses that are allowed to publish video to this channel.</span></span> <span data-ttu-id="c5756-223">Puede especificarse una dirección IP permitida como:</span><span class="sxs-lookup"><span data-stu-id="c5756-223">An allowed IP address can be specified as one of the following:</span></span>

* <span data-ttu-id="c5756-224">Una única dirección IP, por ejemplo, 10.0.0.1.</span><span class="sxs-lookup"><span data-stu-id="c5756-224">A single IP address (for example, 10.0.0.1)</span></span>
* <span data-ttu-id="c5756-225">Un intervalo de direcciones IP que use una dirección IP y una máscara de subred CIDR, por ejemplo, 10.0.0.1/22.</span><span class="sxs-lookup"><span data-stu-id="c5756-225">An IP range that uses an IP address and a CIDR subnet mask (for example, 10.0.0.1/22)</span></span>
* <span data-ttu-id="c5756-226">Un intervalo de direcciones IP que use una dirección IP y una máscara de subred decimal con puntos, por ejemplo, 10.0.0.1(255.255.252.0).</span><span class="sxs-lookup"><span data-stu-id="c5756-226">An IP range that uses an IP address and a dotted decimal subnet mask (for example, 10.0.0.1(255.255.252.0))</span></span>

<span data-ttu-id="c5756-227">Si no se especifica ninguna dirección IP y no hay ninguna definición de regla, no se permitirá ninguna dirección IP.</span><span class="sxs-lookup"><span data-stu-id="c5756-227">If no IP addresses are specified and there's no rule definition, then no IP address will be allowed.</span></span> <span data-ttu-id="c5756-228">Para permitir las direcciones IP, cree una regla y establezca 0.0.0.0/0.</span><span class="sxs-lookup"><span data-stu-id="c5756-228">To allow any IP address, create a rule and set 0.0.0.0/0.</span></span>

### <a name="channel-preview"></a><span data-ttu-id="c5756-229">Vista previa de canal</span><span class="sxs-lookup"><span data-stu-id="c5756-229">Channel preview</span></span>
#### <a name="preview-urls"></a><span data-ttu-id="c5756-230">Direcciones URL de vista previa</span><span class="sxs-lookup"><span data-stu-id="c5756-230">Preview URLs</span></span>
<span data-ttu-id="c5756-231">Los canales proporcionan un extremo de vista previa (dirección URL de vista previa) que se puede utilizar para obtener una vista previa y validar la secuencia antes de mayor procesamiento y entrega.</span><span class="sxs-lookup"><span data-stu-id="c5756-231">Channels provide a preview endpoint (preview URL) that you use to preview and validate your stream before further processing and delivery.</span></span>

<span data-ttu-id="c5756-232">Puede obtener la dirección URL de vista previa al crear el canal.</span><span class="sxs-lookup"><span data-stu-id="c5756-232">You can get the preview URL when you create the channel.</span></span> <span data-ttu-id="c5756-233">Para ello, el estado del canal no puede ser **En ejecución**.</span><span class="sxs-lookup"><span data-stu-id="c5756-233">For you to get the URL, the channel does not have to be in the **Running** state.</span></span> <span data-ttu-id="c5756-234">Cuando el canal haya empezado a ingerir datos, puede obtener una vista previa de la transmisión.</span><span class="sxs-lookup"><span data-stu-id="c5756-234">After the channel starts ingesting data, you can preview your stream.</span></span>

<span data-ttu-id="c5756-235">Actualmente, la transmisión de vista previa solo se puede entregar en formato MP4 fragmentado (Smooth Streaming), independientemente del tipo de entrada especificado.</span><span class="sxs-lookup"><span data-stu-id="c5756-235">Currently, the preview stream can be delivered only in fragmented MP4 (Smooth Streaming) format, regardless of the specified input type.</span></span> <span data-ttu-id="c5756-236">Puede usar el reproductor [Smooth Streaming Health Monitor](http://smf.cloudapp.net/healthmonitor) para probar el formato Smooth Stream.</span><span class="sxs-lookup"><span data-stu-id="c5756-236">You can use the [Smooth Streaming Health Monitor](http://smf.cloudapp.net/healthmonitor) player to test the smooth stream.</span></span> <span data-ttu-id="c5756-237">También puede usar un reproductor hospedado en Azure Portal para ver la transmisión.</span><span class="sxs-lookup"><span data-stu-id="c5756-237">You can also use a player that's hosted in the Azure portal to view your stream.</span></span>

#### <a name="allowed-ip-addresses"></a><span data-ttu-id="c5756-238">Direcciones IP permitidas</span><span class="sxs-lookup"><span data-stu-id="c5756-238">Allowed IP addresses</span></span>
<span data-ttu-id="c5756-239">Puede definir las direcciones IP permitidas para conectarse al extremo de vista previa.</span><span class="sxs-lookup"><span data-stu-id="c5756-239">You can define the IP addresses that are allowed to connect to the preview endpoint.</span></span> <span data-ttu-id="c5756-240">Si no se especifican direcciones IP, se permitirá cualquiera.</span><span class="sxs-lookup"><span data-stu-id="c5756-240">If no IP addresses are specified, any IP address will be allowed.</span></span> <span data-ttu-id="c5756-241">Puede especificarse una dirección IP permitida como:</span><span class="sxs-lookup"><span data-stu-id="c5756-241">An allowed IP address can be specified as one of the following:</span></span>

* <span data-ttu-id="c5756-242">Una única dirección IP, por ejemplo, 10.0.0.1.</span><span class="sxs-lookup"><span data-stu-id="c5756-242">A single IP address (for example, 10.0.0.1)</span></span>
* <span data-ttu-id="c5756-243">Un intervalo de direcciones IP que use una dirección IP y una máscara de subred CIDR, por ejemplo, 10.0.0.1/22.</span><span class="sxs-lookup"><span data-stu-id="c5756-243">An IP range that uses an IP address and a CIDR subnet mask (for example, 10.0.0.1/22)</span></span>
* <span data-ttu-id="c5756-244">Un intervalo de direcciones IP que use una dirección IP y una máscara de subred decimal con puntos, por ejemplo, 10.0.0.1(255.255.252.0).</span><span class="sxs-lookup"><span data-stu-id="c5756-244">An IP range that uses an IP address and a dotted decimal subnet mask (for example, 10.0.0.1(255.255.252.0))</span></span>

### <a name="channel-output"></a><span data-ttu-id="c5756-245">Salida del canal</span><span class="sxs-lookup"><span data-stu-id="c5756-245">Channel output</span></span>
<span data-ttu-id="c5756-246">Para información acerca de la salida del canal, consulte la sección [Intervalo de fotogramas clave](#keyframe_interval).</span><span class="sxs-lookup"><span data-stu-id="c5756-246">For information about channel output, see the [Keyframe interval](#keyframe_interval) section.</span></span>

### <a name="channel-managed-programs"></a><span data-ttu-id="c5756-247">Programas administrados por canal</span><span class="sxs-lookup"><span data-stu-id="c5756-247">Channel-managed programs</span></span>
<span data-ttu-id="c5756-248">Un canal está asociado a programas que puede usar para controlar la publicación y el almacenamiento de segmentos en una transmisión en vivo.</span><span class="sxs-lookup"><span data-stu-id="c5756-248">A channel is associated with programs that you can use to control the publishing and storage of segments in a live stream.</span></span> <span data-ttu-id="c5756-249">Los canales administran los programas.</span><span class="sxs-lookup"><span data-stu-id="c5756-249">Channels manage programs.</span></span> <span data-ttu-id="c5756-250">La relación entre canales y programas es muy similar a la de los medios tradicionales, donde un canal tiene un flujo constante de contenido y un programa se centra en algún evento programado en ese canal.</span><span class="sxs-lookup"><span data-stu-id="c5756-250">The channel and program relationship is very similar to traditional media, where a channel has a constant stream of content and a program is scoped to some timed event on that channel.</span></span>

<span data-ttu-id="c5756-251">Puede especificar la cantidad de horas que desea conservar el contenido grabado del programa en la configuración de la duración de **Ventana de archivo** .</span><span class="sxs-lookup"><span data-stu-id="c5756-251">You can specify the number of hours you want to retain the recorded content for the program by setting the **Archive Window** length.</span></span> <span data-ttu-id="c5756-252">Este valor se puede establecer desde un mínimo de cinco minutos a un máximo de 25 horas.</span><span class="sxs-lookup"><span data-stu-id="c5756-252">This value can be set from a minimum of 5 minutes to a maximum of 25 hours.</span></span> <span data-ttu-id="c5756-253">La duración de la ventana de archivo también indica el tiempo máximo que los clientes pueden buscar hacia atrás a partir de la posición en vivo actual.</span><span class="sxs-lookup"><span data-stu-id="c5756-253">Archive window length also dictates the maximum amount of time clients can seek back in time from the current live position.</span></span> <span data-ttu-id="c5756-254">Los programas pueden transmitirse durante la cantidad de tiempo especificada, pero el contenido que escape de esa longitud de ventana se descartará continuamente.</span><span class="sxs-lookup"><span data-stu-id="c5756-254">Programs can run over the specified amount of time, but content that falls behind the window length is continuously discarded.</span></span> <span data-ttu-id="c5756-255">El valor de esta propiedad también determina durante cuánto tiempo los manifiestos de cliente pueden crecer.</span><span class="sxs-lookup"><span data-stu-id="c5756-255">This value of this property also determines how long the client manifests can grow.</span></span>

<span data-ttu-id="c5756-256">Cada programa se asocia a un recurso que almacena el contenido transmitido.</span><span class="sxs-lookup"><span data-stu-id="c5756-256">Each program is associated with an asset that stores the streamed content.</span></span> <span data-ttu-id="c5756-257">Un recurso se asigna a un contenedor de blobs en bloques de la cuenta de almacenamiento de Azure y los archivos del recurso se almacenan como blobs en ese contenedor.</span><span class="sxs-lookup"><span data-stu-id="c5756-257">An asset is mapped to a block blob container in the Azure storage account, and the files in the asset are stored as blobs in that container.</span></span> <span data-ttu-id="c5756-258">Para publicar el programa y que los clientes puedan ver la transmisión, debe crear un localizador a petición para el recurso asociado.</span><span class="sxs-lookup"><span data-stu-id="c5756-258">To publish the program so your customers can view the stream, you must create an OnDemand locator for the associated asset.</span></span> <span data-ttu-id="c5756-259">Puede usar este localizador para crear una dirección URL de streaming que proporcionar a sus clientes.</span><span class="sxs-lookup"><span data-stu-id="c5756-259">You can use this locator to build a streaming URL that you can provide to your clients.</span></span>

<span data-ttu-id="c5756-260">Un canal es compatible con hasta tres programas en ejecución simultánea, por lo que puede crear varios archivos del mismo flujo entrante.</span><span class="sxs-lookup"><span data-stu-id="c5756-260">A channel supports up to three concurrently running programs, so you can create multiple archives of the same incoming stream.</span></span> <span data-ttu-id="c5756-261">Puede publicar y archivar distintas partes de un evento, según sea necesario.</span><span class="sxs-lookup"><span data-stu-id="c5756-261">You can publish and archive different parts of an event as needed.</span></span> <span data-ttu-id="c5756-262">Por ejemplo, imagine que el requisito de su empresa es archivar seis horas de un programa, pero difundir solo los últimos diez minutos.</span><span class="sxs-lookup"><span data-stu-id="c5756-262">For example, imagine that your business requirement is to archive 6 hours of a program, but to broadcast only the last 10 minutes.</span></span> <span data-ttu-id="c5756-263">Para lograrlo, necesita crear dos programas en ejecución simultánea.</span><span class="sxs-lookup"><span data-stu-id="c5756-263">To accomplish this, you need to create two concurrently running programs.</span></span> <span data-ttu-id="c5756-264">Un programa está definido para archivar seis horas del evento, pero no está publicado.</span><span class="sxs-lookup"><span data-stu-id="c5756-264">One program is set to archive 6 hours of the event, but the program is not published.</span></span> <span data-ttu-id="c5756-265">El otro programa está definido para archivar diez minutos y este sí se publica.</span><span class="sxs-lookup"><span data-stu-id="c5756-265">The other program is set to archive for 10 minutes, and this program is published.</span></span>

<span data-ttu-id="c5756-266">No debe volver a usar programas existentes para eventos nuevos.</span><span class="sxs-lookup"><span data-stu-id="c5756-266">You should not reuse existing programs for new events.</span></span> <span data-ttu-id="c5756-267">En su lugar, cree un programa nuevo para cada evento.</span><span class="sxs-lookup"><span data-stu-id="c5756-267">Instead, create a new program for each event.</span></span> <span data-ttu-id="c5756-268">Inicie el programa cuando esté listo para iniciar el streaming y el archivo.</span><span class="sxs-lookup"><span data-stu-id="c5756-268">Start the program when you're ready to start streaming and archiving.</span></span> <span data-ttu-id="c5756-269">Detenga el programa cuando quiera detener el streaming y el archivo del evento.</span><span class="sxs-lookup"><span data-stu-id="c5756-269">Stop the program whenever you want to stop streaming and archiving the event.</span></span>

<span data-ttu-id="c5756-270">Para eliminar contenido archivado, detenga y elimine el programa y, a continuación, elimine el recurso asociado.</span><span class="sxs-lookup"><span data-stu-id="c5756-270">To delete archived content, stop and delete the program, and then delete the associated asset.</span></span> <span data-ttu-id="c5756-271">No se puede eliminar un recurso si un programa lo está usando.</span><span class="sxs-lookup"><span data-stu-id="c5756-271">An asset cannot be deleted if a program uses it.</span></span> <span data-ttu-id="c5756-272">Debe eliminarse primero el programa.</span><span class="sxs-lookup"><span data-stu-id="c5756-272">The program must be deleted first.</span></span>

<span data-ttu-id="c5756-273">Incluso después de detener y eliminar el programa, los usuarios podrán transmitir el contenido archivado como un vídeo a petición, hasta que elimine el recurso.</span><span class="sxs-lookup"><span data-stu-id="c5756-273">Even after you stop and delete the program, users can stream your archived content as a video on demand, until you delete the asset.</span></span> <span data-ttu-id="c5756-274">Si desea conservar el contenido archivado, pero no hacerlo disponible para streaming, elimine el localizador de streaming.</span><span class="sxs-lookup"><span data-stu-id="c5756-274">If you want to retain the archived content but not have it available for streaming, delete the streaming locator.</span></span>

## <span data-ttu-id="c5756-275"><a id="states"></a>Estados de los canales y facturación</span><span class="sxs-lookup"><span data-stu-id="c5756-275"><a id="states"></a>Channel states and billing</span></span>
<span data-ttu-id="c5756-276">Los valores posibles para el estado actual de un canal incluyen:</span><span class="sxs-lookup"><span data-stu-id="c5756-276">Possible values for the current state of a channel include:</span></span>

* <span data-ttu-id="c5756-277">**Stopped** (Detenido): estado inicial del canal después de su creación.</span><span class="sxs-lookup"><span data-stu-id="c5756-277">**Stopped**: This is the initial state of the channel after its creation.</span></span> <span data-ttu-id="c5756-278">En este estado, se pueden actualizar las propiedades del canal pero no se permite el streaming.</span><span class="sxs-lookup"><span data-stu-id="c5756-278">In this state, the channel properties can be updated but streaming is not allowed.</span></span>
* <span data-ttu-id="c5756-279">**Starting** (Iniciándose): el canal se está iniciando.</span><span class="sxs-lookup"><span data-stu-id="c5756-279">**Starting**: The channel is being started.</span></span> <span data-ttu-id="c5756-280">No se permiten actualizaciones ni streaming durante este estado.</span><span class="sxs-lookup"><span data-stu-id="c5756-280">No updates or streaming is allowed during this state.</span></span> <span data-ttu-id="c5756-281">Si se produce un error, el canal vuelve al estado **Stopped** (Detenido).</span><span class="sxs-lookup"><span data-stu-id="c5756-281">If an error occurs, the channel returns to the **Stopped** state.</span></span>
* <span data-ttu-id="c5756-282">**En ejecución**: el canal puede procesar transmisiones en vivo.</span><span class="sxs-lookup"><span data-stu-id="c5756-282">**Running**: The channel can process live streams.</span></span>
* <span data-ttu-id="c5756-283">**Stopping** (Deteniéndose): el canal se está deteniendo.</span><span class="sxs-lookup"><span data-stu-id="c5756-283">**Stopping**: The channel is being stopped.</span></span> <span data-ttu-id="c5756-284">No se permiten actualizaciones ni streaming durante este estado.</span><span class="sxs-lookup"><span data-stu-id="c5756-284">No updates or streaming is allowed during this state.</span></span>
* <span data-ttu-id="c5756-285">**Deleting** (Eliminándose): el canal se está eliminando.</span><span class="sxs-lookup"><span data-stu-id="c5756-285">**Deleting**: The channel is being deleted.</span></span> <span data-ttu-id="c5756-286">No se permiten actualizaciones ni streaming durante este estado.</span><span class="sxs-lookup"><span data-stu-id="c5756-286">No updates or streaming is allowed during this state.</span></span>

<span data-ttu-id="c5756-287">En la tabla siguiente se muestra cómo se asignan los estados del canal al modo de facturación.</span><span class="sxs-lookup"><span data-stu-id="c5756-287">The following table shows how channel states map to the billing mode.</span></span>

| <span data-ttu-id="c5756-288">Estado del canal</span><span class="sxs-lookup"><span data-stu-id="c5756-288">Channel state</span></span> | <span data-ttu-id="c5756-289">Indicadores de la IU del portal</span><span class="sxs-lookup"><span data-stu-id="c5756-289">Portal UI indicators</span></span> | <span data-ttu-id="c5756-290">¿Facturado?</span><span class="sxs-lookup"><span data-stu-id="c5756-290">Billed?</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="c5756-291">**Starting** (iniciándose)</span><span class="sxs-lookup"><span data-stu-id="c5756-291">**Starting**</span></span> |<span data-ttu-id="c5756-292">**Starting** (iniciándose)</span><span class="sxs-lookup"><span data-stu-id="c5756-292">**Starting**</span></span> |<span data-ttu-id="c5756-293">No (estado transitorio)</span><span class="sxs-lookup"><span data-stu-id="c5756-293">No (transient state)</span></span> |
| <span data-ttu-id="c5756-294">**Ejecución**</span><span class="sxs-lookup"><span data-stu-id="c5756-294">**Running**</span></span> |<span data-ttu-id="c5756-295">**Ready** (Listo) (sin programas en ejecución)</span><span class="sxs-lookup"><span data-stu-id="c5756-295">**Ready** (no running programs)</span></span><p><p><span data-ttu-id="c5756-296">o</span><span class="sxs-lookup"><span data-stu-id="c5756-296">or</span></span><p><span data-ttu-id="c5756-297">**Streaming** (al menos un programa en ejecución)</span><span class="sxs-lookup"><span data-stu-id="c5756-297">**Streaming** (at least one running program)</span></span> |<span data-ttu-id="c5756-298">Sí</span><span class="sxs-lookup"><span data-stu-id="c5756-298">Yes</span></span> |
| <span data-ttu-id="c5756-299">**Stopping** (Deteniéndose)</span><span class="sxs-lookup"><span data-stu-id="c5756-299">**Stopping**</span></span> |<span data-ttu-id="c5756-300">**Stopping** (Deteniéndose)</span><span class="sxs-lookup"><span data-stu-id="c5756-300">**Stopping**</span></span> |<span data-ttu-id="c5756-301">No (estado transitorio)</span><span class="sxs-lookup"><span data-stu-id="c5756-301">No (transient state)</span></span> |
| <span data-ttu-id="c5756-302">**Stopped**</span><span class="sxs-lookup"><span data-stu-id="c5756-302">**Stopped**</span></span> |<span data-ttu-id="c5756-303">**Stopped**</span><span class="sxs-lookup"><span data-stu-id="c5756-303">**Stopped**</span></span> |<span data-ttu-id="c5756-304">No</span><span class="sxs-lookup"><span data-stu-id="c5756-304">No</span></span> |

## <span data-ttu-id="c5756-305"><a id="cc_and_ads"></a>Subtítulos e inserción de anuncios</span><span class="sxs-lookup"><span data-stu-id="c5756-305"><a id="cc_and_ads"></a>Closed captioning and ad insertion</span></span>
<span data-ttu-id="c5756-306">En la siguiente tabla se muestran los estándares de subtítulos e inserción de anuncios compatibles.</span><span class="sxs-lookup"><span data-stu-id="c5756-306">The following table demonstrates supported standards for closed captioning and ad insertion.</span></span>

| <span data-ttu-id="c5756-307">Estándar</span><span class="sxs-lookup"><span data-stu-id="c5756-307">Standard</span></span> | <span data-ttu-id="c5756-308">Notas</span><span class="sxs-lookup"><span data-stu-id="c5756-308">Notes</span></span> |
| --- | --- |
| <span data-ttu-id="c5756-309">CEA-708 y EIA-608 (708/608)</span><span class="sxs-lookup"><span data-stu-id="c5756-309">CEA-708 and EIA-608 (708/608)</span></span> |<span data-ttu-id="c5756-310">Estándares de subtítulos para Estados Unidos y Canadá.</span><span class="sxs-lookup"><span data-stu-id="c5756-310">CEA-708 and EIA-608 are closed-captioning standards for the United States and Canada.</span></span><p><p><span data-ttu-id="c5756-311">Actualmente, solo se admiten subtítulos de transmisión de entrada codificada.</span><span class="sxs-lookup"><span data-stu-id="c5756-311">Currently, captioning is supported only if carried in the encoded input stream.</span></span> <span data-ttu-id="c5756-312">Debe usar un codificador multimedia en vivo que pueda insertar subtítulos 608 o 708 en la transmisión codificada que se envía a Media Services.</span><span class="sxs-lookup"><span data-stu-id="c5756-312">You need to use a live media encoder that can insert 608 or 708 captions in the encoded stream that's sent to Media Services.</span></span> <span data-ttu-id="c5756-313">Media Services ofrecerá el contenido con subtítulos insertados en los visores.</span><span class="sxs-lookup"><span data-stu-id="c5756-313">Media Services delivers the content with inserted captions to your viewers.</span></span> |
| <span data-ttu-id="c5756-314">TTML dentro de .ismt (pistas de texto Smooth Streaming)</span><span class="sxs-lookup"><span data-stu-id="c5756-314">TTML inside .ismt (Smooth Streaming text tracks)</span></span> |<span data-ttu-id="c5756-315">El empaquetado dinámico de Media Services permite a los clientes transmitir contenido de cualquiera de los siguientes formatos: DASH, HLS o Smooth Streaming.</span><span class="sxs-lookup"><span data-stu-id="c5756-315">Media Services dynamic packaging enables your clients to stream content in any of the following formats: DASH, HLS, or Smooth Streaming.</span></span> <span data-ttu-id="c5756-316">Sin embargo, si ingiere MP4 fragmentado (Smooth Streaming) con subtítulos dentro de .ismt (pistas de texto Smooth Streaming), solo podrá entregar la transmisión a clientes de Smooth Streaming.</span><span class="sxs-lookup"><span data-stu-id="c5756-316">However, if you ingest fragmented MP4 (Smooth Streaming) with captions inside .ismt (Smooth Streaming text tracks), you can deliver the stream to only Smooth Streaming clients.</span></span> |
| <span data-ttu-id="c5756-317">SCTE-35</span><span class="sxs-lookup"><span data-stu-id="c5756-317">SCTE-35</span></span> |<span data-ttu-id="c5756-318">Sistema de señalización digital utilizado para poner en cola la inserción de publicidad.</span><span class="sxs-lookup"><span data-stu-id="c5756-318">SCTE-35 is a digital signaling system that's used to cue advertising insertion.</span></span> <span data-ttu-id="c5756-319">Los receptores descendentes usan la señal para unir la publicidad a la secuencia por el tiempo asignado.</span><span class="sxs-lookup"><span data-stu-id="c5756-319">Downstream receivers use the signal to splice advertising into the stream for the allotted time.</span></span> <span data-ttu-id="c5756-320">SCTE-35 se debe enviar como una pista dispersa en la secuencia de entrada.</span><span class="sxs-lookup"><span data-stu-id="c5756-320">SCTE-35 must be sent as a sparse track in the input stream.</span></span><p><p><span data-ttu-id="c5756-321">En la actualidad, el único formato de transmisión de entrada admitido con señales de publicidad es el formato MP4 fragmentado (Smooth Streaming).</span><span class="sxs-lookup"><span data-stu-id="c5756-321">Currently, the only supported input stream format that carries ad signals is fragmented MP4 (Smooth Streaming).</span></span> <span data-ttu-id="c5756-322">El único formato de salida admitido también es Smooth Streaming.</span><span class="sxs-lookup"><span data-stu-id="c5756-322">The only supported output format is also Smooth Streaming.</span></span> |

## <span data-ttu-id="c5756-323"><a id="considerations"></a>Consideraciones</span><span class="sxs-lookup"><span data-stu-id="c5756-323"><a id="considerations"></a>Considerations</span></span>
<span data-ttu-id="c5756-324">Cuando se usa un codificador en vivo local para enviar una transmisión de velocidad de bits múltiple en un canal, se aplican las siguientes restricciones:</span><span class="sxs-lookup"><span data-stu-id="c5756-324">When you're using an on-premises live encoder to send a multi-bitrate stream to a channel, the following constraints apply:</span></span>

* <span data-ttu-id="c5756-325">Asegúrese de que tiene suficiente conectividad a Internet disponible para enviar datos a los puntos de ingesta.</span><span class="sxs-lookup"><span data-stu-id="c5756-325">Make sure you have sufficient free Internet connectivity to send data to the ingest points.</span></span>
* <span data-ttu-id="c5756-326">El uso de una dirección URL de ingesta secundaria requiere más ancho de banda.</span><span class="sxs-lookup"><span data-stu-id="c5756-326">Using a secondary ingest URL requires additional bandwidth.</span></span>
* <span data-ttu-id="c5756-327">La transmisión entrante de velocidad de bits múltiple puede tener un máximo de 10 niveles de calidad de vídeo (capas) y un máximo de 5 pistas de audio.</span><span class="sxs-lookup"><span data-stu-id="c5756-327">The incoming multi-bitrate stream can have a maximum of 10 video quality levels (layers) and a maximum of 5 audio tracks.</span></span>
* <span data-ttu-id="c5756-328">La mayor velocidad de bits promedio para cualquiera de los niveles de calidad de vídeo debe ser inferior a 10 Mbps.</span><span class="sxs-lookup"><span data-stu-id="c5756-328">The highest average bitrate for any of the video quality levels should be below 10 Mbps.</span></span>
* <span data-ttu-id="c5756-329">La suma de las velocidades de bits promedio para todas las secuencias de audio y vídeo debe ser inferior a 25 Mbps.</span><span class="sxs-lookup"><span data-stu-id="c5756-329">The aggregate of the average bitrates for all the video and audio streams should be below 25 Mbps.</span></span>
* <span data-ttu-id="c5756-330">No se puede cambiar el protocolo de entrada mientras el canal o sus programas asociados se están ejecutando.</span><span class="sxs-lookup"><span data-stu-id="c5756-330">You cannot change the input protocol while the channel or its associated programs are running.</span></span> <span data-ttu-id="c5756-331">Si necesita diferentes protocolos, debe crear canales independientes para cada protocolo de entrada.</span><span class="sxs-lookup"><span data-stu-id="c5756-331">If you require different protocols, you should create separate channels for each input protocol.</span></span>
* <span data-ttu-id="c5756-332">Puede ingerir una velocidad de bits única en el canal.</span><span class="sxs-lookup"><span data-stu-id="c5756-332">You can ingest a single bitrate in your channel.</span></span> <span data-ttu-id="c5756-333">Pero, dado que el canal no procesa la transmisión, las aplicaciones cliente también recibirán una transmisión de velocidad de bits única.</span><span class="sxs-lookup"><span data-stu-id="c5756-333">But because the channel does not process the stream, the client applications will also receive a single bitrate stream.</span></span> <span data-ttu-id="c5756-334">(Esta opción no se recomienda).</span><span class="sxs-lookup"><span data-stu-id="c5756-334">(We don't recommend this option.)</span></span>

<span data-ttu-id="c5756-335">Aquí encontrará otras consideraciones sobre el funcionamiento de los canales y los componentes relacionados:</span><span class="sxs-lookup"><span data-stu-id="c5756-335">Here are other considerations related to working with channels and related components:</span></span>

* <span data-ttu-id="c5756-336">Cada vez que vuelva a configurar el codificador en directo, llame al método **Restablecer** en el canal.</span><span class="sxs-lookup"><span data-stu-id="c5756-336">Every time you reconfigure the live encoder, call the **Reset** method on the channel.</span></span> <span data-ttu-id="c5756-337">Antes de restablecer el canal, debe detener el programa.</span><span class="sxs-lookup"><span data-stu-id="c5756-337">Before you reset the channel, you have to stop the program.</span></span> <span data-ttu-id="c5756-338">Después de restablecer el canal, reinicie el programa.</span><span class="sxs-lookup"><span data-stu-id="c5756-338">After you reset the channel, restart the program.</span></span>
* <span data-ttu-id="c5756-339">Un canal se puede detener solo cuando está en el estado **En ejecución** y se han detenido todos los programas del canal.</span><span class="sxs-lookup"><span data-stu-id="c5756-339">A channel can be stopped only when it's in the **Running** state and all programs on the channel have been stopped.</span></span>
* <span data-ttu-id="c5756-340">Solo puede agregar cinco canales a su cuenta de Media Services de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="c5756-340">By default, you can add only 5 channels to your Media Services account.</span></span> <span data-ttu-id="c5756-341">Para más información, consulte [Cuotas y limitaciones](media-services-quotas-and-limitations.md).</span><span class="sxs-lookup"><span data-stu-id="c5756-341">For more information, see [Quotas and limitations](media-services-quotas-and-limitations.md).</span></span>
* <span data-ttu-id="c5756-342">Solo se le cobrará cuando el canal esté en estado **En ejecución**.</span><span class="sxs-lookup"><span data-stu-id="c5756-342">You are billed only when your channel is in the **Running** state.</span></span> <span data-ttu-id="c5756-343">Para más información, consulte la sección [Estados de los canales y facturación](media-services-live-streaming-with-onprem-encoders.md#states).</span><span class="sxs-lookup"><span data-stu-id="c5756-343">For more information, refer to the [Channel states and billing](media-services-live-streaming-with-onprem-encoders.md#states) section.</span></span>

## <a name="media-services-learning-paths"></a><span data-ttu-id="c5756-344">Rutas de aprendizaje de Servicios multimedia</span><span class="sxs-lookup"><span data-stu-id="c5756-344">Media Services learning paths</span></span>
[!INCLUDE [media-services-learning-paths-include](../../includes/media-services-learning-paths-include.md)]

## <a name="feedback"></a><span data-ttu-id="c5756-345">Comentarios</span><span class="sxs-lookup"><span data-stu-id="c5756-345">Feedback</span></span>
[!INCLUDE [media-services-user-voice-include](../../includes/media-services-user-voice-include.md)]

## <a name="related-topics"></a><span data-ttu-id="c5756-346">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="c5756-346">Related topics</span></span>
[<span data-ttu-id="c5756-347">Especificación de la introducción en directo de MP4 fragmentado de Azure Media Services</span><span class="sxs-lookup"><span data-stu-id="c5756-347">Azure Media Services fragmented MP4 live ingest specification</span></span>](media-services-fmp4-live-ingest-overview.md)

[<span data-ttu-id="c5756-348">Información general y escenarios comunes de Azure Media Services</span><span class="sxs-lookup"><span data-stu-id="c5756-348">Azure Media Services overview and common scenarios</span></span>](media-services-overview.md)

[<span data-ttu-id="c5756-349">Conceptos de Azure Media Services</span><span class="sxs-lookup"><span data-stu-id="c5756-349">Media Services concepts</span></span>](media-services-concepts.md)

[live-overview]: ./media/media-services-manage-channels-overview/media-services-live-streaming-current.png
