---
title: "Información general sobre las plantillas de licencias de Widevine | Microsoft Docs"
description: "Este tema proporciona información general sobre una plantilla de licencia de Widevine que se usó para configurar las licencias de Widevine."
author: juliako
manager: cfowler
editor: 
services: media-services
documentationcenter: 
ms.assetid: 0e6f1f05-7ed6-4ed6-82a0-0cc2182b075a
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/29/2017
ms.author: juliako
ms.openlocfilehash: 667ff16dc7608dab2a5b8b1fd7df715da4620ca1
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/29/2017
---
# <a name="widevine-license-template-overview"></a><span data-ttu-id="aa187-103">Información general sobre las plantillas de licencias de Widevine</span><span class="sxs-lookup"><span data-stu-id="aa187-103">Widevine license template overview</span></span>
## <a name="overview"></a><span data-ttu-id="aa187-104">Información general</span><span class="sxs-lookup"><span data-stu-id="aa187-104">Overview</span></span>
<span data-ttu-id="aa187-105">Servicios multimedia de Azure ahora permite configurar y solicitar licencias de Widevine.</span><span class="sxs-lookup"><span data-stu-id="aa187-105">Azure Media Services now enables you to configure and request Widevine licenses.</span></span> <span data-ttu-id="aa187-106">Cuando el reproductor del usuario final intenta reproducir el contenido protegido de Widevine, se envía una solicitud al servicio de entrega de licencias para obtener una licencia.</span><span class="sxs-lookup"><span data-stu-id="aa187-106">When the end user player tries to play your Widevine protected content, a request is sent to the license delivery service to obtain a license.</span></span> <span data-ttu-id="aa187-107">Si el servicio de licencia aprueba la solicitud, emite la licencia, la que se envía al cliente y se puede usar para descifrar y reproducir el contenido especificado.</span><span class="sxs-lookup"><span data-stu-id="aa187-107">If the license service approves the request, it issues the license which is sent to the client and can be used to decrypt and play the specified content.</span></span>

<span data-ttu-id="aa187-108">La solicitud de licencia de Widevine recibe el formato de un mensaje JSON.</span><span class="sxs-lookup"><span data-stu-id="aa187-108">Widevine license request is formatted as a JSON message.</span></span>  

>[!NOTE]
> <span data-ttu-id="aa187-109">Puede crear un mensaje vacío sin valores: simplemente use "{}" y se creará una plantilla de licencia con todos los valores predeterminados.</span><span class="sxs-lookup"><span data-stu-id="aa187-109">You can choose to create an empty message with no values just "{}" and a license template will be created with all defaults.</span></span> <span data-ttu-id="aa187-110">La configuración predeterminada funciona para la mayoría de los casos.</span><span class="sxs-lookup"><span data-stu-id="aa187-110">The default works for most cases.</span></span> <span data-ttu-id="aa187-111">Por ejemplo, en el caso de escenarios de entrega de licencia basados en Microsoft, los valores siempre deberían ser los predeterminados.</span><span class="sxs-lookup"><span data-stu-id="aa187-111">For example, for MS based license delivery scenarios that should always be default.</span></span> <span data-ttu-id="aa187-112">Si tiene que establecer los valores de "provider" y "content_id", el proveedor debe coincidir con las credenciales de Widevine de Google.</span><span class="sxs-lookup"><span data-stu-id="aa187-112">If you do need to set the "provider" and "content_id" values, a provider must match Google's Widevine credentials.</span></span>

    {  
       “payload”:“<license challenge>”,
       “content_id”: “<content id>” 
       “provider”: ”<provider>”
       “allowed_track_types”:“<types>”,
       “content_key_specs”:[  
          {  
             “track_type”:“<track type 1>”
          },
          {  
             “track_type”:“<track type 2>”
          },
          …
       ],
       “policy_overrides”:{  
          “can_play”:<can play>,
          “can persist”:<can persist>,
          “can_renew”:<can renew>,
          “rental_duration_seconds”:<rental duration>,
          “playback_duration_seconds”:<playback duration>,
          “license_duration_seconds”:<license duration>,
          “renewal_recovery_duration_seconds”:<renewal recovery duration>,
          “renewal_server_url”:”<renewal server url>”,
          “renewal_delay_seconds”:<renewal delay>,
          “renewal_retry_interval_seconds”:<renewal retry interval>,
          “renew_with_usage”:<renew with usage>
       }
    }

## <a name="json-message"></a><span data-ttu-id="aa187-113">Mensaje JSON</span><span class="sxs-lookup"><span data-stu-id="aa187-113">JSON message</span></span>
| <span data-ttu-id="aa187-114">Nombre</span><span class="sxs-lookup"><span data-stu-id="aa187-114">Name</span></span> | <span data-ttu-id="aa187-115">Valor</span><span class="sxs-lookup"><span data-stu-id="aa187-115">Value</span></span> | <span data-ttu-id="aa187-116">Description</span><span class="sxs-lookup"><span data-stu-id="aa187-116">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="aa187-117">payload</span><span class="sxs-lookup"><span data-stu-id="aa187-117">payload</span></span> |<span data-ttu-id="aa187-118">cadena codificada en Base64</span><span class="sxs-lookup"><span data-stu-id="aa187-118">Base64 encoded string</span></span> |<span data-ttu-id="aa187-119">La solicitud de licencia enviada por un cliente.</span><span class="sxs-lookup"><span data-stu-id="aa187-119">The license request sent by a client.</span></span> |
| <span data-ttu-id="aa187-120">content_id</span><span class="sxs-lookup"><span data-stu-id="aa187-120">content_id</span></span> |<span data-ttu-id="aa187-121">cadena codificada en Base64</span><span class="sxs-lookup"><span data-stu-id="aa187-121">Base64 encoded string</span></span> |<span data-ttu-id="aa187-122">Identificador utilizado para derivar KeyId(s) y Content Key(s) para cada content_key_specs.track_type.</span><span class="sxs-lookup"><span data-stu-id="aa187-122">Identifier used to derive KeyId(s) and Content Key(s) for each content_key_specs.track_type.</span></span> |
| <span data-ttu-id="aa187-123">provider</span><span class="sxs-lookup"><span data-stu-id="aa187-123">provider</span></span> |<span data-ttu-id="aa187-124">string</span><span class="sxs-lookup"><span data-stu-id="aa187-124">string</span></span> |<span data-ttu-id="aa187-125">Utilizado para buscar directivas y claves de contenido.</span><span class="sxs-lookup"><span data-stu-id="aa187-125">Used to look up content keys and policies.</span></span> <span data-ttu-id="aa187-126">En el caso de que se use la entrega de claves de Microsoft para la entrega de licencias de Widevine, este parámetro se omite.</span><span class="sxs-lookup"><span data-stu-id="aa187-126">If MS key delivery is used for Widevine license delivery, this parameter is ignored.</span></span> |
| <span data-ttu-id="aa187-127">policy_name</span><span class="sxs-lookup"><span data-stu-id="aa187-127">policy_name</span></span> |<span data-ttu-id="aa187-128">string</span><span class="sxs-lookup"><span data-stu-id="aa187-128">string</span></span> |<span data-ttu-id="aa187-129">Nombre de una directiva previamente registrada.</span><span class="sxs-lookup"><span data-stu-id="aa187-129">Name of a previously registered policy.</span></span> <span data-ttu-id="aa187-130">Opcional</span><span class="sxs-lookup"><span data-stu-id="aa187-130">Optional</span></span> |
| <span data-ttu-id="aa187-131">allowed_track_types</span><span class="sxs-lookup"><span data-stu-id="aa187-131">allowed_track_types</span></span> |<span data-ttu-id="aa187-132">enum</span><span class="sxs-lookup"><span data-stu-id="aa187-132">enum</span></span> |<span data-ttu-id="aa187-133">SD_ONLY o SD_HD.</span><span class="sxs-lookup"><span data-stu-id="aa187-133">SD_ONLY or SD_HD.</span></span> <span data-ttu-id="aa187-134">Controla qué claves de contenido deben incluirse en una licencia.</span><span class="sxs-lookup"><span data-stu-id="aa187-134">Controls which content keys should be included in a license</span></span> |
| <span data-ttu-id="aa187-135">content_key_specs</span><span class="sxs-lookup"><span data-stu-id="aa187-135">content_key_specs</span></span> |<span data-ttu-id="aa187-136">matriz de estructuras JSON, vea **Especificaciones de clave de contenido** a continuación</span><span class="sxs-lookup"><span data-stu-id="aa187-136">array of JSON structures, see **Content Key Specs** below</span></span> |<span data-ttu-id="aa187-137">Un control más preciso sobre qué claves de contenido se devolverán.</span><span class="sxs-lookup"><span data-stu-id="aa187-137">A finer grained control on what content keys to return.</span></span> <span data-ttu-id="aa187-138">Vea Especificaciones de clave de contenido para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="aa187-138">See Content Key Spec below for details.</span></span>  <span data-ttu-id="aa187-139">Solo se puede especificar uno de los valores allowed_track_types y content_key_specs.</span><span class="sxs-lookup"><span data-stu-id="aa187-139">Only one of allowed_track_types and content_key_specs can be specified.</span></span> |
| <span data-ttu-id="aa187-140">use_policy_overrides_exclusively</span><span class="sxs-lookup"><span data-stu-id="aa187-140">use_policy_overrides_exclusively</span></span> |<span data-ttu-id="aa187-141">valor booleano.</span><span class="sxs-lookup"><span data-stu-id="aa187-141">boolean.</span></span> <span data-ttu-id="aa187-142">true o false</span><span class="sxs-lookup"><span data-stu-id="aa187-142">true or false</span></span> |<span data-ttu-id="aa187-143">Utilice atributos de directiva especificados por policy_overrides y omita todas las directivas almacenadas previamente.</span><span class="sxs-lookup"><span data-stu-id="aa187-143">Use policy attributes specified by policy_overrides and omit all previously stored policy.</span></span> |
| <span data-ttu-id="aa187-144">policy_overrides</span><span class="sxs-lookup"><span data-stu-id="aa187-144">policy_overrides</span></span> |<span data-ttu-id="aa187-145">Estructura JSON, vea **Invalidaciones de directivas** a continuación</span><span class="sxs-lookup"><span data-stu-id="aa187-145">JSON structure, see **Policy Overrides** below</span></span> |<span data-ttu-id="aa187-146">Configuración de directiva para esta licencia.</span><span class="sxs-lookup"><span data-stu-id="aa187-146">Policy settings for this license.</span></span>  <span data-ttu-id="aa187-147">En caso de que este activo tenga una directiva definida previamente, se usarán estos valores especificados.</span><span class="sxs-lookup"><span data-stu-id="aa187-147">In the event this asset has a pre-defined policy, these specified values will be used.</span></span> |
| <span data-ttu-id="aa187-148">session_init</span><span class="sxs-lookup"><span data-stu-id="aa187-148">session_init</span></span> |<span data-ttu-id="aa187-149">Estructura JSON, vea **Inicialización de la sesión** a continuación</span><span class="sxs-lookup"><span data-stu-id="aa187-149">JSON structure, see **Session Initialization** below</span></span> |<span data-ttu-id="aa187-150">Los datos opcionales que se pasan a la licencia.</span><span class="sxs-lookup"><span data-stu-id="aa187-150">Optional data passed to license.</span></span> |
| <span data-ttu-id="aa187-151">parse_only</span><span class="sxs-lookup"><span data-stu-id="aa187-151">parse_only</span></span> |<span data-ttu-id="aa187-152">valor booleano.</span><span class="sxs-lookup"><span data-stu-id="aa187-152">boolean.</span></span> <span data-ttu-id="aa187-153">true o false</span><span class="sxs-lookup"><span data-stu-id="aa187-153">true or false</span></span> |<span data-ttu-id="aa187-154">Se analiza la solicitud de licencia, pero no se emite ninguna licencia.</span><span class="sxs-lookup"><span data-stu-id="aa187-154">The license request is parsed but no license is issued.</span></span> <span data-ttu-id="aa187-155">Sin embargo, los valores de la solicitud de licencia se devuelven en la respuesta.</span><span class="sxs-lookup"><span data-stu-id="aa187-155">However, values form the license request are returned in the response.</span></span> |

## <a name="content-key-specs"></a><span data-ttu-id="aa187-156">Especificaciones de clave de contenido</span><span class="sxs-lookup"><span data-stu-id="aa187-156">Content Key Specs</span></span>
<span data-ttu-id="aa187-157">Si existe una directiva anterior, no es necesario especificar ninguno de los valores en las especificaciones de clave de contenido.  La directiva anterior asociada a este contenido se utilizará para determinar la protección de salida como HDCP y CGMS.</span><span class="sxs-lookup"><span data-stu-id="aa187-157">If a pre-existing policy exist, there is no need to specify any of the values in the Content Key Spec.  The pre-existing policy associated with this content will be used to determine the output protection such as HDCP and CGMS.</span></span>  <span data-ttu-id="aa187-158">Si no hay una directiva anterior registrada con el servidor de licencias de Widevine, el proveedor de contenido puede insertar los valores en la solicitud de licencia.</span><span class="sxs-lookup"><span data-stu-id="aa187-158">If a pre-existing policy is not registered with the Widevine License Server, the content provider can inject the values into the license request.</span></span>   

<span data-ttu-id="aa187-159">Cada valor content_key_specs debe especificarse para todas las pistas, independientemente de la opción use_policy_overrides_exclusively.</span><span class="sxs-lookup"><span data-stu-id="aa187-159">Each content_key_specs must be specified for all tracks, regardless of the option use_policy_overrides_exclusively.</span></span> 

| <span data-ttu-id="aa187-160">Nombre</span><span class="sxs-lookup"><span data-stu-id="aa187-160">Name</span></span> | <span data-ttu-id="aa187-161">Valor</span><span class="sxs-lookup"><span data-stu-id="aa187-161">Value</span></span> | <span data-ttu-id="aa187-162">Descripción</span><span class="sxs-lookup"><span data-stu-id="aa187-162">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="aa187-163">content_key_specs.</span><span class="sxs-lookup"><span data-stu-id="aa187-163">content_key_specs.</span></span> <span data-ttu-id="aa187-164">track_type</span><span class="sxs-lookup"><span data-stu-id="aa187-164">track_type</span></span> |<span data-ttu-id="aa187-165">string</span><span class="sxs-lookup"><span data-stu-id="aa187-165">string</span></span> |<span data-ttu-id="aa187-166">Un nombre de tipo de pista.</span><span class="sxs-lookup"><span data-stu-id="aa187-166">A track type name.</span></span> <span data-ttu-id="aa187-167">Si se especifica content_key_specs en la solicitud de licencia, asegúrese de especificar todos los tipos de pista explícitamente.</span><span class="sxs-lookup"><span data-stu-id="aa187-167">If content_key_specs is specified in the license request, make sure to specify all track types explicitly.</span></span> <span data-ttu-id="aa187-168">Si no lo hace, se producirán errores en la reproducción transcurridos 10 segundos.</span><span class="sxs-lookup"><span data-stu-id="aa187-168">Failure to do so will result in failure to playback past 10 seconds.</span></span> |
| <span data-ttu-id="aa187-169">content_key_specs</span><span class="sxs-lookup"><span data-stu-id="aa187-169">content_key_specs</span></span>  <br/> <span data-ttu-id="aa187-170">security_level</span><span class="sxs-lookup"><span data-stu-id="aa187-170">security_level</span></span> |<span data-ttu-id="aa187-171">uint32</span><span class="sxs-lookup"><span data-stu-id="aa187-171">uint32</span></span> |<span data-ttu-id="aa187-172">Define los requisitos de solidez del cliente para la reproducción.</span><span class="sxs-lookup"><span data-stu-id="aa187-172">Defines client robustness requirements for playback.</span></span> <br/> <span data-ttu-id="aa187-173">1 - Se requiere criptografía white-box basada en software.</span><span class="sxs-lookup"><span data-stu-id="aa187-173">1 - Software-based whitebox crypto is required.</span></span> <br/> <span data-ttu-id="aa187-174">2 - Se requiere criptografía de software y un descodificador de ofuscación.</span><span class="sxs-lookup"><span data-stu-id="aa187-174">2 - Software crypto and an obfuscated decoder is required.</span></span> <br/> <span data-ttu-id="aa187-175">3 - Las operaciones de criptografía y material clave deben realizarse en un entorno de ejecución de confianza con respaldo de hardware.</span><span class="sxs-lookup"><span data-stu-id="aa187-175">3 - The key material and crypto operations must be performed within a hardware backed trusted execution environment.</span></span> <br/> <span data-ttu-id="aa187-176">4 - La criptografía y la descodificación del contenido deben realizarse dentro de un entorno de ejecución de confianza con respaldo de hardware.</span><span class="sxs-lookup"><span data-stu-id="aa187-176">4 - The crypto and decoding of content must be performed within a hardware backed trusted execution environment.</span></span>  <br/> <span data-ttu-id="aa187-177">5 - La criptografía, la descodificación y todo el tratamiento de los medios (comprimidos y descomprimidos) deben administrarse dentro de un entorno de ejecución de confianza con respaldo de hardware.</span><span class="sxs-lookup"><span data-stu-id="aa187-177">5 - The crypto, decoding and all handling of the media (compressed and uncompressed) must be handled within a hardware backed trusted execution environment.</span></span> |
| <span data-ttu-id="aa187-178">content_key_specs</span><span class="sxs-lookup"><span data-stu-id="aa187-178">content_key_specs</span></span> <br/> <span data-ttu-id="aa187-179">required_output_protection.hdc</span><span class="sxs-lookup"><span data-stu-id="aa187-179">required_output_protection.hdc</span></span> |<span data-ttu-id="aa187-180">cadena - una de HDCP_NONE, HDCP_V1, HDCP_V2</span><span class="sxs-lookup"><span data-stu-id="aa187-180">string - one of: HDCP_NONE, HDCP_V1, HDCP_V2</span></span> |<span data-ttu-id="aa187-181">Indica si se requiere HDCP.</span><span class="sxs-lookup"><span data-stu-id="aa187-181">Indicates whether HDCP is require</span></span> |
| <span data-ttu-id="aa187-182">content_key_specs</span><span class="sxs-lookup"><span data-stu-id="aa187-182">content_key_specs</span></span> <br/><span data-ttu-id="aa187-183">key</span><span class="sxs-lookup"><span data-stu-id="aa187-183">key</span></span> |<span data-ttu-id="aa187-184">cadena codificada en Base64</span><span class="sxs-lookup"><span data-stu-id="aa187-184">Base64</span></span> <br/><span data-ttu-id="aa187-185">cadena codificada</span><span class="sxs-lookup"><span data-stu-id="aa187-185">encoded string</span></span> |<span data-ttu-id="aa187-186">Clave de contenido que se utilizará para esta pista. Si se especifica, se requiere track_type o key_id.</span><span class="sxs-lookup"><span data-stu-id="aa187-186">Content key to use for this track. If specified, the track_type or key_id is required.</span></span>  <span data-ttu-id="aa187-187">Esta opción permite que el proveedor de contenido inserte la clave de contenido para esta pista en lugar de permitir que el servidor de licencias de Widevine genere o busque una clave.</span><span class="sxs-lookup"><span data-stu-id="aa187-187">This option allows the content provider to inject the content key for this track instead of letting Widevine license server generate or lookup a key.</span></span> |
| <span data-ttu-id="aa187-188">content_key_specs.key_id</span><span class="sxs-lookup"><span data-stu-id="aa187-188">content_key_specs.key_id</span></span> |<span data-ttu-id="aa187-189">Binario de cadena codificada en Base64, 16 bytes</span><span class="sxs-lookup"><span data-stu-id="aa187-189">Base64 encoded string  binary, 16 bytes</span></span> |<span data-ttu-id="aa187-190">Identificador único para la clave.</span><span class="sxs-lookup"><span data-stu-id="aa187-190">Unique identifier for the key.</span></span> |

## <a name="policy-overrides"></a><span data-ttu-id="aa187-191">Invalidaciones de directivas</span><span class="sxs-lookup"><span data-stu-id="aa187-191">Policy Overrides</span></span>
| <span data-ttu-id="aa187-192">Nombre</span><span class="sxs-lookup"><span data-stu-id="aa187-192">Name</span></span> | <span data-ttu-id="aa187-193">Valor</span><span class="sxs-lookup"><span data-stu-id="aa187-193">Value</span></span> | <span data-ttu-id="aa187-194">Descripción</span><span class="sxs-lookup"><span data-stu-id="aa187-194">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="aa187-195">policy_overrides.</span><span class="sxs-lookup"><span data-stu-id="aa187-195">policy_overrides.</span></span> <span data-ttu-id="aa187-196">can_play</span><span class="sxs-lookup"><span data-stu-id="aa187-196">can_play</span></span> |<span data-ttu-id="aa187-197">valor booleano.</span><span class="sxs-lookup"><span data-stu-id="aa187-197">boolean.</span></span> <span data-ttu-id="aa187-198">true o false</span><span class="sxs-lookup"><span data-stu-id="aa187-198">true or false</span></span> |<span data-ttu-id="aa187-199">Indica que la reproducción del contenido está permitida.</span><span class="sxs-lookup"><span data-stu-id="aa187-199">Indicates that playback of the content is allowed.</span></span> <span data-ttu-id="aa187-200">El valor predeterminado es false.</span><span class="sxs-lookup"><span data-stu-id="aa187-200">Default is false.</span></span> |
| <span data-ttu-id="aa187-201">policy_overrides.</span><span class="sxs-lookup"><span data-stu-id="aa187-201">policy_overrides.</span></span> <span data-ttu-id="aa187-202">can_persist</span><span class="sxs-lookup"><span data-stu-id="aa187-202">can_persist</span></span> |<span data-ttu-id="aa187-203">valor booleano.</span><span class="sxs-lookup"><span data-stu-id="aa187-203">boolean.</span></span> <span data-ttu-id="aa187-204">true o false</span><span class="sxs-lookup"><span data-stu-id="aa187-204">true or false</span></span> |<span data-ttu-id="aa187-205">Indica que la licencia puede conservarse en el almacenamiento no volátil para uso sin conexión.</span><span class="sxs-lookup"><span data-stu-id="aa187-205">Indicates that the license may be persisted to non-volatile storage for offline use.</span></span> <span data-ttu-id="aa187-206">El valor predeterminado es false.</span><span class="sxs-lookup"><span data-stu-id="aa187-206">Default is false.</span></span> |
| <span data-ttu-id="aa187-207">policy_overrides.</span><span class="sxs-lookup"><span data-stu-id="aa187-207">policy_overrides.</span></span> <span data-ttu-id="aa187-208">can_renew</span><span class="sxs-lookup"><span data-stu-id="aa187-208">can_renew</span></span> |<span data-ttu-id="aa187-209">valor booleano. true o false</span><span class="sxs-lookup"><span data-stu-id="aa187-209">boolean true or false</span></span> |<span data-ttu-id="aa187-210">Indica que se permite la renovación de la presente licencia.</span><span class="sxs-lookup"><span data-stu-id="aa187-210">Indicates that renewal of this license is allowed.</span></span> <span data-ttu-id="aa187-211">Si es true, se puede ampliar la duración de la licencia mediante latido.</span><span class="sxs-lookup"><span data-stu-id="aa187-211">If true, the duration of the license can be extended by heartbeat.</span></span> <span data-ttu-id="aa187-212">El valor predeterminado es false.</span><span class="sxs-lookup"><span data-stu-id="aa187-212">Default is false.</span></span> |
| <span data-ttu-id="aa187-213">policy_overrides.</span><span class="sxs-lookup"><span data-stu-id="aa187-213">policy_overrides.</span></span> <span data-ttu-id="aa187-214">license_duration_seconds</span><span class="sxs-lookup"><span data-stu-id="aa187-214">license_duration_seconds</span></span> |<span data-ttu-id="aa187-215">int64</span><span class="sxs-lookup"><span data-stu-id="aa187-215">int64</span></span> |<span data-ttu-id="aa187-216">Indica el período de tiempo para esta licencia específica.</span><span class="sxs-lookup"><span data-stu-id="aa187-216">Indicates the time window for this specific license.</span></span> <span data-ttu-id="aa187-217">Un valor de 0 indica que no hay ningún límite para la duración.</span><span class="sxs-lookup"><span data-stu-id="aa187-217">A value of 0 indicates that there is no limit to the duration.</span></span> <span data-ttu-id="aa187-218">El valor predeterminado es 0.</span><span class="sxs-lookup"><span data-stu-id="aa187-218">Default is 0.</span></span> |
| <span data-ttu-id="aa187-219">policy_overrides.</span><span class="sxs-lookup"><span data-stu-id="aa187-219">policy_overrides.</span></span> <span data-ttu-id="aa187-220">rental_duration_seconds</span><span class="sxs-lookup"><span data-stu-id="aa187-220">rental_duration_seconds</span></span> |<span data-ttu-id="aa187-221">int64</span><span class="sxs-lookup"><span data-stu-id="aa187-221">int64</span></span> |<span data-ttu-id="aa187-222">Indica el período de tiempo en el que se permite la reproducción.</span><span class="sxs-lookup"><span data-stu-id="aa187-222">Indicates the time window while playback is permitted.</span></span> <span data-ttu-id="aa187-223">Un valor de 0 indica que no hay ningún límite para la duración.</span><span class="sxs-lookup"><span data-stu-id="aa187-223">A value of 0 indicates that there is no limit to the duration.</span></span> <span data-ttu-id="aa187-224">El valor predeterminado es 0.</span><span class="sxs-lookup"><span data-stu-id="aa187-224">Default is 0.</span></span> |
| <span data-ttu-id="aa187-225">policy_overrides.</span><span class="sxs-lookup"><span data-stu-id="aa187-225">policy_overrides.</span></span> <span data-ttu-id="aa187-226">playback_duration_seconds</span><span class="sxs-lookup"><span data-stu-id="aa187-226">playback_duration_seconds</span></span> |<span data-ttu-id="aa187-227">int64</span><span class="sxs-lookup"><span data-stu-id="aa187-227">int64</span></span> |<span data-ttu-id="aa187-228">El período de tiempo de visualización una vez que la reproducción comienza en el plazo de duración de la licencia.</span><span class="sxs-lookup"><span data-stu-id="aa187-228">The viewing window of time once playback starts within the license duration.</span></span> <span data-ttu-id="aa187-229">Un valor de 0 indica que no hay ningún límite para la duración.</span><span class="sxs-lookup"><span data-stu-id="aa187-229">A value of 0 indicates that there is no limit to the duration.</span></span> <span data-ttu-id="aa187-230">El valor predeterminado es 0.</span><span class="sxs-lookup"><span data-stu-id="aa187-230">Default is 0.</span></span> |
| <span data-ttu-id="aa187-231">policy_overrides.</span><span class="sxs-lookup"><span data-stu-id="aa187-231">policy_overrides.</span></span> <span data-ttu-id="aa187-232">renewal_server_url</span><span class="sxs-lookup"><span data-stu-id="aa187-232">renewal_server_url</span></span> |<span data-ttu-id="aa187-233">cadena</span><span class="sxs-lookup"><span data-stu-id="aa187-233">string</span></span> |<span data-ttu-id="aa187-234">Todas las solicitudes de latido (renovación) de esta licencia se dirigirán a la dirección URL especificada.</span><span class="sxs-lookup"><span data-stu-id="aa187-234">All heartbeat (renewal) requests for this license shall be directed to the specified URL.</span></span> <span data-ttu-id="aa187-235">Este campo solo se utiliza si can_renew es true.</span><span class="sxs-lookup"><span data-stu-id="aa187-235">This field is only used if can_renew is true.</span></span> |
| <span data-ttu-id="aa187-236">policy_overrides.</span><span class="sxs-lookup"><span data-stu-id="aa187-236">policy_overrides.</span></span> <span data-ttu-id="aa187-237">renewal_delay_seconds</span><span class="sxs-lookup"><span data-stu-id="aa187-237">renewal_delay_seconds</span></span> |<span data-ttu-id="aa187-238">int64</span><span class="sxs-lookup"><span data-stu-id="aa187-238">int64</span></span> |<span data-ttu-id="aa187-239">El número de segundos después de license_start_time, antes de intentar la renovación por primera vez.</span><span class="sxs-lookup"><span data-stu-id="aa187-239">How many seconds after license_start_time, before renewal is first attempted.</span></span> <span data-ttu-id="aa187-240">Este campo solo se utiliza si can_renew es true.</span><span class="sxs-lookup"><span data-stu-id="aa187-240">This field is only used if can_renew is true.</span></span> <span data-ttu-id="aa187-241">El valor predeterminado es 0.</span><span class="sxs-lookup"><span data-stu-id="aa187-241">Default is 0</span></span> |
| <span data-ttu-id="aa187-242">policy_overrides.</span><span class="sxs-lookup"><span data-stu-id="aa187-242">policy_overrides.</span></span> <span data-ttu-id="aa187-243">renewal_retry_interval_seconds</span><span class="sxs-lookup"><span data-stu-id="aa187-243">renewal_retry_interval_seconds</span></span> |<span data-ttu-id="aa187-244">int64</span><span class="sxs-lookup"><span data-stu-id="aa187-244">int64</span></span> |<span data-ttu-id="aa187-245">Especifica el plazo en segundos entre las posteriores solicitudes de renovación de licencia, en caso de error.</span><span class="sxs-lookup"><span data-stu-id="aa187-245">Specifies the delay in seconds between subsequent license renewal requests, in case of failure.</span></span> <span data-ttu-id="aa187-246">Este campo solo se utiliza si can_renew es true.</span><span class="sxs-lookup"><span data-stu-id="aa187-246">This field is only used if can_renew is true.</span></span> |
| <span data-ttu-id="aa187-247">policy_overrides.</span><span class="sxs-lookup"><span data-stu-id="aa187-247">policy_overrides.</span></span> <span data-ttu-id="aa187-248">renewal_recovery_duration_seconds</span><span class="sxs-lookup"><span data-stu-id="aa187-248">renewal_recovery_duration_seconds</span></span> |<span data-ttu-id="aa187-249">int64</span><span class="sxs-lookup"><span data-stu-id="aa187-249">int64</span></span> |<span data-ttu-id="aa187-250">El período de tiempo en el que la reproducción puede continuar mientras se intenta la renovación, aunque no se realice correctamente debido a problemas de back-end con el servidor de licencias.</span><span class="sxs-lookup"><span data-stu-id="aa187-250">The window of time, in which playback is allowed to continue while renewal is attempted, yet unsuccessful due to backend problems with the license server.</span></span> <span data-ttu-id="aa187-251">Un valor de 0 indica que no hay ningún límite para la duración.</span><span class="sxs-lookup"><span data-stu-id="aa187-251">A value of 0 indicates that there is no limit to the duration.</span></span> <span data-ttu-id="aa187-252">Este campo solo se utiliza si can_renew es true.</span><span class="sxs-lookup"><span data-stu-id="aa187-252">This field is only used if can_renew is true.</span></span> |
| <span data-ttu-id="aa187-253">policy_overrides.</span><span class="sxs-lookup"><span data-stu-id="aa187-253">policy_overrides.</span></span> <span data-ttu-id="aa187-254">renew_with_usage</span><span class="sxs-lookup"><span data-stu-id="aa187-254">renew_with_usage</span></span> |<span data-ttu-id="aa187-255">valor booleano. true o false</span><span class="sxs-lookup"><span data-stu-id="aa187-255">boolean true or false</span></span> |<span data-ttu-id="aa187-256">Indica que la licencia se enviará para renovación cuando se inicie el uso.</span><span class="sxs-lookup"><span data-stu-id="aa187-256">Indicates that the license shall be sent for renewal when usage is started.</span></span> <span data-ttu-id="aa187-257">Este campo solo se utiliza si can_renew es true.</span><span class="sxs-lookup"><span data-stu-id="aa187-257">This field is only used if can_renew is true.</span></span> |

## <a name="session-initialization"></a><span data-ttu-id="aa187-258">Inicialización de la sesión</span><span class="sxs-lookup"><span data-stu-id="aa187-258">Session Initialization</span></span>
| <span data-ttu-id="aa187-259">Nombre</span><span class="sxs-lookup"><span data-stu-id="aa187-259">Name</span></span> | <span data-ttu-id="aa187-260">Valor</span><span class="sxs-lookup"><span data-stu-id="aa187-260">Value</span></span> | <span data-ttu-id="aa187-261">Description</span><span class="sxs-lookup"><span data-stu-id="aa187-261">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="aa187-262">provider_session_token</span><span class="sxs-lookup"><span data-stu-id="aa187-262">provider_session_token</span></span> |<span data-ttu-id="aa187-263">cadena codificada en Base64</span><span class="sxs-lookup"><span data-stu-id="aa187-263">Base64 encoded string</span></span> |<span data-ttu-id="aa187-264">Este token de sesión se pasa de nuevo en la licencia y existirá en renovaciones posteriores.</span><span class="sxs-lookup"><span data-stu-id="aa187-264">This session token is passed back in the license and will exist in subsequent renewals.</span></span>  <span data-ttu-id="aa187-265">El token de sesión no se conservará una vez agotadas las sesiones.</span><span class="sxs-lookup"><span data-stu-id="aa187-265">The session token will not persist beyond sessions.</span></span> |
| <span data-ttu-id="aa187-266">provider_client_token</span><span class="sxs-lookup"><span data-stu-id="aa187-266">provider_client_token</span></span> |<span data-ttu-id="aa187-267">cadena codificada en Base64</span><span class="sxs-lookup"><span data-stu-id="aa187-267">Base64 encoded string</span></span> |<span data-ttu-id="aa187-268">Token de cliente para devolver en la respuesta de licencia.</span><span class="sxs-lookup"><span data-stu-id="aa187-268">Client token to send back in the license response.</span></span>  <span data-ttu-id="aa187-269">Si la solicitud de licencia contiene un token de cliente, este valor se omite.</span><span class="sxs-lookup"><span data-stu-id="aa187-269">If the license request contains a client token, this value is ignored.</span></span> <span data-ttu-id="aa187-270">El token del cliente se conservará una vez agotadas las sesiones de licencia.</span><span class="sxs-lookup"><span data-stu-id="aa187-270">The client token will persist beyond license sessions.</span></span> |
| <span data-ttu-id="aa187-271">override_provider_client_token</span><span class="sxs-lookup"><span data-stu-id="aa187-271">override_provider_client_token</span></span> |<span data-ttu-id="aa187-272">valor booleano.</span><span class="sxs-lookup"><span data-stu-id="aa187-272">boolean.</span></span> <span data-ttu-id="aa187-273">true o false</span><span class="sxs-lookup"><span data-stu-id="aa187-273">true or false</span></span> |<span data-ttu-id="aa187-274">Si es false y la solicitud de licencia contiene un token de cliente, use el token de la solicitud incluso si se especificó un token de cliente en esta estructura.</span><span class="sxs-lookup"><span data-stu-id="aa187-274">If false and the license request contains a client token, use the token from the request even if a client token was specified in this structure.</span></span>  <span data-ttu-id="aa187-275">Si es true, utilice siempre el token especificado en esta estructura.</span><span class="sxs-lookup"><span data-stu-id="aa187-275">If true, always use the token specified in this structure.</span></span> |

## <a name="configure-your-widevine-licenses-using-net-types"></a><span data-ttu-id="aa187-276">Configuración de las licencias de Widevine utilizando tipos de .NET</span><span class="sxs-lookup"><span data-stu-id="aa187-276">Configure your Widevine licenses using .NET types</span></span>
<span data-ttu-id="aa187-277">Servicios multimedia proporciona las API de .NET que le permiten configurar sus licencias de Widevine.</span><span class="sxs-lookup"><span data-stu-id="aa187-277">Media Services provides .NET APIs that let you configure your Widevine licenses.</span></span> 

### <a name="classes-as-defined-in-the-media-services-net-sdk"></a><span data-ttu-id="aa187-278">Clases tal y como se definen en el SDK de .NET de Servicios multimedia</span><span class="sxs-lookup"><span data-stu-id="aa187-278">Classes as defined in the Media Services .NET SDK</span></span>
<span data-ttu-id="aa187-279">A continuación se definen estos tipos.</span><span class="sxs-lookup"><span data-stu-id="aa187-279">The following are the definitions of these types.</span></span>

    public class WidevineMessage
    {
        public WidevineMessage();

        [JsonProperty(NullValueHandling = NullValueHandling.Ignore)]
        public AllowedTrackTypes? allowed_track_types { get; set; }
        [JsonProperty(NullValueHandling = NullValueHandling.Ignore)]
        public ContentKeySpecs[] content_key_specs { get; set; }
        [JsonProperty(NullValueHandling = NullValueHandling.Ignore)]
        public object policy_overrides { get; set; }
    }

    [JsonConverter(typeof(StringEnumConverter))]
    public enum AllowedTrackTypes
    {
        SD_ONLY = 0,
        SD_HD = 1
    }
    public class ContentKeySpecs
    {
        public ContentKeySpecs();

        [JsonProperty(NullValueHandling = NullValueHandling.Ignore)]
        public string key_id { get; set; }
        [JsonProperty(NullValueHandling = NullValueHandling.Ignore)]
        public RequiredOutputProtection required_output_protection { get; set; }
        [JsonProperty(NullValueHandling = NullValueHandling.Ignore)]
        public int? security_level { get; set; }
        [JsonProperty(NullValueHandling = NullValueHandling.Ignore)]
        public string track_type { get; set; }
    }

    public class RequiredOutputProtection
    {
        public RequiredOutputProtection();

        public Hdcp hdcp { get; set; }
    }

    [JsonConverter(typeof(StringEnumConverter))]
    public enum Hdcp
    {
        HDCP_NONE = 0,
        HDCP_V1 = 1,
        HDCP_V2 = 2
    }

### <a name="example"></a><span data-ttu-id="aa187-280">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="aa187-280">Example</span></span>
<span data-ttu-id="aa187-281">En el ejemplo siguiente se muestra cómo utilizar las API de .NET para configurar una licencia sencilla de Widevine.</span><span class="sxs-lookup"><span data-stu-id="aa187-281">The following example shows how to use .NET APIs to configure  a simple Widevine license.</span></span>

    private static string ConfigureWidevineLicenseTemplate()
    {
        var template = new WidevineMessage
        {
            allowed_track_types = AllowedTrackTypes.SD_HD,
            content_key_specs = new[]
            {
                new ContentKeySpecs
                {
                    required_output_protection = new RequiredOutputProtection { hdcp = Hdcp.HDCP_NONE},
                    security_level = 1,
                    track_type = "SD"
                }
            },
            policy_overrides = new
            {
                can_play = true,
                can_persist = true,
                can_renew = false
            }
        };

        string configuration = JsonConvert.SerializeObject(template);
        return configuration;
    }


## <a name="media-services-learning-paths"></a><span data-ttu-id="aa187-282">Rutas de aprendizaje de Servicios multimedia</span><span class="sxs-lookup"><span data-stu-id="aa187-282">Media Services learning paths</span></span>
[!INCLUDE [media-services-learning-paths-include](../../includes/media-services-learning-paths-include.md)]

## <a name="provide-feedback"></a><span data-ttu-id="aa187-283">Envío de comentarios</span><span class="sxs-lookup"><span data-stu-id="aa187-283">Provide feedback</span></span>
[!INCLUDE [media-services-user-voice-include](../../includes/media-services-user-voice-include.md)]

## <a name="see-also"></a><span data-ttu-id="aa187-284">Consulte también</span><span class="sxs-lookup"><span data-stu-id="aa187-284">See also</span></span>
[<span data-ttu-id="aa187-285">Uso de cifrado dinámico común de PlayReady o Widevine</span><span class="sxs-lookup"><span data-stu-id="aa187-285">Using PlayReady and/or Widevine Dynamic Common Encryption</span></span>](media-services-protect-with-drm.md)

