---
title: "Mensajes AS2 para la integración empresarial B2B: Azure Logic Apps | Microsoft Docs"
description: "Intercambio de mensajes AS2 para la integración empresarial B2B con Azure Logic Apps"
services: logic-apps
documentationcenter: .net,nodejs,java
author: MandiOhlinger
manager: anneta
editor: 
ms.assetid: c9b7e1a9-4791-474c-855f-988bd7bf4b7f
ms.service: logic-apps
ms.workload: integration
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/08/2017
ms.author: LADocs; mandia
ms.openlocfilehash: 91b2f16611b88aa4b9395ca301d88042065ad9dd
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 07/11/2017
---
# <a name="exchange-as2-messages-for-enterprise-integration-with-logic-apps"></a><span data-ttu-id="34cab-103">Intercambio de mensajes AS2 para la integración empresarial con las aplicaciones lógicas</span><span class="sxs-lookup"><span data-stu-id="34cab-103">Exchange AS2 messages for enterprise integration with logic apps</span></span>

<span data-ttu-id="34cab-104">Para poder intercambiar mensajes AS2 para Azure Logic Apps, debe crear un contrato AS2 y almacenarlo en la cuenta de integración.</span><span class="sxs-lookup"><span data-stu-id="34cab-104">Before you can exchange AS2 messages for Azure Logic Apps, you must create an AS2 agreement and store that agreement in your integration account.</span></span> <span data-ttu-id="34cab-105">Estos son los pasos para crear un contrato AS2.</span><span class="sxs-lookup"><span data-stu-id="34cab-105">Here are the steps for how to create an AS2 agreement.</span></span>

## <a name="before-you-start"></a><span data-ttu-id="34cab-106">Antes de comenzar</span><span class="sxs-lookup"><span data-stu-id="34cab-106">Before you start</span></span>

<span data-ttu-id="34cab-107">Esto es lo que necesita:</span><span class="sxs-lookup"><span data-stu-id="34cab-107">Here's the items you need:</span></span>

* <span data-ttu-id="34cab-108">Una [cuenta de integración](../logic-apps/logic-apps-enterprise-integration-accounts.md) que ya esté definida y asociada a su suscripción de Azure</span><span class="sxs-lookup"><span data-stu-id="34cab-108">An [integration account](../logic-apps/logic-apps-enterprise-integration-accounts.md) that's already defined and associated with your Azure subscription</span></span>
* <span data-ttu-id="34cab-109">Al menos dos [asociados](logic-apps-enterprise-integration-partners.md) que ya estén definidos en su cuenta de integración y configurados con el calificador AS2 en **Identidades de negocio**</span><span class="sxs-lookup"><span data-stu-id="34cab-109">At least two [partners](logic-apps-enterprise-integration-partners.md) that are already defined in your integration account and configured with the AS2 qualifier under **Business Identities**</span></span>

> [!NOTE]
> <span data-ttu-id="34cab-110">Al crear un contrato, el contenido del archivo de contrato debe coincidir con el tipo de contrato.</span><span class="sxs-lookup"><span data-stu-id="34cab-110">When you create an agreement, the content in the agreement file must match the agreement type.</span></span>    

<span data-ttu-id="34cab-111">Cuando haya [creado una cuenta de integración](../logic-apps/logic-apps-enterprise-integration-accounts.md) y [agregado los asociados](logic-apps-enterprise-integration-partners.md), siga estos pasos para generar un contrato AS2.</span><span class="sxs-lookup"><span data-stu-id="34cab-111">After you [create an integration account](../logic-apps/logic-apps-enterprise-integration-accounts.md) and [add partners](logic-apps-enterprise-integration-partners.md), you can create an AS2 agreement by following these steps.</span></span>

## <a name="create-an-as2-agreement"></a><span data-ttu-id="34cab-112">Creación de un contrato AS2</span><span class="sxs-lookup"><span data-stu-id="34cab-112">Create an AS2 agreement</span></span>

1.  <span data-ttu-id="34cab-113">Inicie sesión en [Azure Portal](http://portal.azure.com "Azure Portal").</span><span class="sxs-lookup"><span data-stu-id="34cab-113">Sign in to the [Azure portal](http://portal.azure.com "Azure portal").</span></span>  

2.  <span data-ttu-id="34cab-114">En el menú izquierdo, seleccione **Más servicios**.</span><span class="sxs-lookup"><span data-stu-id="34cab-114">From the left menu, select **More services**.</span></span> <span data-ttu-id="34cab-115">En el cuadro de búsqueda, escriba **integración** como filtro.</span><span class="sxs-lookup"><span data-stu-id="34cab-115">In the search box, enter **integration** as your filter.</span></span> <span data-ttu-id="34cab-116">En la lista de resultados, seleccione **Cuentas de integración**.</span><span class="sxs-lookup"><span data-stu-id="34cab-116">In the results list, select **Integration Accounts**.</span></span>

    > [!TIP]
    > <span data-ttu-id="34cab-117">Si no ve **Más servicios**, expanda el menú.</span><span class="sxs-lookup"><span data-stu-id="34cab-117">If you don't see **More services**, you might have to expand the menu first.</span></span> <span data-ttu-id="34cab-118">En la parte superior del menú contraído, seleccione **Mostrar menú**.</span><span class="sxs-lookup"><span data-stu-id="34cab-118">At the top of the collapsed menu, select **Show menu**.</span></span>

    ![Más servicios, filtre por "integración", seleccione "Cuentas de integración"](./media/logic-apps-enterprise-integration-agreements/overview-1.png)

3. <span data-ttu-id="34cab-120">En la hoja **Cuentas de integración** que se abre, seleccione la cuenta donde se vaya a crear el contrato.</span><span class="sxs-lookup"><span data-stu-id="34cab-120">In the **Integration Accounts** blade that opens, select the integration account where you want to create the agreement.</span></span>
<span data-ttu-id="34cab-121">Si no ve ninguna, [créela](../logic-apps/logic-apps-enterprise-integration-accounts.md "Información completa sobre las cuentas de integración").</span><span class="sxs-lookup"><span data-stu-id="34cab-121">If you don't see any integration accounts, [create one first](../logic-apps/logic-apps-enterprise-integration-accounts.md "All about integration accounts").</span></span>  

    ![Selección de la cuenta de integración donde desea crear el contrato](./media/logic-apps-enterprise-integration-overview/overview-3.png)

4. <span data-ttu-id="34cab-123">Seleccione el icono de **contratos**.</span><span class="sxs-lookup"><span data-stu-id="34cab-123">Choose the **Agreements** tile.</span></span> <span data-ttu-id="34cab-124">Si no tiene un icono Acuerdos, agréguelo.</span><span class="sxs-lookup"><span data-stu-id="34cab-124">If you don't have an Agreements tile, add the tile first.</span></span>

    ![Elección del icono "Acuerdos"](./media/logic-apps-enterprise-integration-agreements/agreement-1.png)

5. <span data-ttu-id="34cab-126">En la hoja Acuerdos que se abre, seleccione **Agregar**.</span><span class="sxs-lookup"><span data-stu-id="34cab-126">In the Agreements blade that opens, choose **Add**.</span></span>

    ![Elección de "Agregar"](./media/logic-apps-enterprise-integration-agreements/agreement-2.png)

6. <span data-ttu-id="34cab-128">En **Agregar**, escriba un valor en **Nombre** para el contrato.</span><span class="sxs-lookup"><span data-stu-id="34cab-128">Under **Add**, enter a **Name** for your agreement.</span></span> <span data-ttu-id="34cab-129">Para el **Tipo de contrato**, seleccione **AS2**.</span><span class="sxs-lookup"><span data-stu-id="34cab-129">For **Agreement type**, select **AS2**.</span></span> <span data-ttu-id="34cab-130">Seleccione valores en **Asociado del host**, **Identidad del host**, **Asociado invitado** e **Identidad del invitado** para el contrato.</span><span class="sxs-lookup"><span data-stu-id="34cab-130">Select the **Host Partner**, **Host Identity**, **Guest Partner**, and **Guest Identity** for your agreement.</span></span>

    ![Especificación de los detalles del contrato](./media/logic-apps-enterprise-integration-agreements/agreement-3.png)  

    | <span data-ttu-id="34cab-132">Propiedad</span><span class="sxs-lookup"><span data-stu-id="34cab-132">Property</span></span> | <span data-ttu-id="34cab-133">Descripción</span><span class="sxs-lookup"><span data-stu-id="34cab-133">Description</span></span> |
    | --- | --- |
    | <span data-ttu-id="34cab-134">Nombre</span><span class="sxs-lookup"><span data-stu-id="34cab-134">Name</span></span> |<span data-ttu-id="34cab-135">Nombre del contrato</span><span class="sxs-lookup"><span data-stu-id="34cab-135">Name of the agreement</span></span> |
    | <span data-ttu-id="34cab-136">Tipo de contrato</span><span class="sxs-lookup"><span data-stu-id="34cab-136">Agreement Type</span></span> | <span data-ttu-id="34cab-137">Debe ser AS2</span><span class="sxs-lookup"><span data-stu-id="34cab-137">Should be AS2</span></span> |
    | <span data-ttu-id="34cab-138">Host Partner (Partner anfitrión)</span><span class="sxs-lookup"><span data-stu-id="34cab-138">Host Partner</span></span> |<span data-ttu-id="34cab-139">Un contrato tiene asociado un partner anfitrión e invitado.</span><span class="sxs-lookup"><span data-stu-id="34cab-139">An agreement needs both a host and guest partner.</span></span> <span data-ttu-id="34cab-140">El asociado del host representa la organización que configura el contrato.</span><span class="sxs-lookup"><span data-stu-id="34cab-140">The host partner represents the organization that configures the agreement.</span></span> |
    | <span data-ttu-id="34cab-141">Host Identity (Identidad anfitriona)</span><span class="sxs-lookup"><span data-stu-id="34cab-141">Host Identity</span></span> |<span data-ttu-id="34cab-142">Un identificador del asociado del host.</span><span class="sxs-lookup"><span data-stu-id="34cab-142">An identifier for the host partner</span></span> |
    | <span data-ttu-id="34cab-143">Guest Partner (Partner invitado)</span><span class="sxs-lookup"><span data-stu-id="34cab-143">Guest Partner</span></span> |<span data-ttu-id="34cab-144">Un contrato tiene asociado un partner anfitrión e invitado.</span><span class="sxs-lookup"><span data-stu-id="34cab-144">An agreement needs both a host and guest partner.</span></span> <span data-ttu-id="34cab-145">El partner invitado representa la organización que está haciendo negocios con el partner anfitrión.</span><span class="sxs-lookup"><span data-stu-id="34cab-145">The guest partner represents the organization that's doing business with the host partner.</span></span> |
    | <span data-ttu-id="34cab-146">Guest Identity</span><span class="sxs-lookup"><span data-stu-id="34cab-146">Guest Identity</span></span> |<span data-ttu-id="34cab-147">Un identificador del asociado invitado.</span><span class="sxs-lookup"><span data-stu-id="34cab-147">An identifier for the guest partner</span></span> |
    | <span data-ttu-id="34cab-148">Receive Settings (Configuración de recepción)</span><span class="sxs-lookup"><span data-stu-id="34cab-148">Receive Settings</span></span> |<span data-ttu-id="34cab-149">Estas propiedades se aplican a todos los mensajes que recibe un contrato.</span><span class="sxs-lookup"><span data-stu-id="34cab-149">These properties apply to all messages received by an agreement.</span></span> |
    | <span data-ttu-id="34cab-150">Send Settings (Configuración de envío)</span><span class="sxs-lookup"><span data-stu-id="34cab-150">Send Settings</span></span> |<span data-ttu-id="34cab-151">Estas propiedades se aplican a todos los mensajes que envía un contrato.</span><span class="sxs-lookup"><span data-stu-id="34cab-151">These properties apply to all messages sent by an agreement.</span></span> |

## <a name="configure-how-your-agreement-handles-received-messages"></a><span data-ttu-id="34cab-152">Configuración de la forma en que su contrato controla los mensajes recibidos</span><span class="sxs-lookup"><span data-stu-id="34cab-152">Configure how your agreement handles received messages</span></span>

<span data-ttu-id="34cab-153">Ahora que ha establecido las propiedades del contrato, puede configurar cómo este identifica y controla los mensajes entrantes recibidos del asociado a través de este contrato.</span><span class="sxs-lookup"><span data-stu-id="34cab-153">Now that you've set the agreement properties, you can configure how this agreement identifies and handles incoming messages received from your partner through this agreement.</span></span>

1.  <span data-ttu-id="34cab-154">En **Agregar**, seleccione **Configuración de recepción**.</span><span class="sxs-lookup"><span data-stu-id="34cab-154">Under **Add**, select **Receive Settings**.</span></span>
<span data-ttu-id="34cab-155">Configure estas propiedades en función del contrato con el asociado con el que intercambia mensajes.</span><span class="sxs-lookup"><span data-stu-id="34cab-155">Configure these properties based on your agreement with the partner that exchanges messages with you.</span></span> <span data-ttu-id="34cab-156">Para las descripciones de las propiedades, consulte la tabla de esta sección.</span><span class="sxs-lookup"><span data-stu-id="34cab-156">For property descriptions, see the table in this section.</span></span>

    ![Selección de "Configuración de recepción"](./media/logic-apps-enterprise-integration-agreements/agreement-4.png)

2. <span data-ttu-id="34cab-158">Si lo desea, puede invalidar las propiedades de los mensajes entrantes al seleccionar **Reemplazar propiedades del mensaje**.</span><span class="sxs-lookup"><span data-stu-id="34cab-158">Optionally, you can override the properties of incoming messages by selecting **Override message properties**.</span></span>

3. <span data-ttu-id="34cab-159">Para exigir que se firmen todos los mensajes entrantes, seleccione **Debe firmarse el mensaje**.</span><span class="sxs-lookup"><span data-stu-id="34cab-159">To require all incoming messages to be signed, select **Message should be signed**.</span></span> <span data-ttu-id="34cab-160">En la lista **Certificado**, seleccione un [certificado público del asociado invitado](../logic-apps/logic-apps-enterprise-integration-certificates.md) existente para validar la firma de los mensajes.</span><span class="sxs-lookup"><span data-stu-id="34cab-160">From the **Certificate** list, select an existing [guest partner public certificate](../logic-apps/logic-apps-enterprise-integration-certificates.md) for validating the signature on the messages.</span></span> <span data-ttu-id="34cab-161">Como alternativa, si no tiene el certificado, créelo.</span><span class="sxs-lookup"><span data-stu-id="34cab-161">Or create the certificate, if you don't have one.</span></span>

4.  <span data-ttu-id="34cab-162">Para exigir que se cifren todos los mensajes entrantes, seleccione **Debe cifrarse el mensaje**.</span><span class="sxs-lookup"><span data-stu-id="34cab-162">To require all incoming messages to be encrypted, select **Message should be encrypted**.</span></span> <span data-ttu-id="34cab-163">Desde la lista **Certificado**, seleccione un [certificado privado del asociado del host](../logic-apps/logic-apps-enterprise-integration-certificates.md) existente para descifrar los mensajes entrantes.</span><span class="sxs-lookup"><span data-stu-id="34cab-163">From the **Certificate** list, select an existing [host partner private certificate](../logic-apps/logic-apps-enterprise-integration-certificates.md) for decrypting incoming messages.</span></span> <span data-ttu-id="34cab-164">Como alternativa, si no tiene el certificado, créelo.</span><span class="sxs-lookup"><span data-stu-id="34cab-164">Or create the certificate, if you don't have one.</span></span>

5. <span data-ttu-id="34cab-165">Para exigir la compresión de los mensajes, seleccione **Debe comprimirse el mensaje**.</span><span class="sxs-lookup"><span data-stu-id="34cab-165">To require messages to be compressed, select **Message should be compressed**.</span></span>

6. <span data-ttu-id="34cab-166">Para enviar una notificación de disposición de mensaje (MDN) sincrónica para los mensajes recibidos, seleccione **Enviar MDN**.</span><span class="sxs-lookup"><span data-stu-id="34cab-166">To send a synchronous message disposition notification (MDN) for received messages, select **Send MDN**.</span></span>

7. <span data-ttu-id="34cab-167">Para enviar MDN firmadas, seleccione **Enviar MDN firmado**.</span><span class="sxs-lookup"><span data-stu-id="34cab-167">To send signed MDNs for received messages, select **Send signed MDN**.</span></span>

8. <span data-ttu-id="34cab-168">Para enviar MDN asincrónicas para los mensajes recibidos, seleccione **Enviar MDN asincrónico**.</span><span class="sxs-lookup"><span data-stu-id="34cab-168">To send asynchronous MDNs for received messages, select **Send asynchronous MDN**.</span></span>

9. <span data-ttu-id="34cab-169">Cuando haya terminado, asegúrese de guardar la configuración con **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="34cab-169">After you're done, make sure to save your settings by choosing **OK**.</span></span>

<span data-ttu-id="34cab-170">Ahora el contrato está preparado para controlar los mensajes entrantes que cumplan la configuración seleccionada.</span><span class="sxs-lookup"><span data-stu-id="34cab-170">Now your agreement is ready to handle incoming messages that conform to your selected settings.</span></span>

| <span data-ttu-id="34cab-171">Propiedad</span><span class="sxs-lookup"><span data-stu-id="34cab-171">Property</span></span> | <span data-ttu-id="34cab-172">Descripción</span><span class="sxs-lookup"><span data-stu-id="34cab-172">Description</span></span> |
| --- | --- |
| <span data-ttu-id="34cab-173">Override message properties</span><span class="sxs-lookup"><span data-stu-id="34cab-173">Override message properties</span></span> |<span data-ttu-id="34cab-174">Indica que se pueden invalidar las propiedades de los mensajes recibidos.</span><span class="sxs-lookup"><span data-stu-id="34cab-174">Indicates that properties in received messages can be overridden.</span></span> |
| <span data-ttu-id="34cab-175">Message should be signed</span><span class="sxs-lookup"><span data-stu-id="34cab-175">Message should be signed</span></span> |<span data-ttu-id="34cab-176">Exige que los mensajes se firmen digitalmente.</span><span class="sxs-lookup"><span data-stu-id="34cab-176">Requires messages to be digitally signed.</span></span> <span data-ttu-id="34cab-177">Configure el certificado público del asociado invitado para la comprobación de firmas.</span><span class="sxs-lookup"><span data-stu-id="34cab-177">Configure the guest partner public certificate for signature verification.</span></span>  |
| <span data-ttu-id="34cab-178">Message should be encrypted</span><span class="sxs-lookup"><span data-stu-id="34cab-178">Message should be encrypted</span></span> |<span data-ttu-id="34cab-179">Exige el cifrado de los mensajes.</span><span class="sxs-lookup"><span data-stu-id="34cab-179">Requires messages to be encrypted.</span></span> <span data-ttu-id="34cab-180">Los mensajes sin cifrado se rechazan.</span><span class="sxs-lookup"><span data-stu-id="34cab-180">Non-encrypted messages are rejected.</span></span> <span data-ttu-id="34cab-181">Configure el certificado privado del asociado del host para el descifrado de los mensajes.</span><span class="sxs-lookup"><span data-stu-id="34cab-181">Configure the host partner private certificate for decrypting the messages.</span></span>  |
| <span data-ttu-id="34cab-182">Message should be compressed</span><span class="sxs-lookup"><span data-stu-id="34cab-182">Message should be compressed</span></span> |<span data-ttu-id="34cab-183">Requiere que los mensajes estén comprimidos.</span><span class="sxs-lookup"><span data-stu-id="34cab-183">Requires messages to be compressed.</span></span> <span data-ttu-id="34cab-184">Los mensajes sin comprimir se rechazan.</span><span class="sxs-lookup"><span data-stu-id="34cab-184">Non-compressed messages are rejected.</span></span> |
| <span data-ttu-id="34cab-185">MDN Text (Texto de MDN)</span><span class="sxs-lookup"><span data-stu-id="34cab-185">MDN Text</span></span> |<span data-ttu-id="34cab-186">La notificación de disposición del mensaje (MDN) predeterminada que se enviará al remitente del mensaje.</span><span class="sxs-lookup"><span data-stu-id="34cab-186">The default message disposition notification (MDN) to be sent to the message sender.</span></span> |
| <span data-ttu-id="34cab-187">Send MDN (Enviar MDN)</span><span class="sxs-lookup"><span data-stu-id="34cab-187">Send MDN</span></span> |<span data-ttu-id="34cab-188">Exige el envío de MDN.</span><span class="sxs-lookup"><span data-stu-id="34cab-188">Requires MDNs to be sent.</span></span> |
| <span data-ttu-id="34cab-189">Send signed MDN (Enviar MDN firmada)</span><span class="sxs-lookup"><span data-stu-id="34cab-189">Send signed MDN</span></span> |<span data-ttu-id="34cab-190">Exige que las MDN estén firmadas.</span><span class="sxs-lookup"><span data-stu-id="34cab-190">Requires MDNs to be signed.</span></span> |
| <span data-ttu-id="34cab-191">MIC Algorithm (Algoritmo de MIC)</span><span class="sxs-lookup"><span data-stu-id="34cab-191">MIC Algorithm</span></span> |<span data-ttu-id="34cab-192">Selecciona el algoritmo que se utilizará para firmar los mensajes.</span><span class="sxs-lookup"><span data-stu-id="34cab-192">Select the algorithm to use for signing messages.</span></span> |
| <span data-ttu-id="34cab-193">Send asynchronous MDN (Enviar MDN asincrónica)</span><span class="sxs-lookup"><span data-stu-id="34cab-193">Send asynchronous MDN</span></span> | <span data-ttu-id="34cab-194">Exige que los mensajes se envíen de forma asincrónica.</span><span class="sxs-lookup"><span data-stu-id="34cab-194">Requires messages to be sent asynchronously.</span></span> |
| <span data-ttu-id="34cab-195">URL</span><span class="sxs-lookup"><span data-stu-id="34cab-195">URL</span></span> | <span data-ttu-id="34cab-196">Especifica la dirección URL a la que enviar la MDN.</span><span class="sxs-lookup"><span data-stu-id="34cab-196">Specify the URL where to send the MDNs.</span></span> |

## <a name="configure-how-your-agreement-sends-messages"></a><span data-ttu-id="34cab-197">Configuración de la forma en que su contrato envía mensajes</span><span class="sxs-lookup"><span data-stu-id="34cab-197">Configure how your agreement sends messages</span></span>

<span data-ttu-id="34cab-198">Puede configurar cómo este contrato identifica y administra los mensajes que se envían a los asociados a través de él.</span><span class="sxs-lookup"><span data-stu-id="34cab-198">You can configure how this agreement identifies and handles outgoing messages that you send to your partners through this agreement.</span></span>

1.  <span data-ttu-id="34cab-199">En **Agregar**, seleccione **Send Settings** (Configuración de envío).</span><span class="sxs-lookup"><span data-stu-id="34cab-199">Under **Add**, select **Send Settings**.</span></span>
<span data-ttu-id="34cab-200">Configure estas propiedades en función del contrato con el asociado con el que intercambia mensajes.</span><span class="sxs-lookup"><span data-stu-id="34cab-200">Configure these properties based on your agreement with the partner that exchanges messages with you.</span></span> <span data-ttu-id="34cab-201">Para las descripciones de las propiedades, consulte la tabla de esta sección.</span><span class="sxs-lookup"><span data-stu-id="34cab-201">For property descriptions, see the table in this section.</span></span>

    ![Establecimiento de las propiedades de "Configuración de envío"](./media/logic-apps-enterprise-integration-agreements/agreement-51.png)

2. <span data-ttu-id="34cab-203">Seleccione **Habilitar la firma de mensajes** si desea enviar mensajes firmados al asociado.</span><span class="sxs-lookup"><span data-stu-id="34cab-203">To send signed messages to your partner, select **Enable message signing**.</span></span> <span data-ttu-id="34cab-204">Para firmar los mensajes, en la lista **Algoritmo MIC**, seleccione el *algoritmo MIC del certificado privado del asociado del host*.</span><span class="sxs-lookup"><span data-stu-id="34cab-204">For signing the messages, in the **MIC Algorithm** list, select the *host partner private certificate MIC Algorithm*.</span></span> <span data-ttu-id="34cab-205">En la lista **Certificado**, seleccione un [certificado privado del asociado del host](../logic-apps/logic-apps-enterprise-integration-certificates.md) existente.</span><span class="sxs-lookup"><span data-stu-id="34cab-205">And in the **Certificate** list, select an existing [host partner private certificate](../logic-apps/logic-apps-enterprise-integration-certificates.md).</span></span>

3. <span data-ttu-id="34cab-206">Seleccione **Habilitar el cifrado de mensajes** para enviar mensajes cifrados al asociado.</span><span class="sxs-lookup"><span data-stu-id="34cab-206">To send encrypted messages to the partner, select **Enable message encryption**.</span></span> <span data-ttu-id="34cab-207">Para el cifrado de los mensajes, en la lista **Algoritmo de cifrado**, seleccione el *algoritmo del certificado público del asociado invitado*.</span><span class="sxs-lookup"><span data-stu-id="34cab-207">For encrypting the messages, in the **Encryption Algorithm** list, select the *guest partner public certificate algorithm*.</span></span>
<span data-ttu-id="34cab-208">En la lista **Certificado**, seleccione un [certificado público del asociado invitado](../logic-apps/logic-apps-enterprise-integration-certificates.md) existente.</span><span class="sxs-lookup"><span data-stu-id="34cab-208">And in the **Certificate** list, select an existing [guest partner public certificate](../logic-apps/logic-apps-enterprise-integration-certificates.md).</span></span>

4. <span data-ttu-id="34cab-209">Para comprimir el mensaje, seleccione **Habilitar la compresión de mensajes**.</span><span class="sxs-lookup"><span data-stu-id="34cab-209">To compress the message, select **Enable message compression**.</span></span>

5. <span data-ttu-id="34cab-210">Para expandir el encabezado HTTP Content-Type en una sola línea, seleccione **Expandir encabezados HTTP**.</span><span class="sxs-lookup"><span data-stu-id="34cab-210">To unfold the HTTP content-type header into a single line, select **Unfold HTTP headers**.</span></span>

6. <span data-ttu-id="34cab-211">Para recibir MDN sincrónicas para los mensajes enviados, seleccione **Solicitar MDN**.</span><span class="sxs-lookup"><span data-stu-id="34cab-211">To receive synchronous MDNs for the sent messages, select **Request MDN**.</span></span>

7. <span data-ttu-id="34cab-212">Para recibir MDN firmadas para los mensajes enviados, seleccione **Solicitar MDN firmada**.</span><span class="sxs-lookup"><span data-stu-id="34cab-212">To receive signed MDNs for the sent messages, select **Request signed MDN**.</span></span>

8. <span data-ttu-id="34cab-213">Para recibir MDN asincrónicas para los mensajes enviados, seleccione **Solicitar MDN asincrónica**.</span><span class="sxs-lookup"><span data-stu-id="34cab-213">To receive asynchronous MDNs for the sent messages, select **Request asynchronous MDN**.</span></span> <span data-ttu-id="34cab-214">Si selecciona esta opción, escriba la dirección URL donde se enviarán las MDN.</span><span class="sxs-lookup"><span data-stu-id="34cab-214">If you select this option, enter the URL for where to send the MDNs.</span></span>

9. <span data-ttu-id="34cab-215">Para exigir la recepción sin rechazo, seleccione **Habilitar NRR**.</span><span class="sxs-lookup"><span data-stu-id="34cab-215">To require non-repudiation of receipt, select **Enable NRR**.</span></span>  

10. <span data-ttu-id="34cab-216">Para especificar el formato de algoritmo que se usará en MIC o al iniciar sesión en los encabezados salientes del mensaje AS2 o MDN, seleccione **Formato del algoritmo SHA2**.</span><span class="sxs-lookup"><span data-stu-id="34cab-216">To specify algorithm format to use in the MIC or signing in the outgoing headers of the AS2 message or MDN, select **SHA2 Algorithm format**.</span></span>  

11. <span data-ttu-id="34cab-217">Cuando haya terminado, asegúrese de guardar la configuración con **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="34cab-217">After you're done, make sure to save your settings by choosing **OK**.</span></span>

<span data-ttu-id="34cab-218">Ahora el contrato está preparado para controlar los mensajes salientes que cumplan la configuración seleccionada.</span><span class="sxs-lookup"><span data-stu-id="34cab-218">Now your agreement is ready to handle outgoing messages that conform to your selected settings.</span></span>

| <span data-ttu-id="34cab-219">Propiedad</span><span class="sxs-lookup"><span data-stu-id="34cab-219">Property</span></span> | <span data-ttu-id="34cab-220">Descripción</span><span class="sxs-lookup"><span data-stu-id="34cab-220">Description</span></span> |
| --- | --- |
| <span data-ttu-id="34cab-221">Enable message signing (Habilitar firma de mensajes)</span><span class="sxs-lookup"><span data-stu-id="34cab-221">Enable message signing</span></span> |<span data-ttu-id="34cab-222">Exige que se firmen todos los mensajes enviados desde el contrato.</span><span class="sxs-lookup"><span data-stu-id="34cab-222">Requires all messages that are sent from the agreement to be signed.</span></span> |
| <span data-ttu-id="34cab-223">MIC Algorithm (Algoritmo de MIC)</span><span class="sxs-lookup"><span data-stu-id="34cab-223">MIC Algorithm</span></span> |<span data-ttu-id="34cab-224">Algoritmo que se utilizará para firmar los mensajes.</span><span class="sxs-lookup"><span data-stu-id="34cab-224">The algorithm to use for signing messages.</span></span> <span data-ttu-id="34cab-225">Configura el algoritmo MIC del certificado privado del asociado del host para firmar los mensajes.</span><span class="sxs-lookup"><span data-stu-id="34cab-225">Configures the host partner private certificate MIC Algorithm for signing the messages.</span></span> |
| <span data-ttu-id="34cab-226">Certificate</span><span class="sxs-lookup"><span data-stu-id="34cab-226">Certificate</span></span> |<span data-ttu-id="34cab-227">Seleccione el certificado que se va a usar para firmar los mensajes.</span><span class="sxs-lookup"><span data-stu-id="34cab-227">Select the certificate to use for signing messages.</span></span> <span data-ttu-id="34cab-228">Configura el certificado privado del asociado del host para firmar los mensajes.</span><span class="sxs-lookup"><span data-stu-id="34cab-228">Configures the host partner private certificate for signing the messages.</span></span> |
| <span data-ttu-id="34cab-229">Enable message encryption (Habilitar el cifrado de mensajes)</span><span class="sxs-lookup"><span data-stu-id="34cab-229">Enable message encryption</span></span> |<span data-ttu-id="34cab-230">Exige que se cifren todos los mensajes enviados desde el contrato.</span><span class="sxs-lookup"><span data-stu-id="34cab-230">Requires encryption of all messages that are sent from this agreement.</span></span> <span data-ttu-id="34cab-231">Configura el algoritmo del certificado público del asociado invitado para el cifrado de los mensajes.</span><span class="sxs-lookup"><span data-stu-id="34cab-231">Configures the guest partner public certificate algorithm for encrypting the messages.</span></span> |
| <span data-ttu-id="34cab-232">Algoritmo de cifrado</span><span class="sxs-lookup"><span data-stu-id="34cab-232">Encryption Algorithm</span></span> |<span data-ttu-id="34cab-233">El algoritmo de cifrado que se va a utilizar para cifrar los mensajes.</span><span class="sxs-lookup"><span data-stu-id="34cab-233">The encryption algorithm to use for message encryption.</span></span> <span data-ttu-id="34cab-234">Configura el certificado público del asociado invitado para el cifrado de los mensajes.</span><span class="sxs-lookup"><span data-stu-id="34cab-234">Configures the guest partner public certificate for encrypting the messages.</span></span> |
| <span data-ttu-id="34cab-235">Certificate</span><span class="sxs-lookup"><span data-stu-id="34cab-235">Certificate</span></span> |<span data-ttu-id="34cab-236">El certificado que se utilizará para cifrar los mensajes.</span><span class="sxs-lookup"><span data-stu-id="34cab-236">The certificate to use to encrypt messages.</span></span> <span data-ttu-id="34cab-237">Configura el certificado privado del asociado invitado para el cifrado de los mensajes.</span><span class="sxs-lookup"><span data-stu-id="34cab-237">Configures the guest partner private certificate for encrypting the messages.</span></span> |
| <span data-ttu-id="34cab-238">Habilitar la compresión de mensajes</span><span class="sxs-lookup"><span data-stu-id="34cab-238">Enable message compression</span></span> |<span data-ttu-id="34cab-239">Exige que se compriman todos los mensajes enviados desde el contrato.</span><span class="sxs-lookup"><span data-stu-id="34cab-239">Requires compression of all messages that are sent from this agreement.</span></span> |
| <span data-ttu-id="34cab-240">Unfold HTTP headers (Expandir encabezados HTTP)</span><span class="sxs-lookup"><span data-stu-id="34cab-240">Unfold HTTP headers</span></span> |<span data-ttu-id="34cab-241">Coloca el encabezado HTTP Content-Type en una sola línea.</span><span class="sxs-lookup"><span data-stu-id="34cab-241">Places the HTTP content-type header onto a single line.</span></span> |
| <span data-ttu-id="34cab-242">Request MDN (Solicitar MDN)</span><span class="sxs-lookup"><span data-stu-id="34cab-242">Request MDN</span></span> |<span data-ttu-id="34cab-243">Exige una MDN para todos los mensajes enviados desde el contrato.</span><span class="sxs-lookup"><span data-stu-id="34cab-243">Requires an MDN for all messages that are sent from this agreement.</span></span> |
| <span data-ttu-id="34cab-244">Request signed MDN (Solicitar MDN firmada)</span><span class="sxs-lookup"><span data-stu-id="34cab-244">Request signed MDN</span></span> |<span data-ttu-id="34cab-245">Exige que se firmen todas las MDN enviadas al contrato.</span><span class="sxs-lookup"><span data-stu-id="34cab-245">Requires all MDNs that are sent to this agreement to be signed.</span></span> |
| <span data-ttu-id="34cab-246">Request asynchronous MDN (Solicitar MDN asíncrona)</span><span class="sxs-lookup"><span data-stu-id="34cab-246">Request asynchronous MDN</span></span> |<span data-ttu-id="34cab-247">Exige que se envíen MDN asincrónicas a este contrato.</span><span class="sxs-lookup"><span data-stu-id="34cab-247">Requires asynchronous MDNs to be sent to this agreement.</span></span> |
| <span data-ttu-id="34cab-248">URL</span><span class="sxs-lookup"><span data-stu-id="34cab-248">URL</span></span> |<span data-ttu-id="34cab-249">Especifica la dirección URL a la que enviar la MDN.</span><span class="sxs-lookup"><span data-stu-id="34cab-249">Specify the URL where to send the MDNs.</span></span> |
| <span data-ttu-id="34cab-250">Enable NRR (Habilitar NRR)</span><span class="sxs-lookup"><span data-stu-id="34cab-250">Enable NRR</span></span> |<span data-ttu-id="34cab-251">Exige la recepción sin rechazo (NRR), un atributo de comunicación que prueba que se recibieron los datos según la dirección indicada.</span><span class="sxs-lookup"><span data-stu-id="34cab-251">Requires non-repudiation of receipt (NRR), a communication attribute that provides evidence that the data was received as addressed.</span></span> |
| <span data-ttu-id="34cab-252">Formato del algoritmo SHA2</span><span class="sxs-lookup"><span data-stu-id="34cab-252">SHA2 Algorithm format</span></span> |<span data-ttu-id="34cab-253">Seleccione el formato de algoritmo que se usará en MIC o al iniciar sesión en los encabezados salientes del mensaje AS2 o MDN.</span><span class="sxs-lookup"><span data-stu-id="34cab-253">Select algorithm format to use in the MIC or signing in the outgoing headers of the AS2 message or MDN</span></span> |

## <a name="find-your-created-agreement"></a><span data-ttu-id="34cab-254">Búsqueda del contrato creado</span><span class="sxs-lookup"><span data-stu-id="34cab-254">Find your created agreement</span></span>

1.  <span data-ttu-id="34cab-255">Cuando termine de establecer las propiedades del contrato, en la hoja **Agregar**, elija **Aceptar** para terminar de crear el contrato y volver a la hoja de la cuenta de integración.</span><span class="sxs-lookup"><span data-stu-id="34cab-255">After you finish setting all your agreement properties, on the **Add** blade, choose **OK** to finish creating your agreement and return to your integration account blade.</span></span>

    <span data-ttu-id="34cab-256">Ahora el contrato recién agregado aparece en la lista **Acuerdos**.</span><span class="sxs-lookup"><span data-stu-id="34cab-256">Your newly added agreement now appears in your **Agreements** list.</span></span>

2.  <span data-ttu-id="34cab-257">También puede ver los contratos en la información general de la cuenta de integración.</span><span class="sxs-lookup"><span data-stu-id="34cab-257">You can also view your agreements in your integration account overview.</span></span> <span data-ttu-id="34cab-258">En la hoja de la cuenta de integración, elija **Información general** y seleccione el icono **Acuerdos**.</span><span class="sxs-lookup"><span data-stu-id="34cab-258">On your integration account blade, choose **Overview**, then select the **Agreements** tile.</span></span> 

    ![Elección del icono "Acuerdos" para ver todos los contratos](./media/logic-apps-enterprise-integration-agreements/agreement-6.png)

## <a name="view-the-swagger"></a><span data-ttu-id="34cab-260">Visualización de Swagger</span><span class="sxs-lookup"><span data-stu-id="34cab-260">View the swagger</span></span>
<span data-ttu-id="34cab-261">Vea los [detalles de Swagger](/connectors/as2/).</span><span class="sxs-lookup"><span data-stu-id="34cab-261">See the [swagger details](/connectors/as2/).</span></span> 

## <a name="next-steps"></a><span data-ttu-id="34cab-262">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="34cab-262">Next steps</span></span>
* [<span data-ttu-id="34cab-263">Más información sobre Enterprise Integration Pack</span><span class="sxs-lookup"><span data-stu-id="34cab-263">Learn more about the Enterprise Integration Pack</span></span>](logic-apps-enterprise-integration-overview.md "Información sobre Enterprise Integration Pack")  
