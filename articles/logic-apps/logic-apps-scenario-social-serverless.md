---
title: "aaaScenario - crear un panel de información del cliente con Azure sin servidor | Documentos de Microsoft"
description: "Un ejemplo de cómo puede crear a un cliente de toomanage panel comentarios, datos sociales y mucho más con funciones de Azure y Azure Logic Apps."
keywords: 
services: logic-apps
author: jeffhollan
manager: anneta
editor: 
documentationcenter: 
ms.assetid: d565873c-6b1b-4057-9250-cf81a96180ae
ms.service: logic-apps
ms.workload: integration
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 03/29/2017
ms.author: jehollan
ms.openlocfilehash: db175e895e37aa795a9c34bf4d65566bf68f8c37
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="create-a-real-time-customer-insights-dashboard-with-azure-logic-apps-and-azure-functions"></a><span data-ttu-id="c1e1a-103">Cree un panel de Customer Insights en tiempo real con Azure Logic Apps y Azure Functions</span><span class="sxs-lookup"><span data-stu-id="c1e1a-103">Create a real-time customer insights dashboard with Azure Logic Apps and Azure Functions</span></span>

<span data-ttu-id="c1e1a-104">Azure tools sin servidor proporcionan a poderosas capacidades tooquickly compilación y aplicaciones host en nube de hello, sin tener toothink acerca de la infraestructura.</span><span class="sxs-lookup"><span data-stu-id="c1e1a-104">Azure Serverless tools provide powerful capabilities tooquickly build and host applications in hello cloud, without having toothink about infrastructure.</span></span>  <span data-ttu-id="c1e1a-105">En este escenario, se crea un panel tootrigger los comentarios del cliente, analizar comentarios con aprendizaje automático y publicar información en un origen como Power BI o Azure Data Lake.</span><span class="sxs-lookup"><span data-stu-id="c1e1a-105">In this scenario, we will create a dashboard tootrigger on customer feedback, analyze feedback with machine learning, and publish insights a source like Power BI or Azure Data Lake.</span></span>

## <a name="overview-of-hello-scenario-and-tools-used"></a><span data-ttu-id="c1e1a-106">Información general del escenario de Hola y herramientas que se usan</span><span class="sxs-lookup"><span data-stu-id="c1e1a-106">Overview of hello scenario and tools used</span></span>

<span data-ttu-id="c1e1a-107">En orden tooimplement esta solución, aprovechamos componentes clave de hello dos de las aplicaciones sin servidor de Azure: [funciones de Azure](https://azure.microsoft.com/services/functions/) y [Azure Logic Apps](https://azure.microsoft.com/services/logic-apps/).</span><span class="sxs-lookup"><span data-stu-id="c1e1a-107">In order tooimplement this solution, we will leverage hello two key components of serverless apps in Azure: [Azure Functions](https://azure.microsoft.com/services/functions/) and [Azure Logic Apps](https://azure.microsoft.com/services/logic-apps/).</span></span>

<span data-ttu-id="c1e1a-108">Lógica de aplicaciones es un motor de flujo de trabajo sin servidor en la nube de Hola.</span><span class="sxs-lookup"><span data-stu-id="c1e1a-108">Logic Apps is a serverless workflow engine in hello cloud.</span></span>  <span data-ttu-id="c1e1a-109">Proporciona la orquestación en componentes sin servidor y también se conecta tooover 100 servicios y API.</span><span class="sxs-lookup"><span data-stu-id="c1e1a-109">It provides orchestration across serverless components, and also connects tooover 100 services and APIs.</span></span>  <span data-ttu-id="c1e1a-110">En este escenario, crearemos un tootrigger de aplicación lógica en comentarios de los clientes.</span><span class="sxs-lookup"><span data-stu-id="c1e1a-110">For this scenario, we will create a logic app tootrigger on feedback from customers.</span></span>  <span data-ttu-id="c1e1a-111">Algunos de los conectores de Hola que pueden ayudar a los comentarios de toocustomer reaccionando incluyen Outlook.com, Office 365, encuesta mono, Twitter y una solicitud HTTP [desde un formulario web Forms](https://blogs.msdn.microsoft.com/logicapps/2017/01/30/calling-a-logic-app-from-an-html-form/).</span><span class="sxs-lookup"><span data-stu-id="c1e1a-111">Some of hello connectors that can assist in reacting toocustomer feedback include Outlook.com, Office 365, Survey Monkey, Twitter, and an HTTP Request [from a web form](https://blogs.msdn.microsoft.com/logicapps/2017/01/30/calling-a-logic-app-from-an-html-form/).</span></span>  <span data-ttu-id="c1e1a-112">Para el flujo de trabajo de Hola a continuación, se va a supervisar una hashtag en Twitter.</span><span class="sxs-lookup"><span data-stu-id="c1e1a-112">For hello workflow below, we will monitor a hashtag on Twitter.</span></span>

<span data-ttu-id="c1e1a-113">Las funciones proporcionan compute sin servidor en la nube de Hola.</span><span class="sxs-lookup"><span data-stu-id="c1e1a-113">Functions provide serverless compute in hello cloud.</span></span>  <span data-ttu-id="c1e1a-114">En este escenario, se usará las funciones de Azure tooflag tweets desde los clientes basándose en una serie de palabras clave predefinidas.</span><span class="sxs-lookup"><span data-stu-id="c1e1a-114">In this scenario, we will use Azure Functions tooflag tweets from customers based on a series of pre-defined key words.</span></span>

<span data-ttu-id="c1e1a-115">puede ser la solución completa de Hello [compilar en Visual Studio](logic-apps-deploy-from-vs.md) y [implementado como parte de una plantilla de recursos](logic-apps-create-deploy-template.md).</span><span class="sxs-lookup"><span data-stu-id="c1e1a-115">hello entire solution can be [build in Visual Studio](logic-apps-deploy-from-vs.md) and [deployed as part of a resource template](logic-apps-create-deploy-template.md).</span></span>  <span data-ttu-id="c1e1a-116">También hay tutorial en vídeo del escenario de hello [en Channel 9](http://aka.ms/logicappsdemo).</span><span class="sxs-lookup"><span data-stu-id="c1e1a-116">There is also video walkthrough of hello scenario [on Channel 9](http://aka.ms/logicappsdemo).</span></span>

## <a name="build-hello-logic-app-tootrigger-on-customer-data"></a><span data-ttu-id="c1e1a-117">Compilar tootrigger de aplicación lógica de hello en los datos del cliente</span><span class="sxs-lookup"><span data-stu-id="c1e1a-117">Build hello logic app tootrigger on customer data</span></span>

<span data-ttu-id="c1e1a-118">Después de [crear una aplicación de lógica](logic-apps-create-a-logic-app.md) en Visual Studio o hello portal de Azure:</span><span class="sxs-lookup"><span data-stu-id="c1e1a-118">After [creating a logic app](logic-apps-create-a-logic-app.md) in Visual Studio or hello Azure portal:</span></span>

1. <span data-ttu-id="c1e1a-119">Agregue un desencadenador para **On New Tweets** (En los tweets nuevos) de Twitter</span><span class="sxs-lookup"><span data-stu-id="c1e1a-119">Add a trigger for **On New Tweets** from Twitter</span></span>
2. <span data-ttu-id="c1e1a-120">Configurar Hola desencadenador toolisten tootweets en una palabra clave o hashtag.</span><span class="sxs-lookup"><span data-stu-id="c1e1a-120">Configure hello trigger toolisten tootweets on a keyword or hashtag.</span></span>

   > [!NOTE]
   > <span data-ttu-id="c1e1a-121">propiedad de periodicidad de Hello en el desencadenador de hello determinará la frecuencia con aplicación de lógica de hello busca nuevos elementos en los desencadenadores basados en sondeo</span><span class="sxs-lookup"><span data-stu-id="c1e1a-121">hello recurrence property on hello trigger will determine how frequently hello logic app checks for new items on polling-based triggers</span></span>

   ![Ejemplo de desencadenador de Twitter][1]

<span data-ttu-id="c1e1a-123">Esta aplicación se activará ante todos los tweets nuevos.</span><span class="sxs-lookup"><span data-stu-id="c1e1a-123">This app will now fire on all new tweets.</span></span>  <span data-ttu-id="c1e1a-124">A continuación, podemos tomar datos tweet y comprender mejor opiniones Hola expresada.</span><span class="sxs-lookup"><span data-stu-id="c1e1a-124">We can then take that tweet data and understand more of hello sentiment expressed.</span></span>  <span data-ttu-id="c1e1a-125">Para ello se utilice hello [servicio cognitivos Azure](https://azure.microsoft.com/services/cognitive-services/) toodetect opiniones de texto.</span><span class="sxs-lookup"><span data-stu-id="c1e1a-125">For this we use hello [Azure Cognitive Service](https://azure.microsoft.com/services/cognitive-services/) toodetect sentiment of text.</span></span>

1. <span data-ttu-id="c1e1a-126">Haga clic en **New Step** (Paso nuevo).</span><span class="sxs-lookup"><span data-stu-id="c1e1a-126">Click **New Step**</span></span>
1. <span data-ttu-id="c1e1a-127">Seleccionar o buscar hello **análisis de texto** conector</span><span class="sxs-lookup"><span data-stu-id="c1e1a-127">Select or search for hello **Text Analytics** connector</span></span>
1. <span data-ttu-id="c1e1a-128">Seleccione hello **detectar opiniones** operación</span><span class="sxs-lookup"><span data-stu-id="c1e1a-128">Select hello **Detect Sentiment** operation</span></span>
1. <span data-ttu-id="c1e1a-129">Si se le solicite, proporcione una clave de servicios cognitivos válida para el servicio de análisis de texto hello</span><span class="sxs-lookup"><span data-stu-id="c1e1a-129">If prompted, provide a valid Cognitive Services key for hello Text Analytics service</span></span>
1. <span data-ttu-id="c1e1a-130">Agregar hello **texto Tweet** como Hola tooanalyze de texto.</span><span class="sxs-lookup"><span data-stu-id="c1e1a-130">Add hello **Tweet Text** as hello text tooanalyze.</span></span>

<span data-ttu-id="c1e1a-131">Ahora que tenemos datos tweet de Hola y visión en tweet hello, un número de otros conectores puede ser relevante:</span><span class="sxs-lookup"><span data-stu-id="c1e1a-131">Now that we have hello tweet data, and insights on hello tweet, a number of other connectors may be relevant:</span></span>
* <span data-ttu-id="c1e1a-132">Power BI: agregar filas tooStreaming conjunto de datos: vista tweets tiempo real en un panel de Power BI.</span><span class="sxs-lookup"><span data-stu-id="c1e1a-132">Power BI - Add Rows tooStreaming Dataset: View tweets real time on a Power BI dashboard.</span></span>
* <span data-ttu-id="c1e1a-133">Azure Data Lake - anexar el archivo: agregar tooinclude del conjunto de datos de Azure Data Lake de cliente datos tooan en trabajos de análisis.</span><span class="sxs-lookup"><span data-stu-id="c1e1a-133">Azure Data Lake - Append file: Add customer data tooan Azure Data Lake dataset tooinclude in analytics jobs.</span></span>
* <span data-ttu-id="c1e1a-134">SQL: agregar filas: almacenar datos en una base de datos para su posterior recuperación.</span><span class="sxs-lookup"><span data-stu-id="c1e1a-134">SQL - Add rows: Store data in a database for later retrieval.</span></span>
* <span data-ttu-id="c1e1a-135">Slack: Enviar mensaje: alertar a un canal de Slack sobre comentarios negativos que requieren acciones.</span><span class="sxs-lookup"><span data-stu-id="c1e1a-135">Slack - Send message: Alert a slack channel on negative feedback that requires actions.</span></span>

<span data-ttu-id="c1e1a-136">Una función de Azure también puede ser usado toodo más personalizada de proceso además de los datos de Hola.</span><span class="sxs-lookup"><span data-stu-id="c1e1a-136">An Azure Function can also be used toodo more custom compute on top of hello data.</span></span>

## <a name="enriching-hello-data-with-an-azure-function"></a><span data-ttu-id="c1e1a-137">Enriquecer datos Hola con una función de Azure</span><span class="sxs-lookup"><span data-stu-id="c1e1a-137">Enriching hello data with an Azure Function</span></span>

<span data-ttu-id="c1e1a-138">Antes de que podemos crear una función, debemos toohave una aplicación de la función en nuestra suscripción de Azure.</span><span class="sxs-lookup"><span data-stu-id="c1e1a-138">Before we can create a function, we need toohave a function app in our Azure subscription.</span></span>  <span data-ttu-id="c1e1a-139">Puede obtener más información acerca de cómo crear una función de Azure en el portal de hello [encontrarse aquí](../azure-functions/functions-create-first-azure-function-azure-portal.md)</span><span class="sxs-lookup"><span data-stu-id="c1e1a-139">Details on creating an Azure Function in hello portal can [be found here](../azure-functions/functions-create-first-azure-function-azure-portal.md)</span></span>

<span data-ttu-id="c1e1a-140">Para una toobe función llamar directamente desde una aplicación de lógica, se necesita toohave HTTP desencadenar de enlace.</span><span class="sxs-lookup"><span data-stu-id="c1e1a-140">For a function toobe called directly from a logic app, it needs toohave an HTTP trigger binding.</span></span>  <span data-ttu-id="c1e1a-141">Se recomienda usar hello **HttpTrigger** plantilla.</span><span class="sxs-lookup"><span data-stu-id="c1e1a-141">We recommend using hello **HttpTrigger** template.</span></span>

<span data-ttu-id="c1e1a-142">En este escenario, cuerpo de la solicitud de Hola de hello Azure función sería texto tweet de hello.</span><span class="sxs-lookup"><span data-stu-id="c1e1a-142">In this scenario, hello request body of hello Azure Function would be hello tweet text.</span></span>  <span data-ttu-id="c1e1a-143">En el código de la función hello, defina simplemente lógica en si el texto de los mensajes hello contiene una palabra clave o frase.</span><span class="sxs-lookup"><span data-stu-id="c1e1a-143">In hello function code, simply define logic on if hello tweet text contains a key word or phrase.</span></span>  <span data-ttu-id="c1e1a-144">podría mantenerse propia función Hello como simples o complejas según sea necesario para el escenario de Hola.</span><span class="sxs-lookup"><span data-stu-id="c1e1a-144">hello function itself could be kept as simple or complex as needed for hello scenario.</span></span>

<span data-ttu-id="c1e1a-145">Al final de Hola de función hello, simplemente devuelven una aplicación de lógica de respuesta toohello con algunos datos.</span><span class="sxs-lookup"><span data-stu-id="c1e1a-145">At hello end of hello function, simply return a response toohello logic app with some data.</span></span>  <span data-ttu-id="c1e1a-146">Puede tratarse de un valor booleano simple (p. ej. `containsKeyword`) o de un objeto complejo.</span><span class="sxs-lookup"><span data-stu-id="c1e1a-146">This could be a simple boolean value (e.g. `containsKeyword`), or a complex object.</span></span>

![Paso de función de Azure configurado][2]

> [!TIP]
> <span data-ttu-id="c1e1a-148">Cuando obtiene acceso a una respuesta compleja desde una función en una aplicación de lógica, use la acción de analizar el JSON de Hola.</span><span class="sxs-lookup"><span data-stu-id="c1e1a-148">When accessing a complex response from a function in a logic app, use hello Parse JSON action.</span></span>

<span data-ttu-id="c1e1a-149">Una vez que se guarda la función hello, y puede agregar en la aplicación de la lógica de hello creada anteriormente.</span><span class="sxs-lookup"><span data-stu-id="c1e1a-149">Once hello function is saved, it can be added into hello logic app created above.</span></span>  <span data-ttu-id="c1e1a-150">En la aplicación de la lógica de hello:</span><span class="sxs-lookup"><span data-stu-id="c1e1a-150">In hello logic app:</span></span>

1. <span data-ttu-id="c1e1a-151">Haga clic en tooadd un **nuevo paso**</span><span class="sxs-lookup"><span data-stu-id="c1e1a-151">Click tooadd a **New Step**</span></span>
1. <span data-ttu-id="c1e1a-152">Seleccione hello **funciones de Azure** conector</span><span class="sxs-lookup"><span data-stu-id="c1e1a-152">Select hello **Azure Functions** connector</span></span>
1. <span data-ttu-id="c1e1a-153">Seleccione toochoose una función existente y examinar función toohello creada</span><span class="sxs-lookup"><span data-stu-id="c1e1a-153">Select toochoose an existing function, and browse toohello function created</span></span>
1. <span data-ttu-id="c1e1a-154">Enviar en hello **Tweet texto** para hello **cuerpo de solicitud**</span><span class="sxs-lookup"><span data-stu-id="c1e1a-154">Send in hello **Tweet Text** for hello **Request Body**</span></span>

## <a name="running-and-monitoring-hello-solution"></a><span data-ttu-id="c1e1a-155">Ejecutar y supervisar la solución de Hola</span><span class="sxs-lookup"><span data-stu-id="c1e1a-155">Running and monitoring hello solution</span></span>

<span data-ttu-id="c1e1a-156">Una de las ventajas de Hola de orquestaciones sin servidor de aplicaciones de la lógica de creación es depuración enriquecido Hola y capacidades de supervisión.</span><span class="sxs-lookup"><span data-stu-id="c1e1a-156">One of hello benefits of authoring serverless orchestrations in Logic Apps is hello rich debug and monitoring capabilities.</span></span>  <span data-ttu-id="c1e1a-157">Cualquier ejecución (actual o histórica) puede verse desde dentro de Visual Studio, Hola portal de Azure, o a través de hello REST API y SDK.</span><span class="sxs-lookup"><span data-stu-id="c1e1a-157">Any run (current or historic) can be viewed from within Visual Studio, hello Azure portal, or via hello REST API and SDKs.</span></span>

<span data-ttu-id="c1e1a-158">Una tootest de maneras más fácil una aplicación de la lógica de hello usa hello **ejecutar** botón en el Diseñador de Hola.</span><span class="sxs-lookup"><span data-stu-id="c1e1a-158">One of hello easiest ways tootest a logic app is using hello **Run** button in hello designer.</span></span>  <span data-ttu-id="c1e1a-159">Haga clic en **ejecutar** continuará desencadenador de hello toopoll cada 5 segundos hasta que se detecta un evento y proporcionan una vista dinámica a medida que progresa de hello ejecutar.</span><span class="sxs-lookup"><span data-stu-id="c1e1a-159">Clicking **Run** will continue toopoll hello trigger every 5 seconds until an event is detected, and give a live view as hello run progresses.</span></span>

<span data-ttu-id="c1e1a-160">Los historiales de ejecución anteriores pueden verse en la hoja de información general de Hola Hola portal de Azure o con hello Explorador de Visual Studio en la nube.</span><span class="sxs-lookup"><span data-stu-id="c1e1a-160">Previous run histories can be viewed on hello Overview blade in hello Azure portal, or using hello Visual Studio Cloud Explorer.</span></span>

## <a name="creating-a-deployment-template-for-automated-deployments"></a><span data-ttu-id="c1e1a-161">Creación de una plantilla de implementación para implementaciones automatizadas</span><span class="sxs-lookup"><span data-stu-id="c1e1a-161">Creating a deployment template for automated deployments</span></span>

<span data-ttu-id="c1e1a-162">Una vez que se ha desarrollado una solución, puede capturar e implementado a través de un tooany de plantilla de implementación de Azure región de Azure en Hola a todos.</span><span class="sxs-lookup"><span data-stu-id="c1e1a-162">Once a solution has been developed, it can be captured and deployed via an Azure deployment template tooany Azure region in hello world.</span></span>  <span data-ttu-id="c1e1a-163">Esto resulta útil no solo para modificar los parámetros de las diferentes versiones de este flujo de trabajo, sino también para integrar esta solución en una canalización de compilación y lanzamiento.</span><span class="sxs-lookup"><span data-stu-id="c1e1a-163">This is useful for both modifying parameters for different versions of this workflow, but also for integrating this solution in a build and release pipeline.</span></span>  <span data-ttu-id="c1e1a-164">[En este artículo](logic-apps-create-deploy-template.md) se puede encontrar información acerca de cómo crear una plantilla de implementación.</span><span class="sxs-lookup"><span data-stu-id="c1e1a-164">Details on creating a deployment template can be found [in this article](logic-apps-create-deploy-template.md).</span></span>

<span data-ttu-id="c1e1a-165">Las funciones de Azure también se pueden incorporar en la plantilla de implementación de hello - para que toda la solución con todas las dependencias Hola puede administrarse como una única plantilla.</span><span class="sxs-lookup"><span data-stu-id="c1e1a-165">Azure Functions can also be incorporated in hello deployment template - so hello entire solution with all dependencies can be managed as a single template.</span></span>  <span data-ttu-id="c1e1a-166">Un ejemplo de una plantilla de implementación de la función puede encontrarse en hello [repositorio de plantilla de inicio rápido de Azure](https://github.com/Azure/azure-quickstart-templates/tree/master/101-function-app-create-dynamic).</span><span class="sxs-lookup"><span data-stu-id="c1e1a-166">An example of a function deployment template can be found in hello [Azure quickstart template repository](https://github.com/Azure/azure-quickstart-templates/tree/master/101-function-app-create-dynamic).</span></span>

## <a name="next-steps"></a><span data-ttu-id="c1e1a-167">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="c1e1a-167">Next steps</span></span>

* [<span data-ttu-id="c1e1a-168">Vea otros ejemplos y escenarios comunes de Azure Logic Apps</span><span class="sxs-lookup"><span data-stu-id="c1e1a-168">See other examples and scenarios for Azure Logic Apps</span></span>](logic-apps-examples-and-scenarios.md)
* [<span data-ttu-id="c1e1a-169">Vea un tutorial en vídeo sobre la creación de esta solución de un extremo a otro</span><span class="sxs-lookup"><span data-stu-id="c1e1a-169">Watch a video walkthrough on creating this solution end-to-end</span></span>](http://aka.ms/logicappsdemo)
* [<span data-ttu-id="c1e1a-170">Obtenga información acerca de cómo toohandle y catch excepciones dentro de una aplicación de lógica</span><span class="sxs-lookup"><span data-stu-id="c1e1a-170">Learn how toohandle and catch exceptions within a logic app</span></span>](logic-apps-exception-handling.md)

<!-- Image References -->
[1]: ./media/logic-apps-scenario-social-serverless/twitter.png
[2]: ./media/logic-apps-scenario-social-serverless/function.png