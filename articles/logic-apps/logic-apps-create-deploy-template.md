---
title: "plantillas de implementación de aaaCreate para las aplicaciones lógicas de Azure | Documentos de Microsoft"
description: "Creación de plantillas de Azure Resource Manager para administrar la implementación y liberación de aplicaciones lógicas"
services: logic-apps
documentationcenter: .net,nodejs,java
author: jeffhollan
manager: anneta
editor: 
ms.assetid: 85928ec6-d7cb-488e-926e-2e5db89508ee
ms.service: logic-apps
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: integration
ms.custom: H1Hack27Feb2017
ms.date: 10/18/2016
ms.author: LADocs; jehollan
ms.openlocfilehash: 2f09445f10a376a745d6acbba94ca29d5f79fc09
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="create-templates-for-logic-apps-deployment-and-release-management"></a><span data-ttu-id="79e12-103">Creación de plantillas para administrar la implementación y liberación de aplicaciones lógicas</span><span class="sxs-lookup"><span data-stu-id="79e12-103">Create templates for logic apps deployment and release management</span></span>

<span data-ttu-id="79e12-104">Después de que se ha creado una aplicación de lógica, podría interesarle toocreate como una plantilla de Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="79e12-104">After a logic app has been created, you might want toocreate it as an Azure Resource Manager template.</span></span>
<span data-ttu-id="79e12-105">De esta manera, puede implementar fácilmente entorno de tooany de aplicaciones de lógica de Hola o grupo de recursos en los que tal vez necesite.</span><span class="sxs-lookup"><span data-stu-id="79e12-105">This way, you can easily deploy hello logic app tooany environment or resource group where you might need it.</span></span>
<span data-ttu-id="79e12-106">Para obtener más información sobre las plantillas de Resource Manager, consulte [Creación de plantillas de Azure Resource Manager](../azure-resource-manager/resource-group-authoring-templates.md) e [Implementación de recursos con plantillas de Azure Resource Manager](../azure-resource-manager/resource-group-template-deploy.md).</span><span class="sxs-lookup"><span data-stu-id="79e12-106">For more about Resource Manager templates, see [authoring Azure Resource Manager templates](../azure-resource-manager/resource-group-authoring-templates.md) and [deploying resources by using Azure Resource Manager templates](../azure-resource-manager/resource-group-template-deploy.md).</span></span>

## <a name="logic-app-deployment-template"></a><span data-ttu-id="79e12-107">Plantilla de implementación de aplicación lógica</span><span class="sxs-lookup"><span data-stu-id="79e12-107">Logic app deployment template</span></span>

<span data-ttu-id="79e12-108">Una aplicación lógica consta de tres componentes básicos:</span><span class="sxs-lookup"><span data-stu-id="79e12-108">A logic app has three basic components:</span></span>

* <span data-ttu-id="79e12-109">**Recursos de aplicación lógica**: contiene información acerca de aspectos como definición de flujo de trabajo de hello, la ubicación y el plan de precios.</span><span class="sxs-lookup"><span data-stu-id="79e12-109">**Logic app resource**: Contains information about things like pricing plan, location, and hello workflow definition.</span></span>
* <span data-ttu-id="79e12-110">**Definición de flujo de trabajo**: describe los pasos de flujo de trabajo de la aplicación lógica y cómo motor de Logic Apps Hola debe ejecutar el flujo de trabajo de Hola.</span><span class="sxs-lookup"><span data-stu-id="79e12-110">**Workflow definition**: Describes your logic app's workflow steps and how hello Logic Apps engine should execute hello workflow.</span></span>
<span data-ttu-id="79e12-111">Puede ver esta definición en la ventana **Vista código** de su aplicación lógica.</span><span class="sxs-lookup"><span data-stu-id="79e12-111">You can view this definition in your logic app's **Code View** window.</span></span>
<span data-ttu-id="79e12-112">En el recurso de aplicación lógica de hello, puede encontrar esta definición en hello `definition` propiedad.</span><span class="sxs-lookup"><span data-stu-id="79e12-112">In hello logic app resource, you can find this definition in hello `definition` property.</span></span>
* <span data-ttu-id="79e12-113">**Las conexiones**: hace referencia a los recursos de tooseparate que almacenan metadatos acerca de las conexiones de conector, como una cadena de conexión y un token de acceso de forma segura.</span><span class="sxs-lookup"><span data-stu-id="79e12-113">**Connections**: Refers tooseparate resources that securely store metadata about any connector connections, such as a connection string and an access token.</span></span>
<span data-ttu-id="79e12-114">En el recurso de aplicación lógica de hello, la aplicación lógica hace referencia a estos recursos en hello `parameters` sección.</span><span class="sxs-lookup"><span data-stu-id="79e12-114">In hello logic app resource, your logic app references these resources in hello `parameters` section.</span></span>

<span data-ttu-id="79e12-115">Puede ver todas estas piezas de las aplicaciones lógicas existentes mediante herramientas como el [Explorador de recursos de Azure](http://resources.azure.com).</span><span class="sxs-lookup"><span data-stu-id="79e12-115">You can view all these pieces of existing logic apps by using a tool like [Azure Resource Explorer](http://resources.azure.com).</span></span>

<span data-ttu-id="79e12-116">toomake una plantilla para una aplicación de lógica toouse con implementaciones de grupos de recursos, debe definir recursos de Hola y parametrizar según sea necesario.</span><span class="sxs-lookup"><span data-stu-id="79e12-116">toomake a template for a logic app toouse with resource group deployments, you must define hello resources and parameterize as needed.</span></span>
<span data-ttu-id="79e12-117">Por ejemplo, si va a implementar tooa desarrollo, prueba y entorno de producción, probablemente desee toouse otra conexión cadenas tooa base de datos SQL en cada entorno.</span><span class="sxs-lookup"><span data-stu-id="79e12-117">For example, if you're deploying tooa development, test, and production environment, you likely want toouse different connection strings tooa SQL database in each environment.</span></span>
<span data-ttu-id="79e12-118">O bien, puede querer toodeploy en distintas suscripciones o grupos de recursos.</span><span class="sxs-lookup"><span data-stu-id="79e12-118">Or, you might want toodeploy within different subscriptions or resource groups.</span></span>  

## <a name="create-a-logic-app-deployment-template"></a><span data-ttu-id="79e12-119">Creación de una plantilla de implementación de aplicación lógica</span><span class="sxs-lookup"><span data-stu-id="79e12-119">Create a logic app deployment template</span></span>

<span data-ttu-id="79e12-120">toohave de manera más fácil de Hello una plantilla de implementación de aplicación lógica válida es toouse el [Visual Studio Tools para aplicaciones lógicas](logic-apps-deploy-from-vs.md).</span><span class="sxs-lookup"><span data-stu-id="79e12-120">hello easiest way toohave a valid logic app deployment template is toouse the [Visual Studio Tools for Logic Apps](logic-apps-deploy-from-vs.md).</span></span>
<span data-ttu-id="79e12-121">herramientas de Visual Studio de Hello generar una plantilla de implementación válido que puede utilizarse en cualquier suscripción o la ubicación.</span><span class="sxs-lookup"><span data-stu-id="79e12-121">hello Visual Studio tools generate a valid deployment template that can be used across any subscription or location.</span></span>

<span data-ttu-id="79e12-122">Algunas herramientas pueden ayudarle a crear una plantilla de implementación de aplicación lógica.</span><span class="sxs-lookup"><span data-stu-id="79e12-122">A few other tools can assist you as you create a logic app deployment template.</span></span>
<span data-ttu-id="79e12-123">Puede crear manualmente, es decir, mediante el uso de hello recursos ya tratan aquí toocreate parámetros según sea necesario.</span><span class="sxs-lookup"><span data-stu-id="79e12-123">You can author by hand, that is, by using hello resources already discussed here toocreate parameters as needed.</span></span>
<span data-ttu-id="79e12-124">Otra opción es toouse una [creador de plantillas de aplicación lógica](https://github.com/jeffhollan/LogicAppTemplateCreator) módulo de PowerShell.</span><span class="sxs-lookup"><span data-stu-id="79e12-124">Another option is toouse a [logic app template creator](https://github.com/jeffhollan/LogicAppTemplateCreator) PowerShell module.</span></span> <span data-ttu-id="79e12-125">Este módulo de código abierto evalúa primero la aplicación de la lógica de hello y que las conexiones que está usando y, a continuación, genera los recursos de plantilla con los parámetros necesarios para la implementación de Hola.</span><span class="sxs-lookup"><span data-stu-id="79e12-125">This open-source module first evaluates hello logic app and any connections that it is using, and then generates template resources with hello necessary parameters for deployment.</span></span>
<span data-ttu-id="79e12-126">Por ejemplo, si tiene una aplicación de lógica que recibe un mensaje de una cola de Service Bus de Azure y agrega la base de datos de SQL Azure de datos tooan, herramienta de hello conserva toda lógica de orquestación de Hola y parametriza Hola SQL y cadenas de conexión de Bus de servicio para que se pueden establecer en la implementación.</span><span class="sxs-lookup"><span data-stu-id="79e12-126">For example, if you have a logic app that receives a message from an Azure Service Bus queue and adds data tooan Azure SQL database, hello tool preserves all hello orchestration logic and parameterizes hello SQL and Service Bus connection strings so that they can be set at deployment.</span></span>

> [!NOTE]
> <span data-ttu-id="79e12-127">Las conexiones deben ser dentro de hello mismo grupo de recursos como aplicación de lógica de hello.</span><span class="sxs-lookup"><span data-stu-id="79e12-127">Connections must be within hello same resource group as hello logic app.</span></span>
>
>

### <a name="install-hello-logic-app-template-powershell-module"></a><span data-ttu-id="79e12-128">Instalar el módulo de PowerShell de plantilla de aplicación de lógica de Hola</span><span class="sxs-lookup"><span data-stu-id="79e12-128">Install hello logic app template PowerShell module</span></span>
<span data-ttu-id="79e12-129">módulo de Hola de manera más fácil de Hello tooinstall es a través de hello [Galería de PowerShell](https://www.powershellgallery.com/packages/LogicAppTemplate/0.1), mediante el comando de hello `Install-Module -Name LogicAppTemplate`.</span><span class="sxs-lookup"><span data-stu-id="79e12-129">hello easiest way tooinstall hello module is via hello [PowerShell Gallery](https://www.powershellgallery.com/packages/LogicAppTemplate/0.1), by using hello command `Install-Module -Name LogicAppTemplate`.</span></span>  

<span data-ttu-id="79e12-130">También puede instalar módulo de PowerShell de hello manualmente:</span><span class="sxs-lookup"><span data-stu-id="79e12-130">You also can install hello PowerShell module manually:</span></span>

1. <span data-ttu-id="79e12-131">Descargar la versión más reciente de Hola de hello [creador de plantillas de aplicación lógica](https://github.com/jeffhollan/LogicAppTemplateCreator/releases).</span><span class="sxs-lookup"><span data-stu-id="79e12-131">Download hello latest release of hello [logic app template creator](https://github.com/jeffhollan/LogicAppTemplateCreator/releases).</span></span>  
2. <span data-ttu-id="79e12-132">Extraer la carpeta de hello en la carpeta del módulo de PowerShell (normalmente `%UserProfile%\Documents\WindowsPowerShell\Modules`).</span><span class="sxs-lookup"><span data-stu-id="79e12-132">Extract hello folder in your PowerShell module folder (usually `%UserProfile%\Documents\WindowsPowerShell\Modules`).</span></span>

<span data-ttu-id="79e12-133">Para hello módulo toowork con cualquier acceso inquilino y suscripción símbolo (token), se recomienda utilizarlo con hello [ARMClient](https://github.com/projectkudu/ARMClient) herramienta de línea de comandos.</span><span class="sxs-lookup"><span data-stu-id="79e12-133">For hello module toowork with any tenant and subscription access token, we recommend that you use it with hello [ARMClient](https://github.com/projectkudu/ARMClient) command-line tool.</span></span>  <span data-ttu-id="79e12-134">Esta [entrada de blog ](http://blog.davidebbo.com/2015/01/azure-resource-manager-client.html) describe ARMClient con más detalle.</span><span class="sxs-lookup"><span data-stu-id="79e12-134">This [blog post](http://blog.davidebbo.com/2015/01/azure-resource-manager-client.html) discusses ARMClient in more detail.</span></span>

### <a name="generate-a-logic-app-template-by-using-powershell"></a><span data-ttu-id="79e12-135">Generación de una plantilla de aplicación lógica mediante PowerShell</span><span class="sxs-lookup"><span data-stu-id="79e12-135">Generate a logic app template by using PowerShell</span></span>
<span data-ttu-id="79e12-136">Después de instala PowerShell, puede generar una plantilla mediante Hola siguiente comando:</span><span class="sxs-lookup"><span data-stu-id="79e12-136">After PowerShell is installed, you can generate a template by using hello following command:</span></span>

`armclient token $SubscriptionId | Get-LogicAppTemplate -LogicApp MyApp -ResourceGroup MyRG -SubscriptionId $SubscriptionId -Verbose | Out-File C:\template.json`

<span data-ttu-id="79e12-137">`$SubscriptionId`es el Id. de suscripción de Azure Hola.</span><span class="sxs-lookup"><span data-stu-id="79e12-137">`$SubscriptionId` is hello Azure subscription ID.</span></span> <span data-ttu-id="79e12-138">Esta línea recibe primero un acceso token a través de ARMClient, a continuación, canaliza a través de toohello secuencia de comandos de PowerShell y, a continuación, crea la plantilla de hello en un archivo JSON.</span><span class="sxs-lookup"><span data-stu-id="79e12-138">This line first gets an access token via ARMClient, then pipes it through toohello PowerShell script, and then creates hello template in a JSON file.</span></span>

## <a name="add-parameters-tooa-logic-app-template"></a><span data-ttu-id="79e12-139">Agregar plantilla de aplicación lógica de parámetros tooa</span><span class="sxs-lookup"><span data-stu-id="79e12-139">Add parameters tooa logic app template</span></span>
<span data-ttu-id="79e12-140">Después de crear la plantilla de aplicación lógica, puede continuar tooadd o modificar los parámetros que necesite.</span><span class="sxs-lookup"><span data-stu-id="79e12-140">After you create your logic app template, you can continue tooadd or modify parameters that you might need.</span></span> <span data-ttu-id="79e12-141">Por ejemplo, si la definición incluye un Id. de recurso tooan función Azure o flujo de trabajo anidado tiene previsto toodeploy en una sola implementación, puede agregar más recursos tooyour plantilla y parametrizar identificadores según sea necesario.</span><span class="sxs-lookup"><span data-stu-id="79e12-141">For example, if your definition includes a resource ID tooan Azure function or nested workflow that you plan toodeploy in a single deployment, you can add more resources tooyour template and parameterize IDs as needed.</span></span> <span data-ttu-id="79e12-142">Hello Esto mismo aplica tooany referencias toocustom API Swagger extremos o esperar toodeploy de cada grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="79e12-142">hello same applies tooany references toocustom APIs or Swagger endpoints you expect toodeploy with each resource group.</span></span>

## <a name="deploy-a-logic-app-template"></a><span data-ttu-id="79e12-143">Implementación de una plantilla de aplicación lógica</span><span class="sxs-lookup"><span data-stu-id="79e12-143">Deploy a logic app template</span></span>

<span data-ttu-id="79e12-144">Puede implementar la plantilla mediante cualquier herramienta como PowerShell, API de REST, [Visual Studio Team Services Release Management](#team-services)y la implementación de plantilla a través de hello portal de Azure.</span><span class="sxs-lookup"><span data-stu-id="79e12-144">You can deploy your template by using any tools like PowerShell, REST API, [Visual Studio Team Services Release Management](#team-services), and template deployment through hello Azure portal.</span></span>
<span data-ttu-id="79e12-145">Además, valores de hello toostore para los parámetros, le recomendamos que cree una [archivo de parámetros](../azure-resource-manager/resource-group-template-deploy.md#parameter-files).</span><span class="sxs-lookup"><span data-stu-id="79e12-145">Also, toostore hello values for parameters, we recommend that you create a [parameter file](../azure-resource-manager/resource-group-template-deploy.md#parameter-files).</span></span>
<span data-ttu-id="79e12-146">Obtenga información acerca de cómo demasiado[implementar los recursos con plantillas del Administrador de recursos de Azure y PowerShell](../azure-resource-manager/resource-group-template-deploy.md) o [implementar los recursos con plantillas del Administrador de recursos de Azure y Hola portal de Azure](../azure-resource-manager/resource-group-template-deploy-portal.md).</span><span class="sxs-lookup"><span data-stu-id="79e12-146">Learn how too[deploy resources with Azure Resource Manager templates and PowerShell](../azure-resource-manager/resource-group-template-deploy.md) or [deploy resources with Azure Resource Manager templates and hello Azure portal](../azure-resource-manager/resource-group-template-deploy-portal.md).</span></span>

### <a name="authorize-oauth-connections"></a><span data-ttu-id="79e12-147">Autorización de conexiones de OAuth</span><span class="sxs-lookup"><span data-stu-id="79e12-147">Authorize OAuth connections</span></span>

<span data-ttu-id="79e12-148">Después de la implementación, aplicación de lógica de hello funciona to-end con parámetros válidos.</span><span class="sxs-lookup"><span data-stu-id="79e12-148">After deployment, hello logic app works end-to-end with valid parameters.</span></span>
<span data-ttu-id="79e12-149">Sin embargo, todavía debe autorizar conexiones de OAuth toogenerate un token de acceso válido.</span><span class="sxs-lookup"><span data-stu-id="79e12-149">However, you must still authorize OAuth connections toogenerate a valid access token.</span></span>
<span data-ttu-id="79e12-150">tooauthorize OAuth conexiones, abra la aplicación de lógica de Hola Hola Diseñador de aplicaciones de la lógica y autorizar estas conexiones.</span><span class="sxs-lookup"><span data-stu-id="79e12-150">tooauthorize OAuth connections, open hello logic app in hello Logic Apps Designer, and authorize these connections.</span></span> <span data-ttu-id="79e12-151">O bien, para la implementación automatizada, puede usar un tooeach de tooconsent OAuth conexión de script.</span><span class="sxs-lookup"><span data-stu-id="79e12-151">Or for automated deployment, you can use a script tooconsent tooeach OAuth connection.</span></span>
<span data-ttu-id="79e12-152">Hay un script de ejemplo en GitHub, en el proyecto [LogicAppConnectionAuth](https://github.com/logicappsio/LogicAppConnectionAuth) .</span><span class="sxs-lookup"><span data-stu-id="79e12-152">There's an example script on GitHub under the [LogicAppConnectionAuth](https://github.com/logicappsio/LogicAppConnectionAuth) project.</span></span>

<a name="team-services"></a>
## <a name="visual-studio-team-services-release-management"></a><span data-ttu-id="79e12-153">Administración de versiones de Visual Studio Team Services</span><span class="sxs-lookup"><span data-stu-id="79e12-153">Visual Studio Team Services Release Management</span></span>

<span data-ttu-id="79e12-154">Un escenario común para implementar y administrar un entorno es toouse una herramienta como la administración de versiones en Visual Studio Team Services, con una plantilla de implementación de aplicación lógica.</span><span class="sxs-lookup"><span data-stu-id="79e12-154">A common scenario for deploying and managing an environment is toouse a tool like Release Management in Visual Studio Team Services, with a logic app deployment template.</span></span> <span data-ttu-id="79e12-155">Visual Studio Team Services incluye un [implementar un grupo de recursos de Azure](https://github.com/Microsoft/vsts-tasks/tree/master/Tasks/DeployAzureResourceGroup) tareas que puede agregar tooany compilación o la versión de canalización.</span><span class="sxs-lookup"><span data-stu-id="79e12-155">Visual Studio Team Services includes a [Deploy Azure Resource Group](https://github.com/Microsoft/vsts-tasks/tree/master/Tasks/DeployAzureResourceGroup) task that you can add tooany build or release pipeline.</span></span> <span data-ttu-id="79e12-156">Necesita toohave una [entidad de servicio](https://blogs.msdn.microsoft.com/visualstudioalm/2015/10/04/automating-azure-resource-group-deployment-using-a-service-principal-in-visual-studio-online-buildrelease-management/) para la autorización toodeploy y, a continuación, puede generar definición de la versión de Hola.</span><span class="sxs-lookup"><span data-stu-id="79e12-156">You need toohave a [service principal](https://blogs.msdn.microsoft.com/visualstudioalm/2015/10/04/automating-azure-resource-group-deployment-using-a-service-principal-in-visual-studio-online-buildrelease-management/) for authorization toodeploy, and then you can generate hello release definition.</span></span>

1. <span data-ttu-id="79e12-157">En Release Management, seleccione **Vacío** para crear una definición vacía.</span><span class="sxs-lookup"><span data-stu-id="79e12-157">In Release Management, select **Empty** so that you create an empty definition.</span></span>

    ![Creación de una definición vacía][1]

2. <span data-ttu-id="79e12-159">Elija el proceso de compilación de todos los recursos que necesita para esta, probablemente incluido Hola lógica plantilla de aplicación que se genera manualmente o como parte del programa Hola.</span><span class="sxs-lookup"><span data-stu-id="79e12-159">Choose any resources you need for this, most likely including hello logic app template that is generated manually or as part of hello build process.</span></span>
3. <span data-ttu-id="79e12-160">Agregue una tarea de **Implementación de un grupo de recursos de Azure** .</span><span class="sxs-lookup"><span data-stu-id="79e12-160">Add an **Azure Resource Group Deployment** task.</span></span>
4. <span data-ttu-id="79e12-161">Configurar con un [entidad de servicio](https://blogs.msdn.microsoft.com/visualstudioalm/2015/10/04/automating-azure-resource-group-deployment-using-a-service-principal-in-visual-studio-online-buildrelease-management/)y hacer referencia a los archivos de plantilla y parámetros de plantilla de Hola.</span><span class="sxs-lookup"><span data-stu-id="79e12-161">Configure with a [service principal](https://blogs.msdn.microsoft.com/visualstudioalm/2015/10/04/automating-azure-resource-group-deployment-using-a-service-principal-in-visual-studio-online-buildrelease-management/), and reference hello Template and Template Parameters files.</span></span>
5. <span data-ttu-id="79e12-162">Continuar toobuild pasos en el proceso de lanzamiento de Hola para cualquier otro entorno, pruebas automatizadas o aprobadores según sea necesario.</span><span class="sxs-lookup"><span data-stu-id="79e12-162">Continue toobuild out steps in hello release process for any other environment, automated test, or approvers as needed.</span></span>

<!-- Image References -->
[1]: ./media/logic-apps-create-deploy-template/emptyreleasedefinition.png
