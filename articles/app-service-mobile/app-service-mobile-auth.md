---
title: "Autenticación y autorización en Azure Mobile Apps | Microsoft Docs"
description: "Referencia e información general conceptual de la característica de autenticación o autorización para Aplicaciones móviles de Azure"
services: app-service\mobile
documentationcenter: 
author: mattchenderson
manager: syntaxc4
editor: 
ms.assetid: a46dbf70-867d-48f6-8885-7f5207ad102e
ms.service: app-service-mobile
ms.workload: mobile
ms.tgt_pltfrm: na
ms.devlang: multiple
ms.topic: article
ms.date: 10/01/2016
ms.author: mahender
ms.openlocfilehash: 92c9f91807a6b5d4fea6b504256508f805627a16
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/03/2017
---
# <a name="authentication-and-authorization-in-azure-mobile-apps"></a><span data-ttu-id="00a33-103">Autenticación y autorización en Aplicaciones móviles de Azure</span><span class="sxs-lookup"><span data-stu-id="00a33-103">Authentication and Authorization in Azure Mobile Apps</span></span>
## <a name="what-is-app-service-authentication--authorization"></a><span data-ttu-id="00a33-104">¿Qué es la autenticación o autorización del Servicio de aplicaciones?</span><span class="sxs-lookup"><span data-stu-id="00a33-104">What is App Service Authentication / Authorization?</span></span>
> [!NOTE]
> <span data-ttu-id="00a33-105">Este tema se migrará al artículo consolidado [Autenticación y autorización en el Servicio de aplicaciones de Azure](../app-service/app-service-authentication-overview.md) , que abarca las aplicaciones web, móviles y de API.</span><span class="sxs-lookup"><span data-stu-id="00a33-105">This topic will be migrated to a consolidated [App Service Authentication / Authorization](../app-service/app-service-authentication-overview.md) topic, which covers Web, Mobile, and API Apps.</span></span>
> 
> 

<span data-ttu-id="00a33-106">La autenticación o autorización del Servicio de aplicaciones es una característica que permite que los usuarios inicien sesión en la aplicación sin necesidad de realizar cambios en el código del back-end de la misma.</span><span class="sxs-lookup"><span data-stu-id="00a33-106">App Service Authentication / Authorization is a feature which allows your application to log in users with no code changes required on the app backend.</span></span> <span data-ttu-id="00a33-107">Ofrece una forma fácil de proteger su aplicación y trabajar con datos por usuario.</span><span class="sxs-lookup"><span data-stu-id="00a33-107">It provides an easy way to protect your application and work with per-user data.</span></span>

<span data-ttu-id="00a33-108">El Servicio de aplicaciones usa la identidad federada, en la cual un **proveedor de identidades** ("IdP") de terceros almacena cuentas y autentica usuarios, mientras que la aplicación utiliza esta identidad en lugar de la suya.</span><span class="sxs-lookup"><span data-stu-id="00a33-108">App Service uses federated identity, in which a 3rd-party **identity provider** ("IDP") stores accounts and authenticates users, and the application uses this identity instead of its own.</span></span> <span data-ttu-id="00a33-109">App Service admite cinco proveedores de identidades estándar: *Azure Active Directory*, *Facebook*, *Google*, *Cuenta Microsoft* y *Twitter*.</span><span class="sxs-lookup"><span data-stu-id="00a33-109">App Service supports five identity providers out of the box: *Azure Active Directory*, *Facebook*, *Google*, *Microsoft Account*, and *Twitter*.</span></span> <span data-ttu-id="00a33-110">También puede ampliar esta compatibilidad con sus aplicaciones integrando otro proveedor de identidades o su propia solución de identidad personalizada.</span><span class="sxs-lookup"><span data-stu-id="00a33-110">You can also expand this support for your apps by integrating another identity provider or your own custom identity solution.</span></span>

<span data-ttu-id="00a33-111">La aplicación puede aprovechar cualquier cantidad de estos proveedores de identidades, por lo que puede proporcionar opciones de inicio de sesión a sus usuarios finales.</span><span class="sxs-lookup"><span data-stu-id="00a33-111">Your app can leverage any number of these identity providers, so you can provide your end users with options for how they login.</span></span>

<span data-ttu-id="00a33-112">Si desea comenzar inmediatamente, consulte uno de los siguientes tutoriales:</span><span class="sxs-lookup"><span data-stu-id="00a33-112">If you wish to get started right away, please see one of the following tutorials:</span></span>

* <span data-ttu-id="00a33-113">[Incorporación de la autenticación a la aplicación iOS]</span><span class="sxs-lookup"><span data-stu-id="00a33-113">[Add authentication to your iOS app]</span></span>
* <span data-ttu-id="00a33-114">[Adición de la autenticación a la aplicación Xamarin.iOS]</span><span class="sxs-lookup"><span data-stu-id="00a33-114">[Add authentication to your Xamarin.iOS app]</span></span>
* <span data-ttu-id="00a33-115">[Adición de la autenticación a la aplicación Xamarin.Android]</span><span class="sxs-lookup"><span data-stu-id="00a33-115">[Add authentication to your Xamarin.Android app]</span></span>
* <span data-ttu-id="00a33-116">[Adición de la autenticación a la aplicación de Windows]</span><span class="sxs-lookup"><span data-stu-id="00a33-116">[Add Authentication to your Windows app]</span></span>

## <a name="how-authentication-works"></a><span data-ttu-id="00a33-117">Funcionamiento de la autenticación</span><span class="sxs-lookup"><span data-stu-id="00a33-117">How authentication works</span></span>
<span data-ttu-id="00a33-118">Para autenticarse con uno de los proveedores de identidades, primero debe configurar el proveedor de identidades para obtener información sobre su aplicación.</span><span class="sxs-lookup"><span data-stu-id="00a33-118">In order to authenticate using one of the identity providers, you first need to configure the identity provider to know about your application.</span></span> <span data-ttu-id="00a33-119">A continuación, el proveedor de identidades le proporcionará identificadores y secretos que, a su vez, proporciona a la aplicación.</span><span class="sxs-lookup"><span data-stu-id="00a33-119">The identity provider will then provide you with IDs and secrets that you provide back to the application.</span></span> <span data-ttu-id="00a33-120">De este modo se completa la relación de confianza y se permite al Servicio de aplicaciones validar las identidades proporcionadas al mismo.</span><span class="sxs-lookup"><span data-stu-id="00a33-120">This completes the trust relationship and allows App Service to validate identities provided to it.</span></span>

<span data-ttu-id="00a33-121">Estos pasos se describen en los temas siguientes:</span><span class="sxs-lookup"><span data-stu-id="00a33-121">These steps are detailed in the following topics:</span></span>

* <span data-ttu-id="00a33-122">[Configuración de la aplicación para usar el inicio de sesión de Azure Active Directory]</span><span class="sxs-lookup"><span data-stu-id="00a33-122">[How to configure your app to use Azure Active Directory login]</span></span>
* <span data-ttu-id="00a33-123">[Configuración de la aplicación para usar el inicio de sesión de Facebook]</span><span class="sxs-lookup"><span data-stu-id="00a33-123">[How to configure your app to use Facebook login]</span></span>
* <span data-ttu-id="00a33-124">[Configuración de la aplicación para usar el inicio de sesión de Google]</span><span class="sxs-lookup"><span data-stu-id="00a33-124">[How to configure your app to use Google login]</span></span>
* <span data-ttu-id="00a33-125">[Configuración de la aplicación para usar el inicio de sesión de la cuenta Microsoft]</span><span class="sxs-lookup"><span data-stu-id="00a33-125">[How to configure your app to use Microsoft Account login]</span></span>
* <span data-ttu-id="00a33-126">[Configuración de la aplicación para usar el inicio de sesión de Twitter]</span><span class="sxs-lookup"><span data-stu-id="00a33-126">[How to configure your app to use Twitter login]</span></span>

<span data-ttu-id="00a33-127">Una vez que se ha configurado todo en el back-end, puede modificar su cliente para iniciar sesión.</span><span class="sxs-lookup"><span data-stu-id="00a33-127">Once everything is configured on the backend, you can modify your client to log in.</span></span> <span data-ttu-id="00a33-128">Hay dos enfoques aquí:</span><span class="sxs-lookup"><span data-stu-id="00a33-128">There are two approaches here:</span></span>

* <span data-ttu-id="00a33-129">Permita que los usuarios inicien sesión en el SDK del cliente de Aplicaciones móviles con una sola línea de código.</span><span class="sxs-lookup"><span data-stu-id="00a33-129">Using a single line of code, let the Mobile Apps client SDK sign in users.</span></span>
* <span data-ttu-id="00a33-130">Aproveche un SDK publicado por un proveedor de identidades determinado para establecer la identidad y después obtener acceso al Servicio de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="00a33-130">Leverage an SDK published by a given identity provider to establish identity and then gain access to App Service.</span></span>

> [!TIP]
> <span data-ttu-id="00a33-131">La mayoría de las aplicaciones deben usar un SDK del proveedor para obtener una experiencia de inicio de sesión más nativa y aprovechar la compatibilidad de actualización y otras ventajas específicas del proveedor.</span><span class="sxs-lookup"><span data-stu-id="00a33-131">Most applications should use a provider SDK to get a more native-feeling login experience and to leverage refresh support and other provider-specific benefits.</span></span>
> 
> 

### <a name="how-authentication-without-a-provider-sdk-works"></a><span data-ttu-id="00a33-132">Funcionamiento de la autenticación sin un SDK del proveedor</span><span class="sxs-lookup"><span data-stu-id="00a33-132">How authentication without a provider SDK works</span></span>
<span data-ttu-id="00a33-133">Si no desea configurar un SDK del proveedor, puede dejar que Aplicaciones móviles realice el inicio de sesión por usted.</span><span class="sxs-lookup"><span data-stu-id="00a33-133">If you do not wish to set up a provider SDK, you can allow Mobile Apps to perform the login for you.</span></span> <span data-ttu-id="00a33-134">El SDK del cliente de Aplicaciones móviles abrirá una vista web al proveedor de su elección y completará el inicio de sesión.</span><span class="sxs-lookup"><span data-stu-id="00a33-134">The Mobile Apps client SDK will open a web view to the provider of your choosing and complete the sign in.</span></span> <span data-ttu-id="00a33-135">En ocasiones, en blogs y foros encontrará que se hace referencia a este como "flujo de servidor" o "flujo dirigido al servidor", pues el servidor administra el inicio de sesión y el SDK del cliente nunca recibe el token del proveedor.</span><span class="sxs-lookup"><span data-stu-id="00a33-135">Occasionally on blogs and forums you will see this referred to as the "server flow" or "server-directed flow" since the server is managing the login, and the client SDK never receives the provider token.</span></span>

<span data-ttu-id="00a33-136">El código necesario para iniciar este flujo se trata en el tutorial de autenticación para cada plataforma.</span><span class="sxs-lookup"><span data-stu-id="00a33-136">The code needed to start this flow is covered in the authentication tutorial for each platform.</span></span> <span data-ttu-id="00a33-137">Al final del flujo, el SDK del cliente tiene un token del Servicio de aplicaciones que se adjunta automáticamente a todas las solicitudes para el back-end.</span><span class="sxs-lookup"><span data-stu-id="00a33-137">At the end of the flow, the client SDK has an App Service token, and the token is automatically attached to all requests to the backend.</span></span>

### <a name="how-authentication-with-a-provider-sdk-works"></a><span data-ttu-id="00a33-138">Funcionamiento de la autenticación con un SDK del proveedor</span><span class="sxs-lookup"><span data-stu-id="00a33-138">How authentication with a provider SDK works</span></span>
<span data-ttu-id="00a33-139">Trabajar con un SDK del proveedor permite que la experiencia de inicio de sesión interactúe de manera más estrecha con el sistema operativo de la plataforma donde se ejecuta la aplicación.</span><span class="sxs-lookup"><span data-stu-id="00a33-139">Working with a provider SDK allows the log-in experience to interact more tightly with the platform OS the app is running on.</span></span> <span data-ttu-id="00a33-140">También le proporciona un token del proveedor e información de usuario sobre el cliente, lo que facilita en gran medida el consumo de API de gráficos y la personalización de la experiencia del usuario.</span><span class="sxs-lookup"><span data-stu-id="00a33-140">This also gives you a provider token and some user information on the client, which makes it much easier to consume graph APIs and customize the user experience.</span></span> <span data-ttu-id="00a33-141">En ocasiones, en blogs y foros encontrará que se hace referencia a este como "flujo de cliente" o "flujo dirigido al cliente", pues el código del cliente controla el inicio de sesión y tiene acceso a un token del proveedor.</span><span class="sxs-lookup"><span data-stu-id="00a33-141">Occasionally on blogs and forums you will see this referred to as the "client flow" or "client-directed flow" since code on the client is handling the login, and the client code has access to a provider token.</span></span>

<span data-ttu-id="00a33-142">Una vez que se obtiene un token del proveedor, debe enviarse al Servicio de aplicaciones para su validación.</span><span class="sxs-lookup"><span data-stu-id="00a33-142">Once a provider token is obtained, it needs to be sent to App Service for validation.</span></span> <span data-ttu-id="00a33-143">Al final del flujo, el SDK del cliente tiene un token del Servicio de aplicaciones que se adjunta automáticamente a todas las solicitudes para el back-end.</span><span class="sxs-lookup"><span data-stu-id="00a33-143">At the end of the flow, the client SDK has an App Service token, and the token is automatically attached to all requests to the backend.</span></span> <span data-ttu-id="00a33-144">El desarrollador también puede mantener una referencia al token del proveedor si así lo desea.</span><span class="sxs-lookup"><span data-stu-id="00a33-144">The developer can also keep a reference to the provider token if they so choose.</span></span>

## <a name="how-authorization-works"></a><span data-ttu-id="00a33-145">Funcionamiento de la autorización</span><span class="sxs-lookup"><span data-stu-id="00a33-145">How authorization works</span></span>
<span data-ttu-id="00a33-146">La autenticación o autorización del Servicio de aplicaciones expone varias opciones para **Acción por realizar cuando no se autentique la solicitud**.</span><span class="sxs-lookup"><span data-stu-id="00a33-146">App Service Authentication / Authorization exposes several choices for **Action to take when request is not authenticated**.</span></span> <span data-ttu-id="00a33-147">Antes de que el código reciba una solicitud determinada, puede hacer que el Servicio de aplicaciones compruebe si la solicitud se ha autenticado y, si no es así, rechazarla e intentar que el usuario inicie sesión antes de probar de nuevo.</span><span class="sxs-lookup"><span data-stu-id="00a33-147">Before your code receives a given request, you can have App Service check to see if the request is authenticated and if not, reject it and attempt to have the user log in before trying again.</span></span>

<span data-ttu-id="00a33-148">Una opción es el redireccionamiento de las solicitudes no autenticadas a uno de los proveedores de identidades.</span><span class="sxs-lookup"><span data-stu-id="00a33-148">One option is to have unauthenticated requests redirect to one of the identity providers.</span></span> <span data-ttu-id="00a33-149">En realidad, en un explorador web, esto llevaría al usuario a una nueva página.</span><span class="sxs-lookup"><span data-stu-id="00a33-149">In a web browser, this would actually take the user to a new page.</span></span> <span data-ttu-id="00a33-150">Sin embargo, su cliente móvil no puede redirigirse de esta manera y las respuestas no autenticadas recibirán una respuesta HTTP del tipo *401 - No autorizado*.</span><span class="sxs-lookup"><span data-stu-id="00a33-150">However, your mobile client cannot be redirected in this way, and unauthenticated responses will receive an HTTP *401 Unauthorized* response.</span></span> <span data-ttu-id="00a33-151">Dicho esto, la primera solicitud realizada por el cliente siempre debe ser para el punto de conexión de inicio de sesión y después podrá realizar llamadas a cualquier otra API.</span><span class="sxs-lookup"><span data-stu-id="00a33-151">Given this, the first request your client makes should always be to the login endpoint, and then you can make calls to any other APIs.</span></span> <span data-ttu-id="00a33-152">Si intenta llamar a otra API antes de iniciar sesión, el cliente recibirá un error.</span><span class="sxs-lookup"><span data-stu-id="00a33-152">If you attempt to call another API before logging in, your client will receive an error.</span></span>

<span data-ttu-id="00a33-153">Si desea tener un control pormenorizado sobre qué puntos de conexión requieren autenticación, también puede elegir "Ninguna acción (permitir solicitud)" para las solicitudes no autenticadas.</span><span class="sxs-lookup"><span data-stu-id="00a33-153">If you wish to have more granular control over which endpoints require authentication, you can also pick "No action (allow request)" for unauthenticated requests.</span></span> <span data-ttu-id="00a33-154">En este caso, todas las decisiones de autenticación se aplazan al código de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="00a33-154">In this case, all authentication decisions are deferred to your application code.</span></span> <span data-ttu-id="00a33-155">Además, gracias a esto puede permitir el acceso a usuarios específicos según las reglas de autorización personalizadas.</span><span class="sxs-lookup"><span data-stu-id="00a33-155">This also allows you to allow access to specific users based on custom authorization rules.</span></span>

## <a name="documentation"></a><span data-ttu-id="00a33-156">Documentación</span><span class="sxs-lookup"><span data-stu-id="00a33-156">Documentation</span></span>
<span data-ttu-id="00a33-157">Los siguientes tutoriales muestran cómo incorporar la autenticación a los clientes móviles con el Servicio de aplicaciones:</span><span class="sxs-lookup"><span data-stu-id="00a33-157">The following tutorials show how to add authentication to your mobile clients using App Service:</span></span>

* <span data-ttu-id="00a33-158">[Incorporación de la autenticación a la aplicación iOS]</span><span class="sxs-lookup"><span data-stu-id="00a33-158">[Add authentication to your iOS app]</span></span>
* <span data-ttu-id="00a33-159">[Adición de la autenticación a la aplicación Xamarin.iOS]</span><span class="sxs-lookup"><span data-stu-id="00a33-159">[Add authentication to your Xamarin.iOS app]</span></span>
* <span data-ttu-id="00a33-160">[Adición de la autenticación a la aplicación Xamarin.Android]</span><span class="sxs-lookup"><span data-stu-id="00a33-160">[Add authentication to your Xamarin.Android app]</span></span>
* <span data-ttu-id="00a33-161">[Adición de la autenticación a la aplicación de Windows]</span><span class="sxs-lookup"><span data-stu-id="00a33-161">[Add Authentication to your Windows app]</span></span>

<span data-ttu-id="00a33-162">En los siguientes tutoriales se muestra cómo configurar el Servicio de aplicaciones para aprovechar los distintos proveedores de autenticación:</span><span class="sxs-lookup"><span data-stu-id="00a33-162">The following tutorials show how to configure App Service to leverage different authentication providers:</span></span>

* <span data-ttu-id="00a33-163">[Configuración de la aplicación para usar el inicio de sesión de Azure Active Directory]</span><span class="sxs-lookup"><span data-stu-id="00a33-163">[How to configure your app to use Azure Active Directory login]</span></span>
* <span data-ttu-id="00a33-164">[Configuración de la aplicación para usar el inicio de sesión de Facebook]</span><span class="sxs-lookup"><span data-stu-id="00a33-164">[How to configure your app to use Facebook login]</span></span>
* <span data-ttu-id="00a33-165">[Configuración de la aplicación para usar el inicio de sesión de Google]</span><span class="sxs-lookup"><span data-stu-id="00a33-165">[How to configure your app to use Google login]</span></span>
* <span data-ttu-id="00a33-166">[Configuración de la aplicación para usar el inicio de sesión de la cuenta Microsoft]</span><span class="sxs-lookup"><span data-stu-id="00a33-166">[How to configure your app to use Microsoft Account login]</span></span>
* <span data-ttu-id="00a33-167">[Configuración de la aplicación para usar el inicio de sesión de Twitter]</span><span class="sxs-lookup"><span data-stu-id="00a33-167">[How to configure your app to use Twitter login]</span></span>

<span data-ttu-id="00a33-168">Si desea usar un sistema de identidades diferente a los proporcionados aquí, también puede aprovechar la [compatibilidad con la autenticación personalizada de vista previa en el SDK de servidor .NET](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md#custom-auth).</span><span class="sxs-lookup"><span data-stu-id="00a33-168">If you wish to use an identity system other than the ones provided here, you can also leverage the [preview custom authentication support in the .NET server SDK](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md#custom-auth).</span></span>

<span data-ttu-id="00a33-169">[Incorporación de la autenticación a la aplicación iOS]: app-service-mobile-ios-get-started-users.md</span><span class="sxs-lookup"><span data-stu-id="00a33-169">[Add authentication to your iOS app]: app-service-mobile-ios-get-started-users.md</span></span>
<span data-ttu-id="00a33-170">[Adición de la autenticación a la aplicación Xamarin.iOS]: app-service-mobile-xamarin-ios-get-started-users.md</span><span class="sxs-lookup"><span data-stu-id="00a33-170">[Add authentication to your Xamarin.iOS app]: app-service-mobile-xamarin-ios-get-started-users.md</span></span>
<span data-ttu-id="00a33-171">[Adición de la autenticación a la aplicación Xamarin.Android]: app-service-mobile-xamarin-android-get-started-users.md</span><span class="sxs-lookup"><span data-stu-id="00a33-171">[Add authentication to your Xamarin.Android app]: app-service-mobile-xamarin-android-get-started-users.md</span></span>
<span data-ttu-id="00a33-172">[Adición de la autenticación a la aplicación de Windows]: app-service-mobile-windows-store-dotnet-get-started-users.md</span><span class="sxs-lookup"><span data-stu-id="00a33-172">[Add Authentication to your Windows app]: app-service-mobile-windows-store-dotnet-get-started-users.md</span></span>

<span data-ttu-id="00a33-173">[Configuración de la aplicación para usar el inicio de sesión de Azure Active Directory]: app-service-mobile-how-to-configure-active-directory-authentication.md</span><span class="sxs-lookup"><span data-stu-id="00a33-173">[How to configure your app to use Azure Active Directory login]: app-service-mobile-how-to-configure-active-directory-authentication.md</span></span>
<span data-ttu-id="00a33-174">[Configuración de la aplicación para usar el inicio de sesión de Facebook]: app-service-mobile-how-to-configure-facebook-authentication.md</span><span class="sxs-lookup"><span data-stu-id="00a33-174">[How to configure your app to use Facebook login]: app-service-mobile-how-to-configure-facebook-authentication.md</span></span>
<span data-ttu-id="00a33-175">[Configuración de la aplicación para usar el inicio de sesión de Google]: app-service-mobile-how-to-configure-google-authentication.md</span><span class="sxs-lookup"><span data-stu-id="00a33-175">[How to configure your app to use Google login]: app-service-mobile-how-to-configure-google-authentication.md</span></span>
<span data-ttu-id="00a33-176">[Configuración de la aplicación para usar el inicio de sesión de la cuenta Microsoft]: app-service-mobile-how-to-configure-microsoft-authentication.md</span><span class="sxs-lookup"><span data-stu-id="00a33-176">[How to configure your app to use Microsoft Account login]: app-service-mobile-how-to-configure-microsoft-authentication.md</span></span>
<span data-ttu-id="00a33-177">[Configuración de la aplicación para usar el inicio de sesión de Twitter]: app-service-mobile-how-to-configure-twitter-authentication.md</span><span class="sxs-lookup"><span data-stu-id="00a33-177">[How to configure your app to use Twitter login]: app-service-mobile-how-to-configure-twitter-authentication.md</span></span>
