---
title: "aaaUpgrade de tooAzure servicio de aplicaciones de servicios móviles"
description: "Obtenga información acerca de cómo tooeasily actualizar su tooan de aplicación de servicios móviles aplicación móvil de servicio de aplicación"
services: app-service\mobile
documentationcenter: 
author: ggailey777
manager: syntaxc4
editor: 
ms.assetid: 9c0ac353-afb6-462b-ab94-d91b8247322f
ms.service: app-service-mobile
ms.workload: mobile
ms.tgt_pltfrm: mobile
ms.devlang: dotnet
ms.topic: article
ms.date: 10/01/2016
ms.author: glenga
ms.openlocfilehash: 2b75a1b824e8ef0d36c9053f2f19af051479f928
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="upgrade-your-existing-net-azure-mobile-service-tooapp-service"></a><span data-ttu-id="650c8-103">Actualizar su tooApp de servicios móviles de Azure .NET servicio existente</span><span class="sxs-lookup"><span data-stu-id="650c8-103">Upgrade your existing .NET Azure Mobile Service tooApp Service</span></span>
<span data-ttu-id="650c8-104">Servicio de aplicaciones móviles son una nueva manera toobuild móviles las aplicaciones con Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="650c8-104">App Service Mobile is a new way toobuild mobile applications using Microsoft Azure.</span></span> <span data-ttu-id="650c8-105">más información, consulte toolearn [¿qué aplicaciones móviles?].</span><span class="sxs-lookup"><span data-stu-id="650c8-105">toolearn more, see [What are Mobile Apps?].</span></span>

<span data-ttu-id="650c8-106">Este tema se describe cómo una aplicación existente de back-end de .NET de servicios móviles de Azure tooa tooupgrade aplicaciones móviles de nueva aplicación de servicio.</span><span class="sxs-lookup"><span data-stu-id="650c8-106">This topic describes how tooupgrade an existing .NET backend application from Azure Mobile Services tooa new App Service Mobile Apps.</span></span> <span data-ttu-id="650c8-107">Cuando realiza esta actualización, la aplicación de servicios móviles existente puede seguir realizando toooperate.</span><span class="sxs-lookup"><span data-stu-id="650c8-107">While you perform this upgrade, your existing Mobile Services application can continue toooperate.</span></span>   <span data-ttu-id="650c8-108">Si necesita una aplicación de back-end de Node.js tooupgrade, consulte demasiado[actualizar los servicios móviles de Node.js](app-service-mobile-node-backend-upgrading-from-mobile-services.md).</span><span class="sxs-lookup"><span data-stu-id="650c8-108">If you need tooupgrade a Node.js backend application, refer too[Upgrading your Node.js Mobile Services](app-service-mobile-node-backend-upgrading-from-mobile-services.md).</span></span>

<span data-ttu-id="650c8-109">Una vez un back-end móvil actualizado tooAzure servicio de aplicaciones, tiene tooall de acceso a características del servicio de aplicación y facturan según demasiado[servicio de aplicaciones precios], no los servicios móviles de precios.</span><span class="sxs-lookup"><span data-stu-id="650c8-109">When a mobile backend is upgraded tooAzure App Service, it has access tooall App Service features and are billed according too[App Service pricing], not Mobile Services pricing.</span></span>

## <a name="migrate-vs-upgrade"></a><span data-ttu-id="650c8-110">Migración frente a actualización</span><span class="sxs-lookup"><span data-stu-id="650c8-110">Migrate vs. upgrade</span></span>
[!INCLUDE [app-service-mobile-migrate-vs-upgrade](../../includes/app-service-mobile-migrate-vs-upgrade.md)]

> [!TIP]
> <span data-ttu-id="650c8-111">Se recomienda [realizar una migración](app-service-mobile-migrating-from-mobile-services.md) antes de pasar por una actualización.</span><span class="sxs-lookup"><span data-stu-id="650c8-111">It is recommended that you [perform a migration](app-service-mobile-migrating-from-mobile-services.md) before going through an upgrade.</span></span> <span data-ttu-id="650c8-112">De esta manera, puede colocar las dos versiones de la aplicación Hola mismo Plan de servicio de aplicación y no acumulando costo adicional alguno.</span><span class="sxs-lookup"><span data-stu-id="650c8-112">This way, you can put both versions of your application on hello same App Service Plan and incur no additional cost.</span></span>
>
>

### <a name="improvements-in-mobile-apps-net-server-sdk"></a><span data-ttu-id="650c8-113">Mejoras en el SDK de servidor .NET de Aplicaciones móviles</span><span class="sxs-lookup"><span data-stu-id="650c8-113">Improvements in Mobile Apps .NET server SDK</span></span>
<span data-ttu-id="650c8-114">Actualizar toohello nueva [SDK de aplicaciones móviles](https://www.nuget.org/packages/Microsoft.Azure.Mobile.Server/) proporciona Hola siguientes ventajas:</span><span class="sxs-lookup"><span data-stu-id="650c8-114">Upgrading toohello new [Mobile Apps SDK](https://www.nuget.org/packages/Microsoft.Azure.Mobile.Server/) provides hello following benefits:</span></span>

* <span data-ttu-id="650c8-115">Más flexibilidad en las dependencias de NuGet.</span><span class="sxs-lookup"><span data-stu-id="650c8-115">More flexibility on NuGet dependencies.</span></span> <span data-ttu-id="650c8-116">Hola entorno de hospedaje ya no proporciona sus propias versiones de paquetes de NuGet, por lo que puede usar versiones compatibles alternativas.</span><span class="sxs-lookup"><span data-stu-id="650c8-116">hello hosting environment no longer provides its own versions of NuGet packages, so you can use alternative compatible versions.</span></span> <span data-ttu-id="650c8-117">Sin embargo, si hay nuevas bugfixes crítico o toohello de las actualizaciones de seguridad móvil Server SDK o dependencias, debe actualizar manualmente el servicio.</span><span class="sxs-lookup"><span data-stu-id="650c8-117">However, if there are new critical bugfixes or security updates toohello Mobile Server SDK or dependencies, you must update your service manually.</span></span>
* <span data-ttu-id="650c8-118">Más flexibilidad en Hola SDK móvil.</span><span class="sxs-lookup"><span data-stu-id="650c8-118">More flexibility in hello mobile SDK.</span></span> <span data-ttu-id="650c8-119">Puede controlar explícitamente qué características y las rutas se establecen, como la autenticación, tabla API y Hola extremo de registro de inserción.</span><span class="sxs-lookup"><span data-stu-id="650c8-119">You can explicitly control which features and routes are set up, such as authentication, table APIs, and hello push registration endpoint.</span></span> <span data-ttu-id="650c8-120">más información, consulte toolearn [cómo toouse Hola servidor .NET SDK para aplicaciones móviles de Azure](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md).</span><span class="sxs-lookup"><span data-stu-id="650c8-120">toolearn more, see [How toouse hello .NET server SDK for Azure Mobile Apps](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md).</span></span>
* <span data-ttu-id="650c8-121">Compatibilidad con otras rutas y tipos de proyecto ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="650c8-121">Support for other ASP.NET project types and routes.</span></span> <span data-ttu-id="650c8-122">Ahora puede hospedar los controladores MVC y API Web en hello mismo proyecto como el proyecto móvil de back-end.</span><span class="sxs-lookup"><span data-stu-id="650c8-122">You can now host MVC and Web API controllers in hello same project as your mobile backend project.</span></span>
* <span data-ttu-id="650c8-123">Compatibilidad con nuevas características de autenticación de servicio de aplicaciones, que le permiten toouse una configuración de autenticación común a través de la web y aplicaciones móviles.</span><span class="sxs-lookup"><span data-stu-id="650c8-123">Support for new App Service authentication features, which allow you toouse a common authentication configuration across your web and mobile apps.</span></span>

## <span data-ttu-id="650c8-124"><a name="overview"></a>Información general básica de actualización</span><span class="sxs-lookup"><span data-stu-id="650c8-124"><a name="overview"></a>Basic upgrade overview</span></span>
<span data-ttu-id="650c8-125">En muchos casos, la actualización será tan sencilla como cambiar toohello nuevo servidor de aplicaciones móviles SDK y volver a publicar el código en una nueva instancia de la aplicación móvil.</span><span class="sxs-lookup"><span data-stu-id="650c8-125">In many cases, upgrading will be as simple as switching toohello new Mobile Apps server SDK and republishing your code onto a new Mobile App instance.</span></span> <span data-ttu-id="650c8-126">Sin embargo, hay algunos escenarios que requieren una configuración adicional, como los escenarios de autenticación avanzada y el trabajo con trabajos programados.</span><span class="sxs-lookup"><span data-stu-id="650c8-126">There are, however some scenarios which will require some additional configuration, such as advanced authentication scenarios and working with scheduled jobs.</span></span> <span data-ttu-id="650c8-127">Cada una de ellas se trata en hello secciones más adelante.</span><span class="sxs-lookup"><span data-stu-id="650c8-127">Each of these is covered in hello later sections.</span></span>

> [!TIP]
> <span data-ttu-id="650c8-128">Se recomienda que leer y comprender el resto de Hola de este tema completamente antes de iniciar una actualización.</span><span class="sxs-lookup"><span data-stu-id="650c8-128">It is advised that you read and understand hello rest of this topic completely before starting an upgrade.</span></span> <span data-ttu-id="650c8-129">Tome nota de cualquier característica usada que se mencione a continuación.</span><span class="sxs-lookup"><span data-stu-id="650c8-129">Make note of any features you use which are called out below.</span></span>
>
>

<span data-ttu-id="650c8-130">SDK de cliente de servicios móviles de Hello es **no** compatibles con el servidor de aplicaciones móviles nueva Hola SDK.</span><span class="sxs-lookup"><span data-stu-id="650c8-130">hello Mobile Services client SDKs are **not** compatible with hello new Mobile Apps server SDK.</span></span> <span data-ttu-id="650c8-131">En orden tooprovide la continuidad del servicio para la aplicación, no debería publicar sitio tooa de cambios actualmente actúa a clientes publicados.</span><span class="sxs-lookup"><span data-stu-id="650c8-131">In order tooprovide continuity of service for your app, you should not publish changes tooa site currently serving published clients.</span></span> <span data-ttu-id="650c8-132">En su lugar, debe crear una aplicación móvil que actúe como duplicado.</span><span class="sxs-lookup"><span data-stu-id="650c8-132">Instead, you should create a new mobile app that serves as a duplicate.</span></span> <span data-ttu-id="650c8-133">Puede colocar esta aplicación Hola mismo servicio de aplicaciones previsto tooavoid incurrir en costes financieros adicionales.</span><span class="sxs-lookup"><span data-stu-id="650c8-133">You can put this application on hello same App Service plan tooavoid incurring additional financial cost.</span></span>

<span data-ttu-id="650c8-134">A continuación, tendrá dos versiones de la aplicación hello: uno que permanece Hola igual y sirve de las aplicaciones publicadas en hello y Hola comodín sí que, a continuación, puede actualizar y destino con una nueva versión de cliente.</span><span class="sxs-lookup"><span data-stu-id="650c8-134">You will then have two versions of hello application: one which stays hello same and serves published apps in hello wild, and hello other which you can then upgrade and target with a new client release.</span></span> <span data-ttu-id="650c8-135">Puede mover y probar el código a su ritmo, pero debe asegurarse de que las correcciones de errores de que asegúrese obtener tooboth aplicada.</span><span class="sxs-lookup"><span data-stu-id="650c8-135">You can move and test your code at your pace, but you should make sure that any bug fixes you make get applied tooboth.</span></span> <span data-ttu-id="650c8-136">Cuando se sienta que un número deseado de las aplicaciones de cliente en hello comodín actualizaron versión más reciente de toohello, puede eliminar la aplicación migrada de hello original si así lo desea.</span><span class="sxs-lookup"><span data-stu-id="650c8-136">Once you feel that a desired number of client apps in hello wild have updated toohello latest version, you can delete hello original migrated app if you desire.</span></span>

<span data-ttu-id="650c8-137">descripción completa del Hola de proceso de actualización de hello es como sigue:</span><span class="sxs-lookup"><span data-stu-id="650c8-137">hello full outline for hello upgrade process is as follows:</span></span>

1. <span data-ttu-id="650c8-138">Creación de una aplicación móvil</span><span class="sxs-lookup"><span data-stu-id="650c8-138">Create a new Mobile App</span></span>
2. <span data-ttu-id="650c8-139">Actualización Hola proyecto toouse Hola nuevos SDK de servidor</span><span class="sxs-lookup"><span data-stu-id="650c8-139">Update hello project toouse hello new Server SDKs</span></span>
3. <span data-ttu-id="650c8-140">Publique una versión nueva de la aplicación cliente</span><span class="sxs-lookup"><span data-stu-id="650c8-140">Release a new version of your client application</span></span>
4. <span data-ttu-id="650c8-141">(Opcional) Eliminación de la instancia original migrada</span><span class="sxs-lookup"><span data-stu-id="650c8-141">(Optional) Delete your original migrated instance</span></span>

## <span data-ttu-id="650c8-142"><a name="mobile-app-version"></a>Creación de una segunda instancia de aplicación</span><span class="sxs-lookup"><span data-stu-id="650c8-142"><a name="mobile-app-version"></a>Creating a second application instance</span></span>
<span data-ttu-id="650c8-143">Hola primer paso en la actualización es recursos de aplicación móvil de hello toocreate que hospedarán la nueva versión de hello de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="650c8-143">hello first step in upgrading is toocreate hello Mobile App resource which will host hello new version of your application.</span></span> <span data-ttu-id="650c8-144">Si ya se ha migrado un servicio móvil existente, deberá toocreate esta versión en hello mismo plan de hospedaje.</span><span class="sxs-lookup"><span data-stu-id="650c8-144">If you have already migrated an existing mobile service, you will want toocreate this version on hello same hosting plan.</span></span> <span data-ttu-id="650c8-145">Abra hello [portal de Azure] y navegue tooyour migrar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="650c8-145">Open hello [Azure portal] and navigate tooyour migrated application.</span></span> <span data-ttu-id="650c8-146">Tome nota de hello Plan del servicio de aplicación que se ejecuta.</span><span class="sxs-lookup"><span data-stu-id="650c8-146">Make note of hello App Service Plan it is running on.</span></span>

<span data-ttu-id="650c8-147">A continuación, crear la segunda instancia de la aplicación de Hola Hola siguiente [instrucciones de creación de back-end de .NET](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md#create-app).</span><span class="sxs-lookup"><span data-stu-id="650c8-147">Next, create hello second application instance by following hello [.NET backend creation instructions](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md#create-app).</span></span> <span data-ttu-id="650c8-148">Cuando tooselect solicitada, Plan de servicio de aplicación o "plan de hospedaje" Elija Hola plan de la aplicación migrada.</span><span class="sxs-lookup"><span data-stu-id="650c8-148">When prompted tooselect you App Service Plan or "hosting plan" choose hello plan of your migrated application.</span></span>

<span data-ttu-id="650c8-149">Probablemente deseará toouse Hola la misma base de datos y el centro de notificaciones como se hacía en servicios móviles.</span><span class="sxs-lookup"><span data-stu-id="650c8-149">You will likely want toouse hello same database and Notification Hub as you did in Mobile Services.</span></span> <span data-ttu-id="650c8-150">Puede copiar estos valores abriendo [portal de Azure] y, a continuación, navegar por los toohello de aplicación original, haga clic en **configuración** > **configuración de la aplicación**.</span><span class="sxs-lookup"><span data-stu-id="650c8-150">You can copy these values by opening [Azure portal] and navigating toohello original application, then click **Settings** > **Application settings**.</span></span> <span data-ttu-id="650c8-151">En **Cadenas de conexión**, copie `MS_NotificationHubConnectionString` y `MS_TableConnectionString`.</span><span class="sxs-lookup"><span data-stu-id="650c8-151">Under **Connection Strings**, copy `MS_NotificationHubConnectionString` and `MS_TableConnectionString`.</span></span> <span data-ttu-id="650c8-152">Navegar por el nuevo sitio de actualización tooyour y péguelos en, sobrescribiendo los valores existentes.</span><span class="sxs-lookup"><span data-stu-id="650c8-152">Navigate tooyour new upgrade site and paste them in, overwriting any existing values.</span></span> <span data-ttu-id="650c8-153">Repita este proceso para cualquier otra opción de configuración de la aplicación que la aplicación requiera.</span><span class="sxs-lookup"><span data-stu-id="650c8-153">Repeat this process for any other application settings your app needs.</span></span> <span data-ttu-id="650c8-154">Si no utiliza un servicio migrado, puede leer las cadenas de conexión y configuración de la aplicación de hello **configurar** ficha de la sección de servicios móviles de Hola Hola [portal de Azure clásico].</span><span class="sxs-lookup"><span data-stu-id="650c8-154">If not using a migrated service, you can read connection strings and app settings from hello **Configure** tab of hello Mobile Services section of hello [Azure classic portal].</span></span>

<span data-ttu-id="650c8-155">Realizar una copia del proyecto ASP.NET de hello de la aplicación y publicarla tooyour nuevo sitio.</span><span class="sxs-lookup"><span data-stu-id="650c8-155">Make a copy of hello ASP.NET project for your application and publish it tooyour new site.</span></span> <span data-ttu-id="650c8-156">Con una copia de la aplicación de cliente actualizada con la nueva dirección URL de hello, validar que todo funciona según lo previsto.</span><span class="sxs-lookup"><span data-stu-id="650c8-156">Using a copy of your client application updated with hello new URL, validate that everything works as expected.</span></span>

## <a name="updating-hello-server-project"></a><span data-ttu-id="650c8-157">Actualizando el proyecto de servidor hello</span><span class="sxs-lookup"><span data-stu-id="650c8-157">Updating hello server project</span></span>
<span data-ttu-id="650c8-158">Aplicaciones móviles proporciona un nuevo [Mobile SDK para aplicaciones de servidor] que proporciona gran parte de hello misma funcionalidad que en tiempo de ejecución de servicios móviles de Hola.</span><span class="sxs-lookup"><span data-stu-id="650c8-158">Mobile Apps provides a new [Mobile App Server SDK] which provides much of hello same functionality as hello Mobile Services runtime.</span></span> <span data-ttu-id="650c8-159">En primer lugar, debe quitar todos los paquetes de servicios móviles de toohello de referencias.</span><span class="sxs-lookup"><span data-stu-id="650c8-159">First, you should remove all references toohello Mobile Services packages.</span></span> <span data-ttu-id="650c8-160">En el Administrador de paquetes de NuGet hello, buscar `WindowsAzure.MobileServices.Backend`.</span><span class="sxs-lookup"><span data-stu-id="650c8-160">In hello NuGet package manager, search for `WindowsAzure.MobileServices.Backend`.</span></span> <span data-ttu-id="650c8-161">En la mayoría de aplicaciones se verán varios paquetes aquí, incluidos `WindowsAzure.MobileServices.Backend.Tables` y `WindowsAzure.MobileServices.Backend.Entity`.</span><span class="sxs-lookup"><span data-stu-id="650c8-161">Most apps will see several packages here, including `WindowsAzure.MobileServices.Backend.Tables` and `WindowsAzure.MobileServices.Backend.Entity`.</span></span> <span data-ttu-id="650c8-162">En tal caso, comience con paquete más bajo de hello en el árbol de dependencias de hello, como `Entity`y lo quitará.</span><span class="sxs-lookup"><span data-stu-id="650c8-162">In such a case, start with hello lowest package in hello dependency tree, such as `Entity`, and remove it.</span></span> <span data-ttu-id="650c8-163">Cuando se le pregunte, no quite todos los paquetes dependientes.</span><span class="sxs-lookup"><span data-stu-id="650c8-163">When prompted, do not remove all dependant packages.</span></span> <span data-ttu-id="650c8-164">Repita este proceso hasta que haya quitado el propio `WindowsAzure.MobileServices.Backend` .</span><span class="sxs-lookup"><span data-stu-id="650c8-164">Repeat this process until you have removed `WindowsAzure.MobileServices.Backend` itself.</span></span>

<span data-ttu-id="650c8-165">En este punto, tendrá un proyecto que ya no hace referencia a los SDK de Servicios móviles.</span><span class="sxs-lookup"><span data-stu-id="650c8-165">At this point you will have a project that no longer references Mobile Services SDKs.</span></span>

<span data-ttu-id="650c8-166">A continuación agregará referencias Hola SDK de aplicaciones móviles.</span><span class="sxs-lookup"><span data-stu-id="650c8-166">Next you will add references hello Mobile Apps SDK.</span></span> <span data-ttu-id="650c8-167">Para esta actualización, la mayoría de los desarrolladores se desea toodownload e instalar hello `Microsoft.Azure.Mobile.Server.Quickstart` del paquete, tal y como se extraerá set requeridas de hello todo.</span><span class="sxs-lookup"><span data-stu-id="650c8-167">For this upgrade, most developers will want toodownload and install hello `Microsoft.Azure.Mobile.Server.Quickstart` package, as this will pull in hello entire required set.</span></span>

<span data-ttu-id="650c8-168">Habrá errores del compilador bastantes resultante de las diferencias entre el SDK de hello, pero estos son tooaddress fácil y en el resto de Hola de esta sección se tratan.</span><span class="sxs-lookup"><span data-stu-id="650c8-168">There will be quite a few compiler errors resulting from differences between hello SDKs, but these are easy tooaddress and are covered in hello rest of this section.</span></span>

### <a name="base-configuration"></a><span data-ttu-id="650c8-169">Configuración base</span><span class="sxs-lookup"><span data-stu-id="650c8-169">Base configuration</span></span>
<span data-ttu-id="650c8-170">Luego, en WebApiConfig.cs, puede reemplazar.</span><span class="sxs-lookup"><span data-stu-id="650c8-170">Then, in WebApiConfig.cs, you can replace:</span></span>

        // Use this class tooset configuration options for your mobile service
        ConfigOptions options = new ConfigOptions();

        // Use this class tooset WebAPI configuration options
        HttpConfiguration config = ServiceConfig.Initialize(new ConfigBuilder(options));

<span data-ttu-id="650c8-171">por</span><span class="sxs-lookup"><span data-stu-id="650c8-171">with</span></span>

        HttpConfiguration config = new HttpConfiguration();
        new MobileAppConfiguration()
            .UseDefaultConfiguration()
        .ApplyTo(config);

> [!NOTE]
> <span data-ttu-id="650c8-172">Si desea más información acerca de hello nuevo .NET server SDK y cómo tooadd o quitar características de la aplicación toolearn, vea hello [cómo toouse Hola servidor .NET SDK] tema.</span><span class="sxs-lookup"><span data-stu-id="650c8-172">If you wish toolearn more about hello new .NET server SDK and how tooadd/remove features from your app, please see hello [How toouse hello .NET server SDK] topic.</span></span>
>
>

<span data-ttu-id="650c8-173">Si la aplicación realiza el uso de características de autenticación de hello, también necesitará tooregister un middleware OWIN.</span><span class="sxs-lookup"><span data-stu-id="650c8-173">If your app makes use of hello authentication features, you will also need tooregister an OWIN middleware.</span></span> <span data-ttu-id="650c8-174">En este caso, debe mover Hola por encima del código de configuración en una nueva clase de inicio de OWIN.</span><span class="sxs-lookup"><span data-stu-id="650c8-174">In this case, you should move hello above configuration code into a new OWIN Startup class.</span></span>

1. <span data-ttu-id="650c8-175">Agregar paquete de NuGet hello `Microsoft.Owin.Host.SystemWeb` si ya no está incluido en el proyecto.</span><span class="sxs-lookup"><span data-stu-id="650c8-175">Add hello NuGet package `Microsoft.Owin.Host.SystemWeb` if it is not already included in your project.</span></span>
2. <span data-ttu-id="650c8-176">En Visual Studio, haga clic con el botón derecho en el proyecto y seleccione **Agregar** -> **Nuevo elemento**.</span><span class="sxs-lookup"><span data-stu-id="650c8-176">In Visual Studio, right click on your project and select **Add** -> **New Item**.</span></span> <span data-ttu-id="650c8-177">Seleccione **Web** -> **General** -> **Clase de inicio OWIN**.</span><span class="sxs-lookup"><span data-stu-id="650c8-177">Select **Web** -> **General** -> **OWIN Startup class**.</span></span>
3. <span data-ttu-id="650c8-178">Mover Hola por encima del código de MobileAppConfiguration de `WebApiConfig.Register()` toohello `Configuration()` método de la nueva clase de inicio.</span><span class="sxs-lookup"><span data-stu-id="650c8-178">Move hello above code for MobileAppConfiguration from `WebApiConfig.Register()` toohello `Configuration()` method of your new startup class.</span></span>

<span data-ttu-id="650c8-179">Asegúrese de hello seguro `Configuration()` método termina con:</span><span class="sxs-lookup"><span data-stu-id="650c8-179">Make sure hello `Configuration()` method ends with:</span></span>

        app.UseWebApi(config)
        app.UseAppServiceAuthentication(config);

<span data-ttu-id="650c8-180">No hay cambios adicionales tooauthentication relacionados que se tratan en la siguiente sección de autenticación completa de Hola.</span><span class="sxs-lookup"><span data-stu-id="650c8-180">There are additional changes related tooauthentication which are covered in hello full authentication section below.</span></span>

### <a name="working-with-data"></a><span data-ttu-id="650c8-181">Trabajo con datos</span><span class="sxs-lookup"><span data-stu-id="650c8-181">Working with Data</span></span>
<span data-ttu-id="650c8-182">En servicios móviles, nombre de la aplicación móvil de hello sirve como nombre de esquema predeterminado de hello en el programa de instalación de hello Entity Framework.</span><span class="sxs-lookup"><span data-stu-id="650c8-182">In Mobile Services, hello mobile app name served as hello default schema name in hello Entity Framework setup.</span></span>

<span data-ttu-id="650c8-183">tooensure que tienes Hola mismo esquema que se hace referencia como antes, Hola de uso después de esquema de hello tooset Hola DbContext para la aplicación:</span><span class="sxs-lookup"><span data-stu-id="650c8-183">tooensure that you have hello same schema being referenced as before, use hello following tooset hello schema in hello DbContext for your application:</span></span>

        string schema = System.Configuration.ConfigurationManager.AppSettings.Get("MS_MobileServiceName");

<span data-ttu-id="650c8-184">Asegúrese de que tiene MS_MobileServiceName establecer si Hola anteriormente.</span><span class="sxs-lookup"><span data-stu-id="650c8-184">Please make sure you have MS_MobileServiceName set if you do hello above.</span></span> <span data-ttu-id="650c8-185">También puede especificar otro nombre de esquema si la aplicación lo personalizó anteriormente.</span><span class="sxs-lookup"><span data-stu-id="650c8-185">You can also provide another schema name if your application customized this previously.</span></span>

### <a name="system-properties"></a><span data-ttu-id="650c8-186">Propiedades del sistema</span><span class="sxs-lookup"><span data-stu-id="650c8-186">System Properties</span></span>
#### <a name="naming"></a><span data-ttu-id="650c8-187">Nomenclatura</span><span class="sxs-lookup"><span data-stu-id="650c8-187">Naming</span></span>
<span data-ttu-id="650c8-188">En el servidor de servicios móviles de Azure de hello SDK, propiedades del sistema siempre contienen un carácter de subrayado doble (`__`) prefijo para las propiedades de hello:</span><span class="sxs-lookup"><span data-stu-id="650c8-188">In hello Azure Mobile Services server SDK, system properties always contain a double underscore (`__`) prefix for hello properties:</span></span>

* <span data-ttu-id="650c8-189">__createdAt</span><span class="sxs-lookup"><span data-stu-id="650c8-189">__createdAt</span></span>
* <span data-ttu-id="650c8-190">__updatedAt</span><span class="sxs-lookup"><span data-stu-id="650c8-190">__updatedAt</span></span>
* <span data-ttu-id="650c8-191">__deleted</span><span class="sxs-lookup"><span data-stu-id="650c8-191">__deleted</span></span>
* <span data-ttu-id="650c8-192">__version</span><span class="sxs-lookup"><span data-stu-id="650c8-192">__version</span></span>

<span data-ttu-id="650c8-193">SDK de cliente de servicios móviles de Hello tiene una lógica especial para el análisis de propiedades del sistema en este formato.</span><span class="sxs-lookup"><span data-stu-id="650c8-193">hello Mobile Services client SDKs have special logic for parsing system properties in this format.</span></span>

<span data-ttu-id="650c8-194">En aplicaciones móviles de Azure, propiedades del sistema ya no tienen una clase especial de formato y tienen Hola después de nombres:</span><span class="sxs-lookup"><span data-stu-id="650c8-194">In Azure Mobile Apps, system properties no longer have a special format and have hello following names:</span></span>

* <span data-ttu-id="650c8-195">createdAt</span><span class="sxs-lookup"><span data-stu-id="650c8-195">createdAt</span></span>
* <span data-ttu-id="650c8-196">updatedAt</span><span class="sxs-lookup"><span data-stu-id="650c8-196">updatedAt</span></span>
* <span data-ttu-id="650c8-197">deleted</span><span class="sxs-lookup"><span data-stu-id="650c8-197">deleted</span></span>
* <span data-ttu-id="650c8-198">versión</span><span class="sxs-lookup"><span data-stu-id="650c8-198">version</span></span>

<span data-ttu-id="650c8-199">Hello aplicaciones móviles SDK uso Hola nuevo sistema propiedades nombres de cliente, por lo que ningún cambio necesario tooclient código.</span><span class="sxs-lookup"><span data-stu-id="650c8-199">hello Mobile Apps client SDKs use hello new system properties names, so no changes are required tooclient code.</span></span> <span data-ttu-id="650c8-200">Sin embargo, si está directamente realizar REST llamadas tooyour servicio, a continuación, debe cambiar las consultas como corresponda.</span><span class="sxs-lookup"><span data-stu-id="650c8-200">However, if you are directly making REST calls tooyour service then you should change your queries accordingly.</span></span>

#### <a name="local-store"></a><span data-ttu-id="650c8-201">Almacén local.</span><span class="sxs-lookup"><span data-stu-id="650c8-201">Local store</span></span>
<span data-ttu-id="650c8-202">Hola cambios toohello nombres de propiedades del sistema significan que una base de datos local de sincronización sin conexión para servicios móviles no es compatible con aplicaciones móviles.</span><span class="sxs-lookup"><span data-stu-id="650c8-202">hello changes toohello names of system properties mean that an offline sync local database for Mobile Services is not compatible with Mobile Apps.</span></span> <span data-ttu-id="650c8-203">Si es posible, debe evitar la actualización de las aplicaciones cliente de tooMobile de servicios móviles que aplicaciones hasta después de los cambios pendientes se han enviado toohello server.</span><span class="sxs-lookup"><span data-stu-id="650c8-203">If possible, you should avoid upgrading client apps from Mobile Services tooMobile Apps until after pending changes have been sent toohello server.</span></span> <span data-ttu-id="650c8-204">A continuación, Hola actualizado aplicación debe utilizar un nombre de archivo de base de datos nueva.</span><span class="sxs-lookup"><span data-stu-id="650c8-204">Then, hello upgraded app should use a new database filename.</span></span>

<span data-ttu-id="650c8-205">Si una aplicación cliente se actualiza desde servicios móviles tooMobile aplicaciones mientras hay cambios sin conexión pendientes en cola de la operación de hello, base de datos de sistema de hello debe ser actualizada toouse Hola nuevos nombres de columna.</span><span class="sxs-lookup"><span data-stu-id="650c8-205">If a client app is upgraded from Mobile Services tooMobile Apps while there are pending offline changes in hello operation queue, then hello system database must be updated toouse hello new column names.</span></span> <span data-ttu-id="650c8-206">En iOS, esto puede lograrse mediante nombres de columna de migraciones ligera toochange Hola.</span><span class="sxs-lookup"><span data-stu-id="650c8-206">On iOS, this can be achieved using lightweight migrations toochange hello column names.</span></span> <span data-ttu-id="650c8-207">En el cliente administrado .NET hello y Android, debe escribir columnas Hola de toorename personalizado de SQL para las tablas de objeto de datos.</span><span class="sxs-lookup"><span data-stu-id="650c8-207">On Android and hello .NET managed client, you should write custom SQL toorename hello columns for your data object tables.</span></span>

<span data-ttu-id="650c8-208">En iOS, debe cambiar el esquema de datos principal para su siguiente de Hola de toomatch de entidades de datos.</span><span class="sxs-lookup"><span data-stu-id="650c8-208">On iOS, you should change your Core Data schema for your data entities toomatch hello following.</span></span> <span data-ttu-id="650c8-209">Tenga en cuenta que Hola propiedades `createdAt`, `updatedAt` y `version` ya no tiene un `ms_` prefijo:</span><span class="sxs-lookup"><span data-stu-id="650c8-209">Note that hello properties `createdAt`, `updatedAt` and `version` no longer have an `ms_` prefix:</span></span>

| <span data-ttu-id="650c8-210">Atributo</span><span class="sxs-lookup"><span data-stu-id="650c8-210">Attribute</span></span> | <span data-ttu-id="650c8-211">Escriba</span><span class="sxs-lookup"><span data-stu-id="650c8-211">Type</span></span> | <span data-ttu-id="650c8-212">Nota:</span><span class="sxs-lookup"><span data-stu-id="650c8-212">Note</span></span> |
| --- | --- | --- |
| <span data-ttu-id="650c8-213">id</span><span class="sxs-lookup"><span data-stu-id="650c8-213">id</span></span> |<span data-ttu-id="650c8-214">Cadena, marcado obligatorio</span><span class="sxs-lookup"><span data-stu-id="650c8-214">String, marked required</span></span> |<span data-ttu-id="650c8-215">primary key in remote store</span><span class="sxs-lookup"><span data-stu-id="650c8-215">primary key in remote store</span></span> |
| <span data-ttu-id="650c8-216">createdAt</span><span class="sxs-lookup"><span data-stu-id="650c8-216">createdAt</span></span> |<span data-ttu-id="650c8-217">Date</span><span class="sxs-lookup"><span data-stu-id="650c8-217">Date</span></span> |<span data-ttu-id="650c8-218">propiedad del sistema toocreatedAt mapas (opcional)</span><span class="sxs-lookup"><span data-stu-id="650c8-218">(optional) maps toocreatedAt system property</span></span> |
| <span data-ttu-id="650c8-219">updatedAt</span><span class="sxs-lookup"><span data-stu-id="650c8-219">updatedAt</span></span> |<span data-ttu-id="650c8-220">Date</span><span class="sxs-lookup"><span data-stu-id="650c8-220">Date</span></span> |<span data-ttu-id="650c8-221">propiedad del sistema tooupdatedAt mapas (opcional)</span><span class="sxs-lookup"><span data-stu-id="650c8-221">(optional) maps tooupdatedAt system property</span></span> |
| <span data-ttu-id="650c8-222">versión</span><span class="sxs-lookup"><span data-stu-id="650c8-222">version</span></span> |<span data-ttu-id="650c8-223">String</span><span class="sxs-lookup"><span data-stu-id="650c8-223">String</span></span> |<span data-ttu-id="650c8-224">(opcional) toodetect utilizados entra en conflicto, tooversion de mapas</span><span class="sxs-lookup"><span data-stu-id="650c8-224">(optional) used toodetect conflicts, maps tooversion</span></span> |

#### <a name="querying-system-properties"></a><span data-ttu-id="650c8-225">Consulta de propiedades del sistema</span><span class="sxs-lookup"><span data-stu-id="650c8-225">Querying system properties</span></span>
<span data-ttu-id="650c8-226">En servicios móviles de Azure, propiedades del sistema no se envían de forma predeterminada, pero solo cuando se solicitan mediante la cadena de consulta de hello `__systemProperties`.</span><span class="sxs-lookup"><span data-stu-id="650c8-226">In Azure Mobile Services, system properties are not sent by default, but only when they are requested using hello query string `__systemProperties`.</span></span> <span data-ttu-id="650c8-227">En cambio, en el sistema de aplicaciones móviles de Azure son propiedades **siempre activada** ya que forman parte del modelo de objetos de hello server SDK.</span><span class="sxs-lookup"><span data-stu-id="650c8-227">In contrast, in Azure Mobile Apps system properties are **always selected** since they are part of hello server SDK object model.</span></span>

<span data-ttu-id="650c8-228">Este cambio afecta principalmente a las implementaciones personalizadas de los administradores de dominio, como las extensiones de `MappedEntityDomainManager`.</span><span class="sxs-lookup"><span data-stu-id="650c8-228">This change mainly impacts custom implementations of domain managers, such as extensions of `MappedEntityDomainManager`.</span></span> <span data-ttu-id="650c8-229">En servicios móviles, si un cliente no solicita nunca las propiedades del sistema, es posible toouse un `MappedEntityDomainManager` que realmente no asignar todas las propiedades.</span><span class="sxs-lookup"><span data-stu-id="650c8-229">In Mobile Services, if a client never requests any system properties, it is possible toouse a `MappedEntityDomainManager` that does not actually map all properties.</span></span> <span data-ttu-id="650c8-230">Pero, en Aplicaciones móviles de Azure, estas propiedades sin asignar producirán un error en las consultas GET.</span><span class="sxs-lookup"><span data-stu-id="650c8-230">However, in Azure Mobile Apps, these unmapped properties will cause an error in GET queries.</span></span>

<span data-ttu-id="650c8-231">Hola problema de Hola de tooresolve de manera más sencilla es toomodify su dto para que se heredan de `ITableData` en lugar de `EntityData`.</span><span class="sxs-lookup"><span data-stu-id="650c8-231">hello easiest way tooresolve hello issue is toomodify your DTOs so that they inherit from `ITableData` instead of `EntityData`.</span></span> <span data-ttu-id="650c8-232">A continuación, agregue hello `[NotMapped]` atributo toohello campos que se deben omitir.</span><span class="sxs-lookup"><span data-stu-id="650c8-232">Then, add hello `[NotMapped]` attribute toohello fields that should be omitted.</span></span>

<span data-ttu-id="650c8-233">Por ejemplo, define la siguiente hello `TodoItem` sin propiedades de sistema:</span><span class="sxs-lookup"><span data-stu-id="650c8-233">For example, hello following defines `TodoItem` with no system properties:</span></span>

    using System.ComponentModel.DataAnnotations.Schema;

    public class TodoItem : ITableData
    {
        public string Text { get; set; }

        public bool Complete { get; set; }

        public string Id { get; set; }

        [NotMapped]
        public DateTimeOffset? CreatedAt { get; set; }

        [NotMapped]
        public DateTimeOffset? UpdatedAt { get; set; }

        [NotMapped]
        public bool Deleted { get; set; }

        [NotMapped]
        public byte[] Version { get; set; }
    }

<span data-ttu-id="650c8-234">Nota: si se producen errores en `NotMapped`, agregar un ensamblado de referencia toohello `System.ComponentModel.DataAnnotations`.</span><span class="sxs-lookup"><span data-stu-id="650c8-234">Note: if you get errors on `NotMapped`, add a reference toohello assembly `System.ComponentModel.DataAnnotations`.</span></span>

### <a name="cors"></a><span data-ttu-id="650c8-235">CORS</span><span class="sxs-lookup"><span data-stu-id="650c8-235">CORS</span></span>
<span data-ttu-id="650c8-236">Servicios móviles incluye cierta compatibilidad para CORS ajustando Hola solución ASP.NET CORS.</span><span class="sxs-lookup"><span data-stu-id="650c8-236">Mobile Services included some support for CORS by wrapping hello ASP.NET CORS solution.</span></span> <span data-ttu-id="650c8-237">Esta capa de ajuste ha sido eliminado toogive para desarrolladores de hello más control, lo que permite aprovechar directamente [compatibilidad de ASP.NET CORS](http://www.asp.net/web-api/overview/security/enabling-cross-origin-requests-in-web-api).</span><span class="sxs-lookup"><span data-stu-id="650c8-237">This wrapping layer has been removed toogive hello developer more control, so you can directly leverage [ASP.NET CORS support](http://www.asp.net/web-api/overview/security/enabling-cross-origin-requests-in-web-api).</span></span>

<span data-ttu-id="650c8-238">Hello principales áreas problemáticas si mediante CORS son ese hello `eTag` y `Location` encabezados deben estar habilitados en orden para hello cliente SDK toowork correctamente.</span><span class="sxs-lookup"><span data-stu-id="650c8-238">hello main areas of concern if using CORS are that hello `eTag` and `Location` headers must be allowed in order for hello client SDKs toowork properly.</span></span>

### <a name="push-notifications"></a><span data-ttu-id="650c8-239">Notificaciones de inserción</span><span class="sxs-lookup"><span data-stu-id="650c8-239">Push Notifications</span></span>
<span data-ttu-id="650c8-240">Para que la inserción, elemento principal de Hola que es posible que falten en hello SDK de servidor es la clase de PushRegistrationHandler de Hola.</span><span class="sxs-lookup"><span data-stu-id="650c8-240">For push, hello main item that you may find missing from hello Server SDK is hello PushRegistrationHandler class.</span></span> <span data-ttu-id="650c8-241">Los registros se controlan de forma ligeramente diferente en las aplicaciones móviles y los registros sin etiqueta están habilitados de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="650c8-241">Registrations are handled slightly differently in Mobile Apps, and tagless registrations are enabled by default.</span></span> <span data-ttu-id="650c8-242">Se puede lograr la administración de etiquetas mediante API personalizadas.</span><span class="sxs-lookup"><span data-stu-id="650c8-242">Managing tags may be accomplished by using custom APIs.</span></span> <span data-ttu-id="650c8-243">Vea hello [registrar para etiquetas](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md#tags) instrucciones para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="650c8-243">Please see hello [registering for tags](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md#tags) instructions for more information.</span></span>

### <a name="scheduled-jobs"></a><span data-ttu-id="650c8-244">Trabajos programados</span><span class="sxs-lookup"><span data-stu-id="650c8-244">Scheduled Jobs</span></span>
<span data-ttu-id="650c8-245">Los trabajos programados no se compilan en aplicaciones móviles, por lo que los trabajos existentes que tienen en el back-end de .NET deberá toobe actualizar de manera individual.</span><span class="sxs-lookup"><span data-stu-id="650c8-245">Scheduled jobs are not built into Mobile Apps, so any existing jobs that you have in your .NET backend will need toobe upgraded individually.</span></span> <span data-ttu-id="650c8-246">Una opción es un programada toocreate [trabajo Web] en el sitio de código de aplicación móvil de Hola.</span><span class="sxs-lookup"><span data-stu-id="650c8-246">One option is toocreate a scheduled [Web Job] on hello Mobile App code site.</span></span> <span data-ttu-id="650c8-247">También puede configurar un controlador que contiene el código de trabajo y configurar hello [Azure Scheduler] toohit ese punto de conexión en programación de hello esperado.</span><span class="sxs-lookup"><span data-stu-id="650c8-247">You could also set up a controller that holds your job code and configure hello [Azure Scheduler] toohit that endpoint on hello expected schedule.</span></span>

### <a name="miscellaneous-changes"></a><span data-ttu-id="650c8-248">Cambios varios</span><span class="sxs-lookup"><span data-stu-id="650c8-248">Miscellaneous changes</span></span>
<span data-ttu-id="650c8-249">Todos los ApiControllers que va a ser utilizados por un cliente móvil debe tener ahora hello `[MobileAppController]` atributo.</span><span class="sxs-lookup"><span data-stu-id="650c8-249">All ApiControllers which will be consumed by a mobile client must now have hello `[MobileAppController]` attribute.</span></span> <span data-ttu-id="650c8-250">Ya no se incluye de forma predeterminada para que otros toogo ApiControllers no afecta Hola a formateadores móviles.</span><span class="sxs-lookup"><span data-stu-id="650c8-250">This is no longer included by default so that other ApiControllers toogo unaffected by hello mobile formatters.</span></span>

<span data-ttu-id="650c8-251">Hola `ApiServices` objeto ya no forma parte de hello SDK.</span><span class="sxs-lookup"><span data-stu-id="650c8-251">hello `ApiServices` object is no longer part of hello SDK.</span></span> <span data-ttu-id="650c8-252">tooaccess configuración de aplicación móvil, puede utilizar Hola siguiente:</span><span class="sxs-lookup"><span data-stu-id="650c8-252">tooaccess Mobile App settings, you can use hello following:</span></span>

    MobileAppSettingsDictionary settings = this.Configuration.GetMobileAppSettingsProvider().GetMobileAppSettings();

<span data-ttu-id="650c8-253">De forma similar, el registro ahora se realiza mediante la escritura de seguimiento ASP.NET estándar hello:</span><span class="sxs-lookup"><span data-stu-id="650c8-253">Similarly, logging is now accomplished using hello standard ASP.NET trace writing:</span></span>

    ITraceWriter traceWriter = this.Configuration.Services.GetTraceWriter();
    traceWriter.Info("Hello, World");  

## <span data-ttu-id="650c8-254"><a name="authentication"></a>Consideraciones de autenticación</span><span class="sxs-lookup"><span data-stu-id="650c8-254"><a name="authentication"></a>Authentication considerations</span></span>
<span data-ttu-id="650c8-255">Ahora que se han movido los componentes de autenticación de Hello de servicios móviles de característica de autenticación/autorización del servicio de aplicación Hola.</span><span class="sxs-lookup"><span data-stu-id="650c8-255">hello authentication components of Mobile Services have now been moved into hello App Service Authentication/Authorization feature.</span></span> <span data-ttu-id="650c8-256">Puede obtener información acerca de cómo habilitar para el sitio por leer hello [aplicación móvil de agregar autenticación tooyour](app-service-mobile-ios-get-started-users.md) tema.</span><span class="sxs-lookup"><span data-stu-id="650c8-256">You can learn about enabling this for your site by reading hello [Add authentication tooyour mobile app](app-service-mobile-ios-get-started-users.md) topic.</span></span>

<span data-ttu-id="650c8-257">Para algunos proveedores, como AAD y Facebook, Google, debe ser registro existente de tooleverage capaz de Hola desde la aplicación de copia.</span><span class="sxs-lookup"><span data-stu-id="650c8-257">For some providers, such as AAD, Facebook, and Google, you should be able tooleverage hello existing registration from your copy application.</span></span> <span data-ttu-id="650c8-258">Simplemente necesita portal del proveedor de identidades de toonavigate toohello y agregar un nuevo registro de toohello de dirección URL de redireccionamiento.</span><span class="sxs-lookup"><span data-stu-id="650c8-258">You simply need toonavigate toohello identity provider's portal and add a new redirect URL toohello registration.</span></span> <span data-ttu-id="650c8-259">A continuación, configurar autenticación/autorización del servicio de aplicación con el identificador de cliente de Hola y el secreto.</span><span class="sxs-lookup"><span data-stu-id="650c8-259">Then configure App Service Authentication/Authorization with hello client ID and secret.</span></span>

### <a name="controller-action-authorization"></a><span data-ttu-id="650c8-260">Autorización de acción de controlador</span><span class="sxs-lookup"><span data-stu-id="650c8-260">Controller action authorization</span></span>
<span data-ttu-id="650c8-261">Todas las instancias de hello `[AuthorizeLevel(AuthorizationLevel.User)]` atributo ahora debe ser modificada toouse Hola ASP.NET estándar `[Authorize]` atributo.</span><span class="sxs-lookup"><span data-stu-id="650c8-261">Any instances of hello `[AuthorizeLevel(AuthorizationLevel.User)]` attribute must now be changed toouse hello standard ASP.NET `[Authorize]` attribute.</span></span> <span data-ttu-id="650c8-262">Además, los controladores son ahora de tipo anónimo de forma predeterminada, al igual que en otras aplicaciones de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="650c8-262">Additionally, controllers are now Anonymous by default, as in other ASP.NET applications.</span></span>
<span data-ttu-id="650c8-263">Si se usa uno de hello otras opciones de AuthorizeLevel, como administrador o aplicación, tenga en cuenta que estos han desaparecido.</span><span class="sxs-lookup"><span data-stu-id="650c8-263">If you were using one of hello other AuthorizeLevel options, such as Admin or Application, please note that these are gone.</span></span> <span data-ttu-id="650c8-264">En su lugar, puede configurar los AuthorizationFilters para secretos compartidos o configurar de forma segura un llamadas de servicio a servicio tooenable de entidad de servicio de AAD.</span><span class="sxs-lookup"><span data-stu-id="650c8-264">You can instead set up AuthorizationFilters for shared secrets or configure an AAD Service Principal tooenable service-to-service calls securely.</span></span>

### <a name="getting-additional-user-information"></a><span data-ttu-id="650c8-265">Información adicional del usuario</span><span class="sxs-lookup"><span data-stu-id="650c8-265">Getting additional user information</span></span>
<span data-ttu-id="650c8-266">Para obtener información adicional del usuario, incluidos los tokens de acceso a través de hello `GetAppServiceIdentityAsync()` método:</span><span class="sxs-lookup"><span data-stu-id="650c8-266">You can get additional user information, including access tokens through hello `GetAppServiceIdentityAsync()` method:</span></span>

        FacebookCredentials creds = await this.User.GetAppServiceIdentityAsync<FacebookCredentials>();

<span data-ttu-id="650c8-267">Además, si la aplicación tiene dependencias en identificadores, de usuario como almacenarlas en una base de datos, es importante toonote que Hola identificadores de usuario entre servicios móviles y la aplicación del servicio de aplicaciones móviles son diferentes.</span><span class="sxs-lookup"><span data-stu-id="650c8-267">Additionally, if your application takes dependencies on user IDs, such as storing them in a database, it is important toonote that hello user IDs between Mobile Services and App Service Mobile Apps are different.</span></span> <span data-ttu-id="650c8-268">Aunque todavía puede obtener Hola identificador de usuario de servicios móviles.</span><span class="sxs-lookup"><span data-stu-id="650c8-268">You can still get hello Mobile Services User ID, though.</span></span> <span data-ttu-id="650c8-269">Todas las subclases de hello ProviderCredentials tienen una propiedad de identificador de usuario.</span><span class="sxs-lookup"><span data-stu-id="650c8-269">All of hello ProviderCredentials subclasses have a UserId property.</span></span> <span data-ttu-id="650c8-270">Por lo que continuar de ejemplo de Hola antes:</span><span class="sxs-lookup"><span data-stu-id="650c8-270">So continuing from hello example before:</span></span>

        string mobileServicesUserId = creds.Provider + ":" + creds.UserId;

<span data-ttu-id="650c8-271">Si la aplicación realiza todas las dependencias en el Id. de usuario, es importante que aproveche Hola mismo registro con un proveedor de identidad si es posible.</span><span class="sxs-lookup"><span data-stu-id="650c8-271">If your app does take any dependencies on user IDs, it is important that you leverage hello same registration with an identity provider if possible.</span></span> <span data-ttu-id="650c8-272">Id. de usuario es toohello normalmente con ámbito registro de la aplicación que se utilizó, por lo que introducir un nuevo registro podría crear problemas con los usuarios tootheir datos coincidentes.</span><span class="sxs-lookup"><span data-stu-id="650c8-272">User IDs are typically scoped toohello application registration that was used, so introducing a new registration could create problems with matching users tootheir data.</span></span>

### <a name="custom-authentication"></a><span data-ttu-id="650c8-273">Autenticación personalizada</span><span class="sxs-lookup"><span data-stu-id="650c8-273">Custom authentication</span></span>
<span data-ttu-id="650c8-274">Si la aplicación está utilizando una solución de autenticación personalizada, le interesará toomake que ese sitio actualizado Hola tenga acceso toohello sistema.</span><span class="sxs-lookup"><span data-stu-id="650c8-274">If your app is using a custom authentication solution, you will want toomake sure that hello upgraded site has access toohello system.</span></span> <span data-ttu-id="650c8-275">Siga las instrucciones nuevo de hello para la autenticación personalizada en hello [información general del SDK de .NET server] toointegrate la solución.</span><span class="sxs-lookup"><span data-stu-id="650c8-275">Follow hello new instructions for custom authentication in hello [.NET server SDK overview] toointegrate your solution.</span></span> <span data-ttu-id="650c8-276">Tenga en cuenta que los componentes de autenticación personalizada de Hola son todavía en la vista previa.</span><span class="sxs-lookup"><span data-stu-id="650c8-276">Please note that hello custom authentication components are still in preview.</span></span>

## <span data-ttu-id="650c8-277"><a name="updating-clients"></a>Actualización de clientes</span><span class="sxs-lookup"><span data-stu-id="650c8-277"><a name="updating-clients"></a>Updating clients</span></span>
<span data-ttu-id="650c8-278">Cuando tenga un back-end de aplicación móvil operativo, podrá trabajar en una nueva versión de la aplicación cliente que lo usa.</span><span class="sxs-lookup"><span data-stu-id="650c8-278">Once you have an operational Mobile App backend, you can work on a new version of your client application which consumes it.</span></span> <span data-ttu-id="650c8-279">Aplicaciones móviles también incluye una nueva versión del SDK de cliente de Hola y similar toohello actualización del servidor anterior, deberá tooremove todas las referencias de SDK de servicios móviles de toohello antes de instalar las versiones de aplicaciones móviles de Hola.</span><span class="sxs-lookup"><span data-stu-id="650c8-279">Mobile Apps also includes a new version of hello client SDKs, and similar toohello server upgrade above, you will need tooremove all references toohello Mobile Services SDKs before installing hello Mobile Apps versions.</span></span>

<span data-ttu-id="650c8-280">Uno de los cambios principales de hello entre las versiones de hello es que los constructores de hello ya no necesitan una clave de aplicación.</span><span class="sxs-lookup"><span data-stu-id="650c8-280">One of hello main changes between hello versions is that hello constructors no longer require an application key.</span></span> <span data-ttu-id="650c8-281">Ahora basta con pasa en dirección URL de saludo de la aplicación móvil.</span><span class="sxs-lookup"><span data-stu-id="650c8-281">You now simply pass in hello URL of your Mobile App.</span></span> <span data-ttu-id="650c8-282">Por ejemplo, en los clientes de .NET de hello, Hola `MobileServiceClient` constructor está ahora:</span><span class="sxs-lookup"><span data-stu-id="650c8-282">For example, on hello .NET clients, hello `MobileServiceClient` constructor is now:</span></span>

        public static MobileServiceClient MobileService = new MobileServiceClient(
            "https://contoso.azurewebsites.net", // URL of hello Mobile App
        );

<span data-ttu-id="650c8-283">Puede leer acerca de cómo instalar Hola nuevos SDK y el uso de la nueva estructura de Hola a través de vínculos de hello siguientes:</span><span class="sxs-lookup"><span data-stu-id="650c8-283">You can read about installing hello new SDKs and using hello new structure via hello links below:</span></span>

* [<span data-ttu-id="650c8-284">iOS versión 3.0.0 o posterior</span><span class="sxs-lookup"><span data-stu-id="650c8-284">iOS version 3.0.0 or later</span></span>](app-service-mobile-ios-how-to-use-client-library.md)
* [<span data-ttu-id="650c8-285">.NET (Windows/Xamarin) versión 2.0.0 o posterior</span><span class="sxs-lookup"><span data-stu-id="650c8-285">.NET (Windows/Xamarin) version 2.0.0 or later</span></span>](app-service-mobile-dotnet-how-to-use-client-library.md)

<span data-ttu-id="650c8-286">Si la aplicación realiza el uso de notificaciones de inserción, tome nota de hello instrucciones de registro específico para cada plataforma, tal y como han habido algunos cambios también.</span><span class="sxs-lookup"><span data-stu-id="650c8-286">If your application makes use of push notifications, make note of hello specific registration instructions for each platform, as there have been some changes there as well.</span></span>

<span data-ttu-id="650c8-287">Cuando haya Hola nueva versión de cliente listo, pruébelo en su proyecto de servidor actualizado.</span><span class="sxs-lookup"><span data-stu-id="650c8-287">When you have hello new client version ready, try it out against your upgraded server project.</span></span> <span data-ttu-id="650c8-288">Después de comprobar que funciona, puede liberar una nueva versión de la aplicación toocustomers.</span><span class="sxs-lookup"><span data-stu-id="650c8-288">After validating that it works, you can release a new version of your application toocustomers.</span></span> <span data-ttu-id="650c8-289">Finalmente, una vez que los clientes han tenido una oportunidad tooreceive estas actualizaciones, puede eliminar la versión de servicios móviles de saludo de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="650c8-289">Eventually, once your customers have had a chance tooreceive these updates, you can delete hello Mobile Services version of your app.</span></span> <span data-ttu-id="650c8-290">En este punto, ha actualizado completamente tooan aplicación móvil de servicio de aplicación con el servidor de aplicaciones móviles más reciente de hello SDK.</span><span class="sxs-lookup"><span data-stu-id="650c8-290">At this point, you have completely upgraded tooan App Service Mobile App using hello latest Mobile Apps server SDK.</span></span>

<!-- URLs. -->

[portal de Azure]: https://portal.azure.com/
[portal de Azure clásico]: https://manage.windowsazure.com/
[¿qué aplicaciones móviles?]: app-service-mobile-value-prop.md
[I already use web sites and mobile services – how does App Service help me?]: /en-us/documentation/articles/app-service-mobile-value-prop-migration-from-mobile-services
[Mobile SDK para aplicaciones de servidor]: http://www.nuget.org/packages/microsoft.azure.mobile.server
[Create a Mobile App]: app-service-mobile-xamarin-ios-get-started.md
[Add push notifications tooyour mobile app]: app-service-mobile-xamarin-ios-get-started-push.md
[Add authentication tooyour mobile app]: app-service-mobile-xamarin-ios-get-started-users.md
[Azure Scheduler]: /en-us/documentation/services/scheduler/
[trabajo Web]: ../app-service-web/websites-webjobs-resources.md
[cómo toouse Hola servidor .NET SDK]: app-service-mobile-dotnet-backend-how-to-use-server-sdk.md
[Migrate from Mobile Services tooan App Service Mobile App]: app-service-mobile-migrating-from-mobile-services.md
[Migrate your existing Mobile Service tooApp Service]: app-service-mobile-migrating-from-mobile-services.md
[servicio de aplicaciones precios]: https://azure.microsoft.com/en-us/pricing/details/app-service/
[información general del SDK de .NET server]: app-service-mobile-dotnet-backend-how-to-use-server-sdk.md
