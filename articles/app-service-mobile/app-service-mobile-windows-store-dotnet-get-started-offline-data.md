---
title: "Habilitación de la sincronización sin conexión para aplicaciones de la Plataforma universal de Windows (UWP) con Mobile Apps | Microsoft Docs"
description: "Obtenga información acerca de cómo usar una Aplicación móvil de Azure para almacenar en caché y sincronizar datos sin conexión en la aplicación de la Plataforma universal de Windows (UWP)"
documentationcenter: windows
author: ggailey777
manager: syntaxc4
editor: 
services: app-service\mobile
ms.assetid: 8fe51773-90de-4014-8a38-41544446d9b5
ms.service: app-service-mobile
ms.workload: mobile
ms.tgt_pltfrm: mobile-windows
ms.devlang: dotnet
ms.topic: article
ms.date: 10/01/2016
ms.author: glenga
ms.openlocfilehash: 4b0a57c3bab688487eb9a50461b406e1a6e477c6
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/03/2017
---
# <a name="enable-offline-sync-for-your-windows-app"></a><span data-ttu-id="e8f53-103">Activación de la sincronización sin conexión para la aplicación de Windows</span><span class="sxs-lookup"><span data-stu-id="e8f53-103">Enable offline sync for your Windows app</span></span>
[!INCLUDE [app-service-mobile-selector-offline](../../includes/app-service-mobile-selector-offline.md)]

## <a name="overview"></a><span data-ttu-id="e8f53-104">Información general</span><span class="sxs-lookup"><span data-stu-id="e8f53-104">Overview</span></span>
<span data-ttu-id="e8f53-105">Este tutorial muestra cómo agregar compatibilidad sin conexión a una aplicación de la Plataforma universal de Windows (UWP) mediante un back-end de aplicación móvil de Azure.</span><span class="sxs-lookup"><span data-stu-id="e8f53-105">This tutorial shows you how to add offline support to a Universal Windows Platform (UWP) app using an Azure Mobile App backend.</span></span> <span data-ttu-id="e8f53-106">La sincronización sin conexión permite a los usuarios finales interactuar con una aplicación móvil (ver, agregar o modificar datos), incluso cuando no haya conexión de red.</span><span class="sxs-lookup"><span data-stu-id="e8f53-106">Offline sync allows end users to interact with a mobile app--viewing, adding, or modifying data - even when there is no network connection.</span></span> <span data-ttu-id="e8f53-107">Los cambios se almacenan en una base de datos local.</span><span class="sxs-lookup"><span data-stu-id="e8f53-107">Changes are stored in a local database.</span></span> <span data-ttu-id="e8f53-108">Una vez que el dispositivo se vuelve a conectar, estos cambios se sincronizan con el back-end remoto.</span><span class="sxs-lookup"><span data-stu-id="e8f53-108">Once the device is back online, these changes are synced with the remote backend.</span></span>

<span data-ttu-id="e8f53-109">En este tutorial, actualizará el proyecto de aplicación de UWP del tutorial [Creación de una aplicación para Windows] a fin de conseguir compatibilidad con las características sin conexión de Azure Mobile Apps.</span><span class="sxs-lookup"><span data-stu-id="e8f53-109">In this tutorial, you update the UWP app project from the tutorial [Create a Windows app] to support the offline features of Azure Mobile Apps.</span></span> <span data-ttu-id="e8f53-110">Si no usa el proyecto de servidor de inicio rápido descargado, debe agregar paquetes de extensión de acceso de datos al proyecto.</span><span class="sxs-lookup"><span data-stu-id="e8f53-110">If you do not use the downloaded quick start server project, you must add the data access extension packages to your project.</span></span> <span data-ttu-id="e8f53-111">Para obtener más información acerca de los paquetes de extensión de servidor, consulte [Trabajar con el SDK del servidor back-end de .NET para Aplicaciones móviles de Azure](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md).</span><span class="sxs-lookup"><span data-stu-id="e8f53-111">For more information about server extension packages, see [Work with the .NET backend server SDK for Azure Mobile Apps](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md).</span></span>

<span data-ttu-id="e8f53-112">Para obtener más información acerca de la característica de sincronización sin conexión, consulte el tema [Sincronización de datos sin conexión en Aplicaciones móviles de Azure].</span><span class="sxs-lookup"><span data-stu-id="e8f53-112">To learn more about the offline sync feature, see the topic [Offline Data Sync in Azure Mobile Apps].</span></span>

## <a name="requirements"></a><span data-ttu-id="e8f53-113">Requisitos</span><span class="sxs-lookup"><span data-stu-id="e8f53-113">Requirements</span></span>
<span data-ttu-id="e8f53-114">Este tutorial requiere los siguientes requisitos previos:</span><span class="sxs-lookup"><span data-stu-id="e8f53-114">This tutorial requires the following pre-requisites:</span></span>

* <span data-ttu-id="e8f53-115">Visual Studio 2013 funcionando en Windows 8.1 o versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="e8f53-115">Visual Studio 2013 running on Windows 8.1 or later.</span></span>
* <span data-ttu-id="e8f53-116">Finalización del tutorial [Creación de una aplicación para Windows][Creación de una aplicación para Windows].</span><span class="sxs-lookup"><span data-stu-id="e8f53-116">Completion of [Create a Windows app][create a windows app].</span></span>
* <span data-ttu-id="e8f53-117">[Almacén de SQLite de Azure Mobile Services][sqlite store nuget]</span><span class="sxs-lookup"><span data-stu-id="e8f53-117">[Azure Mobile Services SQLite Store][sqlite store nuget]</span></span>
* [<span data-ttu-id="e8f53-118">SQLite for Universal Windows Platform development</span><span class="sxs-lookup"><span data-stu-id="e8f53-118">SQLite for Universal Windows Platform development</span></span>](http://www.sqlite.org/downloads)

## <a name="update-the-client-app-to-support-offline-features"></a><span data-ttu-id="e8f53-119">Actualización de la aplicación cliente para que admita características sin conexión</span><span class="sxs-lookup"><span data-stu-id="e8f53-119">Update the client app to support offline features</span></span>
<span data-ttu-id="e8f53-120">Las características sin conexión de Aplicaciones móviles de Azure permiten interactuar con una base de datos local cuando el usuario se encuentra en un escenario sin conexión.</span><span class="sxs-lookup"><span data-stu-id="e8f53-120">Azure Mobile App offline features allow you to interact with a local database when you are in an offline scenario.</span></span> <span data-ttu-id="e8f53-121">Para usar estas características en una aplicación, inicialice [SyncContext][synccontext] en un almacén local.</span><span class="sxs-lookup"><span data-stu-id="e8f53-121">To use these features in your app, you initialize a [SyncContext][synccontext] to a local store.</span></span> <span data-ttu-id="e8f53-122">A continuación, obtenga una referencia a la tabla mediante la interfaz [IMobileServiceSyncTable][IMobileServiceSyncTable] .</span><span class="sxs-lookup"><span data-stu-id="e8f53-122">Then reference your table through the [IMobileServiceSyncTable][IMobileServiceSyncTable] interface.</span></span> <span data-ttu-id="e8f53-123">SQLite se utiliza como almacén local en el dispositivo.</span><span class="sxs-lookup"><span data-stu-id="e8f53-123">SQLite is used as the local store on the device.</span></span>

1. <span data-ttu-id="e8f53-124">Instale el [entorno en tiempo de ejecución de SQLite para la plataforma universal de Windows](http://sqlite.org/2016/sqlite-uwp-3120200.vsix).</span><span class="sxs-lookup"><span data-stu-id="e8f53-124">Install the [SQLite runtime for the Universal Windows Platform](http://sqlite.org/2016/sqlite-uwp-3120200.vsix).</span></span>
2. <span data-ttu-id="e8f53-125">En Visual Studio, abra el Administrador de paquetes NuGet en el proyecto de aplicación de UWP que completó en el tutorial [Creación de una aplicación para Windows].</span><span class="sxs-lookup"><span data-stu-id="e8f53-125">In Visual Studio, open the NuGet package manager for the UWP app project that you completed in the [Create a Windows app] tutorial.</span></span>
    <span data-ttu-id="e8f53-126">Busque e instale el paquete NuGet **Microsoft.Azure.Mobile.Client.SQLiteStore**.</span><span class="sxs-lookup"><span data-stu-id="e8f53-126">Search for and install the **Microsoft.Azure.Mobile.Client.SQLiteStore** NuGet package.</span></span>
3. <span data-ttu-id="e8f53-127">En el Explorador de soluciones, haga clic con el botón derecho en **Referencias** > **Agregar referencia...** > **Universal de Windows** > **Extensiones** y después habilite tanto **SQLite para la Plataforma universal de Windows** como **Tiempo de ejecución de Visual C++ 2015 para Aplicaciones de la Plataforma universal de Windows**.</span><span class="sxs-lookup"><span data-stu-id="e8f53-127">In Solution Explorer, right-click **References** > **Add Reference...** > **Universal Windows** > **Extensions**, then enable  both **SQLite for Universal Windows Platform** and **Visual C++ 2015 Runtime for Universal Windows Platform apps**.</span></span>

    ![Incorporación de referencia de SQLite UWP][1]
4. <span data-ttu-id="e8f53-129">Abra el archivo MainPage.xaml.cs y quite la definición `#define OFFLINE_SYNC_ENABLED`.</span><span class="sxs-lookup"><span data-stu-id="e8f53-129">Open the MainPage.xaml.cs file and uncomment the `#define OFFLINE_SYNC_ENABLED` definition.</span></span>
5. <span data-ttu-id="e8f53-130">En Visual Studio, presione la tecla **F5** para volver a compilar y ejecutar la aplicación cliente.</span><span class="sxs-lookup"><span data-stu-id="e8f53-130">In Visual Studio, press the **F5** key to rebuild and run the client app.</span></span> <span data-ttu-id="e8f53-131">La aplicación funciona igual que lo hacía antes de habilitar la sincronización sin conexión.</span><span class="sxs-lookup"><span data-stu-id="e8f53-131">The app works the same as it did before you enabled offline sync.</span></span> <span data-ttu-id="e8f53-132">Sin embargo, la base de datos se rellena con datos que pueden utilizarse en un escenario sin conexión.</span><span class="sxs-lookup"><span data-stu-id="e8f53-132">However, the local database is now populated with data that can be used in an offline scenario.</span></span>

## <span data-ttu-id="e8f53-133"><a name="update-sync"></a>Actualización de la aplicación para desconectarla del back-end</span><span class="sxs-lookup"><span data-stu-id="e8f53-133"><a name="update-sync"></a>Update the app to disconnect from the backend</span></span>
<span data-ttu-id="e8f53-134">En esta sección, se interrumpe la conexión con el back-end de aplicación móvil para simular un escenario sin conexión.</span><span class="sxs-lookup"><span data-stu-id="e8f53-134">In this section, you break the connection to your Mobile App backend to simulate an offline situation.</span></span> <span data-ttu-id="e8f53-135">Al agregar elementos de datos, el controlador de excepciones le indicará que la aplicación está en modo sin conexión.</span><span class="sxs-lookup"><span data-stu-id="e8f53-135">When you add data items, your exception handler tells you that the app is in offline mode.</span></span> <span data-ttu-id="e8f53-136">En este estado, se agregan nuevos elementos al almacén local y se sincronizarán con el back-end de aplicación móvil cuando se vuelva a ejecutar la inserción en estado conectado.</span><span class="sxs-lookup"><span data-stu-id="e8f53-136">In this state, new items added in the local store and will be synced to the mobile app backend when push is next run in a connected state.</span></span>

1. <span data-ttu-id="e8f53-137">Edite App.xaml.cs en el proyecto compartido.</span><span class="sxs-lookup"><span data-stu-id="e8f53-137">Edit App.xaml.cs in the shared project.</span></span> <span data-ttu-id="e8f53-138">Convierta en comentario la inicialización de **MobileServiceClient** y agregue las siguientes líneas, que usan una dirección URL de una aplicación móvil no válida:</span><span class="sxs-lookup"><span data-stu-id="e8f53-138">Comment out the initialization of the **MobileServiceClient** and add the following line, which uses an invalid mobile app URL:</span></span>

         public static MobileServiceClient MobileService = new MobileServiceClient("https://your-service.azurewebsites.fail");

    <span data-ttu-id="e8f53-139">Además, puede mostrar el comportamiento sin conexión deshabilitando las redes Wi-Fi y móvil en el dispositivo o usar el modo avión.</span><span class="sxs-lookup"><span data-stu-id="e8f53-139">You can also demonstrate offline behavior by disabling wifi and cellular networks on the device or use airplane mode.</span></span>
2. <span data-ttu-id="e8f53-140">Presione **F5** para compilar y ejecutar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="e8f53-140">Press **F5** to build and run the app.</span></span> <span data-ttu-id="e8f53-141">Observe que la sincronización no se pudo actualizar cuando se inició la aplicación.</span><span class="sxs-lookup"><span data-stu-id="e8f53-141">Notice your sync failed on refresh when the app launched.</span></span>
3. <span data-ttu-id="e8f53-142">Escriba nuevos elementos y observe que la operación de inserción produce un error con un estado de [CancelledByNetworkError] cada vez que hace clic en **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="e8f53-142">Enter new items and notice that push fails with a [CancelledByNetworkError] status each time you click **Save**.</span></span> <span data-ttu-id="e8f53-143">No obstante, los nuevos elementos Todo están en el almacén local hasta que se puedan insertar en el back-end de aplicación móvil.</span><span class="sxs-lookup"><span data-stu-id="e8f53-143">However, the new todo items exist in the local store until they can be pushed to the mobile app backend.</span></span>  <span data-ttu-id="e8f53-144">En una aplicación de producción, si suprime estas excepciones, la aplicación cliente se comporta como si aún estuviera conectada al back-end de aplicación móvil.</span><span class="sxs-lookup"><span data-stu-id="e8f53-144">In a production app, if you suppress these exceptions the client app behaves as if it's still connected to the mobile app backend.</span></span>
4. <span data-ttu-id="e8f53-145">Cierre la aplicación y reiníciela para comprobar que los nuevos elementos que creó se mantienen en el almacén local.</span><span class="sxs-lookup"><span data-stu-id="e8f53-145">Close the app and restart it to verify that the new items you created are persisted to the local store.</span></span>
5. <span data-ttu-id="e8f53-146">(Opcional) En Visual Studio, abra el **Explorador de servidores**.</span><span class="sxs-lookup"><span data-stu-id="e8f53-146">(Optional) In Visual Studio, open **Server Explorer**.</span></span> <span data-ttu-id="e8f53-147">Vaya a la base de datos en **Azure**->**SQL Databases**.</span><span class="sxs-lookup"><span data-stu-id="e8f53-147">Navigate to your database in **Azure**->**SQL Databases**.</span></span> <span data-ttu-id="e8f53-148">Haga clic con el botón derecho en la base de datos y seleccione **Abrir en el Explorador de objetos de SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="e8f53-148">Right-click your database and select **Open in SQL Server Object Explorer**.</span></span> <span data-ttu-id="e8f53-149">Ahora puede buscar la tabla de base de datos SQL y su contenido.</span><span class="sxs-lookup"><span data-stu-id="e8f53-149">Now you can browse to your SQL database table and its contents.</span></span> <span data-ttu-id="e8f53-150">Compruebe que no han cambiado los datos de la base de datos back-end.</span><span class="sxs-lookup"><span data-stu-id="e8f53-150">Verify that the data in the backend database has not changed.</span></span>
6. <span data-ttu-id="e8f53-151">(Opcional) Use una herramienta REST como Fiddler o Postman para consultar el back-end móvil mediante una consulta GET con la forma `https://<your-mobile-app-backend-name>.azurewebsites.net/tables/TodoItem`.</span><span class="sxs-lookup"><span data-stu-id="e8f53-151">(Optional) Use a REST tool such as Fiddler or Postman to query your mobile backend, using a GET query in the form `https://<your-mobile-app-backend-name>.azurewebsites.net/tables/TodoItem`.</span></span>

## <span data-ttu-id="e8f53-152"><a name="update-online-app"></a>Actualización de la aplicación para volver a conectar el back-end de la aplicación móvil</span><span class="sxs-lookup"><span data-stu-id="e8f53-152"><a name="update-online-app"></a>Update the app to reconnect your Mobile App backend</span></span>
<span data-ttu-id="e8f53-153">En esta sección se vuelve a conectar la aplicación al back-end de aplicación móvil.</span><span class="sxs-lookup"><span data-stu-id="e8f53-153">In this section, you reconnect the app to the mobile app backend.</span></span> <span data-ttu-id="e8f53-154">Estos cambios simulan una reconexión de red en la aplicación.</span><span class="sxs-lookup"><span data-stu-id="e8f53-154">These changes simulate a network reconnection on the app.</span></span>

<span data-ttu-id="e8f53-155">La primera vez que se ejecuta la aplicación, el controlador de eventos `OnNavigatedTo` llama a `InitLocalStoreAsync`.</span><span class="sxs-lookup"><span data-stu-id="e8f53-155">When you first run the application, the `OnNavigatedTo` event handler calls `InitLocalStoreAsync`.</span></span> <span data-ttu-id="e8f53-156">Este método, a su vez, llama a `SyncAsync` para sincronizar el almacén local con la base de datos back-end.</span><span class="sxs-lookup"><span data-stu-id="e8f53-156">This method in turn calls `SyncAsync` to sync your local store with the backend database.</span></span> <span data-ttu-id="e8f53-157">La aplicación intenta sincronizar al inicio.</span><span class="sxs-lookup"><span data-stu-id="e8f53-157">The app attempts to sync on startup.</span></span>

1. <span data-ttu-id="e8f53-158">Abra App.xaml.cs en el proyecto compartido y quite la marca de comentario a la inicialización anterior de `MobileServiceClient` para usar la dirección URL de aplicación móvil correcta.</span><span class="sxs-lookup"><span data-stu-id="e8f53-158">Open App.xaml.cs in the shared project, and uncomment your previous initialization of `MobileServiceClient` to use the correct the mobile app URL.</span></span>
2. <span data-ttu-id="e8f53-159">Presione la tecla **F5** para volver a compilar y ejecutar el proyecto.</span><span class="sxs-lookup"><span data-stu-id="e8f53-159">Press the **F5** key to rebuild and run the app.</span></span> <span data-ttu-id="e8f53-160">La aplicación sincroniza los cambios locales con el back-end de Azure Mobile App mediante las operaciones de inserción y extracción una vez que se ejecuta el controlador de eventos `OnNavigatedTo`.</span><span class="sxs-lookup"><span data-stu-id="e8f53-160">The app syncs your local changes with the Azure Mobile App backend using push and pull operations when the `OnNavigatedTo` event handler executes.</span></span>
3. <span data-ttu-id="e8f53-161">(Opcional) Vea los datos actualizados mediante el Explorador de objetos de SQL Server o una herramienta REST como Fiddler.</span><span class="sxs-lookup"><span data-stu-id="e8f53-161">(Optional) View the updated data using either SQL Server Object Explorer or a REST tool like Fiddler.</span></span> <span data-ttu-id="e8f53-162">Observe que los datos se han sincronizado entre la base de datos del back-end de la aplicación móvil de Azure y el almacén local.</span><span class="sxs-lookup"><span data-stu-id="e8f53-162">Notice the data has been synchronized between the Azure Mobile App backend database and the local store.</span></span>
4. <span data-ttu-id="e8f53-163">En la aplicación, haga clic en la casilla situada junto a algunos elementos para completarlos en el almacén local.</span><span class="sxs-lookup"><span data-stu-id="e8f53-163">In the app, click the check box beside a few items to complete them in the local store.</span></span>

   <span data-ttu-id="e8f53-164">`UpdateCheckedTodoItem` llama a `SyncAsync` para sincronizar cada elemento completado con el back-end de Mobile App.</span><span class="sxs-lookup"><span data-stu-id="e8f53-164">`UpdateCheckedTodoItem` calls `SyncAsync` to sync each completed item with the Mobile App backend.</span></span> <span data-ttu-id="e8f53-165">`SyncAsync` llama a las operaciones de inserción y extracción.</span><span class="sxs-lookup"><span data-stu-id="e8f53-165">`SyncAsync` calls both push and pull.</span></span> <span data-ttu-id="e8f53-166">Sin embargo, **cada vez que se ejecuta una incorporación de cambios en una tabla en la que el cliente ha realizado cambios, siempre se ejecuta automáticamente una inserción** .</span><span class="sxs-lookup"><span data-stu-id="e8f53-166">However, **whenever you execute a pull against a table that the client has made changes to, a push is always executed automatically**.</span></span> <span data-ttu-id="e8f53-167">De este modo se garantiza la coherencia de todas las tablas del almacén local, junto con sus relaciones.</span><span class="sxs-lookup"><span data-stu-id="e8f53-167">This behavior ensures all tables in the local store along with relationships remain consistent.</span></span> <span data-ttu-id="e8f53-168">Este comportamiento puede provocar una inserción inesperada.</span><span class="sxs-lookup"><span data-stu-id="e8f53-168">This behavior may result in an unexpected push.</span></span>  <span data-ttu-id="e8f53-169">Para obtener más información sobre este comportamiento, consulte [Sincronización de datos sin conexión en Aplicaciones móviles de Azure].</span><span class="sxs-lookup"><span data-stu-id="e8f53-169">For more information on this behavior, see [Offline Data Sync in Azure Mobile Apps].</span></span>

## <a name="api-summary"></a><span data-ttu-id="e8f53-170">Resumen de la API</span><span class="sxs-lookup"><span data-stu-id="e8f53-170">API Summary</span></span>
<span data-ttu-id="e8f53-171">Para admitir las características sin conexión de Mobile Services, se usa la interfaz [IMobileServiceSyncTable] y se inicializa [MobileServiceClient.SyncContext][synccontext] con una base de datos SQLite local.</span><span class="sxs-lookup"><span data-stu-id="e8f53-171">To support the offline features of mobile services, we used the [IMobileServiceSyncTable] interface and initialized [MobileServiceClient.SyncContext][synccontext] with a local SQLite database.</span></span> <span data-ttu-id="e8f53-172">En el modo sin conexión, las operaciones CRUD normales para Aplicaciones móviles funcionan como si la aplicación siguiera conectada y todas las operaciones se producen en el almacén local.</span><span class="sxs-lookup"><span data-stu-id="e8f53-172">When offline, the normal CRUD operations for Mobile Apps work as if the app is still connected while the operations occur against the local store.</span></span> <span data-ttu-id="e8f53-173">Cuando se quiera sincronizar el almacén local con el servidor, se usan los métodos siguientes:</span><span class="sxs-lookup"><span data-stu-id="e8f53-173">The following methods are used to synchronize the local store with the server:</span></span>

* <span data-ttu-id="e8f53-174">**[PushAsync]**: como este método es miembro de [IMobileServicesSyncContext], los cambios de todas las tablas se insertan en el back-end.</span><span class="sxs-lookup"><span data-stu-id="e8f53-174">**[PushAsync]** Because this method is a member of [IMobileServicesSyncContext], changes across all tables are pushed to the backend.</span></span> <span data-ttu-id="e8f53-175">Solo se envían al servidor los registros con cambios locales.</span><span class="sxs-lookup"><span data-stu-id="e8f53-175">Only records with local changes are sent to the server.</span></span>
* <span data-ttu-id="e8f53-176">**[PullAsync]**: se inicia una extracción desde [IMobileServiceSyncTable].</span><span class="sxs-lookup"><span data-stu-id="e8f53-176">**[PullAsync]** A pull is started from a [IMobileServiceSyncTable].</span></span> <span data-ttu-id="e8f53-177">Cuando haya cambios marcados en la tabla, se ejecuta una inserción implícita para asegurarse de que todas las tablas del almacén local junto con las relaciones siguen siendo coherentes.</span><span class="sxs-lookup"><span data-stu-id="e8f53-177">When there are tracked changes in the table, an implicit push is run to make sure that all tables in the local store along with relationships remain consistent.</span></span> <span data-ttu-id="e8f53-178">El parámetro *pushOtherTables* controla si se insertan otras tablas del contexto en una inserción implícita.</span><span class="sxs-lookup"><span data-stu-id="e8f53-178">The *pushOtherTables* parameter controls whether other tables in the context are pushed in an implicit push.</span></span> <span data-ttu-id="e8f53-179">El parámetro *query* toma la cadena de consulta de OData o [IMobileServiceTableQuery<T>][IMobileServiceTableQuery] para filtrar los datos devueltos.</span><span class="sxs-lookup"><span data-stu-id="e8f53-179">The *query* parameter takes an [IMobileServiceTableQuery<T>][IMobileServiceTableQuery] or OData query string to filter the returned data.</span></span> <span data-ttu-id="e8f53-180">El parámetro *queryId* se utiliza para definir la sincronización incremental.</span><span class="sxs-lookup"><span data-stu-id="e8f53-180">The *queryId* parameter is used to define incremental sync.</span></span> <span data-ttu-id="e8f53-181">Para más información, consulte [Sincronización de datos sin conexión en Azure Mobile Apps](app-service-mobile-offline-data-sync.md#how-sync-works).</span><span class="sxs-lookup"><span data-stu-id="e8f53-181">For more information, see [Offline Data Sync in Azure Mobile Apps](app-service-mobile-offline-data-sync.md#how-sync-works).</span></span>
* <span data-ttu-id="e8f53-182">**[PurgeAsync]**: su aplicación debe llamar periódicamente a este método para purgar datos obsoletos del almacén local.</span><span class="sxs-lookup"><span data-stu-id="e8f53-182">**[PurgeAsync]** Your app should periodically call this method to purge stale data from the local store.</span></span> <span data-ttu-id="e8f53-183">Utilice el parámetro *force* cuando necesite purgar todos los cambios que aún no se hayan sincronizado.</span><span class="sxs-lookup"><span data-stu-id="e8f53-183">Use the *force* parameter when you need to purge any changes that have not yet been synced.</span></span>

<span data-ttu-id="e8f53-184">Para obtener más información sobre estos conceptos, consulte [Sincronización de datos sin conexión en Aplicaciones móviles de Azure](app-service-mobile-offline-data-sync.md#how-sync-works).</span><span class="sxs-lookup"><span data-stu-id="e8f53-184">For more information about these concepts, see [Offline Data Sync in Azure Mobile Apps](app-service-mobile-offline-data-sync.md#how-sync-works).</span></span>

## <a name="more-info"></a><span data-ttu-id="e8f53-185">Más información</span><span class="sxs-lookup"><span data-stu-id="e8f53-185">More info</span></span>
<span data-ttu-id="e8f53-186">En los temas siguientes se ofrece información de fondo adicional sobre la característica de sincronización sin conexión de Aplicaciones móviles:</span><span class="sxs-lookup"><span data-stu-id="e8f53-186">The following topics provide additional background information on the offline sync feature of Mobile Apps:</span></span>

* <span data-ttu-id="e8f53-187">[Sincronización de datos sin conexión en Aplicaciones móviles de Azure]</span><span class="sxs-lookup"><span data-stu-id="e8f53-187">[Offline Data Sync in Azure Mobile Apps]</span></span>
* <span data-ttu-id="e8f53-188">[Procedimiento del SDK de .NET de Azure Mobile Apps][8]</span><span class="sxs-lookup"><span data-stu-id="e8f53-188">[Azure Mobile Apps .NET SDK HOWTO][8]</span></span>

<!-- Anchors. -->
[Update the app to support offline features]: #enable-offline-app
[Update the sync behavior of the app]: #update-sync
[Update the app to reconnect your Mobile Apps backend]: #update-online-app
[Next Steps]:#next-steps

<!-- Images -->
[1]: ./media/app-service-mobile-windows-store-dotnet-get-started-offline-data/app-service-mobile-add-reference-sqlite-dialog.png
[11]: ./media/app-service-mobile-windows-store-dotnet-get-started-offline-data/app-service-mobile-add-wp81-reference-sqlite-dialog.png
[13]: ./media/app-service-mobile-windows-store-dotnet-get-started-offline-data/cpu-architecture.png


<!-- URLs. -->
<span data-ttu-id="e8f53-189">[Sincronización de datos sin conexión en Aplicaciones móviles de Azure]: app-service-mobile-offline-data-sync.md</span><span class="sxs-lookup"><span data-stu-id="e8f53-189">[Offline Data Sync in Azure Mobile Apps]: app-service-mobile-offline-data-sync.md</span></span>
<span data-ttu-id="e8f53-190">[Creación de una aplicación para Windows]: app-service-mobile-windows-store-dotnet-get-started.md</span><span class="sxs-lookup"><span data-stu-id="e8f53-190">[create a windows app]: app-service-mobile-windows-store-dotnet-get-started.md</span></span>
[SQLite for Windows 8.1]: http://go.microsoft.com/fwlink/?LinkID=716919
[SQLite for Windows Phone 8.1]: http://go.microsoft.com/fwlink/?LinkID=716920
[SQLite for Windows 10]: http://go.microsoft.com/fwlink/?LinkID=716921
[synccontext]: https://msdn.microsoft.com/library/azure/microsoft.windowsazure.mobileservices.mobileserviceclient.synccontext(v=azure.10).aspx
[sqlite store nuget]: https://www.nuget.org/packages/Microsoft.Azure.Mobile.Client.SQLiteStore/
<span data-ttu-id="e8f53-191">[IMobileServiceSyncTable]: https://msdn.microsoft.com/library/azure/mt691742(v=azure.10).aspx</span><span class="sxs-lookup"><span data-stu-id="e8f53-191">[IMobileServiceSyncTable]: https://msdn.microsoft.com/library/azure/mt691742(v=azure.10).aspx</span></span>
[IMobileServiceTableQuery]: https://msdn.microsoft.com/library/azure/dn250631(v=azure.10).aspx
<span data-ttu-id="e8f53-192">[IMobileServicesSyncContext]: https://msdn.microsoft.com/library/azure/microsoft.windowsazure.mobileservices.sync.imobileservicesynccontext(v=azure.10).aspx</span><span class="sxs-lookup"><span data-stu-id="e8f53-192">[IMobileServicesSyncContext]: https://msdn.microsoft.com/library/azure/microsoft.windowsazure.mobileservices.sync.imobileservicesynccontext(v=azure.10).aspx</span></span>
[MobileServicePushFailedException]: https://msdn.microsoft.com/library/azure/microsoft.windowsazure.mobileservices.sync.mobileservicepushfailedexception(v=azure.10).aspx
[Status]: https://msdn.microsoft.com/library/azure/microsoft.windowsazure.mobileservices.sync.mobileservicepushcompletionresult.status(v=azure.10).aspx
<span data-ttu-id="e8f53-193">[CancelledByNetworkError]: https://msdn.microsoft.com/library/azure/microsoft.windowsazure.mobileservices.sync.mobileservicepushstatus(v=azure.10).aspx</span><span class="sxs-lookup"><span data-stu-id="e8f53-193">[CancelledByNetworkError]: https://msdn.microsoft.com/library/azure/microsoft.windowsazure.mobileservices.sync.mobileservicepushstatus(v=azure.10).aspx</span></span>
<span data-ttu-id="e8f53-194">[PullAsync]: https://msdn.microsoft.com/library/azure/mt667558(v=azure.10).aspx</span><span class="sxs-lookup"><span data-stu-id="e8f53-194">[PullAsync]: https://msdn.microsoft.com/library/azure/mt667558(v=azure.10).aspx</span></span>
<span data-ttu-id="e8f53-195">[PushAsync]: https://msdn.microsoft.com/library/azure/microsoft.windowsazure.mobileservices.mobileservicesynccontextextensions.pushasync(v=azure.10).aspx</span><span class="sxs-lookup"><span data-stu-id="e8f53-195">[PushAsync]: https://msdn.microsoft.com/library/azure/microsoft.windowsazure.mobileservices.mobileservicesynccontextextensions.pushasync(v=azure.10).aspx</span></span>
<span data-ttu-id="e8f53-196">[PurgeAsync]: https://msdn.microsoft.com/library/azure/microsoft.windowsazure.mobileservices.sync.imobileservicesynctable.purgeasync(v=azure.10).aspx</span><span class="sxs-lookup"><span data-stu-id="e8f53-196">[PurgeAsync]: https://msdn.microsoft.com/library/azure/microsoft.windowsazure.mobileservices.sync.imobileservicesynctable.purgeasync(v=azure.10).aspx</span></span>
[8]: app-service-mobile-dotnet-how-to-use-client-library.md
