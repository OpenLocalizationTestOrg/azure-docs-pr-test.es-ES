---
title: "aaaEnable la sincronización sin conexión de la aplicación móvil de Azure (Xamarin Android)"
description: "Obtenga información acerca de cómo toouse la toocache y sincronización de datos sin conexión de aplicación del servicio de aplicaciones móviles en la aplicación de Xamarin para Android"
documentationcenter: xamarin
author: ggailey777
manager: syntaxc4
editor: 
services: app-service\mobile
ms.assetid: 91d59e4b-abaa-41f4-80cf-ee7933b32568
ms.service: app-service-mobile
ms.workload: mobile
ms.tgt_pltfrm: mobile-xamarin-android
ms.devlang: dotnet
ms.topic: article
ms.date: 10/01/2016
ms.author: glenga
ms.openlocfilehash: 216ba76ae49f583273cc61b63114a415eca2477b
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="enable-offline-sync-for-your-xamarinandroid-mobile-app"></a><span data-ttu-id="5b3e9-103">Activación de la sincronización sin conexión para la aplicación móvil Xamarin.Android</span><span class="sxs-lookup"><span data-stu-id="5b3e9-103">Enable offline sync for your Xamarin.Android mobile app</span></span>
[!INCLUDE [app-service-mobile-selector-offline](../../includes/app-service-mobile-selector-offline.md)]

## <a name="overview"></a><span data-ttu-id="5b3e9-104">Información general</span><span class="sxs-lookup"><span data-stu-id="5b3e9-104">Overview</span></span>
<span data-ttu-id="5b3e9-105">Este tutorial presenta la característica de sincronización sin conexión de Hola de aplicaciones móviles de Azure para Xamarin.Android.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-105">This tutorial introduces hello offline sync feature of Azure Mobile Apps for Xamarin.Android.</span></span> <span data-ttu-id="5b3e9-106">Sincronización sin conexión permite toointeract de los usuarios finales con una aplicación móvil: ver, agregar o modificar los datos, incluso cuando no hay ninguna conexión de red.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-106">Offline sync allows end users toointeract with a mobile app--viewing, adding, or modifying data--even when there is no network connection.</span></span> <span data-ttu-id="5b3e9-107">Los cambios se almacenan en una base de datos local.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-107">Changes are stored in a local database.</span></span>
<span data-ttu-id="5b3e9-108">Una vez que el dispositivo de hello vuelve a estar conectado, estos cambios se sincronizan con el servicio remoto hello.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-108">Once hello device is back online, these changes are synced with hello remote service.</span></span>

<span data-ttu-id="5b3e9-109">En este tutorial, Actualizar proyecto de cliente de hello del tutorial de Hola de [crear una aplicación de Xamarin para Android] toosupport Hola características sin conexión de las aplicaciones móviles de Azure.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-109">In this tutorial, you update hello client project from hello tutorial [Create a Xamarin Android app] toosupport hello offline features of Azure Mobile Apps.</span></span> <span data-ttu-id="5b3e9-110">Si no usa Hola descarga el proyecto de servidor de inicio rápido, debe agregar proyecto tooyour de paquetes de extensión de acceso de hello datos.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-110">If you do not use hello downloaded quick start server project, you must add hello data access extension packages tooyour project.</span></span> <span data-ttu-id="5b3e9-111">Para obtener más información acerca de los paquetes de extensión de servidor, consulte [trabajar con el servidor back-end de .NET Hola SDK para aplicaciones móviles de Azure](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md).</span><span class="sxs-lookup"><span data-stu-id="5b3e9-111">For more information about server extension packages, see [Work with hello .NET backend server SDK for Azure Mobile Apps](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md).</span></span>

<span data-ttu-id="5b3e9-112">toolearn más información acerca de la característica de sincronización sin conexión de hello, vea el tema de hello [sincronización de datos sin conexión en aplicaciones móviles de Azure].</span><span class="sxs-lookup"><span data-stu-id="5b3e9-112">toolearn more about hello offline sync feature, see hello topic [Offline Data Sync in Azure Mobile Apps].</span></span>

## <a name="update-hello-client-app-toosupport-offline-features"></a><span data-ttu-id="5b3e9-113">Actualizar características sin conexión de toosupport la aplicación cliente hello</span><span class="sxs-lookup"><span data-stu-id="5b3e9-113">Update hello client app toosupport offline features</span></span>
<span data-ttu-id="5b3e9-114">Características sin conexión de aplicación móvil Azure le permiten toointeract con una base de datos local, cuando se encuentre en un escenario sin conexión.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-114">Azure Mobile App offline features allow you toointeract with a local database when you are in an offline scenario.</span></span> <span data-ttu-id="5b3e9-115">toouse estas características en la aplicación, inicializar un [SyncContext] tooa de almacén local.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-115">toouse these features in your app, you initialize a [SyncContext] tooa local store.</span></span> <span data-ttu-id="5b3e9-116">A continuación, hacer referencia a la tabla a través de hello [IMobileServiceSyncTable] [IMobileServiceSyncTable] interfaz.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-116">Then reference your table through hello [IMobileServiceSyncTable][IMobileServiceSyncTable] interface.</span></span> <span data-ttu-id="5b3e9-117">SQLite se utiliza como almacén local de hello en dispositivo Hola.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-117">SQLite is used as hello local store on hello device.</span></span>

1. <span data-ttu-id="5b3e9-118">En Visual Studio, abra el Administrador de paquetes de NuGet hello en proyecto de Hola que completó en hello [crear una aplicación de Xamarin para Android] tutorial.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-118">In Visual Studio, open hello NuGet package manager in hello project that you completed in hello [Create a Xamarin Android app] tutorial.</span></span>  <span data-ttu-id="5b3e9-119">Buscar e instalar hello **Microsoft.Azure.Mobile.Client.SQLiteStore** paquete NuGet.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-119">Search for and install hello **Microsoft.Azure.Mobile.Client.SQLiteStore** NuGet package.</span></span>
2. <span data-ttu-id="5b3e9-120">Abrir archivo de ToDoActivity.cs hello y quitar el comentario hello `#define OFFLINE_SYNC_ENABLED` definición.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-120">Open hello ToDoActivity.cs file and uncomment hello `#define OFFLINE_SYNC_ENABLED` definition.</span></span>
3. <span data-ttu-id="5b3e9-121">En Visual Studio, presione hello **F5** clave toorebuild y aplicación de cliente de hello de ejecución.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-121">In Visual Studio, press hello **F5** key toorebuild and run hello client app.</span></span> <span data-ttu-id="5b3e9-122">aplicación Hello funciona Hola igual que antes de habilitar la sincronización sin conexión. Sin embargo, la base de datos local de hello ahora se rellena con datos que pueden usarse en un escenario sin conexión.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-122">hello app works hello same as it did before you enabled offline sync. However, hello local database is now populated with data that can be used in an offline scenario.</span></span>

## <span data-ttu-id="5b3e9-123"><a name="update-sync"></a>Actualizar toodisconnect de aplicación Hola de hello back-end</span><span class="sxs-lookup"><span data-stu-id="5b3e9-123"><a name="update-sync"></a>Update hello app toodisconnect from hello backend</span></span>
<span data-ttu-id="5b3e9-124">En esta sección, se interrumpe Hola conexión tooyour aplicación móvil back-end toosimulate una situación sin conexión.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-124">In this section, you break hello connection tooyour Mobile App backend toosimulate an offline situation.</span></span> <span data-ttu-id="5b3e9-125">Cuando se agregan elementos de datos, el controlador de excepciones indica que la aplicación hello está en modo sin conexión.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-125">When you add data items, your exception handler tells you that hello app is in offline mode.</span></span> <span data-ttu-id="5b3e9-126">En este estado, elementos nuevos agregados en hello local almacenan y se sincronizan con back-end de aplicación móvil de hello cuando se ejecuta una inserción en un estado conectado.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-126">In this state, new items added in hello local store and are synced to hello mobile app backend when a push is executed in a connected state.</span></span>

1. <span data-ttu-id="5b3e9-127">Editar ToDoActivity.cs en el proyecto compartido Hola.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-127">Edit ToDoActivity.cs in hello shared project.</span></span> <span data-ttu-id="5b3e9-128">Hola de cambio **ApplicationUrl del** toopoint dirección URL no válida de tooan:</span><span class="sxs-lookup"><span data-stu-id="5b3e9-128">Change hello **applicationURL** toopoint tooan invalid URL:</span></span>

         const string applicationURL = @"https://your-service.azurewebsites.fail";

    <span data-ttu-id="5b3e9-129">También puede mostrar el comportamiento sin conexión deshabilitando Wi-Fi y redes de telefonía móviles en dispositivo de Hola o utilizando el modo de avión.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-129">You can also demonstrate offline behavior by disabling wifi and cellular networks on hello device or using airplane mode.</span></span>
2. <span data-ttu-id="5b3e9-130">Presione **F5** aplicación hello toobuild y ejecución.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-130">Press **F5** toobuild and run hello app.</span></span> <span data-ttu-id="5b3e9-131">Tenga en cuenta la sincronización no se pudo al actualizar Hola cuando la aplicación inicia.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-131">Notice your sync failed on refresh when hello app launched.</span></span>
3. <span data-ttu-id="5b3e9-132">Escriba nuevos elementos y observe que la operación de inserción produce un error con un estado de [CancelledByNetworkError] cada vez que hace clic en **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-132">Enter new items and notice that push fails with a [CancelledByNetworkError] status each time you click **Save**.</span></span> <span data-ttu-id="5b3e9-133">Sin embargo, nuevos elementos de lista de tareas Hola existen en el almacén local de hello hasta que estos se pueden insertar back-end de toohello aplicación móvil.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-133">However, hello new todo items exist in hello local store until they can be pushed toohello mobile app backend.</span></span>  <span data-ttu-id="5b3e9-134">En uno de producción aplicación, si se suprimen las siguientes excepciones de aplicación de cliente de hello se comporta como si aún está conectado back-end de toohello aplicación móvil.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-134">In a production app, if you suppress these exceptions hello client app behaves as if it's still connected toohello mobile app backend.</span></span>
4. <span data-ttu-id="5b3e9-135">Cierre la aplicación hello y reiníciela tooverify que elementos nuevos de Hola que creó están almacén local toohello persistente.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-135">Close hello app and restart it tooverify that hello new items you created are persisted toohello local store.</span></span>
5. <span data-ttu-id="5b3e9-136">(Opcional) En Visual Studio, abra el **Explorador de servidores**.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-136">(Optional) In Visual Studio, open **Server Explorer**.</span></span> <span data-ttu-id="5b3e9-137">Navegar por la base de datos de tooyour en **Azure**->**bases de datos SQL**.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-137">Navigate tooyour database in **Azure**->**SQL Databases**.</span></span> <span data-ttu-id="5b3e9-138">Haga clic con el botón derecho en la base de datos y seleccione **Abrir en el Explorador de objetos de SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-138">Right-click your database and select **Open in SQL Server Object Explorer**.</span></span> <span data-ttu-id="5b3e9-139">Ahora puede examinar la tabla de base de datos SQL tooyour y su contenido.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-139">Now you can browse tooyour SQL database table and its contents.</span></span> <span data-ttu-id="5b3e9-140">Compruebe que los datos de hello en la base de datos de back-end de hello no han cambiado.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-140">Verify that hello data in hello backend database has not changed.</span></span>
6. <span data-ttu-id="5b3e9-141">(Opcional) Usar una herramienta REST como Fiddler o Postman tooquery su backend móvil, utilizando una consulta GET con el formato `https://<your-mobile-app-backend-name>.azurewebsites.net/tables/TodoItem`.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-141">(Optional) Use a REST tool such as Fiddler or Postman tooquery your mobile backend, using a GET query in the form `https://<your-mobile-app-backend-name>.azurewebsites.net/tables/TodoItem`.</span></span>

## <span data-ttu-id="5b3e9-142"><a name="update-online-app"></a>Actualizar tooreconnect de aplicación Hola su aplicación móvil de back-end</span><span class="sxs-lookup"><span data-stu-id="5b3e9-142"><a name="update-online-app"></a>Update hello app tooreconnect your Mobile App backend</span></span>
<span data-ttu-id="5b3e9-143">En esta sección, vuelva a conectar Hola aplicación toohello aplicación móvil back-end.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-143">In this section, reconnect hello app toohello mobile app backend.</span></span> <span data-ttu-id="5b3e9-144">Cuando ejecuta por primera vez aplicación hello, Hola `OnCreate` llamadas del controlador de eventos `OnRefreshItemsSelected`.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-144">When you first run hello application, hello `OnCreate` event handler calls `OnRefreshItemsSelected`.</span></span> <span data-ttu-id="5b3e9-145">Este método llama `SyncAsync` toosync local almacenar con la base de datos de back-end de Hola.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-145">This method calls `SyncAsync` toosync your local store with hello backend database.</span></span>

1. <span data-ttu-id="5b3e9-146">Abra ToDoActivity.cs en el proyecto compartido hello y revertir el cambio de hello **ApplicationUrl del** propiedad.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-146">Open ToDoActivity.cs in hello shared project, and revert your change of hello **applicationURL** property.</span></span>
2. <span data-ttu-id="5b3e9-147">Hola presione **F5** clave toorebuild y aplicación hello de ejecución.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-147">Press hello **F5** key toorebuild and run hello app.</span></span> <span data-ttu-id="5b3e9-148">Hello aplicación sincroniza los cambios locales con back-end de aplicación móvil de Azure de hello mediante las operaciones de inserción y extracción cuando hello `OnRefreshItemsSelected` el método se ejecuta.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-148">hello app syncs your local changes with hello Azure Mobile App backend using push and pull operations when hello `OnRefreshItemsSelected` method executes.</span></span>
3. <span data-ttu-id="5b3e9-149">(Opcional) Hola de vista actualiza datos mediante el Explorador de objetos de SQL Server o una herramienta REST como Fiddler.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-149">(Optional) View hello updated data using either SQL Server Object Explorer or a REST tool like Fiddler.</span></span> <span data-ttu-id="5b3e9-150">Se ha sincronizado aviso Hola datos entre la base de datos de back-end de aplicación móvil de Azure de Hola y el almacén local de Hola.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-150">Notice hello data has been synchronized between hello Azure Mobile App backend database and hello local store.</span></span>
4. <span data-ttu-id="5b3e9-151">En la aplicación hello, haga clic en comprobar de hello cuadro junto a algunos de los elementos de toocomplete ellos en el almacén local de Hola.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-151">In hello app, click hello check box beside a few items toocomplete them in hello local store.</span></span>

   <span data-ttu-id="5b3e9-152">`CheckItem`llamadas `SyncAsync` elemento toosync cada completado con back-end de hello aplicación móvil.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-152">`CheckItem` calls `SyncAsync` toosync each completed item with hello Mobile App backend.</span></span> <span data-ttu-id="5b3e9-153">`SyncAsync` llama a las operaciones de inserción y extracción.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-153">`SyncAsync` calls both push and pull.</span></span> <span data-ttu-id="5b3e9-154">**Cada vez que se ejecuta una extracción en una tabla que el cliente hello ha realizado cambios a, siempre se ejecuta automáticamente una inserción**.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-154">**Whenever you execute a pull against a table that hello client has made changes to, a push is always executed automatically**.</span></span> <span data-ttu-id="5b3e9-155">De este modo se garantiza la coherencia de todas las tablas del almacén local, junto con sus relaciones.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-155">This ensures all tables in the local store along with relationships remain consistent.</span></span> <span data-ttu-id="5b3e9-156">Este comportamiento puede provocar una inserción inesperada.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-156">This behavior may result in an unexpected push.</span></span> <span data-ttu-id="5b3e9-157">Para obtener más información sobre este comportamiento, consulte [sincronización de datos sin conexión en aplicaciones móviles de Azure].</span><span class="sxs-lookup"><span data-stu-id="5b3e9-157">For more information on this behavior, see [Offline Data Sync in Azure Mobile Apps].</span></span>

## <a name="review-hello-client-sync-code"></a><span data-ttu-id="5b3e9-158">Revise el código de sincronización de cliente hello</span><span class="sxs-lookup"><span data-stu-id="5b3e9-158">Review hello client sync code</span></span>
<span data-ttu-id="5b3e9-159">proyecto de cliente de Xamarin Hola que ha descargado al completar el tutorial de hello [crear una aplicación de Xamarin para Android] ya contiene código que respalda la sincronización sin conexión con una base de datos local de SQLite.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-159">hello Xamarin client project that you downloaded when you completed hello tutorial [Create a Xamarin Android app] already contains code supporting offline synchronization using a local SQLite database.</span></span> <span data-ttu-id="5b3e9-160">Esta es una breve descripción de lo que ya está incluido en el código del tutorial Hola.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-160">Here is a brief overview of what is already included in hello tutorial code.</span></span> <span data-ttu-id="5b3e9-161">Para obtener información conceptual de característica de hello, consulte [sincronización de datos sin conexión en aplicaciones móviles de Azure].</span><span class="sxs-lookup"><span data-stu-id="5b3e9-161">For a conceptual overview of hello feature, see [Offline Data Sync in Azure Mobile Apps].</span></span>

* <span data-ttu-id="5b3e9-162">Para poder realizar cualquier operación de tabla, se debe inicializar el almacén local de Hola.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-162">Before any table operations can be performed, hello local store must be initialized.</span></span> <span data-ttu-id="5b3e9-163">Hello base de datos del almacén local se inicializa cuando `ToDoActivity.OnCreate()` ejecuta `ToDoActivity.InitLocalStoreAsync()`.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-163">hello local store database is initialized when `ToDoActivity.OnCreate()` executes `ToDoActivity.InitLocalStoreAsync()`.</span></span> <span data-ttu-id="5b3e9-164">Este método crea una base de datos local de SQLite con hello `MobileServiceSQLiteStore` clase proporcionada por el SDK del cliente de aplicaciones móviles de Azure Hola.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-164">This method creates a local SQLite database using hello `MobileServiceSQLiteStore` class provided by hello Azure Mobile Apps client SDK.</span></span>

    <span data-ttu-id="5b3e9-165">Hola `DefineTable` método crea una tabla de almacén local de Hola que coincida con los campos de hello en el tipo de hello proporcionado, `ToDoItem` en este caso.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-165">hello `DefineTable` method creates a table in hello local store that matches hello fields in hello provided type, `ToDoItem` in this case.</span></span> <span data-ttu-id="5b3e9-166">tipo de Hello no tiene tooinclude todas las columnas de Hola que se encuentran en la base de datos remota Hola.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-166">hello type doesn't have tooinclude all hello columns that are in hello remote database.</span></span> <span data-ttu-id="5b3e9-167">Es posible toostore solo un subconjunto de columnas.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-167">It is possible toostore just a subset of columns.</span></span>

        // ToDoActivity.cs
        private async Task InitLocalStoreAsync()
        {
            // new code tooinitialize hello SQLite store
            string path = Path.Combine(System.Environment
                .GetFolderPath(System.Environment.SpecialFolder.Personal), localDbFilename);

            if (!File.Exists(path))
            {
                File.Create(path).Dispose();
            }

            var store = new MobileServiceSQLiteStore(path);
            store.DefineTable<ToDoItem>();

            // Uses hello default conflict handler, which fails on conflict
            // toouse a different conflict handler, pass a parameter tooInitializeAsync.
            // For more details, see http://go.microsoft.com/fwlink/?LinkId=521416.
            await client.SyncContext.InitializeAsync(store);
        }
* <span data-ttu-id="5b3e9-168">Hola `toDoTable` miembro de `ToDoActivity` es de hello `IMobileServiceSyncTable` escriba en lugar de `IMobileServiceTable`.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-168">hello `toDoTable` member of `ToDoActivity` is of hello `IMobileServiceSyncTable` type instead of `IMobileServiceTable`.</span></span> <span data-ttu-id="5b3e9-169">Hola IMobileServiceSyncTable dirige todo crear, leer, actualizar y eliminar (CRUD) base de datos de tabla operaciones toohello almacén local.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-169">hello IMobileServiceSyncTable directs all create, read, update, and delete (CRUD) table operations toohello local store database.</span></span>

    <span data-ttu-id="5b3e9-170">Decidir cuándo cambios se insertan back-end de toohello aplicación móvil de Azure mediante una llamada a `IMobileServiceSyncContext.PushAsync()`.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-170">You decide when changes are pushed toohello Azure Mobile App backend by calling `IMobileServiceSyncContext.PushAsync()`.</span></span> <span data-ttu-id="5b3e9-171">Hello contexto de sincronización le ayuda a mantener las relaciones entre tablas de seguimiento e insertar los cambios en todas las tablas de una aplicación cliente modifica cuando `PushAsync` se llama.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-171">hello sync context helps preserve table relationships by tracking and pushing changes in all tables a client app has modified when `PushAsync` is called.</span></span>

    <span data-ttu-id="5b3e9-172">llamadas de código de Hello proporciona `ToDoActivity.SyncAsync()` toosync cada vez que se actualiza la lista de todoitem de Hola o un todoitem se agrega o se ha completado.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-172">hello provided code calls `ToDoActivity.SyncAsync()` toosync whenever hello todoitem list is refreshed or a todoitem is added or completed.</span></span> <span data-ttu-id="5b3e9-173">sincronizaciones de código de Hello después de cada cambio local.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-173">hello code syncs after every local change.</span></span>

    <span data-ttu-id="5b3e9-174">En el código de hello proporcionado, todos los registros en hello remoto `TodoItem` se consultan la tabla, pero también es posible toofilter registros pasando un identificador de la consulta y una consulta demasiado`PushAsync`.</span><span class="sxs-lookup"><span data-stu-id="5b3e9-174">In hello provided code, all records in hello remote `TodoItem` table are queried, but it is also possible toofilter records by passing a query id and query too`PushAsync`.</span></span> <span data-ttu-id="5b3e9-175">Para obtener más información, vea la sección de hello *sincronización Incremental* en [sincronización de datos sin conexión en aplicaciones móviles de Azure].</span><span class="sxs-lookup"><span data-stu-id="5b3e9-175">For more information, see hello section *Incremental Sync* in [Offline Data Sync in Azure Mobile Apps].</span></span>

        // ToDoActivity.cs
        private async Task SyncAsync()
        {
            try {
                await client.SyncContext.PushAsync();
                await toDoTable.PullAsync("allTodoItems", toDoTable.CreateQuery()); // query ID is used for incremental sync
            } catch (Java.Net.MalformedURLException) {
                CreateAndShowDialog (new Exception ("There was an error creating hello Mobile Service. Verify hello URL"), "Error");
            } catch (Exception e) {
                CreateAndShowDialog (e, "Error");
            }
        }

## <a name="additional-resources"></a><span data-ttu-id="5b3e9-176">Recursos adicionales</span><span class="sxs-lookup"><span data-stu-id="5b3e9-176">Additional Resources</span></span>
* <span data-ttu-id="5b3e9-177">[sincronización de datos sin conexión en aplicaciones móviles de Azure]</span><span class="sxs-lookup"><span data-stu-id="5b3e9-177">[Offline Data Sync in Azure Mobile Apps]</span></span>
* <span data-ttu-id="5b3e9-178">[Procedimiento del SDK de .NET de Azure Mobile Apps][8]</span><span class="sxs-lookup"><span data-stu-id="5b3e9-178">[Azure Mobile Apps .NET SDK HOWTO][8]</span></span>

<!-- URLs. -->
[crear una aplicación de Xamarin para Android]: ../app-service-mobile-xamarin-android-get-started.md
[sincronización de datos sin conexión en aplicaciones móviles de Azure]: ../app-service-mobile-offline-data-sync.md

<!-- Images -->

<!-- URLs. -->
[Creación de una aplicación Xamarin Android]: app-service-mobile-xamarin-android-get-started.md
[Sincronización de datos sin conexión en Aplicaciones móviles de Azure]: app-service-mobile-offline-data-sync.md
[Xamarin Studio]: http://xamarin.com/download
[Xamarin extension]: http://xamarin.com/visual-studio
[SyncContext]: https://msdn.microsoft.com/library/azure/microsoft.windowsazure.mobileservices.mobileserviceclient.synccontext(v=azure.10).aspx
[8]: app-service-mobile-dotnet-how-to-use-client-library.md
