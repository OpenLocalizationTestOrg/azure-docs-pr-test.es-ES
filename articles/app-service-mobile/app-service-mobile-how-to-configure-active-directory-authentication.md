---
title: "autenticación de Azure Active Directory aaaHow tooconfigure para la aplicación de servicios de aplicaciones"
description: "Obtenga información acerca de cómo tooconfigure autenticación de Azure Active Directory para la aplicación de servicios de aplicaciones."
author: mattchenderson
services: app-service
documentationcenter: 
manager: syntaxc4
editor: 
ms.assetid: 6ec6a46c-bce4-47aa-b8a3-e133baef22eb
ms.service: app-service-mobile
ms.workload: mobile
ms.tgt_pltfrm: na
ms.devlang: multiple
ms.topic: article
ms.date: 10/01/2016
ms.author: mahender
ms.openlocfilehash: 5b1d73f8fdf5831a266d900cd07f4e3b0917a7f7
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="how-tooconfigure-your-app-service-application-toouse-azure-active-directory-login"></a><span data-ttu-id="79335-103">Cómo tooconfigure su inicio de sesión de servicio de aplicaciones aplicación toouse Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="79335-103">How tooconfigure your App Service application toouse Azure Active Directory login</span></span>
[!INCLUDE [app-service-mobile-selector-authentication](../../includes/app-service-mobile-selector-authentication.md)]

<span data-ttu-id="79335-104">Este tema muestra cómo tooconfigure toouse de servicios de aplicaciones de Azure Active Directory como un proveedor de autenticación de Azure.</span><span class="sxs-lookup"><span data-stu-id="79335-104">This topic shows you how tooconfigure Azure App Services toouse Azure Active Directory as an authentication provider.</span></span>

## <span data-ttu-id="79335-105"><a name="express"></a>Configuración de Azure Active Directory mediante la configuración rápida</span><span class="sxs-lookup"><span data-stu-id="79335-105"><a name="express"> </a>Configure Azure Active Directory using express settings</span></span>
1. <span data-ttu-id="79335-106">Hola [portal de Azure], navegar por la aplicación tooyour.</span><span class="sxs-lookup"><span data-stu-id="79335-106">In hello [Azure portal], navigate tooyour application.</span></span> <span data-ttu-id="79335-107">Haga clic en **Configuración** y luego en **Autenticación/autorización**.</span><span class="sxs-lookup"><span data-stu-id="79335-107">Click **Settings**, and then **Authentication/Authorization**.</span></span>
2. <span data-ttu-id="79335-108">Si Hola autenticación / autorización característica no está habilitada, activar conmutador Hola demasiado**en**.</span><span class="sxs-lookup"><span data-stu-id="79335-108">If hello Authentication / Authorization feature is not enabled, turn hello switch too**On**.</span></span>
3. <span data-ttu-id="79335-109">Haga clic en **Azure Active Directory** y luego en **Rápida** en **Modo de administración**.</span><span class="sxs-lookup"><span data-stu-id="79335-109">Click **Azure Active Directory**, and then click **Express** under **Management Mode**.</span></span>
4. <span data-ttu-id="79335-110">Haga clic en **Aceptar** tooregister aplicación de hello en Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="79335-110">Click **OK** tooregister hello application in Azure Active Directory.</span></span> <span data-ttu-id="79335-111">Se creará un nuevo registro.</span><span class="sxs-lookup"><span data-stu-id="79335-111">This will create a new registration.</span></span> <span data-ttu-id="79335-112">Si desea toochoose un registro existente en su lugar, haga clic en **seleccionar una aplicación existente** y, a continuación, busque nombre Hola de un registro creado anteriormente en el inquilino.</span><span class="sxs-lookup"><span data-stu-id="79335-112">If you want toochoose an existing registration instead, click **Select an existing app** and then search for hello name of a previously created registration within your tenant.</span></span>
   <span data-ttu-id="79335-113">Haga clic en tooselect de registro de hello y haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="79335-113">Click hello registration tooselect it and click **OK**.</span></span> <span data-ttu-id="79335-114">A continuación, haga clic en **Aceptar** en la hoja de configuración de hello Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="79335-114">Then click **OK** on hello Azure Active Directory settings blade.</span></span>
   
   ![][0]
   
   <span data-ttu-id="79335-115">De forma predeterminada, servicio de aplicaciones proporciona autenticación pero no restringe el contenido de sitio de tooyour de acceso no autorizado y API.</span><span class="sxs-lookup"><span data-stu-id="79335-115">By default, App Service provides authentication but does not restrict authorized access tooyour site content and APIs.</span></span> <span data-ttu-id="79335-116">Debe autorizar a los usuarios en el código de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="79335-116">You must authorize users in your app code.</span></span>
5. <span data-ttu-id="79335-117">(Opcional) toorestrict acceso tooyour tooonly los usuarios del sitio autenticados por Azure Active Directory, establezca **tootake de acción cuando no se autentica la solicitud** demasiado**iniciar sesión con Azure Active Directory**.</span><span class="sxs-lookup"><span data-stu-id="79335-117">(Optional) toorestrict access tooyour site tooonly users authenticated by Azure Active Directory, set **Action tootake when request is not authenticated** too**Log in with Azure Active Directory**.</span></span> <span data-ttu-id="79335-118">Esto exige que todas las solicitudes de autenticación y todas las solicitudes no autenticadas están redirigida tooAzure Active Directory para la autenticación.</span><span class="sxs-lookup"><span data-stu-id="79335-118">This requires that all requests be authenticated, and all unauthenticated requests are redirected tooAzure Active Directory for authentication.</span></span>
6. <span data-ttu-id="79335-119">Haga clic en **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="79335-119">Click **Save**.</span></span>

<span data-ttu-id="79335-120">Ya estás listo toouse Azure Active Directory para la autenticación de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="79335-120">You are now ready toouse Azure Active Directory for authentication in your app.</span></span>

## <span data-ttu-id="79335-121"><a name="advanced"></a>(Método alternativo) Configuración manual de Azure Active Directory con la configuración avanzada</span><span class="sxs-lookup"><span data-stu-id="79335-121"><a name="advanced"> </a>(Alternative method) Manually configure Azure Active Directory with advanced settings</span></span>
<span data-ttu-id="79335-122">También puede elegir tooprovide configuración manualmente.</span><span class="sxs-lookup"><span data-stu-id="79335-122">You can also choose tooprovide configuration settings manually.</span></span> <span data-ttu-id="79335-123">Ésta es la solución de hello preferido si inquilino de AAD Hola desea toouse es diferente del inquilino de hello con el que iniciar sesión en Azure.</span><span class="sxs-lookup"><span data-stu-id="79335-123">This is hello preferred solution if hello AAD tenant you wish toouse is different from hello tenant with which you sign into Azure.</span></span> <span data-ttu-id="79335-124">configuración de hello toocomplete, primero debe crear un registro en Azure Active Directory y, a continuación, debe proporcionar algunos tooApp de detalles de registro de hello servicio.</span><span class="sxs-lookup"><span data-stu-id="79335-124">toocomplete hello configuration, you must first create a registration in Azure Active Directory, and then you must provide some of hello registration details tooApp Service.</span></span>

### <span data-ttu-id="79335-125"><a name="register"></a>Registro de la aplicación con Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="79335-125"><a name="register"> </a>Register your application with Azure Active Directory</span></span>
1. <span data-ttu-id="79335-126">Inicie sesión en toohello [portal de Azure]y navegar por la aplicación tooyour.</span><span class="sxs-lookup"><span data-stu-id="79335-126">Log on toohello [Azure portal], and navigate tooyour application.</span></span> <span data-ttu-id="79335-127">Copie la **Dirección URL**.</span><span class="sxs-lookup"><span data-stu-id="79335-127">Copy your **URL**.</span></span> <span data-ttu-id="79335-128">Utilizará este tooconfigure la aplicación de Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="79335-128">You will use this tooconfigure your Azure Active Directory app.</span></span>
2. <span data-ttu-id="79335-129">Inicie sesión en toohello [portal de Azure clásico] y navegue demasiado**Active Directory**.</span><span class="sxs-lookup"><span data-stu-id="79335-129">Sign in toohello [Azure classic portal] and navigate too**Active Directory**.</span></span>
   
    ![][2]
3. <span data-ttu-id="79335-130">Seleccione el directorio y, a continuación, seleccione hello **aplicaciones** ficha situada en la parte superior de Hola.</span><span class="sxs-lookup"><span data-stu-id="79335-130">Select your directory, and then select hello **Applications** tab at hello top.</span></span> <span data-ttu-id="79335-131">Haga clic en **agregar** en la parte inferior de hello toocreate un nuevo registro de aplicación.</span><span class="sxs-lookup"><span data-stu-id="79335-131">Click **ADD** at hello bottom toocreate a new app registration.</span></span>
4. <span data-ttu-id="79335-132">Haga clic en **Agregar una aplicación que mi organización está desarrollando**.</span><span class="sxs-lookup"><span data-stu-id="79335-132">Click **Add an application my organization is developing**.</span></span>
5. <span data-ttu-id="79335-133">Hola Asistente para agregar la aplicación en la consulta, escriba un **nombre** para su aplicación y haga clic en hello **aplicación Web Y/o API de Web** tipo.</span><span class="sxs-lookup"><span data-stu-id="79335-133">In hello Add Application Wizard, enter a **Name** for your application and click hello  **Web Application And/Or Web API** type.</span></span> <span data-ttu-id="79335-134">A continuación, haga clic en toocontinue.</span><span class="sxs-lookup"><span data-stu-id="79335-134">Then click toocontinue.</span></span>
6. <span data-ttu-id="79335-135">Hola **dirección URL de inicio de sesión** cuadro, pegue la dirección URL de la aplicación hello que copió anteriormente.</span><span class="sxs-lookup"><span data-stu-id="79335-135">In hello **SIGN-ON URL** box, paste hello application URL you copied earlier.</span></span> <span data-ttu-id="79335-136">Escriba esa misma dirección URL en hello **App ID URI** cuadro.</span><span class="sxs-lookup"><span data-stu-id="79335-136">Enter that same URL in hello **App ID URI** box.</span></span> <span data-ttu-id="79335-137">A continuación, haga clic en toocontinue.</span><span class="sxs-lookup"><span data-stu-id="79335-137">Then click toocontinue.</span></span>
7. <span data-ttu-id="79335-138">Una vez que se ha agregado la aplicación hello, haga clic en hello **configurar** ficha. Editar hello **dirección URL de respuesta** en **Single Sign-on** toobe Hola URL de la aplicación en la ruta de acceso de hello, le anexada */.auth/login/aad/callback*.</span><span class="sxs-lookup"><span data-stu-id="79335-138">Once hello application has been added, click hello **Configure** tab. Edit hello **Reply URL** under **Single Sign-on** toobe hello URL of your application appended with hello path, */.auth/login/aad/callback*.</span></span> <span data-ttu-id="79335-139">Por ejemplo: `https://contoso.azurewebsites.net/.auth/login/aad/callback`.</span><span class="sxs-lookup"><span data-stu-id="79335-139">For example, `https://contoso.azurewebsites.net/.auth/login/aad/callback`.</span></span> <span data-ttu-id="79335-140">Asegúrese de que está usando el esquema de hello HTTPS.</span><span class="sxs-lookup"><span data-stu-id="79335-140">Make sure that you are using hello HTTPS scheme.</span></span>
   
    ![][3]
8. <span data-ttu-id="79335-141">Haga clic en **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="79335-141">Click **Save**.</span></span> <span data-ttu-id="79335-142">A continuación, Hola copia **Id. de cliente** para la aplicación hello.</span><span class="sxs-lookup"><span data-stu-id="79335-142">Then copy hello **Client ID** for hello app.</span></span> <span data-ttu-id="79335-143">Va a configurar su aplicación toouse esto más adelante.</span><span class="sxs-lookup"><span data-stu-id="79335-143">You will configure your application toouse this later.</span></span>
9. <span data-ttu-id="79335-144">En la barra de comandos de la parte inferior de hello, haga clic en **ver extremos**y, a continuación, copia Hola **documento de metadatos de federación** dirección URL y descarga que documente o navegue tooit en un explorador.</span><span class="sxs-lookup"><span data-stu-id="79335-144">In hello bottom command bar, click **View Endpoints**, and then copy hello **Federation Metadata Document** URL and download that document or navigate tooit in a browser.</span></span>
10. <span data-ttu-id="79335-145">En la raíz de Hola **EntityDescriptor** elemento, debería haber un **entityID** atributo de formato de hello `https://sts.windows.net/` seguido de un inquilino de tooyour específico de GUID (denominado una "Id. de inquilino").</span><span class="sxs-lookup"><span data-stu-id="79335-145">Within hello root **EntityDescriptor** element, there should be an **entityID** attribute of hello form `https://sts.windows.net/` followed by a GUID specific tooyour tenant (called a "tenant ID").</span></span> <span data-ttu-id="79335-146">Copie este valor, actuará como **URL del emisor**.</span><span class="sxs-lookup"><span data-stu-id="79335-146">Copy this value - it will serve as your **Issuer URL**.</span></span> <span data-ttu-id="79335-147">Va a configurar su aplicación toouse esto más adelante.</span><span class="sxs-lookup"><span data-stu-id="79335-147">You will configure your application toouse this later.</span></span>

### <span data-ttu-id="79335-148"><a name="secrets"></a>Aplicación de agregar Azure Active Directory information tooyour</span><span class="sxs-lookup"><span data-stu-id="79335-148"><a name="secrets"> </a>Add Azure Active Directory information tooyour application</span></span>
1. <span data-ttu-id="79335-149">Nuevo en hello [portal de Azure], navegar por la aplicación tooyour.</span><span class="sxs-lookup"><span data-stu-id="79335-149">Back in hello [Azure portal], navigate tooyour application.</span></span> <span data-ttu-id="79335-150">Haga clic en **Configuración** y luego en **Autenticación/autorización**.</span><span class="sxs-lookup"><span data-stu-id="79335-150">Click **Settings**, and then **Authentication/Authorization**.</span></span>
2. <span data-ttu-id="79335-151">Si no está habilitada la característica de autenticación/autorización de hello, activar conmutador Hola demasiado**en**.</span><span class="sxs-lookup"><span data-stu-id="79335-151">If hello Authentication/Authorization feature is not enabled, turn hello switch too**On**.</span></span>
3. <span data-ttu-id="79335-152">Haga clic en **Azure Active Directory** y luego haga clic en **Avanzada** en **Modo de administración**.</span><span class="sxs-lookup"><span data-stu-id="79335-152">Click **Azure Active Directory**, and then click **Advanced** under **Management Mode**.</span></span> <span data-ttu-id="79335-153">Pegar en hello Id. de cliente y la dirección URL del emisor de valor que se puede obtenida anteriormente.</span><span class="sxs-lookup"><span data-stu-id="79335-153">Paste in hello Client ID and Issuer URL value which you obtained previously.</span></span> <span data-ttu-id="79335-154">y, a continuación, haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="79335-154">Then click **OK**.</span></span>
   
   ![][1]
   
   <span data-ttu-id="79335-155">De forma predeterminada, servicio de aplicaciones proporciona autenticación pero no restringe el contenido de sitio de tooyour de acceso no autorizado y API.</span><span class="sxs-lookup"><span data-stu-id="79335-155">By default, App Service provides authentication but does not restrict authorized access tooyour site content and APIs.</span></span> <span data-ttu-id="79335-156">Debe autorizar a los usuarios en el código de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="79335-156">You must authorize users in your app code.</span></span>
4. <span data-ttu-id="79335-157">(Opcional) toorestrict acceso tooyour tooonly los usuarios del sitio autenticados por Azure Active Directory, establezca **tootake de acción cuando no se autentica la solicitud** demasiado**iniciar sesión con Azure Active Directory**.</span><span class="sxs-lookup"><span data-stu-id="79335-157">(Optional) toorestrict access tooyour site tooonly users authenticated by Azure Active Directory, set **Action tootake when request is not authenticated** too**Log in with Azure Active Directory**.</span></span> <span data-ttu-id="79335-158">Esto exige que todas las solicitudes de autenticación y todas las solicitudes no autenticadas están redirigida tooAzure Active Directory para la autenticación.</span><span class="sxs-lookup"><span data-stu-id="79335-158">This requires that all requests be authenticated, and all unauthenticated requests are redirected tooAzure Active Directory for authentication.</span></span>
5. <span data-ttu-id="79335-159">Haga clic en **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="79335-159">Click **Save**.</span></span>

<span data-ttu-id="79335-160">Ya estás listo toouse Azure Active Directory para la autenticación de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="79335-160">You are now ready toouse Azure Active Directory for authentication in your app.</span></span>

## <a name="optional-configure-a-native-client-application"></a><span data-ttu-id="79335-161">(Opcional) Configurar una aplicación de cliente nativo</span><span class="sxs-lookup"><span data-stu-id="79335-161">(Optional) Configure a native client application</span></span>
<span data-ttu-id="79335-162">Azure Active Directory también permite a tooregister clientes nativos, lo que proporciona mayor control sobre la asignación de permisos.</span><span class="sxs-lookup"><span data-stu-id="79335-162">Azure Active Directory also allows you tooregister native clients, which provides greater control over permissions mapping.</span></span> <span data-ttu-id="79335-163">Lo necesita si desea utilizar una biblioteca como Hola de inicios de sesión de tooperform **biblioteca de autenticación de Active Directory**.</span><span class="sxs-lookup"><span data-stu-id="79335-163">You need this if you wish tooperform logins using a library such as hello **Active Directory Authentication Library**.</span></span>

1. <span data-ttu-id="79335-164">Navegue demasiado**Active Directory** en hello [portal de Azure clásico].</span><span class="sxs-lookup"><span data-stu-id="79335-164">Navigate too**Active Directory** in hello [Azure classic portal].</span></span>
2. <span data-ttu-id="79335-165">Seleccione el directorio y, a continuación, seleccione hello **aplicaciones** ficha situada en la parte superior de Hola.</span><span class="sxs-lookup"><span data-stu-id="79335-165">Select your directory, and then select hello **Applications** tab at hello top.</span></span> <span data-ttu-id="79335-166">Haga clic en **agregar** en la parte inferior de hello toocreate un nuevo registro de aplicación.</span><span class="sxs-lookup"><span data-stu-id="79335-166">Click **ADD** at hello bottom toocreate a new app registration.</span></span>
3. <span data-ttu-id="79335-167">Haga clic en **Agregar una aplicación que mi organización está desarrollando**.</span><span class="sxs-lookup"><span data-stu-id="79335-167">Click **Add an application my organization is developing**.</span></span>
4. <span data-ttu-id="79335-168">Hola Asistente para agregar la aplicación en la consulta, escriba un **nombre** para su aplicación y haga clic en hello **aplicación cliente nativa** tipo.</span><span class="sxs-lookup"><span data-stu-id="79335-168">In hello Add Application Wizard, enter a **Name** for your application and click hello  **Native Client Application** type.</span></span> <span data-ttu-id="79335-169">A continuación, haga clic en toocontinue.</span><span class="sxs-lookup"><span data-stu-id="79335-169">Then click toocontinue.</span></span>
5. <span data-ttu-id="79335-170">Hola **URI de redireccionamiento** cuadro, escriba su sitio */.auth/login/done* punto de conexión, mediante el esquema de hello HTTPS.</span><span class="sxs-lookup"><span data-stu-id="79335-170">In hello **Redirect URI** box, enter your site's */.auth/login/done* endpoint, using hello HTTPS scheme.</span></span> <span data-ttu-id="79335-171">Este valor debe ser similar demasiado*https://contoso.azurewebsites.net/.auth/login/done*.</span><span class="sxs-lookup"><span data-stu-id="79335-171">This value should be similar too*https://contoso.azurewebsites.net/.auth/login/done*.</span></span> <span data-ttu-id="79335-172">Si crea una aplicación de Windows, en su lugar use hello [SID del paquete](app-service-mobile-dotnet-how-to-use-client-library.md#package-sid) como Hola URI.</span><span class="sxs-lookup"><span data-stu-id="79335-172">If creating a Windows application, instead use hello [package SID](app-service-mobile-dotnet-how-to-use-client-library.md#package-sid) as hello URI.</span></span>
6. <span data-ttu-id="79335-173">Una vez que se ha agregado la aplicación nativa de hello, haga clic en hello **configurar** ficha. Buscar hello **Id. de cliente** y tome nota de este valor.</span><span class="sxs-lookup"><span data-stu-id="79335-173">Once hello native application has been added, click hello **Configure** tab. Find hello **Client ID** and make a note of this value.</span></span>
7. <span data-ttu-id="79335-174">Desplazamiento Hola AV PÁG toohello **permisos tooother aplicaciones** sección y haga clic en **Agregar aplicación**.</span><span class="sxs-lookup"><span data-stu-id="79335-174">Scroll hello page down toohello **Permissions tooother applications** section and click **Add application**.</span></span>
8. <span data-ttu-id="79335-175">Busque la aplicación web de Hola que registraron anteriormente y haga clic en el icono de hello más.</span><span class="sxs-lookup"><span data-stu-id="79335-175">Search for hello web application that you registered earlier and click hello plus icon.</span></span> <span data-ttu-id="79335-176">A continuación, haga clic en el cuadro de diálogo de hello comprobación tooclose Hola.</span><span class="sxs-lookup"><span data-stu-id="79335-176">Then click hello check tooclose hello dialog.</span></span> <span data-ttu-id="79335-177">Si la aplicación web de hello no se puede encontrar, desplácese tooits registro y agregar una nueva dirección de URL de respuesta (p. ej., Hola versión HTTP de la dirección URL actual), haga clic en Guardar y, a continuación, repita estos pasos: aplicación hello debería aparecer en la lista de Hola.</span><span class="sxs-lookup"><span data-stu-id="79335-177">If hello web application cannot be found, navigate tooits registration and add a new reply URL (e.g., hello HTTP version of your current URL), click save, and then repeat these steps - hello application should show up in hello list.</span></span>
9. <span data-ttu-id="79335-178">En la que acaba de agregar la entrada nuevo a hello, abra hello **permisos delegados** lista desplegable y seleccione **acceso (appName)**.</span><span class="sxs-lookup"><span data-stu-id="79335-178">On hello new entry you just added, open hello **Delegated Permissions** dropdown and select **Access (appName)**.</span></span> <span data-ttu-id="79335-179">A continuación, haga clic en **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="79335-179">Then click **Save**.</span></span>

<span data-ttu-id="79335-180">Ahora ha configurado una aplicación de cliente nativo que puede acceder a la aplicación del Servicio de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="79335-180">You have now configured a native client application which can access your App Service application.</span></span>

## <span data-ttu-id="79335-181"><a name="related-content"></a>Contenido relacionado</span><span class="sxs-lookup"><span data-stu-id="79335-181"><a name="related-content"> </a>Related Content</span></span>
[!INCLUDE [app-service-mobile-related-content-get-started-users](../../includes/app-service-mobile-related-content-get-started-users.md)]

<!-- Images. -->

[0]: ./media/app-service-mobile-how-to-configure-active-directory-authentication/mobile-app-aad-express-settings.png
[1]: ./media/app-service-mobile-how-to-configure-active-directory-authentication/mobile-app-aad-advanced-settings.png
[2]: ./media/app-service-mobile-how-to-configure-active-directory-authentication/app-service-navigate-aad.png
[3]: ./media/app-service-mobile-how-to-configure-active-directory-authentication/app-service-aad-app-configure.png

<!-- URLs. -->

[Portal de Azure]: https://portal.azure.com/
[Portal de Azure clásico]: https://manage.windowsazure.com/
[alternative method]:#advanced
