---
title: "Configuración de replicación geográfica para Azure Redis Cache | Microsoft Docs"
description: "Obtenga información sobre cómo replicar las instancias de Azure Redis Cache en distintas regiones geográficas."
services: redis-cache
documentationcenter: 
author: steved0x
manager: douge
editor: 
ms.assetid: 375643dc-dbac-4bab-8004-d9ae9570440d
ms.service: cache
ms.workload: tbd
ms.tgt_pltfrm: cache-redis
ms.devlang: na
ms.topic: article
ms.date: 07/06/2017
ms.author: sdanie
ms.openlocfilehash: 71b0d4add7e642487f6d67cda692c500ee78b0e6
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 07/11/2017
---
# <a name="how-to-configure-geo-replication-for-azure-redis-cache"></a><span data-ttu-id="216d2-103">Configuración de replicación geográfica para Azure Redis Cache</span><span class="sxs-lookup"><span data-stu-id="216d2-103">How to configure Geo-replication for Azure Redis Cache</span></span>

<span data-ttu-id="216d2-104">La replicación geográfica proporciona un mecanismo para vincular dos instancias de Azure Redis Cache de nivel Premium.</span><span class="sxs-lookup"><span data-stu-id="216d2-104">Geo-replication provides a mechanism for linking two Premium tier Azure Redis Cache instances.</span></span> <span data-ttu-id="216d2-105">Una memoria caché se designa como la caché vinculada principal y la otra, como la caché vinculada secundaria.</span><span class="sxs-lookup"><span data-stu-id="216d2-105">One cache is designated as the primary linked cache, and the other as the secondary linked cache.</span></span> <span data-ttu-id="216d2-106">La caché vinculada secundaria pasa a ser de solo lectura, por lo que los datos escritos en la caché principal se replican en la caché vinculada secundaria.</span><span class="sxs-lookup"><span data-stu-id="216d2-106">The secondary linked cache becomes read-only, and data written to the primary cache is replicated to the secondary linked cache.</span></span> <span data-ttu-id="216d2-107">Esta funcionalidad se puede usar para replicar una caché en varias regiones de Azure.</span><span class="sxs-lookup"><span data-stu-id="216d2-107">This functionality can be used to replicate a cache across Azure regions.</span></span> <span data-ttu-id="216d2-108">En este artículo se proporciona una guía para configurar la replicación geográfica para las instancias de Azure Redis Cache de nivel Premium.</span><span class="sxs-lookup"><span data-stu-id="216d2-108">This article provides a guide to configuring Geo-replication for your Premium tier Azure Redis Cache instances.</span></span>

## <a name="geo-replication-prerequisites"></a><span data-ttu-id="216d2-109">Requisitos previos de la replicación geográfica</span><span class="sxs-lookup"><span data-stu-id="216d2-109">Geo-replication prerequisites</span></span>

<span data-ttu-id="216d2-110">Para configurar la replicación geográfica entre dos cachés, se deben cumplir los siguientes requisitos:</span><span class="sxs-lookup"><span data-stu-id="216d2-110">To configure Geo-replication between two caches, the following prerequisites must be met:</span></span>

- <span data-ttu-id="216d2-111">Ambas debe ser cachés de [nivel Premium](cache-premium-tier-intro.md).</span><span class="sxs-lookup"><span data-stu-id="216d2-111">Both caches must be [Premium tier](cache-premium-tier-intro.md) caches.</span></span>
- <span data-ttu-id="216d2-112">Ambas cachés deben estar en la misma suscripción de Azure.</span><span class="sxs-lookup"><span data-stu-id="216d2-112">Both caches must be in the same Azure subscription.</span></span>
- <span data-ttu-id="216d2-113">La caché vinculada secundaria debe tener el mismo plan de tarifa o un plan de tarifa mayor que la caché vinculada principal.</span><span class="sxs-lookup"><span data-stu-id="216d2-113">The secondary linked cache must be either the same pricing tier or a larger pricing tier than the primary linked cache.</span></span>
- <span data-ttu-id="216d2-114">Si la caché vinculada principal tiene habilitada la agrupación en clústeres, la caché vinculada secundaria debe tener habilitada la agrupación en clústeres con el mismo número de particiones que la caché vinculada principal.</span><span class="sxs-lookup"><span data-stu-id="216d2-114">If the primary linked cache has clustering enabled, the secondary linked cache must have clustering enabled with the same number of shards as the primary linked cache.</span></span>
- <span data-ttu-id="216d2-115">Ambas cachés deben estar creadas y en ejecución.</span><span class="sxs-lookup"><span data-stu-id="216d2-115">Both caches must be created and in a running state.</span></span>
- <span data-ttu-id="216d2-116">La persistencia no debe estar habilitada en ninguna de las cachés.</span><span class="sxs-lookup"><span data-stu-id="216d2-116">Persistence must not be enabled on either cache.</span></span>
- <span data-ttu-id="216d2-117">Se admite la replicación geográfica entre cachés de la misma VNET.</span><span class="sxs-lookup"><span data-stu-id="216d2-117">Geo-replication between caches in the same VNET is supported.</span></span> <span data-ttu-id="216d2-118">También se admite la replicación geográfica entre cachés en distintas VNET, siempre que ambas VNET estén configurada de manera que los recursos en ellas puedan tener contacto entre sí a través de conexiones TCP.</span><span class="sxs-lookup"><span data-stu-id="216d2-118">Geo-replication between caches in different VNETs is also supported, as long as the two VNETs are configured in such a way that resources in the VNETs are able to reach each other via TCP connections.</span></span>

<span data-ttu-id="216d2-119">Una vez que se configura la replicación geográfica, se aplican las siguientes restricciones al par de cachés vinculadas:</span><span class="sxs-lookup"><span data-stu-id="216d2-119">After Geo-replication is configured, the following restrictions apply to your linked cache pair:</span></span>

- <span data-ttu-id="216d2-120">La caché vinculada secundaria es de solo lectura, porque puede leer de ella, pero no puede escribir datos.</span><span class="sxs-lookup"><span data-stu-id="216d2-120">The secondary linked cache is read-only; you can read from it, but you can't write any data to it.</span></span> 
- <span data-ttu-id="216d2-121">Se quitarán los datos existentes en la caché vinculada secundaria antes de la vinculación.</span><span class="sxs-lookup"><span data-stu-id="216d2-121">Any data that was in the secondary linked cache before the link was added is removed.</span></span> <span data-ttu-id="216d2-122">Sin embargo, si la replicación geográfica se quita posteriormente, los datos replicados permanecen en la caché vinculada secundaria.</span><span class="sxs-lookup"><span data-stu-id="216d2-122">If the Geo-replication is subsequently removed however, the replicated data remains in the secondary linked cache.</span></span>
- <span data-ttu-id="216d2-123">No puede iniciar una [operación de escalado](cache-how-to-scale.md) en ninguna de las caché ni [cambiar el número de particiones](cache-how-to-premium-clustering.md) si la caché tiene habilitada la agrupación en clústeres.</span><span class="sxs-lookup"><span data-stu-id="216d2-123">You can't initiate a [scaling operation](cache-how-to-scale.md) on either cache or [change the number of shards](cache-how-to-premium-clustering.md) if the cache has clustering enabled.</span></span>
- <span data-ttu-id="216d2-124">No puede habilitar la persistencia en ninguna de las cachés.</span><span class="sxs-lookup"><span data-stu-id="216d2-124">You can't enable persistence on either cache.</span></span>
- <span data-ttu-id="216d2-125">Puede usar la [exportación](cache-how-to-import-export-data.md#export) con cualquiera de las cachés, pero solo puede [importar](cache-how-to-import-export-data.md#import) en la caché vinculada principal.</span><span class="sxs-lookup"><span data-stu-id="216d2-125">You can use [Export](cache-how-to-import-export-data.md#export) with either cache, but you can only [Import](cache-how-to-import-export-data.md#import) into the primary linked cache.</span></span>
- <span data-ttu-id="216d2-126">No se puede eliminar la memoria caché vinculada, ni el grupo de recursos que las contiene, hasta que se quite el vínculo de replicación geográfica.</span><span class="sxs-lookup"><span data-stu-id="216d2-126">You can't delete either linked cache, or the resource group that contains them, until you remove the Geo-replication link.</span></span> <span data-ttu-id="216d2-127">Para más información, vea [¿Por qué no se pudo realizar la operación al intentar eliminar la memoria caché vinculada?](#why-did-the-operation-fail-when-i-tried-to-delete-my-linked-cache)</span><span class="sxs-lookup"><span data-stu-id="216d2-127">For more information, see [Why did the operation fail when I tried to delete my linked cache?](#why-did-the-operation-fail-when-i-tried-to-delete-my-linked-cache)</span></span>
- <span data-ttu-id="216d2-128">Si ambas cachés están en regiones distintas, se aplicarán costos de salida de la red a los datos replicados entre las regiones a la caché vinculada secundaria.</span><span class="sxs-lookup"><span data-stu-id="216d2-128">If the two caches are in different regions, network egress costs will apply to the data replicated across regions to the secondary linked cache.</span></span> <span data-ttu-id="216d2-129">Para más información, consulte el artículo sobre [cuánto cuesta replicar datos entre regiones de Azure](#how-much-does-it-cost-to-replicate-my-data-across-azure-regions).</span><span class="sxs-lookup"><span data-stu-id="216d2-129">For more information, see [How much does it cost to replicate my data across Azure regions?](#how-much-does-it-cost-to-replicate-my-data-across-azure-regions)</span></span>
- <span data-ttu-id="216d2-130">No hay conmutación automática por error a la caché vinculada secundaria si la caché principal (y su réplica) deja de funcionar.</span><span class="sxs-lookup"><span data-stu-id="216d2-130">There is no automatic failover to the secondary linked cache if the primary cache (and its replica) go down.</span></span> <span data-ttu-id="216d2-131">Para realizar conmutación por error de aplicaciones cliente, debería quitar manualmente el vínculo de replicación geográfica y dirigir las aplicaciones cliente a la caché que anteriormente era la caché vinculada secundaria.</span><span class="sxs-lookup"><span data-stu-id="216d2-131">In order to failover client applications, you would need to manually remove the Geo-replication link and point the client applications to the cache that was formerly the secondary linked cache.</span></span> <span data-ttu-id="216d2-132">Para más información, consulte [cómo funciona la conmutación por error a la caché vinculada secundaria](#how-does-failing-over-to-the-secondary-linked-cache-work).</span><span class="sxs-lookup"><span data-stu-id="216d2-132">For more information, see [How does failing over to the secondary linked cache work?](#how-does-failing-over-to-the-secondary-linked-cache-work)</span></span>

## <a name="add-a-geo-replication-link"></a><span data-ttu-id="216d2-133">Agregar un vínculo de replicación geográfica</span><span class="sxs-lookup"><span data-stu-id="216d2-133">Add a Geo-replication link</span></span>

1. <span data-ttu-id="216d2-134">Para vincular dos cachés Premium para realizar la replicación geográfica, haga clic en **Replicación geográfica** en el menú Recurso de la caché pensada como la caché vinculada principal y, luego, haga clic en **Add cache replication link** (Agregar vínculo de replicación de caché) en la hoja **Replicación geográfica**.</span><span class="sxs-lookup"><span data-stu-id="216d2-134">To link two premium caches together for geo-replication, click **Geo-replication** from the Resource menu of the cache intended as the primary linked cache, and then click **Add cache replication link** from the **Geo-replication** blade.</span></span>

    ![Agregar vínculo](./media/cache-how-to-geo-replication/cache-geo-location-menu.png)

2. <span data-ttu-id="216d2-136">Haga clic en el nombre de la caché secundaria deseada en la lista **Compatible caches** (Cachés compatibles).</span><span class="sxs-lookup"><span data-stu-id="216d2-136">Click the name of the desired secondary cache from the **Compatible caches** list.</span></span> <span data-ttu-id="216d2-137">Si la caché deseada no aparece en la lista, compruebe que se cumplen los [requisitos previos de replicación geográfica](#geo-replication-prerequisites) para la caché secundaria deseada.</span><span class="sxs-lookup"><span data-stu-id="216d2-137">If your desired cache isn't displayed in the list, verify that the [Geo-replication prerequisites](#geo-replication-prerequisites) for the desired secondary cache are met.</span></span> <span data-ttu-id="216d2-138">Para filtrar las cachés por región, haga clic en la región deseada en el mapa para mostrar solo esas cachés en la lista de **cachés disponibles**.</span><span class="sxs-lookup"><span data-stu-id="216d2-138">To filter the caches by region, click the desired region in the map to display only those caches in the **Compatible caches** list.</span></span>

    ![Cachés compatibles de replicación geográfica](./media/cache-how-to-geo-replication/cache-geo-location-select-link.png)
    
    <span data-ttu-id="216d2-140">También puede iniciar el proceso de vinculación o ver detalles sobre la caché secundaria mediante el menú contextual.</span><span class="sxs-lookup"><span data-stu-id="216d2-140">You can also initiate the linking process or view details about the secondary cache by using the context menu.</span></span>

    ![Menú contextual de replicación geográfica](./media/cache-how-to-geo-replication/cache-geo-location-select-link-context-menu.png)

3. <span data-ttu-id="216d2-142">Haga clic en **Vincular** para vincular las dos cachés y comenzar el proceso de replicación.</span><span class="sxs-lookup"><span data-stu-id="216d2-142">Click **Link** to link the two caches together and begin the replication process.</span></span>

    ![Vincular cachés](./media/cache-how-to-geo-replication/cache-geo-location-confirm-link.png)

4. <span data-ttu-id="216d2-144">Puede ver el progreso del proceso de replicación en la hoja **Replicación geográfica**.</span><span class="sxs-lookup"><span data-stu-id="216d2-144">You can view the progress of the replication process on the **Geo-replication** blade.</span></span>

    ![Estado de la vinculación](./media/cache-how-to-geo-replication/cache-geo-location-linking.png)

    <span data-ttu-id="216d2-146">También puede consultar el estado de la vinculación en la hoja de **información general** para ambas cachés, la principal y la secundaria.</span><span class="sxs-lookup"><span data-stu-id="216d2-146">You can also view the linking status on the **Overview** blade for both the primary and secondary caches.</span></span>

    ![Estado de cachés](./media/cache-how-to-geo-replication/cache-geo-location-link-status.png)

    <span data-ttu-id="216d2-148">Una vez que se completa el proceso de replicación, el **estado del vínculo** cambia a **Correcto**.</span><span class="sxs-lookup"><span data-stu-id="216d2-148">Once the replication process is complete, the **Link status** changes to **Succeeded**.</span></span>

    ![Estado de cachés](./media/cache-how-to-geo-replication/cache-geo-location-link-successful.png)

    <span data-ttu-id="216d2-150">Durante el proceso de vinculación, la caché vinculada principal sigue disponible para su uso, pero la caché vinculada secundaria no está disponible hasta que se complete el proceso de vinculación.</span><span class="sxs-lookup"><span data-stu-id="216d2-150">During the linking process, the primary linked cache remains available for use but the secondary linked cache is not available until the linking process completes.</span></span>

## <a name="remove-a-geo-replication-link"></a><span data-ttu-id="216d2-151">Quitar un vínculo de replicación geográfica</span><span class="sxs-lookup"><span data-stu-id="216d2-151">Remove a Geo-replication link</span></span>

1. <span data-ttu-id="216d2-152">Para quitar el vínculo entre dos cachés y detener la replicación geográfica, haga clic en **Unlink caches** (Desvincular cachés) en la hoja **Replicación geográfica**.</span><span class="sxs-lookup"><span data-stu-id="216d2-152">To remove the link between two caches and stop Geo-replication, click **Unlink caches** from the **Geo-replication** blade.</span></span>
    
    ![Desvincular cachés](./media/cache-how-to-geo-replication/cache-geo-location-unlink.png)

    <span data-ttu-id="216d2-154">Una vez que se completa el proceso de desvinculación, la caché secundaria queda disponible tanto para lecturas como para escrituras.</span><span class="sxs-lookup"><span data-stu-id="216d2-154">When the unlinking process completes, the secondary cache is available for both reads and writes.</span></span>

>[!NOTE]
><span data-ttu-id="216d2-155">Cuando se quita el vínculo de replicación geográfica, los datos replicados de la caché vinculada principal se mantienen en la caché secundaria.</span><span class="sxs-lookup"><span data-stu-id="216d2-155">When the Geo-replication link is removed, the replicated data from the primary linked cache remains in the secondary cache.</span></span>
>
>

## <a name="geo-replication-faq"></a><span data-ttu-id="216d2-156">Preguntas más frecuentes sobre la replicación geográfica</span><span class="sxs-lookup"><span data-stu-id="216d2-156">Geo-replication FAQ</span></span>

- [<span data-ttu-id="216d2-157">¿Puedo usar la replicación geográfica con una caché de nivel Estándar o Básico?</span><span class="sxs-lookup"><span data-stu-id="216d2-157">Can I use Geo-replication with a Standard or Basic tier cache?</span></span>](#can-i-use-geo-replication-with-a-standard-or-basic-tier-cache)
- [<span data-ttu-id="216d2-158">¿La caché está disponible para usarla durante los procesos de vinculación o desvinculación?</span><span class="sxs-lookup"><span data-stu-id="216d2-158">Is my cache available for use during the linking or unlinking process?</span></span>](#is-my-cache-available-for-use-during-the-linking-or-unlinking-process)
- [<span data-ttu-id="216d2-159">¿Puedo vincular más de dos cachés?</span><span class="sxs-lookup"><span data-stu-id="216d2-159">Can I link more than two caches together?</span></span>](#can-i-link-more-than-two-caches-together)
- [<span data-ttu-id="216d2-160">¿Puedo vincular dos cachés de distintas suscripciones de Azure?</span><span class="sxs-lookup"><span data-stu-id="216d2-160">Can I link two caches from different Azure subscriptions?</span></span>](#can-i-link-two-caches-from-different-azure-subscriptions)
- [<span data-ttu-id="216d2-161">¿Puedo vincular dos cachés de tamaños distintos?</span><span class="sxs-lookup"><span data-stu-id="216d2-161">Can I link two caches with different sizes?</span></span>](#can-i-link-two-caches-with-different-sizes)
- [<span data-ttu-id="216d2-162">¿Puedo usar la replicación geográfica con agrupación en clústeres habilitada?</span><span class="sxs-lookup"><span data-stu-id="216d2-162">Can I use Geo-replication with clustering enabled?</span></span>](#can-i-use-geo-replication-with-clustering-enabled)
- [<span data-ttu-id="216d2-163">¿Puedo usar la replicación geográfica con cachés en una VNET?</span><span class="sxs-lookup"><span data-stu-id="216d2-163">Can I use Geo-replication with my caches in a VNET?</span></span>](#can-i-use-geo-replication-with-my-caches-in-a-vnet)
- [<span data-ttu-id="216d2-164">¿Puedo usar PowerShell o la CLI de Azure para administrar la replicación geográfica?</span><span class="sxs-lookup"><span data-stu-id="216d2-164">Can I use PowerShell or Azure CLI to manage Geo-replication?</span></span>](#can-i-use-powershell-or-azure-cli-to-manage-geo-replication)
- [<span data-ttu-id="216d2-165">¿Cuánto cuesta replicar datos entre regiones de Azure?</span><span class="sxs-lookup"><span data-stu-id="216d2-165">How much does it cost to replicate my data across Azure regions?</span></span>](#how-much-does-it-cost-to-replicate-my-data-across-azure-regions)
- [<span data-ttu-id="216d2-166">¿Por qué no se pudo realizar la operación al intentar eliminar la memoria caché vinculada?</span><span class="sxs-lookup"><span data-stu-id="216d2-166">Why did the operation fail when I tried to delete my linked cache?</span></span>](#why-did-the-operation-fail-when-i-tried-to-delete-my-linked-cache)
- [<span data-ttu-id="216d2-167">¿Qué región se debe usar para la caché vinculada secundaria?</span><span class="sxs-lookup"><span data-stu-id="216d2-167">What region should I use for my secondary linked cache?</span></span>](#what-region-should-i-use-for-my-secondary-linked-cache)
- [<span data-ttu-id="216d2-168">¿Cómo funciona la conmutación por error a la caché vinculada secundaria?</span><span class="sxs-lookup"><span data-stu-id="216d2-168">How does failing over to the secondary linked cache work?</span></span>](#how-does-failing-over-to-the-secondary-linked-cache-work)

### <a name="can-i-use-geo-replication-with-a-standard-or-basic-tier-cache"></a><span data-ttu-id="216d2-169">¿Puedo usar la replicación geográfica con una caché de nivel Estándar o Básico?</span><span class="sxs-lookup"><span data-stu-id="216d2-169">Can I use Geo-replication with a Standard or Basic tier cache?</span></span>

<span data-ttu-id="216d2-170">No, la replicación geográfica solo está disponible para las cachés de nivel Premium.</span><span class="sxs-lookup"><span data-stu-id="216d2-170">No, Geo-replication is only available for Premium tier caches.</span></span>

### <a name="is-my-cache-available-for-use-during-the-linking-or-unlinking-process"></a><span data-ttu-id="216d2-171">¿La caché está disponible para usarla durante los procesos de vinculación o desvinculación?</span><span class="sxs-lookup"><span data-stu-id="216d2-171">Is my cache available for use during the linking or unlinking process?</span></span>

- <span data-ttu-id="216d2-172">Cuando se vinculan dos cachés para realizar la replicación geográfica, la caché vinculada principal sigue disponible para su uso, pero la caché vinculada secundaria no está disponible hasta que se complete el proceso de vinculación.</span><span class="sxs-lookup"><span data-stu-id="216d2-172">When linking two caches together for Geo-replication, the primary linked cache remains available for use but the secondary linked cache is not available until the linking process completes.</span></span>
- <span data-ttu-id="216d2-173">Cuando se quita el vínculo de replicación geográfica entre dos cachés, ambas siguen disponibles para su uso.</span><span class="sxs-lookup"><span data-stu-id="216d2-173">When removing the Geo-replication link between two caches, both caches remain available for use.</span></span>

### <a name="can-i-link-more-than-two-caches-together"></a><span data-ttu-id="216d2-174">¿Puedo vincular más de dos cachés?</span><span class="sxs-lookup"><span data-stu-id="216d2-174">Can I link more than two caches together?</span></span>

<span data-ttu-id="216d2-175">No, solo puede vincular dos cachés cuando se usa la replicación geográfica.</span><span class="sxs-lookup"><span data-stu-id="216d2-175">No, when using Geo-replication you can only link two caches together.</span></span>

### <a name="can-i-link-two-caches-from-different-azure-subscriptions"></a><span data-ttu-id="216d2-176">¿Puedo vincular dos cachés de distintas suscripciones de Azure?</span><span class="sxs-lookup"><span data-stu-id="216d2-176">Can I link two caches from different Azure subscriptions?</span></span>

<span data-ttu-id="216d2-177">No, ambas cachés deben estar en la misma suscripción de Azure.</span><span class="sxs-lookup"><span data-stu-id="216d2-177">No, both caches must be in the same Azure subscription.</span></span>

### <a name="can-i-link-two-caches-with-different-sizes"></a><span data-ttu-id="216d2-178">¿Puedo vincular dos cachés de tamaños distintos?</span><span class="sxs-lookup"><span data-stu-id="216d2-178">Can I link two caches with different sizes?</span></span>

<span data-ttu-id="216d2-179">Sí, siempre que la caché vinculada secundaria sea mayor que la caché vinculada principal.</span><span class="sxs-lookup"><span data-stu-id="216d2-179">Yes, as long as the secondary linked cache is larger than the primary linked cache.</span></span>

### <a name="can-i-use-geo-replication-with-clustering-enabled"></a><span data-ttu-id="216d2-180">¿Puedo usar la replicación geográfica con agrupación en clústeres habilitada?</span><span class="sxs-lookup"><span data-stu-id="216d2-180">Can I use Geo-replication with clustering enabled?</span></span>

<span data-ttu-id="216d2-181">Sí, siempre que ambas cachés tengan la misma cantidad de particiones.</span><span class="sxs-lookup"><span data-stu-id="216d2-181">Yes, as long as both caches have the same number of shards.</span></span>

### <a name="can-i-use-geo-replication-with-my-caches-in-a-vnet"></a><span data-ttu-id="216d2-182">¿Puedo usar la replicación geográfica con cachés en una VNET?</span><span class="sxs-lookup"><span data-stu-id="216d2-182">Can I use Geo-replication with my caches in a VNET?</span></span>

<span data-ttu-id="216d2-183">Sí, se admite la replicación geográfica de cachés en VNET.</span><span class="sxs-lookup"><span data-stu-id="216d2-183">Yes, Geo-replication of caches in VNETs are supported.</span></span> 

- <span data-ttu-id="216d2-184">Se admite la replicación geográfica entre cachés de la misma VNET.</span><span class="sxs-lookup"><span data-stu-id="216d2-184">Geo-replication between caches in the same VNET is supported.</span></span>
- <span data-ttu-id="216d2-185">También se admite la replicación geográfica entre cachés en distintas VNET, siempre que ambas VNET estén configurada de manera que los recursos en ellas puedan tener contacto entre sí a través de conexiones TCP.</span><span class="sxs-lookup"><span data-stu-id="216d2-185">Geo-replication between caches in different VNETs is also supported, as long as the two VNETs are configured in such a way that resources in the VNETs are able to reach each other via TCP connections.</span></span>

### <a name="can-i-use-powershell-or-azure-cli-to-manage-geo-replication"></a><span data-ttu-id="216d2-186">¿Puedo usar PowerShell o la CLI de Azure para administrar la replicación geográfica?</span><span class="sxs-lookup"><span data-stu-id="216d2-186">Can I use PowerShell or Azure CLI to manage Geo-replication?</span></span>

<span data-ttu-id="216d2-187">En este momento, solo puede administrar la replicación geográfica mediante Azure Portal.</span><span class="sxs-lookup"><span data-stu-id="216d2-187">At this time you can only manage Geo-replication using the Azure portal.</span></span>

### <a name="how-much-does-it-cost-to-replicate-my-data-across-azure-regions"></a><span data-ttu-id="216d2-188">¿Cuánto cuesta replicar datos entre regiones de Azure?</span><span class="sxs-lookup"><span data-stu-id="216d2-188">How much does it cost to replicate my data across Azure regions?</span></span>

<span data-ttu-id="216d2-189">Cuando usa la replicación geográfica, los datos de la caché vinculada principal se replican a la caché vinculada secundaria.</span><span class="sxs-lookup"><span data-stu-id="216d2-189">When using Geo-replication, data from the primary linked cache is replicated to the secondary linked cache.</span></span> <span data-ttu-id="216d2-190">Si las dos cachés vinculadas están en la misma región de Azure, no hay ningún cargo por la transferencia de datos.</span><span class="sxs-lookup"><span data-stu-id="216d2-190">If the two linked caches are in the same Azure region, there is no charge for the data transfer.</span></span> <span data-ttu-id="216d2-191">Si las dos cachés vinculadas se encuentran en regiones de Azure distintas, el cargo por transferencia de datos de replicación geográfica es el costo de ancho de banda por replicar esos datos a la otra región de Azure.</span><span class="sxs-lookup"><span data-stu-id="216d2-191">If the two linked caches are in different Azure regions, the Geo-Replication data transfer charge is the bandwidth cost of replicating that data to the other Azure region.</span></span> <span data-ttu-id="216d2-192">Para más información, consulte [Detalles de precios de ancho de banda](https://azure.microsoft.com/pricing/details/bandwidth/).</span><span class="sxs-lookup"><span data-stu-id="216d2-192">For more information, see [Bandwidth Pricing Details](https://azure.microsoft.com/pricing/details/bandwidth/).</span></span>

### <a name="why-did-the-operation-fail-when-i-tried-to-delete-my-linked-cache"></a><span data-ttu-id="216d2-193">¿Por qué no se pudo realizar la operación al intentar eliminar la memoria caché vinculada?</span><span class="sxs-lookup"><span data-stu-id="216d2-193">Why did the operation fail when I tried to delete my linked cache?</span></span>

<span data-ttu-id="216d2-194">Cuando hay dos cachés vinculadas entre sí, no se puede eliminar ninguna de ellas ni el grupo de recursos que las contiene hasta que se quite el vínculo de replicación geográfica.</span><span class="sxs-lookup"><span data-stu-id="216d2-194">When two caches are linked together, you can't delete either cache or the resource group that contains them until you remove the Geo-replication link.</span></span> <span data-ttu-id="216d2-195">Si intenta eliminar el grupo de recursos que contiene una o las dos cachés vinculadas, se eliminan los otros recursos del grupo de recursos, pero el grupo de recursos permanece en el estado `deleting` y las cachés en el grupo de recursos permanecen en el estado `running`.</span><span class="sxs-lookup"><span data-stu-id="216d2-195">If you attempt to delete the resource group that contains one or both of the linked caches, the other resources in the resource group are deleted, but the resource group stays in the `deleting` state and any linked caches in the resource group remain in the `running` state.</span></span> <span data-ttu-id="216d2-196">Para completar la eliminación del grupo de recursos y las cachés vinculadas dentro de él, rompa el vínculo de replicación geográfica, como se describe en [Quitar un vínculo de replicación geográfica](#remove-a-geo-replication-link).</span><span class="sxs-lookup"><span data-stu-id="216d2-196">To complete the deletion of the resource group and the linked caches within it, break the Geo-replication link as described in [Remove a Geo-replication link](#remove-a-geo-replication-link).</span></span>

### <a name="what-region-should-i-use-for-my-secondary-linked-cache"></a><span data-ttu-id="216d2-197">¿Qué región se debe usar para la caché vinculada secundaria?</span><span class="sxs-lookup"><span data-stu-id="216d2-197">What region should I use for my secondary linked cache?</span></span>

<span data-ttu-id="216d2-198">En general, se recomienda que la caché esté en la misma región de Azure que la aplicación que accede a ella.</span><span class="sxs-lookup"><span data-stu-id="216d2-198">In general, it is recommended for your cache to exist in the same Azure region as the application that accesses it.</span></span> <span data-ttu-id="216d2-199">Si la aplicación tiene una región principal y de reserva, las cachés principal y secundaria deben existir en esas mismas regiones.</span><span class="sxs-lookup"><span data-stu-id="216d2-199">If your application has a primary and fallback region, then your primary and secondary caches should exist in those same regions.</span></span> <span data-ttu-id="216d2-200">Para más información sobre regiones emparejadas, consulte el artículo sobre [procedimientos recomendados: regiones emparejadas de Azure](../best-practices-availability-paired-regions.md).</span><span class="sxs-lookup"><span data-stu-id="216d2-200">For more information about paired regions, see [Best Practices – Azure Paired regions](../best-practices-availability-paired-regions.md).</span></span>

### <a name="how-does-failing-over-to-the-secondary-linked-cache-work"></a><span data-ttu-id="216d2-201">¿Cómo funciona la conmutación por error a la caché vinculada secundaria?</span><span class="sxs-lookup"><span data-stu-id="216d2-201">How does failing over to the secondary linked cache work?</span></span>

<span data-ttu-id="216d2-202">En la versión inicial de la replicación geográfica, Azure Redis Cache no admite la conmutación automática por error entre regiones de Azure.</span><span class="sxs-lookup"><span data-stu-id="216d2-202">In the initial release of Geo-replication, Azure Redis Cache does not support automatic failover across Azure regions.</span></span> <span data-ttu-id="216d2-203">La replicación geográfica se usa principalmente en un escenario de recuperación ante desastres.</span><span class="sxs-lookup"><span data-stu-id="216d2-203">Geo-replication is used primarily in a disaster recovery scenario.</span></span> <span data-ttu-id="216d2-204">En un escenario de recuperación ante desastres, los clientes deben abordar toda la pila de aplicaciones en una región de copia de seguridad de manera coordinada, en lugar de permitir que cada componente de la aplicación decida por sí mismo cuándo cambiar a sus copias de seguridad.</span><span class="sxs-lookup"><span data-stu-id="216d2-204">In a distater recovery scenario, customers should bring up the entire application stack in a backup region in a coordinated manner rather than letting individual application components decide when to switch to their backups on their own.</span></span> <span data-ttu-id="216d2-205">Esto resulta especialmente relevante para Redis.</span><span class="sxs-lookup"><span data-stu-id="216d2-205">This is especially relevant to Redis.</span></span> <span data-ttu-id="216d2-206">Uno de los beneficios clave de Redis es que se trata de un almacén de latencia muy baja.</span><span class="sxs-lookup"><span data-stu-id="216d2-206">One of the key benefits of Redis is that it is a very low-latency store.</span></span> <span data-ttu-id="216d2-207">Si la instancia de Redis que una aplicación usa realiza la conmutación por error a una región de Azure distinta pero el nivel de proceso no, el tiempo del recorrido de ida y vuelta tendría un evidente impacto en el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="216d2-207">If Redis used by an application fails over to a different Azure region but the compute tier does not, the added round trip time would have a noticeable impact on performance.</span></span> <span data-ttu-id="216d2-208">Por este motivo, nos gustaría evitar que Redis realice automáticamente la conmutación por error debido a problemas transitorios de disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="216d2-208">For this reason, we would like to avoid Redis failing over automatically due to transient availability issues.</span></span>

<span data-ttu-id="216d2-209">Actualmente, para iniciar la conmutación por error, es necesario quitar el vínculo de replicación geográfica en Azure Portal y, luego, cambiar el punto de conexión del cliente Redis de la caché vinculada principal a la caché secundaria (anteriormente vinculada).</span><span class="sxs-lookup"><span data-stu-id="216d2-209">Currently, to initiate the failover, you need to remove the Geo-replication link in the Azure portal, and then change the connection end-point in the Redis client from the primary linked cache to the (formerly linked) secondary cache.</span></span> <span data-ttu-id="216d2-210">Cuando se elimina la asociación de ambas cachés, la réplica se vuelve a convertir en una caché normal de lectura y escritura y acepta solicitudes directamente de los clientes Redis.</span><span class="sxs-lookup"><span data-stu-id="216d2-210">When the two caches are disassociated, the replica becomes a regular read-write cache again and accepts requests directly from Redis clients.</span></span>


## <a name="next-steps"></a><span data-ttu-id="216d2-211">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="216d2-211">Next steps</span></span>

<span data-ttu-id="216d2-212">Más información sobre el [nivel Premium de Azure Redis Cache](cache-premium-tier-intro.md).</span><span class="sxs-lookup"><span data-stu-id="216d2-212">Learn more about the [Azure Redis Cache Premium tier](cache-premium-tier-intro.md).</span></span>

