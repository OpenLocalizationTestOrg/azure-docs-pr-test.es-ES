---
title: "aaaHow tooconfigure replicación geográfica para caché en Redis de Azure | Documentos de Microsoft"
description: "Obtenga información acerca de cómo tooreplicate instancias de la memoria caché en Redis de Azure regiones geográficas."
services: redis-cache
documentationcenter: 
author: steved0x
manager: douge
editor: 
ms.assetid: 375643dc-dbac-4bab-8004-d9ae9570440d
ms.service: cache
ms.workload: tbd
ms.tgt_pltfrm: cache-redis
ms.devlang: na
ms.topic: article
ms.date: 07/06/2017
ms.author: sdanie
ms.openlocfilehash: edcd6f202b51055d1a4e47ecaf11f9977d50aa81
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="how-tooconfigure-geo-replication-for-azure-redis-cache"></a><span data-ttu-id="25725-103">¿Cómo tooconfigure replicación geográfica para caché en Redis de Azure</span><span class="sxs-lookup"><span data-stu-id="25725-103">How tooconfigure Geo-replication for Azure Redis Cache</span></span>

<span data-ttu-id="25725-104">La replicación geográfica proporciona un mecanismo para vincular dos instancias de Azure Redis Cache de nivel Premium.</span><span class="sxs-lookup"><span data-stu-id="25725-104">Geo-replication provides a mechanism for linking two Premium tier Azure Redis Cache instances.</span></span> <span data-ttu-id="25725-105">Una memoria caché se designa como caché primaria vinculada de Hola y Hola otro como caché secundaria vinculado de Hola.</span><span class="sxs-lookup"><span data-stu-id="25725-105">One cache is designated as hello primary linked cache, and hello other as hello secondary linked cache.</span></span> <span data-ttu-id="25725-106">caché secundaria vinculado de Hello pasa a ser de solo lectura, y datos de caché principal toohello escrito es replican toohello secundario vinculado caché.</span><span class="sxs-lookup"><span data-stu-id="25725-106">hello secondary linked cache becomes read-only, and data written toohello primary cache is replicated toohello secondary linked cache.</span></span> <span data-ttu-id="25725-107">Esta funcionalidad puede ser tooreplicate usa una memoria caché en regiones de Azure.</span><span class="sxs-lookup"><span data-stu-id="25725-107">This functionality can be used tooreplicate a cache across Azure regions.</span></span> <span data-ttu-id="25725-108">Este artículo proporciona una guía tooconfiguring replicación geográfica para las instancias de caché en Redis de Azure de nivel Premium.</span><span class="sxs-lookup"><span data-stu-id="25725-108">This article provides a guide tooconfiguring Geo-replication for your Premium tier Azure Redis Cache instances.</span></span>

## <a name="geo-replication-prerequisites"></a><span data-ttu-id="25725-109">Requisitos previos de la replicación geográfica</span><span class="sxs-lookup"><span data-stu-id="25725-109">Geo-replication prerequisites</span></span>

<span data-ttu-id="25725-110">debe cumplirse tooconfigure replicación geográfica entre dos cachés, Hola siguiendo los requisitos previos:</span><span class="sxs-lookup"><span data-stu-id="25725-110">tooconfigure Geo-replication between two caches, hello following prerequisites must be met:</span></span>

- <span data-ttu-id="25725-111">Ambas debe ser cachés de [nivel Premium](cache-premium-tier-intro.md).</span><span class="sxs-lookup"><span data-stu-id="25725-111">Both caches must be [Premium tier](cache-premium-tier-intro.md) caches.</span></span>
- <span data-ttu-id="25725-112">Las memorias caché deben estar en hello misma suscripción de Azure.</span><span class="sxs-lookup"><span data-stu-id="25725-112">Both caches must be in hello same Azure subscription.</span></span>
- <span data-ttu-id="25725-113">caché secundaria vinculado de Hola debe o bien ser Hola mismo nivel o un mayor nivel de precios que Hola principal vinculado la memoria caché de precios.</span><span class="sxs-lookup"><span data-stu-id="25725-113">hello secondary linked cache must be either hello same pricing tier or a larger pricing tier than hello primary linked cache.</span></span>
- <span data-ttu-id="25725-114">Si Hola principal vinculado en caché tiene habilitada de agrupación en clústeres, caché secundaria vinculado de hello debe tener habilitado con hello de agrupación en clústeres mismo número de particiones que caché primaria vinculada de Hola.</span><span class="sxs-lookup"><span data-stu-id="25725-114">If hello primary linked cache has clustering enabled, hello secondary linked cache must have clustering enabled with hello same number of shards as hello primary linked cache.</span></span>
- <span data-ttu-id="25725-115">Ambas cachés deben estar creadas y en ejecución.</span><span class="sxs-lookup"><span data-stu-id="25725-115">Both caches must be created and in a running state.</span></span>
- <span data-ttu-id="25725-116">La persistencia no debe estar habilitada en ninguna de las cachés.</span><span class="sxs-lookup"><span data-stu-id="25725-116">Persistence must not be enabled on either cache.</span></span>
- <span data-ttu-id="25725-117">Replicación geográfica entre las memorias caché de Hola que se admite la misma red virtual.</span><span class="sxs-lookup"><span data-stu-id="25725-117">Geo-replication between caches in hello same VNET is supported.</span></span> <span data-ttu-id="25725-118">También se admite la replicación geográfica entre las memorias caché en redes virtuales diferentes, como redes virtuales Hola dos están configuradas de manera que los recursos en redes virtuales Hola son tooreach pueda entre sí a través de las conexiones TCP.</span><span class="sxs-lookup"><span data-stu-id="25725-118">Geo-replication between caches in different VNETs is also supported, as long as hello two VNETs are configured in such a way that resources in hello VNETs are able tooreach each other via TCP connections.</span></span>

<span data-ttu-id="25725-119">Después de configurar la replicación geográfica, hello las restricciones siguientes aplican tooyour par de caché vinculado:</span><span class="sxs-lookup"><span data-stu-id="25725-119">After Geo-replication is configured, hello following restrictions apply tooyour linked cache pair:</span></span>

- <span data-ttu-id="25725-120">caché secundaria vinculado de Hello es de solo lectura; puede leer de él, pero no se puede escribir cualquier tooit de datos.</span><span class="sxs-lookup"><span data-stu-id="25725-120">hello secondary linked cache is read-only; you can read from it, but you can't write any data tooit.</span></span> 
- <span data-ttu-id="25725-121">Se quita cualquier dato que estaba en caché de hello secundaria vinculado antes de que se agregó el vínculo de Hola.</span><span class="sxs-lookup"><span data-stu-id="25725-121">Any data that was in hello secondary linked cache before hello link was added is removed.</span></span> <span data-ttu-id="25725-122">Si hello replicación geográfica es posteriormente, se elimina sin embargo, Hola replica datos permanecen en memoria caché vinculado secundaria Hola.</span><span class="sxs-lookup"><span data-stu-id="25725-122">If hello Geo-replication is subsequently removed however, hello replicated data remains in hello secondary linked cache.</span></span>
- <span data-ttu-id="25725-123">No se puede iniciar un [la operación de escalado](cache-how-to-scale.md) en cualquier caché o [cambiar Hola número de particiones](cache-how-to-premium-clustering.md) si hello en caché tiene habilitada de agrupación en clústeres.</span><span class="sxs-lookup"><span data-stu-id="25725-123">You can't initiate a [scaling operation](cache-how-to-scale.md) on either cache or [change hello number of shards](cache-how-to-premium-clustering.md) if hello cache has clustering enabled.</span></span>
- <span data-ttu-id="25725-124">No puede habilitar la persistencia en ninguna de las cachés.</span><span class="sxs-lookup"><span data-stu-id="25725-124">You can't enable persistence on either cache.</span></span>
- <span data-ttu-id="25725-125">Puede usar [exportar](cache-how-to-import-export-data.md#export) con cualquier caché, pero sólo puede [importación](cache-how-to-import-export-data.md#import) en hello principal vinculado caché.</span><span class="sxs-lookup"><span data-stu-id="25725-125">You can use [Export](cache-how-to-import-export-data.md#export) with either cache, but you can only [Import](cache-how-to-import-export-data.md#import) into hello primary linked cache.</span></span>
- <span data-ttu-id="25725-126">No se puede eliminar caché vinculado o grupo de recursos de Hola que los contiene, hasta que quite el vínculo de replicación geográfica de Hola.</span><span class="sxs-lookup"><span data-stu-id="25725-126">You can't delete either linked cache, or hello resource group that contains them, until you remove hello Geo-replication link.</span></span> <span data-ttu-id="25725-127">Para obtener más información, vea [¿por qué operación Hola producirá un error cuando se ha intentado toodelete mi caché vinculado?](#why-did-the-operation-fail-when-i-tried-to-delete-my-linked-cache)</span><span class="sxs-lookup"><span data-stu-id="25725-127">For more information, see [Why did hello operation fail when I tried toodelete my linked cache?](#why-did-the-operation-fail-when-i-tried-to-delete-my-linked-cache)</span></span>
- <span data-ttu-id="25725-128">Si dos cachés de Hola se encuentran en regiones diferentes, los costos de salida de red aplicarán toohello datos que se replican a través de la caché de las regiones toohello secundaria vinculado.</span><span class="sxs-lookup"><span data-stu-id="25725-128">If hello two caches are in different regions, network egress costs will apply toohello data replicated across regions toohello secondary linked cache.</span></span> <span data-ttu-id="25725-129">¿Para obtener más información, vea [cuánto cuesta tooreplicate Mis datos en regiones de Azure?](#how-much-does-it-cost-to-replicate-my-data-across-azure-regions)</span><span class="sxs-lookup"><span data-stu-id="25725-129">For more information, see [How much does it cost tooreplicate my data across Azure regions?](#how-much-does-it-cost-to-replicate-my-data-across-azure-regions)</span></span>
- <span data-ttu-id="25725-130">No hay ninguna caché vinculado secundaria de toohello de conmutación automática por error si la caché principal de hello (y su réplica) dejan de funcionar.</span><span class="sxs-lookup"><span data-stu-id="25725-130">There is no automatic failover toohello secondary linked cache if hello primary cache (and its replica) go down.</span></span> <span data-ttu-id="25725-131">En las aplicaciones de cliente de orden toofailover, necesitaría toomanually Quitar vínculo de replicación geográfica de Hola y punto toohello de las aplicaciones de cliente de Hola de caché que antes era caché secundaria vinculado de Hola.</span><span class="sxs-lookup"><span data-stu-id="25725-131">In order toofailover client applications, you would need toomanually remove hello Geo-replication link and point hello client applications toohello cache that was formerly hello secondary linked cache.</span></span> <span data-ttu-id="25725-132">¿Para obtener más información, vea [cómo funciona la caché vinculado secundaria toohello la conmutación por error?](#how-does-failing-over-to-the-secondary-linked-cache-work)</span><span class="sxs-lookup"><span data-stu-id="25725-132">For more information, see [How does failing over toohello secondary linked cache work?](#how-does-failing-over-to-the-secondary-linked-cache-work)</span></span>

## <a name="add-a-geo-replication-link"></a><span data-ttu-id="25725-133">Agregar un vínculo de replicación geográfica</span><span class="sxs-lookup"><span data-stu-id="25725-133">Add a Geo-replication link</span></span>

1. <span data-ttu-id="25725-134">toolink dos premium almacena en caché juntos para la replicación geográfica, haga clic en **georreplicación** en el menú de recursos de hello del caché Hola pensado como Hola principal vinculado almacenar en caché y, a continuación, haga clic en **vínculo de replicación Agregar caché**de hello **georreplicación** hoja.</span><span class="sxs-lookup"><span data-stu-id="25725-134">toolink two premium caches together for geo-replication, click **Geo-replication** from hello Resource menu of hello cache intended as hello primary linked cache, and then click **Add cache replication link** from hello **Geo-replication** blade.</span></span>

    ![Agregar vínculo](./media/cache-how-to-geo-replication/cache-geo-location-menu.png)

2. <span data-ttu-id="25725-136">Haga clic en nombre de Hola de hello deseado caché secundaria de hello **cachés compatibles** lista.</span><span class="sxs-lookup"><span data-stu-id="25725-136">Click hello name of hello desired secondary cache from hello **Compatible caches** list.</span></span> <span data-ttu-id="25725-137">Si la memoria caché deseada no se muestra en la lista de hello, compruebe que hello [requisitos previos de replicación geográfica](#geo-replication-prerequisites) para hello deseado caché secundaria se cumplen.</span><span class="sxs-lookup"><span data-stu-id="25725-137">If your desired cache isn't displayed in hello list, verify that hello [Geo-replication prerequisites](#geo-replication-prerequisites) for hello desired secondary cache are met.</span></span> <span data-ttu-id="25725-138">toofilter Hola cachés por región, haga clic en la región deseada de hello en hello mapa toodisplay solo las cachés de hello **cachés compatibles** lista.</span><span class="sxs-lookup"><span data-stu-id="25725-138">toofilter hello caches by region, click hello desired region in hello map toodisplay only those caches in hello **Compatible caches** list.</span></span>

    ![Cachés compatibles de replicación geográfica](./media/cache-how-to-geo-replication/cache-geo-location-select-link.png)
    
    <span data-ttu-id="25725-140">También puede iniciar Hola vinculación proceso o ver detalles acerca de la memoria caché secundaria de hello utilizando el menú contextual de Hola.</span><span class="sxs-lookup"><span data-stu-id="25725-140">You can also initiate hello linking process or view details about hello secondary cache by using hello context menu.</span></span>

    ![Menú contextual de replicación geográfica](./media/cache-how-to-geo-replication/cache-geo-location-select-link-context-menu.png)

3. <span data-ttu-id="25725-142">Haga clic en **vínculo** toolink Hola dos cachés juntos y comenzar el proceso de replicación de Hola.</span><span class="sxs-lookup"><span data-stu-id="25725-142">Click **Link** toolink hello two caches together and begin hello replication process.</span></span>

    ![Vincular cachés](./media/cache-how-to-geo-replication/cache-geo-location-confirm-link.png)

4. <span data-ttu-id="25725-144">También puede ver progreso de hello del proceso de replicación de hello en hello **georreplicación** hoja.</span><span class="sxs-lookup"><span data-stu-id="25725-144">You can view hello progress of hello replication process on hello **Geo-replication** blade.</span></span>

    ![Estado de la vinculación](./media/cache-how-to-geo-replication/cache-geo-location-linking.png)

    <span data-ttu-id="25725-146">También puede ver Hola vinculación de estado de hello **Introducción** hoja para ambos cachés de hello principal y secundaria.</span><span class="sxs-lookup"><span data-stu-id="25725-146">You can also view hello linking status on hello **Overview** blade for both hello primary and secondary caches.</span></span>

    ![Estado de cachés](./media/cache-how-to-geo-replication/cache-geo-location-link-status.png)

    <span data-ttu-id="25725-148">Una vez completado el proceso de replicación de hello, Hola **vincular estado** cambia demasiado**correcto**.</span><span class="sxs-lookup"><span data-stu-id="25725-148">Once hello replication process is complete, hello **Link status** changes too**Succeeded**.</span></span>

    ![Estado de cachés](./media/cache-how-to-geo-replication/cache-geo-location-link-successful.png)

    <span data-ttu-id="25725-150">Durante el proceso de vinculación de hello, caché primaria vinculada de hello sigue estando disponible para su uso pero caché vinculado de hello secundaria no está disponible hasta que se complete el proceso de vinculación de Hola.</span><span class="sxs-lookup"><span data-stu-id="25725-150">During hello linking process, hello primary linked cache remains available for use but hello secondary linked cache is not available until hello linking process completes.</span></span>

## <a name="remove-a-geo-replication-link"></a><span data-ttu-id="25725-151">Quitar un vínculo de replicación geográfica</span><span class="sxs-lookup"><span data-stu-id="25725-151">Remove a Geo-replication link</span></span>

1. <span data-ttu-id="25725-152">tooremove Hola vínculo entre dos cachés y Detener replicación geográfica, haga clic en **desvincular cachés** de hello **georreplicación** hoja.</span><span class="sxs-lookup"><span data-stu-id="25725-152">tooremove hello link between two caches and stop Geo-replication, click **Unlink caches** from hello **Geo-replication** blade.</span></span>
    
    ![Desvincular cachés](./media/cache-how-to-geo-replication/cache-geo-location-unlink.png)

    <span data-ttu-id="25725-154">Cuando se completa el proceso de desvinculación de hello, caché secundaria Hola está disponible para las lecturas y escribe.</span><span class="sxs-lookup"><span data-stu-id="25725-154">When hello unlinking process completes, hello secondary cache is available for both reads and writes.</span></span>

>[!NOTE]
><span data-ttu-id="25725-155">Cuando se quita el vínculo de replicación geográfica de hello, Hola los datos replicados de hello principal caché vinculado permanece en memoria caché secundaria de Hola.</span><span class="sxs-lookup"><span data-stu-id="25725-155">When hello Geo-replication link is removed, hello replicated data from hello primary linked cache remains in hello secondary cache.</span></span>
>
>

## <a name="geo-replication-faq"></a><span data-ttu-id="25725-156">Preguntas más frecuentes sobre la replicación geográfica</span><span class="sxs-lookup"><span data-stu-id="25725-156">Geo-replication FAQ</span></span>

- [<span data-ttu-id="25725-157">¿Puedo usar la replicación geográfica con una caché de nivel Estándar o Básico?</span><span class="sxs-lookup"><span data-stu-id="25725-157">Can I use Geo-replication with a Standard or Basic tier cache?</span></span>](#can-i-use-geo-replication-with-a-standard-or-basic-tier-cache)
- [<span data-ttu-id="25725-158">¿Está disponible para su uso durante la vinculación de Hola o proceso desvinculando mi caché?</span><span class="sxs-lookup"><span data-stu-id="25725-158">Is my cache available for use during hello linking or unlinking process?</span></span>](#is-my-cache-available-for-use-during-the-linking-or-unlinking-process)
- [<span data-ttu-id="25725-159">¿Puedo vincular más de dos cachés?</span><span class="sxs-lookup"><span data-stu-id="25725-159">Can I link more than two caches together?</span></span>](#can-i-link-more-than-two-caches-together)
- [<span data-ttu-id="25725-160">¿Puedo vincular dos cachés de distintas suscripciones de Azure?</span><span class="sxs-lookup"><span data-stu-id="25725-160">Can I link two caches from different Azure subscriptions?</span></span>](#can-i-link-two-caches-from-different-azure-subscriptions)
- [<span data-ttu-id="25725-161">¿Puedo vincular dos cachés de tamaños distintos?</span><span class="sxs-lookup"><span data-stu-id="25725-161">Can I link two caches with different sizes?</span></span>](#can-i-link-two-caches-with-different-sizes)
- [<span data-ttu-id="25725-162">¿Puedo usar la replicación geográfica con agrupación en clústeres habilitada?</span><span class="sxs-lookup"><span data-stu-id="25725-162">Can I use Geo-replication with clustering enabled?</span></span>](#can-i-use-geo-replication-with-clustering-enabled)
- [<span data-ttu-id="25725-163">¿Puedo usar la replicación geográfica con cachés en una VNET?</span><span class="sxs-lookup"><span data-stu-id="25725-163">Can I use Geo-replication with my caches in a VNET?</span></span>](#can-i-use-geo-replication-with-my-caches-in-a-vnet)
- [<span data-ttu-id="25725-164">¿Puedo usar PowerShell o CLI de Azure toomanage replicación geográfica?</span><span class="sxs-lookup"><span data-stu-id="25725-164">Can I use PowerShell or Azure CLI toomanage Geo-replication?</span></span>](#can-i-use-powershell-or-azure-cli-to-manage-geo-replication)
- [<span data-ttu-id="25725-165">¿Cuánto cuesta tooreplicate Mis datos en regiones de Azure?</span><span class="sxs-lookup"><span data-stu-id="25725-165">How much does it cost tooreplicate my data across Azure regions?</span></span>](#how-much-does-it-cost-to-replicate-my-data-across-azure-regions)
- [<span data-ttu-id="25725-166">¿Por qué operación Hola produjo un error cuando se ha intentado toodelete mi caché vinculado?</span><span class="sxs-lookup"><span data-stu-id="25725-166">Why did hello operation fail when I tried toodelete my linked cache?</span></span>](#why-did-the-operation-fail-when-i-tried-to-delete-my-linked-cache)
- [<span data-ttu-id="25725-167">¿Qué región se debe usar para la caché vinculada secundaria?</span><span class="sxs-lookup"><span data-stu-id="25725-167">What region should I use for my secondary linked cache?</span></span>](#what-region-should-i-use-for-my-secondary-linked-cache)
- [<span data-ttu-id="25725-168">¿Cómo funciona la caché vinculado secundaria toohello la conmutación por error?</span><span class="sxs-lookup"><span data-stu-id="25725-168">How does failing over toohello secondary linked cache work?</span></span>](#how-does-failing-over-to-the-secondary-linked-cache-work)

### <a name="can-i-use-geo-replication-with-a-standard-or-basic-tier-cache"></a><span data-ttu-id="25725-169">¿Puedo usar la replicación geográfica con una caché de nivel Estándar o Básico?</span><span class="sxs-lookup"><span data-stu-id="25725-169">Can I use Geo-replication with a Standard or Basic tier cache?</span></span>

<span data-ttu-id="25725-170">No, la replicación geográfica solo está disponible para las cachés de nivel Premium.</span><span class="sxs-lookup"><span data-stu-id="25725-170">No, Geo-replication is only available for Premium tier caches.</span></span>

### <a name="is-my-cache-available-for-use-during-hello-linking-or-unlinking-process"></a><span data-ttu-id="25725-171">¿Está disponible para su uso durante la vinculación de Hola o proceso desvinculando mi caché?</span><span class="sxs-lookup"><span data-stu-id="25725-171">Is my cache available for use during hello linking or unlinking process?</span></span>

- <span data-ttu-id="25725-172">Al vincular dos cachés juntos para la replicación geográfica, caché primaria vinculada de hello sigue estando disponible para su uso pero caché vinculado de hello secundaria no está disponible hasta que se complete el proceso de vinculación de Hola.</span><span class="sxs-lookup"><span data-stu-id="25725-172">When linking two caches together for Geo-replication, hello primary linked cache remains available for use but hello secondary linked cache is not available until hello linking process completes.</span></span>
- <span data-ttu-id="25725-173">Al quitar el vínculo de replicación geográfica de hello entre dos cachés, ambos cachés siguen estando disponibles para su uso.</span><span class="sxs-lookup"><span data-stu-id="25725-173">When removing hello Geo-replication link between two caches, both caches remain available for use.</span></span>

### <a name="can-i-link-more-than-two-caches-together"></a><span data-ttu-id="25725-174">¿Puedo vincular más de dos cachés?</span><span class="sxs-lookup"><span data-stu-id="25725-174">Can I link more than two caches together?</span></span>

<span data-ttu-id="25725-175">No, solo puede vincular dos cachés cuando se usa la replicación geográfica.</span><span class="sxs-lookup"><span data-stu-id="25725-175">No, when using Geo-replication you can only link two caches together.</span></span>

### <a name="can-i-link-two-caches-from-different-azure-subscriptions"></a><span data-ttu-id="25725-176">¿Puedo vincular dos cachés de distintas suscripciones de Azure?</span><span class="sxs-lookup"><span data-stu-id="25725-176">Can I link two caches from different Azure subscriptions?</span></span>

<span data-ttu-id="25725-177">Las memorias caché no, ambas deben estar en hello misma suscripción de Azure.</span><span class="sxs-lookup"><span data-stu-id="25725-177">No, both caches must be in hello same Azure subscription.</span></span>

### <a name="can-i-link-two-caches-with-different-sizes"></a><span data-ttu-id="25725-178">¿Puedo vincular dos cachés de tamaños distintos?</span><span class="sxs-lookup"><span data-stu-id="25725-178">Can I link two caches with different sizes?</span></span>

<span data-ttu-id="25725-179">Sí, siempre que sea mayor que la caché principal vinculado de hello caché secundaria vinculado de Hola.</span><span class="sxs-lookup"><span data-stu-id="25725-179">Yes, as long as hello secondary linked cache is larger than hello primary linked cache.</span></span>

### <a name="can-i-use-geo-replication-with-clustering-enabled"></a><span data-ttu-id="25725-180">¿Puedo usar la replicación geográfica con agrupación en clústeres habilitada?</span><span class="sxs-lookup"><span data-stu-id="25725-180">Can I use Geo-replication with clustering enabled?</span></span>

<span data-ttu-id="25725-181">Sí, siempre que las memorias caché tengan Hola mismo número de particiones.</span><span class="sxs-lookup"><span data-stu-id="25725-181">Yes, as long as both caches have hello same number of shards.</span></span>

### <a name="can-i-use-geo-replication-with-my-caches-in-a-vnet"></a><span data-ttu-id="25725-182">¿Puedo usar la replicación geográfica con cachés en una VNET?</span><span class="sxs-lookup"><span data-stu-id="25725-182">Can I use Geo-replication with my caches in a VNET?</span></span>

<span data-ttu-id="25725-183">Sí, se admite la replicación geográfica de cachés en VNET.</span><span class="sxs-lookup"><span data-stu-id="25725-183">Yes, Geo-replication of caches in VNETs are supported.</span></span> 

- <span data-ttu-id="25725-184">Replicación geográfica entre las memorias caché de Hola que se admite la misma red virtual.</span><span class="sxs-lookup"><span data-stu-id="25725-184">Geo-replication between caches in hello same VNET is supported.</span></span>
- <span data-ttu-id="25725-185">También se admite la replicación geográfica entre las memorias caché en redes virtuales diferentes, como redes virtuales Hola dos están configuradas de manera que los recursos en redes virtuales Hola son tooreach pueda entre sí a través de las conexiones TCP.</span><span class="sxs-lookup"><span data-stu-id="25725-185">Geo-replication between caches in different VNETs is also supported, as long as hello two VNETs are configured in such a way that resources in hello VNETs are able tooreach each other via TCP connections.</span></span>

### <a name="can-i-use-powershell-or-azure-cli-toomanage-geo-replication"></a><span data-ttu-id="25725-186">¿Puedo usar PowerShell o CLI de Azure toomanage replicación geográfica?</span><span class="sxs-lookup"><span data-stu-id="25725-186">Can I use PowerShell or Azure CLI toomanage Geo-replication?</span></span>

<span data-ttu-id="25725-187">En este momento sólo se pueden administrar utilizando la replicación geográfica Hola portal de Azure.</span><span class="sxs-lookup"><span data-stu-id="25725-187">At this time you can only manage Geo-replication using hello Azure portal.</span></span>

### <a name="how-much-does-it-cost-tooreplicate-my-data-across-azure-regions"></a><span data-ttu-id="25725-188">¿Cuánto cuesta tooreplicate Mis datos en regiones de Azure?</span><span class="sxs-lookup"><span data-stu-id="25725-188">How much does it cost tooreplicate my data across Azure regions?</span></span>

<span data-ttu-id="25725-189">Cuando se utiliza la replicación geográfica, datos de caché principal vinculado de hello están caché replicada toohello secundarias vinculada.</span><span class="sxs-lookup"><span data-stu-id="25725-189">When using Geo-replication, data from hello primary linked cache is replicated toohello secondary linked cache.</span></span> <span data-ttu-id="25725-190">Si vincula Hola dos cachés están en hello misma región de Azure, no hay ningún cargo por transferencia de datos de Hola.</span><span class="sxs-lookup"><span data-stu-id="25725-190">If hello two linked caches are in hello same Azure region, there is no charge for hello data transfer.</span></span> <span data-ttu-id="25725-191">Si hello dos vinculado cachés están en diferentes regiones de Azure, hello cargo de transferencia de datos de replicación geográfica es costos de ancho de banda de Hola de replicación que toohello datos de otra región de Azure.</span><span class="sxs-lookup"><span data-stu-id="25725-191">If hello two linked caches are in different Azure regions, hello Geo-Replication data transfer charge is hello bandwidth cost of replicating that data toohello other Azure region.</span></span> <span data-ttu-id="25725-192">Para más información, consulte [Detalles de precios de ancho de banda](https://azure.microsoft.com/pricing/details/bandwidth/).</span><span class="sxs-lookup"><span data-stu-id="25725-192">For more information, see [Bandwidth Pricing Details](https://azure.microsoft.com/pricing/details/bandwidth/).</span></span>

### <a name="why-did-hello-operation-fail-when-i-tried-toodelete-my-linked-cache"></a><span data-ttu-id="25725-193">¿Por qué operación Hola produjo un error cuando se ha intentado toodelete mi caché vinculado?</span><span class="sxs-lookup"><span data-stu-id="25725-193">Why did hello operation fail when I tried toodelete my linked cache?</span></span>

<span data-ttu-id="25725-194">Cuando dos cachés están vinculadas entre sí, no se puede eliminar el grupo de recursos de memoria caché o hello incluidos en ellos hasta que quite el vínculo de replicación geográfica de Hola.</span><span class="sxs-lookup"><span data-stu-id="25725-194">When two caches are linked together, you can't delete either cache or hello resource group that contains them until you remove hello Geo-replication link.</span></span> <span data-ttu-id="25725-195">Si trata de grupo de recursos de hello toodelete que contiene uno o ambos de hello vinculado cachés, hello otros recursos en el grupo de recursos de Hola se eliminan, pero grupo de recursos de hello permanece en Hola `deleting` estado y los vinculan las memorias caché de grupo de recursos de Hola permanecen en hello `running` estado.</span><span class="sxs-lookup"><span data-stu-id="25725-195">If you attempt toodelete hello resource group that contains one or both of hello linked caches, hello other resources in hello resource group are deleted, but hello resource group stays in hello `deleting` state and any linked caches in hello resource group remain in hello `running` state.</span></span> <span data-ttu-id="25725-196">eliminación de hello toocomplete del grupo de recursos de Hola y Hola vinculado memorias caché dentro de él, romper el vínculo de replicación geográfica de hello tal y como se describe en [quitar un vínculo de replicación geográfica](#remove-a-geo-replication-link).</span><span class="sxs-lookup"><span data-stu-id="25725-196">toocomplete hello deletion of hello resource group and hello linked caches within it, break hello Geo-replication link as described in [Remove a Geo-replication link](#remove-a-geo-replication-link).</span></span>

### <a name="what-region-should-i-use-for-my-secondary-linked-cache"></a><span data-ttu-id="25725-197">¿Qué región se debe usar para la caché vinculada secundaria?</span><span class="sxs-lookup"><span data-stu-id="25725-197">What region should I use for my secondary linked cache?</span></span>

<span data-ttu-id="25725-198">En general, se recomienda para su tooexist de caché en hello misma región de Azure como aplicación Hola que tiene acceso a él.</span><span class="sxs-lookup"><span data-stu-id="25725-198">In general, it is recommended for your cache tooexist in hello same Azure region as hello application that accesses it.</span></span> <span data-ttu-id="25725-199">Si la aplicación tiene una región principal y de reserva, las cachés principal y secundaria deben existir en esas mismas regiones.</span><span class="sxs-lookup"><span data-stu-id="25725-199">If your application has a primary and fallback region, then your primary and secondary caches should exist in those same regions.</span></span> <span data-ttu-id="25725-200">Para más información sobre regiones emparejadas, consulte el artículo sobre [procedimientos recomendados: regiones emparejadas de Azure](../best-practices-availability-paired-regions.md).</span><span class="sxs-lookup"><span data-stu-id="25725-200">For more information about paired regions, see [Best Practices – Azure Paired regions](../best-practices-availability-paired-regions.md).</span></span>

### <a name="how-does-failing-over-toohello-secondary-linked-cache-work"></a><span data-ttu-id="25725-201">¿Cómo funciona la caché vinculado secundaria toohello la conmutación por error?</span><span class="sxs-lookup"><span data-stu-id="25725-201">How does failing over toohello secondary linked cache work?</span></span>

<span data-ttu-id="25725-202">En la versión inicial de saludo de la replicación geográfica, caché en Redis de Azure no admite conmutación por error automática en regiones de Azure.</span><span class="sxs-lookup"><span data-stu-id="25725-202">In hello initial release of Geo-replication, Azure Redis Cache does not support automatic failover across Azure regions.</span></span> <span data-ttu-id="25725-203">La replicación geográfica se usa principalmente en un escenario de recuperación ante desastres.</span><span class="sxs-lookup"><span data-stu-id="25725-203">Geo-replication is used primarily in a disaster recovery scenario.</span></span> <span data-ttu-id="25725-204">En un escenario de recuperación distater, los clientes deberían actualizar la pila de toda la aplicación hello en una región de copia de seguridad de manera coordinada en lugar de permitir que los componentes de aplicaciones individuales a decidir cuándo tooswitch tootheir copias de seguridad por sí solas.</span><span class="sxs-lookup"><span data-stu-id="25725-204">In a distater recovery scenario, customers should bring up hello entire application stack in a backup region in a coordinated manner rather than letting individual application components decide when tooswitch tootheir backups on their own.</span></span> <span data-ttu-id="25725-205">Esto es especialmente relevante tooRedis.</span><span class="sxs-lookup"><span data-stu-id="25725-205">This is especially relevant tooRedis.</span></span> <span data-ttu-id="25725-206">Una de las principales ventajas de Hola de Redis es que es un almacén de latencia muy baja.</span><span class="sxs-lookup"><span data-stu-id="25725-206">One of hello key benefits of Redis is that it is a very low-latency store.</span></span> <span data-ttu-id="25725-207">Si Redis utilizado por una aplicación conmuta por error tooa otra región de Azure pero no a nivel de proceso de hello, Hola agrega tiempo de viaje de ida y vuelta tendría un efecto notable en el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="25725-207">If Redis used by an application fails over tooa different Azure region but hello compute tier does not, hello added round trip time would have a noticeable impact on performance.</span></span> <span data-ttu-id="25725-208">Por este motivo, nos gustaría tooavoid Redis errores sobre automáticamente debido a problemas de disponibilidad de tootransient.</span><span class="sxs-lookup"><span data-stu-id="25725-208">For this reason, we would like tooavoid Redis failing over automatically due tootransient availability issues.</span></span>

<span data-ttu-id="25725-209">Actualmente, conmutación por error de tooinitiate hello, necesita tooremove Hola replicación geográfica vincular Hola portal de Azure y, a continuación, cambie el extremo de conexión de hello en el cliente de Redis Hola desde secundario de hello principal caché vinculado toohello (anteriormente vinculado) caché.</span><span class="sxs-lookup"><span data-stu-id="25725-209">Currently, tooinitiate hello failover, you need tooremove hello Geo-replication link in hello Azure portal, and then change hello connection end-point in hello Redis client from hello primary linked cache toohello (formerly linked) secondary cache.</span></span> <span data-ttu-id="25725-210">Cuando Hola se desasoció dos cachés, réplica de Hola se convierte en normal nuevo caché de lectura y escritura y acepta solicitudes directamente desde los clientes de Redis.</span><span class="sxs-lookup"><span data-stu-id="25725-210">When hello two caches are disassociated, hello replica becomes a regular read-write cache again and accepts requests directly from Redis clients.</span></span>


## <a name="next-steps"></a><span data-ttu-id="25725-211">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="25725-211">Next steps</span></span>

<span data-ttu-id="25725-212">Obtener más información sobre hello [nivel Premium de caché de Redis de Azure](cache-premium-tier-intro.md).</span><span class="sxs-lookup"><span data-stu-id="25725-212">Learn more about hello [Azure Redis Cache Premium tier](cache-premium-tier-intro.md).</span></span>

