---
title: "Perfiles de puntuación (API de REST de Azure Search: 2015-02-28-Preview) | Microsoft Docs"
description: "Búsqueda de Azure es un servicio de búsqueda hospedado en la nube que admite la optimización de resultados basados en perfiles de puntuación definidos por el usuario."
services: search
documentationcenter: 
author: HeidiSteen
manager: jhubbard
editor: 
ms.assetid: bfd62649-13d7-40b3-a8fa-85521a15084d
ms.service: search
ms.devlang: rest-api
ms.workload: search
ms.topic: article
ms.tgt_pltfrm: na
ms.author: heidist
ms.date: 10/27/2016
ms.openlocfilehash: a67637d149a84313270c03d21acf8a9c1870be05
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 07/11/2017
---
# <a name="scoring-profiles-azure-search-rest-api-version-2015-02-28-preview"></a><span data-ttu-id="a8503-103">Perfiles de puntuación (API de REST de Búsqueda de Azure: 2015-02-28-Preview)</span><span class="sxs-lookup"><span data-stu-id="a8503-103">Scoring Profiles (Azure Search REST API Version 2015-02-28-Preview)</span></span>
> [!NOTE]
> <span data-ttu-id="a8503-104">En este artículo se describen los perfiles puntuación de la versión [2015-02-28-Preview](search-api-2015-02-28-preview.md).</span><span class="sxs-lookup"><span data-stu-id="a8503-104">This article describes scoring profiles in the [2015-02-28-Preview](search-api-2015-02-28-preview.md).</span></span> <span data-ttu-id="a8503-105">Actualmente, no hay ninguna diferencia entre la versión `2016-09-01` documentada en [MSDN](http://msdn.microsoft.com/library/azure/mt183328.aspx) y la versión `2015-02-28-Preview` que se describe aquí, pero ofrecemos este documento de todos modos para proporcionar cobertura de documentación en toda la API.</span><span class="sxs-lookup"><span data-stu-id="a8503-105">Currently there is no difference between the `2016-09-01` version documented on [MSDN](http://msdn.microsoft.com/library/azure/mt183328.aspx) and the `2015-02-28-Preview` version described here, but we offer this document anyway in order to provide document coverage across the entire API.</span></span>
>
>

## <a name="overview"></a><span data-ttu-id="a8503-106">Información general</span><span class="sxs-lookup"><span data-stu-id="a8503-106">Overview</span></span>
<span data-ttu-id="a8503-107">Puntuación hace referencia al cálculo de una puntuación de búsqueda para todos los elementos devueltos en los resultados de la búsqueda.</span><span class="sxs-lookup"><span data-stu-id="a8503-107">Scoring refers to the computation of a search score for every item returned in search results.</span></span> <span data-ttu-id="a8503-108">La puntuación es un indicador de la importancia de un elemento en el contexto de la operación de búsqueda actual.</span><span class="sxs-lookup"><span data-stu-id="a8503-108">The score is an indicator of an item's relevance in the context of the current search operation.</span></span> <span data-ttu-id="a8503-109">Cuanto mayor sea la puntuación, mayor importancia tendrá el elemento.</span><span class="sxs-lookup"><span data-stu-id="a8503-109">The higher the score, the more relevant the item.</span></span> <span data-ttu-id="a8503-110">En los resultados de búsqueda, los elementos están ordenados de alto a bajo, según la puntuación de la búsqueda calculada para cada artículo.</span><span class="sxs-lookup"><span data-stu-id="a8503-110">In search results, items are rank ordered from high to low, based on the search score calculated for each item.</span></span>

<span data-ttu-id="a8503-111">Búsqueda de Azure usa la puntuación predeterminada para calcular una puntuación inicial, pero puede personalizar el cálculo a través de un perfil de puntuación.</span><span class="sxs-lookup"><span data-stu-id="a8503-111">Azure Search uses default scoring to compute an initial score, but you can customize the calculation through a scoring profile.</span></span> <span data-ttu-id="a8503-112">Los perfiles de puntuación proporcionan un mayor control sobre la clasificación de los elementos en los resultados de búsqueda.</span><span class="sxs-lookup"><span data-stu-id="a8503-112">Scoring profiles give you greater control over the ranking of items in search results.</span></span> <span data-ttu-id="a8503-113">Por ejemplo, desea aumentar los elementos según su potencial de ingresos, promover elementos más recientes o quizás aumentar los elementos que han permanecido en inventario demasiado largo.</span><span class="sxs-lookup"><span data-stu-id="a8503-113">For example, you might want to boost items based on their revenue potential, promote newer items, or perhaps boost items that have been in inventory too long.</span></span>

<span data-ttu-id="a8503-114">Un perfil de puntuación es parte de la definición del índice que se compone de campos, funciones y parámetros.</span><span class="sxs-lookup"><span data-stu-id="a8503-114">A scoring profile is part of the index definition, composed of fields, functions, and parameters.</span></span>

<span data-ttu-id="a8503-115">Para darle una idea del aspecto de un perfil de puntuación, el ejemplo siguiente muestra un perfil simple denominado «geográfico».</span><span class="sxs-lookup"><span data-stu-id="a8503-115">To give you an idea of what a scoring profile looks like, the following example shows a simple profile named 'geo'.</span></span> <span data-ttu-id="a8503-116">Este aumenta los elementos que tengan el término de búsqueda en el campo `hotelName` .</span><span class="sxs-lookup"><span data-stu-id="a8503-116">This one boosts items that have the search term in the `hotelName` field.</span></span> <span data-ttu-id="a8503-117">También usa la función `distance` para dar prioridad a elementos que están a menos de diez kilómetros de la ubicación actual.</span><span class="sxs-lookup"><span data-stu-id="a8503-117">It also uses the `distance` function to favor items that are within ten kilometers of the current location.</span></span> <span data-ttu-id="a8503-118">Si alguien busca el término «inn» y este término forma parte del nombre del hotel, los documentos que incluyan hoteles con «inn» aparecerán primero en los resultados de búsqueda.</span><span class="sxs-lookup"><span data-stu-id="a8503-118">If someone searches on the term 'inn', and 'inn' happens to be part of the hotel name, documents that include hotels with 'inn' will appear higher in the search results.</span></span>

    "scoringProfiles": [
      {
        "name": "geo",
        "text": {
          "weights": { "hotelName": 5 }
        },
        "functions": [
          {
            "type": "distance",
            "boost": 5,
            "fieldName": "location",
            "interpolation": "logarithmic",
            "distance": {
              "referencePointParameter": "currentLocation",
              "boostingDistance": 10
            }
          }
        ]
      }
    ]

<span data-ttu-id="a8503-119">Para usar este perfil de puntuación, se formula la consulta para especificar el perfil en la cadena de consulta.</span><span class="sxs-lookup"><span data-stu-id="a8503-119">To use this scoring profile, your query is formulated to specify the profile on the query string.</span></span> <span data-ttu-id="a8503-120">En la siguiente consulta, observe el parámetro de consulta `scoringProfile=geo` en la solicitud.</span><span class="sxs-lookup"><span data-stu-id="a8503-120">In the query below, notice the query parameter, `scoringProfile=geo` in the request.</span></span>

    GET /indexes/hotels/docs?search=inn&scoringProfile=geo&scoringParameter=currentLocation--122.123,44.77233&api-version=2015-02-28-Preview

<span data-ttu-id="a8503-121">Esta consulta busca el término «inn» y pasa la ubicación actual.</span><span class="sxs-lookup"><span data-stu-id="a8503-121">This query searches on the term 'inn' and passes in the current location.</span></span> <span data-ttu-id="a8503-122">Tenga en cuenta que esta consulta incluye otros parámetros, como `scoringParameter`.</span><span class="sxs-lookup"><span data-stu-id="a8503-122">Note that this query includes other parameters, such as `scoringParameter`.</span></span> <span data-ttu-id="a8503-123">Los parámetros de consulta se describen en [Buscar documentos (API de Búsqueda de Azure)](search-api-2015-02-28-preview.md#SearchDocs).</span><span class="sxs-lookup"><span data-stu-id="a8503-123">Query parameters are described in [Search Documents (Azure Search API)](search-api-2015-02-28-preview.md#SearchDocs).</span></span>

<span data-ttu-id="a8503-124">Haga clic en [Ejemplo](#example) para revisar un ejemplo más detallado de un perfil de puntuación.</span><span class="sxs-lookup"><span data-stu-id="a8503-124">Click [Example](#example) to review a more detailed example of a scoring profile.</span></span>

## <a name="what-is-default-scoring"></a><span data-ttu-id="a8503-125">¿Qué es la puntuación predeterminada?</span><span class="sxs-lookup"><span data-stu-id="a8503-125">What is default scoring?</span></span>
<span data-ttu-id="a8503-126">La puntuación calcula una puntuación de la búsqueda para cada elemento de un conjunto de resultados ordenado por rango.</span><span class="sxs-lookup"><span data-stu-id="a8503-126">Scoring computes a search score for each item in a rank ordered result set.</span></span> <span data-ttu-id="a8503-127">A cada elemento de un conjunto de resultados de búsqueda se le asigna una puntuación de búsqueda, a continuación, se ordena de mayor a menor.</span><span class="sxs-lookup"><span data-stu-id="a8503-127">Every item in a search result set is assigned a search score, then ranked highest to lowest.</span></span> <span data-ttu-id="a8503-128">Elementos con las puntuaciones más altas se devuelven a la aplicación.</span><span class="sxs-lookup"><span data-stu-id="a8503-128">Items with the higher scores are returned to the application.</span></span> <span data-ttu-id="a8503-129">De forma predeterminada, se devuelven los 50 mejores, pero puede usar el parámetro `$top` para devolver un número mayor o menor de elementos (hasta 1000 en una sola respuesta).</span><span class="sxs-lookup"><span data-stu-id="a8503-129">By default, the top 50 are returned, but you can use the `$top` parameter to return a smaller or larger number of items (up to 1000 in a single response).</span></span>

<span data-ttu-id="a8503-130">De forma predeterminada, una puntuación de búsqueda se calcula en función de las propiedades estadísticas de los datos y la consulta.</span><span class="sxs-lookup"><span data-stu-id="a8503-130">By default, a search score is computed based on statistical properties of the data and the query.</span></span> <span data-ttu-id="a8503-131">Búsqueda de Azure busca documentos que contengan los términos de búsqueda de la cadena de consulta (algunas o todas, dependiendo de `searchMode`), lo cual favorece a los documentos que contienen muchas instancias del término de búsqueda.</span><span class="sxs-lookup"><span data-stu-id="a8503-131">Azure Search finds documents that include the search terms in the query string (some or all, depending on `searchMode`), favoring documents that contain many instances of the search term.</span></span> <span data-ttu-id="a8503-132">La puntuación de búsqueda aumenta todavía más si el término es poco frecuente en el corpus de datos, pero común dentro del documento.</span><span class="sxs-lookup"><span data-stu-id="a8503-132">The search score goes up even higher if the term is rare across the data corpus, but common within the document.</span></span> <span data-ttu-id="a8503-133">La base de este enfoque de relevancia informática se denomina TF-IDF o (frecuencia de documento inverso de la frecuencia del término).</span><span class="sxs-lookup"><span data-stu-id="a8503-133">The basis for this approach to computing relevance is known as TF-IDF or (term frequency-inverse document frequency).</span></span>

<span data-ttu-id="a8503-134">Suponiendo que no haya ninguna ordenación personalizada, los resultados se clasifican por el resultado de la búsqueda antes de que se devuelvan a la aplicación de llamada.</span><span class="sxs-lookup"><span data-stu-id="a8503-134">Assuming there is no custom sorting, results are then ranked by search score before they are returned to the calling application.</span></span> <span data-ttu-id="a8503-135">Si `$top` no se especifica, se devolverán 50 elementos con la puntuación de búsqueda mayor.</span><span class="sxs-lookup"><span data-stu-id="a8503-135">If `$top` is not specified, 50 items having the highest search score are returned.</span></span>

<span data-ttu-id="a8503-136">Los valores de puntuación de búsqueda pueden repetirse a lo largo de un conjunto de resultados.</span><span class="sxs-lookup"><span data-stu-id="a8503-136">Search score values can be repeated throughout a result set.</span></span> <span data-ttu-id="a8503-137">Por ejemplo, puede tener 10 elementos con una puntuación de 1,2, 20 elementos con una puntuación de 1,0 y 20 elementos con una puntuación de 0,5.</span><span class="sxs-lookup"><span data-stu-id="a8503-137">For example, you might have 10 items with a score of 1.2, 20 items with a score of 1.0, and 20 items with a score of 0.5.</span></span> <span data-ttu-id="a8503-138">Cuando varios resultados tienen la misma puntuación de búsqueda, el orden de estos elementos puntuados no se define y no es estable.</span><span class="sxs-lookup"><span data-stu-id="a8503-138">When multiple hits have the same search score, the ordering of same scored items is not defined, and is not stable.</span></span> <span data-ttu-id="a8503-139">Vuelva a ejecutar la consulta verá cómo los elementos cambian de posición.</span><span class="sxs-lookup"><span data-stu-id="a8503-139">Run the query again, and you might see items shift position.</span></span> <span data-ttu-id="a8503-140">Si dos elementos disponen de la misma puntuación, no hay ninguna garantía de cuál aparecerá en primer lugar.</span><span class="sxs-lookup"><span data-stu-id="a8503-140">Given two items with an identical score, there is no guarantee which one appears first.</span></span>

## <a name="when-to-use-custom-scoring"></a><span data-ttu-id="a8503-141">Cuándo usar la puntuación personalizada</span><span class="sxs-lookup"><span data-stu-id="a8503-141">When to use custom scoring</span></span>
<span data-ttu-id="a8503-142">Debe crear uno o más perfiles de puntuación cuando el comportamiento de clasificación predeterminado no logre cumplir los objetivos de su empresa.</span><span class="sxs-lookup"><span data-stu-id="a8503-142">You should create one or more scoring profiles when the default ranking behavior doesn’t go far enough in meeting your business objectives.</span></span> <span data-ttu-id="a8503-143">Por ejemplo, podría decidir que la relevancia de la búsqueda debe favorecer a los elementos recién agregados.</span><span class="sxs-lookup"><span data-stu-id="a8503-143">For example, you might decide that search relevance should favor newly added items.</span></span> <span data-ttu-id="a8503-144">Asimismo, podría tener un campo que contenga el margen de beneficio, o algún otro campo que indique los ingresos potenciales.</span><span class="sxs-lookup"><span data-stu-id="a8503-144">Likewise, you might have a field that contains profit margin, or some other field indicating revenue potential.</span></span> <span data-ttu-id="a8503-145">Aumentar los resultados que ofrecen beneficios a su empresa puede ser un factor importante a la hora de decidir usar perfiles de puntuación.</span><span class="sxs-lookup"><span data-stu-id="a8503-145">Boosting hits that bring benefits to your business can be an important factor in deciding to use scoring profiles.</span></span>

<span data-ttu-id="a8503-146">El orden basado en relevancia también se implementa a través de perfiles de puntuación.</span><span class="sxs-lookup"><span data-stu-id="a8503-146">Relevancy-based ordering is also implemented through scoring profiles.</span></span> <span data-ttu-id="a8503-147">Tenga en cuenta los resultados de búsqueda que ha usado en el pasado que le permiten ordenar por relevancia, fecha, clasificación o precio.</span><span class="sxs-lookup"><span data-stu-id="a8503-147">Consider search results pages you’ve used in the past that let you sort by price, date, rating, or relevance.</span></span> <span data-ttu-id="a8503-148">En la Búsqueda de Azure, los perfiles de puntuación determinan la opción «relevancia».</span><span class="sxs-lookup"><span data-stu-id="a8503-148">In Azure Search, scoring profiles drive the 'relevance' option.</span></span> <span data-ttu-id="a8503-149">La definición de relevancia está controlada por usted, se afirma en los objetivos empresariales y en el tipo de experiencia de búsqueda que desee ofrecer.</span><span class="sxs-lookup"><span data-stu-id="a8503-149">The definition of relevance is controlled by you, predicated on business objectives and the type of search experience you want to deliver.</span></span>

<a name="example"></a>

## <a name="example"></a><span data-ttu-id="a8503-150">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="a8503-150">Example</span></span>
<span data-ttu-id="a8503-151">Tal y como se ha indicado, la puntuación personalizada se implementa mediante los perfiles de puntuación definidos en un esquema de índice.</span><span class="sxs-lookup"><span data-stu-id="a8503-151">As noted, customized scoring is implemented through scoring profiles defined in an index schema.</span></span>

<span data-ttu-id="a8503-152">En este ejemplo se muestra el esquema de un índice con dos perfiles de puntuación (`boostGenre`, `newAndHighlyRated`).</span><span class="sxs-lookup"><span data-stu-id="a8503-152">This example shows the schema of an index with two scoring profiles (`boostGenre`, `newAndHighlyRated`).</span></span> <span data-ttu-id="a8503-153">Las consultas sobre este índice que incluyen cualquiera de los perfiles como parámetro de consulta usará el perfil para puntuar el conjunto de resultados.</span><span class="sxs-lookup"><span data-stu-id="a8503-153">Any query against this index that includes either profile as a query parameter will use the profile to score the result set.</span></span>

    {
      "name": "musicstoreindex",
      "fields": [
        { "name": "key", "type": "Edm.String", "key": true },
        { "name": "albumTitle", "type": "Edm.String" },
        { "name": "albumUrl", "type": "Edm.String", "filterable": false },
        { "name": "genre", "type": "Edm.String" },
        { "name": "genreDescription", "type": "Edm.String", "filterable": false },
        { "name": "artistName", "type": "Edm.String" },
        { "name": "orderableOnline", "type": "Edm.Boolean" },
        { "name": "rating", "type": "Edm.Int32" },
        { "name": "tags", "type": "Collection(Edm.String)" },
        { "name": "price", "type": "Edm.Double", "filterable": false },
        { "name": "margin", "type": "Edm.Int32", "retrievable": false },
        { "name": "inventory", "type": "Edm.Int32" },
        { "name": "lastUpdated", "type": "Edm.DateTimeOffset" }
      ],
      "scoringProfiles": [
        {
          "name": "boostGenre",
          "text": {
            "weights": {
              "albumTitle": 1.5,
              "genre": 5,
              "artistName": 2
            }
          }
        },
        {
          "name": "newAndHighlyRated",
          "functions": [
            {
              "type": "freshness",
              "fieldName": "lastUpdated",
              "boost": 10,
              "interpolation": "quadratic",
              "freshness": {
                "boostingDuration": "P365D"
              }
            },
            {
              "type": "magnitude",
              "fieldName": "rating",
              "boost": 10,
              "interpolation": "linear",
              "magnitude": {
                "boostingRangeStart": 1,
                "boostingRangeEnd": 5,
                "constantBoostBeyondRange": false
              }
            }
          ]
        }
      ],
      "suggesters": [
        {
          "name": "sg",
          "searchMode": "analyzingInfixMatching",
          "sourceFields": ["albumTitle", "artistName"]
        }
      ]
    }


## <a name="workflow"></a><span data-ttu-id="a8503-154">Flujo de trabajo</span><span class="sxs-lookup"><span data-stu-id="a8503-154">Workflow</span></span>
<span data-ttu-id="a8503-155">Para implementar el comportamiento personalizado de puntuación, agregue un perfil de puntuación al esquema que define el índice.</span><span class="sxs-lookup"><span data-stu-id="a8503-155">To implement custom scoring behavior, add a scoring profile to the schema that defines the index.</span></span> <span data-ttu-id="a8503-156">Puede tener hasta 16 perfiles de puntuación en un índice, (vea [Límites de servicio en Azure Search](search-limits-quotas-capacity.md)), pero solo puede especificar un perfil de cada vez en una consulta concreta.</span><span class="sxs-lookup"><span data-stu-id="a8503-156">You can have up to 16 scoring profiles within an index (see [Service Limits](search-limits-quotas-capacity.md)), but you can only specify one profile at time in any given query.</span></span>

<span data-ttu-id="a8503-157">Comience con la [Plantilla](#bkmk_template) incluida en este tema.</span><span class="sxs-lookup"><span data-stu-id="a8503-157">Start with the [Template](#bkmk_template) provided in this topic.</span></span>

<span data-ttu-id="a8503-158">Proporcione un nombre.</span><span class="sxs-lookup"><span data-stu-id="a8503-158">Provide a name.</span></span> <span data-ttu-id="a8503-159">Los perfiles de puntuación son opcionales, pero si agrega uno, se requerirá el nombre.</span><span class="sxs-lookup"><span data-stu-id="a8503-159">Scoring profiles are optional, but if you add one, the name is required.</span></span> <span data-ttu-id="a8503-160">Asegúrese de seguir las convenciones de nomenclatura de los campos (empieza con una letra, evita caracteres especiales y palabras reservadas).</span><span class="sxs-lookup"><span data-stu-id="a8503-160">Be sure to follow the naming conventions for fields (starts with a letter, avoids special characters and reserved words).</span></span> <span data-ttu-id="a8503-161">Consulte [Reglas de nomenclatura](http://msdn.microsoft.com/library/azure/dn857353.aspx) para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="a8503-161">See [Naming Rules](http://msdn.microsoft.com/library/azure/dn857353.aspx) for more information.</span></span>

<span data-ttu-id="a8503-162">El cuerpo del perfil de puntuación se construye a partir de campos ponderados y funciones.</span><span class="sxs-lookup"><span data-stu-id="a8503-162">The body of the scoring profile is constructed from weighted fields and functions.</span></span>

### <a name="weights"></a><span data-ttu-id="a8503-163">Pesos</span><span class="sxs-lookup"><span data-stu-id="a8503-163">Weights</span></span>
<span data-ttu-id="a8503-164">La propiedad `weights` de un perfil de puntuación especifica los pares de nombre-valor que asignan una ponderación relativa a un campo.</span><span class="sxs-lookup"><span data-stu-id="a8503-164">The `weights` property of a scoring profile specifies name-value pairs that assign a relative weight to a field.</span></span> <span data-ttu-id="a8503-165">En el [ejemplo](#example), los campos albumTitle, genre y artistName se aumentan a 1.5, 5 y 2 respectivamente.</span><span class="sxs-lookup"><span data-stu-id="a8503-165">In the [Example](#example), the albumTitle, genre, and artistName fields are boosted 1.5, 5, and 2, respectively.</span></span> <span data-ttu-id="a8503-166">¿Por qué se aumenta el género mucho mayor que los demás?</span><span class="sxs-lookup"><span data-stu-id="a8503-166">Why is genre boosted so much higher than the others?</span></span> <span data-ttu-id="a8503-167">Si la búsqueda se realiza en datos que son en cierto modo homogéneos (como es el caso con «género» en el `musicstoreindex`), es posible que necesite una mayor variación en la ponderación relativa.</span><span class="sxs-lookup"><span data-stu-id="a8503-167">If search is conducted over data that is somewhat homogeneous (as is the case with 'genre' in the `musicstoreindex`), you might need a larger variance in the relative weights.</span></span> <span data-ttu-id="a8503-168">Por ejemplo, en `musicstoreindex`, «rock» aparece como género y en las descripciones de género expresadas de forma idéntica.</span><span class="sxs-lookup"><span data-stu-id="a8503-168">For example, in the `musicstoreindex`, 'rock' appears as both a genre and in identically phrased genre descriptions.</span></span> <span data-ttu-id="a8503-169">Si desea que el género supere en ponderación a la descripción del género, el campo del género necesitará una ponderación relativa mucho mayor.</span><span class="sxs-lookup"><span data-stu-id="a8503-169">If you want genre to outweigh genre description, the genre field will need a much higher relative weight.</span></span>

### <a name="functions"></a><span data-ttu-id="a8503-170">Funciones</span><span class="sxs-lookup"><span data-stu-id="a8503-170">Functions</span></span>
<span data-ttu-id="a8503-171">Funciones usadas cuando se requieren cálculos adicionales para contextos concretos.</span><span class="sxs-lookup"><span data-stu-id="a8503-171">Functions are used when additional calculations are required for specific contexts.</span></span> <span data-ttu-id="a8503-172">Los tipos de función válidos son `freshness`, `magnitude`, `distance` y `tag`.</span><span class="sxs-lookup"><span data-stu-id="a8503-172">Valid function types are `freshness`, `magnitude`, `distance` and `tag`.</span></span> <span data-ttu-id="a8503-173">Cada función tiene parámetros que son exclusivos de ella.</span><span class="sxs-lookup"><span data-stu-id="a8503-173">Each function has parameters that are unique to it.</span></span>

* <span data-ttu-id="a8503-174">`freshness` debe usarse cuando desea aumentar según cómo de nuevo o de antiguo es un elemento.</span><span class="sxs-lookup"><span data-stu-id="a8503-174">`freshness` should be used when you want to boost by how new or old an item is.</span></span> <span data-ttu-id="a8503-175">Esta función solo puede usarse con campos datetime (`Edm.DataTimeOffset`).</span><span class="sxs-lookup"><span data-stu-id="a8503-175">This function can only be used with datetime fields (`Edm.DataTimeOffset`).</span></span> <span data-ttu-id="a8503-176">Tenga en cuenta que el atributo `boostingDuration` solo se usa con la función de actualización.</span><span class="sxs-lookup"><span data-stu-id="a8503-176">Note the `boostingDuration` attribute is used only with the freshness function.</span></span>
* <span data-ttu-id="a8503-177">`magnitude` debe usarse cuando desea aumentar en función de cómo de alto o de bajo es un valor numérico.</span><span class="sxs-lookup"><span data-stu-id="a8503-177">`magnitude` should be used when you want to boost based on how high or low a numeric value is.</span></span> <span data-ttu-id="a8503-178">Entre los escenarios que requieren esta función se incluyen aumentar por margen de beneficio, precio máximo, precio mínimo o recuento de descargas.</span><span class="sxs-lookup"><span data-stu-id="a8503-178">Scenarios that call for this function include boosting by profit margin, highest price, lowest price, or a count of downloads.</span></span> <span data-ttu-id="a8503-179">Puede invertir el rango, de alto a bajo, si desea que el patrón inverso potencie, por ejemplo, los elementos de precio inferior más que los de precio superior.</span><span class="sxs-lookup"><span data-stu-id="a8503-179">You can reverse the range, high to low, if you want the inverse pattern (for example, to boost lower-priced items more than higher-priced items).</span></span> <span data-ttu-id="a8503-180">Dado un intervalo de precios de 100 $ a 1 $, establezca `boostingRangeStart` en 100 y `boostingRangeEnd` en 1 para potenciar los elementos de menor precio.</span><span class="sxs-lookup"><span data-stu-id="a8503-180">Given a range of prices from $100 to $1, you would set `boostingRangeStart` at 100 and `boostingRangeEnd` at 1 to boost the lower-priced items.</span></span> <span data-ttu-id="a8503-181">Esta función solo puede usarse con campos doble y de número entero.</span><span class="sxs-lookup"><span data-stu-id="a8503-181">This function can only be used with double and integer fields.</span></span>
* <span data-ttu-id="a8503-182">`distance` debe usarse cuando quiera potenciar según proximidad o ubicación geográfica.</span><span class="sxs-lookup"><span data-stu-id="a8503-182">`distance` should be used when you want to boost by proximity or geographic location.</span></span> <span data-ttu-id="a8503-183">Esta función solo puede usarse con campos `Edm.GeographyPoint` .</span><span class="sxs-lookup"><span data-stu-id="a8503-183">This function can only be used with `Edm.GeographyPoint` fields.</span></span>
* <span data-ttu-id="a8503-184">`tag` debe usarse cuando quiera potenciar por etiquetas en común entre documentos y consultas de búsqueda.</span><span class="sxs-lookup"><span data-stu-id="a8503-184">`tag` should be used when you want to boost by tags in common between documents and search queries.</span></span> <span data-ttu-id="a8503-185">Esta función solo puede usarse con campos `Edm.String` y `Collection(Edm.String)`.</span><span class="sxs-lookup"><span data-stu-id="a8503-185">This function can only be used with `Edm.String` and `Collection(Edm.String)` fields.</span></span>

#### <a name="rules-for-using-functions"></a><span data-ttu-id="a8503-186">Reglas de uso de funciones</span><span class="sxs-lookup"><span data-stu-id="a8503-186">Rules for using functions</span></span>
* <span data-ttu-id="a8503-187">El tipo de función (actualización, magnitud, distancia, etiqueta) debe aparecer en minúsculas.</span><span class="sxs-lookup"><span data-stu-id="a8503-187">Function type (freshness, magnitude, distance, tag) must be lower case.</span></span>
* <span data-ttu-id="a8503-188">Las funciones no pueden incluir valores nulos ni estar vacías.</span><span class="sxs-lookup"><span data-stu-id="a8503-188">Functions cannot include null or empty values.</span></span> <span data-ttu-id="a8503-189">En concreto, si incluye un nombre de campo, deberá establecerlo en un valor.</span><span class="sxs-lookup"><span data-stu-id="a8503-189">Specifically, if you include fieldname, you have to set it to something.</span></span>
* <span data-ttu-id="a8503-190">Las funciones solo pueden aplicarse a los campos que se pueden filtrar.</span><span class="sxs-lookup"><span data-stu-id="a8503-190">Functions can only be applied to filterable fields.</span></span> <span data-ttu-id="a8503-191">Consulte [Crear índice](search-api-2015-02-28-preview.md#CreateIndex) para más información sobre los campos que se pueden filtrar.</span><span class="sxs-lookup"><span data-stu-id="a8503-191">See [Create Index](search-api-2015-02-28-preview.md#CreateIndex) for more information about filterable fields.</span></span>
* <span data-ttu-id="a8503-192">Las funciones solo pueden aplicarse a los campos que se definen en la colección de campos de un índice.</span><span class="sxs-lookup"><span data-stu-id="a8503-192">Functions can only be applied to fields that are defined in the fields collection of an index.</span></span>

<span data-ttu-id="a8503-193">Una vez definido el índice, genere el índice mediante la carga del esquema de índice, seguido de documentos.</span><span class="sxs-lookup"><span data-stu-id="a8503-193">After the index is defined, build the index by uploading the index schema, followed by documents.</span></span> <span data-ttu-id="a8503-194">Consulte [Crear índice](search-api-2015-02-28-preview.md#CreateIndex) y [Agregar, actualizar o eliminar documentos](search-api-2015-02-28-preview.md#AddOrUpdateDocuments) para obtener instrucciones sobre estas operaciones.</span><span class="sxs-lookup"><span data-stu-id="a8503-194">See [Create Index](search-api-2015-02-28-preview.md#CreateIndex) and [Add or Update Documents](search-api-2015-02-28-preview.md#AddOrUpdateDocuments) for instructions on these operations.</span></span> <span data-ttu-id="a8503-195">Una vez creado el índice, debe tener un perfil de puntuación funcional que funcione con los datos de búsqueda.</span><span class="sxs-lookup"><span data-stu-id="a8503-195">Once the index is built, you should have a functional scoring profile that works with your search data.</span></span>

<a name="bkmk_template"></a>

## <a name="template"></a><span data-ttu-id="a8503-196">Plantilla</span><span class="sxs-lookup"><span data-stu-id="a8503-196">Template</span></span>
<span data-ttu-id="a8503-197">En esta sección se muestra la sintaxis y la plantilla de perfiles de puntuación.</span><span class="sxs-lookup"><span data-stu-id="a8503-197">This section shows the syntax and template for scoring profiles.</span></span> <span data-ttu-id="a8503-198">Consulte [Referencia del atributo de índice](#bkmk_indexref) en la sección siguiente para obtener descripciones de los atributos.</span><span class="sxs-lookup"><span data-stu-id="a8503-198">Refer to [Index attribute reference](#bkmk_indexref) in the next section for descriptions of the attributes.</span></span>

    ...
    "scoringProfiles": [
      {
        "name": "name of scoring profile",
        "text": (optional, only applies to searchable fields) {
          "weights": {
            "searchable_field_name": relative_weight_value (positive #'s),
            ...
          }
        },
        "functions": (optional) [
          {
            "type": "magnitude | freshness | distance | tag",
            "boost": # (positive number used as multiplier for raw score != 1),
            "fieldName": "...",
            "interpolation": "constant | linear (default) | quadratic | logarithmic",

            "magnitude": {
              "boostingRangeStart": #,
              "boostingRangeEnd": #,
              "constantBoostBeyondRange": true | false (default)
            }

            // (- or -)

            "freshness": {
              "boostingDuration": "..." (value representing timespan over which boosting occurs)
            }

            // (- or -)

            "distance": {
              "referencePointParameter": "...", (parameter to be passed in queries to use as reference location)
              "boostingDistance": # (the distance in kilometers from the reference location where the boosting range ends)
            }

            // (- or -)

            "tag": {
              "tagsParameter": "..." (parameter to be passed in queries to specify list of tags to compare against target field)
            }
          }
        ],
        "functionAggregation": (optional, applies only when functions are specified)
            "sum (default) | average | minimum | maximum | firstMatching"
      }
    ],
    "defaultScoringProfile": (optional) "...",
    ...

<a name="bkmk_indexref"></a>

## <a name="scoring-profile-property-reference"></a><span data-ttu-id="a8503-199">Referencia de propiedad de perfil de puntuación</span><span class="sxs-lookup"><span data-stu-id="a8503-199">Scoring profile property reference</span></span>
> [!NOTE]
> <span data-ttu-id="a8503-200">Una función de puntuación solo puede aplicarse a campos filtrables.</span><span class="sxs-lookup"><span data-stu-id="a8503-200">A scoring function can only be applied to fields that are filterable.</span></span>
>
>

| <span data-ttu-id="a8503-201">Propiedad</span><span class="sxs-lookup"><span data-stu-id="a8503-201">Property</span></span> | <span data-ttu-id="a8503-202">Description</span><span class="sxs-lookup"><span data-stu-id="a8503-202">Description</span></span> |
| --- | --- |
| `name` |<span data-ttu-id="a8503-203">Obligatorio.</span><span class="sxs-lookup"><span data-stu-id="a8503-203">Required.</span></span> <span data-ttu-id="a8503-204">Este es el nombre del perfil de puntuación.</span><span class="sxs-lookup"><span data-stu-id="a8503-204">This is the name of the scoring profile.</span></span> <span data-ttu-id="a8503-205">Sigue las mismas convenciones de nomenclatura de un campo.</span><span class="sxs-lookup"><span data-stu-id="a8503-205">It follows the same naming conventions of a field.</span></span> <span data-ttu-id="a8503-206">Debe comenzar por una letra, no puede contener puntos, dos puntos o símbolos @ y no puede comenzar con la frase «Búsquedaazure» (distingue entre mayúsculas y minúsculas).</span><span class="sxs-lookup"><span data-stu-id="a8503-206">It must start with a letter, cannot contain dots, colons or @ symbols, and cannot start with the phrase "azureSearch" (case-sensitive).</span></span> |
| `text` |<span data-ttu-id="a8503-207">Contiene la propiedad Weights.</span><span class="sxs-lookup"><span data-stu-id="a8503-207">Contains the Weights property.</span></span> |
| `weights` |<span data-ttu-id="a8503-208">Opcional.</span><span class="sxs-lookup"><span data-stu-id="a8503-208">Optional.</span></span> <span data-ttu-id="a8503-209">Par de nombre-valor que especifica un nombre de campo y un peso relativo.</span><span class="sxs-lookup"><span data-stu-id="a8503-209">A name-value pair that specifies a field name and relative weight.</span></span> <span data-ttu-id="a8503-210">El peso relativo debe ser un número entero positivo o un número de punto flotante.</span><span class="sxs-lookup"><span data-stu-id="a8503-210">Relative weight must be a positive integer or floating-point number.</span></span> <span data-ttu-id="a8503-211">Puede especificar el nombre del campo sin un peso correspondiente.</span><span class="sxs-lookup"><span data-stu-id="a8503-211">You can specify the field name without a corresponding weight.</span></span> <span data-ttu-id="a8503-212">Weights se usa para indicar la importancia de un campo en relación con otro.</span><span class="sxs-lookup"><span data-stu-id="a8503-212">Weights are used to indicate the importance of one field relative to another.</span></span> |
| `functions` |<span data-ttu-id="a8503-213">Opcional.</span><span class="sxs-lookup"><span data-stu-id="a8503-213">Optional.</span></span> <span data-ttu-id="a8503-214">Tenga en cuenta que las funciones de puntuación solo pueden aplicarse a campos filtrables.</span><span class="sxs-lookup"><span data-stu-id="a8503-214">Note that a scoring function can only be applied to fields that are filterable.</span></span> |
| `type` |<span data-ttu-id="a8503-215">Obligatorio para las funciones de puntuación.</span><span class="sxs-lookup"><span data-stu-id="a8503-215">Required for scoring functions.</span></span> <span data-ttu-id="a8503-216">Indica el tipo de función que se usará.</span><span class="sxs-lookup"><span data-stu-id="a8503-216">Indicates the type of function to use.</span></span> <span data-ttu-id="a8503-217">Entre los valores válidos se incluyen `magnitude`, `freshness`, `distance` y `tag`.</span><span class="sxs-lookup"><span data-stu-id="a8503-217">Valid values include `magnitude`, `freshness`, `distance` and `tag`.</span></span> <span data-ttu-id="a8503-218">Puede incluir más de una función en cada perfil de puntuación.</span><span class="sxs-lookup"><span data-stu-id="a8503-218">You can include more than one function in each scoring profile.</span></span> <span data-ttu-id="a8503-219">El nombre de la función debe estar en minúsculas.</span><span class="sxs-lookup"><span data-stu-id="a8503-219">The function name must be lower case.</span></span> |
| `boost` |<span data-ttu-id="a8503-220">Obligatorio para las funciones de puntuación.</span><span class="sxs-lookup"><span data-stu-id="a8503-220">Required for scoring functions.</span></span> <span data-ttu-id="a8503-221">Número positivo usado como multiplicador para el resultado sin formato.</span><span class="sxs-lookup"><span data-stu-id="a8503-221">A positive number used as multiplier for raw score.</span></span> <span data-ttu-id="a8503-222">No puede ser igual a 1.</span><span class="sxs-lookup"><span data-stu-id="a8503-222">It cannot be equal to 1.</span></span> |
| `fieldName` |<span data-ttu-id="a8503-223">Obligatorio para las funciones de puntuación.</span><span class="sxs-lookup"><span data-stu-id="a8503-223">Required for scoring functions.</span></span> <span data-ttu-id="a8503-224">Una función de puntuación solo puede aplicarse a los campos que forman parte de la colección de campos del índice y que son filtrables.</span><span class="sxs-lookup"><span data-stu-id="a8503-224">A scoring function can only be applied to fields that are part of the field collection of the index, and that are filterable.</span></span> <span data-ttu-id="a8503-225">Además, cada tipo de función introduce restricciones adicionales (índice de actualización se usa con campos de fecha y hora, magnitud con número entero o campos dobles, distancia con campos de ubicación y etiqueta con cadena o campos de colección de cadenas).</span><span class="sxs-lookup"><span data-stu-id="a8503-225">In addition, each function type introduces additional restrictions (freshness is used with datetime fields, magnitude with integer or double fields, distance with location fields and tag with string or string collection fields).</span></span> <span data-ttu-id="a8503-226">Solo puede especificar un campo único por cada definición de función.</span><span class="sxs-lookup"><span data-stu-id="a8503-226">You can only specify a single field per function definition.</span></span> <span data-ttu-id="a8503-227">Por ejemplo, para usar magnitud dos veces en el mismo perfil, necesitaría incluir dos magnitudes de definiciones, una para cada campo.</span><span class="sxs-lookup"><span data-stu-id="a8503-227">For example, to use magnitude twice in the same profile, you would need to include two definitions magnitude, one for each field.</span></span> |
| `interpolation` |<span data-ttu-id="a8503-228">Obligatorio para las funciones de puntuación.</span><span class="sxs-lookup"><span data-stu-id="a8503-228">Required for scoring functions.</span></span> <span data-ttu-id="a8503-229">Define la pendiente con la que la potenciación de la puntuación aumenta desde el inicio del rango hasta su final.</span><span class="sxs-lookup"><span data-stu-id="a8503-229">Defines the slope for which the score boosting increases from the start of the range to the end of the range.</span></span> <span data-ttu-id="a8503-230">Entre los valores válidos se incluyen `linear` (predeterminado), `constant`, `quadratic` y `logarithmic`.</span><span class="sxs-lookup"><span data-stu-id="a8503-230">Valid values include `linear` (default), `constant`, `quadratic`, and `logarithmic`.</span></span> <span data-ttu-id="a8503-231">Consulte [Establecer interpolaciones](#bkmk_interpolation) para más información.</span><span class="sxs-lookup"><span data-stu-id="a8503-231">See [Set interpolations](#bkmk_interpolation) for details.</span></span> |
| `magnitude` |<span data-ttu-id="a8503-232">La función de puntuación de la magnitud se usa para modificar las clasificaciones según el intervalo de valores de un campo numérico.</span><span class="sxs-lookup"><span data-stu-id="a8503-232">The magnitude scoring function is used to alter rankings based on the range of values for a numeric field.</span></span> <span data-ttu-id="a8503-233">Algunos de los ejemplos de uso más habituales sobre esto son:</span><span class="sxs-lookup"><span data-stu-id="a8503-233">Some of the most common usage examples of this are:</span></span><ul><li><span data-ttu-id="a8503-234">Clasificaciones por estrellas: modifique la puntuación en función del valor del campo "Clasificación por estrellas".</span><span class="sxs-lookup"><span data-stu-id="a8503-234">Star ratings: Alter the scoring based on the value within the "Star Rating" field.</span></span> <span data-ttu-id="a8503-235">Cuando dos elementos son pertinentes, en primer lugar se mostrará el elemento con la clasificación superior.</span><span class="sxs-lookup"><span data-stu-id="a8503-235">When two items are relevant, the item with the higher rating will be displayed first.</span></span></li><li><span data-ttu-id="a8503-236">Margen: cuando dos documentos son relevantes, es posible que un distribuidor aumente los documentos que tengan mayores márgenes a las primeras posiciones.</span><span class="sxs-lookup"><span data-stu-id="a8503-236">Margin: When two documents are relevant, a retailer may wish to boost documents that have higher margins first.</span></span></li><li><span data-ttu-id="a8503-237">Recuentos de clics: en las aplicaciones que hacen un seguimiento de los clics en productos o páginas, puede usar la magnitud para aumentar elementos que tienden a atraer el máximo de tráfico.</span><span class="sxs-lookup"><span data-stu-id="a8503-237">Click counts: For applications that track click through actions to products or pages, you could use magnitude to boost items that tend to get the most traffic.</span></span></li><li><span data-ttu-id="a8503-238">Recuentos de descargas: para las aplicaciones que hacen el seguimiento de descargas, la función magnitud le permite aumentar los elementos que tienen más descargas.</span><span class="sxs-lookup"><span data-stu-id="a8503-238">Download counts: For applications that track downloads, the magnitude function lets you boost items that have the most downloads.</span></span></li></ul> |
| `magnitude:boostingRangeStart` |<span data-ttu-id="a8503-239">Establece el valor inicial del intervalo en el que se puntúa la magnitud.</span><span class="sxs-lookup"><span data-stu-id="a8503-239">Sets the start value of the range over which magnitude is scored.</span></span> <span data-ttu-id="a8503-240">El valor debe ser un número entero o un número de punto flotante.</span><span class="sxs-lookup"><span data-stu-id="a8503-240">The value must be an integer or floating-point number.</span></span> <span data-ttu-id="a8503-241">En cuanto a las clasificaciones por estrellas de 1 a 4, esto equivaldría a 1.</span><span class="sxs-lookup"><span data-stu-id="a8503-241">For star ratings of 1 through 4, this would be 1.</span></span> <span data-ttu-id="a8503-242">Para los márgenes superiores al 50%, esto equivaldría a 50.</span><span class="sxs-lookup"><span data-stu-id="a8503-242">For margins over 50%, this would be 50.</span></span> |
| `magnitude:boostingRangeEnd` |<span data-ttu-id="a8503-243">Establece el valor final del intervalo en el que se puntúa la magnitud.</span><span class="sxs-lookup"><span data-stu-id="a8503-243">Sets the end value of the range over which magnitude is scored.</span></span> <span data-ttu-id="a8503-244">El valor debe ser un número entero o un número de punto flotante.</span><span class="sxs-lookup"><span data-stu-id="a8503-244">The value must be an integer or floating-point number.</span></span> <span data-ttu-id="a8503-245">En cuanto a las clasificaciones por estrellas de 1 a 4, esto equivaldría a 4.</span><span class="sxs-lookup"><span data-stu-id="a8503-245">For star ratings of 1 through 4, this would be 4.</span></span> |
| `magnitude:constantBoostBeyondRange` |<span data-ttu-id="a8503-246">Los valores válidos son true o false (valor predeterminado).</span><span class="sxs-lookup"><span data-stu-id="a8503-246">Valid values are true or false (default).</span></span> <span data-ttu-id="a8503-247">Cuando se establece en true, la potenciación completa continuará aplicándose a los documentos que tienen un valor para el campo de destino superior al extremo superior del intervalo.</span><span class="sxs-lookup"><span data-stu-id="a8503-247">When set to true, the full boost will continue to apply to documents that have a value for the target field that’s higher than the upper end of the range.</span></span> <span data-ttu-id="a8503-248">Si es false, la potenciación de esta función no se aplicará a los documentos que tengan un valor para el campo de destino que se encuentre fuera del intervalo.</span><span class="sxs-lookup"><span data-stu-id="a8503-248">If false, the boost of this function won’t be applied to documents having a value for the target field that falls outside of the range.</span></span> |
| `freshness` |<span data-ttu-id="a8503-249">La función de puntuación del índice de actualización se usa para modificar las puntuaciones de clasificación de los elementos basados en valores de campos de DateTimeOffset.</span><span class="sxs-lookup"><span data-stu-id="a8503-249">The freshness scoring function is used to alter ranking scores for items based on values in DateTimeOffset fields.</span></span> <span data-ttu-id="a8503-250">Por ejemplo, un elemento con una fecha más reciente puede clasificarse por encima de los elementos más antiguos.</span><span class="sxs-lookup"><span data-stu-id="a8503-250">For example, an item with a more recent date can be ranked higher than older items.</span></span> <span data-ttu-id="a8503-251">(Tenga en cuenta que también es posible clasificar elementos, como eventos del calendario con fechas futuras, de manera que los elementos más cercanos al presente tengan una clasificación más alta que los elementos más alejados en el futuro). En la versión actual del servicio, uno de los extremos del intervalo se corregirá a la hora actual.</span><span class="sxs-lookup"><span data-stu-id="a8503-251">(Note that it is also possible to rank items like calendar events with future dates such that items closer to the present can be ranked higher than items further in the future.) In the current service release, one end of the range will be fixed to the current time.</span></span> <span data-ttu-id="a8503-252">El otro extremo es un momento en el pasado basado en el elemento `boostingDuration`.</span><span class="sxs-lookup"><span data-stu-id="a8503-252">The other end is a time in the past based on the `boostingDuration`.</span></span> <span data-ttu-id="a8503-253">Para potenciar un intervalo de horas en el futuro use una `boostingDuration`negativa.</span><span class="sxs-lookup"><span data-stu-id="a8503-253">To boost a range of times in the future use a negative `boostingDuration`.</span></span> <span data-ttu-id="a8503-254">La velocidad a la que cambia la potenciación desde un intervalo máximo y mínimo viene determinada por la interpolación aplicada al perfil de puntuación (consulte la figura siguiente).</span><span class="sxs-lookup"><span data-stu-id="a8503-254">The rate at which the boosting changes from a maximum and minimum range is determined by the Interpolation applied to the scoring profile (see the figure below).</span></span> <span data-ttu-id="a8503-255">Para invertir el factor de potenciación aplicado, seleccione un factor de potenciación de menos de 1.</span><span class="sxs-lookup"><span data-stu-id="a8503-255">To reverse the boosting factor applied, choose a boost factor of less than 1.</span></span> |
| `freshness:boostingDuration` |<span data-ttu-id="a8503-256">Establece un período de caducidad después del que se detendrá la potenciación de un documento determinado.</span><span class="sxs-lookup"><span data-stu-id="a8503-256">Sets an expiration period after which boosting will stop for a particular document.</span></span> <span data-ttu-id="a8503-257">Consulte [Establecer boostingDuration](#bkmk_boostdur) en la sección siguiente para obtener información sobre la sintaxis y ejemplos.</span><span class="sxs-lookup"><span data-stu-id="a8503-257">See [Set boostingDuration](#bkmk_boostdur) in the following section for syntax and examples.</span></span> |
| `distance` |<span data-ttu-id="a8503-258">La función de puntuación de la distancia se usa para afectar a la puntuación de documentos en función de la cercanía o distancia respecto a una ubicación geográfica de referencia.</span><span class="sxs-lookup"><span data-stu-id="a8503-258">The distance scoring function is used to affect the score of documents based on how close or far they are relative to a reference geographic location.</span></span> <span data-ttu-id="a8503-259">La ubicación de referencia se proporciona como parte de la consulta en un parámetro (mediante el parámetro de consulta `scoringParameter` ) como argumento lon, lat.</span><span class="sxs-lookup"><span data-stu-id="a8503-259">The reference location is given as part of the query in a parameter (using the `scoringParameter` query parameter) as a lon,lat argument.</span></span> |
| `distance:referencePointParameter` |<span data-ttu-id="a8503-260">Parámetro que se pasarán en las consultas a usar como ubicación de referencia.</span><span class="sxs-lookup"><span data-stu-id="a8503-260">A parameter to be passed in queries to use as reference location.</span></span> <span data-ttu-id="a8503-261">scoringParameter es un parámetro de consulta.</span><span class="sxs-lookup"><span data-stu-id="a8503-261">scoringParameter is a query parameter.</span></span> <span data-ttu-id="a8503-262">Consulte [Búsqueda de documentos](search-api-2015-02-28-preview.md#SearchDocs) para obtener descripciones de los parámetros de consulta.</span><span class="sxs-lookup"><span data-stu-id="a8503-262">See [Search Documents](search-api-2015-02-28-preview.md#SearchDocs) for descriptions of query parameters.</span></span> |
| `distance:boostingDistance` |<span data-ttu-id="a8503-263">Número que indica la distancia en kilómetros desde la ubicación de referencia donde finaliza el intervalo de potenciación.</span><span class="sxs-lookup"><span data-stu-id="a8503-263">A number that indicates the distance in kilometers from the reference location where the boosting range ends.</span></span> |
| `tag` |<span data-ttu-id="a8503-264">La función de puntuación de etiquetas se usa para afectar a la puntuación de documentos basados en las etiquetas de documentos y las consultas de búsqueda.</span><span class="sxs-lookup"><span data-stu-id="a8503-264">The tag scoring function is used to affect the score of documents based on tags in documents and search queries.</span></span> <span data-ttu-id="a8503-265">Los documentos que tienen etiquetas en común con la consulta de búsqueda se potenciarán.</span><span class="sxs-lookup"><span data-stu-id="a8503-265">Documents that have tags in common with the search query will be boosted.</span></span> <span data-ttu-id="a8503-266">Las etiquetas de la consulta de búsqueda se proporcionan como un parámetro de puntuación en cada solicitud de búsqueda (mediante el parámetro de consulta `scoringParameter` ).</span><span class="sxs-lookup"><span data-stu-id="a8503-266">The tags for the search query is provided as a scoring parameter in each search request(using the `scoringParameter` query parameter).</span></span> |
| `tag:tagsParameter` |<span data-ttu-id="a8503-267">Parámetro que se pasará en las consultas para especificar etiquetas para una solicitud en particular.</span><span class="sxs-lookup"><span data-stu-id="a8503-267">A parameter to be passed in queries to specify tags for a particular request.</span></span> <span data-ttu-id="a8503-268">`scoringParameter` es un parámetro de consulta.</span><span class="sxs-lookup"><span data-stu-id="a8503-268">`scoringParameter` is a query parameter.</span></span> <span data-ttu-id="a8503-269">Consulte [Búsqueda de documentos](search-api-2015-02-28-preview.md#SearchDocs) para obtener descripciones de los parámetros de consulta.</span><span class="sxs-lookup"><span data-stu-id="a8503-269">See [Search Documents](search-api-2015-02-28-preview.md#SearchDocs) for descriptions of query parameters.</span></span> |
| `functionAggregation` |<span data-ttu-id="a8503-270">Opcional.</span><span class="sxs-lookup"><span data-stu-id="a8503-270">Optional.</span></span> <span data-ttu-id="a8503-271">Se aplica solo cuando se especifican las funciones.</span><span class="sxs-lookup"><span data-stu-id="a8503-271">Applies only when functions are specified.</span></span> <span data-ttu-id="a8503-272">Entre los valores válidos se incluyen `sum` (predeterminado), `average`, `minimum`, `maximum` y `firstMatching`.</span><span class="sxs-lookup"><span data-stu-id="a8503-272">Valid values include: `sum` (default), `average`, `minimum`, `maximum`, and `firstMatching`.</span></span> <span data-ttu-id="a8503-273">Una puntuación de búsqueda es un valor único que se calcula a partir de varias variables, incluidas varias funciones.</span><span class="sxs-lookup"><span data-stu-id="a8503-273">A search score is a single value that is computed from multiple variables, including multiple functions.</span></span> <span data-ttu-id="a8503-274">Estos atributos indican cómo se combinan la potenciación de todas las funciones en una única potenciación total que, a continuación, se aplica a la puntuación del documento base.</span><span class="sxs-lookup"><span data-stu-id="a8503-274">This attributes indicates how the boosts of all the functions are combined into a single aggregate boost that is then applied to the base document score.</span></span> <span data-ttu-id="a8503-275">La puntuación base se basa en el valor tf-idf calculado a partir del documento y la consulta de búsqueda.</span><span class="sxs-lookup"><span data-stu-id="a8503-275">The base score is based on the tf-idf value computed from the document and the search query.</span></span> |
| `defaultScoringProfile` |<span data-ttu-id="a8503-276">Al ejecutar una solicitud de búsqueda, si no se especifica ningún perfil de puntuación, se usará la puntuación predeterminada (tf-idf solamente).</span><span class="sxs-lookup"><span data-stu-id="a8503-276">When executing a search request, if no scoring profile is specified, then default scoring is used (tf-idf only).</span></span> <span data-ttu-id="a8503-277">Aquí puede establecerse un nombre de perfil de puntuación predeterminado, que provocará que la Búsqueda de Azure use ese perfil cuando no se proporcione ningún perfil específico en la solicitud de búsqueda.</span><span class="sxs-lookup"><span data-stu-id="a8503-277">A default scoring profile name can be set here, causing Azure Search to use that profile when no specific profile is given in the search request.</span></span> |

<a name="bkmk_interpolation"></a>

## <a name="set-interpolations"></a><span data-ttu-id="a8503-278">Establecer interpolaciones</span><span class="sxs-lookup"><span data-stu-id="a8503-278">Set interpolations</span></span>
<span data-ttu-id="a8503-279">Las interpolaciones le permiten definir la pendiente con la que la potenciación de la puntuación aumenta desde el inicio del rango hasta su final.</span><span class="sxs-lookup"><span data-stu-id="a8503-279">Interpolations allow you to define the slope for which the score boosting increases from the start of the range to the end of the range.</span></span> <span data-ttu-id="a8503-280">Es posible usar las siguientes interpolaciones:</span><span class="sxs-lookup"><span data-stu-id="a8503-280">The following interpolations can be used:</span></span>

* <span data-ttu-id="a8503-281">`Linear`: Para los elementos que están dentro del intervalo máximo y mínimo, la potenciación aplicada al elemento se realizará en un grado que va decreciendo de manera constante.</span><span class="sxs-lookup"><span data-stu-id="a8503-281">`Linear`: For items that are within the max and min range, the boost applied to the item will be done in a constantly decreasing amount.</span></span> <span data-ttu-id="a8503-282">Lineal es la interpolación predeterminada de un perfil de puntuación.</span><span class="sxs-lookup"><span data-stu-id="a8503-282">Linear is the default interpolation for a scoring profile.</span></span>
* <span data-ttu-id="a8503-283">`Constant`: En los elementos que se encuentran dentro del intervalo de inicio y finalización, se aplicará una potenciación constante a los resultados de la clasificación.</span><span class="sxs-lookup"><span data-stu-id="a8503-283">`Constant`: For items that are within the start and ending range, a constant boost will be applied to the rank results.</span></span>
* <span data-ttu-id="a8503-284">`Quadratic`: En comparación con una interpolación lineal que tiene una potenciación en reducción constante, Cuadrático provocará inicialmente una reducción a un ritmo inferior y, a continuación, a medida que se aproxima el final del intervalo, se reduce a un intervalo muy superior.</span><span class="sxs-lookup"><span data-stu-id="a8503-284">`Quadratic`: In comparison to a Linear interpolation that has a constantly decreasing boost, Quadratic will initially decrease at smaller pace and then as it approaches the end range, it decreases at a much higher interval.</span></span> <span data-ttu-id="a8503-285">Esta opción de interpolación no se permite en funciones de puntuación de etiquetas.</span><span class="sxs-lookup"><span data-stu-id="a8503-285">This interpolation option is not allowed in tag scoring functions.</span></span>
* <span data-ttu-id="a8503-286">`Logarithmic`: En comparación con una interpolación lineal que tiene una potenciación en reducción constante, Logarítmico provocará inicialmente una reducción a un ritmo superior y, a continuación, a medida que se aproxima el final del intervalo, se reduce a un intervalo muy inferior.</span><span class="sxs-lookup"><span data-stu-id="a8503-286">`Logarithmic`: In comparison to a Linear interpolation that has a constantly decreasing boost, Logarithmic will initially decrease at higher pace and then as it approaches the end range, it decreases at a much smaller interval.</span></span> <span data-ttu-id="a8503-287">Esta opción de interpolación no se permite en funciones de puntuación de etiquetas.</span><span class="sxs-lookup"><span data-stu-id="a8503-287">This interpolation option is not allowed in tag scoring functions.</span></span>

<span data-ttu-id="a8503-288"><a name="Figure1"></a> ![][1]</span><span class="sxs-lookup"><span data-stu-id="a8503-288"><a name="Figure1"></a> ![][1]</span></span>

<a name="bkmk_boostdur"></a>

## <a name="set-boostingduration"></a><span data-ttu-id="a8503-289">Establecer boostingDuration</span><span class="sxs-lookup"><span data-stu-id="a8503-289">Set boostingDuration</span></span>
<span data-ttu-id="a8503-290">`boostingDuration` es un atributo de la función de índice de actualización.</span><span class="sxs-lookup"><span data-stu-id="a8503-290">`boostingDuration` is an attribute of the freshness function.</span></span> <span data-ttu-id="a8503-291">Se usa para establecer un período de caducidad después del que se detendrá la potenciación de un documento determinado.</span><span class="sxs-lookup"><span data-stu-id="a8503-291">You use it to set an expiration period after which boosting will stop for a particular document.</span></span> <span data-ttu-id="a8503-292">Por ejemplo, para potenciar una línea de productos o marca durante un período de promoción de 10 días, debe especificar el período de 10 días como "P10D" para dichos documentos.</span><span class="sxs-lookup"><span data-stu-id="a8503-292">For example, to boost a product line or brand for a 10-day promotional period, you would specify the 10-day period as "P10D" for those documents.</span></span> <span data-ttu-id="a8503-293">O bien, para elevar próximos eventos en la próxima semana, especifique "-P7D".</span><span class="sxs-lookup"><span data-stu-id="a8503-293">Or to boost upcoming events in the next week specify "-P7D".</span></span>

<span data-ttu-id="a8503-294">`boostingDuration` debe tener el formato de un valor "dayTimeDuration" XSD (subconjunto restringido de un valor de duración ISO 8601).</span><span class="sxs-lookup"><span data-stu-id="a8503-294">`boostingDuration` must be formatted as an XSD "dayTimeDuration" value (a restricted subset of an ISO 8601 duration value).</span></span> <span data-ttu-id="a8503-295">El patrón de este es: `[-]P[nD][T[nH][nM][nS]]`.</span><span class="sxs-lookup"><span data-stu-id="a8503-295">The pattern for this is: `[-]P[nD][T[nH][nM][nS]]`.</span></span>

<span data-ttu-id="a8503-296">La tabla siguiente proporciona varios ejemplos.</span><span class="sxs-lookup"><span data-stu-id="a8503-296">The following table provides several examples.</span></span>

| <span data-ttu-id="a8503-297">Duración</span><span class="sxs-lookup"><span data-stu-id="a8503-297">Duration</span></span> | <span data-ttu-id="a8503-298">boostingDuration</span><span class="sxs-lookup"><span data-stu-id="a8503-298">boostingDuration</span></span> |
| --- | --- |
| <span data-ttu-id="a8503-299">1 día</span><span class="sxs-lookup"><span data-stu-id="a8503-299">1 day</span></span> |<span data-ttu-id="a8503-300">"P1D"</span><span class="sxs-lookup"><span data-stu-id="a8503-300">"P1D"</span></span> |
| <span data-ttu-id="a8503-301">2 días, 12 horas</span><span class="sxs-lookup"><span data-stu-id="a8503-301">2 days and 12 hours</span></span> |<span data-ttu-id="a8503-302">"P2DT12H"</span><span class="sxs-lookup"><span data-stu-id="a8503-302">"P2DT12H"</span></span> |
| <span data-ttu-id="a8503-303">15 minutos</span><span class="sxs-lookup"><span data-stu-id="a8503-303">15 minutes</span></span> |<span data-ttu-id="a8503-304">"PT15M"</span><span class="sxs-lookup"><span data-stu-id="a8503-304">"PT15M"</span></span> |
| <span data-ttu-id="a8503-305">30 días, 5 horas, 10 minutos y 6,334 segundos</span><span class="sxs-lookup"><span data-stu-id="a8503-305">30 days, 5 hours, 10 minutes, and 6.334 seconds</span></span> |<span data-ttu-id="a8503-306">"P30DT5H10M6.334S"</span><span class="sxs-lookup"><span data-stu-id="a8503-306">"P30DT5H10M6.334S"</span></span> |

<span data-ttu-id="a8503-307">Para obtener más ejemplos, consulte [Esquema XML: tipos de datos (sitio web de W3.org)](http://www.w3.org/TR/xmlschema11-2/).</span><span class="sxs-lookup"><span data-stu-id="a8503-307">For more examples, see [XML Schema: Datatypes (W3.org web site)](http://www.w3.org/TR/xmlschema11-2/).</span></span>

<span data-ttu-id="a8503-308">**Consulte también**
[API de REST del servicio Azure Search](http://msdn.microsoft.com/library/azure/dn798935.aspx) en MSDN</span><span class="sxs-lookup"><span data-stu-id="a8503-308">**See Also**
[Azure Search Service REST API](http://msdn.microsoft.com/library/azure/dn798935.aspx) on MSDN</span></span> <br/><span data-ttu-id="a8503-309">
[Crear índice (API de Azure Search)](http://msdn.microsoft.com/library/azure/dn798941.aspx) en MSDN</span><span class="sxs-lookup"><span data-stu-id="a8503-309">
[Create Index (Azure Search API)](http://msdn.microsoft.com/library/azure/dn798941.aspx) on MSDN</span></span><br/><span data-ttu-id="a8503-310">
[Agregar un perfil de puntuación a un índice de búsqueda](http://msdn.microsoft.com/library/azure/dn798928.aspx) en MSDN</span><span class="sxs-lookup"><span data-stu-id="a8503-310">
[Add a scoring profile to a search index](http://msdn.microsoft.com/library/azure/dn798928.aspx) on MSDN</span></span><br/>

<!--Image references-->
[1]: ./media/search-api-scoring-profiles-2015-02-28-Preview/scoring_interpolations.png
