---
title: "aaaModeling multiempresa en búsqueda de Azure | Documentos de Microsoft"
description: "Aprenda sobre patrones de diseño comunes para aplicaciones SaaS multiinquilino mientras usa Azure Search."
services: search
manager: jhubbard
author: ashmaka
documentationcenter: 
ms.assetid: 72e9696a-553b-47dc-9e05-a82db0ebf094
ms.service: search
ms.devlang: NA
ms.workload: search
ms.topic: article
ms.tgt_pltfrm: na
ms.date: 10/26/2016
ms.author: ashmaka
ms.openlocfilehash: dd46cda772d32566b9aaa18d407f12fdf178bd43
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="design-patterns-for-multitenant-saas-applications-and-azure-search"></a><span data-ttu-id="555f0-103">Modelos de diseño para aplicaciones SaaS multiinquilino y Azure Search</span><span class="sxs-lookup"><span data-stu-id="555f0-103">Design patterns for multitenant SaaS applications and Azure Search</span></span>
<span data-ttu-id="555f0-104">Una aplicación para varios inquilinos es aquel que proporciona Hola mismo número de tooany de servicios y las capacidades de los inquilinos que no puede ver o compartir datos Hola de otro inquilino.</span><span class="sxs-lookup"><span data-stu-id="555f0-104">A multitenant application is one that provides hello same services and capabilities tooany number of tenants who cannot see or share hello data of any other tenant.</span></span> <span data-ttu-id="555f0-105">En este documento se describen estrategias de aislamiento de inquilinos para aplicaciones miltiinquilino creadas con Azure Search.</span><span class="sxs-lookup"><span data-stu-id="555f0-105">This document discusses tenant isolation strategies for multitenant applications built with Azure Search.</span></span>

## <a name="azure-search-concepts"></a><span data-ttu-id="555f0-106">Conceptos de Azure Search</span><span class="sxs-lookup"><span data-stu-id="555f0-106">Azure Search concepts</span></span>
<span data-ttu-id="555f0-107">Como una solución de búsqueda como servicio, búsqueda de Azure permite la búsqueda a los desarrolladores tooadd experimenta tooapplications sin administrar cualquier infraestructura o pase a ser un experto en la búsqueda.</span><span class="sxs-lookup"><span data-stu-id="555f0-107">As a search-as-a-service solution, Azure Search allows developers tooadd rich search experiences tooapplications without managing any infrastructure or becoming an expert in search.</span></span> <span data-ttu-id="555f0-108">Los datos son cargado toohello servicio y, a continuación, se almacenan en la nube de Hola.</span><span class="sxs-lookup"><span data-stu-id="555f0-108">Data is uploaded toohello service and then stored in hello cloud.</span></span> <span data-ttu-id="555f0-109">Usa solicitudes sencillas toohello API de búsqueda de Azure, datos de hello pueden, a continuación, modificar y buscar.</span><span class="sxs-lookup"><span data-stu-id="555f0-109">Using simple requests toohello Azure Search API, hello data can then be modified and searched.</span></span> <span data-ttu-id="555f0-110">Encontrará información general del servicio de hello en [este artículo](http://aka.ms/whatisazsearch).</span><span class="sxs-lookup"><span data-stu-id="555f0-110">An overview of hello service can be found in [this article](http://aka.ms/whatisazsearch).</span></span> <span data-ttu-id="555f0-111">Antes de hablar sobre los patrones de diseño, es importante toounderstand algunos conceptos en búsqueda de Azure.</span><span class="sxs-lookup"><span data-stu-id="555f0-111">Before discussing design patterns, it is important toounderstand some concepts in Azure Search.</span></span>

### <a name="search-services-indexes-fields-and-documents"></a><span data-ttu-id="555f0-112">Servicios de búsqueda, índices, campos y documentos</span><span class="sxs-lookup"><span data-stu-id="555f0-112">Search services, indexes, fields, and documents</span></span>
<span data-ttu-id="555f0-113">Cuando se utiliza la búsqueda de Azure, uno suscribe tooa *servicio de búsqueda*.</span><span class="sxs-lookup"><span data-stu-id="555f0-113">When using Azure Search, one subscribes tooa *search service*.</span></span> <span data-ttu-id="555f0-114">Como datos están cargado tooAzure búsqueda, se almacena en un *índice* dentro de servicio de búsqueda de Hola.</span><span class="sxs-lookup"><span data-stu-id="555f0-114">As data is uploaded tooAzure Search, it is stored in an *index* within hello search service.</span></span> <span data-ttu-id="555f0-115">Puede haber varios índices dentro de un único servicio.</span><span class="sxs-lookup"><span data-stu-id="555f0-115">There can be a number of indexes within a single service.</span></span> <span data-ttu-id="555f0-116">toouse Hola de conceptos conocidos de las bases de datos, servicio de búsqueda de hello pueden asemejar tooa base de datos mientras los índices de hello dentro de un servicio pueden ser asemejar tootables dentro de una base de datos.</span><span class="sxs-lookup"><span data-stu-id="555f0-116">toouse hello familiar concepts of databases, hello search service can be likened tooa database while hello indexes within a service can be likened tootables within a database.</span></span>

<span data-ttu-id="555f0-117">Cada índice dentro de un servicio de búsqueda tiene su propio esquema, que viene definido por in número de *campos*personalizables.</span><span class="sxs-lookup"><span data-stu-id="555f0-117">Each index within a search service has its own schema, which is defined by a number of customizable *fields*.</span></span> <span data-ttu-id="555f0-118">Se agregan datos de índice de búsqueda de Azure tooan en forma de Hola de persona *documentos*.</span><span class="sxs-lookup"><span data-stu-id="555f0-118">Data is added tooan Azure Search index in hello form of individual *documents*.</span></span> <span data-ttu-id="555f0-119">Cada documento debe ser el índice determinado de tooa cargados y debe ajustarse el esquema del índice.</span><span class="sxs-lookup"><span data-stu-id="555f0-119">Each document must be uploaded tooa particular index and must fit that index's schema.</span></span> <span data-ttu-id="555f0-120">Al buscar datos mediante la búsqueda de Azure, las consultas de búsqueda de texto completo de Hola se emiten en un índice determinado.</span><span class="sxs-lookup"><span data-stu-id="555f0-120">When searching data using Azure Search, hello full-text search queries are issued against a particular index.</span></span>  <span data-ttu-id="555f0-121">toocompare toothose de estos conceptos de una base de datos, los campos pueden estar asemejar toocolumns en una tabla y los documentos pueden ser asemejar toorows.</span><span class="sxs-lookup"><span data-stu-id="555f0-121">toocompare these concepts toothose of a database, fields can be likened toocolumns in a table and documents can be likened toorows.</span></span>

### <a name="scalability"></a><span data-ttu-id="555f0-122">Escalabilidad</span><span class="sxs-lookup"><span data-stu-id="555f0-122">Scalability</span></span>
<span data-ttu-id="555f0-123">Cualquier servicio de búsqueda de Azure en hello estándar [tarifa](https://azure.microsoft.com/pricing/details/search/) puede escalar de dos dimensiones: almacenamiento y disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="555f0-123">Any Azure Search service in hello Standard [pricing tier](https://azure.microsoft.com/pricing/details/search/) can scale in two dimensions: storage and availability.</span></span>

* <span data-ttu-id="555f0-124">*Las particiones* se pueden agregar almacenamiento de hello tooincrease de un servicio de búsqueda.</span><span class="sxs-lookup"><span data-stu-id="555f0-124">*Partitions* can be added tooincrease hello storage of a search service.</span></span>
* <span data-ttu-id="555f0-125">*Réplicas* puede agregarse el rendimiento de tooa servicio tooincrease Hola de solicitudes que puede administrar un servicio de búsqueda.</span><span class="sxs-lookup"><span data-stu-id="555f0-125">*Replicas* can be added tooa service tooincrease hello throughput of requests that a search service can handle.</span></span>

<span data-ttu-id="555f0-126">Agregar y quitar las particiones y réplicas en permitirá capacidad Hola de hello toogrow de servicio de búsqueda con la cantidad de Hola de datos y el tráfico de demandas de aplicaciones de Hola.</span><span class="sxs-lookup"><span data-stu-id="555f0-126">Adding and removing partitions and replicas at will allow hello capacity of hello search service toogrow with hello amount of data and traffic hello application demands.</span></span> <span data-ttu-id="555f0-127">En el criterio de un tooachieve de servicio de búsqueda de una lectura [SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/), requiere dos réplicas.</span><span class="sxs-lookup"><span data-stu-id="555f0-127">In order for a search service tooachieve a read [SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/), it requires two replicas.</span></span> <span data-ttu-id="555f0-128">En el criterio de un servicio tooachieve una lectura y escritura [SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/), requiere tres réplicas.</span><span class="sxs-lookup"><span data-stu-id="555f0-128">In order for a service tooachieve a read-write [SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/), it requires three replicas.</span></span>

### <a name="service-and-index-limits-in-azure-search"></a><span data-ttu-id="555f0-129">Límites de servicio e índice en Azure Search</span><span class="sxs-lookup"><span data-stu-id="555f0-129">Service and index limits in Azure Search</span></span>
<span data-ttu-id="555f0-130">Hay diversos diferentes [los niveles de precios](https://azure.microsoft.com/pricing/details/search/) en búsqueda de Azure, cada uno de los niveles de hello tiene distintos [límites y cuotas de](search-limits-quotas-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="555f0-130">There are a few different [pricing tiers](https://azure.microsoft.com/pricing/details/search/) in Azure Search, each of hello tiers has different [limits and quotas](search-limits-quotas-capacity.md).</span></span> <span data-ttu-id="555f0-131">Algunos de estos límites corren Hola de nivel de servicio, algunas están en el nivel del índice de Hola y algunos son en el nivel de partición Hola.</span><span class="sxs-lookup"><span data-stu-id="555f0-131">Some of these limits are at hello service-level, some are at hello index-level, and some are at hello partition-level.</span></span>

|  | <span data-ttu-id="555f0-132">Básica</span><span class="sxs-lookup"><span data-stu-id="555f0-132">Basic</span></span> | <span data-ttu-id="555f0-133">Standard1</span><span class="sxs-lookup"><span data-stu-id="555f0-133">Standard1</span></span> | <span data-ttu-id="555f0-134">Standard2</span><span class="sxs-lookup"><span data-stu-id="555f0-134">Standard2</span></span> | <span data-ttu-id="555f0-135">Standard3</span><span class="sxs-lookup"><span data-stu-id="555f0-135">Standard3</span></span> | <span data-ttu-id="555f0-136">Standard3 HD</span><span class="sxs-lookup"><span data-stu-id="555f0-136">Standard3 HD</span></span> |
| --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="555f0-137">Número máximo de réplicas por servicio</span><span class="sxs-lookup"><span data-stu-id="555f0-137">Maximum Replicas per Service</span></span> |<span data-ttu-id="555f0-138">3</span><span class="sxs-lookup"><span data-stu-id="555f0-138">3</span></span> |<span data-ttu-id="555f0-139">12</span><span class="sxs-lookup"><span data-stu-id="555f0-139">12</span></span> |<span data-ttu-id="555f0-140">12</span><span class="sxs-lookup"><span data-stu-id="555f0-140">12</span></span> |<span data-ttu-id="555f0-141">12</span><span class="sxs-lookup"><span data-stu-id="555f0-141">12</span></span> |<span data-ttu-id="555f0-142">12</span><span class="sxs-lookup"><span data-stu-id="555f0-142">12</span></span> |
| <span data-ttu-id="555f0-143">Número máximo de particiones por servicio</span><span class="sxs-lookup"><span data-stu-id="555f0-143">Maximum Partitions per Service</span></span> |<span data-ttu-id="555f0-144">1</span><span class="sxs-lookup"><span data-stu-id="555f0-144">1</span></span> |<span data-ttu-id="555f0-145">12</span><span class="sxs-lookup"><span data-stu-id="555f0-145">12</span></span> |<span data-ttu-id="555f0-146">12</span><span class="sxs-lookup"><span data-stu-id="555f0-146">12</span></span> |<span data-ttu-id="555f0-147">12</span><span class="sxs-lookup"><span data-stu-id="555f0-147">12</span></span> |<span data-ttu-id="555f0-148">1</span><span class="sxs-lookup"><span data-stu-id="555f0-148">1</span></span> |
| <span data-ttu-id="555f0-149">Número máximo de unidades de búsqueda (réplicas * particiones) por servicio</span><span class="sxs-lookup"><span data-stu-id="555f0-149">Maximum Search Units (Replicas*Partitions) per Service</span></span> |<span data-ttu-id="555f0-150">3</span><span class="sxs-lookup"><span data-stu-id="555f0-150">3</span></span> |<span data-ttu-id="555f0-151">36</span><span class="sxs-lookup"><span data-stu-id="555f0-151">36</span></span> |<span data-ttu-id="555f0-152">36</span><span class="sxs-lookup"><span data-stu-id="555f0-152">36</span></span> |<span data-ttu-id="555f0-153">36</span><span class="sxs-lookup"><span data-stu-id="555f0-153">36</span></span> |<span data-ttu-id="555f0-154">36 (3 particiones como máximo)</span><span class="sxs-lookup"><span data-stu-id="555f0-154">36 (max 3 partitions)</span></span> |
| <span data-ttu-id="555f0-155">Número máximo de documentos por servicio</span><span class="sxs-lookup"><span data-stu-id="555f0-155">Maximum Documents per Service</span></span> |<span data-ttu-id="555f0-156">1 millón</span><span class="sxs-lookup"><span data-stu-id="555f0-156">1 million</span></span> |<span data-ttu-id="555f0-157">180 millones</span><span class="sxs-lookup"><span data-stu-id="555f0-157">180 million</span></span> |<span data-ttu-id="555f0-158">720 millones</span><span class="sxs-lookup"><span data-stu-id="555f0-158">720 million</span></span> |<span data-ttu-id="555f0-159">1,4 mil millones</span><span class="sxs-lookup"><span data-stu-id="555f0-159">1.4 billion</span></span> |<span data-ttu-id="555f0-160">600 millones</span><span class="sxs-lookup"><span data-stu-id="555f0-160">600 million</span></span> |
| <span data-ttu-id="555f0-161">Almacenamiento máximo por servicio</span><span class="sxs-lookup"><span data-stu-id="555f0-161">Maximum Storage per Service</span></span> |<span data-ttu-id="555f0-162">2 GB</span><span class="sxs-lookup"><span data-stu-id="555f0-162">2 GB</span></span> |<span data-ttu-id="555f0-163">< 300 GB</span><span class="sxs-lookup"><span data-stu-id="555f0-163">300 GB</span></span> |<span data-ttu-id="555f0-164">1,2 TB</span><span class="sxs-lookup"><span data-stu-id="555f0-164">1.2 TB</span></span> |<span data-ttu-id="555f0-165">2,4 TB</span><span class="sxs-lookup"><span data-stu-id="555f0-165">2.4 TB</span></span> |<span data-ttu-id="555f0-166">600 GB</span><span class="sxs-lookup"><span data-stu-id="555f0-166">600 GB</span></span> |
| <span data-ttu-id="555f0-167">Número máximo de documentos por partición</span><span class="sxs-lookup"><span data-stu-id="555f0-167">Maximum Documents per Partition</span></span> |<span data-ttu-id="555f0-168">1 millón</span><span class="sxs-lookup"><span data-stu-id="555f0-168">1 million</span></span> |<span data-ttu-id="555f0-169">15 millones</span><span class="sxs-lookup"><span data-stu-id="555f0-169">15 million</span></span> |<span data-ttu-id="555f0-170">60 millones</span><span class="sxs-lookup"><span data-stu-id="555f0-170">60 million</span></span> |<span data-ttu-id="555f0-171">120 millones</span><span class="sxs-lookup"><span data-stu-id="555f0-171">120 million</span></span> |<span data-ttu-id="555f0-172">200 millones</span><span class="sxs-lookup"><span data-stu-id="555f0-172">200 million</span></span> |
| <span data-ttu-id="555f0-173">Almacenamiento máximo por partición</span><span class="sxs-lookup"><span data-stu-id="555f0-173">Maximum Storage per Partition</span></span> |<span data-ttu-id="555f0-174">2 GB</span><span class="sxs-lookup"><span data-stu-id="555f0-174">2 GB</span></span> |<span data-ttu-id="555f0-175">25 GB</span><span class="sxs-lookup"><span data-stu-id="555f0-175">25 GB</span></span> |<span data-ttu-id="555f0-176">100 GB</span><span class="sxs-lookup"><span data-stu-id="555f0-176">100 GB</span></span> |<span data-ttu-id="555f0-177">200 GB</span><span class="sxs-lookup"><span data-stu-id="555f0-177">200 GB</span></span> |<span data-ttu-id="555f0-178">200 GB</span><span class="sxs-lookup"><span data-stu-id="555f0-178">200 GB</span></span> |
| <span data-ttu-id="555f0-179">Número máximo de índices por servicio</span><span class="sxs-lookup"><span data-stu-id="555f0-179">Maximum Indexes per Service</span></span> |<span data-ttu-id="555f0-180">5</span><span class="sxs-lookup"><span data-stu-id="555f0-180">5</span></span> |<span data-ttu-id="555f0-181">50</span><span class="sxs-lookup"><span data-stu-id="555f0-181">50</span></span> |<span data-ttu-id="555f0-182">200</span><span class="sxs-lookup"><span data-stu-id="555f0-182">200</span></span> |<span data-ttu-id="555f0-183">200</span><span class="sxs-lookup"><span data-stu-id="555f0-183">200</span></span> |<span data-ttu-id="555f0-184">3000 (1000 índices/partición como máximo)</span><span class="sxs-lookup"><span data-stu-id="555f0-184">3000 (max 1000 indexes/partition)</span></span> |

#### <a name="s3-high-density"></a><span data-ttu-id="555f0-185">S3 alta densidad'</span><span class="sxs-lookup"><span data-stu-id="555f0-185">S3 High Density'</span></span>
<span data-ttu-id="555f0-186">En el nivel de precios de S3 de búsqueda de Azure, hay una opción para el modo de alta densidad (HD) Hola diseñado específicamente para los escenarios de varios inquilinos.</span><span class="sxs-lookup"><span data-stu-id="555f0-186">In Azure Search’s S3 pricing tier, there is an option for hello High Density (HD) mode designed specifically for multitenant scenarios.</span></span> <span data-ttu-id="555f0-187">En muchos casos, es necesario toosupport un gran número de inquilinos más pequeños en un ventajas de servicio único tooachieve Hola de simplicidad y la rentabilidad.</span><span class="sxs-lookup"><span data-stu-id="555f0-187">In many cases, it is necessary toosupport a large number of smaller tenants under a single service tooachieve hello benefits of simplicity and cost efficiency.</span></span>

<span data-ttu-id="555f0-188">S3 HD permite hello toobe de muchos índices pequeños empaquetados en administración de Hola de un servicio de búsqueda sencillo mediante comerciales Hola capacidad tooscale out índices con particiones para hello capacidad toohost varios índices en un único servicio.</span><span class="sxs-lookup"><span data-stu-id="555f0-188">S3 HD allows for hello many small indexes toobe packed under hello management of a single search service by trading hello ability tooscale out indexes using partitions for hello ability toohost more indexes in a single service.</span></span>

<span data-ttu-id="555f0-189">En concreto, un servicio de S3 podría tener entre 1 y 200 índices que pudieron hospedar juntos documentos de miles de millones de too1.4.</span><span class="sxs-lookup"><span data-stu-id="555f0-189">Concretely, an S3 service could have between 1 and 200 indexes that together could host up too1.4 billion documents.</span></span> <span data-ttu-id="555f0-190">Un HD S3 en hello otra parte permitiría índices individuales tooonly Subir too1 millones de documentos, pero puede administrar los índices de too1000 por partición (arriba too3000 por servicio) con un recuento total del documento de 200 millones por partición (seguridad too600 millones por servicio).</span><span class="sxs-lookup"><span data-stu-id="555f0-190">An S3 HD on hello other hand would allow individual indexes tooonly go up too1 million documents, but it can handle up too1000 indexes per partition (up too3000 per service) with a total document count of 200 million per partition (up too600 million per service).</span></span>

## <a name="considerations-for-multitenant-applications"></a><span data-ttu-id="555f0-191">Consideraciones sobre las aplicaciones multiinquilino</span><span class="sxs-lookup"><span data-stu-id="555f0-191">Considerations for multitenant applications</span></span>
<span data-ttu-id="555f0-192">Aplicaciones para varios inquilinos deben distribuir de manera eficaz recursos entre inquilinos Hola conservando cierto nivel de privacidad entre Hola varios inquilinos.</span><span class="sxs-lookup"><span data-stu-id="555f0-192">Multitenant applications must effectively distribute resources among hello tenants while preserving some level of privacy between hello various tenants.</span></span> <span data-ttu-id="555f0-193">Hay algunas consideraciones al diseñar la arquitectura de Hola para este tipo de aplicación:</span><span class="sxs-lookup"><span data-stu-id="555f0-193">There are a few considerations when designing hello architecture for such an application:</span></span>

* <span data-ttu-id="555f0-194">*Aislamiento de inquilinos:* los desarrolladores de aplicaciones necesitan tootake tooensure de las medidas adecuadas que ningún inquilino tiene no autorizado o no deseado toohello acceder a los datos de otros inquilinos.</span><span class="sxs-lookup"><span data-stu-id="555f0-194">*Tenant isolation:* Application developers need tootake appropriate measures tooensure that no tenants have unauthorized or unwanted access toohello data of other tenants.</span></span> <span data-ttu-id="555f0-195">Más allá de la perspectiva de Hola de privacidad de los datos, las estrategias de aislamiento de inquilinos requieren administración eficaz de los recursos compartidos y protección frente a los vecinos con ruido.</span><span class="sxs-lookup"><span data-stu-id="555f0-195">Beyond hello perspective of data privacy, tenant isolation strategies require effective management of shared resources and protection from noisy neighbors.</span></span>
* <span data-ttu-id="555f0-196">*Costo de los recursos de nube:* al igual que sucede con cualquier otra aplicación, las soluciones de software deben tener un costo competitivo en cuanto componente de una aplicación multiinquilino.</span><span class="sxs-lookup"><span data-stu-id="555f0-196">*Cloud resource cost:* As with any other application, software solutions must remain cost competitive as a component of a multitenant application.</span></span>
* <span data-ttu-id="555f0-197">*Facilidad de operaciones:* al desarrollar una arquitectura para varios inquilinos, Hola impacto en las operaciones de la aplicación hello y complejidad es una consideración importante.</span><span class="sxs-lookup"><span data-stu-id="555f0-197">*Ease of Operations:* When developing a multitenant architecture, hello impact on hello application's operations and complexity is an important consideration.</span></span> <span data-ttu-id="555f0-198">Azure Search tiene un [Acuerdo de Nivel de Servicio del 99,9 %](https://azure.microsoft.com/support/legal/sla/search/v1_0/).</span><span class="sxs-lookup"><span data-stu-id="555f0-198">Azure Search has a [99.9% SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/).</span></span>
* <span data-ttu-id="555f0-199">*Superficie global:* aplicaciones para varios inquilinos que necesite tooeffectively serve inquilinos que se distribuyen en todo el mundo de Hola.</span><span class="sxs-lookup"><span data-stu-id="555f0-199">*Global footprint:* Multitenant applications may need tooeffectively serve tenants which are distributed across hello globe.</span></span>
* <span data-ttu-id="555f0-200">*Escalabilidad:* los desarrolladores de aplicaciones necesita tooconsider cómo conciliar entre mantener un nivel de complejidad de las aplicaciones lo suficientemente bajo y diseñar Hola aplicación tooscale con varios inquilinos y tamaño de los datos de los inquilinos de Hola y carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="555f0-200">*Scalability:* Application developers need tooconsider how they reconcile between maintaining a sufficiently low level of application complexity and designing hello application tooscale with number of tenants and hello size of tenants' data and workload.</span></span>

<span data-ttu-id="555f0-201">Búsqueda de Azure ofrece unos límites que pueden ser datos y la carga de trabajo de los inquilinos de tooisolate usado.</span><span class="sxs-lookup"><span data-stu-id="555f0-201">Azure Search offers a few boundaries that can be used tooisolate tenants’ data and workload.</span></span>

## <a name="modeling-multitenancy-with-azure-search"></a><span data-ttu-id="555f0-202">Modelado multiinquilino con Azure Search</span><span class="sxs-lookup"><span data-stu-id="555f0-202">Modeling multitenancy with Azure Search</span></span>
<span data-ttu-id="555f0-203">En caso de hello de un escenario de varios inquilinos, el desarrollador de aplicaciones de hello consume uno o varios servicios de búsqueda y dividir sus inquilinos entre servicios, los índices o ambos.</span><span class="sxs-lookup"><span data-stu-id="555f0-203">In hello case of a multitenant scenario, hello application developer consumes one or more search services and divide their tenants among services, indexes, or both.</span></span> <span data-ttu-id="555f0-204">Azure Search presenta algunos patrones comunes al modelar un escenario multiinquilino:</span><span class="sxs-lookup"><span data-stu-id="555f0-204">Azure Search has a few common patterns when modeling a multitenant scenario:</span></span>

1. <span data-ttu-id="555f0-205">*Índice por inquilino:* cada inquilino tiene su propio índice dentro de un servicio de búsqueda que comparte con otros inquilinos.</span><span class="sxs-lookup"><span data-stu-id="555f0-205">*Index per tenant:* Each tenant has its own index within a search service that is shared with other tenants.</span></span>
2. <span data-ttu-id="555f0-206">*Servicio por inquilino:* cada inquilino tiene su propio servicio de Azure Search dedicado, que ofrece el nivel más alto de separación de datos y carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="555f0-206">*Service per tenant:* Each tenant has its own dedicated Azure Search service, offering highest level of data and workload separation.</span></span>
3. <span data-ttu-id="555f0-207">*Mezcla de ambos:* los inquilinos más grandes y activos se asignan a servicios dedicados, mientras que los inquilinos más pequeños se asignan a índices individuales dentro de servicios compartidos.</span><span class="sxs-lookup"><span data-stu-id="555f0-207">*Mix of both:* Larger, more-active tenants are assigned dedicated services while smaller tenants are assigned individual indexes within shared services.</span></span>

## <a name="1-index-per-tenant"></a><span data-ttu-id="555f0-208">1. Índice por inquilino</span><span class="sxs-lookup"><span data-stu-id="555f0-208">1. Index per tenant</span></span>
![Una representación del modelo de índice por inquilino Hola](./media/search-modeling-multitenant-saas-applications/azure-search-index-per-tenant.png)

<span data-ttu-id="555f0-210">En un modelo de índice por inquilino, varios inquilinos ocupan un único servicio de Azure Search donde cada inquilino tiene su propio índice.</span><span class="sxs-lookup"><span data-stu-id="555f0-210">In an index-per-tenant model, multiple tenants occupy a single Azure Search service where each tenant has their own index.</span></span>

<span data-ttu-id="555f0-211">Los inquilinos consiguen el aislamiento de los datos porque todas las solicitudes de búsqueda y las operaciones de documentos se emiten en un nivel de índice en Azure Search.</span><span class="sxs-lookup"><span data-stu-id="555f0-211">Tenants achieve data isolation because all search requests and document operations are issued at an index level in Azure Search.</span></span> <span data-ttu-id="555f0-212">En el nivel de aplicación Hola, hay conocimiento de la necesidad de hello toodirect Hola índices adecuados de varios inquilinos tráfico toohello al administrar también los recursos de nivel de servicio de hello entre todos los inquilinos.</span><span class="sxs-lookup"><span data-stu-id="555f0-212">In hello application layer, there is hello need awareness toodirect hello various tenants’ traffic toohello proper indexes while also managing resources at hello service level across all tenants.</span></span>

<span data-ttu-id="555f0-213">Un atributo clave del modelo de índice por inquilino hello es la capacidad de Hola para hello aplicación developer toooversubscribe Hola la capacidad de un servicio de búsqueda entre los inquilinos de la aplicación hello.</span><span class="sxs-lookup"><span data-stu-id="555f0-213">A key attribute of hello index-per-tenant model is hello ability for hello application developer toooversubscribe hello capacity of a search service among hello application’s tenants.</span></span> <span data-ttu-id="555f0-214">Si los inquilinos de hello tienen una distribución desigual de carga de trabajo, la combinación óptima de Hola de los inquilinos pueden distribuirse a través de un servicio de búsqueda de índices tooaccommodate varios inquilinos muy activos, que consumen muchos recursos durante el envío de forma simultánea una cola larga de menos activos, los inquilinos.</span><span class="sxs-lookup"><span data-stu-id="555f0-214">If hello tenants have an uneven distribution of workload, hello optimal combination of tenants can be distributed across a search service’s indexes tooaccommodate a number of highly active, resource-intensive tenants while simultaneously serving a long tail of less active tenants.</span></span> <span data-ttu-id="555f0-215">ventajas y desventajas de Hello son la incapacidad de Hola de situaciones de toohandle de modelo de hello en cada inquilino simultáneamente es muy activo.</span><span class="sxs-lookup"><span data-stu-id="555f0-215">hello trade-off is hello inability of hello model toohandle situations where each tenant is concurrently highly active.</span></span>

<span data-ttu-id="555f0-216">modelo de índice por inquilino Hola proporciona la base de Hola para un modelo de costos de variable, donde un servicio de búsqueda de Azure completo se compró inicial y, a continuación, que posteriormente se rellena con los inquilinos.</span><span class="sxs-lookup"><span data-stu-id="555f0-216">hello index-per-tenant model provides hello basis for a variable cost model, where an entire Azure Search service is bought up-front and then subsequently filled with tenants.</span></span> <span data-ttu-id="555f0-217">Esto permite toobe de capacidad no usada designado para las evaluaciones y las cuentas gratuitas.</span><span class="sxs-lookup"><span data-stu-id="555f0-217">This allows for unused capacity toobe designated for trials and free accounts.</span></span>

<span data-ttu-id="555f0-218">Para las aplicaciones con una superficie global, Hola índice por inquilino puede no ser modelo hello más eficaz.</span><span class="sxs-lookup"><span data-stu-id="555f0-218">For applications with a global footprint, hello index-per-tenant model may not be hello most efficient.</span></span> <span data-ttu-id="555f0-219">Si los inquilinos de la aplicación se distribuyen en todo el mundo de hello, un servicio independiente puede ser necesario para cada región que se puede duplicar los costos a través de cada uno de ellos.</span><span class="sxs-lookup"><span data-stu-id="555f0-219">If an application's tenants are distributed across hello globe, a separate service may be necessary for each region which may duplicate costs across each of them.</span></span>

<span data-ttu-id="555f0-220">Búsqueda de Azure permite escalar Hola de índices individuales de Hola y el número total de Hola de toogrow de índices.</span><span class="sxs-lookup"><span data-stu-id="555f0-220">Azure Search allows for hello scale of both hello individual indexes and hello total number of indexes toogrow.</span></span> <span data-ttu-id="555f0-221">Si un precio adecuado se elige capa, particiones y réplicas se pueden agregar servicio de búsqueda completa toohello cuando un índice individual dentro de servicio de hello crece demasiado grande en términos de almacenamiento o el tráfico.</span><span class="sxs-lookup"><span data-stu-id="555f0-221">If an appropriate pricing tier is chosen, partitions and replicas can be added toohello entire search service when an individual index within hello service grows too large in terms of storage or traffic.</span></span>

<span data-ttu-id="555f0-222">Si el número total de Hola de índices aumenta demasiado grande para un único servicio, otro servicio tiene toobe aprovisionado tooaccommodate Hola a nuevos inquilinos.</span><span class="sxs-lookup"><span data-stu-id="555f0-222">If hello total number of indexes grows too large for a single service, another service has toobe provisioned tooaccommodate hello new tenants.</span></span> <span data-ttu-id="555f0-223">Si los índices tienen toobe movido entre los servicios de búsqueda a medida que se agregan nuevos servicios, los datos de Hola desde el índice de hello son toobe copiado manualmente desde un índice toohello otros como búsqueda de Azure no permite un toobe índice movido.</span><span class="sxs-lookup"><span data-stu-id="555f0-223">If indexes have toobe moved between search services as new services are added, hello data from hello index has toobe manually copied from one index toohello other as Azure Search does not allow for an index toobe moved.</span></span>

## <a name="2-service-per-tenant"></a><span data-ttu-id="555f0-224">2. Servicio por inquilino</span><span class="sxs-lookup"><span data-stu-id="555f0-224">2. Service per tenant</span></span>
![Una representación del modelo de servicio por inquilino Hola](./media/search-modeling-multitenant-saas-applications/azure-search-service-per-tenant.png)

<span data-ttu-id="555f0-226">En una arquitectura de servicio por inquilino, cada inquilino tiene su propio servicio de búsqueda.</span><span class="sxs-lookup"><span data-stu-id="555f0-226">In a service-per-tenant architecture, each tenant has its own search service.</span></span>

<span data-ttu-id="555f0-227">En este modelo, aplicación hello alcanza Hola el grado máximo de aislamiento de sus inquilinos.</span><span class="sxs-lookup"><span data-stu-id="555f0-227">In this model, hello application achieves hello maximum level of isolation for its tenants.</span></span> <span data-ttu-id="555f0-228">Cada servicio tiene almacenamiento y capacidad de proceso dedicados para administrar las solicitudes de búsqueda, así como claves de API independientes.</span><span class="sxs-lookup"><span data-stu-id="555f0-228">Each service has dedicated storage and throughput for handling search request as well as separate API keys.</span></span>

<span data-ttu-id="555f0-229">Para las aplicaciones donde cada inquilino tiene una superficie de gran tamaño o carga de trabajo de hello tiene poca variabilidad del inquilino tootenant, modelo de servicio por inquilino hello es una opción eficaz como recursos no se comparten entre las cargas de trabajo de varios inquilinos.</span><span class="sxs-lookup"><span data-stu-id="555f0-229">For applications where each tenant has a large footprint or hello workload has little variability from tenant tootenant, hello service-per-tenant model is an effective choice as resources are not shared across various tenants’ workloads.</span></span>

<span data-ttu-id="555f0-230">Un servicio por cada modelo de inquilinos también ofrece la ventaja de Hola de un modelo de predicción costo fijo.</span><span class="sxs-lookup"><span data-stu-id="555f0-230">A service per tenant model also offers hello benefit of a predictable, fixed cost model.</span></span> <span data-ttu-id="555f0-231">No hay ninguna inversión inicial en un servicio de búsqueda completa hasta que haya un toofill inquilino, sin embargo es mayor que un modelo de índice por inquilino Hola costo por inquilino.</span><span class="sxs-lookup"><span data-stu-id="555f0-231">There is no up-front investment in an entire search service until there is a tenant toofill it, however hello cost-per-tenant is higher than an index-per-tenant model.</span></span>

<span data-ttu-id="555f0-232">modelo de servicio por inquilino Hello es una opción eficaz para las aplicaciones con una superficie global.</span><span class="sxs-lookup"><span data-stu-id="555f0-232">hello service-per-tenant model is an efficient choice for applications with a global footprint.</span></span> <span data-ttu-id="555f0-233">Con inquilinos distribuidos geográficamente, resulta fácil toohave servicio de cada inquilino de región adecuada de Hola.</span><span class="sxs-lookup"><span data-stu-id="555f0-233">With geographically-distributed tenants, it is easy toohave each tenant's service in hello appropriate region.</span></span>

<span data-ttu-id="555f0-234">desafíos de Hello en este patrón de ajuste de escala surgen cuando los inquilinos individuales superan la capacidad de su servicio.</span><span class="sxs-lookup"><span data-stu-id="555f0-234">hello challenges in scaling this pattern arise when individual tenants outgrow their service.</span></span> <span data-ttu-id="555f0-235">Búsqueda de Azure no admite actualmente la actualización Hola tarifa de un servicio de búsqueda, por lo que todos los datos tendría toobe copiado manualmente tooa nuevo servicio.</span><span class="sxs-lookup"><span data-stu-id="555f0-235">Azure Search does not currently support upgrading hello pricing tier of a search service, so all data would have toobe manually copied tooa new service.</span></span>

## <a name="3-mixing-both-models"></a><span data-ttu-id="555f0-236">3. Mezcla de ambos modelos</span><span class="sxs-lookup"><span data-stu-id="555f0-236">3. Mixing both models</span></span>
<span data-ttu-id="555f0-237">Otro patrón para modelar la arquitectura multiinquilino es mezclar las estrategias de índice por inquilino y servicio por inquilino.</span><span class="sxs-lookup"><span data-stu-id="555f0-237">Another pattern for modeling multitenancy is mixing both index-per-tenant and service-per-tenant strategies.</span></span>

<span data-ttu-id="555f0-238">Mediante la combinación de patrones de hello dos, inquilinos más grandes de una aplicación pueden ocupar servicios dedicados mientras Hola tiempo final del menos inquilinos activos, más pequeños puede ocupar índices en un servicio compartido.</span><span class="sxs-lookup"><span data-stu-id="555f0-238">By mixing hello two patterns, an application's largest tenants can occupy dedicated services while hello long tail of less active, smaller tenants can occupy indexes in a shared service.</span></span> <span data-ttu-id="555f0-239">Este modelo garantiza que los inquilinos más grandes de hello constantemente alto rendimiento de servicio de Hola y ayudar a tooprotect Hola a inquilinos más pequeños de los vecinos con ruido.</span><span class="sxs-lookup"><span data-stu-id="555f0-239">This model ensures that hello largest tenants have consistently high performance from hello service while helping tooprotect hello smaller tenants from any noisy neighbors.</span></span>

<span data-ttu-id="555f0-240">Sin embargo, la implementación de esta estrategia depende de la previsión de qué inquilinos necesitarán un servicio dedicado, por oposición a un índice en un servicio compartido.</span><span class="sxs-lookup"><span data-stu-id="555f0-240">However, implementing this strategy relies foresight in predicting which tenants will require a dedicated service versus an index in a shared service.</span></span> <span data-ttu-id="555f0-241">Complejidad de la aplicación aumenta con hello necesidad toomanage ambos de estos modelos multiempresa.</span><span class="sxs-lookup"><span data-stu-id="555f0-241">Application complexity increases with hello need toomanage both of these multitenancy models.</span></span>

## <a name="achieving-even-finer-granularity"></a><span data-ttu-id="555f0-242">Obtención incluso de una granularidad más fina</span><span class="sxs-lookup"><span data-stu-id="555f0-242">Achieving even finer granularity</span></span>
<span data-ttu-id="555f0-243">Hola por encima de los escenarios de varios inquilinos toomodel de diseño patrones de búsqueda de Azure supone un ámbito uniforme donde cada inquilino es una instancia completa de una aplicación.</span><span class="sxs-lookup"><span data-stu-id="555f0-243">hello above design patterns toomodel multitenant scenarios in Azure Search assume a uniform scope where each tenant is a whole instance of an application.</span></span> <span data-ttu-id="555f0-244">Sin embargo, en ocasiones las aplicaciones pueden controlar ámbitos mucho más pequeños.</span><span class="sxs-lookup"><span data-stu-id="555f0-244">However, applications can sometimes handle many smaller scopes.</span></span>

<span data-ttu-id="555f0-245">Si los modelos de servicio por inquilino y de índice por inquilinos no son lo bastante pequeños ámbitos, es posible toomodel un tooachieve un incluso mayor grado de granularidad de índice.</span><span class="sxs-lookup"><span data-stu-id="555f0-245">If service-per-tenant and index-per-tenant models are not sufficiently small scopes, it is possible toomodel an index tooachieve an even finer degree of granularity.</span></span>

<span data-ttu-id="555f0-246">toohave un único índice comportarse de forma diferente para los extremos de cliente diferente, un campo puede ser índice tooan agregada que designa un valor determinado para cada cliente.</span><span class="sxs-lookup"><span data-stu-id="555f0-246">toohave a single index behave differently for different client endpoints, a field can be added tooan index which designates a certain value for each possible client.</span></span> <span data-ttu-id="555f0-247">Cada vez que un cliente llama a tooquery de búsqueda de Azure o modificar un índice, código de hello de aplicación de cliente de Hola especifica el valor adecuado de Hola para ese campo mediante la búsqueda de Azure [filtro](https://msdn.microsoft.com/library/azure/dn798921.aspx) capacidad en el momento de la consulta.</span><span class="sxs-lookup"><span data-stu-id="555f0-247">Each time a client calls Azure Search tooquery or modify an index, hello code from hello client application specifies hello appropriate value for that field using Azure Search's [filter](https://msdn.microsoft.com/library/azure/dn798921.aspx) capability at query time.</span></span>

<span data-ttu-id="555f0-248">Este método puede ser tooachieve usa la funcionalidad de cuentas de usuario independientes, los niveles de permisos distintos y aplicaciones incluso completamente independientes.</span><span class="sxs-lookup"><span data-stu-id="555f0-248">This method can be used tooachieve functionality of separate user accounts, separate permission levels, and even completely separate applications.</span></span>

> [!NOTE]
> <span data-ttu-id="555f0-249">Con el enfoque de hello había descrita anteriormente tooconfigure un único índice tooserve varios inquilinos afecta a Hola por relevancia de los resultados de la búsqueda.</span><span class="sxs-lookup"><span data-stu-id="555f0-249">Using hello approach described above tooconfigure a single index tooserve multiple tenants affects hello relevance of search results.</span></span> <span data-ttu-id="555f0-250">Puntuaciones de importancia de la búsqueda se calculan en un ámbito de nivel del índice, no es un ámbito de nivel del inquilino, por lo que los datos de todos los inquilinos se incorporan en las estadísticas subyacentes de las puntuaciones de importancia de hello como su frecuencia.</span><span class="sxs-lookup"><span data-stu-id="555f0-250">Search relevance scores are computed at an index-level scope, not a tenant-level scope, so all tenants' data is incorporated in hello relevance scores' underlying statistics such as term frequency.</span></span>
> 
> 

## <a name="next-steps"></a><span data-ttu-id="555f0-251">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="555f0-251">Next steps</span></span>
<span data-ttu-id="555f0-252">Búsqueda de Azure es una opción atractiva para muchas aplicaciones, [leer más acerca de las eficaces capacidades del servicio de hello](http://aka.ms/whatisazsearch).</span><span class="sxs-lookup"><span data-stu-id="555f0-252">Azure Search is a compelling choice for many applications, [read more about hello service's robust capabilities](http://aka.ms/whatisazsearch).</span></span> <span data-ttu-id="555f0-253">Al evaluar Hola distintos modelos para aplicaciones para varios inquilinos de diseño, considere la posibilidad de hello [distintos niveles de precios](https://azure.microsoft.com/pricing/details/search/) hello respectivo y [límites de servicio](search-limits-quotas-capacity.md) toobest adaptar toofit de búsqueda de Azure arquitecturas de todos los tamaños y las cargas de trabajo de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="555f0-253">When evaluating hello various design patterns for multitenant applications, consider hello [various pricing tiers](https://azure.microsoft.com/pricing/details/search/) and hello respective [service limits](search-limits-quotas-capacity.md) toobest tailor Azure Search toofit application workloads and architectures of all sizes.</span></span>

<span data-ttu-id="555f0-254">Se puede dirigir alguna pregunta acerca de la búsqueda de Azure y situaciones de varios inquilinos tooazuresearch_contact@microsoft.com.</span><span class="sxs-lookup"><span data-stu-id="555f0-254">Any questions about Azure Search and multitenant scenarios can be directed tooazuresearch_contact@microsoft.com.</span></span>

