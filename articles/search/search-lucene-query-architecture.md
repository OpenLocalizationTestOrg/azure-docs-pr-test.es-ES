---
title: "arquitectura de (Lucene) del motor de búsqueda de texto de aaaFull en búsqueda de Azure | Documentos de Microsoft"
description: "Explicación de conceptos de recuperación de procesamiento y documentos para la consulta de Lucene para la búsqueda de texto completo, como relacionado tooAzure búsqueda."
services: search
manager: jhubbard
author: yahnoosh
documentationcenter: 
ms.service: search
ms.devlang: NA
ms.workload: search
ms.topic: article
ms.tgt_pltfrm: na
ms.date: 04/06/2017
ms.author: jlembicz
ms.openlocfilehash: c6d1bea8d40154fd9237b9e44584cdfcd193cbd9
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="how-full-text-search-works-in-azure-search"></a><span data-ttu-id="7c778-103">Cómo funciona la búsqueda de texto completo en Azure Search</span><span class="sxs-lookup"><span data-stu-id="7c778-103">How full text search works in Azure Search</span></span>

<span data-ttu-id="7c778-104">Este artículo está dirigido a desarrolladores que necesitan un conocimiento más profundo sobre cómo funciona la búsqueda de texto completo de Lucene en Azure Search.</span><span class="sxs-lookup"><span data-stu-id="7c778-104">This article is for developers who need a deeper understanding of how Lucene full text search works in Azure Search.</span></span> <span data-ttu-id="7c778-105">Para las consultas de texto, Azure Search ofrecerá perfectamente resultados esperados en la mayoría de los escenarios, pero en ocasiones, podría obtener un resultado que parezca "desconectado" de algún modo.</span><span class="sxs-lookup"><span data-stu-id="7c778-105">For text queries, Azure Search will seamlessly deliver expected results in most scenarios, but occasionally you might get a result that seems "off" somehow.</span></span> <span data-ttu-id="7c778-106">En estas situaciones, que tienen un fondo en Hola cuatro fases de ejecución de la consulta de Lucene (consultar análisis análisis léxico, búsqueda de coincidencias, la puntuación del documento) puede ayudar a identificar los cambios concretos tooquery parámetros o un índice de configuración que se entregará Hola resultado deseado.</span><span class="sxs-lookup"><span data-stu-id="7c778-106">In these situations, having a background in hello four stages of Lucene query execution (query parsing, lexical analysis, document matching, scoring) can help you identify specific changes tooquery parameters or index configuration that will deliver hello desired outcome.</span></span> 

> [!Note] 
> <span data-ttu-id="7c778-107">Azure Search usa Lucene para la búsqueda de texto completo, pero la integración de Lucene no es exhaustiva.</span><span class="sxs-lookup"><span data-stu-id="7c778-107">Azure Search uses Lucene for full text search, but Lucene integration is not exhaustive.</span></span> <span data-ttu-id="7c778-108">Se exponen selectivamente y ampliar Lucene funcionalidad tooenable Hola escenarios importante tooAzure búsqueda.</span><span class="sxs-lookup"><span data-stu-id="7c778-108">We selectively expose and extend Lucene functionality tooenable hello scenarios important tooAzure Search.</span></span> 

## <a name="architecture-overview-and-diagram"></a><span data-ttu-id="7c778-109">Introducción a la arquitectura y diagrama</span><span class="sxs-lookup"><span data-stu-id="7c778-109">Architecture overview and diagram</span></span>

<span data-ttu-id="7c778-110">Procesa una consulta de búsqueda de texto completo se inicia con términos de búsqueda de tooextract de texto de consulta de Hola de análisis.</span><span class="sxs-lookup"><span data-stu-id="7c778-110">Processing a full text search query starts with parsing hello query text tooextract search terms.</span></span> <span data-ttu-id="7c778-111">motor de búsqueda de Hello usa un tooretrieve indizar documentos con términos de búsqueda de coincidencias.</span><span class="sxs-lookup"><span data-stu-id="7c778-111">hello search engine uses an index tooretrieve documents with matching terms.</span></span> <span data-ttu-id="7c778-112">Términos de consulta individuales a veces se desglosan y RECONSTITUYEN en nueva toocast de formularios a una red más amplia sobre lo que se podrían considerar como una posible coincidencia.</span><span class="sxs-lookup"><span data-stu-id="7c778-112">Individual query terms are sometimes broken down and reconstituted into new forms toocast a broader net over what could be considered as a potential match.</span></span> <span data-ttu-id="7c778-113">Un conjunto de resultados, a continuación, se ordena por un relevancia puntuación asignado tooeach coincidentes documento individual.</span><span class="sxs-lookup"><span data-stu-id="7c778-113">A result set is then sorted by a relevance score assigned tooeach individual matching document.</span></span> <span data-ttu-id="7c778-114">Los de la parte superior de Hola de hello lista el rango se devuelven toohello de aplicación que llama.</span><span class="sxs-lookup"><span data-stu-id="7c778-114">Those at hello top of hello ranked list are returned toohello calling application.</span></span>

<span data-ttu-id="7c778-115">Una vez reformulada, la ejecución de la consulta tiene cuatro fases:</span><span class="sxs-lookup"><span data-stu-id="7c778-115">Restated, query execution has four stages:</span></span> 

1. <span data-ttu-id="7c778-116">Consulta de análisis</span><span class="sxs-lookup"><span data-stu-id="7c778-116">Query parsing</span></span> 
2. <span data-ttu-id="7c778-117">Análisis léxico</span><span class="sxs-lookup"><span data-stu-id="7c778-117">Lexical analysis</span></span> 
3. <span data-ttu-id="7c778-118">Recuperación de documentos</span><span class="sxs-lookup"><span data-stu-id="7c778-118">Document retrieval</span></span> 
4. <span data-ttu-id="7c778-119">Puntuación</span><span class="sxs-lookup"><span data-stu-id="7c778-119">Scoring</span></span> 

<span data-ttu-id="7c778-120">Hola diagrama siguiente muestra hello componentes utilizados tooprocess una solicitud de búsqueda.</span><span class="sxs-lookup"><span data-stu-id="7c778-120">hello diagram below illustrates hello components used tooprocess a search request.</span></span> 

 ![Diagrama de la arquitectura de la consulta de Lucene en Azure Search][1]


| <span data-ttu-id="7c778-122">Componentes claves</span><span class="sxs-lookup"><span data-stu-id="7c778-122">Key components</span></span> | <span data-ttu-id="7c778-123">Descripción funcional</span><span class="sxs-lookup"><span data-stu-id="7c778-123">Functional description</span></span> | 
|----------------|------------------------|
|<span data-ttu-id="7c778-124">**Analizadores de consulta**</span><span class="sxs-lookup"><span data-stu-id="7c778-124">**Query parsers**</span></span> | <span data-ttu-id="7c778-125">Separar términos de consulta de operadores de consulta y crear el motor de búsqueda de toohello de toobe enviado Hola consulta estructura (árbol de consulta).</span><span class="sxs-lookup"><span data-stu-id="7c778-125">Separate query terms from query operators and create hello query structure (a query tree) toobe sent toohello search engine.</span></span> |
|<span data-ttu-id="7c778-126">**Analizadores**</span><span class="sxs-lookup"><span data-stu-id="7c778-126">**Analyzers**</span></span> | <span data-ttu-id="7c778-127">Realice un análisis léxico sobre los términos de consulta.</span><span class="sxs-lookup"><span data-stu-id="7c778-127">Perform lexical analysis on query terms.</span></span> <span data-ttu-id="7c778-128">Este proceso puede implicar la transformación, eliminación o expansión de los términos de consulta.</span><span class="sxs-lookup"><span data-stu-id="7c778-128">This process can involve transforming, removing, or expanding of query terms.</span></span> |
|<span data-ttu-id="7c778-129">**Índice**</span><span class="sxs-lookup"><span data-stu-id="7c778-129">**Index**</span></span> | <span data-ttu-id="7c778-130">Una estructura de datos eficaz usar toostore y organizar puede buscar términos extraídos de los documentos indizados.</span><span class="sxs-lookup"><span data-stu-id="7c778-130">An efficient data structure used toostore and organize searchable terms extracted from indexed documents.</span></span> |
|<span data-ttu-id="7c778-131">**Motor de búsqueda**</span><span class="sxs-lookup"><span data-stu-id="7c778-131">**Search engine**</span></span> | <span data-ttu-id="7c778-132">Recupera y las puntuaciones de coincidencia de documentos basadas en contenido de Hola de hello índice invierten.</span><span class="sxs-lookup"><span data-stu-id="7c778-132">Retrieves and scores matching documents based on hello contents of hello inverted index.</span></span> |

## <a name="anatomy-of-a-search-request"></a><span data-ttu-id="7c778-133">Anatomía de una solicitud de búsqueda</span><span class="sxs-lookup"><span data-stu-id="7c778-133">Anatomy of a search request</span></span>

<span data-ttu-id="7c778-134">Una solicitud de búsqueda es una especificación completa de lo que se debe devolver en un conjunto de resultados.</span><span class="sxs-lookup"><span data-stu-id="7c778-134">A search request is a complete specification of what should be returned in a result set.</span></span> <span data-ttu-id="7c778-135">En su forma más simple, es una consulta vacía sin ningún criterio de ningún tipo.</span><span class="sxs-lookup"><span data-stu-id="7c778-135">In simplest form, it is an empty query with no criteria of any kind.</span></span> <span data-ttu-id="7c778-136">Un ejemplo más realista incluye parámetros, varios términos, quizás con ámbito toocertain campos, con reglas de ordenación y posiblemente una expresión de filtro de consulta.</span><span class="sxs-lookup"><span data-stu-id="7c778-136">A more realistic example includes parameters, several query terms, perhaps scoped toocertain fields, with possibly a filter expression and ordering rules.</span></span>  

<span data-ttu-id="7c778-137">el ejemplo siguiente se Hello es una solicitud de búsqueda podría enviar tooAzure búsqueda con hello [API de REST](https://docs.microsoft.com/rest/api/searchservice/search-documents).</span><span class="sxs-lookup"><span data-stu-id="7c778-137">hello following example is a search request you might send tooAzure Search using hello [REST API](https://docs.microsoft.com/rest/api/searchservice/search-documents).</span></span>  

~~~~
POST /indexes/hotels/docs/search?api-version=2016-09-01 
{  
    "search": "Spacious, air-condition* +\"Ocean view\"",  
    "searchFields": "description, title",  
    "searchMode": "any",
    "filter": "price ge 60 and price lt 300",  
    "orderby": "geo.distance(location, geography'POINT(-159.476235 22.227659)')", 
    "queryType": "full" 
 } 
~~~~

<span data-ttu-id="7c778-138">Para esta solicitud, el motor de búsqueda de Hola Hola después de:</span><span class="sxs-lookup"><span data-stu-id="7c778-138">For this request, hello search engine does hello following:</span></span>

1. <span data-ttu-id="7c778-139">Filtra los documentos cuyo precio de hello sea al menos 60 dólares y menos de 300 USD.</span><span class="sxs-lookup"><span data-stu-id="7c778-139">Filters out documents where hello price is at least $60 and less than $300.</span></span>
2. <span data-ttu-id="7c778-140">Ejecuta la consulta de Hola.</span><span class="sxs-lookup"><span data-stu-id="7c778-140">Executes hello query.</span></span> <span data-ttu-id="7c778-141">En este ejemplo, consulta de búsqueda de hello consta de frases y términos: `"Spacious, air-condition* +\"Ocean view\""` (por lo general, los usuarios no accede signos de puntuación, pero incluido en el ejemplo de Hola nos permite tooexplain cómo analizadores controlen).</span><span class="sxs-lookup"><span data-stu-id="7c778-141">In this example, hello search query consists of phrases and terms: `"Spacious, air-condition* +\"Ocean view\""` (users typically don't enter punctuation, but including it in hello example allows us tooexplain how analyzers handle it).</span></span> <span data-ttu-id="7c778-142">Para esta consulta, el motor de búsqueda de Hola examina descripción Hola y campos de título especifican en `searchFields` para documentos que contengan "Vista marina" y además en términos de Hola "suficientes" o en términos que comienzan por el prefijo de Hola "air-condition".</span><span class="sxs-lookup"><span data-stu-id="7c778-142">For this query, hello search engine scans hello description and title fields specified in `searchFields` for documents that contain "Ocean view", and additionally on hello term "spacious", or on terms that start with hello prefix "air-condition".</span></span> <span data-ttu-id="7c778-143">Hola `searchMode` parámetro es toomatch usado en cualquier término (valor predeterminado) o todos ellos, para los casos donde no se requiere de forma explícita un término (`+`).</span><span class="sxs-lookup"><span data-stu-id="7c778-143">hello `searchMode` parameter is used toomatch on any term (default) or all of them, for cases where a term is not explicitly required (`+`).</span></span>
3. <span data-ttu-id="7c778-144">Pedidos Hola conjunto resultante de hoteles por proximidad tooa geography ubicación dada y, a continuación, devuelve la aplicación que realiza la llamada toohello.</span><span class="sxs-lookup"><span data-stu-id="7c778-144">Orders hello resulting set of hotels by proximity tooa given geography location, and then returned toohello calling application.</span></span> 

<span data-ttu-id="7c778-145">Hola mayoría de este artículo es sobre el procesamiento de hello *consulta de búsqueda*: `"Spacious, air-condition* +\"Ocean view\""`.</span><span class="sxs-lookup"><span data-stu-id="7c778-145">hello majority of this article is about processing of hello *search query*: `"Spacious, air-condition* +\"Ocean view\""`.</span></span> <span data-ttu-id="7c778-146">El filtrado y la ordenación están fuera del ámbito.</span><span class="sxs-lookup"><span data-stu-id="7c778-146">Filtering and ordering are out of scope.</span></span> <span data-ttu-id="7c778-147">Para obtener más información, vea hello [documentación de referencia de API de búsqueda](https://docs.microsoft.com/rest/api/searchservice/search-documents).</span><span class="sxs-lookup"><span data-stu-id="7c778-147">For more information, see hello [Search API reference documentation](https://docs.microsoft.com/rest/api/searchservice/search-documents).</span></span>

<a name="stage1"></a>
## <a name="stage-1-query-parsing"></a><span data-ttu-id="7c778-148">Fase 1: Consulta de análisis</span><span class="sxs-lookup"><span data-stu-id="7c778-148">Stage 1: Query parsing</span></span> 

<span data-ttu-id="7c778-149">Como se indicó, cadena de consulta de hello es Hola primera línea de solicitud de hello:</span><span class="sxs-lookup"><span data-stu-id="7c778-149">As noted, hello query string is hello first line of hello request:</span></span> 

~~~~
 "search": "Spacious, air-condition* +\"Ocean view\"", 
~~~~

<span data-ttu-id="7c778-150">Analizador separa los operadores de consulta de Hello (como `*` y `+` en el ejemplo de Hola) de búsqueda de términos y consulta de búsqueda de hello en se deconstruyen *subconsultas* de un tipo admitido:</span><span class="sxs-lookup"><span data-stu-id="7c778-150">hello query parser separates operators (such as `*` and `+` in hello example) from search terms, and deconstructs hello search query into *subqueries* of a supported type:</span></span> 

+ <span data-ttu-id="7c778-151">*consulta de término* para términos independiente (como "espacioso")</span><span class="sxs-lookup"><span data-stu-id="7c778-151">*term query* for standalone terms (like spacious)</span></span>
+ <span data-ttu-id="7c778-152">*consultas de frases* de términos entre comillas (como "vistas al mar")</span><span class="sxs-lookup"><span data-stu-id="7c778-152">*phrase query* for quoted terms (like ocean view)</span></span>
+ <span data-ttu-id="7c778-153">*consulta de prefijo* de términos seguidos por un operador de prefijo `*` (como "post-vacacional")</span><span class="sxs-lookup"><span data-stu-id="7c778-153">*prefix query* for terms followed by a prefix operator `*` (like air-condition)</span></span>

<span data-ttu-id="7c778-154">Para obtener una lista completa de tipos de consultas admitidas, consulte [Sintaxis de consulta de Lucene](https://docs.microsoft.com/rest/api/searchservice/lucene-query-syntax-in-azure-search)</span><span class="sxs-lookup"><span data-stu-id="7c778-154">For a full list of supported query types see [Lucene query sytnax](https://docs.microsoft.com/rest/api/searchservice/lucene-query-syntax-in-azure-search)</span></span>

<span data-ttu-id="7c778-155">Operadores asociados con una subconsulta determinan si consulta Hola "debe ser" o "debe ser" satisfecho en orden para un documento toobe considera una coincidencia.</span><span class="sxs-lookup"><span data-stu-id="7c778-155">Operators associated with a subquery determine whether hello query "must be" or "should be" satisfied in order for a document toobe considered a match.</span></span> <span data-ttu-id="7c778-156">Por ejemplo, `+"Ocean view"` "deben" due toohello `+` operador.</span><span class="sxs-lookup"><span data-stu-id="7c778-156">For example, `+"Ocean view"` is "must" due toohello `+` operator.</span></span> 

<span data-ttu-id="7c778-157">Analizador de consultas de Hello reestructura subconsultas hello en un *árbol de consulta* (una estructura interna que representa la consulta de Hola) pasa en el motor de búsqueda de toohello.</span><span class="sxs-lookup"><span data-stu-id="7c778-157">hello query parser restructures hello subqueries into a *query tree* (an internal structure representing hello query) it passes on toohello search engine.</span></span> <span data-ttu-id="7c778-158">Hola primera fase de consulta de análisis, árbol de consulta de hello presenta el siguiente aspecto.</span><span class="sxs-lookup"><span data-stu-id="7c778-158">In hello first stage of query parsing, hello query tree looks like this.</span></span>  

 ![Modo de búsqueda de consulta booleana][2]

### <a name="supported-parsers-simple-and-full-lucene"></a><span data-ttu-id="7c778-160">Analizadores admitidos: versión simple y completa de Lucene</span><span class="sxs-lookup"><span data-stu-id="7c778-160">Supported parsers: Simple and Full Lucene</span></span> 

 <span data-ttu-id="7c778-161">Azure Search expone dos lenguajes de consulta diferentes, `simple` (valor predeterminado) y `full`.</span><span class="sxs-lookup"><span data-stu-id="7c778-161">Azure Search exposes two different query languages, `simple` (default) and `full`.</span></span> <span data-ttu-id="7c778-162">Al establecer hello `queryType` parámetro con su solicitud de búsqueda, puede indicar analizador de consultas de Hola y lenguaje de consulta que se elija para que sepa cómo toointerpret Hola operadores y sintaxis.</span><span class="sxs-lookup"><span data-stu-id="7c778-162">By setting hello `queryType` parameter with your search request, you tell hello query parser which query language you choose so that it knows how toointerpret hello operators and syntax.</span></span> <span data-ttu-id="7c778-163">Hola [lenguaje de consulta Simple](https://docs.microsoft.com/rest/api/searchservice/simple-query-syntax-in-azure-search) es intuitivo y sólidos, proporcionados por el usuario toointerpret adecuado a menudo como: sin procesamiento del lado cliente.</span><span class="sxs-lookup"><span data-stu-id="7c778-163">hello [Simple query langauge](https://docs.microsoft.com/rest/api/searchservice/simple-query-syntax-in-azure-search) is intuitive and robust, often suitable toointerpret user input as-is without client-side processing.</span></span> <span data-ttu-id="7c778-164">Admite los operadores de consulta familiares desde motores de búsqueda web.</span><span class="sxs-lookup"><span data-stu-id="7c778-164">It supports query operators familiar from web search engines.</span></span> <span data-ttu-id="7c778-165">Hola [lenguaje de consulta completa Lucene](https://docs.microsoft.com/rest/api/searchservice/lucene-query-syntax-in-azure-search), que obtendrá estableciendo `queryType=full`, amplía el idioma de consulta Simple de hello predeterminado mediante la adición de compatibilidad con varios operadores y tipos de consulta como carácter comodín, aproximada, regex y consultas centrada en el campo.</span><span class="sxs-lookup"><span data-stu-id="7c778-165">hello [Full Lucene query language](https://docs.microsoft.com/rest/api/searchservice/lucene-query-syntax-in-azure-search), which you get by setting `queryType=full`, extends hello default Simple query language by adding support for more operators and query types like wildcard, fuzzy, regex, and field-scoped queries.</span></span> <span data-ttu-id="7c778-166">Por ejemplo, una expresión regular enviada con la sintaxis de consulta simple se interpretaría como una cadena de consulta y no una expresión.</span><span class="sxs-lookup"><span data-stu-id="7c778-166">For example, a regular expression sent in Simple query syntax would be interpreted as a query string and not an expression.</span></span> <span data-ttu-id="7c778-167">solicitud de ejemplo de Hola en este artículo usa el lenguaje de consulta de hello Lucene completa.</span><span class="sxs-lookup"><span data-stu-id="7c778-167">hello example request in this article uses hello Full Lucene query language.</span></span>

### <a name="impact-of-searchmode-on-hello-parser"></a><span data-ttu-id="7c778-168">Impacto de searchMode en Analizador de Hola</span><span class="sxs-lookup"><span data-stu-id="7c778-168">Impact of searchMode on hello parser</span></span> 

<span data-ttu-id="7c778-169">Otro parámetro de solicitud de búsqueda que afecte a analizar es hello `searchMode` parámetro.</span><span class="sxs-lookup"><span data-stu-id="7c778-169">Another search request parameter that affects parsing is hello `searchMode` parameter.</span></span> <span data-ttu-id="7c778-170">Controla el operador predeterminado de Hola para consultas booleanas: cualquier valor (predeterminado) o todos.</span><span class="sxs-lookup"><span data-stu-id="7c778-170">It controls hello default operator for Boolean queries: any (default) or all.</span></span>  

<span data-ttu-id="7c778-171">Cuando `searchMode=any`, que es el predeterminado de hello, delimitador de espacio de hello entre suficientes y air-condition es o (`||`), que realiza el texto de consulta de ejemplo de Hola equivalente a:</span><span class="sxs-lookup"><span data-stu-id="7c778-171">When `searchMode=any`, which is hello default, hello space delimiter between spacious and air-condition is OR (`||`), making hello sample query text equivalent to:</span></span> 

~~~~
Spacious,||air-condition*+"Ocean view" 
~~~~

<span data-ttu-id="7c778-172">Operadores explícitos, como `+` en `+"Ocean view"`, no son ambiguos en construcción de consulta booleana (término de hello *debe* coincidan con).</span><span class="sxs-lookup"><span data-stu-id="7c778-172">Explicit operators, such as `+` in `+"Ocean view"`, are unambiguous in boolean query construction (hello term *must* match).</span></span> <span data-ttu-id="7c778-173">Es menos obvio cómo términos hello toointerpret restante: suficientes y air-condition.</span><span class="sxs-lookup"><span data-stu-id="7c778-173">Less obvious is how toointerpret hello remaining terms: spacious and air-condition.</span></span> <span data-ttu-id="7c778-174">¿Motor de búsqueda de hello debería encontrar coincidencias en la vista al mar *y* suficientes *y* air-condition?</span><span class="sxs-lookup"><span data-stu-id="7c778-174">Should hello search engine find matches on ocean view *and* spacious *and* air-condition?</span></span> <span data-ttu-id="7c778-175">¿O bien debe encontrar a la vista al mar más *ninguna de ellas* de hello restantes términos?</span><span class="sxs-lookup"><span data-stu-id="7c778-175">Or should it find ocean view plus *either one* of hello remaining terms?</span></span> 

<span data-ttu-id="7c778-176">De forma predeterminada (`searchMode=any`), motor de búsqueda de hello supone interpretación más amplia de Hola.</span><span class="sxs-lookup"><span data-stu-id="7c778-176">By default (`searchMode=any`), hello search engine assumes hello broader interpretation.</span></span> <span data-ttu-id="7c778-177">El campo *debe* coincidir, reflejar la semántica "o".</span><span class="sxs-lookup"><span data-stu-id="7c778-177">Either field *should* be matched, reflecting "or" semantics.</span></span> <span data-ttu-id="7c778-178">árbol de consulta inicial de Hola muestra anteriormente, con hello dos operaciones de "debería", se muestra hello predeterminado.</span><span class="sxs-lookup"><span data-stu-id="7c778-178">hello initial query tree illustrated previously, with hello two "should" operations, shows hello default.</span></span>  

<span data-ttu-id="7c778-179">Imagine que establecemos ahora `searchMode=all`.</span><span class="sxs-lookup"><span data-stu-id="7c778-179">Suppose that we now set `searchMode=all`.</span></span> <span data-ttu-id="7c778-180">En este caso, el espacio de Hola se interpreta como una operación "y".</span><span class="sxs-lookup"><span data-stu-id="7c778-180">In this case, hello space is interpreted as an "and" operation.</span></span> <span data-ttu-id="7c778-181">Cada uno de los términos de hello restantes debe estar presente en hello documento tooqualify como una coincidencia.</span><span class="sxs-lookup"><span data-stu-id="7c778-181">Each of hello remaining terms must both be present in hello document tooqualify as a match.</span></span> <span data-ttu-id="7c778-182">consulta de ejemplo de Hola resultante podría interpretarse del siguiente modo:</span><span class="sxs-lookup"><span data-stu-id="7c778-182">hello resulting sample query would be interpreted as follows:</span></span> 

~~~~
+Spacious,+air-condition*+"Ocean view"  
~~~~

<span data-ttu-id="7c778-183">Un árbol de consulta modificada para esta consulta sería como sigue, donde un documento coincidente es la intersección de Hola de todas las tres subconsultas:</span><span class="sxs-lookup"><span data-stu-id="7c778-183">A modified query tree for this query would be as follows, where a matching document is hello intersection of all three subqueries:</span></span> 

 ![Consulta booleana searchmode all][3]

> [!Note] 
> <span data-ttu-id="7c778-185">Elegir `searchMode=any` sobre `searchMode=all` es la mejor decisión cuando se ejecutan consultas representativas.</span><span class="sxs-lookup"><span data-stu-id="7c778-185">Choosing `searchMode=any` over `searchMode=all` is a decision best arrived at by running representative queries.</span></span> <span data-ttu-id="7c778-186">Los usuarios que son operadores de tooinclude probable (común cuando se almacena el documento de búsqueda) que encuentre resultados más intuitiva si `searchMode=all` informa construcciones de consulta booleana.</span><span class="sxs-lookup"><span data-stu-id="7c778-186">Users who are likely tooinclude operators (common when searching document stores) might find results more intuitive if `searchMode=all` informs boolean query constructs.</span></span> <span data-ttu-id="7c778-187">Para obtener más información acerca de la interacción de hello entre `searchMode` y operadores, vea [sintaxis de consulta Simple](https://docs.microsoft.com/rest/api/searchservice/simple-query-syntax-in-azure-search).</span><span class="sxs-lookup"><span data-stu-id="7c778-187">For more about hello interplay between `searchMode` and operators, see [Simple query syntax](https://docs.microsoft.com/rest/api/searchservice/simple-query-syntax-in-azure-search).</span></span>

<a name="stage2"></a>
## <a name="stage-2-lexical-analysis"></a><span data-ttu-id="7c778-188">Fase 2: Análisis léxico</span><span class="sxs-lookup"><span data-stu-id="7c778-188">Stage 2: Lexical analysis</span></span> 

<span data-ttu-id="7c778-189">Proceso de analizadores léxico *término consultas* y *frase consultas* después de la estructura de árbol de la consulta de Hola.</span><span class="sxs-lookup"><span data-stu-id="7c778-189">Lexical analyzers process *term queries* and *phrase queries* after hello query tree is structured.</span></span> <span data-ttu-id="7c778-190">Un analizador acepta Hola texto entradas dado tooit analizador hello, procesos Hola texto y, a continuación, términos envía volver acortado incorporar toobe Hola árbol de la consulta.</span><span class="sxs-lookup"><span data-stu-id="7c778-190">An analyzer accepts hello text inputs given tooit by hello parser, processes hello text, and then sends back tokenized terms toobe incorporated into hello query tree.</span></span> 

<span data-ttu-id="7c778-191">Hola de forma más habitual de análisis léxico es *análisis lingüístico* que transforma los términos de consulta basados en reglas tooa específico dado idioma:</span><span class="sxs-lookup"><span data-stu-id="7c778-191">hello most common form of lexical analysis is *linguistic analysis* which transforms query terms based on rules specific tooa given language:</span></span> 

* <span data-ttu-id="7c778-192">Reducir un formulario de consulta término toohello raíz de una palabra</span><span class="sxs-lookup"><span data-stu-id="7c778-192">Reducing a query term toohello root form of a word</span></span> 
* <span data-ttu-id="7c778-193">Eliminación de palabras no esenciales (palabras irrelevantes, como "el" o "y")</span><span class="sxs-lookup"><span data-stu-id="7c778-193">Removing non-essential words (stopwords, such as "the" or "and" in English)</span></span> 
* <span data-ttu-id="7c778-194">División de una palabra compuesta en partes</span><span class="sxs-lookup"><span data-stu-id="7c778-194">Breaking a composite word into component parts</span></span> 
* <span data-ttu-id="7c778-195">Uso de minúsculas en una palabra con mayúsculas</span><span class="sxs-lookup"><span data-stu-id="7c778-195">Lower casing an upper case word</span></span> 

<span data-ttu-id="7c778-196">Todas estas operaciones suelen tooerase diferencias entre las entradas de texto hello proporcionada por los términos de hello y usuario Hola almacenados en el índice de Hola.</span><span class="sxs-lookup"><span data-stu-id="7c778-196">All of these operations tend tooerase differences between hello text input provided by hello user and hello terms stored in hello index.</span></span> <span data-ttu-id="7c778-197">Tales operaciones ir más allá de procesamiento de texto y requieren un conocimiento profundo del lenguaje de hello propio.</span><span class="sxs-lookup"><span data-stu-id="7c778-197">Such operations go beyond text processing and require in-depth knowledge of hello language itself.</span></span> <span data-ttu-id="7c778-198">tooadd este nivel de reconocimiento lingüístico, búsqueda de Azure es compatible con una lista larga de [analizadores de lenguaje](https://docs.microsoft.com/rest/api/searchservice/language-support) de Lucene y Microsoft.</span><span class="sxs-lookup"><span data-stu-id="7c778-198">tooadd this layer of linguistic awareness, Azure Search supports a long list of [language analyzers](https://docs.microsoft.com/rest/api/searchservice/language-support) from both Lucene and Microsoft.</span></span>

> [!Note]
> <span data-ttu-id="7c778-199">Los requisitos de análisis pueden oscilar entre tooelaborate mínimo según el escenario.</span><span class="sxs-lookup"><span data-stu-id="7c778-199">Analysis requirements can range from minimal tooelaborate depending on your scenario.</span></span> <span data-ttu-id="7c778-200">Puede controlar la complejidad de análisis léxico Hola seleccionando uno de los analizadores de hello predefinido o creando su propio [analizador personalizado](https://docs.microsoft.com/rest/api/searchservice/Custom-analyzers-in-Azure-Search).</span><span class="sxs-lookup"><span data-stu-id="7c778-200">You can control complexity of lexical analysis by hello selecting one of hello predefined analyzers or by creating your own [custom analyzer](https://docs.microsoft.com/rest/api/searchservice/Custom-analyzers-in-Azure-Search).</span></span> <span data-ttu-id="7c778-201">Analizadores son campos toosearchable ámbito y se especifican como parte de una definición de campo.</span><span class="sxs-lookup"><span data-stu-id="7c778-201">Analyzers are scoped toosearchable fields and are specified as part of a field definition.</span></span> <span data-ttu-id="7c778-202">Esto le permite análisis léxico toovary por campo.</span><span class="sxs-lookup"><span data-stu-id="7c778-202">This allows you toovary lexical analysis on a per-field basis.</span></span> <span data-ttu-id="7c778-203">No se especifica, Hola *estándar* se utiliza el analizador de Lucene.</span><span class="sxs-lookup"><span data-stu-id="7c778-203">Unspecified, hello *standard* Lucene analyzer is used.</span></span>

<span data-ttu-id="7c778-204">En nuestro ejemplo, tooanalysis anterior, árbol de consulta inicial de hello tiene término Hola "Spacious" con una "S" mayúscula y una coma que Hola analizador de consultas interpreta como parte del término de la consulta de hello (una coma no se considera un operador de lenguaje de consulta).</span><span class="sxs-lookup"><span data-stu-id="7c778-204">In our example, prior tooanalysis, hello initial query tree has hello term "Spacious," with an uppercase "S" and a comma that hello query parser interprets as a part of hello query term (a comma is not considered a query language operator).</span></span>  

<span data-ttu-id="7c778-205">Cuando analizador de hello predeterminado procesa término hello, minúsculas "vista al mar" y "suficientes" y quite el carácter de coma Hola.</span><span class="sxs-lookup"><span data-stu-id="7c778-205">When hello default analyzer processes hello term, it will lowercase "ocean view" and "spacious", and remove hello comma character.</span></span> <span data-ttu-id="7c778-206">árbol de la consulta modificada de Hello será como se indica a continuación:</span><span class="sxs-lookup"><span data-stu-id="7c778-206">hello modified query tree will look as follows:</span></span> 

 ![Consulta booleana con términos analizados][4]

### <a name="testing-analyzer-behaviors"></a><span data-ttu-id="7c778-208">Prueba de comportamientos del analizador</span><span class="sxs-lookup"><span data-stu-id="7c778-208">Testing analyzer behaviors</span></span> 

<span data-ttu-id="7c778-209">comportamiento de Hola de un analizador se puede probar mediante hello [API analizar](https://docs.microsoft.com/rest/api/searchservice/test-analyzer).</span><span class="sxs-lookup"><span data-stu-id="7c778-209">hello behavior of an analyzer can be tested using hello [Analyze API](https://docs.microsoft.com/rest/api/searchservice/test-analyzer).</span></span> <span data-ttu-id="7c778-210">Proporcionar texto hello que desea tooanalyze toosee qué términos dados analizador generará.</span><span class="sxs-lookup"><span data-stu-id="7c778-210">Provide hello text you want tooanalyze toosee what terms given analyzer will generate.</span></span> <span data-ttu-id="7c778-211">Por ejemplo, toosee cómo procesaría analizador estándar Hola Hola texto "air-condition", puede emitir Hola después de solicitud:</span><span class="sxs-lookup"><span data-stu-id="7c778-211">For example, toosee how hello standard analyzer would process hello text "air-condition", you can issue hello following request:</span></span>

~~~~
{ 
    "text": "air-condition",
    "analyzer": "standard"
}
~~~~

<span data-ttu-id="7c778-212">Analizador estándar Hola divide el texto de entrada de hello en hello siguiendo dos tokens, anotarlos con atributos como inicio y desplazamientos de extremo (utilizados para resultados destacados), así como su posición (que se usa para la coincidencia de frase):</span><span class="sxs-lookup"><span data-stu-id="7c778-212">hello standard analyzer breaks hello input text into hello following two tokens, annotating them with attributes like start and end offsets (used for hit highlighting) as well as their position (used for phrase matching):</span></span>

~~~~
{  
  "tokens": [
    {
      "token": "air",
      "startOffset": 0,
      "endOffset": 3,
      "position": 0
    },
    {
      "token": "condition",
      "startOffset": 4,
      "endOffset": 13,
      "position": 1
    }
  ]
}
~~~~

### <a name="exceptions-toolexical-analysis"></a><span data-ttu-id="7c778-213">Análisis de toolexical de excepciones</span><span class="sxs-lookup"><span data-stu-id="7c778-213">Exceptions toolexical analysis</span></span> 

<span data-ttu-id="7c778-214">Análisis léxico aplica solo los tipos de tooquery que necesitan obtener todos los términos: consulta de un término o una consulta de la frase.</span><span class="sxs-lookup"><span data-stu-id="7c778-214">Lexical analysis applies only tooquery types that require complete terms – either a term query or a phrase query.</span></span> <span data-ttu-id="7c778-215">No se aplica tipos tooquery incompleta términos: consulta de prefijo, consultas de carácter comodín, consulta de expresión regular: o tooa aproximada consulta.</span><span class="sxs-lookup"><span data-stu-id="7c778-215">It doesn’t apply tooquery types with incomplete terms – prefix query, wildcard query, regex query – or tooa fuzzy query.</span></span> <span data-ttu-id="7c778-216">Los tipos, incluidos la consulta de prefijo de hello con el término de consulta *air-condition\**  en nuestro ejemplo, se agregan directamente toohello árbol de consulta, omitiendo la fase de análisis de Hola.</span><span class="sxs-lookup"><span data-stu-id="7c778-216">Those query types, including hello prefix query with term *air-condition\** in our example, are added directly toohello query tree, bypassing hello analysis stage.</span></span> <span data-ttu-id="7c778-217">Hello solo se realiza en términos de consulta de los tipos de transformación es escribir.</span><span class="sxs-lookup"><span data-stu-id="7c778-217">hello only transformation performed on query terms of those types is lowercasing.</span></span>

<a name="stage3"></a>
## <a name="stage-3-document-retrieval"></a><span data-ttu-id="7c778-218">Fase 3: Recuperación de documentos</span><span class="sxs-lookup"><span data-stu-id="7c778-218">Stage 3: Document retrieval</span></span> 

<span data-ttu-id="7c778-219">Recuperación de documentos refiere toofinding documentos con los términos de búsqueda de coincidencias de índice Hola.</span><span class="sxs-lookup"><span data-stu-id="7c778-219">Document retrieval refers toofinding documents with matching terms in hello index.</span></span> <span data-ttu-id="7c778-220">Esta fase se entiende mejor mediante un ejemplo.</span><span class="sxs-lookup"><span data-stu-id="7c778-220">This stage is understood best through an example.</span></span> <span data-ttu-id="7c778-221">Puede empezar con un índice de hoteles tener Hola después de esquema simple:</span><span class="sxs-lookup"><span data-stu-id="7c778-221">Let's start with a hotels index having hello following simple schema:</span></span> 

~~~~
{   
    "name": "hotels",     
    "fields": [     
        { "name": "id", "type": "Edm.String", "key": true, "searchable": false },     
        { "name": "title", "type": "Edm.String", "searchable": true },     
        { "name": "description", "type": "Edm.String", "searchable": true }
    ] 
} 
~~~~

<span data-ttu-id="7c778-222">Suponga también que este índice contiene Hola después de cuatro documentos:</span><span class="sxs-lookup"><span data-stu-id="7c778-222">Further assume that this index contains hello following four documents:</span></span> 

~~~~
{ 
    "value": [
        {         
            "id": "1",         
            "title": "Hotel Atman",         
            "description": "Spacious rooms, ocean view, walking distance toohello beach."   
        },       
        {         
            "id": "2",         
            "title": "Beach Resort",        
            "description": "Located on hello north shore of hello island of Kauaʻi. Ocean view."     
        },       
        {         
            "id": "3",         
            "title": "Playa Hotel",         
            "description": "Comfortable, air-conditioned rooms with ocean view."
        },       
        {         
            "id": "4",         
            "title": "Ocean Retreat",         
            "description": "Quiet and secluded"
        }    
    ]
}
~~~~

<span data-ttu-id="7c778-223">**Cómo se indexan los términos**</span><span class="sxs-lookup"><span data-stu-id="7c778-223">**How terms are indexed**</span></span>

<span data-ttu-id="7c778-224">recuperación de toounderstand, le ayuda a tooknow algunos conceptos básicos acerca de la indización.</span><span class="sxs-lookup"><span data-stu-id="7c778-224">toounderstand retrieval, it helps tooknow a few basics about indexing.</span></span> <span data-ttu-id="7c778-225">unidad de Hola de almacenamiento es un índice invertido, uno para cada campo de búsqueda.</span><span class="sxs-lookup"><span data-stu-id="7c778-225">hello unit of storage is an inverted index, one for each searchable field.</span></span> <span data-ttu-id="7c778-226">Dentro de un índice invertido hay una lista ordenada de todos los términos de todos los documentos.</span><span class="sxs-lookup"><span data-stu-id="7c778-226">Within an inverted index is a sorted list of all terms from all documents.</span></span> <span data-ttu-id="7c778-227">Cada término asigna toohello lista de documentos en el que aparece, como evidentes en el siguiente ejemplo de Hola.</span><span class="sxs-lookup"><span data-stu-id="7c778-227">Each term maps toohello list of documents in which it occurs, as evident in hello example below.</span></span>

<span data-ttu-id="7c778-228">términos de hello tooproduce en un índice invertido, motor de búsqueda de hello realiza análisis léxico sobre el contenido de Hola de documentos, toowhat similar se produce durante el procesamiento de consultas.</span><span class="sxs-lookup"><span data-stu-id="7c778-228">tooproduce hello terms in an inverted index, hello search engine performs lexical analysis over hello content of documents, similar toowhat happens during query processing.</span></span> <span data-ttu-id="7c778-229">Entradas de texto se pasan tooan analizador, en minúsculas, que se han quitado de puntuación y así sucesivamente, dependiendo de la configuración de analizador de Hola.</span><span class="sxs-lookup"><span data-stu-id="7c778-229">Text inputs are passed tooan analyzer, lower-cased, stripped of punctuation, and so forth, depending on hello analyzer configuration.</span></span> <span data-ttu-id="7c778-230">Es común, aunque no necesario, toouse Hola mismo analizadores de búsqueda y las operaciones de indización para que los términos de consulta parecen más a los términos de un índice de Hola.</span><span class="sxs-lookup"><span data-stu-id="7c778-230">It's common, but not required, toouse hello same analyzers for search and indexing operations so that query terms look more like terms inside hello index.</span></span>

> [!Note]
> <span data-ttu-id="7c778-231">Azure Search le permite especificar diferentes analizadores para la indexación y búsqueda a través de parámetros de campo `indexAnalyzer` y `searchAnalyzer` adicionales.</span><span class="sxs-lookup"><span data-stu-id="7c778-231">Azure Search lets you specify different analyzers for indexing and search via additional `indexAnalyzer` and `searchAnalyzer` field parameters.</span></span> <span data-ttu-id="7c778-232">Si no se especifica, Hola analizador establecido con hello `analyzer` propiedad se utiliza para la indización y búsqueda.</span><span class="sxs-lookup"><span data-stu-id="7c778-232">If unspecified, hello analyzer set with hello `analyzer` property is used for both indexing and searching.</span></span>  

<span data-ttu-id="7c778-233">**Índice invertido para documentos de ejemplo**</span><span class="sxs-lookup"><span data-stu-id="7c778-233">**Inverted index for example documents**</span></span>

<span data-ttu-id="7c778-234">Devolver tooour por ejemplo, en hello **título** campo, índice invertido de hello el siguiente aspecto:</span><span class="sxs-lookup"><span data-stu-id="7c778-234">Returning tooour example, for hello **title** field, hello inverted index looks like this:</span></span>

| <span data-ttu-id="7c778-235">Término</span><span class="sxs-lookup"><span data-stu-id="7c778-235">Term</span></span> | <span data-ttu-id="7c778-236">Lista de documento</span><span class="sxs-lookup"><span data-stu-id="7c778-236">Document list</span></span> |
|------|---------------|
| <span data-ttu-id="7c778-237">atman</span><span class="sxs-lookup"><span data-stu-id="7c778-237">atman</span></span> | <span data-ttu-id="7c778-238">1</span><span class="sxs-lookup"><span data-stu-id="7c778-238">1</span></span> |
| <span data-ttu-id="7c778-239">playa</span><span class="sxs-lookup"><span data-stu-id="7c778-239">beach</span></span> | <span data-ttu-id="7c778-240">2</span><span class="sxs-lookup"><span data-stu-id="7c778-240">2</span></span> |
| <span data-ttu-id="7c778-241">hotel</span><span class="sxs-lookup"><span data-stu-id="7c778-241">hotel</span></span> | <span data-ttu-id="7c778-242">1, 3</span><span class="sxs-lookup"><span data-stu-id="7c778-242">1, 3</span></span> |
| <span data-ttu-id="7c778-243">océano</span><span class="sxs-lookup"><span data-stu-id="7c778-243">ocean</span></span> | <span data-ttu-id="7c778-244">4</span><span class="sxs-lookup"><span data-stu-id="7c778-244">4</span></span>  |
| <span data-ttu-id="7c778-245">playa</span><span class="sxs-lookup"><span data-stu-id="7c778-245">playa</span></span> | <span data-ttu-id="7c778-246">3</span><span class="sxs-lookup"><span data-stu-id="7c778-246">3</span></span> |
| <span data-ttu-id="7c778-247">resort</span><span class="sxs-lookup"><span data-stu-id="7c778-247">resort</span></span> | <span data-ttu-id="7c778-248">3</span><span class="sxs-lookup"><span data-stu-id="7c778-248">3</span></span> |
| <span data-ttu-id="7c778-249">retirada</span><span class="sxs-lookup"><span data-stu-id="7c778-249">retreat</span></span> | <span data-ttu-id="7c778-250">4</span><span class="sxs-lookup"><span data-stu-id="7c778-250">4</span></span> |

<span data-ttu-id="7c778-251">En el campo de título de hello, solo *hotel* aparece en dos documentos: 1, 3.</span><span class="sxs-lookup"><span data-stu-id="7c778-251">In hello title field, only *hotel* shows up in two documents: 1, 3.</span></span>

<span data-ttu-id="7c778-252">Para hello **descripción** campo, índice hello es como sigue:</span><span class="sxs-lookup"><span data-stu-id="7c778-252">For hello **description** field, hello index is as follows:</span></span>

| <span data-ttu-id="7c778-253">Término</span><span class="sxs-lookup"><span data-stu-id="7c778-253">Term</span></span> | <span data-ttu-id="7c778-254">Lista de documento</span><span class="sxs-lookup"><span data-stu-id="7c778-254">Document list</span></span> |
|------|---------------|
| <span data-ttu-id="7c778-255">post-</span><span class="sxs-lookup"><span data-stu-id="7c778-255">air</span></span> | <span data-ttu-id="7c778-256">3</span><span class="sxs-lookup"><span data-stu-id="7c778-256">3</span></span>
| <span data-ttu-id="7c778-257">y</span><span class="sxs-lookup"><span data-stu-id="7c778-257">and</span></span> | <span data-ttu-id="7c778-258">4</span><span class="sxs-lookup"><span data-stu-id="7c778-258">4</span></span>
| <span data-ttu-id="7c778-259">playa</span><span class="sxs-lookup"><span data-stu-id="7c778-259">beach</span></span> | <span data-ttu-id="7c778-260">1</span><span class="sxs-lookup"><span data-stu-id="7c778-260">1</span></span>
| <span data-ttu-id="7c778-261">vacacional</span><span class="sxs-lookup"><span data-stu-id="7c778-261">conditioned</span></span> | <span data-ttu-id="7c778-262">3</span><span class="sxs-lookup"><span data-stu-id="7c778-262">3</span></span>
| <span data-ttu-id="7c778-263">cómodo</span><span class="sxs-lookup"><span data-stu-id="7c778-263">comfortable</span></span> | <span data-ttu-id="7c778-264">3</span><span class="sxs-lookup"><span data-stu-id="7c778-264">3</span></span>
| <span data-ttu-id="7c778-265">distancia</span><span class="sxs-lookup"><span data-stu-id="7c778-265">distance</span></span> | <span data-ttu-id="7c778-266">1</span><span class="sxs-lookup"><span data-stu-id="7c778-266">1</span></span>
| <span data-ttu-id="7c778-267">isla</span><span class="sxs-lookup"><span data-stu-id="7c778-267">island</span></span> | <span data-ttu-id="7c778-268">2</span><span class="sxs-lookup"><span data-stu-id="7c778-268">2</span></span>
| <span data-ttu-id="7c778-269">kauaʻi</span><span class="sxs-lookup"><span data-stu-id="7c778-269">kauaʻi</span></span> | <span data-ttu-id="7c778-270">2</span><span class="sxs-lookup"><span data-stu-id="7c778-270">2</span></span>
| <span data-ttu-id="7c778-271">ubicado</span><span class="sxs-lookup"><span data-stu-id="7c778-271">located</span></span> | <span data-ttu-id="7c778-272">2</span><span class="sxs-lookup"><span data-stu-id="7c778-272">2</span></span>
| <span data-ttu-id="7c778-273">norte</span><span class="sxs-lookup"><span data-stu-id="7c778-273">north</span></span> | <span data-ttu-id="7c778-274">2</span><span class="sxs-lookup"><span data-stu-id="7c778-274">2</span></span>
| <span data-ttu-id="7c778-275">océano</span><span class="sxs-lookup"><span data-stu-id="7c778-275">ocean</span></span> | <span data-ttu-id="7c778-276">1, 2, 3</span><span class="sxs-lookup"><span data-stu-id="7c778-276">1, 2, 3</span></span>
| <span data-ttu-id="7c778-277">de</span><span class="sxs-lookup"><span data-stu-id="7c778-277">of</span></span> | <span data-ttu-id="7c778-278">2</span><span class="sxs-lookup"><span data-stu-id="7c778-278">2</span></span>
| <span data-ttu-id="7c778-279">en</span><span class="sxs-lookup"><span data-stu-id="7c778-279">on</span></span> |<span data-ttu-id="7c778-280">2</span><span class="sxs-lookup"><span data-stu-id="7c778-280">2</span></span>
| <span data-ttu-id="7c778-281">silencioso</span><span class="sxs-lookup"><span data-stu-id="7c778-281">quiet</span></span> | <span data-ttu-id="7c778-282">4</span><span class="sxs-lookup"><span data-stu-id="7c778-282">4</span></span>
| <span data-ttu-id="7c778-283">habitaciones</span><span class="sxs-lookup"><span data-stu-id="7c778-283">rooms</span></span>  | <span data-ttu-id="7c778-284">1, 3</span><span class="sxs-lookup"><span data-stu-id="7c778-284">1, 3</span></span>
| <span data-ttu-id="7c778-285">aislado</span><span class="sxs-lookup"><span data-stu-id="7c778-285">secluded</span></span> | <span data-ttu-id="7c778-286">4</span><span class="sxs-lookup"><span data-stu-id="7c778-286">4</span></span>
| <span data-ttu-id="7c778-287">costa</span><span class="sxs-lookup"><span data-stu-id="7c778-287">shore</span></span> | <span data-ttu-id="7c778-288">2</span><span class="sxs-lookup"><span data-stu-id="7c778-288">2</span></span>
| <span data-ttu-id="7c778-289">espacioso</span><span class="sxs-lookup"><span data-stu-id="7c778-289">spacious</span></span> | <span data-ttu-id="7c778-290">1</span><span class="sxs-lookup"><span data-stu-id="7c778-290">1</span></span>
| <span data-ttu-id="7c778-291">Hola</span><span class="sxs-lookup"><span data-stu-id="7c778-291">hello</span></span> | <span data-ttu-id="7c778-292">1, 2</span><span class="sxs-lookup"><span data-stu-id="7c778-292">1, 2</span></span>
| <span data-ttu-id="7c778-293">demasiado</span><span class="sxs-lookup"><span data-stu-id="7c778-293">too</span></span>| <span data-ttu-id="7c778-294">1</span><span class="sxs-lookup"><span data-stu-id="7c778-294">1</span></span>
| <span data-ttu-id="7c778-295">view</span><span class="sxs-lookup"><span data-stu-id="7c778-295">view</span></span> | <span data-ttu-id="7c778-296">1, 2, 3</span><span class="sxs-lookup"><span data-stu-id="7c778-296">1, 2, 3</span></span>
| <span data-ttu-id="7c778-297">paseo</span><span class="sxs-lookup"><span data-stu-id="7c778-297">walking</span></span> | <span data-ttu-id="7c778-298">1</span><span class="sxs-lookup"><span data-stu-id="7c778-298">1</span></span>
| <span data-ttu-id="7c778-299">por</span><span class="sxs-lookup"><span data-stu-id="7c778-299">with</span></span> | <span data-ttu-id="7c778-300">3</span><span class="sxs-lookup"><span data-stu-id="7c778-300">3</span></span>


<span data-ttu-id="7c778-301">**Coincidencia de términos de consulta con términos indexados**</span><span class="sxs-lookup"><span data-stu-id="7c778-301">**Matching query terms against indexed terms**</span></span>

<span data-ttu-id="7c778-302">Vamos a dada índices Hola invertido anteriores, devolver la consulta de ejemplo de toohello y vea cómo coincidentes documentos se encuentran para nuestra consulta de ejemplo.</span><span class="sxs-lookup"><span data-stu-id="7c778-302">Given hello inverted indices above, let’s return toohello sample query and see how matching documents are found for our example query.</span></span> <span data-ttu-id="7c778-303">Recuerde que ese árbol de consulta final hello tiene el siguiente aspecto:</span><span class="sxs-lookup"><span data-stu-id="7c778-303">Recall that hello final query tree looks like this:</span></span> 

 ![Consulta booleana con términos analizados][4]

<span data-ttu-id="7c778-305">Durante la ejecución de la consulta, las consultas individuales se ejecutan en los campos de búsqueda de Hola por separado.</span><span class="sxs-lookup"><span data-stu-id="7c778-305">During query execution, individual queries are executed against hello searchable fields independently.</span></span> 

+ <span data-ttu-id="7c778-306">Hello TermQuery "suficientes", coincide con documento 1 (Hotel Atman).</span><span class="sxs-lookup"><span data-stu-id="7c778-306">hello TermQuery, "spacious", matches document 1 (Hotel Atman).</span></span> 

+ <span data-ttu-id="7c778-307">Hola PrefixQuery, "air-condition *", no coincide con todos los documentos.</span><span class="sxs-lookup"><span data-stu-id="7c778-307">hello PrefixQuery, "air-condition*", doesn't match any documents.</span></span> 

  <span data-ttu-id="7c778-308">Este es el comportamiento que normalmente confunde a los desarrolladores.</span><span class="sxs-lookup"><span data-stu-id="7c778-308">This is a behavior that sometimes confuses developers.</span></span> <span data-ttu-id="7c778-309">Aunque el término Hola con aire acondicionado existe en el documento de hello, se divide en dos términos analizador de Hola de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="7c778-309">Although hello term air-conditioned exists in hello document, it is split into two terms by hello default analyzer.</span></span> <span data-ttu-id="7c778-310">Recuerde que las consultas de prefijo, que contienen términos parciales, no se analizan.</span><span class="sxs-lookup"><span data-stu-id="7c778-310">Recall that prefix queries, which contain partial terms, are not analyzed.</span></span> <span data-ttu-id="7c778-311">Por lo tanto, términos con el prefijo "air-condition" se busca en hello índice invierten y no se encuentran.</span><span class="sxs-lookup"><span data-stu-id="7c778-311">Therefore terms with prefix "air-condition" are looked up in hello inverted index and not found.</span></span>

+ <span data-ttu-id="7c778-312">Hello PhraseQuery "vista marina", busca Hola términos "océano" y "vista" y comprueba la proximidad de Hola de términos en el documento original de Hola.</span><span class="sxs-lookup"><span data-stu-id="7c778-312">hello PhraseQuery, "ocean view", looks up hello terms "ocean" and "view" and checks hello proximity of terms in hello original document.</span></span> <span data-ttu-id="7c778-313">Documentos de 1, 2 y 3 coincide con esta consulta en el campo de descripción de Hola.</span><span class="sxs-lookup"><span data-stu-id="7c778-313">Documents 1, 2 and 3 match this query in hello description field.</span></span> <span data-ttu-id="7c778-314">Documento de aviso 4 tiene Océano de término de hello en el título de hello pero no se considera a una coincidencia, buscamos frase de "vista al mar" Hola, en lugar de las palabras individuales.</span><span class="sxs-lookup"><span data-stu-id="7c778-314">Notice document 4 has hello term ocean in hello title but isn’t considered a match, as we're looking for hello "ocean view" phrase rather than individual words.</span></span> 

> [!Note]
> <span data-ttu-id="7c778-315">Una consulta de búsqueda se ejecuta de forma independiente en todos los campos que permiten búsqueda Hola índice de búsqueda de Azure, a menos que limite los campos de hello establecido con hello `searchFields` parámetro, como se muestra en la solicitud de búsqueda de ejemplo de Hola.</span><span class="sxs-lookup"><span data-stu-id="7c778-315">A search query is executed independently against all searchable fields in hello Azure Search index unless you limit hello fields set with hello `searchFields` parameter, as illustrated in hello example search request.</span></span> <span data-ttu-id="7c778-316">Se devuelven documentos que coinciden en cualquiera de los campos de hello seleccionado.</span><span class="sxs-lookup"><span data-stu-id="7c778-316">Documents that match in any of hello selected fields are returned.</span></span> 

<span data-ttu-id="7c778-317">En hello todo para consulta de hello en cuestión, documentos de Hola que coinciden con son 1, 2, 3.</span><span class="sxs-lookup"><span data-stu-id="7c778-317">On hello whole, for hello query in question, hello documents that match are 1, 2, 3.</span></span> 

## <a name="stage-4-scoring"></a><span data-ttu-id="7c778-318">Fase 4: Puntuación</span><span class="sxs-lookup"><span data-stu-id="7c778-318">Stage 4: Scoring</span></span>  

<span data-ttu-id="7c778-319">A todos los documentos de un conjunto de resultados de búsqueda se les asigna una puntuación de relevancia.</span><span class="sxs-lookup"><span data-stu-id="7c778-319">Every document in a search result set is assigned a relevance score.</span></span> <span data-ttu-id="7c778-320">función Hello de puntuación por relevancia hello es toorank superior de los documentos que la mejor respuesta para un usuario pregunta expresados por la consulta de búsqueda de Hola.</span><span class="sxs-lookup"><span data-stu-id="7c778-320">hello function of hello relevance score is toorank higher those documents that best answer a user question as expressed by hello search query.</span></span> <span data-ttu-id="7c778-321">Hola puntuación se calcula en función de propiedades estadísticas de términos que coinciden.</span><span class="sxs-lookup"><span data-stu-id="7c778-321">hello score is computed based on statistical properties of terms that matched.</span></span> <span data-ttu-id="7c778-322">En hello núcleo de hello puntuación fórmula es [TF/IDF (frecuencia de frecuencia inversa de documento de término)](https://en.wikipedia.org/wiki/Tf%E2%80%93idf).</span><span class="sxs-lookup"><span data-stu-id="7c778-322">At hello core of hello scoring formula is [TF/IDF (term frequency-inverse document frequency)](https://en.wikipedia.org/wiki/Tf%E2%80%93idf).</span></span> <span data-ttu-id="7c778-323">En las consultas que contienen términos comunes y poco frecuentes, TF/IDF promueve resultados que contengan el término raras Hola.</span><span class="sxs-lookup"><span data-stu-id="7c778-323">In queries containing rare and common terms, TF/IDF promotes results containing hello rare term.</span></span> <span data-ttu-id="7c778-324">Por ejemplo, en un índice hipotético con todos los artículos de Wikipedia, desde documentos esa consulta coincidente hello *president hello*, documentos de búsqueda de coincidencias *president* se consideran más importantes que documentos de búsqueda de coincidencias *la*.</span><span class="sxs-lookup"><span data-stu-id="7c778-324">For example, in a hypothetical index with all Wikipedia articles, from documents that matched hello query *hello president*, documents matching on *president* are considered more relevant than documents matching on *the*.</span></span>


### <a name="scoring-example"></a><span data-ttu-id="7c778-325">Ejemplo de puntuación</span><span class="sxs-lookup"><span data-stu-id="7c778-325">Scoring example</span></span>

<span data-ttu-id="7c778-326">Recuerde Hola tres documentos que coinciden con la consulta de ejemplo:</span><span class="sxs-lookup"><span data-stu-id="7c778-326">Recall hello three documents that matched our example query:</span></span>
~~~~
search=Spacious, air-condition* +"Ocean view"  
~~~~
~~~~
{  
  "value": [
    {
      "@search.score": 0.25610128,
      "id": "1",
      "title": "Hotel Atman",
      "description": "Spacious rooms, ocean view, walking distance toohello beach."
    },
    {
      "@search.score": 0.08951007,
      "id": "3",
      "title": "Playa Hotel",
      "description": "Comfortable, air-conditioned rooms with ocean view."
    },
    {
      "@search.score": 0.05967338,
      "id": "2",
      "title": "Ocean Resort",
      "description": "Located on a cliff on hello north shore of hello island of Kauai. Ocean view."
    }
  ]
}
~~~~

<span data-ttu-id="7c778-327">Documento 1 consulta coincidente Hola mejor porque ambos Hola término *suficientes* y una frase necesario hello *vista al mar* se producen en el campo de descripción de Hola.</span><span class="sxs-lookup"><span data-stu-id="7c778-327">Document 1 matched hello query best because both hello term *spacious* and hello required phrase *ocean view* occur in hello description field.</span></span> <span data-ttu-id="7c778-328">documentos de dos de Hello coinciden con la frase de hello solo *vista al mar*.</span><span class="sxs-lookup"><span data-stu-id="7c778-328">hello next two documents match only hello phrase *ocean view*.</span></span> <span data-ttu-id="7c778-329">Podría ser sorprendente ese puntuación por relevancia Hola de documento 2 y 3 es diferente, aunque se comparar consultas Hola Hola igual.</span><span class="sxs-lookup"><span data-stu-id="7c778-329">It might be surprising that hello relevance score for document 2 and 3 is different even though they matched hello query in hello same way.</span></span> <span data-ttu-id="7c778-330">Es porque Hola puntuación fórmula tiene componentes más que simplemente TF/IDF.</span><span class="sxs-lookup"><span data-stu-id="7c778-330">It's because hello scoring formula has more components than just TF/IDF.</span></span> <span data-ttu-id="7c778-331">En este caso, al documento 3 se le asignó una puntuación ligeramente superior porque su descripción es más corta.</span><span class="sxs-lookup"><span data-stu-id="7c778-331">In this case, document 3 was assigned a slightly higher score because its description is shorter.</span></span> <span data-ttu-id="7c778-332">Obtenga información acerca de [práctico puntuación fórmula Lucene](https://lucene.apache.org/core/4_0_0/core/org/apache/lucene/search/similarities/TFIDFSimilarity.html) toounderstand la longitud de campo y otros factores pueden influir en Hola puntuación por relevancia.</span><span class="sxs-lookup"><span data-stu-id="7c778-332">Learn about [Lucene's Practical Scoring Formula](https://lucene.apache.org/core/4_0_0/core/org/apache/lucene/search/similarities/TFIDFSimilarity.html) toounderstand how field length and other factors can influence hello relevance score.</span></span>

<span data-ttu-id="7c778-333">Algunos tipos (comodín, el prefijo y regex) de consulta siempre aporta una puntuación constante toohello general de puntuación de documentos.</span><span class="sxs-lookup"><span data-stu-id="7c778-333">Some query types (wildcard, prefix, regex) always contribute a constant score toohello overall document score.</span></span> <span data-ttu-id="7c778-334">Esto permite que las coincidencias encontradas a través de toobe de expansión de consulta incluido en los resultados de hello, pero sin afectar a la clasificación de Hola.</span><span class="sxs-lookup"><span data-stu-id="7c778-334">This allows matches found through query expansion toobe included in hello results, but without affecting hello ranking.</span></span> 

<span data-ttu-id="7c778-335">El ejemplo muestra por qué esto es importante.</span><span class="sxs-lookup"><span data-stu-id="7c778-335">An example illustrates why this matters.</span></span> <span data-ttu-id="7c778-336">Búsquedas con caracteres comodín, incluidas las búsquedas de prefijo, son ambiguas por definición dado Hola entrada es una cadena parcial con coincidencias posibles en un gran número de términos dispares (tenga en cuenta una entrada de "paseo *", con las coincidencias encontradas en "tours", "tourettes", y " tourmaline").</span><span class="sxs-lookup"><span data-stu-id="7c778-336">Wildcard searches, including prefix searches, are ambiguous by definition because hello input is a partial string with potential matches on a very large number of disparate terms (consider an input of "tour*", with matches found on “tours”, “tourettes”, and “tourmaline”).</span></span> <span data-ttu-id="7c778-337">Dada la naturaleza de Hola de estos resultados, no hay ninguna manera tooreasonably deducir cuáles son los términos son más valiosos que otros usuarios.</span><span class="sxs-lookup"><span data-stu-id="7c778-337">Given hello nature of these results, there is no way tooreasonably infer which terms are more valuable than others.</span></span> <span data-ttu-id="7c778-338">Por este motivo, se omiten las frecuencias de término cuando realiza la puntuación de resultados en consultas de tipo caracteres comodín, prefijo y regex.</span><span class="sxs-lookup"><span data-stu-id="7c778-338">For this reason, we ignore term frequencies when scoring results in queries of types wildcard, prefix and regex.</span></span> <span data-ttu-id="7c778-339">En una solicitud de búsqueda de varias partes que incluye términos parciales y totales, se incorporan los resultados a partir de datos parcial Hola con una constante puntuación tooavoid sesgo hacia coincidencias potencialmente inesperadas.</span><span class="sxs-lookup"><span data-stu-id="7c778-339">In a multi-part search request that includes partial and complete terms, results from hello partial input are incorporated with a constant score tooavoid bias towards potentially unexpected matches.</span></span>

### <a name="score-tuning"></a><span data-ttu-id="7c778-340">Optimización de la puntuación</span><span class="sxs-lookup"><span data-stu-id="7c778-340">Score tuning</span></span>

<span data-ttu-id="7c778-341">Hay dos maneras de puntuaciones de importancia tootune en búsqueda de Azure:</span><span class="sxs-lookup"><span data-stu-id="7c778-341">There are two ways tootune relevance scores in Azure Search:</span></span>

1. <span data-ttu-id="7c778-342">**Los perfiles de puntuación** promover documentos en la lista de hello el rango de resultados en función de un conjunto de reglas.</span><span class="sxs-lookup"><span data-stu-id="7c778-342">**Scoring profiles** promote documents in hello ranked list of results based on a set of rules.</span></span> <span data-ttu-id="7c778-343">En nuestro ejemplo, podríamos consideramos documentos que coinciden en el campo de título de hello más importantes que documentos que se encuentran coincidencias en el campo de descripción de Hola.</span><span class="sxs-lookup"><span data-stu-id="7c778-343">In our example, we could consider documents that matched in hello title field more relevant than documents that matched in hello description field.</span></span> <span data-ttu-id="7c778-344">Además, si el índice tenía un campo de precio para cada hotel, podríamos favorecer a los documentos con un precio menor.</span><span class="sxs-lookup"><span data-stu-id="7c778-344">Additionally, if our index had a price field for each hotel, we could promote documents with lower price.</span></span> <span data-ttu-id="7c778-345">Obtener más información cómo demasiado[agregar índice de búsqueda de tooa de perfiles de puntuación.](https://docs.microsoft.com/rest/api/searchservice/add-scoring-profiles-to-a-search-index)</span><span class="sxs-lookup"><span data-stu-id="7c778-345">Learn more how too[add Scoring Profiles tooa search index.](https://docs.microsoft.com/rest/api/searchservice/add-scoring-profiles-to-a-search-index)</span></span>
2. <span data-ttu-id="7c778-346">**Aumento de términos** (disponible solo en la sintaxis de consulta de Lucene completa de hello) proporciona un operador de aumento `^` que se puede aplicar tooany parte del árbol de la consulta de Hola.</span><span class="sxs-lookup"><span data-stu-id="7c778-346">**Term boosting** (available only in hello Full Lucene query syntax) provides a boosting operator `^` that can be applied tooany part of hello query tree.</span></span> <span data-ttu-id="7c778-347">En nuestro ejemplo, en lugar de Buscar prefijo hello *air-condition*\*, uno podría buscar cualquiera de los términos exactos hello *air-condition* o prefijo de hello, pero los documentos que coinciden en hello exacta término con un rango superior mediante la aplicación de consulta de aumento toohello término: *aire condición ^ 2 || AIR-Condition**.</span><span class="sxs-lookup"><span data-stu-id="7c778-347">In our example, instead of searching on hello prefix *air-condition*\*, one could search for either hello exact term *air-condition* or hello prefix, but documents that match on hello exact term are ranked higher by applying boost toohello term query: *air-condition^2||air-condition**.</span></span> <span data-ttu-id="7c778-348">Más información sobre la [priorización de términos](https://docs.microsoft.com/rest/api/searchservice/lucene-query-syntax-in-azure-search#bkmk_termboost).</span><span class="sxs-lookup"><span data-stu-id="7c778-348">Learn more about [term boosting](https://docs.microsoft.com/rest/api/searchservice/lucene-query-syntax-in-azure-search#bkmk_termboost).</span></span>


### <a name="scoring-in-a-distributed-index"></a><span data-ttu-id="7c778-349">Puntuación en un índice distribuido</span><span class="sxs-lookup"><span data-stu-id="7c778-349">Scoring in a distributed index</span></span>

<span data-ttu-id="7c778-350">Todos los índices de búsqueda de Azure son automáticamente dividir en varias particiones, lo que nos tooquickly distribuir índice Hola entre varios nodos durante la escala del servicio de una copia de seguridad o reducir verticalmente.</span><span class="sxs-lookup"><span data-stu-id="7c778-350">All indexes in Azure Search are automatically split into multiple shards, allowing us tooquickly distribute hello index among multiple nodes during service scale up or scale down.</span></span> <span data-ttu-id="7c778-351">Cuando se emite una solicitud de búsqueda, se emite de forma independiente en cada partición.</span><span class="sxs-lookup"><span data-stu-id="7c778-351">When a search request is issued, it’s issued against each shard independently.</span></span> <span data-ttu-id="7c778-352">Hello resultados de cada partición se, a continuación, combinan y se ordenan por puntuación (si no se ha definido ninguna otra ordenación).</span><span class="sxs-lookup"><span data-stu-id="7c778-352">hello results from each shard are then merged and ordered by score (if no other ordering is defined).</span></span> <span data-ttu-id="7c778-353">Es importante tooknow que Hola puntuación función pesos término frecuencia de las consultas con su frecuencia de documento inverso en todos los documentos dentro de la partición hello, no a través de todas las particiones.</span><span class="sxs-lookup"><span data-stu-id="7c778-353">It is important tooknow that hello scoring function weights query term frequency against its inverse document frequency in all documents within hello shard, not across all shards!</span></span>

<span data-ttu-id="7c778-354">Esto significa que una puntuación por relevancia *puede* ser diferente para los documentos idénticos si residen en diferentes particiones.</span><span class="sxs-lookup"><span data-stu-id="7c778-354">This means a relevance score *could* be different for identical documents if they reside on different shards.</span></span> <span data-ttu-id="7c778-355">Afortunadamente, tales diferencias suelen toodisappear a medida que aumenta el número de Hola de documentos en el índice de hello debido distribución de término incluso toomore.</span><span class="sxs-lookup"><span data-stu-id="7c778-355">Fortunately, such differences tend toodisappear as hello number of documents in hello index grows due toomore even term distribution.</span></span> <span data-ttu-id="7c778-356">No es posible tooassume en qué partición se colocará cualquier documento concreto.</span><span class="sxs-lookup"><span data-stu-id="7c778-356">It’s not possible tooassume on which shard any given document will be placed.</span></span> <span data-ttu-id="7c778-357">Sin embargo, suponiendo que no cambia una clave de documento, siempre se asignará toohello misma partición.</span><span class="sxs-lookup"><span data-stu-id="7c778-357">However, assuming a document key doesn't change, it will always be assigned toohello same shard.</span></span>

<span data-ttu-id="7c778-358">En general, puntuación de documento no es atributo mejor de Hola para ordenar los documentos si la estabilidad de orden es importante.</span><span class="sxs-lookup"><span data-stu-id="7c778-358">In general, document score is not hello best attribute for ordering documents if order stability is important.</span></span> <span data-ttu-id="7c778-359">Por ejemplo, proporciona dos documento con una puntuación idéntica, no hay ninguna garantía de que aparece en primer lugar en las ejecuciones posteriores de Hola misma consulta.</span><span class="sxs-lookup"><span data-stu-id="7c778-359">For example, given two document with an identical score, there is no guarantee which one appears first in subsequent runs of hello same query.</span></span> <span data-ttu-id="7c778-360">Puntuación del documento sólo debe dar una idea general de relevancia de documento relativa tooother documentos en conjunto de resultados de Hola.</span><span class="sxs-lookup"><span data-stu-id="7c778-360">Document score should only give a general sense of document relevance relative tooother documents in hello results set.</span></span>

## <a name="conclusion"></a><span data-ttu-id="7c778-361">Conclusión</span><span class="sxs-lookup"><span data-stu-id="7c778-361">Conclusion</span></span>

<span data-ttu-id="7c778-362">éxito de Hola de motores de búsqueda de internet ha generado expectativas para la búsqueda de texto completo sobre datos privados.</span><span class="sxs-lookup"><span data-stu-id="7c778-362">hello success of internet search engines has raised expectations for full text search over private data.</span></span> <span data-ttu-id="7c778-363">Para casi cualquier tipo de experiencia de búsqueda, ahora esperamos Hola motor toounderstand nuestra intención, incluso cuando términos son incorrectas o está incompleto.</span><span class="sxs-lookup"><span data-stu-id="7c778-363">For almost any kind of search experience, we now expect hello engine toounderstand our intent, even when terms are misspelled or incomplete.</span></span> <span data-ttu-id="7c778-364">Esperamos incluso coincidencias basadas en términos casi equivalentes o sinónimos que realmente nunca hemos especificado.</span><span class="sxs-lookup"><span data-stu-id="7c778-364">We might even expect matches based on near equivalent terms or synonyms that we never actually specified.</span></span>

<span data-ttu-id="7c778-365">Desde un punto de vista técnico, búsqueda de texto completo es muy compleja, que requieren el análisis lingüístico sofisticado y un enfoque sistemático tooprocessing de maneras que refinar, expandan y para transforman toodeliver de términos de consulta resultado correspondiente.</span><span class="sxs-lookup"><span data-stu-id="7c778-365">From a technical standpoint, full text search is highly complex, requiring sophisticated linguistic analysis and a systematic approach tooprocessing in ways that distill, expand, and transform query terms toodeliver a relevant result.</span></span> <span data-ttu-id="7c778-366">Dado las complejidades inherentes de hello, hay muchos factores que pueden afectar al resultado de hello de una consulta.</span><span class="sxs-lookup"><span data-stu-id="7c778-366">Given hello inherent complexities, there are a lot of factors that can affect hello outcome of a query.</span></span> <span data-ttu-id="7c778-367">Por esta razón, invertir la mecánica de hello tiempo toounderstand Hola de búsqueda de texto completo ofrece ventajas tangibles al tratar de toowork a través de resultados inesperados.</span><span class="sxs-lookup"><span data-stu-id="7c778-367">For this reason, investing hello time toounderstand hello mechanics of full text search offers tangible benefits when trying toowork through unexpected results.</span></span>  

<span data-ttu-id="7c778-368">En este artículo se han explorado búsqueda de texto completo en el contexto de Hola de búsqueda de Azure.</span><span class="sxs-lookup"><span data-stu-id="7c778-368">This article explored full text search in hello context of Azure Search.</span></span> <span data-ttu-id="7c778-369">Esperamos que proporciona suficientes fondo toorecognize posibles causas y soluciones para resolver problemas comunes de las consultas.</span><span class="sxs-lookup"><span data-stu-id="7c778-369">We hope it gives you sufficient background toorecognize potential causes and resolutions for addressing common query problems.</span></span> 

## <a name="next-steps"></a><span data-ttu-id="7c778-370">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="7c778-370">Next steps</span></span>

+ <span data-ttu-id="7c778-371">Generar índice de ejemplo de Hola, pruebe distintas consultas y revisar los resultados.</span><span class="sxs-lookup"><span data-stu-id="7c778-371">Build hello sample index, try out different queries and review results.</span></span> <span data-ttu-id="7c778-372">Para obtener instrucciones, consulte [crear y consultar un índice en el portal de hello](search-get-started-portal.md#query-index).</span><span class="sxs-lookup"><span data-stu-id="7c778-372">For instructions, see [Build and query an index in hello portal](search-get-started-portal.md#query-index).</span></span>

+ <span data-ttu-id="7c778-373">Pruebe la sintaxis de consulta adicional de hello [buscar documentos](https://docs.microsoft.com/rest/api/searchservice/search-documents#examples) sección ejemplo o de [sintaxis de consulta Simple](https://docs.microsoft.com/rest/api/searchservice/simple-query-syntax-in-azure-search) en el Explorador de búsqueda en el portal de Hola.</span><span class="sxs-lookup"><span data-stu-id="7c778-373">Try additional query syntax from hello [Search Documents](https://docs.microsoft.com/rest/api/searchservice/search-documents#examples) example section or from [Simple query syntax](https://docs.microsoft.com/rest/api/searchservice/simple-query-syntax-in-azure-search) in Search explorer in hello portal.</span></span>

+ <span data-ttu-id="7c778-374">Revisión [perfiles de puntuación](https://docs.microsoft.com/rest/api/searchservice/add-scoring-profiles-to-a-search-index) si desea tootune clasificar de la aplicación de búsqueda.</span><span class="sxs-lookup"><span data-stu-id="7c778-374">Review [scoring profiles](https://docs.microsoft.com/rest/api/searchservice/add-scoring-profiles-to-a-search-index) if you want tootune ranking in your search application.</span></span>

+ <span data-ttu-id="7c778-375">Obtenga información acerca de cómo tooapply [analizadores léxicos específica del lenguaje](https://docs.microsoft.com/rest/api/searchservice/language-support).</span><span class="sxs-lookup"><span data-stu-id="7c778-375">Learn how tooapply [language-specific lexical analyzers](https://docs.microsoft.com/rest/api/searchservice/language-support).</span></span>

+ <span data-ttu-id="7c778-376">[Configurar los analizadores personalizados](https://docs.microsoft.com/rest/api/searchservice/custom-analyzers-in-azure-search) para un procesamiento mínimo o especializado en campos específicos.</span><span class="sxs-lookup"><span data-stu-id="7c778-376">[Configure custom analyzers](https://docs.microsoft.com/rest/api/searchservice/custom-analyzers-in-azure-search) for either minimal processing or specialized processing on specific fields.</span></span>

+ <span data-ttu-id="7c778-377">[Comparar el analizador estándar y el analizador de inglés](http://alice.unearth.ai/) en paralelo en este sitio web de demostración.</span><span class="sxs-lookup"><span data-stu-id="7c778-377">[Compare standard and English analyzers](http://alice.unearth.ai/)) side-by-side on this demo web site.</span></span> 

## <a name="see-also"></a><span data-ttu-id="7c778-378">Otras referencias</span><span class="sxs-lookup"><span data-stu-id="7c778-378">See also</span></span>

[<span data-ttu-id="7c778-379">API de REST de documentos de búsqueda</span><span class="sxs-lookup"><span data-stu-id="7c778-379">Search Documents REST API</span></span>](https://docs.microsoft.com/rest/api/searchservice/search-documents)

[<span data-ttu-id="7c778-380">Sintaxis de consulta simplificada</span><span class="sxs-lookup"><span data-stu-id="7c778-380">Simple query syntax</span></span>](https://docs.microsoft.com/rest/api/searchservice/simple-query-syntax-in-azure-search)

[<span data-ttu-id="7c778-381">Sintaxis de consulta completa de Lucene </span><span class="sxs-lookup"><span data-stu-id="7c778-381">Full Lucene query syntax</span></span>](https://docs.microsoft.com/rest/api/searchservice/lucene-query-syntax-in-azure-search)

[<span data-ttu-id="7c778-382">Control de los resultados de la búsqueda</span><span class="sxs-lookup"><span data-stu-id="7c778-382">Handle search results</span></span>](https://docs.microsoft.com/azure/search/search-pagination-page-layout)

<!--Image references-->
[1]: ./media/search-lucene-query-architecture/architecture-diagram2.png
[2]: ./media/search-lucene-query-architecture/azSearch-queryparsing-should2.png
[3]: ./media/search-lucene-query-architecture/azSearch-queryparsing-must2.png
[4]: ./media/search-lucene-query-architecture/azSearch-queryparsing-spacious2.png
