---
title: "Guía de programación de Azure Event Hubs | Microsoft Docs"
description: "Escriba código para Azure Event Hubs mediante el SDK de .NET de Azure."
services: event-hubs
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 64cbfd3d-4a0e-4455-a90a-7f3d4f080323
ms.service: event-hubs
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: tbd
ms.date: 08/17/2017
ms.author: sethm
ms.openlocfilehash: 405ec2b27b488b570c4a5c86e4950ff98233360e
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/18/2017
---
# <a name="event-hubs-programming-guide"></a><span data-ttu-id="2bd56-103">Guía de programación de Centros de eventos</span><span class="sxs-lookup"><span data-stu-id="2bd56-103">Event Hubs programming guide</span></span>

<span data-ttu-id="2bd56-104">En este artículo se describen algunos escenarios comunes para escribir código mediante Azure Event Hubs y el SDK de .NET de Azure.</span><span class="sxs-lookup"><span data-stu-id="2bd56-104">This article discusses some common scenarios in writing code using Azure Event Hubs and the Azure .NET SDK.</span></span> <span data-ttu-id="2bd56-105">En él se presupone un conocimiento previo de los centros de eventos.</span><span class="sxs-lookup"><span data-stu-id="2bd56-105">It assumes a preliminary understanding of Event Hubs.</span></span> <span data-ttu-id="2bd56-106">Para obtener una visión general conceptual de los Centros de eventos, consulte la [Información general de los Centros de eventos de Azure](event-hubs-what-is-event-hubs.md).</span><span class="sxs-lookup"><span data-stu-id="2bd56-106">For a conceptual overview of Event Hubs, see the [Event Hubs overview](event-hubs-what-is-event-hubs.md).</span></span>

## <a name="event-publishers"></a><span data-ttu-id="2bd56-107">Publicadores de eventos</span><span class="sxs-lookup"><span data-stu-id="2bd56-107">Event publishers</span></span>

<span data-ttu-id="2bd56-108">Los eventos se envían a un centro de eventos mediante HTTP POST o una conexión AMQP 1.0.</span><span class="sxs-lookup"><span data-stu-id="2bd56-108">You send events to an event hub either using HTTP POST or via an AMQP 1.0 connection.</span></span> <span data-ttu-id="2bd56-109">La elección de cuál usar y cuándo depende del escenario específico abordado.</span><span class="sxs-lookup"><span data-stu-id="2bd56-109">The choice of which to use and when depends on the specific scenario being addressed.</span></span> <span data-ttu-id="2bd56-110">Las conexiones AMQP 1.0 se miden como conexiones asincrónicas en el Bus de servicio y son más apropiadas en los escenarios con volúmenes mayores de mensajes frecuentes y requisitos de latencia menores, ya que proporcionan un canal de mensajería persistente.</span><span class="sxs-lookup"><span data-stu-id="2bd56-110">AMQP 1.0 connections are metered as brokered connections in Service Bus and are more appropriate in scenarios with frequent higher message volumes and lower latency requirements, as they provide a persistent messaging channel.</span></span>

<span data-ttu-id="2bd56-111">Puede crear y administrar Centros de eventos mediante la clase [NamespaceManager][] .</span><span class="sxs-lookup"><span data-stu-id="2bd56-111">You create and manage Event Hubs using the [NamespaceManager][] class.</span></span> <span data-ttu-id="2bd56-112">Si se usan las API administradas de .NET, las construcciones principales para publicar datos en Event Hubs son las clases [EventHubClient](/dotnet/api/microsoft.servicebus.messaging.eventhubclient) y [EventData][].</span><span class="sxs-lookup"><span data-stu-id="2bd56-112">When using the .NET managed APIs, the primary constructs for publishing data to Event Hubs are the [EventHubClient](/dotnet/api/microsoft.servicebus.messaging.eventhubclient) and [EventData][] classes.</span></span> <span data-ttu-id="2bd56-113">[EventHubClient][] proporciona el canal de comunicación AMQP a través del que se envían eventos al centro de eventos.</span><span class="sxs-lookup"><span data-stu-id="2bd56-113">[EventHubClient][] provides the AMQP communication channel over which events are sent to the event hub.</span></span> <span data-ttu-id="2bd56-114">La clase [EventData][] representa un evento y se usa para publicar mensajes en un centro de eventos.</span><span class="sxs-lookup"><span data-stu-id="2bd56-114">The [EventData][] class represents an event, and is used to publish messages to an event hub.</span></span> <span data-ttu-id="2bd56-115">Esta clase incluye el cuerpo, algunos metadatos e información de encabezado sobre el evento.</span><span class="sxs-lookup"><span data-stu-id="2bd56-115">This class includes the body, some metadata, and header information about the event.</span></span> <span data-ttu-id="2bd56-116">Otras propiedades se agregan al objeto [EventData][] cuando este atraviesa un centro de eventos.</span><span class="sxs-lookup"><span data-stu-id="2bd56-116">Other properties are added to the [EventData][] object as it passes through an event hub.</span></span>

## <a name="get-started"></a><span data-ttu-id="2bd56-117">Introducción</span><span class="sxs-lookup"><span data-stu-id="2bd56-117">Get started</span></span>

<span data-ttu-id="2bd56-118">Las clases .NET que admiten los Centros de eventos se incluyen en el ensamblado Microsoft.ServiceBus.dll.</span><span class="sxs-lookup"><span data-stu-id="2bd56-118">The .NET classes that support Event Hubs are provided in the Microsoft.ServiceBus.dll assembly.</span></span> <span data-ttu-id="2bd56-119">La forma más sencilla de hacer referencia a la API del Bus de servicio y configurar su aplicación con todas las dependencias del Bus de servicio es descargar el [paquete de NuGet del Bus de servicio](https://www.nuget.org/packages/WindowsAzure.ServiceBus).</span><span class="sxs-lookup"><span data-stu-id="2bd56-119">The easiest way to reference the Service Bus API and to configure your application with all of the Service Bus dependencies is to download the [Service Bus NuGet package](https://www.nuget.org/packages/WindowsAzure.ServiceBus).</span></span> <span data-ttu-id="2bd56-120">Como alternativa, puede utilizar el [Consola del Administrador de paquetes](http://docs.nuget.org/docs/start-here/using-the-package-manager-console) en Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="2bd56-120">Alternatively, you can use the [Package Manager Console](http://docs.nuget.org/docs/start-here/using-the-package-manager-console) in Visual Studio.</span></span> <span data-ttu-id="2bd56-121">Para ello, emita el siguiente comando en la ventana [Consola del administrador de paquetes](http://docs.nuget.org/docs/start-here/using-the-package-manager-console) :</span><span class="sxs-lookup"><span data-stu-id="2bd56-121">To do so, issue the following command in the [Package Manager Console](http://docs.nuget.org/docs/start-here/using-the-package-manager-console) window:</span></span>

```
Install-Package WindowsAzure.ServiceBus
```

## <a name="create-an-event-hub"></a><span data-ttu-id="2bd56-122">Creación de un centro de eventos</span><span class="sxs-lookup"><span data-stu-id="2bd56-122">Create an event hub</span></span>
<span data-ttu-id="2bd56-123">Puede usar la clase [NamespaceManager][] para crear centros de eventos.</span><span class="sxs-lookup"><span data-stu-id="2bd56-123">You can use the [NamespaceManager][] class to create Event Hubs.</span></span> <span data-ttu-id="2bd56-124">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="2bd56-124">For example:</span></span>

```csharp
var manager = new Microsoft.ServiceBus.NamespaceManager("mynamespace.servicebus.windows.net");
var description = manager.CreateEventHub("MyEventHub");
```

<span data-ttu-id="2bd56-125">En la mayoría de los casos, se recomienda usar los métodos [CreateEventHubIfNotExists][] para evitar que se generen excepciones si se reinicia el servicio.</span><span class="sxs-lookup"><span data-stu-id="2bd56-125">In most cases, it is recommended that you use the [CreateEventHubIfNotExists][] methods to avoid generating exceptions if the service restarts.</span></span> <span data-ttu-id="2bd56-126">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="2bd56-126">For example:</span></span>

```csharp
var description = manager.CreateEventHubIfNotExists("MyEventHub");
```

<span data-ttu-id="2bd56-127">Todas las operaciones de creación de Centros de eventos, incluidas [CreateEventHubIfNotExists][], requieren permisos de **administración** en el espacio de nombres en cuestión.</span><span class="sxs-lookup"><span data-stu-id="2bd56-127">All Event Hubs creation operations, including [CreateEventHubIfNotExists][], require **Manage** permissions on the namespace in question.</span></span> <span data-ttu-id="2bd56-128">Si desea limitar los permisos de las aplicaciones de consumidor o de publicador, puede evitar estas llamadas de creación de operación en el código de producción cuando use credenciales con permisos limitados.</span><span class="sxs-lookup"><span data-stu-id="2bd56-128">If you want to limit the permissions of your publisher or consumer applications, you can avoid these create operation calls in production code when you use credentials with limited permissions.</span></span>

<span data-ttu-id="2bd56-129">La clase [EventHubDescription](/dotnet/api/microsoft.servicebus.messaging.eventhubdescription) contiene detalles acerca de un centro de eventos, incluidas las reglas de autorización, el intervalo de retención de mensajes, los identificadores de partición, el estado y la ruta de acceso.</span><span class="sxs-lookup"><span data-stu-id="2bd56-129">The [EventHubDescription](/dotnet/api/microsoft.servicebus.messaging.eventhubdescription) class contains details about an event hub, including the authorization rules, the message retention interval, partition IDs, status, and path.</span></span> <span data-ttu-id="2bd56-130">Puede usar esta clase para actualizar los metadatos en un centro de eventos.</span><span class="sxs-lookup"><span data-stu-id="2bd56-130">You can use this class to update the metadata on an event hub.</span></span>

## <a name="create-an-event-hubs-client"></a><span data-ttu-id="2bd56-131">Creación de un cliente de Centro de eventos</span><span class="sxs-lookup"><span data-stu-id="2bd56-131">Create an Event Hubs client</span></span>
<span data-ttu-id="2bd56-132">La clase principal para interactuar con Event Hubs es [Microsoft.ServiceBus.Messaging.EventHubClient][EventHubClient].</span><span class="sxs-lookup"><span data-stu-id="2bd56-132">The primary class for interacting with Event Hubs is [Microsoft.ServiceBus.Messaging.EventHubClient][EventHubClient].</span></span> <span data-ttu-id="2bd56-133">Esta clase proporciona capacidades de remitente y receptor.</span><span class="sxs-lookup"><span data-stu-id="2bd56-133">This class provides both sender and receiver capabilities.</span></span> <span data-ttu-id="2bd56-134">Puede crear una instancia de esta clase usando el método [Crear](/dotnet/api/microsoft.servicebus.messaging.eventhubclient.create) , tal como se muestra en el ejemplo siguiente.</span><span class="sxs-lookup"><span data-stu-id="2bd56-134">You can instantiate this class using the [Create](/dotnet/api/microsoft.servicebus.messaging.eventhubclient.create) method, as shown in the following example.</span></span>

```csharp
var client = EventHubClient.Create(description.Path);
```

<span data-ttu-id="2bd56-135">Este método usa la información de conexión del Bus de servicio del archivo App.config, en la sección `appSettings` .</span><span class="sxs-lookup"><span data-stu-id="2bd56-135">This method uses the Service Bus connection information in the App.config file, in the `appSettings` section.</span></span> <span data-ttu-id="2bd56-136">Para obtener un ejemplo del `appSettings` XML usado para almacenar la información de conexión del Bus de servicio, consulte la documentación del método [Microsoft.ServiceBus.Messaging.EventHubClient.Create(System.String)](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Create_System_String_) .</span><span class="sxs-lookup"><span data-stu-id="2bd56-136">For an example of the `appSettings` XML used to store the Service Bus connection information, see the documentation for the [Microsoft.ServiceBus.Messaging.EventHubClient.Create(System.String)](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Create_System_String_) method.</span></span>

<span data-ttu-id="2bd56-137">Otra opción consiste en crear al cliente desde una cadena de conexión.</span><span class="sxs-lookup"><span data-stu-id="2bd56-137">Another option is to create the client from a connection string.</span></span> <span data-ttu-id="2bd56-138">Esta opción funciona bien cuando se usan roles de trabajador de Azure, ya que permite almacenar la cadena en las propiedades de configuración para el trabajador.</span><span class="sxs-lookup"><span data-stu-id="2bd56-138">This option works well when using Azure worker roles, because you can store the string in the configuration properties for the worker.</span></span> <span data-ttu-id="2bd56-139">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="2bd56-139">For example:</span></span>

```csharp
EventHubClient.CreateFromConnectionString("your_connection_string");
```

<span data-ttu-id="2bd56-140">La cadena de conexión tendrá el mismo formato que el que aparece en el archivo App.config para los métodos anteriores:</span><span class="sxs-lookup"><span data-stu-id="2bd56-140">The connection string will be in the same format as it appears in the App.config file for the previous methods:</span></span>

```
Endpoint=sb://[namespace].servicebus.windows.net/;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=[key]
```

<span data-ttu-id="2bd56-141">Por último, también es posible crear un objeto [EventHubClient][] desde una instancia [MessagingFactory](/dotnet/api/microsoft.servicebus.messaging.messagingfactory), como se muestra en el ejemplo siguiente.</span><span class="sxs-lookup"><span data-stu-id="2bd56-141">Finally, it is also possible to create an [EventHubClient][] object from a [MessagingFactory](/dotnet/api/microsoft.servicebus.messaging.messagingfactory) instance, as shown in the following example.</span></span>

```csharp
var factory = MessagingFactory.CreateFromConnectionString("your_connection_string");
var client = factory.CreateEventHubClient("MyEventHub");
```

<span data-ttu-id="2bd56-142">Es importante tener en cuenta que los objetos [EventHubClient][] adicionales creados a partir de una instancia del generador de mensajería volverá a usar la misma conexión TCP subyacente.</span><span class="sxs-lookup"><span data-stu-id="2bd56-142">It is important to note that additional [EventHubClient][] objects created from a messaging factory instance will reuse the same underlying TCP connection.</span></span> <span data-ttu-id="2bd56-143">Por lo tanto, estos objetos tienen un límite de cliente en el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="2bd56-143">Therefore, these objects have a client-side limit on throughput.</span></span> <span data-ttu-id="2bd56-144">El método [Create](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Create_System_String_) reutiliza un único generador de mensajería.</span><span class="sxs-lookup"><span data-stu-id="2bd56-144">The [Create](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Create_System_String_) method reuses a single messaging factory.</span></span> <span data-ttu-id="2bd56-145">Si necesita un rendimiento muy alto desde un único remitente, puede crear varios generadores de mensajería y un objeto [EventHubClient][] desde cada uno de ellos.</span><span class="sxs-lookup"><span data-stu-id="2bd56-145">If you need very high throughput from a single sender, then you can create multiple message factories and one [EventHubClient][] object from each messaging factory.</span></span>

## <a name="send-events-to-an-event-hub"></a><span data-ttu-id="2bd56-146">Envío eventos a un centro de eventos</span><span class="sxs-lookup"><span data-stu-id="2bd56-146">Send events to an event hub</span></span>
<span data-ttu-id="2bd56-147">Para enviar eventos a un centro de eventos es preciso crear una instancia de [EventData][] y enviarla a través del método [Send](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_).</span><span class="sxs-lookup"><span data-stu-id="2bd56-147">You send events to an event hub by creating an [EventData][] instance and sending it via the [Send](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_) method.</span></span> <span data-ttu-id="2bd56-148">Este método toma un único parámetro de instancia [EventData][] y lo envía de forma sincrónica a un centro de eventos.</span><span class="sxs-lookup"><span data-stu-id="2bd56-148">This method takes a single [EventData][] instance parameter and synchronously sends it to an event hub.</span></span>

## <a name="event-serialization"></a><span data-ttu-id="2bd56-149">Serialización de eventos</span><span class="sxs-lookup"><span data-stu-id="2bd56-149">Event serialization</span></span>
<span data-ttu-id="2bd56-150">La clase [EventData][] tiene [cuatro constructores sobrecargados](/dotnet/api/microsoft.servicebus.messaging.eventdata#constructors_) que toman varios parámetros, como un objeto y un serializador, una matriz de bytes o una transmisión.</span><span class="sxs-lookup"><span data-stu-id="2bd56-150">The [EventData][] class has [four overloaded constructors](/dotnet/api/microsoft.servicebus.messaging.eventdata#constructors_) that take a variety of parameters, such as an object and serializer, a byte array, or a stream.</span></span> <span data-ttu-id="2bd56-151">También es posible crear instancias de la clase [EventData][] y establecer la transmisión del cuerpo posteriormente.</span><span class="sxs-lookup"><span data-stu-id="2bd56-151">It is also possible to instantiate the [EventData][] class and set the body stream afterwards.</span></span> <span data-ttu-id="2bd56-152">Cuando se usa JSON con [EventData][], puede usar **Encoding.UTF8.GetBytes()** para recuperar la matriz de bytes de una cadena codificada con JSON.</span><span class="sxs-lookup"><span data-stu-id="2bd56-152">When using JSON with [EventData][], you can use **Encoding.UTF8.GetBytes()** to retrieve the byte array for a JSON-encoded string.</span></span>

## <a name="partition-key"></a><span data-ttu-id="2bd56-153">Clave de partición</span><span class="sxs-lookup"><span data-stu-id="2bd56-153">Partition key</span></span>
<span data-ttu-id="2bd56-154">La clase [EventData][] tiene una propiedad [PartitionKey][] que permite al remitente especificar un valor al que se aplica un algoritmo hash para generar una asignación de la partición.</span><span class="sxs-lookup"><span data-stu-id="2bd56-154">The [EventData][] class has a [PartitionKey][] property that enables the sender to specify a value that is hashed to produce a partition assignment.</span></span> <span data-ttu-id="2bd56-155">Usar una clave de partición garantiza que todos los eventos con la misma clave se envíen a la misma partición del centro de eventos.</span><span class="sxs-lookup"><span data-stu-id="2bd56-155">Using a partition key ensures that all the events with the same key are sent to the same partition in the event hub.</span></span> <span data-ttu-id="2bd56-156">Las claves de partición comunes incluyen identificadores de sesión e identificadores de remitente únicos.</span><span class="sxs-lookup"><span data-stu-id="2bd56-156">Common partition keys include user session IDs and unique sender IDs.</span></span> <span data-ttu-id="2bd56-157">La propiedad [PartitionKey][] es opcional y se puede proporcionar cuando se usan los métodos [Microsoft.ServiceBus.Messaging.EventHubClient.Send(Microsoft.ServiceBus.Messaging.EventData)](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_) o [Microsoft.ServiceBus.Messaging.EventHubClient.SendAsync(Microsoft.ServiceBus.Messaging.EventData)](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendAsync_Microsoft_ServiceBus_Messaging_EventData_).</span><span class="sxs-lookup"><span data-stu-id="2bd56-157">The [PartitionKey][] property is optional and can be provided when using the [Microsoft.ServiceBus.Messaging.EventHubClient.Send(Microsoft.ServiceBus.Messaging.EventData)](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_) or [Microsoft.ServiceBus.Messaging.EventHubClient.SendAsync(Microsoft.ServiceBus.Messaging.EventData)](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendAsync_Microsoft_ServiceBus_Messaging_EventData_) methods.</span></span> <span data-ttu-id="2bd56-158">Si no proporciona un valor para [PartitionKey][], los eventos enviados se distribuyen a las particiones mediante un modelo round-robin.</span><span class="sxs-lookup"><span data-stu-id="2bd56-158">If you do not provide a value for [PartitionKey][], sent events are distributed to partitions using a round-robin model.</span></span>

### <a name="availability-considerations"></a><span data-ttu-id="2bd56-159">Consideraciones sobre disponibilidad</span><span class="sxs-lookup"><span data-stu-id="2bd56-159">Availability considerations</span></span>

<span data-ttu-id="2bd56-160">El uso de una clave de partición es opcional y debe considerar detenidamente si desea o no utilizar uno.</span><span class="sxs-lookup"><span data-stu-id="2bd56-160">Using a partition key is optional, and you should consider carefully whether or not to use one.</span></span> <span data-ttu-id="2bd56-161">En muchos casos, el uso de una clave de partición es una buena elección si el orden de los eventos es importante.</span><span class="sxs-lookup"><span data-stu-id="2bd56-161">In many cases, using a partition key is a good choice if event ordering is important.</span></span> <span data-ttu-id="2bd56-162">Cuando se usa una clave de partición, estas particiones requieren la disponibilidad en un solo nodo y las interrupciones pueden producirse a lo largo del tiempo; por ejemplo, cuando los nodos de ejecución se reinician y revisan.</span><span class="sxs-lookup"><span data-stu-id="2bd56-162">When you use a partition key, these partitions require availability on a single node, and outages can occur over time; for example, when compute nodes reboot and patch.</span></span> <span data-ttu-id="2bd56-163">Por lo tanto, si establece un identificador de partición y esa partición deja de estar disponible por alguna razón, un intento de acceder a los datos de esa partición provocará un error.</span><span class="sxs-lookup"><span data-stu-id="2bd56-163">As such, if you set a partition ID and that partition becomes unavailable for some reason, an attempt to access the data in that partition will fail.</span></span> <span data-ttu-id="2bd56-164">Si la alta disponibilidad es más importante, no especifique una clave de partición; en ese caso, los eventos se enviarán a las particiones que usan el modelo round robin descrito anteriormente.</span><span class="sxs-lookup"><span data-stu-id="2bd56-164">If high availability is most important, do not specify a partition key; in that case events will be sent to partitions using the round-robin model described previously.</span></span> <span data-ttu-id="2bd56-165">En este escenario, se realiza una selección explícita entre disponibilidad (ningún identificador de partición) y coherencia (anclar eventos a un identificador de partición).</span><span class="sxs-lookup"><span data-stu-id="2bd56-165">In this scenario, you are making an explicit choice between availability (no partition ID) and consistency (pinning events to a partition ID).</span></span>

<span data-ttu-id="2bd56-166">Otra consideración es el control de retrasos en el procesamiento de eventos.</span><span class="sxs-lookup"><span data-stu-id="2bd56-166">Another consideration is handling delays in processing events.</span></span> <span data-ttu-id="2bd56-167">En algunos casos podría ser mejor quitar datos y reintentarlo que intentar seguir con el procesamiento, lo que puede provocar más retrasos de procesamiento descendente.</span><span class="sxs-lookup"><span data-stu-id="2bd56-167">In some cases it might be better to drop data and retry than to try and keep up with processing, which can potentially cause further downstream processing delays.</span></span> <span data-ttu-id="2bd56-168">Por ejemplo, con un tablero de cotizaciones es preferible esperar a tener todos los datos actualizados, pero en un escenario de chat en directo o VOIP sería preferible disponer de los datos rápidamente, aunque no estén completos.</span><span class="sxs-lookup"><span data-stu-id="2bd56-168">For example, with a stock ticker it's better to wait for complete up-to-date data, but in a live chat or VOIP scenario you'd rather have the data quickly, even if it isn't complete.</span></span>

<span data-ttu-id="2bd56-169">Dadas estas consideraciones de disponibilidad, en estos casos puede elegir una de las siguientes estrategias de control de errores:</span><span class="sxs-lookup"><span data-stu-id="2bd56-169">Given these availability considerations, in these scenarios you might choose one of the following error handling strategies:</span></span>

- <span data-ttu-id="2bd56-170">Detener (dejar de leer Event Hubs hasta que se solucionen cosas)</span><span class="sxs-lookup"><span data-stu-id="2bd56-170">Stop (stop reading from Event Hubs until things are fixed)</span></span>
- <span data-ttu-id="2bd56-171">Quitar (los mensajes no son importantes, quítelos)</span><span class="sxs-lookup"><span data-stu-id="2bd56-171">Drop (messages aren’t important, drop them)</span></span>
- <span data-ttu-id="2bd56-172">Reintentar (reintentar los mensajes cuando lo vea apropiado)</span><span class="sxs-lookup"><span data-stu-id="2bd56-172">Retry (retry the messages as you see fit)</span></span>
- <span data-ttu-id="2bd56-173">[Mensaje fallido](../service-bus-messaging/service-bus-dead-letter-queues.md) (utilizar una cola u otro centro de eventos para considerar como mensajes fallidos solo los mensajes que no pudo procesar)</span><span class="sxs-lookup"><span data-stu-id="2bd56-173">[Dead letter](../service-bus-messaging/service-bus-dead-letter-queues.md) (use a queue or another event hub to dead letter only the messages you couldn’t process)</span></span>

<span data-ttu-id="2bd56-174">Para obtener más información y una explicación sobre las ventajas y desventajas entre la disponibilidad y la coherencia, consulte [Disponibilidad y coherencia en Event Hubs](event-hubs-availability-and-consistency.md).</span><span class="sxs-lookup"><span data-stu-id="2bd56-174">For more information and a discussion about the trade-offs between availability and consistency, see [Availability and consistency in Event Hubs](event-hubs-availability-and-consistency.md).</span></span> 

## <a name="batch-event-send-operations"></a><span data-ttu-id="2bd56-175">Operaciones de envío de eventos por lotes</span><span class="sxs-lookup"><span data-stu-id="2bd56-175">Batch event send operations</span></span>
<span data-ttu-id="2bd56-176">El envío de eventos por lotes puede aumentar drásticamente el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="2bd56-176">Sending events in batches can dramatically increase throughput.</span></span> <span data-ttu-id="2bd56-177">El método [SendBatch](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendBatch_System_Collections_Generic_IEnumerable_Microsoft_ServiceBus_Messaging_EventData__) toma un parámetro **IEnumerable** del tipo [EventData][] y envía todo el lote como una operación atómica al centro de eventos.</span><span class="sxs-lookup"><span data-stu-id="2bd56-177">The [SendBatch](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendBatch_System_Collections_Generic_IEnumerable_Microsoft_ServiceBus_Messaging_EventData__) method takes an **IEnumerable** parameter of type [EventData][] and sends the entire batch as an atomic operation to the event hub.</span></span>

```csharp
public void SendBatch(IEnumerable<EventData> eventDataList);
```

<span data-ttu-id="2bd56-178">Tenga en cuenta que un único lote no debe superar el límite de 256 KB de un evento.</span><span class="sxs-lookup"><span data-stu-id="2bd56-178">Note that a single batch must not exceed the 256 KB limit of an event.</span></span> <span data-ttu-id="2bd56-179">Además, cada mensaje del lote usa la misma identidad del publicador.</span><span class="sxs-lookup"><span data-stu-id="2bd56-179">Additionally, each message in the batch uses the same publisher identity.</span></span> <span data-ttu-id="2bd56-180">Es responsabilidad del remitente asegurarse de que el lote no supera el tamaño máximo del evento.</span><span class="sxs-lookup"><span data-stu-id="2bd56-180">It is the responsibility of the sender to ensure that the batch does not exceed the maximum event size.</span></span> <span data-ttu-id="2bd56-181">Si es así, se generará un error de **envío** de cliente.</span><span class="sxs-lookup"><span data-stu-id="2bd56-181">If it does, a client **Send** error is generated.</span></span>

## <a name="send-asynchronously-and-send-at-scale"></a><span data-ttu-id="2bd56-182">Enviar de forma asincrónica y enviar a escala</span><span class="sxs-lookup"><span data-stu-id="2bd56-182">Send asynchronously and send at scale</span></span>
<span data-ttu-id="2bd56-183">También puede enviar eventos a un centro de eventos de forma asincrónica.</span><span class="sxs-lookup"><span data-stu-id="2bd56-183">You can also send events to an event hub asynchronously.</span></span> <span data-ttu-id="2bd56-184">Enviar de forma asincrónica puede aumentar la velocidad a la que un cliente es capaz de enviar eventos.</span><span class="sxs-lookup"><span data-stu-id="2bd56-184">Sending asynchronously can increase the rate at which a client is able to send events.</span></span> <span data-ttu-id="2bd56-185">Los métodos [Send](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_) y [SendBatch](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendBatch_System_Collections_Generic_IEnumerable_Microsoft_ServiceBus_Messaging_EventData__) están disponibles en las versiones asincrónicas que devuelven un objeto [Task](https://msdn.microsoft.com/library/system.threading.tasks.task.aspx).</span><span class="sxs-lookup"><span data-stu-id="2bd56-185">Both the [Send](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_) and [SendBatch](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendBatch_System_Collections_Generic_IEnumerable_Microsoft_ServiceBus_Messaging_EventData__) methods are available in asynchronous versions that return a [Task](https://msdn.microsoft.com/library/system.threading.tasks.task.aspx) object.</span></span> <span data-ttu-id="2bd56-186">Aunque esta técnica puede aumentar el rendimiento, también puede hacer que el cliente continúe enviando eventos incluso mientras el servicio de centros de eventos le está aplicando un límite y puede dar lugar a que el cliente experimente errores o a la pérdida de mensajes si no se implementa correctamente.</span><span class="sxs-lookup"><span data-stu-id="2bd56-186">While this technique can increase throughput, it can also cause the client to continue to send events even while it is being throttled by the Event Hubs service and can result in the client experiencing failures or lost messages if not properly implemented.</span></span> <span data-ttu-id="2bd56-187">Además, puede usar la propiedad [RetryPolicy](/dotnet/api/microsoft.servicebus.messaging.cliententity#Microsoft_ServiceBus_Messaging_ClientEntity_RetryPolicy) en el cliente para controlar opciones de reintento del cliente.</span><span class="sxs-lookup"><span data-stu-id="2bd56-187">In addition, you can use the [RetryPolicy](/dotnet/api/microsoft.servicebus.messaging.cliententity#Microsoft_ServiceBus_Messaging_ClientEntity_RetryPolicy) property on the client to control client retry options.</span></span>

## <a name="create-a-partition-sender"></a><span data-ttu-id="2bd56-188">Crear un remitente de partición</span><span class="sxs-lookup"><span data-stu-id="2bd56-188">Create a partition sender</span></span>
<span data-ttu-id="2bd56-189">Aunque es más común enviar eventos a un centro de eventos sin una clave de partición, en algunos casos podrá enviar eventos directamente a una partición determinada.</span><span class="sxs-lookup"><span data-stu-id="2bd56-189">Although it is most common to send events to an event hub without a partition key, in some cases you might want to send events directly to a given partition.</span></span> <span data-ttu-id="2bd56-190">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="2bd56-190">For example:</span></span>

```csharp
var partitionedSender = client.CreatePartitionedSender(description.PartitionIds[0]);
```

<span data-ttu-id="2bd56-191">[CreatePartitionedSender](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_CreatePartitionedSender_System_String_) devuelve un objeto [EventHubSender](/dotnet/api/microsoft.servicebus.messaging.eventhubsender) que puede usar para publicar eventos en una partición específica del centro de eventos.</span><span class="sxs-lookup"><span data-stu-id="2bd56-191">[CreatePartitionedSender](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_CreatePartitionedSender_System_String_) returns an [EventHubSender](/dotnet/api/microsoft.servicebus.messaging.eventhubsender) object that you can use to publish events to a specific event hub partition.</span></span>

## <a name="event-consumers"></a><span data-ttu-id="2bd56-192">Consumidores de eventos</span><span class="sxs-lookup"><span data-stu-id="2bd56-192">Event consumers</span></span>
<span data-ttu-id="2bd56-193">Los centros de eventos tienen dos modelos principales para el consumo de eventos: receptores directos y abstracciones de nivel superior, como [EventProcessorHost][].</span><span class="sxs-lookup"><span data-stu-id="2bd56-193">Event Hubs has two primary models for event consumption: direct receivers and higher-level abstractions, such as [EventProcessorHost][].</span></span> <span data-ttu-id="2bd56-194">Los receptores directos son responsables de su propia coordinación de acceso a las particiones dentro de un grupo de consumidores.</span><span class="sxs-lookup"><span data-stu-id="2bd56-194">Direct receivers are responsible for their own coordination of access to partitions within a consumer group.</span></span>

### <a name="direct-consumer"></a><span data-ttu-id="2bd56-195">Consumidor directo</span><span class="sxs-lookup"><span data-stu-id="2bd56-195">Direct consumer</span></span>
<span data-ttu-id="2bd56-196">La forma más directa de leer desde una partición dentro de un grupo de consumidores es usar la clase [EventHubReceiver](/dotnet/apie/microsoft.servicebus.messaging.eventhubreceiver) .</span><span class="sxs-lookup"><span data-stu-id="2bd56-196">The most direct way to read from a partition within a consumer group is to use the [EventHubReceiver](/dotnet/apie/microsoft.servicebus.messaging.eventhubreceiver) class.</span></span> <span data-ttu-id="2bd56-197">Para crear una instancia de esta clase, debe usar una instancia de la clase [EventHubConsumerGroup](/dotnet/api/microsoft.servicebus.messaging.eventhubconsumergroup) .</span><span class="sxs-lookup"><span data-stu-id="2bd56-197">To create an instance of this class, you must use an instance of the [EventHubConsumerGroup](/dotnet/api/microsoft.servicebus.messaging.eventhubconsumergroup) class.</span></span> <span data-ttu-id="2bd56-198">En el ejemplo siguiente, el identificador de la partición debe especificarse cuando se crea el receptor para el grupo de consumidores.</span><span class="sxs-lookup"><span data-stu-id="2bd56-198">In the following example, the partition ID must be specified when creating the receiver for the consumer group.</span></span>

```csharp
EventHubConsumerGroup group = client.GetDefaultConsumerGroup();
var receiver = group.CreateReceiver(client.GetRuntimeInformation().PartitionIds[0]);
```

<span data-ttu-id="2bd56-199">El método [CreateReceiver](/dotnet/api/microsoft.servicebus.messaging.eventhubconsumergroup#methods_summary) tiene varias sobrecargas que proporcionan control sobre el lector que se está creando.</span><span class="sxs-lookup"><span data-stu-id="2bd56-199">The [CreateReceiver](/dotnet/api/microsoft.servicebus.messaging.eventhubconsumergroup#methods_summary) method has several overloads that facilitate control over the reader being created.</span></span> <span data-ttu-id="2bd56-200">Entre estos métodos se incluyen la especificación de un desplazamiento como una cadena o una marca de tiempo y la capacidad de especificar si se debe incluir este desplazamiento especificado en la secuencia devuelta, o iniciar después de esta.</span><span class="sxs-lookup"><span data-stu-id="2bd56-200">These methods include specifying an offset as either a string or timestamp, and the ability to specify whether to include this specified offset in the returned stream, or start after it.</span></span> <span data-ttu-id="2bd56-201">Después de crear el receptor, puede empezar a recibir eventos en el objeto devuelto.</span><span class="sxs-lookup"><span data-stu-id="2bd56-201">After you create the receiver, you can start receiving events on the returned object.</span></span> <span data-ttu-id="2bd56-202">El método [Receive](/dotnet/api/microsoft.servicebus.messaging.eventhubreceiver#methods_summary) tiene cuatro sobrecargas que controlan los parámetros de la operación de recepción, como el tamaño del lote y el tiempo de espera.</span><span class="sxs-lookup"><span data-stu-id="2bd56-202">The [Receive](/dotnet/api/microsoft.servicebus.messaging.eventhubreceiver#methods_summary) method has four overloads that control the receive operation parameters, such as batch size and wait time.</span></span> <span data-ttu-id="2bd56-203">Puede usar las versiones asincrónicas de estos métodos para aumentar el rendimiento de un consumidor.</span><span class="sxs-lookup"><span data-stu-id="2bd56-203">You can use the asynchronous versions of these methods to increase the throughput of a consumer.</span></span> <span data-ttu-id="2bd56-204">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="2bd56-204">For example:</span></span>

```csharp
bool receive = true;
string myOffset;
while(receive)
{
    var message = receiver.Receive();
    myOffset = message.Offset;
    string body = Encoding.UTF8.GetString(message.GetBytes());
    Console.WriteLine(String.Format("Received message offset: {0} \nbody: {1}", myOffset, body));
}
```

<span data-ttu-id="2bd56-205">Con respecto a una partición específica, se reciben los mensajes en el orden en que se enviaron al centro de eventos.</span><span class="sxs-lookup"><span data-stu-id="2bd56-205">With respect to a specific partition, the messages are received in the order in which they were sent to the event hub.</span></span> <span data-ttu-id="2bd56-206">El desplazamiento es un token de cadena que se usa para identificar un mensaje en una partición.</span><span class="sxs-lookup"><span data-stu-id="2bd56-206">The offset is a string token used to identify a message in a partition.</span></span>

<span data-ttu-id="2bd56-207">Tenga en cuenta que una sola partición dentro de un grupo de consumidores no puede tener más de 5 lectores simultáneos conectados en un determinado momento.</span><span class="sxs-lookup"><span data-stu-id="2bd56-207">Note that a single partition within a consumer group cannot have more than 5 concurrent readers connected at any time.</span></span> <span data-ttu-id="2bd56-208">A medida que los lectores se conectan o desconectan, es posible que sus sesiones permanezcan activas durante varios minutos antes de que el servicio reconozca que se han desconectado.</span><span class="sxs-lookup"><span data-stu-id="2bd56-208">As readers connect or become disconnected, their sessions might stay active for several minutes before the service recognizes that they have disconnected.</span></span> <span data-ttu-id="2bd56-209">Durante este tiempo, es posible que no se logre volver a conectar con una partición.</span><span class="sxs-lookup"><span data-stu-id="2bd56-209">During this time, reconnecting to a partition may fail.</span></span> <span data-ttu-id="2bd56-210">Para obtener un ejemplo completo de escritura de un receptor directo para Event Hubs, consulte el ejemplo [Event Hubs Direct Receivers](https://code.msdn.microsoft.com/Event-Hub-Direct-Receivers-13fa95c6) (Receptores directos de Event Hubs).</span><span class="sxs-lookup"><span data-stu-id="2bd56-210">For a complete example of writing a direct receiver for Event Hubs, see the [Event Hubs Direct Receivers](https://code.msdn.microsoft.com/Event-Hub-Direct-Receivers-13fa95c6) sample.</span></span>

### <a name="event-processor-host"></a><span data-ttu-id="2bd56-211">Host del procesador de eventos</span><span class="sxs-lookup"><span data-stu-id="2bd56-211">Event processor host</span></span>
<span data-ttu-id="2bd56-212">La clase [EventProcessorHost][] procesa los datos de los centros de eventos.</span><span class="sxs-lookup"><span data-stu-id="2bd56-212">The [EventProcessorHost][] class processes data from Event Hubs.</span></span> <span data-ttu-id="2bd56-213">Debe usar esta implementación para generar los lectores de eventos en la plataforma .NET.</span><span class="sxs-lookup"><span data-stu-id="2bd56-213">You should use this implementation when building event readers on the .NET platform.</span></span> <span data-ttu-id="2bd56-214">[EventProcessorHost][] proporciona un entorno de tiempo de ejecución seguro, seguro para subprocesos y de varios procesos para las implementaciones de procesadores de eventos que también ofrecen administración de concesión de puntos de comprobación y particiones.</span><span class="sxs-lookup"><span data-stu-id="2bd56-214">[EventProcessorHost][] provides a thread-safe, multi-process, safe runtime environment for event processor implementations that also provides checkpointing and partition lease management.</span></span>

<span data-ttu-id="2bd56-215">Para usar la clase [EventProcessorHost][], puede implementar [IEventProcessor](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor).</span><span class="sxs-lookup"><span data-stu-id="2bd56-215">To use the [EventProcessorHost][] class, you can implement [IEventProcessor](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor).</span></span> <span data-ttu-id="2bd56-216">Esta interfaz contiene tres métodos:</span><span class="sxs-lookup"><span data-stu-id="2bd56-216">This interface contains three methods:</span></span>

* [<span data-ttu-id="2bd56-217">OpenAsync</span><span class="sxs-lookup"><span data-stu-id="2bd56-217">OpenAsync</span></span>](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor#Microsoft_ServiceBus_Messaging_IEventProcessor_OpenAsync_Microsoft_ServiceBus_Messaging_PartitionContext_)
* [<span data-ttu-id="2bd56-218">CloseAsync</span><span class="sxs-lookup"><span data-stu-id="2bd56-218">CloseAsync</span></span>](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor#Microsoft_ServiceBus_Messaging_IEventProcessor_CloseAsync_Microsoft_ServiceBus_Messaging_PartitionContext_Microsoft_ServiceBus_Messaging_CloseReason_)
* [<span data-ttu-id="2bd56-219">ProcessEventsAsync</span><span class="sxs-lookup"><span data-stu-id="2bd56-219">ProcessEventsAsync</span></span>](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor#Microsoft_ServiceBus_Messaging_IEventProcessor_ProcessEventsAsync_Microsoft_ServiceBus_Messaging_PartitionContext_System_Collections_Generic_IEnumerable_Microsoft_ServiceBus_Messaging_EventData__)

<span data-ttu-id="2bd56-220">Para iniciar el procesamiento de eventos, cree una instancia de [EventProcessorHost][], proporcionando los parámetros adecuados para el centro de eventos.</span><span class="sxs-lookup"><span data-stu-id="2bd56-220">To start event processing, instantiate [EventProcessorHost][], providing the appropriate parameters for your event hub.</span></span> <span data-ttu-id="2bd56-221">Después, llame a [RegisterEventProcessorAsync](/dotnet/api/microsoft.servicebus.messaging.eventprocessorhost#Microsoft_ServiceBus_Messaging_EventProcessorHost_RegisterEventProcessorAsync__1) para registrar su implementación de [IEventProcessor](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor) en el runtime.</span><span class="sxs-lookup"><span data-stu-id="2bd56-221">Then, call [RegisterEventProcessorAsync](/dotnet/api/microsoft.servicebus.messaging.eventprocessorhost#Microsoft_ServiceBus_Messaging_EventProcessorHost_RegisterEventProcessorAsync__1) to register your [IEventProcessor](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor) implementation with the runtime.</span></span> <span data-ttu-id="2bd56-222">En este momento, el host intentará adquirir una concesión en cada partición del centro de eventos mediante un algoritmo "expansivo".</span><span class="sxs-lookup"><span data-stu-id="2bd56-222">At this point, the host will attempt to acquire a lease on every partition in the event hub using a "greedy" algorithm.</span></span> <span data-ttu-id="2bd56-223">Estas concesiones durarán un período de tiempo determinado y, a continuación, deben renovarse.</span><span class="sxs-lookup"><span data-stu-id="2bd56-223">These leases will last for a given timeframe and must then be renewed.</span></span> <span data-ttu-id="2bd56-224">A medida que nuevos nodos, instancias de trabajo en este caso, pasan a estar en línea, colocan reservas de concesión y, con el tiempo, la carga cambia entre los nodos a medida que cada una trata de adquirir más concesiones.</span><span class="sxs-lookup"><span data-stu-id="2bd56-224">As new nodes, worker instances in this case, come online, they place lease reservations and over time the load shifts between nodes as each attempts to acquire more leases.</span></span>

![Host del procesador de eventos](./media/event-hubs-programming-guide/IC759863.png)

<span data-ttu-id="2bd56-226">Con el tiempo, se establece un equilibrio.</span><span class="sxs-lookup"><span data-stu-id="2bd56-226">Over time, an equilibrium is established.</span></span> <span data-ttu-id="2bd56-227">Esta capacidad dinámica permite la aplicación del escalado automático basado en CPU a los consumidores para escalar vertical y horizontalmente.</span><span class="sxs-lookup"><span data-stu-id="2bd56-227">This dynamic capability enables CPU-based autoscaling to be applied to consumers for both scale-up and scale-down.</span></span> <span data-ttu-id="2bd56-228">Debido a que lo centros de eventos no tienen un concepto directo de recuentos de mensajes, el uso medio de la CPU suele ser el mejor mecanismo para medir el back-end o la escala del consumidor.</span><span class="sxs-lookup"><span data-stu-id="2bd56-228">Because Event Hubs do not have a direct concept of message counts, average CPU utilization is often the best mechanism to measure back end or consumer scale.</span></span> <span data-ttu-id="2bd56-229">Si los publicadores empiezan a publicar más eventos de los que los consumidores pueden procesar, el aumento de la CPU en los consumidores puede usarse para producir una escala automática en el recuento de instancias de trabajador.</span><span class="sxs-lookup"><span data-stu-id="2bd56-229">If publishers begin to publish more events than consumers can process, the CPU increase on consumers can be used to cause an auto-scale on worker instance count.</span></span>

<span data-ttu-id="2bd56-230">La clase [EventProcessorHost][] también implementa un mecanismo de puntos de comprobación basado en el almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="2bd56-230">The [EventProcessorHost][] class also implements an Azure storage-based checkpointing mechanism.</span></span> <span data-ttu-id="2bd56-231">Este mecanismo almacena el desplazamiento en función de la partición, para que cada consumidor pueda determinar cuál fue el último punto de comprobación del cliente anterior.</span><span class="sxs-lookup"><span data-stu-id="2bd56-231">This mechanism stores the offset on a per partition basis, so that each consumer can determine what the last checkpoint from the previous consumer was.</span></span> <span data-ttu-id="2bd56-232">A medida que las particiones pasan de un nodo a otro a través de concesiones, este es el mecanismo de sincronización que facilita el desplazamiento de cargas.</span><span class="sxs-lookup"><span data-stu-id="2bd56-232">As partitions transition between nodes via leases, this is the synchronization mechanism that facilitates load shifting.</span></span>

## <a name="publisher-revocation"></a><span data-ttu-id="2bd56-233">Revocación de publicador</span><span class="sxs-lookup"><span data-stu-id="2bd56-233">Publisher revocation</span></span>
<span data-ttu-id="2bd56-234">Además de las características avanzadas del entorno en tiempo de ejecución de [EventProcessorHost][], los centros de eventos permiten la revocación del publicador con el fin de impedir a publicadores específicos el envío de eventos a un centro de eventos.</span><span class="sxs-lookup"><span data-stu-id="2bd56-234">In addition to the advanced run-time features of [EventProcessorHost][], Event Hubs enables publisher revocation in order to block specific publishers from sending event to an event hub.</span></span> <span data-ttu-id="2bd56-235">Estas características son especialmente útiles si se ha visto comprometido el token de un publicador o si una actualización de software está provocando que se comporten incorrectamente.</span><span class="sxs-lookup"><span data-stu-id="2bd56-235">These features are particularly useful if a publisher token has been compromised, or a software update is causing them to behave inappropriately.</span></span> <span data-ttu-id="2bd56-236">En estas situaciones, es posible bloquear que la identidad del editor, que forma parte de su token de SAS, publique eventos.</span><span class="sxs-lookup"><span data-stu-id="2bd56-236">In these situations, the publisher's identity, which is part of their SAS token, can be blocked from publishing events.</span></span>

<span data-ttu-id="2bd56-237">Para más información acerca de la revocación del publicador y cómo realizar envíos a Event Hubs como publicador, consulte el ejemplo de [Event Hubs Large Scale Secure Publishing](https://code.msdn.microsoft.com/Service-Bus-Event-Hub-99ce67ab) (Publicación segura a gran escala de Event Hubs).</span><span class="sxs-lookup"><span data-stu-id="2bd56-237">For more information about publisher revocation and how to send to Event Hubs as a publisher, see the [Event Hubs Large Scale Secure Publishing](https://code.msdn.microsoft.com/Service-Bus-Event-Hub-99ce67ab) sample.</span></span>

## <a name="next-steps"></a><span data-ttu-id="2bd56-238">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="2bd56-238">Next steps</span></span>
<span data-ttu-id="2bd56-239">Para obtener más información acerca de los escenarios de los centros de eventos, visite estos vínculos:</span><span class="sxs-lookup"><span data-stu-id="2bd56-239">To learn more about Event Hubs scenarios, visit these links:</span></span>

* [<span data-ttu-id="2bd56-240">Introducción a la API de centros de eventos</span><span class="sxs-lookup"><span data-stu-id="2bd56-240">Event Hubs API overview</span></span>](event-hubs-api-overview.md)
* [<span data-ttu-id="2bd56-241">¿Qué es Event Hubs?</span><span class="sxs-lookup"><span data-stu-id="2bd56-241">What is Event Hubs</span></span>](event-hubs-what-is-event-hubs.md)
* [<span data-ttu-id="2bd56-242">Disponibilidad y coherencia en Event Hubs</span><span class="sxs-lookup"><span data-stu-id="2bd56-242">Availability and consistency in Event Hubs</span></span>](event-hubs-availability-and-consistency.md)
* [<span data-ttu-id="2bd56-243">Referencia de la API de host del procesador de eventos</span><span class="sxs-lookup"><span data-stu-id="2bd56-243">Event processor host API reference</span></span>](/dotnet/api/microsoft.servicebus.messaging.eventprocessorhost)

<span data-ttu-id="2bd56-244">[NamespaceManager]: /dotnet/api/microsoft.servicebus.namespacemanager</span><span class="sxs-lookup"><span data-stu-id="2bd56-244">[NamespaceManager]: /dotnet/api/microsoft.servicebus.namespacemanager</span></span>
<span data-ttu-id="2bd56-245">[EventHubClient]: /dotnet/api/microsoft.servicebus.messaging.eventhubclient</span><span class="sxs-lookup"><span data-stu-id="2bd56-245">[EventHubClient]: /dotnet/api/microsoft.servicebus.messaging.eventhubclient</span></span>
<span data-ttu-id="2bd56-246">[EventData]: /dotnet/api/microsoft.servicebus.messaging.eventdata</span><span class="sxs-lookup"><span data-stu-id="2bd56-246">[EventData]: /dotnet/api/microsoft.servicebus.messaging.eventdata</span></span>
<span data-ttu-id="2bd56-247">[CreateEventHubIfNotExists]: /dotnet/api/microsoft.servicebus.namespacemanager.createeventhubifnotexists</span><span class="sxs-lookup"><span data-stu-id="2bd56-247">[CreateEventHubIfNotExists]: /dotnet/api/microsoft.servicebus.namespacemanager.createeventhubifnotexists</span></span>
<span data-ttu-id="2bd56-248">[PartitionKey]: /dotnet/api/microsoft.servicebus.messaging.eventdata#Microsoft_ServiceBus_Messaging_EventData_PartitionKey</span><span class="sxs-lookup"><span data-stu-id="2bd56-248">[PartitionKey]: /dotnet/api/microsoft.servicebus.messaging.eventdata#Microsoft_ServiceBus_Messaging_EventData_PartitionKey</span></span>
<span data-ttu-id="2bd56-249">[EventProcessorHost]: /dotnet/api/microsoft.servicebus.messaging.eventprocessorhost</span><span class="sxs-lookup"><span data-stu-id="2bd56-249">[EventProcessorHost]: /dotnet/api/microsoft.servicebus.messaging.eventprocessorhost</span></span>
