---
title: "Guía de aaaProgramming para los concentradores de eventos de Azure | Documentos de Microsoft"
description: "Escribir código para los concentradores de eventos de Azure con hello Azure .NET SDK."
services: event-hubs
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 64cbfd3d-4a0e-4455-a90a-7f3d4f080323
ms.service: event-hubs
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: tbd
ms.date: 08/17/2017
ms.author: sethm
ms.openlocfilehash: 43bebd126c2311af9e3daeb52324132b66cf0884
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="event-hubs-programming-guide"></a><span data-ttu-id="3df95-103">Guía de programación de Centros de eventos</span><span class="sxs-lookup"><span data-stu-id="3df95-103">Event Hubs programming guide</span></span>

<span data-ttu-id="3df95-104">En este artículo se describe algunos escenarios comunes para escribir código que usa hello Azure SDK para .NET y los centros de eventos de Azure.</span><span class="sxs-lookup"><span data-stu-id="3df95-104">This article discusses some common scenarios in writing code using Azure Event Hubs and hello Azure .NET SDK.</span></span> <span data-ttu-id="3df95-105">En él se presupone un conocimiento previo de los centros de eventos.</span><span class="sxs-lookup"><span data-stu-id="3df95-105">It assumes a preliminary understanding of Event Hubs.</span></span> <span data-ttu-id="3df95-106">Para obtener información conceptual de los centros de eventos, vea hello [información general de los centros de eventos](event-hubs-what-is-event-hubs.md).</span><span class="sxs-lookup"><span data-stu-id="3df95-106">For a conceptual overview of Event Hubs, see hello [Event Hubs overview](event-hubs-what-is-event-hubs.md).</span></span>

## <a name="event-publishers"></a><span data-ttu-id="3df95-107">Publicadores de eventos</span><span class="sxs-lookup"><span data-stu-id="3df95-107">Event publishers</span></span>

<span data-ttu-id="3df95-108">Enviar el concentrador de eventos de eventos tooan ya sea mediante HTTP POST o a través de una conexión de AMQP 1.0.</span><span class="sxs-lookup"><span data-stu-id="3df95-108">You send events tooan event hub either using HTTP POST or via an AMQP 1.0 connection.</span></span> <span data-ttu-id="3df95-109">Hola elección de qué toouse y cuándo depende de escenario específico de hello está solucionando.</span><span class="sxs-lookup"><span data-stu-id="3df95-109">hello choice of which toouse and when depends on hello specific scenario being addressed.</span></span> <span data-ttu-id="3df95-110">Las conexiones AMQP 1.0 se miden como conexiones asincrónicas en el Bus de servicio y son más apropiadas en los escenarios con volúmenes mayores de mensajes frecuentes y requisitos de latencia menores, ya que proporcionan un canal de mensajería persistente.</span><span class="sxs-lookup"><span data-stu-id="3df95-110">AMQP 1.0 connections are metered as brokered connections in Service Bus and are more appropriate in scenarios with frequent higher message volumes and lower latency requirements, as they provide a persistent messaging channel.</span></span>

<span data-ttu-id="3df95-111">Crear y administrar los centros de eventos con hello [NamespaceManager][] clase.</span><span class="sxs-lookup"><span data-stu-id="3df95-111">You create and manage Event Hubs using hello [NamespaceManager][] class.</span></span> <span data-ttu-id="3df95-112">Cuando API administradas mediante .NET hello, Hola principal se crea para publicar datos tooEvent concentradores son hello [EventHubClient](/dotnet/api/microsoft.servicebus.messaging.eventhubclient) y [EventData][] clases.</span><span class="sxs-lookup"><span data-stu-id="3df95-112">When using hello .NET managed APIs, hello primary constructs for publishing data tooEvent Hubs are hello [EventHubClient](/dotnet/api/microsoft.servicebus.messaging.eventhubclient) and [EventData][] classes.</span></span> <span data-ttu-id="3df95-113">[EventHubClient][] proporciona el canal de comunicación de AMQP de hello en el cual se envían eventos toohello concentrador de eventos.</span><span class="sxs-lookup"><span data-stu-id="3df95-113">[EventHubClient][] provides hello AMQP communication channel over which events are sent toohello event hub.</span></span> <span data-ttu-id="3df95-114">Hola [EventData][] clase representa un evento y centro de eventos de toopublish usa mensajes tooan.</span><span class="sxs-lookup"><span data-stu-id="3df95-114">hello [EventData][] class represents an event, and is used toopublish messages tooan event hub.</span></span> <span data-ttu-id="3df95-115">Esta clase incluye el cuerpo de hello, algunos metadatos e información de encabezado acerca del evento Hola.</span><span class="sxs-lookup"><span data-stu-id="3df95-115">This class includes hello body, some metadata, and header information about hello event.</span></span> <span data-ttu-id="3df95-116">Otras propiedades se agregan toohello [EventData][] cuando pasan a través de un concentrador de eventos de objeto.</span><span class="sxs-lookup"><span data-stu-id="3df95-116">Other properties are added toohello [EventData][] object as it passes through an event hub.</span></span>

## <a name="get-started"></a><span data-ttu-id="3df95-117">Primeros pasos</span><span class="sxs-lookup"><span data-stu-id="3df95-117">Get started</span></span>

<span data-ttu-id="3df95-118">clases de .NET de Hola que admiten los concentradores de eventos se muestran en hello ensamblado Microsoft.ServiceBus.dll.</span><span class="sxs-lookup"><span data-stu-id="3df95-118">hello .NET classes that support Event Hubs are provided in hello Microsoft.ServiceBus.dll assembly.</span></span> <span data-ttu-id="3df95-119">Hola más fácil Hola de manera tooreference API de Service Bus y tooconfigure la aplicación con todas las dependencias de Bus de servicio de hello es hello toodownload [paquete NuGet de Bus de servicio](https://www.nuget.org/packages/WindowsAzure.ServiceBus).</span><span class="sxs-lookup"><span data-stu-id="3df95-119">hello easiest way tooreference hello Service Bus API and tooconfigure your application with all of hello Service Bus dependencies is toodownload hello [Service Bus NuGet package](https://www.nuget.org/packages/WindowsAzure.ServiceBus).</span></span> <span data-ttu-id="3df95-120">Como alternativa, puede usar hello [Package Manager Console](http://docs.nuget.org/docs/start-here/using-the-package-manager-console) en Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="3df95-120">Alternatively, you can use hello [Package Manager Console](http://docs.nuget.org/docs/start-here/using-the-package-manager-console) in Visual Studio.</span></span> <span data-ttu-id="3df95-121">toodo por lo tanto, emitir Hola siguiente comando en hello [Package Manager Console](http://docs.nuget.org/docs/start-here/using-the-package-manager-console) ventana:</span><span class="sxs-lookup"><span data-stu-id="3df95-121">toodo so, issue hello following command in hello [Package Manager Console](http://docs.nuget.org/docs/start-here/using-the-package-manager-console) window:</span></span>

```
Install-Package WindowsAzure.ServiceBus
```

## <a name="create-an-event-hub"></a><span data-ttu-id="3df95-122">Creación de un centro de eventos</span><span class="sxs-lookup"><span data-stu-id="3df95-122">Create an event hub</span></span>
<span data-ttu-id="3df95-123">Puede usar hello [NamespaceManager][] clase toocreate centros de eventos.</span><span class="sxs-lookup"><span data-stu-id="3df95-123">You can use hello [NamespaceManager][] class toocreate Event Hubs.</span></span> <span data-ttu-id="3df95-124">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="3df95-124">For example:</span></span>

```csharp
var manager = new Microsoft.ServiceBus.NamespaceManager("mynamespace.servicebus.windows.net");
var description = manager.CreateEventHub("MyEventHub");
```

<span data-ttu-id="3df95-125">En la mayoría de los casos, se recomienda que utilice hello [CreateEventHubIfNotExists][] tooavoid de métodos que se generen excepciones si se reinicia el servicio de Hola.</span><span class="sxs-lookup"><span data-stu-id="3df95-125">In most cases, it is recommended that you use hello [CreateEventHubIfNotExists][] methods tooavoid generating exceptions if hello service restarts.</span></span> <span data-ttu-id="3df95-126">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="3df95-126">For example:</span></span>

```csharp
var description = manager.CreateEventHubIfNotExists("MyEventHub");
```

<span data-ttu-id="3df95-127">Todas las operaciones de creación de centros de eventos, incluidos los [CreateEventHubIfNotExists][], requieren **administrar** permisos en el espacio de nombres de hello en cuestión.</span><span class="sxs-lookup"><span data-stu-id="3df95-127">All Event Hubs creation operations, including [CreateEventHubIfNotExists][], require **Manage** permissions on hello namespace in question.</span></span> <span data-ttu-id="3df95-128">Si desea que los permisos de hello toolimit de las aplicaciones de consumidor o publicador, puede evitar estas crear llamadas de operación en el código de producción cuando utilice credenciales con permisos limitados.</span><span class="sxs-lookup"><span data-stu-id="3df95-128">If you want toolimit hello permissions of your publisher or consumer applications, you can avoid these create operation calls in production code when you use credentials with limited permissions.</span></span>

<span data-ttu-id="3df95-129">Hola [EventHubDescription](/dotnet/api/microsoft.servicebus.messaging.eventhubdescription) clase contiene detalles acerca de un centro de eventos, incluidas las reglas de autorización de hello, intervalo de retención de mensajes de Hola, Id. de partición, estado y ruta de acceso.</span><span class="sxs-lookup"><span data-stu-id="3df95-129">hello [EventHubDescription](/dotnet/api/microsoft.servicebus.messaging.eventhubdescription) class contains details about an event hub, including hello authorization rules, hello message retention interval, partition IDs, status, and path.</span></span> <span data-ttu-id="3df95-130">Puede usar estos metadatos de clase tooupdate hello en un centro de eventos.</span><span class="sxs-lookup"><span data-stu-id="3df95-130">You can use this class tooupdate hello metadata on an event hub.</span></span>

## <a name="create-an-event-hubs-client"></a><span data-ttu-id="3df95-131">Creación de un cliente de Centro de eventos</span><span class="sxs-lookup"><span data-stu-id="3df95-131">Create an Event Hubs client</span></span>
<span data-ttu-id="3df95-132">Hola clase principal para interactuar con los concentradores de eventos es [Microsoft.ServiceBus.Messaging.EventHubClient][EventHubClient].</span><span class="sxs-lookup"><span data-stu-id="3df95-132">hello primary class for interacting with Event Hubs is [Microsoft.ServiceBus.Messaging.EventHubClient][EventHubClient].</span></span> <span data-ttu-id="3df95-133">Esta clase proporciona capacidades de remitente y receptor.</span><span class="sxs-lookup"><span data-stu-id="3df95-133">This class provides both sender and receiver capabilities.</span></span> <span data-ttu-id="3df95-134">Puede crear una instancia de esta clase utilizando hello [Create](/dotnet/api/microsoft.servicebus.messaging.eventhubclient.create) método, como se muestra en el siguiente ejemplo de Hola.</span><span class="sxs-lookup"><span data-stu-id="3df95-134">You can instantiate this class using hello [Create](/dotnet/api/microsoft.servicebus.messaging.eventhubclient.create) method, as shown in hello following example.</span></span>

```csharp
var client = EventHubClient.Create(description.Path);
```

<span data-ttu-id="3df95-135">Este método usa la información de conexión de Bus de servicio de hello en hello archivo App.config, hello `appSettings` sección.</span><span class="sxs-lookup"><span data-stu-id="3df95-135">This method uses hello Service Bus connection information in hello App.config file, in hello `appSettings` section.</span></span> <span data-ttu-id="3df95-136">Para obtener un ejemplo de Hola `appSettings` XML utiliza la información de conexión de Bus de servicio de toostore hello, consulte la documentación de Hola para hello [Microsoft.ServiceBus.Messaging.EventHubClient.Create(System.String)](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Create_System_String_) método.</span><span class="sxs-lookup"><span data-stu-id="3df95-136">For an example of hello `appSettings` XML used toostore hello Service Bus connection information, see hello documentation for hello [Microsoft.ServiceBus.Messaging.EventHubClient.Create(System.String)](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Create_System_String_) method.</span></span>

<span data-ttu-id="3df95-137">Otra opción es cliente de hello toocreate desde una cadena de conexión.</span><span class="sxs-lookup"><span data-stu-id="3df95-137">Another option is toocreate hello client from a connection string.</span></span> <span data-ttu-id="3df95-138">Esta opción funciona bien cuando se utilizan los roles de trabajador de Azure, ya que permite almacenar la cadena de hello en Propiedades de configuración de hello para el trabajo de Hola.</span><span class="sxs-lookup"><span data-stu-id="3df95-138">This option works well when using Azure worker roles, because you can store hello string in hello configuration properties for hello worker.</span></span> <span data-ttu-id="3df95-139">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="3df95-139">For example:</span></span>

```csharp
EventHubClient.CreateFromConnectionString("your_connection_string");
```

<span data-ttu-id="3df95-140">cadena de conexión de Hello estará en hello mismo formato tal y como aparece en el archivo App.config de Hola para los métodos anteriores de hello:</span><span class="sxs-lookup"><span data-stu-id="3df95-140">hello connection string will be in hello same format as it appears in hello App.config file for hello previous methods:</span></span>

```
Endpoint=sb://[namespace].servicebus.windows.net/;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=[key]
```

<span data-ttu-id="3df95-141">Por último, también es posible toocreate una [EventHubClient][] objeto desde un [MessagingFactory](/dotnet/api/microsoft.servicebus.messaging.messagingfactory) instancia, tal y como se muestra en el siguiente ejemplo de Hola.</span><span class="sxs-lookup"><span data-stu-id="3df95-141">Finally, it is also possible toocreate an [EventHubClient][] object from a [MessagingFactory](/dotnet/api/microsoft.servicebus.messaging.messagingfactory) instance, as shown in hello following example.</span></span>

```csharp
var factory = MessagingFactory.CreateFromConnectionString("your_connection_string");
var client = factory.CreateEventHubClient("MyEventHub");
```

<span data-ttu-id="3df95-142">Es importante toonote adicional que [EventHubClient][] objetos creados a partir de una instancia del generador de mensajería reutilizará Hola misma conexión TCP subyacente.</span><span class="sxs-lookup"><span data-stu-id="3df95-142">It is important toonote that additional [EventHubClient][] objects created from a messaging factory instance will reuse hello same underlying TCP connection.</span></span> <span data-ttu-id="3df95-143">Por lo tanto, estos objetos tienen un límite de cliente en el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="3df95-143">Therefore, these objects have a client-side limit on throughput.</span></span> <span data-ttu-id="3df95-144">Hola [Create](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Create_System_String_) método reutiliza una única fábrica de mensajería.</span><span class="sxs-lookup"><span data-stu-id="3df95-144">hello [Create](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Create_System_String_) method reuses a single messaging factory.</span></span> <span data-ttu-id="3df95-145">Si necesita un rendimiento muy alto desde un único remitente, puede crear varios generadores de mensajería y un objeto [EventHubClient][] desde cada uno de ellos.</span><span class="sxs-lookup"><span data-stu-id="3df95-145">If you need very high throughput from a single sender, then you can create multiple message factories and one [EventHubClient][] object from each messaging factory.</span></span>

## <a name="send-events-tooan-event-hub"></a><span data-ttu-id="3df95-146">Centro de eventos de tooan de eventos de envío</span><span class="sxs-lookup"><span data-stu-id="3df95-146">Send events tooan event hub</span></span>
<span data-ttu-id="3df95-147">Enviar el concentrador de eventos de tooan de eventos mediante la creación de un [EventData][] instancia y enviarlo a través de hello [enviar](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_) método.</span><span class="sxs-lookup"><span data-stu-id="3df95-147">You send events tooan event hub by creating an [EventData][] instance and sending it via hello [Send](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_) method.</span></span> <span data-ttu-id="3df95-148">Este método toma un único [EventData][] parámetro de instancia y envía de forma sincrónica, tooan concentrador de eventos.</span><span class="sxs-lookup"><span data-stu-id="3df95-148">This method takes a single [EventData][] instance parameter and synchronously sends it tooan event hub.</span></span>

## <a name="event-serialization"></a><span data-ttu-id="3df95-149">Serialización de eventos</span><span class="sxs-lookup"><span data-stu-id="3df95-149">Event serialization</span></span>
<span data-ttu-id="3df95-150">Hola [EventData][] clase tiene [cuatro sobrecargados constructores](/dotnet/api/microsoft.servicebus.messaging.eventdata#constructors_) que tomar una amplia variedad de parámetros, como un objeto y serializador, una matriz de bytes o una secuencia.</span><span class="sxs-lookup"><span data-stu-id="3df95-150">hello [EventData][] class has [four overloaded constructors](/dotnet/api/microsoft.servicebus.messaging.eventdata#constructors_) that take a variety of parameters, such as an object and serializer, a byte array, or a stream.</span></span> <span data-ttu-id="3df95-151">También es posible tooinstantiate hello [EventData][] clase y establezca la secuencia del cuerpo Hola posteriormente.</span><span class="sxs-lookup"><span data-stu-id="3df95-151">It is also possible tooinstantiate hello [EventData][] class and set hello body stream afterwards.</span></span> <span data-ttu-id="3df95-152">Al usar JSON con [EventData][], puede usar **Encoding.UTF8.GetBytes()** tooretrieve matriz de bytes de Hola para una cadena codificada en JSON.</span><span class="sxs-lookup"><span data-stu-id="3df95-152">When using JSON with [EventData][], you can use **Encoding.UTF8.GetBytes()** tooretrieve hello byte array for a JSON-encoded string.</span></span>

## <a name="partition-key"></a><span data-ttu-id="3df95-153">Clave de partición</span><span class="sxs-lookup"><span data-stu-id="3df95-153">Partition key</span></span>
<span data-ttu-id="3df95-154">Hola [EventData][] clase tiene un [PartitionKey][] propiedad que habilita Hola remitente toospecify un valor que se aplica un algoritmo hash tooproduce una asignación de la partición.</span><span class="sxs-lookup"><span data-stu-id="3df95-154">hello [EventData][] class has a [PartitionKey][] property that enables hello sender toospecify a value that is hashed tooproduce a partition assignment.</span></span> <span data-ttu-id="3df95-155">El uso de una clave de partición garantiza todos Hola eventos con la misma clave se envían de hello toohello igual de partición en el concentrador de eventos de Hola.</span><span class="sxs-lookup"><span data-stu-id="3df95-155">Using a partition key ensures that all hello events with hello same key are sent toohello same partition in hello event hub.</span></span> <span data-ttu-id="3df95-156">Las claves de partición comunes incluyen identificadores de sesión e identificadores de remitente únicos.</span><span class="sxs-lookup"><span data-stu-id="3df95-156">Common partition keys include user session IDs and unique sender IDs.</span></span> <span data-ttu-id="3df95-157">Hola [PartitionKey][] propiedad es opcional y puede proporcionarse al usar hello [Microsoft.ServiceBus.Messaging.EventHubClient.Send(Microsoft.ServiceBus.Messaging.EventData)](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_) o [Microsoft.ServiceBus.Messaging.EventHubClient.SendAsync(Microsoft.ServiceBus.Messaging.EventData)](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendAsync_Microsoft_ServiceBus_Messaging_EventData_) métodos.</span><span class="sxs-lookup"><span data-stu-id="3df95-157">hello [PartitionKey][] property is optional and can be provided when using hello [Microsoft.ServiceBus.Messaging.EventHubClient.Send(Microsoft.ServiceBus.Messaging.EventData)](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_) or [Microsoft.ServiceBus.Messaging.EventHubClient.SendAsync(Microsoft.ServiceBus.Messaging.EventData)](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendAsync_Microsoft_ServiceBus_Messaging_EventData_) methods.</span></span> <span data-ttu-id="3df95-158">Si no proporciona un valor para [PartitionKey][], envía los eventos son toopartitions distribuida mediante un modelo round-robin.</span><span class="sxs-lookup"><span data-stu-id="3df95-158">If you do not provide a value for [PartitionKey][], sent events are distributed toopartitions using a round-robin model.</span></span>

### <a name="availability-considerations"></a><span data-ttu-id="3df95-159">Consideraciones sobre disponibilidad</span><span class="sxs-lookup"><span data-stu-id="3df95-159">Availability considerations</span></span>

<span data-ttu-id="3df95-160">Uso de una clave de partición es opcional y debe considerar detenidamente si toouse uno.</span><span class="sxs-lookup"><span data-stu-id="3df95-160">Using a partition key is optional, and you should consider carefully whether or not toouse one.</span></span> <span data-ttu-id="3df95-161">En muchos casos, el uso de una clave de partición es una buena elección si el orden de los eventos es importante.</span><span class="sxs-lookup"><span data-stu-id="3df95-161">In many cases, using a partition key is a good choice if event ordering is important.</span></span> <span data-ttu-id="3df95-162">Cuando se usa una clave de partición, estas particiones requieren la disponibilidad en un solo nodo y las interrupciones pueden producirse a lo largo del tiempo; por ejemplo, cuando los nodos de ejecución se reinician y revisan.</span><span class="sxs-lookup"><span data-stu-id="3df95-162">When you use a partition key, these partitions require availability on a single node, and outages can occur over time; for example, when compute nodes reboot and patch.</span></span> <span data-ttu-id="3df95-163">Por lo tanto, si establece un Id. de partición y esa partición deja de estar disponible por alguna razón, un intento de tooaccess los datos de hello en esa partición se producirá un error.</span><span class="sxs-lookup"><span data-stu-id="3df95-163">As such, if you set a partition ID and that partition becomes unavailable for some reason, an attempt tooaccess hello data in that partition will fail.</span></span> <span data-ttu-id="3df95-164">Si la alta disponibilidad es más importante, no especifique una clave de partición; en ese caso se enviará eventos toopartitions con hello round robin modelo que se ha descrito anteriormente.</span><span class="sxs-lookup"><span data-stu-id="3df95-164">If high availability is most important, do not specify a partition key; in that case events will be sent toopartitions using hello round-robin model described previously.</span></span> <span data-ttu-id="3df95-165">En este escenario, se realiza una selección explícita entre disponibilidad (ningún Id. de partición) y la coherencia (fijar el Id. de partición de tooa de eventos).</span><span class="sxs-lookup"><span data-stu-id="3df95-165">In this scenario, you are making an explicit choice between availability (no partition ID) and consistency (pinning events tooa partition ID).</span></span>

<span data-ttu-id="3df95-166">Otra consideración es el control de retrasos en el procesamiento de eventos.</span><span class="sxs-lookup"><span data-stu-id="3df95-166">Another consideration is handling delays in processing events.</span></span> <span data-ttu-id="3df95-167">En algunos casos podría ser mejor datos toodrop y vuelva a intentar que tootry y mantenerse al día con el procesamiento, que puede provocar retrasos de procesamiento adicional que se siguen en la cadena.</span><span class="sxs-lookup"><span data-stu-id="3df95-167">In some cases it might be better toodrop data and retry than tootry and keep up with processing, which can potentially cause further downstream processing delays.</span></span> <span data-ttu-id="3df95-168">Por ejemplo, con un indicador de cotizaciones bursátiles es mejor toowait para completa de los datos actualizada, pero en un chat en vivo o escenario VOIP que prefiere tener datos Hola rápidamente, incluso si no está completa.</span><span class="sxs-lookup"><span data-stu-id="3df95-168">For example, with a stock ticker it's better toowait for complete up-to-date data, but in a live chat or VOIP scenario you'd rather have hello data quickly, even if it isn't complete.</span></span>

<span data-ttu-id="3df95-169">Debido a estas consideraciones de disponibilidad, en estos escenarios puede elegir uno de hello siguiendo las estrategias de control de errores:</span><span class="sxs-lookup"><span data-stu-id="3df95-169">Given these availability considerations, in these scenarios you might choose one of hello following error handling strategies:</span></span>

- <span data-ttu-id="3df95-170">Detener (dejar de leer Event Hubs hasta que se solucionen cosas)</span><span class="sxs-lookup"><span data-stu-id="3df95-170">Stop (stop reading from Event Hubs until things are fixed)</span></span>
- <span data-ttu-id="3df95-171">Quitar (los mensajes no son importantes, quítelos)</span><span class="sxs-lookup"><span data-stu-id="3df95-171">Drop (messages aren’t important, drop them)</span></span>
- <span data-ttu-id="3df95-172">Vuelva a intentar (Hola de reintento mensajes como ver ajusten)</span><span class="sxs-lookup"><span data-stu-id="3df95-172">Retry (retry hello messages as you see fit)</span></span>
- <span data-ttu-id="3df95-173">[Mensajes no enviados](../service-bus-messaging/service-bus-dead-letter-queues.md) (utilice una cola o toodead de concentrador de eventos otra carta solo los mensajes de Hola no pudo procesar)</span><span class="sxs-lookup"><span data-stu-id="3df95-173">[Dead letter](../service-bus-messaging/service-bus-dead-letter-queues.md) (use a queue or another event hub toodead letter only hello messages you couldn’t process)</span></span>

<span data-ttu-id="3df95-174">Para obtener más información y una explicación sobre Hola ventajas y desventajas de disponibilidad y la coherencia, consulte [disponibilidad y coherencia en los centros de eventos](event-hubs-availability-and-consistency.md).</span><span class="sxs-lookup"><span data-stu-id="3df95-174">For more information and a discussion about hello trade-offs between availability and consistency, see [Availability and consistency in Event Hubs](event-hubs-availability-and-consistency.md).</span></span> 

## <a name="batch-event-send-operations"></a><span data-ttu-id="3df95-175">Operaciones de envío de eventos por lotes</span><span class="sxs-lookup"><span data-stu-id="3df95-175">Batch event send operations</span></span>
<span data-ttu-id="3df95-176">El envío de eventos por lotes puede aumentar drásticamente el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="3df95-176">Sending events in batches can dramatically increase throughput.</span></span> <span data-ttu-id="3df95-177">Hola [SendBatch](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendBatch_System_Collections_Generic_IEnumerable_Microsoft_ServiceBus_Messaging_EventData__) método toma una **IEnumerable** parámetro de tipo [EventData][] y envía Hola lote completo como un concentrador de eventos de toohello operación atómica.</span><span class="sxs-lookup"><span data-stu-id="3df95-177">hello [SendBatch](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendBatch_System_Collections_Generic_IEnumerable_Microsoft_ServiceBus_Messaging_EventData__) method takes an **IEnumerable** parameter of type [EventData][] and sends hello entire batch as an atomic operation toohello event hub.</span></span>

```csharp
public void SendBatch(IEnumerable<EventData> eventDataList);
```

<span data-ttu-id="3df95-178">Tenga en cuenta que un único lote no debe superar el límite de 256 KB de Hola de un evento.</span><span class="sxs-lookup"><span data-stu-id="3df95-178">Note that a single batch must not exceed hello 256 KB limit of an event.</span></span> <span data-ttu-id="3df95-179">Además, cada mensaje Hola lote usa Hola misma identidad de publicador.</span><span class="sxs-lookup"><span data-stu-id="3df95-179">Additionally, each message in hello batch uses hello same publisher identity.</span></span> <span data-ttu-id="3df95-180">Es responsabilidad Hola de hello remitente tooensure que Hola por lotes no supere el tamaño máximo del evento de Hola.</span><span class="sxs-lookup"><span data-stu-id="3df95-180">It is hello responsibility of hello sender tooensure that hello batch does not exceed hello maximum event size.</span></span> <span data-ttu-id="3df95-181">Si es así, se generará un error de **envío** de cliente.</span><span class="sxs-lookup"><span data-stu-id="3df95-181">If it does, a client **Send** error is generated.</span></span>

## <a name="send-asynchronously-and-send-at-scale"></a><span data-ttu-id="3df95-182">Enviar de forma asincrónica y enviar a escala</span><span class="sxs-lookup"><span data-stu-id="3df95-182">Send asynchronously and send at scale</span></span>
<span data-ttu-id="3df95-183">También puede enviar concentrador de eventos de tooan de eventos de forma asincrónica.</span><span class="sxs-lookup"><span data-stu-id="3df95-183">You can also send events tooan event hub asynchronously.</span></span> <span data-ttu-id="3df95-184">Envío asincrónico puede aumentar la velocidad de hello en el que un cliente es capaz de toosend eventos.</span><span class="sxs-lookup"><span data-stu-id="3df95-184">Sending asynchronously can increase hello rate at which a client is able toosend events.</span></span> <span data-ttu-id="3df95-185">Ambos hello [enviar](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_) y [SendBatch](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendBatch_System_Collections_Generic_IEnumerable_Microsoft_ServiceBus_Messaging_EventData__) métodos están disponibles en las versiones asincrónicas que devuelven un [tarea](https://msdn.microsoft.com/library/system.threading.tasks.task.aspx) objeto.</span><span class="sxs-lookup"><span data-stu-id="3df95-185">Both hello [Send](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_) and [SendBatch](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendBatch_System_Collections_Generic_IEnumerable_Microsoft_ServiceBus_Messaging_EventData__) methods are available in asynchronous versions that return a [Task](https://msdn.microsoft.com/library/system.threading.tasks.task.aspx) object.</span></span> <span data-ttu-id="3df95-186">Aunque esta técnica puede aumentar el rendimiento, pueden hacer Hola eventos de cliente toocontinue toosend incluso mientras se está limitando por hello servicio de centros de eventos y puede dar lugar a Hola cliente experimente errores o mensajes perdidos si no se implementa correctamente.</span><span class="sxs-lookup"><span data-stu-id="3df95-186">While this technique can increase throughput, it can also cause hello client toocontinue toosend events even while it is being throttled by hello Event Hubs service and can result in hello client experiencing failures or lost messages if not properly implemented.</span></span> <span data-ttu-id="3df95-187">Además, puede usar hello [RetryPolicy](/dotnet/api/microsoft.servicebus.messaging.cliententity#Microsoft_ServiceBus_Messaging_ClientEntity_RetryPolicy) propiedad sobre las opciones de reintento de hello cliente toocontrol cliente.</span><span class="sxs-lookup"><span data-stu-id="3df95-187">In addition, you can use hello [RetryPolicy](/dotnet/api/microsoft.servicebus.messaging.cliententity#Microsoft_ServiceBus_Messaging_ClientEntity_RetryPolicy) property on hello client toocontrol client retry options.</span></span>

## <a name="create-a-partition-sender"></a><span data-ttu-id="3df95-188">Crear un remitente de partición</span><span class="sxs-lookup"><span data-stu-id="3df95-188">Create a partition sender</span></span>
<span data-ttu-id="3df95-189">Aunque es más común toosend eventos tooan concentrador de eventos sin una clave de partición, en algunos casos le podría interesar toosend eventos directamente tooa dada la partición.</span><span class="sxs-lookup"><span data-stu-id="3df95-189">Although it is most common toosend events tooan event hub without a partition key, in some cases you might want toosend events directly tooa given partition.</span></span> <span data-ttu-id="3df95-190">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="3df95-190">For example:</span></span>

```csharp
var partitionedSender = client.CreatePartitionedSender(description.PartitionIds[0]);
```

<span data-ttu-id="3df95-191">[CreatePartitionedSender](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_CreatePartitionedSender_System_String_) devuelve un [EventHubSender](/dotnet/api/microsoft.servicebus.messaging.eventhubsender) objeto que puede usar toopublish partición del concentrador de eventos tooa evento específico.</span><span class="sxs-lookup"><span data-stu-id="3df95-191">[CreatePartitionedSender](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_CreatePartitionedSender_System_String_) returns an [EventHubSender](/dotnet/api/microsoft.servicebus.messaging.eventhubsender) object that you can use toopublish events tooa specific event hub partition.</span></span>

## <a name="event-consumers"></a><span data-ttu-id="3df95-192">Consumidores de eventos</span><span class="sxs-lookup"><span data-stu-id="3df95-192">Event consumers</span></span>
<span data-ttu-id="3df95-193">Los centros de eventos tienen dos modelos principales para el consumo de eventos: receptores directos y abstracciones de nivel superior, como [EventProcessorHost][].</span><span class="sxs-lookup"><span data-stu-id="3df95-193">Event Hubs has two primary models for event consumption: direct receivers and higher-level abstractions, such as [EventProcessorHost][].</span></span> <span data-ttu-id="3df95-194">Receptores directos son responsables de su propia coordinación toopartitions de acceso dentro de un grupo de consumidores.</span><span class="sxs-lookup"><span data-stu-id="3df95-194">Direct receivers are responsible for their own coordination of access toopartitions within a consumer group.</span></span>

### <a name="direct-consumer"></a><span data-ttu-id="3df95-195">Consumidor directo</span><span class="sxs-lookup"><span data-stu-id="3df95-195">Direct consumer</span></span>
<span data-ttu-id="3df95-196">Hola tooread de manera más directa de una partición dentro de un grupo de consumidores es hello de toouse [EventHubReceiver](/dotnet/apie/microsoft.servicebus.messaging.eventhubreceiver) clase.</span><span class="sxs-lookup"><span data-stu-id="3df95-196">hello most direct way tooread from a partition within a consumer group is toouse hello [EventHubReceiver](/dotnet/apie/microsoft.servicebus.messaging.eventhubreceiver) class.</span></span> <span data-ttu-id="3df95-197">toocreate una instancia de esta clase, debe utilizar una instancia de hello [EventHubConsumerGroup](/dotnet/api/microsoft.servicebus.messaging.eventhubconsumergroup) clase.</span><span class="sxs-lookup"><span data-stu-id="3df95-197">toocreate an instance of this class, you must use an instance of hello [EventHubConsumerGroup](/dotnet/api/microsoft.servicebus.messaging.eventhubconsumergroup) class.</span></span> <span data-ttu-id="3df95-198">En el siguiente ejemplo de Hola Hola Id. de partición debe especificarse al crear el receptor de hello para el grupo de consumidores de Hola.</span><span class="sxs-lookup"><span data-stu-id="3df95-198">In hello following example, hello partition ID must be specified when creating hello receiver for hello consumer group.</span></span>

```csharp
EventHubConsumerGroup group = client.GetDefaultConsumerGroup();
var receiver = group.CreateReceiver(client.GetRuntimeInformation().PartitionIds[0]);
```

<span data-ttu-id="3df95-199">Hola [CreateReceiver](/dotnet/api/microsoft.servicebus.messaging.eventhubconsumergroup#methods_summary) método tiene varias sobrecargas que proporcionan control sobre el lector de Hola que se está creando.</span><span class="sxs-lookup"><span data-stu-id="3df95-199">hello [CreateReceiver](/dotnet/api/microsoft.servicebus.messaging.eventhubconsumergroup#methods_summary) method has several overloads that facilitate control over hello reader being created.</span></span> <span data-ttu-id="3df95-200">Estos métodos incluyen la especificación de un desplazamiento como una cadena o una marca de tiempo y Hola capacidad toospecify si tooinclude este desplazamiento especificado de hello devuelve transmitir por secuencias o iniciar después de él.</span><span class="sxs-lookup"><span data-stu-id="3df95-200">These methods include specifying an offset as either a string or timestamp, and hello ability toospecify whether tooinclude this specified offset in hello returned stream, or start after it.</span></span> <span data-ttu-id="3df95-201">Después de crear el receptor de hello, puede empezar a recibir eventos en hello devuelve el objeto.</span><span class="sxs-lookup"><span data-stu-id="3df95-201">After you create hello receiver, you can start receiving events on hello returned object.</span></span> <span data-ttu-id="3df95-202">Hola [recepción](/dotnet/api/microsoft.servicebus.messaging.eventhubreceiver#methods_summary) método tiene cuatro sobrecargas que Hola control recibir parámetros de operación, como el tamaño de lote y tiempo de espera.</span><span class="sxs-lookup"><span data-stu-id="3df95-202">hello [Receive](/dotnet/api/microsoft.servicebus.messaging.eventhubreceiver#methods_summary) method has four overloads that control hello receive operation parameters, such as batch size and wait time.</span></span> <span data-ttu-id="3df95-203">Puede usar las versiones asincrónicas de Hola de estos rendimiento de hello tooincrease de métodos de un consumidor.</span><span class="sxs-lookup"><span data-stu-id="3df95-203">You can use hello asynchronous versions of these methods tooincrease hello throughput of a consumer.</span></span> <span data-ttu-id="3df95-204">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="3df95-204">For example:</span></span>

```csharp
bool receive = true;
string myOffset;
while(receive)
{
    var message = receiver.Receive();
    myOffset = message.Offset;
    string body = Encoding.UTF8.GetString(message.GetBytes());
    Console.WriteLine(String.Format("Received message offset: {0} \nbody: {1}", myOffset, body));
}
```

<span data-ttu-id="3df95-205">Con partición específica de tooa de sentido, se reciben mensajes de saludo en orden de hello en el que se enviaron toohello concentrador de eventos.</span><span class="sxs-lookup"><span data-stu-id="3df95-205">With respect tooa specific partition, hello messages are received in hello order in which they were sent toohello event hub.</span></span> <span data-ttu-id="3df95-206">desplazamiento de Hello es una cadena token usado tooidentify un mensaje en una partición.</span><span class="sxs-lookup"><span data-stu-id="3df95-206">hello offset is a string token used tooidentify a message in a partition.</span></span>

<span data-ttu-id="3df95-207">Tenga en cuenta que una sola partición dentro de un grupo de consumidores no puede tener más de 5 lectores simultáneos conectados en un determinado momento.</span><span class="sxs-lookup"><span data-stu-id="3df95-207">Note that a single partition within a consumer group cannot have more than 5 concurrent readers connected at any time.</span></span> <span data-ttu-id="3df95-208">Como los lectores se conectan o se desconectan, sus sesiones pueden permanecer activas durante varios minutos antes de que el servicio de hello reconoce que se han desconectado.</span><span class="sxs-lookup"><span data-stu-id="3df95-208">As readers connect or become disconnected, their sessions might stay active for several minutes before hello service recognizes that they have disconnected.</span></span> <span data-ttu-id="3df95-209">Durante este tiempo, volver a conectar tooa partición puede producir un error.</span><span class="sxs-lookup"><span data-stu-id="3df95-209">During this time, reconnecting tooa partition may fail.</span></span> <span data-ttu-id="3df95-210">Para obtener un ejemplo completo de la escritura de un receptor directo para los concentradores de eventos, vea hello [receptores directos de centros de eventos](https://code.msdn.microsoft.com/Event-Hub-Direct-Receivers-13fa95c6) ejemplo.</span><span class="sxs-lookup"><span data-stu-id="3df95-210">For a complete example of writing a direct receiver for Event Hubs, see hello [Event Hubs Direct Receivers](https://code.msdn.microsoft.com/Event-Hub-Direct-Receivers-13fa95c6) sample.</span></span>

### <a name="event-processor-host"></a><span data-ttu-id="3df95-211">Host del procesador de eventos</span><span class="sxs-lookup"><span data-stu-id="3df95-211">Event processor host</span></span>
<span data-ttu-id="3df95-212">Hola [EventProcessorHost][] clase procesa los datos de los centros de eventos.</span><span class="sxs-lookup"><span data-stu-id="3df95-212">hello [EventProcessorHost][] class processes data from Event Hubs.</span></span> <span data-ttu-id="3df95-213">Debe utilizar esta implementación al generar los lectores de eventos en la plataforma .NET de Hola.</span><span class="sxs-lookup"><span data-stu-id="3df95-213">You should use this implementation when building event readers on hello .NET platform.</span></span> <span data-ttu-id="3df95-214">[EventProcessorHost][] proporciona un entorno de tiempo de ejecución seguro, seguro para subprocesos y de varios procesos para las implementaciones de procesadores de eventos que también ofrecen administración de concesión de puntos de comprobación y particiones.</span><span class="sxs-lookup"><span data-stu-id="3df95-214">[EventProcessorHost][] provides a thread-safe, multi-process, safe runtime environment for event processor implementations that also provides checkpointing and partition lease management.</span></span>

<span data-ttu-id="3df95-215">Hola toouse [EventProcessorHost][] (clase), puede implementar [IEventProcessor](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor).</span><span class="sxs-lookup"><span data-stu-id="3df95-215">toouse hello [EventProcessorHost][] class, you can implement [IEventProcessor](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor).</span></span> <span data-ttu-id="3df95-216">Esta interfaz contiene tres métodos:</span><span class="sxs-lookup"><span data-stu-id="3df95-216">This interface contains three methods:</span></span>

* [<span data-ttu-id="3df95-217">OpenAsync</span><span class="sxs-lookup"><span data-stu-id="3df95-217">OpenAsync</span></span>](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor#Microsoft_ServiceBus_Messaging_IEventProcessor_OpenAsync_Microsoft_ServiceBus_Messaging_PartitionContext_)
* [<span data-ttu-id="3df95-218">CloseAsync</span><span class="sxs-lookup"><span data-stu-id="3df95-218">CloseAsync</span></span>](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor#Microsoft_ServiceBus_Messaging_IEventProcessor_CloseAsync_Microsoft_ServiceBus_Messaging_PartitionContext_Microsoft_ServiceBus_Messaging_CloseReason_)
* [<span data-ttu-id="3df95-219">ProcessEventsAsync</span><span class="sxs-lookup"><span data-stu-id="3df95-219">ProcessEventsAsync</span></span>](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor#Microsoft_ServiceBus_Messaging_IEventProcessor_ProcessEventsAsync_Microsoft_ServiceBus_Messaging_PartitionContext_System_Collections_Generic_IEnumerable_Microsoft_ServiceBus_Messaging_EventData__)

<span data-ttu-id="3df95-220">crear una instancia de toostart procesamiento de eventos, [EventProcessorHost][], proporcionando los parámetros apropiados de hello para el centro de eventos.</span><span class="sxs-lookup"><span data-stu-id="3df95-220">toostart event processing, instantiate [EventProcessorHost][], providing hello appropriate parameters for your event hub.</span></span> <span data-ttu-id="3df95-221">A continuación, llame a [RegisterEventProcessorAsync](/dotnet/api/microsoft.servicebus.messaging.eventprocessorhost#Microsoft_ServiceBus_Messaging_EventProcessorHost_RegisterEventProcessorAsync__1) tooregister su [IEventProcessor](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor) implementación con hello en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="3df95-221">Then, call [RegisterEventProcessorAsync](/dotnet/api/microsoft.servicebus.messaging.eventprocessorhost#Microsoft_ServiceBus_Messaging_EventProcessorHost_RegisterEventProcessorAsync__1) tooregister your [IEventProcessor](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor) implementation with hello runtime.</span></span> <span data-ttu-id="3df95-222">En este momento, el host de hello intentará tooacquire una concesión en cada partición de concentrador de eventos de hello usando un algoritmo "expansivo".</span><span class="sxs-lookup"><span data-stu-id="3df95-222">At this point, hello host will attempt tooacquire a lease on every partition in hello event hub using a "greedy" algorithm.</span></span> <span data-ttu-id="3df95-223">Estas concesiones durarán un período de tiempo determinado y, a continuación, deben renovarse.</span><span class="sxs-lookup"><span data-stu-id="3df95-223">These leases will last for a given timeframe and must then be renewed.</span></span> <span data-ttu-id="3df95-224">Como nuevos nodos, instancias de trabajo en este caso, se ponen en línea, colocan reservas de concesiones y con el tiempo carga Hola se desplaza entre los nodos según cada uno intenta tooacquire más concesiones.</span><span class="sxs-lookup"><span data-stu-id="3df95-224">As new nodes, worker instances in this case, come online, they place lease reservations and over time hello load shifts between nodes as each attempts tooacquire more leases.</span></span>

![Host del procesador de eventos](./media/event-hubs-programming-guide/IC759863.png)

<span data-ttu-id="3df95-226">Con el tiempo, se establece un equilibrio.</span><span class="sxs-lookup"><span data-stu-id="3df95-226">Over time, an equilibrium is established.</span></span> <span data-ttu-id="3df95-227">Esta capacidad dinámica permite la Autoescala basada en CPU toobe aplica tooconsumers de ampliación y reducción.</span><span class="sxs-lookup"><span data-stu-id="3df95-227">This dynamic capability enables CPU-based autoscaling toobe applied tooconsumers for both scale-up and scale-down.</span></span> <span data-ttu-id="3df95-228">Dado que los centros de eventos no tiene un concepto directo de números de mensajes, uso promedio de CPU suele ser Hola mecanismo toomeasure back-end o un consumidor escala adecuada.</span><span class="sxs-lookup"><span data-stu-id="3df95-228">Because Event Hubs do not have a direct concept of message counts, average CPU utilization is often hello best mechanism toomeasure back end or consumer scale.</span></span> <span data-ttu-id="3df95-229">Si los publicadores comienzan toopublish que pueden procesar más eventos que los consumidores, aumento de la CPU de hello en los consumidores puede ser usado toocause una escala automática en el recuento de instancias de trabajo.</span><span class="sxs-lookup"><span data-stu-id="3df95-229">If publishers begin toopublish more events than consumers can process, hello CPU increase on consumers can be used toocause an auto-scale on worker instance count.</span></span>

<span data-ttu-id="3df95-230">Hola [EventProcessorHost][] clase también implementa un mecanismo de puntos de comprobación basado en almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="3df95-230">hello [EventProcessorHost][] class also implements an Azure storage-based checkpointing mechanism.</span></span> <span data-ttu-id="3df95-231">Este Hola de almacenes de mecanismo de desplazamiento en una base por partición, para que cada consumidor pueda determinar qué Hola último punto de comprobación del consumidor anterior Hola era.</span><span class="sxs-lookup"><span data-stu-id="3df95-231">This mechanism stores hello offset on a per partition basis, so that each consumer can determine what hello last checkpoint from hello previous consumer was.</span></span> <span data-ttu-id="3df95-232">Al igual que crea particiones transición entre los nodos mediante concesiones, este es el mecanismo de sincronización de Hola que facilita el cambio de carga.</span><span class="sxs-lookup"><span data-stu-id="3df95-232">As partitions transition between nodes via leases, this is hello synchronization mechanism that facilitates load shifting.</span></span>

## <a name="publisher-revocation"></a><span data-ttu-id="3df95-233">Revocación de publicador</span><span class="sxs-lookup"><span data-stu-id="3df95-233">Publisher revocation</span></span>
<span data-ttu-id="3df95-234">Además toohello avanzadas características en tiempo de ejecución de [EventProcessorHost][], centros de eventos permiten la revocación del publicador de orden tooblock específico de los publicadores en el concentrador de eventos de tooan de eventos de envío.</span><span class="sxs-lookup"><span data-stu-id="3df95-234">In addition toohello advanced run-time features of [EventProcessorHost][], Event Hubs enables publisher revocation in order tooblock specific publishers from sending event tooan event hub.</span></span> <span data-ttu-id="3df95-235">Estas características son especialmente útiles si un token de publicador se ha puesto en peligro o una actualización de software está haciendo toobehave incorrectamente.</span><span class="sxs-lookup"><span data-stu-id="3df95-235">These features are particularly useful if a publisher token has been compromised, or a software update is causing them toobehave inappropriately.</span></span> <span data-ttu-id="3df95-236">En estas situaciones, se puede bloquear la identidad del publicador de hello, que forma parte de su token de SAS, desde la publicación de eventos.</span><span class="sxs-lookup"><span data-stu-id="3df95-236">In these situations, hello publisher's identity, which is part of their SAS token, can be blocked from publishing events.</span></span>

<span data-ttu-id="3df95-237">Para obtener más información acerca de la revocación del publicador y cómo toosend tooEvent concentradores como publicador, vea hello [evento centros de gran escala publicación segura](https://code.msdn.microsoft.com/Service-Bus-Event-Hub-99ce67ab) ejemplo.</span><span class="sxs-lookup"><span data-stu-id="3df95-237">For more information about publisher revocation and how toosend tooEvent Hubs as a publisher, see hello [Event Hubs Large Scale Secure Publishing](https://code.msdn.microsoft.com/Service-Bus-Event-Hub-99ce67ab) sample.</span></span>

## <a name="next-steps"></a><span data-ttu-id="3df95-238">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="3df95-238">Next steps</span></span>
<span data-ttu-id="3df95-239">toolearn más información acerca de escenarios de centros de eventos, visite estos vínculos:</span><span class="sxs-lookup"><span data-stu-id="3df95-239">toolearn more about Event Hubs scenarios, visit these links:</span></span>

* [<span data-ttu-id="3df95-240">Introducción a la API de centros de eventos</span><span class="sxs-lookup"><span data-stu-id="3df95-240">Event Hubs API overview</span></span>](event-hubs-api-overview.md)
* [<span data-ttu-id="3df95-241">¿Qué es Event Hubs?</span><span class="sxs-lookup"><span data-stu-id="3df95-241">What is Event Hubs</span></span>](event-hubs-what-is-event-hubs.md)
* [<span data-ttu-id="3df95-242">Disponibilidad y coherencia en Event Hubs</span><span class="sxs-lookup"><span data-stu-id="3df95-242">Availability and consistency in Event Hubs</span></span>](event-hubs-availability-and-consistency.md)
* [<span data-ttu-id="3df95-243">Referencia de la API de host del procesador de eventos</span><span class="sxs-lookup"><span data-stu-id="3df95-243">Event processor host API reference</span></span>](/dotnet/api/microsoft.servicebus.messaging.eventprocessorhost)

[NamespaceManager]: /dotnet/api/microsoft.servicebus.namespacemanager
[EventHubClient]: /dotnet/api/microsoft.servicebus.messaging.eventhubclient
[EventData]: /dotnet/api/microsoft.servicebus.messaging.eventdata
[CreateEventHubIfNotExists]: /dotnet/api/microsoft.servicebus.namespacemanager.createeventhubifnotexists
[PartitionKey]: /dotnet/api/microsoft.servicebus.messaging.eventdata#Microsoft_ServiceBus_Messaging_EventData_PartitionKey
[EventProcessorHost]: /dotnet/api/microsoft.servicebus.messaging.eventprocessorhost
