---
title: "información general de características de aaaAzure centros de eventos | Documentos de Microsoft"
description: "Introducción y detalles acerca de las características de Azure Event Hubs"
services: event-hubs
documentationcenter: .net
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 
ms.service: event-hubs
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/17/2017
ms.author: sethm
ms.openlocfilehash: 8094e48abc8455ed725d4d5d3f9895f431441e2b
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="event-hubs-features-overview"></a><span data-ttu-id="e0103-103">Introducción a las características de Event Hubs</span><span class="sxs-lookup"><span data-stu-id="e0103-103">Event Hubs features overview</span></span>

<span data-ttu-id="e0103-104">Azure Event Hubs es un servicio escalable de procesamiento de eventos que recopila y procesa grandes volúmenes de eventos y datos, con una baja latencia y una alta fiabilidad.</span><span class="sxs-lookup"><span data-stu-id="e0103-104">Azure Event Hubs is a scalable event processing service that ingests and processes large volumes of events and data, with low latency and high reliability.</span></span> <span data-ttu-id="e0103-105">Vea [¿qué es centros de eventos?](event-hubs-what-is-event-hubs.md) para una descripción general del servicio de Hola.</span><span class="sxs-lookup"><span data-stu-id="e0103-105">See [What is Event Hubs?](event-hubs-what-is-event-hubs.md) for a high-level overview of hello service.</span></span>

<span data-ttu-id="e0103-106">En este artículo se basa en información de Hola Hola [Introducción](event-hubs-what-is-event-hubs.md)y proporciona detalles de implementación y la técnica sobre características y componentes de los centros de eventos.</span><span class="sxs-lookup"><span data-stu-id="e0103-106">This article builds on hello information in hello [overview](event-hubs-what-is-event-hubs.md), and provides technical and implementation details about Event Hubs components and features.</span></span>

## <a name="event-publishers"></a><span data-ttu-id="e0103-107">Publicadores de eventos</span><span class="sxs-lookup"><span data-stu-id="e0103-107">Event publishers</span></span>

<span data-ttu-id="e0103-108">Cualquier entidad que envía el concentrador de eventos de tooan de datos es un productor de eventos, o *publicador de eventos*.</span><span class="sxs-lookup"><span data-stu-id="e0103-108">Any entity that sends data tooan event hub is an event producer, or *event publisher*.</span></span> <span data-ttu-id="e0103-109">Los publicadores de eventos pueden publicar eventos mediante HTTPS o AMQP 1.0.</span><span class="sxs-lookup"><span data-stu-id="e0103-109">Event publishers can publish events using HTTPS or AMQP 1.0.</span></span> <span data-ttu-id="e0103-110">Los publicadores de eventos usar un tooidentify de token de firma de acceso compartido (SAS) por sí mismos tooan centro de eventos y pueden tener una identidad única o usar un token SAS común.</span><span class="sxs-lookup"><span data-stu-id="e0103-110">Event publishers use a Shared Access Signature (SAS) token tooidentify themselves tooan event hub, and can have a unique identity, or use a common SAS token.</span></span>

### <a name="publishing-an-event"></a><span data-ttu-id="e0103-111">Publicación de un evento</span><span class="sxs-lookup"><span data-stu-id="e0103-111">Publishing an event</span></span>

<span data-ttu-id="e0103-112">Puede publicar un evento a través de AMQP 1.0 o HTTPS.</span><span class="sxs-lookup"><span data-stu-id="e0103-112">You can publish an event via AMQP 1.0 or HTTPS.</span></span> <span data-ttu-id="e0103-113">Centros de eventos proporcionan [bibliotecas de cliente y las clases](event-hubs-dotnet-framework-api-overview.md) para la publicación de centro de eventos de tooan de eventos de clientes de. NET.</span><span class="sxs-lookup"><span data-stu-id="e0103-113">Event Hubs provides [client libraries and classes](event-hubs-dotnet-framework-api-overview.md) for publishing events tooan event hub from .NET clients.</span></span> <span data-ttu-id="e0103-114">Para otras plataformas y tiempos de ejecución, puede usar cualquier cliente de AMQP 1.0, como [Apache Qpid](http://qpid.apache.org/).</span><span class="sxs-lookup"><span data-stu-id="e0103-114">For other runtimes and platforms, you can use any AMQP 1.0 client, such as [Apache Qpid](http://qpid.apache.org/).</span></span> <span data-ttu-id="e0103-115">Puede publicar eventos individualmente o por lotes.</span><span class="sxs-lookup"><span data-stu-id="e0103-115">You can publish events individually, or batched.</span></span> <span data-ttu-id="e0103-116">Una sola publicación (instancia de datos de eventos) tiene un límite de 256 KB, independientemente de si es un evento único o un lote.</span><span class="sxs-lookup"><span data-stu-id="e0103-116">A single publication (event data instance) has a limit of 256 KB, regardless of whether it is a single event or a batch.</span></span> <span data-ttu-id="e0103-117">La publicación de eventos que superen este umbral producirá un error.</span><span class="sxs-lookup"><span data-stu-id="e0103-117">Publishing events larger than this threshold results in an error.</span></span> <span data-ttu-id="e0103-118">Es una práctica recomendada para publicadores toobe consciente de las particiones en el centro de eventos de Hola y especifique tooonly una *clave de partición* (que se introdujo en la sección siguiente de hello), o su identidad a través de su token SAS.</span><span class="sxs-lookup"><span data-stu-id="e0103-118">It is a best practice for publishers toobe unaware of partitions within hello event hub and tooonly specify a *partition key* (introduced in hello next section), or their identity via their SAS token.</span></span>

<span data-ttu-id="e0103-119">Hola elección toouse AMQP o HTTPS es el escenario de uso de toohello específico.</span><span class="sxs-lookup"><span data-stu-id="e0103-119">hello choice toouse AMQP or HTTPS is specific toohello usage scenario.</span></span> <span data-ttu-id="e0103-120">AMQP requiere el establecimiento de Hola de un socket bidireccional persistente en la seguridad de nivel de tootransport de suma (TLS) o SSL/TLS.</span><span class="sxs-lookup"><span data-stu-id="e0103-120">AMQP requires hello establishment of a persistent bidirectional socket in addition tootransport level security (TLS) or SSL/TLS.</span></span> <span data-ttu-id="e0103-121">AMQP tiene mayor será el costo de red al inicializar la sesión de hello, sin embargo, HTTPS requiere una sobrecarga de SSL adicional para cada solicitud.</span><span class="sxs-lookup"><span data-stu-id="e0103-121">AMQP has higher network costs when initializing hello session, however HTTPS requires additional SSL overhead for every request.</span></span> <span data-ttu-id="e0103-122">AMQP tiene un mayor rendimiento para los publicadores frecuentes.</span><span class="sxs-lookup"><span data-stu-id="e0103-122">AMQP has higher performance for frequent publishers.</span></span>

![Centros de eventos](./media/event-hubs-features/partition_keys.png)

<span data-ttu-id="e0103-124">Centros de eventos garantizan que todos los eventos de uso compartido de un valor de clave de partición se entregan en orden y toohello misma partición.</span><span class="sxs-lookup"><span data-stu-id="e0103-124">Event Hubs ensures that all events sharing a partition key value are delivered in order, and toohello same partition.</span></span> <span data-ttu-id="e0103-125">Si las claves de partición se usan con las directivas de publicador, Hola, a continuación, la identidad del publicador de Hola y debe coincidir con el valor de Hola de clave de partición de Hola.</span><span class="sxs-lookup"><span data-stu-id="e0103-125">If partition keys are used with publisher policies, then hello identity of hello publisher and hello value of hello partition key must match.</span></span> <span data-ttu-id="e0103-126">De lo contrario, se produce un error.</span><span class="sxs-lookup"><span data-stu-id="e0103-126">Otherwise, an error occurs.</span></span>

### <a name="publisher-policy"></a><span data-ttu-id="e0103-127">Directiva del publicador</span><span class="sxs-lookup"><span data-stu-id="e0103-127">Publisher policy</span></span>

<span data-ttu-id="e0103-128">Los Centros de eventos permiten un control granular sobre los publicadores de eventos a través de las *directivas de publicador*.</span><span class="sxs-lookup"><span data-stu-id="e0103-128">Event Hubs enables granular control over event publishers through *publisher policies*.</span></span> <span data-ttu-id="e0103-129">Las directivas de publicador son características de tiempo de ejecución diseñadas toofacilitate gran número de publicadores de eventos independientes.</span><span class="sxs-lookup"><span data-stu-id="e0103-129">Publisher policies are run-time features designed toofacilitate large numbers of independent event publishers.</span></span> <span data-ttu-id="e0103-130">Con las directivas de publicador, cada publicador utiliza su propio identificador único al publicar el concentrador de eventos de tooan de eventos, mediante Hola después mecanismo:</span><span class="sxs-lookup"><span data-stu-id="e0103-130">With publisher policies, each publisher uses its own unique identifier when publishing events tooan event hub, using hello following mechanism:</span></span>

```
//[my namespace].servicebus.windows.net/[event hub name]/publishers/[my publisher name]
```

<span data-ttu-id="e0103-131">No tiene nombres de las editoriales toocreate adelantado, pero deben coincidir con los token de SAS hello usa al publicar un evento, identidades de publicador independientes tooensure de orden.</span><span class="sxs-lookup"><span data-stu-id="e0103-131">You don't have toocreate publisher names ahead of time, but they must match hello SAS token used when publishing an event, in order tooensure independent publisher identities.</span></span> <span data-ttu-id="e0103-132">Al usar las directivas de publicador, Hola **PartitionKey** valor se establece el nombre del publicador toohello.</span><span class="sxs-lookup"><span data-stu-id="e0103-132">When using publisher policies, hello **PartitionKey** value is set toohello publisher name.</span></span> <span data-ttu-id="e0103-133">toowork correctamente, estos valores deben coincidir.</span><span class="sxs-lookup"><span data-stu-id="e0103-133">toowork properly, these values must match.</span></span>

## <a name="capture"></a><span data-ttu-id="e0103-134">Capture</span><span class="sxs-lookup"><span data-stu-id="e0103-134">Capture</span></span>

<span data-ttu-id="e0103-135">[Captura de los centros de eventos](event-hubs-capture-overview.md) permite tooautomatically Hola de captura de transmisión de datos en los centros de eventos y guárdelo tooyour elección de una cuenta de almacenamiento Blob o una cuenta de servicio de lago de datos de Azure.</span><span class="sxs-lookup"><span data-stu-id="e0103-135">[Event Hubs Capture](event-hubs-capture-overview.md) enables you tooautomatically capture hello streaming data in Event Hubs and save it tooyour choice of either a Blob storage account, or an Azure Data Lake Service account.</span></span> <span data-ttu-id="e0103-136">Puede habilitar la captura de hello portal de Azure y especificar un tamaño mínimo y la captura de Hola de tooperform de ventana de tiempo.</span><span class="sxs-lookup"><span data-stu-id="e0103-136">You can enable Capture from hello Azure portal, and specify a minimum size and time window tooperform hello capture.</span></span> <span data-ttu-id="e0103-137">Mediante la captura de los centros de eventos, especificar su propia cuenta de almacenamiento de blobs de Azure y el contenedor o la cuenta de servicio de lago de datos de Azure, que es usado toostore hello los datos capturados.</span><span class="sxs-lookup"><span data-stu-id="e0103-137">Using Event Hubs Capture, you specify your own Azure Blob Storage account and container, or Azure Data Lake Service account, which is used toostore hello captured data.</span></span> <span data-ttu-id="e0103-138">Datos capturados se escriben en formato de Apache Avro Hola.</span><span class="sxs-lookup"><span data-stu-id="e0103-138">Captured data is written in hello Apache Avro format.</span></span>

## <a name="partitions"></a><span data-ttu-id="e0103-139">Particiones</span><span class="sxs-lookup"><span data-stu-id="e0103-139">Partitions</span></span>

<span data-ttu-id="e0103-140">Los concentradores de eventos proporciona el mensaje de transmisión por secuencias a través de un patrón de consumidor con particiones en la que cada consumidor lee únicamente un subconjunto específico, o partición, de transmisión de mensajes de Hola.</span><span class="sxs-lookup"><span data-stu-id="e0103-140">Event Hubs provides message streaming through a partitioned consumer pattern in which each consumer only reads a specific subset, or partition, of hello message stream.</span></span> <span data-ttu-id="e0103-141">Este patrón permite un escalado horizontal para el procesamiento de eventos y ofrece otras características centradas en los flujos que no están disponibles en las colas y los temas.</span><span class="sxs-lookup"><span data-stu-id="e0103-141">This pattern enables horizontal scale for event processing and provides other stream-focused features that are unavailable in queues and topics.</span></span>

<span data-ttu-id="e0103-142">Una partición es una secuencia ordenada de eventos que se mantiene en un centro de eventos.</span><span class="sxs-lookup"><span data-stu-id="e0103-142">A partition is an ordered sequence of events that is held in an event hub.</span></span> <span data-ttu-id="e0103-143">Cuando llegan los eventos más recientes, se agregan toohello final de esta secuencia.</span><span class="sxs-lookup"><span data-stu-id="e0103-143">As newer events arrive, they are added toohello end of this sequence.</span></span> <span data-ttu-id="e0103-144">Una partición puede considerarse como un "registro de confirmación".</span><span class="sxs-lookup"><span data-stu-id="e0103-144">A partition can be thought of as a "commit log."</span></span>

![Centros de eventos](./media/event-hubs-features/partition.png)

<span data-ttu-id="e0103-146">Los concentradores de eventos conserva los datos durante un tiempo de retención configurado que se aplica a través de todas las particiones de concentrador de eventos de Hola.</span><span class="sxs-lookup"><span data-stu-id="e0103-146">Event Hubs retains data for a configured retention time that applies across all partitions in hello event hub.</span></span> <span data-ttu-id="e0103-147">Los eventos expiran en función del tiempo; no se pueden eliminar explícitamente.</span><span class="sxs-lookup"><span data-stu-id="e0103-147">Events expire on a time basis; you cannot explicitly delete them.</span></span> <span data-ttu-id="e0103-148">Dado que las particiones son independientes y contienen sus propias secuencias de datos, a menudo crecen a velocidades diferentes.</span><span class="sxs-lookup"><span data-stu-id="e0103-148">Because partitions are independent and contain their own sequence of data, they often grow at different rates.</span></span>

![Centros de eventos](./media/event-hubs-features/multiple_partitions.png)

<span data-ttu-id="e0103-150">número de Hola de particiones se especifica durante la creación y debe estar entre 2 y 32.</span><span class="sxs-lookup"><span data-stu-id="e0103-150">hello number of partitions is specified at creation and must be between 2 and 32.</span></span> <span data-ttu-id="e0103-151">recuento de particiones de Hello no es modificable, por lo que al establecer el recuento de particiones, debe considerar escala a largo plazo.</span><span class="sxs-lookup"><span data-stu-id="e0103-151">hello partition count is not changeable, so you should consider long-term scale when setting partition count.</span></span> <span data-ttu-id="e0103-152">Las particiones son un mecanismo de organización de datos que está relacionada con toohello paralelismo descendente necesario en el consumo de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="e0103-152">Partitions are a data organization mechanism that relates toohello downstream parallelism required in consuming applications.</span></span> <span data-ttu-id="e0103-153">Hello número de particiones en un centro de eventos directamente relaciona toohello número de lectores simultáneos que espera toohave.</span><span class="sxs-lookup"><span data-stu-id="e0103-153">hello number of partitions in an event hub directly relates toohello number of concurrent readers you expect toohave.</span></span> <span data-ttu-id="e0103-154">Puede aumentar el número de Hola de particiones más allá de 32 por ponerse en contacto con el equipo de los centros de eventos de Hola.</span><span class="sxs-lookup"><span data-stu-id="e0103-154">You can increase hello number of partitions beyond 32 by contacting hello Event Hubs team.</span></span>

<span data-ttu-id="e0103-155">Mientras que las particiones sean identificables y se pueden enviar toodirectly, no se recomienda enviar directamente tooa partición.</span><span class="sxs-lookup"><span data-stu-id="e0103-155">While partitions are identifiable and can be sent toodirectly, sending directly tooa partition is not recommended.</span></span> <span data-ttu-id="e0103-156">En su lugar, puede utilizar construcciones de nivel superior que se introdujo en hello [publicador de eventos](#event-publishers) y [capacidad](#capacity) secciones.</span><span class="sxs-lookup"><span data-stu-id="e0103-156">Instead, you can use higher level constructs introduced in hello [Event publisher](#event-publishers) and [Capacity](#capacity) sections.</span></span> 

<span data-ttu-id="e0103-157">Las particiones se rellenan con una secuencia de datos de eventos que contiene el cuerpo de Hola de evento de hello, una bolsa de propiedades definidas por el usuario y metadatos, como su desplazamiento en la partición de Hola y su número de secuencia de flujo de Hola.</span><span class="sxs-lookup"><span data-stu-id="e0103-157">Partitions are filled with a sequence of event data which contains hello body of hello event, a user-defined property bag, and metadata such as its offset in hello partition and its number in hello stream sequence.</span></span>

<span data-ttu-id="e0103-158">Para obtener más información acerca de las particiones y equilibrio de hello entre la disponibilidad y confiabilidad, consulte hello [Guía de programación de los centros de eventos](event-hubs-programming-guide.md#partition-key) hello y [disponibilidad y coherencia en los centros de eventos](event-hubs-availability-and-consistency.md) artículo .</span><span class="sxs-lookup"><span data-stu-id="e0103-158">For more information about partitions and hello trade-off between availability and reliability, see hello [Event Hubs programming guide](event-hubs-programming-guide.md#partition-key) and hello [Availability and consistency in Event Hubs](event-hubs-availability-and-consistency.md) article.</span></span>

### <a name="partition-key"></a><span data-ttu-id="e0103-159">Clave de partición</span><span class="sxs-lookup"><span data-stu-id="e0103-159">Partition key</span></span>

<span data-ttu-id="e0103-160">Puede usar un [clave de partición](event-hubs-programming-guide.md#partition-key) toomap de datos de eventos entrantes en particiones específicas para el propósito de Hola de organización de datos.</span><span class="sxs-lookup"><span data-stu-id="e0103-160">You can use a [partition key](event-hubs-programming-guide.md#partition-key) toomap incoming event data into specific partitions for hello purpose of data organization.</span></span> <span data-ttu-id="e0103-161">clave de partición de Hello es un valor proporcionado por el remitente que se pasa a un concentrador de eventos.</span><span class="sxs-lookup"><span data-stu-id="e0103-161">hello partition key is a sender-supplied value passed into an event hub.</span></span> <span data-ttu-id="e0103-162">Se procesa a través de una función hash estática, que crea la asignación de la partición de Hola.</span><span class="sxs-lookup"><span data-stu-id="e0103-162">It is processed through a static hashing function, which creates hello partition assignment.</span></span> <span data-ttu-id="e0103-163">Si no especifica una clave de partición cuando se publica un evento, se usa una asignación de tipo round robin.</span><span class="sxs-lookup"><span data-stu-id="e0103-163">If you don't specify a partition key when publishing an event, a round-robin assignment is used.</span></span>

<span data-ttu-id="e0103-164">publicador de eventos de Hello solo es consciente de su clave de partición, se publican los eventos de Hola Hola no toowhich de la partición.</span><span class="sxs-lookup"><span data-stu-id="e0103-164">hello event publisher is only aware of its partition key, not hello partition toowhich hello events are published.</span></span> <span data-ttu-id="e0103-165">Este desacoplamiento de clave y la partición aísla remitente hello de la necesidad de tooknow demasiado sobre el procesamiento de nivel inferior de Hola.</span><span class="sxs-lookup"><span data-stu-id="e0103-165">This decoupling of key and partition insulates hello sender from needing tooknow too much about hello downstream processing.</span></span> <span data-ttu-id="e0103-166">Un usuario único identidad hace una buena clave de partición, pero otros atributos como geography también pueden ser usado toogroup o por dispositivo eventos relacionados en una sola partición.</span><span class="sxs-lookup"><span data-stu-id="e0103-166">A per-device or user unique identity makes a good partition key, but other attributes such as geography can also be used toogroup related events into a single partition.</span></span>

## <a name="sas-tokens"></a><span data-ttu-id="e0103-167">Tokens de SAS</span><span class="sxs-lookup"><span data-stu-id="e0103-167">SAS tokens</span></span>

<span data-ttu-id="e0103-168">Centros de eventos usan *firmas de acceso compartido*, que están disponibles en nivel de concentrador de espacio de nombres y eventos de Hola.</span><span class="sxs-lookup"><span data-stu-id="e0103-168">Event Hubs uses *Shared Access Signatures*, which are available at hello namespace and event hub level.</span></span> <span data-ttu-id="e0103-169">Un token de SAS se genera a partir de una clave de SAS y es un hash SHA de una dirección URL, codificado en un formato concreto.</span><span class="sxs-lookup"><span data-stu-id="e0103-169">A SAS token is generated from a SAS key and is an SHA hash of a URL, encoded in a specific format.</span></span> <span data-ttu-id="e0103-170">Con nombre Hola de hello clave (directiva) y símbolo (token) de hello, centros de eventos puede volver a generar el hash de Hola y autenticar el remitente de Hola.</span><span class="sxs-lookup"><span data-stu-id="e0103-170">Using hello name of hello key (policy) and hello token, Event Hubs can regenerate hello hash and thus authenticate hello sender.</span></span> <span data-ttu-id="e0103-171">Normalmente, los tokens de SAS para publicadores de eventos se crean solo con privilegios de **envío** en un centro de eventos concreto.</span><span class="sxs-lookup"><span data-stu-id="e0103-171">Normally, SAS tokens for event publishers are created with only **send** privileges on a specific event hub.</span></span> <span data-ttu-id="e0103-172">Este mecanismo de dirección URL de token de SAS es la base de hello para la identificación de publicador introducida en la directiva de edición de Hola.</span><span class="sxs-lookup"><span data-stu-id="e0103-172">This SAS token URL mechanism is hello basis for publisher identification introduced in hello publisher policy.</span></span> <span data-ttu-id="e0103-173">Para más información acerca de cómo trabajar con SAS, consulte [Autenticación con firma de acceso compartido en Service Bus](../service-bus-messaging/service-bus-sas.md).</span><span class="sxs-lookup"><span data-stu-id="e0103-173">For more information about working with SAS, see [Shared Access Signature Authentication with Service Bus](../service-bus-messaging/service-bus-sas.md).</span></span>

## <a name="event-consumers"></a><span data-ttu-id="e0103-174">Consumidores de eventos</span><span class="sxs-lookup"><span data-stu-id="e0103-174">Event consumers</span></span>

<span data-ttu-id="e0103-175">Cualquier entidad que lea datos de eventos de un centro de eventos es un *consumidor de eventos*.</span><span class="sxs-lookup"><span data-stu-id="e0103-175">Any entity that reads event data from an event hub is an *event consumer*.</span></span> <span data-ttu-id="e0103-176">Conectan todos los consumidores de centros de eventos a través de la sesión de AMQP 1.0 de Hola y eventos se entregan a través de la sesión de hello cuando estén disponibles.</span><span class="sxs-lookup"><span data-stu-id="e0103-176">All Event Hubs consumers connect via hello AMQP 1.0 session and events are delivered through hello session as they become available.</span></span> <span data-ttu-id="e0103-177">Hola cliente no necesita toopoll para disponibilidad de los datos.</span><span class="sxs-lookup"><span data-stu-id="e0103-177">hello client does not need toopoll for data availability.</span></span>

### <a name="consumer-groups"></a><span data-ttu-id="e0103-178">Grupos de consumidores</span><span class="sxs-lookup"><span data-stu-id="e0103-178">Consumer groups</span></span>

<span data-ttu-id="e0103-179">se habilitó el mecanismo de publicación/suscripción de Hola de centros de eventos a través de *grupos de consumidores*.</span><span class="sxs-lookup"><span data-stu-id="e0103-179">hello publish/subscribe mechanism of Event Hubs is enabled through *consumer groups*.</span></span> <span data-ttu-id="e0103-180">Un grupo de consumidores es una vista (estado, posición o desplazamiento) de un centro de eventos completo.</span><span class="sxs-lookup"><span data-stu-id="e0103-180">A consumer group is a view (state, position, or offset) of an entire event hub.</span></span> <span data-ttu-id="e0103-181">Grupos de consumidores habilitar varias aplicaciones de consumo tooeach con sus propios desplazamientos y dispone de una vista independiente del flujo de eventos de Hola y flujo de hello tooread independientemente en su propio ritmo.</span><span class="sxs-lookup"><span data-stu-id="e0103-181">Consumer groups enable multiple consuming applications tooeach have a separate view of hello event stream, and tooread hello stream independently at their own pace and with their own offsets.</span></span>

<span data-ttu-id="e0103-182">En un flujo de arquitectura de procesamiento, cada aplicación descendente equivale tooa grupo de consumidores.</span><span class="sxs-lookup"><span data-stu-id="e0103-182">In a stream processing architecture, each downstream application equates tooa consumer group.</span></span> <span data-ttu-id="e0103-183">Si desea que el almacenamiento de término toolong de datos de eventos de toowrite, esa aplicación de sistema de escritura de almacenamiento es un grupo de consumidores.</span><span class="sxs-lookup"><span data-stu-id="e0103-183">If you want toowrite event data toolong-term storage, then that storage writer application is a consumer group.</span></span> <span data-ttu-id="e0103-184">Otro grupo de consumidores independiente puede realizar el procesamiento de eventos complejos.</span><span class="sxs-lookup"><span data-stu-id="e0103-184">Complex event processing can then be performed by another, separate consumer group.</span></span> <span data-ttu-id="e0103-185">Solo puede obtener acceso a las particiones a través de un grupo de consumidores.</span><span class="sxs-lookup"><span data-stu-id="e0103-185">You can only access partitions through a consumer group.</span></span> <span data-ttu-id="e0103-186">Como máximo, puede haber cinco lectores simultáneos en una partición por grupo de consumidores; pero **se recomienda que solo haya un receptor activo en una partición por grupo de consumidores**.</span><span class="sxs-lookup"><span data-stu-id="e0103-186">There can be at most 5 concurrent readers on a partition per consumer group; however **it is recommended that there is only one active receiver on a partition per consumer group**.</span></span> <span data-ttu-id="e0103-187">Siempre hay un grupo de consumidores predeterminado en un centro de eventos y puede crear los grupos de consumidores de too20 para un concentrador de eventos de nivel estándar.</span><span class="sxs-lookup"><span data-stu-id="e0103-187">There is always a default consumer group in an event hub, and you can create up too20 consumer groups for a Standard tier event hub.</span></span>

<span data-ttu-id="e0103-188">siguiente Hola es ejemplos de convención URI del grupo de consumidores de hello:</span><span class="sxs-lookup"><span data-stu-id="e0103-188">hello following are examples of hello consumer group URI convention:</span></span>

```http
//[my namespace].servicebus.windows.net/[event hub name]/[Consumer Group #1]
//[my namespace].servicebus.windows.net/[event hub name]/[Consumer Group #2]
```

<span data-ttu-id="e0103-189">Hello en la ilustración siguiente se muestra arquitectura de procesamiento de flujo de hello centros de eventos:</span><span class="sxs-lookup"><span data-stu-id="e0103-189">hello following figure shows hello Event Hubs stream processing architecture:</span></span>

![Centros de eventos](./media/event-hubs-features/event_hubs_architecture.png)

### <a name="stream-offsets"></a><span data-ttu-id="e0103-191">Desplazamientos de los flujos</span><span class="sxs-lookup"><span data-stu-id="e0103-191">Stream offsets</span></span>

<span data-ttu-id="e0103-192">Un *desplazamiento* es Hola posición de un evento dentro de una partición.</span><span class="sxs-lookup"><span data-stu-id="e0103-192">An *offset* is hello position of an event within a partition.</span></span> <span data-ttu-id="e0103-193">Puede pensar en un desplazamiento como un cursor de lado cliente.</span><span class="sxs-lookup"><span data-stu-id="e0103-193">You can think of an offset as a client-side cursor.</span></span> <span data-ttu-id="e0103-194">desplazamiento Hello es un byte numeración de evento Hola.</span><span class="sxs-lookup"><span data-stu-id="e0103-194">hello offset is a byte numbering of hello event.</span></span> <span data-ttu-id="e0103-195">Este desplazamiento permite un toospecify de consumidor (lector) un punto en el flujo de eventos de Hola desde el que desean toobegin leer los eventos de eventos.</span><span class="sxs-lookup"><span data-stu-id="e0103-195">This offset enables an event consumer (reader) toospecify a point in hello event stream from which they want toobegin reading events.</span></span> <span data-ttu-id="e0103-196">Puede especificar el desplazamiento de hello como una marca de tiempo o como un valor de desplazamiento.</span><span class="sxs-lookup"><span data-stu-id="e0103-196">You can specify hello offset as a timestamp or as an offset value.</span></span> <span data-ttu-id="e0103-197">Los consumidores son responsables de almacenar sus propios valores de desplazamiento fuera Hola servicio de centros de eventos.</span><span class="sxs-lookup"><span data-stu-id="e0103-197">Consumers are responsible for storing their own offset values outside of hello Event Hubs service.</span></span> <span data-ttu-id="e0103-198">Dentro de una partición, cada evento incluye un desplazamiento.</span><span class="sxs-lookup"><span data-stu-id="e0103-198">Within a partition, each event includes an offset.</span></span>

![Centros de eventos](./media/event-hubs-features/partition_offset.png)

### <a name="checkpointing"></a><span data-ttu-id="e0103-200">Puntos de control</span><span class="sxs-lookup"><span data-stu-id="e0103-200">Checkpointing</span></span>

<span data-ttu-id="e0103-201">*Puntos de control* es un proceso en el que los lectores marcan o confirman su posición dentro de la secuencia de eventos de una partición.</span><span class="sxs-lookup"><span data-stu-id="e0103-201">*Checkpointing* is a process by which readers mark or commit their position within a partition event sequence.</span></span> <span data-ttu-id="e0103-202">Puntos de comprobación es responsabilidad de hello del consumidor de Hola y se produce de forma por partición dentro de un grupo de consumidores.</span><span class="sxs-lookup"><span data-stu-id="e0103-202">Checkpointing is hello responsibility of hello consumer and occurs on a per-partition basis within a consumer group.</span></span> <span data-ttu-id="e0103-203">Esta responsabilidad significa que para cada grupo de consumidores, cada lector de partición debe realizar un seguimiento de su posición actual en la secuencia de eventos de hello y puede informar a servicio de hello cuando considera que el flujo de datos de hello ha completado.</span><span class="sxs-lookup"><span data-stu-id="e0103-203">This responsibility means that for each consumer group, each partition reader must keep track of its current position in hello event stream, and can inform hello service when it considers hello data stream complete.</span></span>

<span data-ttu-id="e0103-204">Si se desconecta un lector de una partición, cuando se vuelve a conectar comienza a leer en el punto de control de Hola que se envió anteriormente por hello último lector de esa partición en ese grupo de consumidores.</span><span class="sxs-lookup"><span data-stu-id="e0103-204">If a reader disconnects from a partition, when it reconnects it begins reading at hello checkpoint that was previously submitted by hello last reader of that partition in that consumer group.</span></span> <span data-ttu-id="e0103-205">Cuando se conecta el lector de hello, pasa esta ubicación de desplazamiento toohello evento concentrador toospecify hello en qué lectura toostart.</span><span class="sxs-lookup"><span data-stu-id="e0103-205">When hello reader connects, it passes this offset toohello event hub toospecify hello location at which toostart reading.</span></span> <span data-ttu-id="e0103-206">De esta manera, puede usar tooboth Marcar eventos de puntos de comprobación como "completar" por aplicaciones descendentes y se produce la resistencia de tooprovide si una conmutación por error entre lectores que se ejecutan en equipos diferentes.</span><span class="sxs-lookup"><span data-stu-id="e0103-206">In this way, you can use checkpointing tooboth mark events as "complete" by downstream applications, and tooprovide resiliency if a failover between readers running on different machines occurs.</span></span> <span data-ttu-id="e0103-207">Es posible tooreturn tooolder datos especificando un desplazamiento inferior desde este proceso de puntos de comprobación.</span><span class="sxs-lookup"><span data-stu-id="e0103-207">It is possible tooreturn tooolder data by specifying a lower offset from this checkpointing process.</span></span> <span data-ttu-id="e0103-208">Mediante este mecanismo, los puntos de comprobación permiten una resistencia a la conmutación por error y una reproducción del flujo de eventos.</span><span class="sxs-lookup"><span data-stu-id="e0103-208">Through this mechanism, checkpointing enables both failover resiliency and event stream replay.</span></span>

### <a name="common-consumer-tasks"></a><span data-ttu-id="e0103-209">Tareas comunes del consumidor</span><span class="sxs-lookup"><span data-stu-id="e0103-209">Common consumer tasks</span></span>

<span data-ttu-id="e0103-210">Todos los consumidores de Event Hubs se conectan a través de una sesión de AMQP 1.0, un canal de comunicación bidireccional con estado.</span><span class="sxs-lookup"><span data-stu-id="e0103-210">All Event Hubs consumers connect via an AMQP 1.0 session, a state-aware bidirectional communication channel.</span></span> <span data-ttu-id="e0103-211">Cada partición tiene una sesión de AMQP 1.0 que facilita el transporte de Hola de eventos separados por partición.</span><span class="sxs-lookup"><span data-stu-id="e0103-211">Each partition has an AMQP 1.0 session that facilitates hello transport of events segregated by partition.</span></span>

#### <a name="connect-tooa-partition"></a><span data-ttu-id="e0103-212">Conectar tooa partición</span><span class="sxs-lookup"><span data-stu-id="e0103-212">Connect tooa partition</span></span>

<span data-ttu-id="e0103-213">Cuando se conecte toopartitions, es común toouse práctica una concesión de particiones de mecanismo toocoordinate lector conexiones toospecific.</span><span class="sxs-lookup"><span data-stu-id="e0103-213">When connecting toopartitions, it is common practice toouse a leasing mechanism toocoordinate reader connections toospecific partitions.</span></span> <span data-ttu-id="e0103-214">De esta manera, es posible que cada partición de un consumidor grupo toohave solo un lector activo.</span><span class="sxs-lookup"><span data-stu-id="e0103-214">This way, it is possible for every partition in a consumer group toohave only one active reader.</span></span> <span data-ttu-id="e0103-215">Puntos de comprobación, leasing y administrar los lectores se simplifican mediante el uso de hello [EventProcessorHost](/dotnet/api/microsoft.servicebus.messaging.eventprocessorhost) clase para clientes de. NET.</span><span class="sxs-lookup"><span data-stu-id="e0103-215">Checkpointing, leasing, and managing readers are simplified by using hello [EventProcessorHost](/dotnet/api/microsoft.servicebus.messaging.eventprocessorhost) class for .NET clients.</span></span> <span data-ttu-id="e0103-216">Hola Host procesador de eventos es un agente de consumidor inteligente.</span><span class="sxs-lookup"><span data-stu-id="e0103-216">hello Event Processor Host is an intelligent consumer agent.</span></span>

#### <a name="read-events"></a><span data-ttu-id="e0103-217">Lectura de eventos</span><span class="sxs-lookup"><span data-stu-id="e0103-217">Read events</span></span>

<span data-ttu-id="e0103-218">Después de abrir una sesión de AMQP 1.0 y el vínculo de una partición específica, los eventos se entregan a cliente toohello AMQP 1.0 por hello servicio de centros de eventos.</span><span class="sxs-lookup"><span data-stu-id="e0103-218">After an AMQP 1.0 session and link is opened for a specific partition, events are delivered toohello AMQP 1.0 client by hello Event Hubs service.</span></span> <span data-ttu-id="e0103-219">Este mecanismo de entrega permite un mayor procesamiento y una menor latencia que los mecanismos basados en extracción como HTTP GET.</span><span class="sxs-lookup"><span data-stu-id="e0103-219">This delivery mechanism enables higher throughput and lower latency than pull-based mechanisms such as HTTP GET.</span></span> <span data-ttu-id="e0103-220">Tal y como se envían eventos de cliente de toohello, cada instancia de datos de evento contiene metadatos importantes como el número de secuencia y desplazamiento de Hola que son puntos de comprobación toofacilitate usado en la secuencia de eventos de Hola.</span><span class="sxs-lookup"><span data-stu-id="e0103-220">As events are sent toohello client, each event data instance contains important metadata such as hello offset and sequence number that are used toofacilitate checkpointing on hello event sequence.</span></span>

<span data-ttu-id="e0103-221">Datos de evento:</span><span class="sxs-lookup"><span data-stu-id="e0103-221">Event data:</span></span>
* <span data-ttu-id="e0103-222">Offset</span><span class="sxs-lookup"><span data-stu-id="e0103-222">Offset</span></span>
* <span data-ttu-id="e0103-223">Número de secuencia</span><span class="sxs-lookup"><span data-stu-id="e0103-223">Sequence number</span></span>
* <span data-ttu-id="e0103-224">Cuerpo</span><span class="sxs-lookup"><span data-stu-id="e0103-224">Body</span></span>
* <span data-ttu-id="e0103-225">Propiedades de usuario</span><span class="sxs-lookup"><span data-stu-id="e0103-225">User properties</span></span>
* <span data-ttu-id="e0103-226">Propiedades del sistema</span><span class="sxs-lookup"><span data-stu-id="e0103-226">System properties</span></span>

<span data-ttu-id="e0103-227">Es el desplazamiento de responsabilidad toomanage Hola.</span><span class="sxs-lookup"><span data-stu-id="e0103-227">It is your responsibility toomanage hello offset.</span></span>

## <a name="capacity"></a><span data-ttu-id="e0103-228">Capacity</span><span class="sxs-lookup"><span data-stu-id="e0103-228">Capacity</span></span>

<span data-ttu-id="e0103-229">Los concentradores de eventos tiene una arquitectura paralela altamente escalable y hay varios tooconsider de factores clave al calcular el tamaño y escala.</span><span class="sxs-lookup"><span data-stu-id="e0103-229">Event Hubs has a highly scalable parallel architecture and there are several key factors tooconsider when sizing and scaling.</span></span>

### <a name="throughput-units"></a><span data-ttu-id="e0103-230">Unidades de procesamiento</span><span class="sxs-lookup"><span data-stu-id="e0103-230">Throughput units</span></span>

<span data-ttu-id="e0103-231">capacidad de rendimiento de Hola de centros de eventos se controla mediante *unidades de rendimiento*.</span><span class="sxs-lookup"><span data-stu-id="e0103-231">hello throughput capacity of Event Hubs is controlled by *throughput units*.</span></span> <span data-ttu-id="e0103-232">Las unidades de procesamiento son unidades de capacidad adquiridas previamente.</span><span class="sxs-lookup"><span data-stu-id="e0103-232">Throughput units are pre-purchased units of capacity.</span></span> <span data-ttu-id="e0103-233">Una unidad de rendimiento única incluye Hola después de capacidad:</span><span class="sxs-lookup"><span data-stu-id="e0103-233">A single throughput unit includes hello following capacity:</span></span>

* <span data-ttu-id="e0103-234">Entrada: una too1 MB por segundo o 1.000 eventos por segundo (lo que ocurra primero)</span><span class="sxs-lookup"><span data-stu-id="e0103-234">Ingress: Up too1 MB per second or 1000 events per second (whichever comes first)</span></span>
* <span data-ttu-id="e0103-235">Salida: una too2 MB por segundo</span><span class="sxs-lookup"><span data-stu-id="e0103-235">Egress: Up too2 MB per second</span></span>

<span data-ttu-id="e0103-236">Más allá de la capacidad de Hola de hello adquirida unidades de rendimiento, la entrada está limitada y un [ServerBusyException](/dotnet/api/microsoft.servicebus.messaging.serverbusyexception) se devuelve.</span><span class="sxs-lookup"><span data-stu-id="e0103-236">Beyond hello capacity of hello purchased throughput units, ingress is throttled and a [ServerBusyException](/dotnet/api/microsoft.servicebus.messaging.serverbusyexception) is returned.</span></span> <span data-ttu-id="e0103-237">Salida no produce excepciones de limitación, pero es toohello estando limitada capacidad de hello adquirida unidades de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="e0103-237">Egress does not produce throttling exceptions, but is still limited toohello capacity of hello purchased throughput units.</span></span> <span data-ttu-id="e0103-238">Si recibe excepciones de tasas de publicación o esperan toosee una salida más elevada, ser seguro toocheck cuántas unidades de rendimiento ha adquirido para el espacio de nombres de Hola.</span><span class="sxs-lookup"><span data-stu-id="e0103-238">If you receive publishing rate exceptions or are expecting toosee higher egress, be sure toocheck how many throughput units you have purchased for hello namespace.</span></span> <span data-ttu-id="e0103-239">Puede administrar unidades de rendimiento en hello **escala** hoja de espacios de nombres de Hola Hola [portal de Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="e0103-239">You can manage throughput units on hello **Scale** blade of hello namespaces in hello [Azure portal](https://portal.azure.com).</span></span> <span data-ttu-id="e0103-240">También puede administrar unidades de rendimiento mediante programación con hello [API de concentradores de eventos](event-hubs-api-overview.md).</span><span class="sxs-lookup"><span data-stu-id="e0103-240">You can also manage throughput units programmatically using hello [Event Hubs APIs](event-hubs-api-overview.md).</span></span>

<span data-ttu-id="e0103-241">Las unidades de procesamiento se facturan por hora y se adquieren previamente.</span><span class="sxs-lookup"><span data-stu-id="e0103-241">Throughput units are billed per hour and are pre-purchased.</span></span> <span data-ttu-id="e0103-242">Cuando se adquieren, las unidades de procesamiento se facturan durante un período mínimo de una hora.</span><span class="sxs-lookup"><span data-stu-id="e0103-242">Once purchased, throughput units are billed for a minimum of one hour.</span></span> <span data-ttu-id="e0103-243">Seguridad too20 unidades de rendimiento se pueden adquirir para un espacio de nombres de los centros de eventos y se comparten entre todos los concentradores de eventos en el espacio de nombres de Hola.</span><span class="sxs-lookup"><span data-stu-id="e0103-243">Up too20 throughput units can be purchased for an Event Hubs namespace and are shared across all Event Hubs in hello namespace.</span></span>

<span data-ttu-id="e0103-244">Pueden adquirir más unidades de rendimiento en bloques de 20 unidades de rendimiento de too100, póngase en contacto con soporte técnico de Azure.</span><span class="sxs-lookup"><span data-stu-id="e0103-244">More throughput units can be purchased in blocks of 20, up too100 throughput units, by contacting Azure support.</span></span> <span data-ttu-id="e0103-245">A partir de ahí, también puede adquirir bloques de 100 unidades de procesamiento.</span><span class="sxs-lookup"><span data-stu-id="e0103-245">Beyond that, you can also purchase blocks of 100 throughput units.</span></span>

<span data-ttu-id="e0103-246">Se recomienda que un equilibrio entre rendimiento particiones y unidades tooachieve escala óptima.</span><span class="sxs-lookup"><span data-stu-id="e0103-246">We recommend that you balance throughput units and partitions tooachieve optimal scale.</span></span> <span data-ttu-id="e0103-247">Una sola partición tiene una escala máxima de una unidad de procesamiento.</span><span class="sxs-lookup"><span data-stu-id="e0103-247">A single partition has a maximum scale of one throughput unit.</span></span> <span data-ttu-id="e0103-248">Hello número de unidades de rendimiento debe ser menor o igual toohello número de particiones en un centro de eventos.</span><span class="sxs-lookup"><span data-stu-id="e0103-248">hello number of throughput units should be less than or equal toohello number of partitions in an event hub.</span></span>

<span data-ttu-id="e0103-249">Para obtener información detallada sobre los precios de Event Hubs, consulte [Precios de Event Hubs](https://azure.microsoft.com/pricing/details/event-hubs/).</span><span class="sxs-lookup"><span data-stu-id="e0103-249">For detailed Event Hubs pricing information, see [Event Hubs pricing](https://azure.microsoft.com/pricing/details/event-hubs/).</span></span>

## <a name="next-steps"></a><span data-ttu-id="e0103-250">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="e0103-250">Next steps</span></span>

<span data-ttu-id="e0103-251">Para obtener más información acerca de los centros de eventos, visite Hola siguientes vínculos:</span><span class="sxs-lookup"><span data-stu-id="e0103-251">For more information about Event Hubs, visit hello following links:</span></span>

* <span data-ttu-id="e0103-252">Empezar a trabajar con un [tutorial de Event Hubs][Event Hubs tutorial]</span><span class="sxs-lookup"><span data-stu-id="e0103-252">Get started with an [Event Hubs tutorial][Event Hubs tutorial]</span></span>
* [<span data-ttu-id="e0103-253">Guía de programación de Event Hubs</span><span class="sxs-lookup"><span data-stu-id="e0103-253">Event Hubs programming guide</span></span>](event-hubs-programming-guide.md)
* [<span data-ttu-id="e0103-254">Disponibilidad y coherencia en Event Hubs</span><span class="sxs-lookup"><span data-stu-id="e0103-254">Availability and consistency in Event Hubs</span></span>](event-hubs-availability-and-consistency.md)
* [<span data-ttu-id="e0103-255">Preguntas más frecuentes sobre Event Hubs</span><span class="sxs-lookup"><span data-stu-id="e0103-255">Event Hubs FAQ</span></span>](event-hubs-faq.md)
* <span data-ttu-id="e0103-256">[Ejemplos de Event Hubs][]</span><span class="sxs-lookup"><span data-stu-id="e0103-256">[Event Hubs samples][]</span></span>

[Event Hubs tutorial]: event-hubs-dotnet-standard-getstarted-send.md
[Ejemplos de Event Hubs]: https://github.com/Azure/azure-event-hubs/tree/master/samples
