---
title: compatibilidad con recursos compartidos (CORS) de recursos de origen aaaCross | Documentos de Microsoft
description: "Obtenga información acerca de cómo tooenable compatibilidad con CORS para hello servicios de almacenamiento de Microsoft Azure."
services: storage
documentationcenter: .net
author: cbrooksmsft
manager: carmonm
editor: tysonn
ms.assetid: a0229595-5b64-4898-b8d6-fa2625ea6887
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 2/22/2017
ms.author: cbrooks
ms.openlocfilehash: 0a6ec3bf6999c5faa7f0912dc2a47921aa01d3d4
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="cross-origin-resource-sharing-cors-support-for-hello-azure-storage-services"></a><span data-ttu-id="3a2c3-103">Compatibilidad de uso compartido de recursos entre orígenes (CORS) para hello servicios de almacenamiento de Azure</span><span class="sxs-lookup"><span data-stu-id="3a2c3-103">Cross-Origin Resource Sharing (CORS) Support for hello Azure Storage Services</span></span>
<span data-ttu-id="3a2c3-104">A partir de la versión 2013-08-15, servicios de almacenamiento de Azure de Hola admiten uso compartido de recursos entre orígenes (CORS) para servicios de Blob, tabla, cola y archivo de Hola.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-104">Beginning with version 2013-08-15, hello Azure storage services support Cross-Origin Resource Sharing (CORS) for hello Blob, Table, Queue, and File services.</span></span> <span data-ttu-id="3a2c3-105">CORS es una característica HTTP que permite que una aplicación web que se ejecuta en uno de los recursos de tooaccess de dominio en otro dominio.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-105">CORS is an HTTP feature that enables a web application running under one domain tooaccess resources in another domain.</span></span> <span data-ttu-id="3a2c3-106">Los exploradores Web implementan una restricción de seguridad que se conoce como [directiva de mismo origen](http://www.w3.org/Security/wiki/Same_Origin_Policy) que evita que una página web que realiza la llamada API en un dominio diferente; CORS proporciona un toocall de forma segura tooallow un dominio (dominio de origen de hello) API en otro dominio.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-106">Web browsers implement a security restriction known as [same-origin policy](http://www.w3.org/Security/wiki/Same_Origin_Policy) that prevents a web page from calling APIs in a different domain; CORS provides a secure way tooallow one domain (hello origin domain) toocall APIs in another domain.</span></span> <span data-ttu-id="3a2c3-107">Vea hello [especificación CORS](http://www.w3.org/TR/cors/) para obtener detalles sobre CORS.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-107">See hello [CORS specification](http://www.w3.org/TR/cors/) for details on CORS.</span></span>

<span data-ttu-id="3a2c3-108">Puede establecer reglas de CORS individualmente para cada uno de hello servicios de almacenamiento, mediante una llamada a [Set Blob Service Properties](https://msdn.microsoft.com/library/hh452235.aspx), [establecer propiedades del servicio cola](https://msdn.microsoft.com/library/hh452232.aspx), y [establecer propiedades del servicio tabla](https://msdn.microsoft.com/library/hh452240.aspx).</span><span class="sxs-lookup"><span data-stu-id="3a2c3-108">You can set CORS rules individually for each of hello storage services, by calling [Set Blob Service Properties](https://msdn.microsoft.com/library/hh452235.aspx), [Set Queue Service Properties](https://msdn.microsoft.com/library/hh452232.aspx), and [Set Table Service Properties](https://msdn.microsoft.com/library/hh452240.aspx).</span></span> <span data-ttu-id="3a2c3-109">Una vez establecidas las reglas de CORS de hello para el servicio de hello, una solicitud autenticada correctamente realizada en el servicio de Hola desde un dominio diferente será evaluada toodetermine si se permite según las reglas de toohello que ha especificado.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-109">Once you set hello CORS rules for hello service, then a properly authenticated request made against hello service from a different domain will be evaluated toodetermine whether it is allowed according toohello rules you have specified.</span></span>

> [!NOTE]
> <span data-ttu-id="3a2c3-110">Tenga en cuenta que CORS no es ningún mecanismo de autenticación.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-110">Note that CORS is not an authentication mechanism.</span></span> <span data-ttu-id="3a2c3-111">Cualquier solicitud realizada en un recurso de almacenamiento cuando se ha habilitado CORS debe tener una firma de autenticación adecuada o bien se debe realizar en un recurso público.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-111">Any request made against a storage resource when CORS is enabled must either have a proper authentication signature, or must be made against a public resource.</span></span>
> 
> 

## <a name="understanding-cors-requests"></a><span data-ttu-id="3a2c3-112">Descripción de las solicitudes de CORS</span><span class="sxs-lookup"><span data-stu-id="3a2c3-112">Understanding CORS requests</span></span>
<span data-ttu-id="3a2c3-113">Una solicitud de CORS de un dominio de origen puede estar formada por dos solicitudes diferentes:</span><span class="sxs-lookup"><span data-stu-id="3a2c3-113">A CORS request from an origin domain may consist of two separate requests:</span></span>

* <span data-ttu-id="3a2c3-114">Una solicitud preparatoria, que consulta las restricciones de CORS de hello impuestas por servicio Hola.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-114">A preflight request, which queries hello CORS restrictions imposed by hello service.</span></span> <span data-ttu-id="3a2c3-115">solicitud preparatoria Hello es necesario a menos que sea el método de solicitud de hello un [método simple](http://www.w3.org/TR/cors/), lo que significa GET, HEAD o POST.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-115">hello preflight request is required unless hello request method is a [simple method](http://www.w3.org/TR/cors/), meaning GET, HEAD, or POST.</span></span>
* <span data-ttu-id="3a2c3-116">Hola solicitud real, realizada en un recurso de hello deseado.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-116">hello actual request, made against hello desired resource.</span></span>

### <a name="preflight-request"></a><span data-ttu-id="3a2c3-117">Solicitud preparatoria</span><span class="sxs-lookup"><span data-stu-id="3a2c3-117">Preflight request</span></span>
<span data-ttu-id="3a2c3-118">las consultas de solicitud preparatoria de Hola Hola restricciones de CORS que se han establecido por el propietario de la cuenta de hello para el servicio de almacenamiento de Hola.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-118">hello preflight request queries hello CORS restrictions that have been established for hello storage service by hello account owner.</span></span> <span data-ttu-id="3a2c3-119">Explorador de web de Hello (u otro agente de usuario) envía una solicitud OPTIONS que incluye los encabezados de solicitud de hello, dominio de origen y de método.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-119">hello web browser (or other user agent) sends an OPTIONS request that includes hello request headers, method and origin domain.</span></span> <span data-ttu-id="3a2c3-120">servicio de almacenamiento de Hello evalúa operación Hola diseñado basándose en un conjunto preconfigurado de reglas de CORS que especifican qué dominios de origen, métodos de respuesta y encabezados de solicitud se pueden especificar en una solicitud real para un recurso de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-120">hello storage service evaluates hello intended operation based on a pre-configured set of CORS rules that specify which origin domains, request methods, and request headers may be specified on an actual request against a storage resource.</span></span>

<span data-ttu-id="3a2c3-121">Si se ha habilitado CORS para el servicio de Hola y hay una regla de CORS que coincida con la solicitud preparatoria de hello, servicio de hello responde con el código de estado 200 (OK) e incluye encabezados de Control de acceso de hello necesario en respuesta Hola.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-121">If CORS is enabled for hello service and there is a CORS rule that matches hello preflight request, hello service responds with status code 200 (OK), and includes hello required Access-Control headers in hello response.</span></span>

<span data-ttu-id="3a2c3-122">Si no se ha habilitado CORS para el servicio de Hola o no hay ninguna regla CORS coincide con la solicitud preparatoria de hello, servicio de hello responderá con el código de estado 403 (prohibido).</span><span class="sxs-lookup"><span data-stu-id="3a2c3-122">If CORS is not enabled for hello service or no CORS rule matches hello preflight request, hello service will respond with status code 403 (Forbidden).</span></span>

<span data-ttu-id="3a2c3-123">Si no contiene la solicitud OPTIONS de Hola Hola encabezados CORS necesarios (Hola origen y encabezados de acceso-Access-Control-Request-Method), servicio de hello responderá con el código de estado 400 (solicitud incorrecta).</span><span class="sxs-lookup"><span data-stu-id="3a2c3-123">If hello OPTIONS request doesn't contain hello required CORS headers (hello Origin and Access-Control-Request-Method headers), hello service will respond with status code 400 (Bad request).</span></span>

<span data-ttu-id="3a2c3-124">Tenga en cuenta que una solicitud preparatoria se evalúa con el servicio de hello (Blob, cola y tabla) y no con hello recurso solicitado.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-124">Note that a preflight request is evaluated against hello service (Blob, Queue, and Table) and not against hello requested resource.</span></span> <span data-ttu-id="3a2c3-125">propietario de la cuenta de Hello debe haber habilitado CORS como parte de las propiedades de servicio de la cuenta de hello en orden para hello solicitud toosucceed.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-125">hello account owner must have enabled CORS as part of hello account service properties in order for hello request toosucceed.</span></span>

### <a name="actual-request"></a><span data-ttu-id="3a2c3-126">Solicitud real</span><span class="sxs-lookup"><span data-stu-id="3a2c3-126">Actual request</span></span>
<span data-ttu-id="3a2c3-127">Una vez que se aceptó la solicitud preparatoria de Hola y se devuelve la respuesta de hello, Explorador de hello enviará la solicitud real de hello en un recurso de almacenamiento de Hola.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-127">Once hello preflight request is accepted and hello response is returned, hello browser will dispatch hello actual request against hello storage resource.</span></span> <span data-ttu-id="3a2c3-128">Explorador de Hello denegará la solicitud real Hola inmediatamente si hello se rechaza la solicitud preparatoria.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-128">hello browser will deny hello actual request immediately if hello preflight request is rejected.</span></span>

<span data-ttu-id="3a2c3-129">solicitud real Hola se trata como una solicitud normal en el servicio de almacenamiento de Hola.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-129">hello actual request is treated as normal request against hello storage service.</span></span> <span data-ttu-id="3a2c3-130">presencia de Hola de encabezado Origin de Hola indica que hello es una solicitud CORS y servicio de hello comprobará hello CORS reglas de coincidencia.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-130">hello presence of hello Origin header indicates that hello request is a CORS request and hello service will check hello matching CORS rules.</span></span> <span data-ttu-id="3a2c3-131">Si se encuentra una coincidencia, encabezados de Control de acceso de hello son toohello agregado respuesta y envían a atrás toohello cliente.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-131">If a match is found, hello Access-Control headers are added toohello response and sent back toohello client.</span></span> <span data-ttu-id="3a2c3-132">Si no se encuentra una coincidencia, no se devuelven los encabezados de Control de acceso de CORS Hola.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-132">If a match is not found, hello CORS Access-Control headers are not returned.</span></span>

## <a name="enabling-cors-for-hello-azure-storage-services"></a><span data-ttu-id="3a2c3-133">Habilitar CORS para servicios de almacenamiento de Azure Hola</span><span class="sxs-lookup"><span data-stu-id="3a2c3-133">Enabling CORS for hello Azure Storage services</span></span>
<span data-ttu-id="3a2c3-134">Reglas de CORS se establecen en el nivel de servicio de hello, por lo que necesita tooenable o deshabilita CORS para cada servicio (Blob, cola y tabla) por separado.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-134">CORS rules are set at hello service level, so you need tooenable or disable CORS for each service (Blob, Queue and Table) separately.</span></span> <span data-ttu-id="3a2c3-135">De forma predeterminada, CORS está deshabilitado para todos los servicios.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-135">By default, CORS is disabled for each service.</span></span> <span data-ttu-id="3a2c3-136">tooenable CORS, necesita propiedades del servicio correspondiente hello tooset con la versión 2013-08-15 o posterior y agregar reglas de CORS toohello propiedades del servicio.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-136">tooenable CORS, you need tooset hello appropriate service properties using version 2013-08-15 or later, and add CORS rules toohello service properties.</span></span> <span data-ttu-id="3a2c3-137">Para obtener más información acerca de cómo tooenable o deshabilitar CORS para un servicio y cómo las reglas tooset CORS, por favor, consulte demasiado[Set Blob Service Properties](https://msdn.microsoft.com/library/hh452235.aspx), [establecer propiedades del servicio cola](https://msdn.microsoft.com/library/hh452232.aspx), y [Establecer tabla Propiedades del servicio](https://msdn.microsoft.com/library/hh452240.aspx).</span><span class="sxs-lookup"><span data-stu-id="3a2c3-137">For details about how tooenable or disable CORS for a service and how tooset CORS rules, please refer too[Set Blob Service Properties](https://msdn.microsoft.com/library/hh452235.aspx), [Set Queue Service Properties](https://msdn.microsoft.com/library/hh452232.aspx), and [Set Table Service Properties](https://msdn.microsoft.com/library/hh452240.aspx).</span></span>

<span data-ttu-id="3a2c3-138">A continuación se muestra un ejemplo de una única regla de CORS que se ha especificado mediante una operación Set Service Properties:</span><span class="sxs-lookup"><span data-stu-id="3a2c3-138">Here is a sample of a single CORS rule, specified via a Set Service Properties operation:</span></span>

```xml
<Cors>    
    <CorsRule>
        <AllowedOrigins>http://www.contoso.com, http://www.fabrikam.com</AllowedOrigins>
        <AllowedMethods>PUT,GET</AllowedMethods>
        <AllowedHeaders>x-ms-meta-data*,x-ms-meta-target*,x-ms-meta-abc</AllowedHeaders>
        <ExposedHeaders>x-ms-meta-*</ExposedHeaders>
        <MaxAgeInSeconds>200</MaxAgeInSeconds>
    </CorsRule>
<Cors>
```

<span data-ttu-id="3a2c3-139">Todos los elementos incluidos en la regla de CORS de Hola se describen a continuación:</span><span class="sxs-lookup"><span data-stu-id="3a2c3-139">Each element included in hello CORS rule is described below:</span></span>

* <span data-ttu-id="3a2c3-140">**AllowedOrigins**: dominios de origen de Hola que se permiten toomake una solicitud en el almacenamiento de Hola de servicio a través de CORS.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-140">**AllowedOrigins**: hello origin domains that are permitted toomake a request against hello storage service via CORS.</span></span> <span data-ttu-id="3a2c3-141">Hola origen dominio es Hola desde qué Hola se origina la solicitud.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-141">hello origin domain is hello domain from which hello request originates.</span></span> <span data-ttu-id="3a2c3-142">Tenga en cuenta que el origen de hello debe ser una coincidencia exacta entre mayúsculas y minúsculas con el origen de Hola que el agente de usuario de hello envía toohello servicio.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-142">Note that hello origin must be an exact case-sensitive match with hello origin that hello user age sends toohello service.</span></span> <span data-ttu-id="3a2c3-143">También puede utilizar el carácter comodín de hello ' *' tooallow todas las solicitudes de toomake de dominios de origen a través de CORS.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-143">You can also use hello wildcard character '*' tooallow all origin domains toomake requests via CORS.</span></span> <span data-ttu-id="3a2c3-144">En el ejemplo de Hola anterior, Hola dominios [http://www.contoso.com](http://www.contoso.com) y [http://www.fabrikam.com](http://www.fabrikam.com) pueden realizar solicitudes de servicio de hello mediante CORS.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-144">In hello example above, hello domains [http://www.contoso.com](http://www.contoso.com) and [http://www.fabrikam.com](http://www.fabrikam.com) can make requests against hello service using CORS.</span></span>
* <span data-ttu-id="3a2c3-145">**AllowedMethods**: ese dominio de origen Hola los Hola métodos (verbos de solicitud HTTP) puede usar para una solicitud de CORS.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-145">**AllowedMethods**: hello methods (HTTP request verbs) that hello origin domain may use for a CORS request.</span></span> <span data-ttu-id="3a2c3-146">En el ejemplo de Hola anterior, se permiten que solamente las solicitudes GET y PUT.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-146">In hello example above, only PUT and GET requests are permitted.</span></span>
* <span data-ttu-id="3a2c3-147">**AllowedHeaders**: encabezados de solicitud de Hola que puede especificar ese dominio de origen de hello en solicitud CORS de Hola.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-147">**AllowedHeaders**: hello request headers that hello origin domain may specify on hello CORS request.</span></span> <span data-ttu-id="3a2c3-148">En el ejemplo de Hola anterior, se permiten todos los encabezados de metadatos que empiecen por x-ms-meta-data, x-ms-meta-destino y x-ms-meta-abc.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-148">In hello example above, all metadata headers starting with x-ms-meta-data, x-ms-meta-target, and x-ms-meta-abc are permitted.</span></span> <span data-ttu-id="3a2c3-149">Tenga en cuenta ese carácter comodín de hello ' *' indica que cualquier encabezado que empiece con hello especificado se permite el prefijo.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-149">Note that hello wildcard character '*' indicates that any header beginning with hello specified prefix is allowed.</span></span>
* <span data-ttu-id="3a2c3-150">**ExposedHeaders**: Hola encabezados de respuesta que se pueden enviados en la solicitud de CORS de toohello de respuesta de Hola y expuestos por el emisor de solicitud de hello explorador toohello.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-150">**ExposedHeaders**: hello response headers that may be sent in hello response toohello CORS request and exposed by hello browser toohello request issuer.</span></span> <span data-ttu-id="3a2c3-151">En el ejemplo de Hola anterior, el Explorador de hello es siguiendo las instrucciones tooexpose cualquier encabezado que empiece con x-ms-meta.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-151">In hello example above, hello browser is instructed tooexpose any header beginning with x-ms-meta.</span></span>
* <span data-ttu-id="3a2c3-152">**MaxAgeInSeconds**: Hola máxima cantidad de tiempo que un explorador debe almacenar en caché solicitud preparatoria de opciones de Hola.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-152">**MaxAgeInSeconds**: hello maximum amount time that a browser should cache hello preflight OPTIONS request.</span></span>

<span data-ttu-id="3a2c3-153">Hello servicios de almacenamiento de Azure admiten especificar encabezados con prefijo para ambos hello **AllowedHeaders** y **ExposedHeaders** elementos.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-153">hello Azure storage services support specifying prefixed headers for both hello **AllowedHeaders** and **ExposedHeaders** elements.</span></span> <span data-ttu-id="3a2c3-154">tooallow una categoría de encabezados, puede especificar una categoría de toothat prefijo común.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-154">tooallow a category of headers, you can specify a common prefix toothat category.</span></span> <span data-ttu-id="3a2c3-155">Por ejemplo, si se especifica *x-ms-meta*como un encabezado con prefijo, se establece una regla que coincidirá con todos los encabezados que empiecen por x-ms-meta.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-155">For example, specifying *x-ms-meta** as a prefixed header establishes a rule that will match all headers that begin with x-ms-meta.</span></span>

<span data-ttu-id="3a2c3-156">Hola siguientes limitaciones aplica reglas de tooCORS:</span><span class="sxs-lookup"><span data-stu-id="3a2c3-156">hello following limitations apply tooCORS rules:</span></span>

* <span data-ttu-id="3a2c3-157">Puede especificar una toofive reglas CORS por servicio de almacenamiento (Blob, tabla y cola).</span><span class="sxs-lookup"><span data-stu-id="3a2c3-157">You can specify up toofive CORS rules per storage service (Blob, Table, and Queue).</span></span>
* <span data-ttu-id="3a2c3-158">tamaño máximo de Hola de todas las reglas cors en la solicitud de hello, excluidas las etiquetas XML, no debe superar los 2 KB.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-158">hello maximum size of all CORS rules settings on hello request, excluding XML tags, should not exceed 2 KB.</span></span>
* <span data-ttu-id="3a2c3-159">longitud de Hola de un encabezado permitido, el encabezado expuesto o el origen permitido no debe superar los 256 caracteres.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-159">hello length of an allowed header, exposed header, or allowed origin should not exceed 256 characters.</span></span>
* <span data-ttu-id="3a2c3-160">Los encabezados permitidos y los encabezados expuestos pueden ser:</span><span class="sxs-lookup"><span data-stu-id="3a2c3-160">Allowed headers and exposed headers may be either:</span></span>
  * <span data-ttu-id="3a2c3-161">Encabezados literales, donde se proporciona nombre exacto del encabezado de hello, como **x-ms-meta-processed**.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-161">Literal headers, where hello exact header name is provided, such as **x-ms-meta-processed**.</span></span> <span data-ttu-id="3a2c3-162">Puede especificarse un máximo de 64 encabezados literales en la solicitud de saludo.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-162">A maximum of 64 literal headers may be specified on hello request.</span></span>
  * <span data-ttu-id="3a2c3-163">Encabezados con prefijo, donde se proporciona un prefijo de encabezado de hello, como **x-ms-meta-data***.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-163">Prefixed headers, where a prefix of hello header is provided, such as **x-ms-meta-data***.</span></span> <span data-ttu-id="3a2c3-164">Especificar un prefijo de esta manera se permite o expone cualquier encabezado que comience con hello tiene prefijo.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-164">Specifying a prefix in this manner allows or exposes any header that begins with hello given prefix.</span></span> <span data-ttu-id="3a2c3-165">Un máximo de dos encabezados con prefijo puede especificarse en la solicitud de saludo.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-165">A maximum of two prefixed headers may be specified on hello request.</span></span>
* <span data-ttu-id="3a2c3-166">Hola métodos (o verbos HTTP) especificados en hello **AllowedMethods** deben ajustarse métodos toohello compatibles con las API del servicio de almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-166">hello methods (or HTTP verbs) specified in hello **AllowedMethods** element must conform toohello methods supported by Azure storage service APIs.</span></span> <span data-ttu-id="3a2c3-167">Los métodos admitidos son DELETE, GET, HEAD, MERGE, POST, OPTIONS y PUT.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-167">Supported methods are DELETE, GET, HEAD, MERGE, POST, OPTIONS and PUT.</span></span>

## <a name="understanding-cors-rule-evaluation-logic"></a><span data-ttu-id="3a2c3-168">Descripción de la lógica de evaluación de reglas de CORS</span><span class="sxs-lookup"><span data-stu-id="3a2c3-168">Understanding CORS rule evaluation logic</span></span>
<span data-ttu-id="3a2c3-169">Cuando un servicio de almacenamiento recibe una solicitud preparatoria o real, evalúa esa solicitud según las reglas de CORS de Hola que ha establecido para el servicio de Hola a través de la operación Set Service Properties adecuada de Hola.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-169">When a storage service receives a preflight or actual request, it evaluates that request based on hello CORS rules you have established for hello service via hello appropriate Set Service Properties operation.</span></span> <span data-ttu-id="3a2c3-170">Reglas de CORS se evalúan en orden de hello en el que se establecieron en el cuerpo de la solicitud de Hola de hello operación Set Service Properties.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-170">CORS rules are evaluated in hello order in which they were set in hello request body of hello Set Service Properties operation.</span></span>

<span data-ttu-id="3a2c3-171">Las reglas de CORS se evalúan de la manera siguiente:</span><span class="sxs-lookup"><span data-stu-id="3a2c3-171">CORS rules are evaluated as follows:</span></span>

1. <span data-ttu-id="3a2c3-172">En primer lugar, se comprueba el dominio de origen de saludo de solicitud de hello en dominios de hello enumerados para hello **AllowedOrigins** elemento.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-172">First, hello origin domain of hello request is checked against hello domains listed for hello **AllowedOrigins** element.</span></span> <span data-ttu-id="3a2c3-173">Si se admiten todos los dominios con carácter comodín de Hola o dominio de origen de Hola se incluye en la lista de hello ' *', continúa de la evaluación de las reglas.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-173">If hello origin domain is included in hello list, or all domains are allowed with hello wildcard character '*', then rules evaluation proceeds.</span></span> <span data-ttu-id="3a2c3-174">Si no se incluye el dominio de origen de hello, solicitud de hello produce un error.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-174">If hello origin domain is not included, then hello request fails.</span></span>
2. <span data-ttu-id="3a2c3-175">A continuación, se comprueba el método hello (o verbo HTTP) de solicitud de hello frente a métodos de hello recogidos en hello **AllowedMethods** elemento.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-175">Next, hello method (or HTTP verb) of hello request is checked against hello methods listed in hello **AllowedMethods** element.</span></span> <span data-ttu-id="3a2c3-176">Si el método hello se incluye en la lista de hello, evaluación de reglas continúa; de lo contrario, a continuación, se produce un error en la solicitud de saludo.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-176">If hello method is included in hello list, then rules evaluation proceeds; if not, then hello request fails.</span></span>
3. <span data-ttu-id="3a2c3-177">Si la solicitud de hello coincide con una regla en su dominio de origen y el método, esa regla está seleccionado tooprocess Hola solicitud y no se evalúa ninguna otra regla.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-177">If hello request matches a rule in its origin domain and its method, that rule is selected tooprocess hello request and no further rules are evaluated.</span></span> <span data-ttu-id="3a2c3-178">Antes de que pueda realizar correctamente la solicitud de hello, sin embargo, se comprueban todos los encabezados especificados en la solicitud de hello en los encabezados Hola Hola **AllowedHeaders** elemento.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-178">Before hello request can succeed, however, any headers specified on hello request are checked against hello headers listed in hello **AllowedHeaders** element.</span></span> <span data-ttu-id="3a2c3-179">Si los encabezados de hello enviados no coinciden Hola encabezados permitido, se produce un error en la solicitud de saludo.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-179">If hello headers sent do not match hello allowed headers, hello request fails.</span></span>

<span data-ttu-id="3a2c3-180">Puesto que las reglas de Hola se procesan en orden de hello están presentes en el cuerpo de la solicitud de hello, según los procedimientos recomendados que especifique reglas más restrictivas de hello con respetan tooorigins en primer lugar en la lista de hello, por lo que estos se evalúan primero.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-180">Since hello rules are processed in hello order they are present in hello request body, best practices recommend that you specify hello most restrictive rules with respect tooorigins first in hello list, so that these are evaluated first.</span></span> <span data-ttu-id="3a2c3-181">Especifique las reglas que sean menos restrictivas; por ejemplo, un tooallow regla final Hola de lista Hola todos los orígenes.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-181">Specify rules that are less restrictive – for example, a rule tooallow all origins – at hello end of hello list.</span></span>

### <a name="example--cors-rules-evaluation"></a><span data-ttu-id="3a2c3-182">Ejemplo: evaluación de reglas de CORS</span><span class="sxs-lookup"><span data-stu-id="3a2c3-182">Example – CORS rules evaluation</span></span>
<span data-ttu-id="3a2c3-183">Hello en el ejemplo siguiente se muestra un cuerpo de solicitud parcial para un reglas de CORS de tooset de operación para servicios de almacenamiento de Hola.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-183">hello following example shows a partial request body for an operation tooset CORS rules for hello storage services.</span></span> <span data-ttu-id="3a2c3-184">Vea [Set Blob Service Properties](https://msdn.microsoft.com/library/hh452235.aspx), [establecer propiedades del servicio cola](https://msdn.microsoft.com/library/hh452232.aspx), y [establecer propiedades del servicio tabla](https://msdn.microsoft.com/library/hh452240.aspx) para obtener más información sobre la creación de solicitud de saludo.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-184">See [Set Blob Service Properties](https://msdn.microsoft.com/library/hh452235.aspx), [Set Queue Service Properties](https://msdn.microsoft.com/library/hh452232.aspx), and [Set Table Service Properties](https://msdn.microsoft.com/library/hh452240.aspx) for details on constructing hello request.</span></span>

```xml
<Cors>
    <CorsRule>
        <AllowedOrigins>http://www.contoso.com</AllowedOrigins>
        <AllowedMethods>PUT,HEAD</AllowedMethods>
        <MaxAgeInSeconds>5</MaxAgeInSeconds>
        <ExposedHeaders>x-ms-*</ExposedHeaders>
        <AllowedHeaders>x-ms-blob-content-type, x-ms-blob-content-disposition</AllowedHeaders>
    </CorsRule>
    <CorsRule>
        <AllowedOrigins>*</AllowedOrigins>
        <AllowedMethods>PUT,GET</AllowedMethods>
        <MaxAgeInSeconds>5</MaxAgeInSeconds>
        <ExposedHeaders>x-ms-*</ExposedHeaders>
        <AllowedHeaders>x-ms-blob-content-type, x-ms-blob-content-disposition</AllowedHeaders>
    </CorsRule>
    <CorsRule>
        <AllowedOrigins>http://www.contoso.com</AllowedOrigins>
        <AllowedMethods>GET</AllowedMethods>
        <MaxAgeInSeconds>5</MaxAgeInSeconds>
        <ExposedHeaders>x-ms-*</ExposedHeaders>
        <AllowedHeaders>x-ms-client-request-id</AllowedHeaders>
    </CorsRule>
</Cors>
```

<span data-ttu-id="3a2c3-185">A continuación, considere la posibilidad de hello siguiendo las solicitudes CORS:</span><span class="sxs-lookup"><span data-stu-id="3a2c3-185">Next, consider hello following CORS requests:</span></span>

| <span data-ttu-id="3a2c3-186">Solicitud</span><span class="sxs-lookup"><span data-stu-id="3a2c3-186">Request</span></span> |  |  | <span data-ttu-id="3a2c3-187">Response</span><span class="sxs-lookup"><span data-stu-id="3a2c3-187">Response</span></span> |  |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="3a2c3-188">**Método**</span><span class="sxs-lookup"><span data-stu-id="3a2c3-188">**Method**</span></span> |<span data-ttu-id="3a2c3-189">**Origen**</span><span class="sxs-lookup"><span data-stu-id="3a2c3-189">**Origin**</span></span> |<span data-ttu-id="3a2c3-190">**Encabezados de solicitud**</span><span class="sxs-lookup"><span data-stu-id="3a2c3-190">**Request Headers**</span></span> |<span data-ttu-id="3a2c3-191">**Coincidencia de regla**</span><span class="sxs-lookup"><span data-stu-id="3a2c3-191">**Rule Match**</span></span> |<span data-ttu-id="3a2c3-192">**Resultado**</span><span class="sxs-lookup"><span data-stu-id="3a2c3-192">**Result**</span></span> |
| <span data-ttu-id="3a2c3-193">**PUT**</span><span class="sxs-lookup"><span data-stu-id="3a2c3-193">**PUT**</span></span> |<span data-ttu-id="3a2c3-194">http://www.contoso.com</span><span class="sxs-lookup"><span data-stu-id="3a2c3-194">http://www.contoso.com</span></span> |<span data-ttu-id="3a2c3-195">x-ms-blob-content-type</span><span class="sxs-lookup"><span data-stu-id="3a2c3-195">x-ms-blob-content-type</span></span> |<span data-ttu-id="3a2c3-196">Primera regla</span><span class="sxs-lookup"><span data-stu-id="3a2c3-196">First rule</span></span> |<span data-ttu-id="3a2c3-197">Correcto</span><span class="sxs-lookup"><span data-stu-id="3a2c3-197">Success</span></span> |
| <span data-ttu-id="3a2c3-198">**GET**</span><span class="sxs-lookup"><span data-stu-id="3a2c3-198">**GET**</span></span> |<span data-ttu-id="3a2c3-199">http://www.contoso.com</span><span class="sxs-lookup"><span data-stu-id="3a2c3-199">http://www.contoso.com</span></span> |<span data-ttu-id="3a2c3-200">x-ms-blob-content-type</span><span class="sxs-lookup"><span data-stu-id="3a2c3-200">x-ms-blob-content-type</span></span> |<span data-ttu-id="3a2c3-201">Segunda regla</span><span class="sxs-lookup"><span data-stu-id="3a2c3-201">Second rule</span></span> |<span data-ttu-id="3a2c3-202">Correcto</span><span class="sxs-lookup"><span data-stu-id="3a2c3-202">Success</span></span> |
| <span data-ttu-id="3a2c3-203">**GET**</span><span class="sxs-lookup"><span data-stu-id="3a2c3-203">**GET**</span></span> |<span data-ttu-id="3a2c3-204">http://www.contoso.com</span><span class="sxs-lookup"><span data-stu-id="3a2c3-204">http://www.contoso.com</span></span> |<span data-ttu-id="3a2c3-205">x-ms-client-request-id</span><span class="sxs-lookup"><span data-stu-id="3a2c3-205">x-ms-client-request-id</span></span> |<span data-ttu-id="3a2c3-206">Segunda regla</span><span class="sxs-lookup"><span data-stu-id="3a2c3-206">Second rule</span></span> |<span data-ttu-id="3a2c3-207">Error</span><span class="sxs-lookup"><span data-stu-id="3a2c3-207">Failure</span></span> |

<span data-ttu-id="3a2c3-208">primera solicitud de Hello coincide con la primera regla de hello: Hola permitida orígenes coincide con el dominio de origen de hello, Hola permitida métodos coincide con el método hello y encabezado Hola coincide con hello encabezados – permitido y por lo que se realiza correctamente.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-208">hello first request matches hello first rule – hello origin domain matches hello allowed origins, hello method matches hello allowed methods, and hello header matches hello allowed headers – and so succeeds.</span></span>

<span data-ttu-id="3a2c3-209">segunda solicitud de Hello no hace coincidir primera regla de hello porque método hello no coincide con hello permitida métodos.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-209">hello second request does not match hello first rule because hello method does not match hello allowed methods.</span></span> <span data-ttu-id="3a2c3-210">Sin embargo,, coincidir segunda regla hello, para que se realice correctamente.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-210">It does, however, match hello second rule, so it succeeds.</span></span>

<span data-ttu-id="3a2c3-211">tercera solicitud de Hello coincide con la segunda regla de hello en su dominio de origen y el método, por lo que no se evalúa ninguna otra regla.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-211">hello third request matches hello second rule in its origin domain and method, so no further rules are evaluated.</span></span> <span data-ttu-id="3a2c3-212">Sin embargo, Hola *encabezado x-ms-client-request-id* no está permitido por la segunda regla hello, por lo que se produce un error en solicitud de hello, a pesar de los hechos de Hola que semántica Hola de regla tercer Hola habría permitido que toosucceed.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-212">However, hello *x-ms-client-request-id header* is not allowed by hello second rule, so hello request fails, despite hello fact that hello semantics of hello third rule would have allowed it toosucceed.</span></span>

> [!NOTE]
> <span data-ttu-id="3a2c3-213">Aunque este ejemplo se muestra una regla menos restrictiva antes de otra más restrictiva, por lo general se recomienda hello es reglas más restrictivas de hello toolist por primera vez.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-213">Although this example shows a less restrictive rule before a more restrictive one, in general hello best practice is toolist hello most restrictive rules first.</span></span>
> 
> 

## <a name="understanding-how-hello-vary-header-is-set"></a><span data-ttu-id="3a2c3-214">Descripción de cómo se establece el encabezado Vary de Hola</span><span class="sxs-lookup"><span data-stu-id="3a2c3-214">Understanding how hello Vary header is set</span></span>
<span data-ttu-id="3a2c3-215">Hola *variación* encabezado es un encabezado HTTP/1.1 estándar que consta de un conjunto de campos de encabezado de solicitud que aconsejan agente de usuario o el explorador Hola acerca de los criterios de Hola que seleccionó Hola server tooprocess Hola solicitud.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-215">hello *Vary* header is a standard HTTP/1.1 header consisting of a set of request header fields that advise hello browser or user agent about hello criteria that were selected by hello server tooprocess hello request.</span></span> <span data-ttu-id="3a2c3-216">Hola *variación* encabezado se utiliza principalmente para almacenamiento en caché de servidores proxy, exploradores y redes CDN, que lo utiliza toodetermine cómo debe almacenarse en caché respuesta Hola.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-216">hello *Vary* header is mainly used for caching by proxies, browsers, and CDNs, which use it toodetermine how hello response should be cached.</span></span> <span data-ttu-id="3a2c3-217">Para obtener más información, vea especificación de Hola para hello [encabezado Vary](http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html).</span><span class="sxs-lookup"><span data-stu-id="3a2c3-217">For details, see hello specification for hello [Vary header](http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html).</span></span>

<span data-ttu-id="3a2c3-218">Cuando el Explorador de Hola o de otro agente de usuario almacena en caché Hola respuesta de una solicitud CORS, dominio de origen de Hola se almacena en caché como Hola permitido de origen.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-218">When hello browser or another user agent caches hello response from a CORS request, hello origin domain is cached as hello allowed origin.</span></span> <span data-ttu-id="3a2c3-219">Cuando un segundo problemas de dominio Hola misma solicitud para un recurso de almacenamiento mientras está activa la memoria caché de hello, agente de usuario de hello recupera el dominio de origen almacenados en caché de Hola.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-219">When a second domain issues hello same request for a storage resource while hello cache is active, hello user agent retrieves hello cached origin domain.</span></span> <span data-ttu-id="3a2c3-220">dominio de segundo Hello no coincide con dominio almacenada en caché de hello, por lo que se produce un error en la solicitud de hello cuando de lo contrario se realizaría correctamente.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-220">hello second domain does not match hello cached domain, so hello request fails when it would otherwise succeed.</span></span> <span data-ttu-id="3a2c3-221">En algunos casos, el almacenamiento de Azure establece encabezado Vary de hello demasiado**origen** tooinstruct Hola usuario toosend Hola posteriores CORS solicitud toohello servicio del agente cuando Hola solicitando dominio difiere de hello almacena en caché de origen.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-221">In certain cases, Azure Storage sets hello Vary header too**Origin** tooinstruct hello user agent toosend hello subsequent CORS request toohello service when hello requesting domain differs from hello cached origin.</span></span>

<span data-ttu-id="3a2c3-222">Almacenamiento de Azure establece hello *variación* encabezado demasiado**origen** para las solicitudes GET/HEAD reales en hello casos siguientes:</span><span class="sxs-lookup"><span data-stu-id="3a2c3-222">Azure Storage sets hello *Vary* header too**Origin** for actual GET/HEAD requests in hello following cases:</span></span>

* <span data-ttu-id="3a2c3-223">Si la solicitud Hola origen coincide exactamente con hello permite origen definido por una regla de CORS.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-223">When hello request origin exactly matches hello allowed origin defined by a CORS rule.</span></span> <span data-ttu-id="3a2c3-224">toobe una coincidencia exacta, regla de CORS de hello no puede incluir un carácter comodín ' * ' caracteres.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-224">toobe an exact match, hello CORS rule may not include a wildcard ' * ' character.</span></span>
* <span data-ttu-id="3a2c3-225">No hay ningún origen de regla de la solicitud de hello coincidente, pero se ha habilitado CORS para el servicio de almacenamiento de Hola.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-225">There is no rule matching hello request origin, but CORS is enabled for hello storage service.</span></span>

<span data-ttu-id="3a2c3-226">En el caso de hello donde una solicitud GET/HEAD coincida con una regla CORS que permita todos los orígenes, respuesta de hello indica que se permiten todos los orígenes y memoria caché del agente de usuario de hello permitirá solicitudes posteriores de cualquier dominio de origen mientras está activa la memoria caché de Hola.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-226">In hello case where a GET/HEAD request matches a CORS rule that allows all origins, hello response indicates that all origins are allowed, and hello user agent cache will allow subsequent requests from any origin domain while hello cache is active.</span></span>

<span data-ttu-id="3a2c3-227">Tenga en cuenta que para las solicitudes que utilizan otros métodos distintos de GET/HEAD, servicios de almacenamiento de hello no establecerá encabezado Vary de hello, ya que no se almacenan en caché métodos toothese de respuestas por los agentes de usuario.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-227">Note that for requests using methods other than GET/HEAD, hello storage services will not set hello Vary header, since responses toothese methods are not cached by user agents.</span></span>

<span data-ttu-id="3a2c3-228">Hello tabla siguiente indica el almacenamiento de Azure cómo responderá a las solicitudes tooGET/HEAD según Hola anteriormente mencionados casos:</span><span class="sxs-lookup"><span data-stu-id="3a2c3-228">hello following table indicates how Azure storage will respond tooGET/HEAD requests based on hello previously mentioned cases:</span></span>

| <span data-ttu-id="3a2c3-229">Solicitud</span><span class="sxs-lookup"><span data-stu-id="3a2c3-229">Request</span></span> | <span data-ttu-id="3a2c3-230">Configuración de la cuenta y resultado de la evaluación de reglas</span><span class="sxs-lookup"><span data-stu-id="3a2c3-230">Account setting and result of rule evaluation</span></span> |  |  | <span data-ttu-id="3a2c3-231">Response</span><span class="sxs-lookup"><span data-stu-id="3a2c3-231">Response</span></span> |  |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="3a2c3-232">**Encabezado Origin presente en la solicitud**</span><span class="sxs-lookup"><span data-stu-id="3a2c3-232">**Origin header present on request**</span></span> |<span data-ttu-id="3a2c3-233">**Reglas de CORS especificadas para este servicio**</span><span class="sxs-lookup"><span data-stu-id="3a2c3-233">**CORS rule(s) specified for this service**</span></span> |<span data-ttu-id="3a2c3-234">**Existe una regla de coincidencia que permite todos los orígenes (*)**</span><span class="sxs-lookup"><span data-stu-id="3a2c3-234">**Matching rule exists that allows all origins(*)**</span></span> |<span data-ttu-id="3a2c3-235">**Existe una regla de coincidencia para una coincidencia exacta del origen**</span><span class="sxs-lookup"><span data-stu-id="3a2c3-235">**Matching rule exists for exact origin match**</span></span> |<span data-ttu-id="3a2c3-236">**La respuesta incluye tooOrigin de conjunto de encabezado Vary**</span><span class="sxs-lookup"><span data-stu-id="3a2c3-236">**Response includes Vary header set tooOrigin**</span></span> |<span data-ttu-id="3a2c3-237">**La respuesta incluye Access-Control-Allowed-Origin: "*"**</span><span class="sxs-lookup"><span data-stu-id="3a2c3-237">**Response includes Access-Control-Allowed-Origin: "*"**</span></span> |<span data-ttu-id="3a2c3-238">**La respuesta incluye Access-Control-Exposed-Headers**</span><span class="sxs-lookup"><span data-stu-id="3a2c3-238">**Response includes Access-Control-Exposed-Headers**</span></span> |
| <span data-ttu-id="3a2c3-239">No</span><span class="sxs-lookup"><span data-stu-id="3a2c3-239">No</span></span> |<span data-ttu-id="3a2c3-240">No</span><span class="sxs-lookup"><span data-stu-id="3a2c3-240">No</span></span> |<span data-ttu-id="3a2c3-241">No</span><span class="sxs-lookup"><span data-stu-id="3a2c3-241">No</span></span> |<span data-ttu-id="3a2c3-242">No</span><span class="sxs-lookup"><span data-stu-id="3a2c3-242">No</span></span> |<span data-ttu-id="3a2c3-243">No</span><span class="sxs-lookup"><span data-stu-id="3a2c3-243">No</span></span> |<span data-ttu-id="3a2c3-244">No</span><span class="sxs-lookup"><span data-stu-id="3a2c3-244">No</span></span> |<span data-ttu-id="3a2c3-245">No</span><span class="sxs-lookup"><span data-stu-id="3a2c3-245">No</span></span> |
| <span data-ttu-id="3a2c3-246">No</span><span class="sxs-lookup"><span data-stu-id="3a2c3-246">No</span></span> |<span data-ttu-id="3a2c3-247">Sí</span><span class="sxs-lookup"><span data-stu-id="3a2c3-247">Yes</span></span> |<span data-ttu-id="3a2c3-248">No</span><span class="sxs-lookup"><span data-stu-id="3a2c3-248">No</span></span> |<span data-ttu-id="3a2c3-249">No</span><span class="sxs-lookup"><span data-stu-id="3a2c3-249">No</span></span> |<span data-ttu-id="3a2c3-250">Sí</span><span class="sxs-lookup"><span data-stu-id="3a2c3-250">Yes</span></span> |<span data-ttu-id="3a2c3-251">No</span><span class="sxs-lookup"><span data-stu-id="3a2c3-251">No</span></span> |<span data-ttu-id="3a2c3-252">No</span><span class="sxs-lookup"><span data-stu-id="3a2c3-252">No</span></span> |
| <span data-ttu-id="3a2c3-253">No</span><span class="sxs-lookup"><span data-stu-id="3a2c3-253">No</span></span> |<span data-ttu-id="3a2c3-254">Sí</span><span class="sxs-lookup"><span data-stu-id="3a2c3-254">Yes</span></span> |<span data-ttu-id="3a2c3-255">Sí</span><span class="sxs-lookup"><span data-stu-id="3a2c3-255">Yes</span></span> |<span data-ttu-id="3a2c3-256">No</span><span class="sxs-lookup"><span data-stu-id="3a2c3-256">No</span></span> |<span data-ttu-id="3a2c3-257">No</span><span class="sxs-lookup"><span data-stu-id="3a2c3-257">No</span></span> |<span data-ttu-id="3a2c3-258">Sí</span><span class="sxs-lookup"><span data-stu-id="3a2c3-258">Yes</span></span> |<span data-ttu-id="3a2c3-259">Sí</span><span class="sxs-lookup"><span data-stu-id="3a2c3-259">Yes</span></span> |
| <span data-ttu-id="3a2c3-260">Sí</span><span class="sxs-lookup"><span data-stu-id="3a2c3-260">Yes</span></span> |<span data-ttu-id="3a2c3-261">No</span><span class="sxs-lookup"><span data-stu-id="3a2c3-261">No</span></span> |<span data-ttu-id="3a2c3-262">No</span><span class="sxs-lookup"><span data-stu-id="3a2c3-262">No</span></span> |<span data-ttu-id="3a2c3-263">No</span><span class="sxs-lookup"><span data-stu-id="3a2c3-263">No</span></span> |<span data-ttu-id="3a2c3-264">No</span><span class="sxs-lookup"><span data-stu-id="3a2c3-264">No</span></span> |<span data-ttu-id="3a2c3-265">No</span><span class="sxs-lookup"><span data-stu-id="3a2c3-265">No</span></span> |<span data-ttu-id="3a2c3-266">No</span><span class="sxs-lookup"><span data-stu-id="3a2c3-266">No</span></span> |
| <span data-ttu-id="3a2c3-267">Sí</span><span class="sxs-lookup"><span data-stu-id="3a2c3-267">Yes</span></span> |<span data-ttu-id="3a2c3-268">Sí</span><span class="sxs-lookup"><span data-stu-id="3a2c3-268">Yes</span></span> |<span data-ttu-id="3a2c3-269">No</span><span class="sxs-lookup"><span data-stu-id="3a2c3-269">No</span></span> |<span data-ttu-id="3a2c3-270">Sí</span><span class="sxs-lookup"><span data-stu-id="3a2c3-270">Yes</span></span> |<span data-ttu-id="3a2c3-271">Sí</span><span class="sxs-lookup"><span data-stu-id="3a2c3-271">Yes</span></span> |<span data-ttu-id="3a2c3-272">No</span><span class="sxs-lookup"><span data-stu-id="3a2c3-272">No</span></span> |<span data-ttu-id="3a2c3-273">Sí</span><span class="sxs-lookup"><span data-stu-id="3a2c3-273">Yes</span></span> |
| <span data-ttu-id="3a2c3-274">Sí</span><span class="sxs-lookup"><span data-stu-id="3a2c3-274">Yes</span></span> |<span data-ttu-id="3a2c3-275">Sí</span><span class="sxs-lookup"><span data-stu-id="3a2c3-275">Yes</span></span> |<span data-ttu-id="3a2c3-276">No</span><span class="sxs-lookup"><span data-stu-id="3a2c3-276">No</span></span> |<span data-ttu-id="3a2c3-277">No</span><span class="sxs-lookup"><span data-stu-id="3a2c3-277">No</span></span> |<span data-ttu-id="3a2c3-278">Sí</span><span class="sxs-lookup"><span data-stu-id="3a2c3-278">Yes</span></span> |<span data-ttu-id="3a2c3-279">No</span><span class="sxs-lookup"><span data-stu-id="3a2c3-279">No</span></span> |<span data-ttu-id="3a2c3-280">No</span><span class="sxs-lookup"><span data-stu-id="3a2c3-280">No</span></span> |
| <span data-ttu-id="3a2c3-281">Sí</span><span class="sxs-lookup"><span data-stu-id="3a2c3-281">Yes</span></span> |<span data-ttu-id="3a2c3-282">Sí</span><span class="sxs-lookup"><span data-stu-id="3a2c3-282">Yes</span></span> |<span data-ttu-id="3a2c3-283">Sí</span><span class="sxs-lookup"><span data-stu-id="3a2c3-283">Yes</span></span> |<span data-ttu-id="3a2c3-284">No</span><span class="sxs-lookup"><span data-stu-id="3a2c3-284">No</span></span> |<span data-ttu-id="3a2c3-285">No</span><span class="sxs-lookup"><span data-stu-id="3a2c3-285">No</span></span> |<span data-ttu-id="3a2c3-286">Sí</span><span class="sxs-lookup"><span data-stu-id="3a2c3-286">Yes</span></span> |<span data-ttu-id="3a2c3-287">Sí</span><span class="sxs-lookup"><span data-stu-id="3a2c3-287">Yes</span></span> |

## <a name="billing-for-cors-requests"></a><span data-ttu-id="3a2c3-288">Facturación de las solicitudes de CORS</span><span class="sxs-lookup"><span data-stu-id="3a2c3-288">Billing for CORS requests</span></span>
<span data-ttu-id="3a2c3-289">Las solicitudes preparatorias correctas se cobran si ha habilitado CORS para cualquiera de los servicios de almacenamiento de Hola para su cuenta (mediante una llamada a [Set Blob Service Properties](https://msdn.microsoft.com/library/hh452235.aspx), [establecer propiedades del servicio cola](https://msdn.microsoft.com/library/hh452232.aspx), o [ Establecer propiedades del servicio tabla](https://msdn.microsoft.com/library/hh452240.aspx)).</span><span class="sxs-lookup"><span data-stu-id="3a2c3-289">Successful preflight requests are billed if you have enabled CORS for any of hello storage services for your account (by calling [Set Blob Service Properties](https://msdn.microsoft.com/library/hh452235.aspx), [Set Queue Service Properties](https://msdn.microsoft.com/library/hh452232.aspx), or [Set Table Service Properties](https://msdn.microsoft.com/library/hh452240.aspx)).</span></span> <span data-ttu-id="3a2c3-290">toominimize cargos, considere la posibilidad de establecer hello **MaxAgeInSeconds** elemento en su CORS reglas tooa de valor grande para que hello agente de usuario almacena en caché la solicitud de saludo.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-290">toominimize charges, consider setting hello **MaxAgeInSeconds** element in your CORS rules tooa large value so that hello user agent caches hello request.</span></span>

<span data-ttu-id="3a2c3-291">Las solicitudes preparatorias erróneas no se cargan en cuenta.</span><span class="sxs-lookup"><span data-stu-id="3a2c3-291">Unsuccessful preflight requests will not be billed.</span></span>

## <a name="next-steps"></a><span data-ttu-id="3a2c3-292">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="3a2c3-292">Next steps</span></span>
[<span data-ttu-id="3a2c3-293">Definición de las propiedades del servicio Blob</span><span class="sxs-lookup"><span data-stu-id="3a2c3-293">Set Blob Service Properties</span></span>](https://msdn.microsoft.com/library/hh452235.aspx)

[<span data-ttu-id="3a2c3-294">Definición de las propiedades del servicio Cola</span><span class="sxs-lookup"><span data-stu-id="3a2c3-294">Set Queue Service Properties</span></span>](https://msdn.microsoft.com/library/hh452232.aspx)

[<span data-ttu-id="3a2c3-295">Definición de las propiedades del servicio Tabla</span><span class="sxs-lookup"><span data-stu-id="3a2c3-295">Set Table Service Properties</span></span>](https://msdn.microsoft.com/library/hh452240.aspx)

[<span data-ttu-id="3a2c3-296">Especificación de uso compartido de recursos entre orígenes de W3C</span><span class="sxs-lookup"><span data-stu-id="3a2c3-296">W3C Cross-Origin Resource Sharing Specification</span></span>](http://www.w3.org/TR/cors/)

