---
title: "Guía de seguridad de Azure Storage | Microsoft Docs"
description: "Detalles de los distintos métodos de seguridad de Azure Storage incluidos, entre otros, el control de acceso basado en rol, el cifrado del servicio Storage, el cifrado del lado cliente, SMB 3.0 y Azure Disk Encryption."
services: storage
documentationcenter: .net
author: robinsh
manager: timlt
editor: tysonn
ms.assetid: 6f931d94-ef5a-44c6-b1d9-8a3c9c327fb2
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 12/08/2016
ms.author: robinsh
ms.openlocfilehash: 428dcaa8e842077936b7d9b9cb6ac639844c3961
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/03/2017
---
# <a name="azure-storage-security-guide"></a><span data-ttu-id="9b5cd-103">Guía de seguridad de Azure Storage</span><span class="sxs-lookup"><span data-stu-id="9b5cd-103">Azure Storage security guide</span></span>
## <a name="overview"></a><span data-ttu-id="9b5cd-104">Información general</span><span class="sxs-lookup"><span data-stu-id="9b5cd-104">Overview</span></span>
<span data-ttu-id="9b5cd-105">Azure Storage pone a su disposición diferentes funciones de seguridad que, al usarlas en conjunto, permiten a los desarrolladores crear aplicaciones seguras.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-105">Azure Storage provides a comprehensive set of security capabilities which together enable developers to build secure applications.</span></span> <span data-ttu-id="9b5cd-106">La propia cuenta de almacenamiento se puede proteger mediante el control de acceso basado en rol y Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-106">The storage account itself can be secured using Role-Based Access Control and Azure Active Directory.</span></span> <span data-ttu-id="9b5cd-107">Los datos se pueden proteger en tránsito entre una aplicación y Azure usando [cifrado de cliente](storage-client-side-encryption.md), HTTPS o SMB 3.0.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-107">Data can be secured in transit between an application and Azure by using [Client-Side Encryption](storage-client-side-encryption.md), HTTPS, or SMB 3.0.</span></span> <span data-ttu-id="9b5cd-108">Los datos se pueden configurar para que se cifren automáticamente cuando se escriben en Azure Storage mediante el [cifrado del servicio Storage (SSE)](storage-service-encryption.md).</span><span class="sxs-lookup"><span data-stu-id="9b5cd-108">Data can be set to be automatically encrypted when written to Azure Storage using [Storage Service Encryption (SSE)](storage-service-encryption.md).</span></span> <span data-ttu-id="9b5cd-109">Se puede establecer el cifrado de los discos de datos y del sistema operativo utilizados por máquinas virtuales mediante el [Azure Disk Encryption](../security/azure-security-disk-encryption.md).</span><span class="sxs-lookup"><span data-stu-id="9b5cd-109">OS and Data disks used by virtual machines can be set to be encrypted using [Azure Disk Encryption](../security/azure-security-disk-encryption.md).</span></span> <span data-ttu-id="9b5cd-110">Se puede conceder acceso delegado a los objetos de datos de Azure Storage mediante las [Firmas de acceso compartido](storage-dotnet-shared-access-signature-part-1.md).</span><span class="sxs-lookup"><span data-stu-id="9b5cd-110">Delegated access to the data objects in Azure Storage can be granted using [Shared Access Signatures](storage-dotnet-shared-access-signature-part-1.md).</span></span>

<span data-ttu-id="9b5cd-111">Este artículo ofrece una visión general de cada una de estas características de seguridad que se pueden usar con Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-111">This article will provide an overview of each of these security features that can be used with Azure Storage.</span></span> <span data-ttu-id="9b5cd-112">Se incluyen vínculos a artículos en los que se detalla cada una de ellas, así que puede examinar un tema determinado con mayor detalle si así lo desea.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-112">Links are provided to articles that will give details of each feature so you can easily do further investigation on each topic.</span></span>

<span data-ttu-id="9b5cd-113">Estos son los temas que se tratarán en este artículo:</span><span class="sxs-lookup"><span data-stu-id="9b5cd-113">Here are the topics to be covered in this article:</span></span>

* <span data-ttu-id="9b5cd-114">[Seguridad en el plano de la administración](#management-plane-security): protección de la cuenta de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="9b5cd-114">[Management Plane Security](#management-plane-security) – Securing your Storage Account</span></span>

  <span data-ttu-id="9b5cd-115">El plano de la administración está compuesto por los recursos que se usan para administrar la cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-115">The management plane consists of the resources used to manage your storage account.</span></span> <span data-ttu-id="9b5cd-116">En esta sección, hablaremos sobre el modelo de implementación de Azure Resource Manager y cómo usar el control de acceso basado en roles (RBAC) para controlar el acceso a las cuentas de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-116">In this section, we'll talk about the Azure Resource Manager deployment model and how to use Role-Based Access Control (RBAC) to control access to your storage accounts.</span></span> <span data-ttu-id="9b5cd-117">También hablaremos acerca de cómo administrar las claves de cuenta de almacenamiento y cómo volver a generarlas.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-117">We will also talk about managing your storage account keys and how to regenerate them.</span></span>
* <span data-ttu-id="9b5cd-118">[Seguridad en el plano de los datos](#data-plane-security) : protección del acceso a los datos</span><span class="sxs-lookup"><span data-stu-id="9b5cd-118">[Data Plane Security](#data-plane-security) – Securing Access to Your Data</span></span>

  <span data-ttu-id="9b5cd-119">En esta sección, analizaremos el modo de permitir el acceso a los objetos de datos reales de la cuenta de almacenamiento, como blobs, archivos, colas y tablas, y el uso de Firmas de acceso compartido y Directivas de acceso almacenadas.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-119">In this section, we'll look at allowing access to the actual data objects in your Storage account, such as blobs, files, queues, and tables, using Shared Access Signatures and Stored Access Policies.</span></span> <span data-ttu-id="9b5cd-120">Nos fijaremos en las Firmas de acceso compartido tanto a nivel de servicio como a nivel de cuenta.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-120">We will cover both service-level SAS and account-level SAS.</span></span> <span data-ttu-id="9b5cd-121">También veremos cómo limitar el acceso a una dirección IP específica (o un intervalo de direcciones IP), cómo limitar el protocolo utilizado para HTTPS y cómo revocar una Firma de acceso compartido sin esperar a que expire.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-121">We'll also see how to limit access to a specific IP address (or range of IP addresses), how to limit the protocol used to HTTPS, and how to revoke a Shared Access Signature without waiting for it to expire.</span></span>
* [<span data-ttu-id="9b5cd-122">Cifrado en tránsito</span><span class="sxs-lookup"><span data-stu-id="9b5cd-122">Encryption in Transit</span></span>](#encryption-in-transit)

  <span data-ttu-id="9b5cd-123">En esta sección se describe cómo proteger los datos cuando se transfieren a o desde Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-123">This section discusses how to secure data when you transfer it into or out of Azure Storage.</span></span> <span data-ttu-id="9b5cd-124">Hablaremos sobre el uso recomendado de HTTPS y el cifrado que usa SMB 3.0 para los recursos compartidos de archivos de Azure.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-124">We'll talk about the recommended use of HTTPS and the encryption used by SMB 3.0 for Azure File shares.</span></span> <span data-ttu-id="9b5cd-125">También echaremos un vistazo al Cifrado de cliente, que permite cifrar los datos antes de transferirlos al Almacenamiento en una aplicación cliente y descifrarlos una vez transferidos desde este servicio.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-125">We will also take a look at Client-side Encryption, which enables you to encrypt the data before it is transferred into Storage in a client application, and to decrypt the data after it is transferred out of Storage.</span></span>
* [<span data-ttu-id="9b5cd-126">Cifrado en reposo</span><span class="sxs-lookup"><span data-stu-id="9b5cd-126">Encryption at Rest</span></span>](#encryption-at-rest)

  <span data-ttu-id="9b5cd-127">Hablaremos acerca del cifrado del servicio Storage (SSE) y el modo de habilitarlo para una cuenta de almacenamiento, lo que conlleva que los blobs en bloques, los blobs en páginas y los blobs en anexos se cifren automáticamente al escribir en Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-127">We will talk about Storage Service Encryption (SSE), and how you can enable it for a storage account, resulting in your block blobs, page blobs, and append blobs being automatically encrypted when written to Azure Storage.</span></span> <span data-ttu-id="9b5cd-128">También veremos cómo puede usar Azure Disk Encryption y exploraremos los casos y las diferencias básicas entre Disk Encryption, SSE y el cifrado del lado cliente.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-128">We will also look at how you can use Azure Disk Encryption and explore the basic differences and cases of Disk Encryption versus SSE versus Client-Side Encryption.</span></span> <span data-ttu-id="9b5cd-129">Asimismo, estudiaremos brevemente el cumplimiento de la norma FIPS para equipos del Gobierno de EE. UU.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-129">We will briefly look at FIPS compliance for U.S. Government computers.</span></span>
* <span data-ttu-id="9b5cd-130">Uso de [Storage Analytics](#storage-analytics) para auditar el acceso de Azure Storage</span><span class="sxs-lookup"><span data-stu-id="9b5cd-130">Using [Storage Analytics](#storage-analytics) to audit access of Azure Storage</span></span>

  <span data-ttu-id="9b5cd-131">En esta sección se describe cómo buscar información en los registros de Storage Analytics para una solicitud.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-131">This section discusses how to find information in the storage analytics logs for a request.</span></span> <span data-ttu-id="9b5cd-132">Echaremos un vistazo a datos de registro reales de Storage Analytics y aprenderemos a discernir si una solicitud se realiza con una clave de cuenta de Storage, una Firma de acceso compartido o de manera anónima, y si se pudo completar o no.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-132">We'll take a look at real storage analytics log data and see how to discern whether a request is made with the Storage account key, with a Shared Access signature, or anonymously, and whether it succeeded or failed.</span></span>
* [<span data-ttu-id="9b5cd-133">Habilitación de clientes basados en explorador mediante el uso compartido de recursos entre orígenes</span><span class="sxs-lookup"><span data-stu-id="9b5cd-133">Enabling Browser-Based Clients using CORS</span></span>](#Cross-Origin-Resource-Sharing-CORS)

  <span data-ttu-id="9b5cd-134">En esta sección se analiza cómo permitir el uso compartido de recursos entre orígenes.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-134">This section talks about how to allow cross-origin resource sharing (CORS).</span></span> <span data-ttu-id="9b5cd-135">Abordaremos el acceso entre dominios y cómo administrarlo con las funcionalidades del uso compartido de recursos entre orígenes integradas en Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-135">We'll talk about cross-domain access, and how to handle it with the CORS capabilities built into Azure Storage.</span></span>

## <a name="management-plane-security"></a><span data-ttu-id="9b5cd-136">Seguridad en el plano de la administración</span><span class="sxs-lookup"><span data-stu-id="9b5cd-136">Management Plane Security</span></span>
<span data-ttu-id="9b5cd-137">El plano de la administración consta de las operaciones que afectan a la propia cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-137">The management plane consists of operations that affect the storage account itself.</span></span> <span data-ttu-id="9b5cd-138">Por ejemplo, puede crear o eliminar una cuenta de almacenamiento, obtener una lista de cuentas de almacenamiento en una suscripción, recuperar las claves de cuenta de almacenamiento o volver a generar las claves de cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-138">For example, you can create or delete a storage account, get a list of storage accounts in a subscription, retrieve the storage account keys, or regenerate the storage account keys.</span></span>

<span data-ttu-id="9b5cd-139">Cuando se crea una nueva cuenta de almacenamiento, se selecciona un modelo de implementación clásico o de Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-139">When you create a new storage account, you select a deployment model of Classic or Resource Manager.</span></span> <span data-ttu-id="9b5cd-140">El modelo clásico de creación de recursos de Azure únicamente permite acceder a toda la suscripción en su conjunto o bien a nada de ella, y lo mismo ocurre con la cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-140">The Classic model of creating resources in Azure only allows all-or-nothing access to the subscription, and in turn, the storage account.</span></span>

<span data-ttu-id="9b5cd-141">Esta guía se centra en el modelo de Resource Manager, que es el medio recomendado para crear cuentas de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-141">This guide focuses on the Resource Manager model which is the recommended means for creating storage accounts.</span></span> <span data-ttu-id="9b5cd-142">Con las cuentas de almacenamiento de Resource Manager, en lugar de proporcionar acceso a toda la suscripción, puede controlar el acceso en un nivel más detallado en el plano de administración mediante el control de acceso basado en rol (RBAC).</span><span class="sxs-lookup"><span data-stu-id="9b5cd-142">With the Resource Manager storage accounts, rather than giving access to the entire subscription, you can control access on a more finite level to the management plane using Role-Based Access Control (RBAC).</span></span>

### <a name="how-to-secure-your-storage-account-with-role-based-access-control-rbac"></a><span data-ttu-id="9b5cd-143">Protección de su cuenta de almacenamiento con el control de acceso basado en rol (RBAC)</span><span class="sxs-lookup"><span data-stu-id="9b5cd-143">How to secure your storage account with Role-Based Access Control (RBAC)</span></span>
<span data-ttu-id="9b5cd-144">Vamos a ver qué es el control de acceso basado en roles y cómo se utiliza.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-144">Let's talk about what RBAC is, and how you can use it.</span></span> <span data-ttu-id="9b5cd-145">Cada una de las suscripciones de Azure está asociada a una instancia de Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-145">Each Azure subscription has an Azure Active Directory.</span></span> <span data-ttu-id="9b5cd-146">Es posible conceder acceso a los usuarios, los grupos y las aplicaciones desde ese directorio a la administración de recursos de la suscripción de Azure que usan el modelo de implementación de Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-146">Users, groups, and applications from that directory can be granted access to manage resources in the Azure subscription that use the Resource Manager deployment model.</span></span> <span data-ttu-id="9b5cd-147">Esto se conoce como control de acceso basado en rol (RBAC).</span><span class="sxs-lookup"><span data-stu-id="9b5cd-147">This is referred to as Role-Based Access Control (RBAC).</span></span> <span data-ttu-id="9b5cd-148">Para administrar este acceso, puede utilizar [Azure Portal](https://portal.azure.com/), [las herramientas de la CLI de Azure](../cli-install-nodejs.md), [PowerShell](/powershell/azureps-cmdlets-docs) o [las API de REST del proveedor de recursos de Azure Storage](https://msdn.microsoft.com/library/azure/mt163683.aspx).</span><span class="sxs-lookup"><span data-stu-id="9b5cd-148">To manage this access, you can use the [Azure portal](https://portal.azure.com/), the [Azure CLI tools](../cli-install-nodejs.md), [PowerShell](/powershell/azureps-cmdlets-docs), or the [Azure Storage Resource Provider REST APIs](https://msdn.microsoft.com/library/azure/mt163683.aspx).</span></span>

<span data-ttu-id="9b5cd-149">Con el modelo de Resource Manager, se coloca la cuenta de almacenamiento en un grupo de recursos y se controla el acceso al plano de la administración de dicha cuenta de almacenamiento específica mediante Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-149">With the Resource Manager model, you put the storage account in a resource group and control access to the management plane of that specific storage account using Azure Active Directory.</span></span> <span data-ttu-id="9b5cd-150">Por ejemplo, puede proporcionar a usuarios específicos la posibilidad de tener acceso a las claves de cuenta de almacenamiento, mientras que otros usuarios pueden ver información sobre la cuenta de almacenamiento pero no pueden tener acceso a sus claves.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-150">For example, you can give specific users the ability to access the storage account keys, while other users can view information about the storage account, but cannot access the storage account keys.</span></span>

#### <a name="granting-access"></a><span data-ttu-id="9b5cd-151">Concesión de acceso</span><span class="sxs-lookup"><span data-stu-id="9b5cd-151">Granting Access</span></span>
<span data-ttu-id="9b5cd-152">El acceso se concede mediante la asignación de rol RBAC adecuado a los usuarios, grupos y aplicaciones en el ámbito correcto.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-152">Access is granted by assigning the appropriate RBAC role to users, groups, and applications, at the right scope.</span></span> <span data-ttu-id="9b5cd-153">Para conceder acceso a toda la suscripción, asigne un rol a nivel de suscripción.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-153">To grant access to the entire subscription, you assign a role at the subscription level.</span></span> <span data-ttu-id="9b5cd-154">Puede conceder acceso a todos los recursos de un grupo de recursos mediante la concesión de permisos al propio grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-154">You can grant access to all of the resources in a resource group by granting permissions to the resource group itself.</span></span> <span data-ttu-id="9b5cd-155">También puede asignar roles específicos a recursos específicos, como cuentas de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-155">You can also assign specific roles to specific resources, such as storage accounts.</span></span>

<span data-ttu-id="9b5cd-156">Estos son los puntos principales que necesita saber acerca del uso del control de acceso basado en rol para tener acceso a las operaciones de administración de una cuenta de Azure Storage:</span><span class="sxs-lookup"><span data-stu-id="9b5cd-156">Here are the main points that you need to know about using RBAC to access the management operations of an Azure Storage account:</span></span>

* <span data-ttu-id="9b5cd-157">Al asignar el acceso, básicamente asigna un rol a la cuenta a la que desea tener acceso.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-157">When you assign access, you basically assign a role to the account that you want to have access.</span></span> <span data-ttu-id="9b5cd-158">Puede controlar el acceso a las operaciones que se utilizan para administrar esa cuenta de almacenamiento, pero no a los objetos de datos de la cuenta.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-158">You can control access to the operations used to manage that storage account, but not to the data objects in the account.</span></span> <span data-ttu-id="9b5cd-159">Por ejemplo, puede conceder permiso para recuperar las propiedades de la cuenta de almacenamiento (por ejemplo, redundancia), pero no a un contenedor o los datos dentro de un contenedor de Blob Storage.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-159">For example, you can grant permission to retrieve the properties of the storage account (such as redundancy), but not to a container or data within a container inside Blob Storage.</span></span>
* <span data-ttu-id="9b5cd-160">Para que otro usuario pueda tener acceso a los objetos de datos de la cuenta de almacenamiento, puede concederle permiso para leer las claves de cuenta de almacenamiento. De este modo, ese usuario podrá usar esas claves para tener acceso a blobs, colas, tablas y archivos.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-160">For someone to have permission to access the data objects in the storage account, you can give them permission to read the storage account keys, and that user can then use those keys to access the blobs, queues, tables, and files.</span></span>
* <span data-ttu-id="9b5cd-161">Los roles pueden asignarse específicamente a una cuenta de usuario, un grupo de usuarios o una aplicación.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-161">Roles can be assigned to a specific user account, a group of users, or to a specific application.</span></span>
* <span data-ttu-id="9b5cd-162">Cada rol tiene una lista de acciones y no acciones.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-162">Each role has a list of Actions and Not Actions.</span></span> <span data-ttu-id="9b5cd-163">Por ejemplo, el rol de colaborador de la máquina virtual tiene una acción "listKeys" que permite leer las claves de cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-163">For example, the Virtual Machine Contributor role has an Action of "listKeys" that allows the storage account keys to be read.</span></span> <span data-ttu-id="9b5cd-164">El colaborador tiene "no acciones", como actualizar el acceso de los usuarios en Active Directory.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-164">The Contributor has "Not Actions" such as updating the access for users in the Active Directory.</span></span>
* <span data-ttu-id="9b5cd-165">Entre los roles para el almacenamiento se incluyen, entre otros, los siguientes:</span><span class="sxs-lookup"><span data-stu-id="9b5cd-165">Roles for storage include (but are not limited to) the following:</span></span>

  * <span data-ttu-id="9b5cd-166">Propietario: puede administrar todo, incluido el acceso.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-166">Owner – They can manage everything, including access.</span></span>
  * <span data-ttu-id="9b5cd-167">Colaborador: puede hacer lo mismo que el propietario, salvo asignar acceso.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-167">Contributor – They can do anything the owner can do except assign access.</span></span> <span data-ttu-id="9b5cd-168">Un usuario con este rol puede ver y volver a generar las claves de cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-168">Someone with this role can view and regenerate the storage account keys.</span></span> <span data-ttu-id="9b5cd-169">Con las claves de cuenta de almacenamiento, puede tener acceso a los objetos de datos.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-169">With the storage account keys, they can access the data objects.</span></span>
  * <span data-ttu-id="9b5cd-170">Lector: puede ver información sobre la cuenta de almacenamiento, excepto los secretos.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-170">Reader – They can view information about the storage account, except secrets.</span></span> <span data-ttu-id="9b5cd-171">Por ejemplo, si asigna un rol con permisos de lectura sobre la cuenta de almacenamiento a otro usuario, este puede ver las propiedades de la cuenta de almacenamiento, pero no puede realizar cambios en las propiedades ni ver las claves de cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-171">For example, if you assign a role with reader permissions on the storage account to someone, they can view the properties of the storage account, but they can't make any changes to the properties or view the storage account keys.</span></span>
  * <span data-ttu-id="9b5cd-172">Colaborador de la cuenta de almacenamiento: puede administrar la cuenta de almacenamiento, leer los grupos de recursos y los recursos de la suscripción, y crear y administrar implementaciones de los grupos de recursos de la suscripción.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-172">Storage Account Contributor – They can manage the storage account – they can read the subscription's resource groups and resources, and create and manage subscription resource group deployments.</span></span> <span data-ttu-id="9b5cd-173">También puede acceder a las claves de cuenta de almacenamiento, lo que a su vez implica que puede acceder al plano de los datos.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-173">They can also access the storage account keys, which in turn means they can access the data plane.</span></span>
  * <span data-ttu-id="9b5cd-174">Administrador de acceso de usuarios: puede administrar el acceso de los usuarios a la cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-174">User Access Administrator – They can manage user access to the storage account.</span></span> <span data-ttu-id="9b5cd-175">Por ejemplo, puede conceder acceso de lectura a un usuario específico.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-175">For example, they can grant Reader access to a specific user.</span></span>
  * <span data-ttu-id="9b5cd-176">Colaborador de la máquina virtual: puede administrar máquinas virtuales, pero no la cuenta de almacenamiento o la red virtual a la que están conectadas.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-176">Virtual Machine Contributor – They can manage virtual machines but not the storage account to which they are connected.</span></span> <span data-ttu-id="9b5cd-177">Este rol puede listar las claves de cuenta de almacenamiento, lo que significa que el usuario a quien asigne este rol puede actualizar el plano de los datos.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-177">This role can list the storage account keys, which means that the user to whom you assign this role can update the data plane.</span></span>

    <span data-ttu-id="9b5cd-178">Para que un usuario pueda crear una máquina virtual, tiene que poder crear el archivo VHD correspondiente en una cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-178">In order for a user to create a virtual machine, they have to be able to create the corresponding VHD file in a storage account.</span></span> <span data-ttu-id="9b5cd-179">Para ello, es necesario que pueda recuperar la clave de la cuenta de almacenamiento y pasarla a la API que está creando la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-179">To do that, they need to be able to retrieve the storage account key and pass it to the API creating the VM.</span></span> <span data-ttu-id="9b5cd-180">Por lo tanto, es necesario que disponga de este permiso para listar las claves de cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-180">Therefore, they must have this permission so they can list the storage account keys.</span></span>
* <span data-ttu-id="9b5cd-181">La posibilidad de definir roles personalizados es una característica que le permite crear un conjunto de acciones desde una lista de acciones disponibles que se puede llevar a cabo sobre recursos de Azure.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-181">The ability to define custom roles is a feature that allows you to compose a set of actions from a list of available actions that can be performed on Azure resources.</span></span>
* <span data-ttu-id="9b5cd-182">Es necesario que el usuario se haya configurado en Azure Active Directory para poder asignarle un rol.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-182">The user has to be set up in your Azure Active Directory before you can assign a role to them.</span></span>
* <span data-ttu-id="9b5cd-183">Puede crear un informe de quién concedió/revocó qué tipo de acceso a quién y en qué ámbito con PowerShell o la CLI de Azure.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-183">You can create a report of who granted/revoked what kind of access to/from whom and on what scope using PowerShell or the Azure CLI.</span></span>

#### <a name="resources"></a><span data-ttu-id="9b5cd-184">Recursos</span><span class="sxs-lookup"><span data-stu-id="9b5cd-184">Resources</span></span>
* [<span data-ttu-id="9b5cd-185">Control de acceso basado en roles de Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="9b5cd-185">Azure Active Directory Role-based Access Control</span></span>](../active-directory/role-based-access-control-configure.md)

  <span data-ttu-id="9b5cd-186">En este artículo se explica el control de acceso basado en rol de Azure Active Directory y su funcionamiento.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-186">This article explains the Azure Active Directory Role-based Access Control and how it works.</span></span>
* [<span data-ttu-id="9b5cd-187">RBAC: Roles integrados</span><span class="sxs-lookup"><span data-stu-id="9b5cd-187">RBAC: Built in Roles</span></span>](../active-directory/role-based-access-built-in-roles.md)

  <span data-ttu-id="9b5cd-188">En este artículo se detalla todas las funciones integradas disponibles en el control de acceso basado en rol.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-188">This article details all of the built-in roles available in RBAC.</span></span>
* [<span data-ttu-id="9b5cd-189">Descripción de la implementación de Resource Manager y la implementación clásica</span><span class="sxs-lookup"><span data-stu-id="9b5cd-189">Understanding Resource Manager deployment and classic deployment</span></span>](../azure-resource-manager/resource-manager-deployment-model.md)

  <span data-ttu-id="9b5cd-190">En este artículo se explican los modelos de implementación clásica y de Resource Manager, y se detallan las ventajas de utilizar Resource Manager y los grupos de recursos.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-190">This article explains the Resource Manager deployment and classic deployment models, and explains the benefits of using the Resource Manager and resource groups.</span></span> <span data-ttu-id="9b5cd-191">Se explica cómo funcionan los proveedores de Azure Compute, Network y Storage en el modelo de Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-191">It explains how the Azure Compute, Network, and Storage Providers work under the Resource Manager model.</span></span>
* [<span data-ttu-id="9b5cd-192">Administración del control de acceso basado en rol con la API de REST</span><span class="sxs-lookup"><span data-stu-id="9b5cd-192">Managing Role-Based Access Control with the REST API</span></span>](../active-directory/role-based-access-control-manage-access-rest.md)

  <span data-ttu-id="9b5cd-193">En este artículo se muestra cómo utilizar la API de REST para administrar el control de acceso basado en rol.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-193">This article shows how to use the REST API to manage RBAC.</span></span>
* [<span data-ttu-id="9b5cd-194">Referencia de API de REST de proveedor de recursos de Azure Storage</span><span class="sxs-lookup"><span data-stu-id="9b5cd-194">Azure Storage Resource Provider REST API Reference</span></span>](https://msdn.microsoft.com/library/azure/mt163683.aspx)

  <span data-ttu-id="9b5cd-195">Esta es la referencia para las API que puede usar para administrar la cuenta de almacenamiento mediante programación.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-195">This is the reference for the APIs you can use to manage your storage account programmatically.</span></span>
* <span data-ttu-id="9b5cd-196">[Developer’s guide to auth with Azure Resource Manager API](http://www.dushyantgill.com/blog/2015/05/23/developers-guide-to-auth-with-azure-resource-manager-api/) (Guía del desarrollador para la autenticación con la API de Azure Resource Manager)</span><span class="sxs-lookup"><span data-stu-id="9b5cd-196">[Developer's guide to auth with Azure Resource Manager API](http://www.dushyantgill.com/blog/2015/05/23/developers-guide-to-auth-with-azure-resource-manager-api/)</span></span>

  <span data-ttu-id="9b5cd-197">En este artículo se muestra cómo realizar la autenticación mediante las API de Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-197">This article shows how to authenticate using the Resource Manager APIs.</span></span>
* [<span data-ttu-id="9b5cd-198">Role-Based Access Control for Microsoft Azure from Ignite (Control de acceso basado en rol para Microsoft Azure de Ignite)</span><span class="sxs-lookup"><span data-stu-id="9b5cd-198">Role-Based Access Control for Microsoft Azure from Ignite</span></span>](https://channel9.msdn.com/events/Ignite/2015/BRK2707)

  <span data-ttu-id="9b5cd-199">Este es un vínculo a un vídeo de Channel 9 de la conferencia de MS Ignite de 2015.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-199">This is a link to a video on Channel 9 from the 2015 MS Ignite conference.</span></span> <span data-ttu-id="9b5cd-200">En esta sesión, se abordan las funciones de notificación y administración de acceso en Azure y se exploran los procedimientos recomendados en torno a la protección del acceso a suscripciones de Azure con Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-200">In this session, they talk about access management and reporting capabilities in Azure, and explore best practices around securing access to Azure subscriptions using Azure Active Directory.</span></span>

### <a name="managing-your-storage-account-keys"></a><span data-ttu-id="9b5cd-201">Administración de las claves de cuenta de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="9b5cd-201">Managing Your Storage Account Keys</span></span>
<span data-ttu-id="9b5cd-202">Las claves de cuenta de almacenamiento son cadenas de 512 bits creadas por Azure que, junto con el nombre de la cuenta de almacenamiento, pueden usarse para tener acceso a los objetos de datos almacenados en la cuenta de almacenamiento; por ejemplo, blobs, entidades dentro de una tabla, mensajes de una cola y archivos en un recurso compartido de archivos de Azure.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-202">Storage account keys are 512-bit strings created by Azure that, along with the storage account name, can be used to access the data objects stored in the storage account, e.g. blobs, entities within a table, queue messages, and files on an Azure File share.</span></span> <span data-ttu-id="9b5cd-203">El control del acceso a las claves de cuenta de almacenamiento controla el acceso al plano de los datos de esa cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-203">Controlling access to the storage account keys controls access to the data plane for that storage account.</span></span>

<span data-ttu-id="9b5cd-204">Cada cuenta de almacenamiento tiene dos claves que se conocen como "Key 1" y "Key 2" en [Azure Portal](http://portal.azure.com/) y en los cmdlets de PowerShell.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-204">Each storage account has two keys referred to as "Key 1" and "Key 2" in the [Azure portal](http://portal.azure.com/) and in the PowerShell cmdlets.</span></span> <span data-ttu-id="9b5cd-205">Es posible volver a generarlas manualmente con diferentes métodos, como el uso de [Azure Portal](https://portal.azure.com/), PowerShell o la CLI de Azure, o mediante programación con la biblioteca de clientes de Storage de .NET o la API de REST de los servicios de Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-205">These can be regenerated manually using one of several methods, including, but not limited to using the [Azure portal](https://portal.azure.com/), PowerShell, the Azure CLI, or programmatically using the .NET Storage Client Library or the Azure Storage Services REST API.</span></span>

<span data-ttu-id="9b5cd-206">Hay varias razones que justifican volver a generar las claves de cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-206">There are any number of reasons to regenerate your storage account keys.</span></span>

* <span data-ttu-id="9b5cd-207">Puede cambiarlas de nuevo de manera periódica por motivos de seguridad.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-207">You might regenerate them on a regular basis for security reasons.</span></span>
* <span data-ttu-id="9b5cd-208">Podría volver a generar las claves de cuenta de almacenamiento si alguien consiguiera atacar una aplicación y recuperar la clave que se codificó de forma rígida o se guardó en un archivo de configuración, con lo que tendría acceso completo a la cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-208">You would regenerate your storage account keys if someone managed to hack into an application and retrieve the key that was hardcoded or saved in a configuration file, giving them full access to your storage account.</span></span>
* <span data-ttu-id="9b5cd-209">También podría volver a generar la clave si el equipo utilizara una aplicación de explorador de Storage que conserve la clave de la cuenta de almacenamiento y uno de los miembros abandonara el equipo.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-209">Another case for key regeneration is if your team is using a Storage Explorer application that retains the storage account key, and one of the team members leaves.</span></span> <span data-ttu-id="9b5cd-210">La aplicación seguiría funcionando y permitiría a ese antiguo miembro acceder a la cuenta de almacenamiento cuando ya no forme parte del equipo.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-210">The application would continue to work, giving them access to your storage account after they're gone.</span></span> <span data-ttu-id="9b5cd-211">Este es realmente el motivo principal por el que se crean Firmas de acceso compartido de nivel de cuenta, ya que al utilizarlas no es necesario almacenar las claves de acceso en un archivo de configuración.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-211">This is actually the primary reason they created account-level Shared Access Signatures – you can use an account-level SAS instead of storing the access keys in a configuration file.</span></span>

#### <a name="key-regeneration-plan"></a><span data-ttu-id="9b5cd-212">Plan de regeneración de claves</span><span class="sxs-lookup"><span data-stu-id="9b5cd-212">Key regeneration plan</span></span>
<span data-ttu-id="9b5cd-213">No es buena idea limitarse a volver a generar la clave que está utilizando sin planificación.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-213">You don't want to just regenerate the key you are using without some planning.</span></span> <span data-ttu-id="9b5cd-214">Si no lo hace así, podría cortar todo el acceso a esa cuenta de almacenamiento, lo que podría provocar una interrupción importante.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-214">If you do that, you could cut off all access to that storage account, which can cause major disruption.</span></span> <span data-ttu-id="9b5cd-215">Este es el motivo por el cual hay dos claves.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-215">This is why there are two keys.</span></span> <span data-ttu-id="9b5cd-216">Puede volver a generar una de ellas y luego la otra en vez de hacerlo de manera simultánea.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-216">You should regenerate one key at a time.</span></span>

<span data-ttu-id="9b5cd-217">Antes de volver a generar las claves, asegúrese de que dispone de una lista de todas las aplicaciones que dependen de la cuenta de almacenamiento, así como cualquier otro servicio que se use en Azure.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-217">Before you regenerate your keys, be sure you have a list of all of your applications that are dependent on the storage account, as well as any other services you are using in Azure.</span></span> <span data-ttu-id="9b5cd-218">Por ejemplo, si usa instancias de Azure Media Services que dependen de su cuenta de almacenamiento, debe volver a sincronizar las claves de acceso con los servicios multimedia después de volver a generar las claves.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-218">For example, if you are using Azure Media Services that are dependent on your storage account, you must re-sync the access keys with your media service after you regenerate the key.</span></span> <span data-ttu-id="9b5cd-219">Si está utilizando otras aplicaciones, como un explorador de Storage, debe proporcionarles también las nuevas claves.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-219">If you are using any applications such as a storage explorer, you will need to provide the new keys to those applications as well.</span></span> <span data-ttu-id="9b5cd-220">Observe que si tiene máquinas virtuales cuyos archivos VHD se almacenan en la cuenta de almacenamiento, estos no se verán afectados por la regeneración de las claves de cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-220">Note that if you have VMs whose VHD files are stored in the storage account, they will not be affected by regenerating the storage account keys.</span></span>

<span data-ttu-id="9b5cd-221">Puede volver a generar las claves en Azure Portal.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-221">You can regenerate your keys in the Azure portal.</span></span> <span data-ttu-id="9b5cd-222">Una vez que se vuelven a generar, las claves pueden tardar hasta 10 minutos en sincronizarse en todos los servicios de Storage.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-222">Once keys are regenerated they can take up to 10 minutes to be synchronized across Storage Services.</span></span>

<span data-ttu-id="9b5cd-223">Cuando esté listo, este es el proceso general que detalla cómo se debe cambiar la clave.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-223">When you're ready, here's the general process detailing how you should change your key.</span></span> <span data-ttu-id="9b5cd-224">En este caso, suponemos que actualmente usa la Clave 1 y que va a cambiar todo para usar la Clave 2 en su lugar.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-224">In this case, the assumption is that you are currently using Key 1 and you are going to change everything to use Key 2 instead.</span></span>

1. <span data-ttu-id="9b5cd-225">Vuelva a generar la Clave 2 para asegurarse de que sea segura.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-225">Regenerate Key 2 to ensure that it is secure.</span></span> <span data-ttu-id="9b5cd-226">Puede hacerlo en Azure Portal.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-226">You can do this in the Azure portal.</span></span>
2. <span data-ttu-id="9b5cd-227">En todas las aplicaciones donde se almacena la clave de almacenamiento, cámbiela para usar el nuevo valor de Key 2.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-227">In all of the applications where the storage key is stored, change the storage key to use Key 2's new value.</span></span> <span data-ttu-id="9b5cd-228">Pruebe y publique la aplicación.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-228">Test and publish the application.</span></span>
3. <span data-ttu-id="9b5cd-229">Una vez que todas las aplicaciones y los servicios estén activos y se estén ejecutando correctamente, vuelva a generar la Clave 1.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-229">After all of the applications and services are up and running successfully, regenerate Key 1.</span></span> <span data-ttu-id="9b5cd-230">De este modo se asegura de que nadie a quien no haya proporcionado expresamente la nueva clave seguirá teniendo acceso a la cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-230">This ensures that anybody to whom you have not expressly given the new key will no longer have access to the storage account.</span></span>

<span data-ttu-id="9b5cd-231">Si actualmente utiliza la Clave 2, siga este mismo proceso pero invierta los nombres de las claves.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-231">If you are currently using Key 2, you can use the same process, but reverse the key names.</span></span>

<span data-ttu-id="9b5cd-232">Puede migrar en un par de días, cambiando cada aplicación para que use la nueva clave y publicándola.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-232">You can migrate over a couple of days, changing each application to use the new key and publishing it.</span></span> <span data-ttu-id="9b5cd-233">Cuando lo haya hecho con todas, debe volver y generar de nuevo la clave antigua para que deje de funcionar.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-233">After all of them are done, you should then go back and regenerate the old key so it no longer works.</span></span>

<span data-ttu-id="9b5cd-234">Otra opción consiste en poner la clave de la cuenta de almacenamiento en [Azure Key Vault](https://azure.microsoft.com/services/key-vault/) como un secreto y hacer que las aplicaciones recuperen la clave desde esa ubicación.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-234">Another option is to put the storage account key in an [Azure Key Vault](https://azure.microsoft.com/services/key-vault/) as a secret and have your applications retrieve the key from there.</span></span> <span data-ttu-id="9b5cd-235">Así, cuando vuelva a generar la clave y actualice Azure Key Vault, no será necesario volver a implementar las aplicaciones porque tomarán la nueva clave desde dicho almacén automáticamente.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-235">Then when you regenerate the key and update the Azure Key Vault, the applications will not need to be redeployed because they will pick up the new key from the Azure Key Vault automatically.</span></span> <span data-ttu-id="9b5cd-236">Tenga en cuenta que puede hacer que la aplicación lea la clave cada vez que la necesite, o bien puede almacenarla en la memoria caché y, si se produce un error al usarla, se recuperaría de nuevo desde Azure Key Vault.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-236">Note that you can have the application read the key each time you need it, or you can cache it in memory and if it fails when using it, retrieve the key again from the Azure Key Vault.</span></span>

<span data-ttu-id="9b5cd-237">El uso de Azure Key Vault también agrega otro nivel de seguridad a las claves de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-237">Using Azure Key Vault also adds another level of security for your storage keys.</span></span> <span data-ttu-id="9b5cd-238">Si utiliza este método, nunca tendrá la clave de almacenamiento codificada de manera rígida en un archivo de configuración, lo que impide que alguien obtenga acceso a las claves sin permiso específico.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-238">If you use this method, you will never have the storage key hardcoded in a configuration file, which removes that avenue of somebody getting access to the keys without specific permission.</span></span>

<span data-ttu-id="9b5cd-239">Otra ventaja de usar Azure Key Vault es que también puede controlar el acceso a las claves con Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-239">Another advantage of using Azure Key Vault is you can also control access to your keys using Azure Active Directory.</span></span> <span data-ttu-id="9b5cd-240">Esto significa que puede conceder acceso a la serie de aplicaciones que necesitan recuperar las claves de Azure Key Vault, y sabe que otras aplicaciones no podrán tener acceso a las claves sin concederles el permiso específicamente.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-240">This means you can grant access to the handful of applications that need to retrieve the keys from Azure Key Vault, and know that other applications will not be able to access the keys without granting them permission specifically.</span></span>

<span data-ttu-id="9b5cd-241">Nota: Se recomienda usar solo una de las claves en todas las aplicaciones al mismo tiempo.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-241">Note: it is recommended to use only one of the keys in all of your applications at the same time.</span></span> <span data-ttu-id="9b5cd-242">Si utiliza la Clave 1 en algunos lugares y la Clave 2 en otros, no podrá rotar las claves sin que alguna aplicación pierda el acceso.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-242">If you use Key 1 in some places and Key 2 in others, you will not be able to rotate your keys without some application losing access.</span></span>

#### <a name="resources"></a><span data-ttu-id="9b5cd-243">Recursos</span><span class="sxs-lookup"><span data-stu-id="9b5cd-243">Resources</span></span>
* [<span data-ttu-id="9b5cd-244">Acerca de las cuentas de Azure Storage</span><span class="sxs-lookup"><span data-stu-id="9b5cd-244">About Azure Storage Accounts</span></span>](storage-create-storage-account.md#regenerate-storage-access-keys)

  <span data-ttu-id="9b5cd-245">En este artículo se ofrece una visión general de las cuentas de almacenamiento y se trata la visualización, la copia y la regeneración de las claves de acceso de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-245">This article gives an overview of storage accounts and discusses viewing, copying, and regenerating storage access keys.</span></span>
* [<span data-ttu-id="9b5cd-246">Referencia de API de REST de proveedor de recursos de Azure Storage</span><span class="sxs-lookup"><span data-stu-id="9b5cd-246">Azure Storage Resource Provider REST API Reference</span></span>](https://msdn.microsoft.com/library/mt163683.aspx)

  <span data-ttu-id="9b5cd-247">Este artículo contiene vínculos a artículos específicos sobre la recuperación de las claves de cuenta de almacenamiento y su regeneración para una cuenta de Azure que usa la API de REST.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-247">This article contains links to specific articles about retrieving the storage account keys and regenerating the storage account keys for an Azure Account using the REST API.</span></span> <span data-ttu-id="9b5cd-248">Nota: Se trata de cuentas de almacenamiento de Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-248">Note: This is for  Resource Manager storage accounts.</span></span>
* [<span data-ttu-id="9b5cd-249">Operaciones en cuentas de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="9b5cd-249">Operations on storage accounts</span></span>](https://msdn.microsoft.com/library/ee460790.aspx)

  <span data-ttu-id="9b5cd-250">Este artículo de la referencia de API de REST del administrador de servicios de almacenamiento contiene vínculos a artículos específicos sobre la recuperación y la regeneración de las claves de cuenta de almacenamiento mediante la API de REST.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-250">This article in the Storage Service Manager REST API Reference contains links to specific articles on retrieving and regenerating the storage account keys using the REST API.</span></span> <span data-ttu-id="9b5cd-251">Nota: Esto se dirige a las cuentas de almacenamiento Estándar.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-251">Note: This is for the Classic storage accounts.</span></span>
* [<span data-ttu-id="9b5cd-252">Say goodbye to key management – manage access to Azure Storage data using Azure AD (Adiós a administración de claves: administre el acceso a los datos de Azure Storage con Azure AD)</span><span class="sxs-lookup"><span data-stu-id="9b5cd-252">Say goodbye to key management – manage access to Azure Storage data using Azure AD</span></span>](http://www.dushyantgill.com/blog/2015/04/26/say-goodbye-to-key-management-manage-access-to-azure-storage-data-using-azure-ad/)

  <span data-ttu-id="9b5cd-253">Este artículo muestra cómo utilizar Active Directory para controlar el acceso a las claves de Azure Storage en Azure Key Vault.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-253">This article shows how to use Active Directory to control access to your Azure Storage keys in Azure Key Vault.</span></span> <span data-ttu-id="9b5cd-254">También muestra cómo utilizar un trabajo de Azure Automation para regenerar las claves cada hora.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-254">It also shows how to use an Azure Automation job to regenerate the keys on an hourly basis.</span></span>

## <a name="data-plane-security"></a><span data-ttu-id="9b5cd-255">Seguridad en el plano de los datos</span><span class="sxs-lookup"><span data-stu-id="9b5cd-255">Data Plane Security</span></span>
<span data-ttu-id="9b5cd-256">La seguridad en el plano de los datos hace referencia a los métodos utilizados para proteger los objetos de datos almacenados en Azure Storage: blobs, colas, tablas y archivos.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-256">Data Plane Security refers to the methods used to secure the data objects stored in Azure Storage – the blobs, queues, tables, and files.</span></span> <span data-ttu-id="9b5cd-257">Hemos visto métodos para cifrar los datos y la seguridad durante el tránsito de los datos, pero ¿qué hay sobre permitir el acceso a los objetos?</span><span class="sxs-lookup"><span data-stu-id="9b5cd-257">We've seen methods to encrypt the data and security during transit of the data, but how do you go about allowing access to the objects?</span></span>

<span data-ttu-id="9b5cd-258">Básicamente, existen dos métodos para controlar el acceso a los propios objetos de datos.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-258">There are basically two methods for controlling access to the data objects themselves.</span></span> <span data-ttu-id="9b5cd-259">El primero es controlar el acceso a las claves de cuenta de almacenamiento, y el segundo es usar Firmas de acceso compartido para conceder acceso a objetos de datos específicos durante un período de tiempo determinado.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-259">The first is by controlling access to the storage account keys, and the second is using Shared Access Signatures to grant access to specific data objects for a specific amount of time.</span></span>

<span data-ttu-id="9b5cd-260">Debe observar una excepción: puede permitir el acceso público a los blobs estableciendo el nivel de acceso para el contenedor que almacena los blobs en consecuencia.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-260">One exception to note is that you can allow public access to your blobs by setting the access level for the container that holds the blobs accordingly.</span></span> <span data-ttu-id="9b5cd-261">Si configura el acceso para un contenedor en Blob o Contenedor, permitirá el acceso de lectura público a los blobs en ese contenedor.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-261">If you set access for a container to Blob or Container, it will allow public read access for the blobs in that container.</span></span> <span data-ttu-id="9b5cd-262">Esto significa que cualquier usuario que tenga una dirección URL que apunte a un blob de ese contenedor podrá abrirlo en un explorador sin necesidad de una Firma de acceso compartido o las claves de cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-262">This means anyone with a URL pointing to a blob in that container can open it in a browser without using a Shared Access Signature or having the storage account keys.</span></span>

### <a name="storage-account-keys"></a><span data-ttu-id="9b5cd-263">Claves de cuenta de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="9b5cd-263">Storage Account Keys</span></span>
<span data-ttu-id="9b5cd-264">Las claves de cuenta de almacenamiento son cadenas de 512 bits creadas por Azure que, junto con el nombre de la cuenta de almacenamiento, pueden utilizarse para tener acceso a los objetos de datos almacenados en la cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-264">Storage account keys are 512-bit strings created by Azure that, along with the storage account name, can be used to access the data objects stored in the storage account.</span></span>

<span data-ttu-id="9b5cd-265">Por ejemplo, puede leer blobs, escribir en colas, crear tablas y modificar los archivos.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-265">For example, you can read blobs, write to queues, create tables, and modify files.</span></span> <span data-ttu-id="9b5cd-266">Muchas de estas acciones pueden realizarse a través de Azure Portal, o usando una de las muchas aplicaciones del Explorador de Storage.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-266">Many of these actions can be performed through the Azure portal, or using one of many Storage Explorer applications.</span></span> <span data-ttu-id="9b5cd-267">También puede escribir código para usar la API de REST o una de las bibliotecas de cliente de Storage para realizar estas operaciones.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-267">You can also write code to use the REST API or one of the Storage Client Libraries to perform these operations.</span></span>

<span data-ttu-id="9b5cd-268">Como se describe en la sección sobre la [Seguridad en el plano de la administración](#management-plane-security), el acceso a las claves de almacenamiento de una cuenta de almacenamiento clásica se puede conceder proporcionando acceso completo a la suscripción de Azure.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-268">As discussed in the section on the [Management Plane Security](#management-plane-security), access to the storage keys for a Classic storage account can be granted by giving full access to the Azure subscription.</span></span> <span data-ttu-id="9b5cd-269">El acceso a las claves de almacenamiento para una cuenta de almacenamiento mediante el modelo de Azure Resource Manager puede controlarse mediante el control de acceso basado en rol.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-269">Access to the storage keys for a storage account using the Azure Resource Manager model can be controlled through Role-Based Access Control (RBAC).</span></span>

### <a name="how-to-delegate-access-to-objects-in-your-account-using-shared-access-signatures-and-stored-access-policies"></a><span data-ttu-id="9b5cd-270">Delegación del acceso a objetos en la cuenta mediante Firmas de acceso compartido y Directivas de acceso almacenadas</span><span class="sxs-lookup"><span data-stu-id="9b5cd-270">How to delegate access to objects in your account using Shared Access Signatures and Stored Access Policies</span></span>
<span data-ttu-id="9b5cd-271">Una Firma de acceso compartido es una cadena que contiene un token de seguridad que puede asociarse a un URI que le permite delegar el acceso a objetos de almacenamiento y especificar restricciones, como permisos o un intervalo de fecha y hora para el acceso.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-271">A Shared Access Signature is a string containing a security token that can be attached to a URI that allows you to delegate access to storage objects and specify constraints such as the permissions and the date/time range of access.</span></span>

<span data-ttu-id="9b5cd-272">Puede conceder acceso a blobs, contenedores, mensajes de colas, archivos y tablas.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-272">You can grant access to blobs, containers, queue messages, files, and tables.</span></span> <span data-ttu-id="9b5cd-273">En el caso de las tablas, realmente puede conceder permiso para tener acceso a un intervalo de entidades en la tabla especificando los intervalos de clave de fila y partición a los que desea que el usuario tenga acceso.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-273">With tables, you can actually grant permission to access a range of entities in the table by specifying the partition and row key ranges to which you want the user to have access.</span></span> <span data-ttu-id="9b5cd-274">Por ejemplo, si tiene datos almacenados con una clave de partición por estados geográficos, podría dar a una persona acceso a los datos de California.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-274">For example, if you have data stored with a partition key of geographical state, you could give someone access to just the data for California.</span></span>

<span data-ttu-id="9b5cd-275">En otro ejemplo, podría proporcionar un token de Firma de acceso compartido a una aplicación web que le permitiera escribir entradas en una cola, y proporcionar otro token de Firma de acceso compartido a una aplicación de rol de trabajo para que obtenga mensajes de la cola y los procese.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-275">In another example, you might give a web application a SAS token that enables it to write entries to a queue, and give a worker role application a SAS token to get messages from the queue and process them.</span></span> <span data-ttu-id="9b5cd-276">O bien, podría dar a un cliente un token de Firma de acceso compartido que pueda utilizar para cargar imágenes a un contenedor en Blob Storage y conceder permiso a una aplicación web para que lea esas imágenes.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-276">Or you could give one customer a SAS token they can use to upload pictures to a container in Blob Storage, and give a web application permission to read those pictures.</span></span> <span data-ttu-id="9b5cd-277">En ambos casos, se trata de procesos independientes: es posible dar a cada aplicación solo el acceso que requiere para realizar sus tareas.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-277">In both cases, there is a separation of concerns – each application can be given just the access that they require in order to perform their task.</span></span> <span data-ttu-id="9b5cd-278">Esto es posible mediante el uso de Firmas de acceso compartido.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-278">This is possible through the use of Shared Access Signatures.</span></span>

#### <a name="why-you-want-to-use-shared-access-signatures"></a><span data-ttu-id="9b5cd-279">Razones para usar las Firmas de acceso compartido</span><span class="sxs-lookup"><span data-stu-id="9b5cd-279">Why you want to use Shared Access Signatures</span></span>
<span data-ttu-id="9b5cd-280">¿Por qué desearía utilizar una Firma de acceso compartido en lugar de simplemente proporcionar la clave de la cuenta de almacenamiento, que es mucho más fácil?</span><span class="sxs-lookup"><span data-stu-id="9b5cd-280">Why would you want to use an SAS instead of just giving out your storage account key, which is so much easier?</span></span> <span data-ttu-id="9b5cd-281">Si comparte la clave de su cuenta de almacenamiento es como si prestara a alguien las llaves de su reino de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-281">Giving out your storage account key is like sharing the keys of your storage kingdom.</span></span> <span data-ttu-id="9b5cd-282">Con ella, es posible acceder a todo el contenido.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-282">It grants complete access.</span></span> <span data-ttu-id="9b5cd-283">Cualquiera podría usar sus claves y cargar toda su biblioteca de música en la cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-283">Someone could use your keys and upload their entire music library to your storage account.</span></span> <span data-ttu-id="9b5cd-284">También podría reemplazar sus archivos por versiones infectadas o robar sus datos.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-284">They could also replace your files with virus-infected versions, or steal your data.</span></span> <span data-ttu-id="9b5cd-285">Conceder acceso ilimitado a su cuenta de almacenamiento es algo que no debe hacerse a la ligera.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-285">Giving away unlimited access to your storage account is something that should not be taken lightly.</span></span>

<span data-ttu-id="9b5cd-286">Con las Firmas de acceso compartido, es posible conceder a un cliente únicamente los permisos que necesite durante un período de tiempo limitado.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-286">With Shared Access Signatures, you can give a client just the permissions required for a limited amount of time.</span></span> <span data-ttu-id="9b5cd-287">Por ejemplo, si alguien está cargando un blob a su cuenta, puede concederle acceso de escritura durante un tiempo suficiente que le permita cargar el blob (dependerá del tamaño del blob, por supuesto).</span><span class="sxs-lookup"><span data-stu-id="9b5cd-287">For example, if someone is uploading a blob to your account, you can grant them write access for just enough time to upload the blob (depending on the size of the blob, of course).</span></span> <span data-ttu-id="9b5cd-288">Y si cambia de opinión, puede revocar el acceso.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-288">And if you change your mind, you can revoke that access.</span></span>

<span data-ttu-id="9b5cd-289">Además, puede especificar que las solicitudes realizadas mediante una Firma de acceso compartido se limiten a una cierta dirección IP o un intervalo de direcciones IP externas a Azure.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-289">Additionally, you can specify that requests made using a SAS are restricted to a certain IP address or IP address range external to Azure.</span></span> <span data-ttu-id="9b5cd-290">También puede requerir que las solicitudes se realicen mediante un protocolo específico (HTTPS o HTTP/HTTPS).</span><span class="sxs-lookup"><span data-stu-id="9b5cd-290">You can also require that requests are made using a specific protocol (HTTPS or HTTP/HTTPS).</span></span> <span data-ttu-id="9b5cd-291">Esto significa que si solo desea permitir el tráfico HTTPS, puede establecer que el protocolo requerido sea solo HTTPS y se bloqueará el tráfico HTTP.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-291">This means if you only want to allow HTTPS traffic, you can set the required protocol to HTTPS only, and HTTP traffic will be blocked.</span></span>

#### <a name="definition-of-a-shared-access-signature"></a><span data-ttu-id="9b5cd-292">Definición de una Firma de acceso compartido</span><span class="sxs-lookup"><span data-stu-id="9b5cd-292">Definition of a Shared Access Signature</span></span>
<span data-ttu-id="9b5cd-293">Una Firma de acceso compartido es un conjunto de parámetros de consulta anexo a la dirección URL que señala al recurso</span><span class="sxs-lookup"><span data-stu-id="9b5cd-293">A Shared Access Signature is a set of query parameters appended to the URL pointing at the resource</span></span>

<span data-ttu-id="9b5cd-294">que proporciona información sobre el acceso permitido y el intervalo de tiempo durante el que se permite el acceso.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-294">that provides information about the access allowed and the length of time for which the access is permitted.</span></span> <span data-ttu-id="9b5cd-295">Aquí presentamos un ejemplo: este URI proporciona acceso de lectura a un blob durante cinco minutos.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-295">Here is an example; this URI provides read access to a blob for five minutes.</span></span> <span data-ttu-id="9b5cd-296">Tenga en cuenta que los parámetros de consulta de la Firma de acceso compartido deben presentar codificación URL; por ejemplo %3A para los dos puntos (:) o %20 para un espacio.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-296">Note that SAS query parameters must be URL Encoded, such as %3A for colon (:) or %20 for a space.</span></span>

```
http://mystorage.blob.core.windows.net/mycontainer/myblob.txt (URL to the blob)
?sv=2015-04-05 (storage service version)
&st=2015-12-10T22%3A18%3A26Z (start time, in UTC time and URL encoded)
&se=2015-12-10T22%3A23%3A26Z (end time, in UTC time and URL encoded)
&sr=b (resource is a blob)
&sp=r (read access)
&sip=168.1.5.60-168.1.5.70 (requests can only come from this range of IP addresses)
&spr=https (only allow HTTPS requests)
&sig=Z%2FRHIX5Xcg0Mq2rqI3OlWTjEg2tYkboXr1P9ZUXDtkk%3D (signature used for the authentication of the SAS)
```

#### <a name="how-the-shared-access-signature-is-authenticated-by-the-azure-storage-service"></a><span data-ttu-id="9b5cd-297">Autenticación de la Firma de acceso compartido por el servicio Azure Storage</span><span class="sxs-lookup"><span data-stu-id="9b5cd-297">How the Shared Access Signature is authenticated by the Azure Storage Service</span></span>
<span data-ttu-id="9b5cd-298">Cuando el servicio de almacenamiento recibe la solicitud, toma los parámetros de consulta de entrada y crea una firma utilizando el mismo método que el programa que realiza la llamada.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-298">When the storage service receives the request, it takes the input query parameters and creates a signature using the same method as the calling program.</span></span> <span data-ttu-id="9b5cd-299">A continuación, compara las dos firmas.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-299">It then compares the two signatures.</span></span> <span data-ttu-id="9b5cd-300">Si coinciden, el servicio de Storage puede comprobar la versión del servicio para asegurarse de que es válida, comprobar que la fecha y la hora actuales están dentro del período especificado, asegurarse de que el acceso solicitado corresponde a la solicitud realizada, etc.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-300">If they agree, then the storage service can check the storage service version to make sure it's valid, verify that the current date and time are within the specified window, make sure the access requested corresponds to the request made, etc.</span></span>

<span data-ttu-id="9b5cd-301">Por ejemplo, con la dirección URL anterior, si la dirección URL apuntase a un archivo en lugar de a un blob, esta solicitud produciría un error porque especifica que la Firma de acceso compartido es para un blob.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-301">For example, with our URL above, if the URL was pointing to a file instead of a blob, this request would fail because it specifies that the Shared Access Signature is for a blob.</span></span> <span data-ttu-id="9b5cd-302">Si el comando REST al que se llama fuera para actualizar un blob, se produciría un error porque la Firma de acceso compartido especifica que se permite acceso de solo lectura.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-302">If the REST command being called was to update a blob, it would fail because the Shared Access Signature specifies that only read access is permitted.</span></span>

#### <a name="types-of-shared-access-signatures"></a><span data-ttu-id="9b5cd-303">Tipos de Firmas de acceso compartido</span><span class="sxs-lookup"><span data-stu-id="9b5cd-303">Types of Shared Access Signatures</span></span>
* <span data-ttu-id="9b5cd-304">Es posible utilizar una Firma de acceso compartido a nivel de servicio para tener acceso a recursos específicos de una cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-304">A service-level SAS can be used to access specific resources in a storage account.</span></span> <span data-ttu-id="9b5cd-305">Por ejemplo, para recuperar una lista de los blobs de un contenedor, descargar un blob, actualizar una entidad en una tabla, agregar mensajes a una cola o cargar un archivo en un recurso compartido de archivos.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-305">Some examples of this are retrieving a list of blobs in a container, downloading a blob, updating an entity in a table, adding messages to a queue or uploading a file to a file share.</span></span>
* <span data-ttu-id="9b5cd-306">Una Firma de acceso compartido a nivel de cuenta se puede utilizar para tener acceso a lo mismo para lo que se puede usar una Firma de acceso compartido a nivel de servicio.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-306">An account-level SAS can be used to access anything that a service-level SAS can be used for.</span></span> <span data-ttu-id="9b5cd-307">Además, puede dar opciones a los recursos que no se permiten con una Firma de acceso compartido a nivel de servicio, como la posibilidad de crear contenedores, tablas, colas y recursos compartidos de archivos.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-307">Additionally, it can give options to resources that are not permitted with a service-level SAS, such as the ability to create containers, tables, queues, and file shares.</span></span> <span data-ttu-id="9b5cd-308">También puede especificar el acceso a varios servicios a la vez.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-308">You can also specify access to multiple services at once.</span></span> <span data-ttu-id="9b5cd-309">Por ejemplo, puede conceder a alguien acceso tanto a blobs como a archivos en su cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-309">For example, you might give someone access to both blobs and files in your storage account.</span></span>

#### <a name="creating-an-sas-uri"></a><span data-ttu-id="9b5cd-310">Creación de un URI de Firma de acceso compartido</span><span class="sxs-lookup"><span data-stu-id="9b5cd-310">Creating an SAS URI</span></span>
1. <span data-ttu-id="9b5cd-311">Puede crear un URI ad hoc a petición, definiendo todos los parámetros de consulta cada vez.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-311">You can create an ad hoc URI on demand, defining all of the query parameters each time.</span></span>

   <span data-ttu-id="9b5cd-312">Esta opción es realmente flexible, pero si tiene un conjunto lógico de parámetros que se parecen cada vez, es mejor utilizar una Directiva de acceso almacenada.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-312">This is really flexible, but if you have a logical set of parameters that are similar each time, using a Stored Access Policy is a better idea.</span></span>
2. <span data-ttu-id="9b5cd-313">Puede crear una Directiva de acceso almacenada para todo un contenedor, el recurso compartido de archivos, la tabla o la cola.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-313">You can create a Stored Access Policy for an entire container, file share, table, or queue.</span></span> <span data-ttu-id="9b5cd-314">A continuación, puede utilizar esto como base para los URI de Firma de acceso compartido que cree.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-314">Then you can use this as the basis for the SAS URIs you create.</span></span> <span data-ttu-id="9b5cd-315">Los permisos basados en Directivas de acceso almacenadas se pueden revocar fácilmente.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-315">Permissions based on Stored Access Policies can be easily revoked.</span></span> <span data-ttu-id="9b5cd-316">Puede tener hasta 5 directivas definidas en cada contenedor, cola, tabla o recurso compartido de archivos.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-316">You can have up to 5 policies defined on each container, queue, table, or file share.</span></span>

   <span data-ttu-id="9b5cd-317">Por ejemplo, si en su caso muchas personas fueran a leer los blobs de un contenedor determinado, podría crear una Directiva de acceso almacenada para "conceder acceso de lectura" y cualquier otro valor que se repita.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-317">For example, if you were going to have many people read the blobs in a specific container, you could create a Stored Access Policy that says "give read access" and any other settings that will be the same each time.</span></span> <span data-ttu-id="9b5cd-318">A continuación, puede crear un URI de Firma de acceso compartido mediante la configuración de la Directiva de acceso almacenada y la especificación de la fecha y hora de expiración.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-318">Then you can create an SAS URI using the settings of the Stored Access Policy and specifying the expiration date/time.</span></span> <span data-ttu-id="9b5cd-319">Esto presenta la ventaja de que no es necesario especificar siempre todos los parámetros de consulta.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-319">The advantage of this is that you don't have to specify all of the query parameters every time.</span></span>

#### <a name="revocation"></a><span data-ttu-id="9b5cd-320">Revocación</span><span class="sxs-lookup"><span data-stu-id="9b5cd-320">Revocation</span></span>
<span data-ttu-id="9b5cd-321">Supongamos que se ha puesto en riesgo su Firma de acceso compartido o que desea cambiarla porque así se lo exigen los requisitos de seguridad de la empresa o el cumplimiento normativo.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-321">Suppose your SAS has been compromised, or you want to change it because of corporate security or regulatory compliance requirements.</span></span> <span data-ttu-id="9b5cd-322">¿Cómo se podría revocar el acceso a un recurso que use esa Firma de acceso compartido?</span><span class="sxs-lookup"><span data-stu-id="9b5cd-322">How do you revoke access to a resource using that SAS?</span></span> <span data-ttu-id="9b5cd-323">Depende de cómo haya creado el URI de la Firma de acceso compartido.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-323">It depends on how you created the SAS URI.</span></span>

<span data-ttu-id="9b5cd-324">Si utiliza URI ad hoc, tiene tres opciones.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-324">If you are using ad hoc URI's, you have three options.</span></span> <span data-ttu-id="9b5cd-325">Puede emitir tokens de Firmas de acceso compartido con directivas de expiración breves y simplemente esperar a que las firmas expiren.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-325">You can issue SAS tokens with short expiration policies and simply wait for the SAS to expire.</span></span> <span data-ttu-id="9b5cd-326">Puede cambiar el nombre del recurso o eliminarlo (suponiendo que el token estuviera limitado a un único objeto).</span><span class="sxs-lookup"><span data-stu-id="9b5cd-326">You can rename or delete the resource (assuming the token was scoped to a single object).</span></span> <span data-ttu-id="9b5cd-327">Puede cambiar las claves de cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-327">You can change the storage account keys.</span></span> <span data-ttu-id="9b5cd-328">Esta última opción puede conllevar importantes repercusiones, en función de cuántos servicios estén utilizando esa cuenta de almacenamiento, y no suele ser una buena idea hacerlo sin planificarlo previamente.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-328">This last option can have a big impact, depending on how many services are using that storage account, and probably isn't something you want to do without some planning.</span></span>

<span data-ttu-id="9b5cd-329">Si está utilizando una Firma de acceso compartido derivada de una directiva de acceso almacenada, puede quitar el acceso revocando la Directiva de acceso almacenada (puede cambiar solo lo que ya ha expirado o bien quitarlo todo en su conjunto).</span><span class="sxs-lookup"><span data-stu-id="9b5cd-329">If you are using a SAS derived from a Stored Access Policy, you can remove access by revoking the Stored Access Policy – you can just change it so it has already expired, or you can remove it altogether.</span></span> <span data-ttu-id="9b5cd-330">Esto surte efecto inmediatamente e invalida todas las Firmas de acceso compartido creadas utilizando esa Directiva de acceso almacenada.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-330">This takes effect immediately, and invalidates every SAS created using that Stored Access Policy.</span></span> <span data-ttu-id="9b5cd-331">El hecho de actualizar o quitar la Directiva de acceso almacenada puede repercutir en los usuarios que accedan específicamente a ese contenedor, recurso compartido de archivos, tabla o cola a través de la Firma de acceso compartido, pero si se han escrito los clientes de manera que soliciten una nueva Firma de acceso compartido cuando la anterior deje de ser válida, esto funcionará correctamente.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-331">Updating or removing the Stored Access Policy may impact people accessing that specific container, file share, table, or queue via SAS, but if the clients are written so they request a new SAS when the old one becomes invalid, this will work fine.</span></span>

<span data-ttu-id="9b5cd-332">Dado que el uso de una Firma de acceso compartido derivada de una Directiva de acceso almacenada ofrece la posibilidad de revocar esa firma de acceso compartido de inmediato, se recomienda usar siempre las Directivas de acceso almacenadas cuando sea posible.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-332">Because using a SAS derived from a Stored Access Policy gives you the ability to revoke that SAS immediately, it is the recommended best practice to always use Stored Access Policies when possible.</span></span>

#### <a name="resources"></a><span data-ttu-id="9b5cd-333">Recursos</span><span class="sxs-lookup"><span data-stu-id="9b5cd-333">Resources</span></span>
<span data-ttu-id="9b5cd-334">Para más información sobre el uso de Firmas de acceso compartido y Directivas de acceso almacenadas, junto con ejemplos, consulte los artículos siguientes:</span><span class="sxs-lookup"><span data-stu-id="9b5cd-334">For more detailed information on using Shared Access Signatures and Stored Access Policies, complete with examples, please refer to the following articles:</span></span>

* <span data-ttu-id="9b5cd-335">Estos son los artículos de referencia.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-335">These are the reference articles.</span></span>

  * [<span data-ttu-id="9b5cd-336">Ejemplos SAS del servicio.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-336">Service SAS</span></span>](https://msdn.microsoft.com/library/dn140256.aspx)

    <span data-ttu-id="9b5cd-337">Este artículo proporciona ejemplos de cómo utilizar una SAS de nivel de servicio con blobs, mensajes de cola, intervalos de tabla y archivos.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-337">This article provides examples of using a service-level SAS with blobs, queue messages, table ranges, and files.</span></span>
  * [<span data-ttu-id="9b5cd-338">Creación de una SAS de servicio</span><span class="sxs-lookup"><span data-stu-id="9b5cd-338">Constructing a service SAS</span></span>](https://msdn.microsoft.com/library/dn140255.aspx)
  * [<span data-ttu-id="9b5cd-339">Creación de una SAS de cuenta</span><span class="sxs-lookup"><span data-stu-id="9b5cd-339">Constructing an account SAS</span></span>](https://msdn.microsoft.com/library/mt584140.aspx)
* <span data-ttu-id="9b5cd-340">Se trata de tutoriales para usar la biblioteca de cliente .NET a fin de crear Firmas de acceso compartido y Directivas de acceso almacenadas.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-340">These are tutorials for using the .NET client library to create Shared Access Signatures and Stored Access Policies.</span></span>

  * [<span data-ttu-id="9b5cd-341">Uso de Firmas de acceso compartido (SAS)</span><span class="sxs-lookup"><span data-stu-id="9b5cd-341">Using Shared Access Signatures (SAS)</span></span>](storage-dotnet-shared-access-signature-part-1.md)
  * [<span data-ttu-id="9b5cd-342">Firmas de acceso compartido, Parte 2: Creación y uso de una firma de acceso compartido con Blob service</span><span class="sxs-lookup"><span data-stu-id="9b5cd-342">Shared Access Signatures, Part 2: Create and Use a SAS with the Blob Service</span></span>](storage-dotnet-shared-access-signature-part-2.md)

    <span data-ttu-id="9b5cd-343">Este artículo incluye una explicación del modelo de SAS, ejemplos de SAS y recomendaciones para el mejor uso práctico de SAS.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-343">This article includes an explanation of the SAS model, examples of Shared Access Signatures, and recommendations for the best practice use of SAS.</span></span> <span data-ttu-id="9b5cd-344">También trata la revocación de los permisos concedidos.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-344">Also discussed is the revocation of the permission granted.</span></span>
* <span data-ttu-id="9b5cd-345">Limitación del acceso por dirección IP (ACL de IP)</span><span class="sxs-lookup"><span data-stu-id="9b5cd-345">Limiting access by IP Address (IP ACLs)</span></span>

  * [<span data-ttu-id="9b5cd-346">¿Qué es una lista de control de acceso (ACL) de extremo?</span><span class="sxs-lookup"><span data-stu-id="9b5cd-346">What is an endpoint Access Control List (ACLs)?</span></span>](../virtual-network/virtual-networks-acl.md)
  * [<span data-ttu-id="9b5cd-347">Creación de una SAS de servicio</span><span class="sxs-lookup"><span data-stu-id="9b5cd-347">Constructing a Service SAS</span></span>](https://msdn.microsoft.com/library/azure/dn140255.aspx)

    <span data-ttu-id="9b5cd-348">Este es el artículo de referencia para SAS de nivel de servicio; incluye un ejemplo de creación de ACL de IP.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-348">This is the reference article for service-level SAS; it includes an example of IP ACLing.</span></span>
  * [<span data-ttu-id="9b5cd-349">Creación de una SAS de cuenta</span><span class="sxs-lookup"><span data-stu-id="9b5cd-349">Constructing an Account SAS</span></span>](https://msdn.microsoft.com/library/azure/mt584140.aspx)

    <span data-ttu-id="9b5cd-350">Este es el artículo de referencia para SAS de nivel de cuenta; incluye un ejemplo de creación de ACL de IP.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-350">This is the reference article for account-level SAS; it includes an example of IP ACLing.</span></span>
* <span data-ttu-id="9b5cd-351">Autenticación</span><span class="sxs-lookup"><span data-stu-id="9b5cd-351">Authentication</span></span>

  * [<span data-ttu-id="9b5cd-352">Autenticación para los servicios de Azure Storage</span><span class="sxs-lookup"><span data-stu-id="9b5cd-352">Authentication for the Azure Storage Services</span></span>](https://msdn.microsoft.com/library/azure/dd179428.aspx)
* <span data-ttu-id="9b5cd-353">Tutorial de introducción a las Firmas de acceso compartido</span><span class="sxs-lookup"><span data-stu-id="9b5cd-353">Shared Access Signatures Getting Started Tutorial</span></span>

  * [<span data-ttu-id="9b5cd-354">Getting Started with Shared Access Signatures (SAS) (Introducción a las Firmas de acceso compartido)</span><span class="sxs-lookup"><span data-stu-id="9b5cd-354">SAS Getting Started Tutorial</span></span>](https://github.com/Azure-Samples/storage-dotnet-sas-getting-started)

## <a name="encryption-in-transit"></a><span data-ttu-id="9b5cd-355">Cifrado en tránsito</span><span class="sxs-lookup"><span data-stu-id="9b5cd-355">Encryption in Transit</span></span>
### <a name="transport-level-encryption--using-https"></a><span data-ttu-id="9b5cd-356">Cifrado de nivel de transporte – Uso de HTTPS</span><span class="sxs-lookup"><span data-stu-id="9b5cd-356">Transport-Level Encryption – Using HTTPS</span></span>
<span data-ttu-id="9b5cd-357">Otro paso que debe seguir para garantizar la seguridad de los datos de Azure Storage es cifrar los datos entre el cliente y Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-357">Another step you should take to ensure the security of your Azure Storage data is to encrypt the data between the client and Azure Storage.</span></span> <span data-ttu-id="9b5cd-358">La primera recomendación es utilizar siempre el protocolo [HTTPS](https://en.wikipedia.org/wiki/HTTPS), que garantiza una comunicación segura a través de la red pública de Internet.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-358">The first recommendation is to always use the [HTTPS](https://en.wikipedia.org/wiki/HTTPS) protocol, which ensures secure communication over the public Internet.</span></span>

<span data-ttu-id="9b5cd-359">Para tener un canal de comunicación seguro, siempre debe usar HTTPS al llamar a las API de REST u obtener acceso a objetos de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-359">To have a secure communication channel, you should always use HTTPS when calling the REST APIs or accessing objects in storage.</span></span> <span data-ttu-id="9b5cd-360">Además, las **Firmas de acceso compartido**, que pueden utilizarse para delegar el acceso a objetos de Azure Storage, incluyen una opción para especificar que se utilice solo el protocolo HTTPS con las Firmas de acceso compartido, lo que garantiza que cualquiera que envíe vínculos con tokens de SAS utilice el protocolo adecuado.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-360">Also, **Shared Access Signatures**, which can be used to delegate access to Azure Storage objects, include an option to specify that only the HTTPS protocol can be used when using Shared Access Signatures, ensuring that anybody sending out links with SAS tokens will use the proper protocol.</span></span>

<span data-ttu-id="9b5cd-361">Puede exigir el uso de HTTPS al llamar a las API de REST para acceder a objetos de cuentas de almacenamiento habilitando la opción [Se requiere transferencia segura](storage-require-secure-transfer.md) para la cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-361">You can enforce the use of HTTPS when calling the REST APIs to access objects in storage accounts by enabling [Secure transfer required](storage-require-secure-transfer.md) for the storage account.</span></span> <span data-ttu-id="9b5cd-362">Una vez que esta opción esté habilitada, se rechazarán las conexiones que usan HTTP.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-362">Connections using HTTP will be refused once this is enabled.</span></span>

### <a name="using-encryption-during-transit-with-azure-file-shares"></a><span data-ttu-id="9b5cd-363">Uso del cifrado durante el tránsito con recursos compartidos de archivos de Azure</span><span class="sxs-lookup"><span data-stu-id="9b5cd-363">Using encryption during transit with Azure File shares</span></span>
<span data-ttu-id="9b5cd-364">Azure File Storage admite HTTPS cuando se usa la API de REST, pero se usa con más frecuencia como un recurso compartido de archivos de SMB conectado a una máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-364">Azure File storage supports HTTPS when using the REST API, but is more commonly used as an SMB file share attached to a VM.</span></span> <span data-ttu-id="9b5cd-365">SMB 2.1 no admite el cifrado, por lo que solo se permiten las conexiones dentro de la misma región de Azure.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-365">SMB 2.1 does not support encryption, so connections are only allowed within the same region in Azure.</span></span> <span data-ttu-id="9b5cd-366">Sin embargo, SMB 3.0 admite cifrado y está disponible en Windows Server 2012 R2, Windows 8, Windows 8.1 y Windows 10, lo que permite el acceso entre regiones e incluso el acceso en el escritorio.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-366">However, SMB 3.0 supports encryption, and it's available in Windows Server 2012 R2, Windows 8, Windows 8.1, and Windows 10, allowing cross-region access and even access on the desktop.</span></span>

<span data-ttu-id="9b5cd-367">Tenga en cuenta que aunque se pueden usar recursos compartidos de archivos de Azure con Unix, el cliente SMB de Linux aún no admite el cifrado, por lo que solo se permite el acceso dentro de una región de Azure.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-367">Note that while Azure File shares can be used with Unix, the Linux SMB client does not yet support encryption, so access is only allowed within an Azure region.</span></span> <span data-ttu-id="9b5cd-368">La compatibilidad con el cifrado para Linux está en la hoja de ruta de los desarrolladores de Linux responsables de la funcionalidad SMB.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-368">Encryption support for Linux is on the roadmap of Linux developers responsible for SMB functionality.</span></span> <span data-ttu-id="9b5cd-369">Cuando se agregue el cifrado, podrá tener acceso a un recurso compartido de archivos de Azure en Linux al igual que hace en Windows.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-369">When they add encryption, you will have the same ability for accessing an Azure File share on Linux as you do for Windows.</span></span>

<span data-ttu-id="9b5cd-370">Puede exigir el uso de cifrado con el servicio Azure Files habilitando la opción [Se requiere transferencia segura](storage-require-secure-transfer.md) para la cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-370">You can enforce the use of encryption with the Azure Files service by enabling [Secure transfer required](storage-require-secure-transfer.md) for the storage account.</span></span> <span data-ttu-id="9b5cd-371">Si usa las API de REST, se necesita HTTPS.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-371">If using the REST APIs, HTTPs is required.</span></span> <span data-ttu-id="9b5cd-372">Para SMB, solo las conexiones SMB que admiten cifrado se conectarán correctamente.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-372">For SMB, only SMB connections that support encryption will connect successfully.</span></span>

#### <a name="resources"></a><span data-ttu-id="9b5cd-373">Recursos</span><span class="sxs-lookup"><span data-stu-id="9b5cd-373">Resources</span></span>
* [<span data-ttu-id="9b5cd-374">Uso de Azure File Storage con Linux</span><span class="sxs-lookup"><span data-stu-id="9b5cd-374">How to use Azure File storage with Linux</span></span>](storage-how-to-use-files-linux.md)

  <span data-ttu-id="9b5cd-375">En este artículo se muestra cómo montar un recurso compartido de archivos de Azure en un sistema Linux y cargar y descargar archivos.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-375">This article shows how to mount an Azure File share on a Linux system and upload/download files.</span></span>
* [<span data-ttu-id="9b5cd-376">Introducción a Azure File Storage en Windows</span><span class="sxs-lookup"><span data-stu-id="9b5cd-376">Get started with Azure File storage on Windows</span></span>](storage-dotnet-how-to-use-files.md)

  <span data-ttu-id="9b5cd-377">Este artículo ofrece una visión general de los recursos compartidos de archivos de Azure y cómo montarlos y usarlos con PowerShell y. NET.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-377">This article gives an overview of Azure File shares and how to mount and use them using PowerShell and .NET.</span></span>
* <span data-ttu-id="9b5cd-378">[Inside Azure File Storage](https://azure.microsoft.com/blog/inside-azure-file-storage/) (En el interior de Azure File Storage)</span><span class="sxs-lookup"><span data-stu-id="9b5cd-378">[Inside Azure File storage](https://azure.microsoft.com/blog/inside-azure-file-storage/)</span></span>

  <span data-ttu-id="9b5cd-379">En este artículo se anuncia la disponibilidad general de Azure File Storage y se proporcionan detalles técnicos sobre el cifrado SMB 3.0.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-379">This article announces the general availability of Azure File storage and provides technical details about the SMB 3.0 encryption.</span></span>

### <a name="using-client-side-encryption-to-secure-data-that-you-send-to-storage"></a><span data-ttu-id="9b5cd-380">Uso del cifrado de cliente para proteger los datos que envía al almacenamiento</span><span class="sxs-lookup"><span data-stu-id="9b5cd-380">Using Client-side encryption to secure data that you send to storage</span></span>
<span data-ttu-id="9b5cd-381">Otra opción que le ayuda a garantizar que sus datos están protegidos mientras se transfieren entre una aplicación cliente y el servicio Almacenamiento es el Cifrado de cliente.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-381">Another option that helps you ensure that your data is secure while being transferred between a client application and Storage is Client-side Encryption.</span></span> <span data-ttu-id="9b5cd-382">Los datos se cifran antes de ser transferidos a Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-382">The data is encrypted before being transferred into Azure Storage.</span></span> <span data-ttu-id="9b5cd-383">En el proceso de recuperación de los datos de Azure Storage, estos se descifran una vez recibidos en el cliente.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-383">When retrieving the data from Azure Storage, the data is decrypted after it is received on the client side.</span></span> <span data-ttu-id="9b5cd-384">Aunque los datos se cifran al pasar por el cable, se recomienda que también se utilice HTTPS, ya sus comprobaciones incorporadas de la integridad de los datos ayudan a mitigar los errores de red que pueden incidir en esta.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-384">Even though the data is encrypted going across the wire, we recommend that you also use HTTPS, as it has data integrity checks built in which help mitigate network errors affecting the integrity of the data.</span></span>

<span data-ttu-id="9b5cd-385">El Cifrado de cliente es también un método para cifrar los datos en reposo, ya que los datos se almacenan en su forma cifrada.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-385">Client-side encryption is also a method for encrypting your data at rest, as the data is stored in its encrypted form.</span></span> <span data-ttu-id="9b5cd-386">Hablaremos sobre esto con más detalle en la sección [Cifrado en reposo](#encryption-at-rest).</span><span class="sxs-lookup"><span data-stu-id="9b5cd-386">We'll talk about this in more detail in the section on [Encryption at Rest](#encryption-at-rest).</span></span>

## <a name="encryption-at-rest"></a><span data-ttu-id="9b5cd-387">Cifrado en reposo</span><span class="sxs-lookup"><span data-stu-id="9b5cd-387">Encryption at Rest</span></span>
<span data-ttu-id="9b5cd-388">Hay tres características de Azure que proporcionan cifrado en reposo.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-388">There are three Azure features that provide encryption at rest.</span></span> <span data-ttu-id="9b5cd-389">Azure Disk Encryption se utiliza para cifrar los discos de datos y del sistema operativo en máquinas virtuales de IaaS.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-389">Azure Disk Encryption is used to encrypt the OS and data disks in IaaS Virtual Machines.</span></span> <span data-ttu-id="9b5cd-390">Los otros dos modos de cifrado, cifrado del lado cliente y cifrado del servicio Storage, se utilizan para cifrar los datos en Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-390">The other two – Client-side Encryption and SSE – are both used to encrypt data in Azure Storage.</span></span> <span data-ttu-id="9b5cd-391">Vamos a analizarlos por separado y luego los vamos a comparar para determinar cuándo se puede utilizar cada uno de ellos.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-391">Let's look at each of these, and then do a comparison and see when each one can be used.</span></span>

<span data-ttu-id="9b5cd-392">Aunque puede usar el Cifrado de cliente para cifrar los datos en tránsito (que también se almacenan en su forma cifrada en Almacenamiento), es preferible simplemente usar HTTPS durante la transferencia y disponer de algún método para que los datos se cifren automáticamente al almacenarse.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-392">While you can use Client-side Encryption to encrypt the data in transit (which is also stored in its encrypted form in Storage), you may prefer to simply use HTTPS during the transfer, and have some way for the data to be automatically encrypted when it is stored.</span></span> <span data-ttu-id="9b5cd-393">Hay dos maneras de hacerlo: Azure Disk Encryption y SSE.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-393">There are two ways to do this -- Azure Disk Encryption and SSE.</span></span> <span data-ttu-id="9b5cd-394">Uno se utiliza para cifrar directamente los datos en los discos de datos y del sistema operativo usados por las máquinas virtuales, y el otro para cifrar los datos escritos en Azure Blob Storage.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-394">One is used to directly encrypt the data on OS and data disks used by VMs, and the other is used to encrypt data written to Azure Blob Storage.</span></span>

### <a name="storage-service-encryption-sse"></a><span data-ttu-id="9b5cd-395">Cifrado del servicio Storage (SSE)</span><span class="sxs-lookup"><span data-stu-id="9b5cd-395">Storage Service Encryption (SSE)</span></span>
<span data-ttu-id="9b5cd-396">SSE permite solicitar que el servicio de almacenamiento cifre automáticamente los datos al escribirlos en Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-396">SSE allows you to request that the storage service automatically encrypt the data when writing it to Azure Storage.</span></span> <span data-ttu-id="9b5cd-397">Cuando se lean los datos desde el Azure Storage, el servicio Storage los descifrará antes de devolverlos.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-397">When you read the data from Azure Storage, it will be decrypted by the storage service before being returned.</span></span> <span data-ttu-id="9b5cd-398">De este modo, protege los datos sin tener que modificar el código o agregar código a las aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-398">This enables you to secure your data without having to modify code or add code to any applications.</span></span>

<span data-ttu-id="9b5cd-399">Se trata de una configuración que se aplica a toda la cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-399">This is a setting that applies to the whole storage account.</span></span> <span data-ttu-id="9b5cd-400">Puede habilitar y deshabilitar esta característica cambiando el valor de la configuración.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-400">You can enable and disable this feature by changing the value of the setting.</span></span> <span data-ttu-id="9b5cd-401">Para ello, puede usar Azure Portal, PowerShell, la CLI de Azure, la API de REST del proveedor de recursos de Storage o la biblioteca de clientes de Storage de .NET.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-401">To do this, you can use the Azure portal, PowerShell, the Azure CLI, the Storage Resource Provider REST API, or the .NET Storage Client Library.</span></span> <span data-ttu-id="9b5cd-402">De forma predeterminada, SSE está desactivado.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-402">By default, SSE is turned off.</span></span>

<span data-ttu-id="9b5cd-403">En este momento, Microsoft administra las claves utilizadas para el cifrado.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-403">At this time, the keys used for the encryption are managed by Microsoft.</span></span> <span data-ttu-id="9b5cd-404">Generamos las claves originalmente y administramos el almacenamiento seguro de las claves, así como la rotación periódica de acuerdo con la política interna de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-404">We generate the keys originally, and manage the secure storage of the keys as well as the regular rotation as defined by internal Microsoft policy.</span></span> <span data-ttu-id="9b5cd-405">En el futuro, tendrá la posibilidad de administrar sus propias claves de cifrado, y proporcionaremos una ruta de migración desde las claves administradas por Microsoft a las claves administradas por el cliente.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-405">In the future, you will get the ability to manage your own encryption keys, and provide a migration path from Microsoft-managed keys to customer-managed keys.</span></span>

<span data-ttu-id="9b5cd-406">Esta característica está disponible para cuentas de Standard Sorage y Premium Storage creadas mediante el modelo de implementación de Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-406">This feature is available for Standard and Premium Storage accounts created using the Resource Manager deployment model.</span></span> <span data-ttu-id="9b5cd-407">SSE se aplica solo a blobs en bloques, blobs en páginas y blobs en anexos.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-407">SSE applies only to block blobs, page blobs, and append blobs.</span></span> <span data-ttu-id="9b5cd-408">Los otros tipos de datos, como tablas, colas y archivos, no se cifrarán.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-408">The other types of data, including tables, queues, and files, will not be encrypted.</span></span>

<span data-ttu-id="9b5cd-409">Solo se cifran los datos cuando está habilitado SSE y los datos se escriben en Blob Storage.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-409">Data is only encrypted when SSE is enabled and the data is written to Blob Storage.</span></span> <span data-ttu-id="9b5cd-410">El hecho de habilitar o deshabilitar el SSE no afecta a los datos existentes.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-410">Enabling or disabling SSE does not impact existing data.</span></span> <span data-ttu-id="9b5cd-411">En otras palabras, al habilitar este cifrado, no se cifrarán los datos que ya existan; y tampoco se descifrarán los datos que ya existan al deshabilitarlo.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-411">In other words, when you enable this encryption, it will not go back and encrypt data that already exists; nor will it decrypt the data that already exists when you disable SSE.</span></span>

<span data-ttu-id="9b5cd-412">Si desea probar esta función con una cuenta de almacenamiento clásica, puede crear una nueva cuenta de almacenamiento de Resource Manager y usar AzCopy para copiar los datos en la nueva cuenta.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-412">If you want to use this feature with a Classic storage account, you can create a new Resource Manager storage account and use AzCopy to copy the data to the new account.</span></span>

### <a name="client-side-encryption"></a><span data-ttu-id="9b5cd-413">cifrado de cliente</span><span class="sxs-lookup"><span data-stu-id="9b5cd-413">Client-side Encryption</span></span>
<span data-ttu-id="9b5cd-414">Hemos mencionado el Cifrado de cliente al hablar sobre el cifrado de los datos en tránsito.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-414">We mentioned client-side encryption when discussing the encryption of the data in transit.</span></span> <span data-ttu-id="9b5cd-415">Esta característica le permite cifrar mediante programación los datos en una aplicación cliente antes de enviarlos a través del cable para que se escriban en el Azure Storage, y descifrar mediante programación los datos después de recuperarlos de Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-415">This feature allows you to programmatically encrypt your data in a client application before sending it across the wire to be written to Azure Storage, and to programmatically decrypt your data after retrieving it from Azure Storage.</span></span>

<span data-ttu-id="9b5cd-416">Proporciona cifrado en tránsito, pero además incluye la característica de cifrado en reposo.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-416">This does provide encryption in transit, but it also provides the feature of Encryption at Rest.</span></span> <span data-ttu-id="9b5cd-417">Tenga en cuenta que aunque los datos se cifran en tránsito, sigue siendo recomendable usar HTTPS para aprovechar las comprobaciones incorporadas de integridad de los datos que ayudan a mitigar los errores de red que pueden incidir en esta.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-417">Note that although the data is encrypted in transit, we still recommend using HTTPS to take advantage of the built-in data integrity checks which help mitigate network errors affecting the integrity of the data.</span></span>

<span data-ttu-id="9b5cd-418">Por ejemplo, pongamos que tiene una aplicación web que almacena blobs y recupera blobs, y desea que la aplicación y los datos sean lo más seguros posibles.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-418">An example of where you might use this is if you have a web application that stores blobs and retrieves blobs, and you want the application and data to be as secure as possible.</span></span> <span data-ttu-id="9b5cd-419">En ese caso, utilizaría el cifrado de cliente.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-419">In that case, you would use client-side encryption.</span></span> <span data-ttu-id="9b5cd-420">El tráfico entre el cliente y Azure Blob service contiene el recurso cifrado, y nadie puede interpretar los datos en tránsito y reconstituirlos en los blobs privados.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-420">The traffic between the client and the Azure Blob Service contains the encrypted resource, and nobody can interpret the data in transit and reconstitute it into your private blobs.</span></span>

<span data-ttu-id="9b5cd-421">El cifrado de cliente se integra en Java y las bibliotecas de cliente de Storage de .NET, que a su vez utilizan las API de Azure Key Vault, por lo que es bastante fácil de implementar.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-421">Client-side encryption is built into the Java and the .NET storage client libraries, which in turn use the Azure Key Vault APIs, making it pretty easy for you to implement.</span></span> <span data-ttu-id="9b5cd-422">El proceso de cifrado y descifrado de los datos usa la técnica del sobre, y almacena los metadatos usados por el cifrado en cada objeto de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-422">The process of encrypting and decrypting the data uses the envelope technique, and stores metadata used by the encryption in each storage object.</span></span> <span data-ttu-id="9b5cd-423">Por ejemplo, en el caso de los blobs, los almacena en los metadatos del blob, mientras que para las colas, los agrega a cada mensaje de la cola.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-423">For example, for blobs, it stores it in the blob metadata, while for queues, it adds it to each queue message.</span></span>

<span data-ttu-id="9b5cd-424">Para el propio cifrado, puede generar y administrar sus propias claves de cifrado.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-424">For the encryption itself, you can generate and manage your own encryption keys.</span></span> <span data-ttu-id="9b5cd-425">También puede usar las claves generadas por la biblioteca de clientes de Azure Storage, o puede hacer que Azure Key Vault genere las claves.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-425">You can also use keys generated by the Azure Storage Client Library, or you can have the Azure Key Vault generate the keys.</span></span> <span data-ttu-id="9b5cd-426">Puede almacenar las claves de cifrado en el almacenamiento de claves local o en Azure Key Vault.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-426">You can store your encryption keys in your on-premises key storage, or you can store them in an Azure Key Vault.</span></span> <span data-ttu-id="9b5cd-427">Azure Key Vault permite conceder acceso a los secretos de Azure Key Vault a usuarios específicos mediante Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-427">Azure Key Vault allows you to grant access to the secrets in Azure Key Vault to specific users using Azure Active Directory.</span></span> <span data-ttu-id="9b5cd-428">Esto significa que no todo el mundo puede leer Azure Key Vault y recuperar las claves que utiliza para el cifrado del cliente.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-428">This means that not just anybody can read the Azure Key Vault and retrieve the keys you're using for client-side encryption.</span></span>

#### <a name="resources"></a><span data-ttu-id="9b5cd-429">Recursos</span><span class="sxs-lookup"><span data-stu-id="9b5cd-429">Resources</span></span>
* [<span data-ttu-id="9b5cd-430">Cifrado y descifrado de blobs en Microsoft Azure Storage con Azure Key Vault</span><span class="sxs-lookup"><span data-stu-id="9b5cd-430">Encrypt and decrypt blobs in Microsoft Azure Storage using Azure Key Vault</span></span>](storage-encrypt-decrypt-blobs-key-vault.md)

  <span data-ttu-id="9b5cd-431">Este artículo muestra cómo utilizar el cifrado de cliente con Azure Key Vault, incluido cómo crear la KEK y almacenarlo en el almacén con PowerShell.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-431">This article shows how to use client-side encryption with Azure Key Vault, including how to create the KEK and store it in the vault using PowerShell.</span></span>
* [<span data-ttu-id="9b5cd-432">Cifrado del lado de cliente y Azure Key Vault para Microsoft Azure Storage</span><span class="sxs-lookup"><span data-stu-id="9b5cd-432">Client-Side Encryption and Azure Key Vault for Microsoft Azure Storage</span></span>](storage-client-side-encryption.md)

  <span data-ttu-id="9b5cd-433">Este artículo ofrece una explicación del cifrado de cliente y proporciona ejemplos de uso de la biblioteca de clientes de Storage para cifrar y descifrar los recursos de los cuatro servicios de Storage.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-433">This article gives an explanation of client-side encryption, and provides examples of using the storage client library to encrypt and decrypt resources from the four storage services.</span></span> <span data-ttu-id="9b5cd-434">También trata Azure Key Vault.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-434">It also talks about Azure Key Vault.</span></span>

### <a name="using-azure-disk-encryption-to-encrypt-disks-used-by-your-virtual-machines"></a><span data-ttu-id="9b5cd-435">Uso de Azure Disk Encryption para cifrar discos usados por las máquinas virtuales</span><span class="sxs-lookup"><span data-stu-id="9b5cd-435">Using Azure Disk Encryption to encrypt disks used by your virtual machines</span></span>
<span data-ttu-id="9b5cd-436">Azure Disk Encryption es una característica nueva.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-436">Azure Disk Encryption is a new feature.</span></span> <span data-ttu-id="9b5cd-437">Esta característica le permite cifrar los discos de datos y del sistema operativo usados por una máquina virtual de IaaS.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-437">This feature allows you to encrypt the OS disks and Data disks used by an IaaS Virtual Machine.</span></span> <span data-ttu-id="9b5cd-438">Para Windows, las unidades se cifran mediante la tecnología de cifrado de BitLocker estándar del sector.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-438">For Windows, the drives are encrypted using industry-standard BitLocker encryption technology.</span></span> <span data-ttu-id="9b5cd-439">Para Linux, los discos se cifran mediante la tecnología DM-Crypt.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-439">For Linux, the disks are encrypted using the DM-Crypt technology.</span></span> <span data-ttu-id="9b5cd-440">Se integra con Azure Key Vault para permitirle controlar y administrar las claves de cifrado del disco.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-440">This is integrated with Azure Key Vault to allow you to control and manage the disk encryption keys.</span></span>

<span data-ttu-id="9b5cd-441">La solución admite los siguientes escenarios para las máquinas virtuales IaaS cuando se habilitan en Microsoft Azure:</span><span class="sxs-lookup"><span data-stu-id="9b5cd-441">The solution supports the following scenarios for IaaS VMs when they are enabled in Microsoft Azure:</span></span>

* <span data-ttu-id="9b5cd-442">Integración con Azure Key Vault</span><span class="sxs-lookup"><span data-stu-id="9b5cd-442">Integration with Azure Key Vault</span></span>
* <span data-ttu-id="9b5cd-443">Máquinas virtuales de nivel estándar: [máquinas virtuales IaaS de las series A, D, DS, G, GS, etc.](https://azure.microsoft.com/pricing/details/virtual-machines/)</span><span class="sxs-lookup"><span data-stu-id="9b5cd-443">Standard tier VMs: [A, D, DS, G, GS, and so forth series IaaS VMs](https://azure.microsoft.com/pricing/details/virtual-machines/)</span></span>
* <span data-ttu-id="9b5cd-444">Habilitación del cifrado en máquinas virtuales IaaS Linux y Windows</span><span class="sxs-lookup"><span data-stu-id="9b5cd-444">Enabling encryption on Windows and Linux IaaS VMs</span></span>
* <span data-ttu-id="9b5cd-445">Deshabilitación del cifrado en las unidades de datos y del sistema operativo en máquinas virtuales IaaS Windows</span><span class="sxs-lookup"><span data-stu-id="9b5cd-445">Disabling encryption on OS and data drives for Windows IaaS VMs</span></span>
* <span data-ttu-id="9b5cd-446">Deshabilitación del cifrado en unidades de datos en máquinas virtuales IaaS Linux</span><span class="sxs-lookup"><span data-stu-id="9b5cd-446">Disabling encryption on data drives for Linux IaaS VMs</span></span>
* <span data-ttu-id="9b5cd-447">Habilitación del cifrado en máquinas virtuales IaaS que ejecutan el sistema operativo cliente de Windows</span><span class="sxs-lookup"><span data-stu-id="9b5cd-447">Enabling encryption on IaaS VMs that are running Windows client OS</span></span>
* <span data-ttu-id="9b5cd-448">Habilitación del cifrado en volúmenes con rutas de montaje</span><span class="sxs-lookup"><span data-stu-id="9b5cd-448">Enabling encryption on volumes with mount paths</span></span>
* <span data-ttu-id="9b5cd-449">Habilitación del cifrado en máquinas virtuales Linux configuradas con seccionamiento de disco (RAID) mediante mdadm</span><span class="sxs-lookup"><span data-stu-id="9b5cd-449">Enabling encryption on Linux VMs that are configured with disk striping (RAID) by using mdadm</span></span>
* <span data-ttu-id="9b5cd-450">Habilitación del cifrado en máquinas virtuales con Linux mediante LVM para discos de datos</span><span class="sxs-lookup"><span data-stu-id="9b5cd-450">Enabling encryption on Linux VMs by using LVM for data disks</span></span>
* <span data-ttu-id="9b5cd-451">Habilitación del cifrado en máquinas virtuales con Windows configuradas mediante Espacios de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="9b5cd-451">Enabling encryption on Windows VMs that are configured by using storage spaces</span></span>
* <span data-ttu-id="9b5cd-452">Se admiten todas las regiones públicas de Azure.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-452">All Azure public regions are supported</span></span>

<span data-ttu-id="9b5cd-453">La solución no admite los siguientes escenarios, características y tecnologías en la versión:</span><span class="sxs-lookup"><span data-stu-id="9b5cd-453">The solution does not support the following scenarios, features, and technology in the release:</span></span>

* <span data-ttu-id="9b5cd-454">Máquinas virtuales IaaS de nivel básico</span><span class="sxs-lookup"><span data-stu-id="9b5cd-454">Basic tier IaaS VMs</span></span>
* <span data-ttu-id="9b5cd-455">Deshabilitación del cifrado en una unidad del sistema operativo para máquinas virtuales IaaS Linux</span><span class="sxs-lookup"><span data-stu-id="9b5cd-455">Disabling encryption on an OS drive for Linux IaaS VMs</span></span>
* <span data-ttu-id="9b5cd-456">Máquinas virtuales IaaS creadas con el método clásico de generación de máquinas virtuales</span><span class="sxs-lookup"><span data-stu-id="9b5cd-456">IaaS VMs that are created by using the classic VM creation method</span></span>
* <span data-ttu-id="9b5cd-457">Integración con el Servicio de administración de claves local</span><span class="sxs-lookup"><span data-stu-id="9b5cd-457">Integration with your on-premises Key Management Service</span></span>
* <span data-ttu-id="9b5cd-458">Azure File Storage (sistema de archivos compartido), Network File System (NFS), volúmenes dinámicos y máquinas virtuales con Windows configuradas con sistemas RAID basados en software</span><span class="sxs-lookup"><span data-stu-id="9b5cd-458">Azure File storage (shared file system), Network File System (NFS), dynamic volumes, and Windows VMs that are configured with software-based RAID systems</span></span>


> [!NOTE]
> <span data-ttu-id="9b5cd-459">Actualmente, el cifrado de disco del sistema operativo Linux es compatible con las siguientes distribuciones de Linux: RHEL 7.2, CentOS 7.2n y Ubuntu 16.04.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-459">Linux OS disk encryption is currently supported on the following Linux distributions: RHEL 7.2, CentOS 7.2n, and Ubuntu 16.04.</span></span>
>
>

<span data-ttu-id="9b5cd-460">Esta característica garantiza que todos los datos de los discos de máquinas virtuales se cifran en reposo en Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-460">This feature ensures that all data on your virtual machine disks is encrypted at rest in Azure Storage.</span></span>

#### <a name="resources"></a><span data-ttu-id="9b5cd-461">Recursos</span><span class="sxs-lookup"><span data-stu-id="9b5cd-461">Resources</span></span>
* [<span data-ttu-id="9b5cd-462">Azure Disk Encryption para máquinas virtuales IaaS Linux y Windows</span><span class="sxs-lookup"><span data-stu-id="9b5cd-462">Azure Disk Encryption for Windows and Linux IaaS VMs</span></span>](https://docs.microsoft.com/en-us/azure/security/azure-security-disk-encryption)

### <a name="comparison-of-azure-disk-encryption-sse-and-client-side-encryption"></a><span data-ttu-id="9b5cd-463">Comparación entre Azure Disk Encryption, SSE y cifrado del lado cliente</span><span class="sxs-lookup"><span data-stu-id="9b5cd-463">Comparison of Azure Disk Encryption, SSE, and Client-Side Encryption</span></span>
#### <a name="iaas-vms-and-their-vhd-files"></a><span data-ttu-id="9b5cd-464">Máquinas virtuales de IaaS y sus archivos VHD</span><span class="sxs-lookup"><span data-stu-id="9b5cd-464">IaaS VMs and their VHD files</span></span>
<span data-ttu-id="9b5cd-465">Para los discos usados por las máquinas virtuales de IaaS, se recomienda utilizar Azure Disk Encryption.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-465">For disks used by IaaS VMs, we recommend using Azure Disk Encryption.</span></span> <span data-ttu-id="9b5cd-466">Puede activar SSE para cifrar los archivos VHD que se usan para respaldar esos discos en Azure Storage, pero solos se cifran los datos recién escritos.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-466">You can turn on SSE to encrypt the VHD files that are used to back those disks in Azure Storage, but it only encrypts newly written data.</span></span> <span data-ttu-id="9b5cd-467">Esto significa que si crea una máquina virtual y luego habilita SSE en la cuenta de almacenamiento que contiene el archivo VHD, se cifrarán solo los cambios, no el archivo VHD original.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-467">This means if you create a VM and then enable SSE on the storage account that holds the VHD file, only the changes will be encrypted, not the original VHD file.</span></span>

<span data-ttu-id="9b5cd-468">Si crea una máquina virtual mediante una imagen de Azure Marketplace, Azure realiza una [copia superficial](https://en.wikipedia.org/wiki/Object_copying) de ella en la cuenta de almacenamiento en Azure Storage y no se cifra aunque tenga habilitado SSE.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-468">If you create a VM using an image from the Azure Marketplace, Azure performs a [shallow copy](https://en.wikipedia.org/wiki/Object_copying) of the image to your storage account in Azure Storage, and it is not encrypted even if you have SSE enabled.</span></span> <span data-ttu-id="9b5cd-469">Cuando se cree la máquina virtual y comience a actualizarse la imagen, SSE iniciará el cifrado de los datos.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-469">After it creates the VM and starts updating the image, SSE will start encrypting the data.</span></span> <span data-ttu-id="9b5cd-470">Por este motivo, si quiere que estén totalmente cifradas, es mejor utilizar Azure Disk Encryption en las máquinas virtuales creadas a partir de imágenes de Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-470">For this reason, it's best to use Azure Disk Encryption on VMs created from images in the Azure Marketplace if you want them fully encrypted.</span></span>

<span data-ttu-id="9b5cd-471">Si trae una máquina virtual previamente cifrada a Azure desde el entorno local, podrá cargar las claves de cifrado en Azure Key Vault y mantener el cifrado para esa máquina virtual que se utilizaba de forma local.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-471">If you bring a pre-encrypted VM into Azure from on-premises, you will be able to upload the encryption keys to Azure Key Vault, and continue using the encryption for that VM that you were using on-premises.</span></span> <span data-ttu-id="9b5cd-472">La configuración de Azure Disk Encryption le permite controlar este escenario.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-472">Azure Disk Encryption is enabled to handle this scenario.</span></span>

<span data-ttu-id="9b5cd-473">Si dispone de un VHD no cifrado desde el entorno local, puede cargarlo en la galería como una imagen personalizada y aprovisionar una máquina virtual a partir del mismo.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-473">If you have non-encrypted VHD from on-premises, you can upload it into the gallery as a custom image and provision a VM from it.</span></span> <span data-ttu-id="9b5cd-474">Si lo hace con las plantillas de Resource Manager, puede solicitar la activación de Azure Disk Encryption al arrancar la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-474">If you do this using the Resource Manager templates, you can ask it to turn on Azure Disk Encryption when it boots up the VM.</span></span>

<span data-ttu-id="9b5cd-475">Al agregar un disco de datos y montarlo en la máquina virtual, puede activar Azure Disk Encryption en ese disco de datos.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-475">When you add a data disk and mount it on the VM, you can turn on Azure Disk Encryption on that data disk.</span></span> <span data-ttu-id="9b5cd-476">Cifrará primero ese disco de datos localmente y, a continuación, la capa de administración del servicio hará una escritura diferida en el almacenamiento para que se cifre el contenido del mismo.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-476">It will encrypt that data disk locally first, and then the service management layer will do a lazy write against storage so the storage content is encrypted.</span></span>

#### <a name="client-side-encryption"></a><span data-ttu-id="9b5cd-477">cifrado de cliente</span><span class="sxs-lookup"><span data-stu-id="9b5cd-477">Client-side encryption</span></span>
<span data-ttu-id="9b5cd-478">El Cifrado de cliente es el método más seguro para cifrar los datos, porque estos se cifran antes del tránsito y en reposo.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-478">Client-side encryption is the most secure method of encrypting your data, because it encrypts it before transit, and encrypts the data at rest.</span></span> <span data-ttu-id="9b5cd-479">Sin embargo, requiere que agregue código a sus aplicaciones mediante el almacenamiento, y quizá no desee hacerlo.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-479">However, it does require that you add code to your applications using storage, which you may not want to do.</span></span> <span data-ttu-id="9b5cd-480">En esos casos, puede utilizar HTTPS para los datos en tránsito y SSE para cifrar los datos en reposo.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-480">In those cases, you can use HTTPs for your data in transit, and SSE to encrypt the data at rest.</span></span>

<span data-ttu-id="9b5cd-481">Con el cifrado de cliente, puede cifrar las entidades de tabla, los mensajes de colas y los blobs.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-481">With client-side encryption, you can encrypt table entities, queue messages, and blobs.</span></span> <span data-ttu-id="9b5cd-482">Con SSE, solo se pueden cifrar los blobs.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-482">With SSE, you can only encrypt blobs.</span></span> <span data-ttu-id="9b5cd-483">Si necesita cifrar los datos de tabla y cola, debe utilizar el Cifrado de cliente.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-483">If you need table and queue data to be encrypted, you should use client-side encryption.</span></span>

<span data-ttu-id="9b5cd-484">El Cifrado de cliente es administrado completamente por la aplicación.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-484">Client-side encryption is managed entirely by the application.</span></span> <span data-ttu-id="9b5cd-485">Es el método más seguro, pero es necesario realizar cambios mediante programación en la aplicación e implementar procesos de administración de claves.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-485">This is the most secure approach, but does require you to make programmatic changes to your application and put key management processes in place.</span></span> <span data-ttu-id="9b5cd-486">Es recomendable usarlo si desea una seguridad adicional durante el tránsito y desea que los datos almacenados se cifren.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-486">You would use this when you want the extra security during transit, and you want your stored data to be encrypted.</span></span>

<span data-ttu-id="9b5cd-487">El Cifrado de cliente supone más carga en el cliente; así pues, debe tener en cuenta este factor en los planes de escalabilidad, especialmente si está cifrando y transfiriendo una gran cantidad de datos.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-487">Client-side encryption is more load on the client, and you have to account for this in your scalability plans, especially if you are encrypting and transferring a lot of data.</span></span>

#### <a name="storage-service-encryption-sse"></a><span data-ttu-id="9b5cd-488">Cifrado del servicio Storage (SSE)</span><span class="sxs-lookup"><span data-stu-id="9b5cd-488">Storage Service Encryption (SSE)</span></span>
<span data-ttu-id="9b5cd-489">SSE se administra mediante Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-489">SSE is managed by Azure Storage.</span></span> <span data-ttu-id="9b5cd-490">El uso de SSE no proporciona seguridad para los datos en tránsito, pero cifra los datos a medida que se escriben en Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-490">Using SSE does not provide for the security of the data in transit, but it does encrypt the data as it is written to Azure Storage.</span></span> <span data-ttu-id="9b5cd-491">El uso de esta característica no repercute sobre el rendimiento en modo alguno.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-491">There is no impact on the performance when using this feature.</span></span>

<span data-ttu-id="9b5cd-492">Solo puede cifrar blobs en bloques, blobs en anexos y blobs en páginas mediante SSE.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-492">You can only encrypt block blobs, append blobs, and page blobs using SSE.</span></span> <span data-ttu-id="9b5cd-493">Si necesita cifrar datos en tabla o en cola, considere el uso del Cifrado de cliente.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-493">If you need to encrypt table data or queue data, you should consider using client-side encryption.</span></span>

<span data-ttu-id="9b5cd-494">Si tiene un archivo o una biblioteca de archivos VHD que utiliza como base para la creación de nuevas máquinas virtuales, puede crear una nueva cuenta de almacenamiento, habilitar SSE y luego cargar los archivos VHD en esa cuenta.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-494">If you have an archive or library of VHD files that you use as a basis for creating new virtual machines, you can create a new storage account, enable SSE, and then upload the VHD files to that account.</span></span> <span data-ttu-id="9b5cd-495">Esos archivos VHD se cifrarán con el Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-495">Those VHD files will be encrypted by Azure Storage.</span></span>

<span data-ttu-id="9b5cd-496">Si tiene habilitados Azure Disk Encryption para los discos de una máquina virtual y SSE en la cuenta de almacenamiento que contiene los archivos VHD, el proceso funcionará correctamente y dará como resultado que todos los datos recién escritos se cifren dos veces.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-496">If you have Azure Disk Encryption enabled for the disks in a VM and SSE enabled on the storage account holding the VHD files, it will work fine; it will result in any newly-written data being encrypted twice.</span></span>

## <a name="storage-analytics"></a><span data-ttu-id="9b5cd-497">Storage Analytics</span><span class="sxs-lookup"><span data-stu-id="9b5cd-497">Storage Analytics</span></span>
### <a name="using-storage-analytics-to-monitor-authorization-type"></a><span data-ttu-id="9b5cd-498">Uso de Storage Analytics para supervisar el tipo de autorización</span><span class="sxs-lookup"><span data-stu-id="9b5cd-498">Using Storage Analytics to monitor authorization type</span></span>
<span data-ttu-id="9b5cd-499">Para cada cuenta de almacenamiento, puede habilitar Azure Storage Analytics para realizar el registro y almacenar datos de métricas.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-499">For each storage account, you can enable Azure Storage Analytics to perform logging and store metrics data.</span></span> <span data-ttu-id="9b5cd-500">Se trata de una excelente herramienta que puede usar para comprobar las métricas de rendimiento de una cuenta de almacenamiento o cuando necesite solucionar los problemas de rendimiento de una cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-500">This is a great tool to use when you want to check the performance metrics of a storage account, or need to troubleshoot a storage account because you are having performance problems.</span></span>

<span data-ttu-id="9b5cd-501">Los registros de Storage Analytics contienen también el método de autenticación utilizado por un usuario al acceder al almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-501">Another piece of data you can see in the storage analytics logs is the authentication method used by someone when they access storage.</span></span> <span data-ttu-id="9b5cd-502">Por ejemplo, con Blob Storage, puede ver si los usuarios utilizan una Firma de acceso compartido o las claves de cuenta de almacenamiento, o si el blob es de acceso público.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-502">For example, with Blob Storage, you can see if they used a Shared Access Signature or the storage account keys, or if the blob accessed was public.</span></span>

<span data-ttu-id="9b5cd-503">Esto puede resultar muy útil si se está esforzando por proteger el acceso al almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-503">This can be really helpful if you are tightly guarding access to storage.</span></span> <span data-ttu-id="9b5cd-504">Por ejemplo, en Blob Storage puede configurar todos los contenedores para que sean privados e implementar el uso de un servicio de Firma de acceso compartido en sus aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-504">For example, in Blob Storage you can set all of the containers to private and implement the use of an SAS service throughout your applications.</span></span> <span data-ttu-id="9b5cd-505">Luego puede comprobar los registros periódicamente para ver si se ha accedido a los blobs con las claves de cuenta de almacenamiento, lo que podría indicar una infracción de seguridad, o si los blobs son públicos pero no deberían serlo.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-505">Then you can check the logs regularly to see if your blobs are accessed using the storage account keys, which may indicate a breach of security, or if the blobs are public but they shouldn't be.</span></span>

#### <a name="what-do-the-logs-look-like"></a><span data-ttu-id="9b5cd-506">¿Qué aspecto tienen los registros?</span><span class="sxs-lookup"><span data-stu-id="9b5cd-506">What do the logs look like?</span></span>
<span data-ttu-id="9b5cd-507">Después de habilitar las métricas de la cuenta de almacenamiento y el registro a través de Azure Portal, los datos del análisis empezarán a acumularse rápidamente.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-507">After you enable the storage account metrics and logging through the Azure portal, analytics data will start to accumulate quickly.</span></span> <span data-ttu-id="9b5cd-508">El registro y las métricas de cada servicio son independientes; el registro solo se escribe cuando hay actividad en esa cuenta de almacenamiento, mientras que las métricas se registrarán cada minuto, cada hora o cada día, dependiendo de la configuración.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-508">The logging and metrics for each service is separate; the logging is only written when there is activity in that storage account, while the metrics will be logged every minute, every hour, or every day, depending on how you configure it.</span></span>

<span data-ttu-id="9b5cd-509">Los registros se almacenan en blobs en bloques en un contenedor denominado $logs en la cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-509">The logs are stored in block blobs in a container named $logs in the storage account.</span></span> <span data-ttu-id="9b5cd-510">Este contenedor se crea automáticamente cuando se habilita Storage Analytics.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-510">This container is automatically created when Storage Analytics is enabled.</span></span> <span data-ttu-id="9b5cd-511">Una vez creado este contenedor, no se puede eliminar, aunque sí puede eliminar su contenido.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-511">Once this container is created, you can't delete it, although you can delete its contents.</span></span>

<span data-ttu-id="9b5cd-512">En el contenedor $logs, hay una carpeta para cada servicio y luego hay subcarpetas para año/mes/día/hora.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-512">Under the $logs container, there is a folder for each service, and then there are subfolders for the year/month/day/hour.</span></span> <span data-ttu-id="9b5cd-513">En la hora, simplemente se numeran los registros.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-513">Under hour, the logs are simply numbered.</span></span> <span data-ttu-id="9b5cd-514">Este es el aspecto que tendrá la estructura de directorios:</span><span class="sxs-lookup"><span data-stu-id="9b5cd-514">This is what the directory structure will look like:</span></span>

![Vista de archivos de registro](./media/storage-security-guide/image1.png)

<span data-ttu-id="9b5cd-516">Se registra cada solicitud para el Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-516">Every request to Azure Storage is logged.</span></span> <span data-ttu-id="9b5cd-517">Esta es una instantánea de un archivo de registro donde se muestran algunos de los primeros campos.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-517">Here's a snapshot of a log file, showing the first few fields.</span></span>

![Instantánea de un archivo de registro](./media/storage-security-guide/image2.png)

<span data-ttu-id="9b5cd-519">Puede ver que puede usar los registros para realizar el seguimiento de cualquier tipo de llamadas a una cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-519">You can see that you can use the logs to track any kind of calls to a storage account.</span></span>

#### <a name="what-are-all-of-those-fields-for"></a><span data-ttu-id="9b5cd-520">¿Para qué sirven todos estos campos?</span><span class="sxs-lookup"><span data-stu-id="9b5cd-520">What are all of those fields for?</span></span>
<span data-ttu-id="9b5cd-521">Este es un artículo que aparece en los siguientes recursos y que proporciona la lista de los numerosos campos de los registros (explicando, además, para qué se utilizan).</span><span class="sxs-lookup"><span data-stu-id="9b5cd-521">There is an article listed in the resources below that provides the list of the many fields in the logs and what they are used for.</span></span> <span data-ttu-id="9b5cd-522">Esta es la lista de campos en orden:</span><span class="sxs-lookup"><span data-stu-id="9b5cd-522">Here is the list of fields in order:</span></span>

![Instantánea de los campos de un archivo de registro](./media/storage-security-guide/image3.png)

<span data-ttu-id="9b5cd-524">Nos interesan las entradas de GetBlob y el modo de autenticación, así que nos fijaremos en las entradas con el tipo de operación "Get-Blob" y comprobaremos el estado de la solicitud (4<sup>ª</sup> columna) y el tipo de autorización (8<sup>ª</sup> columna).</span><span class="sxs-lookup"><span data-stu-id="9b5cd-524">We're interested in the entries for GetBlob, and how they are authenticated, so we need to look for entries with operation-type "Get-Blob", and check the request-status (4<sup>th</sup> column) and the authorization-type (8<sup>th</sup> column).</span></span>

<span data-ttu-id="9b5cd-525">Por ejemplo, en las primeras filas del listado anterior, el estado de la solicitud es "Success" y el tipo de autorización es "authenticated".</span><span class="sxs-lookup"><span data-stu-id="9b5cd-525">For example, in the first few rows in the listing above, the request-status is "Success" and the authorization-type is "authenticated".</span></span> <span data-ttu-id="9b5cd-526">Esto significa que la solicitud se validó con la clave de la cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-526">This means the request was validated using the storage account key.</span></span>

#### <a name="how-are-my-blobs-being-authenticated"></a><span data-ttu-id="9b5cd-527">¿Cómo se autentican mis blobs?</span><span class="sxs-lookup"><span data-stu-id="9b5cd-527">How are my blobs being authenticated?</span></span>
<span data-ttu-id="9b5cd-528">Son tres los casos que nos interesan.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-528">We have three cases that we are interested in.</span></span>

1. <span data-ttu-id="9b5cd-529">El blob es público y se tiene acceso a él mediante una dirección URL sin Firma de acceso compartido.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-529">The blob is public and it is accessed using a URL without a Shared Access Signature.</span></span> <span data-ttu-id="9b5cd-530">En este caso, el estado de la solicitud es "AnonymousSuccess" y el tipo de autorización es "anonymous".</span><span class="sxs-lookup"><span data-stu-id="9b5cd-530">In this case, the request-status is "AnonymousSuccess" and the authorization-type is "anonymous".</span></span>

   <span data-ttu-id="9b5cd-531">1.0;2015-11-17T02:01:29.0488963Z;GetBlob;**AnonymousSuccess**;200;124;37;**anonymous**;;mystorage…</span><span class="sxs-lookup"><span data-stu-id="9b5cd-531">1.0;2015-11-17T02:01:29.0488963Z;GetBlob;**AnonymousSuccess**;200;124;37;**anonymous**;;mystorage…</span></span>
2. <span data-ttu-id="9b5cd-532">El blob es privado y se utilizó con una Firma de acceso compartido.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-532">The blob is private and was used with a Shared Access Signature.</span></span> <span data-ttu-id="9b5cd-533">En este caso, el estado de la solicitud es "SASSuccess" y el tipo de autorización es "sas".</span><span class="sxs-lookup"><span data-stu-id="9b5cd-533">In this case, the request-status is "SASSuccess" and the authorization-type is "sas".</span></span>

   <span data-ttu-id="9b5cd-534">1.0;2015-11-16T18:30:05.6556115Z;GetBlob;**SASSuccess**;200;416;64;**sas**;;mystorage…</span><span class="sxs-lookup"><span data-stu-id="9b5cd-534">1.0;2015-11-16T18:30:05.6556115Z;GetBlob;**SASSuccess**;200;416;64;**sas**;;mystorage…</span></span>
3. <span data-ttu-id="9b5cd-535">El blob es privado y la clave de almacenamiento se utilizó para tener acceso a él.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-535">The blob is private and the storage key was used to access it.</span></span> <span data-ttu-id="9b5cd-536">En este caso, el estado de la solicitud es "**Success**" y el tipo de autorización es "**authenticated**".</span><span class="sxs-lookup"><span data-stu-id="9b5cd-536">In this case, the request-status is "**Success**" and the authorization-type is "**authenticated**".</span></span>

   <span data-ttu-id="9b5cd-537">1.0;2015-11-16T18:32:24.3174537Z;GetBlob;**Success**;206;59;22;**authenticated**;mystorage…</span><span class="sxs-lookup"><span data-stu-id="9b5cd-537">1.0;2015-11-16T18:32:24.3174537Z;GetBlob;**Success**;206;59;22;**authenticated**;mystorage…</span></span>

<span data-ttu-id="9b5cd-538">Puede utilizar el Analizador de mensajes de Microsoft para ver y analizar estos registros.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-538">You can use the Microsoft Message Analyzer to view and analyze these logs.</span></span> <span data-ttu-id="9b5cd-539">Incluye funcionalidades de búsqueda y filtrado.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-539">It includes search and filter capabilities.</span></span> <span data-ttu-id="9b5cd-540">Por ejemplo, puede que desee buscar instancias de GetBlob para ver si efectivamente se les está dando el uso que espera; es decir, para asegurarse de que un usuario no tenga acceso la cuenta de almacenamiento incorrectamente.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-540">For example, you might want to search for instances of GetBlob to see if the usage is what you expect, i.e. to make sure someone is not accessing your storage account inappropriately.</span></span>

#### <a name="resources"></a><span data-ttu-id="9b5cd-541">Recursos</span><span class="sxs-lookup"><span data-stu-id="9b5cd-541">Resources</span></span>
* [<span data-ttu-id="9b5cd-542">Storage Analytics</span><span class="sxs-lookup"><span data-stu-id="9b5cd-542">Storage Analytics</span></span>](storage-analytics.md)

  <span data-ttu-id="9b5cd-543">Este artículo ofrece una visión general de Storage Analytics y explica cómo habilitarlo.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-543">This article is an overview of storage analytics and how to enable them.</span></span>
* [<span data-ttu-id="9b5cd-544">Formato del registro de Storage Analytics</span><span class="sxs-lookup"><span data-stu-id="9b5cd-544">Storage Analytics Log Format</span></span>](https://msdn.microsoft.com/library/azure/hh343259.aspx)

  <span data-ttu-id="9b5cd-545">Este artículo ilustra el formato del registro de Storage Analytics y detalla los campos que incluye, como el tipo de autenticación, que indica el tipo de autenticación utilizado para la solicitud.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-545">This article illustrates the Storage Analytics Log Format, and details the fields available therein, including authentication-type, which indicates the type of authentication used for the request.</span></span>
* [<span data-ttu-id="9b5cd-546">Supervisión de una cuenta de almacenamiento en Azure Portal</span><span class="sxs-lookup"><span data-stu-id="9b5cd-546">Monitor a Storage Account in the Azure portal</span></span>](storage-monitor-storage-account.md)

  <span data-ttu-id="9b5cd-547">Este artículo muestra cómo configurar la supervisión de las métricas y el registro para una cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-547">This article shows how to configure monitoring of metrics and logging for a storage account.</span></span>
* [<span data-ttu-id="9b5cd-548">Solución integral de problemas con los registros y métricas de Azure Storage, AzCopy y el analizador de mensajes</span><span class="sxs-lookup"><span data-stu-id="9b5cd-548">End-to-End Troubleshooting using Azure Storage Metrics and Logging, AzCopy, and Message Analyzer</span></span>](storage-e2e-troubleshooting.md)

  <span data-ttu-id="9b5cd-549">Este artículo trata la solución de problemas mediante Storage Analytics y muestra cómo utilizar el Analizador de mensajes de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-549">This article talks about troubleshooting using the Storage Analytics and shows how to use the Microsoft Message Analyzer.</span></span>
* [<span data-ttu-id="9b5cd-550">Guía de funcionamiento del analizador de mensajes de Microsoft</span><span class="sxs-lookup"><span data-stu-id="9b5cd-550">Microsoft Message Analyzer Operating Guide</span></span>](https://technet.microsoft.com/library/jj649776.aspx)

  <span data-ttu-id="9b5cd-551">Este artículo es la referencia para el Analizador de mensajes de Microsoft e incluye vínculos a un tutorial, el inicio rápido y el resumen de características.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-551">This article is the reference for the Microsoft Message Analyzer and includes links to a tutorial, quick start, and feature summary.</span></span>

## <a name="cross-origin-resource-sharing-cors"></a><span data-ttu-id="9b5cd-552">Uso compartido de recursos entre orígenes</span><span class="sxs-lookup"><span data-stu-id="9b5cd-552">Cross-Origin Resource Sharing (CORS)</span></span>
### <a name="cross-domain-access-of-resources"></a><span data-ttu-id="9b5cd-553">Acceso entre dominios de recursos</span><span class="sxs-lookup"><span data-stu-id="9b5cd-553">Cross-domain access of resources</span></span>
<span data-ttu-id="9b5cd-554">Cuando un explorador web que se ejecuta en un dominio realiza una solicitud HTTP para un recurso desde un dominio diferente, el proceso se denomina solicitud HTTP entre orígenes.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-554">When a web browser running in one domain makes an HTTP request for a resource from a different domain, this is called a cross-origin HTTP request.</span></span> <span data-ttu-id="9b5cd-555">Por ejemplo, una página HTML atendida desde contoso.com realiza una solicitud para un jpeg hospedado en fabrikam.blob.core.windows.net.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-555">For example, an HTML page served from contoso.com makes a request for a jpeg hosted on fabrikam.blob.core.windows.net.</span></span> <span data-ttu-id="9b5cd-556">Por motivos de seguridad, los exploradores restringen las solicitudes HTTP entre orígenes iniciadas desde scripts, como JavaScript.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-556">For security reasons, browsers restrict cross-origin HTTP requests initiated from within scripts, such as JavaScript.</span></span> <span data-ttu-id="9b5cd-557">Esto significa que cuando el código JavaScript de una página web en contoso.com solicite jpeg en fabrikam.blob.core.windows.net, el explorador no permitirá la solicitud.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-557">This means that when some JavaScript code on a web page on contoso.com requests that jpeg on fabrikam.blob.core.windows.net, the browser will not allow the request.</span></span>

<span data-ttu-id="9b5cd-558">¿Qué relación guarda esto con el Azure Storage?</span><span class="sxs-lookup"><span data-stu-id="9b5cd-558">What does this have to do with Azure Storage?</span></span> <span data-ttu-id="9b5cd-559">Si almacena recursos estáticos como archivos de datos JSON o XML en Blob Storage con una cuenta de almacenamiento llamada Fabrikam, el dominio de los recursos será fabrikam.blob.core.windows.net y la aplicación web de contoso.com no podrá tener acceso a ellos mediante JavaScript, ya que los dominios son diferentes.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-559">Well, if you are storing static assets such as JSON or XML data files in Blob Storage using a storage account called Fabrikam, the domain for the assets will be fabrikam.blob.core.windows.net, and the contoso.com web application will not be able to access them using JavaScript because the domains are different.</span></span> <span data-ttu-id="9b5cd-560">Esto se cumple también si trata de llamar a uno de los servicios de Azure Storage, como Table Storage, que devuelven datos JSON para que los procese el cliente JavaScript.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-560">This is also true if you're trying to call one of the Azure Storage Services – such as Table Storage – that return JSON data to be processed by the JavaScript client.</span></span>

#### <a name="possible-solutions"></a><span data-ttu-id="9b5cd-561">Posibles soluciones</span><span class="sxs-lookup"><span data-stu-id="9b5cd-561">Possible solutions</span></span>
<span data-ttu-id="9b5cd-562">Una manera de resolver esto es asignar un dominio personalizado, como "storage.contoso.com", a fabrikam.blob.core.windows.net.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-562">One way to resolve this is to assign a custom domain like "storage.contoso.com" to fabrikam.blob.core.windows.net.</span></span> <span data-ttu-id="9b5cd-563">El problema es que solo se puede asignar ese dominio personalizado a una cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-563">The problem is that you can only assign that custom domain to one storage account.</span></span> <span data-ttu-id="9b5cd-564">¿Qué ocurre si los recursos se almacenan en varias cuentas de almacenamiento?</span><span class="sxs-lookup"><span data-stu-id="9b5cd-564">What if the assets are stored in multiple storage accounts?</span></span>

<span data-ttu-id="9b5cd-565">Otra manera de resolver este problema es hacer que la aplicación web actúe como proxy para las llamadas de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-565">Another way to resolve this is to have the web application act as a proxy for the storage calls.</span></span> <span data-ttu-id="9b5cd-566">Esto significa que si está cargando un archivo a Blob Storage, la aplicación web podría escribirlo localmente y, a continuación, copiarlo en Blob Storage; o bien leerlo entero en la memoria y, a continuación, escribirlo en Blob Storage.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-566">This means if you are uploading a file to Blob Storage, the web application would either write it locally and then copy it to Blob Storage, or it would read all of it into memory and then write it to Blob Storage.</span></span> <span data-ttu-id="9b5cd-567">Como alternativa, podría escribir una aplicación web dedicada (como una API web) que cargue los archivos localmente y los escriba en Blob Storage.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-567">Alternately, you could write a dedicated web application (such as a Web API) that uploads the files locally and writes them to Blob Storage.</span></span> <span data-ttu-id="9b5cd-568">En cualquier caso, debe tener en cuenta esa función al determinar las necesidades de escalabilidad.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-568">Either way, you have to account for that function when determining the scalability needs.</span></span>

#### <a name="how-can-cors-help"></a><span data-ttu-id="9b5cd-569">¿En qué sentido puede resultar útil el uso compartido de recursos entre orígenes?</span><span class="sxs-lookup"><span data-stu-id="9b5cd-569">How can CORS help?</span></span>
<span data-ttu-id="9b5cd-570">Azure Storage permite habilitar el uso compartido de recursos entre orígenes.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-570">Azure Storage allows you to enable CORS – Cross Origin Resource Sharing.</span></span> <span data-ttu-id="9b5cd-571">Puede especificar los dominios que pueden tener acceso a los recursos de cada una de las cuentas de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-571">For each storage account, you can specify domains that can access the resources in that storage account.</span></span> <span data-ttu-id="9b5cd-572">Por ejemplo, en nuestro caso descrito anteriormente, podemos habilitar el uso compartido de recursos entre orígenes en la cuenta de almacenamiento fabrikam.blob.core.windows.net y configurarlo para permitir el acceso a contoso.com.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-572">For example, in our case outlined above, we can enable CORS on the fabrikam.blob.core.windows.net storage account and configure it to allow access to contoso.com.</span></span> <span data-ttu-id="9b5cd-573">A continuación, la aplicación web contoso.com puede acceder directamente a los recursos en fabrikam.blob.core.windows.net.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-573">Then the web application contoso.com can directly access the resources in fabrikam.blob.core.windows.net.</span></span>

<span data-ttu-id="9b5cd-574">Hay que destacar que el uso compartido de recursos entre orígenes permite el acceso, pero no proporciona autenticación, que es necesaria para todos los accesos no públicos de los recursos de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-574">One thing to note is that CORS allows access, but it does not provide authentication, which is required for all non-public access of storage resources.</span></span> <span data-ttu-id="9b5cd-575">Esto significa que solo puede tener acceso a blobs si son públicos o se incluye una Firma de acceso compartido que le proporcione el permiso adecuado.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-575">This means you can only access blobs if they are public or you include a Shared Access Signature giving you the appropriate permission.</span></span> <span data-ttu-id="9b5cd-576">Las tablas, las colas y los archivos no tienen acceso público y requieren una Firma de acceso compartido.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-576">Tables, queues, and files have no public access, and require a SAS.</span></span>

<span data-ttu-id="9b5cd-577">De forma predeterminada, el uso compartido de recursos entre orígenes está deshabilitado en todos los servicios.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-577">By default, CORS is disabled on all services.</span></span> <span data-ttu-id="9b5cd-578">Puede habilitarlo mediante la API de REST o la biblioteca de clientes de Storage para llamar a uno de los métodos a fin de establecer las directivas del servicio.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-578">You can enable CORS by using the REST API or the storage client library to call one of the methods to set the service policies.</span></span> <span data-ttu-id="9b5cd-579">Cuando lo haga, debe incluir una regla de uso compartido de recursos entre orígenes, que está en formato XML.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-579">When you do that, you include a CORS rule, which is in XML.</span></span> <span data-ttu-id="9b5cd-580">Aquí presentamos un ejemplo de regla de uso compartido de recursos entre orígenes que se ha establecido mediante la operación Set Service Properties para Blob Service para una cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-580">Here's an example of a CORS rule that has been set using the Set Service Properties operation for the Blob Service for a storage account.</span></span> <span data-ttu-id="9b5cd-581">Puede realizar la operación mediante la biblioteca de clientes de Storage o las API de REST para Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-581">You can perform that operation using the storage client library or the REST APIs for Azure Storage.</span></span>

```xml
<Cors>    
    <CorsRule>
        <AllowedOrigins>http://www.contoso.com, http://www.fabrikam.com</AllowedOrigins>
        <AllowedMethods>PUT,GET</AllowedMethods>
        <AllowedHeaders>x-ms-meta-data*,x-ms-meta-target*,x-ms-meta-abc</AllowedHeaders>
        <ExposedHeaders>x-ms-meta-*</ExposedHeaders>
        <MaxAgeInSeconds>200</MaxAgeInSeconds>
    </CorsRule>
<Cors>
```

<span data-ttu-id="9b5cd-582">Esto es lo que significa cada fila:</span><span class="sxs-lookup"><span data-stu-id="9b5cd-582">Here's what each row means:</span></span>

* <span data-ttu-id="9b5cd-583">**AllowedOrigins**: señala qué dominios no coincidentes pueden solicitar y recibir datos del servicio Storage.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-583">**AllowedOrigins** This tells which non-matching domains can request and receive data from the storage service.</span></span> <span data-ttu-id="9b5cd-584">En este caso, indica que contoso.com y fabrikam.com pueden solicitar datos desde Blob Storage para una cuenta de almacenamiento específica.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-584">This says that both contoso.com and fabrikam.com can request data from Blob Storage for a specific storage account.</span></span> <span data-ttu-id="9b5cd-585">También puede configurar este valor en un carácter comodín (\*) para permitir que todos los dominios accedan a las solicitudes.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-585">You can also set this to a wildcard (\*) to allow all domains to access requests.</span></span>
* <span data-ttu-id="9b5cd-586">**AllowedMethods**: se trata de la lista de métodos (verbos de solicitud HTTP) que se puede utilizar al realizar la solicitud.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-586">**AllowedMethods** This is the list of methods (HTTP request verbs) that can be used when making the request.</span></span> <span data-ttu-id="9b5cd-587">En este ejemplo, se permiten solo GET y PUT.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-587">In this example, only PUT and GET are allowed.</span></span> <span data-ttu-id="9b5cd-588">Puede configurar este valor en un carácter comodín (\*) para permitir que se usen todos los métodos.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-588">You can set this to a wildcard (\*) to allow all methods to be used.</span></span>
* <span data-ttu-id="9b5cd-589">**AllowedHeaders**: se trata de los encabezados de solicitud que puede especificar el dominio de origen al realizar la solicitud.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-589">**AllowedHeaders** This is the request headers that the origin domain can specify when making the request.</span></span> <span data-ttu-id="9b5cd-590">En el ejemplo anterior, se permiten todos los encabezados de metadatos que comienzan por x-ms-meta-data, x-ms-meta-target y x-ms-meta-abc.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-590">In this example, all metadata headers starting with x-ms-meta-data, x-ms-meta-target, and x-ms-meta-abc are permitted.</span></span> <span data-ttu-id="9b5cd-591">Tenga en cuenta que el carácter comodín (\*) indica que se permite cualquier encabezado que empiece con el prefijo especificado.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-591">The wildcard character (\*) indicates that any header beginning with the specified prefix is allowed.</span></span>
* <span data-ttu-id="9b5cd-592">**ExposedHeaders**: indica que el explorador debe exponer los encabezados de respuesta al emisor de la solicitud.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-592">**ExposedHeaders** This tells which response headers should be exposed by the browser to the request issuer.</span></span> <span data-ttu-id="9b5cd-593">En este ejemplo, se expondrán los encabezados que empiecen por "x-ms-meta-".</span><span class="sxs-lookup"><span data-stu-id="9b5cd-593">In this example, any header starting with "x-ms-meta-" will be exposed.</span></span>
* <span data-ttu-id="9b5cd-594">**MaxAgeInSeconds**: el tiempo máximo que un explorador almacenará en la caché la solicitud preparatoria OPTIONS.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-594">**MaxAgeInSeconds** This is the maximum amount of time that a browser will cache the preflight OPTIONS request.</span></span> <span data-ttu-id="9b5cd-595">(para más información acerca de la solicitud preparatoria, consulte el primer artículo de los que se presentan a continuación).</span><span class="sxs-lookup"><span data-stu-id="9b5cd-595">(For more information about the preflight request, check the first article below.)</span></span>

#### <a name="resources"></a><span data-ttu-id="9b5cd-596">Recursos</span><span class="sxs-lookup"><span data-stu-id="9b5cd-596">Resources</span></span>
<span data-ttu-id="9b5cd-597">Para más información acerca del uso compartido de recursos entre orígenes y cómo habilitarlo, consulte estos recursos.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-597">For more information about CORS and how to enable it, please check out these resources.</span></span>

* [<span data-ttu-id="9b5cd-598">Compatibilidad con Uso compartido de recursos entre orígenes (CORS) para los servicios de Azure Storage en Azure.com</span><span class="sxs-lookup"><span data-stu-id="9b5cd-598">Cross-Origin Resource Sharing (CORS) Support for the Azure Storage Services on Azure.com</span></span>](storage-cors-support.md)

  <span data-ttu-id="9b5cd-599">Este artículo proporciona una visión general del uso compartido de recursos entre orígenes y explica cómo establecer las reglas para los diferentes servicios de Storage.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-599">This article provides an overview of CORS and how to set the rules for the different storage services.</span></span>
* [<span data-ttu-id="9b5cd-600">Compatibilidad con Uso compartido de recursos entre orígenes (CORS) para los servicios de Azure Storage en MSDN</span><span class="sxs-lookup"><span data-stu-id="9b5cd-600">Cross-Origin Resource Sharing (CORS) Support for the Azure Storage Services on MSDN</span></span>](https://msdn.microsoft.com/library/azure/dn535601.aspx)

  <span data-ttu-id="9b5cd-601">Se trata de la documentación de referencia para la compatibilidad con el uso compartido de recursos entre orígenes para los servicios de Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-601">This is the reference documentation for CORS support for the Azure Storage Services.</span></span> <span data-ttu-id="9b5cd-602">Contiene vínculos a artículos que se aplican a cada servicio de almacenamiento, se muestra un ejemplo y se explica cada elemento en el archivo del uso compartido de recursos entre orígenes.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-602">This has links to articles applying to each storage service, and shows an example and explains each element in the CORS file.</span></span>
* [<span data-ttu-id="9b5cd-603">Microsoft Azure Storage: Introducing CORS (Microsoft Azure Storage: Introducción a uso compartido de recursos entre orígenes)</span><span class="sxs-lookup"><span data-stu-id="9b5cd-603">Microsoft Azure Storage: Introducing CORS</span></span>](http://blogs.msdn.com/b/windowsazurestorage/archive/2014/02/03/windows-azure-storage-introducing-cors.aspx)

  <span data-ttu-id="9b5cd-604">Se trata de un vínculo al artículo inicial del blog en el que se anuncia el uso compartido de recursos entre orígenes y se muestra cómo utilizarlo.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-604">This is a link to the initial blog article announcing CORS and showing how to use it.</span></span>

## <a name="frequently-asked-questions-about-azure-storage-security"></a><span data-ttu-id="9b5cd-605">Preguntas más frecuentes acerca de la seguridad de Azure Storage</span><span class="sxs-lookup"><span data-stu-id="9b5cd-605">Frequently asked questions about Azure Storage security</span></span>
1. <span data-ttu-id="9b5cd-606">**¿Cómo se puede comprobar la integridad de los blobs que estoy transfiriendo hacia o desde Azure Storage si no puedo usar el protocolo HTTPS?**</span><span class="sxs-lookup"><span data-stu-id="9b5cd-606">**How can I verify the integrity of the blobs I'm transferring into or out of Azure Storage if I can't use the HTTPS protocol?**</span></span>

   <span data-ttu-id="9b5cd-607">Si por algún motivo debe utilizar HTTP en lugar de HTTPS y está trabajando con blobs en bloques, puede usar la comprobación de MD5 para ayudar a comprobar la integridad de los blobs que se transfieren.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-607">If for any reason you need to use HTTP instead of HTTPS and you are working with block blobs, you can use MD5 checking to help verify the integrity of the blobs being transferred.</span></span> <span data-ttu-id="9b5cd-608">Esto le ayudará con la protección frente a errores de red o de la capa de transporte, pero no necesariamente con ataques de intermediarios.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-608">This will help with protection from network/transport layer errors, but not necessarily with intermediary attacks.</span></span>

   <span data-ttu-id="9b5cd-609">Si puede usar HTTPS, que proporciona seguridad de nivel de transporte, el uso de la comprobación de MD5 es redundante e innecesario.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-609">If you can use HTTPS, which provides transport level security, then using MD5 checking is redundant and unnecessary.</span></span>

   <span data-ttu-id="9b5cd-610">Para obtener más información, consulte [Windows Azure Blob MD5 Overview](http://blogs.msdn.com/b/windowsazurestorage/archive/2011/02/18/windows-azure-blob-md5-overview.aspx)(Información general de MD5 de Azure Blob service).</span><span class="sxs-lookup"><span data-stu-id="9b5cd-610">For more information, please check out the [Azure Blob MD5 Overview](http://blogs.msdn.com/b/windowsazurestorage/archive/2011/02/18/windows-azure-blob-md5-overview.aspx).</span></span>
2. <span data-ttu-id="9b5cd-611">**¿Y qué ocurre con el cumplimiento de la norma FIPS para el Gobierno de EE. UU.?**</span><span class="sxs-lookup"><span data-stu-id="9b5cd-611">**What about FIPS-Compliance for the U.S. Government?**</span></span>

   <span data-ttu-id="9b5cd-612">La norma Federal Information Processing Standard (FIPS) de EE. UU. define los algoritmos criptográficos aprobados para su uso por los sistemas informáticos del Gobierno Federal de EE. UU para la protección de los datos confidenciales.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-612">The United States Federal Information Processing Standard (FIPS) defines cryptographic algorithms approved for use by U.S. Federal government computer systems for the protection of sensitive data.</span></span> <span data-ttu-id="9b5cd-613">La habilitación del modo FIPS en un servidor o escritorio de Windows indica al sistema operativo que solo se deben usar los algoritmos criptográficos validados por FIPS.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-613">Enabling FIPS mode on a Windows server or desktop tells the OS that only FIPS-validated cryptographic algorithms should be used.</span></span> <span data-ttu-id="9b5cd-614">Si una aplicación utiliza algoritmos no compatibles, se invalidarán las aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-614">If an application uses non-compliant algorithms, the applications will break.</span></span> <span data-ttu-id="9b5cd-615">Con .NET Framework en su versión 4.5.2 u otra posterior, la aplicación cambia automáticamente los algoritmos criptográficos para utilizar los algoritmos conformes a FIPS cuando el equipo está en modo FIPS.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-615">With.NET Framework versions 4.5.2 or higher, the application automatically switches the cryptography algorithms to use FIPS-compliant algorithms when the computer is in FIPS mode.</span></span>

   <span data-ttu-id="9b5cd-616">Microsoft permite que sea cada cliente quien decida si desea habilitar el modo FIPS.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-616">Microsoft leaves it up to each customer to decide whether to enable FIPS mode.</span></span> <span data-ttu-id="9b5cd-617">Creemos que los clientes que no están sujetos a reglamentaciones gubernamentales no tienen ninguna razón para habilitar el modo FIPS de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-617">We believe there is no compelling reason for customers who are not subject to government regulations to enable FIPS mode by default.</span></span>

   <span data-ttu-id="9b5cd-618">**Recursos**</span><span class="sxs-lookup"><span data-stu-id="9b5cd-618">**Resources**</span></span>

* <span data-ttu-id="9b5cd-619">[Why We're Not Recommending “FIPS Mode” Anymore](http://blogs.technet.com/b/secguide/archive/2014/04/07/why-we-re-not-recommending-fips-mode-anymore.aspx) (Por qué ya no recomendamos el "modo FIPS")</span><span class="sxs-lookup"><span data-stu-id="9b5cd-619">[Why We're Not Recommending "FIPS Mode" Anymore](http://blogs.technet.com/b/secguide/archive/2014/04/07/why-we-re-not-recommending-fips-mode-anymore.aspx)</span></span>

  <span data-ttu-id="9b5cd-620">En este artículo de blog se proporciona información general de FIPS y se explica por qué no se habilita el modo FIPS de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-620">This blog article gives an overview of FIPS and explains why they don't enable FIPS mode by default.</span></span>
* [<span data-ttu-id="9b5cd-621">FIPS 140 Validation (Validación FIPS 140)</span><span class="sxs-lookup"><span data-stu-id="9b5cd-621">FIPS 140 Validation</span></span>](https://technet.microsoft.com/library/cc750357.aspx)

  <span data-ttu-id="9b5cd-622">Este artículo proporciona información sobre el cumplimiento de los productos y los módulos criptográficos de Microsoft con la norma FIPS para el Gobierno Federal de EE. UU.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-622">This article provides information on how Microsoft products and cryptographic modules comply with the FIPS standard for the U.S. Federal government.</span></span>
* [<span data-ttu-id="9b5cd-623">"Criptografía de sistema: usar FIPS algoritmos compatibles con para cifrado, firma y operaciones hash" efectos de la configuración de seguridad en Windows XP y en versiones posteriores de Windows</span><span class="sxs-lookup"><span data-stu-id="9b5cd-623">"System cryptography: Use FIPS compliant algorithms for encryption, hashing, and signing" security settings effects in Windows XP and in later versions of Windows</span></span>](https://support.microsoft.com/kb/811833)

  <span data-ttu-id="9b5cd-624">Este artículo aborda el uso del modo FIPS en equipos más antiguos de Windows.</span><span class="sxs-lookup"><span data-stu-id="9b5cd-624">This article talks about the use of FIPS mode in older Windows computers.</span></span>
