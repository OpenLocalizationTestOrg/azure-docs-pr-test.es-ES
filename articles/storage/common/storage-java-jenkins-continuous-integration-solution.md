---
title: "Uso de Azure Storage con una solución de integración continua Jenkins | Microsoft Docs"
description: "En este tutorial se muestra cómo usar el servicio BLOB de Azure como repositorio para artefactos de compilación creados por una solución de integración continua Jenkins."
services: storage
documentationcenter: java
author: seguler
manager: jahogg
editor: tysonn
ms.assetid: f4e5ca75-f6cb-4f74-981b-2aa06bb8de45
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: Java
ms.topic: article
ms.date: 02/28/2017
ms.author: seguler
ms.openlocfilehash: 174ac449e803ed5327468a38ea7264cb9923a877
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/29/2017
---
# <a name="using-azure-storage-with-a-jenkins-continuous-integration-solution"></a><span data-ttu-id="6fc3d-103">Uso del Almacenamiento de Azure con una solución de integración continua Jenkins</span><span class="sxs-lookup"><span data-stu-id="6fc3d-103">Using Azure Storage with a Jenkins Continuous Integration solution</span></span>
## <a name="overview"></a><span data-ttu-id="6fc3d-104">Información general</span><span class="sxs-lookup"><span data-stu-id="6fc3d-104">Overview</span></span>
<span data-ttu-id="6fc3d-105">En la siguiente información se describe cómo usar Almacenamiento de blobs como repositorio de artefactos de compilación creados por una solución de integración continua (CI) de Jenkins o como origen de archivos descargables que se pueden usar en un proceso de compilación.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-105">The following information shows how to use Blob storage as a repository of build artifacts created by a Jenkins Continuous Integration (CI) solution, or as a source of downloadable files to be used in a build process.</span></span> <span data-ttu-id="6fc3d-106">Uno de los escenarios en que esto le puede resultar útil es para codificar en un entorno de desarrollo ágil (con el uso de Java o de otros lenguajes), cuando las compilaciones se ejecutan según una integración continua y si necesita un repositorio para los artefactos de compilación, a fin de que, por ejemplo, pueda compartirlos con otros miembros de la organización, con los clientes o para mantener un archivo.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-106">One of the scenarios where you would find this useful is when you're coding in an agile development environment (using Java or other languages), builds are running based on continuous integration, and you need a repository for your build artifacts, so that you could, for example, share them with other organization members, your customers, or maintain an archive.</span></span> <span data-ttu-id="6fc3d-107">Otro es cuando su trabajo de compilación propiamente dicho requiere otros archivos, por ejemplo, la descarga de dependencias como parte de la entrada de compilación.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-107">Another scenario is when your build job itself requires other files, for example, dependencies to download as part of the build input.</span></span>

<span data-ttu-id="6fc3d-108">En este tutorial usará el complemento del Almacenamiento de Azure de la integración continua Jenkins habilitada por Microsoft.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-108">In this tutorial you will be using the Azure Storage Plugin for Jenkins CI made available by Microsoft.</span></span>

## <a name="overview-of-jenkins"></a><span data-ttu-id="6fc3d-109">Información general sobre Jenkins</span><span class="sxs-lookup"><span data-stu-id="6fc3d-109">Overview of Jenkins</span></span>
<span data-ttu-id="6fc3d-110">Jenkins permite la integración continua de un proyecto de software al hacer posible que los desarrolladores integren fácilmente los cambios de su código y cuenten con compilaciones generadas de manera automática y frecuente, lo que les permite aumentar la productividad.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-110">Jenkins enables continuous integration of a software project by allowing developers to easily integrate their code changes and have builds produced automatically and frequently, thereby increasing the productivity of the developers.</span></span> <span data-ttu-id="6fc3d-111">Las compilaciones tienen varias versiones y los artefactos de compilación se pueden cargar en varios repositorios.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-111">Builds are versioned, and build artifacts can be uploaded to various repositories.</span></span> <span data-ttu-id="6fc3d-112">En este tema se describe cómo usar el almacenamiento de blobs de Azure como repositorio de los artefactos de compilación.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-112">This topic will show how to use Azure blob storage as the repository of the build artifacts.</span></span> <span data-ttu-id="6fc3d-113">También se mostrará cómo descargar dependencias del almacenamiento de blobs de Azure.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-113">It will also show how to download dependencies from Azure blob storage.</span></span>

<span data-ttu-id="6fc3d-114">Puede encontrar más información acerca de Jenkins en [Meet Jenkins](https://wiki.jenkins-ci.org/display/JENKINS/Meet+Jenkins).</span><span class="sxs-lookup"><span data-stu-id="6fc3d-114">More information about Jenkins can be found at [Meet Jenkins](https://wiki.jenkins-ci.org/display/JENKINS/Meet+Jenkins).</span></span>

## <a name="benefits-of-using-the-blob-service"></a><span data-ttu-id="6fc3d-115">Ventajas de usar el servicio BLOB</span><span class="sxs-lookup"><span data-stu-id="6fc3d-115">Benefits of using the Blob service</span></span>
<span data-ttu-id="6fc3d-116">Las ventajas de usar el servicio BLOB para hospedar los artefactos de compilación para el desarrollo ágil son:</span><span class="sxs-lookup"><span data-stu-id="6fc3d-116">Benefits of using the Blob service to host your agile development build artifacts include:</span></span>

* <span data-ttu-id="6fc3d-117">Alta disponibilidad de sus artefactos de compilación o de sus dependencias descargables.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-117">High availability of your build artifacts and/or downloadable dependencies.</span></span>
* <span data-ttu-id="6fc3d-118">Rendimiento si la solución de integración continua Jenkins carga los artefactos de compilación</span><span class="sxs-lookup"><span data-stu-id="6fc3d-118">Performance when your Jenkins CI solution uploads your build artifacts.</span></span>
* <span data-ttu-id="6fc3d-119">Rendimiento si los clientes y socios descargan los artefactos de compilación</span><span class="sxs-lookup"><span data-stu-id="6fc3d-119">Performance when your customers and partners download your build artifacts.</span></span>
* <span data-ttu-id="6fc3d-120">Control sobre las directivas de acceso de usuarios, con una opción entre acceso anónimo, acceso compartido basado en expiración, acceso mediante firma, acceso privado, etc.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-120">Control over user access policies, with a choice between anonymous access, expiration-based shared access signature access, private access, etc.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="6fc3d-121">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="6fc3d-121">Prerequisites</span></span>
<span data-ttu-id="6fc3d-122">Para usar el servicio BLOB con la solución de integración continua Jenkins, necesitará lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="6fc3d-122">You will need the following to use the Blob service with your Jenkins CI solution:</span></span>

* <span data-ttu-id="6fc3d-123">Una solución de integración continua Jenkins.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-123">A Jenkins Continuous Integration solution.</span></span>
  
    <span data-ttu-id="6fc3d-124">Si no dispone actualmente de una solución de integración continua Jenkins, puede ejecutarla mediante la siguiente técnica:</span><span class="sxs-lookup"><span data-stu-id="6fc3d-124">If you currently don't have a Jenkins CI solution, you can run a Jenkins CI solution using the following technique:</span></span>
  
  1. <span data-ttu-id="6fc3d-125">En una máquina habilitada para Java, descargue jenkins.war de <http://jenkins-ci.org>.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-125">On a Java-enabled machine, download jenkins.war from <http://jenkins-ci.org>.</span></span>
  2. <span data-ttu-id="6fc3d-126">En un símbolo del sistema que se abre en la carpeta que contiene jenkins.war, ejecute:</span><span class="sxs-lookup"><span data-stu-id="6fc3d-126">At a command prompt that is opened to the folder that contains jenkins.war, run:</span></span>
     
      `java -jar jenkins.war`

  3. <span data-ttu-id="6fc3d-127">En el explorador, abra `http://localhost:8080/`.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-127">In your browser, open `http://localhost:8080/`.</span></span> <span data-ttu-id="6fc3d-128">A continuación, se abrirá el panel de Jenkins, que usará para instalar y configurar el complemento de almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-128">This will open the Jenkins dashboard, which you will use to install and configure the Azure Storage plugin.</span></span>
     
      <span data-ttu-id="6fc3d-129">Aunque una solución de integración continua Jenkins típica se configuraría para ejecutarse como un servicio, la ejecución del archivo war de Jenkins en la línea de comandos será suficiente para este tutorial.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-129">While a typical Jenkins CI solution would be set up to run as a service, running the Jenkins war at the command line will be sufficient for this tutorial.</span></span>
* <span data-ttu-id="6fc3d-130">Una cuenta de Azure.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-130">An Azure account.</span></span> <span data-ttu-id="6fc3d-131">Puede iniciar sesión en una cuenta de Azure en <http://www.azure.com>.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-131">You can sign up for an Azure account at <http://www.azure.com>.</span></span>
* <span data-ttu-id="6fc3d-132">Una cuenta de almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-132">An Azure storage account.</span></span> <span data-ttu-id="6fc3d-133">Si aún no tiene una cuenta de almacenamiento, puede crearla con los pasos descritos en [Creación de una cuenta de almacenamiento](../common/storage-create-storage-account.md#create-a-storage-account).</span><span class="sxs-lookup"><span data-stu-id="6fc3d-133">If you don't already have a storage account, you can create one using the steps at [Create a Storage Account](../common/storage-create-storage-account.md#create-a-storage-account).</span></span>
* <span data-ttu-id="6fc3d-134">Es recomendable estar familiarizado con la solución de integración continua Jenkins, pero no obligatorio, ya que a continuación se ilustrará un ejemplo básico con los pasos que debe seguir para usar el servicio BLOB como repositorio para los artefactos de compilación de integración continua Jenkins.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-134">Familiarity with the Jenkins CI solution is recommended but not required, as the following content will use a basic example to show you the steps needed when using the Blob service as a repository for Jenkins CI build artifacts.</span></span>

## <a name="how-to-use-the-blob-service-with-jenkins-ci"></a><span data-ttu-id="6fc3d-135">Uso del servicio BLOB con la integración continua Jenkins</span><span class="sxs-lookup"><span data-stu-id="6fc3d-135">How to use the Blob service with Jenkins CI</span></span>
<span data-ttu-id="6fc3d-136">Para usar el servicio BLOB con Jenkins, necesitará instalar el complemento de almacenamiento de Azure, configurarlo para usar la cuenta de almacenamiento y, a continuación, crear una acción posterior a la compilación que cargue los artefactos de compilación en la cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-136">To use the Blob service with Jenkins, you'll need to install the Azure Storage plugin, configure the plugin to use your storage account, and then create a post-build action that uploads your build artifacts to your storage account.</span></span> <span data-ttu-id="6fc3d-137">Estos pasos se describen en las secciones siguientes.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-137">These steps are described in the following sections.</span></span>

## <a name="how-to-install-the-azure-storage-plugin"></a><span data-ttu-id="6fc3d-138">Instalación del complemento de almacenamiento de Azure</span><span class="sxs-lookup"><span data-stu-id="6fc3d-138">How to install the Azure Storage plugin</span></span>
1. <span data-ttu-id="6fc3d-139">En el panel de Jenkins, haga clic en **Manage Jenkins**(Administrar Jenkins).</span><span class="sxs-lookup"><span data-stu-id="6fc3d-139">Within the Jenkins dashboard, click **Manage Jenkins**.</span></span>
2. <span data-ttu-id="6fc3d-140">En la página **Manage Jenkins** (Administrar Jenkins), haga clic en **Manage Plugins** (Administrar complementos).</span><span class="sxs-lookup"><span data-stu-id="6fc3d-140">In the **Manage Jenkins** page, click **Manage Plugins**.</span></span>
3. <span data-ttu-id="6fc3d-141">Haga clic en la pestaña **Available** (Disponible).</span><span class="sxs-lookup"><span data-stu-id="6fc3d-141">Click the **Available** tab.</span></span>
4. <span data-ttu-id="6fc3d-142">En la sección **Artifact Uploaders** (Cargadores de artefactos), marque **Microsoft Azure Storage plugin** (Complemento de almacenamiento de Microsoft Azure).</span><span class="sxs-lookup"><span data-stu-id="6fc3d-142">In the **Artifact Uploaders** section, check **Microsoft Azure Storage plugin**.</span></span>
5. <span data-ttu-id="6fc3d-143">Haga clic en **Install without restart** (Instalar sin reiniciar) o **Download now and install after restart** (Descargar ahora e instalar después de reiniciar).</span><span class="sxs-lookup"><span data-stu-id="6fc3d-143">Click either **Install without restart** or **Download now and install after restart**.</span></span>
6. <span data-ttu-id="6fc3d-144">Reinicie Jenkins.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-144">Restart Jenkins.</span></span>

## <a name="how-to-configure-the-azure-storage-plugin-to-use-your-storage-account"></a><span data-ttu-id="6fc3d-145">Configuración del complemento de almacenamiento de Azure para usar la cuenta de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="6fc3d-145">How to configure the Azure Storage plugin to use your storage account</span></span>
1. <span data-ttu-id="6fc3d-146">En el panel de Jenkins, haga clic en **Manage Jenkins**(Administrar Jenkins).</span><span class="sxs-lookup"><span data-stu-id="6fc3d-146">Within the Jenkins dashboard, click **Manage Jenkins**.</span></span>
2. <span data-ttu-id="6fc3d-147">En la página **Manage Jenkins** (Administrar Jenkins), haga clic en **Configure System** (Configurar sistema).</span><span class="sxs-lookup"><span data-stu-id="6fc3d-147">In the **Manage Jenkins** page, click **Configure System**.</span></span>
3. <span data-ttu-id="6fc3d-148">En la sección **Microsoft Azure Storage Account Configuration** (Configuración de la cuenta de almacenamiento de Microsoft Azure):</span><span class="sxs-lookup"><span data-stu-id="6fc3d-148">In the **Microsoft Azure Storage Account Configuration** section:</span></span>
   1. <span data-ttu-id="6fc3d-149">Escriba el nombre de la cuenta de almacenamiento, que puede obtener en el [Portal de Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="6fc3d-149">Enter your storage account name, which you can obtain from the [Azure Portal](https://portal.azure.com).</span></span>
   2. <span data-ttu-id="6fc3d-150">Escriba la clave de la cuenta de almacenamiento, que también puede obtener en el [Portal de Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="6fc3d-150">Enter your storage account key, also obtainable from the [Azure Portal](https://portal.azure.com).</span></span>
   3. <span data-ttu-id="6fc3d-151">Use el valor predeterminado para **Blob Service Endpoint URL** (Dirección URL del extremo de servicio BLOB) si usa la nube pública de Azure.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-151">Use the default value for **Blob Service Endpoint URL** if you are using the public Azure cloud.</span></span> <span data-ttu-id="6fc3d-152">Si usa una nube de Azure distinta, use el punto de conexión tal y como se especifica en el [Portal de Azure](https://portal.azure.com) para la cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-152">If you are using a different Azure cloud, use the endpoint as specified in the [Azure Portal](https://portal.azure.com) for your storage account.</span></span> 
   4. <span data-ttu-id="6fc3d-153">Haga clic en **Validate storage credentials** (Validar credenciales de almacenamiento) para validar la cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-153">Click **Validate storage credentials** to validate your storage account.</span></span> 
   5. <span data-ttu-id="6fc3d-154">[Opcional] Si tiene más cuentas de almacenamiento que desea que estén disponibles para la integración continua Jenkins, haga clic en **Add more Storage Accounts**(Agregar más cuentas de almacenamiento).</span><span class="sxs-lookup"><span data-stu-id="6fc3d-154">[Optional] If you have additional storage accounts that you want made available to your Jenkins CI, click **Add more Storage Accounts**.</span></span>
   6. <span data-ttu-id="6fc3d-155">Haga clic en **Save** (Guardar) para guardar la configuración.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-155">Click **Save** to save your settings.</span></span>

## <a name="how-to-create-a-post-build-action-that-uploads-your-build-artifacts-to-your-storage-account"></a><span data-ttu-id="6fc3d-156">Creación de una acción posterior a la compilación que carga los artefactos de compilación para la cuenta de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="6fc3d-156">How to create a post-build action that uploads your build artifacts to your storage account</span></span>
<span data-ttu-id="6fc3d-157">Con el fin de facilitar instrucciones, primero necesitaremos crear un trabajo que generará varios archivos y, a continuación, agregar la acción posterior a la compilación para cargar estos archivos en la cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-157">For instruction purposes, first we'll need to create a job that will create several files, and then add in the post-build action to upload the files to your storage account.</span></span>

1. <span data-ttu-id="6fc3d-158">En el panel de Jenkins, haga clic en **New Item**(Nuevo elemento).</span><span class="sxs-lookup"><span data-stu-id="6fc3d-158">Within the Jenkins dashboard, click **New Item**.</span></span>
2. <span data-ttu-id="6fc3d-159">Asigne al trabajo el nombre **MyJob**, haga clic en **Build a free-style software project** (Compilar un trabajo de software de estilo libre) y, a continuación, haga clic en **OK** (Aceptar).</span><span class="sxs-lookup"><span data-stu-id="6fc3d-159">Name the job **MyJob**, click **Build a free-style software project**, and then click **OK**.</span></span>
3. <span data-ttu-id="6fc3d-160">En la sección **Build** (Compilar) de la configuración del trabajo, haga clic en **Add build step** (Agregar paso de compilación) y seleccione **Execute Windows batch command** (Ejecutar comando por lotes de Windows).</span><span class="sxs-lookup"><span data-stu-id="6fc3d-160">In the **Build** section of the job configuration, click **Add build step** and choose **Execute Windows batch command**.</span></span>
4. <span data-ttu-id="6fc3d-161">En **Command**(Comando), use los comandos siguientes:</span><span class="sxs-lookup"><span data-stu-id="6fc3d-161">In **Command**, use the following commands:</span></span>

    ```   
    md text
    cd text
    echo Hello Azure Storage from Jenkins > hello.txt
    date /t > date.txt
    time /t >> date.txt
    ```

5. <span data-ttu-id="6fc3d-162">En la sección **Post-build Actions** (Acciones posteriores a la compilación) de la configuración del trabajo, haga clic en **Add post-build action** (Agregar acción posterior a la compilación) y seleccione **Upload artifacts to Azure Blob storage** (Cargar artefactos en Azure Blob Storage).</span><span class="sxs-lookup"><span data-stu-id="6fc3d-162">In the **Post-build Actions** section of the job configuration, click **Add post-build action** and choose **Upload artifacts to Azure Blob storage**.</span></span>
6. <span data-ttu-id="6fc3d-163">En **Storage account name**(Nombre de cuenta de almacenamiento), seleccione la cuenta de almacenamiento que desea usar.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-163">For **Storage account name**, select the storage account to use.</span></span>
7. <span data-ttu-id="6fc3d-164">En **Container Name**(Nombre de contenedor), especifique el nombre del contenedor.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-164">For **Container name**, specify the container name.</span></span> <span data-ttu-id="6fc3d-165">(El contenedor se creará si aún no existe cuando se carguen los artefactos de compilación). Puede usar las variables de entorno, así que, para este ejemplo, escriba **${JOB_NAME}** como nombre del contenedor.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-165">(The container will be created if it does not already exist when the build artifacts are uploaded.) You can use environment variables, so for this example enter **${JOB_NAME}** as the container name.</span></span>
   
    <span data-ttu-id="6fc3d-166">**Sugerencia**</span><span class="sxs-lookup"><span data-stu-id="6fc3d-166">**Tip**</span></span>
   
    <span data-ttu-id="6fc3d-167">Debajo de la sección **Command** (Comando) en la que ha insertado un script para **Execute Windows batch command** (Ejecutar comando por lotes de Windows) hay un vínculo a las variables de entorno reconocidas por Jenkins.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-167">Below the **Command** section where you entered a script for **Execute Windows batch command** is a link to the environment variables recognized by Jenkins.</span></span> <span data-ttu-id="6fc3d-168">Haga clic en dicho vínculos para obtener acceso a las descripciones y los nombres de las variables de entorno.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-168">Click that link to learn the environment variable names and descriptions.</span></span> <span data-ttu-id="6fc3d-169">Tenga en cuenta que las variables de entorno que contienen caracteres especiales, como **BUILD_URL**, no se admiten como nombre de contenedor ni como ruta de acceso virtual común.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-169">Note that environment variables that contain special characters, such as the **BUILD_URL** environment variable, are not allowed as a container name or common virtual path.</span></span>
8. <span data-ttu-id="6fc3d-170">Haga clic en **Make new container public by default** (Hacer público el nuevo contenedor de forma predeterminada) para este ejemplo.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-170">Click **Make new container public by default** for this example.</span></span> <span data-ttu-id="6fc3d-171">(Si desea usar un contenedor privado, también tendrá que crear una firma de acceso compartida para permitir el acceso.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-171">(If you want to use a private container, you'll need to create a shared access signature to allow access.</span></span> <span data-ttu-id="6fc3d-172">Eso va más allá del ámbito de este tema.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-172">That is beyond the scope of this topic.</span></span> <span data-ttu-id="6fc3d-173">Puede obtener más información sobre las firmas de acceso compartido en [Uso de Firma de acceso compartido (SAS)](../storage-dotnet-shared-access-signature-part-1.md)).</span><span class="sxs-lookup"><span data-stu-id="6fc3d-173">You can learn more about shared access signatures at [Using Shared Access Signatures (SAS)](../storage-dotnet-shared-access-signature-part-1.md).)</span></span>
9. <span data-ttu-id="6fc3d-174">[Opcional] Haga clic en **Clean container before uploading** (Limpiar contenedor antes de cargarlo) si desea que se borre el contenido del contenedor antes de cargar los artefactos de compilación (déjela sin marcar si no desea limpiar el contenido del contenedor).</span><span class="sxs-lookup"><span data-stu-id="6fc3d-174">[Optional] Click **Clean container before uploading** if you want the container to be cleared of contents before build artifacts are uploaded (leave it unchecked if you do not want to clean the contents of the container).</span></span>
10. <span data-ttu-id="6fc3d-175">Para consultar **List of Artifacts to upload** (Lista de artefactos que cargar), escriba **text/*.txt**.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-175">For **List of Artifacts to upload**, enter **text/*.txt**.</span></span>
11. <span data-ttu-id="6fc3d-176">A los efectos del presente tutorial, en **Common virtual path for uploaded artifacts** (Ruta de acceso virtual común para artefactos cargados), escriba **${BUILD\_ID}/${BUILD\_NUMBER}**.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-176">For **Common virtual path for uploaded artifacts**, for purposes of this tutorial, enter **${BUILD\_ID}/${BUILD\_NUMBER}**.</span></span>
12. <span data-ttu-id="6fc3d-177">Haga clic en **Save** (Guardar) para guardar la configuración.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-177">Click **Save** to save your settings.</span></span>
13. <span data-ttu-id="6fc3d-178">En el panel de Jenkins, haga clic en **Build Now** (Compilar ahora) para ejecutar **MyJob**.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-178">In the Jenkins dashboard, click **Build Now** to run **MyJob**.</span></span> <span data-ttu-id="6fc3d-179">Examine el resultado de la consola para consultar el estado.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-179">Examine the console output for status.</span></span> <span data-ttu-id="6fc3d-180">Los mensajes de estado sobre el almacenamiento de Azure se incluirán en los resultados de la consola cuando la acción posterior a la compilación comience a cargar los artefactos de compilación.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-180">Status messages for Azure storage will be included in the console output when the post-build action starts to upload build artifacts.</span></span>
14. <span data-ttu-id="6fc3d-181">Tras completar el trabajo satisfactoriamente, abra el blob público si desea examinar los artefactos de compilación.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-181">Upon successful completion of the job, you can examine the build artifacts by opening the public blob.</span></span>
    1. <span data-ttu-id="6fc3d-182">Inicie sesión en el [Portal de Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="6fc3d-182">Login to the [Azure Portal](https://portal.azure.com).</span></span>
    2. <span data-ttu-id="6fc3d-183">Haga clic en **Storage**(Almacenamiento).</span><span class="sxs-lookup"><span data-stu-id="6fc3d-183">Click **Storage**.</span></span>
    3. <span data-ttu-id="6fc3d-184">Haga clic en el nombre de la cuenta de almacenamiento que ha usado para Jenkins.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-184">Click the storage account name that you used for Jenkins.</span></span>
    4. <span data-ttu-id="6fc3d-185">Haga clic en **Containers**(Contenedores).</span><span class="sxs-lookup"><span data-stu-id="6fc3d-185">Click **Containers**.</span></span>
    5. <span data-ttu-id="6fc3d-186">Haga clic en el contenedor llamado **myjob**, que es la versión en minúscula del nombre del trabajo asignado cuando ha creado el trabajo de Jenkins.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-186">Click the container named **myjob**, which is the lowercase version of the job name that you assigned when you created the Jenkins job.</span></span> <span data-ttu-id="6fc3d-187">Los nombres de los contenedores y los nombres de los blobs se guardan en minúscula en el almacenamiento de Azure y, además, distinguen mayúsculas de minúsculas.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-187">Container names and blob names are lowercase (and case-sensitive) in Azure storage.</span></span> <span data-ttu-id="6fc3d-188">En la lista de blobs del contenedor llamado **myjob**, deben aparecer **hello.txt** y **date.txt**.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-188">Within the list of blobs for the container named **myjob** you should see **hello.txt** and **date.txt**.</span></span> <span data-ttu-id="6fc3d-189">Copie la URL de cualquiera de estos elementos y ábrala en el explorador.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-189">Copy the URL for either of these items and open it in your browser.</span></span> <span data-ttu-id="6fc3d-190">A continuación, verá el archivo de texto cargado como un artefacto de compilación.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-190">You will see the text file that was uploaded as a build artifact.</span></span>

<span data-ttu-id="6fc3d-191">Solo se puede crear una acción posterior a la compilación que cargue artefactos en el almacenamiento de blobs de Azure por cada trabajo.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-191">Only one post-build action that uploads artifacts to Azure blob storage can be created per job.</span></span> <span data-ttu-id="6fc3d-192">Tenga en cuenta que la acción posterior a la compilación para cargar artefactos en el almacenamiento de blobs de Azure puede especificar diferentes archivos (comodines incluidos) y rutas de acceso a los archivos en **List of Artifacts to upload** (Lista de artefactos para cargar) con el uso del punto y coma como separador.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-192">Note that the single post-build action to upload artifacts to Azure blob storage can specify different files (including wildcards) and paths to files within **List of Artifacts to upload** using a semi-colon as a separator.</span></span> <span data-ttu-id="6fc3d-193">Por ejemplo, si su proceso de compilación Jenkins produce archivos JAR y TXT en la carpeta **build** (compilar) del área de trabajo, y desea cargar ambos en Azure Blob Storage, use el siguiente código para el valor **List of Artifacts to upload** (Lista de artefactos para cargar): **build/\*.jar;build/\*.txt**.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-193">For example, if your Jenkins build produces JAR files and TXT files in your workspace's **build** folder, and you want to upload both to Azure blob storage, use the following for the **List of Artifacts to upload** value: **build/\*.jar;build/\*.txt**.</span></span> <span data-ttu-id="6fc3d-194">También puede usar sintaxis de dos puntos dobles para especificar una ruta de acceso dentro del nombre del blob.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-194">You can also use double-colon syntax to specify a path to use within the blob name.</span></span> <span data-ttu-id="6fc3d-195">Por ejemplo, si desea que los archivos JAR se carguen mediante archivos **binaries** (binarios) en la ruta de acceso del blob y que los TXT lo hagan por medio de **notices** (notificaciones) en esta misma ruta, use lo siguiente para el valor **List of Artifacts to upload** (Lista de artefactos para cargar): **build/\*.jar::binaries;build/\*.txt::notices**.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-195">For example, if you want the JARs to get uploaded using **binaries** in the blob path and the TXT files to get uploaded using **notices** in the blob path, use the following for the **List of Artifacts to upload** value: **build/\*.jar::binaries;build/\*.txt::notices**.</span></span>

## <a name="how-to-create-a-build-step-that-downloads-from-azure-blob-storage"></a><span data-ttu-id="6fc3d-196">Creación de un paso de compilación que descarga del almacenamiento de blobs de Azure</span><span class="sxs-lookup"><span data-stu-id="6fc3d-196">How to create a build step that downloads from Azure blob storage</span></span>
<span data-ttu-id="6fc3d-197">En los siguientes pasos se muestra cómo configurar un paso de compilación para descargar elementos del almacenamiento de blobs de Azure.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-197">The following steps show how to configure a build step to download items from Azure blob storage.</span></span> <span data-ttu-id="6fc3d-198">Esto sería útil si desea incluir elementos en la compilación, por ejemplo, archivos JAR que mantenga en el almacenamiento de blobs de Azure.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-198">This would be useful if you want to include items in your build, for example, JARs that you keep in Azure blob storage.</span></span>

1. <span data-ttu-id="6fc3d-199">En la sección **Build** (Compilar) de la configuración del trabajo, haga clic en **Add build step** (Agregar paso de compilación) y seleccione **Download from Azure Blob storage** (Descargar del almacenamiento de blobs de Azure).</span><span class="sxs-lookup"><span data-stu-id="6fc3d-199">In the **Build** section of the job configuration, click **Add build step** and choose **Download from Azure Blob storage**.</span></span>
2. <span data-ttu-id="6fc3d-200">En **Storage account name**(Nombre de cuenta de almacenamiento), seleccione la cuenta de almacenamiento que desea usar.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-200">For **Storage account name**, select the storage account to use.</span></span>
3. <span data-ttu-id="6fc3d-201">En **Container name**(Nombre de contenedor), especifique el nombre del contenedor que tiene los blobs que desea descargar.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-201">For **Container name**, specify the name of the container that has the blobs you want to download.</span></span> <span data-ttu-id="6fc3d-202">Puede usar variables de entorno.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-202">You can use environment variables.</span></span>
4. <span data-ttu-id="6fc3d-203">En **Blob name**(Nombre de blob), especifique el nombre del blob.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-203">For **Blob name**, specify the blob name.</span></span> <span data-ttu-id="6fc3d-204">Puede usar variables de entorno.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-204">You can use environment variables.</span></span> <span data-ttu-id="6fc3d-205">Además, puede usar un asterisco como comodín después de especificar las letras iniciales del nombre del blob.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-205">Also, you can use an asterisk, as a wildcard after you specify the initial letter(s) of the blob name.</span></span> <span data-ttu-id="6fc3d-206">Por ejemplo, **project\*** especificaría todos los blobs cuyos nombres comiencen por **project**.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-206">For example, **project\*** would specify all blobs whose names start with **project**.</span></span>
5. <span data-ttu-id="6fc3d-207">[Opcional] En **Download path**(Ruta de acceso de la descarga), especifique la ruta de acceso de la máquina de Jenkins en la que desea descargar los archivos del almacenamiento de blobs de Azure.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-207">[Optional] For **Download path**, specify the path on the Jenkins machine where you want to download files from Azure blob storage.</span></span> <span data-ttu-id="6fc3d-208">También se pueden usar variables de entorno.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-208">Environment variables can also be used.</span></span> <span data-ttu-id="6fc3d-209">(Si no proporciona un valor para **Download path**, los archivos del almacenamiento de blobs de Azure se descargarán en el área de trabajo del trabajo).</span><span class="sxs-lookup"><span data-stu-id="6fc3d-209">(If you do not provide a value for **Download path**, the files from Azure blob storage will be downloaded to the job's workspace.)</span></span>

<span data-ttu-id="6fc3d-210">Si tiene elementos adicionales que desea descargar del almacenamiento de blobs de Azure, puede crear pasos de compilación adicionales.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-210">If you have additional items you want to download from Azure blob storage, you can create additional build steps.</span></span>

<span data-ttu-id="6fc3d-211">Después de ejecutar una compilación, puede comprobar la salida de la consola del historial de compilación, o examinar la ubicación de descarga, para ver si los blobs que esperaba se han descargado correctamente.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-211">After you run a build, you can check the build history console output, or look at your download location, to see whether the blobs you expected were successfully downloaded.</span></span>  

## <a name="components-used-by-the-blob-service"></a><span data-ttu-id="6fc3d-212">Componentes usados por el servicio BLOB</span><span class="sxs-lookup"><span data-stu-id="6fc3d-212">Components used by the Blob service</span></span>
<span data-ttu-id="6fc3d-213">A continuación se ofrece información general acerca de los componentes del servicio BLOB.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-213">The following provides an overview of the Blob service components.</span></span>

* <span data-ttu-id="6fc3d-214">**Cuenta de almacenamiento**: todo el acceso a Almacenamiento de Azure se realiza a través de una cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-214">**Storage Account**: All access to Azure Storage is done through a storage account.</span></span> <span data-ttu-id="6fc3d-215">Se trata del nivel superior del espacio de nombres para el acceso a los blobs.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-215">This is the highest level of the namespace for accessing blobs.</span></span> <span data-ttu-id="6fc3d-216">Una cuenta puede contener una cantidad ilimitada de contenedores, siempre que su tamaño total no supere los 100 TB.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-216">An account can contain an unlimited number of containers, as long as their total size is under 100TB.</span></span>
* <span data-ttu-id="6fc3d-217">**Contenedor**: un contenedor proporciona una agrupación de un conjunto de blobs.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-217">**Container**: A container provides a grouping of a set of blobs.</span></span> <span data-ttu-id="6fc3d-218">Todos los blobs deben residir en un contenedor.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-218">All blobs must be in a container.</span></span> <span data-ttu-id="6fc3d-219">Además, una cuenta puede disponer de un número ilimitado de contenedores y</span><span class="sxs-lookup"><span data-stu-id="6fc3d-219">An account can contain an unlimited number of containers.</span></span> <span data-ttu-id="6fc3d-220">un contenedor puede almacenar un número ilimitado de blobs.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-220">A container can store an unlimited number of blobs.</span></span>
* <span data-ttu-id="6fc3d-221">**Blob**: archivo de cualquier tipo y tamaño.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-221">**Blob**: A file of any type and size.</span></span> <span data-ttu-id="6fc3d-222">Existen dos tipos de blobs que pueden almacenarse en Almacenamiento de Azure: blobs en páginas y en bloques.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-222">There are two types of blobs that can be stored in Azure Storage: block and page blobs.</span></span> <span data-ttu-id="6fc3d-223">La mayoría de los archivos son blobs en bloques.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-223">Most files are block blobs.</span></span> <span data-ttu-id="6fc3d-224">Un blob en bloques único puede tener un tamaño de hasta 200 GB.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-224">A single block blob can be up to 200GB in size.</span></span> <span data-ttu-id="6fc3d-225">En este tutorial se usan blobs en bloques.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-225">This tutorial uses block blobs.</span></span> <span data-ttu-id="6fc3d-226">Los blobs en páginas, que son otro tipo de blobs, pueden tener un tamaño de hasta 1 TB y son más eficaces cuando los intervalos de bytes de un archivo se modifican con frecuencia.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-226">Page blobs, another blob type, can be up to 1TB in size, and are more efficient when ranges of bytes in a file are modified frequently.</span></span> <span data-ttu-id="6fc3d-227">Para más información sobre los blobs, consulte [Descripción de los blobs en bloques, en anexos y en páginas](http://msdn.microsoft.com/library/azure/ee691964.aspx).</span><span class="sxs-lookup"><span data-stu-id="6fc3d-227">For more information about blobs, see [Understanding Block Blobs, Append Blobs, and Page Blobs](http://msdn.microsoft.com/library/azure/ee691964.aspx).</span></span>
* <span data-ttu-id="6fc3d-228">**Formato de dirección URL**: los blobs son direccionables con el siguiente formato de dirección URL:</span><span class="sxs-lookup"><span data-stu-id="6fc3d-228">**URL format**: Blobs are addressable using the following URL format:</span></span>
  
    `http://storageaccount.blob.core.windows.net/container_name/blob_name`
  
    <span data-ttu-id="6fc3d-229">(El formato anterior se aplica a la nube pública de Azure.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-229">(The format above applies to the public Azure cloud.</span></span> <span data-ttu-id="6fc3d-230">Si usa una nube de Azure distinta, use el punto de conexión en el [Portal de Azure](https://portal.azure.com) para determinar el punto de conexión de la URL).</span><span class="sxs-lookup"><span data-stu-id="6fc3d-230">If you are using a different Azure cloud, use the endpoint within the [Azure Portal](https://portal.azure.com) to determine your URL endpoint.)</span></span>
  
    <span data-ttu-id="6fc3d-231">En el formato anterior, `storageaccount` representa el nombre de la cuenta de almacenamiento, `container_name` representa el nombre del contenedor y `blob_name` representa el nombre del blob.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-231">In the format above, `storageaccount` represents the name of your storage account, `container_name` represents the name of your container, and `blob_name` represents the name of your blob, respectively.</span></span> <span data-ttu-id="6fc3d-232">En el nombre del contenedor, puede tener varias rutas de acceso, separadas por una barra diagonal, **/**.</span><span class="sxs-lookup"><span data-stu-id="6fc3d-232">Within the container name, you can have multiple paths, separated by a forward slash, **/**.</span></span> <span data-ttu-id="6fc3d-233">El nombre de contenedor utilizado como ejemplo para este tutorial es **MyJob** y **${BUILD\_ID}/${BUILD\_NUMBER}** se ha usado para la ruta de acceso virtual común; como resultado, la URL del blob presenta el siguiente formato:</span><span class="sxs-lookup"><span data-stu-id="6fc3d-233">The example container name in this tutorial was **MyJob**, and **${BUILD\_ID}/${BUILD\_NUMBER}** was used for the common virtual path, resulting in the blob having a URL of the following form:</span></span>
  
    `http://example.blob.core.windows.net/myjob/2014-04-14_23-57-00/1/hello.txt`

## <a name="next-steps"></a><span data-ttu-id="6fc3d-234">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="6fc3d-234">Next steps</span></span>
* [<span data-ttu-id="6fc3d-235">Presentación de Jenkins</span><span class="sxs-lookup"><span data-stu-id="6fc3d-235">Meet Jenkins</span></span>](https://wiki.jenkins-ci.org/display/JENKINS/Meet+Jenkins)
* [<span data-ttu-id="6fc3d-236">SDK de almacenamiento de Azure para Java</span><span class="sxs-lookup"><span data-stu-id="6fc3d-236">Azure Storage SDK for Java</span></span>](https://github.com/azure/azure-storage-java)
* [<span data-ttu-id="6fc3d-237">Referencia del SDK de cliente de almacenamiento de Azure</span><span class="sxs-lookup"><span data-stu-id="6fc3d-237">Azure Storage Client SDK Reference</span></span>](http://dl.windowsazure.com/storage/javadoc/)
* [<span data-ttu-id="6fc3d-238">API de REST de servicios de Azure Storage</span><span class="sxs-lookup"><span data-stu-id="6fc3d-238">Azure Storage Services REST API</span></span>](https://msdn.microsoft.com/library/azure/dd179355.aspx)
* [<span data-ttu-id="6fc3d-239">Blog del equipo de almacenamiento de Azure</span><span class="sxs-lookup"><span data-stu-id="6fc3d-239">Azure Storage Team Blog</span></span>](http://blogs.msdn.com/b/windowsazurestorage/)

<span data-ttu-id="6fc3d-240">Para más información, visite [Azure para desarrolladores de Java](/java/azure).</span><span class="sxs-lookup"><span data-stu-id="6fc3d-240">For more information, visit [Azure for Java developers](/java/azure).</span></span>