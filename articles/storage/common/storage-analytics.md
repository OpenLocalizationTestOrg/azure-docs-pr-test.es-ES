---
title: "Uso del análisis de almacenamiento de Azure para recopilar datos de registros y métricas | Microsoft Docs"
description: "El análisis de almacenamiento permite realizar un seguimiento de los datos de métricas para todos los servicios de almacenamiento y recopilar registros de Almacenamiento de blobs, Almacenamiento de colas y Almacenamiento de tablas."
services: storage
documentationcenter: 
author: robinsh
manager: timlt
editor: tysonn
ms.assetid: 7894993b-ca42-4125-8f17-8f6dfe3dca76
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 03/03/2017
ms.author: robinsh
ms.openlocfilehash: a477c1eaf2388f31d4fd36b90f9a830c782873d3
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/29/2017
---
# <a name="storage-analytics"></a><span data-ttu-id="238a1-103">Análisis de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="238a1-103">Storage Analytics</span></span>

<span data-ttu-id="238a1-104">El análisis de almacenamiento de Azure realiza el registro y proporciona datos de métricas para una cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="238a1-104">Azure Storage Analytics performs logging and provides metrics data for a storage account.</span></span> <span data-ttu-id="238a1-105">Puede usar estos datos para hacer un seguimiento de solicitudes, analizar tendencias de uso y diagnosticar problemas con la cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="238a1-105">You can use this data to trace requests, analyze usage trends, and diagnose issues with your storage account.</span></span>

<span data-ttu-id="238a1-106">Para utilizar el análisis de almacenamiento, debe habilitarlo para cada servicio que desee supervisar.</span><span class="sxs-lookup"><span data-stu-id="238a1-106">To use Storage Analytics, you must enable it individually for each service you want to monitor.</span></span> <span data-ttu-id="238a1-107">Puede habilitarlo desde el [Portal de Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="238a1-107">You can enable it from the [Azure Portal](https://portal.azure.com).</span></span> <span data-ttu-id="238a1-108">Para obtener más detalles, consulte [Supervisión de una cuenta de almacenamiento en el Portal de Azure](storage-monitor-storage-account.md).</span><span class="sxs-lookup"><span data-stu-id="238a1-108">For details, see [Monitor a storage account in the Azure Portal](storage-monitor-storage-account.md).</span></span> <span data-ttu-id="238a1-109">También puede habilitar el análisis de almacenamiento mediante programación a través de la API de REST o la biblioteca de cliente.</span><span class="sxs-lookup"><span data-stu-id="238a1-109">You can also enable Storage Analytics programmatically via the REST API or the client library.</span></span> <span data-ttu-id="238a1-110">Use las operaciones [Get Blob Service Properties](https://msdn.microsoft.com/library/hh452239.aspx), [Get Queue Service Properties](https://msdn.microsoft.com/library/hh452243.aspx), [Get Table Service Properties](https://msdn.microsoft.com/library/hh452238.aspx) y [Get File Service Properties](https://msdn.microsoft.com/library/mt427369.aspx) para habilitar el análisis de almacenamiento para cada servicio.</span><span class="sxs-lookup"><span data-stu-id="238a1-110">Use the [Get Blob Service Properties](https://msdn.microsoft.com/library/hh452239.aspx), [Get Queue Service Properties](https://msdn.microsoft.com/library/hh452243.aspx), [Get Table Service Properties](https://msdn.microsoft.com/library/hh452238.aspx), and [Get File Service Properties](https://msdn.microsoft.com/library/mt427369.aspx) operations to enable Storage Analytics for each service.</span></span>

<span data-ttu-id="238a1-111">Los datos agregados se almacenan en un blob conocido (para el registro) y en tablas conocidas (para las métricas), a los que se puede tener acceso mediante las API del servicio Blob y del servicio Tabla.</span><span class="sxs-lookup"><span data-stu-id="238a1-111">The aggregated data is stored in a well-known blob (for logging) and in well-known tables (for metrics), which may be accessed using the Blob service and Table service APIs.</span></span>

<span data-ttu-id="238a1-112">El análisis de almacenamiento tiene un límite de 20 TB en cuanto a la cantidad de datos almacenados, que es independiente del límite total de la cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="238a1-112">Storage Analytics has a 20 TB limit on the amount of stored data that is independent of the total limit for your storage account.</span></span> <span data-ttu-id="238a1-113">Para obtener más información sobre las directivas de facturación y retención de datos, consulte [Facturación del análisis de almacenamiento](https://msdn.microsoft.com/library/hh360997.aspx).</span><span class="sxs-lookup"><span data-stu-id="238a1-113">For more information about billing and data retention policies, see [Storage Analytics and Billing](https://msdn.microsoft.com/library/hh360997.aspx).</span></span> <span data-ttu-id="238a1-114">Para obtener más información sobre los límites de las cuentas de almacenamiento, consulte [Objetivos de escalabilidad y rendimiento del almacenamiento de Azure](storage-scalability-targets.md).</span><span class="sxs-lookup"><span data-stu-id="238a1-114">For more information about storage account limits, see [Azure Storage Scalability and Performance Targets](storage-scalability-targets.md).</span></span>

<span data-ttu-id="238a1-115">Para obtener orientación exhaustiva sobre el uso de análisis de almacenamiento y otras herramientas para identificar, diagnosticar y solucionar problemas relacionados con el Almacenamiento de Azure, consulte [Supervisión, diagnóstico y solución de problemas de Almacenamiento de Microsoft Azure](storage-monitoring-diagnosing-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="238a1-115">For an in-depth guide on using Storage Analytics and other tools to identify, diagnose, and troubleshoot Azure Storage-related issues, see [Monitor, diagnose, and troubleshoot Microsoft Azure Storage](storage-monitoring-diagnosing-troubleshooting.md).</span></span>

## <a name="about-storage-analytics-logging"></a><span data-ttu-id="238a1-116">Acerca del registro del análisis de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="238a1-116">About Storage Analytics logging</span></span>
<span data-ttu-id="238a1-117">El análisis de almacenamiento registra información detallada sobre las solicitudes correctas y erróneas realizadas a un servicio de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="238a1-117">Storage Analytics logs detailed information about successful and failed requests to a storage service.</span></span> <span data-ttu-id="238a1-118">Esta información se puede utilizar para supervisar solicitudes concretas y para diagnosticar problemas con un servicio de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="238a1-118">This information can be used to monitor individual requests and to diagnose issues with a storage service.</span></span> <span data-ttu-id="238a1-119">Las solicitudes se registran en función de la mejor opción.</span><span class="sxs-lookup"><span data-stu-id="238a1-119">Requests are logged on a best-effort basis.</span></span>

<span data-ttu-id="238a1-120">Solo se crean entradas del registro si hay actividad del servicio de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="238a1-120">Log entries are created only if there is storage service activity.</span></span> <span data-ttu-id="238a1-121">Por ejemplo, si una cuenta del almacenamiento tiene actividad en el servicio Blob pero no en los servicios Tabla o Cola, solo se crearán los registros que pertenezcan al servicio Blob.</span><span class="sxs-lookup"><span data-stu-id="238a1-121">For example, if a storage account has activity in its Blob service but not in its Table or Queue services, only logs pertaining to the Blob service will be created.</span></span>

<span data-ttu-id="238a1-122">El registro del análisis de cuentas no está disponible para Azure File Storage.</span><span class="sxs-lookup"><span data-stu-id="238a1-122">Storage Analytics Logging is not available for Azure File storage.</span></span>

### <a name="logging-authenticated-requests"></a><span data-ttu-id="238a1-123">Registrar solicitudes de autenticación</span><span class="sxs-lookup"><span data-stu-id="238a1-123">Logging authenticated requests</span></span>
<span data-ttu-id="238a1-124">Se registran los siguientes tipos de solicitudes autenticadas:</span><span class="sxs-lookup"><span data-stu-id="238a1-124">The following types of authenticated requests are logged:</span></span>

* <span data-ttu-id="238a1-125">Solicitudes correctas</span><span class="sxs-lookup"><span data-stu-id="238a1-125">Successful requests.</span></span>
* <span data-ttu-id="238a1-126">Solicitudes erróneas, incluyendo errores de tiempo de espera, de limitación, de red, de autorización, etc</span><span class="sxs-lookup"><span data-stu-id="238a1-126">Failed requests, including timeout, throttling, network, authorization, and other errors.</span></span>
* <span data-ttu-id="238a1-127">Solicitudes que utilizan una firma de acceso compartido (SAS), incluyendo las solicitudes correctas y las erróneas</span><span class="sxs-lookup"><span data-stu-id="238a1-127">Requests using a Shared Access Signature (SAS), including failed and successful requests.</span></span>
* <span data-ttu-id="238a1-128">Solicitudes de datos de análisis</span><span class="sxs-lookup"><span data-stu-id="238a1-128">Requests to analytics data.</span></span>

<span data-ttu-id="238a1-129">Las solicitudes realizadas por el propio análisis de almacenamiento, como la creación o eliminación del registro, no se registran.</span><span class="sxs-lookup"><span data-stu-id="238a1-129">Requests made by Storage Analytics itself, such as log creation or deletion, are not logged.</span></span> <span data-ttu-id="238a1-130">Puede encontrar una lista completa de los datos registrados en los temas [Operaciones y mensajes de estado registrados por el análisis de almacenamiento](https://msdn.microsoft.com/library/hh343260.aspx) y [Formato del registro del análisis de almacenamiento](https://msdn.microsoft.com/library/hh343259.aspx).</span><span class="sxs-lookup"><span data-stu-id="238a1-130">A full list of the logged data is documented in the [Storage Analytics Logged Operations and Status Messages](https://msdn.microsoft.com/library/hh343260.aspx) and [Storage Analytics Log Format](https://msdn.microsoft.com/library/hh343259.aspx) topics.</span></span>

### <a name="logging-anonymous-requests"></a><span data-ttu-id="238a1-131">Registrar solicitudes anónimas</span><span class="sxs-lookup"><span data-stu-id="238a1-131">Logging anonymous requests</span></span>
<span data-ttu-id="238a1-132">Se registran los siguientes tipos de solicitudes anónimas:</span><span class="sxs-lookup"><span data-stu-id="238a1-132">The following types of anonymous requests are logged:</span></span>

* <span data-ttu-id="238a1-133">Solicitudes correctas</span><span class="sxs-lookup"><span data-stu-id="238a1-133">Successful requests.</span></span>
* <span data-ttu-id="238a1-134">Errores del servidor</span><span class="sxs-lookup"><span data-stu-id="238a1-134">Server errors.</span></span>
* <span data-ttu-id="238a1-135">Errores de tiempo de espera para el cliente y el servidor</span><span class="sxs-lookup"><span data-stu-id="238a1-135">Timeout errors for both client and server.</span></span>
* <span data-ttu-id="238a1-136">Solicitudes GET erróneas con el código de error 304 (Sin modificar)</span><span class="sxs-lookup"><span data-stu-id="238a1-136">Failed GET requests with error code 304 (Not Modified).</span></span>

<span data-ttu-id="238a1-137">El resto de solicitudes anónimas erróneas no se registran.</span><span class="sxs-lookup"><span data-stu-id="238a1-137">All other failed anonymous requests are not logged.</span></span> <span data-ttu-id="238a1-138">Puede encontrar una lista completa de los datos registrados en los temas [Operaciones y mensajes de estado registrados por el análisis de almacenamiento](https://msdn.microsoft.com/library/hh343260.aspx) y [Formato del registro del análisis de almacenamiento](https://msdn.microsoft.com/library/hh343259.aspx).</span><span class="sxs-lookup"><span data-stu-id="238a1-138">A full list of the logged data is documented in the [Storage Analytics Logged Operations and Status Messages](https://msdn.microsoft.com/library/hh343260.aspx) and [Storage Analytics Log Format](https://msdn.microsoft.com/library/hh343259.aspx) topics.</span></span>

### <a name="how-logs-are-stored"></a><span data-ttu-id="238a1-139">Cómo se almacenan los registros</span><span class="sxs-lookup"><span data-stu-id="238a1-139">How logs are stored</span></span>
<span data-ttu-id="238a1-140">Todos los registros se almacenan en blobs en bloques en un contenedor denominado $logs, que se crea automáticamente cuando se habilita el análisis de almacenamiento para una cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="238a1-140">All logs are stored in block blobs in a container named $logs, which is automatically created when Storage Analytics is enabled for a storage account.</span></span> <span data-ttu-id="238a1-141">El contenedor $logs se encuentra en el espacio de nombres del blob de la cuenta de almacenamiento, por ejemplo: `http://<accountname>.blob.core.windows.net/$logs`.</span><span class="sxs-lookup"><span data-stu-id="238a1-141">The $logs container is located in the blob namespace of the storage account, for example: `http://<accountname>.blob.core.windows.net/$logs`.</span></span> <span data-ttu-id="238a1-142">Este contenedor no se puede eliminar una vez habilitado el análisis de almacenamiento, aunque su contenido sí se puede eliminar.</span><span class="sxs-lookup"><span data-stu-id="238a1-142">This container cannot be deleted once Storage Analytics has been enabled, though its contents can be deleted.</span></span>

> [!NOTE]
> <span data-ttu-id="238a1-143">El contenedor $logs no se muestra cuando se realiza una operación de lista de contenedores, como el método [ListContainers](https://msdn.microsoft.com/library/azure/dd179352.aspx) .</span><span class="sxs-lookup"><span data-stu-id="238a1-143">The $logs container is not displayed when a container listing operation is performed, such as the [ListContainers](https://msdn.microsoft.com/library/azure/dd179352.aspx) method.</span></span> <span data-ttu-id="238a1-144">Se debe tener acceso a él directamente.</span><span class="sxs-lookup"><span data-stu-id="238a1-144">It must be accessed directly.</span></span> <span data-ttu-id="238a1-145">Por ejemplo, puede utilizar el método [ListBlobs](https://msdn.microsoft.com/library/azure/dd135734.aspx) para obtener acceso a los blobs en el contenedor `$logs`.</span><span class="sxs-lookup"><span data-stu-id="238a1-145">For example, you can use the [ListBlobs](https://msdn.microsoft.com/library/azure/dd135734.aspx) method to access the blobs in the `$logs` container.</span></span>
> <span data-ttu-id="238a1-146">A medida que se registran las solicitudes, el análisis de almacenamiento cargará los resultados intermedios como bloques.</span><span class="sxs-lookup"><span data-stu-id="238a1-146">As requests are logged, Storage Analytics will upload intermediate results as blocks.</span></span> <span data-ttu-id="238a1-147">Periódicamente, el análisis de almacenamiento confirmará estos bloques para que estén disponibles como blobs.</span><span class="sxs-lookup"><span data-stu-id="238a1-147">Periodically, Storage Analytics will commit these blocks and make them available as a blob.</span></span>
> 
> 

<span data-ttu-id="238a1-148">Es posible que haya entradas duplicadas en los registros creados durante la misma hora.</span><span class="sxs-lookup"><span data-stu-id="238a1-148">Duplicate records may exist for logs created in the same hour.</span></span> <span data-ttu-id="238a1-149">Puede determinar si un registro es un duplicado comprobando el número **RequestId** y **Operation**.</span><span class="sxs-lookup"><span data-stu-id="238a1-149">You can determine if a record is a duplicate by checking the **RequestId** and **Operation** number.</span></span>

### <a name="log-naming-conventions"></a><span data-ttu-id="238a1-150">Convenciones de nomenclatura de los registros</span><span class="sxs-lookup"><span data-stu-id="238a1-150">Log naming conventions</span></span>
<span data-ttu-id="238a1-151">Cada registro se escribirá en el formato siguiente:</span><span class="sxs-lookup"><span data-stu-id="238a1-151">Each log will be written in the following format.</span></span>

    <service-name>/YYYY/MM/DD/hhmm/<counter>.log

<span data-ttu-id="238a1-152">En la tabla siguiente se describe cada atributo del nombre del registro:</span><span class="sxs-lookup"><span data-stu-id="238a1-152">The following table describes each attribute in the log name.</span></span>

| <span data-ttu-id="238a1-153">Atributo</span><span class="sxs-lookup"><span data-stu-id="238a1-153">Attribute</span></span> | <span data-ttu-id="238a1-154">Description</span><span class="sxs-lookup"><span data-stu-id="238a1-154">Description</span></span> |
| --- | --- |
| <span data-ttu-id="238a1-155"><service-name></span><span class="sxs-lookup"><span data-stu-id="238a1-155"><service-name></span></span> |<span data-ttu-id="238a1-156">El nombre del servicio de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="238a1-156">The name of the storage service.</span></span> <span data-ttu-id="238a1-157">Por ejemplo: blob, tabla o cola</span><span class="sxs-lookup"><span data-stu-id="238a1-157">For example: blob, table, or queue.</span></span> |
| <span data-ttu-id="238a1-158">AAAA</span><span class="sxs-lookup"><span data-stu-id="238a1-158">YYYY</span></span> |<span data-ttu-id="238a1-159">El año de cuatro dígitos para el registro.</span><span class="sxs-lookup"><span data-stu-id="238a1-159">The four-digit year for the log.</span></span> <span data-ttu-id="238a1-160">Por ejemplo: 2011</span><span class="sxs-lookup"><span data-stu-id="238a1-160">For example: 2011.</span></span> |
| <span data-ttu-id="238a1-161">MM</span><span class="sxs-lookup"><span data-stu-id="238a1-161">MM</span></span> |<span data-ttu-id="238a1-162">El mes de dos dígitos para el registro.</span><span class="sxs-lookup"><span data-stu-id="238a1-162">The two-digit month for the log.</span></span> <span data-ttu-id="238a1-163">Por ejemplo: 07.</span><span class="sxs-lookup"><span data-stu-id="238a1-163">For example: 07.</span></span> |
| <span data-ttu-id="238a1-164">DD</span><span class="sxs-lookup"><span data-stu-id="238a1-164">DD</span></span> |<span data-ttu-id="238a1-165">El mes de dos dígitos para el registro.</span><span class="sxs-lookup"><span data-stu-id="238a1-165">The two-digit month for the log.</span></span> <span data-ttu-id="238a1-166">Por ejemplo: 07.</span><span class="sxs-lookup"><span data-stu-id="238a1-166">For example: 07.</span></span> |
| <span data-ttu-id="238a1-167">hh</span><span class="sxs-lookup"><span data-stu-id="238a1-167">hh</span></span> |<span data-ttu-id="238a1-168">La hora de dos dígitos que indica la hora inicial para los registros, en formato UTC de 24 horas.</span><span class="sxs-lookup"><span data-stu-id="238a1-168">The two-digit hour that indicates the starting hour for the logs, in 24-hour UTC format.</span></span> <span data-ttu-id="238a1-169">Por ejemplo: 18.</span><span class="sxs-lookup"><span data-stu-id="238a1-169">For example: 18.</span></span> |
| <span data-ttu-id="238a1-170">MM</span><span class="sxs-lookup"><span data-stu-id="238a1-170">mm</span></span> |<span data-ttu-id="238a1-171">El número de dos dígitos que indica el minuto inicial para los registros.</span><span class="sxs-lookup"><span data-stu-id="238a1-171">The two-digit number that indicates the starting minute for the logs.</span></span> <span data-ttu-id="238a1-172">Este valor no se admite en la versión actual del análisis de almacenamiento, y su valor será siempre 00.</span><span class="sxs-lookup"><span data-stu-id="238a1-172">This value is unsupported in the current version of Storage Analytics, and its value will always be 00.</span></span> |
| <counter> |<span data-ttu-id="238a1-173">Un contador basado en cero con seis dígitos que indica el número de blobs del registro generados para el servicio de almacenamiento en un período de tiempo de una hora.</span><span class="sxs-lookup"><span data-stu-id="238a1-173">A zero-based counter with six digits that indicates the number of log blobs generated for the storage service in an hour time period.</span></span> <span data-ttu-id="238a1-174">Este contador se inicia en 000000.</span><span class="sxs-lookup"><span data-stu-id="238a1-174">This counter starts at 000000.</span></span> <span data-ttu-id="238a1-175">Por ejemplo: 000001.</span><span class="sxs-lookup"><span data-stu-id="238a1-175">For example: 000001.</span></span> |

<span data-ttu-id="238a1-176">A continuación se muestra un nombre completo de registro de ejemplo que combina los ejemplos anteriores.</span><span class="sxs-lookup"><span data-stu-id="238a1-176">The following is a complete sample log name that combines the previous examples.</span></span>

    blob/2011/07/31/1800/000001.log

<span data-ttu-id="238a1-177">A continuación se muestra un URI de ejemplo que se puede utilizar para obtener acceso al registro anterior.</span><span class="sxs-lookup"><span data-stu-id="238a1-177">The following is a sample URI that can be used to access the previous log.</span></span>

    https://<accountname>.blob.core.windows.net/$logs/blob/2011/07/31/1800/000001.log

<span data-ttu-id="238a1-178">Cuando se registra una solicitud de almacenamiento, el nombre del registro resultante depende de la hora en la que se completó la operación solicitada.</span><span class="sxs-lookup"><span data-stu-id="238a1-178">When a storage request is logged, the resulting log name correlates to the hour when the requested operation completed.</span></span> <span data-ttu-id="238a1-179">Por ejemplo, si una solicitud GetBlob se completó a las 6:30 P.M.</span><span class="sxs-lookup"><span data-stu-id="238a1-179">For example, if a GetBlob request was completed at 6:30 P.M.</span></span> <span data-ttu-id="238a1-180">el 31/07/2011, el registro se escribirá con el prefijo siguiente: `blob/2011/07/31/1800/`</span><span class="sxs-lookup"><span data-stu-id="238a1-180">on 7/31/2011, the log would be written with the following prefix: `blob/2011/07/31/1800/`</span></span>

### <a name="log-metadata"></a><span data-ttu-id="238a1-181">Metadatos del registro</span><span class="sxs-lookup"><span data-stu-id="238a1-181">Log metadata</span></span>
<span data-ttu-id="238a1-182">Todos los blobs del registro se almacenan con metadatos que se pueden utilizar para identificar los datos de registro que contiene el blob.</span><span class="sxs-lookup"><span data-stu-id="238a1-182">All log blobs are stored with metadata that can be used to identify what logging data the blob contains.</span></span> <span data-ttu-id="238a1-183">La tabla siguiente describe cada atributo de metadatos.</span><span class="sxs-lookup"><span data-stu-id="238a1-183">The following table describes each metadata attribute.</span></span>

| <span data-ttu-id="238a1-184">Atributo</span><span class="sxs-lookup"><span data-stu-id="238a1-184">Attribute</span></span> | <span data-ttu-id="238a1-185">Description</span><span class="sxs-lookup"><span data-stu-id="238a1-185">Description</span></span> |
| --- | --- |
| <span data-ttu-id="238a1-186">LogType</span><span class="sxs-lookup"><span data-stu-id="238a1-186">LogType</span></span> |<span data-ttu-id="238a1-187">Describe si el registro contiene información relacionada con las operaciones de lectura, escritura o eliminación.</span><span class="sxs-lookup"><span data-stu-id="238a1-187">Describes whether the log contains information pertaining to read, write, or delete operations.</span></span> <span data-ttu-id="238a1-188">Este valor puede incluir un tipo o una combinación de los tres, separados por comas.</span><span class="sxs-lookup"><span data-stu-id="238a1-188">This value can include one type or a combination of all three, separated by commas.</span></span> <span data-ttu-id="238a1-189">Ejemplo 1: escritura; Ejemplo 2: lectura, escritura; Ejemplo 3: lectura, escritura, eliminación.</span><span class="sxs-lookup"><span data-stu-id="238a1-189">Example 1: write; Example 2: read,write; Example 3: read,write,delete.</span></span> |
| <span data-ttu-id="238a1-190">StartTime</span><span class="sxs-lookup"><span data-stu-id="238a1-190">StartTime</span></span> |<span data-ttu-id="238a1-191">La primera hora de una entrada en el registro, en el formato YYYY-MM-DDThh:mm:ssZ.</span><span class="sxs-lookup"><span data-stu-id="238a1-191">The earliest time of an entry in the log, in the form of YYYY-MM-DDThh:mm:ssZ.</span></span> <span data-ttu-id="238a1-192">Por ejemplo: 2011-07-31T18:21:46Z.</span><span class="sxs-lookup"><span data-stu-id="238a1-192">For example: 2011-07-31T18:21:46Z.</span></span> |
| <span data-ttu-id="238a1-193">EndTime</span><span class="sxs-lookup"><span data-stu-id="238a1-193">EndTime</span></span> |<span data-ttu-id="238a1-194">La hora más reciente de una entrada en el registro, en el formato YYYY-MM-DDThh:mm:ssZ.</span><span class="sxs-lookup"><span data-stu-id="238a1-194">The latest time of an entry in the log, in the form of YYYY-MM-DDThh:mm:ssZ.</span></span> <span data-ttu-id="238a1-195">Por ejemplo: 2011-07-31T18:22:09Z.</span><span class="sxs-lookup"><span data-stu-id="238a1-195">For example: 2011-07-31T18:22:09Z.</span></span> |
| <span data-ttu-id="238a1-196">LogVersion</span><span class="sxs-lookup"><span data-stu-id="238a1-196">LogVersion</span></span> |<span data-ttu-id="238a1-197">La versión del formato del registro.</span><span class="sxs-lookup"><span data-stu-id="238a1-197">The version of the log format.</span></span> <span data-ttu-id="238a1-198">Actualmente, el único valor admitido es: 1.0.</span><span class="sxs-lookup"><span data-stu-id="238a1-198">Currently the only supported value is 1.0.</span></span> |

<span data-ttu-id="238a1-199">La lista siguiente muestra metadatos completos de ejemplo utilizando los ejemplos anteriores.</span><span class="sxs-lookup"><span data-stu-id="238a1-199">The following list displays complete sample metadata using the previous examples.</span></span>

* <span data-ttu-id="238a1-200">LogType=escritura</span><span class="sxs-lookup"><span data-stu-id="238a1-200">LogType=write</span></span>
* <span data-ttu-id="238a1-201">StartTime=2011-07-31T18:21:46Z</span><span class="sxs-lookup"><span data-stu-id="238a1-201">StartTime=2011-07-31T18:21:46Z</span></span>
* <span data-ttu-id="238a1-202">EndTime=2011-07-31T18:22:09Z</span><span class="sxs-lookup"><span data-stu-id="238a1-202">EndTime=2011-07-31T18:22:09Z</span></span>
* <span data-ttu-id="238a1-203">LogVersion=1.0</span><span class="sxs-lookup"><span data-stu-id="238a1-203">LogVersion=1.0</span></span>

### <a name="accessing-logging-data"></a><span data-ttu-id="238a1-204">Obtener acceso a los datos de registro</span><span class="sxs-lookup"><span data-stu-id="238a1-204">Accessing logging data</span></span>
<span data-ttu-id="238a1-205">Se puede tener acceso a todos los datos del contenedor `$logs` utilizando las API del servicio BLOB, incluidas las API de .NET proporcionadas por la biblioteca administrada de Azure.</span><span class="sxs-lookup"><span data-stu-id="238a1-205">All data in the `$logs` container can be accessed by using the Blob service APIs, including the .NET APIs provided by the Azure managed library.</span></span> <span data-ttu-id="238a1-206">El administrador de la cuenta de almacenamiento puede leer y eliminar registros, pero no puede crearlos ni actualizarlos.</span><span class="sxs-lookup"><span data-stu-id="238a1-206">The storage account administrator can read and delete logs, but cannot create or update them.</span></span> <span data-ttu-id="238a1-207">Los metadatos y el nombre del registro se pueden utilizar al consultar un registro.</span><span class="sxs-lookup"><span data-stu-id="238a1-207">Both the log's metadata and log name can be used when querying for a log.</span></span> <span data-ttu-id="238a1-208">Es posible que los registros de una hora determinada aparezcan desordenados, pero los metadatos siempre especifican el intervalo de tiempo de las entradas de registro en un registro.</span><span class="sxs-lookup"><span data-stu-id="238a1-208">It is possible for a given hour's logs to appear out of order, but the metadata always specifies the timespan of log entries in a log.</span></span> <span data-ttu-id="238a1-209">Por consiguiente, se puede utilizar una combinación de nombres y metadatos de registro al buscar un registro concreto.</span><span class="sxs-lookup"><span data-stu-id="238a1-209">Therefore, you can use a combination of log names and metadata when searching for a particular log.</span></span>

## <a name="about-storage-analytics-metrics"></a><span data-ttu-id="238a1-210">Acerca de las métricas del análisis de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="238a1-210">About Storage Analytics metrics</span></span>
<span data-ttu-id="238a1-211">El análisis de almacenamiento puede almacenar métricas que incluyen estadísticas acumuladas de las transacciones y datos de capacidad sobre las solicitudes realizadas a un servicio de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="238a1-211">Storage Analytics can store metrics that include aggregated transaction statistics and capacity data about requests to a storage service.</span></span> <span data-ttu-id="238a1-212">Las transacciones se notifican tanto en el nivel de operación de API como en el nivel de servicio de almacenamiento, y la capacidad se notifica en el nivel de servicio de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="238a1-212">Transactions are reported at both the API operation level as well as at the storage service level, and capacity is reported at the storage service level.</span></span> <span data-ttu-id="238a1-213">Los datos de las métricas se pueden utilizar para analizar el uso del servicio de almacenamiento, diagnosticar problemas con las solicitudes realizadas en el mismo y mejorar el rendimiento de las aplicaciones que utilizan un servicio.</span><span class="sxs-lookup"><span data-stu-id="238a1-213">Metrics data can be used to analyze storage service usage, diagnose issues with requests made against the storage service, and to improve the performance of applications that use a service.</span></span>

<span data-ttu-id="238a1-214">Para utilizar el análisis de almacenamiento, debe habilitarlo para cada servicio que desee supervisar.</span><span class="sxs-lookup"><span data-stu-id="238a1-214">To use Storage Analytics, you must enable it individually for each service you want to monitor.</span></span> <span data-ttu-id="238a1-215">Puede habilitarlo desde el [Portal de Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="238a1-215">You can enable it from the [Azure Portal](https://portal.azure.com).</span></span> <span data-ttu-id="238a1-216">Para obtener más detalles, consulte [Supervisión de una cuenta de almacenamiento en el Portal de Azure](storage-monitor-storage-account.md).</span><span class="sxs-lookup"><span data-stu-id="238a1-216">For details, see [Monitor a storage account in the Azure Portal](storage-monitor-storage-account.md).</span></span> <span data-ttu-id="238a1-217">También puede habilitar el análisis de almacenamiento mediante programación a través de la API de REST o la biblioteca de cliente.</span><span class="sxs-lookup"><span data-stu-id="238a1-217">You can also enable Storage Analytics programmatically via the REST API or the client library.</span></span> <span data-ttu-id="238a1-218">Use las operaciones **Get Service Properties** para habilitar el análisis de almacenamiento de cada servicio.</span><span class="sxs-lookup"><span data-stu-id="238a1-218">Use the **Get Service Properties** operations to enable Storage Analytics for each service.</span></span>

### <a name="transaction-metrics"></a><span data-ttu-id="238a1-219">Métricas de transacciones</span><span class="sxs-lookup"><span data-stu-id="238a1-219">Transaction metrics</span></span>
<span data-ttu-id="238a1-220">Se registra un conjunto sólido de datos a intervalos de cada hora o de cada minuto para cada servicio de almacenamiento y operación de API que se ha solicitado, incluidos entradas/salidas, disponibilidad, errores y porcentajes de solicitudes por categorías.</span><span class="sxs-lookup"><span data-stu-id="238a1-220">A robust set of data is recorded at hourly or minute intervals for each storage service and requested API operation, including ingress/egress, availability, errors, and categorized request percentages.</span></span> <span data-ttu-id="238a1-221">Puede ver una lista completa de los detalles de transacción en el tema [Esquema de las tablas de métricas del análisis de almacenamiento](https://msdn.microsoft.com/library/hh343264.aspx) .</span><span class="sxs-lookup"><span data-stu-id="238a1-221">You can see a complete list of the transaction details in the [Storage Analytics Metrics Table Schema](https://msdn.microsoft.com/library/hh343264.aspx) topic.</span></span>

<span data-ttu-id="238a1-222">Los datos de las transacciones se registran en dos niveles: el nivel de servicio y el nivel de operación de API.</span><span class="sxs-lookup"><span data-stu-id="238a1-222">Transaction data is recorded at two levels – the service level and the API operation level.</span></span> <span data-ttu-id="238a1-223">En el nivel de servicio, las estadísticas que resumen todas las operaciones de API solicitadas se escriben en una entidad de la tabla cada hora, aunque no se haya realizado ninguna solicitud al servicio.</span><span class="sxs-lookup"><span data-stu-id="238a1-223">At the service level, statistics summarizing all requested API operations are written to a table entity every hour even if no requests were made to the service.</span></span> <span data-ttu-id="238a1-224">En el nivel de operación de API, las estadísticas se escriben únicamente en una entidad si la operación se solicitó durante esa hora.</span><span class="sxs-lookup"><span data-stu-id="238a1-224">At the API operation level, statistics are only written to an entity if the operation was requested within that hour.</span></span>

<span data-ttu-id="238a1-225">Por ejemplo, si realiza una operación **GetBlob** en el servicio Blob, las métricas de análisis de almacenamiento registrarán la solicitud y la incluirán en los datos agregados tanto para el servicio BLOB como para la operación **GetBlob**.</span><span class="sxs-lookup"><span data-stu-id="238a1-225">For example, if you perform a **GetBlob** operation on your Blob service, Storage Analytics Metrics will log the request and include it in the aggregated data for both the Blob service as well as the **GetBlob** operation.</span></span> <span data-ttu-id="238a1-226">Sin embargo, si no se solicita ninguna operación **GetBlob** durante esa hora, no escribirá ninguna entidad en la `$MetricsTransactionsBlob` para dicha operación.</span><span class="sxs-lookup"><span data-stu-id="238a1-226">However, if no **GetBlob** operation is requested during the hour, an entity will not be written to the `$MetricsTransactionsBlob` for that operation.</span></span>

<span data-ttu-id="238a1-227">Las métricas de transacciones se registran para las solicitudes del usuario y para las solicitudes realizadas por el análisis de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="238a1-227">Transaction metrics are recorded for both user requests and requests made by Storage Analytics itself.</span></span> <span data-ttu-id="238a1-228">Por ejemplo, se registran las solicitudes realizadas por el análisis de almacenamiento para escribir registros y entidades de tabla.</span><span class="sxs-lookup"><span data-stu-id="238a1-228">For example, requests by Storage Analytics to write logs and table entities are recorded.</span></span> <span data-ttu-id="238a1-229">Para obtener más información sobre cómo se facturan estas solicitudes, consulte [Facturación y análisis de almacenamiento](https://msdn.microsoft.com/library/hh360997.aspx).</span><span class="sxs-lookup"><span data-stu-id="238a1-229">For more information about how these requests are billed, see [Storage Analytics and Billing](https://msdn.microsoft.com/library/hh360997.aspx).</span></span>

### <a name="capacity-metrics"></a><span data-ttu-id="238a1-230">Métricas de capacidad</span><span class="sxs-lookup"><span data-stu-id="238a1-230">Capacity metrics</span></span>
> [!NOTE]
> <span data-ttu-id="238a1-231">Actualmente, las métricas de capacidad solo están disponibles para el servicio Blob.</span><span class="sxs-lookup"><span data-stu-id="238a1-231">Currently, capacity metrics are only available for the Blob service.</span></span> <span data-ttu-id="238a1-232">Las métricas de capacidad para el servicio Tabla y el servicio Cola estarán disponibles en versiones futuras del análisis de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="238a1-232">Capacity metrics for the Table service and Queue service will be available in future versions of Storage Analytics.</span></span>
> 
> 

<span data-ttu-id="238a1-233">Los datos de capacidad se registran diariamente para la instancia de Blob service de una cuenta de almacenamiento, y se escriben dos entidades de tabla.</span><span class="sxs-lookup"><span data-stu-id="238a1-233">Capacity data is recorded daily for a storage account's Blob service, and two table entities are written.</span></span> <span data-ttu-id="238a1-234">Una entidad proporciona estadísticas para los datos de usuario y la otra proporciona estadísticas sobre el contenedor de blob `$logs` utilizado por el análisis de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="238a1-234">One entity provides statistics for user data, and the other provides statistics about the `$logs` blob container used by Storage Analytics.</span></span> <span data-ttu-id="238a1-235">La tabla `$MetricsCapacityBlob` incluye las estadísticas siguientes:</span><span class="sxs-lookup"><span data-stu-id="238a1-235">The `$MetricsCapacityBlob` table includes the following statistics:</span></span>

* <span data-ttu-id="238a1-236">**Capacity**: la cantidad de almacenamiento que ha utilizado la instancia de Blob service de la cuenta de almacenamiento, en bytes.</span><span class="sxs-lookup"><span data-stu-id="238a1-236">**Capacity**: The amount of storage used by the storage account's Blob service, in bytes.</span></span>
* <span data-ttu-id="238a1-237">**ContainerCount**: el número de contenedores de blobs de la instancia de Blob service de la cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="238a1-237">**ContainerCount**: The number of blob containers in the storage account's Blob service.</span></span>
* <span data-ttu-id="238a1-238">**ObjectCount**: el número de blobs en bloque o en páginas confirmados y sin confirmar de la instancia de Blob service de la cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="238a1-238">**ObjectCount**: The number of committed and uncommitted block or page blobs in the storage account's Blob service.</span></span>

<span data-ttu-id="238a1-239">Para obtener más información acerca de las métricas de capacidad, vea el [Esquema de las tablas de métricas del análisis de almacenamiento](https://msdn.microsoft.com/library/hh343264.aspx).</span><span class="sxs-lookup"><span data-stu-id="238a1-239">For more information about the capacity metrics, see [Storage Analytics Metrics Table Schema](https://msdn.microsoft.com/library/hh343264.aspx).</span></span>

### <a name="how-metrics-are-stored"></a><span data-ttu-id="238a1-240">Cómo se almacenan las métricas</span><span class="sxs-lookup"><span data-stu-id="238a1-240">How metrics are stored</span></span>
<span data-ttu-id="238a1-241">Todos los datos de métricas para cada uno de los servicios de almacenamiento se almacenan en tres tablas reservadas para ese servicio: una tabla para la información sobre transacciones, otra tabla para la información sobre las transacciones por minuto y una última tabla para la información sobre capacidad.</span><span class="sxs-lookup"><span data-stu-id="238a1-241">All metrics data for each of the storage services is stored in three tables reserved for that service: one table for transaction information, one table for minute transaction information, and another table for capacity information.</span></span> <span data-ttu-id="238a1-242">La información sobre transacciones y transacciones por minuto consta de datos de solicitudes y respuestas, y la información sobre capacidad consta de datos de uso del almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="238a1-242">Transaction and minute transaction information consists of request and response data, and capacity information consists of storage usage data.</span></span> <span data-ttu-id="238a1-243">Se puede acceder a las métricas por hora y por minuto, y a la capacidad de la instancia de Blob service de una cuenta de almacenamiento, en tablas cuyos nombres se describen en la tabla siguiente.</span><span class="sxs-lookup"><span data-stu-id="238a1-243">Hour metrics, minute metrics, and capacity for a storage account's Blob service can be accessed in tables that are named as described in the following table.</span></span>

| <span data-ttu-id="238a1-244">Nivel de métricas</span><span class="sxs-lookup"><span data-stu-id="238a1-244">Metrics level</span></span> | <span data-ttu-id="238a1-245">Nombres de tabla</span><span class="sxs-lookup"><span data-stu-id="238a1-245">Table names</span></span> | <span data-ttu-id="238a1-246">Versiones compatibles</span><span class="sxs-lookup"><span data-stu-id="238a1-246">Supported versions</span></span> |
| --- | --- | --- |
| <span data-ttu-id="238a1-247">Métricas por horas, ubicación principal</span><span class="sxs-lookup"><span data-stu-id="238a1-247">Hourly metrics, primary location</span></span> |<span data-ttu-id="238a1-248">$MetricsTransactionsBlob </span><span class="sxs-lookup"><span data-stu-id="238a1-248">$MetricsTransactionsBlob</span></span> <br/><span data-ttu-id="238a1-249">$MetricsTransactionsTable</span><span class="sxs-lookup"><span data-stu-id="238a1-249">$MetricsTransactionsTable</span></span> <br/> <span data-ttu-id="238a1-250">$MetricsTransactionsQueue</span><span class="sxs-lookup"><span data-stu-id="238a1-250">$MetricsTransactionsQueue</span></span> |<span data-ttu-id="238a1-251">Versiones anteriores a 2013-08-15 solamente.</span><span class="sxs-lookup"><span data-stu-id="238a1-251">Versions prior to 2013-08-15 only.</span></span> <span data-ttu-id="238a1-252">Si bien estos nombres todavía se admiten, se recomienda que empiece a usar las tablas que se muestran a continuación.</span><span class="sxs-lookup"><span data-stu-id="238a1-252">While these names are still supported, it's recommended that you switch to using the tables listed below.</span></span> |
| <span data-ttu-id="238a1-253">Métricas por horas, ubicación principal</span><span class="sxs-lookup"><span data-stu-id="238a1-253">Hourly metrics, primary location</span></span> |<span data-ttu-id="238a1-254">$MetricsHourPrimaryTransactionsBlob</span><span class="sxs-lookup"><span data-stu-id="238a1-254">$MetricsHourPrimaryTransactionsBlob</span></span> <br/><span data-ttu-id="238a1-255">$MetricsHourPrimaryTransactionsTable</span><span class="sxs-lookup"><span data-stu-id="238a1-255">$MetricsHourPrimaryTransactionsTable</span></span> <br/><span data-ttu-id="238a1-256">$MetricsHourPrimaryTransactionsQueue</span><span class="sxs-lookup"><span data-stu-id="238a1-256">$MetricsHourPrimaryTransactionsQueue</span></span> |<span data-ttu-id="238a1-257">Todas las versiones, incluida 2013-08-15.</span><span class="sxs-lookup"><span data-stu-id="238a1-257">All versions, including 2013-08-15.</span></span> |
| <span data-ttu-id="238a1-258">Métricas por minutos, ubicación principal</span><span class="sxs-lookup"><span data-stu-id="238a1-258">Minute metrics, primary location</span></span> |<span data-ttu-id="238a1-259">$MetricsMinutePrimaryTransactionsBlob</span><span class="sxs-lookup"><span data-stu-id="238a1-259">$MetricsMinutePrimaryTransactionsBlob</span></span> <br/><span data-ttu-id="238a1-260">$MetricsMinutePrimaryTransactionsTable</span><span class="sxs-lookup"><span data-stu-id="238a1-260">$MetricsMinutePrimaryTransactionsTable</span></span> <br/><span data-ttu-id="238a1-261">$MetricsMinutePrimaryTransactionsQueue</span><span class="sxs-lookup"><span data-stu-id="238a1-261">$MetricsMinutePrimaryTransactionsQueue</span></span> |<span data-ttu-id="238a1-262">Todas las versiones, incluida 2013-08-15.</span><span class="sxs-lookup"><span data-stu-id="238a1-262">All versions, including 2013-08-15.</span></span> |
| <span data-ttu-id="238a1-263">Métricas por horas, ubicación secundaria</span><span class="sxs-lookup"><span data-stu-id="238a1-263">Hourly metrics, secondary location</span></span> |<span data-ttu-id="238a1-264">$MetricsHourSecondaryTransactionsBlob </span><span class="sxs-lookup"><span data-stu-id="238a1-264">$MetricsHourSecondaryTransactionsBlob</span></span> <br/><span data-ttu-id="238a1-265">$MetricsHourSecondaryTransactionsTable</span><span class="sxs-lookup"><span data-stu-id="238a1-265">$MetricsHourSecondaryTransactionsTable</span></span> <br/><span data-ttu-id="238a1-266">$MetricsHourSecondaryTransactionsQueue</span><span class="sxs-lookup"><span data-stu-id="238a1-266">$MetricsHourSecondaryTransactionsQueue</span></span> |<span data-ttu-id="238a1-267">Todas las versiones, incluida 2013-08-15.</span><span class="sxs-lookup"><span data-stu-id="238a1-267">All versions, including 2013-08-15.</span></span> <span data-ttu-id="238a1-268">Debe estar habilitada la replicación con redundancia geográfica con acceso de lectura.</span><span class="sxs-lookup"><span data-stu-id="238a1-268">Read-access geo-redundant replication must be enabled.</span></span> |
| <span data-ttu-id="238a1-269">Métricas por minutos, ubicación secundaria</span><span class="sxs-lookup"><span data-stu-id="238a1-269">Minute metrics, secondary location</span></span> |<span data-ttu-id="238a1-270">$MetricsMinuteSecondaryTransactionsBlob </span><span class="sxs-lookup"><span data-stu-id="238a1-270">$MetricsMinuteSecondaryTransactionsBlob</span></span> <br/><span data-ttu-id="238a1-271">$MetricsMinuteSecondaryTransactionsTable</span><span class="sxs-lookup"><span data-stu-id="238a1-271">$MetricsMinuteSecondaryTransactionsTable</span></span> <br/><span data-ttu-id="238a1-272">$MetricsMinuteSecondaryTransactionsQueue</span><span class="sxs-lookup"><span data-stu-id="238a1-272">$MetricsMinuteSecondaryTransactionsQueue</span></span> |<span data-ttu-id="238a1-273">Todas las versiones, incluida 2013-08-15.</span><span class="sxs-lookup"><span data-stu-id="238a1-273">All versions, including 2013-08-15.</span></span> <span data-ttu-id="238a1-274">Debe estar habilitada la replicación con redundancia geográfica con acceso de lectura.</span><span class="sxs-lookup"><span data-stu-id="238a1-274">Read-access geo-redundant replication must be enabled.</span></span> |
| <span data-ttu-id="238a1-275">Capacidad (solo servicio Blob)</span><span class="sxs-lookup"><span data-stu-id="238a1-275">Capacity (Blob service only)</span></span> |<span data-ttu-id="238a1-276">$MetricsCapacityBlob</span><span class="sxs-lookup"><span data-stu-id="238a1-276">$MetricsCapacityBlob</span></span> |<span data-ttu-id="238a1-277">Todas las versiones, incluida 2013-08-15.</span><span class="sxs-lookup"><span data-stu-id="238a1-277">All versions, including 2013-08-15.</span></span> |

<span data-ttu-id="238a1-278">Estas tablas se crean automáticamente cuando se habilita el análisis de almacenamiento para una cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="238a1-278">These tables are automatically created when Storage Analytics is enabled for a storage account.</span></span> <span data-ttu-id="238a1-279">Se tiene acceso a ellas a través del espacio de nombres de la cuenta de almacenamiento, por ejemplo: `https://<accountname>.table.core.windows.net/Tables("$MetricsTransactionsBlob")`</span><span class="sxs-lookup"><span data-stu-id="238a1-279">They are accessed via the namespace of the storage account, for example: `https://<accountname>.table.core.windows.net/Tables("$MetricsTransactionsBlob")`</span></span>

### <a name="accessing-metrics-data"></a><span data-ttu-id="238a1-280">Obtener acceso a los datos de las métricas</span><span class="sxs-lookup"><span data-stu-id="238a1-280">Accessing metrics data</span></span>
<span data-ttu-id="238a1-281">Se puede tener acceso a todos los datos de las tablas de las métricas utilizando las API del servicio Tabla, incluidas las API de .NET proporcionadas por la biblioteca administrada de Azure.</span><span class="sxs-lookup"><span data-stu-id="238a1-281">All data in the metrics tables can be accessed by using the Table service APIs, including the .NET APIs provided by the Azure managed library.</span></span> <span data-ttu-id="238a1-282">El administrador de la cuenta de almacenamiento puede leer y eliminar entidades de tabla, pero no puede crearlas ni actualizarlas.</span><span class="sxs-lookup"><span data-stu-id="238a1-282">The storage account administrator can read and delete table entities, but cannot create or update them.</span></span>

## <a name="billing-for-storage-analytics"></a><span data-ttu-id="238a1-283">Facturación para análisis de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="238a1-283">Billing for Storage Analytics</span></span>
<span data-ttu-id="238a1-284">Todos los datos de métricas los escriben los servicios de una cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="238a1-284">All metrics data is written by the services of a storage account.</span></span> <span data-ttu-id="238a1-285">Como resultado, cada una de las operaciones de escritura realizadas por el análisis de almacenamiento es facturable.</span><span class="sxs-lookup"><span data-stu-id="238a1-285">As a result, each write operation performed by Storage Analytics is billable.</span></span> <span data-ttu-id="238a1-286">También lo es la cantidad de almacenamiento utilizado por los datos de métricas.</span><span class="sxs-lookup"><span data-stu-id="238a1-286">Additionally, the amount of storage used by metrics data is also billable.</span></span>

<span data-ttu-id="238a1-287">Son facturables las acciones siguientes realizadas por el análisis de almacenamiento:</span><span class="sxs-lookup"><span data-stu-id="238a1-287">The following actions performed by Storage Analytics are billable:</span></span>

* <span data-ttu-id="238a1-288">Solicitudes para crear blobs para el registro</span><span class="sxs-lookup"><span data-stu-id="238a1-288">Requests to create blobs for logging.</span></span> 
* <span data-ttu-id="238a1-289">Solicitudes para crear entidades de tabla para las métricas</span><span class="sxs-lookup"><span data-stu-id="238a1-289">Requests to create table entities for metrics.</span></span>

<span data-ttu-id="238a1-290">Si ha configurado una directiva de retención de datos, no se le cobrarán las transacciones de eliminación cuando el análisis de almacenamiento elimine los antiguos datos de métricas y de registro.</span><span class="sxs-lookup"><span data-stu-id="238a1-290">If you have configured a data retention policy, you are not charged for delete transactions when Storage Analytics deletes old logging and metrics data.</span></span> <span data-ttu-id="238a1-291">Sin embargo, las transacciones de eliminación desde un cliente sí son facturables.</span><span class="sxs-lookup"><span data-stu-id="238a1-291">However, delete transactions from a client are billable.</span></span> <span data-ttu-id="238a1-292">Para obtener más información acerca de las directivas de retención, consulte [Establecer una directiva de retención de datos de análisis de almacenamiento](https://msdn.microsoft.com/library/azure/hh343263.aspx).</span><span class="sxs-lookup"><span data-stu-id="238a1-292">For more information about retention policies, see [Setting a Storage Analytics Data Retention Policy](https://msdn.microsoft.com/library/azure/hh343263.aspx).</span></span>

### <a name="understanding-billable-requests"></a><span data-ttu-id="238a1-293">Descripción de las solicitudes facturables</span><span class="sxs-lookup"><span data-stu-id="238a1-293">Understanding billable requests</span></span>
<span data-ttu-id="238a1-294">Las solicitudes realizadas al servicio de almacenamiento de una cuenta son facturables o no facturables.</span><span class="sxs-lookup"><span data-stu-id="238a1-294">Every request made to an account's storage service is either billable or non-billable.</span></span> <span data-ttu-id="238a1-295">El análisis de almacenamiento registra cada solicitud realizada a un servicio, incluyendo un mensaje de estado que indica cómo se administró la solicitud.</span><span class="sxs-lookup"><span data-stu-id="238a1-295">Storage Analytics logs each individual request made to a service, including a status message that indicates how the request was handled.</span></span> <span data-ttu-id="238a1-296">De igual forma, el análisis de almacenamiento guarda las métricas para un servicio y para las operaciones de la API de dicho servicio, incluidos los porcentajes y el recuento de algunos mensajes de estado.</span><span class="sxs-lookup"><span data-stu-id="238a1-296">Similarly, Storage Analytics stores metrics for both a service and the API operations of that service, including the percentages and count of certain status messages.</span></span> <span data-ttu-id="238a1-297">Todas estas características pueden ayudarle a analizar las solicitudes facturables, a llevar a cabo mejoras en la aplicación y a diagnosticar problemas en las solicitudes a los servicios.</span><span class="sxs-lookup"><span data-stu-id="238a1-297">Together, these features can help you analyze your billable requests, make improvements on your application, and diagnose issues with requests to your services.</span></span> <span data-ttu-id="238a1-298">Para obtener más información sobre la facturación, consulte [Descripción de la facturación del almacenamiento de Azure: ancho de banda, transacciones y capacidad](http://blogs.msdn.com/b/windowsazurestorage/archive/2010/07/09/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity.aspx).</span><span class="sxs-lookup"><span data-stu-id="238a1-298">For more information about billing, see [Understanding Azure Storage Billing - Bandwidth, Transactions, and Capacity](http://blogs.msdn.com/b/windowsazurestorage/archive/2010/07/09/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity.aspx).</span></span>

<span data-ttu-id="238a1-299">Al examinar los datos de análisis de almacenamiento, puede usar las tablas del tema [Operaciones y mensajes de estado registrados por el análisis de almacenamiento](https://msdn.microsoft.com/library/azure/hh343260.aspx) para determinar qué solicitudes son facturables.</span><span class="sxs-lookup"><span data-stu-id="238a1-299">When looking at Storage Analytics data, you can use the tables in the [Storage Analytics Logged Operations and Status Messages](https://msdn.microsoft.com/library/azure/hh343260.aspx) topic to determine what requests are billable.</span></span> <span data-ttu-id="238a1-300">De esta manera, podrá comparar los datos de métricas y de registro con los mensajes de estado para ver si se le cobró por una solicitud determinada.</span><span class="sxs-lookup"><span data-stu-id="238a1-300">Then you can compare your logs and metrics data to the status messages to see if you were charged for a particular request.</span></span> <span data-ttu-id="238a1-301">También puede usar las tablas del tema anterior para investigar la disponibilidad de un servicio de almacenamiento o de una operación de API determinada.</span><span class="sxs-lookup"><span data-stu-id="238a1-301">You can also use the tables in the previous topic to investigate availability for a storage service or individual API operation.</span></span>

## <a name="next-steps"></a><span data-ttu-id="238a1-302">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="238a1-302">Next steps</span></span>
### <a name="setting-up-storage-analytics"></a><span data-ttu-id="238a1-303">Configuración del análisis de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="238a1-303">Setting up Storage Analytics</span></span>
* [<span data-ttu-id="238a1-304">Supervisión de una cuenta de almacenamiento en el Portal de Azure</span><span class="sxs-lookup"><span data-stu-id="238a1-304">Monitor a storage account in the Azure Portal</span></span>](storage-monitor-storage-account.md)
* [<span data-ttu-id="238a1-305">Habilitar y configurar el análisis de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="238a1-305">Enabling and Configuring Storage Analytics</span></span>](https://msdn.microsoft.com/library/hh360996.aspx)

### <a name="storage-analytics-logging"></a><span data-ttu-id="238a1-306">Registro del análisis de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="238a1-306">Storage Analytics logging</span></span>
* [<span data-ttu-id="238a1-307">Acerca del registro del análisis de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="238a1-307">About Storage Analytics Logging</span></span>](https://msdn.microsoft.com/library/hh343262.aspx)
* [<span data-ttu-id="238a1-308">Formato del registro del análisis de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="238a1-308">Storage Analytics Log Format</span></span>](https://msdn.microsoft.com/library/hh343259.aspx)
* [<span data-ttu-id="238a1-309">Operaciones y mensajes de estado registrados por el análisis de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="238a1-309">Storage Analytics Logged Operations and Status Messages</span></span>](https://msdn.microsoft.com/library/hh343260.aspx)

### <a name="storage-analytics-metrics"></a><span data-ttu-id="238a1-310">Métricas del análisis de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="238a1-310">Storage Analytics metrics</span></span>
* [<span data-ttu-id="238a1-311">Acerca de las métricas del análisis de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="238a1-311">About Storage Analytics Metrics</span></span>](https://msdn.microsoft.com/library/hh343258.aspx)
* [<span data-ttu-id="238a1-312">Esquema de las tablas de métricas del análisis de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="238a1-312">Storage Analytics Metrics Table Schema</span></span>](https://msdn.microsoft.com/library/hh343264.aspx)
* [<span data-ttu-id="238a1-313">Operaciones y mensajes de estado registrados por el análisis de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="238a1-313">Storage Analytics Logged Operations and Status Messages</span></span>](https://msdn.microsoft.com/library/hh343260.aspx)  

