---
title: "Azure Premium Storage: diseño de alto rendimiento | Microsoft Docs"
description: "Diseñe aplicaciones de alto rendimiento con Almacenamiento premium de Azure. El Almacenamiento premium le ofrece compatibilidad con discos de alto rendimiento y baja latencia para cargas de trabajo con un uso intensivo de E/S, que se ejecutan en máquinas virtuales de Azure."
services: storage
documentationcenter: na
author: aungoo-msft
manager: tadb
editor: tysonn
ms.assetid: e6a409c3-d31a-4704-a93c-0a04fdc95960
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/27/2017
ms.author: aungoo
ms.openlocfilehash: dde3e60ae4c8387150b65f0715166b5d549891e3
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="azure-premium-storage-design-for-high-performance"></a><span data-ttu-id="eb5f4-104">Almacenamiento premium de Azure: diseño de alto rendimiento</span><span class="sxs-lookup"><span data-stu-id="eb5f4-104">Azure Premium Storage: Design for High Performance</span></span>
## <a name="overview"></a><span data-ttu-id="eb5f4-105">Información general</span><span class="sxs-lookup"><span data-stu-id="eb5f4-105">Overview</span></span>
<span data-ttu-id="eb5f4-106">Este artículo proporciona instrucciones para crear aplicaciones de alto rendimiento con Almacenamiento premium de Azure.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-106">This article provides guidelines for building high performance applications using Azure Premium Storage.</span></span> <span data-ttu-id="eb5f4-107">Puede usar instrucciones de hello proporcionadas en este documento combinado con mejor tootechnologies de aplicable de prácticas rendimiento que usa la aplicación.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-107">You can use hello instructions provided in this document combined with performance best practices applicable tootechnologies used by your application.</span></span> <span data-ttu-id="eb5f4-108">directrices de hello tooillustrate, hemos usado SQL Server que se ejecutan en almacenamiento Premium como ejemplo a lo largo de este documento.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-108">tooillustrate hello guidelines, we have used SQL Server running on Premium Storage as an example throughout this document.</span></span>

<span data-ttu-id="eb5f4-109">Mientras se tratan los escenarios de rendimiento para capas de almacenamiento de hello en este artículo, deberá toooptimize capa de aplicación de Hola.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-109">While we address performance scenarios for hello Storage layer in this article, you will need toooptimize hello application layer.</span></span> <span data-ttu-id="eb5f4-110">Por ejemplo, si está hospedando una granja de SharePoint en el almacenamiento de Azure Premium, puede usar los ejemplos de SQL Server de Hola desde este servidor de base de datos de artículo toooptimize Hola.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-110">For example, if you are hosting a SharePoint Farm on Azure Premium Storage, you can use hello SQL Server examples from this article toooptimize hello database server.</span></span> <span data-ttu-id="eb5f4-111">Optimizar el Además, servidor Web de la granja de SharePoint de Hola y Hola de aplicación servidor tooget máximo rendimiento.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-111">Additionally, optimize hello SharePoint Farm's Web server and Application server tooget hello most performance.</span></span>

<span data-ttu-id="eb5f4-112">Este artículo le ayudará a responder a las siguientes preguntas habituales acerca de cómo optimizar el rendimiento de las aplicaciones en Almacenamiento premium de Azure:</span><span class="sxs-lookup"><span data-stu-id="eb5f4-112">This article will help answer following common questions about optimizing application performance on Azure Premium Storage,</span></span>

* <span data-ttu-id="eb5f4-113">¿Cómo toomeasure el rendimiento de la aplicación?</span><span class="sxs-lookup"><span data-stu-id="eb5f4-113">How toomeasure your application performance?</span></span>  
* <span data-ttu-id="eb5f4-114">¿Por qué no se ve el alto rendimiento esperado?</span><span class="sxs-lookup"><span data-stu-id="eb5f4-114">Why are you not seeing expected high performance?</span></span>  
* <span data-ttu-id="eb5f4-115">¿Qué factores influyen en el rendimiento de las aplicaciones en Almacenamiento premium?</span><span class="sxs-lookup"><span data-stu-id="eb5f4-115">Which factors influence your application performance on Premium Storage?</span></span>  
* <span data-ttu-id="eb5f4-116">¿Cómo influyen estos factores en el rendimiento de las aplicaciones en Almacenamiento premium?</span><span class="sxs-lookup"><span data-stu-id="eb5f4-116">How do these factors influence performance of your application on Premium Storage?</span></span>  
* <span data-ttu-id="eb5f4-117">¿Cómo puede optimizar para IOPS, el ancho de banda y la latencia?</span><span class="sxs-lookup"><span data-stu-id="eb5f4-117">How can you optimize for IOPS, Bandwidth and Latency?</span></span>  

<span data-ttu-id="eb5f4-118">Proporcionamos estas directrices específicamente para Almacenamiento premium porque las cargas de trabajo que se ejecutan en Almacenamiento premium dependen mucho del rendimiento.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-118">We have provided these guidelines specifically for Premium Storage because workloads running on Premium Storage are highly performance sensitive.</span></span> <span data-ttu-id="eb5f4-119">Se proporcionan ejemplos donde corresponda.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-119">We have provided examples where appropriate.</span></span> <span data-ttu-id="eb5f4-120">También puede aplicar algunos de estos tooapplications instrucciones que se ejecutan en máquinas virtuales de IaaS con discos de almacenamiento estándar.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-120">You can also apply some of these guidelines tooapplications running on IaaS VMs with Standard Storage disks.</span></span>

<span data-ttu-id="eb5f4-121">Antes de comenzar, si está tooPremium nuevo almacenamiento, lea primero hello [almacenamiento Premium: almacenamiento de alto rendimiento para cargas de trabajo de máquina Virtual de Azure](../storage-premium-storage.md) y [escalabilidad de almacenamiento de Azure y objetivos de rendimiento](storage-scalability-targets.md)artículos.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-121">Before you begin, if you are new tooPremium Storage, first read hello [Premium Storage: High-Performance Storage for Azure Virtual Machine Workloads](../storage-premium-storage.md) and [Azure Storage Scalability and Performance Targets](storage-scalability-targets.md) articles.</span></span>

## <a name="application-performance-indicators"></a><span data-ttu-id="eb5f4-122">Indicadores del rendimiento de las aplicaciones</span><span class="sxs-lookup"><span data-stu-id="eb5f4-122">Application Performance Indicators</span></span>
<span data-ttu-id="eb5f4-123">Se evaluar si una aplicación está realizando correctamente o no con como indicadores de rendimiento, ¿con qué rapidez una aplicación procesa una solicitud de usuario, la cantidad de datos que procesa la aplicación por solicitud, la cantidad de solicitudes que realiza el procesamiento de una aplicación en un determinado período de tiempo, que un usuario tiene toowait tooget una respuesta después de enviar su solicitud.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-123">We assess whether an application is performing well or not using performance indicators like, how fast an application is processing a user request, how much data an application is processing per request, how many requests is an application processing in a specific period of time, how long a user has toowait tooget a response after submitting their request.</span></span> <span data-ttu-id="eb5f4-124">son términos técnicos de Hola para estos indicadores de rendimiento, IOPS, el rendimiento o el ancho de banda y latencia.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-124">hello technical terms for these performance indicators are, IOPS, Throughput or Bandwidth, and Latency.</span></span>

<span data-ttu-id="eb5f4-125">En esta sección, veremos los indicadores de rendimiento comunes de hello en el contexto de Hola de almacenamiento Premium.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-125">In this section, we will discuss hello common performance indicators in hello context of Premium Storage.</span></span> <span data-ttu-id="eb5f4-126">Hola pasos de la sección, recopilación de requisitos de la aplicación, obtendrá información sobre cómo toomeasure estos indicadores de rendimiento de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-126">In hello following section, Gathering Application Requirements, you will learn how toomeasure these performance indicators for your application.</span></span> <span data-ttu-id="eb5f4-127">Más adelante en optimizar el rendimiento de la aplicación, obtendrá información acerca de los factores de Hola que afectan a estas toooptimize de indicadores y recomendaciones de rendimiento ellos.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-127">Later in Optimizing Application Performance, you will learn about hello factors affecting these performance indicators and recommendations toooptimize them.</span></span>

## <a name="iops"></a><span data-ttu-id="eb5f4-128">E/S</span><span class="sxs-lookup"><span data-stu-id="eb5f4-128">IOPS</span></span>
<span data-ttu-id="eb5f4-129">E/s por segundo es el número de solicitudes que la aplicación está enviando toohello discos de almacenamiento en un segundo.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-129">IOPS is number of requests that your application is sending toohello storage disks in one second.</span></span> <span data-ttu-id="eb5f4-130">Una operación de entrada y salida se puede de lectura o escritura, secuencial o aleatoria.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-130">An input/output operation could be read or write, sequential or random.</span></span> <span data-ttu-id="eb5f4-131">Las aplicaciones de OLTP como una tienda en línea en línea deben tooprocess muchos usuarios simultáneos solicita inmediatamente.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-131">OLTP applications like an online retail website need tooprocess many concurrent user requests immediately.</span></span> <span data-ttu-id="eb5f4-132">las solicitudes de usuario de Hello son insert y actualizan las transacciones de uso intensivo de la base de datos, qué aplicación Hola debe procesar rápidamente.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-132">hello user requests are insert and update intensive database transactions, which hello application must process quickly.</span></span> <span data-ttu-id="eb5f4-133">Por lo tanto, las aplicaciones OLTP requieren IOPS muy alta.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-133">Therefore, OLTP applications require very high IOPS.</span></span> <span data-ttu-id="eb5f4-134">Dichas aplicaciones controlan millones de solicitudes de E/S pequeñas y aleatorias.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-134">Such applications handle millions of small and random IO requests.</span></span> <span data-ttu-id="eb5f4-135">Si tiene este tipo de aplicación, debe diseñar toooptimize de infraestructura de aplicación Hola para e/s por segundo.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-135">If you have such an application, you must design hello application infrastructure toooptimize for IOPS.</span></span> <span data-ttu-id="eb5f4-136">Hola sección más adelante, *optimizar el rendimiento de la aplicación*, analizaremos en detalle todos los factores de Hola que debe tener en cuenta tooget índice elevado de IOPS.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-136">In hello later section, *Optimizing Application Performance*, we discuss in detail all hello factors that you must consider tooget high IOPS.</span></span>

<span data-ttu-id="eb5f4-137">Cuando se adjunta una premium almacenamiento disco tooyour gran escala VM, Azure aprovisiona automáticamente un número de IOPS garantizado según la especificación de disco Hola.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-137">When you attach a premium storage disk tooyour high scale VM, Azure provisions for you a guaranteed number of IOPS as per hello disk specification.</span></span> <span data-ttu-id="eb5f4-138">Por ejemplo, un disco P50 aprovisiona 7500 IOPS.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-138">For example, a P50 disk provisions 7500 IOPS.</span></span> <span data-ttu-id="eb5f4-139">Cada tamaño de máquina virtual a gran escala también tiene un límite de IOPS específico que puede admitir.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-139">Each high scale VM size also has a specific IOPS limit that it can sustain.</span></span> <span data-ttu-id="eb5f4-140">Por ejemplo, una máquina virtual GS5 estándar tiene un límite de 80.000 IOPS.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-140">For example, a Standard GS5 VM has 80,000 IOPS limit.</span></span>

## <a name="throughput"></a><span data-ttu-id="eb5f4-141">Rendimiento</span><span class="sxs-lookup"><span data-stu-id="eb5f4-141">Throughput</span></span>
<span data-ttu-id="eb5f4-142">Rendimiento o ancho de banda es la cantidad de Hola de datos que la aplicación está enviando toohello discos de almacenamiento en un intervalo especificado.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-142">Throughput or Bandwidth is hello amount of data that your application is sending toohello storage disks in a specified interval.</span></span> <span data-ttu-id="eb5f4-143">Si la aplicación está realizando operaciones de entrada y salida con  tamaños de unidad de E/S grandes, requiere un alto rendimiento.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-143">If your application is performing input/output operations with large IO unit sizes, it requires high Throughput.</span></span> <span data-ttu-id="eb5f4-144">Las aplicaciones de almacenamiento de datos tienden a operaciones intensivas de tooissue examen que acceden a grandes porciones de datos a la vez y se suele realizan operaciones masivas.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-144">Data warehouse applications tend tooissue scan intensive operations that access large portions of data at a time and commonly perform bulk operations.</span></span> <span data-ttu-id="eb5f4-145">En otras palabras, estas aplicaciones requieren un mayor rendimiento.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-145">In other words, such applications require higher Throughput.</span></span> <span data-ttu-id="eb5f4-146">Si tiene este tipo de aplicación, debe diseñar su infraestructura toooptimize para el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-146">If you have such an application, you must design its infrastructure toooptimize for Throughput.</span></span> <span data-ttu-id="eb5f4-147">En la siguiente sección hello, analizamos en factores de Hola de detalle debe optimizar tooachieve esto.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-147">In hello next section, we discuss in detail hello factors you must tune tooachieve this.</span></span>

<span data-ttu-id="eb5f4-148">Cuando se adjunta una premium almacenamiento disco tooa gran escala VM, Azure aprovisiona rendimiento según esa especificación de disco.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-148">When you attach a premium storage disk tooa high scale VM, Azure provisions Throughput as per that disk specification.</span></span> <span data-ttu-id="eb5f4-149">Por ejemplo, un disco P50 aprovisiona 250 MB por capacidad de proceso del segundo disco.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-149">For example, a P50 disk provisions 250 MB per second disk Throughput.</span></span> <span data-ttu-id="eb5f4-150">Cada tamaño de máquina virtual a gran escala también tiene un límite de rendimiento específico que puede admitir.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-150">Each high scale VM size also has as specific Throughput limit that it can sustain.</span></span> <span data-ttu-id="eb5f4-151">Por ejemplo, la máquina virtual GS5 estándar tiene un rendimiento máximo de 2.000 MB por segundo.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-151">For example, Standard GS5 VM has a maximum throughput of 2,000 MB per second.</span></span> 

<span data-ttu-id="eb5f4-152">Hay una relación entre el rendimiento y e/s por segundo, como se muestra en la siguiente fórmula de saludo.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-152">There is a relation between Throughput and IOPS as shown in hello formula below.</span></span>

![](media/storage-premium-storage-performance/image1.png)

<span data-ttu-id="eb5f4-153">Por lo tanto, es importante toodetermine Hola rendimiento e IOPS valores óptimos que requiera la aplicación.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-153">Therefore, it is important toodetermine hello optimal Throughput and IOPS values that your application requires.</span></span> <span data-ttu-id="eb5f4-154">Cuando intente toooptimize uno, también obtiene afectado Hola otro.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-154">As you try toooptimize one, hello other also gets affected.</span></span> <span data-ttu-id="eb5f4-155">En una sección posterior, *Optimización del rendimiento de las aplicaciones*, trataremos con más detalle cómo optimizar el rendimiento y la IOPS.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-155">In a later section, *Optimizing Application Performance*, we will discuss in more details about optimizing IOPS and Throughput.</span></span>

## <a name="latency"></a><span data-ttu-id="eb5f4-156">Latency</span><span class="sxs-lookup"><span data-stu-id="eb5f4-156">Latency</span></span>
<span data-ttu-id="eb5f4-157">Latencia es Hola que tarda una aplicación tooreceive una sola solicitud, enviar los discos de almacenamiento de toohello y enviando a Hola respuesta toohello cliente.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-157">Latency is hello time it takes an application tooreceive a single request, send it toohello storage disks and send hello response toohello client.</span></span> <span data-ttu-id="eb5f4-158">Se trata de una medida de rendimiento de la aplicación en tooIOPS de suma y el rendimiento crítica.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-158">This is a critical measure of an application's performance in addition tooIOPS and Throughput.</span></span> <span data-ttu-id="eb5f4-159">Hola latencia de un disco de almacenamiento premium es el momento de Hola se toma tooretrieve Hola información para una solicitud y se comunican tooyour aplicación de nuevo.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-159">hello Latency of a premium storage disk is hello time it takes tooretrieve hello information for a request and communicate it back tooyour application.</span></span> <span data-ttu-id="eb5f4-160">Almacenamiento premium proporciona latencias bajas coherentes.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-160">Premium Storage provides consistent low latencies.</span></span> <span data-ttu-id="eb5f4-161">Si habilita el almacenamiento en caché de host ReadOnly en discos de almacenamiento premium, puede obtener una latencia de lectura mucho menor.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-161">If you enable ReadOnly host caching on premium storage disks, you can get much lower read latency.</span></span> <span data-ttu-id="eb5f4-162">Trataremos el almacenamiento en caché de disco con más detalle en la sección *Optimización del rendimiento de las aplicaciones*.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-162">We will discuss Disk Caching in more detail in later section on *Optimizing Application Performance*.</span></span>

<span data-ttu-id="eb5f4-163">Cuando se optimizan los tooget aplicación mayor rendimiento y el IOPS afectará Hola latencia de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-163">When you are optimizing your application tooget higher IOPS and Throughput, it will affect hello Latency of your application.</span></span> <span data-ttu-id="eb5f4-164">Después de optimizar el rendimiento de la aplicación hello, siempre se evalúan Hola latencia de hello aplicación tooavoid comportamiento inesperado de latencia alta.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-164">After tuning hello application performance, always evaluate hello Latency of hello application tooavoid unexpected high latency behavior.</span></span>

## <a name="gather-application-performance-requirements"></a><span data-ttu-id="eb5f4-165">Reunión de los requisitos de rendimiento de las aplicaciones</span><span class="sxs-lookup"><span data-stu-id="eb5f4-165">Gather Application Performance Requirements</span></span>
<span data-ttu-id="eb5f4-166">Hola primer paso para diseñar aplicaciones de alto rendimiento que se ejecutan en el almacenamiento de Azure Premium es, requisitos de rendimiento de hello toounderstand de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-166">hello first step in designing high performance applications running on Azure Premium Storage is, toounderstand hello performance requirements of your application.</span></span> <span data-ttu-id="eb5f4-167">Después de recopilar los requisitos de rendimiento, puede optimizar el rendimiento de aplicación tooachieve Hola óptimo.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-167">After you gather performance requirements, you can optimize your application tooachieve hello most optimal performance.</span></span>

<span data-ttu-id="eb5f4-168">En la sección anterior de hello, se explican Hola indicadores comunes de rendimiento, IOPS, rendimiento y latencia.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-168">In hello previous section, we explained hello common performance indicators, IOPS, Throughput and Latency.</span></span> <span data-ttu-id="eb5f4-169">Debe identificar cuál de estos indicadores de rendimiento son críticos tooyour la experiencia del usuario toodeliver Hola deseado de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-169">You must identify which of these performance indicators are critical tooyour application toodeliver hello desired user experience.</span></span> <span data-ttu-id="eb5f4-170">Por ejemplo, IOPS alto es importante la mayoría de las aplicaciones de tooOLTP procesar millones de transacciones en un segundo.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-170">For example, high IOPS matters most tooOLTP applications processing millions of transactions in a second.</span></span> <span data-ttu-id="eb5f4-171">Por otra parte, un alto rendimiento es fundamental para las aplicaciones de Almacenamiento de datos que procesan grandes cantidades de datos en un segundo.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-171">Whereas, high Throughput is critical for Data Warehouse applications processing large amounts of data in a second.</span></span> <span data-ttu-id="eb5f4-172">Una latencia extremadamente baja es fundamental para las aplicaciones en tiempo real, como sitios web de streaming de vídeo en directo.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-172">Extremely low Latency is crucial for real-time applications like live video streaming websites.</span></span>

<span data-ttu-id="eb5f4-173">A continuación, medir los requisitos de rendimiento máximo de hello de la aplicación a lo largo de su duración.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-173">Next, measure hello maximum performance requirements of your application throughout its lifetime.</span></span> <span data-ttu-id="eb5f4-174">Utilice la lista de comprobación de ejemplo de Hola a continuación como un tutorial de inicio.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-174">Use hello sample checklist below as a start.</span></span> <span data-ttu-id="eb5f4-175">Requisitos de rendimiento máximo de registro Hola durante normal, los períodos de carga de trabajo de las horas punta y fuera del horario comercial.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-175">Record hello maximum performance requirements during normal, peak and off-hours workload periods.</span></span> <span data-ttu-id="eb5f4-176">Mediante la identificación de requisitos para todos los niveles de las cargas de trabajo, será capaz de toodetermine Hola requisito de rendimiento general de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-176">By identifying requirements for all workloads levels, you will be able toodetermine hello overall performance requirement of your application.</span></span> <span data-ttu-id="eb5f4-177">Por ejemplo, hello carga de trabajo normal de un sitio Web de comercio electrónico estará transacciones Hola atienda durante casi todos los días en un año.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-177">For example, hello normal workload of an e-commerce website will be hello transactions it serves during most days in a year.</span></span> <span data-ttu-id="eb5f4-178">carga de trabajo de Hello máxima del sitio Web de hello será transacciones Hola atienda durante la temporada de vacaciones o eventos de venta especial.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-178">hello peak workload of hello website will be hello transactions it serves during holiday season or special sale events.</span></span> <span data-ttu-id="eb5f4-179">carga de trabajo de Hello máxima es normalmente con experiencia durante un período limitado, pero puede requerir la tooscale aplicación dos o más veces su funcionamiento normal.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-179">hello peak workload is typically experienced for a limited period, but can require your application tooscale two or more times its normal operation.</span></span> <span data-ttu-id="eb5f4-180">Averigüe percentil 50 de hello, como percentiles 90 y requisitos de percentil 99.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-180">Find out hello 50 percentile, 90 percentile and 99 percentile requirements.</span></span> <span data-ttu-id="eb5f4-181">Esto ayuda a filtrar los valores atípicos en los requisitos de rendimiento de Hola y pueda centrar sus esfuerzos en optimizar para valores correctos de Hola.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-181">This helps filter out any outliers in hello performance requirements and you can focus your efforts on optimizing for hello right values.</span></span>

<span data-ttu-id="eb5f4-182">**Lista de comprobación de requisitos de rendimiento de las aplicaciones**</span><span class="sxs-lookup"><span data-stu-id="eb5f4-182">**Application Performance Requirements Checklist**</span></span>

| <span data-ttu-id="eb5f4-183">**Requisitos de rendimiento**</span><span class="sxs-lookup"><span data-stu-id="eb5f4-183">**Performance requirements**</span></span> | <span data-ttu-id="eb5f4-184">**Percentil 50**</span><span class="sxs-lookup"><span data-stu-id="eb5f4-184">**50 Percentile**</span></span> | <span data-ttu-id="eb5f4-185">**Percentil 90**</span><span class="sxs-lookup"><span data-stu-id="eb5f4-185">**90 Percentile**</span></span> | <span data-ttu-id="eb5f4-186">**Percentil 99**</span><span class="sxs-lookup"><span data-stu-id="eb5f4-186">**99  Percentile**</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="eb5f4-187">Máx.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-187">Max.</span></span> <span data-ttu-id="eb5f4-188">Transacciones por segundo</span><span class="sxs-lookup"><span data-stu-id="eb5f4-188">Transactions per second</span></span> | | | |
| <span data-ttu-id="eb5f4-189">Porcentaje de operaciones de lectura</span><span class="sxs-lookup"><span data-stu-id="eb5f4-189">% Read operations</span></span> | | | |
| <span data-ttu-id="eb5f4-190">Porcentaje de operaciones de escritura</span><span class="sxs-lookup"><span data-stu-id="eb5f4-190">% Write operations</span></span> | | | |
| <span data-ttu-id="eb5f4-191">Porcentaje de operaciones aleatorias</span><span class="sxs-lookup"><span data-stu-id="eb5f4-191">% Random operations</span></span> | | | |
| <span data-ttu-id="eb5f4-192">Porcentaje de operaciones secuenciales</span><span class="sxs-lookup"><span data-stu-id="eb5f4-192">% Sequential operations</span></span> | | | |
| <span data-ttu-id="eb5f4-193">Tamaño de las solicitudes de E/S</span><span class="sxs-lookup"><span data-stu-id="eb5f4-193">IO request size</span></span> | | | |
| <span data-ttu-id="eb5f4-194">Rendimiento medio</span><span class="sxs-lookup"><span data-stu-id="eb5f4-194">Average Throughput</span></span> | | | |
| <span data-ttu-id="eb5f4-195">Máx.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-195">Max.</span></span> <span data-ttu-id="eb5f4-196">Rendimiento</span><span class="sxs-lookup"><span data-stu-id="eb5f4-196">Throughput</span></span> | | | |
| <span data-ttu-id="eb5f4-197">Mín.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-197">Min.</span></span> <span data-ttu-id="eb5f4-198">Latency</span><span class="sxs-lookup"><span data-stu-id="eb5f4-198">Latency</span></span> | | | |
| <span data-ttu-id="eb5f4-199">Latencia media</span><span class="sxs-lookup"><span data-stu-id="eb5f4-199">Average Latency</span></span> | | | |
| <span data-ttu-id="eb5f4-200">Máx.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-200">Max.</span></span> <span data-ttu-id="eb5f4-201">CPU</span><span class="sxs-lookup"><span data-stu-id="eb5f4-201">CPU</span></span> | | | |
| <span data-ttu-id="eb5f4-202">Promedio de CPU</span><span class="sxs-lookup"><span data-stu-id="eb5f4-202">Average CPU</span></span> | | | |
| <span data-ttu-id="eb5f4-203">Máx.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-203">Max.</span></span> <span data-ttu-id="eb5f4-204">Memoria</span><span class="sxs-lookup"><span data-stu-id="eb5f4-204">Memory</span></span> | | | |
| <span data-ttu-id="eb5f4-205">Promedio de memoria</span><span class="sxs-lookup"><span data-stu-id="eb5f4-205">Average Memory</span></span> | | | |
| <span data-ttu-id="eb5f4-206">Profundidad de la cola</span><span class="sxs-lookup"><span data-stu-id="eb5f4-206">Queue Depth</span></span> | | | |

> [!NOTE]
> <span data-ttu-id="eb5f4-207">Debe considerar la posibilidad de escalar estos números en función del crecimiento futuro previsto de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-207">You should consider scaling these numbers based on expected future growth of your application.</span></span> <span data-ttu-id="eb5f4-208">Es un tooplan buena idea crecimiento adelantado, porque podría ser más difíciles de infraestructura de hello toochange para mejorar el rendimiento más adelante.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-208">It is a good idea tooplan for growth ahead of time, because it could be harder toochange hello infrastructure for improving performance later.</span></span>
>
>

<span data-ttu-id="eb5f4-209">Si tiene una aplicación existente y desea toomove tooPremium almacenamiento, crear lista de comprobación de Hola por encima de la aplicación existente de Hola.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-209">If you have an existing application and want toomove tooPremium Storage, first build hello checklist above for hello existing application.</span></span> <span data-ttu-id="eb5f4-210">A continuación, crear un prototipo de la aplicación en almacenamiento Premium y diseñar la aplicación hello en función de las directrices descritas en *optimizar el rendimiento de la aplicación* en una sección posterior de este documento.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-210">Then, build a prototype of your application on Premium Storage and design hello application based on guidelines described in *Optimizing Application Performance* in a later section of this document.</span></span> <span data-ttu-id="eb5f4-211">Hola próxima sección describe herramientas de Hola que puede usar medidas de rendimiento de toogather Hola.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-211">hello next section describes hello tools you can use toogather hello performance measurements.</span></span>

<span data-ttu-id="eb5f4-212">Crear una lista de comprobación tooyour existente aplicación similar de prototipo de Hola.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-212">Create a checklist similar tooyour existing application for hello prototype.</span></span> <span data-ttu-id="eb5f4-213">Con herramientas de Benchmarking puede simular cargas de trabajo de Hola y medir el rendimiento en aplicaciones de prototipo de Hola.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-213">Using Benchmarking tools you can simulate hello workloads and measure performance on hello prototype application.</span></span> <span data-ttu-id="eb5f4-214">Vea la sección de hello en [Benchmarking](#benchmarking) toolearn más.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-214">See hello section on [Benchmarking](#benchmarking) toolearn more.</span></span> <span data-ttu-id="eb5f4-215">Gracias a ello, puede determinar si Almacenamiento premium puede alcanzar o superar los requisitos de rendimiento de las aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-215">By doing so you can determine whether Premium Storage can match or surpass your application performance requirements.</span></span> <span data-ttu-id="eb5f4-216">A continuación, puede implementar Hola mismas directrices para la aplicación de producción.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-216">Then you can implement hello same guidelines for your production application.</span></span>

### <a name="counters-toomeasure-application-performance-requirements"></a><span data-ttu-id="eb5f4-217">Contadores de toomeasure requisitos de rendimiento de aplicaciones</span><span class="sxs-lookup"><span data-stu-id="eb5f4-217">Counters toomeasure application performance requirements</span></span>
<span data-ttu-id="eb5f4-218">Hola requisitos de rendimiento de toomeasure de mejor manera de la aplicación, herramientas de supervisión del rendimiento de toouse proporcionadas por sistema operativo de saludo del servidor de Hola.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-218">hello best way toomeasure performance requirements of your application, is toouse performance-monitoring tools provided by hello operating system of hello server.</span></span> <span data-ttu-id="eb5f4-219">Puede usar PerfMon para Windows e iostat para Linux.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-219">You can use PerfMon for Windows and iostat for Linux.</span></span> <span data-ttu-id="eb5f4-220">Estas herramientas capturan contadores medida tooeach correspondiente se explica en hello por encima de la sección.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-220">These tools capture counters corresponding tooeach measure explained in hello above section.</span></span> <span data-ttu-id="eb5f4-221">Debe capturar valores de hello de estos contadores cuando la aplicación está ejecutando su normal, las cargas de trabajo de las horas punta y fuera del horario comercial.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-221">You must capture hello values of these counters when your application is running its normal, peak and off-hours workloads.</span></span>

<span data-ttu-id="eb5f4-222">contadores de rendimiento de Hello están disponibles para el procesador, memoria y, en cada disco lógico y disco físico del servidor.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-222">hello PerfMon counters are available for processor, memory and, each logical disk and physical disk of your server.</span></span> <span data-ttu-id="eb5f4-223">Cuando se utilizan discos de almacenamiento premium con una máquina virtual, los contadores de disco físico de hello son para cada disco de almacenamiento premium y contadores de disco lógico son para cada volumen creado en discos de almacenamiento de hello premium.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-223">When you use premium storage disks with a VM, hello physical disk counters are for each premium storage disk, and logical disk counters are for each volume created on hello premium storage disks.</span></span> <span data-ttu-id="eb5f4-224">Debe capturar valores de hello para discos de Hola que hospedan la carga de trabajo de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-224">You must capture hello values for hello disks that host your application workload.</span></span> <span data-ttu-id="eb5f4-225">Si hay una asignación de tooone uno entre los discos lógicos y físicos, puede consultar los contadores de disco toophysical; en caso contrario, consulte toohello los contadores de disco lógico.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-225">If there is a one tooone mapping between logical and physical disks, you can refer toophysical disk counters; otherwise refer toohello logical disk counters.</span></span> <span data-ttu-id="eb5f4-226">En Linux, comando iostat de hello genera un informe de uso de CPU y disco.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-226">On Linux, hello iostat command generates a CPU and disk utilization report.</span></span> <span data-ttu-id="eb5f4-227">informe de uso de disco de Hello proporciona estadísticas por partición o dispositivo físico.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-227">hello disk utilization report provides statistics per physical device or partition.</span></span> <span data-ttu-id="eb5f4-228">Si tiene un servidor de bases de datos con sus datos e inicia sesión en discos independientes, recopile estos datos para ambos discos.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-228">If you have a database server with its data and log on separate disks, collect this data for both disks.</span></span> <span data-ttu-id="eb5f4-229">La tabla siguiente describe los contadores de los discos, el procesador y la memoria:</span><span class="sxs-lookup"><span data-stu-id="eb5f4-229">Below table describes counters for disks, processor and memory:</span></span>

| <span data-ttu-id="eb5f4-230">Contador</span><span class="sxs-lookup"><span data-stu-id="eb5f4-230">Counter</span></span> | <span data-ttu-id="eb5f4-231">Description</span><span class="sxs-lookup"><span data-stu-id="eb5f4-231">Description</span></span> | <span data-ttu-id="eb5f4-232">PerfMon</span><span class="sxs-lookup"><span data-stu-id="eb5f4-232">PerfMon</span></span> | <span data-ttu-id="eb5f4-233">Iostat</span><span class="sxs-lookup"><span data-stu-id="eb5f4-233">Iostat</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="eb5f4-234">**E/S por segundo o transacciones por segundo**</span><span class="sxs-lookup"><span data-stu-id="eb5f4-234">**IOPS or Transactions per second**</span></span> |<span data-ttu-id="eb5f4-235">Número de solicitudes de E/S emitidas toohello de disco de almacenamiento por segundo.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-235">Number of I/O requests issued toohello storage disk per second.</span></span> |<span data-ttu-id="eb5f4-236">Lecturas de disco/s </span><span class="sxs-lookup"><span data-stu-id="eb5f4-236">Disk Reads/sec</span></span> <br> <span data-ttu-id="eb5f4-237">Escrituras en disco/s</span><span class="sxs-lookup"><span data-stu-id="eb5f4-237">Disk Writes/sec</span></span> |<span data-ttu-id="eb5f4-238">tps </span><span class="sxs-lookup"><span data-stu-id="eb5f4-238">tps</span></span> <br> <span data-ttu-id="eb5f4-239">r/s </span><span class="sxs-lookup"><span data-stu-id="eb5f4-239">r/s</span></span> <br> <span data-ttu-id="eb5f4-240">w/s</span><span class="sxs-lookup"><span data-stu-id="eb5f4-240">w/s</span></span> |
| <span data-ttu-id="eb5f4-241">**Escrituras y lecturas de disco**</span><span class="sxs-lookup"><span data-stu-id="eb5f4-241">**Disk Reads and Writes**</span></span> |<span data-ttu-id="eb5f4-242">% de lectura y escritura de las operaciones realizadas en el disco de Hola.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-242">% of Reads and Write operations performed on hello disk.</span></span> |<span data-ttu-id="eb5f4-243">% de tiempo de lectura de disco </span><span class="sxs-lookup"><span data-stu-id="eb5f4-243">% Disk Read Time</span></span> <br> <span data-ttu-id="eb5f4-244">% de tiempo de escritura de disco</span><span class="sxs-lookup"><span data-stu-id="eb5f4-244">% Disk Write Time</span></span> |<span data-ttu-id="eb5f4-245">r/s </span><span class="sxs-lookup"><span data-stu-id="eb5f4-245">r/s</span></span> <br> <span data-ttu-id="eb5f4-246">w/s</span><span class="sxs-lookup"><span data-stu-id="eb5f4-246">w/s</span></span> |
| <span data-ttu-id="eb5f4-247">**Rendimiento**</span><span class="sxs-lookup"><span data-stu-id="eb5f4-247">**Throughput**</span></span> |<span data-ttu-id="eb5f4-248">Cantidad de datos de lectura o escritura de disco toohello por segundo.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-248">Amount of data read from or written toohello disk per second.</span></span> |<span data-ttu-id="eb5f4-249">Bytes de lectura de disco/s </span><span class="sxs-lookup"><span data-stu-id="eb5f4-249">Disk Read Bytes/sec</span></span> <br> <span data-ttu-id="eb5f4-250"> Bytes de escritura en disco/s</span><span class="sxs-lookup"><span data-stu-id="eb5f4-250">Disk Write Bytes/sec</span></span> |<span data-ttu-id="eb5f4-251">kB_read/s</span><span class="sxs-lookup"><span data-stu-id="eb5f4-251">kB_read/s</span></span> <br> <span data-ttu-id="eb5f4-252">kB_wrtn/s</span><span class="sxs-lookup"><span data-stu-id="eb5f4-252">kB_wrtn/s</span></span> |
| <span data-ttu-id="eb5f4-253">**Latency**</span><span class="sxs-lookup"><span data-stu-id="eb5f4-253">**Latency**</span></span> |<span data-ttu-id="eb5f4-254">Número total de tiempo toocomplete una solicitud de E/S de disco.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-254">Total time toocomplete a disk IO request.</span></span> |<span data-ttu-id="eb5f4-255">Promedio de segundos de disco/lectura </span><span class="sxs-lookup"><span data-stu-id="eb5f4-255">Average Disk sec/Read</span></span> <br> <span data-ttu-id="eb5f4-256">Promedio de segundos de disco/escritura</span><span class="sxs-lookup"><span data-stu-id="eb5f4-256">Average disk sec/Write</span></span> |<span data-ttu-id="eb5f4-257">await </span><span class="sxs-lookup"><span data-stu-id="eb5f4-257">await</span></span> <br> <span data-ttu-id="eb5f4-258">svctm</span><span class="sxs-lookup"><span data-stu-id="eb5f4-258">svctm</span></span> |
| <span data-ttu-id="eb5f4-259">**Tamaño de E/S**</span><span class="sxs-lookup"><span data-stu-id="eb5f4-259">**IO size**</span></span> |<span data-ttu-id="eb5f4-260">tamaño de Hola de solicitudes de E/S emite toohello discos de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-260">hello size of I/O requests issues toohello storage disks.</span></span> |<span data-ttu-id="eb5f4-261">Promedio de bytes de disco/lectura </span><span class="sxs-lookup"><span data-stu-id="eb5f4-261">Average Disk Bytes/Read</span></span> <br> <span data-ttu-id="eb5f4-262">Promedio de bytes de disco/escritura</span><span class="sxs-lookup"><span data-stu-id="eb5f4-262">Average Disk Bytes/Write</span></span> |<span data-ttu-id="eb5f4-263">avgrq-sz</span><span class="sxs-lookup"><span data-stu-id="eb5f4-263">avgrq-sz</span></span> |
| <span data-ttu-id="eb5f4-264">**Profundidad de la cola**</span><span class="sxs-lookup"><span data-stu-id="eb5f4-264">**Queue Depth**</span></span> |<span data-ttu-id="eb5f4-265">Número de operaciones de E/S pendientes solicitudes espera toobe formulario de lectura o escritura toohello disco de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-265">Number of outstanding I/O requests waiting toobe read form or written toohello storage disk.</span></span> |<span data-ttu-id="eb5f4-266">Longitud actual de cola de disco</span><span class="sxs-lookup"><span data-stu-id="eb5f4-266">Current Disk Queue Length</span></span> |<span data-ttu-id="eb5f4-267">avgqu-sz</span><span class="sxs-lookup"><span data-stu-id="eb5f4-267">avgqu-sz</span></span> |
| <span data-ttu-id="eb5f4-268">**Máx. memoria**</span><span class="sxs-lookup"><span data-stu-id="eb5f4-268">**Max. Memory**</span></span> |<span data-ttu-id="eb5f4-269">Cantidad de memoria necesaria toorun aplicación sin problemas</span><span class="sxs-lookup"><span data-stu-id="eb5f4-269">Amount of memory required toorun application smoothly</span></span> |<span data-ttu-id="eb5f4-270">% de bytes confirmados en uso</span><span class="sxs-lookup"><span data-stu-id="eb5f4-270">% Committed Bytes in Use</span></span> |<span data-ttu-id="eb5f4-271">Use vmstat</span><span class="sxs-lookup"><span data-stu-id="eb5f4-271">Use vmstat</span></span> |
| <span data-ttu-id="eb5f4-272">**Máx. CPU**</span><span class="sxs-lookup"><span data-stu-id="eb5f4-272">**Max. CPU**</span></span> |<span data-ttu-id="eb5f4-273">Cantidad de CPU necesario toorun aplicación sin problemas</span><span class="sxs-lookup"><span data-stu-id="eb5f4-273">Amount CPU required toorun application smoothly</span></span> |<span data-ttu-id="eb5f4-274">% de tiempo de procesador</span><span class="sxs-lookup"><span data-stu-id="eb5f4-274">% Processor time</span></span> |<span data-ttu-id="eb5f4-275">%util</span><span class="sxs-lookup"><span data-stu-id="eb5f4-275">%util</span></span> |

<span data-ttu-id="eb5f4-276">Obtenga más información sobre [iostat](http://linuxcommand.org/man_pages/iostat1.html) y [PerfMon](https://msdn.microsoft.com/library/aa645516.aspx).</span><span class="sxs-lookup"><span data-stu-id="eb5f4-276">Learn more about [iostat](http://linuxcommand.org/man_pages/iostat1.html) and [PerfMon](https://msdn.microsoft.com/library/aa645516.aspx).</span></span>

## <a name="optimizing-application-performance"></a><span data-ttu-id="eb5f4-277">Optimización del rendimiento de las aplicaciones</span><span class="sxs-lookup"><span data-stu-id="eb5f4-277">Optimizing Application Performance</span></span>
<span data-ttu-id="eb5f4-278">factores principales de Hola que influyen en el rendimiento de una aplicación que se ejecutan en almacenamiento Premium son naturaleza de las solicitudes de E/S, tamaño de máquina virtual, el tamaño de disco, el número de discos, el almacenamiento en caché de disco, el subprocesamiento múltiple y profundidad de cola.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-278">hello main factors that influence performance of an application running on Premium Storage are Nature of IO Requests, VM size, Disk size, Number of disks, Disk Caching, Multithreading and Queue Depth.</span></span> <span data-ttu-id="eb5f4-279">Puede controlar algunos de estos factores con botones proporcionados por sistema Hola.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-279">You can control some of these factors with knobs provided by hello system.</span></span> <span data-ttu-id="eb5f4-280">Mayoría de las aplicaciones puede no conseguir un Hola de tooalter opción tamaño de E/S y la profundidad de cola directamente.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-280">Most applications may not give you an option tooalter hello IO size and Queue Depth directly.</span></span> <span data-ttu-id="eb5f4-281">Por ejemplo, si está utilizando SQL Server, no puede elegir la profundidad de cola y el tamaño de E/S de Hola.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-281">For example, if you are using SQL Server, you cannot choose hello IO size and queue depth.</span></span> <span data-ttu-id="eb5f4-282">SQL Server elige Hola óptimo E/S tamaño y la cola de profundidad valores tooget Hola máximo rendimiento.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-282">SQL Server chooses hello optimal IO size and queue depth values tooget hello most performance.</span></span> <span data-ttu-id="eb5f4-283">Es importante toounderstand efectos de Hola de ambos tipos de factores en el rendimiento de la aplicación, por lo que puede aprovisionar los recursos adecuados toomeet las necesidades de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-283">It is important toounderstand hello effects of both types of factors on your application performance, so that you can provision appropriate resources toomeet performance needs.</span></span>

<span data-ttu-id="eb5f4-284">A lo largo de esta sección, consulte toohello aplicación requisitos lista de comprobación que ha creado, tooidentify cuánto debe toooptimize el rendimiento de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-284">Throughout this section, refer toohello application requirements checklist that you created, tooidentify how much you need toooptimize your application performance.</span></span> <span data-ttu-id="eb5f4-285">En función de que, será capaz de toodetermine que factores de esta sección será necesario tootune.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-285">Based on that, you will be able toodetermine which factors from this section you will need tootune.</span></span> <span data-ttu-id="eb5f4-286">toowitness Hola efectos de cada factor en el rendimiento de la aplicación, ejecutar pruebas comparativas de herramientas de la configuración de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-286">toowitness hello effects of each factor on your application performance, run benchmarking tools on your application setup.</span></span> <span data-ttu-id="eb5f4-287">Consulte toohello [Benchmarking](#Benchmarking) sección Hola final de este artículo para toorun de pasos comunes de pruebas comparativas herramientas en Windows y máquinas virtuales de Linux.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-287">Refer toohello [Benchmarking](#Benchmarking) section at hello end of this article for steps toorun common benchmarking tools on Windows and Linux VMs.</span></span>

### <a name="optimizing-iops-throughput-and-latency-at-a-glance"></a><span data-ttu-id="eb5f4-288">Optimización de IOPS, rendimiento y latencia de un vistazo</span><span class="sxs-lookup"><span data-stu-id="eb5f4-288">Optimizing IOPS, Throughput and Latency at a glance</span></span>
<span data-ttu-id="eb5f4-289">tabla de Hola a continuación resumen todos los factores de rendimiento de Hola y Hola pasos toooptimize IOPS, rendimiento y latencia.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-289">hello table below summarizes all hello performance factors and hello steps toooptimize IOPS, Throughput and Latency.</span></span> <span data-ttu-id="eb5f4-290">Hello las secciones siguientes de este resumen describen cada factor es mucho más minuciosa.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-290">hello sections following this summary will describe each factor is much more depth.</span></span>

| &nbsp; | <span data-ttu-id="eb5f4-291">**E/S**</span><span class="sxs-lookup"><span data-stu-id="eb5f4-291">**IOPS**</span></span> | <span data-ttu-id="eb5f4-292">**Rendimiento**</span><span class="sxs-lookup"><span data-stu-id="eb5f4-292">**Throughput**</span></span> | <span data-ttu-id="eb5f4-293">**Latency**</span><span class="sxs-lookup"><span data-stu-id="eb5f4-293">**Latency**</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="eb5f4-294">**Escenario de ejemplo**</span><span class="sxs-lookup"><span data-stu-id="eb5f4-294">**Example Scenario**</span></span> |<span data-ttu-id="eb5f4-295">Aplicación OLTP empresarial que requiere una tasa muy alta de transacciones por segundo.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-295">Enterprise OLTP application requiring very high transactions per second rate.</span></span> |<span data-ttu-id="eb5f4-296">Aplicación de Almacenamiento de datos de empresa que procesa grandes cantidades de datos.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-296">Enterprise Data warehousing application processing large amounts of data.</span></span> |<span data-ttu-id="eb5f4-297">Cerca de aplicaciones en tiempo real que requieren las solicitudes de toouser de respuestas de instantánea, como juegos en línea.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-297">Near real-time applications requiring instant responses toouser requests, like online gaming.</span></span> |
| <span data-ttu-id="eb5f4-298">Factores de rendimiento</span><span class="sxs-lookup"><span data-stu-id="eb5f4-298">Performance factors</span></span> | &nbsp; | &nbsp; | &nbsp; |
| <span data-ttu-id="eb5f4-299">**Tamaño de E/S**</span><span class="sxs-lookup"><span data-stu-id="eb5f4-299">**IO size**</span></span> |<span data-ttu-id="eb5f4-300">Un tamaño de E/S menor produce una mayor IOPS.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-300">Smaller IO size yields higher IOPS.</span></span> |<span data-ttu-id="eb5f4-301">Mayor tooyields de tamaño de E/S un mayor rendimiento.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-301">Larger IO size tooyields higher Throughput.</span></span> | &nbsp;|
| <span data-ttu-id="eb5f4-302">**Tamaño de VM**</span><span class="sxs-lookup"><span data-stu-id="eb5f4-302">**VM size**</span></span> |<span data-ttu-id="eb5f4-303">Use un tamaño de máquina virtual que ofrezca una IOPS mayor que los requisitos de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-303">Use a VM size that offers IOPS greater than your application requirement.</span></span> <span data-ttu-id="eb5f4-304">Consulte los tamaños de las máquinas virtuales y sus límites de IOPS aquí.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-304">See VM sizes and their IOPS limits here.</span></span> |<span data-ttu-id="eb5f4-305">Use un tamaño de máquina virtual con un límite de rendimiento mayor que los requisitos de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-305">Use a VM size with Throughput limit greater than your application requirement.</span></span> <span data-ttu-id="eb5f4-306">Consulte los tamaños de máquinas virtuales y sus límites de rendimiento aquí.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-306">See VM sizes and their Throughput limits here.</span></span> |<span data-ttu-id="eb5f4-307">Use un tamaño de máquina virtual que ofrezca una escala de límites mayor que los requisitos de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-307">Use a VM size that offers scale limits greater than your application requirement.</span></span> <span data-ttu-id="eb5f4-308">Consulte los tamaños de máquinas virtuales y sus límites aquí.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-308">See VM sizes and their limits here.</span></span> |
| <span data-ttu-id="eb5f4-309">**Tamaño del disco**</span><span class="sxs-lookup"><span data-stu-id="eb5f4-309">**Disk size**</span></span> |<span data-ttu-id="eb5f4-310">Use un tamaño de disco que ofrezca una IOPS mayor que los requisitos de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-310">Use a disk size that offers IOPS greater than your application requirement.</span></span> <span data-ttu-id="eb5f4-311">Consulte los tamaños de disco y sus límites de IOPS aquí.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-311">See disk sizes and their IOPS limits here.</span></span> |<span data-ttu-id="eb5f4-312">Use un tamaño de disco con un límite de rendimiento mayor que los requisitos de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-312">Use a disk size with Throughput limit greater than your application requirement.</span></span> <span data-ttu-id="eb5f4-313">Consulte los tamaños de disco y sus límites de rendimiento aquí.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-313">See disk sizes and their Throughput limits here.</span></span> |<span data-ttu-id="eb5f4-314">Use un tamaño de disco que ofrezca una escala de límites mayor que los requisitos de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-314">Use a disk size that offers scale limits greater than your application requirement.</span></span> <span data-ttu-id="eb5f4-315">Consulte los tamaños de disco y sus límites aquí.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-315">See disk sizes and their limits here.</span></span> |
| <span data-ttu-id="eb5f4-316">**Máquina virtual y límites de escala de disco**</span><span class="sxs-lookup"><span data-stu-id="eb5f4-316">**VM and Disk Scale Limits**</span></span> |<span data-ttu-id="eb5f4-317">Límite de IOPS de elección de tamaño VM de hello debe ser mayor que las IOPS totales depende de los discos de almacenamiento premium adjunta tooit.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-317">IOPS limit of hello VM size chosen should be greater than total IOPS driven by premium storage disks attached tooit.</span></span> |<span data-ttu-id="eb5f4-318">Límite de rendimiento de elección de tamaño VM de hello debe ser mayor que el rendimiento total depende de los discos de almacenamiento premium adjunta tooit.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-318">Throughput limit of hello VM size chosen should be greater than total Throughput driven by premium storage disks attached tooit.</span></span> |<span data-ttu-id="eb5f4-319">Límites de escala de elección de tamaño VM de hello deben ser mayores que los límites de escala total de discos de almacenamiento premium adjunto.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-319">Scale limits of hello VM size chosen must be greater than total scale limits of attached premium storage disks.</span></span> |
| <span data-ttu-id="eb5f4-320">**Almacenamiento en caché de disco**</span><span class="sxs-lookup"><span data-stu-id="eb5f4-320">**Disk Caching**</span></span> |<span data-ttu-id="eb5f4-321">Habilitar la memoria caché de solo lectura en los discos de almacenamiento premium con lectura operaciones intensivas tooget superior IOPS de lectura.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-321">Enable ReadOnly Cache on premium storage disks with Read heavy operations tooget higher Read IOPS.</span></span> | &nbsp; |<span data-ttu-id="eb5f4-322">Habilitar la memoria caché de solo lectura en los discos de almacenamiento premium con latencias de lectura de operaciones intensivas listo tooget muy bajas.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-322">Enable ReadOnly Cache on premium storage disks with Ready heavy operations tooget very low Read latencies.</span></span> |
| <span data-ttu-id="eb5f4-323">**Seccionamiento del disco**</span><span class="sxs-lookup"><span data-stu-id="eb5f4-323">**Disk Striping**</span></span> |<span data-ttu-id="eb5f4-324">Usar varios discos y crear bandas ellos tooget junto un combinado de IOPS superior y límite de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-324">Use multiple disks and stripe them together tooget a combined higher IOPS and Throughput limit.</span></span> <span data-ttu-id="eb5f4-325">Tenga en cuenta que Hola límite combinado por máquina virtual debe ser superior a Hola combinados límites de discos premium adjunto.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-325">Note that hello combined limit per VM should be higher than hello combined limits of attached premium disks.</span></span> | &nbsp; | &nbsp; |
| <span data-ttu-id="eb5f4-326">**Tamaño de franja**</span><span class="sxs-lookup"><span data-stu-id="eb5f4-326">**Stripe Size**</span></span> |<span data-ttu-id="eb5f4-327">Un menor tamaño de franja para un patrón de E/S pequeño y aleatorio visto en las aplicaciones OLTP.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-327">Smaller stripe size for random small IO pattern seen in OLTP applications.</span></span> <span data-ttu-id="eb5f4-328">Por ejemplo, puede usar un tamaño de franja de 64 KB para aplicaciones OLTP de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-328">E.g., use stripe size of 64KB for SQL Server OLTP application.</span></span> |<span data-ttu-id="eb5f4-329">Un mayor tamaño de franja para un patrón de E/ grande y secuencial visto en las aplicaciones de Almacenamiento de datos.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-329">Larger stripe size for sequential large IO pattern seen in Data Warehouse applications.</span></span> <span data-ttu-id="eb5f4-330">Por ejemplo, puede usar un tamaño de franja de 256 KB para aplicaciones de Almacenamiento de datos de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-330">E.g., use 256KB stripe size for SQL Server Data warehouse application.</span></span> | &nbsp; |
| <span data-ttu-id="eb5f4-331">**Multithreading**</span><span class="sxs-lookup"><span data-stu-id="eb5f4-331">**Multithreading**</span></span> |<span data-ttu-id="eb5f4-332">Utilice el subprocesamiento múltiple toopush aumentar el número de solicitudes tooPremium almacenamiento que ocasionarán toohigher IOPS y el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-332">Use multithreading toopush higher number of requests tooPremium Storage that will lead toohigher IOPS and Throughput.</span></span> <span data-ttu-id="eb5f4-333">Por ejemplo, en SQL Server establece una alta tooallocate valor MAXDOP más CPU tooSQL Server.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-333">For example, on SQL Server set a high MAXDOP value tooallocate more CPUs tooSQL Server.</span></span> | &nbsp; | &nbsp; |
| <span data-ttu-id="eb5f4-334">**Profundidad de la cola**</span><span class="sxs-lookup"><span data-stu-id="eb5f4-334">**Queue Depth**</span></span> |<span data-ttu-id="eb5f4-335">Una profundidad de la cola mayor produce una IOPS mayor.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-335">Larger Queue Depth yields higher IOPS.</span></span> |<span data-ttu-id="eb5f4-336">Una profundidad de la cola mayor produce un mayor rendimiento.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-336">Larger Queue Depth yields higher Throughput.</span></span> |<span data-ttu-id="eb5f4-337">Una profundidad de la cola menor produce latencias más bajas.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-337">Smaller Queue Depth yields lower latencies.</span></span> |

## <a name="nature-of-io-requests"></a><span data-ttu-id="eb5f4-338">Naturaleza de las solicitudes de E/S</span><span class="sxs-lookup"><span data-stu-id="eb5f4-338">Nature of IO Requests</span></span>
<span data-ttu-id="eb5f4-339">Una solicitud de E/S es una unidad de operación de entrada y salida que la aplicación va a realizar.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-339">An IO request is a unit of input/output operation that your application will be performing.</span></span> <span data-ttu-id="eb5f4-340">Identificar la naturaleza de Hola de las solicitudes de E/S aleatorias o secuenciales, lectura o escritura, pequeña o grande, le ayudará a determinar los requisitos de rendimiento de saludo de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-340">Identifying hello nature of IO requests, random or sequential, read or write, small or large, will help you determine hello performance requirements of your application.</span></span> <span data-ttu-id="eb5f4-341">Es muy importante toounderstand naturaleza de Hola de solicitudes de E/S, toomake Hola tome las decisiones correctas al diseñar la infraestructura de aplicación.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-341">It is very important toounderstand hello nature of IO requests, toomake hello right decisions when designing your application infrastructure.</span></span>

<span data-ttu-id="eb5f4-342">Tamaño de E/S es uno de hello factores más importantes.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-342">IO size is one of hello more important factors.</span></span> <span data-ttu-id="eb5f4-343">Hola tamaño de E/S es tamaño Hola de solicitud de operación de entrada/salida de hello generado por la aplicación.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-343">hello IO size is hello size of hello input/output operation request generated by your application.</span></span> <span data-ttu-id="eb5f4-344">Hola tamaño de E/S tiene un efecto significativo en el rendimiento, especialmente en hello IOPS y ancho de banda que Hola aplicación es capaz de tooachieve.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-344">hello IO size has a significant impact on performance especially on hello IOPS and Bandwidth that hello application is able tooachieve.</span></span> <span data-ttu-id="eb5f4-345">Hello siguiente fórmula muestra hello relación entre IOPS, ancho de banda/rendimiento y tamaño de E/S.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-345">hello following formula shows hello relationship between IOPS, IO size and Bandwidth/Throughput.</span></span>  
    ![](media/storage-premium-storage-performance/image1.png)

<span data-ttu-id="eb5f4-346">Algunas aplicaciones permiten tooalter sus E/S tamaño, mientras que algunas aplicaciones no.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-346">Some applications allow you tooalter their IO size, while some applications do not.</span></span> <span data-ttu-id="eb5f4-347">Por ejemplo, SQL Server determina el tamaño óptimo de hello IO propio y no proporciona a los usuarios con cualquier toochange botones se.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-347">For example, SQL Server determines hello optimal IO size itself, and does not provide users with any knobs toochange it.</span></span> <span data-ttu-id="eb5f4-348">En Hola otra parte, Oracle proporciona un parámetro denominado [DB\_bloquear\_tamaño](https://docs.oracle.com/cd/B19306_01/server.102/b14211/iodesign.htm#i28815) usando lo que puede configurar Hola el tamaño de la solicitud de E/S de base de datos de Hola.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-348">On hello other hand, Oracle provides a parameter called [DB\_BLOCK\_SIZE](https://docs.oracle.com/cd/B19306_01/server.102/b14211/iodesign.htm#i28815) using which you can configure hello I/O request size of hello database.</span></span>

<span data-ttu-id="eb5f4-349">Si está utilizando una aplicación, que no permite toochange Hola tamaño de E/S, utilice instrucciones de hello en este artículo toooptimize Hola de rendimiento KPI que es la aplicación tooyour más relevante.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-349">If you are using an application, which does not allow you toochange hello IO size, use hello guidelines in this article toooptimize hello performance KPI that is most relevant tooyour application.</span></span> <span data-ttu-id="eb5f4-350">Por ejemplo,</span><span class="sxs-lookup"><span data-stu-id="eb5f4-350">For example,</span></span>

* <span data-ttu-id="eb5f4-351">Una aplicación OLTP genera millones de solicitudes de E/S pequeñas y aleatorias.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-351">An OLTP application generates millions of small and random IO requests.</span></span> <span data-ttu-id="eb5f4-352">solicita toohandle estos tipo de E/S, debe diseñar su tooget de infraestructura de aplicación mayor e/s por segundo.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-352">toohandle these type of IO requests, you must design your application infrastructure tooget higher IOPS.</span></span>  
* <span data-ttu-id="eb5f4-353">Una aplicación de almacenamiento de datos genera solicitudes de E/S grandes y secuenciales.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-353">A data warehousing application generates large and sequential IO requests.</span></span> <span data-ttu-id="eb5f4-354">toohandle estos tipo de solicitudes de E/S, debe diseñar su tooget de infraestructura de aplicación mayor ancho de banda o rendimiento.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-354">toohandle these type of IO requests, you must design your application infrastructure tooget higher Bandwidth or Throughput.</span></span>

<span data-ttu-id="eb5f4-355">Si está utilizando una aplicación, que permite el tamaño de E/S de hello toochange, usar esta regla general para hello E/S además tamaño tooother directrices de rendimiento,</span><span class="sxs-lookup"><span data-stu-id="eb5f4-355">If you are using an application, which allows you toochange hello IO size, use this rule of thumb for hello IO size in addition tooother performance guidelines,</span></span>

* <span data-ttu-id="eb5f4-356">Tooget de tamaño de E/S más pequeño mayor e/s por segundo.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-356">Smaller IO size tooget higher IOPS.</span></span> <span data-ttu-id="eb5f4-357">Por ejemplo, 8 KB para una aplicación OLTP.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-357">For example, 8 KB for an OLTP application.</span></span>  
* <span data-ttu-id="eb5f4-358">Tooget de tamaño de E/S mayor ancho de banda y un rendimiento mayor.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-358">Larger IO size tooget higher Bandwidth/Throughput.</span></span> <span data-ttu-id="eb5f4-359">Por ejemplo, 1024 KB para una aplicación de Almacenamiento de datos.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-359">For example, 1024 KB for a data warehouse application.</span></span>

<span data-ttu-id="eb5f4-360">Este es un ejemplo de cómo se pueden calcular hello IOPS y ancho de banda y el rendimiento de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-360">Here is an example on how you can calculate hello IOPS and Throughput/Bandwidth for your application.</span></span> <span data-ttu-id="eb5f4-361">Considere una aplicación con un disco P30.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-361">Consider an application using a P30 disk.</span></span> <span data-ttu-id="eb5f4-362">Hello rendimiento/ancho de banda puede lograr un disco P30 y número máximo de IOPS es 5000 e/s por segundo y 200 MB por segundo respectivamente.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-362">hello maximum IOPS and Throughput/Bandwidth a P30 disk can achieve is 5000 IOPS and 200 MB per second respectively.</span></span> <span data-ttu-id="eb5f4-363">Ahora, si la aplicación requiere Hola que número máximo de IOPS de disco de hello P30 y usar un tamaño más pequeño de E/S como 8 KB, hello resultante será el ancho de banda puede tooget es 40 MB por segundo.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-363">Now, if your application requires hello maximum IOPS from hello P30 disk and you use a smaller IO size like 8 KB, hello resulting Bandwidth you will be able tooget is 40 MB per second.</span></span> <span data-ttu-id="eb5f4-364">Sin embargo, si la aplicación requiere Hola rendimiento/ancho de banda máximo del disco P30 y usar un tamaño de E/S como 1024 KB, hello IOPS resultante será menor, 200 e/s por segundo.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-364">However, if your application requires hello maximum Throughput/Bandwidth from P30 disk, and you use a larger IO size like 1024 KB, hello resulting IOPS will be less, 200 IOPS.</span></span> <span data-ttu-id="eb5f4-365">Por lo tanto, ajustar tamaño de E/S de hello, que cumple el requisito de IOPS y ancho de banda y el rendimiento de ambos de su aplicación.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-365">Therefore, tune hello IO size such that it meets both your application's IOPS and Throughput/Bandwidth requirement.</span></span> <span data-ttu-id="eb5f4-366">Siguiente tabla resume los diferentes tamaños de E/S hello y sus correspondientes IOPS y rendimiento para un disco P30.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-366">Table below summarizes hello different IO sizes and their corresponding IOPS and Throughput for a P30 disk.</span></span>

| <span data-ttu-id="eb5f4-367">Requisito de la aplicación</span><span class="sxs-lookup"><span data-stu-id="eb5f4-367">Application Requirement</span></span> | <span data-ttu-id="eb5f4-368">Tamaño de E/S</span><span class="sxs-lookup"><span data-stu-id="eb5f4-368">I/O size</span></span> | <span data-ttu-id="eb5f4-369">E/S</span><span class="sxs-lookup"><span data-stu-id="eb5f4-369">IOPS</span></span> | <span data-ttu-id="eb5f4-370">Rendimiento/ancho de banda</span><span class="sxs-lookup"><span data-stu-id="eb5f4-370">Throughput/Bandwidth</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="eb5f4-371">IOPS máx.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-371">Max IOPS</span></span> |<span data-ttu-id="eb5f4-372">8 KB</span><span class="sxs-lookup"><span data-stu-id="eb5f4-372">8 KB</span></span> |<span data-ttu-id="eb5f4-373">5.000</span><span class="sxs-lookup"><span data-stu-id="eb5f4-373">5,000</span></span> |<span data-ttu-id="eb5f4-374">40 MB por segundo</span><span class="sxs-lookup"><span data-stu-id="eb5f4-374">40 MB per second</span></span> |
| <span data-ttu-id="eb5f4-375">Rendimiento máx.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-375">Max Throughput</span></span> |<span data-ttu-id="eb5f4-376">1024 KB</span><span class="sxs-lookup"><span data-stu-id="eb5f4-376">1024 KB</span></span> |<span data-ttu-id="eb5f4-377">200</span><span class="sxs-lookup"><span data-stu-id="eb5f4-377">200</span></span> |<span data-ttu-id="eb5f4-378">200 MB por segundo</span><span class="sxs-lookup"><span data-stu-id="eb5f4-378">200 MB per second</span></span> |
| <span data-ttu-id="eb5f4-379">Rendimiento máx.+ IOPS alta</span><span class="sxs-lookup"><span data-stu-id="eb5f4-379">Max Throughput + high IOPS</span></span> |<span data-ttu-id="eb5f4-380">64 KB</span><span class="sxs-lookup"><span data-stu-id="eb5f4-380">64 KB</span></span> |<span data-ttu-id="eb5f4-381">3.200</span><span class="sxs-lookup"><span data-stu-id="eb5f4-381">3,200</span></span> |<span data-ttu-id="eb5f4-382">200 MB por segundo</span><span class="sxs-lookup"><span data-stu-id="eb5f4-382">200 MB per second</span></span> |
| <span data-ttu-id="eb5f4-383">IOPS máx. + alto rendimiento</span><span class="sxs-lookup"><span data-stu-id="eb5f4-383">Max IOPS + high Throughput</span></span> |<span data-ttu-id="eb5f4-384">32 KB</span><span class="sxs-lookup"><span data-stu-id="eb5f4-384">32 KB</span></span> |<span data-ttu-id="eb5f4-385">5.000</span><span class="sxs-lookup"><span data-stu-id="eb5f4-385">5,000</span></span> |<span data-ttu-id="eb5f4-386">160 MB por segundo</span><span class="sxs-lookup"><span data-stu-id="eb5f4-386">160 MB per second</span></span> |

<span data-ttu-id="eb5f4-387">tooget IOPS y ancho de banda mayor que el valor máximo de Hola de un disco de almacenamiento premium solo, utilice varios discos premium seccionados juntos.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-387">tooget IOPS and Bandwidth higher than hello maximum value of a single premium storage disk, use multiple premium disks striped together.</span></span> <span data-ttu-id="eb5f4-388">Por ejemplo, cree franjas de dos P30 discos tooget un combinado de IOPS de 10.000 e/s por segundo o un rendimiento combinado de 400 MB por segundo.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-388">For example, stripe two P30 disks tooget a combined IOPS of 10,000 IOPS or a combined Throughput of 400 MB per second.</span></span> <span data-ttu-id="eb5f4-389">Como se explica en la sección siguiente de hello, debe usar un tamaño de memoria virtual que admita Hola combinan IOPS del disco y el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-389">As explained in hello next section, you must use a VM size that supports hello combined disk IOPS and Throughput.</span></span>

> [!NOTE]
> <span data-ttu-id="eb5f4-390">Aumentar cualquiera IOPS u otro Hola de rendimiento también aumenta, asegúrese de que no se alcanza el rendimiento o los límites IOPS de disco de Hola o máquina virtual al aumentar cualquiera de los.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-390">As you increase either IOPS or Throughput hello other also increases, make sure you do not hit throughput or IOPS limits of hello disk or VM when increasing either one.</span></span>
>
>

<span data-ttu-id="eb5f4-391">toowitness Hola efectos de tamaño de E/S en el rendimiento de la aplicación, puede ejecutar pruebas comparativas de herramientas en la máquina virtual y los discos.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-391">toowitness hello effects of IO size on application performance, you can run benchmarking tools on your VM and disks.</span></span> <span data-ttu-id="eb5f4-392">Crear varias series de pruebas y usar tamaño de E/S diferente para cada ejecución toosee su impacto Hola.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-392">Create multiple test runs and use different IO size for each run toosee hello impact.</span></span> <span data-ttu-id="eb5f4-393">Consulte toohello [Benchmarking](#Benchmarking) sección Hola final de este artículo para obtener más detalles.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-393">Refer toohello [Benchmarking](#Benchmarking) section at hello end of this article for more details.</span></span>

## <a name="high-scale-vm-sizes"></a><span data-ttu-id="eb5f4-394">Tamaños de máquina virtual a gran escala</span><span class="sxs-lookup"><span data-stu-id="eb5f4-394">High Scale VM Sizes</span></span>
<span data-ttu-id="eb5f4-395">Al empezar a diseñar una aplicación, una de hello primera cosas toodo es, elija un toohost de máquina virtual de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-395">When you start designing an application, one of hello first things toodo is, choose a VM toohost your application.</span></span> <span data-ttu-id="eb5f4-396">Almacenamiento premium viene con tamaños de máquina virtual a gran escala que pueden ejecutar aplicaciones que requieren una mayor capacidad de proceso y un alto rendimiento de E/S del disco local.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-396">Premium Storage comes with High Scale VM sizes that can run applications requiring higher compute power and a high local disk I/O performance.</span></span> <span data-ttu-id="eb5f4-397">Estas máquinas virtuales proporcionan procesadores más rápidos, una mayor proporción de memoria a núcleo y una unidad de Solid-State (SSD) para el disco local de Hola.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-397">These VMs provide faster processors, a higher memory-to-core ratio, and a Solid-State Drive (SSD) for hello local disk.</span></span> <span data-ttu-id="eb5f4-398">Ejemplos de máquinas virtuales de alta escala admiten almacenamiento Premium son series de DS, DSv2 y GS de hello las máquinas virtuales.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-398">Examples of High Scale VMs supporting Premium Storage are hello DS, DSv2 and GS series VMs.</span></span>

<span data-ttu-id="eb5f4-399">Las máquinas virtuales a gran escala están disponibles en distintos tamaños con un número diferente de núcleos de CPU, memoria, sistema operativo y tamaño del disco temporal.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-399">High Scale VMs are available in different sizes with a different number of CPU cores, memory, OS and temporary disk size.</span></span> <span data-ttu-id="eb5f4-400">Cada tamaño de máquina virtual también tiene el número máximo de discos de datos que puede adjuntar toohello máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-400">Each VM size also has maximum number of data disks that you can attach toohello VM.</span></span> <span data-ttu-id="eb5f4-401">Por lo tanto, tamaño de máquina virtual de hello elegido afectará cuánta capacidad de procesamiento, memoria y almacenamiento está disponible para la aplicación.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-401">Therefore, hello chosen VM size will affect how much processing, memory, and storage capacity is available for your application.</span></span> <span data-ttu-id="eb5f4-402">También afecta al proceso Hola y el costo de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-402">It also affects hello Compute and Storage cost.</span></span> <span data-ttu-id="eb5f4-403">Por ejemplo, a continuación se muestran las especificaciones de Hola de mayor tamaño VM hello en una serie de DS, DSv2 serie y una serie de GS:</span><span class="sxs-lookup"><span data-stu-id="eb5f4-403">For example, below are hello specifications of hello largest VM size in a DS series, DSv2 series and a GS series:</span></span>

| <span data-ttu-id="eb5f4-404">Tamaño de VM</span><span class="sxs-lookup"><span data-stu-id="eb5f4-404">VM size</span></span> | <span data-ttu-id="eb5f4-405">Núcleos de CPU</span><span class="sxs-lookup"><span data-stu-id="eb5f4-405">CPU cores</span></span> | <span data-ttu-id="eb5f4-406">Memoria</span><span class="sxs-lookup"><span data-stu-id="eb5f4-406">Memory</span></span> | <span data-ttu-id="eb5f4-407">Tamaños de disco de VM</span><span class="sxs-lookup"><span data-stu-id="eb5f4-407">VM disk sizes</span></span> | <span data-ttu-id="eb5f4-408">Máx.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-408">Max.</span></span> <span data-ttu-id="eb5f4-409">discos de datos</span><span class="sxs-lookup"><span data-stu-id="eb5f4-409">data disks</span></span> | <span data-ttu-id="eb5f4-410">Tamaño de memoria caché</span><span class="sxs-lookup"><span data-stu-id="eb5f4-410">Cache size</span></span> | <span data-ttu-id="eb5f4-411">E/S</span><span class="sxs-lookup"><span data-stu-id="eb5f4-411">IOPS</span></span> | <span data-ttu-id="eb5f4-412">Límites de E/S de la memoria caché de ancho de banda</span><span class="sxs-lookup"><span data-stu-id="eb5f4-412">Bandwidth Cache IO limits</span></span> |
| --- | --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="eb5f4-413">Standard_DS14</span><span class="sxs-lookup"><span data-stu-id="eb5f4-413">Standard_DS14</span></span> |<span data-ttu-id="eb5f4-414">16</span><span class="sxs-lookup"><span data-stu-id="eb5f4-414">16</span></span> |<span data-ttu-id="eb5f4-415">112 GB</span><span class="sxs-lookup"><span data-stu-id="eb5f4-415">112 GB</span></span> |<span data-ttu-id="eb5f4-416">OS = 1.023 GB </span><span class="sxs-lookup"><span data-stu-id="eb5f4-416">OS = 1023 GB</span></span> <br> <span data-ttu-id="eb5f4-417">SSD Local = 224 GB</span><span class="sxs-lookup"><span data-stu-id="eb5f4-417">Local SSD = 224 GB</span></span> |<span data-ttu-id="eb5f4-418">32</span><span class="sxs-lookup"><span data-stu-id="eb5f4-418">32</span></span> |<span data-ttu-id="eb5f4-419">576 GB</span><span class="sxs-lookup"><span data-stu-id="eb5f4-419">576 GB</span></span> |<span data-ttu-id="eb5f4-420">50.000 E/S por segundo </span><span class="sxs-lookup"><span data-stu-id="eb5f4-420">50,000 IOPS</span></span> <br> <span data-ttu-id="eb5f4-421">512 MB por segundo</span><span class="sxs-lookup"><span data-stu-id="eb5f4-421">512 MB per second</span></span> |<span data-ttu-id="eb5f4-422">4.000 IOPS y 33 MB por segundo</span><span class="sxs-lookup"><span data-stu-id="eb5f4-422">4,000 IOPS and 33 MB per second</span></span> |
| <span data-ttu-id="eb5f4-423">Standard_GS5</span><span class="sxs-lookup"><span data-stu-id="eb5f4-423">Standard_GS5</span></span> |<span data-ttu-id="eb5f4-424">32</span><span class="sxs-lookup"><span data-stu-id="eb5f4-424">32</span></span> |<span data-ttu-id="eb5f4-425">448 GB</span><span class="sxs-lookup"><span data-stu-id="eb5f4-425">448 GB</span></span> |<span data-ttu-id="eb5f4-426">OS = 1.023 GB </span><span class="sxs-lookup"><span data-stu-id="eb5f4-426">OS = 1023 GB</span></span> <br> <span data-ttu-id="eb5f4-427">SSD Local = 896 GB</span><span class="sxs-lookup"><span data-stu-id="eb5f4-427">Local SSD = 896 GB</span></span> |<span data-ttu-id="eb5f4-428">64</span><span class="sxs-lookup"><span data-stu-id="eb5f4-428">64</span></span> |<span data-ttu-id="eb5f4-429">4224 GB</span><span class="sxs-lookup"><span data-stu-id="eb5f4-429">4224 GB</span></span> |<span data-ttu-id="eb5f4-430">80.000 E/S por segundo </span><span class="sxs-lookup"><span data-stu-id="eb5f4-430">80,000 IOPS</span></span> <br> <span data-ttu-id="eb5f4-431">2000 MB por segundo</span><span class="sxs-lookup"><span data-stu-id="eb5f4-431">2,000 MB per second</span></span> |<span data-ttu-id="eb5f4-432">5.000 IOPS y 50 MB por segundo</span><span class="sxs-lookup"><span data-stu-id="eb5f4-432">5,000 IOPS and 50 MB per second</span></span> |

<span data-ttu-id="eb5f4-433">tooview obtener una lista completa de todos los tamaños de máquina virtual de Azure disponibles, consulte demasiado[tamaños de máquina virtual de Windows](../../virtual-machines/windows/sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) o [tamaños de VM de Linux](../../virtual-machines/windows/sizes.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="eb5f4-433">tooview a complete list of all available Azure VM sizes, refer too[Windows VM sizes](../../virtual-machines/windows/sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) or [Linux VM sizes](../../virtual-machines/windows/sizes.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span> <span data-ttu-id="eb5f4-434">Elija un tamaño de memoria virtual que se puede cumplir y escalar los requisitos de rendimiento de aplicaciones de tooyour deseado.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-434">Choose a VM size that can meet and scale tooyour desired application performance requirements.</span></span> <span data-ttu-id="eb5f4-435">Además toothis, tenga en cuenta las siguientes consideraciones importantes cuando se elige tamaños de máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-435">In addition toothis, take into account following important considerations when choosing VM sizes.</span></span>

<span data-ttu-id="eb5f4-436">*Límites de escala*</span><span class="sxs-lookup"><span data-stu-id="eb5f4-436">*Scale Limits*</span></span>  
<span data-ttu-id="eb5f4-437">Hola máximos límites de IOPS por máquina virtual y por disco son diferentes e independientes entre sí.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-437">hello maximum IOPS limits per VM and per disk are different and independent of each other.</span></span> <span data-ttu-id="eb5f4-438">Asegúrese de que la aplicación hello está impulsando IOPS dentro de los límites de Hola de hello VM, así como Hola premium discos conectados tooit.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-438">Make sure that hello application is driving IOPS within hello limits of hello VM as well as hello premium disks attached tooit.</span></span> <span data-ttu-id="eb5f4-439">En caso contrario, el rendimiento de las aplicaciones experimentará una limitación.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-439">Otherwise, application performance will experience throttling.</span></span>

<span data-ttu-id="eb5f4-440">Por ejemplo, suponga que el requisito de la aplicación es un máximo de 4.000 IOPS.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-440">As an example, suppose an application requirement is a maximum of 4,000 IOPS.</span></span> <span data-ttu-id="eb5f4-441">tooachieve, aprovisionar un disco P30 en una máquina virtual de DS1.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-441">tooachieve this, you provision a P30 disk on a DS1 VM.</span></span> <span data-ttu-id="eb5f4-442">disco de Hello P30 puede ofrecer hasta too5, IOPS 000.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-442">hello P30 disk can deliver up too5,000 IOPS.</span></span> <span data-ttu-id="eb5f4-443">Sin embargo, Hola DS1 VM es too3 limitado, 200 e/s por segundo.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-443">However, hello DS1 VM is limited too3,200 IOPS.</span></span> <span data-ttu-id="eb5f4-444">Por lo tanto, límite de la máquina virtual de hello en las 3.200 IOPS restringirá el rendimiento de la aplicación hello y habrá un rendimiento degradado.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-444">Consequently, hello application performance will be constrained by hello VM limit at 3,200 IOPS and there will be degraded performance.</span></span> <span data-ttu-id="eb5f4-445">tooprevent esta situación, elija una máquina virtual y el tamaño que los requisitos de la aplicación cumple de disco.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-445">tooprevent this situation, choose a VM and disk size that will both meet application requirements.</span></span>

<span data-ttu-id="eb5f4-446">*Costo de operación*</span><span class="sxs-lookup"><span data-stu-id="eb5f4-446">*Cost of Operation*</span></span>  
<span data-ttu-id="eb5f4-447">En muchos casos, es posible que el costo general de operación con Almacenamiento premium sea inferior al uso del almacenamiento estándar.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-447">In many cases, it is possible that your overall cost of operation using Premium Storage is lower than using Standard Storage.</span></span>

<span data-ttu-id="eb5f4-448">Por ejemplo, considere una aplicación que requiere más de 16.000 IOPS.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-448">For example, consider an application requiring 16,000 IOPS.</span></span> <span data-ttu-id="eb5f4-449">tooachieve este rendimiento, necesitará un estándar\_D14 IaaS máquina virtual de Azure, que puede permitir que un número máximo de IOPS de 16.000 con 32 discos de 1 TB de almacenamiento estándar.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-449">tooachieve this performance, you will need a Standard\_D14 Azure IaaS VM, which can give a maximum IOPS of 16,000 using 32 standard storage 1TB disks.</span></span> <span data-ttu-id="eb5f4-450">Cada disco de almacenamiento estándar de 1 TB puede alcanzar un máximo de 500 IOPS.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-450">Each 1TB standard storage disk can achieve a maximum of 500 IOPS.</span></span> <span data-ttu-id="eb5f4-451">Hola se calcula el costo de esta máquina virtual al mes será 1,570 $.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-451">hello estimated cost of this VM per month will be $1,570.</span></span> <span data-ttu-id="eb5f4-452">costo mensual de Hola de 32 discos de almacenamiento estándar será 1,638 $.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-452">hello monthly cost of 32 standard storage disks will be $1,638.</span></span> <span data-ttu-id="eb5f4-453">Hola estimado total mensual será 3,208 $.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-453">hello estimated total monthly cost will be $3,208.</span></span>

<span data-ttu-id="eb5f4-454">Sin embargo, si hospeda Hola misma aplicación en almacenamiento Premium, necesitará una VM de menor tamaño y menos de los discos de almacenamiento premium, lo que reduce el costo total de Hola.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-454">However, if you hosted hello same application on Premium Storage, you will need a smaller VM size and fewer premium storage disks, thus reducing hello overall cost.</span></span> <span data-ttu-id="eb5f4-455">Un estándar\_DS13 VM pueda cumplir los requisitos de IOPS de hello 16.000 con cuatro discos P30.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-455">A Standard\_DS13 VM can meet hello 16,000 IOPS requirement using four P30 disks.</span></span> <span data-ttu-id="eb5f4-456">Hola DS13 VM tiene un número máximo de IOPS de 25,600 y cada disco P30 tiene un número máximo de IOPS de 5.000.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-456">hello DS13 VM has a maximum IOPS of 25,600 and each P30 disk has a maximum IOPS of 5,000.</span></span> <span data-ttu-id="eb5f4-457">En general, esta configuración puede lograr 5.000 x 4 = 20.000 IOPS.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-457">Overall, this configuration can achieve 5,000 x 4 = 20,000 IOPS.</span></span> <span data-ttu-id="eb5f4-458">Hola se calcula el costo de esta máquina virtual al mes será 1,003 $.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-458">hello estimated cost of this VM per month will be $1,003.</span></span> <span data-ttu-id="eb5f4-459">costo mensual de Hola de cuatro discos de almacenamiento premium de P30 será 544.34 $.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-459">hello monthly cost of four P30 premium storage disks will be $544.34.</span></span> <span data-ttu-id="eb5f4-460">Hola estimado total mensual será 1,544 $.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-460">hello estimated total monthly cost will be $1,544.</span></span>

<span data-ttu-id="eb5f4-461">Siguiente tabla resume el análisis de costos Hola de este escenario para Standard Edition y almacenamiento Premium.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-461">Table below summarizes hello cost breakdown of this scenario for Standard and Premium Storage.</span></span>

| &nbsp; | <span data-ttu-id="eb5f4-462">**Standard**</span><span class="sxs-lookup"><span data-stu-id="eb5f4-462">**Standard**</span></span> | <span data-ttu-id="eb5f4-463">**Premium**</span><span class="sxs-lookup"><span data-stu-id="eb5f4-463">**Premium**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="eb5f4-464">**Costo de máquina virtual al mes**</span><span class="sxs-lookup"><span data-stu-id="eb5f4-464">**Cost of VM per month**</span></span> |<span data-ttu-id="eb5f4-465">1570,58 USD (Standard\_D14)</span><span class="sxs-lookup"><span data-stu-id="eb5f4-465">$1,570.58 (Standard\_D14)</span></span> |<span data-ttu-id="eb5f4-466">1003,66 USD (Standard\_DS13)</span><span class="sxs-lookup"><span data-stu-id="eb5f4-466">$1,003.66 (Standard\_DS13)</span></span> |
| <span data-ttu-id="eb5f4-467">**Costo de discos al mes**</span><span class="sxs-lookup"><span data-stu-id="eb5f4-467">**Cost of Disks per month**</span></span> |<span data-ttu-id="eb5f4-468">1.638,40 USD (32 discos x 1 TB)</span><span class="sxs-lookup"><span data-stu-id="eb5f4-468">$1,638.40 (32 x 1 TB disks)</span></span> |<span data-ttu-id="eb5f4-469">544,34 USD (4 discos x P30)</span><span class="sxs-lookup"><span data-stu-id="eb5f4-469">$544.34 (4 x P30 disks)</span></span> |
| <span data-ttu-id="eb5f4-470">**Costo total al mes**</span><span class="sxs-lookup"><span data-stu-id="eb5f4-470">**Overall Cost per month**</span></span> |<span data-ttu-id="eb5f4-471">3.208,98 USD</span><span class="sxs-lookup"><span data-stu-id="eb5f4-471">$3,208.98</span></span> |<span data-ttu-id="eb5f4-472">1.544,34 USD </span><span class="sxs-lookup"><span data-stu-id="eb5f4-472">$1,544.34</span></span> |

<span data-ttu-id="eb5f4-473">*Linux Distros*</span><span class="sxs-lookup"><span data-stu-id="eb5f4-473">*Linux Distros*</span></span>  

<span data-ttu-id="eb5f4-474">Con el almacenamiento de Azure Premium, obtendrá Hola mismo nivel de rendimiento para máquinas virtuales que ejecutan Windows y Linux.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-474">With Azure Premium Storage, you get hello same level of Performance for VMs running Windows and Linux.</span></span> <span data-ttu-id="eb5f4-475">Se admiten muchos tipos de distribuciones de Linux, y puede ver la lista completa de hello [aquí](../../virtual-machines/linux/endorsed-distros.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="eb5f4-475">We support many flavors of Linux distros, and you can see hello complete list [here](../../virtual-machines/linux/endorsed-distros.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span> <span data-ttu-id="eb5f4-476">Es importante toonote que diferentes distribuciones son mejores adecuado para los diferentes tipos de cargas de trabajo.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-476">It is important toonote that different distros are better suited for different types of workloads.</span></span> <span data-ttu-id="eb5f4-477">Verá diferentes niveles de rendimiento en función de distribución de Hola en que la carga de trabajo se ejecuta.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-477">You will see different levels of performance depending on hello distro your workload is running on.</span></span> <span data-ttu-id="eb5f4-478">Hola distribuciones de Linux con la aplicación de prueba y elija Hola uno que funciona mejor.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-478">Test hello Linux distros with your application and choose hello one that works best.</span></span>

<span data-ttu-id="eb5f4-479">Cuando se ejecuta Linux con el almacenamiento Premium, comprobar actualizaciones más recientes de hello sobre controladores necesarios tooensure de alto rendimiento.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-479">When running Linux with Premium Storage, check hello latest updates about required drivers tooensure high performance.</span></span>

## <a name="premium-storage-disk-sizes"></a><span data-ttu-id="eb5f4-480">Tamaños de disco de Almacenamiento premium</span><span class="sxs-lookup"><span data-stu-id="eb5f4-480">Premium Storage Disk Sizes</span></span>
<span data-ttu-id="eb5f4-481">Azure Premium Storage ofrece actualmente siete tamaños de disco.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-481">Azure Premium Storage offers seven disk sizes currently.</span></span> <span data-ttu-id="eb5f4-482">Cada tamaño de disco tiene un límite de escala diferente de IOPS, ancho de banda y almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-482">Each disk size has a different scale limit for IOPS, Bandwidth and Storage.</span></span> <span data-ttu-id="eb5f4-483">Elegir tamaño de disco de almacenamiento Premium adecuado de hello según los requisitos de la aplicación hello y tamaño de máquina virtual de gran escala de Hola.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-483">Choose hello right Premium Storage Disk size depending on hello application requirements and hello high scale VM size.</span></span> <span data-ttu-id="eb5f4-484">tabla de Hello siguiente muestra los tamaños de siete discos hello y sus capacidades.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-484">hello table below shows hello seven disks sizes and their capabilities.</span></span> <span data-ttu-id="eb5f4-485">Los tamaños P4 y P6 solo se admiten actualmente para Managed Disks.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-485">P4 and P6 sizes are currently only supported for Managed Disks.</span></span>

| <span data-ttu-id="eb5f4-486">Tipo de discos Premium</span><span class="sxs-lookup"><span data-stu-id="eb5f4-486">Premium Disks Type</span></span>  | <span data-ttu-id="eb5f4-487">P4</span><span class="sxs-lookup"><span data-stu-id="eb5f4-487">P4</span></span>    | <span data-ttu-id="eb5f4-488">P6</span><span class="sxs-lookup"><span data-stu-id="eb5f4-488">P6</span></span>    | <span data-ttu-id="eb5f4-489">P10</span><span class="sxs-lookup"><span data-stu-id="eb5f4-489">P10</span></span>   | <span data-ttu-id="eb5f4-490">P20</span><span class="sxs-lookup"><span data-stu-id="eb5f4-490">P20</span></span>   | <span data-ttu-id="eb5f4-491">P30</span><span class="sxs-lookup"><span data-stu-id="eb5f4-491">P30</span></span>   | <span data-ttu-id="eb5f4-492">P40</span><span class="sxs-lookup"><span data-stu-id="eb5f4-492">P40</span></span>   | <span data-ttu-id="eb5f4-493">P50</span><span class="sxs-lookup"><span data-stu-id="eb5f4-493">P50</span></span>   | 
|---------------------|-------|-------|-------|-------|-------|-------|-------|
| <span data-ttu-id="eb5f4-494">Tamaño del disco</span><span class="sxs-lookup"><span data-stu-id="eb5f4-494">Disk size</span></span>           | <span data-ttu-id="eb5f4-495">32 GB</span><span class="sxs-lookup"><span data-stu-id="eb5f4-495">32 GB</span></span> | <span data-ttu-id="eb5f4-496">64 GB</span><span class="sxs-lookup"><span data-stu-id="eb5f4-496">64 GB</span></span> | <span data-ttu-id="eb5f4-497">128 GB</span><span class="sxs-lookup"><span data-stu-id="eb5f4-497">128 GB</span></span>| <span data-ttu-id="eb5f4-498">512 GB</span><span class="sxs-lookup"><span data-stu-id="eb5f4-498">512 GB</span></span>            | <span data-ttu-id="eb5f4-499">1.024 GB (1 TB)</span><span class="sxs-lookup"><span data-stu-id="eb5f4-499">1024 GB (1 TB)</span></span>    | <span data-ttu-id="eb5f4-500">2048 GB (2 TB)</span><span class="sxs-lookup"><span data-stu-id="eb5f4-500">2048 GB (2 TB)</span></span>    | <span data-ttu-id="eb5f4-501">4095 GB (4 TB)</span><span class="sxs-lookup"><span data-stu-id="eb5f4-501">4095 GB (4 TB)</span></span>    | 
| <span data-ttu-id="eb5f4-502">IOPS por disco</span><span class="sxs-lookup"><span data-stu-id="eb5f4-502">IOPS per disk</span></span>       | <span data-ttu-id="eb5f4-503">120</span><span class="sxs-lookup"><span data-stu-id="eb5f4-503">120</span></span>   | <span data-ttu-id="eb5f4-504">240</span><span class="sxs-lookup"><span data-stu-id="eb5f4-504">240</span></span>   | <span data-ttu-id="eb5f4-505">500</span><span class="sxs-lookup"><span data-stu-id="eb5f4-505">500</span></span>   | <span data-ttu-id="eb5f4-506">2300</span><span class="sxs-lookup"><span data-stu-id="eb5f4-506">2300</span></span>              | <span data-ttu-id="eb5f4-507">5000</span><span class="sxs-lookup"><span data-stu-id="eb5f4-507">5000</span></span>              | <span data-ttu-id="eb5f4-508">7500</span><span class="sxs-lookup"><span data-stu-id="eb5f4-508">7500</span></span>              | <span data-ttu-id="eb5f4-509">7500</span><span class="sxs-lookup"><span data-stu-id="eb5f4-509">7500</span></span>              | 
| <span data-ttu-id="eb5f4-510">Rendimiento de disco</span><span class="sxs-lookup"><span data-stu-id="eb5f4-510">Throughput per disk</span></span> | <span data-ttu-id="eb5f4-511">25 MB por segundo</span><span class="sxs-lookup"><span data-stu-id="eb5f4-511">25 MB per second</span></span>  | <span data-ttu-id="eb5f4-512">50 MB por segundo</span><span class="sxs-lookup"><span data-stu-id="eb5f4-512">50 MB per second</span></span>  | <span data-ttu-id="eb5f4-513">100 MB por segundo</span><span class="sxs-lookup"><span data-stu-id="eb5f4-513">100 MB per second</span></span> | <span data-ttu-id="eb5f4-514">150 MB por segundo</span><span class="sxs-lookup"><span data-stu-id="eb5f4-514">150 MB per second</span></span> | <span data-ttu-id="eb5f4-515">200 MB por segundo</span><span class="sxs-lookup"><span data-stu-id="eb5f4-515">200 MB per second</span></span> | <span data-ttu-id="eb5f4-516">250 MB por segundo</span><span class="sxs-lookup"><span data-stu-id="eb5f4-516">250 MB per second</span></span> | <span data-ttu-id="eb5f4-517">250 MB por segundo</span><span class="sxs-lookup"><span data-stu-id="eb5f4-517">250 MB per second</span></span> | 


<span data-ttu-id="eb5f4-518">El número de discos que elija depende de disco Hola tamaño elegido.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-518">How many disks you choose depends on hello disk size chosen.</span></span> <span data-ttu-id="eb5f4-519">Puede usar un único disco P50 o varios P10 discos toomeet el requisito de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-519">You could use a single P50 disk or multiple P10 disks toomeet your application requirement.</span></span> <span data-ttu-id="eb5f4-520">Tenga en cuenta consideraciones figuran al realizar la elección de Hola.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-520">Take into account considerations listed below when making hello choice.</span></span>

<span data-ttu-id="eb5f4-521">*Límites de escala (IOPS y rendimiento)*</span><span class="sxs-lookup"><span data-stu-id="eb5f4-521">*Scale Limits (IOPS and Throughput)*</span></span>  
<span data-ttu-id="eb5f4-522">límites IOPS y el rendimiento de Hola de cada tamaño de disco Premium es diferente e independientes de los límites de escalado VM de Hola.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-522">hello IOPS and Throughput limits of each Premium disk size is different and independent from hello VM scale limits.</span></span> <span data-ttu-id="eb5f4-523">Asegúrese de Hola IOPS total y el rendimiento de los discos de Hola se eligen dentro de los límites de escala del programa Hola a tamaño de máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-523">Make sure that hello total IOPS and Throughput from hello disks are within scale limits of hello chosen VM size.</span></span>

<span data-ttu-id="eb5f4-524">Por ejemplo, si un requisito de la aplicación es un máximo de 250 MB/s de rendimiento y usa una máquina virtual DS4 con un solo disco P30.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-524">For example, if an application requirement is a maximum of 250 MB/sec Throughput and you are using a DS4 VM with a single P30 disk.</span></span> <span data-ttu-id="eb5f4-525">Hola DS4 VM puede abandonar el rendimiento de MB/s too256.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-525">hello DS4 VM can give up too256 MB/sec Throughput.</span></span> <span data-ttu-id="eb5f4-526">Sin embargo, un solo disco P30 tiene límite de rendimiento de 200 MB por segundo. Por lo tanto, se restringirá aplicación hello en 200 MB/s. debido toohello límite en disco.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-526">However, a single P30 disk has Throughput limit of 200 MB/sec. Consequently, hello application will be constrained at 200 MB/sec due toohello disk limit.</span></span> <span data-ttu-id="eb5f4-527">tooovercome este límite, aprovisionar toohello de discos de datos más de una máquina virtual o cambiar el tamaño de los discos tooP40 o P50.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-527">tooovercome this limit, provision more than one data disks toohello VM or resize your disks tooP40 or P50.</span></span>

> [!NOTE]
> <span data-ttu-id="eb5f4-528">Lecturas atendidas por la memoria caché de hello no se incluyen en el disco Hola IOPS y el rendimiento, por lo tanto, no del firmante toodisk límites.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-528">Reads served by hello cache are not included in hello disk IOPS and Throughput, hence not subject toodisk limits.</span></span> <span data-ttu-id="eb5f4-529">La caché tiene su límite de IOPS y rendimiento independiente de la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-529">Cache has its separate IOPS and Throughput limit per VM.</span></span>
>
> <span data-ttu-id="eb5f4-530">Por ejemplo, inicialmente sus lecturas y escrituras son 60MB/s y 40MB/s respectivamente.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-530">For example, initially your reads and writes are 60MB/sec and 40MB/sec respectively.</span></span> <span data-ttu-id="eb5f4-531">Con el tiempo, caché Hola calienta y sirve cada vez más Hola lecturas de caché de Hola.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-531">Over time, hello cache warms up and serves more and more of hello reads from hello cache.</span></span> <span data-ttu-id="eb5f4-532">A continuación, puede obtener escritura mayor rendimiento de disco de Hola.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-532">Then, you can get higher write Throughput from hello disk.</span></span>
>
>

<span data-ttu-id="eb5f4-533">*Número de discos*</span><span class="sxs-lookup"><span data-stu-id="eb5f4-533">*Number of Disks*</span></span>  
<span data-ttu-id="eb5f4-534">Determinar el número de Hola de discos que se debe al evaluar los requisitos de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-534">Determine hello number of disks you will need by assessing application requirements.</span></span> <span data-ttu-id="eb5f4-535">Cada tamaño de máquina virtual también tiene un límite en número de Hola de discos que puede conectar toohello máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-535">Each VM size also has a limit on hello number of disks that you can attach toohello VM.</span></span> <span data-ttu-id="eb5f4-536">Normalmente, esto es dos veces el Hola número de núcleos.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-536">Typically, this is twice hello number of cores.</span></span> <span data-ttu-id="eb5f4-537">Asegúrese de que Hola tamaño de máquina virtual que elija puede admitir Hola número de discos necesarios.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-537">Ensure that hello VM size you choose can support hello number of disks needed.</span></span>

<span data-ttu-id="eb5f4-538">Recuerde que los discos de almacenamiento Premium Hola tener mayor rendimiento en comparación con las capacidades tooStandard almacenamiento discos.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-538">Remember, hello Premium Storage disks have higher performance capabilities compared tooStandard Storage disks.</span></span> <span data-ttu-id="eb5f4-539">Por lo tanto, si va a migrar la aplicación de la máquina virtual de IaaS de Azure con almacenamiento estándar tooPremium almacenamiento, probablemente, necesitará menos discos premium tooachieve Hola un rendimiento igual o superior para la aplicación.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-539">Therefore, if you are migrating your application from Azure IaaS VM using Standard Storage tooPremium Storage, you will likely need fewer premium disks tooachieve hello same or higher performance for your application.</span></span>

## <a name="disk-caching"></a><span data-ttu-id="eb5f4-540">Almacenamiento en caché de disco</span><span class="sxs-lookup"><span data-stu-id="eb5f4-540">Disk Caching</span></span>
<span data-ttu-id="eb5f4-541">Las máquinas virtuales a gran escala que aprovechan Almacenamiento premium de Azure tienen una tecnología de almacenamiento en caché de niveles múltiples denominada BlobCache.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-541">High Scale VMs that leverage Azure Premium Storage have a multi-tier caching technology called BlobCache.</span></span> <span data-ttu-id="eb5f4-542">BlobCache utiliza una combinación de hello RAM de máquina Virtual y SSD local para almacenar en caché.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-542">BlobCache uses a combination of hello Virtual Machine RAM and local SSD for caching.</span></span> <span data-ttu-id="eb5f4-543">Esta memoria caché está disponible para discos persistentes de almacenamiento Premium de Hola y los discos locales de VM de Hola.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-543">This cache is available for hello Premium Storage persistent disks and hello VM local disks.</span></span> <span data-ttu-id="eb5f4-544">De forma predeterminada, esta configuración de caché se establece tooRead/escritura de discos de sistema operativo y ReadOnly para discos de datos hospedadas en almacenamiento Premium.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-544">By default, this cache setting is set tooRead/Write for OS disks and ReadOnly for data disks hosted on Premium Storage.</span></span> <span data-ttu-id="eb5f4-545">Con disco habilitada la caché en discos de almacenamiento Premium de hello, las máquinas virtuales de gran escala de hello puede lograr muy altos niveles de rendimiento que superan el rendimiento de disco subyacente Hola.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-545">With disk caching enabled on hello Premium Storage disks, hello high scale VMs can achieve extremely high levels of performance that exceed hello underlying disk performance.</span></span>

> [!WARNING]
> <span data-ttu-id="eb5f4-546">Cambiar configuración de la memoria caché de Hola de un disco de Azure se desasocia y vuelve a conecta el disco de destino de Hola.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-546">Changing hello cache setting of an Azure disk detaches and re-attaches hello target disk.</span></span> <span data-ttu-id="eb5f4-547">Si es el disco del sistema operativo de hello, Hola VM se reinicia.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-547">If it is hello operating system disk, hello VM is restarted.</span></span> <span data-ttu-id="eb5f4-548">Detener todas las aplicaciones o servicios que podrían verse afectados por esta interrupción antes de cambiar la configuración de caché de disco de Hola.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-548">Stop all applications/services that might be affected by this disruption before changing hello disk cache setting.</span></span>
>
>

<span data-ttu-id="eb5f4-549">toolearn más información acerca de cómo funciona la BlobCache, consulte toohello dentro de [almacenamiento de Azure Premium](https://azure.microsoft.com/blog/azure-premium-storage-now-generally-available-2/) entrada de blog.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-549">toolearn more about how BlobCache works, refer toohello Inside [Azure Premium Storage](https://azure.microsoft.com/blog/azure-premium-storage-now-generally-available-2/) blog post.</span></span>

<span data-ttu-id="eb5f4-550">Es importante tooenable caché en el conjunto correcto de Hola de discos.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-550">It is important tooenable cache on hello right set of disks.</span></span> <span data-ttu-id="eb5f4-551">Si debe habilitar almacenamiento en caché de disco en un disco de premium o no dependerá de patrón de carga de trabajo de hello ese disco vaya a procesar.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-551">Whether you should enable disk caching on a premium disk or not will depend on hello workload pattern that disk will be handling.</span></span> <span data-ttu-id="eb5f4-552">Tabla siguiente muestra la configuración de caché para discos de datos y de sistema operativo predeterminada de Hola.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-552">Table below shows hello default cache settings for OS and Data disks.</span></span>

| <span data-ttu-id="eb5f4-553">**Tipo de disco**</span><span class="sxs-lookup"><span data-stu-id="eb5f4-553">**Disk Type**</span></span> | <span data-ttu-id="eb5f4-554">**Configuración de la memoria caché predeterminada**</span><span class="sxs-lookup"><span data-stu-id="eb5f4-554">**Default Cache Setting**</span></span> |
| --- | --- |
| <span data-ttu-id="eb5f4-555">Disco del sistema operativo</span><span class="sxs-lookup"><span data-stu-id="eb5f4-555">OS disk</span></span> |<span data-ttu-id="eb5f4-556">ReadWrite</span><span class="sxs-lookup"><span data-stu-id="eb5f4-556">ReadWrite</span></span> |
| <span data-ttu-id="eb5f4-557">Disco de datos</span><span class="sxs-lookup"><span data-stu-id="eb5f4-557">Data disk</span></span> |<span data-ttu-id="eb5f4-558">None</span><span class="sxs-lookup"><span data-stu-id="eb5f4-558">None</span></span> |

<span data-ttu-id="eb5f4-559">A continuación se Hola configuración de la caché de disco recomendado para los discos de datos,</span><span class="sxs-lookup"><span data-stu-id="eb5f4-559">Following are hello recommended disk cache settings for data disks,</span></span>

| <span data-ttu-id="eb5f4-560">**Configuración de almacenamiento en caché de disco**</span><span class="sxs-lookup"><span data-stu-id="eb5f4-560">**Disk Caching Setting**</span></span> | <span data-ttu-id="eb5f4-561">**Recomendación sobre cuándo toouse esta configuración**</span><span class="sxs-lookup"><span data-stu-id="eb5f4-561">**Recommendation on when toouse this setting**</span></span> |
| --- | --- |
| <span data-ttu-id="eb5f4-562">None</span><span class="sxs-lookup"><span data-stu-id="eb5f4-562">None</span></span> |<span data-ttu-id="eb5f4-563">Configure la caché de host como Ninguno para los discos de solo escritura y con escritura intensiva.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-563">Configure host-cache as None for write-only and write-heavy disks.</span></span> |
| <span data-ttu-id="eb5f4-564">ReadOnly</span><span class="sxs-lookup"><span data-stu-id="eb5f4-564">ReadOnly</span></span> |<span data-ttu-id="eb5f4-565">Configure la caché de host como ReadOnly para discos de solo lectura y lectura y escritura.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-565">Configure host-cache as ReadOnly for read-only and read-write disks.</span></span> |
| <span data-ttu-id="eb5f4-566">ReadWrite</span><span class="sxs-lookup"><span data-stu-id="eb5f4-566">ReadWrite</span></span> |<span data-ttu-id="eb5f4-567">Configurar la caché de host ya ReadWrite sólo si la aplicación controla correctamente la escritura en memoria caché de los discos de datos toopersistent cuando sea necesario.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-567">Configure host-cache as ReadWrite only if your application properly  handles writing cached data toopersistent disks when needed.</span></span> |

<span data-ttu-id="eb5f4-568">*ReadOnly*</span><span class="sxs-lookup"><span data-stu-id="eb5f4-568">*ReadOnly*</span></span>  
<span data-ttu-id="eb5f4-569">Mediante la configuración del almacenamiento en caché ReadOnly en discos de datos de Almacenamiento premium, puede lograr una baja latencia de lectura y obtener una IOPS de lectura y un rendimiento de la aplicación muy altos.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-569">By configuring ReadOnly caching on Premium Storage data disks, you can achieve low Read latency and get very high Read IOPS and Throughput for your application.</span></span> <span data-ttu-id="eb5f4-570">Esto se debe a dos razones:</span><span class="sxs-lookup"><span data-stu-id="eb5f4-570">This is due two reasons,</span></span>

1. <span data-ttu-id="eb5f4-571">Lecturas realizadas desde la memoria caché, que está almacenados en memoria VM de Hola y SSD local, son mucho más rápidas que las lecturas de disco de datos de hello, que se encuentra en hello almacenamiento de blobs de Azure.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-571">Reads performed from cache, which is on hello VM memory and local SSD, are much faster than reads from hello data disk, which is on hello Azure blob storage.</span></span>  
2. <span data-ttu-id="eb5f4-572">Almacenamiento Premium no considera Hola lecturas atender las solicitudes de caché, hacia el disco de hello IOPS y el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-572">Premium Storage does not count hello Reads served from cache, towards hello disk IOPS and Throughput.</span></span> <span data-ttu-id="eb5f4-573">Por lo tanto, la aplicación es capaz de tooachieve superior total de e/s por segundo y el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-573">Therefore, your application is able tooachieve higher total IOPS and Throughput.</span></span>

<span data-ttu-id="eb5f4-574">*ReadWrite*</span><span class="sxs-lookup"><span data-stu-id="eb5f4-574">*ReadWrite*</span></span>  
<span data-ttu-id="eb5f4-575">De forma predeterminada, los discos de sistemas operativos de hello tienen habilitada la caché de lectura y escritura.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-575">By default, hello OS disks have ReadWrite caching enabled.</span></span> <span data-ttu-id="eb5f4-576">Recientemente hemos agregado también compatibilidad para el almacenamiento en caché ReadWrite en los discos de datos.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-576">We have recently added support for ReadWrite caching on data disks as well.</span></span> <span data-ttu-id="eb5f4-577">Si usa el almacenamiento en caché de lectura y escritura, debe tener una manera adecuada toowrite Hola de datos de los discos de toopersistent de caché.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-577">If you are using ReadWrite caching, you must have a proper way toowrite hello data from cache toopersistent disks.</span></span> <span data-ttu-id="eb5f4-578">Por ejemplo, identificadores SQL Server escribir en memoria caché los discos de almacenamiento persistente de datos toohello por sí mismo.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-578">For example, SQL Server handles writing cached data toohello persistent storage disks on its own.</span></span> <span data-ttu-id="eb5f4-579">Usar caché de lectura y escritura con una aplicación que no controla Hola de persistencia necesaria datos puede provocar la pérdida de toodata, si se bloquea Hola VM.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-579">Using ReadWrite cache with an application that does not handle persisting hello required data can lead toodata loss, if hello VM crashes.</span></span>

<span data-ttu-id="eb5f4-580">Por ejemplo, puede aplicar estos tooSQL directrices Server con almacenamiento Premium haciendo Hola siguiente,</span><span class="sxs-lookup"><span data-stu-id="eb5f4-580">As an example, you can apply these guidelines tooSQL Server running on Premium Storage by doing hello following,</span></span>

1. <span data-ttu-id="eb5f4-581">Configure la caché "ReadOnly" de los discos de Premium Storage que hospedan archivos de datos.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-581">Configure "ReadOnly" cache on premium storage disks hosting data files.</span></span>  
   <span data-ttu-id="eb5f4-582">a.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-582">a.</span></span>  <span data-ttu-id="eb5f4-583">Hola rápido lecturas de tiempo de consulta de caché inferior Hola SQL Server desde páginas de datos se recuperan mucho más rápidamente de hello caché en comparación con toodirectly de discos de datos de Hola.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-583">hello fast reads from cache lower hello SQL Server query time since data pages are retrieved much faster from hello cache compared toodirectly from hello data disks.</span></span>  
   <span data-ttu-id="eb5f4-584">b.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-584">b.</span></span>  <span data-ttu-id="eb5f4-585">Atender las lecturas de la caché significa que hay un rendimiento adicional de los discos de datos premium.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-585">Serving reads from cache, means there is additional Throughput available from premium data disks.</span></span> <span data-ttu-id="eb5f4-586">SQL Server puede usar este rendimiento adicional para recuperar más páginas de datos y otras operaciones, como copia de seguridad/restauración, cargas por lotes y volver a generar un índice.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-586">SQL Server can use this additional Throughput towards retrieving more data pages and other operations like backup/restore, batch loads, and index rebuilds.</span></span>  
2. <span data-ttu-id="eb5f4-587">Configurar "None" archivos de registro de hospedaje Hola de discos de caché en almacenamiento premium.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-587">Configure "None" cache on premium storage disks hosting hello log files.</span></span>  
   <span data-ttu-id="eb5f4-588">a.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-588">a.</span></span>  <span data-ttu-id="eb5f4-589">Los archivos de registro tienen sobre todo muchas operaciones de escritura.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-589">Log files have primarily write-heavy operations.</span></span> <span data-ttu-id="eb5f4-590">Por lo tanto, no se benefician de hello caché de solo lectura.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-590">Therefore, they do not benefit from hello ReadOnly cache.</span></span>

## <a name="disk-striping"></a><span data-ttu-id="eb5f4-591">Seccionamiento del disco</span><span class="sxs-lookup"><span data-stu-id="eb5f4-591">Disk Striping</span></span>
<span data-ttu-id="eb5f4-592">Cuando puede ser una gran escala que máquina virtual esté conectada con varias premium almacenamiento persistente, discos Hola seccionados juntos tooaggregate sus IOPs, el ancho de banda y la capacidad de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-592">When a high scale VM is attached with several premium storage persistent disks, hello disks can be striped together tooaggregate their IOPs, bandwidth, and storage capacity.</span></span>

<span data-ttu-id="eb5f4-593">En Windows, puede usar discos de espacios de almacenamiento toostripe conjuntamente.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-593">On Windows, you can use Storage Spaces toostripe disks together.</span></span> <span data-ttu-id="eb5f4-594">Debe configurar una columna para cada disco de un grupo.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-594">You must configure one column for each disk in a pool.</span></span> <span data-ttu-id="eb5f4-595">En caso contrario, hello rendimiento total de volumen seccionado puede ser inferior al esperado, debido a toouneven distribución del tráfico en varios discos de Hola.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-595">Otherwise, hello overall performance of striped volume can be lower than expected, due toouneven distribution of traffic across hello disks.</span></span>

<span data-ttu-id="eb5f4-596">Importante: Con la UI del Administrador de servidor, puede establecer Hola número total de columnas de too8 para un volumen seccionado.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-596">Important: Using Server Manager UI, you can set hello total number of columns up too8 for a striped volume.</span></span> <span data-ttu-id="eb5f4-597">Al asociar más de 8 discos, utilice volumen de hello toocreate de PowerShell.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-597">When attaching more than 8 disks, use PowerShell toocreate hello volume.</span></span> <span data-ttu-id="eb5f4-598">Uso de PowerShell, puede establecer a Hola número de columnas toohello igual número de discos.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-598">Using PowerShell, you can set hello number of columns equal toohello number of disks.</span></span> <span data-ttu-id="eb5f4-599">Por ejemplo, si hay 16 discos en un conjunto de bandas único; Especifique 16 columnas en hello *NumberOfColumns* parámetro de hello *New-VirtualDisk* cmdlet de PowerShell.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-599">For example, if there are 16 disks in a single stripe set; specify 16 columns in hello *NumberOfColumns* parameter of hello *New-VirtualDisk* PowerShell cmdlet.</span></span>

<span data-ttu-id="eb5f4-600">En Linux, use discos de hello MDADM utilidad toostripe conjuntamente.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-600">On Linux, use hello MDADM utility toostripe disks together.</span></span> <span data-ttu-id="eb5f4-601">Para obtener pasos detallados para discos de creación de bandas en Linux, consulte demasiado[configurar RAID de Software en Linux](../../virtual-machines/linux/configure-raid.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="eb5f4-601">For detailed steps on striping disks on Linux refer too[Configure Software RAID on Linux](../../virtual-machines/linux/configure-raid.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>

<span data-ttu-id="eb5f4-602">*Tamaño de franja*</span><span class="sxs-lookup"><span data-stu-id="eb5f4-602">*Stripe Size*</span></span>  
<span data-ttu-id="eb5f4-603">Una configuración importante en la creación de bandas en disco es el tamaño de la sección de Hola.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-603">An important configuration in disk striping is hello stripe size.</span></span> <span data-ttu-id="eb5f4-604">tamaño de sección de Hola o el tamaño de bloque es fragmento más pequeño de Hola de datos que pueda direccionar la aplicación en un volumen seccionado.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-604">hello stripe size or block size is hello smallest chunk of data that application can address on a striped volume.</span></span> <span data-ttu-id="eb5f4-605">tamaño de stripe de Hello que configurar depende de tipo hello de aplicación y su patrón de solicitud.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-605">hello stripe size you configure depends on hello type of application and its request pattern.</span></span> <span data-ttu-id="eb5f4-606">Si elige un tamaño de partición incorrecto hello, podría causar desalineación tooIO, lo que conduce toodegraded rendimiento de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-606">If you choose hello wrong stripe size, it could lead tooIO misalignment, which leads toodegraded performance of your application.</span></span>

<span data-ttu-id="eb5f4-607">Por ejemplo, si una solicitud de E/S generada por la aplicación es mayor que el tamaño de bandas de disco de hello, sistema de almacenamiento de hello escribe en bandas los límites de la unidad en más de un disco.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-607">For example, if an IO request generated by your application is bigger than hello disk stripe size, hello storage system writes it across stripe unit boundaries on more than one disk.</span></span> <span data-ttu-id="eb5f4-608">Cuando es tiempo tooaccess esos datos, tendrán tooseek en más de una solicitud de hello toocomplete de stripe unidades.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-608">When it is time tooaccess that data, it will have tooseek across more than one stripe units toocomplete hello request.</span></span> <span data-ttu-id="eb5f4-609">efecto acumulado de Hola de este comportamiento puede provocar una degradación del rendimiento toosubstantial.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-609">hello cumulative effect of such behavior can lead toosubstantial performance degradation.</span></span> <span data-ttu-id="eb5f4-610">En hello en otra parte, si Hola tamaño de la solicitud de E/S es inferior al tamaño de stripe, y si es aleatoria por naturaleza, las solicitudes de E/S de hello pueden sumar en hello mismo disco causando un cuello de botella y degradar el rendimiento de E/S de hello en última instancia.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-610">On hello other hand, if hello IO request size is smaller than stripe size, and if it is random in nature, hello IO requests may add up on hello same disk causing a bottleneck and ultimately degrading hello IO performance.</span></span>

<span data-ttu-id="eb5f4-611">En función del tipo hello de carga de trabajo ejecuta la aplicación, elija un tamaño de stripe adecuado.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-611">Depending on hello type of workload your application is running, choose an appropriate stripe size.</span></span> <span data-ttu-id="eb5f4-612">Para solicitudes de E/S pequeñas aleatorias, use un tamaño de franja más pequeño.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-612">For random small IO requests, use a smaller stripe size.</span></span> <span data-ttu-id="eb5f4-613">Por otra parte, para solicitudes de E/S secuenciales grandes, use un tamaño de franja mayor.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-613">Whereas, for large sequential IO requests use a larger stripe size.</span></span> <span data-ttu-id="eb5f4-614">Averigüe recomendaciones de tamaño de stripe de Hola para aplicación hello que va a ejecutar en almacenamiento Premium.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-614">Find out hello stripe size recommendations for hello application you will be running on Premium Storage.</span></span> <span data-ttu-id="eb5f4-615">Para SQL Server, configure el tamaño de franja de 64 KB para cargas de trabajo OLTP y 256 KB para cargas de trabajo de almacenamiento de datos.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-615">For SQL Server, configure stripe size of 64KB for OLTP workloads and 256KB for data warehousing workloads.</span></span> <span data-ttu-id="eb5f4-616">Vea [prácticas recomendadas de rendimiento para SQL Server en máquinas virtuales de Azure](../../virtual-machines/windows/sql/virtual-machines-windows-sql-performance.md#disks-guidance) toolearn más.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-616">See [Performance best practices for SQL Server on Azure VMs](../../virtual-machines/windows/sql/virtual-machines-windows-sql-performance.md#disks-guidance) toolearn more.</span></span>

> [!NOTE]
> <span data-ttu-id="eb5f4-617">Puede seccionar conjuntamente un máximo de 32 discos de almacenamiento premium en una serie de máquinas virtuales DS y 64 discos de almacenamiento premium en una serie de máquinas virtuales GS.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-617">You can stripe together a maximum of 32 premium storage disks on a DS series VM and 64 premium storage disks on a GS series VM.</span></span>
>
>

## <a name="multi-threading"></a><span data-ttu-id="eb5f4-618">Multithreading</span><span class="sxs-lookup"><span data-stu-id="eb5f4-618">Multi-threading</span></span>
<span data-ttu-id="eb5f4-619">Azure ha diseñado toobe de plataforma de almacenamiento Premium paralelo masivo.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-619">Azure has designed Premium Storage platform toobe massively parallel.</span></span> <span data-ttu-id="eb5f4-620">Por lo tanto, una aplicación multiproceso logra un rendimiento mucho mayor que una aplicación uniproceso.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-620">Therefore, a multi-threaded application achieves much higher performance than a single-threaded application.</span></span> <span data-ttu-id="eb5f4-621">Una aplicación multiproceso sus tareas se divide en varios subprocesos y aumenta la eficacia de su ejecución por hello usando máquinas virtuales y toohello de recursos de disco máximo.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-621">A multi-threaded application splits up its tasks across multiple threads and increases efficiency of its execution by utilizing hello VM and disk resources toohello maximum.</span></span>

<span data-ttu-id="eb5f4-622">Por ejemplo, si la aplicación se ejecuta en un solo núcleo de máquina virtual con dos subprocesos, Hola CPU puede cambiar entre la eficacia de hello dos subprocesos tooachieve.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-622">For example, if your application is running on a single core VM using two threads, hello CPU can switch between hello two threads tooachieve efficiency.</span></span> <span data-ttu-id="eb5f4-623">Mientras un subproceso está esperando un toocomplete de E/S de disco, Hola CPU puede cambiar toohello otro subproceso.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-623">While one thread is waiting on a disk IO toocomplete, hello CPU can switch toohello other thread.</span></span> <span data-ttu-id="eb5f4-624">De esta manera, dos subprocesos pueden lograr más que un único subproceso.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-624">In this way, two threads can accomplish more than a single thread would.</span></span> <span data-ttu-id="eb5f4-625">Si Hola VM tiene más de un núcleo, reduce aún más tiempo de ejecución ya que cada núcleo puede ejecutar tareas en paralelo.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-625">If hello VM has more than one core, it further decreases running time since each core can execute tasks in parallel.</span></span>

<span data-ttu-id="eb5f4-626">Es posible no que forma de hello toochange capaz de una aplicación estándar implementa único subprocesos o multithreading.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-626">You may not be able toochange hello way an off-the-shelf application implements single threading or multi-threading.</span></span> <span data-ttu-id="eb5f4-627">Por ejemplo, SQL Server es capaz de manejar varios núcleos y CPU.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-627">For example, SQL Server is capable of handling multi-CPU and multi-core.</span></span> <span data-ttu-id="eb5f4-628">Sin embargo, SQL Server decide en qué condiciones aprovecharán uno o más subprocesos tooprocess una consulta.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-628">However, SQL Server decides under what conditions it will leverage one or more threads tooprocess a query.</span></span> <span data-ttu-id="eb5f4-629">Puede ejecutar consultas y generar los índices mediante el multi-threading.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-629">It can run queries and build indexes using multi-threading.</span></span> <span data-ttu-id="eb5f4-630">Para una consulta que implica combinar tablas grandes y ordenando los datos antes de devolver el usuario toohello, SQL Server utilizará es probable que varios subprocesos.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-630">For a query that involves joining large tables and sorting data before returning toohello user, SQL Server will likely use multiple threads.</span></span> <span data-ttu-id="eb5f4-631">Sin embargo, un usuario no puede controlar si SQL Server se ejecuta una consulta con un único subproceso o varios subprocesos.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-631">However, a user cannot control whether SQL Server executes a query using a single thread or multiple threads.</span></span>

<span data-ttu-id="eb5f4-632">Hay valores de configuración que puede modificar tooinfluence este subproceso múltiple o en paralelo el procesamiento de una aplicación.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-632">There are configuration settings that you can alter tooinfluence this multi-threading or parallel processing of an application.</span></span> <span data-ttu-id="eb5f4-633">Por ejemplo, en el caso de SQL Server es configuración de grado de paralelismo máxima Hola.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-633">For example, in case of SQL Server it is hello maximum Degree of Parallelism configuration.</span></span> <span data-ttu-id="eb5f4-634">Esta configuración llama MAXDOP, le permite el número máximo de hello tooconfigure de procesadores que se puede usar SQL Server al procesamiento en paralelo.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-634">This setting called MAXDOP, allows you tooconfigure hello maximum number of processors SQL Server can use when parallel processing.</span></span> <span data-ttu-id="eb5f4-635">Puede configurar MAXDOP para consultas individuales u operaciones de índice.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-635">You can configure MAXDOP for individual queries or index operations.</span></span> <span data-ttu-id="eb5f4-636">Esto resulta útil cuando desea toobalance recursos del sistema para una aplicación crítica de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-636">This is beneficial when you want toobalance resources of your system for a performance critical application.</span></span>

<span data-ttu-id="eb5f4-637">Por ejemplo, suponga que su aplicación mediante SQL Server ejecuta una consulta de gran tamaño y una operación de índice en hello mismo tiempo.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-637">For example, say your application using SQL Server is executing a large query and an index operation at hello same time.</span></span> <span data-ttu-id="eb5f4-638">Supongamos que deseaba toobe de operación de índice de hello más rendimiento en comparación con toohello grandes consultas.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-638">Let us assume that you wanted hello index operation toobe more performant compared toohello large query.</span></span> <span data-ttu-id="eb5f4-639">En tal caso, puede establecer el valor MAXDOP de hello toobe de operación de índice mayor que el valor MAXDOP para consulta de Hola Hola.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-639">In such a case, you can set MAXDOP value of hello index operation toobe higher than hello MAXDOP value for hello query.</span></span> <span data-ttu-id="eb5f4-640">De esta manera, SQL Server tenga un mayor número de procesadores que pueden aprovechar para hello índice operación compara toohello número de procesadores puede dedicar toohello consulta de gran tamaño.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-640">This way, SQL Server has more number of processors that it can leverage for hello index operation compared toohello number of processors it can dedicate toohello large query.</span></span> <span data-ttu-id="eb5f4-641">Recuerde que no se controla número Hola de subprocesos que se va a utilizar SQL Server para cada operación.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-641">Remember, you do not control hello number of threads SQL Server will use for each operation.</span></span> <span data-ttu-id="eb5f4-642">Puede controlar Hola número máximo de procesadores que se va a dedicados para multithreading.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-642">You can control hello maximum number of processors being dedicated for multi-threading.</span></span>

<span data-ttu-id="eb5f4-643">Obtenga más información sobre [Grados de paralelismo](https://technet.microsoft.com/library/ms188611.aspx) en SQL Server.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-643">Learn more about [Degrees of Parallelism](https://technet.microsoft.com/library/ms188611.aspx) in SQL Server.</span></span> <span data-ttu-id="eb5f4-644">Averigüe dicha configuración que influyen en los múltiples subprocesos en la aplicación y su rendimiento toooptimize de configuraciones.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-644">Find out such settings that influence multi-threading in your application and their configurations toooptimize performance.</span></span>

## <a name="queue-depth"></a><span data-ttu-id="eb5f4-645">Profundidad de la cola</span><span class="sxs-lookup"><span data-stu-id="eb5f4-645">Queue Depth</span></span>
<span data-ttu-id="eb5f4-646">Hola profundidad de cola o la longitud de cola o tamaño de la cola es el número de Hola de solicitudes de E/S pendientes en el sistema de Hola.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-646">hello Queue Depth or Queue Length or Queue Size is hello number of pending IO requests in hello system.</span></span> <span data-ttu-id="eb5f4-647">valor de Hola de profundidad de cola determina cuántas operaciones de E/S puede alinear la aplicación, los discos de almacenamiento de Hola se van a procesar.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-647">hello value of Queue Depth determines how many IO operations your application can line up, which hello storage disks will be processing.</span></span> <span data-ttu-id="eb5f4-648">Afecta a todos los Hola tres aplicaciones indicadores de rendimiento que se describen en este como artículo, IOPS, rendimiento y latencia.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-648">It affects all hello three application performance indicators that we discussed in this article viz., IOPS, Throughput and Latency.</span></span>

<span data-ttu-id="eb5f4-649">La profundidad de la cola y multi-threading están estrechamente relacionados.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-649">Queue Depth and multi-threading are closely related.</span></span> <span data-ttu-id="eb5f4-650">Hola valor de profundidad de cola indica cuánto subprocesamiento múltiple puede lograrse mediante la aplicación hello.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-650">hello Queue Depth value indicates how much multi-threading can be achieved by hello application.</span></span> <span data-ttu-id="eb5f4-651">Si la profundidad de cola de hello es grande, aplicación pueda ejecutar más operaciones al mismo tiempo, en otras palabras, más los múltiples subprocesos.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-651">If hello Queue Depth is large, application can execute more operations concurrently, in other words, more multi-threading.</span></span> <span data-ttu-id="eb5f4-652">Si Hola profundidad de cola es pequeño, incluso si la aplicación es multiproceso, no tendrá suficientes solicitudes alineados para la ejecución simultánea.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-652">If hello Queue Depth is small, even though application is multi-threaded, it will not have enough requests lined up for concurrent execution.</span></span>

<span data-ttu-id="eb5f4-653">Por lo general, desactivar Hola estante aplicaciones no permiten profundidad de cola de toochange hello, porque si establecido incorrectamente que va a hacer más daño que beneficio.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-653">Typically, off hello shelf applications do not allow you toochange hello queue depth, because if set incorrectly it will do more harm than good.</span></span> <span data-ttu-id="eb5f4-654">Las aplicaciones establecerán el valor de derecho de Hola de cola profundidad tooget Hola obtener un rendimiento óptimo.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-654">Applications will set hello right value of queue depth tooget hello optimal performance.</span></span> <span data-ttu-id="eb5f4-655">Sin embargo, es importante toounderstand este concepto de modo que puede solucionar los problemas de rendimiento de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-655">However, it is important toounderstand this concept so that you can troubleshoot performance issues with your application.</span></span> <span data-ttu-id="eb5f4-656">También puede observar los efectos de Hola de profundidad de cola mediante la ejecución de pruebas comparativas de herramientas en el sistema.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-656">You can also observe hello effects of queue depth by running benchmarking tools on your system.</span></span>

<span data-ttu-id="eb5f4-657">Algunas aplicaciones proporcionan configuración tooinfluence Hola profundidad de cola.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-657">Some applications provide settings tooinfluence hello Queue Depth.</span></span> <span data-ttu-id="eb5f4-658">Por ejemplo, configuración de MAXDOP (grado máximo de paralelismo) de hello en SQL Server se explica en la sección anterior.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-658">For example, hello MAXDOP (maximum degree of parallelism) setting in SQL Server explained in previous section.</span></span> <span data-ttu-id="eb5f4-659">MAXDOP es una profundidad de cola de manera tooinfluence y multithreading, aunque no cambia valor de profundidad de cola de Hola de SQL Server directamente.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-659">MAXDOP is a way tooinfluence Queue Depth and multi-threading, although it does not directly change hello Queue Depth value of SQL Server.</span></span>

<span data-ttu-id="eb5f4-660">*Profundidad de cola alta*</span><span class="sxs-lookup"><span data-stu-id="eb5f4-660">*High Queue Depth*</span></span>  
<span data-ttu-id="eb5f4-661">Una profundidad de cola alta se alinee más operaciones en el disco de Hola.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-661">A high queue depth lines up more operations on hello disk.</span></span> <span data-ttu-id="eb5f4-662">disco de Hello sabe siguiente solicitud de hello en su cola de antemano.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-662">hello disk knows hello next request in its queue ahead of time.</span></span> <span data-ttu-id="eb5f4-663">Por lo tanto, disco de hello puede programar las operaciones de antemano y procesarlos en una secuencia óptimo.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-663">Consequently, hello disk can schedule operations ahead of time and process them in an optimal sequence.</span></span> <span data-ttu-id="eb5f4-664">Puesto que la aplicación hello está enviando más capacidad de disco toohello solicitudes, disco de hello puede procesar más IOs paralelas.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-664">Since hello application is sending more requests toohello disk, hello disk can process more parallel IOs.</span></span> <span data-ttu-id="eb5f4-665">En última instancia, aplicación hello será capaz de tooachieve IOPS superior.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-665">Ultimately, hello application will be able tooachieve higher IOPS.</span></span> <span data-ttu-id="eb5f4-666">Puesto que la aplicación está procesando solicitudes más, hello total de la aplicación hello también aumenta el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-666">Since application is processing more requests, hello total Throughput of hello application also increases.</span></span>

<span data-ttu-id="eb5f4-667">Normalmente, una aplicación puede lograr un rendimiento máximo con 8-16+ E/S pendientes para cada disco conectado.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-667">Typically, an application can achieve maximum Throughput with 8-16+ outstanding IOs per attached disk.</span></span> <span data-ttu-id="eb5f4-668">Si una profundidad de cola es uno, aplicación no se presiona un rendimiento suficiente toohello de sistema de IOs y procesará menos cantidad de en un período determinado.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-668">If a Queue Depth is one, application is not pushing enough IOs toohello system, and it will process less amount of in a given period.</span></span> <span data-ttu-id="eb5f4-669">En otras palabras, menor rendimiento.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-669">In other words, less Throughput.</span></span>

<span data-ttu-id="eb5f4-670">Por ejemplo, en SQL Server, Hola opción MAXDOP valor para una consulta demasiado "4" informa a SQL Server que puede usar una consulta de toofour núcleos tooexecute Hola.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-670">For example, in SQL Server, setting hello MAXDOP value for a query too"4" informs SQL Server that it can use up toofour cores tooexecute hello query.</span></span> <span data-ttu-id="eb5f4-671">SQL Server determinará lo que es mejor cola profundidad hello y el valor de número de núcleos para la ejecución de la consulta de Hola.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-671">SQL Server will determine what is best queue depth value and hello number of cores for hello query execution.</span></span>

<span data-ttu-id="eb5f4-672">*Profundidad de la cola óptima*</span><span class="sxs-lookup"><span data-stu-id="eb5f4-672">*Optimal Queue Depth*</span></span>  
<span data-ttu-id="eb5f4-673">Un valor de profundidad de la cola muy alto también tiene sus inconvenientes.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-673">Very high queue depth value also has its drawbacks.</span></span> <span data-ttu-id="eb5f4-674">Si el valor de profundidad de cola es demasiado alto, la aplicación hello intentará toodrive IOPS muy alto.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-674">If queue depth value is too high, hello application will try toodrive very high IOPS.</span></span> <span data-ttu-id="eb5f4-675">A menos que la aplicación tiene discos persistentes con suficientes IOPS aprovisionada, esto puede afectar negativamente a las latencias de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-675">Unless application has persistent disks with sufficient provisioned IOPS, this can negatively affect application latencies.</span></span> <span data-ttu-id="eb5f4-676">Después de fórmula muestran la relación de hello entre IOPS, latencia y la profundidad de cola.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-676">Following formula shows hello relationship between IOPS, Latency and Queue Depth.</span></span>  
    ![](media/storage-premium-storage-performance/image6.png)

<span data-ttu-id="eb5f4-677">No debe configurar valor de profundidad de cola tooany alto, pero el valor óptimo de tooan, que puede entregar suficientes IOPS para la aplicación hello sin que afecte a las latencias.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-677">You should not configure Queue Depth tooany high value, but tooan optimal value, which can deliver enough IOPS for hello application without affecting latencies.</span></span> <span data-ttu-id="eb5f4-678">Por ejemplo, si la latencia de aplicación Hola necesita toobe 1 milisegundo, Hola profundidad de cola necesaria tooachieve 5.000 e/s por segundo es, PC = 5000 x 0,001 = 5.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-678">For example, if hello application latency needs toobe 1 millisecond, hello Queue Depth required tooachieve 5,000 IOPS is, QD = 5000 x 0.001 = 5.</span></span>

<span data-ttu-id="eb5f4-679">*Profundidad de la cola para un volumen seccionado*</span><span class="sxs-lookup"><span data-stu-id="eb5f4-679">*Queue Depth for Striped Volume*</span></span>  
<span data-ttu-id="eb5f4-680">Para un volumen seccionado, mantenga una profundidad de la cola lo suficientemente alta para que cada disco tenga una profundidad de la cola máxima individual.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-680">For a striped volume, maintain a high enough queue depth such that, every disk has a peak queue depth individually.</span></span> <span data-ttu-id="eb5f4-681">Por ejemplo, considere una aplicación que inserta una profundidad de cola de 2 y hay 4 discos en bandas de Hola.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-681">For example, consider an application that pushes a queue depth of 2 and there are 4 disks in hello stripe.</span></span> <span data-ttu-id="eb5f4-682">dos solicitudes de E/S Hola irá tootwo discos y restantes dos discos estará inactiva.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-682">hello two IO requests will go tootwo disks and remaining two disks will be idle.</span></span> <span data-ttu-id="eb5f4-683">Por lo tanto, configure la profundidad de cola Hola de manera que todos los discos de hello pueden estar ocupados.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-683">Therefore, configure hello queue depth such that all hello disks can be busy.</span></span> <span data-ttu-id="eb5f4-684">Fórmula siguiente muestra cómo toodetermine Hola profundidad de cola de un volumen seccionado.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-684">Formula below shows how toodetermine hello queue depth of striped volumes.</span></span>  
    ![](media/storage-premium-storage-performance/image7.png)

## <a name="throttling"></a><span data-ttu-id="eb5f4-685">Limitaciones</span><span class="sxs-lookup"><span data-stu-id="eb5f4-685">Throttling</span></span>
<span data-ttu-id="eb5f4-686">Disposiciones de almacenamiento Premium de Azure especifica número de IOPS y el rendimiento dependiendo de los tamaños de máquinas virtuales de Hola y tamaños de disco que elija.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-686">Azure Premium Storage provisions specified number of IOPS and Throughput depending on hello VM sizes and disk sizes you choose.</span></span> <span data-ttu-id="eb5f4-687">Cada vez que la aplicación intenta toodrive e/s por segundo o un rendimiento por encima de estos límites de puede controlar qué Hola VM o un disco, se limitará almacenamiento Premium.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-687">Anytime your application tries toodrive IOPS or Throughput above these limits of what hello VM or disk can handle, Premium Storage will throttle it.</span></span> <span data-ttu-id="eb5f4-688">Esto se manifiesta en forma de Hola de reducción del rendimiento de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-688">This manifests in hello form of degraded performance in your application.</span></span> <span data-ttu-id="eb5f4-689">Esto puede significar una latencia mayor, un rendimiento menor o una IOPS menor.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-689">This can mean higher latency, lower Throughput or lower IOPS.</span></span> <span data-ttu-id="eb5f4-690">Si Almacenamiento premium no lo limita, la aplicación podría fallar completamente al exceder lo que sus recursos son capaces de conseguir.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-690">If Premium Storage does not throttle, your application could completely fail by exceeding what its resources are capable of achieving.</span></span> <span data-ttu-id="eb5f4-691">Por lo tanto, los problemas de rendimiento de tooavoid due toothrottling, siempre aprovisionar suficientes recursos para la aplicación.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-691">So, tooavoid performance issues due toothrottling, always provision sufficient resources for your application.</span></span> <span data-ttu-id="eb5f4-692">Tenga en cuenta lo que analizamos en tamaños de máquinas virtuales de Hola y secciones de tamaños de disco anteriores.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-692">Take into consideration what we discussed in hello VM sizes and Disk sizes sections above.</span></span> <span data-ttu-id="eb5f4-693">Pruebas comparativas son Hola mejor manera toofigure qué recursos debe toohost la aplicación.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-693">Benchmarking is hello best way toofigure out what resources you will need toohost your application.</span></span>

## <a name="benchmarking"></a><span data-ttu-id="eb5f4-694">Pruebas comparativas</span><span class="sxs-lookup"><span data-stu-id="eb5f4-694">Benchmarking</span></span>
<span data-ttu-id="eb5f4-695">Pruebas comparativas son el proceso de Hola de simular diferentes cargas de trabajo en la aplicación y medir el rendimiento de la aplicación de Hola para cada carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-695">Benchmarking is hello process of simulating different workloads on your application and measuring hello application performance for each workload.</span></span> <span data-ttu-id="eb5f4-696">Siguiendo los pasos de hello descritos en una sección anterior, que recopile requisitos de rendimiento de aplicaciones de Hola.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-696">Using hello steps described in an earlier section, you have gathered hello application performance requirements.</span></span> <span data-ttu-id="eb5f4-697">Al ejecutar pruebas comparativas herramientas en máquinas virtuales de Hola que hospeda la aplicación hello, puede determinar los niveles de rendimiento de Hola que la aplicación puede lograr con almacenamiento Premium.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-697">By running benchmarking tools on hello VMs hosting hello application, you can determine hello performance levels that your application can achieve with Premium Storage.</span></span> <span data-ttu-id="eb5f4-698">En esta sección se proporcionan ejemplos de pruebas comparativas realizados con una máquina virtual estándar de DS14 aprovisionada con discos de Almacenamiento premium de Azure.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-698">In this section, we provide you examples of benchmarking a Standard DS14 VM provisioned with Azure Premium Storage disks.</span></span>

<span data-ttu-id="eb5f4-699">Hemos usado las herramientas de pruebas comparativas comunes Iometer y FIO, para Windows y Linux respectivamente.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-699">We have used common benchmarking tools Iometer and FIO, for Windows and Linux respectively.</span></span> <span data-ttu-id="eb5f4-700">Estas herramientas generan varios subprocesos simulando una carga de trabajo y rendimiento del sistema de medida Hola de producción.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-700">These tools spawn multiple threads simulating a production like workload, and measure hello system performance.</span></span> <span data-ttu-id="eb5f4-701">Usar herramientas de hello también puede configurar parámetros como profundidad tamaño y la cola del bloque, que normalmente no se puede cambiar de una aplicación.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-701">Using hello tools you can also configure parameters like block size and queue depth, which you normally cannot change for an application.</span></span> <span data-ttu-id="eb5f4-702">Esto le ofrece más flexibilidad toodrive Hola obtener el máximo rendimiento en una máquina virtual proporcionado con discos premium para diferentes tipos de cargas de trabajo de aplicación de gran escala.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-702">This gives you more flexibility toodrive hello maximum performance on a high scale VM provisioned with premium disks for different types of application workloads.</span></span> <span data-ttu-id="eb5f4-703">toolearn sobre cada herramienta de pruebas comparativas, visite [Iometer](http://www.iometer.org/) y [FIO](http://freecode.com/projects/fio).</span><span class="sxs-lookup"><span data-stu-id="eb5f4-703">toolearn more about each benchmarking tool visit [Iometer](http://www.iometer.org/) and [FIO](http://freecode.com/projects/fio).</span></span>

<span data-ttu-id="eb5f4-704">ejemplos de hello toofollow siguientes, cree una VM de DS14 estándar y adjuntar 11 toohello de discos de almacenamiento Premium máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-704">toofollow hello examples below, create a Standard DS14 VM and attach 11 Premium Storage disks toohello VM.</span></span> <span data-ttu-id="eb5f4-705">De los discos de hello 11, configurar 10 discos con almacenamiento en caché como "None" de host y crear bandas de ellos en un volumen denominado NoCacheWrites.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-705">Of hello 11 disks, configure 10 disks with host caching as "None" and stripe them into a volume called NoCacheWrites.</span></span> <span data-ttu-id="eb5f4-706">Configurar almacenamiento en caché como "ReadOnly" en disco restante Hola de host y crear un volumen denominado CacheReads con este disco.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-706">Configure host caching as "ReadOnly" on hello remaining disk and create a volume called CacheReads with this disk.</span></span> <span data-ttu-id="eb5f4-707">Con esta configuración, es posible que pueda toosee Hola de lectura y escritura rendimiento máximo de una máquina virtual de DS14 estándar.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-707">Using this setup, you will be able toosee hello maximum Read and Write performance from a Standard DS14 VM.</span></span> <span data-ttu-id="eb5f4-708">Para obtener pasos detallados acerca de cómo crear una máquina virtual DS14 con discos premium, vaya demasiado[crear y usar un almacenamiento Premium de cuenta para un disco de datos de la máquina virtual](../storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="eb5f4-708">For detailed steps about creating a DS14 VM with premium disks, go too[Create and use a Premium Storage account for a virtual machine data disk](../storage-premium-storage.md).</span></span>

<span data-ttu-id="eb5f4-709">*Preparando Hola caché*</span><span class="sxs-lookup"><span data-stu-id="eb5f4-709">*Warming up hello Cache*</span></span>  
<span data-ttu-id="eb5f4-710">Hola disco con almacenamiento en caché de host de solo lectura va a ser capaz de toogive IOPS mayor que el límite de hello en disco.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-710">hello disk with ReadOnly host caching will be able toogive higher IOPS than hello disk limit.</span></span> <span data-ttu-id="eb5f4-711">tooget este valor máximo rendimiento de las lecturas de caché de host de hello, primero debe caliente caché Hola de este disco.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-711">tooget this maximum read performance from hello host cache, first you must warm up hello cache of this disk.</span></span> <span data-ttu-id="eb5f4-712">Esto garantiza que ese Hola IOs de lectura provoquen qué herramienta de pruebas comparativas en volumen de CacheReads realmente aciertos de caché hello y no el disco de hello directamente.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-712">This ensures that hello Read IOs which benchmarking tool will drive on CacheReads volume actually hits hello cache and not hello disk directly.</span></span> <span data-ttu-id="eb5f4-713">resultado de aciertos de caché de Hello en adicionales de IOPS desde la memoria caché única Hola habilitado disco.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-713">hello cache hits result in additional IOPS from hello single cache enabled disk.</span></span>

> <span data-ttu-id="eb5f4-714">**Importante:**</span><span class="sxs-lookup"><span data-stu-id="eb5f4-714">**Important:**</span></span>  
> <span data-ttu-id="eb5f4-715">Debe calentar la memoria caché de hello antes de ejecutar pruebas comparativas, cada vez que se reinicia la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-715">You must warm up hello cache before running benchmarking, every time VM is rebooted.</span></span>
>
>

#### <a name="iometer"></a><span data-ttu-id="eb5f4-716">Iometer</span><span class="sxs-lookup"><span data-stu-id="eb5f4-716">Iometer</span></span>
<span data-ttu-id="eb5f4-717">[Descargar la herramienta de hello Iometer](http://sourceforge.net/projects/iometer/files/iometer-stable/2006-07-27/iometer-2006.07.27.win32.i386-setup.exe/download) en hello máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-717">[Download hello Iometer tool](http://sourceforge.net/projects/iometer/files/iometer-stable/2006-07-27/iometer-2006.07.27.win32.i386-setup.exe/download) on hello VM.</span></span>

<span data-ttu-id="eb5f4-718">*Archivo de prueba*</span><span class="sxs-lookup"><span data-stu-id="eb5f4-718">*Test file*</span></span>  
<span data-ttu-id="eb5f4-719">Iometer usa un archivo de prueba que se almacena en el volumen de hello en el que se ejecutará Hola pruebas comparativas de prueba.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-719">Iometer uses a test file that is stored on hello volume on which you will run hello benchmarking test.</span></span> <span data-ttu-id="eb5f4-720">Unidades de lecturas y escrituras en el objeto de prueba IOPS del disco de toomeasure Hola de archivo y el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-720">It drives Reads and Writes on this test file toomeasure hello disk IOPS and Throughput.</span></span> <span data-ttu-id="eb5f4-721">Iometer crea este archivo de prueba si no proporcionó ninguno.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-721">Iometer creates this test file if you have not provided one.</span></span> <span data-ttu-id="eb5f4-722">Crear un archivo de prueba de 200GB llamado iobw.tst en volúmenes de hello CacheReads y NoCacheWrites.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-722">Create a 200GB test file called iobw.tst on hello CacheReads and NoCacheWrites volumes.</span></span>

<span data-ttu-id="eb5f4-723">*Especificaciones de acceso*</span><span class="sxs-lookup"><span data-stu-id="eb5f4-723">*Access Specifications*</span></span>  
<span data-ttu-id="eb5f4-724">Hello especificaciones, solicitud de tamaño de E/S, % de lectura/escritura, % aleatorias o secuenciales se configuran con pestaña de "Especificaciones de Access" hello en Iometer.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-724">hello specifications, request IO size, % read/write, % random/sequential are configured using hello "Access Specifications" tab in Iometer.</span></span> <span data-ttu-id="eb5f4-725">Crear una especificación de acceso para cada uno de los escenarios de Hola que se describe a continuación.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-725">Create an access specification for each of hello scenarios described below.</span></span> <span data-ttu-id="eb5f4-726">Crear las especificaciones de acceso de Hola y "Guardar" con un nombre como – RandomWrites\_8K, RandomReads\_8 K.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-726">Create hello access specifications and "Save" with an appropriate name like – RandomWrites\_8K, RandomReads\_8K.</span></span> <span data-ttu-id="eb5f4-727">Seleccionar especificación correspondiente hello cuando ejecute el escenario de prueba de Hola.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-727">Select hello corresponding specification when running hello test scenario.</span></span>

<span data-ttu-id="eb5f4-728">A continuación se muestra un ejemplo de especificaciones de acceso para el escenario de IOPS de escritura máxima: </span><span class="sxs-lookup"><span data-stu-id="eb5f4-728">An example of access specifications for maximum Write IOPS scenario is shown below,</span></span>  
    ![](media/storage-premium-storage-performance/image8.png)

<span data-ttu-id="eb5f4-729">*Especificaciones de prueba de IOPS máxima*</span><span class="sxs-lookup"><span data-stu-id="eb5f4-729">*Maximum IOPS Test Specifications*</span></span>  
<span data-ttu-id="eb5f4-730">toodemonstrate máximo IOPs, utilice el menor tamaño de la solicitud.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-730">toodemonstrate maximum IOPs, use smaller request size.</span></span> <span data-ttu-id="eb5f4-731">Use el tamaño de solicitud de 8K y cree especificaciones de lecturas y escrituras aleatorias.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-731">Use 8K request size and create specifications for Random Writes and Reads.</span></span>

| <span data-ttu-id="eb5f4-732">Especificación de acceso</span><span class="sxs-lookup"><span data-stu-id="eb5f4-732">Access Specification</span></span> | <span data-ttu-id="eb5f4-733">Tamaño de la solicitud</span><span class="sxs-lookup"><span data-stu-id="eb5f4-733">Request size</span></span> | <span data-ttu-id="eb5f4-734">% aleatorio</span><span class="sxs-lookup"><span data-stu-id="eb5f4-734">Random %</span></span> | <span data-ttu-id="eb5f4-735">% lectura</span><span class="sxs-lookup"><span data-stu-id="eb5f4-735">Read %</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="eb5f4-736">RandomWrites\_8K</span><span class="sxs-lookup"><span data-stu-id="eb5f4-736">RandomWrites\_8K</span></span> |<span data-ttu-id="eb5f4-737">8 K</span><span class="sxs-lookup"><span data-stu-id="eb5f4-737">8K</span></span> |<span data-ttu-id="eb5f4-738">100</span><span class="sxs-lookup"><span data-stu-id="eb5f4-738">100</span></span> |<span data-ttu-id="eb5f4-739">0</span><span class="sxs-lookup"><span data-stu-id="eb5f4-739">0</span></span> |
| <span data-ttu-id="eb5f4-740">RandomReads\_8K</span><span class="sxs-lookup"><span data-stu-id="eb5f4-740">RandomReads\_8K</span></span> |<span data-ttu-id="eb5f4-741">8 K</span><span class="sxs-lookup"><span data-stu-id="eb5f4-741">8K</span></span> |<span data-ttu-id="eb5f4-742">100</span><span class="sxs-lookup"><span data-stu-id="eb5f4-742">100</span></span> |<span data-ttu-id="eb5f4-743">100</span><span class="sxs-lookup"><span data-stu-id="eb5f4-743">100</span></span> |

<span data-ttu-id="eb5f4-744">*Especificaciones de prueba de rendimiento máximo*</span><span class="sxs-lookup"><span data-stu-id="eb5f4-744">*Maximum Throughput Test Specifications*</span></span>  
<span data-ttu-id="eb5f4-745">toodemonstrate rendimiento máximo, el tamaño de solicitud de uso.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-745">toodemonstrate maximum Throughput, use larger request size.</span></span> <span data-ttu-id="eb5f4-746">Use el tamaño de la solicitud de 64 KB y cree especificaciones de lecturas y escrituras aleatorias.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-746">Use 64K request size and create specifications for Random Writes and Reads.</span></span>

| <span data-ttu-id="eb5f4-747">Especificación de acceso</span><span class="sxs-lookup"><span data-stu-id="eb5f4-747">Access Specification</span></span> | <span data-ttu-id="eb5f4-748">Tamaño de la solicitud</span><span class="sxs-lookup"><span data-stu-id="eb5f4-748">Request size</span></span> | <span data-ttu-id="eb5f4-749">% aleatorio</span><span class="sxs-lookup"><span data-stu-id="eb5f4-749">Random %</span></span> | <span data-ttu-id="eb5f4-750">% lectura</span><span class="sxs-lookup"><span data-stu-id="eb5f4-750">Read %</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="eb5f4-751">RandomWrites\_64K</span><span class="sxs-lookup"><span data-stu-id="eb5f4-751">RandomWrites\_64K</span></span> |<span data-ttu-id="eb5f4-752">64 K</span><span class="sxs-lookup"><span data-stu-id="eb5f4-752">64K</span></span> |<span data-ttu-id="eb5f4-753">100</span><span class="sxs-lookup"><span data-stu-id="eb5f4-753">100</span></span> |<span data-ttu-id="eb5f4-754">0</span><span class="sxs-lookup"><span data-stu-id="eb5f4-754">0</span></span> |
| <span data-ttu-id="eb5f4-755">RandomReads\_64K</span><span class="sxs-lookup"><span data-stu-id="eb5f4-755">RandomReads\_64K</span></span> |<span data-ttu-id="eb5f4-756">64 K</span><span class="sxs-lookup"><span data-stu-id="eb5f4-756">64K</span></span> |<span data-ttu-id="eb5f4-757">100</span><span class="sxs-lookup"><span data-stu-id="eb5f4-757">100</span></span> |<span data-ttu-id="eb5f4-758">100</span><span class="sxs-lookup"><span data-stu-id="eb5f4-758">100</span></span> |

<span data-ttu-id="eb5f4-759">*Ejecutando prueba Iometer Hola*</span><span class="sxs-lookup"><span data-stu-id="eb5f4-759">*Running hello Iometer Test*</span></span>  
<span data-ttu-id="eb5f4-760">Realizar estos pasos hello toowarm la memoria caché</span><span class="sxs-lookup"><span data-stu-id="eb5f4-760">Perform hello steps below toowarm up cache</span></span>

1. <span data-ttu-id="eb5f4-761">Cree dos especificaciones de acceso con los valores que se muestran a continuación:</span><span class="sxs-lookup"><span data-stu-id="eb5f4-761">Create two access specifications with values shown below,</span></span>

   | <span data-ttu-id="eb5f4-762">Nombre</span><span class="sxs-lookup"><span data-stu-id="eb5f4-762">Name</span></span> | <span data-ttu-id="eb5f4-763">Tamaño de la solicitud</span><span class="sxs-lookup"><span data-stu-id="eb5f4-763">Request size</span></span> | <span data-ttu-id="eb5f4-764">% aleatorio</span><span class="sxs-lookup"><span data-stu-id="eb5f4-764">Random %</span></span> | <span data-ttu-id="eb5f4-765">% lectura</span><span class="sxs-lookup"><span data-stu-id="eb5f4-765">Read %</span></span> |
   | --- | --- | --- | --- |
   | <span data-ttu-id="eb5f4-766">RandomWrites\_1MB</span><span class="sxs-lookup"><span data-stu-id="eb5f4-766">RandomWrites\_1MB</span></span> |<span data-ttu-id="eb5f4-767">1MB</span><span class="sxs-lookup"><span data-stu-id="eb5f4-767">1MB</span></span> |<span data-ttu-id="eb5f4-768">100</span><span class="sxs-lookup"><span data-stu-id="eb5f4-768">100</span></span> |<span data-ttu-id="eb5f4-769">0</span><span class="sxs-lookup"><span data-stu-id="eb5f4-769">0</span></span> |
   | <span data-ttu-id="eb5f4-770">RandomReads\_1MB</span><span class="sxs-lookup"><span data-stu-id="eb5f4-770">RandomReads\_1MB</span></span> |<span data-ttu-id="eb5f4-771">1MB</span><span class="sxs-lookup"><span data-stu-id="eb5f4-771">1MB</span></span> |<span data-ttu-id="eb5f4-772">100</span><span class="sxs-lookup"><span data-stu-id="eb5f4-772">100</span></span> |<span data-ttu-id="eb5f4-773">100</span><span class="sxs-lookup"><span data-stu-id="eb5f4-773">100</span></span> |
2. <span data-ttu-id="eb5f4-774">Ejecutar prueba de Iometer Hola para inicializar el disco de la caché con los siguientes parámetros.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-774">Run hello Iometer test for initializing cache disk with following parameters.</span></span> <span data-ttu-id="eb5f4-775">Utilice tres subprocesos de trabajo para el volumen de destino de hello y una profundidad de cola de 128.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-775">Use three worker threads for hello target volume and a queue depth of 128.</span></span> <span data-ttu-id="eb5f4-776">Establecer Hola "Tiempo de ejecución" duración de hello too2hrs de prueba en la pestaña de "Probar el programa de instalación" Hola.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-776">Set hello "Run time" duration of hello test too2hrs on hello "Test Setup" tab.</span></span>

   | <span data-ttu-id="eb5f4-777">Escenario</span><span class="sxs-lookup"><span data-stu-id="eb5f4-777">Scenario</span></span> | <span data-ttu-id="eb5f4-778">Volumen de destino</span><span class="sxs-lookup"><span data-stu-id="eb5f4-778">Target Volume</span></span> | <span data-ttu-id="eb5f4-779">Nombre</span><span class="sxs-lookup"><span data-stu-id="eb5f4-779">Name</span></span> | <span data-ttu-id="eb5f4-780">Duración</span><span class="sxs-lookup"><span data-stu-id="eb5f4-780">Duration</span></span> |
   | --- | --- | --- | --- |
   | <span data-ttu-id="eb5f4-781">Inicializar caché de disco</span><span class="sxs-lookup"><span data-stu-id="eb5f4-781">Initialize Cache Disk</span></span> |<span data-ttu-id="eb5f4-782">CacheReads</span><span class="sxs-lookup"><span data-stu-id="eb5f4-782">CacheReads</span></span> |<span data-ttu-id="eb5f4-783">RandomWrites\_1MB</span><span class="sxs-lookup"><span data-stu-id="eb5f4-783">RandomWrites\_1MB</span></span> |<span data-ttu-id="eb5f4-784">2 horas</span><span class="sxs-lookup"><span data-stu-id="eb5f4-784">2hrs</span></span> |
3. <span data-ttu-id="eb5f4-785">Ejecutar prueba de Iometer Hola para preparar el disco de la caché con los siguientes parámetros.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-785">Run hello Iometer test for warming up cache disk with following parameters.</span></span> <span data-ttu-id="eb5f4-786">Utilice tres subprocesos de trabajo para el volumen de destino de hello y una profundidad de cola de 128.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-786">Use three worker threads for hello target volume and a queue depth of 128.</span></span> <span data-ttu-id="eb5f4-787">Establecer Hola "Tiempo de ejecución" duración de hello too2hrs de prueba en la pestaña de "Probar el programa de instalación" Hola.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-787">Set hello "Run time" duration of hello test too2hrs on hello "Test Setup" tab.</span></span>

   | <span data-ttu-id="eb5f4-788">Escenario</span><span class="sxs-lookup"><span data-stu-id="eb5f4-788">Scenario</span></span> | <span data-ttu-id="eb5f4-789">Volumen de destino</span><span class="sxs-lookup"><span data-stu-id="eb5f4-789">Target Volume</span></span> | <span data-ttu-id="eb5f4-790">Nombre</span><span class="sxs-lookup"><span data-stu-id="eb5f4-790">Name</span></span> | <span data-ttu-id="eb5f4-791">Duración</span><span class="sxs-lookup"><span data-stu-id="eb5f4-791">Duration</span></span> |
   | --- | --- | --- | --- |
   | <span data-ttu-id="eb5f4-792">Preparación de la caché de disco</span><span class="sxs-lookup"><span data-stu-id="eb5f4-792">Warm up Cache Disk</span></span> |<span data-ttu-id="eb5f4-793">CacheReads</span><span class="sxs-lookup"><span data-stu-id="eb5f4-793">CacheReads</span></span> |<span data-ttu-id="eb5f4-794">RandomReads\_1MB</span><span class="sxs-lookup"><span data-stu-id="eb5f4-794">RandomReads\_1MB</span></span> |<span data-ttu-id="eb5f4-795">2 horas</span><span class="sxs-lookup"><span data-stu-id="eb5f4-795">2hrs</span></span> |

<span data-ttu-id="eb5f4-796">Después de disco de la caché se activa, continúe con los escenarios de prueba de hello enumerados a continuación.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-796">After cache disk is warmed up, proceed with hello test scenarios listed below.</span></span> <span data-ttu-id="eb5f4-797">Hola toorun Iometer prueba, utilice al menos tres subprocesos de trabajo para **cada** volumen de destino.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-797">toorun hello Iometer test, use at least three worker threads for **each** target volume.</span></span> <span data-ttu-id="eb5f4-798">Para cada subproceso de trabajo, seleccione el volumen de destino hello, establecer la profundidad de cola y seleccione una de las especificaciones de prueba Hola guarda, como se muestra en la tabla de Hola a continuación el escenario de prueba de toorun Hola correspondiente.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-798">For each worker thread, select hello target volume, set queue depth and select one of hello saved test specifications, as shown in hello table below, toorun hello corresponding test scenario.</span></span> <span data-ttu-id="eb5f4-799">Hola tabla también muestra resultados esperados para IOPS y el rendimiento al ejecutar estas pruebas.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-799">hello table also shows expected results for IOPS and Throughput when running these tests.</span></span> <span data-ttu-id="eb5f4-800">Para todos los escenarios, se usa un tamaño pequeño de E/S de 8 KB y una profundidad de la cola alta de 128.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-800">For all scenarios, a small IO size of 8KB and a high queue depth of 128 is used.</span></span>

| <span data-ttu-id="eb5f4-801">Escenario de prueba</span><span class="sxs-lookup"><span data-stu-id="eb5f4-801">Test Scenario</span></span> | <span data-ttu-id="eb5f4-802">Volumen de destino</span><span class="sxs-lookup"><span data-stu-id="eb5f4-802">Target Volume</span></span> | <span data-ttu-id="eb5f4-803">Nombre</span><span class="sxs-lookup"><span data-stu-id="eb5f4-803">Name</span></span> | <span data-ttu-id="eb5f4-804">Resultado</span><span class="sxs-lookup"><span data-stu-id="eb5f4-804">Result</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="eb5f4-805">Máx.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-805">Max.</span></span> <span data-ttu-id="eb5f4-806">IOPS de lectura</span><span class="sxs-lookup"><span data-stu-id="eb5f4-806">Read IOPS</span></span> |<span data-ttu-id="eb5f4-807">CacheReads</span><span class="sxs-lookup"><span data-stu-id="eb5f4-807">CacheReads</span></span> |<span data-ttu-id="eb5f4-808">RandomWrites\_8K</span><span class="sxs-lookup"><span data-stu-id="eb5f4-808">RandomWrites\_8K</span></span> |<span data-ttu-id="eb5f4-809">50.000 E/S por segundo </span><span class="sxs-lookup"><span data-stu-id="eb5f4-809">50,000 IOPS</span></span> |
| <span data-ttu-id="eb5f4-810">Máx.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-810">Max.</span></span> <span data-ttu-id="eb5f4-811">IOPS de escritura</span><span class="sxs-lookup"><span data-stu-id="eb5f4-811">Write IOPS</span></span> |<span data-ttu-id="eb5f4-812">NoCacheWrites</span><span class="sxs-lookup"><span data-stu-id="eb5f4-812">NoCacheWrites</span></span> |<span data-ttu-id="eb5f4-813">RandomReads\_8K</span><span class="sxs-lookup"><span data-stu-id="eb5f4-813">RandomReads\_8K</span></span> |<span data-ttu-id="eb5f4-814">64.000 IOPS</span><span class="sxs-lookup"><span data-stu-id="eb5f4-814">64,000 IOPS</span></span> |
| <span data-ttu-id="eb5f4-815">Máx.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-815">Max.</span></span> <span data-ttu-id="eb5f4-816">IOPS combinado</span><span class="sxs-lookup"><span data-stu-id="eb5f4-816">Combined IOPS</span></span> |<span data-ttu-id="eb5f4-817">CacheReads</span><span class="sxs-lookup"><span data-stu-id="eb5f4-817">CacheReads</span></span> |<span data-ttu-id="eb5f4-818">RandomWrites\_8K</span><span class="sxs-lookup"><span data-stu-id="eb5f4-818">RandomWrites\_8K</span></span> |<span data-ttu-id="eb5f4-819">100.000 IOPS</span><span class="sxs-lookup"><span data-stu-id="eb5f4-819">100,000 IOPS</span></span> |
| <span data-ttu-id="eb5f4-820">NoCacheWrites</span><span class="sxs-lookup"><span data-stu-id="eb5f4-820">NoCacheWrites</span></span> |<span data-ttu-id="eb5f4-821">RandomReads\_8K</span><span class="sxs-lookup"><span data-stu-id="eb5f4-821">RandomReads\_8K</span></span> | &nbsp; | &nbsp; |
| <span data-ttu-id="eb5f4-822">Máx.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-822">Max.</span></span> <span data-ttu-id="eb5f4-823">MB/s de lectura</span><span class="sxs-lookup"><span data-stu-id="eb5f4-823">Read MB/sec</span></span> |<span data-ttu-id="eb5f4-824">CacheReads</span><span class="sxs-lookup"><span data-stu-id="eb5f4-824">CacheReads</span></span> |<span data-ttu-id="eb5f4-825">RandomWrites\_64K</span><span class="sxs-lookup"><span data-stu-id="eb5f4-825">RandomWrites\_64K</span></span> |<span data-ttu-id="eb5f4-826">524 MB/s</span><span class="sxs-lookup"><span data-stu-id="eb5f4-826">524 MB/sec</span></span> |
| <span data-ttu-id="eb5f4-827">Máx.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-827">Max.</span></span> <span data-ttu-id="eb5f4-828">Escritura MB/s</span><span class="sxs-lookup"><span data-stu-id="eb5f4-828">Write MB/sec</span></span> |<span data-ttu-id="eb5f4-829">NoCacheWrites</span><span class="sxs-lookup"><span data-stu-id="eb5f4-829">NoCacheWrites</span></span> |<span data-ttu-id="eb5f4-830">RandomReads\_64K</span><span class="sxs-lookup"><span data-stu-id="eb5f4-830">RandomReads\_64K</span></span> |<span data-ttu-id="eb5f4-831">524 MB/s</span><span class="sxs-lookup"><span data-stu-id="eb5f4-831">524 MB/sec</span></span> |
| <span data-ttu-id="eb5f4-832">Combinado MB/s</span><span class="sxs-lookup"><span data-stu-id="eb5f4-832">Combined MB/sec</span></span> |<span data-ttu-id="eb5f4-833">CacheReads</span><span class="sxs-lookup"><span data-stu-id="eb5f4-833">CacheReads</span></span> |<span data-ttu-id="eb5f4-834">RandomWrites\_64K</span><span class="sxs-lookup"><span data-stu-id="eb5f4-834">RandomWrites\_64K</span></span> |<span data-ttu-id="eb5f4-835">1000 MB/s</span><span class="sxs-lookup"><span data-stu-id="eb5f4-835">1000 MB/sec</span></span> |
| <span data-ttu-id="eb5f4-836">NoCacheWrites</span><span class="sxs-lookup"><span data-stu-id="eb5f4-836">NoCacheWrites</span></span> |<span data-ttu-id="eb5f4-837">RandomReads\_64K</span><span class="sxs-lookup"><span data-stu-id="eb5f4-837">RandomReads\_64K</span></span> | &nbsp; | &nbsp; |

<span data-ttu-id="eb5f4-838">A continuación se muestran capturas de pantalla de hello Iometer resultados de pruebas para escenarios combinados de IOPS y el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-838">Below are screenshots of hello Iometer test results for combined IOPS and Throughput scenarios.</span></span>

<span data-ttu-id="eb5f4-839">*IOPS máxima de lectura y escritura combinada*</span><span class="sxs-lookup"><span data-stu-id="eb5f4-839">*Combined Reads and Writes Maximum IOPS*</span></span>  
![](media/storage-premium-storage-performance/image9.png)

<span data-ttu-id="eb5f4-840">*Rendimiento máximo de lectura y escritura combinado*</span><span class="sxs-lookup"><span data-stu-id="eb5f4-840">*Combined Reads and Writes Maximum Throughput*</span></span>  
![](media/storage-premium-storage-performance/image10.png)

### <a name="fio"></a><span data-ttu-id="eb5f4-841">FIO</span><span class="sxs-lookup"><span data-stu-id="eb5f4-841">FIO</span></span>
<span data-ttu-id="eb5f4-842">FIO es una herramienta popular toobenchmark de almacenamiento en hello máquinas virtuales de Linux.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-842">FIO is a popular tool toobenchmark storage on hello Linux VMs.</span></span> <span data-ttu-id="eb5f4-843">Tiene tooselect de flexibilidad de Hola de diferentes tamaños de E/S, lecturas aleatorias o secuenciales y escrituras.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-843">It has hello flexibility tooselect different IO sizes, sequential or random reads and writes.</span></span> <span data-ttu-id="eb5f4-844">Genera subprocesos de trabajo u Hola de procesos tooperform especifica las operaciones de E/S.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-844">It spawns worker threads or processes tooperform hello specified I/O operations.</span></span> <span data-ttu-id="eb5f4-845">Puede especificar tipo de Hola de operaciones de E/S que cada subproceso de trabajo debe realizar al usar archivos de trabajo.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-845">You can specify hello type of I/O operations each worker thread must perform using job files.</span></span> <span data-ttu-id="eb5f4-846">Hemos creado un archivo de trabajo por escenario mostrado en los ejemplos de hello siguientes.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-846">We created one job file per scenario illustrated in hello examples below.</span></span> <span data-ttu-id="eb5f4-847">Puede cambiar las especificaciones de hello en estos trabajos archivos toobenchmark diferentes cargas de trabajo almacenamiento Premium.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-847">You can change hello specifications in these job files toobenchmark different workloads running on Premium Storage.</span></span> <span data-ttu-id="eb5f4-848">En los ejemplos de hello, estamos usando una ejecución de una máquina de 14 DS estándar **Ubuntu**.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-848">In hello examples, we are using a Standard DS 14 VM running **Ubuntu**.</span></span> <span data-ttu-id="eb5f4-849">Hola use el mismo programa de instalación se describe en principio Hola de hello [pruebas comparativas sección](#Benchmarking) y activa la memoria caché de hello antes de ejecutar Hola pruebas comparativas de pruebas.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-849">Use hello same setup described in hello beginning of hello [Benchmarking section](#Benchmarking) and warm up hello cache before running hello benchmarking tests.</span></span>

<span data-ttu-id="eb5f4-850">Antes de comenzar, [descargue FIO](https://github.com/axboe/fio) e instálelo en la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-850">Before you begin, [download FIO](https://github.com/axboe/fio) and install it on your virtual machine.</span></span>

<span data-ttu-id="eb5f4-851">Ejecute hello siguiente comando para Ubuntu,</span><span class="sxs-lookup"><span data-stu-id="eb5f4-851">Run hello following command for Ubuntu,</span></span>

```
apt-get install fio
```

<span data-ttu-id="eb5f4-852">Usaremos cuatro subprocesos de trabajo para controlar las operaciones de escritura y cuatro subprocesos de trabajo para las operaciones de lectura determinante en discos de Hola.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-852">We will use four worker threads for driving Write operations and four worker threads for driving Read operations on hello disks.</span></span> <span data-ttu-id="eb5f4-853">Hello los trabajadores de la escritura se se imponen el tráfico en el volumen nocache"hello", que tiene 10 discos con memoria caché establecida demasiado "None".</span><span class="sxs-lookup"><span data-stu-id="eb5f4-853">hello Write workers will be driving traffic on hello "nocache" volume, which has 10 disks with cache set too"None".</span></span> <span data-ttu-id="eb5f4-854">Hello los trabajadores de la lectura se se imponen el tráfico en volumen de readcache"hello", que tiene 1 disco con la memoria caché demasiado "ReadOnly".</span><span class="sxs-lookup"><span data-stu-id="eb5f4-854">hello Read workers will be driving traffic on hello "readcache" volume, which has 1 disk with cache set too"ReadOnly".</span></span>

<span data-ttu-id="eb5f4-855">*IOPS de escritura máxima*</span><span class="sxs-lookup"><span data-stu-id="eb5f4-855">*Maximum Write IOPS*</span></span>  
<span data-ttu-id="eb5f4-856">Crear archivo de trabajo de hello con tooget de las especificaciones siguientes máximo de IOPS de escritura.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-856">Create hello job file with following specifications tooget maximum Write IOPS.</span></span> <span data-ttu-id="eb5f4-857">Asígnele el nombre "fiowrite.ini".</span><span class="sxs-lookup"><span data-stu-id="eb5f4-857">Name it "fiowrite.ini".</span></span>

```
[global]
size=30g
direct=1
iodepth=256
ioengine=libaio
bs=8k

[writer1]
rw=randwrite
directory=/mnt/nocache
[writer2]
rw=randwrite
directory=/mnt/nocache
[writer3]
rw=randwrite
directory=/mnt/nocache
[writer4]
rw=randwrite
directory=/mnt/nocache
```

<span data-ttu-id="eb5f4-858">Hola Nota siga conceptos clave que hay que estén en consonancia con las instrucciones de diseño de Hola se describe en secciones anteriores.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-858">Note hello follow key things that are in line with hello design guidelines discussed in previous sections.</span></span> <span data-ttu-id="eb5f4-859">Estas especificaciones son esencial toodrive número máximo de IOPS,</span><span class="sxs-lookup"><span data-stu-id="eb5f4-859">These specifications are essential toodrive maximum IOPS,</span></span>  

* <span data-ttu-id="eb5f4-860">Una profundidad de la cola alta de 256.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-860">A high queue depth of 256.</span></span>  
* <span data-ttu-id="eb5f4-861">Un tamaño de bloque pequeño de 8 KB.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-861">A small block size of 8KB.</span></span>  
* <span data-ttu-id="eb5f4-862">Varios subprocesos que realizan escrituras aleatorias.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-862">Multiple threads performing random writes.</span></span>

<span data-ttu-id="eb5f4-863">Ejecute hello después tookick comando desactivar hello FIO de prueba de 30 segundos,</span><span class="sxs-lookup"><span data-stu-id="eb5f4-863">Run hello following command tookick off hello FIO test for 30 seconds,</span></span>  

```
sudo fio --runtime 30 fiowrite.ini
```

<span data-ttu-id="eb5f4-864">Mientras se ejecuta la prueba de hello, será capaz de toosee número de Hola de entrega de los discos de máquina virtual y Premium de Hola IOPS de escritura.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-864">While hello test runs, you will be able toosee hello number of write IOPS hello VM and Premium disks are delivering.</span></span> <span data-ttu-id="eb5f4-865">Como se muestra en el siguiente ejemplo de Hola, hello DS14 VM está proporcionando su límite de IOPS de 50.000 IOPS máxima de escritura.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-865">As shown in hello sample below, hello DS14 VM is delivering its maximum write IOPS limit of 50,000 IOPS.</span></span>  
    ![](media/storage-premium-storage-performance/image11.png)

<span data-ttu-id="eb5f4-866">*IOPS de lectura máxima*</span><span class="sxs-lookup"><span data-stu-id="eb5f4-866">*Maximum Read IOPS*</span></span>  
<span data-ttu-id="eb5f4-867">Crear archivo de trabajo de hello con tooget de las especificaciones siguientes número máximo de IOPS de lectura.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-867">Create hello job file with following specifications tooget maximum Read IOPS.</span></span> <span data-ttu-id="eb5f4-868">Asígnele el nombre "fioread.ini".</span><span class="sxs-lookup"><span data-stu-id="eb5f4-868">Name it "fioread.ini".</span></span>

```
[global]
size=30g
direct=1
iodepth=256
ioengine=libaio
bs=8k

[reader1]
rw=randread
directory=/mnt/readcache
[reader2]
rw=randread
directory=/mnt/readcache
[reader3]
rw=randread
directory=/mnt/readcache
[reader4]
rw=randread
directory=/mnt/readcache
```

<span data-ttu-id="eb5f4-869">Hola Nota siga conceptos clave que hay que estén en consonancia con las instrucciones de diseño de Hola se describe en secciones anteriores.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-869">Note hello follow key things that are in line with hello design guidelines discussed in previous sections.</span></span> <span data-ttu-id="eb5f4-870">Estas especificaciones son esencial toodrive número máximo de IOPS,</span><span class="sxs-lookup"><span data-stu-id="eb5f4-870">These specifications are essential toodrive maximum IOPS,</span></span>

* <span data-ttu-id="eb5f4-871">Una profundidad de la cola alta de 256.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-871">A high queue depth of 256.</span></span>  
* <span data-ttu-id="eb5f4-872">Un tamaño de bloque pequeño de 8 KB.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-872">A small block size of 8KB.</span></span>  
* <span data-ttu-id="eb5f4-873">Varios subprocesos que realizan escrituras aleatorias.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-873">Multiple threads performing random writes.</span></span>

<span data-ttu-id="eb5f4-874">Ejecute hello después tookick comando desactivar hello FIO de prueba de 30 segundos,</span><span class="sxs-lookup"><span data-stu-id="eb5f4-874">Run hello following command tookick off hello FIO test for 30 seconds,</span></span>

```
sudo fio --runtime 30 fioread.ini
```

<span data-ttu-id="eb5f4-875">Mientras se ejecuta la prueba de hello, usted será el número de hello toosee capaz de lectura de e/s por segundo de hello VM y discos Premium se entrega.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-875">While hello test runs, you will be able toosee hello number of read IOPS hello VM and Premium disks are delivering.</span></span> <span data-ttu-id="eb5f4-876">Como se muestra en el siguiente ejemplo de Hola, hello DS14 VM está proporcionando 64.000 más de IOPS de lectura.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-876">As shown in hello sample below, hello DS14 VM is delivering more than 64,000 Read IOPS.</span></span> <span data-ttu-id="eb5f4-877">Se trata de una combinación de disco de Hola y el rendimiento de la caché de Hola.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-877">This is a combination of hello disk and hello cache performance.</span></span>  
    ![](media/storage-premium-storage-performance/image12.png)

<span data-ttu-id="eb5f4-878">*IOPS de lectura y escritura máxima*</span><span class="sxs-lookup"><span data-stu-id="eb5f4-878">*Maximum Read and Write IOPS*</span></span>  
<span data-ttu-id="eb5f4-879">Crear archivo de trabajo de hello con siguiente tooget especificaciones máximo combinado de lectura y escritura de e/s por segundo.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-879">Create hello job file with following specifications tooget maximum combined Read and Write IOPS.</span></span> <span data-ttu-id="eb5f4-880">Asígnele el nombre "fioreadwrite.ini".</span><span class="sxs-lookup"><span data-stu-id="eb5f4-880">Name it "fioreadwrite.ini".</span></span>

```
[global]
size=30g
direct=1
iodepth=128
ioengine=libaio
bs=4k

[reader1]
rw=randread
directory=/mnt/readcache
[reader2]
rw=randread
directory=/mnt/readcache
[reader3]
rw=randread
directory=/mnt/readcache
[reader4]
rw=randread
directory=/mnt/readcache

[writer1]
rw=randwrite
directory=/mnt/nocache
rate_iops=12500
[writer2]
rw=randwrite
directory=/mnt/nocache
rate_iops=12500
[writer3]
rw=randwrite
directory=/mnt/nocache
rate_iops=12500
[writer4]
rw=randwrite
directory=/mnt/nocache
rate_iops=12500
```

<span data-ttu-id="eb5f4-881">Hola Nota siga conceptos clave que hay que estén en consonancia con las instrucciones de diseño de Hola se describe en secciones anteriores.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-881">Note hello follow key things that are in line with hello design guidelines discussed in previous sections.</span></span> <span data-ttu-id="eb5f4-882">Estas especificaciones son esencial toodrive número máximo de IOPS,</span><span class="sxs-lookup"><span data-stu-id="eb5f4-882">These specifications are essential toodrive maximum IOPS,</span></span>

* <span data-ttu-id="eb5f4-883">Una profundidad de la cola alta de 128.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-883">A high queue depth of 128.</span></span>  
* <span data-ttu-id="eb5f4-884">Un tamaño de bloque pequeño de 4 KB.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-884">A small block size of 4KB.</span></span>  
* <span data-ttu-id="eb5f4-885">Varios subprocesos que realizan lecturas y escrituras aleatorias.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-885">Multiple threads performing random reads and writes.</span></span>

<span data-ttu-id="eb5f4-886">Ejecute hello después tookick comando desactivar hello FIO de prueba de 30 segundos,</span><span class="sxs-lookup"><span data-stu-id="eb5f4-886">Run hello following command tookick off hello FIO test for 30 seconds,</span></span>

```
sudo fio --runtime 30 fioreadwrite.ini
```

<span data-ttu-id="eb5f4-887">Mientras se ejecuta la prueba de hello, se ser capaz de toosee Hola número de lectura combinado y IOPS de escritura Hola VM y entrega los discos Premium.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-887">While hello test runs, you will be able toosee hello number of combined read and write IOPS hello VM and Premium disks are delivering.</span></span> <span data-ttu-id="eb5f4-888">Tal y como se muestra en el siguiente ejemplo de Hola, hello DS14 VM ofrece más de 100.000 lectura combinado e IOPS de escritura.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-888">As shown in hello sample below, hello DS14 VM is delivering more than 100,000 combined Read and Write IOPS.</span></span> <span data-ttu-id="eb5f4-889">Se trata de una combinación de disco de Hola y el rendimiento de la caché de Hola.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-889">This is a combination of hello disk and hello cache performance.</span></span>  
    ![](media/storage-premium-storage-performance/image13.png)

<span data-ttu-id="eb5f4-890">*Rendimiento máximo combinado*</span><span class="sxs-lookup"><span data-stu-id="eb5f4-890">*Maximum Combined Throughput*</span></span>  
<span data-ttu-id="eb5f4-891">Hola tooget máximo combina lectura y la velocidad de escritura, use un tamaño de bloque mayor y la profundidad de cola grande con varios subprocesos realizar lecturas y escrituras.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-891">tooget hello maximum combined Read and Write Throughput, use a larger block size and large queue depth with multiple threads performing reads and writes.</span></span> <span data-ttu-id="eb5f4-892">Puede usar un tamaño de bloque de 64 KB y una profundidad de la cola de 128.</span><span class="sxs-lookup"><span data-stu-id="eb5f4-892">You can use a block size of 64KB and queue depth of 128.</span></span>

## <a name="next-steps"></a><span data-ttu-id="eb5f4-893">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="eb5f4-893">Next Steps</span></span>
<span data-ttu-id="eb5f4-894">Más información sobre Almacenamiento premium de Azure:</span><span class="sxs-lookup"><span data-stu-id="eb5f4-894">Learn more about Azure Premium Storage:</span></span>

* [<span data-ttu-id="eb5f4-895">Almacenamiento premium: Almacenamiento de alto rendimiento para cargas de trabajo de máquina virtual de Azure</span><span class="sxs-lookup"><span data-stu-id="eb5f4-895">Premium Storage: High-Performance Storage for Azure Virtual Machine Workloads</span></span>](../storage-premium-storage.md)  

<span data-ttu-id="eb5f4-896">Para los usuarios de SQL Server, lea artículos sobre procedimientos recomendados para SQL Server:</span><span class="sxs-lookup"><span data-stu-id="eb5f4-896">For SQL Server users, read articles on Performance Best Practices for SQL Server:</span></span>

* [<span data-ttu-id="eb5f4-897">Procedimientos recomendados para SQL Server en Máquinas virtuales de Azure</span><span class="sxs-lookup"><span data-stu-id="eb5f4-897">Performance Best Practices for SQL Server in Azure Virtual Machines</span></span>](../../virtual-machines/windows/sql/virtual-machines-windows-sql-performance.md)
* [<span data-ttu-id="eb5f4-898">Almacenamiento premium de Azure proporciona el máximo rendimiento para SQL Server en una máquina virtual de Azure</span><span class="sxs-lookup"><span data-stu-id="eb5f4-898">Azure Premium Storage provides highest performance for SQL Server in Azure VM</span></span>](http://blogs.technet.com/b/dataplatforminsider/archive/2015/04/23/azure-premium-storage-provides-highest-performance-for-sql-server-in-azure-vm.aspx)
