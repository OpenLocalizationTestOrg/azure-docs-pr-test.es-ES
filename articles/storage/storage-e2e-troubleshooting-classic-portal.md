---
title: "aaaTroubleshooting almacenamiento de Azure con diagnósticos y analizador de mensajes | Documentos de Microsoft"
description: "Tutorial en el que se explica cómo solucionar problemas totalmente por medio del análisis de Almacenamiento de Azure, AzCopy y el analizador de mensajes de Microsoft."
services: storage
documentationcenter: dotnet
author: robinsh
manager: timlt
ms.assetid: 6b23cba5-0d53-439e-870b-de8e406107d8
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 01/23/2017
ms.author: robinsh
ms.openlocfilehash: 74ee126bab30b9a45f4904a065b6fe3006f76101
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="end-to-end-troubleshooting-using-azure-storage-metrics-and-logging-azcopy-and-message-analyzer"></a><span data-ttu-id="d4e5c-103">Solución integral de problemas mediante los registros y las métricas de Azure Storage, AzCopy y el analizador de mensajes</span><span class="sxs-lookup"><span data-stu-id="d4e5c-103">End-to-End Troubleshooting using Azure Storage metrics and logging, AzCopy, and Message Analyzer</span></span>
[!INCLUDE [storage-selector-portal-e2e-troubleshooting](../../includes/storage-selector-portal-e2e-troubleshooting.md)]

## <a name="overview"></a><span data-ttu-id="d4e5c-104">Información general</span><span class="sxs-lookup"><span data-stu-id="d4e5c-104">Overview</span></span>
<span data-ttu-id="d4e5c-105">Poder diagnosticar y solucionar problemas es una habilidad clave a la hora de crear y mantener aplicaciones de cliente con el servicio Almacenamiento de Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-105">Diagnosing and troubleshooting is a key skill for building and supporting client applications with Microsoft Azure Storage.</span></span> <span data-ttu-id="d4e5c-106">Debido a la naturaleza toohello distribuida de una aplicación de Azure, diagnosticar y solucionar problemas de rendimiento y errores pueden ser más complejos que en los entornos tradicionales.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-106">Due toohello distributed nature of an Azure application, diagnosing and troubleshooting errors and performance issues may be more complex than in traditional environments.</span></span>

<span data-ttu-id="d4e5c-107">En este tutorial, demostraremos cómo tooidentify cliente algunos errores que pueden afectar al rendimiento y solucionar los errores de principio a fin mediante las herramientas proporcionadas por Microsoft y el almacenamiento de Azure, en aplicación de cliente de orden toooptimize Hola.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-107">In this tutorial, we will demonstrate how tooidentify client certain errors that may affect performance, and troubleshoot those errors from end-to-end using tools provided by Microsoft and Azure Storage, in order toooptimize hello client application.</span></span>

<span data-ttu-id="d4e5c-108">Aquí encontrará un análisis práctico de un escenario de solución integral de problemas.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-108">This tutorial provides a hands-on exploration of an end-to-end troubleshooting scenario.</span></span> <span data-ttu-id="d4e5c-109">Para una aplicación de almacenamiento de Azure de tootroubleshooting guía conceptual detallada, vea [supervisar, diagnosticar y solucionar problemas de almacenamiento de Microsoft Azure](storage-monitoring-diagnosing-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="d4e5c-109">For an in-depth conceptual guide tootroubleshooting Azure storage applications, see [Monitor, diagnose, and troubleshoot Microsoft Azure Storage](storage-monitoring-diagnosing-troubleshooting.md).</span></span>

## <a name="tools-for-troubleshooting-azure-storage-applications"></a><span data-ttu-id="d4e5c-110">Herramientas para solucionar problemas de aplicaciones de Almacenamiento de Azure</span><span class="sxs-lookup"><span data-stu-id="d4e5c-110">Tools for troubleshooting Azure Storage applications</span></span>
<span data-ttu-id="d4e5c-111">las aplicaciones cliente de tootroubleshoot con almacenamiento de Microsoft Azure, puede usar una combinación de herramientas toodetermine cuando se ha producido un problema y qué causa Hola de problema de hello puede ser.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-111">tootroubleshoot client applications using Microsoft Azure Storage, you can use a combination of tools toodetermine when an issue has occurred and what hello cause of hello problem may be.</span></span> <span data-ttu-id="d4e5c-112">Estas herramientas son:</span><span class="sxs-lookup"><span data-stu-id="d4e5c-112">These tools include:</span></span>

* <span data-ttu-id="d4e5c-113">**Análisis de almacenamiento de Azure**.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-113">**Azure Storage Analytics**.</span></span> <span data-ttu-id="d4e5c-114">[Análisis de almacenamiento de Azure](http://msdn.microsoft.com/library/azure/hh343270.aspx) proporciona las métricas y registros del servicio Almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-114">[Azure Storage Analytics](http://msdn.microsoft.com/library/azure/hh343270.aspx) provides metrics and logging for Azure Storage.</span></span>

  * <span data-ttu-id="d4e5c-115">**métricas de almacenamiento** realizan un seguimiento de las métricas de transacciones y de capacidad relativas a la cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-115">**Storage metrics** tracks transaction metrics and capacity metrics for your storage account.</span></span> <span data-ttu-id="d4e5c-116">Usar las métricas, puede determinar el rendimiento de la aplicación correspondiente tooa diversas medidas distintas.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-116">Using metrics, you can determine how your application is performing according tooa variety of different measures.</span></span> <span data-ttu-id="d4e5c-117">Vea [esquema de tabla de métricas de análisis de almacenamiento](http://msdn.microsoft.com/library/azure/hh343264.aspx) para obtener más información acerca de los tipos de Hola de métricas que se hace un seguimiento mediante el análisis de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-117">See [Storage Analytics Metrics Table Schema](http://msdn.microsoft.com/library/azure/hh343264.aspx) for more information about hello types of metrics tracked by Storage Analytics.</span></span>
  * <span data-ttu-id="d4e5c-118">**El registro de almacenamiento** registra cada registro de solicitudes de toohello el almacenamiento de Azure servicios tooa en el servidor.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-118">**Storage logging** logs each request toohello Azure Storage services tooa server-side log.</span></span> <span data-ttu-id="d4e5c-119">Hola registro pistas datos detallados de cada solicitud, incluidos la operación de hello realizadas, estado de Hola de operación de Hola y obtener información de latencia.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-119">hello log tracks detailed data for each request, including hello operation performed, hello status of hello operation, and latency information.</span></span> <span data-ttu-id="d4e5c-120">Vea [formato de registro de análisis de almacenamiento](http://msdn.microsoft.com/library/azure/hh343259.aspx) para obtener más información sobre los datos de solicitud y respuesta de Hola que se escriben los registros de toohello análisis de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-120">See [Storage Analytics Log Format](http://msdn.microsoft.com/library/azure/hh343259.aspx) for more information about hello request and response data that is written toohello logs by Storage Analytics.</span></span>

> [!NOTE]
> <span data-ttu-id="d4e5c-121">Cuentas de almacenamiento con un tipo de replicación de almacenamiento con redundancia de zona (ZRS) no tiene las métricas de Hola o capacidad de registro habilitada en este momento.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-121">Storage accounts with a replication type of Zone-Redundant Storage (ZRS) do not have hello metrics or logging capability enabled at this time.</span></span>
>
>

* <span data-ttu-id="d4e5c-122">**Portal de Azure clásico**.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-122">**Azure Classic Portal**.</span></span> <span data-ttu-id="d4e5c-123">Puede configurar las métricas y registro de la cuenta de almacenamiento en hello [Portal clásico de Azure](https://manage.windowsazure.com).</span><span class="sxs-lookup"><span data-stu-id="d4e5c-123">You can configure metrics and logging for your storage account in hello [Azure Classic Portal](https://manage.windowsazure.com).</span></span> <span data-ttu-id="d4e5c-124">También puede ver diagramas y gráficos que muestran el rendimiento de la aplicación con el tiempo y configurar toonotify alertas que si la aplicación funciona de manera diferente que esperaba de una métrica especificada.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-124">You can also view charts and graphs that show how your application is performing over time, and configure alerts toonotify you if your application performs differently than expected for a specified metric.</span></span>

    <span data-ttu-id="d4e5c-125">Vea [supervisar una cuenta de almacenamiento en el Portal de Azure hello](storage-monitor-storage-account.md) para obtener información acerca de cómo configurar la supervisión en hello Portal clásico de Azure.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-125">See [Monitor a storage account in hello Azure Portal](storage-monitor-storage-account.md) for information about configuring monitoring in hello Azure Classic Portal.</span></span>
* <span data-ttu-id="d4e5c-126">**AzCopy**.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-126">**AzCopy**.</span></span> <span data-ttu-id="d4e5c-127">Registros del servidor para el almacenamiento de Azure se almacenan como blobs, por lo que puede usar directorio local del tooa de blobs de AzCopy toocopy Hola registro para el análisis mediante el analizador de mensajes de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-127">Server logs for Azure Storage are stored as blobs, so you can use AzCopy toocopy hello log blobs tooa local directory for analysis using Microsoft Message Analyzer.</span></span> <span data-ttu-id="d4e5c-128">Vea [transferir datos con la utilidad de línea de comandos de AzCopy hello](storage-use-azcopy.md) para obtener más información acerca de AzCopy.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-128">See [Transfer data with hello AzCopy Command-Line Utility](storage-use-azcopy.md) for more information about AzCopy.</span></span>
* <span data-ttu-id="d4e5c-129">**Analizador de mensajes de Microsoft**.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-129">**Microsoft Message Analyzer**.</span></span> <span data-ttu-id="d4e5c-130">Analizador de mensajes es una herramienta que consume los archivos de registro y muestra los datos de registro en un formato visual que resulta fácil toofilter, búsqueda y registrar los datos en conjuntos útiles que puede usar tooanalyze errores y problemas de rendimiento de grupo.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-130">Message Analyzer is a tool that consumes log files and displays log data in a visual format that makes it easy toofilter, search, and group log data into useful sets that you can use tooanalyze errors and performance issues.</span></span> <span data-ttu-id="d4e5c-131">Vea la [Guía de funcionamiento del analizador de mensajes de Microsoft](http://technet.microsoft.com/library/jj649776.aspx) para más información sobre el analizador de mensajes.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-131">See [Microsoft Message Analyzer Operating Guide](http://technet.microsoft.com/library/jj649776.aspx) for more information about Message Analyzer.</span></span>

## <a name="about-hello-sample-scenario"></a><span data-ttu-id="d4e5c-132">Acerca de escenario de ejemplo de Hola</span><span class="sxs-lookup"><span data-stu-id="d4e5c-132">About hello sample scenario</span></span>
<span data-ttu-id="d4e5c-133">Para este tutorial, analizaremos un escenario donde las métricas de Almacenamiento de Azure indican una tasa de éxito de bajo porcentaje de una aplicación que llama a Almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-133">For this tutorial, we'll examine a scenario where Azure Storage metrics indicates a low percent success rate for an application that calls Azure storage.</span></span> <span data-ttu-id="d4e5c-134">Hola métrica de velocidad de porcentaje de operaciones correctas baja (se muestra como **PercentSuccess** en hello Portal clásico de Azure y en tablas de métricas de hello) realiza un seguimiento de las operaciones que se realice correctamente, pero que devuelven un código de estado HTTP es mayor que 299.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-134">hello low percent success rate metric (shown as **PercentSuccess** in hello Azure Classic Portal and in hello metrics tables) tracks operations that succeed, but that return an HTTP status code that is greater than 299.</span></span> <span data-ttu-id="d4e5c-135">En archivos de registro de almacenamiento de servidor de hello, estas operaciones se registran con un estado de transacción **ClientOtherErrors**.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-135">In hello server-side storage log files, these operations are recorded with a transaction status of **ClientOtherErrors**.</span></span> <span data-ttu-id="d4e5c-136">Para obtener más información acerca de la métrica de éxito de porcentaje bajo de hello, consulte [métricas muestran PercentSuccess baja o las entradas del registro de análisis tienen operaciones con el estado de transacción de ClientOtherErrors](storage-monitoring-diagnosing-troubleshooting.md#metrics-show-low-percent-success).</span><span class="sxs-lookup"><span data-stu-id="d4e5c-136">For more details about hello low percent success metric, see [Metrics show low PercentSuccess or analytics log entries have operations with transaction status of ClientOtherErrors](storage-monitoring-diagnosing-troubleshooting.md#metrics-show-low-percent-success).</span></span>

<span data-ttu-id="d4e5c-137">Como parte de su funcionalidad habitual, es posible que las operaciones de Almacenamiento de Azure devuelvan códigos de estado HTTP mayores que 299.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-137">Azure Storage operations may return HTTP status codes greater than 299 as part of their normal functionality.</span></span> <span data-ttu-id="d4e5c-138">Pero estos errores en algunos casos indican que es posible que pueda toooptimize la aplicación de cliente para un rendimiento mejorado.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-138">But these errors in some cases indicate that you may be able toooptimize your client application for improved performance.</span></span>

<span data-ttu-id="d4e5c-139">En este escenario, utilizaremos un toobe de tasa de éxito de porcentaje bajo nada inferiores al 100%.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-139">In this scenario, we'll consider a low percent success rate toobe anything below 100%.</span></span> <span data-ttu-id="d4e5c-140">Puede elegir un nivel métrico diferentes, sin embargo, según las necesidades de tooyour.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-140">You can choose a different metric level, however, according tooyour needs.</span></span> <span data-ttu-id="d4e5c-141">Le recomendamos que, mientras esté probando la aplicación, establezca una tolerancia de línea de base de las métricas de rendimiento clave.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-141">We recommend that during testing of your application, you establish a baseline tolerance for your key performance metrics.</span></span> <span data-ttu-id="d4e5c-142">Según las pruebas que haga, puede establecer que la aplicación tenga una tasa de porcentaje de éxito constante de, por ejemplo, un 90% o de un 85%.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-142">For example, you might determine, based on testing, that your application should have a consistent percent success rate of 90%, or 85%.</span></span> <span data-ttu-id="d4e5c-143">Si los datos de métricas muestran que la aplicación hello se desvían de ese número, puede investigar lo que puedan estar causando Hola aumento.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-143">If your metrics data shows that hello application is deviating from that number, then you can investigate what may be causing hello increase.</span></span>

<span data-ttu-id="d4e5c-144">Para nuestro escenario de ejemplo, una vez que se ha establecido que métrica de velocidad de porcentaje de operaciones correctas de hello es inferior al 100%, se examinará Hola registra toofind Hola los errores que se correlacionan métricas toohello y usarlos toofigure qué está causando tasa de éxito por ciento inferior de Hola.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-144">For our sample scenario, once we've established that hello percent success rate metric is below 100%, we will examine hello logs toofind hello errors that correlate toohello metrics, and use them toofigure out what is causing hello lower percent success rate.</span></span> <span data-ttu-id="d4e5c-145">Echemos un vistazo específicamente errores en el intervalo de 400 Hola.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-145">We'll look specifically at errors in hello 400 range.</span></span> <span data-ttu-id="d4e5c-146">Después, revisaremos con más detalle los errores 404 (no encontrado).</span><span class="sxs-lookup"><span data-stu-id="d4e5c-146">Then we'll more closely investigate 404 (Not Found) errors.</span></span>

### <a name="some-causes-of-400-range-errors"></a><span data-ttu-id="d4e5c-147">Algunas de las causas de los errores del intervalo 400</span><span class="sxs-lookup"><span data-stu-id="d4e5c-147">Some causes of 400-range errors</span></span>
<span data-ttu-id="d4e5c-148">ejemplos de Hello siguientes se muestra un muestreo de algunos errores de intervalo de 400 para las solicitudes en el almacenamiento de blobs de Azure y sus causas posibles.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-148">hello examples below shows a sampling of some 400-range errors for requests against Azure Blob Storage, and their possible causes.</span></span> <span data-ttu-id="d4e5c-149">Cualquiera de estos errores, así como los errores en el intervalo de 300 de Hola y Hola intervalo 500, pueden contribuir tasa de éxito de porcentaje bajo de tooa.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-149">Any of these errors, as well as errors in hello 300 range and hello 500 range, can contribute tooa low percent success rate.</span></span>

<span data-ttu-id="d4e5c-150">Tenga en cuenta que Hola listas siguientes están lejos completa.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-150">Note that hello lists below are far from complete.</span></span> <span data-ttu-id="d4e5c-151">Vea [estado y códigos de Error](http://msdn.microsoft.com/library/azure/dd179382.aspx) para obtener más información acerca de errores generales de almacenamiento de Azure y tooeach específico de errores de servicios de almacenamiento de Hola.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-151">See [Status and Error Codes](http://msdn.microsoft.com/library/azure/dd179382.aspx) for details about general Azure Storage errors and about errors specific tooeach of hello storage services.</span></span>

<span data-ttu-id="d4e5c-152">**Ejemplos de código de estado 404 (no encontrado)**</span><span class="sxs-lookup"><span data-stu-id="d4e5c-152">**Status Code 404 (Not Found) Examples**</span></span>

<span data-ttu-id="d4e5c-153">Se produce cuando se produce un error en una operación de lectura en un contenedor o blob porque no se encuentra el blob de Hola o contenedor.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-153">Occurs when a read operation against a container or blob fails because hello blob or container is not found.</span></span>

* <span data-ttu-id="d4e5c-154">Se produce cuando otro cliente elimina un contenedor o un blob antes de realizar la solicitud.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-154">Occurs if a container or blob has been deleted by another client before this request.</span></span>
* <span data-ttu-id="d4e5c-155">Se produce si usa una llamada de API que crea el contenedor de Hola o blob después de comprobar si existe.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-155">Occurs if you are using an API call that creates hello container or blob after checking whether it exists.</span></span> <span data-ttu-id="d4e5c-156">Hola CreateIfNotExists APIs realizar un encabezado llamada toocheck primera existencia de Hola de hello contenedor o blob; Si no existe, se devuelve un error 404 y, a continuación, se realiza una segunda llamada PUT toowrite Hola contenedor o blob.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-156">hello CreateIfNotExists APIs make a HEAD call first toocheck for hello existence of hello container or blob; if it does not exist, a 404 error is returned, and then a second PUT call is made toowrite hello container or blob.</span></span>

<span data-ttu-id="d4e5c-157">**Ejemplos de código de estado de 409 (conflicto)**</span><span class="sxs-lookup"><span data-stu-id="d4e5c-157">**Status Code 409 (Conflict) Examples**</span></span>

* <span data-ttu-id="d4e5c-158">Se produce si usa un toocreate de API de crear un nuevo contenedor o blob, sin comprobar existencia en primer lugar, y un contenedor o blob con ese nombre ya existe.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-158">Occurs if you use a Create API toocreate a new container or blob, without checking for existence first, and a container or blob with that name already exists.</span></span>
* <span data-ttu-id="d4e5c-159">Se produce si se está eliminando un contenedor y se intenta realizar un nuevo contenedor con el mismo nombre antes de que finalice la operación de eliminación de Hola de hello toocreate.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-159">Occurs if a container is being deleted, and you attempt toocreate a new container with hello same name before hello deletion operation is complete.</span></span>
* <span data-ttu-id="d4e5c-160">Se produce si especifica una concesión en un contenedor o un blob y ya hay una concesión.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-160">Occurs if you specify a lease on a container or blob, and there is already a lease present.</span></span>

<span data-ttu-id="d4e5c-161">**Ejemplos de código de estado 412 (error de condición previa)**</span><span class="sxs-lookup"><span data-stu-id="d4e5c-161">**Status Code 412 (Precondition Failed) Examples**</span></span>

* <span data-ttu-id="d4e5c-162">Se produce cuando no se cumplió la condición de hello especificada por un encabezado condicional.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-162">Occurs when hello condition specified by a conditional header has not been met.</span></span>
* <span data-ttu-id="d4e5c-163">Se produce cuando el identificador de concesión de hello especificado no coincide con el identificador de concesión Hola Hola contenedor o blob.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-163">Occurs when hello lease ID specified does not match hello lease ID on hello container or blob.</span></span>

## <a name="generate-log-files-for-analysis"></a><span data-ttu-id="d4e5c-164">Generar archivos de registro para el análisis</span><span class="sxs-lookup"><span data-stu-id="d4e5c-164">Generate log files for analysis</span></span>
<span data-ttu-id="d4e5c-165">En este tutorial, usaremos toowork analizador de mensajes con tres tipos diferentes de archivos de registro, aunque puede elegir toowork con cualquiera de ellos:</span><span class="sxs-lookup"><span data-stu-id="d4e5c-165">In this tutorial, we'll use Message Analyzer toowork with three different types of log files, although you could choose toowork with any one of these:</span></span>

* <span data-ttu-id="d4e5c-166">Hola **registro del servidor**, que se crea cuando se habilita el registro de almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-166">hello **server log**, which is created when you enable Azure Storage logging.</span></span> <span data-ttu-id="d4e5c-167">registro de servidor de Hello contiene datos sobre cada operación llamado en uno de los servicios de almacenamiento de Azure de hello: blob, cola, tabla y archivo.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-167">hello server log contains data about each operation called against one of hello Azure Storage services - blob, queue, table, and file.</span></span> <span data-ttu-id="d4e5c-168">registro de servidor Hello indica qué operación se llamó y el código de estado fue devueltas, así como otros detalles sobre Hola solicitud y respuesta.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-168">hello server log indicates which operation was called and what status code was returned, as well as other details about hello request and response.</span></span>
* <span data-ttu-id="d4e5c-169">Hola **registro de cliente de .NET**, que se crea cuando se habilita el registro de cliente desde dentro de la aplicación. NET.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-169">hello **.NET client log**, which is created when you enable client-side logging from within your .NET application.</span></span> <span data-ttu-id="d4e5c-170">registro de cliente de Hello incluye información detallada acerca de cómo cliente hello prepara la solicitud de Hola y recibe y procesa la respuesta de Hola.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-170">hello client log includes detailed information about how hello client prepares hello request and receives and processes hello response.</span></span>
* <span data-ttu-id="d4e5c-171">Hola **registro de seguimiento de red HTTP**, que recopila datos en HTTP/HTTPS solicitud y respuesta datos, incluidos los de operaciones en el almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-171">hello **HTTP network trace log**, which collects data on HTTP/HTTPS request and response data, including for operations against Azure Storage.</span></span> <span data-ttu-id="d4e5c-172">En este tutorial, se generará el seguimiento de la red de Hola a través de analizador de mensajes.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-172">In this tutorial, we'll generate hello network trace via Message Analyzer.</span></span>

### <a name="configure-server-side-logging-and-metrics"></a><span data-ttu-id="d4e5c-173">Configurar el registro y las métricas del lado servidor</span><span class="sxs-lookup"><span data-stu-id="d4e5c-173">Configure server-side logging and metrics</span></span>
<span data-ttu-id="d4e5c-174">En primer lugar, necesitaremos tooconfigure el registro de almacenamiento de Azure y las métricas, por lo que tiene datos de tooanalyze de aplicación de cliente de Hola.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-174">First, we'll need tooconfigure Azure Storage logging and metrics, so that we have data from hello client application tooanalyze.</span></span> <span data-ttu-id="d4e5c-175">Puede configurar el registro y métricas de varias maneras: a través de hello [Portal clásico de Azure](https://manage.windowsazure.com), mediante el uso de PowerShell, o mediante programación.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-175">You can configure logging and metrics in a variety of ways - via hello [Azure Classic Portal](https://manage.windowsazure.com), by using PowerShell, or programmatically.</span></span> <span data-ttu-id="d4e5c-176">Consulte [Habilitar las métricas de almacenamiento y ver los datos de métricas](http://msdn.microsoft.com/library/azure/dn782843.aspx) y [Habilitar el almacenamiento de registro y obtener acceso a los datos de registro](http://msdn.microsoft.com/library/azure/dn782840.aspx) para obtener más información sobre la configuración del registro y las métricas.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-176">See [Enabling Storage Metrics and Viewing Metrics Data](http://msdn.microsoft.com/library/azure/dn782843.aspx) and [Enabling Storage Logging and Accessing Log Data](http://msdn.microsoft.com/library/azure/dn782840.aspx) for details about configuring logging and metrics.</span></span>

<span data-ttu-id="d4e5c-177">**A través de hello Portal clásico de Azure**</span><span class="sxs-lookup"><span data-stu-id="d4e5c-177">**Via hello Azure Classic Portal**</span></span>

<span data-ttu-id="d4e5c-178">tooconfigure registro y métricas para la cuenta de almacenamiento mediante el portal de hello, siga las instrucciones de hello en [supervisar una cuenta de almacenamiento en el Portal de Azure hello](storage-monitor-storage-account.md).</span><span class="sxs-lookup"><span data-stu-id="d4e5c-178">tooconfigure logging and metrics for your storage account using hello portal, follow hello instructions at [Monitor a storage account in hello Azure Portal](storage-monitor-storage-account.md).</span></span>

> [!NOTE]
> <span data-ttu-id="d4e5c-179">No es posible tooset métricas por minuto con hello Portal clásico de Azure.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-179">It's not possible tooset minute metrics using hello Azure Classic Portal.</span></span> <span data-ttu-id="d4e5c-180">Sin embargo, se recomienda que establecerlos para fines de Hola de este tutorial y para investigar los problemas de rendimiento con la aplicación.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-180">However, we recommend that you do set them for hello purposes of this tutorial, and for investigating performance issues with your application.</span></span> <span data-ttu-id="d4e5c-181">Puede establecer las métricas de minuto con PowerShell tal como se muestra a continuación, o mediante programación o a través de Hola Portal clásico de Azure.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-181">You can set minute metrics using PowerShell as shown below, or programmatically, or via hello Azure Classic Portal.</span></span>
>
> <span data-ttu-id="d4e5c-182">Tenga en cuenta que Hola Portal clásico de Azure no puede mostrar métricas por minuto, solo las métricas por hora.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-182">Note that hello Azure Classic Portal cannot display minute metrics, only hourly metrics.</span></span>
>
>

<span data-ttu-id="d4e5c-183">**Con PowerShell**</span><span class="sxs-lookup"><span data-stu-id="d4e5c-183">**Via PowerShell**</span></span>

<span data-ttu-id="d4e5c-184">tooget a trabajar con PowerShell de Azure, consulte [cómo tooinstall y configurar Azure PowerShell](/powershell/azure/overview).</span><span class="sxs-lookup"><span data-stu-id="d4e5c-184">tooget started with PowerShell for Azure, see [How tooinstall and configure Azure PowerShell](/powershell/azure/overview).</span></span>

1. <span data-ttu-id="d4e5c-185">Hola de uso [Add-AzureAccount](/powershell/module/azure/add-azureaccount?view=azuresmps-3.7.0) tooadd cmdlet toohello ventana de PowerShell de la cuenta de su usuario de Azure:</span><span class="sxs-lookup"><span data-stu-id="d4e5c-185">Use hello [Add-AzureAccount](/powershell/module/azure/add-azureaccount?view=azuresmps-3.7.0) cmdlet tooadd your Azure user account toohello PowerShell window:</span></span>

    ```powershell
     Add-AzureAccount
    ```

2. <span data-ttu-id="d4e5c-186">Hola **iniciar sesión en Azure tooMicrosoft** ventana, escriba Hola dirección de correo electrónico y contraseña asociadas a su cuenta.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-186">In hello **Sign in tooMicrosoft Azure** window, type hello email address and password associated with your account.</span></span> <span data-ttu-id="d4e5c-187">Azure autentica y guarda la información de credenciales de hello y, a continuación, cierra la ventana hello.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-187">Azure authenticates and saves hello credential information, and then closes hello window.</span></span>
3. <span data-ttu-id="d4e5c-188">Establecer Hola cuenta toohello almacenamiento cuenta de almacenamiento predeterminada que usa para el tutorial de hello mediante la ejecución de estos comandos en la ventana de PowerShell de hello:</span><span class="sxs-lookup"><span data-stu-id="d4e5c-188">Set hello default storage account toohello storage account you are using for hello tutorial by executing these commands in hello PowerShell window:</span></span>

    ```powershell
    $SubscriptionName = 'Your subscription name'
    $StorageAccountName = 'yourstorageaccount'
    Set-AzureSubscription -CurrentStorageAccountName $StorageAccountName -SubscriptionName $SubscriptionName
    ```

4. <span data-ttu-id="d4e5c-189">Habilitar el registro de hello servicio Blob de almacenamiento:</span><span class="sxs-lookup"><span data-stu-id="d4e5c-189">Enable storage logging for hello Blob service:</span></span>

    ```powershell
    Set-AzureStorageServiceLoggingProperty -ServiceType Blob -LoggingOperations Read,Write,Delete -PassThru -RetentionDays 7 -Version 1.0
    ```

5. <span data-ttu-id="d4e5c-190">Habilitar las métricas de almacenamiento para hello servicio de Blob, que realiza seguro tooset **- MetricsType** demasiado`Minute`:</span><span class="sxs-lookup"><span data-stu-id="d4e5c-190">Enable storage metrics for hello Blob service, making sure tooset **-MetricsType** too`Minute`:</span></span>

    ```powershell
    Set-AzureStorageServiceMetricsProperty -ServiceType Blob -MetricsType Minute -MetricsLevel ServiceAndApi -PassThru -RetentionDays 7 -Version 1.0
    ```

### <a name="configure-net-client-side-logging"></a><span data-ttu-id="d4e5c-191">Configurar el registro del lado cliente de .NET</span><span class="sxs-lookup"><span data-stu-id="d4e5c-191">Configure .NET client-side logging</span></span>
<span data-ttu-id="d4e5c-192">el registro para una aplicación. NET, tooconfigure del lado cliente habilitar los diagnósticos de .NET en hello del archivo de configuración (app.config o web.config).</span><span class="sxs-lookup"><span data-stu-id="d4e5c-192">tooconfigure client-side logging for a .NET application, enable .NET diagnostics in hello application's configuration file (web.config or app.config).</span></span> <span data-ttu-id="d4e5c-193">Vea [registro con hello biblioteca de cliente de almacenamiento en el lado de cliente](http://msdn.microsoft.com/library/azure/dn782839.aspx) y [lado cliente registro con hello SDK de almacenamiento de Microsoft Azure para Java](http://msdn.microsoft.com/library/azure/dn782844.aspx) para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-193">See [Client-side Logging with hello .NET Storage Client Library](http://msdn.microsoft.com/library/azure/dn782839.aspx) and [Client-side Logging with hello Microsoft Azure Storage SDK for Java](http://msdn.microsoft.com/library/azure/dn782844.aspx) for details.</span></span>

<span data-ttu-id="d4e5c-194">registro del lado cliente Hello incluye información detallada acerca de cómo cliente hello prepara la solicitud de Hola y recibe y procesa la respuesta de Hola.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-194">hello client-side log includes detailed information about how hello client prepares hello request and receives and processes hello response.</span></span>

<span data-ttu-id="d4e5c-195">Hola biblioteca cliente de almacenamiento almacena datos del registro de cliente en la ubicación de hello especificada en el archivo de configuración de la aplicación hello (app.config o web.config).</span><span class="sxs-lookup"><span data-stu-id="d4e5c-195">hello Storage Client Library stores client-side log data in hello location specified in hello application's configuration file (web.config or app.config).</span></span>

### <a name="collect-a-network-trace"></a><span data-ttu-id="d4e5c-196">Recopilar un seguimiento de red</span><span class="sxs-lookup"><span data-stu-id="d4e5c-196">Collect a network trace</span></span>
<span data-ttu-id="d4e5c-197">Puede usar el analizador de mensajes toocollect un seguimiento de red HTTP/HTTPS mientras se ejecuta la aplicación cliente.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-197">You can use Message Analyzer toocollect an HTTP/HTTPS network trace while your client application is running.</span></span> <span data-ttu-id="d4e5c-198">Usos de analizador de mensajes [Fiddler](http://www.telerik.com/fiddler) en hello back-end.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-198">Message Analyzer uses [Fiddler](http://www.telerik.com/fiddler) on hello back end.</span></span> <span data-ttu-id="d4e5c-199">Antes de recopilar el seguimiento de la red de hello, recomendamos que configure Fiddler toorecord sin cifrar el tráfico HTTPS:</span><span class="sxs-lookup"><span data-stu-id="d4e5c-199">Before you collect hello network trace, we recommend that you configure Fiddler toorecord unencrypted HTTPS traffic:</span></span>

1. <span data-ttu-id="d4e5c-200">Instale [Fiddler](http://www.telerik.com/download/fiddler).</span><span class="sxs-lookup"><span data-stu-id="d4e5c-200">Install [Fiddler](http://www.telerik.com/download/fiddler).</span></span>
2. <span data-ttu-id="d4e5c-201">Inicie Fiddler.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-201">Launch Fiddler.</span></span>
3. <span data-ttu-id="d4e5c-202">Seleccione **Tools | Fiddler Options** (Herramientas | Opciones de Fiddler).</span><span class="sxs-lookup"><span data-stu-id="d4e5c-202">Select **Tools | Fiddler Options**.</span></span>
4. <span data-ttu-id="d4e5c-203">En el cuadro de diálogo de opciones de hello, asegúrese de que **capturar HTTPS conecta** y **descifrar el tráfico HTTPS** están seleccionadas, tal y como se muestra a continuación.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-203">In hello Options dialog, ensure that **Capture HTTPS CONNECTs** and **Decrypt HTTPS Traffic** are both selected, as shown below.</span></span>

![Configurar opciones de Fiddler](./media/storage-e2e-troubleshooting-classic-portal/fiddler-options-1.png)

<span data-ttu-id="d4e5c-205">Para el tutorial de hello, recopilar y guardar un seguimiento de red en primer lugar en el analizador de mensajes, a continuación, crear una traza de hello análisis tooanalyze de sesión y Hola registros.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-205">For hello tutorial, collect and save a network trace first in Message Analyzer, then create an analysis session tooanalyze hello trace and hello logs.</span></span> <span data-ttu-id="d4e5c-206">toocollect un seguimiento de red en el analizador de mensajes:</span><span class="sxs-lookup"><span data-stu-id="d4e5c-206">toocollect a network trace in Message Analyzer:</span></span>

1. <span data-ttu-id="d4e5c-207">En el analizador de mensajes, seleccione **File | Quick Trace | Unencrypted HTTPS** (Archivo | Seguimiento rápido | HTTPS sin cifrar).</span><span class="sxs-lookup"><span data-stu-id="d4e5c-207">In Message Analyzer, select **File | Quick Trace | Unencrypted HTTPS**.</span></span>
2. <span data-ttu-id="d4e5c-208">seguimiento de Hello comenzará inmediatamente.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-208">hello trace will begin immediately.</span></span> <span data-ttu-id="d4e5c-209">Seleccione **detener** toostop Hola seguimiento para que podamos configurarlo tootrace únicamente el tráfico de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-209">Select **Stop** toostop hello trace so that we can configure it tootrace storage traffic only.</span></span>
3. <span data-ttu-id="d4e5c-210">Seleccione **editar** sesión de seguimiento de tooedit Hola.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-210">Select **Edit** tooedit hello tracing session.</span></span>
4. <span data-ttu-id="d4e5c-211">Seleccione hello **configurar** vincular toohello derecha de hello **Microsoft-Pef-WebProxy** del proveedor de ETW.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-211">Select hello **Configure** link toohello right of hello **Microsoft-Pef-WebProxy** ETW provider.</span></span>
5. <span data-ttu-id="d4e5c-212">Hola **configuración avanzada** cuadro de diálogo, haga clic en hello **proveedor** ficha.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-212">In hello **Advanced Settings** dialog, click hello **Provider** tab.</span></span>
6. <span data-ttu-id="d4e5c-213">Hola **filtro de nombre de host** , especifique los extremos de almacenamiento, separados por espacios.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-213">In hello **Hostname Filter** field, specify your storage endpoints, separated by spaces.</span></span> <span data-ttu-id="d4e5c-214">Por ejemplo, puede especificar los extremos de la manera siguiente: cambiar `storagesample` toohello nombre de la cuenta de almacenamiento:</span><span class="sxs-lookup"><span data-stu-id="d4e5c-214">For example, you can specify your endpoints as follows; change `storagesample` toohello name of your storage account:</span></span>

    ```   
    storagesample.blob.core.windows.net storagesample.queue.core.windows.net storagesample.table.core.windows.net
    ```

7. <span data-ttu-id="d4e5c-215">Salir del cuadro de diálogo de Hola y haga clic en **reiniciar** toobegin recopilar seguimiento Hola con filtro de nombre de host de hello en su lugar, para que solo el tráfico de red de almacenamiento de Azure se incluye en el seguimiento de Hola.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-215">Exit hello dialog, and click **Restart** toobegin collecting hello trace with hello hostname filter in place, so that only Azure Storage network traffic is included in hello trace.</span></span>

> [!NOTE]
> <span data-ttu-id="d4e5c-216">Cuando haya terminado de recopilar el seguimiento de la red, se recomienda encarecidamente que revertir configuración Hola que puede haber cambiado el tráfico HTTPS de Fiddler toodecrypt.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-216">After you have finished collecting your network trace, we strongly recommend that you revert hello settings that you may have changed in Fiddler toodecrypt HTTPS traffic.</span></span> <span data-ttu-id="d4e5c-217">En el cuadro de diálogo de opciones de Fiddler hello, anule la selección de hello **capturar HTTPS conecta** y **descifrar el tráfico HTTPS** casillas de verificación.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-217">In hello Fiddler Options dialog, deselect hello **Capture HTTPS CONNECTs** and **Decrypt HTTPS Traffic** checkboxes.</span></span>
>
>

<span data-ttu-id="d4e5c-218">Vea [usar las características de seguimiento de red de hello](http://technet.microsoft.com/library/jj674819.aspx) en Technet para obtener más detalles.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-218">See [Using hello Network Tracing Features](http://technet.microsoft.com/library/jj674819.aspx) on Technet for more details.</span></span>

## <a name="review-metrics-data-in-hello-azure-classic-portal"></a><span data-ttu-id="d4e5c-219">Revise los datos de métricas de hello Portal clásico de Azure</span><span class="sxs-lookup"><span data-stu-id="d4e5c-219">Review metrics data in hello Azure Classic Portal</span></span>
<span data-ttu-id="d4e5c-220">Una vez que la aplicación se ha estado ejecutando durante un período de tiempo, puede revisar los gráficos de métricas de Hola que aparecen en hello Portal clásico de Azure tooobserve cómo realizar el servicio.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-220">Once your application has been running for a period of time, you can review hello metrics charts that appear in hello Azure Classic Portal tooobserve how your service has been performing.</span></span> <span data-ttu-id="d4e5c-221">En primer lugar, vamos a agregar hello **porcentaje de éxito** toohello métrica supervisión página:</span><span class="sxs-lookup"><span data-stu-id="d4e5c-221">First, we'll add hello **Success Percentage** metric toohello Monitoring page:</span></span>

1. <span data-ttu-id="d4e5c-222">Navegue toohello panel para su cuenta de almacenamiento en hello [Portal clásico de Azure](https://manage.windowsazure.com), a continuación, seleccione **Monitor** hello tooview página de supervisión.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-222">Navigate toohello Dashboard for your storage account in hello [Azure Classic Portal](https://manage.windowsazure.com), then select **Monitor** tooview hello monitoring page.</span></span>
2. <span data-ttu-id="d4e5c-223">Haga clic en **agregar métricas** toodisplay hello **elegir métricas** cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-223">Click **Add Metrics** toodisplay hello **Choose Metrics** dialog.</span></span>
3. <span data-ttu-id="d4e5c-224">Desplácese hacia abajo en hello toofind **porcentaje de éxito** grupo, expándalo y, a continuación, seleccione **agregado**, tal y como se muestra en figura Hola siguiente.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-224">Scroll down toofind hello **Success Percentage** group, expand it, then select **Aggregate**, as shown in hello picture below.</span></span> <span data-ttu-id="d4e5c-225">Con esta métrica se agregan los datos de porcentaje de éxito de todas las operaciones de Blob.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-225">This metric aggregates success percentage data from all Blob operations.</span></span>

![Elegir métricas](./media/storage-e2e-troubleshooting-classic-portal/choose-metrics-portal-1.png)

<span data-ttu-id="d4e5c-227">Hola Portal clásico de Azure, ahora verá **porcentaje de éxito** Hola gráfico de supervisión, junto con las otras métricas que puedas haber agregado (seguridad toosix puede mostrarse en hello gráfico a la vez).</span><span class="sxs-lookup"><span data-stu-id="d4e5c-227">In hello Azure Classic Portal, you'll now see **Success Percentage** in hello monitoring chart, along with any other metrics you may have added (up toosix can be displayed on hello chart at once).</span></span> <span data-ttu-id="d4e5c-228">En la imagen de Hola a continuación, puede ver que esa tasa de éxito de porcentaje de hello es ligeramente inferiores al 100%, que es el escenario de Hola que se deberá investigar a continuación mediante el análisis de registros de hello en el analizador de mensajes:</span><span class="sxs-lookup"><span data-stu-id="d4e5c-228">In hello picture below, you can see that hello percent success rate is somewhat below 100%, which is hello scenario we'll investigate next by analyzing hello logs in Message Analyzer:</span></span>

![Gráfico de métricas del portal](./media/storage-e2e-troubleshooting-classic-portal/portal-metrics-chart-1.png)

<span data-ttu-id="d4e5c-230">Para obtener más información sobre cómo agregar página de supervisión de toohello de métricas, vea [Cómo: agregar la tabla de métricas de métricas toohello](storage-monitor-storage-account.md#add-metrics-charts-to-the-portal-dashboard).</span><span class="sxs-lookup"><span data-stu-id="d4e5c-230">For more details on adding metrics toohello Monitoring page, see [How to: Add metrics toohello metrics table](storage-monitor-storage-account.md#add-metrics-charts-to-the-portal-dashboard).</span></span>

> [!NOTE]
> <span data-ttu-id="d4e5c-231">Después de habilitar las métricas de almacenamiento puede tardar algún tiempo antes de su tooappear de datos de métricas en hello Portal clásico de Azure.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-231">It may take some time for your metrics data tooappear in hello Azure Classic Portal after you enable storage metrics.</span></span> <span data-ttu-id="d4e5c-232">Esto es porque las métricas por hora de hello hora anterior no se muestran en hello Portal clásico de Azure hasta que no Hola transcurra la hora actual.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-232">This is because hourly metrics for hello previous hour are not displayed in hello Azure Classic Portal until hello current hour has elapsed.</span></span> <span data-ttu-id="d4e5c-233">Además, no se muestran métricas por minuto en hello Portal clásico de Azure.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-233">Also, minute metrics are not displayed in hello Azure Classic Portal.</span></span> <span data-ttu-id="d4e5c-234">Por lo que dependiendo de si habilitar las métricas, puede tardar hasta datos de métricas de toosee tootwo horas.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-234">So depending on when you enable metrics, it may take up tootwo hours toosee metrics data.</span></span>
>
>

## <a name="use-azcopy-toocopy-server-logs-tooa-local-directory"></a><span data-ttu-id="d4e5c-235">Utilizar AzCopy toocopy registros server tooa directorio local</span><span class="sxs-lookup"><span data-stu-id="d4e5c-235">Use AzCopy toocopy server logs tooa local directory</span></span>
<span data-ttu-id="d4e5c-236">Almacenamiento de Azure escribe tooblobs de datos de registro de servidor, mientras que las métricas se escriben tootables.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-236">Azure Storage writes server log data tooblobs, while metrics are written tootables.</span></span> <span data-ttu-id="d4e5c-237">Blobs del registro están disponibles en hello conocido `$logs` contenedor para la cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-237">Log blobs are available in hello well-known `$logs` container for your storage account.</span></span> <span data-ttu-id="d4e5c-238">Blobs del registro se denominan jerárquicamente por año, mes, día y hora, para que pueda localizar fácilmente intervalo Hola de tiempo que se va tooinvestigate.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-238">Log blobs are named hierarchically by year, month, day, and hour, so that you can easily locate hello range of time you wish tooinvestigate.</span></span> <span data-ttu-id="d4e5c-239">Por ejemplo, en hello `storagesample` cuenta, contenedor de Hola para blobs del registro de hello 01/02/2015, de 8-9 am, es `https://storagesample.blob.core.windows.net/$logs/blob/2015/01/08/0800`.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-239">For example, in hello `storagesample` account, hello container for hello log blobs for 01/02/2015, from 8-9 am, is `https://storagesample.blob.core.windows.net/$logs/blob/2015/01/08/0800`.</span></span> <span data-ttu-id="d4e5c-240">blobs individuales de Hello en este contenedor se denominan secuencialmente, comenzando con `000000.log`.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-240">hello individual blobs in this container are named sequentially, beginning with `000000.log`.</span></span>

<span data-ttu-id="d4e5c-241">Puede usar toodownload de herramienta de línea de comandos de AzCopy Hola estos ubicación de tooa de archivos de registro de servidor de su elección en el equipo local.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-241">You can use hello AzCopy command-line tool toodownload these server-side log files tooa location of your choice on your local machine.</span></span> <span data-ttu-id="d4e5c-242">Por ejemplo, puede usar Hola siguiendo los archivos de registro de comando toodownload Hola para colocar las operaciones de blob que ha tardado en 2 de enero de 2015 toohello carpeta `C:\Temp\Logs\Server`; reemplazar `<storageaccountname>` con el nombre de saludo de la cuenta de almacenamiento y `<storageaccountkey>` con su tecla de acceso de cuenta:</span><span class="sxs-lookup"><span data-stu-id="d4e5c-242">For example, you can use hello following command toodownload hello log files for blob operations that took place on January 2, 2015 toohello folder `C:\Temp\Logs\Server`; replace `<storageaccountname>` with hello name of your storage account, and `<storageaccountkey>` with your account access key:</span></span>

```azcopy
AzCopy.exe /Source:http://<storageaccountname>.blob.core.windows.net/$logs /Dest:C:\Temp\Logs\Server /Pattern:"blob/2015/01/02" /SourceKey:<storageaccountkey> /S /V
```

<span data-ttu-id="d4e5c-243">AzCopy está disponible para su descarga en hello [descargas de Azure](https://azure.microsoft.com/downloads/) página.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-243">AzCopy is available for download on hello [Azure Downloads](https://azure.microsoft.com/downloads/) page.</span></span> <span data-ttu-id="d4e5c-244">Para obtener más información sobre el uso de AzCopy, vea [transferir datos con la utilidad de línea de comandos de AzCopy hello](storage-use-azcopy.md).</span><span class="sxs-lookup"><span data-stu-id="d4e5c-244">For details about using AzCopy, see [Transfer data with hello AzCopy Command-Line Utility](storage-use-azcopy.md).</span></span>

<span data-ttu-id="d4e5c-245">Para obtener más información sobre cómo descargar los registros del lado servidor, consulte [Descarga de datos de registro del registro de almacenamiento](http://msdn.microsoft.com/library/azure/dn782840.aspx#DownloadingStorageLogginglogdata).</span><span class="sxs-lookup"><span data-stu-id="d4e5c-245">For additional information about downloading server-side logs, see [Downloading Storage Logging log data](http://msdn.microsoft.com/library/azure/dn782840.aspx#DownloadingStorageLogginglogdata).</span></span>

## <a name="use-microsoft-message-analyzer-tooanalyze-log-data"></a><span data-ttu-id="d4e5c-246">Usar datos de registro de tooanalyze de analizador de mensajes de Microsoft</span><span class="sxs-lookup"><span data-stu-id="d4e5c-246">Use Microsoft Message Analyzer tooanalyze log data</span></span>
<span data-ttu-id="d4e5c-247">El analizador de mensajes de Microsoft es una herramienta para capturar, mostrar y analizar el protocolo del tráfico de mensajes, eventos y otros mensajes del sistema o de una aplicación, usando para ello escenarios de diagnóstico y de solución de problemas.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-247">Microsoft Message Analyzer is a tool for capturing, displaying, and analyzing protocol messaging traffic, events, and other system or application messages in troubleshooting and diagnostic scenarios.</span></span> <span data-ttu-id="d4e5c-248">Analizador de mensajes también permite tooload, agregado y analizar los datos de registro y guarda los archivos de seguimiento.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-248">Message Analyzer also enables you tooload, aggregate, and analyze data from log and saved trace files.</span></span> <span data-ttu-id="d4e5c-249">Para más información sobre el analizador de mensajes, vea la [Guía de funcionamiento del analizador de mensajes de Microsoft](http://technet.microsoft.com/library/jj649776.aspx).</span><span class="sxs-lookup"><span data-stu-id="d4e5c-249">For more information about Message Analyzer, see [Microsoft Message Analyzer Operating Guide](http://technet.microsoft.com/library/jj649776.aspx).</span></span>

<span data-ttu-id="d4e5c-250">Analizador de mensajes incluye activos para el almacenamiento de Azure que le ayudarán a tooanalyze servidor, cliente y registros de la red.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-250">Message Analyzer includes assets for Azure Storage that help you tooanalyze server, client, and network logs.</span></span> <span data-ttu-id="d4e5c-251">En esta sección, analizaremos cómo toouse esos tooaddress herramientas Hola problema de porcentaje bajo de operaciones correctas en Hola registros de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-251">In this section, we'll discuss how toouse those tools tooaddress hello issue of low percent success in hello storage logs.</span></span>

### <a name="download-and-install-message-analyzer-and-hello-azure-storage-assets"></a><span data-ttu-id="d4e5c-252">Descargue e instale el analizador de mensajes y Hola activos de almacenamiento de Azure</span><span class="sxs-lookup"><span data-stu-id="d4e5c-252">Download and install Message Analyzer and hello Azure Storage Assets</span></span>
1. <span data-ttu-id="d4e5c-253">Descargar [analizador de mensajes](http://www.microsoft.com/download/details.aspx?id=44226) de Hola Microsoft Download Center y ejecute el programa de instalación de Hola.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-253">Download [Message Analyzer](http://www.microsoft.com/download/details.aspx?id=44226) from hello Microsoft Download Center, and run hello installer.</span></span>
2. <span data-ttu-id="d4e5c-254">Inicie el analizador de mensajes.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-254">Launch Message Analyzer.</span></span>
3. <span data-ttu-id="d4e5c-255">De hello **herramientas** menú, seleccione **Asset Manager**.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-255">From hello **Tools** menu, select **Asset Manager**.</span></span> <span data-ttu-id="d4e5c-256">Hola **Asset Manager** cuadro de diálogo, seleccione **descarga**, a continuación, filtre en **el almacenamiento de Azure**.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-256">In hello **Asset Manager** dialog, select **Downloads**, then filter on **Azure Storage**.</span></span> <span data-ttu-id="d4e5c-257">Verá Hola activos de almacenamiento de Azure, como se muestra en la siguiente imagen se Hola.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-257">You will see hello Azure Storage Assets, as shown in hello picture below.</span></span>
4. <span data-ttu-id="d4e5c-258">Haga clic en **sincronizar todos los elementos de muestra** tooinstall Hola activos de almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-258">Click **Sync All Displayed Items** tooinstall hello Azure Storage Assets.</span></span> <span data-ttu-id="d4e5c-259">activos de Hello disponibles incluyen:</span><span class="sxs-lookup"><span data-stu-id="d4e5c-259">hello available assets include:</span></span>
   * <span data-ttu-id="d4e5c-260">**Reglas de Color de almacenamiento Azure:** permiten toodefine filtros especiales que usan color de texto, las reglas de color de almacenamiento de Azure y toohighlight mensajes que contienen información específica en un seguimiento de estilos de fuente.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-260">**Azure Storage Color Rules:** Azure Storage color rules enable you toodefine special filters that use color, text, and font styles toohighlight messages that contain specific information in a trace.</span></span>
   * <span data-ttu-id="d4e5c-261">**Gráficos de Almacenamiento de Azure:** los gráficos de Almacenamiento de Azure son gráficos predefinidos que en los que se trazan datos de los registro de servidor.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-261">**Azure Storage Charts:** Azure Storage charts are predefined charts that graph server log data.</span></span> <span data-ttu-id="d4e5c-262">Tenga en cuenta que toouse el almacenamiento de Azure ofrece un gráfico en este momento, es posible que solo registro de servidor de carga hello en hello cuadrícula de análisis.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-262">Note that toouse Azure Storage charts at this time, you may only load hello server log into hello Analysis Grid.</span></span>
   * <span data-ttu-id="d4e5c-263">**Analizadores de almacenamiento de Azure:** Hola Hola almacenamiento de Azure cliente de almacenamiento de Azure analizadores el análisis, el servidor y HTTP registra en orden toodisplay en hello cuadrícula de análisis.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-263">**Azure Storage Parsers:** hello Azure Storage parsers parse hello Azure Storage client, server, and HTTP logs in order toodisplay them in hello Analysis Grid.</span></span>
   * <span data-ttu-id="d4e5c-264">**Filtros en el almacenamiento de Azure:** filtros de almacenamiento de Azure son criterios predefinidos que puede usar los datos tooquery Hola cuadrícula de análisis.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-264">**Azure Storage Filters:** Azure Storage filters are predefined criteria that you can use tooquery your data in hello Analysis Grid.</span></span>
   * <span data-ttu-id="d4e5c-265">**Diseños de la vista de almacenamiento Azure:** diseños de la vista de almacenamiento de Azure son diseños de columna predefinidos y agrupaciones en hello cuadrícula de análisis.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-265">**Azure Storage View Layouts:** Azure Storage view layouts are predefined column layouts and groupings in hello Analysis Grid.</span></span>
5. <span data-ttu-id="d4e5c-266">Reinicie el analizador de mensajes después de instalar a activos Hola.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-266">Restart Message Analyzer after you've installed hello assets.</span></span>

![Administrador de activos del analizador de mensajes](./media/storage-e2e-troubleshooting-classic-portal/mma-start-page-1.png)

> [!NOTE]
> <span data-ttu-id="d4e5c-268">Instalar todos los activos de almacenamiento de Azure Hola que se muestra para propósitos de Hola de este tutorial.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-268">Install all of hello Azure Storage assets shown for hello purposes of this tutorial.</span></span>
>
>

### <a name="import-your-log-files-into-message-analyzer"></a><span data-ttu-id="d4e5c-269">Importar los archivos de registro al analizador de mensajes</span><span class="sxs-lookup"><span data-stu-id="d4e5c-269">Import your log files into Message Analyzer</span></span>
<span data-ttu-id="d4e5c-270">Puede importar todos los archivos de registro guardados (del lado servidor, del lado cliente y de red) en una sola sesión en el analizador de mensajes de Microsoft para analizarlos.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-270">You can import all of your saved log files (server-side, client-side, and network) into a single session in Microsoft Message Analyzer for analysis.</span></span>

1. <span data-ttu-id="d4e5c-271">En hello **archivo** menú en Analizador de mensajes de Microsoft, haga clic en **nueva sesión**y, a continuación, haga clic en **en blanco sesión**.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-271">On hello **File** menu in Microsoft Message Analyzer, click **New Session**, and then click **Blank Session**.</span></span> <span data-ttu-id="d4e5c-272">Hola **nueva sesión** cuadro de diálogo, escriba un nombre para la sesión de análisis.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-272">In hello **New Session** dialog, enter a name for your analysis session.</span></span> <span data-ttu-id="d4e5c-273">Hola **detalles de la sesión** del panel, haga clic en hello **archivos** botón.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-273">In hello **Session Details** panel, click on hello **Files** button.</span></span>
2. <span data-ttu-id="d4e5c-274">datos de seguimiento de red tooload Hola generados por el analizador de mensajes, haga clic en **agregar archivos**, busque la ubicación de toohello donde guardó el archivo .matp de la sesión de seguimiento de web, archivo de .matp de hello seleccione, y haga clic en **abrir**.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-274">tooload hello network trace data generated by Message Analyzer, click on **Add Files**, browse toohello location where you saved your .matp file from your web tracing session, select hello .matp file, and click **Open**.</span></span>
3. <span data-ttu-id="d4e5c-275">datos de registro de servidor de hello tooload, haga clic en **agregar archivos**, examine la ubicación de toohello donde descargó los registros de servidor, seleccione los archivos de registro de Hola Hola intervalo de tiempo que desee tooanalyze y haga clic en **abrir**.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-275">tooload hello server-side log data, click on **Add Files**, browse toohello location where you downloaded your server-side logs, select hello log files for hello time range you want tooanalyze, and click **Open**.</span></span> <span data-ttu-id="d4e5c-276">A continuación, en hello **detalles de la sesión** panel, conjunto hello **configuración de registro de texto** lista desplegable para cada archivo de registro del lado servidor demasiado**AzureStorageLog** tooensure que Microsoft Analizador de mensajes puede analizar el archivo de registro de hello correctamente.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-276">Then, in hello **Session Details** panel, set hello **Text Log Configuration** drop-down for each server-side log file too**AzureStorageLog** tooensure that Microsoft Message Analyzer can parse hello log file correctly.</span></span>
4. <span data-ttu-id="d4e5c-277">datos de registro de cliente de hello tooload, haga clic en **agregar archivos**, examine la ubicación de toohello donde guardó los registros de cliente, seleccione los archivos de registro de hello desee tooanalyze y haga clic en **abiertos**.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-277">tooload hello client-side log data, click on **Add Files**, browse toohello location where you saved your client-side logs, select hello log files you want tooanalyze, and click **Open**.</span></span> <span data-ttu-id="d4e5c-278">A continuación, en hello **detalles de la sesión** panel, conjunto hello **configuración de registro de texto** lista desplegable para cada archivo de registro de cliente demasiado**AzureStorageClientDotNetV4** tooensure que Analizador de mensajes de Microsoft puede analizar el archivo de registro de hello correctamente.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-278">Then, in hello **Session Details** panel, set hello **Text Log Configuration** drop-down for each client-side log file too**AzureStorageClientDotNetV4** tooensure that Microsoft Message Analyzer can parse hello log file correctly.</span></span>
5. <span data-ttu-id="d4e5c-279">Haga clic en **iniciar** en hello **nueva sesión** diálogo tooload y el análisis Hola datos del registro.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-279">Click **Start** in hello **New Session** dialog tooload and parse hello log data.</span></span> <span data-ttu-id="d4e5c-280">datos del registro de Hello muestran de Hola cuadrícula de análisis de analizador de mensajes.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-280">hello log data displays in hello Message Analyzer Analysis Grid.</span></span>

<span data-ttu-id="d4e5c-281">imagen de Hola a continuación muestra una sesión en el ejemplo se configura con el servidor, cliente y archivos de registro de seguimiento de red.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-281">hello picture below shows an example session configured with server, client, and network trace log files.</span></span>

![Configurar una sesión del analizador de mensajes](./media/storage-e2e-troubleshooting-classic-portal/configure-mma-session-1.png)

<span data-ttu-id="d4e5c-283">Tenga en cuenta que el analizador de mensajes carga los archivos en la memoria.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-283">Note that Message Analyzer loads log files into memory.</span></span> <span data-ttu-id="d4e5c-284">Si tiene un conjunto grande de datos de registro, le interesará toofilter en orden tooget Hola mejor partido analizador de mensajes.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-284">If you have a large set of log data, you will want toofilter it in order tooget hello best performance from Message Analyzer.</span></span>

<span data-ttu-id="d4e5c-285">En primer lugar, determinar el período de tiempo de Hola que esté interesado en la revisión y mantener este período de tiempo tan pequeño como sea posible.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-285">First, determine hello time frame that you are interested in reviewing, and keep this time frame as small as possible.</span></span> <span data-ttu-id="d4e5c-286">En muchos casos, le interesará tooreview un punto de minutos u horas como máximo.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-286">In many cases you will want tooreview a period of minutes or hours at most.</span></span> <span data-ttu-id="d4e5c-287">Importar el conjunto más pequeño de Hola de registros que pueden satisfacer sus necesidades.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-287">Import hello smallest set of logs that can meet your needs.</span></span>

<span data-ttu-id="d4e5c-288">Si todavía tiene una gran cantidad de datos de registro, a continuación, puede que desee toospecify un toofilter de filtro de la sesión los datos de registro antes de cargarlos.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-288">If you still have a large amount of log data, then you may want toospecify a session filter toofilter your log data before you load it.</span></span> <span data-ttu-id="d4e5c-289">Hola **sesión filtro** cuadro, seleccione hello **biblioteca** botón toochoose un filtro predefinido; por ejemplo, elegir **Global tiempo filtro I** de hello filtra el almacenamiento de Azure toofilter en un intervalo de tiempo.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-289">In hello **Session Filter** box, select hello **Library** button toochoose a predefined filter; for example, choose **Global Time Filter I** from hello Azure Storage filters toofilter on a time interval.</span></span> <span data-ttu-id="d4e5c-290">A continuación, puede editar Hola Hola del toospecify del criterio de filtro a partir de y finalizar la marca de tiempo para el intervalo de saludo desea toosee.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-290">You can then edit hello filter criteria toospecify hello starting and ending timestamp for hello interval you want toosee.</span></span> <span data-ttu-id="d4e5c-291">También puede filtrar por un código de estado determinado; Por ejemplo, puede elegir solo entradas del registro tooload donde el código de estado de hello es 404.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-291">You can also filter on a particular status code; for example, you can choose tooload only log entries where hello status code is 404.</span></span>

<span data-ttu-id="d4e5c-292">Para más información sobre cómo importar datos de registro al analizador de mensajes de Microsoft, vea el tema de [recuperación de datos de mensajes](http://technet.microsoft.com/library/dn772437.aspx) en TechNet.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-292">For more information about importing log data into Microsoft Message Analyzer, see [Retrieving Message Data](http://technet.microsoft.com/library/dn772437.aspx) on TechNet.</span></span>

### <a name="use-hello-client-request-id-toocorrelate-log-file-data"></a><span data-ttu-id="d4e5c-293">Usar datos de archivo registro toocorrelate de Id. de la solicitud de cliente de Hola</span><span class="sxs-lookup"><span data-stu-id="d4e5c-293">Use hello client request ID toocorrelate log file data</span></span>
<span data-ttu-id="d4e5c-294">Hola biblioteca de cliente de almacenamiento de Azure genera automáticamente un Id. de solicitud de cliente único para cada solicitud.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-294">hello Azure Storage Client Library automatically generates a unique client request ID for every request.</span></span> <span data-ttu-id="d4e5c-295">Este valor se escribe el registro del cliente de toohello, registro de servidor hello y seguimiento de la red de hello, por lo que se pueden usar toocorrelate datos a través de todos los registros de tres en Analizador de mensajes.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-295">This value is written toohello client log, hello server log, and hello network trace, so you can use it toocorrelate data across all three logs within Message Analyzer.</span></span> <span data-ttu-id="d4e5c-296">Vea [Id. de solicitud de cliente](storage-monitoring-diagnosing-troubleshooting.md#client-request-id) identificador de solicitud para obtener información adicional sobre los clientes Hola</span><span class="sxs-lookup"><span data-stu-id="d4e5c-296">See [Client request ID](storage-monitoring-diagnosing-troubleshooting.md#client-request-id) for additional information about hello client request ID.</span></span>

<span data-ttu-id="d4e5c-297">Hello las siguientes secciones describen cómo toouse configurado previamente y las vistas de diseño personalizado toocorrelate y agrupar datos en función de la solicitud de cliente hello identificador.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-297">hello sections below describe how toouse pre-configured and custom layout views toocorrelate and group data based on hello client request ID.</span></span>

### <a name="select-a-view-layout-toodisplay-in-hello-analysis-grid"></a><span data-ttu-id="d4e5c-298">Seleccione un toodisplay de diseño de la vista de hello cuadrícula de análisis</span><span class="sxs-lookup"><span data-stu-id="d4e5c-298">Select a view layout toodisplay in hello Analysis Grid</span></span>
<span data-ttu-id="d4e5c-299">los activos de almacenamiento de Hello para el analizador de mensajes incluyen diseños de la vista del almacenamiento de Azure que corresponden a las vistas configuradas previamente que puede usar toodisplay los datos con columnas y agrupaciones útiles para diferentes escenarios.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-299">hello Storage Assets for Message Analyzer include Azure Storage View Layouts, which are pre-configured views that you can use toodisplay your data with useful groupings and columns for different scenarios.</span></span> <span data-ttu-id="d4e5c-300">También puede crear diseños de vista personalizados y guardarlos para volver a usarlos.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-300">You can also create custom view layouts and save them for reuse.</span></span>

<span data-ttu-id="d4e5c-301">Figura Hola siguiente muestra hello **vista Diseño** menú, disponible al seleccionar **diseño de la vista** desde la cinta de opciones de barra de herramientas de Hola.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-301">hello picture below shows hello **View Layout** menu, available by selecting **View Layout** from hello toolbar ribbon.</span></span> <span data-ttu-id="d4e5c-302">diseños de la vista de Hello para el almacenamiento de Azure están agrupados en hello **el almacenamiento de Azure** nodo en el menú de Hola.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-302">hello view layouts for Azure Storage are grouped under hello **Azure Storage** node in hello menu.</span></span> <span data-ttu-id="d4e5c-303">Puede buscar `Azure Storage` en toofilter de cuadro de búsqueda de hello en el almacenamiento de Azure ver solo los diseños.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-303">You can search for `Azure Storage` in hello search box toofilter on Azure Storage view layouts only.</span></span> <span data-ttu-id="d4e5c-304">También puede seleccionar Hola estrella siguiente tooa vista Diseño toomake TI un favorito y mostrarla en la parte superior de hello del menú de Hola.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-304">You can also select hello star next tooa view layout toomake it a favorite and display it at hello top of hello menu.</span></span>

![Menú de diseño de vista](./media/storage-e2e-troubleshooting-classic-portal/view-layout-menu.png)

<span data-ttu-id="d4e5c-306">toobegin con select **agrupados por módulo y ClientRequestID**.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-306">toobegin with, select **Grouped by ClientRequestID and Module**.</span></span> <span data-ttu-id="d4e5c-307">Este diseño de vista agrupa los datos de registro de los tres registros de la siguiente manera: primero, por identificador de solicitud de cliente y, después, por archivo de registro de origen (o **Module** en el analizador de mensajes).</span><span class="sxs-lookup"><span data-stu-id="d4e5c-307">This view layout groups log data from all three logs first by client request ID, then by source log file (or **Module** in Message Analyzer).</span></span> <span data-ttu-id="d4e5c-308">Con esta vista, podrá explorar en profundidad un identificador de solicitud de cliente en particular y ver los datos de los tres archivos de registro relativos a ese identificador de solicitud de cliente.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-308">With this view, you can drill down into a particular client request ID, and see data from all three log files for that client request ID.</span></span>

<span data-ttu-id="d4e5c-309">Figura Hola siguiente muestra estos datos de registro de diseño vista aplicada toohello ejemplo, con un subconjunto de las columnas mostradas.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-309">hello picture below shows this layout view applied toohello sample log data, with a subset of columns displayed.</span></span> <span data-ttu-id="d4e5c-310">Puede ver que para un Id. de solicitud de cliente en particular, Hola Analysis cuadrícula muestra los datos de registro de cliente de Hola y registro de servidor, seguimiento de la red.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-310">You can see that for a particular client request ID, hello Analysis Grid displays data from hello client log, server log, and network trace.</span></span>

![Diseño de vista de Almacenamiento de Azure](./media/storage-e2e-troubleshooting-classic-portal/view-layout-client-request-id-module.png)

> [!NOTE]
> <span data-ttu-id="d4e5c-312">Archivos de registro diferentes tienen distintas columnas, por lo que cuando se muestran datos de varios archivos de registro en hello cuadrícula de análisis, algunas columnas no pueden contener los datos de una fila determinada.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-312">Different log files have different columns, so when data from multiple log files is displayed in hello Analysis Grid, some columns may not contain any data for a given row.</span></span> <span data-ttu-id="d4e5c-313">Por ejemplo, en la imagen de hello anterior, las filas del registro de cliente no muestre datos para hello **Timestamp**, **TimeElapsed**, **origen**, y **destino** columnas, ya que estas columnas no existen en el registro de cliente de hello, pero existen en el seguimiento de la red de Hola.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-313">For example, in hello picture above, the client log rows do not show any data for hello **Timestamp**, **TimeElapsed**, **Source**, and **Destination** columns, because these columns do not exist in hello client log, but do exist in hello network trace.</span></span> <span data-ttu-id="d4e5c-314">De forma similar, Hola **marca de tiempo** columna muestra los datos de marca de tiempo de registro del servidor hello, pero se muestre ningún dato para hello **TimeElapsed**, **origen**, y  **Destino** columnas, que no forman parte del registro del servidor hello.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-314">Similarly, hello **Timestamp** column displays timestamp data from hello server log, but no data is displayed for hello **TimeElapsed**, **Source**, and **Destination** columns, which are not part of hello server log.</span></span>
>
>

<span data-ttu-id="d4e5c-315">Además diseños de la vista de almacenamiento de Azure de toousing hello, se puede definir y guardar sus propios diseños de la vista.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-315">In addition toousing hello Azure Storage view layouts, you can also define and save your own view layouts.</span></span> <span data-ttu-id="d4e5c-316">Puede seleccionar otros campos que desee para agrupar los datos y guardar agrupación hello como parte de su diseño personalizado también.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-316">You can select other desired fields for grouping data and save hello grouping as part of your custom layout as well.</span></span>

### <a name="apply-color-rules-toohello-analysis-grid"></a><span data-ttu-id="d4e5c-317">Aplicar reglas de color toohello cuadrícula de análisis</span><span class="sxs-lookup"><span data-stu-id="d4e5c-317">Apply color rules toohello Analysis Grid</span></span>
<span data-ttu-id="d4e5c-318">Activos de almacenamiento de Hello también incluyen reglas de color, que ofrecen que un objeto visual significa tooidentify diferentes tipos de errores de hello cuadrícula de análisis.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-318">hello Storage Assets also include color rules, which offer a visual means tooidentify different types of errors in hello Analysis Grid.</span></span> <span data-ttu-id="d4e5c-319">Hola predefinida aplicar reglas de color tooHTTP errores, para que aparezcan solo para el seguimiento de red y de registro del servidor de Hola.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-319">hello predefined color rules apply tooHTTP errors, so they appear only for hello server log and network trace.</span></span>

<span data-ttu-id="d4e5c-320">Seleccione las reglas de color de tooapply **las reglas de Color** desde la cinta de opciones de barra de herramientas de Hola.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-320">tooapply color rules, select **Color Rules** from hello toolbar ribbon.</span></span> <span data-ttu-id="d4e5c-321">Podrá ver las reglas de color del almacenamiento de Azure de hello en el menú de Hola.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-321">You'll see hello Azure Storage color rules in hello menu.</span></span> <span data-ttu-id="d4e5c-322">Para el tutorial de hello, seleccione **errores del cliente (StatusCode entre 400 y 499)**, tal y como se muestra en figura Hola siguiente.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-322">For hello tutorial, select **Client Errors (StatusCode between 400 and 499)**, as shown in hello picture below.</span></span>

![Diseño de vista de Almacenamiento de Azure](./media/storage-e2e-troubleshooting-classic-portal/color-rules-menu.png)

<span data-ttu-id="d4e5c-324">Además de hello toousing almacenamiento de Azure color reglas, también puede definir y guardar sus propias reglas de color.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-324">In addition toousing hello Azure Storage color rules, you can also define and save your own color rules.</span></span>

### <a name="group-and-filter-log-data-toofind-400-range-errors"></a><span data-ttu-id="d4e5c-325">Grupo y filtrar datos toofind intervalo de 400 errores del registro</span><span class="sxs-lookup"><span data-stu-id="d4e5c-325">Group and filter log data toofind 400-range errors</span></span>
<span data-ttu-id="d4e5c-326">A continuación, se podrá agrupar y filtrar toofind de datos de registro de hello todos los errores de intervalo de hello 400.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-326">Next, we'll group and filter hello log data toofind all errors in hello 400 range.</span></span>

1. <span data-ttu-id="d4e5c-327">Busque hello **StatusCode** columna Hola Analysis cuadrícula, menú contextual columna de hello encabezado y, a continuación, seleccione **grupo**.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-327">Locate hello **StatusCode** column in hello Analysis Grid, right-click hello column heading, and select **Group**.</span></span>
2. <span data-ttu-id="d4e5c-328">A continuación, agrupar por hello **ClientRequestId** columna.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-328">Next, group on hello **ClientRequestId** column.</span></span> <span data-ttu-id="d4e5c-329">Verá que datos Hola Hola que Analysis cuadrícula ahora están organizado por estado de código y solicitud de cliente por identificador.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-329">You'll see that hello data in hello Analysis Grid is now organized by status code and by client request ID.</span></span>
3. <span data-ttu-id="d4e5c-330">Mostrar ventana de herramientas de filtro de la vista de hello si no está ya visible.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-330">Display hello View Filter tool window if it is not already displayed.</span></span> <span data-ttu-id="d4e5c-331">En la cinta de opciones de barra de herramientas de hello, seleccione **las ventanas de herramientas**, a continuación, **filtro de vista**.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-331">On hello toolbar ribbon, select **Tool Windows**, then **View Filter**.</span></span>
4. <span data-ttu-id="d4e5c-332">toofilter Hola datos toodisplay intervalo de 400 solo errores del registro, agregue Hola después toohello de criterios de filtro **filtro de vista** ventana y haga clic en **aplicar**:</span><span class="sxs-lookup"><span data-stu-id="d4e5c-332">toofilter hello log data toodisplay only 400-range errors, add hello following filter criteria toohello **View Filter** window, and click **Apply**:</span></span>

    ```   
    (AzureStorageLog.StatusCode >= 400 && AzureStorageLog.StatusCode <=499) || (HTTP.StatusCode >= 400 && HTTP.StatusCode <= 499)
    ```

<span data-ttu-id="d4e5c-333">Figura Hola siguiente muestra los resultados de Hola de esta agrupación y filtro.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-333">hello picture below shows hello results of this grouping and filter.</span></span> <span data-ttu-id="d4e5c-334">Hola expansión **ClientRequestID** campo debajo Hola agrupar para el código de estado 409, por ejemplo, se muestra una operación que dieron lugar a ese código de estado.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-334">Expanding hello **ClientRequestID** field beneath hello grouping for status code 409, for example, shows an operation that resulted in that status code.</span></span>

![Diseño de vista de Almacenamiento de Azure](./media/storage-e2e-troubleshooting-classic-portal/400-range-errors1.png)

<span data-ttu-id="d4e5c-336">Después de aplicar este filtro, verá que se excluyen las filas del registro de cliente de hello, como Hola registro de cliente no incluye un **StatusCode** columna.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-336">After applying this filter, you'll see that rows from hello client log are excluded, as hello client log does not include a **StatusCode** column.</span></span> <span data-ttu-id="d4e5c-337">toobegin con, revisaremos servidor hello y errores de 404 de toolocate de registros de seguimiento de red y, a continuación, se tendrá que volver toohello registro tooexamine Hola cliente las operaciones de cliente que ha provocado toothem.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-337">toobegin with, we'll review hello server and network trace logs toolocate 404 errors, and then we'll return toohello client log tooexamine hello client operations that led toothem.</span></span>

> [!NOTE]
> <span data-ttu-id="d4e5c-338">También puede filtrar por hello **StatusCode** columna y muestre los datos de todos los registros de tres, incluidos Hola registro de cliente, si agrega un filtro de toohello de expresión que incluye entradas del registro donde el código de estado de hello es null.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-338">You can filter on hello **StatusCode** column and still display data from all three logs, including hello client log, if you add an expression toohello filter that includes log entries where hello status code is null.</span></span> <span data-ttu-id="d4e5c-339">tooconstruct esta expresión de filtro, use:</span><span class="sxs-lookup"><span data-stu-id="d4e5c-339">tooconstruct this filter expression, use:</span></span>
>
> <code>&#42;StatusCode >= 400 or !&#42;StatusCode</code>
>
> <span data-ttu-id="d4e5c-340">Este filtro devuelve todas las filas de cliente hello registro y sólo las filas de registro del servidor de Hola y de registro HTTP donde el código de estado de hello es superior a 400.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-340">This filter returns all rows from hello client log and only rows from hello server log and HTTP log where hello status code is greater than 400.</span></span> <span data-ttu-id="d4e5c-341">Si aplica diseño de la vista de toohello agrupado por identificador de solicitud de cliente y el módulo, puede buscar o desplácese por hello registrar entradas toofind aquellos que se representan todas las tres registros.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-341">If you apply it toohello view layout grouped by client request ID and module, you can search or scroll through hello log entries toofind ones where all three logs are represented.</span></span>   
>
>

### <a name="filter-log-data-toofind-404-errors"></a><span data-ttu-id="d4e5c-342">Filtrar 404 errores de toofind de datos de registro</span><span class="sxs-lookup"><span data-stu-id="d4e5c-342">Filter log data toofind 404 errors</span></span>
<span data-ttu-id="d4e5c-343">los activos de almacenamiento de Hello incluyen filtros predefinidos que puede usar toonarrow registro toofind Hola errores o datos tendencias que está buscando.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-343">hello Storage Assets include predefined filters that you can use toonarrow log data toofind hello errors or trends you are looking for.</span></span> <span data-ttu-id="d4e5c-344">A continuación, se podrá aplicar dos filtros predefinidos: uno que filtra el servidor hello y los registros de seguimiento de red para 404 errores y otro que filtra los datos de hello en un intervalo de tiempo especificado.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-344">Next, we'll apply two predefined filters: one that filters hello server and network trace logs for 404 errors, and one that filters hello data on a specified time range.</span></span>

1. <span data-ttu-id="d4e5c-345">Mostrar ventana de herramientas de filtro de la vista de hello si no está ya visible.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-345">Display hello View Filter tool window if it is not already displayed.</span></span> <span data-ttu-id="d4e5c-346">En la cinta de opciones de barra de herramientas de hello, seleccione **las ventanas de herramientas**, a continuación, **filtro de vista**.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-346">On hello toolbar ribbon, select **Tool Windows**, then **View Filter**.</span></span>
2. <span data-ttu-id="d4e5c-347">En la ventana de filtro de la vista de hello, seleccione **biblioteca**y buscar en `Azure Storage` hello toofind filtra el almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-347">In hello View Filter window, select **Library**, and search on `Azure Storage` toofind hello Azure Storage filters.</span></span> <span data-ttu-id="d4e5c-348">Filtro de hello SELECT para **404 (no encontrado) los mensajes en todos los registros**.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-348">Select hello filter for **404 (Not Found) messages in all logs**.</span></span>
3. <span data-ttu-id="d4e5c-349">Hola de presentación **biblioteca** menú nuevo y busque y seleccione hello **Global filtro de tiempo**.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-349">Display hello **Library** menu again, and locate and select hello **Global Time Filter**.</span></span>
4. <span data-ttu-id="d4e5c-350">Editar hello las marcas de tiempo que se muestra en el intervalo de hello filtro toohello que desea tooview.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-350">Edit hello timestamps shown in hello filter toohello range you wish tooview.</span></span> <span data-ttu-id="d4e5c-351">Esto le ayudará a intervalo de hello toonarrow de tooanalyze de datos.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-351">This will help toonarrow hello range of data tooanalyze.</span></span>
5. <span data-ttu-id="d4e5c-352">El filtro debe aparecer similar toohello de ejemplo siguiente.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-352">Your filter should appear similar toohello example below.</span></span> <span data-ttu-id="d4e5c-353">Haga clic en **aplicar** tooapply Hola filtro toohello cuadrícula de análisis.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-353">Click **Apply** tooapply hello filter toohello Analysis Grid.</span></span>

    ```   
    ((AzureStorageLog.StatusCode == 404 || HTTP.StatusCode == 404)) And
    (#Timestamp >= 2014-10-20T16:36:38 and #Timestamp <= 2014-10-20T16:36:39)
    ```

![Diseño de vista de Almacenamiento de Azure](./media/storage-e2e-troubleshooting-classic-portal/404-filtered-errors1.png)

### <a name="analyze-your-log-data"></a><span data-ttu-id="d4e5c-355">Analizar los datos de registro</span><span class="sxs-lookup"><span data-stu-id="d4e5c-355">Analyze your log data</span></span>
<span data-ttu-id="d4e5c-356">Ahora que ha agrupado y filtrar los datos, puede examinar los detalles de Hola de las solicitudes individuales que generó 404 errores.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-356">Now that you have grouped and filtered your data, you can examine hello details of individual requests that generated 404 errors.</span></span> <span data-ttu-id="d4e5c-357">En el diseño de la vista actual de hello, datos de Hola se agrupan por Id. de solicitud de cliente, a continuación, por el origen del registro.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-357">In hello current view layout, hello data is grouped by client request ID, then by log source.</span></span> <span data-ttu-id="d4e5c-358">Puesto que se filtra en las solicitudes donde el campo de hello StatusCode contiene 404, veremos sólo servidor hello y datos de seguimiento de red, no datos de registro de hello cliente.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-358">Since we are filtering on requests where hello StatusCode field contains 404, we'll see only hello server and network trace data, not hello client log data.</span></span>

<span data-ttu-id="d4e5c-359">Hola imagen siguiente muestra una solicitud específica donde produjo un error 404 en una operación Get Blob porque no existe el blob de Hola.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-359">hello picture below shows a specific request where a Get Blob operation yielded a 404 because hello blob did not exist.</span></span> <span data-ttu-id="d4e5c-360">Tenga en cuenta que algunas columnas se han quitado de la vista estándar de hello en los datos relevantes de orden toodisplay Hola.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-360">Note that some columns have been removed from hello standard view in order toodisplay hello relevant data.</span></span>

![Registros de servidor y de seguimiento de red filtrados](./media/storage-e2e-troubleshooting-classic-portal/server-filtered-404-error.png)

<span data-ttu-id="d4e5c-362">A continuación, se podrá correlacionar este Id. de solicitud de cliente con toosee de datos de registro de cliente de hello estaba tardando qué cliente Hola de acciones cuando se ha producido un error de Hola.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-362">Next, we'll correlate this client request ID with hello client log data toosee what actions hello client was taking when hello error happened.</span></span> <span data-ttu-id="d4e5c-363">Puede mostrar una nueva vista de cuadrícula de análisis para esta sesión tooview Hola cliente datos del registro, que se abreen en una segunda pestaña:</span><span class="sxs-lookup"><span data-stu-id="d4e5c-363">You can display a new Analysis Grid view for this session tooview hello client log data, which opens in a second tab:</span></span>

1. <span data-ttu-id="d4e5c-364">En primer lugar, Copiar valor de Hola de hello **ClientRequestId** Portapapeles toohello de campo.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-364">First, copy hello value of hello **ClientRequestId** field toohello clipboard.</span></span> <span data-ttu-id="d4e5c-365">Para hacer esto seleccionando cualquier fila, buscar hello **ClientRequestId** campo, haciendo doble clic en el valor de datos de Hola y elegir **copia 'ClientRequestId'**.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-365">You can do this by selecting either row, locating hello **ClientRequestId** field, right-clicking on hello data value, and choosing **Copy 'ClientRequestId'**.</span></span>
2. <span data-ttu-id="d4e5c-366">En la cinta de opciones de barra de herramientas de hello, seleccione **nuevo visor**, a continuación, seleccione **Analysis cuadrícula** tooopen una nueva pestaña Hola nueva pestaña muestra todos los datos en los archivos de registro, sin agrupar, filtrar o las reglas de color.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-366">On hello toolbar ribbon, select **New Viewer**, then select **Analysis Grid** tooopen a new tab. hello new tab shows all data in your log files, without grouping, filtering, or color rules.</span></span>
3. <span data-ttu-id="d4e5c-367">En la cinta de opciones de barra de herramientas de hello, seleccione **vista Diseño**, a continuación, seleccione **todas las columnas de cliente de .NET** en hello **el almacenamiento de Azure** sección.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-367">On hello toolbar ribbon, select **View Layout**, then select **All .NET Client Columns** under hello **Azure Storage** section.</span></span> <span data-ttu-id="d4e5c-368">Este diseño de la vista muestra datos de registro de cliente de hello, así como Hola registros de seguimiento de red y el servidor.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-368">This view layout shows data from hello client log as well as hello server and network trace logs.</span></span> <span data-ttu-id="d4e5c-369">De forma predeterminada se ordena en hello **MessageNumber** columna.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-369">By default it is sorted on hello **MessageNumber** column.</span></span>
4. <span data-ttu-id="d4e5c-370">A continuación, busque el registro del cliente de Hola Id. de solicitud de cliente de Hola.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-370">Next, search hello client log for hello client request ID.</span></span> <span data-ttu-id="d4e5c-371">En la cinta de opciones de barra de herramientas de hello, seleccione **buscar mensajes**, a continuación, especifique un filtro personalizado del Id. de solicitud del cliente de Hola de hello **buscar** campo.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-371">On hello toolbar ribbon, select **Find Messages**, then specify a custom filter on hello client request ID in hello **Find** field.</span></span> <span data-ttu-id="d4e5c-372">Use esta sintaxis de filtro de Hola y especificar su propio Id. de solicitud de cliente:</span><span class="sxs-lookup"><span data-stu-id="d4e5c-372">Use this syntax for hello filter, specifying your own client request ID:</span></span>

    ```  
    *ClientRequestId == "398bac41-7725-484b-8a69-2a9e48fc669a"
    ```

<span data-ttu-id="d4e5c-373">Analizador de mensajes busca y selecciona la primera entrada de registro Hola donde los criterios de búsqueda de hello coincide con Id. de solicitud de cliente de Hola.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-373">Message Analyzer locates and selects hello first log entry where hello search criteria matches hello client request ID.</span></span> <span data-ttu-id="d4e5c-374">En el registro de cliente de hello, hay varias entradas para cada Id. de solicitud de cliente, por lo que puede toogroup usarlas en hello **ClientRequestId** toomake de campo sea más fácil toosee ellos todos juntos.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-374">In hello client log, there are several entries for each client request ID, so you may want toogroup them on hello **ClientRequestId** field toomake it easier toosee them all together.</span></span> <span data-ttu-id="d4e5c-375">imagen de Hello siguiente muestra todos los mensajes de saludo de cliente hello de registro de hello especificado identificador de solicitud de cliente.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-375">hello picture below shows all of hello messages in hello client log for hello specified client request ID.</span></span>

![Registro de cliente con errores 404](./media/storage-e2e-troubleshooting-classic-portal/client-log-analysis-grid1.png)

<span data-ttu-id="d4e5c-377">Con los datos de Hola que se muestra en los diseños de la vista de hello en estos dos pestañas, puede analizar Hola solicitud datos toodetermine cuál puede ser la causa errores de Hola.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-377">Using hello data shown in hello view layouts in these two tabs, you can analyze hello request data toodetermine what may have caused hello error.</span></span> <span data-ttu-id="d4e5c-378">También puede mirar las solicitudes que precedió a este uno toosee si un evento anterior puede hayan originado el error 404 toohello.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-378">You can also look at requests that preceded this one toosee if a previous event may have led toohello 404 error.</span></span> <span data-ttu-id="d4e5c-379">Por ejemplo, puede revisar las entradas del registro de cliente de hello anterior a este toodetermine de Id. de solicitud de cliente si el blob de Hola se haya eliminado, o si Hola error se produjo debido toohello aplicación de cliente al llamar a una API de CreateIfNotExists en un contenedor o blob.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-379">For example, you can review hello client log entries preceding this client request ID toodetermine whether hello blob may have been deleted, or if hello error was due toohello client application calling a CreateIfNotExists API on a container or blob.</span></span> <span data-ttu-id="d4e5c-380">En el registro de cliente de hello, puede encontrar dirección del blob de Hola Hola **descripción** campo; en el servidor de Hola y registros de seguimiento de red, esta información aparece en hello **resumen** campo.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-380">In hello client log, you can find hello blob's address in hello **Description** field; in hello server and network trace logs, this information appears in hello **Summary** field.</span></span>

<span data-ttu-id="d4e5c-381">Una vez que sepa dirección Hola del blob de Hola que produjo el error 404 hello, puede investigar más.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-381">Once you know hello address of hello blob that yielded hello 404 error, you can investigate further.</span></span> <span data-ttu-id="d4e5c-382">Si desea buscar entradas de registro de hello para otros mensajes relacionados con operaciones en hello mismo blob, puede comprobar si el cliente de hello eliminado previamente entidad Hola.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-382">If you search hello log entries for other messages associated with operations on hello same blob, you can check whether hello client previously deleted hello entity.</span></span>

## <a name="analyze-other-types-of-storage-errors"></a><span data-ttu-id="d4e5c-383">Analizar otros tipos de errores de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="d4e5c-383">Analyze other types of storage errors</span></span>
<span data-ttu-id="d4e5c-384">Ahora que está familiarizado con el analizador de mensajes tooanalyze los datos de registro, puede analizar los otros tipos de errores mediante vista diseños, las reglas de color y búsqueda de filtrado.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-384">Now that you are familiar with using Message Analyzer tooanalyze your log data, you can analyze other types of errors using view layouts, color rules, and searching/filtering.</span></span> <span data-ttu-id="d4e5c-385">Hola tablas a continuación se indican algunos problemas que pueden surgir y Hola criterios de filtro que se puede usar toolocate ellos.</span><span class="sxs-lookup"><span data-stu-id="d4e5c-385">hello tables below lists some issues you may encounter and hello filter criteria you can use toolocate them.</span></span> <span data-ttu-id="d4e5c-386">Para obtener más información sobre la creación de filtros y analizador de mensajes de Hola filtrado de idioma, consulte [filtrar datos de mensaje](http://technet.microsoft.com/library/jj819365.aspx).</span><span class="sxs-lookup"><span data-stu-id="d4e5c-386">For more information on constructing filters and hello Message Analyzer filtering language, see [Filtering Message Data](http://technet.microsoft.com/library/jj819365.aspx).</span></span>

| <span data-ttu-id="d4e5c-387">tooInvestigate...</span><span class="sxs-lookup"><span data-stu-id="d4e5c-387">tooInvestigate…</span></span> | <span data-ttu-id="d4e5c-388">Use la expresión de filtro...</span><span class="sxs-lookup"><span data-stu-id="d4e5c-388">Use Filter Expression…</span></span> | <span data-ttu-id="d4e5c-389">Expresión se aplica tooLog (cliente, servidor, red, todos)</span><span class="sxs-lookup"><span data-stu-id="d4e5c-389">Expression Applies tooLog (Client, Server,   Network, All)</span></span> |
| --- | --- | --- |
| <span data-ttu-id="d4e5c-390">Retrasos inesperados en la entrega de mensajes en una cola</span><span class="sxs-lookup"><span data-stu-id="d4e5c-390">Unexpected delays in message delivery on a queue</span></span> |<span data-ttu-id="d4e5c-391">AzureStorageClientDotNetV4.Description contiene "Intentando de nuevo la operación con error."</span><span class="sxs-lookup"><span data-stu-id="d4e5c-391">AzureStorageClientDotNetV4.Description   contains "Retrying failed operation."</span></span> |<span data-ttu-id="d4e5c-392">Cliente</span><span class="sxs-lookup"><span data-stu-id="d4e5c-392">Client</span></span> |
| <span data-ttu-id="d4e5c-393">Aumento de HTTP en PercentThrottlingError</span><span class="sxs-lookup"><span data-stu-id="d4e5c-393">HTTP Increase in PercentThrottlingError</span></span> |<span data-ttu-id="d4e5c-394">HTTP.Response.StatusCode   == 500 &#124;&#124; HTTP.Response.StatusCode == 503</span><span class="sxs-lookup"><span data-stu-id="d4e5c-394">HTTP.Response.StatusCode   == 500 &#124;&#124; HTTP.Response.StatusCode == 503</span></span> |<span data-ttu-id="d4e5c-395">Red</span><span class="sxs-lookup"><span data-stu-id="d4e5c-395">Network</span></span> |
| <span data-ttu-id="d4e5c-396">Aumento en PercentTimeoutError</span><span class="sxs-lookup"><span data-stu-id="d4e5c-396">Increase in PercentTimeoutError</span></span> |<span data-ttu-id="d4e5c-397">HTTP.Response.StatusCode   == 500</span><span class="sxs-lookup"><span data-stu-id="d4e5c-397">HTTP.Response.StatusCode   == 500</span></span> |<span data-ttu-id="d4e5c-398">Red</span><span class="sxs-lookup"><span data-stu-id="d4e5c-398">Network</span></span> |
| <span data-ttu-id="d4e5c-399">Aumento en PercentTimeoutError (todos)</span><span class="sxs-lookup"><span data-stu-id="d4e5c-399">Increase in PercentTimeoutError (all)</span></span> |<span data-ttu-id="d4e5c-400">*StatusCode   == 500</span><span class="sxs-lookup"><span data-stu-id="d4e5c-400">*StatusCode   == 500</span></span> |<span data-ttu-id="d4e5c-401">Todo</span><span class="sxs-lookup"><span data-stu-id="d4e5c-401">All</span></span> |
| <span data-ttu-id="d4e5c-402">Aumento de PercentNetworkError</span><span class="sxs-lookup"><span data-stu-id="d4e5c-402">Increase in PercentNetworkError</span></span> |<span data-ttu-id="d4e5c-403">AzureStorageClientDotNetV4.EventLogEntry.Level   < 2</span><span class="sxs-lookup"><span data-stu-id="d4e5c-403">AzureStorageClientDotNetV4.EventLogEntry.Level   < 2</span></span> |<span data-ttu-id="d4e5c-404">Cliente</span><span class="sxs-lookup"><span data-stu-id="d4e5c-404">Client</span></span> |
| <span data-ttu-id="d4e5c-405">Mensajes HTTP 403 (Prohibido)</span><span class="sxs-lookup"><span data-stu-id="d4e5c-405">HTTP 403 (Forbidden) messages</span></span> |<span data-ttu-id="d4e5c-406">HTTP.Response.StatusCode   == 403</span><span class="sxs-lookup"><span data-stu-id="d4e5c-406">HTTP.Response.StatusCode   == 403</span></span> |<span data-ttu-id="d4e5c-407">Red</span><span class="sxs-lookup"><span data-stu-id="d4e5c-407">Network</span></span> |
| <span data-ttu-id="d4e5c-408">Mensajes HTTP 404 (No encontrado)</span><span class="sxs-lookup"><span data-stu-id="d4e5c-408">HTTP 404 (Not found) messages</span></span> |<span data-ttu-id="d4e5c-409">HTTP.Response.StatusCode   == 404</span><span class="sxs-lookup"><span data-stu-id="d4e5c-409">HTTP.Response.StatusCode   == 404</span></span> |<span data-ttu-id="d4e5c-410">Red</span><span class="sxs-lookup"><span data-stu-id="d4e5c-410">Network</span></span> |
| <span data-ttu-id="d4e5c-411">404 (Todo)</span><span class="sxs-lookup"><span data-stu-id="d4e5c-411">404 (all)</span></span> |<span data-ttu-id="d4e5c-412">*StatusCode   == 404</span><span class="sxs-lookup"><span data-stu-id="d4e5c-412">*StatusCode   == 404</span></span> |<span data-ttu-id="d4e5c-413">Todo</span><span class="sxs-lookup"><span data-stu-id="d4e5c-413">All</span></span> |
| <span data-ttu-id="d4e5c-414">Problema de autorización de la Firma de acceso compartido (SAS)</span><span class="sxs-lookup"><span data-stu-id="d4e5c-414">Shared Access Signature (SAS) authorization issue</span></span> |<span data-ttu-id="d4e5c-415">AzureStorageLog.RequestStatus ==  "SASAuthorizationError"</span><span class="sxs-lookup"><span data-stu-id="d4e5c-415">AzureStorageLog.RequestStatus ==  "SASAuthorizationError"</span></span> |<span data-ttu-id="d4e5c-416">Red</span><span class="sxs-lookup"><span data-stu-id="d4e5c-416">Network</span></span> |
| <span data-ttu-id="d4e5c-417">Mensajes HTTP 409 (conflicto)</span><span class="sxs-lookup"><span data-stu-id="d4e5c-417">HTTP 409 (Conflict) messages</span></span> |<span data-ttu-id="d4e5c-418">HTTP.Response.StatusCode   == 409</span><span class="sxs-lookup"><span data-stu-id="d4e5c-418">HTTP.Response.StatusCode   == 409</span></span> |<span data-ttu-id="d4e5c-419">Red</span><span class="sxs-lookup"><span data-stu-id="d4e5c-419">Network</span></span> |
| <span data-ttu-id="d4e5c-420">409 (Todo)</span><span class="sxs-lookup"><span data-stu-id="d4e5c-420">409 (all)</span></span> |<span data-ttu-id="d4e5c-421">*StatusCode   == 409</span><span class="sxs-lookup"><span data-stu-id="d4e5c-421">*StatusCode   == 409</span></span> |<span data-ttu-id="d4e5c-422">Todo</span><span class="sxs-lookup"><span data-stu-id="d4e5c-422">All</span></span> |
| <span data-ttu-id="d4e5c-423">Valor de PercentSuccess bajo o las entradas de registro de análisis tienen operaciones con el estado de transacción ClientOtherErrors</span><span class="sxs-lookup"><span data-stu-id="d4e5c-423">Low PercentSuccess or analytics log entries have   operations with transaction status of ClientOtherErrors</span></span> |<span data-ttu-id="d4e5c-424">AzureStorageLog.RequestStatus ==   "ClientOtherError"</span><span class="sxs-lookup"><span data-stu-id="d4e5c-424">AzureStorageLog.RequestStatus ==   "ClientOtherError"</span></span> |<span data-ttu-id="d4e5c-425">Server</span><span class="sxs-lookup"><span data-stu-id="d4e5c-425">Server</span></span> |
| <span data-ttu-id="d4e5c-426">Advertencia de Nagle</span><span class="sxs-lookup"><span data-stu-id="d4e5c-426">Nagle   Warning</span></span> |<span data-ttu-id="d4e5c-427">((AzureStorageLog.EndToEndLatencyMS   - AzureStorageLog.ServerLatencyMS) > (AzureStorageLog.ServerLatencyMS *   1.5)) y (AzureStorageLog.RequestPacketSize <1460) y (AzureStorageLog.EndToEndLatencyMS -   AzureStorageLog.ServerLatencyMS >= 200)</span><span class="sxs-lookup"><span data-stu-id="d4e5c-427">((AzureStorageLog.EndToEndLatencyMS   - AzureStorageLog.ServerLatencyMS) > (AzureStorageLog.ServerLatencyMS *   1.5)) and (AzureStorageLog.RequestPacketSize <1460) and (AzureStorageLog.EndToEndLatencyMS -   AzureStorageLog.ServerLatencyMS >= 200)</span></span> |<span data-ttu-id="d4e5c-428">Server</span><span class="sxs-lookup"><span data-stu-id="d4e5c-428">Server</span></span> |
| <span data-ttu-id="d4e5c-429">Intervalo de tiempo en los registros de servidor y red</span><span class="sxs-lookup"><span data-stu-id="d4e5c-429">Range of   time in Server and Network logs</span></span> |<span data-ttu-id="d4e5c-430">#Timestamp   >= 2014-10-20T16:36:38 and #Timestamp <= 2014-10-20T16:36:39</span><span class="sxs-lookup"><span data-stu-id="d4e5c-430">#Timestamp   >= 2014-10-20T16:36:38 and #Timestamp <= 2014-10-20T16:36:39</span></span> |<span data-ttu-id="d4e5c-431">Servidor, red</span><span class="sxs-lookup"><span data-stu-id="d4e5c-431">Server, Network</span></span> |
| <span data-ttu-id="d4e5c-432">Intervalo de tiempo en registros de servidor</span><span class="sxs-lookup"><span data-stu-id="d4e5c-432">Range of   time in Server logs</span></span> |<span data-ttu-id="d4e5c-433">AzureStorageLog.Timestamp   >= 2014-10-20T16:36:38 y AzureStorageLog.Timestamp <=   2014-10-20T16:36:39</span><span class="sxs-lookup"><span data-stu-id="d4e5c-433">AzureStorageLog.Timestamp   >= 2014-10-20T16:36:38 and AzureStorageLog.Timestamp <=   2014-10-20T16:36:39</span></span> |<span data-ttu-id="d4e5c-434">Server</span><span class="sxs-lookup"><span data-stu-id="d4e5c-434">Server</span></span> |

## <a name="next-steps"></a><span data-ttu-id="d4e5c-435">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="d4e5c-435">Next steps</span></span>
<span data-ttu-id="d4e5c-436">Para más información sobre los escenarios de solución integral de problemas en Almacenamiento de Azure, vea los siguientes recursos:</span><span class="sxs-lookup"><span data-stu-id="d4e5c-436">For more information about troubleshooting end-to-end scenarios in Azure Storage, see these resources:</span></span>

* [<span data-ttu-id="d4e5c-437">Supervisión, diagnóstico y solución de problemas de Almacenamiento de Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="d4e5c-437">Monitor, diagnose, and troubleshoot Microsoft Azure Storage</span></span>](storage-monitoring-diagnosing-troubleshooting.md)
* [<span data-ttu-id="d4e5c-438">Análisis de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="d4e5c-438">Storage Analytics</span></span>](http://msdn.microsoft.com/library/azure/hh343270.aspx)
* [<span data-ttu-id="d4e5c-439">Supervisar una cuenta de almacenamiento en hello Portal de Azure</span><span class="sxs-lookup"><span data-stu-id="d4e5c-439">Monitor a storage account in hello Azure Portal</span></span>](storage-monitor-storage-account.md)
* [<span data-ttu-id="d4e5c-440">Transferencia de datos con la utilidad de línea de comandos de AzCopy Hola</span><span class="sxs-lookup"><span data-stu-id="d4e5c-440">Transfer data with hello AzCopy command-line utility</span></span>](storage-use-azcopy.md)
* [<span data-ttu-id="d4e5c-441">Guía de funcionamiento del analizador de mensajes de Microsoft</span><span class="sxs-lookup"><span data-stu-id="d4e5c-441">Microsoft Message Analyzer Operating Guide</span></span>](http://technet.microsoft.com/library/jj649776.aspx)
