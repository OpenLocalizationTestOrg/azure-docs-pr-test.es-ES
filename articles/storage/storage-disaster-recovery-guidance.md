---
title: "Qué hacer si se produce una interrupción del servicio de Azure Storage | Microsoft Docs"
description: "Qué hacer si se produce una interrupción del servicio de Almacenamiento de Azure"
services: storage
documentationcenter: .net
author: robinsh
manager: timlt
editor: tysonn
ms.assetid: 8f040b0f-8926-4831-ac07-79f646f31926
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 1/19/2017
ms.author: robinsh
ms.openlocfilehash: 83ab487f382eb84aa64b927bdf5560eec5cbbd6d
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 07/11/2017
---
# <a name="what-to-do-if-an-azure-storage-outage-occurs"></a><span data-ttu-id="c086f-103">Qué hacer si se produce una interrupción del servicio de Almacenamiento de Azure</span><span class="sxs-lookup"><span data-stu-id="c086f-103">What to do if an Azure Storage outage occurs</span></span>
<span data-ttu-id="c086f-104">En Microsoft, hacemos todo lo posible para garantizar que los servicios siempre estén disponibles.</span><span class="sxs-lookup"><span data-stu-id="c086f-104">At Microsoft, we work hard to make sure our services are always available.</span></span> <span data-ttu-id="c086f-105">A veces, debido a factores externos que escapan de nuestro control, se producen interrupciones de servicio no planeadas en una o varias regiones.</span><span class="sxs-lookup"><span data-stu-id="c086f-105">Sometimes, forces beyond our control impact us in ways that cause unplanned service outages in one or more regions.</span></span> <span data-ttu-id="c086f-106">Para ayudarlo a gestionar estos raros imprevistos, ofrecemos la siguiente guía general para los servicios de Almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="c086f-106">To help you handle these rare occurrences, we provide the following high-level guidance for Azure Storage services.</span></span>

## <a name="how-to-prepare"></a><span data-ttu-id="c086f-107">Preparación</span><span class="sxs-lookup"><span data-stu-id="c086f-107">How to prepare</span></span>
<span data-ttu-id="c086f-108">Es fundamental que todos los clientes preparen su propio plan de recuperación ante desastres.</span><span class="sxs-lookup"><span data-stu-id="c086f-108">It is critical for every customer to prepare their own disaster recovery plan.</span></span> <span data-ttu-id="c086f-109">Para recuperarse de una interrupción de los servicios de almacenamiento, normalmente hay que realizar procedimientos automatizados e implicar al personal de operaciones con el objetivo de reactivar las aplicaciones para que funcionen con normalidad.</span><span class="sxs-lookup"><span data-stu-id="c086f-109">The effort to recover from a storage outage typically involves both operations personnel and automated procedures in order to reactivate your applications in a functioning state.</span></span> <span data-ttu-id="c086f-110">Consulte la documentación de Azure para crear su propio plan de recuperación ante desastres:</span><span class="sxs-lookup"><span data-stu-id="c086f-110">Please refer to the Azure documentation below to build your own disaster recovery plan:</span></span>

* [<span data-ttu-id="c086f-111">Recuperación ante desastres y alta disponibilidad para aplicaciones de Azure</span><span class="sxs-lookup"><span data-stu-id="c086f-111">Disaster recovery and high availability for Azure applications</span></span>](../resiliency/resiliency-disaster-recovery-high-availability-azure-applications.md)
* [<span data-ttu-id="c086f-112">Guía técnica sobre resistencia en Azure</span><span class="sxs-lookup"><span data-stu-id="c086f-112">Azure resiliency technical guidance</span></span>](../resiliency/resiliency-technical-guidance.md)
* [<span data-ttu-id="c086f-113">Servicio Azure Site Recovery</span><span class="sxs-lookup"><span data-stu-id="c086f-113">Azure Site Recovery service</span></span>](https://azure.microsoft.com/services/site-recovery/)
* [<span data-ttu-id="c086f-114">Replicación de almacenamiento de Azure</span><span class="sxs-lookup"><span data-stu-id="c086f-114">Azure Storage replication</span></span>](storage-redundancy.md)
* [<span data-ttu-id="c086f-115">Azure Backup</span><span class="sxs-lookup"><span data-stu-id="c086f-115">Azure Backup service</span></span>](https://azure.microsoft.com/services/backup/)

## <a name="how-to-detect"></a><span data-ttu-id="c086f-116">Detección</span><span class="sxs-lookup"><span data-stu-id="c086f-116">How to detect</span></span>
<span data-ttu-id="c086f-117">La manera recomendada de determinar el estado del servicio de Azure es suscribirse al [panel de estado del servicio de Azure](https://azure.microsoft.com/status/).</span><span class="sxs-lookup"><span data-stu-id="c086f-117">The recommended way to determine the Azure service status is to subscribe to the [Azure Service Health Dashboard](https://azure.microsoft.com/status/).</span></span>

## <a name="what-to-do-if-a-storage-outage-occurs"></a><span data-ttu-id="c086f-118">Qué hacer si se produce una interrupción de los servicios de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="c086f-118">What to do if a Storage outage occurs</span></span>
<span data-ttu-id="c086f-119">Si uno o varios servicios de almacenamiento no están disponibles temporalmente en una o varias regiones, hay dos opciones para tener en cuenta.</span><span class="sxs-lookup"><span data-stu-id="c086f-119">If one or more Storage services are temporarily unavailable at one or more regions, there are two options for you to consider.</span></span> <span data-ttu-id="c086f-120">Si desea acceder de inmediato a los datos, plantéese la opción 2.</span><span class="sxs-lookup"><span data-stu-id="c086f-120">If you desire immediate access to your data, please consider Option 2.</span></span>

### <a name="option-1-wait-for-recovery"></a><span data-ttu-id="c086f-121">Opción 1: esperar a que se recupere el servicio</span><span class="sxs-lookup"><span data-stu-id="c086f-121">Option 1: Wait for recovery</span></span>
<span data-ttu-id="c086f-122">En este caso, no se requieren acciones por su parte.</span><span class="sxs-lookup"><span data-stu-id="c086f-122">In this case, no action on your part is required.</span></span> <span data-ttu-id="c086f-123">Trabajaremos con rapidez para que el servicio de Azure vuelva a estar disponible.</span><span class="sxs-lookup"><span data-stu-id="c086f-123">We are working diligently to restore the Azure service availability.</span></span> <span data-ttu-id="c086f-124">Puede supervisar el estado del servicio en el [panel de estado del servicio de Azure](https://azure.microsoft.com/status/).</span><span class="sxs-lookup"><span data-stu-id="c086f-124">You can monitor the service status on the [Azure Service Health Dashboard](https://azure.microsoft.com/status/).</span></span>

### <a name="option-2-copy-data-from-secondary"></a><span data-ttu-id="c086f-125">Opción 2: copiar los datos de la región secundaria</span><span class="sxs-lookup"><span data-stu-id="c086f-125">Option 2: Copy data from secondary</span></span>
<span data-ttu-id="c086f-126">Si eligió el [almacenamiento con redundancia geográfica con acceso de lectura (RA-GRS)](storage-redundancy.md#read-access-geo-redundant-storage) (recomendado) en las cuentas de almacenamiento, tendrá acceso de lectura a los datos de la región secundaria.</span><span class="sxs-lookup"><span data-stu-id="c086f-126">If you chose [Read-access geo-redundant storage (RA-GRS)](storage-redundancy.md#read-access-geo-redundant-storage) (recommended) for your storage accounts, you will have read access to your data from the secondary region.</span></span> <span data-ttu-id="c086f-127">Puede usar herramientas como [AzCopy](storage-use-azcopy.md), [Azure PowerShell](storage-powershell-guide-full.md) y la [biblioteca de movimiento de datos de Azure](https://azure.microsoft.com/blog/introducing-azure-storage-data-movement-library-preview-2/) para copiar los datos de la región secundaria en otra cuenta de almacenamiento de una región donde no se haya producido la interrupción. Después, haga que las aplicaciones apunten a esa cuenta de almacenamiento para proporcionar acceso de lectura y escritura.</span><span class="sxs-lookup"><span data-stu-id="c086f-127">You can use tools such as [AzCopy](storage-use-azcopy.md), [Azure PowerShell](storage-powershell-guide-full.md), and the [Azure Data Movement library](https://azure.microsoft.com/blog/introducing-azure-storage-data-movement-library-preview-2/) to copy data from the secondary region into another storage account in an unimpacted region, and then point your applications to that storage account for both read and write availability.</span></span>

## <a name="what-to-expect-if-a-storage-failover-occurs"></a><span data-ttu-id="c086f-128">Qué esperar si se produce una conmutación por error de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="c086f-128">What to expect if a Storage failover occurs</span></span>
<span data-ttu-id="c086f-129">Si eligió el [almacenamiento con redundancia geográfica (GRS)](storage-redundancy.md#geo-redundant-storage) o el [almacenamiento geográficamente redundante con acceso de lectura (RA-GRS)](storage-redundancy.md#read-access-geo-redundant-storage) (recomendado), Almacenamiento de Azure conservará los datos en dos regiones (la principal y la secundaria).</span><span class="sxs-lookup"><span data-stu-id="c086f-129">If you chose [Geo-redundant storage (GRS)](storage-redundancy.md#geo-redundant-storage) or [Read-access geo-redundant storage (RA-GRS)](storage-redundancy.md#read-access-geo-redundant-storage) (recommended), Azure Storage will keep your data durable in two regions (primary and secondary).</span></span> <span data-ttu-id="c086f-130">En las dos regiones, Almacenamiento de Azure mantendrá constantemente réplicas de los datos.</span><span class="sxs-lookup"><span data-stu-id="c086f-130">In both regions, Azure Storage constantly maintains multiple replicas of your data.</span></span>

<span data-ttu-id="c086f-131">Cuando se produce un desastre regional que afecta a la región primaria, se tratará en primer lugar de restaurar el servicio en esa región.</span><span class="sxs-lookup"><span data-stu-id="c086f-131">When a regional disaster affects your primary region, we will first try to restore the service in that region.</span></span> <span data-ttu-id="c086f-132">Según la naturaleza de los desastres y sus repercusiones, en raras ocasiones es posible que no podamos restaurar la región primaria.</span><span class="sxs-lookup"><span data-stu-id="c086f-132">Dependent upon the nature of the disaster and its impacts, in some rare occasions we may not be able to restore the primary region.</span></span> <span data-ttu-id="c086f-133">En ese momento, realizaremos una conmutación por error geográfica.</span><span class="sxs-lookup"><span data-stu-id="c086f-133">At that point, we will perform a geo-failover.</span></span> <span data-ttu-id="c086f-134">La replicación de datos entre regiones consiste en un proceso asincrónico que puede provocar retrasos, por lo que es posible que se pierdan los cambios que todavía no se hayan replicado a la región secundaria.</span><span class="sxs-lookup"><span data-stu-id="c086f-134">The cross-region data replication is an asynchronous process which can involve a delay, so it is possible that changes that have not yet been replicated to the secondary region may be lost.</span></span> <span data-ttu-id="c086f-135">Puede consultar la [hora de última sincronización de la cuenta de almacenamiento](https://blogs.msdn.microsoft.com/windowsazurestorage/2013/12/11/windows-azure-storage-redundancy-options-and-read-access-geo-redundant-storage/) para obtener información sobre el estado de replicación.</span><span class="sxs-lookup"><span data-stu-id="c086f-135">You can query the ["Last Sync Time" of your storage account](https://blogs.msdn.microsoft.com/windowsazurestorage/2013/12/11/windows-azure-storage-redundancy-options-and-read-access-geo-redundant-storage/) to get details on the replication status.</span></span>

<span data-ttu-id="c086f-136">Ahora hablaremos de dos aspectos relativos a la experiencia de conmutación por error geográfica de almacenamiento:</span><span class="sxs-lookup"><span data-stu-id="c086f-136">A couple of points regarding the storage geo-failover experience:</span></span>

* <span data-ttu-id="c086f-137">La conmutación por error geográfica de almacenamiento solo la activa el equipo de almacenamiento de Azure. El cliente no tiene que hacer nada.</span><span class="sxs-lookup"><span data-stu-id="c086f-137">Storage geo-failover will only be triggered by the Azure Storage team – there is no customer action required.</span></span>
* <span data-ttu-id="c086f-138">Los puntos de conexión de los servicios de almacenamiento que disponga para blobs, tablas, colas y archivos seguirán siendo los mismos después de la conmutación por error; la entrada DNS deberá actualizarse para cambiar de la región primaria a la secundaria.</span><span class="sxs-lookup"><span data-stu-id="c086f-138">Your existing storage service endpoints for blobs, tables, queues, and files will remain the same after the failover; the DNS entry will need to be updated to switch from the primary region to the secondary region.</span></span>
* <span data-ttu-id="c086f-139">Antes de la conmutación por error geográfica y durante este proceso, no tendrá acceso de escritura a la cuenta de almacenamiento debido a las repercusiones del desastre. Sin embargo, sí que podrá seguir realizando operaciones de lectura en la base de datos secundaria si la cuenta de almacenamiento se ha configurado como RA-GRS.</span><span class="sxs-lookup"><span data-stu-id="c086f-139">Before and during the geo-failover, you won't have write access to your storage account due to the impact of the disaster but you can still read from the secondary if your storage account has been configured as RA-GRS.</span></span>
* <span data-ttu-id="c086f-140">Cuando se haya completado la conmutación por error geográfica y se propaguen los cambios de DNS, se reanudará el acceso de lectura y escritura de la cuenta de almacenamiento. Esto apunta a lo que solía ser el punto de conexión secundario.</span><span class="sxs-lookup"><span data-stu-id="c086f-140">When the geo-failover has been completed and the DNS changes propagated, read and write access to your storage account will be resumed; this points to what used to be your secondary endpoint.</span></span> 
* <span data-ttu-id="c086f-141">Tenga en cuenta que tendrá acceso de escritura si tiene GRS o RA-GRS configurado para la cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="c086f-141">Note that you will have write access if you have GRS or RA-GRS configured for the storage account.</span></span> 
* <span data-ttu-id="c086f-142">Puede consultar la [hora de la última conmutación por error geográfica de la cuenta de almacenamiento](https://msdn.microsoft.com/library/azure/ee460802.aspx) para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="c086f-142">You can query ["Last Geo Failover Time" of your storage account](https://msdn.microsoft.com/library/azure/ee460802.aspx) to get more details.</span></span>
* <span data-ttu-id="c086f-143">Después de la conmutación por error, la cuenta de almacenamiento volverá a estar completamente funcional, pero con un rendimiento reducido, ya que se hospeda realmente en una región independiente donde no se pueden realizar replicaciones geográficas.</span><span class="sxs-lookup"><span data-stu-id="c086f-143">After the failover, your storage account will be fully functioning, but in a "degraded" status, as it is actually hosted in a standalone region with no geo-replication possible.</span></span> <span data-ttu-id="c086f-144">Para mitigar este riesgo, se restaurará la región primaria original y, luego, se realizará una conmutación por error geográfica para restaurar el estado original.</span><span class="sxs-lookup"><span data-stu-id="c086f-144">To mitigate this risk, we will restore the original primary region and then do a geo-failback to restore the original state.</span></span> <span data-ttu-id="c086f-145">Si la región primaria original es irrecuperable, asignamos otra región secundaria.</span><span class="sxs-lookup"><span data-stu-id="c086f-145">If the original primary region is unrecoverable, we will allocate another secondary region.</span></span>
  <span data-ttu-id="c086f-146">Para obtener más información sobre la infraestructura de replicación geográfica de Almacenamiento de Azure, consulte el artículo del blog del equipo de almacenamiento que trata sobre las [opciones de redundancia y RA-GRS](https://blogs.msdn.microsoft.com/windowsazurestorage/2013/12/11/windows-azure-storage-redundancy-options-and-read-access-geo-redundant-storage/).</span><span class="sxs-lookup"><span data-stu-id="c086f-146">For more details on the infrastructure of Azure Storage geo replication, please refer to the article on the Storage team blog about [Redundancy Options and RA-GRS](https://blogs.msdn.microsoft.com/windowsazurestorage/2013/12/11/windows-azure-storage-redundancy-options-and-read-access-geo-redundant-storage/).</span></span>

## <a name="best-practices-for-protecting-your-data"></a><span data-ttu-id="c086f-147">Prácticas recomendadas para proteger los datos</span><span class="sxs-lookup"><span data-stu-id="c086f-147">Best Practices for protecting your data</span></span>
<span data-ttu-id="c086f-148">Para hacer una copia de seguridad de los datos de almacenamiento de forma periódico, hay algunos enfoques que recomendamos.</span><span class="sxs-lookup"><span data-stu-id="c086f-148">There are some recommended approaches to back up your storage data on a regular basis.</span></span>

* <span data-ttu-id="c086f-149">Discos de máquina virtual: use el [servicio de copia de seguridad de Azure](https://azure.microsoft.com/services/backup/) para realizar una copia de seguridad de los discos de máquina virtual que emplean las máquinas virtuales de Azure.</span><span class="sxs-lookup"><span data-stu-id="c086f-149">VM Disks – Use the [Azure Backup service](https://azure.microsoft.com/services/backup/) to back up the VM disks used by your Azure virtual machines.</span></span>
* <span data-ttu-id="c086f-150">Blobs en bloques: cree una [instantánea](https://msdn.microsoft.com/library/azure/hh488361.aspx) de cada blob en bloques o copie los blobs en otra cuenta de almacenamiento de otra región mediante [AzCopy](storage-use-azcopy.md), [Azure PowerShell](storage-powershell-guide-full.md) o la [biblioteca de movimiento de datos de Azure](https://azure.microsoft.com/blog/introducing-azure-storage-data-movement-library-preview-2/).</span><span class="sxs-lookup"><span data-stu-id="c086f-150">Block blobs –Create a [snapshot](https://msdn.microsoft.com/library/azure/hh488361.aspx) of each block blob, or copy the blobs to another storage account in another region using [AzCopy](storage-use-azcopy.md), [Azure PowerShell](storage-powershell-guide-full.md), or the [Azure Data Movement library](https://azure.microsoft.com/blog/introducing-azure-storage-data-movement-library-preview-2/).</span></span>
* <span data-ttu-id="c086f-151">Tablas: use [AzCopy](storage-use-azcopy.md) para exportar los datos de tabla en otra cuenta de almacenamiento de otra región.</span><span class="sxs-lookup"><span data-stu-id="c086f-151">Tables – use [AzCopy](storage-use-azcopy.md) to export the table data into another storage account in another region.</span></span>
* <span data-ttu-id="c086f-152">Archivos: use [AzCopy](storage-use-azcopy.md) o [Azure PowerShell](storage-powershell-guide-full.md) para copiar los archivos en otra cuenta de almacenamiento de otra región.</span><span class="sxs-lookup"><span data-stu-id="c086f-152">Files – use [AzCopy](storage-use-azcopy.md) or [Azure PowerShell](storage-powershell-guide-full.md) to copy your files to another storage account in another region.</span></span>

<span data-ttu-id="c086f-153">Para información sobre cómo crear aplicaciones que aprovechan totalmente la característica RA-GRS, consulte [Diseño de aplicaciones de alta disponibilidad mediante RA-GRS](storage-designing-ha-apps-with-ragrs.md).</span><span class="sxs-lookup"><span data-stu-id="c086f-153">For information about creating applications that take full advantage of the RA-GRS feature, please check out [Designing Highly Available Applications using RA-GRS Storage](storage-designing-ha-apps-with-ragrs.md)</span></span>

