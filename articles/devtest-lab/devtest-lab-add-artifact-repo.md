---
title: "Adición de un repositorio de Git a un laboratorio en Azure DevTest Labs | Microsoft Docs"
description: "Adición de un repositorio Git de GitHub o Visual Studio Team Services para el origen de artefactos personalizados en Azure DevTest Labs"
services: devtest-lab,virtual-machines,visual-studio-online
documentationcenter: na
author: tomarcher
manager: douge
editor: 
ms.assetid: 01b459f7-eaf2-45a8-b4b5-2c0a821b33c8
ms.service: devtest-lab
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/11/2017
ms.author: tarcher
ms.openlocfilehash: 053f92a65f9ae29154d471fd22ee842620b4f273
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/29/2017
---
# <a name="add-a-git-repository-to-store-custom-artifacts-and-azure-resource-manager-templates"></a><span data-ttu-id="f780b-103">Adición de un repositorio de Git para almacenar artefactos personalizados y plantillas de Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="f780b-103">Add a Git repository to store custom artifacts and Azure Resource Manager templates</span></span>

<span data-ttu-id="f780b-104">Si desea [crear artefactos personalizados](devtest-lab-artifact-author.md) para las VM en el laboratorio, o [utilizar plantillas de Azure Resource Manager para crear un entorno de prueba personalizado](devtest-lab-create-environment-from-arm.md), también debe agregar un repositorio Git privado para los artefactos o plantillas de Azure Resource Manager que crea el equipo.</span><span class="sxs-lookup"><span data-stu-id="f780b-104">If you want to [create custom artifacts](devtest-lab-artifact-author.md) for the VMs in your lab, or [use Azure Resource Manager templates to create a custom test environment](devtest-lab-create-environment-from-arm.md), you must also add a private Git repository to include the artifacts or Azure Resource Manager templates that your team creates.</span></span> <span data-ttu-id="f780b-105">El repositorio se puede hospedar en [GitHub](https://github.com) o en [Visual Studio Team Services (VSTS)](https://visualstudio.com).</span><span class="sxs-lookup"><span data-stu-id="f780b-105">The repository can be hosted on [GitHub](https://github.com) or on [Visual Studio Team Services (VSTS)](https://visualstudio.com).</span></span>

<span data-ttu-id="f780b-106">Hemos preparado un [repositorio de Github de artefactos](https://github.com/Azure/azure-devtestlab/tree/master/Artifacts) que puede implementar como está o personalizarlo para sus laboratorios.</span><span class="sxs-lookup"><span data-stu-id="f780b-106">We have provided a [Github repository of artifacts](https://github.com/Azure/azure-devtestlab/tree/master/Artifacts) that you can deploy as-is or customize for your labs.</span></span> <span data-ttu-id="f780b-107">Al personalizar o crear un artefacto, no puede almacenarlo en el repositorio público: debe crear su propio repositorio privado.</span><span class="sxs-lookup"><span data-stu-id="f780b-107">When you customize or create an artifact, you cannot store them in the public repository – you must create your own private repo.</span></span> 

<span data-ttu-id="f780b-108">Cuando se crea una VM, puede guardar la plantilla de Azure Resource Manager, personalizarla si desea y, a continuación, usarla más adelante para crear fácilmente más VM.</span><span class="sxs-lookup"><span data-stu-id="f780b-108">When you create a VM, you can save the Azure Resource Manager template, customize it if you want, and then use it later to easily create more VMs.</span></span> <span data-ttu-id="f780b-109">Debe crear su propio repositorio privado para almacenar las plantillas personalizadas de Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="f780b-109">You must create your own private repository to store your custom Azure Resource Manager templates.</span></span>  

* <span data-ttu-id="f780b-110">Para obtener información sobre cómo crear un repositorio de GitHub, consulte [Entrenamiento militar de GitHub](https://help.github.com/categories/bootcamp/).</span><span class="sxs-lookup"><span data-stu-id="f780b-110">To learn how to create a GitHub repository, see [GitHub Bootcamp](https://help.github.com/categories/bootcamp/).</span></span>
* <span data-ttu-id="f780b-111">Para obtener información sobre cómo crear un proyecto Team Services con un repositorio de Git, vea [Conexión con Visual Studio Team Services](https://www.visualstudio.com/get-started/setup/connect-to-visual-studio-online).</span><span class="sxs-lookup"><span data-stu-id="f780b-111">To learn how to create a Team Services project with a Git Repository, see [Connect to Visual Studio Team Services](https://www.visualstudio.com/get-started/setup/connect-to-visual-studio-online).</span></span>

<span data-ttu-id="f780b-112">En la siguiente captura de pantalla se muestra un ejemplo del aspecto que podría tener en GitHub un repositorio que contiene artefactos: </span><span class="sxs-lookup"><span data-stu-id="f780b-112">The following screen shot shows an example of how a repository containing artifacts might look in GitHub:</span></span>  
![Repositorio de artefactos de GitHub de ejemplo](./media/devtest-lab-add-repo/devtestlab-github-artifact-repo-home.png)

## <a name="get-the-repository-information-and-credentials"></a><span data-ttu-id="f780b-114">Obtención de la información del repositorio y las credenciales</span><span class="sxs-lookup"><span data-stu-id="f780b-114">Get the repository information and credentials</span></span>
<span data-ttu-id="f780b-115">Para agregar un repositorio al laboratorio, primero debe obtener cierta información del repositorio.</span><span class="sxs-lookup"><span data-stu-id="f780b-115">To add a repository to your lab, you must first get certain information from your repository.</span></span> <span data-ttu-id="f780b-116">Las secciones siguientes le guiarán en el modo de obtener esta información para repositorios hospedados en GitHub y Visual Studio Team Services.</span><span class="sxs-lookup"><span data-stu-id="f780b-116">The following sections guide you through getting this information for repositories hosted on GitHub and Visual Studio Team Services.</span></span>

### <a name="get-the-github-repository-clone-url-and-personal-access-token"></a><span data-ttu-id="f780b-117">Obtención de la dirección URL de clonación del repositorio de GitHub y el token de acceso personal</span><span class="sxs-lookup"><span data-stu-id="f780b-117">Get the GitHub repository clone URL and personal access token</span></span>
<span data-ttu-id="f780b-118">Para obtener la dirección URL de clonación del repositorio de GitHub y el token de acceso personal, siga estos pasos:</span><span class="sxs-lookup"><span data-stu-id="f780b-118">To get the GitHub repository clone URL and personal access token, follow these steps:</span></span>

1. <span data-ttu-id="f780b-119">Vaya a la página principal del repositorio de GitHub que contiene las definiciones de artefacto o de la plantilla de Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="f780b-119">Browse to the home page of the GitHub repository that contains the artifact or Azure Resource Manager template definitions.</span></span>
2. <span data-ttu-id="f780b-120">Seleccione **Clone or download**(Clonar o descargar).</span><span class="sxs-lookup"><span data-stu-id="f780b-120">Select **Clone or download**.</span></span>
3. <span data-ttu-id="f780b-121">Seleccione el botón para copiar la **dirección URL de clonación de HTTPS** en el portapapeles y guárdela para usarla más adelante.</span><span class="sxs-lookup"><span data-stu-id="f780b-121">Select the button to copy the **HTTPS clone url** to the clipboard, and save the URL for later use.</span></span>
4. <span data-ttu-id="f780b-122">Seleccione la imagen de perfil en la esquina superior derecha de GitHub y seleccione **Configuración**.</span><span class="sxs-lookup"><span data-stu-id="f780b-122">Select the profile image in the upper-right corner of GitHub, and select **Settings**.</span></span>
5. <span data-ttu-id="f780b-123">En el menú **Configuración personal** de la izquierda, seleccione **Tokens de acceso personal**.</span><span class="sxs-lookup"><span data-stu-id="f780b-123">In the **Personal settings** menu on the left, select **Personal access tokens**.</span></span>
6. <span data-ttu-id="f780b-124">Seleccione **Generar nuevo token**.</span><span class="sxs-lookup"><span data-stu-id="f780b-124">Select **Generate new token**.</span></span>
7. <span data-ttu-id="f780b-125">En la página **New personal access token (Nuevo token de acceso personal)** escriba la información que considere oportuno en **Token description (Descripción del token)**, acepte los elementos predeterminados en el **Select scopes (Seleccionar ámbitos)** y después elija **Generate Token (Generar token)**.</span><span class="sxs-lookup"><span data-stu-id="f780b-125">On the **New personal access token** page, enter a **Token description**, accept the default items in the **Select scopes**, and then choose **Generate Token**.</span></span>
8. <span data-ttu-id="f780b-126">Guarde el token generado, ya que lo necesitará más adelante.</span><span class="sxs-lookup"><span data-stu-id="f780b-126">Save the generated token as you need it later.</span></span>
9. <span data-ttu-id="f780b-127">Ahora puede cerrar GitHub.</span><span class="sxs-lookup"><span data-stu-id="f780b-127">You can close GitHub now.</span></span>   
10. <span data-ttu-id="f780b-128">Continúe con la sección [Conexión del laboratorio al repositorio](#connect-your-lab-to-the-repository) .</span><span class="sxs-lookup"><span data-stu-id="f780b-128">Continue to the [Connect your lab to the repository](#connect-your-lab-to-the-repository) section.</span></span>

### <a name="get-the-visual-studio-team-services-repository-clone-url-and-personal-access-token"></a><span data-ttu-id="f780b-129">Obtención de la dirección URL de clonación de Visual Studio Team Services y del token de acceso personal</span><span class="sxs-lookup"><span data-stu-id="f780b-129">Get the Visual Studio Team Services repository clone URL and personal access token</span></span>
<span data-ttu-id="f780b-130">Para obtener la dirección URL de clonación del repositorio de Visual Studio Team Services y el token de acceso personal, siga estos pasos:</span><span class="sxs-lookup"><span data-stu-id="f780b-130">To get the Visual Studio Team Services repository clone URL and personal access token, follow these steps:</span></span>

1. <span data-ttu-id="f780b-131">Abra la página principal de la colección de equipo (por ejemplo, `https://contoso-web-team.visualstudio.com`) y después seleccione el proyecto.</span><span class="sxs-lookup"><span data-stu-id="f780b-131">Open the home page of your team collection (for example, `https://contoso-web-team.visualstudio.com`), and then select your project.</span></span>
2. <span data-ttu-id="f780b-132">En la página de inicio del proyecto, seleccione **Código**.</span><span class="sxs-lookup"><span data-stu-id="f780b-132">On the project home page, select **Code**.</span></span>
3. <span data-ttu-id="f780b-133">Para ver la dirección URL de clonación, en la página **Código** del proyecto, seleccione **Clonar**.</span><span class="sxs-lookup"><span data-stu-id="f780b-133">To view the clone URL, on the project **Code** page, select **Clone**.</span></span>
4. <span data-ttu-id="f780b-134">Guarde la dirección URL, ya que la necesitará más adelante en este tutorial.</span><span class="sxs-lookup"><span data-stu-id="f780b-134">Save the URL as you need it later in this tutorial.</span></span>
5. <span data-ttu-id="f780b-135">Para crear un token de acceso personal, seleccione **Mi perfil** en el menú desplegable de la cuenta de usuario.</span><span class="sxs-lookup"><span data-stu-id="f780b-135">To create a Personal Access Token, select **My profile** from the user account drop-down menu.</span></span>
6. <span data-ttu-id="f780b-136">En la página de información de perfil, seleccione **Seguridad**.</span><span class="sxs-lookup"><span data-stu-id="f780b-136">On the profile information page, select **Security**.</span></span>
7. <span data-ttu-id="f780b-137">En la pestaña **Seguridad**, seleccione **Agregar**.</span><span class="sxs-lookup"><span data-stu-id="f780b-137">On the **Security** tab, select **Add**.</span></span>
8. <span data-ttu-id="f780b-138">En la página **Crear un token de acceso personal** :</span><span class="sxs-lookup"><span data-stu-id="f780b-138">In the **Create a personal access token** page:</span></span>

   * <span data-ttu-id="f780b-139">Escriba la información que desee en **Descripción** para el token.</span><span class="sxs-lookup"><span data-stu-id="f780b-139">Enter a **Description** for the token.</span></span>
   * <span data-ttu-id="f780b-140">Seleccione **180 días** en la lista **Expira en**.</span><span class="sxs-lookup"><span data-stu-id="f780b-140">Select **180 days** from the **Expires In** list.</span></span>
   * <span data-ttu-id="f780b-141">Elija **Todas las cuentas accesibles** en la lista **Cuentas**.</span><span class="sxs-lookup"><span data-stu-id="f780b-141">Choose **All accessible accounts** from the **Accounts** list.</span></span>
   * <span data-ttu-id="f780b-142">Elija la opción **Todos los ámbitos** .</span><span class="sxs-lookup"><span data-stu-id="f780b-142">Choose the **All scopes** option.</span></span>
   * <span data-ttu-id="f780b-143">Elija **Crear token**.</span><span class="sxs-lookup"><span data-stu-id="f780b-143">Choose **Create Token**.</span></span>
9. <span data-ttu-id="f780b-144">Cuando termine, el nuevo token aparecerá en la lista **Tokens de acceso personal** .</span><span class="sxs-lookup"><span data-stu-id="f780b-144">When finished, the new token appears in the **Personal Access Tokens** list.</span></span> <span data-ttu-id="f780b-145">Seleccione **token**y luego guarde el valor del token para usarlo más adelante.</span><span class="sxs-lookup"><span data-stu-id="f780b-145">Select **Copy Token**, and then save the token value for later use.</span></span>
10. <span data-ttu-id="f780b-146">Continúe con la sección [Conexión del laboratorio al repositorio](#connect-your-lab-to-the-repository) .</span><span class="sxs-lookup"><span data-stu-id="f780b-146">Continue to the [Connect your lab to the repository](#connect-your-lab-to-the-repository) section.</span></span>

## <a name="connect-your-lab-to-the-repository"></a><span data-ttu-id="f780b-147">Conexión del laboratorio al repositorio</span><span class="sxs-lookup"><span data-stu-id="f780b-147">Connect your lab to the repository</span></span>
1. <span data-ttu-id="f780b-148">Inicie sesión en el [Portal de Azure](http://go.microsoft.com/fwlink/p/?LinkID=525040).</span><span class="sxs-lookup"><span data-stu-id="f780b-148">Sign in to the [Azure portal](http://go.microsoft.com/fwlink/p/?LinkID=525040).</span></span>
2. <span data-ttu-id="f780b-149">Seleccione **Más servicios** y, luego, **DevTest Labs** en la lista.</span><span class="sxs-lookup"><span data-stu-id="f780b-149">Select **More Services**, and then select **DevTest Labs** from the list.</span></span>
3. <span data-ttu-id="f780b-150">En la lista de laboratorios, seleccione el laboratorio que desee.</span><span class="sxs-lookup"><span data-stu-id="f780b-150">From the list of labs, select the desired lab.</span></span>   
4. <span data-ttu-id="f780b-151">En el panel izquierdo, seleccione **Configuration and policies** (Directivas y configuración).</span><span class="sxs-lookup"><span data-stu-id="f780b-151">On the left panel, select **Configuration and policies**.</span></span>
5. <span data-ttu-id="f780b-152">En el área **Configuration and policies** (Directivas y configuración) del laboratorio, seleccione **Repositorios**.</span><span class="sxs-lookup"><span data-stu-id="f780b-152">On the lab's **Configuration and policies** area, select **Repositories**.</span></span>
6. <span data-ttu-id="f780b-153">En el área **Repositorios**, seleccione **+ Agregar**.</span><span class="sxs-lookup"><span data-stu-id="f780b-153">On the **Repositories** area, select **+ Add**.</span></span>

    ![Adición del botón de repositorio](./media/devtest-lab-add-repo/devtestlab-add-repo.png)
7. <span data-ttu-id="f780b-155">En la segunda página **Repositorios**, especifique la información siguiente:</span><span class="sxs-lookup"><span data-stu-id="f780b-155">On the second **Repositories** page, specify the following information:</span></span>

   * <span data-ttu-id="f780b-156">**Nombre** , escriba un nombre para el repositorio.</span><span class="sxs-lookup"><span data-stu-id="f780b-156">**Name** - Enter a name for the repository.</span></span>
   * <span data-ttu-id="f780b-157">**URL de clonación de Git** : escriba la dirección URL de clonación HTTPS de Git que copió anteriormente de GitHub o de Visual Studio Team Services.</span><span class="sxs-lookup"><span data-stu-id="f780b-157">**Git Clone Url** - Enter the Git HTTPS clone URL that you copied earlier from either GitHub or Visual Studio Team Services.</span></span>
   * <span data-ttu-id="f780b-158">**Rama** : escriba la rama para obtener las definiciones.</span><span class="sxs-lookup"><span data-stu-id="f780b-158">**Branch** - Enter the branch to get your definitions.</span></span>
   * <span data-ttu-id="f780b-159">**Token de acceso personal** : especifique el token de acceso personal que obtuvo anteriormente de GitHub o de Visual Studio Team Services.</span><span class="sxs-lookup"><span data-stu-id="f780b-159">**Personal Access Token** - Enter the personal access token you obtained earlier from either GitHub or Visual Studio Team Services.</span></span>
   * <span data-ttu-id="f780b-160">**Rutas de acceso de carpeta**: escriba al menos una ruta de acceso de carpeta con respecto a la dirección URL de clonación que contenga las definiciones del artefacto o de la plantilla de Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="f780b-160">**Folder Paths** - Enter at least one folder path relative to the clone URL that contains your artifact or Azure Resource Manager template definitions.</span></span> <span data-ttu-id="f780b-161">Cuando se especifique un subdirectorio, asegúrese de incluir la barra diagonal en la ruta de acceso de la carpeta.</span><span class="sxs-lookup"><span data-stu-id="f780b-161">When specifying a subdirectory, make sure to include the forward slash in the folder path.</span></span>

     ![Área Repositorios](./media/devtest-lab-add-repo/devtestlab-repo-blade.png)
8. <span data-ttu-id="f780b-163">Seleccione **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="f780b-163">Select **Save**.</span></span>

## <a name="next-steps"></a><span data-ttu-id="f780b-164">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="f780b-164">Next steps</span></span>
<span data-ttu-id="f780b-165">Después de haber creado el repositorio Git privado, puede hacer una o ambas de las acciones siguientes, dependiendo de sus necesidades:</span><span class="sxs-lookup"><span data-stu-id="f780b-165">After you have created your private Git repository, you can do one or both of the following, depending on your needs:</span></span>
* <span data-ttu-id="f780b-166">Almacenar los [artefactos personalizados](devtest-lab-artifact-author.md), que puede utilizar después para crear nuevas VM.</span><span class="sxs-lookup"><span data-stu-id="f780b-166">Store your [custom artifacts](devtest-lab-artifact-author.md), which you can use later to create new VMs.</span></span>
* <span data-ttu-id="f780b-167">[Crear entornos de varias VM y recursos de PaaS con plantillas de Azure Resource Manager](devtest-lab-create-environment-from-arm.md) y luego almacenar las plantillas en el repositorio privado.</span><span class="sxs-lookup"><span data-stu-id="f780b-167">[Create multi-VM environments and PaaS resources with Azure Resource Manager templates](devtest-lab-create-environment-from-arm.md) and then store the templates in your private repo.</span></span>

<span data-ttu-id="f780b-168">Cuando se crea una máquina virtual, podrá comprobar que las plantillas o los artefactos se han agregado al repositorio de Git.</span><span class="sxs-lookup"><span data-stu-id="f780b-168">When you create a VM, you can verify that the artifacts or templates are added to your Git repository.</span></span> <span data-ttu-id="f780b-169">Están disponibles inmediatamente en la lista de artefactos o plantillas, con el nombre del repositorio privado en la columna que especifica el origen.</span><span class="sxs-lookup"><span data-stu-id="f780b-169">They are available immediately in the list of artifacts or templates, with the name of your private repo shown in the column that specifies the source.</span></span> 

[!INCLUDE [devtest-lab-try-it-out](../../includes/devtest-lab-try-it-out.md)]

### <a name="related-blog-posts"></a><span data-ttu-id="f780b-170">Entradas blogs relacionadas</span><span class="sxs-lookup"><span data-stu-id="f780b-170">Related blog posts</span></span>
* <span data-ttu-id="f780b-171">[How to troubleshoot failing Artifacts in AzureDevTestLabs](devtest-lab-troubleshoot-artifact-failure.md) (Cómo solucionar errores de artefactos en Azure DevTest Labs)</span><span class="sxs-lookup"><span data-stu-id="f780b-171">[How to troubleshoot failing Artifacts in Azure DevTest Labs](devtest-lab-troubleshoot-artifact-failure.md)</span></span>
* <span data-ttu-id="f780b-172">[Join a VM to existing AD Domain using a resource manager template in Azure DevTest Labs](http://www.visualstudiogeeks.com/blog/DevOps/Join-a-VM-to-existing-AD-domain-using-ARM-template-AzureDevTestLabs) (Unión de una máquina virtual al dominio de AD existente mediante la plantilla de Resource Manager en Azure DevTest Labs)</span><span class="sxs-lookup"><span data-stu-id="f780b-172">[Join a VM to existing AD Domain using a resource manager template in Azure DevTest Labs](http://www.visualstudiogeeks.com/blog/DevOps/Join-a-VM-to-existing-AD-domain-using-ARM-template-AzureDevTestLabs)</span></span>
