---
title: "Compilación de una solución de administración en OMS | Microsoft Docs"
description: "Las soluciones de administración amplían la funcionalidad de Operations Management Suite (OMS) proporcionando escenarios de administración empaquetados que los clientes pueden agregar a su área de trabajo de OMS.  En este artículo se proporciona información sobre cómo crear soluciones de administración que se pueden usar en su propio entorno o ponerse a disposición de sus clientes."
services: operations-management-suite
documentationcenter: 
author: bwren
manager: carmonm
editor: tysonn
ms.assetid: 1915e204-ba7e-431b-9718-9eb6b4213ad8
ms.service: operations-management-suite
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 03/20/2017
ms.author: bwren
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: 6ea959f1e95ea46c07eec3afa9d46bfeb72ca3e4
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/29/2017
---
# <a name="design-and-build-a-management-solution-in-operations-management-suite-oms-preview"></a><span data-ttu-id="99f15-104">Diseño y compilación de una solución de administración en Operations Management Suite (OMS) (versión preliminar)</span><span class="sxs-lookup"><span data-stu-id="99f15-104">Design and build a management solution in Operations Management Suite (OMS) (Preview)</span></span>
> [!NOTE]
> <span data-ttu-id="99f15-105">La versión de la documentación para crear soluciones de administración de OMS está actualmente en fase preliminar.</span><span class="sxs-lookup"><span data-stu-id="99f15-105">This is preliminary documentation for creating management solutions in OMS which are currently in preview.</span></span> <span data-ttu-id="99f15-106">Cualquier esquema descrito a continuación está sujeto a cambios.</span><span class="sxs-lookup"><span data-stu-id="99f15-106">Any schema described below is subject to change.</span></span>

<span data-ttu-id="99f15-107">Las [soluciones de administración](operations-management-suite-solutions.md) amplían la funcionalidad de Operations Management Suite (OMS) proporcionando escenarios de administración empaquetados que los clientes pueden agregar a su área de trabajo de OMS.</span><span class="sxs-lookup"><span data-stu-id="99f15-107">[Management solutions](operations-management-suite-solutions.md) extend the functionality of Operations Management Suite (OMS) by providing packaged management scenarios that customers can add to their OMS workspace.</span></span>  <span data-ttu-id="99f15-108">Este artículo presenta un proceso básico para diseñar y compilar una solución de administración que es adecuada para los requisitos más comunes.</span><span class="sxs-lookup"><span data-stu-id="99f15-108">This article presents a basic process to design and build a management solution that is suitable for most common requirements.</span></span>  <span data-ttu-id="99f15-109">Si no está familiarizado con la creación de soluciones de administración puede utilizar este proceso como punto de partida, y luego aprovechar los conceptos para soluciones más complejas a medida que sus requisitos evolucionan.</span><span class="sxs-lookup"><span data-stu-id="99f15-109">If you are new to building management solutions then you can use this process as a starting point and then leverage the concepts for more complex solutions as your requirements evolve.</span></span>

## <a name="what-is-a-management-solution"></a><span data-ttu-id="99f15-110">¿Qué es una solución de administración?</span><span class="sxs-lookup"><span data-stu-id="99f15-110">What is a management solution?</span></span>

<span data-ttu-id="99f15-111">Las soluciones de administración contienen OMS y recursos de Azure que funcionan conjuntamente para lograr un escenario de supervisión determinado.</span><span class="sxs-lookup"><span data-stu-id="99f15-111">Management solutions contain OMS and Azure resources that work together to achieve a particular monitoring scenario.</span></span>  <span data-ttu-id="99f15-112">Se implementan como [plantillas de administración de recursos](../azure-resource-manager/resource-manager-template-walkthrough.md) que contienen detalles de cómo instalar y configurar sus recursos contenidos cuando se instala la solución.</span><span class="sxs-lookup"><span data-stu-id="99f15-112">They are implemented as [Resource Management templates](../azure-resource-manager/resource-manager-template-walkthrough.md) that contain details of how to install and configure their contained resources when the solution is installed.</span></span>

<span data-ttu-id="99f15-113">La estrategia básica consiste en iniciar la solución de administración mediante la creación de los componentes individuales en el entorno de Azure.</span><span class="sxs-lookup"><span data-stu-id="99f15-113">The basic strategy is to start your management solution by building the individual components in your Azure environment.</span></span>  <span data-ttu-id="99f15-114">Una vez que tenga la funcionalidad funcionando correctamente, puede empezar a empaquetarlos en un [archivo de solución de administración](operations-management-suite-solutions-solution-file.md).</span><span class="sxs-lookup"><span data-stu-id="99f15-114">Once you have the functionality working properly, then you can start packaging them into a [management solution file](operations-management-suite-solutions-solution-file.md).</span></span> 


## <a name="design-your-solution"></a><span data-ttu-id="99f15-115">Diseño de la solución</span><span class="sxs-lookup"><span data-stu-id="99f15-115">Design your solution</span></span>
<span data-ttu-id="99f15-116">El modelo más común para una solución de administración se muestra en el diagrama siguiente.</span><span class="sxs-lookup"><span data-stu-id="99f15-116">The most common pattern for a management solution is shown in the following diagram.</span></span>  <span data-ttu-id="99f15-117">Los distintos componentes en este modelo se describen a continuación.</span><span class="sxs-lookup"><span data-stu-id="99f15-117">The different components in this pattern are discussed in the below.</span></span>

![Información general de la solución OMS](media/operations-management-suite-solutions/solution-overview.png)


### <a name="data-sources"></a><span data-ttu-id="99f15-119">Orígenes de datos</span><span class="sxs-lookup"><span data-stu-id="99f15-119">Data sources</span></span>
<span data-ttu-id="99f15-120">El primer paso para diseñar una solución es determinar los datos que necesita del repositorio de Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="99f15-120">The first step in designing a solution is determining the data that you require from the Log Analytics repository.</span></span>  <span data-ttu-id="99f15-121">Los datos se pueden recopilar mediante un [origen de datos](../log-analytics/log-analytics-data-sources.md) u [otra solución](operations-management-suite-solutions.md), o puede que la solución tenga que proporcionar el proceso para recopilarlos.</span><span class="sxs-lookup"><span data-stu-id="99f15-121">This data may be collected by a [data source](../log-analytics/log-analytics-data-sources.md) or [another solution](operations-management-suite-solutions.md), or your solution may need to provide the process to collect it.</span></span>

<span data-ttu-id="99f15-122">Hay varias maneras de recopilar orígenes de datos en el repositorio de Log Analytics, como se describe en [Orígenes de datos en Log Analytics](../log-analytics/log-analytics-data-sources.md).</span><span class="sxs-lookup"><span data-stu-id="99f15-122">There are a number of ways data sources that can be collected in the Log Analytics repository as described in [Data sources in Log Analytics](../log-analytics/log-analytics-data-sources.md).</span></span>  <span data-ttu-id="99f15-123">Esto incluye los eventos en el registro de eventos de Windows o los generados por Syslog, además de los contadores de rendimiento para los clientes de Windows y Linux.</span><span class="sxs-lookup"><span data-stu-id="99f15-123">This includes events in the Windows Event Log or generated by Syslog in addition to performance counters for both Windows and Linux clients.</span></span>  <span data-ttu-id="99f15-124">También puede recoger datos de recursos de Azure recopilados por Azure Monitor.</span><span class="sxs-lookup"><span data-stu-id="99f15-124">You can also gather data from Azure resources collected by Azure Monitor.</span></span>  

<span data-ttu-id="99f15-125">Si necesita datos que no son accesibles a través de cualquiera de los orígenes de datos disponibles, puede usar la [API del recopilador de datos HTTP](../log-analytics/log-analytics-data-collector-api.md) que le permite escribir datos en el repositorio de Log Analytics desde cualquier cliente que pueda llamar a una API de REST.</span><span class="sxs-lookup"><span data-stu-id="99f15-125">If you require data that's not accessible through any of the available data sources, then you can use the [HTTP Data Collector API](../log-analytics/log-analytics-data-collector-api.md) which allows you to write data to the Log Analytics repository from any client that can call a REST API.</span></span>  <span data-ttu-id="99f15-126">La forma más común de recopilación de datos personalizados en una solución de administración consiste en crear un [runbook en Azure Automation](../automation/automation-runbook-types.md) que recopila los datos necesarios de los recursos de Azure o de recursos externos, y utiliza la API del recopilador de datos para escribir en el repositorio.</span><span class="sxs-lookup"><span data-stu-id="99f15-126">The most common means of custom data collection in a management solution is to create a [runbook in Azure Automation](../automation/automation-runbook-types.md) that collects the required data from Azure or external resources and uses the Data Collector API to write to the repository.</span></span>  

### <a name="log-searches"></a><span data-ttu-id="99f15-127">Búsqueda de registros</span><span class="sxs-lookup"><span data-stu-id="99f15-127">Log searches</span></span>
<span data-ttu-id="99f15-128">Las [búsquedas de registros](../log-analytics/log-analytics-log-searches.md) se usan para extraer y analizar datos en el repositorio de Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="99f15-128">[Log searches](../log-analytics/log-analytics-log-searches.md) are used to extract and analyze data in the Log Analytics repository.</span></span>  <span data-ttu-id="99f15-129">Las utilizan vistas y alertas, y además permiten al usuario realizar análisis ad hoc de los datos en el repositorio.</span><span class="sxs-lookup"><span data-stu-id="99f15-129">They are used by views and alerts in addition to allowing the user to perform ad hoc analysis of data in the repository.</span></span>  

<span data-ttu-id="99f15-130">Debe definir las consultas que cree que le resultarán útiles para el usuario, incluso si no hay vistas o alertas que las utilicen.</span><span class="sxs-lookup"><span data-stu-id="99f15-130">You should define any queries that you think will be helpful to the user even if they aren't used by any views or alerts.</span></span>  <span data-ttu-id="99f15-131">Estas estarán disponibles para los usuarios como búsquedas guardadas en el portal y también se pueden incluir en un [elemento de visualización Lista de consultas](../log-analytics/log-analytics-view-designer-parts.md#list-of-queries-part) en la vista personalizada.</span><span class="sxs-lookup"><span data-stu-id="99f15-131">These will be available to them as Saved Searches in the portal, and you can also include them in a [List of Queries visualization part](../log-analytics/log-analytics-view-designer-parts.md#list-of-queries-part) in your custom view.</span></span>

### <a name="alerts"></a><span data-ttu-id="99f15-132">Alertas</span><span class="sxs-lookup"><span data-stu-id="99f15-132">Alerts</span></span>
<span data-ttu-id="99f15-133">[Alertas de Log Analytics](../log-analytics/log-analytics-alerts.md) identifican los problemas a través de [búsquedas de registros](#log-searches) con los datos en el repositorio.</span><span class="sxs-lookup"><span data-stu-id="99f15-133">[Alerts in Log Analytics](../log-analytics/log-analytics-alerts.md) identify issues through [log searches](#log-searches) against the data in the repository.</span></span>  <span data-ttu-id="99f15-134">Estas alertas o bien envían una notificación al usuario o ejecutan automáticamente una acción en respuesta.</span><span class="sxs-lookup"><span data-stu-id="99f15-134">They either notify the user or automatically run an action in response.</span></span> <span data-ttu-id="99f15-135">Debe identificar las diferentes condiciones de alerta para la aplicación e incluir reglas de alerta correspondientes en el archivo de solución.</span><span class="sxs-lookup"><span data-stu-id="99f15-135">You should identify different alert conditions for your application and include corresponding alert rules in your solution file.</span></span>

<span data-ttu-id="99f15-136">Si el problema potencialmente puede corregirse con un proceso automatizado, entonces usted normalmente creará un runbook en Azure Automation para realizar esta corrección.</span><span class="sxs-lookup"><span data-stu-id="99f15-136">If the issue can potentially be corrected with an automated process, then you'll typically create a runbook in Azure Automation to perform this remediation.</span></span>  <span data-ttu-id="99f15-137">La mayoría de los servicios de Azure pueden administrarse con [cmdlets](/powershell/azure/overview) que el runbook aprovechará para realizar esta funcionalidad.</span><span class="sxs-lookup"><span data-stu-id="99f15-137">Most Azure services can be managed with [cmdlets](/powershell/azure/overview) which the runbook would leverage to perform such functionality.</span></span>

<span data-ttu-id="99f15-138">Si la solución requiere una funcionalidad externa en respuesta a una alerta, puede usar una [respuesta webhook](../log-analytics/log-analytics-alerts-actions.md).</span><span class="sxs-lookup"><span data-stu-id="99f15-138">If your solution requires external functionality in response to an alert, then you can use a [webhook response](../log-analytics/log-analytics-alerts-actions.md).</span></span>  <span data-ttu-id="99f15-139">Esto le permite llamar a un servicio web externo enviando información de la alerta.</span><span class="sxs-lookup"><span data-stu-id="99f15-139">This allows you to call an external web service sending information from the alert.</span></span>

### <a name="views"></a><span data-ttu-id="99f15-140">Vistas</span><span class="sxs-lookup"><span data-stu-id="99f15-140">Views</span></span>
<span data-ttu-id="99f15-141">Las vistas de análisis de Log Analytics se usan para visualizar los datos del repositorio de Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="99f15-141">Views in Log Analytics are used to visualize data from the Log Analytics repository.</span></span>  <span data-ttu-id="99f15-142">Cada solución normalmente contendrá una sola vista con un [icono](../log-analytics/log-analytics-view-designer-tiles.md) que se muestra en el panel principal del usuario.</span><span class="sxs-lookup"><span data-stu-id="99f15-142">Each solution will typically contain a single view with a [tile](../log-analytics/log-analytics-view-designer-tiles.md) that is displayed on the user's main dashboard.</span></span>  <span data-ttu-id="99f15-143">La vista puede contener cualquier número de [elementos de visualización](../log-analytics/log-analytics-view-designer-parts.md) para proporcionar al usuario diferentes visualizaciones de los datos recopilados.</span><span class="sxs-lookup"><span data-stu-id="99f15-143">The view can contain any number of [visualization parts](../log-analytics/log-analytics-view-designer-parts.md) to provide different visualizations of the collected data to the user.</span></span>

<span data-ttu-id="99f15-144">[Cree vistas personalizadas usando el Diseñador de vistas](../log-analytics/log-analytics-view-designer.md) que más adelante puede exportar para su inclusión en el archivo de solución.</span><span class="sxs-lookup"><span data-stu-id="99f15-144">You [create custom views using the View Designer](../log-analytics/log-analytics-view-designer.md) which you can later export for inclusion in your solution file.</span></span>  


## <a name="create-solution-file"></a><span data-ttu-id="99f15-145">Creación del archivo de solución</span><span class="sxs-lookup"><span data-stu-id="99f15-145">Create solution file</span></span>
<span data-ttu-id="99f15-146">Una vez que haya configurado y probado los componentes que van a formar parte de la solución, puede [crear el archivo de solución](operations-management-suite-solutions-solution-file.md).</span><span class="sxs-lookup"><span data-stu-id="99f15-146">Once you've configured and tested the components that will be part of your solution, you can [create your solution file](operations-management-suite-solutions-solution-file.md).</span></span>  <span data-ttu-id="99f15-147">Para ello implementará los componentes de la solución en un [plantilla de Resource Manager](../azure-resource-manager/resource-group-authoring-templates.md) que incluye un [recurso de solución](operations-management-suite-solutions-solution-file.md#solution-resource) con relaciones con los otros recursos en el archivo.</span><span class="sxs-lookup"><span data-stu-id="99f15-147">You will implement the solution components in a [Resource Manager template](../azure-resource-manager/resource-group-authoring-templates.md) that includes a [solution resource](operations-management-suite-solutions-solution-file.md#solution-resource) with relationships to the other resources in the file.</span></span>  


## <a name="test-your-solution"></a><span data-ttu-id="99f15-148">Prueba de la solución</span><span class="sxs-lookup"><span data-stu-id="99f15-148">Test your solution</span></span>
<span data-ttu-id="99f15-149">Mientras se desarrolla la solución, tiene que instalarla y probarla en el área de trabajo.</span><span class="sxs-lookup"><span data-stu-id="99f15-149">While you are developing your solution, you will need to install and test it in your workspace.</span></span>  <span data-ttu-id="99f15-150">Puede hacerlo usando cualquiera de los métodos disponibles para [probar e instalar plantillas de Resource Manager](../azure-resource-manager/resource-group-template-deploy.md).</span><span class="sxs-lookup"><span data-stu-id="99f15-150">You can do this using any of the available methods to [test and install Resource Manager templates](../azure-resource-manager/resource-group-template-deploy.md).</span></span>

## <a name="publish-your-solution"></a><span data-ttu-id="99f15-151">Publicación de la solución</span><span class="sxs-lookup"><span data-stu-id="99f15-151">Publish your solution</span></span>
<span data-ttu-id="99f15-152">Una vez haya finalizado y probado la solución, puede ponerla a disposición de los clientes a través de los siguientes orígenes.</span><span class="sxs-lookup"><span data-stu-id="99f15-152">Once you have completed and tested your solution, you can make it available to customers through either the following sources.</span></span>

- <span data-ttu-id="99f15-153">**Plantillas de inicio rápido de Azure**.</span><span class="sxs-lookup"><span data-stu-id="99f15-153">**Azure Quickstart templates**.</span></span>  <span data-ttu-id="99f15-154">[Plantillas de inicio rápido de Azure](https://azure.microsoft.com/resources/templates/) es un conjunto de plantillas de Resource Manager aportadas por la comunidad a través de GitHub.</span><span class="sxs-lookup"><span data-stu-id="99f15-154">[Azure Quickstart templates](https://azure.microsoft.com/resources/templates/) is a set of Resource Manager templates contributed by the community through GitHub.</span></span>  <span data-ttu-id="99f15-155">Puede hacer que su solución esté disponible siguiendo la información en la [guía de contribución](https://github.com/Azure/azure-quickstart-templates/tree/master/1-CONTRIBUTION-GUIDE).</span><span class="sxs-lookup"><span data-stu-id="99f15-155">You can make your solution available by following information in the [contribution guide](https://github.com/Azure/azure-quickstart-templates/tree/master/1-CONTRIBUTION-GUIDE).</span></span>
- <span data-ttu-id="99f15-156">**Azure Marketplace**.</span><span class="sxs-lookup"><span data-stu-id="99f15-156">**Azure Marketplace**.</span></span>  <span data-ttu-id="99f15-157">[Azure Marketplace](https://azuremarketplace.microsoft.com/marketplace/) le permite distribuir y vender su solución a otros desarrolladores, fabricantes de software independientes y profesionales de TI.</span><span class="sxs-lookup"><span data-stu-id="99f15-157">The [Azure Marketplace](https://azuremarketplace.microsoft.com/marketplace/) allows you to distribute and sell your solution to other developers, ISVs, and IT professionals.</span></span>  <span data-ttu-id="99f15-158">Puede obtener información sobre cómo publicar la solución en Azure Marketplace en [Publicación y administración de una oferta en Azure Marketplace](../marketplace-publishing/marketplace-publishing-getting-started.md).</span><span class="sxs-lookup"><span data-stu-id="99f15-158">You can learn how to publish your solution to Azure Marketplace at [How to publish and manage an offer in the Azure Marketplace](../marketplace-publishing/marketplace-publishing-getting-started.md).</span></span>



## <a name="next-steps"></a><span data-ttu-id="99f15-159">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="99f15-159">Next steps</span></span>
* <span data-ttu-id="99f15-160">Obtenga información acerca de cómo [crear un archivo de solución](operations-management-suite-solutions-solution-file.md) para la solución de administración.</span><span class="sxs-lookup"><span data-stu-id="99f15-160">Learn how to [create a solution file](operations-management-suite-solutions-solution-file.md) for your management solution.</span></span>
* <span data-ttu-id="99f15-161">Obtenga más información en [Creación de plantillas de Azure Resource Manager](../azure-resource-manager/resource-group-authoring-templates.md).</span><span class="sxs-lookup"><span data-stu-id="99f15-161">Learn the details of [Authoring Azure Resource Manager templates](../azure-resource-manager/resource-group-authoring-templates.md).</span></span>
* <span data-ttu-id="99f15-162">Búsqueda de [plantillas de inicio rápido de Azure](https://azure.microsoft.com/documentation/templates) para obtener ejemplos de diferentes plantillas de Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="99f15-162">Search [Azure Quickstart Templates](https://azure.microsoft.com/documentation/templates) for samples of different Resource Manager templates.</span></span>