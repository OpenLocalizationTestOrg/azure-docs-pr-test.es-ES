---
title: "Demostración autodidáctica de la solución Service Map | Microsoft Docs"
description: "Service Map es una solución de Operations Management Suite (OMS) que detecta automáticamente los componentes de la aplicación en sistemas Windows y Linux y asigna la comunicación entre servicios.  Se trata de una demostración autodidáctica en la que se examina el uso de Service Map para identificar y diagnosticar un problema simulado en una aplicación web."
services: operations-management-suite
documentationcenter: 
author: bwren
manager: carmonm
editor: tysonn
ms.assetid: 9dc437b9-e83c-45da-917c-cb4f4d8d6333
ms.service: operations-management-suite
ms.devlang: na
ms.topic: get-started-article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 04/12/2017
ms.author: bwren
ms.openlocfilehash: c3548d24c74f8ad865b22d6af3490d0b5cc77a84
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 07/11/2017
---
# <a name="operations-management-suite-oms-self-paced-demo---service-map"></a><span data-ttu-id="c2904-104">Demostración autodidáctica de Operations Management Suite (OMS): Service Map</span><span class="sxs-lookup"><span data-stu-id="c2904-104">Operations Management Suite (OMS) self paced demo - Service Map</span></span>
<span data-ttu-id="c2904-105">Se trata de una demostración autodidáctica en la que se examina el uso de la [solución Service Map](operations-management-suite-service-map.md) en Operations Management Suite (OMS) para identificar y diagnosticar un problema simulado en una aplicación web.</span><span class="sxs-lookup"><span data-stu-id="c2904-105">This is a self paced demo that walks through using the [Service Map solution](operations-management-suite-service-map.md) in Operations Management Suite (OMS) to identify and diagnose a simulated problem in a web application.</span></span>  <span data-ttu-id="c2904-106">Mapa de servicio detecta automáticamente los componentes de la aplicación en sistemas Windows y Linux y asigna la comunicación entre servicios.</span><span class="sxs-lookup"><span data-stu-id="c2904-106">Service Map automatically discovers application components on Windows and Linux systems and maps the communication between services.</span></span>  <span data-ttu-id="c2904-107">También consolida los datos recopilados por otros servicios OMS para ayudarle a analizar el rendimiento y a identificar problemas.</span><span class="sxs-lookup"><span data-stu-id="c2904-107">It also consolidates data collected by other OMS services to assist you in analyzing performance and identifying issues.</span></span>  <span data-ttu-id="c2904-108">También podrá usar [búsquedas de registros en Log Analytics](../log-analytics/log-analytics-log-searches.md) para profundizar en los datos recopilados con el fin de identificar la causa principal del problema.</span><span class="sxs-lookup"><span data-stu-id="c2904-108">You'll also use [log searches in Log Analytics](../log-analytics/log-analytics-log-searches.md) to drill down on collected data in order to identify the root problem.</span></span>


## <a name="scenario-description"></a><span data-ttu-id="c2904-109">Descripción del escenario</span><span class="sxs-lookup"><span data-stu-id="c2904-109">Scenario description</span></span>
<span data-ttu-id="c2904-110">Acaba de recibir una notificación de que la aplicación del portal de clientes de ACME está teniendo problemas de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="c2904-110">You've just received a notification that the ACME Customer Portal application is having performance issues.</span></span>  <span data-ttu-id="c2904-111">La única información que tiene es que estos problemas se iniciaron aproximadamente a las 4:00 a.m. hora del Pacífico del día actual.</span><span class="sxs-lookup"><span data-stu-id="c2904-111">The only information that you have is that these issues started about 4:00 am PST today.</span></span>  <span data-ttu-id="c2904-112">No está completamente seguro de todos los componentes de los que depende el portal aparte de un conjunto de servidores web.</span><span class="sxs-lookup"><span data-stu-id="c2904-112">You aren't entirely sure of all the components that the portal is dependent on other than a set of web servers.</span></span>  

## <a name="components-and-features-used"></a><span data-ttu-id="c2904-113">Componentes y características usados</span><span class="sxs-lookup"><span data-stu-id="c2904-113">Components and features used</span></span>
- [<span data-ttu-id="c2904-114">Solución Service Map</span><span class="sxs-lookup"><span data-stu-id="c2904-114">Service Map solution</span></span>](operations-management-suite-service-map.md)
- [<span data-ttu-id="c2904-115">Búsquedas de registros de Log Analytics</span><span class="sxs-lookup"><span data-stu-id="c2904-115">Log Analytics log searches</span></span>](../log-analytics/log-analytics-log-searches.md)


## <a name="walk-through"></a><span data-ttu-id="c2904-116">Tutorial</span><span class="sxs-lookup"><span data-stu-id="c2904-116">Walk through</span></span>

### <a name="1-connect-to-the-oms-experience-center"></a><span data-ttu-id="c2904-117">1. Conexión a OMS Experience Center</span><span class="sxs-lookup"><span data-stu-id="c2904-117">1. Connect to the OMS Experience Center</span></span>
<span data-ttu-id="c2904-118">En este tutorial se usa [Operations Management Suite Experience Center](https://experience.mms.microsoft.com/), que proporciona un entorno de OMS completo con datos de ejemplo.</span><span class="sxs-lookup"><span data-stu-id="c2904-118">This walk through uses the [Operations Management Suite Experience Center](https://experience.mms.microsoft.com/) which provides a complete OMS environment with sample data.</span></span> <span data-ttu-id="c2904-119">Para comenzar, siga este vínculo, proporcione su información y luego seleccione el escenario **Insight and Analytics**.</span><span class="sxs-lookup"><span data-stu-id="c2904-119">Start by following this link, provide your information and then select the **Insight and Analytics** scenario.</span></span>


### <a name="2-start-service-map"></a><span data-ttu-id="c2904-120">2. Inicio de Service Map</span><span class="sxs-lookup"><span data-stu-id="c2904-120">2. Start Service Map</span></span>
<span data-ttu-id="c2904-121">Inicie la solución Service Map; para ello, haga clic en el icono **Service Map**.</span><span class="sxs-lookup"><span data-stu-id="c2904-121">Start the Service Map solution by clicking on the **Service Map** tile.</span></span>

![Icono de Service Map](media/operations-management-suite-walkthrough-servicemap/tile.png)

<span data-ttu-id="c2904-123">Se muestra la consola de Service Map.</span><span class="sxs-lookup"><span data-stu-id="c2904-123">The Service Map console is displayed.</span></span>  <span data-ttu-id="c2904-124">En el panel izquierdo hay una lista de equipos en su entorno con el agente de Service Map instalado.</span><span class="sxs-lookup"><span data-stu-id="c2904-124">In the left pane is a list of computers in your environment with the Service Map agent installed.</span></span>  <span data-ttu-id="c2904-125">Seleccionará el equipo que desea ver de esta lista.</span><span class="sxs-lookup"><span data-stu-id="c2904-125">You'll select the computer that you want to view from this list.</span></span>

![Lista de equipos](media/operations-management-suite-walkthrough-servicemap/computer-list.png)


### <a name="3-view-computer"></a><span data-ttu-id="c2904-127">3. Visualización del equipo</span><span class="sxs-lookup"><span data-stu-id="c2904-127">3. View computer</span></span>
<span data-ttu-id="c2904-128">Sabemos que los servidores web se llaman AcmeWFE001 y AcmeWFE002, así que este parece un lugar razonable por donde empezar.</span><span class="sxs-lookup"><span data-stu-id="c2904-128">We know that the web servers are called AcmeWFE001 and AcmeWFE002, so this seems like a reasonable place to start.</span></span>  <span data-ttu-id="c2904-129">Haga clic en **AcmeWFE001**.</span><span class="sxs-lookup"><span data-stu-id="c2904-129">Click on **AcmeWFE001**.</span></span>  <span data-ttu-id="c2904-130">Se muestra el mapa de AcmeWFE001 y todas sus dependencias.</span><span class="sxs-lookup"><span data-stu-id="c2904-130">This displays the map for AcmeWFE001 and all of its dependencies.</span></span>  <span data-ttu-id="c2904-131">Puede ver los procesos que se ejecutan en el equipo seleccionado y los servicios externos con los que se comunican.</span><span class="sxs-lookup"><span data-stu-id="c2904-131">You can see which processes are running on the selected computer and which external services they communicate with.</span></span>

![Servidor Web](media/operations-management-suite-walkthrough-servicemap/web-server.png)

<span data-ttu-id="c2904-133">Nos preocupa el rendimiento de nuestra aplicación web, así que haga clic en el proceso **AcmeAppPool (Grupo de aplicaciones de IIS)**.</span><span class="sxs-lookup"><span data-stu-id="c2904-133">We're concerned about the performance of our web application so click on the **AcmeAppPool (IIS App Pool)** process.</span></span>  <span data-ttu-id="c2904-134">Se muestran los detalles de este proceso y se resaltan sus dependencias.</span><span class="sxs-lookup"><span data-stu-id="c2904-134">This displays the details for this process and highlights its dependencies.</span></span>  

![Grupo de aplicaciones](media/operations-management-suite-walkthrough-servicemap/app-pool.png)


### <a name="4-change-time-window"></a><span data-ttu-id="c2904-136">4. Cambio de la ventana de tiempo</span><span class="sxs-lookup"><span data-stu-id="c2904-136">4. Change time window</span></span>

<span data-ttu-id="c2904-137">Hemos sabido que el problema se inició a las 4:00 a.m., así que vamos echar un vistazo a lo que estaba sucediendo en ese momento.</span><span class="sxs-lookup"><span data-stu-id="c2904-137">We heard that the problem started at 4:00 AM so let's have a look at what was happening at that time.</span></span> <span data-ttu-id="c2904-138">Haga clic en **Intervalo de tiempo** y cambie la hora a 4:00 a.m. Hora del Pacífico (mantenga la fecha actual y ajuste la zona horaria local) con una duración de 20 minutos.</span><span class="sxs-lookup"><span data-stu-id="c2904-138">Click on **Time Range** and change the time to 4:00 AM PST (keep the current date and adjust for your local time zone) with a duration of 20 minutes.</span></span>

![Selector de hora](./media/operations-management-suite-walkthrough-servicemap/time-picker.png)


### <a name="5-view-alert"></a><span data-ttu-id="c2904-140">5. Visualización de la alerta</span><span class="sxs-lookup"><span data-stu-id="c2904-140">5. View alert</span></span>

<span data-ttu-id="c2904-141">Ahora vemos que la dependencia **acmetomcat** muestra una alerta, así que este es nuestro posible problema.</span><span class="sxs-lookup"><span data-stu-id="c2904-141">We now see that the **acmetomcat** dependency has an alert displayed, so that's our potential problem.</span></span>  <span data-ttu-id="c2904-142">Haga clic en el icono de alerta de **acmetomcat** para mostrar los detalles de la alerta.</span><span class="sxs-lookup"><span data-stu-id="c2904-142">Click on the alert icon in **acmetomcat** to show the details for the alert.</span></span>  <span data-ttu-id="c2904-143">Podemos ver que tenemos un uso crítico de la CPU y podemos expandirlo para verlo con más detalle.</span><span class="sxs-lookup"><span data-stu-id="c2904-143">We can see that we have critical CPU utilization and can expand it for more detail.</span></span>  <span data-ttu-id="c2904-144">Esta es probablemente la causa de que nuestro rendimiento sea tan lento.</span><span class="sxs-lookup"><span data-stu-id="c2904-144">This is probably what's causing our slow performance.</span></span> 

![Alerta](./media/operations-management-suite-walkthrough-servicemap/alert.png)


### <a name="6-view-performance"></a><span data-ttu-id="c2904-146">6. Visualización del rendimiento</span><span class="sxs-lookup"><span data-stu-id="c2904-146">6. View performance</span></span>

<span data-ttu-id="c2904-147">Vamos a echar un vistazo más de acerca a **acmetomcat**.</span><span class="sxs-lookup"><span data-stu-id="c2904-147">Let's have a closer look at **acmetomcat**.</span></span>  <span data-ttu-id="c2904-148">Haga clic en la parte superior derecha de **acmetomcat** y seleccione **Cargar Service Map** para mostrar los detalles y las dependencias de esta máquina.</span><span class="sxs-lookup"><span data-stu-id="c2904-148">Click in the top right of **acmetomcat** and select **Load Server Map** to show the detail and dependencies for this machine.</span></span> <span data-ttu-id="c2904-149">A continuación, podemos examinar más de cerca esos contadores de rendimiento para comprobar nuestra sospecha.</span><span class="sxs-lookup"><span data-stu-id="c2904-149">We can then look a bit more into those performance counters to verify our suspicion.</span></span>  <span data-ttu-id="c2904-150">Seleccione la pestaña **Rendimiento** para mostrar los [contadores de rendimiento recopilados por Log Analytics](../log-analytics/log-analytics-data-sources-performance-counters.md) durante el intervalo de tiempo.</span><span class="sxs-lookup"><span data-stu-id="c2904-150">Select the **Performance** tab to display the [performance counters collected by Log Analytics](../log-analytics/log-analytics-data-sources-performance-counters.md) over the time range.</span></span>  <span data-ttu-id="c2904-151">Podemos ver que estamos obteniendo picos periódicos en el procesador y la memoria.</span><span class="sxs-lookup"><span data-stu-id="c2904-151">We can see that we're getting periodic spikes in the processor and memory.</span></span>

![Rendimiento](./media/operations-management-suite-walkthrough-servicemap/performance.png)


### <a name="7-view-change-tracking"></a><span data-ttu-id="c2904-153">7. Visualización del seguimiento de cambios</span><span class="sxs-lookup"><span data-stu-id="c2904-153">7. View change tracking</span></span>
<span data-ttu-id="c2904-154">Veamos si podemos descubrir cuál podría ser la causa de esta elevada utilización.</span><span class="sxs-lookup"><span data-stu-id="c2904-154">Let's see if we can find out what might have caused this high utilization.</span></span>  <span data-ttu-id="c2904-155">Haga clic en la pestaña **Resumen**.</span><span class="sxs-lookup"><span data-stu-id="c2904-155">Click on the **Summary** tab.</span></span>  <span data-ttu-id="c2904-156">Se muestra información que ha recopilado OMS del equipo, como errores de conexión, alertas críticas y cambios de software.</span><span class="sxs-lookup"><span data-stu-id="c2904-156">This provides information that OMS has collected from the computer such as failed connections, critical alerts, and software changes.</span></span>  <span data-ttu-id="c2904-157">Ya deben haberse expandidas secciones con información reciente interesante, y puede expandir otras secciones para inspeccionar la información que contienen.</span><span class="sxs-lookup"><span data-stu-id="c2904-157">Sections with interesting recent information should already be expanded, and you can expand other sections to inspect information that they contain.</span></span>


<span data-ttu-id="c2904-158">Si **Seguimiento de cambios** no está ya abierta, expándala.</span><span class="sxs-lookup"><span data-stu-id="c2904-158">If **Change Tracking** isn't already open, then expand it.</span></span>  <span data-ttu-id="c2904-159">Se muestra la información recopilada la [solución de seguimiento de cambios](../log-analytics/log-analytics-change-tracking.md).</span><span class="sxs-lookup"><span data-stu-id="c2904-159">This shows information collected by the [Change Tracking solution](../log-analytics/log-analytics-change-tracking.md).</span></span>  <span data-ttu-id="c2904-160">Parece que se ha producido un cambio de software durante este período de tiempo.</span><span class="sxs-lookup"><span data-stu-id="c2904-160">It looks like there was a software change made during this time window.</span></span>  <span data-ttu-id="c2904-161">Haga clic en **Software** para obtener detalles.</span><span class="sxs-lookup"><span data-stu-id="c2904-161">Click on **Software** to get details.</span></span>  <span data-ttu-id="c2904-162">Se agregó un proceso de copia de seguridad justo después de las 4:00 a.m., así que puede este sea el culpable del consumo excesivo de recursos.</span><span class="sxs-lookup"><span data-stu-id="c2904-162">A backup process was added to the machine just after 4:00 AM, so this appears to be the culprit for the excessive resources being consumed.</span></span>

![Seguimiento de cambios](./media/operations-management-suite-walkthrough-servicemap/change-tracking.png)



### <a name="8-view-details-in-log-search"></a><span data-ttu-id="c2904-164">8. Visualización de los detalles en la búsqueda de registros</span><span class="sxs-lookup"><span data-stu-id="c2904-164">8. View details in Log Search</span></span>
<span data-ttu-id="c2904-165">Para seguir comprobando esto, examine la información detallada sobre el rendimiento recopilada en el repositorio de Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="c2904-165">We can further verify this by looking at the detailed performance information collected in the Log Analytics repository.</span></span>  <span data-ttu-id="c2904-166">Haga clic de nuevo en la pestaña **Alertas** y luego en una de las alertas de **uso elevado de la CPU**.</span><span class="sxs-lookup"><span data-stu-id="c2904-166">Click on the **Alerts** tab again and then on one of the **High CPU** alerts.</span></span>  <span data-ttu-id="c2904-167">Haga clic en **Mostrar en la búsqueda de registro**.</span><span class="sxs-lookup"><span data-stu-id="c2904-167">Click on  **Show in Log Search**.</span></span>  <span data-ttu-id="c2904-168">Se abre la ventana Búsqueda de registro donde puede realizar [búsquedas de registros](../log-analytics/log-analytics-log-searches.md) en los datos almacenados en el repositorio.</span><span class="sxs-lookup"><span data-stu-id="c2904-168">This opens the Log Search window where you can perform [log searches](../log-analytics/log-analytics-log-searches.md) against any data stored in the repository.</span></span>  <span data-ttu-id="c2904-169">Service Map ya ha rellenado una consulta para recuperar la alerta en la que estamos interesados.</span><span class="sxs-lookup"><span data-stu-id="c2904-169">Service Map already filled in a queriy for us to retrieve the alert we're interested in.</span></span>  

![Búsqueda de registros](./media/operations-management-suite-walkthrough-servicemap/log-search.png)


### <a name="9-open-saved-search"></a><span data-ttu-id="c2904-171">9. Apertura de la búsqueda guardada</span><span class="sxs-lookup"><span data-stu-id="c2904-171">9. Open saved search</span></span>
<span data-ttu-id="c2904-172">Veamos si podemos obtener algunos detalles más sobre la recopilación de rendimiento que generó esta alerta y comprobar nuestra sospecha de que los problemas se deben al proceso de copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="c2904-172">Let's see if we can get some more detail on the performance collection that generated this alert and verify our suspicion that the problems are being caused by that backup process.</span></span>  <span data-ttu-id="c2904-173">Cambie el intervalo de tiempo a **6 horas**.</span><span class="sxs-lookup"><span data-stu-id="c2904-173">Change the time range to **6 hours**.</span></span>  <span data-ttu-id="c2904-174">A continuación, haga clic en **Favoritos** y desplácese hasta las búsquedas guardadas para **Service Map**.</span><span class="sxs-lookup"><span data-stu-id="c2904-174">Then click on **Favorites** and scroll down to the saved searches for **Service Map**.</span></span>  <span data-ttu-id="c2904-175">Estas son consultas que hemos creado específicamente para este análisis.</span><span class="sxs-lookup"><span data-stu-id="c2904-175">These are queries that we created specifically for this analysis.</span></span>  <span data-ttu-id="c2904-176">Haga clic en **5 principales procesos por uso de CPU para acmetomcat**.</span><span class="sxs-lookup"><span data-stu-id="c2904-176">Click on **Top 5 Processes by CPU for acmetomcat**.</span></span>

![Búsqueda guardada](./media/operations-management-suite-walkthrough-servicemap/saved-search.png)


<span data-ttu-id="c2904-178">Esta consulta devuelve una lista de los 5 procesos principales que consumen procesador en **acmetomcat**.</span><span class="sxs-lookup"><span data-stu-id="c2904-178">This query returns a list of the top 5 processes consuming processor on **acmetomcat**.</span></span>  <span data-ttu-id="c2904-179">Puede inspeccionar la consulta para obtener una introducción al lenguaje de consulta usado en las búsquedas de registros.</span><span class="sxs-lookup"><span data-stu-id="c2904-179">You can inspect the query to get an introduction to the query language used for log searches.</span></span>  <span data-ttu-id="c2904-180">Si lo que le interesaran fueran los procesos en otros equipos, podría modificar la consulta para recuperar esa información.</span><span class="sxs-lookup"><span data-stu-id="c2904-180">If you were interested in the processes on other computers, you could modify the query to retrieve that information.</span></span>

<span data-ttu-id="c2904-181">En este caso, podemos ver que el proceso de copia de seguridad consume continuamente un 60 % aproximadamente de CPU del servidor de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="c2904-181">In this case, we can see that the backup process is consistently consuming about 60% of the app server’s CPU.</span></span>  <span data-ttu-id="c2904-182">Es obvio que este proceso nuevo es responsable de nuestro problema de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="c2904-182">It's pretty obvious that this new process is responsible for our performance problem.</span></span>  <span data-ttu-id="c2904-183">Obviamente, nuestra solución sería quitar este nuevo software de copia de seguridad del servidor de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="c2904-183">Our solution would obviously be to remove this new backup software off the application server.</span></span>  <span data-ttu-id="c2904-184">Podríamos aprovechar realmente la Configuración de estado deseado (DSC) administrada por Azure Automation para definir directivas que garanticen que este proceso nunca que se ejecute en estos sistemas críticos.</span><span class="sxs-lookup"><span data-stu-id="c2904-184">We could actually leverage Desired State Configuration (DSC) managed by Azure Automation to define policies that ensure this process never runs on these critical systems.</span></span>


## <a name="summary-points"></a><span data-ttu-id="c2904-185">Puntos de resumen</span><span class="sxs-lookup"><span data-stu-id="c2904-185">Summary points</span></span>
- <span data-ttu-id="c2904-186">[Service Map](operations-management-suite-service-map.md) le proporciona una vista de toda su aplicación incluso si no conoce todos sus servidores y dependencias.</span><span class="sxs-lookup"><span data-stu-id="c2904-186">[Service Map](operations-management-suite-service-map.md) provides you with a view of your entire application even if you don't know all of its servers and dependencies.</span></span>
- <span data-ttu-id="c2904-187">Service Map expone los datos recopilados por otras soluciones de OMS para ayudarle a identificar problemas con sus aplicaciones y su infraestructura subyacente.</span><span class="sxs-lookup"><span data-stu-id="c2904-187">Service Map surfaces data collected by other OMS solutions to help you identify issues with your application and its underlying infrastructure.</span></span>
- <span data-ttu-id="c2904-188">Las [búsquedas de registros](../log-analytics/log-analytics-log-searches.md) le permiten profundizar en los datos específicos recopilados en el repositorio de Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="c2904-188">[Log searches](../log-analytics/log-analytics-log-searches.md) allow you to drill down into specific data collected in the Log Analytics repository.</span></span>    

## <a name="next-steps"></a><span data-ttu-id="c2904-189">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="c2904-189">Next steps</span></span>
- <span data-ttu-id="c2904-190">Más información sobre [Service Map](operations-management-suite-service-map.md).</span><span class="sxs-lookup"><span data-stu-id="c2904-190">Learn more about [Service Map](operations-management-suite-service-map.md).</span></span>
- <span data-ttu-id="c2904-191">[Implementación y configuración de Service Map](operations-management-suite-service-map-configure.md).</span><span class="sxs-lookup"><span data-stu-id="c2904-191">[Deploy and configure](operations-management-suite-service-map-configure.md) Service Map.</span></span>
- <span data-ttu-id="c2904-192">Más información sobre [Log Analytics](../log-analytics/log-analytics-overview.md), una aplicación que es necesaria para Service Map y que almacena datos operativos almacenados por los agentes.</span><span class="sxs-lookup"><span data-stu-id="c2904-192">Learn about [Log Analytics](../log-analytics/log-analytics-overview.md) which is required for Service Map and stores operational data stored by agents.</span></span>