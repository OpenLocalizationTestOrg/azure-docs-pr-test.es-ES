---
title: Mover datos a Azure SQL Database para Azure Machine Learning | Microsoft Docs
description: Crear tabla SQL y cargar datos en ella
services: machine-learning
documentationcenter: 
author: bradsev
manager: jhubbard
editor: cgronlun
ms.assetid: 50f8b862-4d32-44b2-a1e2-4fbc8024acaa
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/29/2017
ms.author: bradsev
ms.openlocfilehash: dfd1649b666c3793339f8624bdf77aa92cca4e88
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/29/2017
---
# <a name="move-data-to-an-azure-sql-database-for-azure-machine-learning"></a><span data-ttu-id="419f1-103">Mover datos a una base de datos de SQL de Azure para Aprendizaje automático de Azure</span><span class="sxs-lookup"><span data-stu-id="419f1-103">Move data to an Azure SQL Database for Azure Machine Learning</span></span>
<span data-ttu-id="419f1-104">En este tema se describen las opciones para mover datos de archivos planos (formatos CSV o TSV) o de datos almacenados en un servidor de SQL Server local a Azure SQL Database.</span><span class="sxs-lookup"><span data-stu-id="419f1-104">This topic outlines the options for moving data either from flat files (CSV or TSV formats) or from data stored in an on-premises SQL Server to an Azure SQL database.</span></span> <span data-ttu-id="419f1-105">Estas tareas para mover datos a la nube forman parte del proceso de ciencia de datos en equipos.</span><span class="sxs-lookup"><span data-stu-id="419f1-105">These tasks for moving data to the cloud are part of the Team Data Science Process.</span></span>

<span data-ttu-id="419f1-106">Para ver un tema que describa las opciones para mover datos a un servidor de SQL Server local para Machine Learning, vea [Mover datos a un servidor SQL Server en una máquina virtual de Azure](machine-learning-data-science-move-sql-server-virtual-machine.md).</span><span class="sxs-lookup"><span data-stu-id="419f1-106">For a topic that outlines the options for moving data to an on-premises SQL Server for Machine Learning, see [Move data to SQL Server on an Azure virtual machine](machine-learning-data-science-move-sql-server-virtual-machine.md).</span></span>

<span data-ttu-id="419f1-107">El **menú** siguiente redirige a temas en los que se describe cómo ingerir datos en entornos de destino en que se pueden almacenar y procesar datos durante el proceso de ciencia de datos en equipos (TDSP).</span><span class="sxs-lookup"><span data-stu-id="419f1-107">The following **menu** links to topics that describe how to ingest data into target environments where the data can be stored and processed during the Team Data Science Process (TDSP).</span></span>

[!INCLUDE [cap-ingest-data-selector](../../includes/cap-ingest-data-selector.md)]

<span data-ttu-id="419f1-108">En la tabla siguiente se resumen las opciones para mover datos a una base de datos SQL de Azure.</span><span class="sxs-lookup"><span data-stu-id="419f1-108">The following table summarizes the options for moving data to an Azure SQL Database.</span></span>

| <span data-ttu-id="419f1-109"><b>ORIGEN</b></span><span class="sxs-lookup"><span data-stu-id="419f1-109"><b>SOURCE</b></span></span> | <span data-ttu-id="419f1-110"><b>DESTINO: Base de datos SQL de Azure</b></span><span class="sxs-lookup"><span data-stu-id="419f1-110"><b>DESTINATION: Azure SQL Database</b></span></span> |
| --- | --- |
| <span data-ttu-id="419f1-111"><b>Archivo plano (formatos CSV o TSV)</b></span><span class="sxs-lookup"><span data-stu-id="419f1-111"><b>Flat file (CSV or TSV formatted)</b></span></span> |<span data-ttu-id="419f1-112"><a href="#bulk-insert-sql-query">Consulta SQL de inserción masiva</span><span class="sxs-lookup"><span data-stu-id="419f1-112"><a href="#bulk-insert-sql-query">Bulk Insert SQL Query</span></span> |
| <span data-ttu-id="419f1-113"><b>SQL Server local</b></span><span class="sxs-lookup"><span data-stu-id="419f1-113"><b>On-premises SQL Server</b></span></span> |<span data-ttu-id="419f1-114">1. <a href="#export-flat-file">Exportación a un archivo plano</span><span class="sxs-lookup"><span data-stu-id="419f1-114">1. <a href="#export-flat-file">Export to Flat File</span></span><br> <span data-ttu-id="419f1-115">2. <a href="#insert-tables-bcp">Asistente para migración de base de datos de SQL</span><span class="sxs-lookup"><span data-stu-id="419f1-115">2. <a href="#insert-tables-bcp">SQL Database Migration Wizard</span></span><br> <span data-ttu-id="419f1-116">3. <a href="#db-migration">Copia de seguridad y restauración de una base de datos</span><span class="sxs-lookup"><span data-stu-id="419f1-116">3. <a href="#db-migration">Database back up and restore</span></span><br> <span data-ttu-id="419f1-117">4. <a href="#adf">Factoría de datos de Azure</span><span class="sxs-lookup"><span data-stu-id="419f1-117">4. <a href="#adf">Azure Data Factory</span></span> |

## <span data-ttu-id="419f1-118"><a name="prereqs"></a>Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="419f1-118"><a name="prereqs"></a>Prerequisites</span></span>
<span data-ttu-id="419f1-119">El procedimiento aquí descrito requiere disponer de:</span><span class="sxs-lookup"><span data-stu-id="419f1-119">The procedures outlined here require that you have:</span></span>

* <span data-ttu-id="419f1-120">Una **suscripción de Azure**.</span><span class="sxs-lookup"><span data-stu-id="419f1-120">An **Azure subscription**.</span></span> <span data-ttu-id="419f1-121">Si no tiene una suscripción, puede registrarse para obtener una [evaluación gratuita](https://azure.microsoft.com/pricing/free-trial/).</span><span class="sxs-lookup"><span data-stu-id="419f1-121">If you do not have a subscription, you can sign up for a [free trial](https://azure.microsoft.com/pricing/free-trial/).</span></span>
* <span data-ttu-id="419f1-122">Una **cuenta de almacenamiento de Azure**.</span><span class="sxs-lookup"><span data-stu-id="419f1-122">An **Azure storage account**.</span></span> <span data-ttu-id="419f1-123">En este tutorial se usa una cuenta de Azure Storage para almacenar los datos.</span><span class="sxs-lookup"><span data-stu-id="419f1-123">You use an Azure storage account for storing the data in this tutorial.</span></span> <span data-ttu-id="419f1-124">Si no dispone de una cuenta de almacenamiento de Azure, vea el artículo [Creación de una cuenta de almacenamiento](../storage/common/storage-create-storage-account.md#create-a-storage-account) .</span><span class="sxs-lookup"><span data-stu-id="419f1-124">If you don't have an Azure storage account, see the [Create a storage account](../storage/common/storage-create-storage-account.md#create-a-storage-account) article.</span></span> <span data-ttu-id="419f1-125">Tras crear la cuenta de almacenamiento, tendrá que obtener la clave de cuenta que se usa para tener acceso al almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="419f1-125">After you have created the storage account, you need to obtain the account key used to access the storage.</span></span> <span data-ttu-id="419f1-126">Consulte [Administración de las claves de acceso de almacenamiento](../storage/common/storage-create-storage-account.md#manage-your-storage-access-keys).</span><span class="sxs-lookup"><span data-stu-id="419f1-126">See [Manage your storage access keys](../storage/common/storage-create-storage-account.md#manage-your-storage-access-keys).</span></span>
* <span data-ttu-id="419f1-127">Acceso a una **base de datos SQL de Azure**.</span><span class="sxs-lookup"><span data-stu-id="419f1-127">Access to an **Azure SQL Database**.</span></span> <span data-ttu-id="419f1-128">Si debe configurar una instancia de Azure SQL Database, [Getting Started with Microsoft Azure SQL Database](../sql-database/sql-database-get-started.md) (Introducción a Microsoft Azure SQL Database) proporciona información sobre cómo aprovisionar una nueva instancia de Azure SQL Database.</span><span class="sxs-lookup"><span data-stu-id="419f1-128">If you must set up an Azure SQL Database, [Getting Started with Microsoft Azure SQL Database](../sql-database/sql-database-get-started.md) provides information on how to provision a new instance of an Azure SQL Database.</span></span>
* <span data-ttu-id="419f1-129">**Azure PowerShell** instalado y configurado de forma local.</span><span class="sxs-lookup"><span data-stu-id="419f1-129">Installed and configured **Azure PowerShell** locally.</span></span> <span data-ttu-id="419f1-130">Para obtener instrucciones, consulte [Instalación y configuración de Azure PowerShell](/powershell/azure/overview).</span><span class="sxs-lookup"><span data-stu-id="419f1-130">For instructions, see [How to install and configure Azure PowerShell](/powershell/azure/overview).</span></span>

<span data-ttu-id="419f1-131">**Datos**: los procesos de migración se demuestran con el [conjunto de datos de taxis de Nueva York](http://chriswhong.com/open-data/foil_nyc_taxi/).</span><span class="sxs-lookup"><span data-stu-id="419f1-131">**Data**: The migration processes are demonstrated using the [NYC Taxi dataset](http://chriswhong.com/open-data/foil_nyc_taxi/).</span></span> <span data-ttu-id="419f1-132">El conjunto de datos de taxis de Nueva York contiene información sobre los datos de carreras y las tarifas, y está disponible en Azure Blob Storage: [Datos de taxis de Nueva York](http://www.andresmh.com/nyctaxitrips/).</span><span class="sxs-lookup"><span data-stu-id="419f1-132">The NYC Taxi dataset contains information on trip data and fairs and is available on Azure blob storage: [NYC Taxi Data](http://www.andresmh.com/nyctaxitrips/).</span></span> <span data-ttu-id="419f1-133">En [Descripción del conjunto de datos de carreras de taxi de Nueva York](machine-learning-data-science-process-sql-walkthrough.md#dataset), se ofrece un ejemplo y una descripción de estos archivos.</span><span class="sxs-lookup"><span data-stu-id="419f1-133">A sample and description of these files are provided in [NYC Taxi Trips Dataset Description](machine-learning-data-science-process-sql-walkthrough.md#dataset).</span></span>

<span data-ttu-id="419f1-134">Puede adaptar los procedimientos que se describen aquí para un conjunto de datos propios o seguir los pasos descritos para el uso del conjunto de datos de taxis de Nueva York.</span><span class="sxs-lookup"><span data-stu-id="419f1-134">You can either adapt the procedures described here to a set of your own data or follow the steps as described by using the NYC Taxi dataset.</span></span> <span data-ttu-id="419f1-135">Para cargar el conjunto de datos de taxis de Nueva York en la base de datos de SQL Server local, siga el procedimiento descrito en [Importación masiva de datos en una base de datos de SQL Server](machine-learning-data-science-process-sql-walkthrough.md#dbload).</span><span class="sxs-lookup"><span data-stu-id="419f1-135">To upload the NYC Taxi dataset into your on-premises SQL Server database, follow the procedure outlined in [Bulk Import Data into SQL Server Database](machine-learning-data-science-process-sql-walkthrough.md#dbload).</span></span> <span data-ttu-id="419f1-136">Estas instrucciones corresponden a un servidor SQL Server en una máquina virtual de Azure, pero el procedimiento para realizar la carga en SQL Server local es el mismo.</span><span class="sxs-lookup"><span data-stu-id="419f1-136">These instructions are for a SQL Server on an Azure Virtual Machine, but the procedure for uploading to the on-premises SQL Server is the same.</span></span>

## <span data-ttu-id="419f1-137"><a name="file-to-azure-sql-database"></a> Mover datos desde un origen de archivo plano a una base de datos SQL de Azure</span><span class="sxs-lookup"><span data-stu-id="419f1-137"><a name="file-to-azure-sql-database"></a> Moving data from a flat file source to an Azure SQL database</span></span>
<span data-ttu-id="419f1-138">Los datos de archivos planos (formatos CSV o TSV) se pueden mover a una base de datos de SQL de Azure mediante una consulta SQL de inserción masiva.</span><span class="sxs-lookup"><span data-stu-id="419f1-138">Data in flat files (CSV or TSV formatted) can be moved to an Azure SQL database using a Bulk Insert SQL Query.</span></span>

### <span data-ttu-id="419f1-139"><a name="bulk-insert-sql-query"></a> Consulta SQL de inserción masiva</span><span class="sxs-lookup"><span data-stu-id="419f1-139"><a name="bulk-insert-sql-query"></a> Bulk Insert SQL Query</span></span>
<span data-ttu-id="419f1-140">Los pasos del procedimiento en el que se usa la consulta SQL de inserción masiva son similares a los descritos en las secciones en las que se explica el movimiento de datos desde un origen de archivo plano a un servidor SQL Server en una máquina virtual de Azure.</span><span class="sxs-lookup"><span data-stu-id="419f1-140">The steps for the procedure using the Bulk Insert SQL Query are similar to those covered in the sections for moving data from a flat file source to SQL Server on an Azure VM.</span></span> <span data-ttu-id="419f1-141">Para detalles, vea [Consulta SQL de inserción masiva](machine-learning-data-science-move-sql-server-virtual-machine.md#insert-tables-bulkquery).</span><span class="sxs-lookup"><span data-stu-id="419f1-141">For details, see [Bulk Insert SQL Query](machine-learning-data-science-move-sql-server-virtual-machine.md#insert-tables-bulkquery).</span></span>

## <span data-ttu-id="419f1-142"><a name="sql-on-prem-to-sazure-sql-database"></a> Mover datos desde un servidor SQL Server local a una base de datos SQL de Azure</span><span class="sxs-lookup"><span data-stu-id="419f1-142"><a name="sql-on-prem-to-sazure-sql-database"></a> Moving Data from on-premises SQL Server to an Azure SQL database</span></span>
<span data-ttu-id="419f1-143">Si los datos de origen están almacenados en un servidor SQL Server local, hay varias alternativas para mover los datos a una instancia de Azure SQL Database:</span><span class="sxs-lookup"><span data-stu-id="419f1-143">If the source data is stored in an on-premises SQL Server, there are various possibilities for moving the data to an Azure SQL database:</span></span>

1. [<span data-ttu-id="419f1-144">Exportación a un archivo plano</span><span class="sxs-lookup"><span data-stu-id="419f1-144">Export to Flat File</span></span>](#export-flat-file)
2. [<span data-ttu-id="419f1-145">Asistente para migración de Base de datos SQL</span><span class="sxs-lookup"><span data-stu-id="419f1-145">SQL Database Migration Wizard</span></span>](#insert-tables-bcp)
3. [<span data-ttu-id="419f1-146">Copia de seguridad y restauración de una base de datos</span><span class="sxs-lookup"><span data-stu-id="419f1-146">Database back up and restore</span></span>](#db-migration)
4. [<span data-ttu-id="419f1-147">Factoría de datos de Azure</span><span class="sxs-lookup"><span data-stu-id="419f1-147">Azure Data Factory</span></span>](#adf)

<span data-ttu-id="419f1-148">Los pasos para las tres primeras opciones son muy similares a los de la sección [Mover datos a un servidor SQL Server en una máquina virtual de Azure](machine-learning-data-science-move-sql-server-virtual-machine.md) , en la que se explican los mismos procedimientos.</span><span class="sxs-lookup"><span data-stu-id="419f1-148">The steps for the first three are very similar to those sections in [Move data to SQL Server on an Azure virtual machine](machine-learning-data-science-move-sql-server-virtual-machine.md) that cover these same procedures.</span></span> <span data-ttu-id="419f1-149">En las instrucciones siguientes se proporcionan vínculos a las secciones correspondientes de ese tema.</span><span class="sxs-lookup"><span data-stu-id="419f1-149">Links to the appropriate sections in that topic are provided in the following instructions.</span></span>

### <span data-ttu-id="419f1-150"><a name="export-flat-file"></a>Exportación a un archivo plano</span><span class="sxs-lookup"><span data-stu-id="419f1-150"><a name="export-flat-file"></a>Export to Flat File</span></span>
<span data-ttu-id="419f1-151">Los pasos para esta exportación a un archivo plano son similares a los que se explican en [Exportación a un archivo plano](machine-learning-data-science-move-sql-server-virtual-machine.md#export-flat-file).</span><span class="sxs-lookup"><span data-stu-id="419f1-151">The steps for this exporting to a flat file are similar to those covered in [Export to Flat File](machine-learning-data-science-move-sql-server-virtual-machine.md#export-flat-file).</span></span>

### <span data-ttu-id="419f1-152"><a name="insert-tables-bcp"></a>Asistente para migración de Base de datos SQL</span><span class="sxs-lookup"><span data-stu-id="419f1-152"><a name="insert-tables-bcp"></a>SQL Database Migration Wizard</span></span>
<span data-ttu-id="419f1-153">Los pasos para usar el Asistente para migración de SQL Database son similares a los que se explican en [Asistente para migración de SQL Database](machine-learning-data-science-move-sql-server-virtual-machine.md#sql-migration).</span><span class="sxs-lookup"><span data-stu-id="419f1-153">The steps for using the SQL Database Migration Wizard are similar to those covered in [SQL Database Migration Wizard](machine-learning-data-science-move-sql-server-virtual-machine.md#sql-migration).</span></span>

### <span data-ttu-id="419f1-154"><a name="db-migration"></a>Copia de seguridad y restauración de una base de datos</span><span class="sxs-lookup"><span data-stu-id="419f1-154"><a name="db-migration"></a>Database back up and restore</span></span>
<span data-ttu-id="419f1-155">Los pasos para usar la copia de seguridad y restauración de la base de datos son similares a los que se explican en [Copia de seguridad y restauración de la base de datos](machine-learning-data-science-move-sql-server-virtual-machine.md#sql-backup).</span><span class="sxs-lookup"><span data-stu-id="419f1-155">The steps for using database back up and restore are similar to those covered in [Database back up and restore](machine-learning-data-science-move-sql-server-virtual-machine.md#sql-backup).</span></span>

### <span data-ttu-id="419f1-156"><a name="adf"></a>Factoría de datos de Azure</span><span class="sxs-lookup"><span data-stu-id="419f1-156"><a name="adf"></a>Azure Data Factory</span></span>
<span data-ttu-id="419f1-157">El procedimiento para mover datos a una instancia de Azure SQL Database con Azure Data Factory (ADF) se explica en el tema [Mover datos desde un servidor SQL Server local a SQL Azure con Azure Data Factory](machine-learning-data-science-move-sql-azure-adf.md).</span><span class="sxs-lookup"><span data-stu-id="419f1-157">The procedure for moving data to an Azure SQL database with Azure Data Factory (ADF) is provided in the topic [Move data from an on-premises SQL server to SQL Azure with Azure Data Factory](machine-learning-data-science-move-sql-azure-adf.md).</span></span> <span data-ttu-id="419f1-158">En este tema se muestra cómo mover datos desde una base de datos local de SQL Server a una instancia de Azure SQL Database a través de Azure Blob Storage con Azure Data Factory (ADF).</span><span class="sxs-lookup"><span data-stu-id="419f1-158">This topic shows how to move data from an on-premises SQL Server database to an Azure SQL database via Azure Blob Storage using ADF.</span></span>

<span data-ttu-id="419f1-159">Considere el uso de ADF cuando los datos deban migrarse continuamente en un escenario híbrido con acceso a recursos locales y de nube, y cuando los datos se transfieran o deban modificarse o tener lógica de negocios agregada mientras se migran.</span><span class="sxs-lookup"><span data-stu-id="419f1-159">Consider using ADF when data needs to be continually migrated in a hybrid scenario that accesses both on-premises and cloud resources, and when the data is transacted or needs to be modified or have business logic added to it when being migrated.</span></span> <span data-ttu-id="419f1-160">La ADF permite la programación y supervisión de trabajos mediante scripts JSON sencillos que administran el movimiento de datos de forma periódica.</span><span class="sxs-lookup"><span data-stu-id="419f1-160">ADF allows for the scheduling and monitoring of jobs using simple JSON scripts that manage the movement of data on a periodic basis.</span></span> <span data-ttu-id="419f1-161">La ADF también tiene otras capacidades como la compatibilidad con operaciones complejas.</span><span class="sxs-lookup"><span data-stu-id="419f1-161">ADF also has other capabilities such as support for complex operations.</span></span>
