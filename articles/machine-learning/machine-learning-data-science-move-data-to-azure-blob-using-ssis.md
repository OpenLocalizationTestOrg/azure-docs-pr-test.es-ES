---
title: Movimiento de datos desde o hacia Azure Blob Storage con conectores SSIS | Microsoft Docs
description: Movimiento de datos desde o hacia el almacenamiento de blobs de Azure con conectores SSIS.
services: machine-learning,storage
documentationcenter: 
author: bradsev
manager: jhubbard
editor: cgronlun
ms.assetid: 96a1b5fb-34d1-4b9b-8d99-2bb8289e0398
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 03/24/2017
ms.author: bradsev
ms.openlocfilehash: 575beaea5443919bd9728016bf100b43de8e4aab
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/29/2017
---
# <a name="move-data-to-or-from-azure-blob-storage-using-ssis-connectors"></a><span data-ttu-id="afe78-103">Movimiento de datos desde o hacia Azure Blob Storage con conectores SSIS</span><span class="sxs-lookup"><span data-stu-id="afe78-103">Move data to or from Azure Blob Storage using SSIS connectors</span></span>
<span data-ttu-id="afe78-104">El [Feature Pack de SQL Server Integration Services para Azure](https://msdn.microsoft.com/library/mt146770.aspx) ofrece componentes para conectarse a Azure, transferir datos entre Azure y orígenes de datos locales y procesar datos almacenados en Azure.</span><span class="sxs-lookup"><span data-stu-id="afe78-104">The [SQL Server Integration Services Feature Pack for Azure](https://msdn.microsoft.com/library/mt146770.aspx) provides components to connect to Azure, transfer data between Azure and on-premises data sources, and process data stored in Azure.</span></span>

[!INCLUDE [blob-storage-tool-selector](../../includes/machine-learning-blob-storage-tool-selector.md)]

<span data-ttu-id="afe78-105">Una vez que los clientes movieron los datos locales a la nube, pueden tener acceso a ellos desde cualquier servicio de Azure para aprovechar al máximo el conjunto de tecnologías de Azure.</span><span class="sxs-lookup"><span data-stu-id="afe78-105">Once customers have moved on-premises data into the cloud, they can access it from any Azure service to leverage the full power of the suite of Azure technologies.</span></span> <span data-ttu-id="afe78-106">Por ejemplo, se pueden usar en Aprendizaje automático de Azure o en un clúster de HDInsight.</span><span class="sxs-lookup"><span data-stu-id="afe78-106">It may be used, for example, in Azure Machine Learning or on an HDInsight cluster.</span></span>

<span data-ttu-id="afe78-107">Generalmente, este será el primer paso de los tutoriales de [SQL](machine-learning-data-science-process-sql-walkthrough.md) y [HDInsight](machine-learning-data-science-process-hive-walkthrough.md).</span><span class="sxs-lookup"><span data-stu-id="afe78-107">This is typically be the first step for the [SQL](machine-learning-data-science-process-sql-walkthrough.md) and [HDInsight](machine-learning-data-science-process-hive-walkthrough.md) walkthroughs.</span></span>

<span data-ttu-id="afe78-108">Si desea ver un análisis de los escenarios canónicos que usan SSIS para satisfacer las necesidades de negocio comunes en escenarios de integración de datos híbridos, visite el blog [Doing more with SQL Server Integration Services Feature Pack for Azure](http://blogs.msdn.com/b/ssis/archive/2015/06/25/doing-more-with-sql-server-integration-services-feature-pack-for-azure.aspx) (Aprovechar más el Feature Pack de SQL Server Integration Services para Azure).</span><span class="sxs-lookup"><span data-stu-id="afe78-108">For a discussion of canonical scenarios that use SSIS to accomplish business needs common in hybrid data integration scenarios, see [Doing more with SQL Server Integration Services Feature Pack for Azure](http://blogs.msdn.com/b/ssis/archive/2015/06/25/doing-more-with-sql-server-integration-services-feature-pack-for-azure.aspx) blog.</span></span>

> [!NOTE]
> <span data-ttu-id="afe78-109">Para ver una introducción completa a Azure Blob Storage, consulte [Aspectos básicos de Azure Blob](../storage/blobs/storage-dotnet-how-to-use-blobs.md) y [Azure Blob Service](https://msdn.microsoft.com/library/azure/dd179376.aspx).</span><span class="sxs-lookup"><span data-stu-id="afe78-109">For a complete introduction to Azure blob storage, refer to [Azure Blob Basics](../storage/blobs/storage-dotnet-how-to-use-blobs.md) and to [Azure Blob Service](https://msdn.microsoft.com/library/azure/dd179376.aspx).</span></span>
> 
> 

## <a name="prerequisites"></a><span data-ttu-id="afe78-110">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="afe78-110">Prerequisites</span></span>
<span data-ttu-id="afe78-111">Si desea realizar las tareas que describe este artículo, debe tener configurada una suscripción de Azure y una cuenta de Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="afe78-111">To perform the tasks described in this article, you must have an Azure subscription and an Azure storage account set up.</span></span> <span data-ttu-id="afe78-112">Debe saber cuál es el nombre de la cuenta de Azure storage y la clave de la cuenta para cargar o descargar datos.</span><span class="sxs-lookup"><span data-stu-id="afe78-112">You must know your Azure storage account name and account key to upload or download data.</span></span>

* <span data-ttu-id="afe78-113">Para configurar una **suscripción a Azure**, consulte [Prueba gratuita de un mes](https://azure.microsoft.com/pricing/free-trial/).</span><span class="sxs-lookup"><span data-stu-id="afe78-113">To set up an **Azure subscription**, see [Free one-month trial](https://azure.microsoft.com/pricing/free-trial/).</span></span>
* <span data-ttu-id="afe78-114">Para obtener instrucciones sobre cómo crear una **cuenta de almacenamiento** y cómo obtener información sobre la cuenta y la clave, consulte [Acerca de las cuentas de almacenamiento de Azure](../storage/common/storage-create-storage-account.md).</span><span class="sxs-lookup"><span data-stu-id="afe78-114">For instructions on creating a **storage account** and for getting account and key information, see [About Azure storage accounts](../storage/common/storage-create-storage-account.md).</span></span>

<span data-ttu-id="afe78-115">Para usar los **conectores SSIS**, debe descargar:</span><span class="sxs-lookup"><span data-stu-id="afe78-115">To use the **SSIS connectors**, you must download:</span></span>

* <span data-ttu-id="afe78-116">**SQL Server 2014 o 2016 Standard (o superior)**: la instalación incluye SQL Server Integration Services.</span><span class="sxs-lookup"><span data-stu-id="afe78-116">**SQL Server 2014 or 2016 Standard (or above)**: Install includes SQL Server Integration Services.</span></span>
* <span data-ttu-id="afe78-117">**Feature Pack de Microsoft SQL Server 2014 o 2016 Integration Services para Azure**: se pueden descargar, respectivamente, en la página [SQL Server 2014 Integration Services](http://www.microsoft.com/download/details.aspx?id=47366) y [SQL Server 2016 Integration Services](https://www.microsoft.com/download/details.aspx?id=49492).</span><span class="sxs-lookup"><span data-stu-id="afe78-117">**Microsoft SQL Server 2014 or 2016 Integration Services Feature Pack for Azure**: These can be downloaded, respectively, from the [SQL Server 2014 Integration Services](http://www.microsoft.com/download/details.aspx?id=47366) and [SQL Server 2016 Integration Services](https://www.microsoft.com/download/details.aspx?id=49492) pages.</span></span>

> [!NOTE]
> <span data-ttu-id="afe78-118">SSIS se instala con SQL Server, pero no está incluido en la versión Express.</span><span class="sxs-lookup"><span data-stu-id="afe78-118">SSIS is installed with SQL Server, but is not included in the Express version.</span></span> <span data-ttu-id="afe78-119">Para obtener información sobre qué aplicaciones se incluyen en las distintas versiones de SQL Server, consulte [Ediciones de SQL Server](http://www.microsoft.com/en-us/server-cloud/products/sql-server-editions/)</span><span class="sxs-lookup"><span data-stu-id="afe78-119">For information on what applications are included in various editions of SQL Server, see [SQL Server Editions](http://www.microsoft.com/en-us/server-cloud/products/sql-server-editions/)</span></span>
> 
> 

<span data-ttu-id="afe78-120">Para obtener materiales de aprendizaje sobre SSIS, consulte [Aprendizaje práctico para SSIS](http://www.microsoft.com/download/details.aspx?id=20766)</span><span class="sxs-lookup"><span data-stu-id="afe78-120">For training materials on SSIS, see [Hands On Training for SSIS](http://www.microsoft.com/download/details.aspx?id=20766)</span></span>

<span data-ttu-id="afe78-121">Si desea obtener información sobre cómo trabajar con SISS para compilar paquetes de extracción, transformación y carga (ETL) sencillos, consulte [Tutorial de SSIS: Creación de un paquete ETL sencillo](https://msdn.microsoft.com/library/ms169917.aspx).</span><span class="sxs-lookup"><span data-stu-id="afe78-121">For information on how to get up-and-running using SISS to build simple extraction, transformation, and load (ETL) packages, see [SSIS Tutorial: Creating a Simple ETL Package](https://msdn.microsoft.com/library/ms169917.aspx).</span></span>

## <a name="download-nyc-taxi-dataset"></a><span data-ttu-id="afe78-122">Descargar el conjunto de datos de taxis de la ciudad de Nueva York</span><span class="sxs-lookup"><span data-stu-id="afe78-122">Download NYC Taxi dataset</span></span>
<span data-ttu-id="afe78-123">El ejemplo aquí descrito usa un conjunto de datos disponible para todo público, el conjunto de datos [NYC Taxi Trips](http://www.andresmh.com/nyctaxitrips/) (Viajes en taxi en la ciudad de Nueva York).</span><span class="sxs-lookup"><span data-stu-id="afe78-123">The example described here use a publicly available dataset -- the [NYC Taxi Trips](http://www.andresmh.com/nyctaxitrips/) dataset.</span></span> <span data-ttu-id="afe78-124">El conjunto de datos consta de alrededor de 173 millones de viajes en taxi que se realizaron en Nueva York durante el año 2013.</span><span class="sxs-lookup"><span data-stu-id="afe78-124">The dataset consists of about 173 million taxi rides in NYC in the year 2013.</span></span> <span data-ttu-id="afe78-125">Existen dos tipos de datos: datos de los detalles de las carreras y datos sobre las tarifas.</span><span class="sxs-lookup"><span data-stu-id="afe78-125">There are two types of data: trip details data and fare data.</span></span> <span data-ttu-id="afe78-126">Como existe un archivo correspondiente a cada mes, tenemos, en total, 24 archivos, cada uno de los cuales tiene un tamaño de 2 GB sin comprimir.</span><span class="sxs-lookup"><span data-stu-id="afe78-126">As there is a file for each month, we have 24 files in all, each of which is approximately 2GB uncompressed.</span></span>

## <a name="upload-data-to-azure-blob-storage"></a><span data-ttu-id="afe78-127">Carga de datos en el almacenamiento de blobs de Azure</span><span class="sxs-lookup"><span data-stu-id="afe78-127">Upload data to Azure blob storage</span></span>
<span data-ttu-id="afe78-128">Para mover los datos con el Feature Pack de SSIS desde un almacenamiento local a Blob Storage de Azure, usamos una instancia de la [**tarea de carga de blobs de Azure**](https://msdn.microsoft.com/library/mt146776.aspx), que aparece a continuación:</span><span class="sxs-lookup"><span data-stu-id="afe78-128">To move data using the SSIS feature pack from on-premises to Azure blob storage, we use an instance of the [**Azure Blob Upload Task**](https://msdn.microsoft.com/library/mt146776.aspx), shown here:</span></span>

![configure-data-science-vm](./media/machine-learning-data-science-move-data-to-azure-blob-using-ssis/ssis-azure-blob-upload-task.png)

<span data-ttu-id="afe78-130">A continuación, se describen los parámetros que usa la tarea:</span><span class="sxs-lookup"><span data-stu-id="afe78-130">The parameters that the task uses are described here:</span></span>

| <span data-ttu-id="afe78-131">Campo</span><span class="sxs-lookup"><span data-stu-id="afe78-131">Field</span></span> | <span data-ttu-id="afe78-132">Description</span><span class="sxs-lookup"><span data-stu-id="afe78-132">Description</span></span> |
| --- | --- |
| <span data-ttu-id="afe78-133">**AzureStorageConnection**</span><span class="sxs-lookup"><span data-stu-id="afe78-133">**AzureStorageConnection**</span></span> |<span data-ttu-id="afe78-134">Especifica un Administrador de conexiones de almacenamiento de Azure existente o crea uno nuevo que hace referencia a una cuenta de almacenamiento de Azure que apunta adonde se almacenan los archivos de blob.</span><span class="sxs-lookup"><span data-stu-id="afe78-134">Specifies an existing Azure Storage Connection Manager or creates a new one that refers to an Azure storage account that points to where the blob files are hosted.</span></span> |
| <span data-ttu-id="afe78-135">**BlobContainer**</span><span class="sxs-lookup"><span data-stu-id="afe78-135">**BlobContainer**</span></span> |<span data-ttu-id="afe78-136">Especifica el nombre del contenedor de blobs que mantiene los archivos cargados como blobs.</span><span class="sxs-lookup"><span data-stu-id="afe78-136">Specifies the name of the blob container that hold the uploaded files as blobs.</span></span> |
| <span data-ttu-id="afe78-137">**BlobDirectory**</span><span class="sxs-lookup"><span data-stu-id="afe78-137">**BlobDirectory**</span></span> |<span data-ttu-id="afe78-138">Especifica el directorio de blobs donde se almacena el archivo cargado como un blob en bloques.</span><span class="sxs-lookup"><span data-stu-id="afe78-138">Specifies the blob directory where the uploaded file is stored as a block blob.</span></span> <span data-ttu-id="afe78-139">El directorio de blobs es una estructura jerárquica virtual.</span><span class="sxs-lookup"><span data-stu-id="afe78-139">The blob directory is a virtual hierarchical structure.</span></span> <span data-ttu-id="afe78-140">Si el blob ya existe, se reemplaza.</span><span class="sxs-lookup"><span data-stu-id="afe78-140">If the blob already exists, it ia replaced.</span></span> |
| <span data-ttu-id="afe78-141">**LocalDirectory**</span><span class="sxs-lookup"><span data-stu-id="afe78-141">**LocalDirectory**</span></span> |<span data-ttu-id="afe78-142">Especifica el directorio local que contiene los archivos que se cargarán.</span><span class="sxs-lookup"><span data-stu-id="afe78-142">Specifies the local directory that contains the files to be uploaded.</span></span> |
| <span data-ttu-id="afe78-143">**FileName**</span><span class="sxs-lookup"><span data-stu-id="afe78-143">**FileName**</span></span> |<span data-ttu-id="afe78-144">Especifica un nombre de filtro para seleccionar archivos con el patrón de nombre especificado.</span><span class="sxs-lookup"><span data-stu-id="afe78-144">Specifies a name filter to select files with the specified name pattern.</span></span> <span data-ttu-id="afe78-145">Por ejemplo, MySheet\*.xls\* incluye archivos como MySheet001.xls y MySheetABC.xlsx</span><span class="sxs-lookup"><span data-stu-id="afe78-145">For example, MySheet\*.xls\* includes files such as MySheet001.xls and MySheetABC.xlsx</span></span> |
| <span data-ttu-id="afe78-146">**TimeRangeFrom/TimeRangeTo**</span><span class="sxs-lookup"><span data-stu-id="afe78-146">**TimeRangeFrom/TimeRangeTo**</span></span> |<span data-ttu-id="afe78-147">Especifica un filtro de intervalo de tiempo.</span><span class="sxs-lookup"><span data-stu-id="afe78-147">Specifies a time range filter.</span></span> <span data-ttu-id="afe78-148">Se incluirán los archivos modificados después de *TimeRangeFrom* y antes de *TimeRangeTo*.</span><span class="sxs-lookup"><span data-stu-id="afe78-148">Files modified after *TimeRangeFrom* and before *TimeRangeTo* are included.</span></span> |

> [!NOTE]
> <span data-ttu-id="afe78-149">Es necesario corregir las credenciales de **AzureStorageConnection** y se debe salir de **BlobContainer** antes de intentar realizar la transferencia.</span><span class="sxs-lookup"><span data-stu-id="afe78-149">The **AzureStorageConnection** credentials need to be correct and the **BlobContainer** must exist before the transfer is attempted.</span></span>
> 
> 

## <a name="download-data-from-azure-blob-storage"></a><span data-ttu-id="afe78-150">Cargar datos desde el almacenamiento de blobs de Azure</span><span class="sxs-lookup"><span data-stu-id="afe78-150">Download data from Azure blob storage</span></span>
<span data-ttu-id="afe78-151">Para descargar datos desde Azure Blob Storage a un almacenamiento local con SSIS, use una instancia de [Azure Blob Upload Task](https://msdn.microsoft.com/library/mt146779.aspx) (Tarea de carga de Azure Blob).</span><span class="sxs-lookup"><span data-stu-id="afe78-151">To download data from Azure blob storage to on-premises storage with SSIS, use an instance of the [Azure Blob Upload Task](https://msdn.microsoft.com/library/mt146779.aspx).</span></span>

## <a name="more-advanced-ssis-azure-scenarios"></a><span data-ttu-id="afe78-152">Escenarios de SSIS-Azure más avanzados</span><span class="sxs-lookup"><span data-stu-id="afe78-152">More advanced SSIS-Azure scenarios</span></span>
<span data-ttu-id="afe78-153">El Feature Pack de SSIS permite administrar flujos más complejos al empaquetar juntas las tareas.</span><span class="sxs-lookup"><span data-stu-id="afe78-153">The SSIS feature pack allows for more complex flows to be handled by packaging tasks together.</span></span> <span data-ttu-id="afe78-154">Por ejemplo, los datos de blobs se podrían ingresar directamente en un clúster de HDInsight cuya salida se podría descargar nuevamente a un blob y, luego, a un almacenamiento local.</span><span class="sxs-lookup"><span data-stu-id="afe78-154">For example, the blob data could feed directly into an HDInsight cluster, whose output could be downloaded back to a blob and then to on-premises storage.</span></span> <span data-ttu-id="afe78-155">SSIS puede ejecutar trabajos de Hive y Pig en un clúster de HDInsight, mediante el uso de conectores SSIS adicionales:</span><span class="sxs-lookup"><span data-stu-id="afe78-155">SSIS can run Hive and Pig jobs on an HDInsight cluster using additional SSIS connectors:</span></span>

* <span data-ttu-id="afe78-156">Para ejecutar un script de Hive en un clúster de HDInsight de Azure con SSIS, use [Tarea de Hive para HDInsight de Azure](https://msdn.microsoft.com/library/mt146771.aspx).</span><span class="sxs-lookup"><span data-stu-id="afe78-156">To run a Hive script on an Azure HDInsight cluster with SSIS, use [Azure HDInsight Hive Task](https://msdn.microsoft.com/library/mt146771.aspx).</span></span>
* <span data-ttu-id="afe78-157">Para ejecutar un script de Pig en un clúster de HDInsight de Azure con SSIS, use [Tarea de Pig para HDInsight de Azure](https://msdn.microsoft.com/library/mt146781.aspx).</span><span class="sxs-lookup"><span data-stu-id="afe78-157">To run a Pig script on an Azure HDInsight cluster with SSIS, use [Azure HDInsight Pig Task](https://msdn.microsoft.com/library/mt146781.aspx).</span></span>

