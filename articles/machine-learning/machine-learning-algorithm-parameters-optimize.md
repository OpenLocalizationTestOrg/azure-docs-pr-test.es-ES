---
title: "aaaOptimize sus algoritmos de aprendizaje automático de Azure | Documentos de Microsoft"
description: "Explica cómo establece el parámetro óptimo de hello toochoose un algoritmo de aprendizaje automático de Azure."
services: machine-learning
documentationcenter: 
author: bradsev
manager: jhubbard
editor: cgronlun
ms.assetid: 6717e30e-b8d8-4cc1-ad0b-1d4727928d32
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/29/2017
ms.author: bradsev
ms.openlocfilehash: fbf2f71abdbce19483fb048d67a39cbb368a928e
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="choose-parameters-toooptimize-your-algorithms-in-azure-machine-learning"></a><span data-ttu-id="d90b6-103">Elegir parámetros toooptimize sus algoritmos de aprendizaje automático de Azure</span><span class="sxs-lookup"><span data-stu-id="d90b6-103">Choose parameters toooptimize your algorithms in Azure Machine Learning</span></span>
<span data-ttu-id="d90b6-104">Este tema describe cómo establece toochoose Hola derecho hyperparameter un algoritmo de aprendizaje automático de Azure.</span><span class="sxs-lookup"><span data-stu-id="d90b6-104">This topic describes how toochoose hello right hyperparameter set for an algorithm in Azure Machine Learning.</span></span> <span data-ttu-id="d90b6-105">La mayoría de los algoritmos de aprendizaje de máquina tiene parámetros tooset.</span><span class="sxs-lookup"><span data-stu-id="d90b6-105">Most machine learning algorithms have parameters tooset.</span></span> <span data-ttu-id="d90b6-106">Cuando se entrena un modelo, debe tooprovide valores para esos parámetros.</span><span class="sxs-lookup"><span data-stu-id="d90b6-106">When you train a model, you need tooprovide values for those parameters.</span></span> <span data-ttu-id="d90b6-107">eficacia de Hola de modelo entrenado Hola depende de los parámetros de modelo de Hola que elija.</span><span class="sxs-lookup"><span data-stu-id="d90b6-107">hello efficacy of hello trained model depends on hello model parameters that you choose.</span></span> <span data-ttu-id="d90b6-108">Hello proceso de búsqueda de conjunto óptimo de Hola de parámetros se denomina *selección de modelo*.</span><span class="sxs-lookup"><span data-stu-id="d90b6-108">hello process of finding hello optimal set of parameters is known as *model selection*.</span></span>

[!INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]

<span data-ttu-id="d90b6-109">No hay selección del modelo de toodo de diversas maneras.</span><span class="sxs-lookup"><span data-stu-id="d90b6-109">There are various ways toodo model selection.</span></span> <span data-ttu-id="d90b6-110">En el aprendizaje automático, la validación cruzada es uno de los métodos de Hola que más se usan para la selección de modelo y es el mecanismo de selección de modelo de hello predeterminado en el aprendizaje automático de Azure.</span><span class="sxs-lookup"><span data-stu-id="d90b6-110">In machine learning, cross-validation is one of hello most widely used methods for model selection, and it is hello default model selection mechanism in Azure Machine Learning.</span></span> <span data-ttu-id="d90b6-111">Como R y Python son compatibles con Azure Machine Learning, siempre puede implementar sus propios mecanismos de selección de modelo mediante R o Python.</span><span class="sxs-lookup"><span data-stu-id="d90b6-111">Because Azure Machine Learning supports both R and Python, you can always implement their own model selection mechanisms by using either R or Python.</span></span>

<span data-ttu-id="d90b6-112">Hay cuatro pasos en proceso de Hola de encontrar Hola mejor conjunto de parámetros:</span><span class="sxs-lookup"><span data-stu-id="d90b6-112">There are four steps in hello process of finding hello best parameter set:</span></span>

1. <span data-ttu-id="d90b6-113">**Definir espacio de parámetro hello**: para el algoritmo de hello, decida primero valores de parámetro exacto de Hola que desee tooconsider.</span><span class="sxs-lookup"><span data-stu-id="d90b6-113">**Define hello parameter space**: For hello algorithm, first decide hello exact parameter values you want tooconsider.</span></span>
2. <span data-ttu-id="d90b6-114">**Definir la configuración de validación cruzada de Hola**: decidir cómo se contrae toochoose la validación cruzada para el conjunto de datos de Hola.</span><span class="sxs-lookup"><span data-stu-id="d90b6-114">**Define hello cross-validation settings**: Decide how toochoose cross-validation folds for hello dataset.</span></span>
3. <span data-ttu-id="d90b6-115">**Definir métrica Hola**: decida qué toouse métrica para determinar el mejor conjunto de parámetros, como la precisión de hello, raíz cuadrada cuadrático medio error, precisión, recuperación o valor f.</span><span class="sxs-lookup"><span data-stu-id="d90b6-115">**Define hello metric**: Decide what metric toouse for determining hello best set of parameters, such as accuracy, root mean squared error, precision, recall, or f-score.</span></span>
4. <span data-ttu-id="d90b6-116">**Entrenar, evaluar y comparar**: para cada combinación única de valores de parámetro de hello, la validación cruzada es realizada por y en función de la métrica de error de Hola que define.</span><span class="sxs-lookup"><span data-stu-id="d90b6-116">**Train, evaluate, and compare**: For each unique combination of hello parameter values, cross-validation is carried out by and based on hello error metric you define.</span></span> <span data-ttu-id="d90b6-117">Después de la evaluación y la comparación, puede elegir modelo perfecto rendimiento Hola.</span><span class="sxs-lookup"><span data-stu-id="d90b6-117">After evaluation and comparison, you can choose hello best-performing model.</span></span>

<span data-ttu-id="d90b6-118">Hola después de la imagen de muestra se muestra cómo se puede lograr de aprendizaje automático de Azure.</span><span class="sxs-lookup"><span data-stu-id="d90b6-118">hello following image illustrates shows how this can be achieved in Azure Machine Learning.</span></span>

![Buscar Hola mejor conjunto de parámetros](./media/machine-learning-algorithm-parameters-optimize/fig1.png)

## <a name="define-hello-parameter-space"></a><span data-ttu-id="d90b6-120">Definir espacio de parámetro hello</span><span class="sxs-lookup"><span data-stu-id="d90b6-120">Define hello parameter space</span></span>
<span data-ttu-id="d90b6-121">Puede definir el parámetro hello establecido en el paso de inicialización del modelo de Hola.</span><span class="sxs-lookup"><span data-stu-id="d90b6-121">You can define hello parameter set at hello model initialization step.</span></span> <span data-ttu-id="d90b6-122">panel de parámetros de todos los algoritmos de aprendizaje automático Hello tiene dos modos de entrenamiento: *único parámetro* y *intervalo de parámetros*.</span><span class="sxs-lookup"><span data-stu-id="d90b6-122">hello parameter pane of all machine learning algorithms has two trainer modes: *Single Parameter* and *Parameter Range*.</span></span> <span data-ttu-id="d90b6-123">Elija el modo del intervalo de parámetros.</span><span class="sxs-lookup"><span data-stu-id="d90b6-123">Choose Parameter Range mode.</span></span> <span data-ttu-id="d90b6-124">En el modo del intervalo de parámetros, puede escribir varios valores para cada parámetro.</span><span class="sxs-lookup"><span data-stu-id="d90b6-124">In Parameter Range mode, you can enter multiple values for each parameter.</span></span> <span data-ttu-id="d90b6-125">Puede especificar valores separados por comas en el cuadro de texto de Hola.</span><span class="sxs-lookup"><span data-stu-id="d90b6-125">You can enter comma-separated values in hello text box.</span></span>

![Árbol de decisión ampliado de dos clases, único parámetro](./media/machine-learning-algorithm-parameters-optimize/fig2.png)

 <span data-ttu-id="d90b6-127">Como alternativa, puede definir puntos máxima y mínima de Hola de cuadrícula de Hola y Hola el número total de toobe de puntos que se genera con **usar generador de intervalo**.</span><span class="sxs-lookup"><span data-stu-id="d90b6-127">Alternately, you can define hello maximum and minimum points of hello grid and hello total number of points toobe generated with **Use Range Builder**.</span></span> <span data-ttu-id="d90b6-128">De forma predeterminada, los valores de parámetro de Hola se generan en una escala lineal.</span><span class="sxs-lookup"><span data-stu-id="d90b6-128">By default, hello parameter values are generated on a linear scale.</span></span> <span data-ttu-id="d90b6-129">Pero si **escala logarítmica** se activa, se generan valores de hello en escala de registro de hello (es decir, relación de Hola de puntos adyacentes hello es constante en lugar de su diferencia).</span><span class="sxs-lookup"><span data-stu-id="d90b6-129">But if **Log Scale** is checked, hello values are generated in hello log scale (that is, hello ratio of hello adjacent points is constant instead of their difference).</span></span> <span data-ttu-id="d90b6-130">Para los parámetros de número entero, puede definir un intervalo con un guión.</span><span class="sxs-lookup"><span data-stu-id="d90b6-130">For integer parameters, you can define a range by using a hyphen.</span></span> <span data-ttu-id="d90b6-131">Por ejemplo, "1-10" significa que todos los enteros entre 1 y 10 (ambos inclusive) forman el conjunto de parámetros de Hola.</span><span class="sxs-lookup"><span data-stu-id="d90b6-131">For example, “1-10” means that all integers between 1 and 10 (both inclusive) form hello parameter set.</span></span> <span data-ttu-id="d90b6-132">También se admite un modo mixto.</span><span class="sxs-lookup"><span data-stu-id="d90b6-132">A mixed mode is also supported.</span></span> <span data-ttu-id="d90b6-133">Hola, por ejemplo, el conjunto de parámetros "1-10, 20, 50" incluiría enteros de 1 a 10, 20 y 50.</span><span class="sxs-lookup"><span data-stu-id="d90b6-133">For example, hello parameter set “1-10, 20, 50” would include integers 1-10, 20, and 50.</span></span>

![Árbol de decisión ampliado de dos clases, intervalo de parámetros](./media/machine-learning-algorithm-parameters-optimize/fig3.png)

## <a name="define-cross-validation-folds"></a><span data-ttu-id="d90b6-135">Definir los plegamientos de validación cruzada</span><span class="sxs-lookup"><span data-stu-id="d90b6-135">Define cross-validation folds</span></span>
<span data-ttu-id="d90b6-136">Hola [crear particiones y muestrear] [ partition-and-sample] módulo puede ser usado toorandomly asignar subconjuntos toohello datos.</span><span class="sxs-lookup"><span data-stu-id="d90b6-136">hello [Partition and Sample][partition-and-sample] module can be used toorandomly assign folds toohello data.</span></span> <span data-ttu-id="d90b6-137">En hello después de la configuración de ejemplo para el módulo de hello, definimos cinco pliegues y asignar al azar a su vez número instancias de ejemplo toohello.</span><span class="sxs-lookup"><span data-stu-id="d90b6-137">In hello following sample configuration for hello module, we define five folds and randomly assign a fold number toohello sample instances.</span></span>

![Partición y ejemplo](./media/machine-learning-algorithm-parameters-optimize/fig4.png)

## <a name="define-hello-metric"></a><span data-ttu-id="d90b6-139">Definir métrica Hola</span><span class="sxs-lookup"><span data-stu-id="d90b6-139">Define hello metric</span></span>
<span data-ttu-id="d90b6-140">Hola [optimizar modelo Hiperparámetros] [ tune-model-hyperparameters] módulo proporciona compatibilidad para elegir empíricamente Hola mejor conjunto de parámetros para un algoritmo dado y un conjunto de datos.</span><span class="sxs-lookup"><span data-stu-id="d90b6-140">hello [Tune Model Hyperparameters][tune-model-hyperparameters] module provides support for empirically choosing hello best set of parameters for a given algorithm and dataset.</span></span> <span data-ttu-id="d90b6-141">Además tooother información sobre Hola de entrenamiento del modelo, hello **propiedades** panel de este módulo incluye métrica de Hola para determinar el mejor conjunto de parámetros Hola.</span><span class="sxs-lookup"><span data-stu-id="d90b6-141">In addition tooother information regarding training hello model, hello **Properties** pane of this module includes hello metric for determining hello best parameter set.</span></span> <span data-ttu-id="d90b6-142">Tiene dos cuadros de lista desplegables diferentes para los algoritmos de clasificación y regresión, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="d90b6-142">It has two different drop-down list boxes for classification and regression algorithms, respectively.</span></span> <span data-ttu-id="d90b6-143">Si el algoritmo de hello en cuestión es un algoritmo de clasificación, se omite la métrica de regresión de Hola y viceversa.</span><span class="sxs-lookup"><span data-stu-id="d90b6-143">If hello algorithm under consideration is a classification algorithm, hello regression metric is ignored and vice versa.</span></span> <span data-ttu-id="d90b6-144">En este ejemplo concreto, métrica de hello es **precisión**.</span><span class="sxs-lookup"><span data-stu-id="d90b6-144">In this specific example, hello metric is **Accuracy**.</span></span>   

![Limpiar parámetros](./media/machine-learning-algorithm-parameters-optimize/fig5.png)

## <a name="train-evaluate-and-compare"></a><span data-ttu-id="d90b6-146">Formar, evaluar y comparar</span><span class="sxs-lookup"><span data-stu-id="d90b6-146">Train, evaluate, and compare</span></span>
<span data-ttu-id="d90b6-147">Hola mismo [optimizar modelo Hiperparámetros] [ tune-model-hyperparameters] módulo entrena todos los modelos de hello corresponden toohello conjunto de parámetros, se evalúa como varias métricas y, a continuación, crea Hola perfecto entrenado en función de Hola métrica que elija.</span><span class="sxs-lookup"><span data-stu-id="d90b6-147">hello same [Tune Model Hyperparameters][tune-model-hyperparameters] module trains all hello models that correspond toohello parameter set, evaluates various metrics, and then creates hello best-trained model based on hello metric you choose.</span></span> <span data-ttu-id="d90b6-148">Este módulo contiene dos entradas obligatorias:</span><span class="sxs-lookup"><span data-stu-id="d90b6-148">This module has two mandatory inputs:</span></span>

* <span data-ttu-id="d90b6-149">aprendiz no entrenado Hola</span><span class="sxs-lookup"><span data-stu-id="d90b6-149">hello untrained learner</span></span>
* <span data-ttu-id="d90b6-150">conjunto de datos de Hola</span><span class="sxs-lookup"><span data-stu-id="d90b6-150">hello dataset</span></span>

<span data-ttu-id="d90b6-151">módulo de Hello también tiene un conjunto de datos opcional de entrada.</span><span class="sxs-lookup"><span data-stu-id="d90b6-151">hello module also has an optional dataset input.</span></span> <span data-ttu-id="d90b6-152">Conecte el conjunto de datos de hello con entrada de plegamiento información toohello obligatorio del conjunto de datos.</span><span class="sxs-lookup"><span data-stu-id="d90b6-152">Connect hello dataset with fold information toohello mandatory dataset input.</span></span> <span data-ttu-id="d90b6-153">Si el conjunto de datos de hello no se asigna ninguna información de plegamiento, una validación cruzada 10 veces más rápidos se ejecuta automáticamente de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="d90b6-153">If hello dataset is not assigned any fold information, then a 10-fold cross-validation is automatically executed by default.</span></span> <span data-ttu-id="d90b6-154">Si no se realiza la asignación de subconjuntos de Hola y se proporciona un conjunto de datos de validación en el puerto del conjunto de datos opcional de hello, a continuación, se elige un modo de prueba de entrenamiento y Hola primer conjunto de datos es el modelo de Hola de tootrain utilizado para cada combinación de parámetros.</span><span class="sxs-lookup"><span data-stu-id="d90b6-154">If hello fold assignment is not done and a validation dataset is provided at hello optional dataset port, then a train-test mode is chosen and hello first dataset is used tootrain hello model for each parameter combination.</span></span>

![Clasificador del árbol de decisión ampliado](./media/machine-learning-algorithm-parameters-optimize/fig6a.png)

<span data-ttu-id="d90b6-156">modelo de Hello, a continuación, se evalúa en el conjunto de datos de validación de Hola.</span><span class="sxs-lookup"><span data-stu-id="d90b6-156">hello model is then evaluated on hello validation dataset.</span></span> <span data-ttu-id="d90b6-157">Hola deja puerto de salida de muestra de Hola módulo diferentes métricas como las funciones de valores de parámetro.</span><span class="sxs-lookup"><span data-stu-id="d90b6-157">hello left output port of hello module shows different metrics as functions of parameter values.</span></span> <span data-ttu-id="d90b6-158">Hola derecho de puerto de salida proporciona entrenado Hola correspondiente toohello modelo perfecto rendimiento según toohello elegido métrica (**precisión** en este caso).</span><span class="sxs-lookup"><span data-stu-id="d90b6-158">hello right output port gives hello trained model that corresponds toohello best-performing model according toohello chosen metric (**Accuracy** in this case).</span></span>  

![Conjunto de datos de validación](./media/machine-learning-algorithm-parameters-optimize/fig6b.png)

<span data-ttu-id="d90b6-160">Puede ver los parámetros exactos Hola elegido al visualizar el puerto de salida derecho de Hola.</span><span class="sxs-lookup"><span data-stu-id="d90b6-160">You can see hello exact parameters chosen by visualizing hello right output port.</span></span> <span data-ttu-id="d90b6-161">Este modelo puede utilizarse para determinar la puntuación de un conjunto de pruebas o en un servicio web de operaciones después de guardarlo como un modelo formado.</span><span class="sxs-lookup"><span data-stu-id="d90b6-161">This model can be used in scoring a test set or in an operationalized web service after saving as a trained model.</span></span>

<!-- Module References -->
[partition-and-sample]: https://msdn.microsoft.com/library/azure/a8726e34-1b3e-4515-b59a-3e4a475654b8/
[tune-model-hyperparameters]: https://msdn.microsoft.com/library/azure/038d91b6-c2f2-42a1-9215-1f2c20ed1b40/
