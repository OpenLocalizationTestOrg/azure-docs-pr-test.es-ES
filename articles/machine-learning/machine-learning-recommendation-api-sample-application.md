---
title: Operaciones comunes en la API de recomendaciones de Machine Learning | Microsoft Docs
description: "Aplicación de ejemplo de recomendación de aprendizaje automático de Azure"
services: machine-learning
documentationcenter: 
author: LuisCabrer
manager: jhubbard
editor: cgronlun
ms.assetid: 0220bc17-3315-47d7-84a3-ef490263a343
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 03/31/2017
ms.author: luisca
ROBOTS: NOINDEX
redirect_url: machine-learning-datamarket-deprecation
redirect_document_id: TRUE
ms.openlocfilehash: 8d8efa93e820f4a745ed93c0f4d13b2438dfa1eb
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 07/11/2017
---
# <a name="recommendations-api-sample-application-walkthrough"></a><span data-ttu-id="e23ff-103">Tutorial de aplicación de ejemplo de la API Recomendaciones</span><span class="sxs-lookup"><span data-stu-id="e23ff-103">Recommendations API Sample Application Walkthrough</span></span>
> [!NOTE]
> <span data-ttu-id="e23ff-104">Debe empezar a utilizar el servicio Cognitive Services de la API de Recomendaciones en lugar de esta versión.</span><span class="sxs-lookup"><span data-stu-id="e23ff-104">You should start using the Recommendations API Cognitive Service instead of this version.</span></span> <span data-ttu-id="e23ff-105">El servicio Cognitive Services de Recomendaciones va a sustituir a este servicio y todas las características nuevas se desarrollarán en esta nueva versión.</span><span class="sxs-lookup"><span data-stu-id="e23ff-105">The Recommendations Cognitive Service will be replacing this service, and all the new features will be developed there.</span></span> <span data-ttu-id="e23ff-106">Tiene nuevas funcionalidades como compatibilidad con procesamientos por lotes, un explorador de API más eficaz, una interfaz de API más limpia, una experiencia de facturación y suscripción más coherente, etc.</span><span class="sxs-lookup"><span data-stu-id="e23ff-106">It has new capabilities like batching support, a better API Explorer, a cleaner API surface, more consistent signup/billing experience, etc.</span></span>
> <span data-ttu-id="e23ff-107">Obtenga más información sobre cómo [migrar al nuevo servicio Cognitive Services](http://aka.ms/recomigrate)</span><span class="sxs-lookup"><span data-stu-id="e23ff-107">Learn more about [Migrating to the new Cognitive Service](http://aka.ms/recomigrate)</span></span>
> 
> 

## <a name="purpose"></a><span data-ttu-id="e23ff-108">Propósito</span><span class="sxs-lookup"><span data-stu-id="e23ff-108">Purpose</span></span>
<span data-ttu-id="e23ff-109">Este documento muestra el uso de algunas de las API de recomendaciones de Aprendizaje automático de Azure a través de una [aplicación de ejemplo](https://code.msdn.microsoft.com/Recommendations-144df403).</span><span class="sxs-lookup"><span data-stu-id="e23ff-109">This document shows the usage of the Azure Machine Learning Recommendations API via a [sample application](https://code.msdn.microsoft.com/Recommendations-144df403).</span></span>

<span data-ttu-id="e23ff-110">Esta aplicación no está pensada para incluir todas las funcionalidades ni usa todas las API.</span><span class="sxs-lookup"><span data-stu-id="e23ff-110">This application is not intended to include full functionality, nor does it use all the APIs.</span></span> <span data-ttu-id="e23ff-111">Muestra algunas operaciones que se suelen realizar las primeras veces que se usa el servicio de recomendación de Aprendizaje automático.</span><span class="sxs-lookup"><span data-stu-id="e23ff-111">It demonstrates some common operations to perform when you first want to play with the Machine Learning recommendation service.</span></span> 

[!INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]

## <a name="introduction-to-machine-learning-recommendation-service"></a><span data-ttu-id="e23ff-112">Introducción al servicio de recomendación de Aprendizaje automático</span><span class="sxs-lookup"><span data-stu-id="e23ff-112">Introduction to Machine Learning recommendation service</span></span>
<span data-ttu-id="e23ff-113">Las recomendaciones a través del servicio de recomendación de Aprendizaje automático se habilitan al compilar un modelo de recomendaciones basado en los datos siguientes:</span><span class="sxs-lookup"><span data-stu-id="e23ff-113">Recommendations via the Machine Learning recommendation service are enabled when you build a recommendation model based on the following data:</span></span>

* <span data-ttu-id="e23ff-114">Un repositorio de los elementos que desea recomendar, también conocido como "catálogo".</span><span class="sxs-lookup"><span data-stu-id="e23ff-114">A repository of the items you want to recommend, also known as a catalog</span></span>
* <span data-ttu-id="e23ff-115">Datos que representan el uso de los elementos por cada usuario o sesión (se pueden adquirir con el tiempo a través de la adquisición de datos, no forman parte de la aplicación de muestra).</span><span class="sxs-lookup"><span data-stu-id="e23ff-115">Data representing the usage of items per user or session (this can be acquired over time via data acquisition, not as part of the sample app)</span></span>

<span data-ttu-id="e23ff-116">Una vez compilado un modelo de recomendación, puede utilizarlo para predecir elementos que puedan resultar de interés para algún usuario, según un conjunto de elementos (o un elemento único) que seleccione el usuario.</span><span class="sxs-lookup"><span data-stu-id="e23ff-116">After a recommendation model is built, you can use it to predict items that a user might be interested in, according to a set of items (or a single item) the user selects.</span></span>

<span data-ttu-id="e23ff-117">Para habilitar el escenario anterior, haga lo siguiente en el servicio de recomendación de Aprendizaje automático:</span><span class="sxs-lookup"><span data-stu-id="e23ff-117">To enable the previous scenario, do the following in the Machine Learning recommendation service:</span></span>

* <span data-ttu-id="e23ff-118">Crear un modelo: se trata de un contenedor lógico que incluye los datos (catálogo y uso) y los modelos de predicción.</span><span class="sxs-lookup"><span data-stu-id="e23ff-118">Create a model: This is a logical container that holds the data (catalog and usage) and the prediction model(s).</span></span> <span data-ttu-id="e23ff-119">Cada contenedor de modelo se identifica mediante un identificador único que se asigna en el momento de su creación.</span><span class="sxs-lookup"><span data-stu-id="e23ff-119">Each model container is identified via a unique ID, which is allocated when it is created.</span></span> <span data-ttu-id="e23ff-120">Este identificador se denomina "identificador de modelo" y lo utilizan la mayoría de las API.</span><span class="sxs-lookup"><span data-stu-id="e23ff-120">This ID is called the model ID, and it is used by most of the APIs.</span></span> 
* <span data-ttu-id="e23ff-121">Cargar en el catálogo: una vez que se crea un contenedor de modelo, es posible asociarlo a un catálogo.</span><span class="sxs-lookup"><span data-stu-id="e23ff-121">Upload to catalog: When a model container is created, you can associate to it a catalog.</span></span>

<span data-ttu-id="e23ff-122">**Nota**: la creación de un modelo y la carga a un catálogo normalmente se realizan solo una vez durante el ciclo de vida del modelo.</span><span class="sxs-lookup"><span data-stu-id="e23ff-122">**Note**: Creating a model and uploading to a catalog are usually performed once for the model lifecycle.</span></span>

* <span data-ttu-id="e23ff-123">Cargar datos de uso: cargue los datos de uso en el contenedor del modelo.</span><span class="sxs-lookup"><span data-stu-id="e23ff-123">Upload usage: This adds usage data to the model container.</span></span>
* <span data-ttu-id="e23ff-124">Compilar un modelo de recomendación: cuando tenga suficientes datos, podrá crear el modelo de recomendación.</span><span class="sxs-lookup"><span data-stu-id="e23ff-124">Build a recommendation model: After you have enough data, you can build the recommendation model.</span></span> <span data-ttu-id="e23ff-125">Esta operación usa algoritmos de Aprendizaje automático de última generación para crear un modelo de recomendación.</span><span class="sxs-lookup"><span data-stu-id="e23ff-125">This operation uses the top Machine Learning algorithms to create a recommendation model.</span></span> <span data-ttu-id="e23ff-126">Cada compilación está asociada a un identificador único.</span><span class="sxs-lookup"><span data-stu-id="e23ff-126">Each build is associated with a unique ID.</span></span> <span data-ttu-id="e23ff-127">Hay que mantener un registro de este identificador porque es necesario para la funcionalidad de algunas API.</span><span class="sxs-lookup"><span data-stu-id="e23ff-127">You need to keep a record of this ID because it is necessary for the functionality of some APIs.</span></span>
* <span data-ttu-id="e23ff-128">Supervisar el proceso de compilación: una compilación de un modelo de recomendación es una operación asincrónica y puede tardar desde varios minutos a varias horas, según la cantidad de datos (catálogo y uso) y los parámetros de compilación.</span><span class="sxs-lookup"><span data-stu-id="e23ff-128">Monitor the building process: A recommendation model build is an asynchronous operation, and it can take from several minutes to several hours, depending on the amount of data (catalog and usage) and the build parameters.</span></span> <span data-ttu-id="e23ff-129">Por lo tanto, es necesario supervisar la compilación.</span><span class="sxs-lookup"><span data-stu-id="e23ff-129">Therefore, you need to monitor the build.</span></span> <span data-ttu-id="e23ff-130">Un modelo de recomendación solo se crea si su compilación asociada finaliza correctamente.</span><span class="sxs-lookup"><span data-stu-id="e23ff-130">A recommendation model is created only if its associated build completes successfully.</span></span>
* <span data-ttu-id="e23ff-131">(Opcional) Elegir una compilación de modelo de recomendación activa: este paso solo es necesario si tiene más de un modelo de recomendación compilado en el contenedor de modelos.</span><span class="sxs-lookup"><span data-stu-id="e23ff-131">(Optional) Choose an active recommendation model build: This step is only necessary if you have more than one recommendation model built in your model container.</span></span> <span data-ttu-id="e23ff-132">El sistema redirigirá automáticamente a la compilación activa predeterminada cualquier solicitud para obtener recomendaciones en la que no se indique el modelo de recomendación activa.</span><span class="sxs-lookup"><span data-stu-id="e23ff-132">Any request to get recommendations without indicating the active recommendation model is redirected automatically by the system to the default active build.</span></span> 

<span data-ttu-id="e23ff-133">**Nota**: los modelos de recomendación activa están listos para su uso en producción y se diseñan para cargas de trabajo de producción.</span><span class="sxs-lookup"><span data-stu-id="e23ff-133">**Note**: An active recommendation model is production ready and it is built for production workload.</span></span> <span data-ttu-id="e23ff-134">Esto difiere de un modelo de recomendación no activo, que permanece en un entorno similar al de prueba (a veces denominado "de ensayo").</span><span class="sxs-lookup"><span data-stu-id="e23ff-134">This differs from a non-active recommendation model, which stays in a test-like environment (sometimes called staging).</span></span>

* <span data-ttu-id="e23ff-135">Obtener recomendación: cuando ya tenga un modelo de recomendación, puede desencadenar recomendaciones para un solo elemento o para una lista de elementos que elija.</span><span class="sxs-lookup"><span data-stu-id="e23ff-135">Get recommendations: After you have a recommendation model, you can trigger recommendations for a single item or a list of items that you select.</span></span> 

<span data-ttu-id="e23ff-136">Normalmente, se ejecuta la recomendación Get para un cierto período de tiempo.</span><span class="sxs-lookup"><span data-stu-id="e23ff-136">You will usually invoke Get Recommendation for a certain period of time.</span></span> <span data-ttu-id="e23ff-137">Durante ese período de tiempo, puede redirigir los datos de uso al sistema de recomendación de Aprendizaje automático, que agrega estos datos al contenedor del modelo especificado.</span><span class="sxs-lookup"><span data-stu-id="e23ff-137">During that period of time, you can redirect usage data to the Machine Learning recommendation system, which adds this data to the specified model container.</span></span> <span data-ttu-id="e23ff-138">Cuando tenga suficientes datos de uso, puede crear un nuevo modelo de recomendación que incorpore los datos de uso adicionales.</span><span class="sxs-lookup"><span data-stu-id="e23ff-138">When you have enough usage data, you can build a new recommendation model that incorporates the additional usage data.</span></span> 

## <a name="prerequisites"></a><span data-ttu-id="e23ff-139">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="e23ff-139">Prerequisites</span></span>
* <span data-ttu-id="e23ff-140">Visual Studio 2013 o posterior.</span><span class="sxs-lookup"><span data-stu-id="e23ff-140">Visual Studio 2013 or later</span></span>
* <span data-ttu-id="e23ff-141">Acceso a Internet</span><span class="sxs-lookup"><span data-stu-id="e23ff-141">Internet access</span></span> 
* <span data-ttu-id="e23ff-142">Suscripción a la API de recomendaciones (https://datamarket.azure.com/dataset/amla/recommendations).</span><span class="sxs-lookup"><span data-stu-id="e23ff-142">Subscription to the Recommendations API (https://datamarket.azure.com/dataset/amla/recommendations).</span></span>

## <a name="azure-machine-learning-sample-app-solution"></a><span data-ttu-id="e23ff-143">Solución de aplicación de ejemplo de Aprendizaje automático de Azure</span><span class="sxs-lookup"><span data-stu-id="e23ff-143">Azure Machine Learning sample app solution</span></span>
<span data-ttu-id="e23ff-144">Esta solución contiene el código fuente, el uso de la muestra, el archivo de catálogo y las directivas para descargar los paquetes necesarios para la compilación.</span><span class="sxs-lookup"><span data-stu-id="e23ff-144">This solution contains the source code, sample usage, catalog file, and directives to download the packages that are required for compilation.</span></span>

## <a name="the-apis-used"></a><span data-ttu-id="e23ff-145">API utilizadas</span><span class="sxs-lookup"><span data-stu-id="e23ff-145">The APIs used</span></span>
<span data-ttu-id="e23ff-146">La aplicación utiliza la funcionalidad de la recomendación de Aprendizaje automático a través de un subconjunto de API disponibles.</span><span class="sxs-lookup"><span data-stu-id="e23ff-146">The application uses Machine Learning recommendation functionality via a subset of available APIs.</span></span> <span data-ttu-id="e23ff-147">Las siguientes API se muestran en la aplicación:</span><span class="sxs-lookup"><span data-stu-id="e23ff-147">The following APIs are demonstrated in the application:</span></span>

* <span data-ttu-id="e23ff-148">Crear modelo: cree el contenedor lógico para mantener los modelos de datos y recomendación.</span><span class="sxs-lookup"><span data-stu-id="e23ff-148">Create model: Create a logical container to hold data and recommendation models.</span></span> <span data-ttu-id="e23ff-149">Un modelo se identifica mediante un nombre. El usuario no puede crear más de un modelo con el mismo nombre.</span><span class="sxs-lookup"><span data-stu-id="e23ff-149">A model is identified by a name, and you  cannot create more than one model with the same name.</span></span>
* <span data-ttu-id="e23ff-150">Cargar archivo de catálogo: se usa para cargar los datos del catálogo.</span><span class="sxs-lookup"><span data-stu-id="e23ff-150">Upload catalog file: Use to upload catalog data.</span></span>
* <span data-ttu-id="e23ff-151">Cargar archivo de uso: se usa para cargar los datos de uso.</span><span class="sxs-lookup"><span data-stu-id="e23ff-151">Upload usage file: Use to upload usage data.</span></span>
* <span data-ttu-id="e23ff-152">Desencadenar la compilación: se usa para crear un modelo de recomendación.</span><span class="sxs-lookup"><span data-stu-id="e23ff-152">Trigger build: Use to create a recommendation model.</span></span>
* <span data-ttu-id="e23ff-153">Supervisar la ejecución de la compilación: se usa para supervisar el estado de una compilación de modelo de recomendación.</span><span class="sxs-lookup"><span data-stu-id="e23ff-153">Monitor build execution: Use to monitor the status of a recommendation model build.</span></span>
* <span data-ttu-id="e23ff-154">Elegir un modelo compilado para recomendación: se usa para indicar qué modelo de recomendación se debe usar de forma predeterminada para un contenedor de modelos concreto.</span><span class="sxs-lookup"><span data-stu-id="e23ff-154">Choose a built model for recommendation: Use to indicate which recommendation model to use by default for a certain model container.</span></span> <span data-ttu-id="e23ff-155">Este paso solamente es necesario si tiene más de un modelo de recomendación y desea activar una compilación no activa como modelo de recomendación activa.</span><span class="sxs-lookup"><span data-stu-id="e23ff-155">This step is necessary only if you have more than one recommendation model and you want to activate a non-active build as the active recommendation model.</span></span>
* <span data-ttu-id="e23ff-156">Obtener recomendación: se usa para recuperar elementos recomendados según un único elemento o un conjunto de elementos.</span><span class="sxs-lookup"><span data-stu-id="e23ff-156">Get recommendation: Use to retrieve recommended items according to a given single item or a set of items.</span></span> 

<span data-ttu-id="e23ff-157">Para obtener una descripción completa de la API, consulte la documentación de Microsoft Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="e23ff-157">For a complete description of the APIs, please see the Microsoft Azure Marketplace documentation.</span></span> 

<span data-ttu-id="e23ff-158">**Nota**: un modelo puede tener varias compilaciones con el tiempo (no de forma simultánea).</span><span class="sxs-lookup"><span data-stu-id="e23ff-158">**Note**: A model can have several builds over time (not simultaneously).</span></span> <span data-ttu-id="e23ff-159">Cada compilación se crea con el mismo catálogo o con uno actualizado y los datos de uso adicionales.</span><span class="sxs-lookup"><span data-stu-id="e23ff-159">Each build is created with the same or an updated catalog and additional usage data.</span></span>

## <a name="common-pitfalls"></a><span data-ttu-id="e23ff-160">Dificultades habituales</span><span class="sxs-lookup"><span data-stu-id="e23ff-160">Common pitfalls</span></span>
* <span data-ttu-id="e23ff-161">Debe proporcionar su nombre de usuario y la clave de la cuenta principal de Microsoft Azure Marketplace para ejecutar la aplicación de ejemplo.</span><span class="sxs-lookup"><span data-stu-id="e23ff-161">You need to provide your user name and your Microsoft Azure Marketplace primary account key to run the sample app.</span></span>
* <span data-ttu-id="e23ff-162">Si ejecuta la aplicación de ejemplo de forma consecutiva, se producirá un error.</span><span class="sxs-lookup"><span data-stu-id="e23ff-162">Running the sample app consecutively will fail.</span></span> <span data-ttu-id="e23ff-163">El flujo de la aplicación incluye el monitor de creación, carga y compilación, y obtiene la recomendación de un nombre de modelo predefinido; por lo tanto, se producirán errores cuando se ejecute de forma consecutiva si no cambia el nombre del modelo entre ejecuciones.</span><span class="sxs-lookup"><span data-stu-id="e23ff-163">The application flow includes creating, uploading, building the monitor, and getting recommendations from a predefined model; therefore, it will fail on consecutive execution if you do not change the model name between invocations.</span></span>
* <span data-ttu-id="e23ff-164">Puede que las recomendaciones no devuelvan datos.</span><span class="sxs-lookup"><span data-stu-id="e23ff-164">Recommendations might return without data.</span></span> <span data-ttu-id="e23ff-165">La aplicación de ejemplo usa un archivo de uso y de catálogo muy pequeño.</span><span class="sxs-lookup"><span data-stu-id="e23ff-165">The sample app uses a very small catalog and usage file.</span></span> <span data-ttu-id="e23ff-166">Por lo tanto, algunos elementos del catálogo no tendrán ningún elemento recomendado.</span><span class="sxs-lookup"><span data-stu-id="e23ff-166">Therefore, some items from the catalog will have no recommended items.</span></span>

## <a name="disclaimer"></a><span data-ttu-id="e23ff-167">Renuncia de responsabilidades</span><span class="sxs-lookup"><span data-stu-id="e23ff-167">Disclaimer</span></span>
<span data-ttu-id="e23ff-168">La aplicación de ejemplo no está diseñada para ejecutarse en un entorno de producción.</span><span class="sxs-lookup"><span data-stu-id="e23ff-168">The sample app is not intended to be run in a production environment.</span></span> <span data-ttu-id="e23ff-169">Los datos proporcionados en el catálogo son muy pequeños y no constituyen un modelo de recomendación significativo.</span><span class="sxs-lookup"><span data-stu-id="e23ff-169">The data provided in the catalog is very small, and it will not provide a meaningful recommendation model.</span></span> <span data-ttu-id="e23ff-170">Los datos se proporcionan como una demostración.</span><span class="sxs-lookup"><span data-stu-id="e23ff-170">The data is provided as a demonstration.</span></span> 

