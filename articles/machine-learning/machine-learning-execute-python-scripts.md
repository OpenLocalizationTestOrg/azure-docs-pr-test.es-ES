---
title: "máquina de Python aaaExecute secuencias de comandos de aprendizaje | Documentos de Microsoft"
description: "Describe los principios de diseño subyacentes a la compatibilidad con scripts de Python en Aprendizaje automático de Azure y los escenarios de uso básico, las funcionalidades y las limitaciones."
keywords: "aprendizaje automático de Python, pandas, pandas de python, scripts de python, ejecutar scripts de python"
services: machine-learning
documentationcenter: 
author: bradsev
manager: jhubbard
editor: cgronlun
ms.assetid: ee9eb764-0d3e-4104-a797-19fc29345d39
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/26/2017
ms.author: bradsev
ms.openlocfilehash: 8d23aaa972a46cb1a07ea0f18cc1e24933fe3e6f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="execute-python-machine-learning-scripts-in-azure-machine-learning-studio"></a><span data-ttu-id="39122-104">Ejecución de scripts de Python en Aprendizaje automático de Azure | Azure</span><span class="sxs-lookup"><span data-stu-id="39122-104">Execute Python machine learning scripts in Azure Machine Learning Studio</span></span>

<span data-ttu-id="39122-105">En este tema se describe los principios de diseño de Hola Hola actual soporte para scripts de Python en aprendizaje automático de Azure subyacente.</span><span class="sxs-lookup"><span data-stu-id="39122-105">This topic describes hello design principles underlying hello current support for Python scripts in Azure Machine Learning.</span></span> <span data-ttu-id="39122-106">También se describen funciones principales de Hello proporcionados, incluidos:</span><span class="sxs-lookup"><span data-stu-id="39122-106">hello main capabilities provided are also outlined, including:</span></span>

- <span data-ttu-id="39122-107">ejecución de escenarios de uso básicos</span><span class="sxs-lookup"><span data-stu-id="39122-107">execute basic usage scenarios</span></span>
- <span data-ttu-id="39122-108">puntuación de un experimento en un servicio web</span><span class="sxs-lookup"><span data-stu-id="39122-108">score an experiment in a web service</span></span>
- <span data-ttu-id="39122-109">compatibilidad con la importación de código existente</span><span class="sxs-lookup"><span data-stu-id="39122-109">support for importing existing code</span></span>
- <span data-ttu-id="39122-110">exportación de visualizaciones</span><span class="sxs-lookup"><span data-stu-id="39122-110">export visualizations</span></span>
- <span data-ttu-id="39122-111">selección de características supervisada</span><span class="sxs-lookup"><span data-stu-id="39122-111">perform supervised feature selection</span></span>
- <span data-ttu-id="39122-112">comprensión de algunas limitaciones</span><span class="sxs-lookup"><span data-stu-id="39122-112">understand some limitations</span></span>

<span data-ttu-id="39122-113">[Python](https://www.python.org/) es una herramienta indispensable en pecho de herramienta Hola de muchos de los científicos de datos.</span><span class="sxs-lookup"><span data-stu-id="39122-113">[Python](https://www.python.org/) is an indispensable tool in hello tool chest of many data scientists.</span></span> <span data-ttu-id="39122-114">Tiene:</span><span class="sxs-lookup"><span data-stu-id="39122-114">It has:</span></span>

* <span data-ttu-id="39122-115">una sintaxis elegante y concisa,</span><span class="sxs-lookup"><span data-stu-id="39122-115">an elegant and concise syntax,</span></span> 
* <span data-ttu-id="39122-116">asistencia multiplataforma,</span><span class="sxs-lookup"><span data-stu-id="39122-116">cross-platform support,</span></span> 
* <span data-ttu-id="39122-117">una amplia colección de bibliotecas eficaces y</span><span class="sxs-lookup"><span data-stu-id="39122-117">a vast collection of powerful libraries, and</span></span> 
* <span data-ttu-id="39122-118">herramientas de desarrollo perfeccionadas.</span><span class="sxs-lookup"><span data-stu-id="39122-118">mature development tools.</span></span> 

<span data-ttu-id="39122-119">Python se usa en todas las fases de un flujo de trabajo que normalmente se emplea en el modelado de aprendizaje automático:</span><span class="sxs-lookup"><span data-stu-id="39122-119">Python is being used in all phases of a workflow typically used in machine learning modeling:</span></span>

- <span data-ttu-id="39122-120">ingesta y procesamiento de datos</span><span class="sxs-lookup"><span data-stu-id="39122-120">data ingest and processing</span></span> 
- <span data-ttu-id="39122-121">construcción de características</span><span class="sxs-lookup"><span data-stu-id="39122-121">feature construction</span></span>
- <span data-ttu-id="39122-122">entrenamiento del modelo</span><span class="sxs-lookup"><span data-stu-id="39122-122">model training</span></span> 
- <span data-ttu-id="39122-123">validación del modelo</span><span class="sxs-lookup"><span data-stu-id="39122-123">model validation</span></span>
- <span data-ttu-id="39122-124">implementación de modelos de Hola</span><span class="sxs-lookup"><span data-stu-id="39122-124">deployment of hello models</span></span>

<span data-ttu-id="39122-125">Azure Machine Learning Studio admite la incrustación de scripts de Python en varias partes de un experimento de aprendizaje automático y, además, su publicación sin problemas como servicios web en Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="39122-125">Azure Machine Learning Studio supports embedding Python scripts into various parts of a machine learning experiment and also seamlessly publishing them as web services on Microsoft Azure.</span></span>

[!INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]


## <a name="design-principles-of-python-scripts-in-machine-learning"></a><span data-ttu-id="39122-126">Principios de diseño de los scripts de Python en Aprendizaje automático</span><span class="sxs-lookup"><span data-stu-id="39122-126">Design principles of Python scripts in Machine Learning</span></span>

<span data-ttu-id="39122-127">Hola interfaz principal tooPython en estudio de aprendizaje automático de Azure es a través de hello [ejecutar Script de Python] [ execute-python-script] módulo que se muestra en la figura 1.</span><span class="sxs-lookup"><span data-stu-id="39122-127">hello primary interface tooPython in Azure Machine Learning Studio is via hello [Execute Python Script][execute-python-script] module shown in Figure 1.</span></span>

![imagen1](./media/machine-learning-execute-python-scripts/execute-machine-learning-python-scripts-module.png)

![imagen2](./media/machine-learning-execute-python-scripts/embedded-machine-learning-python-script.png)

<span data-ttu-id="39122-130">Figura 1.</span><span class="sxs-lookup"><span data-stu-id="39122-130">Figure 1.</span></span> <span data-ttu-id="39122-131">Hola **ejecutar Script de Python** módulo.</span><span class="sxs-lookup"><span data-stu-id="39122-131">hello **Execute Python Script** module.</span></span>

<span data-ttu-id="39122-132">Hola [ejecutar Script de Python] [ execute-python-script] módulo en estudio de aprendizaje automático acepta una toothree entradas y genera una salidas tootwo (descritos en hello siguiente sección), como su analógico R, hello [ Ejecutar Script de R] [ execute-r-script] módulo.</span><span class="sxs-lookup"><span data-stu-id="39122-132">hello [Execute Python Script][execute-python-script] module in Azure ML Studio accepts up toothree inputs and produces up tootwo outputs (discussed in hello following section), like its R analogue, hello [Execute R Script][execute-r-script] module.</span></span> <span data-ttu-id="39122-133">Hello toobe de código de Python ejecuta aparece en el cuadro de parámetro hello como un conjunto con nombre especialmente punto de entrada función denominada `azureml_main`.</span><span class="sxs-lookup"><span data-stu-id="39122-133">hello Python code toobe executed is entered into hello parameter box as a specially named entry-point function called `azureml_main`.</span></span> <span data-ttu-id="39122-134">Estos son los principios utilizados tooimplement este módulo de diseño clave hello:</span><span class="sxs-lookup"><span data-stu-id="39122-134">Here are hello key design principles used tooimplement this module:</span></span>

1. <span data-ttu-id="39122-135">*Debe ser idiomático para los usuarios de Python.*</span><span class="sxs-lookup"><span data-stu-id="39122-135">*Must be idiomatic for Python users.*</span></span> <span data-ttu-id="39122-136">La mayoría de los usuarios de Python incluye su código como funciones dentro de módulos.</span><span class="sxs-lookup"><span data-stu-id="39122-136">Most Python users factor their code as functions inside modules.</span></span> <span data-ttu-id="39122-137">Así, la colocación de muchas instrucciones ejecutables en un módulo de nivel superior es relativamente rara.</span><span class="sxs-lookup"><span data-stu-id="39122-137">So putting a lot of executable statements in a top-level module is relatively rare.</span></span> <span data-ttu-id="39122-138">Como resultado, cuadro de secuencia de comandos de hello también toma una función de Python especialmente con nombre como toojust lugar una secuencia de instrucciones.</span><span class="sxs-lookup"><span data-stu-id="39122-138">As a result, hello script box also takes a specially named Python function as opposed toojust a sequence of statements.</span></span> <span data-ttu-id="39122-139">Hello objetos expuestos en función de hello son tipos de biblioteca de Python estándar como [Pandas](http://pandas.pydata.org/) tramas de datos y [NumPy](http://www.numpy.org/) matrices.</span><span class="sxs-lookup"><span data-stu-id="39122-139">hello objects exposed in hello function are standard Python library types such as [Pandas](http://pandas.pydata.org/) data frames and [NumPy](http://www.numpy.org/) arrays.</span></span>
2. <span data-ttu-id="39122-140">*Debe contar con alta fidelidad entre las ejecuciones locales y las ejecuciones en la nube.*</span><span class="sxs-lookup"><span data-stu-id="39122-140">*Must have high-fidelity between local and cloud executions.*</span></span> <span data-ttu-id="39122-141">Hola Hola tooexecute de back-end utiliza código Python se basa [Anaconda](https://store.continuum.io/cshop/anaconda/), usadas de distribución de Python científico multiplataforma.</span><span class="sxs-lookup"><span data-stu-id="39122-141">hello backend used tooexecute hello Python code is based on [Anaconda](https://store.continuum.io/cshop/anaconda/), a widely used cross-platform scientific Python distribution.</span></span> <span data-ttu-id="39122-142">Se trata con cerrar too200 de paquetes de Python más comunes de Hola.</span><span class="sxs-lookup"><span data-stu-id="39122-142">It comes with close too200 of hello most common Python packages.</span></span> <span data-ttu-id="39122-143">Por lo tanto, los científicos de datos pueden depurar y calificar su código en su entorno Anaconda compatible con la instancia de Azure Machine Learning local.</span><span class="sxs-lookup"><span data-stu-id="39122-143">Therefore, data scientists can debug and qualify their code on their local Azure Machine Learning-compatible Anaconda environment.</span></span> <span data-ttu-id="39122-144">A continuación, usar un entorno de desarrollo existentes, como [IPython](http://ipython.org/) Bloc de notas o [Python Tools para Visual Studio](http://aka.ms/ptvs), toorun como parte de un experimento de aprendizaje automático de Azure.</span><span class="sxs-lookup"><span data-stu-id="39122-144">Then use an existing development environment, such as [IPython](http://ipython.org/) notebook or [Python Tools for Visual Studio](http://aka.ms/ptvs), toorun it as part of an Azure ML experiment.</span></span> <span data-ttu-id="39122-145">Hola `azureml_main` punto de entrada es una función de Python vainilla de modo que *** pueden crearse sin código específico de aprendizaje automático de Azure u Hola SDK instalado.</span><span class="sxs-lookup"><span data-stu-id="39122-145">hello `azureml_main` entry point is a vanilla Python function and so ****can be authored without Azure ML-specific code or hello SDK installed.</span></span>
3. <span data-ttu-id="39122-146">*Debe admitir composición sin problemas con otros módulos de Aprendizaje automático de Azure.*</span><span class="sxs-lookup"><span data-stu-id="39122-146">*Must be seamlessly composable with other Azure Machine Learning modules.*</span></span> <span data-ttu-id="39122-147">Hola [ejecutar Script de Python] [ execute-python-script] módulo acepta, como entradas y salidas, conjuntos de datos de aprendizaje automático de Azure estándar.</span><span class="sxs-lookup"><span data-stu-id="39122-147">hello [Execute Python Script][execute-python-script] module accepts, as inputs and outputs, standard Azure Machine Learning datasets.</span></span> <span data-ttu-id="39122-148">marco subyacente de Hello puentes de forma transparente y eficaz Hola aprendizaje automático de Azure y Python tiempos de ejecución.</span><span class="sxs-lookup"><span data-stu-id="39122-148">hello underlying framework transparently and efficiently bridges hello Azure ML and Python runtimes.</span></span> <span data-ttu-id="39122-149">Por tanto, Python se puede usar con flujos de trabajo existentes de Azure Machine Learning, incluidos los que llaman a R y SQLite.</span><span class="sxs-lookup"><span data-stu-id="39122-149">So Python can be used in conjunction with existing Azure ML workflows, including those that call into R and SQLite.</span></span> <span data-ttu-id="39122-150">Como resultado, los científicos de datos pueden crear flujos de trabajo que:</span><span class="sxs-lookup"><span data-stu-id="39122-150">A  result, data scientist could compose workflows that:</span></span>
   * <span data-ttu-id="39122-151">usen Python y Pandas para el procesamiento previo y la limpieza de datos</span><span class="sxs-lookup"><span data-stu-id="39122-151">use Python and Pandas for data pre-processing and cleaning</span></span>
   * <span data-ttu-id="39122-152">fuente hello tooa SQL transformación de datos combinar varias características de tooform de conjuntos de datos</span><span class="sxs-lookup"><span data-stu-id="39122-152">feed hello data tooa SQL transformation, joining multiple datasets tooform features</span></span>
   * <span data-ttu-id="39122-153">entrenar modelos utilizando algoritmos de hello en aprendizaje automático de Azure</span><span class="sxs-lookup"><span data-stu-id="39122-153">train models using hello algorithms in Azure Machine Learning</span></span> 
   * <span data-ttu-id="39122-154">evaluar y POST-procesar los resultados de hello mediante R.</span><span class="sxs-lookup"><span data-stu-id="39122-154">evaluate and post-process hello results using R.</span></span>


## <a name="basic-usage-scenarios-in-ml-for-python-scripts"></a><span data-ttu-id="39122-155">Escenarios de uso básicos de Aprendizaje automático para scripts de Python</span><span class="sxs-lookup"><span data-stu-id="39122-155">Basic usage scenarios in ML for Python scripts</span></span>

<span data-ttu-id="39122-156">En esta sección, se encuesta algunos de los usos básicos de Hola de hello [ejecutar Script de Python] [ execute-python-script] módulo.</span><span class="sxs-lookup"><span data-stu-id="39122-156">In this section, we survey some of hello basic uses of hello [Execute Python Script][execute-python-script] module.</span></span> <span data-ttu-id="39122-157">Módulo de Python toohello entradas se exponen como tramas de datos de Pandas.</span><span class="sxs-lookup"><span data-stu-id="39122-157">Inputs toohello Python module are exposed as Pandas data frames.</span></span> <span data-ttu-id="39122-158">Hello función debe devolver una trama de datos Pandas única empaquetada dentro de un Python [secuencia](https://docs.python.org/2/c-api/sequence.html) como una tupla, lista o matriz NumPy.</span><span class="sxs-lookup"><span data-stu-id="39122-158">hello function must return a single Pandas data frame packaged inside of a Python [sequence](https://docs.python.org/2/c-api/sequence.html) such as a tuple, list, or NumPy array.</span></span> <span data-ttu-id="39122-159">a continuación, se devuelve el primer elemento de esta secuencia de Hello en hello primer puerto de salida del módulo de Hola.</span><span class="sxs-lookup"><span data-stu-id="39122-159">hello first element of this sequence is then returned in hello first output port of hello module.</span></span> <span data-ttu-id="39122-160">Este esquema aparece en la figura 2.</span><span class="sxs-lookup"><span data-stu-id="39122-160">This scheme is shown in Figure 2.</span></span>

![imagen3](./media/machine-learning-execute-python-scripts/map-of-python-script-inputs-outputs.png)

<span data-ttu-id="39122-162">Ilustración 2.</span><span class="sxs-lookup"><span data-stu-id="39122-162">Figure 2.</span></span> <span data-ttu-id="39122-163">Asignación de tooparameters de puertos de entrada y puerto toooutput de valor devuelto.</span><span class="sxs-lookup"><span data-stu-id="39122-163">Mapping of input ports tooparameters and return value toooutput port.</span></span>

<span data-ttu-id="39122-164">Más semántica de cómo los puertos de entrada de hello obtienen tooparameters asignada de hello `azureml_main` función se muestran en la tabla 1:</span><span class="sxs-lookup"><span data-stu-id="39122-164">More detailed semantics of how hello input ports get mapped tooparameters of hello `azureml_main` function are shown in Table 1:</span></span>

![imagen1T](./media/machine-learning-execute-python-scripts/python-script-inputs-mapped-to-parameters.png)

<span data-ttu-id="39122-166">Tabla 1.</span><span class="sxs-lookup"><span data-stu-id="39122-166">Table 1.</span></span> <span data-ttu-id="39122-167">Asignación de parámetros de toofunction de puertos de entrada.</span><span class="sxs-lookup"><span data-stu-id="39122-167">Mapping of input ports toofunction parameters.</span></span>

<span data-ttu-id="39122-168">asignación de Hello entre los puertos de entrada y parámetros de función es posicional:</span><span class="sxs-lookup"><span data-stu-id="39122-168">hello mapping between input ports and function parameters is positional:</span></span>

- <span data-ttu-id="39122-169">puerto de entrada conectados primera Hello es asignada toohello primer parámetro de función hello.</span><span class="sxs-lookup"><span data-stu-id="39122-169">hello first connected input port is mapped toohello first parameter of hello function.</span></span> 
- <span data-ttu-id="39122-170">Hola segunda entrada (si está conectado) está asignada toohello segundo parámetro de función hello.</span><span class="sxs-lookup"><span data-stu-id="39122-170">hello second input (if connected) is mapped toohello second parameter of hello function.</span></span>

<span data-ttu-id="39122-171">Vea *Python para el análisis de datos* (o ' Reilly, 2012) por McKinney Occid. para obtener más información en Pandas de Python y en cómo puede ser usado toomanipulate datos eficiente y eficaz.</span><span class="sxs-lookup"><span data-stu-id="39122-171">See *Python for Data Analysis* (O'Reilly, 2012) by W. McKinney for more information on Python Pandas and on how it can be used toomanipulate data effectively and efficiently.</span></span> 


## <a name="translation-of-input-and-output-types"></a><span data-ttu-id="39122-172">Traslación de tipos de entrada y salida</span><span class="sxs-lookup"><span data-stu-id="39122-172">Translation of input and output types</span></span> 
<span data-ttu-id="39122-173">Los conjuntos de datos en Azure ML son fotogramas toodata convertido en Pandas.</span><span class="sxs-lookup"><span data-stu-id="39122-173">Input datasets in Azure ML are converted toodata frames in Pandas.</span></span> <span data-ttu-id="39122-174">Tramas de datos de salida se convierten en conjuntos de datos de back-tooAzure ML.</span><span class="sxs-lookup"><span data-stu-id="39122-174">Output data frames are converted back tooAzure ML datasets.</span></span> <span data-ttu-id="39122-175">Hola siguiendo las conversiones se realiza:</span><span class="sxs-lookup"><span data-stu-id="39122-175">hello following conversions are performed:</span></span>

1. <span data-ttu-id="39122-176">Las columnas de cadena y numéricos se convierten como-es y valores que faltan en un conjunto de datos son too'NA convertido ' valores en Pandas.</span><span class="sxs-lookup"><span data-stu-id="39122-176">String and numeric columns are converted as-is and missing values in a dataset are converted too‘NA’ values in Pandas.</span></span> <span data-ttu-id="39122-177">Hello misma conversión se realiza en hello hacia atrás (valores de NA de Pandas son toomissing convertido en aprendizaje automático de Azure).</span><span class="sxs-lookup"><span data-stu-id="39122-177">hello same conversion happens on hello way back (NA values in Pandas are converted toomissing values in Azure ML).</span></span>
2. <span data-ttu-id="39122-178">Los vectores de índice de Pandas no se admiten en Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="39122-178">Index vectors in Pandas are not supported in Azure ML.</span></span> <span data-ttu-id="39122-179">Todos los marcos de datos de entrada en función de Python de hello siempre tienen un índice numérico de 64 bits desde 0 toohello, número de columnas menos 1.</span><span class="sxs-lookup"><span data-stu-id="39122-179">All input data frames in hello Python function always have a 64-bit numerical index from 0 toohello number of rows minus 1.</span></span> 
3. <span data-ttu-id="39122-180">Los conjuntos de datos de Azure Machine Learning no pueden tener nombres de columnas duplicados ni nombres de columnas que no sean cadenas.</span><span class="sxs-lookup"><span data-stu-id="39122-180">Azure ML datasets cannot have duplicate column names and column names that are not strings.</span></span> <span data-ttu-id="39122-181">Si una trama de datos de salida contiene las columnas no numéricas, Hola llamadas framework `str` en nombres de columna de Hola.</span><span class="sxs-lookup"><span data-stu-id="39122-181">If an output data frame contains non-numeric columns, hello framework calls `str` on hello column names.</span></span> <span data-ttu-id="39122-182">De igual modo, los nombres de columna duplicados son tooinsure automáticamente con sufijo Hola nombres son únicos.</span><span class="sxs-lookup"><span data-stu-id="39122-182">Likewise, any duplicate column names are automatically mangled tooinsure hello names are unique.</span></span> <span data-ttu-id="39122-183">toohello primer duplicado, toohello segundo duplicado (3) y así sucesivamente, se agrega el sufijo de Hello (2).</span><span class="sxs-lookup"><span data-stu-id="39122-183">hello suffix (2) is added toohello first duplicate, (3) toohello second duplicate, and so on.</span></span>


## <a name="operationalizing-python-scripts"></a><span data-ttu-id="39122-184">Funcionamiento de los scripts de Python</span><span class="sxs-lookup"><span data-stu-id="39122-184">Operationalizing Python scripts</span></span>

<span data-ttu-id="39122-185">Cuando un experimento de puntuación se publica como servicio web, se llama a todos los módulos [Ejecutar script de Python][execute-python-script] usados en él.</span><span class="sxs-lookup"><span data-stu-id="39122-185">Any [Execute Python Script][execute-python-script] modules used in a scoring experiment are called when published as a web service.</span></span> <span data-ttu-id="39122-186">Por ejemplo, en la figura 3 se muestra un experimento de puntuación que contiene código de hello tooevaluate una única expresión de Python.</span><span class="sxs-lookup"><span data-stu-id="39122-186">For example, Figure 3 shows a scoring experiment that contains hello code tooevaluate a single Python expression.</span></span> 

![imagen4](./media/machine-learning-execute-python-scripts/figure3a.png)

![imagen5](./media/machine-learning-execute-python-scripts/python-script-with-python-pandas.png)

<span data-ttu-id="39122-189">Figura 3.</span><span class="sxs-lookup"><span data-stu-id="39122-189">Figure 3.</span></span> <span data-ttu-id="39122-190">Servicio web para evaluar una expresión de Python.</span><span class="sxs-lookup"><span data-stu-id="39122-190">Web service for evaluating a Python expression.</span></span>

<span data-ttu-id="39122-191">Un servicio web creado a partir de este experimento:</span><span class="sxs-lookup"><span data-stu-id="39122-191">A web service created from this experiment:</span></span>

- <span data-ttu-id="39122-192">toma como entrada una expresión de Python (como una cadena)</span><span class="sxs-lookup"><span data-stu-id="39122-192">takes as input a Python expression (as a string)</span></span>
- <span data-ttu-id="39122-193">envía toohello intérprete de Python</span><span class="sxs-lookup"><span data-stu-id="39122-193">sends it toohello Python interpreter</span></span> 
- <span data-ttu-id="39122-194">Devuelve una tabla que contiene la expresión de Hola y el resultado de hello evaluada.</span><span class="sxs-lookup"><span data-stu-id="39122-194">returns a table containing both hello expression and hello evaluated result.</span></span>


## <a name="importing-existing-python-script-modules"></a><span data-ttu-id="39122-195">Importación de módulos existentes de scripts de Python</span><span class="sxs-lookup"><span data-stu-id="39122-195">Importing existing Python script modules</span></span>

<span data-ttu-id="39122-196">Un caso de uso común para muchas científicos de datos es tooincorporate scripts existentes de Python en experimentos de aprendizaje automático de Azure.</span><span class="sxs-lookup"><span data-stu-id="39122-196">A common use-case for many data scientists is tooincorporate existing Python scripts into Azure ML experiments.</span></span> <span data-ttu-id="39122-197">En lugar de requerir que todo el código se concatenarán y pegar en el cuadro de una única secuencia de comandos, Hola [ejecutar Script de Python] [ execute-python-script] módulo acepta un archivo zip que contiene los módulos de Python en el puerto de entrada tercer Hola.</span><span class="sxs-lookup"><span data-stu-id="39122-197">Instead of requiring that all code be concatenated and pasted into a single script box, hello [Execute Python Script][execute-python-script] module accepts a zip file that contains Python modules at hello third input port.</span></span> <span data-ttu-id="39122-198">se descomprimió el archivo Hello por marco de trabajo de ejecución de hello en tiempo de ejecución y contenido de Hola se agrega la ruta de acceso de biblioteca de toohello de intérprete de Python Hola.</span><span class="sxs-lookup"><span data-stu-id="39122-198">hello file is unzipped by hello execution framework at runtime and hello contents are added toohello library path of hello Python interpreter.</span></span> <span data-ttu-id="39122-199">Hola `azureml_main` función, a continuación, puede importar estos módulos directamente el punto de entrada.</span><span class="sxs-lookup"><span data-stu-id="39122-199">hello `azureml_main` entry point function can then import these modules directly.</span></span>

<span data-ttu-id="39122-200">Por ejemplo, considere la posibilidad de archivo hello Hello.py que contiene una función simple "Hola, mundo".</span><span class="sxs-lookup"><span data-stu-id="39122-200">As an example, consider hello file Hello.py containing a simple “Hello, World” function.</span></span>

![imagen6](./media/machine-learning-execute-python-scripts/figure4.png)

<span data-ttu-id="39122-202">Figura 4.</span><span class="sxs-lookup"><span data-stu-id="39122-202">Figure 4.</span></span> <span data-ttu-id="39122-203">Función definida por el usuario en el archivo Hello.py.</span><span class="sxs-lookup"><span data-stu-id="39122-203">User-defined function in Hello.py file.</span></span>

<span data-ttu-id="39122-204">A continuación, creamos un archivo Hello.zip que contiene Hello.py:</span><span class="sxs-lookup"><span data-stu-id="39122-204">Next, we create a file Hello.zip that contains Hello.py:</span></span>

![imagen7](./media/machine-learning-execute-python-scripts/figure5.png)

<span data-ttu-id="39122-206">Figura 5.</span><span class="sxs-lookup"><span data-stu-id="39122-206">Figure 5.</span></span> <span data-ttu-id="39122-207">Archivo ZIP que contiene código Python definido por el usuario.</span><span class="sxs-lookup"><span data-stu-id="39122-207">Zip file containing user-defined Python code.</span></span>

<span data-ttu-id="39122-208">Cargue el archivo zip de hello como un conjunto de datos en estudio de aprendizaje automático de Azure.</span><span class="sxs-lookup"><span data-stu-id="39122-208">Upload hello zip file as a dataset into Azure Machine Learning Studio.</span></span> <span data-ttu-id="39122-209">A continuación, crear y ejecutar un experimento con código de Python de hello en el archivo de hello Hello.zip adjuntando toohello tercer puerto de entrada de hello **ejecutar Script de Python** módulo, como se muestra en esta ilustración.</span><span class="sxs-lookup"><span data-stu-id="39122-209">Then create and run an experiment that uses hello Python code in hello Hello.zip file by attaching it toohello third input port of hello **Execute Python Script** module, as shown in this figure.</span></span>

![imagen8](./media/machine-learning-execute-python-scripts/figure6a.png)

![imagen9](./media/machine-learning-execute-python-scripts/figure6b.png)

<span data-ttu-id="39122-212">Figura 6.</span><span class="sxs-lookup"><span data-stu-id="39122-212">Figure 6.</span></span> <span data-ttu-id="39122-213">Experimento de ejemplo con código Python definido por el usuario cargado como archivo ZIP.</span><span class="sxs-lookup"><span data-stu-id="39122-213">Sample experiment with user-defined Python code uploaded as a zip file.</span></span>

<span data-ttu-id="39122-214">salida del módulo hello muestra el archivo zip Hola ha estado desempaquetar y esa función hello `print_hello` se ha ejecutado.</span><span class="sxs-lookup"><span data-stu-id="39122-214">hello module output shows that hello zip file has been unpackaged and that hello function `print_hello` has been run.</span></span>
<span data-ttu-id="39122-215"> 
![image10](./media/machine-learning-execute-python-scripts/figure7.png)</span><span class="sxs-lookup"><span data-stu-id="39122-215"> 
![image10](./media/machine-learning-execute-python-scripts/figure7.png)</span></span>

<span data-ttu-id="39122-216">Figura 7.</span><span class="sxs-lookup"><span data-stu-id="39122-216">Figure 7.</span></span> <span data-ttu-id="39122-217">Función definida por el usuario en uso dentro de hello [ejecutar Script de Python] [ execute-python-script] módulo.</span><span class="sxs-lookup"><span data-stu-id="39122-217">User-defined function in use inside hello [Execute Python Script][execute-python-script] module.</span></span>


## <a name="working-with-visualizations"></a><span data-ttu-id="39122-218">Trabajo con visualizaciones</span><span class="sxs-lookup"><span data-stu-id="39122-218">Working with visualizations</span></span>

<span data-ttu-id="39122-219">Pueden devolver trazados creadas con MatplotLib que se puede visualizar en el Explorador de Hola Hola [ejecutar Script de Python][execute-python-script].</span><span class="sxs-lookup"><span data-stu-id="39122-219">Plots created using MatplotLib that can be visualized on hello browser can be returned by hello [Execute Python Script][execute-python-script].</span></span> <span data-ttu-id="39122-220">Pero Hola gráficos no están tooimages redirigido automáticamente como si estuvieran cuando se usa R. Por lo que el usuario Hola debe guardarlos explícitamente de los trazados tooPNG archivos si están toobe devuelve tooAzure atrás aprendizaje automático.</span><span class="sxs-lookup"><span data-stu-id="39122-220">But hello plots are not automatically redirected tooimages as they are when using R. So hello user must explicitly save any plots tooPNG files if they are toobe returned back tooAzure Machine Learning.</span></span> 

<span data-ttu-id="39122-221">imágenes de toogenerate desde MatplotLib, debe completar Hola siguiendo el procedimiento:</span><span class="sxs-lookup"><span data-stu-id="39122-221">toogenerate images from MatplotLib, you must complete hello following procedure:</span></span>

* <span data-ttu-id="39122-222">cambiar Hola back-end demasiado "AGG" de hello predeterminado basado en Qt representador</span><span class="sxs-lookup"><span data-stu-id="39122-222">switch hello backend too“AGG” from hello default Qt-based renderer</span></span> 
* <span data-ttu-id="39122-223">cree un nuevo objeto de figura,</span><span class="sxs-lookup"><span data-stu-id="39122-223">create a new figure object</span></span> 
* <span data-ttu-id="39122-224">obtener el eje de Hola y generar todos los gráficos en él</span><span class="sxs-lookup"><span data-stu-id="39122-224">get hello axis and generate all plots into it</span></span> 
* <span data-ttu-id="39122-225">Guardar archivo de hello figura tooa PNG</span><span class="sxs-lookup"><span data-stu-id="39122-225">save hello figure tooa PNG file</span></span> 

<span data-ttu-id="39122-226">Este proceso se muestra en hello después de la figura 8 que crea una matriz de gráfico de dispersión en función de hello scatter_matrix Pandas.</span><span class="sxs-lookup"><span data-stu-id="39122-226">This process is illustrated in hello following Figure 8 that creates a scatter plot matrix using hello scatter_matrix function in Pandas.</span></span>

![imagen1v](./media/machine-learning-execute-python-scripts/figure-v1-8.png)

<span data-ttu-id="39122-228">Figura 8.</span><span class="sxs-lookup"><span data-stu-id="39122-228">Figure 8.</span></span> <span data-ttu-id="39122-229">El código toosave que matplotlib cifras tooimages.</span><span class="sxs-lookup"><span data-stu-id="39122-229">Code toosave MatplotLib figures tooimages.</span></span>

<span data-ttu-id="39122-230">Ilustración 9 se muestra un experimento con script de Hola que se ha mostrado anteriormente tooreturn traza a través de hello segundo puerto de salida.</span><span class="sxs-lookup"><span data-stu-id="39122-230">Figure 9 shows an experiment that uses hello script shown previously tooreturn plots via hello second output port.</span></span>

![imagen2v](./media/machine-learning-execute-python-scripts/figure-v2-9a.png) 

![imagen2v](./media/machine-learning-execute-python-scripts/figure-v2-9b.png) 

<span data-ttu-id="39122-233">Figura 9.</span><span class="sxs-lookup"><span data-stu-id="39122-233">Figure 9.</span></span> <span data-ttu-id="39122-234">Visualización de los gráficos generados a partir del código Python.</span><span class="sxs-lookup"><span data-stu-id="39122-234">Visualizing plots generated from Python code.</span></span>

<span data-ttu-id="39122-235">Es posible tooreturn varias figuras guardándolas en diferentes imágenes, Hola aprendizaje automático de Azure en tiempo de ejecución recoge todas las imágenes y concatena para visualización.</span><span class="sxs-lookup"><span data-stu-id="39122-235">It is possible tooreturn multiple figures by saving them into different images, hello Azure Machine Learning runtime picks up all images and concatenates them for visualization.</span></span>


## <a name="advanced-examples"></a><span data-ttu-id="39122-236">Ejemplos avanzados</span><span class="sxs-lookup"><span data-stu-id="39122-236">Advanced examples</span></span>

<span data-ttu-id="39122-237">entorno Anaconda Hola está instalado en aprendizaje automático de Azure contiene paquetes comunes como NumPy, SciPy y Scikits-Learn.</span><span class="sxs-lookup"><span data-stu-id="39122-237">hello Anaconda environment installed in Azure Machine Learning contains common packages such as NumPy, SciPy, and Scikits-Learn.</span></span> <span data-ttu-id="39122-238">Estos paquetes se pueden usar de forma efectiva para distintas tareas de procesamiento de datos en una canalización de aprendizaje automático.</span><span class="sxs-lookup"><span data-stu-id="39122-238">These packages can be effectively used for various data processing tasks in a machine learning pipeline.</span></span> <span data-ttu-id="39122-239">Por ejemplo, hello script y experimento siguiente ilustran Hola uso de aprendices de conjunto de puntuaciones de importancia de características de toocompute Scikits-Learn para un conjunto de datos.</span><span class="sxs-lookup"><span data-stu-id="39122-239">As an example, hello following experiment and script illustrate hello use of ensemble learners in Scikits-Learn toocompute feature importance scores for a dataset.</span></span> <span data-ttu-id="39122-240">puntuaciones de Hello pueden ser usado tooperform supervisado de selección de características antes de pasarlas a otro modelo de aprendizaje automático.</span><span class="sxs-lookup"><span data-stu-id="39122-240">hello scores can be used tooperform supervised feature selection before being fed into another ML model.</span></span>

<span data-ttu-id="39122-241">Este es puntuaciones de importancia de hello Python función usa toocompute hello y características de hello orden según las puntuaciones de hello:</span><span class="sxs-lookup"><span data-stu-id="39122-241">Here is hello Python function used toocompute hello importance scores and order hello features based on hello scores:</span></span>

![imagen11](./media/machine-learning-execute-python-scripts/figure8.png)

<span data-ttu-id="39122-243">Figura 10.</span><span class="sxs-lookup"><span data-stu-id="39122-243">Figure 10.</span></span> <span data-ttu-id="39122-244">Función toorank características puntuaciones.</span><span class="sxs-lookup"><span data-stu-id="39122-244">Function toorank features by scores.</span></span>
<span data-ttu-id="39122-245"> Hello experimento siguiente, a continuación, calcula y devuelve las puntuaciones de importancia de Hola de características Hola "Pima Índico Diabetes" conjunto de datos de aprendizaje automático de Azure:</span><span class="sxs-lookup"><span data-stu-id="39122-245">  hello following experiment then computes and returns hello importance scores of features in hello “Pima Indian Diabetes” dataset in Azure Machine Learning:</span></span>

<span data-ttu-id="39122-246">![image12](./media/machine-learning-execute-python-scripts/figure9a.png)
![image13](./media/machine-learning-execute-python-scripts/figure9b.png)</span><span class="sxs-lookup"><span data-stu-id="39122-246">![image12](./media/machine-learning-execute-python-scripts/figure9a.png)
![image13](./media/machine-learning-execute-python-scripts/figure9b.png)</span></span>    

<span data-ttu-id="39122-247">Figura 11.</span><span class="sxs-lookup"><span data-stu-id="39122-247">Figure 11.</span></span> <span data-ttu-id="39122-248">Características de toorank de experimento en el conjunto de datos de hello Pima Índico Diabetes.</span><span class="sxs-lookup"><span data-stu-id="39122-248">Experiment toorank features in hello Pima Indian Diabetes dataset.</span></span>

## <a name="limitations"></a><span data-ttu-id="39122-249">Limitaciones</span><span class="sxs-lookup"><span data-stu-id="39122-249">Limitations</span></span>
<span data-ttu-id="39122-250">Hola [ejecutar Script de Python] [ execute-python-script] tiene actualmente Hola siguientes limitaciones:</span><span class="sxs-lookup"><span data-stu-id="39122-250">hello [Execute Python Script][execute-python-script] currently has hello following limitations:</span></span>

1. <span data-ttu-id="39122-251">*Ejecución en espacio aislado.*</span><span class="sxs-lookup"><span data-stu-id="39122-251">*Sandboxed execution.*</span></span> <span data-ttu-id="39122-252">en tiempo de ejecución de Python de Hello es actualmente en un espacio aislado y, como resultado, no permitir que el sistema de archivos local de red o toohello de toohello de acceso de forma persistente.</span><span class="sxs-lookup"><span data-stu-id="39122-252">hello Python runtime is currently sandboxed and, as a result, does not allow access toohello network or toohello local file system in a persistent manner.</span></span> <span data-ttu-id="39122-253">Todos los archivos guardados localmente se aislado y se eliminan cuando finaliza el módulo de Hola.</span><span class="sxs-lookup"><span data-stu-id="39122-253">All files saved locally are isolated and deleted once hello module finishes.</span></span> <span data-ttu-id="39122-254">Hola código Python no tiene acceso a la mayoría de los directorios en la máquina de Hola que se ejecuta en, hello las excepciones son Hola directorio actual y sus subdirectorios.</span><span class="sxs-lookup"><span data-stu-id="39122-254">hello Python code cannot access most directories on hello machine it runs on, hello exception being hello current directory and its subdirectories.</span></span>
2. <span data-ttu-id="39122-255">*Falta de compatibilidad con la depuración y desarrollo sofisticado.*</span><span class="sxs-lookup"><span data-stu-id="39122-255">*Lack of sophisticated development and debugging support.*</span></span> <span data-ttu-id="39122-256">módulo de Python Hola actualmente no admite las características del IDE como intellisense y la depuración.</span><span class="sxs-lookup"><span data-stu-id="39122-256">hello Python module currently does not support IDE features such as intellisense and debugging.</span></span> <span data-ttu-id="39122-257">Además, si se produce un error en el módulo de hello en tiempo de ejecución, hello seguimiento de pila de Python completa está disponible.</span><span class="sxs-lookup"><span data-stu-id="39122-257">Also, if hello module fails at runtime, hello full Python stack trace is available.</span></span> <span data-ttu-id="39122-258">Pero debe verse en el registro de salida de hello para el módulo de Hola.</span><span class="sxs-lookup"><span data-stu-id="39122-258">But it must be viewed in hello output log for hello module.</span></span> <span data-ttu-id="39122-259">Actualmente, se recomienda desarrollar y depurar scripts de Python en un entorno como IPython y, a continuación, importar el código de hello en el módulo de Hola.</span><span class="sxs-lookup"><span data-stu-id="39122-259">We currently recommend that you develop and debug Python scripts in an environment such as IPython and then import hello code into hello module.</span></span>
3. <span data-ttu-id="39122-260">*Salida de una trama de datos.*</span><span class="sxs-lookup"><span data-stu-id="39122-260">*Single data frame output.*</span></span> <span data-ttu-id="39122-261">punto de entrada de Python de Hello es solo permitido tooreturn una trama de datos único como salida.</span><span class="sxs-lookup"><span data-stu-id="39122-261">hello Python entry point is only permitted tooreturn a single data frame as output.</span></span> <span data-ttu-id="39122-262">No es posible actualmente tooreturn que Python arbitrario objetos como modelos entrenados directamente realizar copias en tiempo de ejecución de toohello aprendizaje automático de Azure.</span><span class="sxs-lookup"><span data-stu-id="39122-262">It is not currently possible tooreturn arbitrary Python objects such as trained models directly back toohello Azure Machine Learning runtime.</span></span> <span data-ttu-id="39122-263">Al igual que [ejecutar Script de R][execute-r-script], que tiene Hola misma limitación, es posible en muchos casos toopickle objetos en un byte de matriz y, a continuación, devuelven que dentro de una trama de datos.</span><span class="sxs-lookup"><span data-stu-id="39122-263">Like [Execute R Script][execute-r-script], which has hello same limitation, it is possible in many cases toopickle objects into a byte array and then return that inside of a data frame.</span></span>
4. <span data-ttu-id="39122-264">*Incapacidad toocustomize instalación de Python*.</span><span class="sxs-lookup"><span data-stu-id="39122-264">*Inability toocustomize Python installation*.</span></span> <span data-ttu-id="39122-265">Actualmente, hello solo forma tooadd Python módulos personalizados es a través del mecanismo de archivos zip Hola se ha descrito anteriormente.</span><span class="sxs-lookup"><span data-stu-id="39122-265">Currently, hello only way tooadd custom Python modules is via hello zip file mechanism described earlier.</span></span> <span data-ttu-id="39122-266">A pesar de que esto es viable cuando se trata de módulos pequeños, es complicado para módulos de gran tamaño (especialmente para los módulos con DLL nativas) o para un gran número de módulos.</span><span class="sxs-lookup"><span data-stu-id="39122-266">While this is feasible for small modules, it is cumbersome for large modules (especially those with native DLLs) or a large number of modules.</span></span> 

## <a name="conclusions"></a><span data-ttu-id="39122-267">Conclusiones</span><span class="sxs-lookup"><span data-stu-id="39122-267">Conclusions</span></span>
<span data-ttu-id="39122-268">Hola [ejecutar Script de Python] [ execute-python-script] módulo permite científico de datos código Python existente de tooincorporate en flujos de trabajo de aprendizaje de máquina hospedada en la nube en aprendizaje automático de Azure y tooseamlessly incorporación de operatividad a ellas como parte de un servicio web.</span><span class="sxs-lookup"><span data-stu-id="39122-268">hello [Execute Python Script][execute-python-script] module allows a data scientist tooincorporate existing Python code into cloud-hosted machine learning workflows in Azure Machine Learning and tooseamlessly operationalize them as part of a web service.</span></span> <span data-ttu-id="39122-269">módulo de script de Python Hola naturalmente interopera con otros módulos de aprendizaje automático de Azure.</span><span class="sxs-lookup"><span data-stu-id="39122-269">hello Python script module interoperates naturally with other modules in Azure Machine Learning.</span></span> <span data-ttu-id="39122-270">Hola módulo puede utilizarse para una variedad de tareas de procesamiento de datos exploración toopre y extracción de características y, a continuación, tooevaluation y posteriores al procesamiento de resultados de Hola.</span><span class="sxs-lookup"><span data-stu-id="39122-270">hello module can be used for a range of tasks from data exploration toopre-processing and feature extraction, and then tooevaluation and post-processing of hello results.</span></span> <span data-ttu-id="39122-271">en tiempo de ejecución de un back-end Hola utilizado para la ejecución se basa en Anaconda, una distribución de Python probada y ampliamente utilizada.</span><span class="sxs-lookup"><span data-stu-id="39122-271">hello backend runtime used for execution is based on Anaconda, a well-tested and widely used Python distribution.</span></span> <span data-ttu-id="39122-272">Este back-end facilita automáticamente los activos de código existentes tooon panel en la nube de Hola.</span><span class="sxs-lookup"><span data-stu-id="39122-272">This backend makes it simple for you tooon-board existing code assets into hello cloud.</span></span>

<span data-ttu-id="39122-273">Esperamos que tooprovide funcionalidad adicional toohello [ejecutar Script de Python] [ execute-python-script] módulo como Hola tootrain de capacidad y hacer operativos los modelos de Python y tooadd mejor compatibilidad para Hola desarrollo y depuración de código en estudio de aprendizaje automático de Azure.</span><span class="sxs-lookup"><span data-stu-id="39122-273">We expect tooprovide additional functionality toohello [Execute Python Script][execute-python-script] module such as hello ability tootrain and operationalize models in Python and tooadd better support for hello development and debugging code in Azure Machine Learning Studio.</span></span>

## <a name="next-steps"></a><span data-ttu-id="39122-274">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="39122-274">Next steps</span></span>
<span data-ttu-id="39122-275">Para obtener más información, vea hello [Centro para desarrolladores de Python](https://azure.microsoft.com/develop/python/).</span><span class="sxs-lookup"><span data-stu-id="39122-275">For more information, see hello [Python Developer Center](https://azure.microsoft.com/develop/python/).</span></span>

<!-- Module References -->
[execute-python-script]: https://msdn.microsoft.com/library/azure/cdb56f95-7f4c-404d-bde7-5bb972e6f232/
[execute-r-script]: https://msdn.microsoft.com/library/azure/30806023-392b-42e0-94d6-6b775a6e0fd5/
