---
title: el servidor de aplicaciones de tooweb de aaaIntroduction (WAFS) para la puerta de enlace de aplicaciones de Azure | Documentos de Microsoft
description: "En esta página se proporciona información general sobre el firewall de aplicaciones web (WAF) de Application Gateway."
documentationcenter: na
services: application-gateway
author: amsriva
manager: rossort
editor: amsriva
ms.assetid: 04b362bc-6653-4765-86f6-55ee8ec2a0ff
ms.service: application-gateway
ms.devlang: na
ms.topic: hero-article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 05/03/2017
ms.author: amsriva
ms.openlocfilehash: 5a42ce0fb2bd12a391844099e2de8fa2571195e6
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="web-application-firewall-waf"></a><span data-ttu-id="c9253-103">Firewall de aplicaciones web (WAF)</span><span class="sxs-lookup"><span data-stu-id="c9253-103">Web application firewall (WAF)</span></span>

<span data-ttu-id="c9253-104">Firewall de aplicaciones web (WAF) es una característica de Application Gateway que proporciona a las aplicaciones una protección centralizada contra vulnerabilidades de seguridad comunes.</span><span class="sxs-lookup"><span data-stu-id="c9253-104">Web application firewall (WAF) is a feature of Application Gateway that provides centralized protection of your web applications from common exploits and vulnerabilities.</span></span> 

<span data-ttu-id="c9253-105">Servidor de aplicaciones Web se basa en reglas de hello [conjuntos de reglas de núcleo OWASP](https://www.owasp.org/index.php/Category:OWASP_ModSecurity_Core_Rule_Set_Project) 3.0 o 2.2.9.</span><span class="sxs-lookup"><span data-stu-id="c9253-105">Web application firewall is based on rules from hello [OWASP core rule sets](https://www.owasp.org/index.php/Category:OWASP_ModSecurity_Core_Rule_Set_Project) 3.0 or 2.2.9.</span></span> <span data-ttu-id="c9253-106">Las aplicaciones web son cada vez más los objetivos de ataques malintencionados que aprovechan vulnerabilidades comunes conocidas, como</span><span class="sxs-lookup"><span data-stu-id="c9253-106">Web applications are increasingly targets of malicious attacks that exploit common known vulnerabilities.</span></span> <span data-ttu-id="c9253-107">Comunes entre estas vulnerabilidades de seguridad son los ataques de inyección de SQL, scripting entre sitios ataques tooname algunos.</span><span class="sxs-lookup"><span data-stu-id="c9253-107">Common among these exploits are SQL injection attacks, cross site scripting attacks tooname a few.</span></span> <span data-ttu-id="c9253-108">Evitar estos ataques en el código de aplicación puede ser complicada y pueden requerir riguroso mantenimiento, supervisión en varias capas de la topología de la aplicación hello y aplicación de revisiones.</span><span class="sxs-lookup"><span data-stu-id="c9253-108">Preventing such attacks in application code can be challenging and may require rigorous maintenance, patching and monitoring at multiple layers of hello application topology.</span></span> <span data-ttu-id="c9253-109">Un servidor de seguridad de la aplicación web centralizada le ayuda a hacer mucho más fácil la administración de seguridad y ofrece una mejor seguridad a los administradores de tooapplication frente a amenazas o intrusiones.</span><span class="sxs-lookup"><span data-stu-id="c9253-109">A centralized web application firewall helps make security management much simpler and gives better assurance tooapplication administrators against threats or intrusions.</span></span> <span data-ttu-id="c9253-110">Una solución WAFS también puedan reaccionar de amenaza para la seguridad tooa más rápido por una vulnerabilidad conocida en una ubicación central en comparación con la protección de cada una de las aplicaciones web individuales de la aplicación de revisiones.</span><span class="sxs-lookup"><span data-stu-id="c9253-110">A WAF solution can also react tooa security threat faster by patching a known vulnerability at a central location versus securing each of individual web applications.</span></span> <span data-ttu-id="c9253-111">Puertas de enlace de aplicaciones existentes pueden ser puerta de enlace de la aplicación de firewall habilitado de tooa convertido web aplicación fácilmente.</span><span class="sxs-lookup"><span data-stu-id="c9253-111">Existing application gateways can be converted tooa web application firewall enabled application gateway easily.</span></span>

![imageURLroute](./media/application-gateway-web-application-firewall-overview/WAF1.png)

<span data-ttu-id="c9253-113">Puerta de enlace de aplicaciones funciona como una finalización de SSL de controlador y las ofertas para la entrega de aplicación, afinidad de sesión basado en cookies, distribución de carga round robin, enrutamiento por contenidos, capacidad toohost varias mejoras de seguridad y sitios Web.</span><span class="sxs-lookup"><span data-stu-id="c9253-113">Application Gateway operates as an application delivery controller and offers SSL termination, cookie-based session affinity, round-robin load distribution, content-based routing, ability toohost multiple websites and security enhancements.</span></span> <span data-ttu-id="c9253-114">Mejoras de seguridad que ofrece la puerta de enlace de aplicaciones incluyen la administración de directivas SSL, tooend final compatibilidad con SSL.</span><span class="sxs-lookup"><span data-stu-id="c9253-114">Security enhancements offered by Application Gateway include SSL policy management, end tooend SSL support.</span></span> <span data-ttu-id="c9253-115">Ahora se refuerza la seguridad de la aplicación mediante WAFS (servidor de aplicaciones web) que se integra directamente en la oferta de hello ADC.</span><span class="sxs-lookup"><span data-stu-id="c9253-115">Application security is now strengthened by WAF (web application firewall) being directly integrated into hello ADC offering.</span></span> <span data-ttu-id="c9253-116">Esto proporciona un toomanage de ubicación central tooconfigure fácil y proteger las aplicaciones web contra vulnerabilidades de web comunes.</span><span class="sxs-lookup"><span data-stu-id="c9253-116">This provides an easy tooconfigure central location toomanage and protect your web applications against common web vulnerabilities.</span></span>

## <a name="benefits"></a><span data-ttu-id="c9253-117">Ventajas</span><span class="sxs-lookup"><span data-stu-id="c9253-117">Benefits</span></span>

<span data-ttu-id="c9253-118">Hola Hola principales ventajas proporcionado por el servidor de aplicaciones web y de puerta de enlace de aplicaciones son:</span><span class="sxs-lookup"><span data-stu-id="c9253-118">hello following are hello core benefits that Application Gateway and web application firewall provide:</span></span>

### <a name="protection"></a><span data-ttu-id="c9253-119">Protección</span><span class="sxs-lookup"><span data-stu-id="c9253-119">Protection</span></span>

* <span data-ttu-id="c9253-120">Proteger la aplicación web frente a vulnerabilidades de web y ataques sin código de toobackend de modificación.</span><span class="sxs-lookup"><span data-stu-id="c9253-120">Protect your web application from web vulnerabilities and attacks without modification toobackend code.</span></span>

* <span data-ttu-id="c9253-121">Proteger web varias aplicaciones en hello mismo tiempo detrás de una puerta de enlace de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="c9253-121">Protect multiple web applications at hello same time behind an application gateway.</span></span> <span data-ttu-id="c9253-122">Puerta de enlace de aplicaciones admite el hospedaje de sitios Web de too20 detrás de una sola puerta de enlace que puede protegerse contra los ataques de web con WAFS.</span><span class="sxs-lookup"><span data-stu-id="c9253-122">Application gateway supports hosting up too20 websites behind a single gateway that could all be protected against web attacks with WAF.</span></span>

### <a name="monitoring"></a><span data-ttu-id="c9253-123">Supervisión</span><span class="sxs-lookup"><span data-stu-id="c9253-123">Monitoring</span></span>

* <span data-ttu-id="c9253-124">Supervise la aplicación web frente a ataques mediante un registro de WAF en tiempo real.</span><span class="sxs-lookup"><span data-stu-id="c9253-124">Monitor your web application against attacks using a real-time WAF log.</span></span> <span data-ttu-id="c9253-125">Este registro se integra con [Monitor Azure](../monitoring-and-diagnostics/monitoring-overview.md) tootrack WAFS alertas y registra y supervisar las tendencias con facilidad.</span><span class="sxs-lookup"><span data-stu-id="c9253-125">This log is integrated with [Azure Monitor](../monitoring-and-diagnostics/monitoring-overview.md) tootrack WAF alerts and logs and easily monitor trends.</span></span>

* <span data-ttu-id="c9253-126">WAF se integrará con Azure Security Center pronto.</span><span class="sxs-lookup"><span data-stu-id="c9253-126">WAF will be integrated with Azure Security Center soon.</span></span> <span data-ttu-id="c9253-127">Centro de seguridad de Azure permite una vista central del estado de seguridad de Hola de todos los recursos de Azure.</span><span class="sxs-lookup"><span data-stu-id="c9253-127">Azure Security Center allows for a central view of hello security state of all your Azure resources.</span></span>

### <a name="customization"></a><span data-ttu-id="c9253-128">Personalización</span><span class="sxs-lookup"><span data-stu-id="c9253-128">Customization</span></span>

* <span data-ttu-id="c9253-129">las reglas de Hello capacidad toocustomize WAFS y regla agrupa toosuit los requisitos de la aplicación y eliminar los falsos positivos.</span><span class="sxs-lookup"><span data-stu-id="c9253-129">hello ability toocustomize WAF rules and rule groups toosuit your application requirements and eliminate false positives.</span></span>

## <a name="features"></a><span data-ttu-id="c9253-130">Características</span><span class="sxs-lookup"><span data-stu-id="c9253-130">Features</span></span>

<span data-ttu-id="c9253-131">Servidor de aplicaciones Web viene preconfigurado con CRS 3.0 de forma predeterminada o puede elegir toouse 2.2.9.</span><span class="sxs-lookup"><span data-stu-id="c9253-131">Web application firewall comes preconfigured with CRS 3.0 by default or you can choose toouse 2.2.9.</span></span> <span data-ttu-id="c9253-132">CRS 3.0 permite reducir el número de falsos positivos con respecto a la versión 2.2.9.</span><span class="sxs-lookup"><span data-stu-id="c9253-132">CRS 3.0 offers reduced false positives over 2.2.9.</span></span> <span data-ttu-id="c9253-133">Hola capacidad demasiado[Personalizar reglas toosuit sus necesidades](application-gateway-customize-waf-rules-portal.md) se proporciona.</span><span class="sxs-lookup"><span data-stu-id="c9253-133">hello ability too[customize rules toosuit your needs](application-gateway-customize-waf-rules-portal.md) is provided.</span></span> <span data-ttu-id="c9253-134">Algunos de hello web las vulnerabilidades más comunes que firewall de la aplicación web protege contra incluye:</span><span class="sxs-lookup"><span data-stu-id="c9253-134">Some of hello common web vulnerabilities which web application firewall protects against includes:</span></span>

* <span data-ttu-id="c9253-135">Protección contra la inyección de código SQL</span><span class="sxs-lookup"><span data-stu-id="c9253-135">SQL injection protection</span></span>
* <span data-ttu-id="c9253-136">Protección contra scripts entre sitios</span><span class="sxs-lookup"><span data-stu-id="c9253-136">Cross site scripting protection</span></span>
* <span data-ttu-id="c9253-137">Protección contra ataques web comunes, como inyección de comandos, contrabando de solicitudes HTTP, división de respuestas HTTP y ataque remoto de inclusión de archivos</span><span class="sxs-lookup"><span data-stu-id="c9253-137">Common Web Attacks Protection such as command injection, HTTP request smuggling, HTTP response splitting, and remote file inclusion attack</span></span>
* <span data-ttu-id="c9253-138">Protección contra infracciones del protocolo HTTP</span><span class="sxs-lookup"><span data-stu-id="c9253-138">Protection against HTTP protocol violations</span></span>
* <span data-ttu-id="c9253-139">Protección contra anomalías del protocolo HTTP, como la falta de agentes de usuario de host y encabezados de aceptación</span><span class="sxs-lookup"><span data-stu-id="c9253-139">Protection against HTTP protocol anomalies such as missing host user-agent and accept headers</span></span>
* <span data-ttu-id="c9253-140">Prevención contra bots, rastreadores y escáneres</span><span class="sxs-lookup"><span data-stu-id="c9253-140">Prevention against bots, crawlers, and scanners</span></span>
* <span data-ttu-id="c9253-141">Detección de errores de configuración comunes (es decir, Apache, IIS, etc.)</span><span class="sxs-lookup"><span data-stu-id="c9253-141">Detection of common application misconfigurations (i.e. Apache, IIS, etc.)</span></span>

<span data-ttu-id="c9253-142">Para una lista más detallada de las reglas y los mecanismos de protección, consulte siguiente hello [principales de conjuntos de reglas](#core-rule-sets).</span><span class="sxs-lookup"><span data-stu-id="c9253-142">For a more detailed list of rules and their protections see hello following [Core rule sets](#core-rule-sets).</span></span>

### <a name="core-rule-sets"></a><span data-ttu-id="c9253-143">Conjuntos de reglas principales</span><span class="sxs-lookup"><span data-stu-id="c9253-143">Core rule sets</span></span>

<span data-ttu-id="c9253-144">Application Gateway admite dos conjuntos de reglas: CRS 3.0 y CRS 2.2.9.</span><span class="sxs-lookup"><span data-stu-id="c9253-144">Application Gateway supports two rule sets, CRS 3.0, and CRS 2.2.9.</span></span> <span data-ttu-id="c9253-145">Estos conjuntos de reglas principales son colecciones de reglas que protegen las aplicaciones web frente a actividades malintencionadas.</span><span class="sxs-lookup"><span data-stu-id="c9253-145">These core rules sets are collections of rules that protect your web applications for malicious activity.</span></span>

#### <a name="owasp30"></a><span data-ttu-id="c9253-146">OWASP_3.0</span><span class="sxs-lookup"><span data-stu-id="c9253-146">OWASP_3.0</span></span>

<span data-ttu-id="c9253-147">conjunto de reglas de núcleo de Hello 3.0 proporciona tiene 13 grupos de reglas como se muestra en hello en la tabla siguiente.</span><span class="sxs-lookup"><span data-stu-id="c9253-147">hello 3.0 core rule set provided has 13 rule groups as shown in hello following table.</span></span> <span data-ttu-id="c9253-148">Cada uno de estos grupos de reglas contiene varias reglas que se pueden deshabilitar.</span><span class="sxs-lookup"><span data-stu-id="c9253-148">Each of these rule groups contains multiple rules, which can be disabled.</span></span>

|<span data-ttu-id="c9253-149">RuleGroup</span><span class="sxs-lookup"><span data-stu-id="c9253-149">RuleGroup</span></span>|<span data-ttu-id="c9253-150">Descripción</span><span class="sxs-lookup"><span data-stu-id="c9253-150">Description</span></span>|
|---|---|
|<span data-ttu-id="c9253-151">**[REQUEST-910-IP-REPUTATION](application-gateway-crs-rulegroups-rules.md#crs910)**</span><span class="sxs-lookup"><span data-stu-id="c9253-151">**[REQUEST-910-IP-REPUTATION](application-gateway-crs-rulegroups-rules.md#crs910)**</span></span>|<span data-ttu-id="c9253-152">Contiene reglas tooprotect contra correo basura conocidos o actividad malintencionada.</span><span class="sxs-lookup"><span data-stu-id="c9253-152">Contains rules tooprotect against known spammers or malicious activity.</span></span>|
|<span data-ttu-id="c9253-153">**[REQUEST-911-METHOD-ENFORCEMENT](application-gateway-crs-rulegroups-rules.md#crs911)**</span><span class="sxs-lookup"><span data-stu-id="c9253-153">**[REQUEST-911-METHOD-ENFORCEMENT](application-gateway-crs-rulegroups-rules.md#crs911)**</span></span>|<span data-ttu-id="c9253-154">Contiene reglas toolock métodos descendentes (PUT, PATCH <..)</span><span class="sxs-lookup"><span data-stu-id="c9253-154">Contains rules toolock down methods (PUT, PATCH< ..)</span></span>|
|<span data-ttu-id="c9253-155">**[REQUEST-912-DOS-PROTECTION](application-gateway-crs-rulegroups-rules.md#crs912)**</span><span class="sxs-lookup"><span data-stu-id="c9253-155">**[REQUEST-912-DOS-PROTECTION](application-gateway-crs-rulegroups-rules.md#crs912)**</span></span>| <span data-ttu-id="c9253-156">Contiene reglas tooprotect frente a ataques de denegación de servicio (DoS).</span><span class="sxs-lookup"><span data-stu-id="c9253-156">Contains rules tooprotect against Denial of Service (DoS) attacks.</span></span>|
|<span data-ttu-id="c9253-157">**[REQUEST-913-SCANNER-DETECTION](application-gateway-crs-rulegroups-rules.md#crs913)**</span><span class="sxs-lookup"><span data-stu-id="c9253-157">**[REQUEST-913-SCANNER-DETECTION](application-gateway-crs-rulegroups-rules.md#crs913)**</span></span>| <span data-ttu-id="c9253-158">Contiene reglas tooprotect con escáneres de puerto y el entorno.</span><span class="sxs-lookup"><span data-stu-id="c9253-158">Contains rules tooprotect against port and environment scanners.</span></span>|
|<span data-ttu-id="c9253-159">**[REQUEST-920-PROTOCOL-ENFORCEMENT](application-gateway-crs-rulegroups-rules.md#crs920)**</span><span class="sxs-lookup"><span data-stu-id="c9253-159">**[REQUEST-920-PROTOCOL-ENFORCEMENT](application-gateway-crs-rulegroups-rules.md#crs920)**</span></span>|<span data-ttu-id="c9253-160">Contiene reglas tooprotect en protocolo y codificación de problemas.</span><span class="sxs-lookup"><span data-stu-id="c9253-160">Contains rules tooprotect against protocol and encoding issues.</span></span>|
|<span data-ttu-id="c9253-161">**[REQUEST-921-PROTOCOL-ATTACK](application-gateway-crs-rulegroups-rules.md#crs921)**</span><span class="sxs-lookup"><span data-stu-id="c9253-161">**[REQUEST-921-PROTOCOL-ATTACK](application-gateway-crs-rulegroups-rules.md#crs921)**</span></span>|<span data-ttu-id="c9253-162">Contiene reglas tooprotect frente a inyección de encabezado, solicitudes no autorizadas y respuesta dividir</span><span class="sxs-lookup"><span data-stu-id="c9253-162">Contains rules tooprotect against header injection, request smuggling, and response splitting</span></span>|
|<span data-ttu-id="c9253-163">**[REQUEST-930-APPLICATION-ATTACK-LFI](application-gateway-crs-rulegroups-rules.md#crs930)**</span><span class="sxs-lookup"><span data-stu-id="c9253-163">**[REQUEST-930-APPLICATION-ATTACK-LFI](application-gateway-crs-rulegroups-rules.md#crs930)**</span></span>|<span data-ttu-id="c9253-164">Contiene reglas tooprotect frente a ataques de archivo y ruta de acceso.</span><span class="sxs-lookup"><span data-stu-id="c9253-164">Contains rules tooprotect against file and path attacks.</span></span>|
|<span data-ttu-id="c9253-165">**[REQUEST-931-APPLICATION-ATTACK-RFI](application-gateway-crs-rulegroups-rules.md#crs931)**</span><span class="sxs-lookup"><span data-stu-id="c9253-165">**[REQUEST-931-APPLICATION-ATTACK-RFI](application-gateway-crs-rulegroups-rules.md#crs931)**</span></span>|<span data-ttu-id="c9253-166">Contiene reglas tooprotect contra la inclusión de archivo remoto (RFI)</span><span class="sxs-lookup"><span data-stu-id="c9253-166">Contains rules tooprotect against Remote File Inclusion (RFI)</span></span>|
|<span data-ttu-id="c9253-167">**[REQUEST-932-APPLICATION-ATTACK-RCE](application-gateway-crs-rulegroups-rules.md#crs932)**</span><span class="sxs-lookup"><span data-stu-id="c9253-167">**[REQUEST-932-APPLICATION-ATTACK-RCE](application-gateway-crs-rulegroups-rules.md#crs932)**</span></span>|<span data-ttu-id="c9253-168">Contiene reglas tooprotect volver a la ejecución remota de código.</span><span class="sxs-lookup"><span data-stu-id="c9253-168">Contains rules tooprotect again Remote Code Execution.</span></span>|
|<span data-ttu-id="c9253-169">**[REQUEST-933-APPLICATION-ATTACK-PHP](application-gateway-crs-rulegroups-rules.md#crs933)**</span><span class="sxs-lookup"><span data-stu-id="c9253-169">**[REQUEST-933-APPLICATION-ATTACK-PHP](application-gateway-crs-rulegroups-rules.md#crs933)**</span></span>|<span data-ttu-id="c9253-170">Contiene reglas tooprotect frente a ataques de inyección de PHP.</span><span class="sxs-lookup"><span data-stu-id="c9253-170">Contains rules tooprotect against PHP injection attacks.</span></span>|
|<span data-ttu-id="c9253-171">**[REQUEST-941-APPLICATION-ATTACK-XSS](application-gateway-crs-rulegroups-rules.md#crs941)**</span><span class="sxs-lookup"><span data-stu-id="c9253-171">**[REQUEST-941-APPLICATION-ATTACK-XSS](application-gateway-crs-rulegroups-rules.md#crs941)**</span></span>|<span data-ttu-id="c9253-172">Contiene reglas para protegerse contra los scripts entre sitios.</span><span class="sxs-lookup"><span data-stu-id="c9253-172">Contains rules for protecting against cross site scripting.</span></span>|
|<span data-ttu-id="c9253-173">**[REQUEST-942-APPLICATION-ATTACK-SQLI](application-gateway-crs-rulegroups-rules.md#crs942)**</span><span class="sxs-lookup"><span data-stu-id="c9253-173">**[REQUEST-942-APPLICATION-ATTACK-SQLI](application-gateway-crs-rulegroups-rules.md#crs942)**</span></span>|<span data-ttu-id="c9253-174">Contiene reglas para protegerse contra los ataques de inyección de código SQL.</span><span class="sxs-lookup"><span data-stu-id="c9253-174">Contains rules for protecting against SQL injection attacks.</span></span>|
|<span data-ttu-id="c9253-175">**[REQUEST-943-APPLICATION-ATTACK-SESSION-FIXATION](application-gateway-crs-rulegroups-rules.md#crs943)**</span><span class="sxs-lookup"><span data-stu-id="c9253-175">**[REQUEST-943-APPLICATION-ATTACK-SESSION-FIXATION](application-gateway-crs-rulegroups-rules.md#crs943)**</span></span>|<span data-ttu-id="c9253-176">Contiene reglas tooprotect frente a ataques de fijación de sesión.</span><span class="sxs-lookup"><span data-stu-id="c9253-176">Contains rules tooprotect against Session Fixation Attacks.</span></span>|

#### <a name="owasp229"></a><span data-ttu-id="c9253-177">OWASP_2.2.9</span><span class="sxs-lookup"><span data-stu-id="c9253-177">OWASP_2.2.9</span></span>

<span data-ttu-id="c9253-178">conjunto de reglas de núcleo de Hello 2.2.9 proporcionado tiene 10 grupos de reglas como se muestra en hello en la tabla siguiente.</span><span class="sxs-lookup"><span data-stu-id="c9253-178">hello 2.2.9 core rule set provided has 10 rule groups as shown in hello following table.</span></span> <span data-ttu-id="c9253-179">Cada uno de estos grupos de reglas contiene varias reglas que se pueden deshabilitar.</span><span class="sxs-lookup"><span data-stu-id="c9253-179">Each of these rule groups contains multiple rules, which can be disabled.</span></span>

|<span data-ttu-id="c9253-180">RuleGroup</span><span class="sxs-lookup"><span data-stu-id="c9253-180">RuleGroup</span></span>|<span data-ttu-id="c9253-181">Descripción</span><span class="sxs-lookup"><span data-stu-id="c9253-181">Description</span></span>|
|---|---|
|<span data-ttu-id="c9253-182">**[crs_20_protocol_violations](application-gateway-crs-rulegroups-rules.md#crs20)**</span><span class="sxs-lookup"><span data-stu-id="c9253-182">**[crs_20_protocol_violations](application-gateway-crs-rulegroups-rules.md#crs20)**</span></span>|<span data-ttu-id="c9253-183">Contiene reglas tooprotect contra las infracciones de protocolos (caracteres no válidos, GET con un cuerpo de la solicitud, etcetera).</span><span class="sxs-lookup"><span data-stu-id="c9253-183">Contains rules tooprotect against protocol violations (invalid characters, GET with a request body, etc.)</span></span>|
|<span data-ttu-id="c9253-184">**[crs_21_protocol_anomalies](application-gateway-crs-rulegroups-rules.md#crs21)**</span><span class="sxs-lookup"><span data-stu-id="c9253-184">**[crs_21_protocol_anomalies](application-gateway-crs-rulegroups-rules.md#crs21)**</span></span>|<span data-ttu-id="c9253-185">Contiene reglas tooprotect comparándolas con la información de encabezado incorrecto.</span><span class="sxs-lookup"><span data-stu-id="c9253-185">Contains rules tooprotect against incorrect header information.</span></span>|
|<span data-ttu-id="c9253-186">**[crs_23_request_limits](application-gateway-crs-rulegroups-rules.md#crs23)**</span><span class="sxs-lookup"><span data-stu-id="c9253-186">**[crs_23_request_limits](application-gateway-crs-rulegroups-rules.md#crs23)**</span></span>|<span data-ttu-id="c9253-187">Contiene reglas tooprotect frente a argumentos o archivos que superan las limitaciones.</span><span class="sxs-lookup"><span data-stu-id="c9253-187">Contains rules tooprotect against arguments or files that exceed limitations.</span></span>|
|<span data-ttu-id="c9253-188">**[crs_30_http_policy](application-gateway-crs-rulegroups-rules.md#crs30)**</span><span class="sxs-lookup"><span data-stu-id="c9253-188">**[crs_30_http_policy](application-gateway-crs-rulegroups-rules.md#crs30)**</span></span>|<span data-ttu-id="c9253-189">Contiene reglas tooprotect con métodos restringidos, los encabezados y los tipos de archivo.</span><span class="sxs-lookup"><span data-stu-id="c9253-189">Contains rules tooprotect against restricted methods, headers, and file types.</span></span> |
|<span data-ttu-id="c9253-190">**[crs_35_bad_robots](application-gateway-crs-rulegroups-rules.md#crs35)**</span><span class="sxs-lookup"><span data-stu-id="c9253-190">**[crs_35_bad_robots](application-gateway-crs-rulegroups-rules.md#crs35)**</span></span>|<span data-ttu-id="c9253-191">Contiene reglas tooprotect con rastreadores web y escáneres.</span><span class="sxs-lookup"><span data-stu-id="c9253-191">Contains rules tooprotect against web crawlers and scanners.</span></span>|
|<span data-ttu-id="c9253-192">**[crs_40_generic_attacks](application-gateway-crs-rulegroups-rules.md#crs40)**</span><span class="sxs-lookup"><span data-stu-id="c9253-192">**[crs_40_generic_attacks](application-gateway-crs-rulegroups-rules.md#crs40)**</span></span>|<span data-ttu-id="c9253-193">Contiene reglas tooprotect frente a ataques genéricos (fijación de sesión, inclusión de archivos remoto, inyección de PHP, etcetera.)</span><span class="sxs-lookup"><span data-stu-id="c9253-193">Contains rules tooprotect against generic attacks (session fixation, remote file inclusion, PHP injection, etc.)</span></span>|
|<span data-ttu-id="c9253-194">**[crs_41_sql_injection_attacks](application-gateway-crs-rulegroups-rules.md#crs41sql)**</span><span class="sxs-lookup"><span data-stu-id="c9253-194">**[crs_41_sql_injection_attacks](application-gateway-crs-rulegroups-rules.md#crs41sql)**</span></span>|<span data-ttu-id="c9253-195">Contiene reglas tooprotect contra los ataques de inyección de SQL</span><span class="sxs-lookup"><span data-stu-id="c9253-195">Contains rules tooprotect against SQL injection attacks</span></span>|
|<span data-ttu-id="c9253-196">**[crs_41_xss_attacks](application-gateway-crs-rulegroups-rules.md#crs41xss)**</span><span class="sxs-lookup"><span data-stu-id="c9253-196">**[crs_41_xss_attacks](application-gateway-crs-rulegroups-rules.md#crs41xss)**</span></span>|<span data-ttu-id="c9253-197">Contiene reglas tooprotect con scripts entre sitios.</span><span class="sxs-lookup"><span data-stu-id="c9253-197">Contains rules tooprotect against cross site scripting.</span></span>|
|<span data-ttu-id="c9253-198">**[crs_42_tight_security](application-gateway-crs-rulegroups-rules.md#crs42)**</span><span class="sxs-lookup"><span data-stu-id="c9253-198">**[crs_42_tight_security](application-gateway-crs-rulegroups-rules.md#crs42)**</span></span>|<span data-ttu-id="c9253-199">Contiene un tooprotect regla contra los ataques de salto de ruta de acceso</span><span class="sxs-lookup"><span data-stu-id="c9253-199">Contains a rule tooprotect against path traversal attacks</span></span>|
|<span data-ttu-id="c9253-200">**[crs_45_trojans](application-gateway-crs-rulegroups-rules.md#crs45)**</span><span class="sxs-lookup"><span data-stu-id="c9253-200">**[crs_45_trojans](application-gateway-crs-rulegroups-rules.md#crs45)**</span></span>|<span data-ttu-id="c9253-201">Contiene reglas tooprotect contra troyanos de puerta trasera.</span><span class="sxs-lookup"><span data-stu-id="c9253-201">Contains rules tooprotect against backdoor Trojans.</span></span>|

### <a name="waf-modes"></a><span data-ttu-id="c9253-202">Modos de WAF</span><span class="sxs-lookup"><span data-stu-id="c9253-202">WAF Modes</span></span>

<span data-ttu-id="c9253-203">WAFS de puerta de enlace de aplicaciones puede ser configurado toorun Hola después de dos modos:</span><span class="sxs-lookup"><span data-stu-id="c9253-203">Application Gateway WAF can be configured toorun in hello following two modes:</span></span>

* <span data-ttu-id="c9253-204">**Modo de detección** : cuando toorun configurado en modo de detección, WAFS de puerta de enlace de aplicaciones supervisa y registra todas las alertas de amenaza en el archivo de registro tooa.</span><span class="sxs-lookup"><span data-stu-id="c9253-204">**Detection mode** – When configured toorun in detection mode, Application Gateway WAF monitors and logs all threat alerts in tooa log file.</span></span> <span data-ttu-id="c9253-205">Diagnósticos de registro de puerta de enlace de aplicaciones deben activarse con hello **diagnósticos** sección.</span><span class="sxs-lookup"><span data-stu-id="c9253-205">Logging diagnostics for Application Gateway should be turned on using hello **Diagnostics** section.</span></span> <span data-ttu-id="c9253-206">También debe tooensure que Hola WAFS registro está seleccionado y activado.</span><span class="sxs-lookup"><span data-stu-id="c9253-206">You also need tooensure that hello WAF log is selected and turned on.</span></span> <span data-ttu-id="c9253-207">Cuando se ejecuta en modo de detección, el firewall de aplicaciones de web no bloquea las solicitudes entrantes.</span><span class="sxs-lookup"><span data-stu-id="c9253-207">When running in detection mode web application firewall does not block incoming requests.</span></span>
* <span data-ttu-id="c9253-208">**Modo de prevención** : cuando toorun configurado en modo de prevención, puerta de enlace de aplicación bloquea activamente las intrusiones y ataques detectados por sus reglas.</span><span class="sxs-lookup"><span data-stu-id="c9253-208">**Prevention mode** – When configured toorun in prevention mode, Application Gateway actively blocks intrusions and attacks detected by its rules.</span></span> <span data-ttu-id="c9253-209">atacante Hola recibe una excepción de acceso no autorizado 403 y Hola conexión se termina.</span><span class="sxs-lookup"><span data-stu-id="c9253-209">hello attacker receives a 403 unauthorized access exception and hello connection is terminated.</span></span> <span data-ttu-id="c9253-210">Modo de prevención continúa toolog estos ataques en los registros de hello WAFS.</span><span class="sxs-lookup"><span data-stu-id="c9253-210">Prevention mode continues toolog such attacks in hello WAF logs.</span></span>

### <span data-ttu-id="c9253-211"><a name="application-gateway-waf-reports"></a>Supervisión de WAF</span><span class="sxs-lookup"><span data-stu-id="c9253-211"><a name="application-gateway-waf-reports"></a>WAF Monitoring</span></span>

<span data-ttu-id="c9253-212">Es importante supervisar el estado de saludo de la puerta de enlace de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="c9253-212">Monitoring hello health of your application gateway is important.</span></span> <span data-ttu-id="c9253-213">Supervisar el estado de hello las aplicaciones aplicación de web hello y firewall que protege se proporcionan a través de registro y la integración con Monitor de Azure y Azure Security Center (próximamente), análisis de registros.</span><span class="sxs-lookup"><span data-stu-id="c9253-213">Monitoring hello health of your web application firewall and hello applications that it protects are provided through logging and integration with Azure Monitor, Azure Security Center (coming soon), and Log Analytics.</span></span>

![diagnóstico](./media/application-gateway-web-application-firewall-overview/diagnostics.png)

#### <a name="azure-monitor"></a><span data-ttu-id="c9253-215">Azure Monitor</span><span class="sxs-lookup"><span data-stu-id="c9253-215">Azure Monitor</span></span>

<span data-ttu-id="c9253-216">Cada registro de Application Gateway se integra con [Azure Monitor](../monitoring-and-diagnostics/monitoring-overview.md).</span><span class="sxs-lookup"><span data-stu-id="c9253-216">Each application gateway log is integrated with [Azure Monitor](../monitoring-and-diagnostics/monitoring-overview.md).</span></span>  <span data-ttu-id="c9253-217">Esto le permite la información de diagnóstico de tootrack incluidos registros y alertas de WAFS.</span><span class="sxs-lookup"><span data-stu-id="c9253-217">This allows you tootrack diagnostic information including WAF alerts and logs.</span></span>  <span data-ttu-id="c9253-218">Esta funcionalidad se proporciona en recursos de puerta de enlace de aplicaciones en portal de hello en Hola Hola **diagnósticos** pestaña o a través de hello Azure Monitor de servicio directamente.</span><span class="sxs-lookup"><span data-stu-id="c9253-218">This capability is provided within hello Application Gateway resource in hello portal under hello **Diagnostics** tab or through hello Azure Monitor service directly.</span></span> <span data-ttu-id="c9253-219">toolearn más acerca de cómo habilitar los registros de diagnóstico de puerta de enlace de aplicaciones, visite [diagnóstico de puerta de enlace de aplicaciones](application-gateway-diagnostics.md)</span><span class="sxs-lookup"><span data-stu-id="c9253-219">toolearn more about enabling diagnostic logs for application gateway visit [Application Gateway diagnostics](application-gateway-diagnostics.md)</span></span>

#### <a name="azure-security-center"></a><span data-ttu-id="c9253-220">Azure Security Center</span><span class="sxs-lookup"><span data-stu-id="c9253-220">Azure Security Center</span></span>

<span data-ttu-id="c9253-221">[Centro de seguridad de Azure](../security-center/security-center-intro.md) Hola de ayuda a evitar, detectar y responder toothreats con una mayor visibilidad de y control sobre la seguridad de los recursos de Azure.</span><span class="sxs-lookup"><span data-stu-id="c9253-221">[Azure Security Center](../security-center/security-center-intro.md) helps you prevent, detect, and respond toothreats with increased visibility into and control over hello security of your Azure resources.</span></span> <span data-ttu-id="c9253-222">Application Gateway ahora [se integra en Azure Security Center](application-gateway-integration-security-center.md).</span><span class="sxs-lookup"><span data-stu-id="c9253-222">Application gateway now [integrates into Azure Security Center](application-gateway-integration-security-center.md).</span></span> <span data-ttu-id="c9253-223">Centro de seguridad de Azure examina las aplicaciones web de toodetect desprotegido de entorno.</span><span class="sxs-lookup"><span data-stu-id="c9253-223">Azure Security Center scans your environment toodetect unprotected web applications.</span></span> <span data-ttu-id="c9253-224">Ahora pueden recomendar a aplicación puerta de enlace WAFS tooprotect estos recursos vulnerables.</span><span class="sxs-lookup"><span data-stu-id="c9253-224">It can now recommend application gateway WAF tooprotect these vulnerable resources.</span></span> <span data-ttu-id="c9253-225">Puede crear directamente WAFS de puerta de enlace de aplicaciones de hello Azure Security Center.</span><span class="sxs-lookup"><span data-stu-id="c9253-225">You can directly create application gateway WAF from hello Azure Security Center.</span></span>  <span data-ttu-id="c9253-226">Estas instancias WAFS se integran con el centro de seguridad de Azure y se devuelva alertas e información de estado tooAzure centro de seguridad para los informes.</span><span class="sxs-lookup"><span data-stu-id="c9253-226">These WAF instances are integrated with Azure Security Center and will send alerts and health information back tooAzure Security Center for reporting.</span></span>

![Figura 1](./media/application-gateway-web-application-firewall-overview/figure1.png)

#### <a name="logging"></a><span data-ttu-id="c9253-228">Registro</span><span class="sxs-lookup"><span data-stu-id="c9253-228">Logging</span></span>

<span data-ttu-id="c9253-229">WAF de Application Gateway ofrece informes detallados sobre las amenazas detectadas.</span><span class="sxs-lookup"><span data-stu-id="c9253-229">Application Gateway WAF provides detailed reporting on each threat it detects.</span></span> <span data-ttu-id="c9253-230">El registro se integra con los registros de Diagnósticos de Azure y las alertas se registran en formato json.</span><span class="sxs-lookup"><span data-stu-id="c9253-230">Logging is integrated with Azure Diagnostics logs and alerts are recorded in a json format.</span></span> <span data-ttu-id="c9253-231">Estos registros pueden integrarse con [Log Analytics](../log-analytics/log-analytics-azure-networking-analytics.md).</span><span class="sxs-lookup"><span data-stu-id="c9253-231">These logs can be integrated with [Log Analytics](../log-analytics/log-analytics-azure-networking-analytics.md).</span></span>

![imageURLroute](./media/application-gateway-web-application-firewall-overview/waf2.png)

```json
{
  "resourceId": "/SUBSCRIPTIONS/{subscriptionId}/RESOURCEGROUPS/{resourceGroupId}/PROVIDERS/MICROSOFT.NETWORK/APPLICATIONGATEWAYS/{appGatewayName}",
  "operationName": "ApplicationGatewayFirewall",
  "time": "2017-03-20T15:52:09.1494499Z",
  "category": "ApplicationGatewayFirewallLog",
  "properties": {
    "instanceId": "ApplicationGatewayRole_IN_0",
    "clientIp": "104.210.252.3",
    "clientPort": "4835",
    "requestUri": "/?a=%3Cscript%3Ealert(%22Hello%22);%3C/script%3E",
    "ruleSetType": "OWASP",
    "ruleSetVersion": "3.0",
    "ruleId": "941320",
    "message": "Possible XSS Attack Detected - HTML Tag Handler",
    "action": "Blocked",
    "site": "Global",
    "details": {
      "message": "Warning. Pattern match \"<(a|abbr|acronym|address|applet|area|audioscope|b|base|basefront|bdo|bgsound|big|blackface|blink|blockquote|body|bq|br|button|caption|center|cite|code|col|colgroup|comment|dd|del|dfn|dir|div|dl|dt|em|embed|fieldset|fn|font|form|frame|frameset|h1|head|h ...\" at ARGS:a.",
      "data": "Matched Data: <script> found within ARGS:a: <script>alert(\\x22hello\\x22);</script>",
      "file": "rules/REQUEST-941-APPLICATION-ATTACK-XSS.conf",
      "line": "865"
    }
  }
} 

```

## <a name="application-gateway-waf-sku-pricing"></a><span data-ttu-id="c9253-233">Precios de las SKU de WAF de Application Gateway</span><span class="sxs-lookup"><span data-stu-id="c9253-233">Application Gateway WAF SKU pricing</span></span>

<span data-ttu-id="c9253-234">El firewall de aplicaciones web está disponible en una nueva SKU de WAF.</span><span class="sxs-lookup"><span data-stu-id="c9253-234">Web application firewall is available under a new a WAF SKU.</span></span> <span data-ttu-id="c9253-235">Esta SKU está disponible solo en el modelo de aprovisionamiento de Azure Resource Manager y no en el modelo de implementación clásica de Hola.</span><span class="sxs-lookup"><span data-stu-id="c9253-235">This SKU is available only in Azure Resource Manager provisioning model and not under hello classic deployment model.</span></span> <span data-ttu-id="c9253-236">Además, la SKU de WAF está solo disponible para tamaños de instancias medianas y grandes de Application Gateway.</span><span class="sxs-lookup"><span data-stu-id="c9253-236">Additionally WAF SKU comes only in medium and large application gateway instance sizes.</span></span> <span data-ttu-id="c9253-237">También aplican en todos los límites de Hola para puerta de enlace de aplicaciones toohello WAFS SKU.</span><span class="sxs-lookup"><span data-stu-id="c9253-237">All hello limits for application gateway also apply toohello WAF SKU.</span></span> <span data-ttu-id="c9253-238">El precio se basa en una tarifa por instancia de puerta de enlace por hora y una tarifa de procesamiento de datos.</span><span class="sxs-lookup"><span data-stu-id="c9253-238">Pricing is based on per hour gateway instance charge and data processing charge.</span></span> <span data-ttu-id="c9253-239">El precio de puerta de enlace por hora para una SKU de WAF es diferente a los costos de una SKU estándar y puede encontrar más información sobre estos en los [detalles de precios de Application Gateway](https://azure.microsoft.com/pricing/details/application-gateway/).</span><span class="sxs-lookup"><span data-stu-id="c9253-239">Per hour gateway pricing for WAF SKU is different from Standard SKU charges and can be found at [Application Gateway pricing details](https://azure.microsoft.com/pricing/details/application-gateway/).</span></span> <span data-ttu-id="c9253-240">Procesamiento de datos siguen siendo cargos Hola igual.</span><span class="sxs-lookup"><span data-stu-id="c9253-240">Data processing charges remain hello same.</span></span> <span data-ttu-id="c9253-241">No hay ningún costo por regla o grupo de reglas.</span><span class="sxs-lookup"><span data-stu-id="c9253-241">There is no per rule or rule group charges.</span></span> <span data-ttu-id="c9253-242">Puede proteger varias aplicaciones web detrás de hello mismo web servidor de aplicaciones y no hay ningún cargo adicional para admitir varias aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="c9253-242">You can protect multiple web applications behind hello same web application firewall and there are no additional charges for supporting multiple applications.</span></span> 

<span data-ttu-id="c9253-243">La facturación de WAFS eficazmente inicia 5/5/2017 hasta hello, a continuación, las puertas de enlace de SKU WAFS continúa toobe cobra tarifas estándar.</span><span class="sxs-lookup"><span data-stu-id="c9253-243">Billing for WAF starts effectively 5/5/2017, until then hello WAF SKU gateways continues toobe charged at standard rates.</span></span>

## <a name="next-steps"></a><span data-ttu-id="c9253-244">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="c9253-244">Next steps</span></span>

<span data-ttu-id="c9253-245">Después de obtener más información acerca de las capacidades de Hola de WAFS, visite [cómo tooconfigure web firewall de la aplicación en Application Gateway](application-gateway-web-application-firewall-portal.md).</span><span class="sxs-lookup"><span data-stu-id="c9253-245">After learning more about hello capabilities of WAF, visit [How tooconfigure web application firewall on Application Gateway](application-gateway-web-application-firewall-portal.md).</span></span>

