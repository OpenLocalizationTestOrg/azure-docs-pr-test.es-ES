---
title: aaaOverview de las copias de varios inquilinos termina con la puerta de enlace de aplicaciones de Azure | Documentos de Microsoft
description: "Esta página proporciona una visión general de soporte técnico de puerta de enlace de aplicación Hola para varios inquilinos back-ends."
documentationcenter: na
services: application-gateway
author: georgewallace
manager: timlt
editor: 
ms.service: application-gateway
ms.devlang: na
ms.topic: hero-article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 07/26/2017
ms.author: gwallace
ms.openlocfilehash: b7da8c9c68e34bd83ad2b828fab62c00caea354a
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="application-gateway-support-for-multi-tenant-back-ends"></a><span data-ttu-id="1484d-103">Compatibilidad de Application Gateway con servidores back-end multiinquilino</span><span class="sxs-lookup"><span data-stu-id="1484d-103">Application Gateway support for multi-tenant back ends</span></span>

<span data-ttu-id="1484d-104">Azure Application Gateway admite conjuntos de escalado de máquinas virtuales, interfaces de red, IP públicas/privadas o nombres de dominio completos (FQDN) como parte de sus grupos de servidores back-end.</span><span class="sxs-lookup"><span data-stu-id="1484d-104">Azure Application Gateway supports virtual machine scale sets, network interfaces, public/private IP, or fully qualified domain name (FQDN) as part of its back end pools.</span></span> <span data-ttu-id="1484d-105">De forma predeterminada, puerta de enlace de aplicaciones no cambia el encabezado de host HTTP entrante de Hola desde el cliente de Hola y envía Hola encabezado inalterados toohello back-end.</span><span class="sxs-lookup"><span data-stu-id="1484d-105">By default, application gateway does not change hello incoming HTTP host header from hello client and sends hello header unaltered toohello back end.</span></span> <span data-ttu-id="1484d-106">Hay muchos servicios como [aplicaciones Web de Azure](../app-service-web/app-service-web-overview.md) y [administración de API](../api-management/api-management-key-concepts.md) que forman una naturaleza multiempresa y se basan en un encabezado de host específico o SNI extensión tooresolve toohello punto de conexión correcto.</span><span class="sxs-lookup"><span data-stu-id="1484d-106">There are many services like [Azure Web Apps](../app-service-web/app-service-web-overview.md) and [API Management](../api-management/api-management-key-concepts.md) that are multi-tenant in nature and rely on a specific host header or SNI extension tooresolve toohello correct endpoint.</span></span> <span data-ttu-id="1484d-107">Puerta de enlace de aplicaciones ahora admite la capacidad de Hola para usuarios toooverwrite Hola entrantes HTTP encabezado de host en función de la configuración de back-end HTTP de Hola.</span><span class="sxs-lookup"><span data-stu-id="1484d-107">Application Gateway now supports hello ability for users toooverwrite hello incoming HTTP host header based on hello back end HTTP settings.</span></span> <span data-ttu-id="1484d-108">Esta funcionalidad permite la compatibilidad con servidores back-end multiinquilino, Azure Web Apps y API Management.</span><span class="sxs-lookup"><span data-stu-id="1484d-108">This capability enables support for multi-tenant back ends Azure web apps and API management.</span></span> <span data-ttu-id="1484d-109">Esta funcionalidad está disponible para saludo estándar y WAFS SKU.</span><span class="sxs-lookup"><span data-stu-id="1484d-109">This capability is available for both hello standard and WAF SKU.</span></span> <span data-ttu-id="1484d-110">Multiempresa back end compatibilidad también funciona con escenarios SSL de tooend de final y la terminación SSL.</span><span class="sxs-lookup"><span data-stu-id="1484d-110">Multi-tenant back end support also works with SSL termination and end tooend SSL scenarios.</span></span>

![escenario de aplicación web](./media/application-gateway-web-app-overview/scenario.png)

<span data-ttu-id="1484d-112">Hola de Hello capacidad toospecify una invalidación de host está definida en configuración de HTTP, y puede se aplicado tooany volver terminar grupo durante la creación de reglas.</span><span class="sxs-lookup"><span data-stu-id="1484d-112">hello ability toospecify a host override is defined at hello HTTP settings and can be applied tooany back end pool during rule creation.</span></span> <span data-ttu-id="1484d-113">Varios inquilinos volver finaliza Hola de soporte técnico de invalidación de encabezado de host y la extensión SNI maneras siguientes.</span><span class="sxs-lookup"><span data-stu-id="1484d-113">Multi-tenant back ends support hello following two ways of overriding host header and SNI extension.</span></span>

1. <span data-ttu-id="1484d-114">tooa de nombre de host de Hello capacidad tooset Hola había corregido valor Hola opciones de configuración de HTTP.</span><span class="sxs-lookup"><span data-stu-id="1484d-114">hello ability tooset hello host name tooa fixed value in hello HTTP settings.</span></span> <span data-ttu-id="1484d-115">Esta funcionalidad garantiza que se invalida ese encabezado de host de hello toothis valor para todos los bloques de back-end de toohello tráfico donde se aplica la configuración de hello HTTP.</span><span class="sxs-lookup"><span data-stu-id="1484d-115">This capability ensures that hello host header is overridden toothis value for all traffic toohello back end pool where hello HTTP settings are applied.</span></span> <span data-ttu-id="1484d-116">Al usar final tooend SSL, se usa este nombre de host invalidado en hello extensión SNI.</span><span class="sxs-lookup"><span data-stu-id="1484d-116">When using end tooend SSL, this overridden host name is used in hello SNI extension.</span></span> <span data-ttu-id="1484d-117">Esta función permite escenarios donde una granja de servidores del grupo back-end espera un encabezado de host que es diferente de encabezado de host de Hola entrantes del cliente.</span><span class="sxs-lookup"><span data-stu-id="1484d-117">This capability enables scenarios where a back end pool farm expects a host header that is different from hello incoming customer host header.</span></span>

2. <span data-ttu-id="1484d-118">nombre de host de Hola Hola capacidad tooderive de hello IP o FQDN de los miembros del grupo back-end Hola.</span><span class="sxs-lookup"><span data-stu-id="1484d-118">hello ability tooderive hello host name from hello IP or FQDN of hello back end pool members.</span></span> <span data-ttu-id="1484d-119">Configuración de HTTP también proporciona un nombre de host de opción toopick Hola de nombre de dominio completo de un miembro del grupo back-end si ha configurado con el nombre de host de hello opción tooderive de un miembro del grupo back-end individuales.</span><span class="sxs-lookup"><span data-stu-id="1484d-119">HTTP settings also provide an option toopick hello host name from a back end pool member's FQDN if configured with hello option tooderive host name from an individual back end pool member.</span></span> <span data-ttu-id="1484d-120">Cuando se usa final tooend SSL, este nombre de host se deriva de hello FQDN y se utiliza en hello extensión SNI.</span><span class="sxs-lookup"><span data-stu-id="1484d-120">When using end tooend SSL, this host name is derived from hello FQDN and is used in hello SNI extension.</span></span> <span data-ttu-id="1484d-121">Esta función permite escenarios donde un grupo back-end puede tener dos o más servicios de PaaS de varios inquilinos como aplicaciones web de Azure y miembro de tooeach de encabezado de host de la solicitud de hello contiene el nombre de host de hello derivada su FQDN.</span><span class="sxs-lookup"><span data-stu-id="1484d-121">This capability enables scenarios where a back end pool can have two or more multi-tenant PaaS services like Azure web apps and hello request's host header tooeach member contains hello host name derived from its FQDN.</span></span>

> [!NOTE]
> <span data-ttu-id="1484d-122">En ambos Hola anteriores casos Hola configuración sólo afecta a comportamiento de tráfico en vivo de hello y no el comportamiento de sondeo del estado de Hola.</span><span class="sxs-lookup"><span data-stu-id="1484d-122">In both of hello preceding cases hello settings only affect hello live traffic behavior and not hello health probe behavior.</span></span> <span data-ttu-id="1484d-123">Las comprobaciones de personalizado ya toospecify de capacidad de Hola de compatibilidad con un encabezado de host en la configuración de sondeo de Hola.</span><span class="sxs-lookup"><span data-stu-id="1484d-123">Custom probes already support hello ability toospecify a host header in hello probe configuration.</span></span> <span data-ttu-id="1484d-124">Sondeos personalizados también admiten ahora comportamiento del encabezado de host de hello capacidad tooderive Hola de configuración de HTTP de hello configurado actualmente.</span><span class="sxs-lookup"><span data-stu-id="1484d-124">Custom probes now also support hello ability tooderive hello host header behavior from hello currently configured HTTP settings.</span></span> <span data-ttu-id="1484d-125">Esta configuración puede especificarse mediante hello `PickHostNameFromback endAddress` parámetro de configuración de sondeo de Hola.</span><span class="sxs-lookup"><span data-stu-id="1484d-125">This configuration can be specified by using hello `PickHostNameFromback endAddress` parameter in hello probe configuration.</span></span> <span data-ttu-id="1484d-126">Para final tooend funcionalidad toowork, sondeo de Hola y la configuración de HTTP de hello deben configuración correcta de hello tooreflect modificado.</span><span class="sxs-lookup"><span data-stu-id="1484d-126">For end tooend functionality toowork, both hello probe and hello HTTP settings must be modified tooreflect hello correct configuration.</span></span>

<span data-ttu-id="1484d-127">Con esta capacidad, los clientes especificar opciones de hello en la configuración de HTTP de Hola y personalizados comprobaciones de la configuración adecuada de toohello.</span><span class="sxs-lookup"><span data-stu-id="1484d-127">With this capability, customers specify hello options in hello HTTP settings and custom probes toohello appropriate configuration.</span></span> <span data-ttu-id="1484d-128">Esta configuración, a continuación, se vincula una copia de seguridad y la escucha de tooa finalizan grupo mediante una regla.</span><span class="sxs-lookup"><span data-stu-id="1484d-128">This setting is then tied tooa listener and a back end pool by using a rule.</span></span>

## <a name="next-steps"></a><span data-ttu-id="1484d-129">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="1484d-129">Next steps</span></span>

<span data-ttu-id="1484d-130">Obtenga información acerca de cómo tooset de una puerta de enlace de la aplicación con una aplicación web como un back end miembro del grupo visitando: [configurar el servicio de aplicación web aplicaciones con puerta de enlace de aplicaciones](application-gateway-web-app-powershell.md)</span><span class="sxs-lookup"><span data-stu-id="1484d-130">Learn how tooset up an application gateway with a web app as a back end pool member by visiting: [Configure App Service web apps with Application Gateway](application-gateway-web-app-powershell.md)</span></span>
