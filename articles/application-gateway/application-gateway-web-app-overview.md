---
title: "Introducción a los servidores back-end multiinquilino con Azure Application Gateway | Microsoft Docs"
description: "En esta página se proporciona una introducción a la compatibilidad de Application Gateway con los servidores back-end multiinquilino."
documentationcenter: na
services: application-gateway
author: georgewallace
manager: timlt
editor: 
ms.service: application-gateway
ms.devlang: na
ms.topic: hero-article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 07/26/2017
ms.author: gwallace
ms.openlocfilehash: d944904db5b0bf176b214249ad59611e2b794ae0
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/29/2017
---
# <a name="application-gateway-support-for-multi-tenant-back-ends"></a><span data-ttu-id="46621-103">Compatibilidad de Application Gateway con servidores back-end multiinquilino</span><span class="sxs-lookup"><span data-stu-id="46621-103">Application Gateway support for multi-tenant back ends</span></span>

<span data-ttu-id="46621-104">Azure Application Gateway admite conjuntos de escalado de máquinas virtuales, interfaces de red, IP públicas/privadas o nombres de dominio completos (FQDN) como parte de sus grupos de servidores back-end.</span><span class="sxs-lookup"><span data-stu-id="46621-104">Azure Application Gateway supports virtual machine scale sets, network interfaces, public/private IP, or fully qualified domain name (FQDN) as part of its back end pools.</span></span> <span data-ttu-id="46621-105">De forma predeterminada, la puerta de enlace de aplicaciones no cambia el encabezado del host HTTP de entrada del cliente y lo envía sin alterar al back-end.</span><span class="sxs-lookup"><span data-stu-id="46621-105">By default, application gateway does not change the incoming HTTP host header from the client and sends the header unaltered to the back end.</span></span> <span data-ttu-id="46621-106">Hay muchos servicios, como [Azure Web Apps](../app-service-web/app-service-web-overview.md) y [API Management](../api-management/api-management-key-concepts.md) que son multiinquilino por naturaleza y dependen de un encabezado de host específico o de una extensión SNI para resolver el punto de conexión correcto.</span><span class="sxs-lookup"><span data-stu-id="46621-106">There are many services like [Azure Web Apps](../app-service-web/app-service-web-overview.md) and [API Management](../api-management/api-management-key-concepts.md) that are multi-tenant in nature and rely on a specific host header or SNI extension to resolve to the correct endpoint.</span></span> <span data-ttu-id="46621-107">Application Gateway admite ahora la posibilidad de que los usuarios sobrescriban el encabezado del host HTTP de entrada en función de la configuración de HTTP del back-end.</span><span class="sxs-lookup"><span data-stu-id="46621-107">Application Gateway now supports the ability for users to overwrite the incoming HTTP host header based on the back end HTTP settings.</span></span> <span data-ttu-id="46621-108">Esta funcionalidad permite la compatibilidad con servidores back-end multiinquilino, Azure Web Apps y API Management.</span><span class="sxs-lookup"><span data-stu-id="46621-108">This capability enables support for multi-tenant back ends Azure web apps and API management.</span></span> <span data-ttu-id="46621-109">Esta funcionalidad está disponible para las SWU estándar y WAF.</span><span class="sxs-lookup"><span data-stu-id="46621-109">This capability is available for both the standard and WAF SKU.</span></span> <span data-ttu-id="46621-110">La compatibilidad con servidores back-end multiinquilino también funciona con escenarios de terminación de SSL y de SSL de extremo a extremo.</span><span class="sxs-lookup"><span data-stu-id="46621-110">Multi-tenant back end support also works with SSL termination and end to end SSL scenarios.</span></span>

![escenario de aplicación web](./media/application-gateway-web-app-overview/scenario.png)

<span data-ttu-id="46621-112">La posibilidad de especificar una invalidación del host se define en la configuración de HTTP y se puede aplicar a cualquier grupo de servidores back-end durante la creación de reglas.</span><span class="sxs-lookup"><span data-stu-id="46621-112">The ability to specify a host override is defined at the HTTP settings and can be applied to any back end pool during rule creation.</span></span> <span data-ttu-id="46621-113">Los servidores back-end multiinquilino admiten las dos formas siguientes de invalidar el encabezado de host y la extensión SNI.</span><span class="sxs-lookup"><span data-stu-id="46621-113">Multi-tenant back ends support the following two ways of overriding host header and SNI extension.</span></span>

1. <span data-ttu-id="46621-114">La posibilidad de establecer el nombre de host en un valor fijo en la configuración de HTTP.</span><span class="sxs-lookup"><span data-stu-id="46621-114">The ability to set the host name to a fixed value in the HTTP settings.</span></span> <span data-ttu-id="46621-115">Esta funcionalidad garantiza que el encabezado de host se invalida con este valor para todo el tráfico que va al grupo de servidores back-end donde se aplica la configuración de HTTP.</span><span class="sxs-lookup"><span data-stu-id="46621-115">This capability ensures that the host header is overridden to this value for all traffic to the back end pool where the HTTP settings are applied.</span></span> <span data-ttu-id="46621-116">Al usar SSL de extremo a extremo, este nombre de host invalidado se usa en la extensión SNI.</span><span class="sxs-lookup"><span data-stu-id="46621-116">When using end to end SSL, this overridden host name is used in the SNI extension.</span></span> <span data-ttu-id="46621-117">Esta funcionalidad permite escenarios donde un grupo de servidores back-end espera un encabezado de host que es diferente del encabezado de host del cliente de entrada.</span><span class="sxs-lookup"><span data-stu-id="46621-117">This capability enables scenarios where a back end pool farm expects a host header that is different from the incoming customer host header.</span></span>

2. <span data-ttu-id="46621-118">La posibilidad de obtener el nombre de host de la dirección IP o FQDN de los miembros del grupo de servidores back-end.</span><span class="sxs-lookup"><span data-stu-id="46621-118">The ability to derive the host name from the IP or FQDN of the back end pool members.</span></span> <span data-ttu-id="46621-119">La configuración de HTTP también proporciona una opción para seleccionar el nombre de host del FQDN de un miembro del grupo de servidores back-end si está configurado con esta opción.</span><span class="sxs-lookup"><span data-stu-id="46621-119">HTTP settings also provide an option to pick the host name from a back end pool member's FQDN if configured with the option to derive host name from an individual back end pool member.</span></span> <span data-ttu-id="46621-120">Al usar SSL de extremo a extremo, este nombre de host se obtiene del FQDN y se usa en la extensión SNI.</span><span class="sxs-lookup"><span data-stu-id="46621-120">When using end to end SSL, this host name is derived from the FQDN and is used in the SNI extension.</span></span> <span data-ttu-id="46621-121">Esta funcionalidad permite escenarios donde un grupo de servidores back-end puede tener dos o más servicios PaaS multiinquilino, como Azure Web Apps y el encabezado de host de la solicitud para que cada miembro contenga el nombre de host obtenido de su FQDN.</span><span class="sxs-lookup"><span data-stu-id="46621-121">This capability enables scenarios where a back end pool can have two or more multi-tenant PaaS services like Azure web apps and the request's host header to each member contains the host name derived from its FQDN.</span></span>

> [!NOTE]
> <span data-ttu-id="46621-122">En los dos casos anteriores, la configuración solo afecta al comportamiento del tráfico dinámico y no al del sondeo de estado.</span><span class="sxs-lookup"><span data-stu-id="46621-122">In both of the preceding cases the settings only affect the live traffic behavior and not the health probe behavior.</span></span> <span data-ttu-id="46621-123">Los sondeos personalizados ya admiten la posibilidad de especificar un encabezado de host en la configuración de sondeo.</span><span class="sxs-lookup"><span data-stu-id="46621-123">Custom probes already support the ability to specify a host header in the probe configuration.</span></span> <span data-ttu-id="46621-124">También admiten ahora la posibilidad de obtener el comportamiento del encabezado de host de la configuración de HTTP actualmente configurada.</span><span class="sxs-lookup"><span data-stu-id="46621-124">Custom probes now also support the ability to derive the host header behavior from the currently configured HTTP settings.</span></span> <span data-ttu-id="46621-125">Esta configuración puede especificarse mediante el parámetro `PickHostNameFromback endAddress` en la configuración de sondeo.</span><span class="sxs-lookup"><span data-stu-id="46621-125">This configuration can be specified by using the `PickHostNameFromback endAddress` parameter in the probe configuration.</span></span> <span data-ttu-id="46621-126">Para que la funcionalidad de extremo a extremo funcione, el sondeo y la configuración de HTTP se deben modificar para reflejar la configuración correcta.</span><span class="sxs-lookup"><span data-stu-id="46621-126">For end to end functionality to work, both the probe and the HTTP settings must be modified to reflect the correct configuration.</span></span>

<span data-ttu-id="46621-127">Con esta funcionalidad, los clientes especifican las opciones en la configuración de HTTP y los sondeos personalizados para la configuración adecuada.</span><span class="sxs-lookup"><span data-stu-id="46621-127">With this capability, customers specify the options in the HTTP settings and custom probes to the appropriate configuration.</span></span> <span data-ttu-id="46621-128">Esta configuración se asocia luego a un agente de escucha y un grupo de servidores back-end mediante una regla.</span><span class="sxs-lookup"><span data-stu-id="46621-128">This setting is then tied to a listener and a back end pool by using a rule.</span></span>

## <a name="next-steps"></a><span data-ttu-id="46621-129">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="46621-129">Next steps</span></span>

<span data-ttu-id="46621-130">Para aprender a configurar una puerta de enlace de aplicaciones con una aplicación web como miembro del grupo de servidores back-end, visite [Configuración de App Service Web Apps con Application Gateway](application-gateway-web-app-powershell.md).</span><span class="sxs-lookup"><span data-stu-id="46621-130">Learn how to set up an application gateway with a web app as a back end pool member by visiting: [Configure App Service web apps with Application Gateway](application-gateway-web-app-powershell.md)</span></span>
