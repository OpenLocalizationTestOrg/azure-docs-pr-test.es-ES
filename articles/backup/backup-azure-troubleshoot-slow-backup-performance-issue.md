---
title: aaaTroubleshoot lento copia de seguridad de archivos y carpetas de copia de seguridad de Azure | Documentos de Microsoft
description: "Proporciona instrucciones toohelp de solución de problemas diagnosticar causa Hola de problemas de rendimiento de copia de seguridad de Azure"
services: backup
documentationcenter: 
author: genlin
manager: cshepard
editor: 
ms.assetid: e379180a-db13-4e0c-90e4-28e5dd6f5b14
ms.service: backup
ms.workload: storage-backup-recovery
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/13/2017
ms.author: genli
ms.openlocfilehash: 21d79bbd03c2706bc43fcc7c14020cffd6b919c7
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="troubleshoot-slow-backup-of-files-and-folders-in-azure-backup"></a><span data-ttu-id="57afd-103">Solución de problemas de lentitud en la copia de seguridad de archivos y carpetas en Copia de seguridad de Azure</span><span class="sxs-lookup"><span data-stu-id="57afd-103">Troubleshoot slow backup of files and folders in Azure Backup</span></span>
<span data-ttu-id="57afd-104">Este artículo proporciona orientación para la solución toohelp diagnosticar causa de Hola de rendimiento lento de copia de seguridad de archivos y carpetas cuando se usa copias de seguridad de Azure.</span><span class="sxs-lookup"><span data-stu-id="57afd-104">This article provides troubleshooting guidance toohelp you diagnose hello cause of slow backup performance for files and folders when you're using Azure Backup.</span></span> <span data-ttu-id="57afd-105">Cuando usas tooback de agente de copia de seguridad de Azure de hello seguridad de archivos, el proceso de copia de seguridad de hello puede tardar más tiempo del esperado.</span><span class="sxs-lookup"><span data-stu-id="57afd-105">When you use hello Azure Backup agent tooback up files, hello backup process might take longer than expected.</span></span> <span data-ttu-id="57afd-106">Este retraso puede deberse a uno o más de hello siguientes:</span><span class="sxs-lookup"><span data-stu-id="57afd-106">This delay might be caused by one or more of hello following:</span></span>

* [<span data-ttu-id="57afd-107">Hay cuellos de botella de rendimiento en el equipo de Hola que se hace copia.</span><span class="sxs-lookup"><span data-stu-id="57afd-107">There are performance bottlenecks on hello computer that’s being backed up.</span></span>](#cause1)
* [<span data-ttu-id="57afd-108">Otro software antivirus o proceso está interfiriendo con el proceso de copia de seguridad de Azure de Hola.</span><span class="sxs-lookup"><span data-stu-id="57afd-108">Another process or antivirus software is interfering with hello Azure Backup process.</span></span>](#cause2)
* [<span data-ttu-id="57afd-109">agente de copia de seguridad de saludo se está ejecutando en una máquina virtual (VM) de Azure.</span><span class="sxs-lookup"><span data-stu-id="57afd-109">hello Backup agent is running on an Azure virtual machine (VM).</span></span>](#cause3)  
* [<span data-ttu-id="57afd-110">Se realiza una copia de seguridad de un número elevado (varios millones) de archivos.</span><span class="sxs-lookup"><span data-stu-id="57afd-110">You're backing up a large number (millions) of files.</span></span>](#cause4)

<span data-ttu-id="57afd-111">Antes de iniciar la solución de problemas, recomendamos que descargue e instale hello [agente de copia de seguridad de Azure más reciente](http://aka.ms/azurebackup_agent).</span><span class="sxs-lookup"><span data-stu-id="57afd-111">Before you start troubleshooting issues, we recommend that you download and install hello [latest Azure Backup agent](http://aka.ms/azurebackup_agent).</span></span> <span data-ttu-id="57afd-112">Asegúrese de toofix de agente de copia de seguridad de actualizaciones frecuentes toohello diversos problemas, agregar características y mejorar el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="57afd-112">We make frequent updates toohello Backup agent toofix various issues, add features, and improve performance.</span></span>

<span data-ttu-id="57afd-113">También recomendamos que revise hello [preguntas más frecuentes de servicio de copia de seguridad de Azure](backup-azure-backup-faq.md) toomake seguro no experimenta alguno de los problemas de configuración comunes de Hola.</span><span class="sxs-lookup"><span data-stu-id="57afd-113">We also strongly recommend that you review hello [Azure Backup service FAQ](backup-azure-backup-faq.md) toomake sure you're not experiencing any of hello common configuration issues.</span></span>

[!INCLUDE [support-disclaimer](../../includes/support-disclaimer.md)]

<a id="cause1"></a>

## <a name="cause-performance-bottlenecks-on-hello-computer"></a><span data-ttu-id="57afd-114">Causa: Cuellos de botella de rendimiento en el equipo de Hola</span><span class="sxs-lookup"><span data-stu-id="57afd-114">Cause: Performance bottlenecks on hello computer</span></span>
<span data-ttu-id="57afd-115">Cuellos de botella en el equipo de Hola que se hace copia pueden provocar retrasos.</span><span class="sxs-lookup"><span data-stu-id="57afd-115">Bottlenecks on hello computer that's being backed up can cause delays.</span></span> <span data-ttu-id="57afd-116">Por ejemplo, hello toodisk de tooread o de escritura de capacidad del equipo o datos de toosend de ancho de banda disponible a través de la red hello, puede producir cuellos de botella.</span><span class="sxs-lookup"><span data-stu-id="57afd-116">For example, hello computer's ability tooread or write toodisk, or available bandwidth toosend data over hello network, can cause bottlenecks.</span></span>

<span data-ttu-id="57afd-117">Windows proporciona una herramienta integrada que se denomina [Monitor de rendimiento](https://technet.microsoft.com/magazine/2008.08.pulse.aspx) (Perfmon) toodetect estos cuellos de botella.</span><span class="sxs-lookup"><span data-stu-id="57afd-117">Windows provides a built-in tool that's called [Performance Monitor](https://technet.microsoft.com/magazine/2008.08.pulse.aspx) (Perfmon) toodetect these bottlenecks.</span></span>

<span data-ttu-id="57afd-118">Estos son algunos contadores de rendimiento e intervalos que pueden resultar útiles para diagnosticar cuellos de botella, con el fin de que las copias de seguridad sean óptimas.</span><span class="sxs-lookup"><span data-stu-id="57afd-118">Here are some performance counters and ranges that can be helpful in diagnosing bottlenecks for optimal backups.</span></span>

| <span data-ttu-id="57afd-119">Contador</span><span class="sxs-lookup"><span data-stu-id="57afd-119">Counter</span></span> | <span data-ttu-id="57afd-120">Estado</span><span class="sxs-lookup"><span data-stu-id="57afd-120">Status</span></span> |
| --- | --- |
| <span data-ttu-id="57afd-121">Logical Disk(Physical Disk) [Disco lógico (disco físico)]--% de inactividad</span><span class="sxs-lookup"><span data-stu-id="57afd-121">Logical Disk(Physical Disk)--%idle</span></span> |<span data-ttu-id="57afd-122">• 100% inactivo too50% inactivo = correcto</span><span class="sxs-lookup"><span data-stu-id="57afd-122">• 100% idle too50% idle = Healthy</span></span></br><span data-ttu-id="57afd-123">• too20 inactivo 49% % inactivo = advertencia o el Monitor</span><span class="sxs-lookup"><span data-stu-id="57afd-123">• 49% idle too20% idle = Warning or Monitor</span></span></br><span data-ttu-id="57afd-124">• too0 inactivo 19% % inactivo = crítico o fuera de especificación</span><span class="sxs-lookup"><span data-stu-id="57afd-124">• 19% idle too0% idle = Critical or Out of Spec</span></span> |
| <span data-ttu-id="57afd-125">Logical Disk(Physical Disk) [Disco lógico (disco físico)]--% promedio Disk Sec Read or Write (Segundos de disco de lectura o escritura)</span><span class="sxs-lookup"><span data-stu-id="57afd-125">Logical Disk(Physical Disk)--%Avg. Disk Sec Read or Write</span></span> |<span data-ttu-id="57afd-126">• 0,001 ms too0.015 ms = correcto</span><span class="sxs-lookup"><span data-stu-id="57afd-126">• 0.001 ms too0.015 ms  = Healthy</span></span></br><span data-ttu-id="57afd-127">• 0,015 ms too0.025 ms = advertencia o el Monitor</span><span class="sxs-lookup"><span data-stu-id="57afd-127">• 0.015 ms too0.025 ms = Warning or Monitor</span></span></br><span data-ttu-id="57afd-128">• 0.026 o más = Situación crítica o fuera de la especificación</span><span class="sxs-lookup"><span data-stu-id="57afd-128">• 0.026 ms or longer = Critical or Out of Spec</span></span> |
| <span data-ttu-id="57afd-129">Logical Disk(Physical Disk) [Disco lógico (disco físico)] -- Longitud actual de la cola de disco (para todas las instancias)</span><span class="sxs-lookup"><span data-stu-id="57afd-129">Logical Disk(Physical Disk)--Current Disk Queue Length (for all instances)</span></span> |<span data-ttu-id="57afd-130">80 solicitudes durante más de 6 minutos</span><span class="sxs-lookup"><span data-stu-id="57afd-130">80 requests for more than 6 minutes</span></span> |
| <span data-ttu-id="57afd-131">Memoria: Pool Non Paged Bytes (Bytes de bloque no paginado)</span><span class="sxs-lookup"><span data-stu-id="57afd-131">Memory--Pool Non Paged Bytes</span></span> |<span data-ttu-id="57afd-132">• Menos del 60 % del grupo consumido = Correcto</span><span class="sxs-lookup"><span data-stu-id="57afd-132">• Less than 60% of pool consumed = Healthy</span></span><br><span data-ttu-id="57afd-133">• el 61% too80% de grupo consumido = advertencia o el Monitor</span><span class="sxs-lookup"><span data-stu-id="57afd-133">• 61% too80% of pool consumed = Warning or Monitor</span></span></br><span data-ttu-id="57afd-134">• Más del 80 % del grupo consumido = Situación crítica o fuera de la especificación</span><span class="sxs-lookup"><span data-stu-id="57afd-134">• Greater than 80% pool consumed = Critical or Out of Spec</span></span> |
| <span data-ttu-id="57afd-135">Memoria: Bytes de bloque paginado</span><span class="sxs-lookup"><span data-stu-id="57afd-135">Memory--Pool Paged Bytes</span></span> |<span data-ttu-id="57afd-136">• Menos del 60 % del grupo consumido = Correcto</span><span class="sxs-lookup"><span data-stu-id="57afd-136">• Less than 60% of pool consumed = Healthy</span></span></br><span data-ttu-id="57afd-137">• el 61% too80% de grupo consumido = advertencia o el Monitor</span><span class="sxs-lookup"><span data-stu-id="57afd-137">• 61% too80% of pool consumed = Warning or Monitor</span></span></br><span data-ttu-id="57afd-138">• Más del 80 % del grupo consumido = Situación crítica o fuera de la especificación</span><span class="sxs-lookup"><span data-stu-id="57afd-138">• Greater than 80% pool consumed = Critical or Out of Spec</span></span> |
| <span data-ttu-id="57afd-139">Memoria: Megabytes disponibles</span><span class="sxs-lookup"><span data-stu-id="57afd-139">Memory--Available Megabytes</span></span> |<span data-ttu-id="57afd-140">• El 50 % de la memoria libre, o más, está disponible = Correcto</span><span class="sxs-lookup"><span data-stu-id="57afd-140">• 50% of free memory available or more = Healthy</span></span></br><span data-ttu-id="57afd-141">• El 25 % de la memoria libre está disponible = Supervisión</span><span class="sxs-lookup"><span data-stu-id="57afd-141">• 25% of free memory available = Monitor</span></span></br><span data-ttu-id="57afd-142">• El 10 % de la memoria libre está disponible = Advertencia</span><span class="sxs-lookup"><span data-stu-id="57afd-142">• 10% of free memory available = Warning</span></span></br><span data-ttu-id="57afd-143">• Menos de 100 MB o del 5 % de memoria libre está disponible = Situación crítica o fuera de la especificación.</span><span class="sxs-lookup"><span data-stu-id="57afd-143">• Less than 100 MB or 5% of free memory available = Critical or Out of Spec</span></span> |
| <span data-ttu-id="57afd-144">Procesador: \%Tiempo de procesador (todas las instancias)</span><span class="sxs-lookup"><span data-stu-id="57afd-144">Processor--\%Processor Time (all instances)</span></span> |<span data-ttu-id="57afd-145">• Menos del 60 % consumido = Correcto</span><span class="sxs-lookup"><span data-stu-id="57afd-145">• Less than 60% consumed = Healthy</span></span></br><span data-ttu-id="57afd-146">• el 61% too90% consumido = Monitor o precaución</span><span class="sxs-lookup"><span data-stu-id="57afd-146">• 61% too90% consumed = Monitor or Caution</span></span></br><span data-ttu-id="57afd-147">• 91% too100% consumido = crítico</span><span class="sxs-lookup"><span data-stu-id="57afd-147">• 91% too100% consumed = Critical</span></span> |

> [!NOTE]
> <span data-ttu-id="57afd-148">Si determina que la infraestructura de hello es culpable hello, se recomienda desfragmente los discos de hello con regularidad para mejorar el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="57afd-148">If you determine that hello infrastructure is hello culprit, we recommend that you defragment hello disks regularly for better performance.</span></span>
>
>

<a id="cause2"></a>

## <a name="cause-another-process-or-antivirus-software-interfering-with-azure-backup"></a><span data-ttu-id="57afd-149">Causa: otro proceso o software antivirus interfiere con Copia de seguridad de Azure.</span><span class="sxs-lookup"><span data-stu-id="57afd-149">Cause: Another process or antivirus software interfering with Azure Backup</span></span>
<span data-ttu-id="57afd-150">Hemos visto varias instancias donde otros procesos en el sistema de Windows hello han afectado negativamente al rendimiento de hello proceso del agente de copia de seguridad de Azure.</span><span class="sxs-lookup"><span data-stu-id="57afd-150">We've seen several instances where other processes in hello Windows system have negatively affected performance of hello Azure Backup agent process.</span></span> <span data-ttu-id="57afd-151">Por ejemplo, si usa el agente de copia de seguridad de Azure de hello y otro tooback programa los datos, o si está ejecutando software antivirus y un bloqueo en archivos toobe realizó la copia, Hola varios bloqueos de archivos podrían ocasionar la contención.</span><span class="sxs-lookup"><span data-stu-id="57afd-151">For example, if you use both hello Azure Backup agent and another program tooback up data, or if antivirus software is running and has a lock on files toobe backed up, hello multiple locks on files might cause contention.</span></span> <span data-ttu-id="57afd-152">En esta situación, podría producirse un error en la copia de seguridad de Hola u Hola trabajo podría tardar más tiempo del esperado.</span><span class="sxs-lookup"><span data-stu-id="57afd-152">In this situation, hello backup might fail, or hello job might take longer than expected.</span></span>

<span data-ttu-id="57afd-153">Hola mejor recomendación en este escenario es tooturn desactivar Hola otro toosee del programa de copia de seguridad si cambia la hora de copia de seguridad de hello para el agente de copia de seguridad de Azure Hola.</span><span class="sxs-lookup"><span data-stu-id="57afd-153">hello best recommendation in this scenario is tooturn off hello other backup program toosee whether hello backup time for hello Azure Backup agent changes.</span></span> <span data-ttu-id="57afd-154">Por lo general, asegurándose de que no están ejecutando varios trabajos de copia de seguridad en hello el mismo tiempo es suficiente tooprevent les afecten a entre sí.</span><span class="sxs-lookup"><span data-stu-id="57afd-154">Usually, making sure that multiple backup jobs are not running at hello same time is sufficient tooprevent them from affecting each other.</span></span>

<span data-ttu-id="57afd-155">Para los programas antivirus, se recomienda que excluya siguiente Hola archivos y ubicaciones:</span><span class="sxs-lookup"><span data-stu-id="57afd-155">For antivirus programs, we recommend that you exclude hello following files and locations:</span></span>

* <span data-ttu-id="57afd-156">C:\Archivos de programa\Microsoft Azure Recovery Services Agent\bin\cbengine.exe como proceso.</span><span class="sxs-lookup"><span data-stu-id="57afd-156">C:\Program Files\Microsoft Azure Recovery Services Agent\bin\cbengine.exe as a process</span></span>
* <span data-ttu-id="57afd-157">Carpetas de C:\Archivos de programa\Microsoft Azure Recovery Services Agent\.</span><span class="sxs-lookup"><span data-stu-id="57afd-157">C:\Program Files\Microsoft Azure Recovery Services Agent\ folders</span></span>
* <span data-ttu-id="57afd-158">Scratch ubicación (si no está utilizando la ubicación estándar de hello)</span><span class="sxs-lookup"><span data-stu-id="57afd-158">Scratch location (if you're not using hello standard location)</span></span>

<a id="cause3"></a>

## <a name="cause-backup-agent-running-on-an-azure-virtual-machine"></a><span data-ttu-id="57afd-159">Causa: el agente de Copia de seguridad se ejecuta en una máquina virtual de Azure.</span><span class="sxs-lookup"><span data-stu-id="57afd-159">Cause: Backup agent running on an Azure virtual machine</span></span>
<span data-ttu-id="57afd-160">Si está ejecutando el agente de copia de seguridad de hello en una máquina virtual, rendimiento será más lento que cuando se ejecuta en una máquina física.</span><span class="sxs-lookup"><span data-stu-id="57afd-160">If you're running hello Backup agent on a VM, performance will be slower than when you run it on a physical machine.</span></span> <span data-ttu-id="57afd-161">Esto es lo esperado debido a limitaciones de tooIOPS.</span><span class="sxs-lookup"><span data-stu-id="57afd-161">This is expected due tooIOPS limitations.</span></span>  <span data-ttu-id="57afd-162">Sin embargo, puede optimizar el rendimiento de hello cambiando las unidades de datos de Hola que están haciendo copias de seguridad tooAzure almacenamiento Premium.</span><span class="sxs-lookup"><span data-stu-id="57afd-162">However, you can optimize hello performance by switching hello data drives that are being backed up tooAzure Premium Storage.</span></span> <span data-ttu-id="57afd-163">Estamos trabajando para solucionar este problema y corrección de hello estará disponible en futuras versiones.</span><span class="sxs-lookup"><span data-stu-id="57afd-163">We're working on fixing this issue, and hello fix will be available in a future release.</span></span>

<a id="cause4"></a>

## <a name="cause-backing-up-a-large-number-millions-of-files"></a><span data-ttu-id="57afd-164">Causa: se realiza una copia de seguridad de un número elevado (varios millones) de archivos.</span><span class="sxs-lookup"><span data-stu-id="57afd-164">Cause: Backing up a large number (millions) of files</span></span>
<span data-ttu-id="57afd-165">El movimiento de un gran volumen de datos tarda más tiempo en realizarse el de un volumen más pequeño.</span><span class="sxs-lookup"><span data-stu-id="57afd-165">Moving a large volume of data will take longer than moving a smaller volume of data.</span></span> <span data-ttu-id="57afd-166">En algunos casos, está relacionado con el tiempo de copia de seguridad toonot Hola sólo el tamaño de datos hello, sino también el número de Hola de archivos o carpetas.</span><span class="sxs-lookup"><span data-stu-id="57afd-166">In some cases, backup time is related toonot only hello size of hello data, but also hello number of files or folders.</span></span> <span data-ttu-id="57afd-167">Esto es especialmente cierto cuando millones de archivos pequeños (unos tooa bytes algunos kilobytes) se esté realizando una copia.</span><span class="sxs-lookup"><span data-stu-id="57afd-167">This is especially true when millions of small files (a few bytes tooa few kilobytes) are being backed up.</span></span>

<span data-ttu-id="57afd-168">Este comportamiento se produce porque mientras es realizar una copia de seguridad de los datos de Hola y moverlo tooAzure, Azure simultáneamente es catalogar los archivos.</span><span class="sxs-lookup"><span data-stu-id="57afd-168">This behavior occurs because while you're backing up hello data and moving it tooAzure, Azure is simultaneously cataloging your files.</span></span> <span data-ttu-id="57afd-169">En algunos casos poco frecuentes, la operación de catálogo de hello podría tardar más tiempo del esperado.</span><span class="sxs-lookup"><span data-stu-id="57afd-169">In some rare scenarios, hello catalog operation might take longer than expected.</span></span>

<span data-ttu-id="57afd-170">Hola después indicadores puede ayudarle a entender el cuello de botella de Hola y en consecuencia funcionan sobre los pasos siguientes hello:</span><span class="sxs-lookup"><span data-stu-id="57afd-170">hello following indicators can help you understand hello bottleneck and accordingly work on hello next steps:</span></span>

* <span data-ttu-id="57afd-171">**Interfaz de usuario mostrará el progreso de transferencia de datos de hello**.</span><span class="sxs-lookup"><span data-stu-id="57afd-171">**UI is showing progress for hello data transfer**.</span></span> <span data-ttu-id="57afd-172">todavía se transfieren datos de Hola.</span><span class="sxs-lookup"><span data-stu-id="57afd-172">hello data is still being transferred.</span></span> <span data-ttu-id="57afd-173">ancho de banda de red de Hola o tamaño de Hola de datos podría estar provocando retrasos.</span><span class="sxs-lookup"><span data-stu-id="57afd-173">hello network bandwidth or hello size of data might be causing delays.</span></span>
* <span data-ttu-id="57afd-174">**Interfaz de usuario no muestra el progreso de transferencia de datos de hello**.</span><span class="sxs-lookup"><span data-stu-id="57afd-174">**UI is not showing progress for hello data transfer**.</span></span> <span data-ttu-id="57afd-175">Hola abrir registros ubicado en Agent\Temp de servicios de recuperación de Azure C:\Microsoft y, a continuación, busque hello FileProvider::EndData entrada en los registros de Hola.</span><span class="sxs-lookup"><span data-stu-id="57afd-175">Open hello logs located at C:\Microsoft Azure Recovery Services Agent\Temp, and then check for hello FileProvider::EndData entry in hello logs.</span></span> <span data-ttu-id="57afd-176">Esta entrada indica que finalizó la transferencia de datos de Hola y Hola catálogo operación se realiza.</span><span class="sxs-lookup"><span data-stu-id="57afd-176">This entry signifies that hello data transfer finished and hello catalog operation is happening.</span></span> <span data-ttu-id="57afd-177">No cancelar trabajos de copia de seguridad de Hola.</span><span class="sxs-lookup"><span data-stu-id="57afd-177">Don't cancel hello backup jobs.</span></span> <span data-ttu-id="57afd-178">En su lugar, espere un poco más toofinish de operación de catálogo de Hola.</span><span class="sxs-lookup"><span data-stu-id="57afd-178">Instead, wait a little longer for hello catalog operation toofinish.</span></span> <span data-ttu-id="57afd-179">Si persiste el problema de hello, póngase en contacto con [soporte técnico de Azure](https://portal.azure.com/#create/Microsoft.Support).</span><span class="sxs-lookup"><span data-stu-id="57afd-179">If hello problem persists, contact [Azure support](https://portal.azure.com/#create/Microsoft.Support).</span></span>
