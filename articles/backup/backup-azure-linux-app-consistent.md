---
title: "Azure Backup: Copias de seguridad coherentes con la aplicación de las máquinas virtuales Linux | Microsoft Docs"
description: "Utilice secuencias de comandos para garantizar copias de seguridad coherentes con la aplicación en Azure, para las máquinas virtuales Linux. Las secuencias de comandos solo se aplican a las VM de Linux en una implementación de administrador de recursos; las secuencias de comandos no se aplican a las VM de Windows ni a las implementaciones de administrador de servicios. Este artículo le guiará por los pasos que debe seguir para configurar las secuencias de comandos, incluida la solución de problemas."
services: backup
documentationcenter: dev-center-name
author: anuragmehrotra
manager: shivamg
keywords: "copias de seguridad coherentes con la aplicación; copias de seguridad coherentes con la aplicación de máquinas virtuales de Azure; copia de seguridad de máquinas virtuales Linux; Azure Backup"
ms.assetid: bbb99cf2-d8c7-4b3d-8b29-eadc0fed3bef
ms.service: backup
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: storage-backup-recovery
ms.date: 4/12/2017
ms.author: anuragm;markgal
ms.openlocfilehash: 378c65bec8fd1f880ed459e76f5e4b5d85e49d2a
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 07/11/2017
---
# <a name="application-consistent-backup-of-azure-linux-vms-preview"></a><span data-ttu-id="b2e6f-106">Copias de seguridad coherentes con la aplicación de las máquinas virtuales Linux de Azure (versión preliminar)</span><span class="sxs-lookup"><span data-stu-id="b2e6f-106">Application-consistent backup of Azure Linux VMs (preview)</span></span>

<span data-ttu-id="b2e6f-107">En este artículo, se describe el marco de trabajo de scripts anteriores y posteriores de Linux, y cómo se puede usar para realizar copias de seguridad coherentes con la aplicación de las máquinas virtuales Linux de Azure.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-107">This article talks about the Linux pre-script and post-script framework, and how it can be used to take application-consistent backups of Azure Linux VMs.</span></span>

> [!Note]
> <span data-ttu-id="b2e6f-108">El marco de trabajo de scripts anteriores y posteriores solo se admite para máquinas virtuales Linux implementadas por Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-108">The pre-script and post-script framework is supported only for Azure Resource Manager-deployed Linux virtual machines.</span></span> <span data-ttu-id="b2e6f-109">No se admiten scripts para coherencia con la aplicación de máquinas virtuales implementadas por el administrador de servicios o máquinas virtuales Windows.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-109">Scripts for application consistency are not supported for Service Manager-deployed virtual machines or Windows virtual machines.</span></span>
>

## <a name="how-the-framework-works"></a><span data-ttu-id="b2e6f-110">Funcionamiento del marco de trabajo</span><span class="sxs-lookup"><span data-stu-id="b2e6f-110">How the framework works</span></span>

<span data-ttu-id="b2e6f-111">El marco de trabajo proporciona una opción para ejecutar scripts anteriores y posteriores personalizados mientras toma una instantánea de las máquinas virtuales.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-111">The framework provides an option to run custom pre-scripts and post-scripts while you're taking VM snapshots.</span></span> <span data-ttu-id="b2e6f-112">Los scripts anteriores se ejecutan justo antes de tomar la instantánea de la máquina virtual y los scripts posteriores, inmediatamente después.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-112">Pre-scripts are run just before you take the VM snapshot, and post-scripts are run immediately after you take the VM snapshot.</span></span> <span data-ttu-id="b2e6f-113">Esto le proporciona la flexibilidad necesaria para controlar su aplicación y el entorno mientras toma instantáneas de las máquinas virtuales.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-113">This gives you the flexibility to control your application and environment while you're taking VM snapshots.</span></span>

<span data-ttu-id="b2e6f-114">En este escenario es importante garantizar que se puedan realizar copias de seguridad coherentes con la aplicación de las máquinas virtuales.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-114">In this scenario, it's important to ensure application-consistent VM backup.</span></span> <span data-ttu-id="b2e6f-115">El script anterior puede invocar las API nativas de la aplicación para poner en modo inactivo las E/S y vaciar el contenido en memoria en el disco.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-115">The pre-script can invoke application-native APIs to quiesce the IOs and flush in-memory content to the disk.</span></span> <span data-ttu-id="b2e6f-116">Esto garantiza que la instantánea sea coherente con la aplicación (es decir, que aparezca la aplicación si se reinicia la máquina virtual después de la restauración).</span><span class="sxs-lookup"><span data-stu-id="b2e6f-116">This ensures that the snapshot is application-consistent (that is, that the application comes up when the VM is booted post-restore).</span></span> <span data-ttu-id="b2e6f-117">El script posterior se puede utilizar para reanudar las E/S.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-117">Post-script can be used to thaw the IOs.</span></span> <span data-ttu-id="b2e6f-118">Esto lo hace mediante las API nativas de la aplicación de forma que esta reanuda las operaciones normales después de la instantánea de la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-118">It does this by using application-native APIs so that the application can resume normal operations post-VM snapshot.</span></span>

## <a name="steps-to-configure-pre-script-and-post-script"></a><span data-ttu-id="b2e6f-119">Pasos para configurar el script anterior y posterior</span><span class="sxs-lookup"><span data-stu-id="b2e6f-119">Steps to configure pre-script and post-script</span></span>

1. <span data-ttu-id="b2e6f-120">Inicie sesión como usuario raíz en la máquina virtual Linux de la que desea realizar la copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-120">Sign in as the root user to the Linux VM that you want to back up.</span></span>

2. <span data-ttu-id="b2e6f-121">Descargue **VMSnapshotScriptPluginConfig.json** de [GitHub](https://github.com/MicrosoftAzureBackup/VMSnapshotPluginConfig) y cópielo en la carpeta **/etc/azure** de todas las máquinas virtuales de las que va a realizar copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-121">Download **VMSnapshotScriptPluginConfig.json** from [GitHub](https://github.com/MicrosoftAzureBackup/VMSnapshotPluginConfig), and then copy it to the **/etc/azure** folder on all the VMs that you're going to back up.</span></span> <span data-ttu-id="b2e6f-122">Cree el directorio **/etc/azure** si aún no existe.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-122">Create the **/etc/azure** directory if it doesn't exist already.</span></span>

3. <span data-ttu-id="b2e6f-123">Copie el script anterior y el posterior de la aplicación en todas las máquinas virtuales de las que desea realizar copias de seguridad.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-123">Copy the pre-script and post-script for your application on all the VMs that you plan to back up.</span></span> <span data-ttu-id="b2e6f-124">Puede copiar los scripts en cualquier ubicación de la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-124">You can copy the scripts to any location on the VM.</span></span> <span data-ttu-id="b2e6f-125">Asegúrese de actualizar la ruta de acceso completa de los archivos de script en el archivo **VMSnapshotScriptPluginConfig.json**.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-125">Be sure to update the full path of the script files in the **VMSnapshotScriptPluginConfig.json** file.</span></span>

4. <span data-ttu-id="b2e6f-126">Asegúrese de proporcionar los siguientes permisos para estos archivos:</span><span class="sxs-lookup"><span data-stu-id="b2e6f-126">Ensure the following permissions for these files:</span></span>

   - <span data-ttu-id="b2e6f-127">**VMSnapshotScriptPluginConfig.json**: permiso "600".</span><span class="sxs-lookup"><span data-stu-id="b2e6f-127">**VMSnapshotScriptPluginConfig.json**: Permission “600.”</span></span> <span data-ttu-id="b2e6f-128">Por ejemplo, solo el usuario "raíz" debe tener permisos de "lectura" y "escritura" para este archivo, ningún usuario debe tener permisos de "ejecución".</span><span class="sxs-lookup"><span data-stu-id="b2e6f-128">For example, only “root” user should have “read” and “write” permissions to this file, and no user should have “execute” permissions.</span></span>

   - <span data-ttu-id="b2e6f-129">**Archivo de script anterior**: permiso "700".</span><span class="sxs-lookup"><span data-stu-id="b2e6f-129">**Pre-script file**: Permission “700.”</span></span>  <span data-ttu-id="b2e6f-130">Por ejemplo, solo el usuario "raíz" debe tener permisos de "lectura", "escritura" y "ejecución" para este archivo.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-130">For example, only “root” user should have “read”, “write”, and “execute” permissions to this file.</span></span>
  
   - <span data-ttu-id="b2e6f-131">**Script posterior**: permiso "700".</span><span class="sxs-lookup"><span data-stu-id="b2e6f-131">**Post-script** Permission “700.”</span></span> <span data-ttu-id="b2e6f-132">Por ejemplo, solo el usuario "raíz" debe tener permisos de "lectura", "escritura" y "ejecución" para este archivo.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-132">For example, only “root” user should have “read”, “write”, and “execute” permissions to this file.</span></span>

   > [!Important]
   > <span data-ttu-id="b2e6f-133">El marco de trabajo proporciona a los usuarios una gran ayuda.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-133">The framework gives users a lot of power.</span></span> <span data-ttu-id="b2e6f-134">Es importante que sea seguro y que solo el usuario "raíz" tenga acceso a los archivos JSON y scripts importantes.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-134">It’s important that it's secure and that only “root” user has access to critical JSON and script files.</span></span>
   > <span data-ttu-id="b2e6f-135">Si no se cumplen los requisitos anteriores, el script no se ejecutará.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-135">If the previous requirements aren't met, the script doesn't run.</span></span> <span data-ttu-id="b2e6f-136">Esto resultará en la realización de copias de seguridad coherentes con el sistema de archivos y coherentes frente a bloqueos.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-136">This results in file system/crash consistent backup.</span></span>
   >

5. <span data-ttu-id="b2e6f-137">Configure **VMSnapshotPluginConfig.json** como se describe a continuación:</span><span class="sxs-lookup"><span data-stu-id="b2e6f-137">Configure **VMSnapshotScriptPluginConfig.json** as described here:</span></span>
    - <span data-ttu-id="b2e6f-138">**pluginName**: deje este campo como está ya que, de lo contrario, los scripts podrían no funcionar según lo previsto.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-138">**pluginName**: Leave this field as is or your scripts might not work as expected.</span></span>

    - <span data-ttu-id="b2e6f-139">**preScriptLocation**: proporcione la ruta de acceso completa del script anterior en la máquina virtual de la que se va a realizar la copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-139">**preScriptLocation**: Provide the full path of the pre-script on the VM that's going to be backed up.</span></span>

    - <span data-ttu-id="b2e6f-140">**postScriptLocation**: proporcione la ruta de acceso completa del script posterior en la máquina virtual de la que se va a realizar la copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-140">**postScriptLocation**: Provide the full path of the post-script on the VM that's going to be backed up.</span></span>

    - <span data-ttu-id="b2e6f-141">**preScriptParams**: proporcione los parámetros opcionales que se deban pasar al script anterior.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-141">**preScriptParams**: Provide the optional parameters that need to be passed to the pre-script.</span></span> <span data-ttu-id="b2e6f-142">Todos los parámetros deben estar entre comillas y deben estar separados por comas si hay varios parámetros.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-142">All parameters should be in quotes, and should be comma-separated if there are multiple parameters.</span></span>

    - <span data-ttu-id="b2e6f-143">**postScriptParams**: proporcione los parámetros opcionales que se deban pasar al script posterior.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-143">**postScriptParams**: Provide the optional parameters that need to be passed to the post-script.</span></span> <span data-ttu-id="b2e6f-144">Todos los parámetros deben estar entre comillas y deben estar separados por comas si hay varios parámetros.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-144">All parameters should be in quotes, and should be comma-separated if there are multiple parameters.</span></span>

    - <span data-ttu-id="b2e6f-145">**preScriptNoOfRetries**: establezca el número de veces que el script anterior se debe volver a intentar si se produce cualquier error antes de finalizar.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-145">**preScriptNoOfRetries**: Set the number of times the pre-script should be retried if there is any error before terminating.</span></span> <span data-ttu-id="b2e6f-146">Cero significa que hay solo un intento y ningún reintento en caso de error.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-146">Zero means only one try and no retry if there is a failure.</span></span>

    - <span data-ttu-id="b2e6f-147">**postScriptNoOfRetries**: establezca el número de veces que el script posterior se debe volver a intentar si se produce cualquier error antes de finalizar.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-147">**postScriptNoOfRetries**:  Set the number of times the post-script should be retried if there is any error before terminating.</span></span> <span data-ttu-id="b2e6f-148">Cero significa que hay solo un intento y ningún reintento en caso de error.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-148">Zero means only one try and no retry if there is a failure.</span></span>
    
    - <span data-ttu-id="b2e6f-149">**timeoutInSeconds**: especifique los tiempos de espera individuales para el script anterior y el posterior.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-149">**timeoutInSeconds**: Specify individual timeouts for the pre-script and the post-script.</span></span>

    - <span data-ttu-id="b2e6f-150">**continueBackupOnFailure**: establezca este valor en **true** si desea que Azure Backup revierta a una copia de seguridad coherente con el sistema de archivos o coherente frente a bloqueos en caso de que el script anterior o posterior sufran un error.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-150">**continueBackupOnFailure**: Set this value to **true** if you want Azure Backup to fall back to a file system consistent/crash consistent backup if pre-script or post-script fails.</span></span> <span data-ttu-id="b2e6f-151">Si se establece en **false**, se producirá un error de la copia de seguridad en caso de error del script (excepto en el caso de una máquina virtual de un solo disco, en el que se revertirá a una copia de seguridad coherente frente a bloqueos independientemente de este valor).</span><span class="sxs-lookup"><span data-stu-id="b2e6f-151">Setting this to **false** fails the backup in case of script failure (except when you have single-disk VM that falls back to crash-consistent backup regardless of this setting).</span></span>

    - <span data-ttu-id="b2e6f-152">**fsFreezeEnabled**: especifique si se debe llamar a fsfreeze de Linux al realizar la instantánea de la máquina virtual para garantizar la coherencia del sistema de archivos.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-152">**fsFreezeEnabled**: Specify whether Linux fsfreeze should be called while you're taking the VM snapshot to ensure file system consistency.</span></span> <span data-ttu-id="b2e6f-153">Es recomendable mantener este valor en **true** a menos que la aplicación tenga una dependencia al deshabilitar fsfreeze.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-153">We recommend keeping this setting set to **true** unless your application has a dependency on disabling fsfreeze.</span></span>

6. <span data-ttu-id="b2e6f-154">Ahora ya está configurado el marco de trabajo del script.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-154">The script framework is now configured.</span></span> <span data-ttu-id="b2e6f-155">Si ya está configurada la copia de seguridad de la máquina virtual, la copia de seguridad siguiente invoca los scripts y desencadena la copia de seguridad coherente con la aplicación.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-155">If the VM backup is already configured, the next backup invokes the scripts and triggers application-consistent backup.</span></span> <span data-ttu-id="b2e6f-156">Si la copia de seguridad de la máquina virtual no está configurada, hágalo siguiendo las instrucciones descritas en [Copia de seguridad de máquinas virtuales de Azure en almacenes de Recovery Services.](https://docs.microsoft.com/azure/backup/backup-azure-vms-first-look-arm)</span><span class="sxs-lookup"><span data-stu-id="b2e6f-156">If the VM backup is not configured, configure it by using [Back up Azure virtual machines to Recovery Services vaults.](https://docs.microsoft.com/azure/backup/backup-azure-vms-first-look-arm)</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="b2e6f-157">Solución de problemas</span><span class="sxs-lookup"><span data-stu-id="b2e6f-157">Troubleshooting</span></span>

<span data-ttu-id="b2e6f-158">Asegúrese de que agrega el registro adecuado al escribir el script anterior y el posterior y revise los registros de script para corregir cualquier problema.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-158">Make sure you add appropriate logging while writing your pre-script and post-script, and review your script logs to fix any script issues.</span></span> <span data-ttu-id="b2e6f-159">Si sigue teniendo problemas para ejecutar los scripts, consulte la tabla siguiente para más información.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-159">If you still have problems running scripts, refer to the following table for more information.</span></span>

| <span data-ttu-id="b2e6f-160">Error</span><span class="sxs-lookup"><span data-stu-id="b2e6f-160">Error</span></span> | <span data-ttu-id="b2e6f-161">Mensaje de error</span><span class="sxs-lookup"><span data-stu-id="b2e6f-161">Error message</span></span> | <span data-ttu-id="b2e6f-162">Acción recomendada</span><span class="sxs-lookup"><span data-stu-id="b2e6f-162">Recommended action</span></span> |
| ------------------------ | -------------- | ------------------ |
| <span data-ttu-id="b2e6f-163">Pre-ScriptExecutionFailed</span><span class="sxs-lookup"><span data-stu-id="b2e6f-163">Pre-ScriptExecutionFailed</span></span> |<span data-ttu-id="b2e6f-164">El script anterior devolvió un error por lo que puede que la copia de seguridad no sea coherente con la aplicación.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-164">The pre-script returned an error, so backup might not be application-consistent.</span></span>   | <span data-ttu-id="b2e6f-165">Examine los registros de error del script para corregir el problema.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-165">Look at the failure logs for your script to fix the issue.</span></span>|  
|   <span data-ttu-id="b2e6f-166">Post-ScriptExecutionFailed</span><span class="sxs-lookup"><span data-stu-id="b2e6f-166">Post-ScriptExecutionFailed</span></span> |    <span data-ttu-id="b2e6f-167">El script posterior devolvió un error que podría afectar al estado de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-167">The post-script returned an error that might impact application state.</span></span> |    <span data-ttu-id="b2e6f-168">Examine los registros de error del script para corregir el problema y compruebe el estado de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-168">Look at the failure logs for your script to fix the issue and check the application state.</span></span> |
| <span data-ttu-id="b2e6f-169">Pre-ScriptNotFound</span><span class="sxs-lookup"><span data-stu-id="b2e6f-169">Pre-ScriptNotFound</span></span> |  <span data-ttu-id="b2e6f-170">No se encontró el script anterior en la ubicación especificada en el archivo de configuración **VMSnapshotScriptPluginConfig.json**.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-170">The pre-script was not found at the location that's specified in the **VMSnapshotScriptPluginConfig.json** config file.</span></span> |   <span data-ttu-id="b2e6f-171">Asegúrese de que el script anterior está en la ruta de acceso especificada en el archivo de configuración para garantizar la realización de copias de seguridad coherentes con la aplicación.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-171">Make sure that pre-script is present at the path that's specified in the config file to ensure application-consistent backup.</span></span>|
| <span data-ttu-id="b2e6f-172">Post-ScriptNotFound</span><span class="sxs-lookup"><span data-stu-id="b2e6f-172">Post-ScriptNotFound</span></span> | <span data-ttu-id="b2e6f-173">No se encontró el script posterior en la ubicación especificada en el archivo de configuración **VMSnapshotScriptPluginConfig.json**.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-173">The post-script wasn't found at the location that's specified in the **VMSnapshotScriptPluginConfig.json** config file.</span></span> |   <span data-ttu-id="b2e6f-174">Asegúrese de que el script posterior está en la ruta de acceso especificada en el archivo de configuración para garantizar la realización de copias de seguridad coherentes con la aplicación.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-174">Make sure that post-script is present at the path that's specified in the config file to ensure application-consistent backup.</span></span>|
| <span data-ttu-id="b2e6f-175">IncorrectPluginhostFile</span><span class="sxs-lookup"><span data-stu-id="b2e6f-175">IncorrectPluginhostFile</span></span> | <span data-ttu-id="b2e6f-176">El archivo de **Pluginhost** que se incluye con la extensión VmSnapshotLinux está dañado por lo que no se puede ejecutar el script anterior ni el posterior y la copia de seguridad no será coherente con la aplicación.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-176">The **Pluginhost** file, which comes with the VmSnapshotLinux extension, is corrupted, so pre-script and post-script cannot run and the backup won't be application-consistent.</span></span> | <span data-ttu-id="b2e6f-177">Desinstale la extensión **VmSnapshotLinux**. Esta se volverá a instalar automáticamente con la siguiente copia de seguridad para solucionar el problema.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-177">Uninstall the **VmSnapshotLinux** extension, and it will automatically be reinstalled with the next backup to fix the problem.</span></span> |
| <span data-ttu-id="b2e6f-178">IncorrectJSONConfigFile</span><span class="sxs-lookup"><span data-stu-id="b2e6f-178">IncorrectJSONConfigFile</span></span> | <span data-ttu-id="b2e6f-179">El archivo **VMSnapshotScriptPluginConfig.json** es incorrecto por lo que no se puede ejecutar el script anterior ni el posterior y la copia de seguridad no será coherente con la aplicación.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-179">The **VMSnapshotScriptPluginConfig.json** file is incorrect, so pre-script and post-script cannot run and the backup won't be application-consistent.</span></span> | <span data-ttu-id="b2e6f-180">Descargue la copia de [GitHub](https://github.com/MicrosoftAzureBackup/VMSnapshotPluginConfig) y configúrela de nuevo.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-180">Download the copy from [GitHub](https://github.com/MicrosoftAzureBackup/VMSnapshotPluginConfig) and configure it again.</span></span> |
| <span data-ttu-id="b2e6f-181">InsufficientPermissionforPre-Script</span><span class="sxs-lookup"><span data-stu-id="b2e6f-181">InsufficientPermissionforPre-Script</span></span> | <span data-ttu-id="b2e6f-182">Para ejecutar scripts, el usuario "raíz" debe ser el propietario del archivo y este debe tener permisos "700", es decir, solo el propietario tiene permisos de "lectura", "escritura" y "ejecución".</span><span class="sxs-lookup"><span data-stu-id="b2e6f-182">For running scripts, "root" user should be the owner of the file and the file should have “700” permissions (that is, only "owner" should have “read”, “write”, and “execute” permissions).</span></span> | <span data-ttu-id="b2e6f-183">Asegúrese de que el usuario "raíz" es el "propietario" del archivo de script y que solo el "propietario" tiene permisos de "lectura", "escritura" y "ejecución".</span><span class="sxs-lookup"><span data-stu-id="b2e6f-183">Make sure “root” user is the “owner” of the script file and that only "owner" has “read”, “write” and “execute” permissions.</span></span> |
| <span data-ttu-id="b2e6f-184">InsufficientPermissionforPost-Script</span><span class="sxs-lookup"><span data-stu-id="b2e6f-184">InsufficientPermissionforPost-Script</span></span> | <span data-ttu-id="b2e6f-185">Para ejecutar scripts, el usuario "raíz" debe ser el propietario del archivo y este debe tener permisos "700", es decir, solo el "propietario" tiene permisos de "lectura", "escritura" y "ejecución".</span><span class="sxs-lookup"><span data-stu-id="b2e6f-185">For running scripts, root user should be the owner of the file and the file should have “700” permissions (that is, only "owner" should have “read”, “write”, and “execute” permissions).</span></span> | <span data-ttu-id="b2e6f-186">Asegúrese de que el usuario "raíz" es el "propietario" del archivo de script y que solo el "propietario" tiene permisos de "lectura", "escritura" y "ejecución".</span><span class="sxs-lookup"><span data-stu-id="b2e6f-186">Make sure “root” user is the “owner” of the script file and that only "owner" has “read”, “write” and “execute” permissions.</span></span> |
| <span data-ttu-id="b2e6f-187">Pre-ScriptTimeout</span><span class="sxs-lookup"><span data-stu-id="b2e6f-187">Pre-ScriptTimeout</span></span> | <span data-ttu-id="b2e6f-188">La ejecución del script anterior de la copia de seguridad coherente con la aplicación ha superado el tiempo de espera.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-188">The execution of the application-consistent backup pre-script timed-out.</span></span> | <span data-ttu-id="b2e6f-189">Compruebe el script y aumente el tiempo de espera en el archivo **VMSnapshotScriptPluginConfig.json** situado en **/etc/azure**.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-189">Check the script and increase the timeout in the **VMSnapshotScriptPluginConfig.json** file that's located at **/etc/azure**.</span></span> |
| <span data-ttu-id="b2e6f-190">Post-ScriptTimeout</span><span class="sxs-lookup"><span data-stu-id="b2e6f-190">Post-ScriptTimeout</span></span> | <span data-ttu-id="b2e6f-191">La ejecución del script posterior de la copia de seguridad coherente con la aplicación ha superado el tiempo de espera.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-191">The execution of the application-consistent backup post-script timed out.</span></span> | <span data-ttu-id="b2e6f-192">Compruebe el script y aumente el tiempo de espera en el archivo **VMSnapshotScriptPluginConfig.json** situado en **/etc/azure**.</span><span class="sxs-lookup"><span data-stu-id="b2e6f-192">Check the script and increase the timeout in the **VMSnapshotScriptPluginConfig.json** file that's located at **/etc/azure**.</span></span> |

## <a name="next-steps"></a><span data-ttu-id="b2e6f-193">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="b2e6f-193">Next steps</span></span>
[<span data-ttu-id="b2e6f-194">Configuración de la copia de seguridad en un almacén de Recovery Services</span><span class="sxs-lookup"><span data-stu-id="b2e6f-194">Configure VM backup to a Recovery Services vault</span></span>](https://docs.microsoft.com/azure/backup/backup-azure-arm-vms)
