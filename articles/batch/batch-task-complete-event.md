---
title: Evento completo de tarea de Azure Batch | Microsoft Docs
description: Referencia del evento completo de tarea de Batch.
services: batch
author: tamram
manager: timlt
ms.assetid: 
ms.service: batch
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: vm-windows
ms.workload: big-compute
ms.date: 04/20/2017
ms.author: tamram
ms.openlocfilehash: 015adf7dbc47c29a78df4e4889b2ee1ddcccdd8e
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 07/11/2017
---
# <a name="task-complete-event"></a><span data-ttu-id="3f253-103">Evento de tarea completada</span><span class="sxs-lookup"><span data-stu-id="3f253-103">Task complete event</span></span>

 <span data-ttu-id="3f253-104">Este evento se emite una vez que se completa una tarea, independientemente del código de salida.</span><span class="sxs-lookup"><span data-stu-id="3f253-104">This event is emitted once a task is completed, regardless of the exit code.</span></span> <span data-ttu-id="3f253-105">Este evento se puede usar para determinar la duración de una tarea, dónde se ejecutó y si se reintentó.</span><span class="sxs-lookup"><span data-stu-id="3f253-105">This event can be used to determine the duration of a task, where the task ran, and whether it was retried.</span></span>


 <span data-ttu-id="3f253-106">En el ejemplo siguiente se muestra el cuerpo de un evento de finalización de tarea completada.</span><span class="sxs-lookup"><span data-stu-id="3f253-106">The following example shows the body of a task complete event.</span></span>

```
{
    "jobId": "job-0000000001",
    "id": "task-5",
    "taskType": "User",
    "systemTaskVersion": 0,
    "nodeInfo": {
        "poolId": "pool-001",
        "nodeId": "tvm-257509324_1-20160908t162728z"
    },
    "multiInstanceSettings": {
        "numberOfInstances": 1
    },
    "constraints": {
        "maxTaskRetryCount": 2
    },
    "executionInfo": {
        "startTime": "2016-09-08T16:32:23.799Z",
        "endTime": "2016-09-08T16:34:00.666Z",
        "exitCode": 0,
        "retryCount": 0,
        "requeueCount": 0
    }
}
```

|<span data-ttu-id="3f253-107">Nombre del elemento</span><span class="sxs-lookup"><span data-stu-id="3f253-107">Element name</span></span>|<span data-ttu-id="3f253-108">Tipo</span><span class="sxs-lookup"><span data-stu-id="3f253-108">Type</span></span>|<span data-ttu-id="3f253-109">Notas</span><span class="sxs-lookup"><span data-stu-id="3f253-109">Notes</span></span>|
|------------------|----------|-----------|
|<span data-ttu-id="3f253-110">jobId</span><span class="sxs-lookup"><span data-stu-id="3f253-110">jobId</span></span>|<span data-ttu-id="3f253-111">String</span><span class="sxs-lookup"><span data-stu-id="3f253-111">String</span></span>|<span data-ttu-id="3f253-112">Identificador del trabajo que contiene la tarea.</span><span class="sxs-lookup"><span data-stu-id="3f253-112">The id of the job containing the task.</span></span>|
|<span data-ttu-id="3f253-113">id</span><span class="sxs-lookup"><span data-stu-id="3f253-113">id</span></span>|<span data-ttu-id="3f253-114">String</span><span class="sxs-lookup"><span data-stu-id="3f253-114">String</span></span>|<span data-ttu-id="3f253-115">Identificador de la tarea.</span><span class="sxs-lookup"><span data-stu-id="3f253-115">The id of the task.</span></span>|
|<span data-ttu-id="3f253-116">taskType</span><span class="sxs-lookup"><span data-stu-id="3f253-116">taskType</span></span>|<span data-ttu-id="3f253-117">String</span><span class="sxs-lookup"><span data-stu-id="3f253-117">String</span></span>|<span data-ttu-id="3f253-118">Tipo de la tarea.</span><span class="sxs-lookup"><span data-stu-id="3f253-118">The type of the task.</span></span> <span data-ttu-id="3f253-119">Puede ser "JobManager", que indica que es una tarea del administrador de trabajos, o "User", que indica que no lo es.</span><span class="sxs-lookup"><span data-stu-id="3f253-119">This can either be 'JobManager' indicating it is a job manager task or 'User' indicating it is not a job manager task.</span></span> <span data-ttu-id="3f253-120">Este evento no se emite para tareas de preparación de trabajos, tareas de liberación de trabajo ni tareas de inicio.</span><span class="sxs-lookup"><span data-stu-id="3f253-120">This event is not emitted for job preparation tasks, job release tasks or start tasks.</span></span>|
|<span data-ttu-id="3f253-121">systemTaskVersion</span><span class="sxs-lookup"><span data-stu-id="3f253-121">systemTaskVersion</span></span>|<span data-ttu-id="3f253-122">Int32</span><span class="sxs-lookup"><span data-stu-id="3f253-122">Int32</span></span>|<span data-ttu-id="3f253-123">Se trata del contador interno de reintentos de una tarea.</span><span class="sxs-lookup"><span data-stu-id="3f253-123">This is the internal retry counter on a task.</span></span> <span data-ttu-id="3f253-124">De manera interna, el servicio de Batch puede reintentar una tarea para tener en cuenta los problemas transitorios.</span><span class="sxs-lookup"><span data-stu-id="3f253-124">Internally the Batch service can retry a task to account for transient issues.</span></span> <span data-ttu-id="3f253-125">Estos problemas pueden incluir errores internos de programación o intentos de recuperación a partir de nodos de proceso en estado no válido.</span><span class="sxs-lookup"><span data-stu-id="3f253-125">These issues can include internal scheduling errors or attempts to recover from compute nodes in a bad state.</span></span>|
|[<span data-ttu-id="3f253-126">nodeInfo</span><span class="sxs-lookup"><span data-stu-id="3f253-126">nodeInfo</span></span>](#nodeInfo)|<span data-ttu-id="3f253-127">Tipo complejo</span><span class="sxs-lookup"><span data-stu-id="3f253-127">Complex Type</span></span>|<span data-ttu-id="3f253-128">Contiene información sobre el nodo de ejecución en que se ejecutó la tarea.</span><span class="sxs-lookup"><span data-stu-id="3f253-128">Contains information about the compute node on which the task ran.</span></span>|
|[<span data-ttu-id="3f253-129">multiInstanceSettings</span><span class="sxs-lookup"><span data-stu-id="3f253-129">multiInstanceSettings</span></span>](#multiInstanceSettings)|<span data-ttu-id="3f253-130">Tipo complejo</span><span class="sxs-lookup"><span data-stu-id="3f253-130">Complex Type</span></span>|<span data-ttu-id="3f253-131">Especifica que la tarea es una tarea de instancias múltiples que requiere varios nodos de proceso.</span><span class="sxs-lookup"><span data-stu-id="3f253-131">Specifies that the task is a Multi-Instance Task requiring multiple compute nodes.</span></span>  <span data-ttu-id="3f253-132">Consulte [multiInstanceSettings](https://docs.microsoft.com/rest/api/batchservice/get-information-about-a-task) para detalles.</span><span class="sxs-lookup"><span data-stu-id="3f253-132">See [multiInstanceSettings](https://docs.microsoft.com/rest/api/batchservice/get-information-about-a-task) for details.</span></span>|
|[<span data-ttu-id="3f253-133">constraints</span><span class="sxs-lookup"><span data-stu-id="3f253-133">constraints</span></span>](#constraints)|<span data-ttu-id="3f253-134">Tipo complejo</span><span class="sxs-lookup"><span data-stu-id="3f253-134">Complex Type</span></span>|<span data-ttu-id="3f253-135">Restricciones de ejecución que se aplican a esta tarea.</span><span class="sxs-lookup"><span data-stu-id="3f253-135">The execution constraints that apply to this task.</span></span>|
|[<span data-ttu-id="3f253-136">executionInfo</span><span class="sxs-lookup"><span data-stu-id="3f253-136">executionInfo</span></span>](#executionInfo)|<span data-ttu-id="3f253-137">Tipo complejo</span><span class="sxs-lookup"><span data-stu-id="3f253-137">Complex Type</span></span>|<span data-ttu-id="3f253-138">Contiene información sobre la ejecución de la tarea.</span><span class="sxs-lookup"><span data-stu-id="3f253-138">Contains information about the execution of the task.</span></span>|

###  <span data-ttu-id="3f253-139"><a name="nodeInfo"></a> nodeInfo</span><span class="sxs-lookup"><span data-stu-id="3f253-139"><a name="nodeInfo"></a> nodeInfo</span></span>

|<span data-ttu-id="3f253-140">Nombre del elemento</span><span class="sxs-lookup"><span data-stu-id="3f253-140">Element name</span></span>|<span data-ttu-id="3f253-141">Tipo</span><span class="sxs-lookup"><span data-stu-id="3f253-141">Type</span></span>|<span data-ttu-id="3f253-142">Notas</span><span class="sxs-lookup"><span data-stu-id="3f253-142">Notes</span></span>|
|------------------|----------|-----------|
|<span data-ttu-id="3f253-143">poolId</span><span class="sxs-lookup"><span data-stu-id="3f253-143">poolId</span></span>|<span data-ttu-id="3f253-144">String</span><span class="sxs-lookup"><span data-stu-id="3f253-144">String</span></span>|<span data-ttu-id="3f253-145">Identificador del grupo en que se ejecutó la tarea.</span><span class="sxs-lookup"><span data-stu-id="3f253-145">The id of the pool on which the task ran.</span></span>|
|<span data-ttu-id="3f253-146">nodeId</span><span class="sxs-lookup"><span data-stu-id="3f253-146">nodeId</span></span>|<span data-ttu-id="3f253-147">String</span><span class="sxs-lookup"><span data-stu-id="3f253-147">String</span></span>|<span data-ttu-id="3f253-148">Identificador del nodo en que se ejecutó la tarea.</span><span class="sxs-lookup"><span data-stu-id="3f253-148">The id of the node on which the task ran.</span></span>|

###  <span data-ttu-id="3f253-149"><a name="multiInstanceSettings"></a> multiInstanceSettings</span><span class="sxs-lookup"><span data-stu-id="3f253-149"><a name="multiInstanceSettings"></a> multiInstanceSettings</span></span>

|<span data-ttu-id="3f253-150">Nombre del elemento</span><span class="sxs-lookup"><span data-stu-id="3f253-150">Element name</span></span>|<span data-ttu-id="3f253-151">Tipo</span><span class="sxs-lookup"><span data-stu-id="3f253-151">Type</span></span>|<span data-ttu-id="3f253-152">Notas</span><span class="sxs-lookup"><span data-stu-id="3f253-152">Notes</span></span>|
|------------------|----------|-----------|
|<span data-ttu-id="3f253-153">numberOfInstances</span><span class="sxs-lookup"><span data-stu-id="3f253-153">numberOfInstances</span></span>|<span data-ttu-id="3f253-154">Int32</span><span class="sxs-lookup"><span data-stu-id="3f253-154">Int32</span></span>|<span data-ttu-id="3f253-155">Número de nodos de proceso que requiere la tarea.</span><span class="sxs-lookup"><span data-stu-id="3f253-155">The number of compute nodes required by the task.</span></span>|

###  <span data-ttu-id="3f253-156"><a name="constraints"></a> constraints</span><span class="sxs-lookup"><span data-stu-id="3f253-156"><a name="constraints"></a> constraints</span></span>

|<span data-ttu-id="3f253-157">Nombre del elemento</span><span class="sxs-lookup"><span data-stu-id="3f253-157">Element name</span></span>|<span data-ttu-id="3f253-158">Tipo</span><span class="sxs-lookup"><span data-stu-id="3f253-158">Type</span></span>|<span data-ttu-id="3f253-159">Notas</span><span class="sxs-lookup"><span data-stu-id="3f253-159">Notes</span></span>|
|------------------|----------|-----------|
|<span data-ttu-id="3f253-160">maxTaskRetryCount</span><span class="sxs-lookup"><span data-stu-id="3f253-160">maxTaskRetryCount</span></span>|<span data-ttu-id="3f253-161">Int32</span><span class="sxs-lookup"><span data-stu-id="3f253-161">Int32</span></span>|<span data-ttu-id="3f253-162">Número máximo de veces que se puede reintentar la tarea.</span><span class="sxs-lookup"><span data-stu-id="3f253-162">The maximum number of times the task may be retried.</span></span> <span data-ttu-id="3f253-163">El servicio de Batch reintenta una tarea su el código de salida es distinto de cero.</span><span class="sxs-lookup"><span data-stu-id="3f253-163">The Batch service retries a task if its exit code is nonzero.</span></span><br /><br /> <span data-ttu-id="3f253-164">Tenga en cuenta que este valor controla específicamente el número de reintentos.</span><span class="sxs-lookup"><span data-stu-id="3f253-164">Note that this value specifically controls the number of retries.</span></span> <span data-ttu-id="3f253-165">El servicio de Batch intentará una vez la tarea y podría reintentarla hasta alcanzar este límite.</span><span class="sxs-lookup"><span data-stu-id="3f253-165">The Batch service will try the task once, and may then retry up to this limit.</span></span> <span data-ttu-id="3f253-166">Por ejemplo, si el conteo de reintentos máximo es 3, Batch intenta una tarea hasta 4 veces (un intento inicial y 3 reintentos).</span><span class="sxs-lookup"><span data-stu-id="3f253-166">For example, if the maximum retry count is 3, Batch tries a task up to 4 times (one initial try and 3 retries).</span></span><br /><br /> <span data-ttu-id="3f253-167">Si el conteo de intentos máximo es 0, el servicio de Batch no reintenta las tareas.</span><span class="sxs-lookup"><span data-stu-id="3f253-167">If the maximum retry count is 0, the Batch service does not retry tasks.</span></span><br /><br /> <span data-ttu-id="3f253-168">Si el conteo de intentos máximo es -1, el servicio de Batch reintenta las tareas sin ningún límite.</span><span class="sxs-lookup"><span data-stu-id="3f253-168">If the maximum retry count is -1, the Batch service retries tasks without limit.</span></span><br /><br /> <span data-ttu-id="3f253-169">El valor predeterminado es 0 (sin ningún reintento).</span><span class="sxs-lookup"><span data-stu-id="3f253-169">The default value is 0 (no retries).</span></span>|

###  <span data-ttu-id="3f253-170"><a name="executionInfo"></a> executionInfo</span><span class="sxs-lookup"><span data-stu-id="3f253-170"><a name="executionInfo"></a> executionInfo</span></span>

|<span data-ttu-id="3f253-171">Nombre del elemento</span><span class="sxs-lookup"><span data-stu-id="3f253-171">Element name</span></span>|<span data-ttu-id="3f253-172">Tipo</span><span class="sxs-lookup"><span data-stu-id="3f253-172">Type</span></span>|<span data-ttu-id="3f253-173">Notas</span><span class="sxs-lookup"><span data-stu-id="3f253-173">Notes</span></span>|
|------------------|----------|-----------|
|<span data-ttu-id="3f253-174">startTime</span><span class="sxs-lookup"><span data-stu-id="3f253-174">startTime</span></span>|<span data-ttu-id="3f253-175">DateTime</span><span class="sxs-lookup"><span data-stu-id="3f253-175">DateTime</span></span>|<span data-ttu-id="3f253-176">Hora a la que empezó a ejecutarse la tarea.</span><span class="sxs-lookup"><span data-stu-id="3f253-176">The time at which the task started running.</span></span> <span data-ttu-id="3f253-177">"En ejecución" se refiere al estado **running**, por lo que si la tarea especifica archivos de recursos o paquetes de aplicación, la hora inicial refleja la hora a la que la tarea empezó a descargarlos o implementarlos.</span><span class="sxs-lookup"><span data-stu-id="3f253-177">'Running' corresponds to the **running** state, so if the task specifies resource files or application packages, then the start time reflects the time at which the task started downloading or deploying these.</span></span>  <span data-ttu-id="3f253-178">Si se reinició o reintentó la tarea, es la hora más reciente a la que comenzó a ejecutarse.</span><span class="sxs-lookup"><span data-stu-id="3f253-178">If the task has been restarted or retried, this is the most recent time at which the task started running.</span></span>|
|<span data-ttu-id="3f253-179">endTime</span><span class="sxs-lookup"><span data-stu-id="3f253-179">endTime</span></span>|<span data-ttu-id="3f253-180">DateTime</span><span class="sxs-lookup"><span data-stu-id="3f253-180">DateTime</span></span>|<span data-ttu-id="3f253-181">Hora a la que finalizó la tarea.</span><span class="sxs-lookup"><span data-stu-id="3f253-181">The time at which the task completed.</span></span>|
|<span data-ttu-id="3f253-182">exitCode</span><span class="sxs-lookup"><span data-stu-id="3f253-182">exitCode</span></span>|<span data-ttu-id="3f253-183">Int32</span><span class="sxs-lookup"><span data-stu-id="3f253-183">Int32</span></span>|<span data-ttu-id="3f253-184">Código de salida de la tarea.</span><span class="sxs-lookup"><span data-stu-id="3f253-184">The exit code of the task.</span></span>|
|<span data-ttu-id="3f253-185">retryCount</span><span class="sxs-lookup"><span data-stu-id="3f253-185">retryCount</span></span>|<span data-ttu-id="3f253-186">Int32</span><span class="sxs-lookup"><span data-stu-id="3f253-186">Int32</span></span>|<span data-ttu-id="3f253-187">Cantidad de veces que el servicio de Batch reintentó la tarea.</span><span class="sxs-lookup"><span data-stu-id="3f253-187">The number of times the task has been retried by the Batch service.</span></span> <span data-ttu-id="3f253-188">La tarea se reintenta si el código de salida es distinto de cero, hasta el valor MaxTaskRetryCount especificado.</span><span class="sxs-lookup"><span data-stu-id="3f253-188">The task is retried if it exits with a nonzero exit code, up to the specified MaxTaskRetryCount.</span></span>|
|<span data-ttu-id="3f253-189">requeueCount</span><span class="sxs-lookup"><span data-stu-id="3f253-189">requeueCount</span></span>|<span data-ttu-id="3f253-190">Int32</span><span class="sxs-lookup"><span data-stu-id="3f253-190">Int32</span></span>|<span data-ttu-id="3f253-191">Cantidad de veces que el servicio de Batch volvió a poner en cola la tarea como resultado de una solicitud de usuario.</span><span class="sxs-lookup"><span data-stu-id="3f253-191">The number of times the task has been requeued by the Batch service as the result of a user request.</span></span><br /><br /> <span data-ttu-id="3f253-192">Cuando el usuario quita nodos de un grupo (ya sea debido a que cambia o disminuye el tamaño del grupo), o bien cuando se deshabilita el trabajo, el usuario puede especificar que las tareas en ejecución en los nodos se vuelvan a poner en cola para su ejecución.</span><span class="sxs-lookup"><span data-stu-id="3f253-192">When the user removes nodes from a pool (by resizing or shrinking the pool) or when the job is being disabled, the user can specify that running tasks on the nodes be requeued for execution.</span></span> <span data-ttu-id="3f253-193">Este conteo hace un seguimiento de las veces en que la tarea se volvió a poner en cola por estos motivos.</span><span class="sxs-lookup"><span data-stu-id="3f253-193">This count tracks how many times the task has been requeued for these reasons.</span></span>|
