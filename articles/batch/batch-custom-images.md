---
title: "los grupos de Azure Batch aaaProvision de imágenes personalizadas | Documentos de Microsoft"
description: "Puede crear un lote de proceso de grupo desde una imagen personalizada tooprovision nodos que contienen software hello y los datos que necesita para la aplicación. Imágenes personalizadas son una manera eficaz las cargas de trabajo por lotes de tooconfigure proceso toorun de nodos."
services: batch
author: tamram
manager: timlt
ms.service: batch
ms.topic: article
ms.date: 08/07/2017
ms.author: tamram
ms.openlocfilehash: 5cb698ee90f7d3ec9ffe69fa4dc602132c3f7569
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="use-a-custom-image-toocreate-a-pool-of-virtual-machines"></a><span data-ttu-id="98f16-104">Usar un toocreate de imagen personalizada un grupo de máquinas virtuales</span><span class="sxs-lookup"><span data-stu-id="98f16-104">Use a custom image toocreate a pool of virtual machines</span></span>

<span data-ttu-id="98f16-105">Cuando se crea un grupo de máquinas virtuales en Azure Batch, especifique una imagen de máquina virtual (VM) que proporciona el sistema operativo de Hola para cada nodo de proceso en el grupo de Hola.</span><span class="sxs-lookup"><span data-stu-id="98f16-105">When you create a pool of virtual machines in Azure Batch, you specify a virtual machine (VM) image that provides hello operating system for each compute node in hello pool.</span></span> <span data-ttu-id="98f16-106">Es posible crear un grupo de máquinas virtuales ya sea con una imagen de Azure Marketplace o si se proporciona una imagen de VHD personalizada que se haya preparado.</span><span class="sxs-lookup"><span data-stu-id="98f16-106">You can create a pool of virtual machines either by using an Azure Marketplace image, or by providing a custom VHD image that you have prepared.</span></span> <span data-ttu-id="98f16-107">Al proporcionar una imagen personalizada, tiene control sobre la configuración del sistema operativo de hello en tiempo de Hola que está aprovisionado por cada nodo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="98f16-107">When you provide a custom image, you have control over how hello operating system is configured at hello time that each compute node is provisioned.</span></span> <span data-ttu-id="98f16-108">La imagen personalizada puede incluir aplicaciones así como nodo de ejecución de datos de referencia que están disponibles en hello en cuanto se aprovisiona.</span><span class="sxs-lookup"><span data-stu-id="98f16-108">Your custom image can also include applications and reference data that are available on hello compute node as soon as it is provisioned.</span></span>

<span data-ttu-id="98f16-109">Uso de una imagen personalizada puede ahorrarle tiempo para la obtención de nodos de proceso de la agrupación listo toorun la carga de trabajo por lotes.</span><span class="sxs-lookup"><span data-stu-id="98f16-109">Using a custom image can save you time in getting your pool's compute nodes ready toorun your Batch workload.</span></span> <span data-ttu-id="98f16-110">Aunque siempre puede utilizar una imagen de Azure Marketplace e instalar el software en cada nodo de proceso una vez que se haya aprovisionado, este enfoque puede ser menos eficiente que usar una imagen personalizada.</span><span class="sxs-lookup"><span data-stu-id="98f16-110">While you can always use an Azure Marketplace image and install software on each compute node after it has been provisioned, this approach may be less efficient than using a custom image.</span></span> 

<span data-ttu-id="98f16-111">Algunas razones toouse una imagen personalizada que se configura para su escenario incluyen la necesidad de:</span><span class="sxs-lookup"><span data-stu-id="98f16-111">Some reasons toouse a custom image that is configured for your scenario include needing to:</span></span>

- <span data-ttu-id="98f16-112">**Configurar el sistema operativo de hello (SO)** se puede realizar ninguna configuración especial del sistema operativo de hello en imagen personalizada de Hola.</span><span class="sxs-lookup"><span data-stu-id="98f16-112">**Configure hello operating system (OS)** Any special configuration of hello operating system can be performed on hello custom image.</span></span> 
- <span data-ttu-id="98f16-113">**Instalar aplicaciones de gran tamaño.**</span><span class="sxs-lookup"><span data-stu-id="98f16-113">**Install large applications.**</span></span> <span data-ttu-id="98f16-114">Instalar aplicaciones en una imagen personalizada es más eficaz que instalarlas en cada nodo de ejecución una vez que se aprovisiona.</span><span class="sxs-lookup"><span data-stu-id="98f16-114">Installing applications on a custom image is more efficient than installing them on each compute node after it is provisioned.</span></span>
- <span data-ttu-id="98f16-115">**Copiar cantidades importantes de datos.**</span><span class="sxs-lookup"><span data-stu-id="98f16-115">**Copy significant amounts of data.**</span></span> <span data-ttu-id="98f16-116">Si los datos de hello toohello copiada de imagen personalizada, solo necesita toobe copiado una vez, en lugar de nodo de proceso tooeach, permite ahorrar tiempo y ancho de banda.</span><span class="sxs-lookup"><span data-stu-id="98f16-116">If hello data is copied toohello custom image, it only needs toobe copied once, rather than tooeach compute node, saving time and bandwidth.</span></span>
- <span data-ttu-id="98f16-117">**Reinicie Hola VM durante el proceso de instalación de Hola.**</span><span class="sxs-lookup"><span data-stu-id="98f16-117">**Reboot hello VM during hello setup process.**</span></span> <span data-ttu-id="98f16-118">Hola reiniciándose VM puede ser un proceso lento, especialmente si tiene un número de nodos de proceso.</span><span class="sxs-lookup"><span data-stu-id="98f16-118">Rebooting hello VM can be a time-consuming process, especially if you have a number of compute nodes.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="98f16-119">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="98f16-119">Prerequisites</span></span>

- <span data-ttu-id="98f16-120">**Una cuenta de lote creada con el modo de asignación de grupo de suscripción de usuario de Hola.**</span><span class="sxs-lookup"><span data-stu-id="98f16-120">**A Batch account created with hello User Subscription pool allocation mode.**</span></span> <span data-ttu-id="98f16-121">toouse un grupos de máquina Virtual de tooprovision de imagen personalizada, crear su cuenta de lote con hello suscripción usuario [modo de asignación de grupo](batch-api-basics.md#pool-allocation-mode).</span><span class="sxs-lookup"><span data-stu-id="98f16-121">toouse a custom image tooprovision Virtual Machine pools, create your Batch account with hello User Subscription [pool allocation mode](batch-api-basics.md#pool-allocation-mode).</span></span> <span data-ttu-id="98f16-122">Con este modo, se asignan a grupos de proceso por lotes en una suscripción de Hola donde reside la cuenta de hello.</span><span class="sxs-lookup"><span data-stu-id="98f16-122">With this mode, Batch pools are allocated into hello subscription where hello account resides.</span></span> <span data-ttu-id="98f16-123">Vea hello [cuenta](batch-api-basics.md#account) sección [paralelas a gran escala de desarrollar soluciones con el lote de proceso](batch-api-basics.md) para obtener información acerca de cómo establecer el modo de asignación de grupo de hello cuando se crea una cuenta de lote.</span><span class="sxs-lookup"><span data-stu-id="98f16-123">See hello [Account](batch-api-basics.md#account) section in [Develop large-scale parallel compute solutions with Batch](batch-api-basics.md) for information on setting hello pool allocation mode when you create a Batch account.</span></span>

- <span data-ttu-id="98f16-124">**Una cuenta de Azure Storage.**</span><span class="sxs-lookup"><span data-stu-id="98f16-124">**An Azure Storage account.**</span></span> <span data-ttu-id="98f16-125">toocreate un grupo de máquinas virtuales mediante una imagen personalizada, se necesita una cuenta de almacenamiento de Azure estándar, de propósito general en hello misma suscripción y región.</span><span class="sxs-lookup"><span data-stu-id="98f16-125">toocreate a pool of virtual machines using a custom image, you need a standard, general-purpose Azure Storage account in hello same subscription and region.</span></span> <span data-ttu-id="98f16-126">Si crea una imagen personalizada de una VM de Azure, se copiará cuenta de almacenamiento de toohello de hello imagen donde reside el disco del sistema operativo de la máquina virtual de hello y no necesitará toocreate una cuenta de almacenamiento independiente.</span><span class="sxs-lookup"><span data-stu-id="98f16-126">If you create a custom image from an Azure VM, then you will copy hello image toohello storage account where hello VM's OS disk resides, and you won't need toocreate a separate storage account.</span></span> 
    
## <a name="prepare-a-custom-image"></a><span data-ttu-id="98f16-127">Preparación de una imagen personalizada</span><span class="sxs-lookup"><span data-stu-id="98f16-127">Prepare a custom image</span></span>

<span data-ttu-id="98f16-128">tooprepare una imagen personalizada para su uso con el lote, debe generalizar una instalación existente de Linux o Windows.</span><span class="sxs-lookup"><span data-stu-id="98f16-128">tooprepare a custom image for use with Batch, you must generalize an existing installation of Linux or Windows.</span></span> <span data-ttu-id="98f16-129">Al generalizar una instalación de sistema operativo, quita la información específica de la máquina.</span><span class="sxs-lookup"><span data-stu-id="98f16-129">Generalizing an operating system installation removes machine-specific information.</span></span> <span data-ttu-id="98f16-130">resultado de Hello es una imagen que se puede instalar en otros equipos o máquinas virtuales.</span><span class="sxs-lookup"><span data-stu-id="98f16-130">hello result is an image that can be installed on other computers or VMs.</span></span>  

> [!IMPORTANT]
> <span data-ttu-id="98f16-131">Proceso por lotes no admite actualmente el uso de Azure administrados tooprovision un grupo de imágenes.</span><span class="sxs-lookup"><span data-stu-id="98f16-131">Batch does not currently support using Azure managed images tooprovision a pool.</span></span> <span data-ttu-id="98f16-132">imagen personalizada Hello utilizarás tooprovision que un grupo debe almacenarse en el almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="98f16-132">hello custom image you use tooprovision a pool must be stored in Azure Storage.</span></span> 
>
> <span data-ttu-id="98f16-133">Al preparar la imagen personalizada, tenga en Hola de cuenta siguientes puntos:</span><span class="sxs-lookup"><span data-stu-id="98f16-133">When preparing your custom image, keep in mind hello following points:</span></span>
> - <span data-ttu-id="98f16-134">Asegurarse de esa imagen del sistema operativo base Hola usar tooprovision las agrupaciones de lote no se cualquiera previamente instalado las extensiones de Azure, como la extensión de Script personalizado de Hola.</span><span class="sxs-lookup"><span data-stu-id="98f16-134">Ensure that hello base OS image you use tooprovision your Batch pools does not have any pre-installed Azure extensions, such as hello Custom Script extension.</span></span> <span data-ttu-id="98f16-135">Si la imagen de hello contiene una extensión previamente instalada, Azure puede encontrar problemas implementar Hola máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="98f16-135">If hello image contains a pre-installed extension, Azure may encounter problems deploying hello VM.</span></span>
> - <span data-ttu-id="98f16-136">Asegúrese de que esa imagen del sistema operativo base Hola que proporcionan usa Hola unidad temporal de forma predeterminada, tal y como hello agente de nodo de lote actualmente espera como unidad temporal predeterminada Hola.</span><span class="sxs-lookup"><span data-stu-id="98f16-136">Ensure that hello base OS image you provide uses hello default temp drive, as hello Batch node agent currently expects hello default temp drive.</span></span>
>
>

<span data-ttu-id="98f16-137">Puede usar cualquier imagen preparada de Windows o Linux existente como imagen personalizada.</span><span class="sxs-lookup"><span data-stu-id="98f16-137">You can use any existing prepared Windows or Linux image as a custom image.</span></span> <span data-ttu-id="98f16-138">Por ejemplo, si desea toouse una imagen local, cargar la cuenta de almacenamiento de Azure de tooan de imagen de Hola que se encuentra en Hola misma suscripción y región que la cuenta de proceso por lotes mediante [AzCopy](../storage/storage-use-azcopy.md) u otra herramienta de carga.</span><span class="sxs-lookup"><span data-stu-id="98f16-138">For example, if you wish toouse a local image, then upload hello image tooan Azure Storage account that is in hello same subscription and region as your Batch account using [AzCopy](../storage/storage-use-azcopy.md) or another upload tool.</span></span>

<span data-ttu-id="98f16-139">También puede preparar una imagen personalizada a partir de una máquina virtual de Azure nueva o existente.</span><span class="sxs-lookup"><span data-stu-id="98f16-139">You can also prepare a custom image from a new or existing Azure VM.</span></span> <span data-ttu-id="98f16-140">Si va a crear una nueva máquina virtual, puede utilizar una imagen de Azure Marketplace como imagen base hello para la imagen personalizada y, a continuación, personalizarlo.</span><span class="sxs-lookup"><span data-stu-id="98f16-140">If you are creating a new VM, you can use an Azure Marketplace image as hello base image for your custom image and then customize it.</span></span> <span data-ttu-id="98f16-141">imagen base de toocustomize hello, crear una máquina virtual de Azure y agregue sus aplicaciones o datos tooit.</span><span class="sxs-lookup"><span data-stu-id="98f16-141">toocustomize hello base image, create an Azure VM and add your applications or data tooit.</span></span> <span data-ttu-id="98f16-142">A continuación, generalizar Hola VM tooserve como la imagen personalizada y guárdelo tooAzure almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="98f16-142">Then generalize hello VM tooserve as your custom image and save it tooAzure Storage.</span></span> 

<span data-ttu-id="98f16-143">tooprepare una imagen personalizada desde una máquina virtual de Azure, siga estos pasos:</span><span class="sxs-lookup"><span data-stu-id="98f16-143">tooprepare a custom image from an Azure VM, follow these steps:</span></span>

1. <span data-ttu-id="98f16-144">Cree una máquina virtual de Azure **no administrada** a partir de una imagen de Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="98f16-144">Create an **unmanaged** Azure VM from an Azure Marketplace image.</span></span> <span data-ttu-id="98f16-145">Azure Marketplace incluye imágenes para [Windows](../virtual-machines/windows/quick-create-portal.md) y [Linux](../virtual-machines/linux/quick-create-portal.md).</span><span class="sxs-lookup"><span data-stu-id="98f16-145">Azure Marketplace includes images for both [Windows](../virtual-machines/windows/quick-create-portal.md) and [Linux](../virtual-machines/linux/quick-create-portal.md).</span></span>
    
    <span data-ttu-id="98f16-146">En paso 3 de hello proceso de creación de la máquina virtual, asegúrese de que selecciona **No** para **almacenamiento: utilizar discos administrados** opción.</span><span class="sxs-lookup"><span data-stu-id="98f16-146">On step 3 of hello VM creation process, make sure that you select **No** for **Storage: Use Managed Disks** option.</span></span> <span data-ttu-id="98f16-147">También tome nota del nombre de cuenta de almacenamiento de hello para el disco del sistema operativo de la máquina virtual de hello, tal y como esta cuenta de almacenamiento también es donde Azure guardará la imagen personalizada:</span><span class="sxs-lookup"><span data-stu-id="98f16-147">Also take note of hello storage account name for hello VM's OS disk, as this storage account is also where Azure will save your custom image:</span></span>

    ![Crear una VM no administrado y el nombre de la cuenta de almacenamiento de nota Hola](media/batch-custom-images/vm-create-storage.png)
 
2. <span data-ttu-id="98f16-149">Completar el proceso de Hola de creación de la máquina virtual y espere toobe asignada por Azure.</span><span class="sxs-lookup"><span data-stu-id="98f16-149">Complete hello process of creating your VM, and wait for it toobe allocated by Azure.</span></span> <span data-ttu-id="98f16-150">Aquí es una imagen que muestra una máquina virtual en el portal de Azure en estado de ejecución de Hola Hola:</span><span class="sxs-lookup"><span data-stu-id="98f16-150">Here's an image that shows a VM in hello Azure portal in hello running state:</span></span>

    ![Creación de una máquina virtual a partir de una imagen de Marketplace](media/batch-custom-images/vm-status-running.png)

3. <span data-ttu-id="98f16-152">Una vez Hola máquina virtual se está ejecutando, conéctese tooit a través de RDP (para Windows) o SSH (para Linux).</span><span class="sxs-lookup"><span data-stu-id="98f16-152">Once hello VM is running, connect tooit via RDP (for Windows) or SSH (for Linux).</span></span> <span data-ttu-id="98f16-153">Instalar el software necesario o copiar los datos que desee y, a continuación, generalizar Hola máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="98f16-153">Install any necessary software or copy desired data, and then generalize hello VM.</span></span> <span data-ttu-id="98f16-154">Siga los pasos de hello descritos en [generalizar Hola VM](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sa-copy-generalized.md#generalize-the-vm).</span><span class="sxs-lookup"><span data-stu-id="98f16-154">Follow hello steps described in [Generalize hello VM](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sa-copy-generalized.md#generalize-the-vm).</span></span> 
   
4. <span data-ttu-id="98f16-155">Siga los pasos de hello demasiado[sesión tooAzure PowerShell](../virtual-machines/windows/sa-copy-generalized.md#log-in-to-azure-powershell).</span><span class="sxs-lookup"><span data-stu-id="98f16-155">Follow hello steps too[Log in tooAzure PowerShell](../virtual-machines/windows/sa-copy-generalized.md#log-in-to-azure-powershell).</span></span> <span data-ttu-id="98f16-156">tooinstall PowerShell de Azure, consulte [información general de Azure PowerShell](https://docs.microsoft.com/powershell/azure/overview?view=azurermps-4.2.0).</span><span class="sxs-lookup"><span data-stu-id="98f16-156">tooinstall Azure PowerShell, see [Overview of Azure PowerShell](https://docs.microsoft.com/powershell/azure/overview?view=azurermps-4.2.0).</span></span> 

5. <span data-ttu-id="98f16-157">A continuación, siga los pasos de hello demasiado[Deallocate Hola VM y el conjunto Hola estado toogeneralized](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sa-copy-generalized#deallocate-the-vm-and-set-the-state-to-generalized).</span><span class="sxs-lookup"><span data-stu-id="98f16-157">Next, follow hello steps too[Deallocate hello VM and set hello state toogeneralized](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sa-copy-generalized#deallocate-the-vm-and-set-the-state-to-generalized).</span></span> 

    <span data-ttu-id="98f16-158">Hola portal de Azure, tenga en cuenta que Hola que se cancela la asignación de máquina virtual:</span><span class="sxs-lookup"><span data-stu-id="98f16-158">In hello Azure portal, notice that hello VM is deallocated:</span></span>

    ![Asegúrese de que Hola que se cancela la asignación de máquina virtual](media/batch-custom-images/vm-status-deallocated.png)

6.  <span data-ttu-id="98f16-160">Crear y guardar tooAzure de imagen de máquina virtual de hello almacenamiento con hello [AzureRmVMImage guardar](https://docs.microsoft.com/powershell/module/azurerm.compute/save-azurermvmimage) cmdlet de PowerShell.</span><span class="sxs-lookup"><span data-stu-id="98f16-160">Create and save hello VM image tooAzure Storage using hello [Save-AzureRmVMImage](https://docs.microsoft.com/powershell/module/azurerm.compute/save-azurermvmimage) PowerShell cmdlet.</span></span> <span data-ttu-id="98f16-161">Siga las instrucciones de hello descritas en [crear imagen de hello](../virtual-machines/windows/sa-copy-generalized.md#create-the-image).</span><span class="sxs-lookup"><span data-stu-id="98f16-161">Follow hello instructions described in [Create hello image](../virtual-machines/windows/sa-copy-generalized.md#create-the-image).</span></span>
    
    <span data-ttu-id="98f16-162">imagen de máquina virtual de Hola se guarda la cuenta de almacenamiento de Azure toohello creado al Hola VM, como se muestra en el paso 1 de este procedimiento.</span><span class="sxs-lookup"><span data-stu-id="98f16-162">hello VM image is saved toohello Azure Storage account created when hello VM was created, as shown in step 1 of this procedure.</span></span> <span data-ttu-id="98f16-163">Hola AzureRmVMImage guardar cmdlet guarda Hola imagen toohello **system** contenedor en esa cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="98f16-163">hello Save-AzureRmVMImage cmdlet saves hello image toohello **system** container in that storage account.</span></span> <span data-ttu-id="98f16-164">Hola `-DestinationContainername` parámetro designa un directorio virtual dentro de hello **system** contenedor.</span><span class="sxs-lookup"><span data-stu-id="98f16-164">hello `-DestinationContainername` parameter names a virtual directory within hello **system** container.</span></span> <span data-ttu-id="98f16-165">Hola `-VHDNamePrefix` parámetro especifica un prefijo de nombre de blob de Hola.</span><span class="sxs-lookup"><span data-stu-id="98f16-165">hello `-VHDNamePrefix` parameter specifies a prefix for hello blob name.</span></span> <span data-ttu-id="98f16-166">Este prefijo es el nombre del blob toohello antepuesto con un guión.</span><span class="sxs-lookup"><span data-stu-id="98f16-166">This prefix is prepended toohello blob name with a hyphen.</span></span> 

    <span data-ttu-id="98f16-167">Por ejemplo, supongamos que se llama AzureRmVMImage guardar con hello parámetros siguientes:</span><span class="sxs-lookup"><span data-stu-id="98f16-167">For example, suppose you call Save-AzureRmVMImage with hello following parameters:</span></span>  

        Save-AzureRmVMImage -ResourceGroupName sample-resource-group -Name vm-custom-image -DestinationContainerName batchimages -VHDNamePrefix custom -Path C:\Temp\Images\vm-custom-image.json

    <span data-ttu-id="98f16-168">se guarda la imagen resultante Hello toohello ubicación y nombre de blob que se muestra aquí:</span><span class="sxs-lookup"><span data-stu-id="98f16-168">hello resulting image is saved toohello location and blob name shown here:</span></span>

    ![Ubicación del VHD guardado en el contenedor de sistema](media/batch-custom-images/vhd-in-vm-storage-account.png)

    > [!NOTE]
    > <span data-ttu-id="98f16-170">Una máquina virtual no administrada de Azure crea varias cuentas de almacenamiento para distintos usos.</span><span class="sxs-lookup"><span data-stu-id="98f16-170">An Azure unmanaged VM creates several storage accounts for different purposes.</span></span> <span data-ttu-id="98f16-171">Si no anotó nombre Hola Hola del contenedor de almacenamiento para el disco de SO de hello cuando hello se creó la máquina virtual, buscar almacenamiento Hola asociado de cuenta que contiene Hola **system** contenedor.</span><span class="sxs-lookup"><span data-stu-id="98f16-171">If you did not note hello name of hello storage container for hello OS disk when hello VM was created, then find hello associated storage account that contains hello **system** container.</span></span> <span data-ttu-id="98f16-172">Navegar por hello **system** imagen de personalizado contenedor toofind Hola con valores de hello especificados para hello **AzureRmVMImage guardar** comando.</span><span class="sxs-lookup"><span data-stu-id="98f16-172">Navigate through hello **system** container toofind hello custom image using hello values you specified for hello **Save-AzureRmVMImage** command.</span></span>

## <a name="create-a-pool-from-a-custom-image-in-hello-portal"></a><span data-ttu-id="98f16-173">Crear un grupo de una imagen personalizada en el portal de Hola</span><span class="sxs-lookup"><span data-stu-id="98f16-173">Create a pool from a custom image in hello portal</span></span>

<span data-ttu-id="98f16-174">Una vez que guarde la imagen personalizada y conozca la ubicación, puede crear un grupo de Batch a partir de esa imagen.</span><span class="sxs-lookup"><span data-stu-id="98f16-174">Once you have saved your custom image and you know its location, you can create a Batch pool from that image.</span></span> <span data-ttu-id="98f16-175">Siga estos toocreate un grupo de pasos de hello portal de Azure:</span><span class="sxs-lookup"><span data-stu-id="98f16-175">Follow these steps toocreate a pool from hello Azure portal:</span></span>

1. <span data-ttu-id="98f16-176">Navegar por cuenta de lote tooyour Hola portal de Azure.</span><span class="sxs-lookup"><span data-stu-id="98f16-176">Navigate tooyour Batch account in hello Azure portal.</span></span> <span data-ttu-id="98f16-177">Esta cuenta debe ser en hello misma suscripción y región como almacenamiento de Hola de imagen personalizada de Hola que contiene la cuenta.</span><span class="sxs-lookup"><span data-stu-id="98f16-177">This account must be in hello same subscription and region as hello storage account containing hello custom image.</span></span> 
2. <span data-ttu-id="98f16-178">Hola **configuración** ventana en hello izquierdo, seleccione hello **grupos** elemento de menú.</span><span class="sxs-lookup"><span data-stu-id="98f16-178">In hello **Settings** window on hello left, select hello **Pools** menu item.</span></span>
3. <span data-ttu-id="98f16-179">Hola **grupos** (ventana), seleccione hello **agregar** comando.</span><span class="sxs-lookup"><span data-stu-id="98f16-179">In hello **Pools** window, select hello **Add** command.</span></span>
4. <span data-ttu-id="98f16-180">En hello **Agregar grupo** ventana, seleccione **imagen personalizada (Linux y Windows)** de hello **tipo de imagen** lista desplegable.</span><span class="sxs-lookup"><span data-stu-id="98f16-180">On hello **Add Pool** window, select **Custom Image (Linux/Windows)** from hello **Image Type** dropdown.</span></span> <span data-ttu-id="98f16-181">portal de Hello muestra hello **imagen personalizada** selector.</span><span class="sxs-lookup"><span data-stu-id="98f16-181">hello portal displays hello **Custom Image** picker.</span></span> <span data-ttu-id="98f16-182">Navegue toohello cuenta de almacenamiento donde se encuentra la imagen personalizada y seleccione Hola VHD deseado del contenedor de Hola.</span><span class="sxs-lookup"><span data-stu-id="98f16-182">Navigate toohello storage account where your custom image is located, and select hello desired VHD from hello container.</span></span> 
5. <span data-ttu-id="98f16-183">Seleccione Hola correcto **Publisher/oferta/Sku** para el disco duro virtual personalizado.</span><span class="sxs-lookup"><span data-stu-id="98f16-183">Select hello correct **Publisher/Offer/Sku** for your custom VHD.</span></span>
6. <span data-ttu-id="98f16-184">Especificar Hola restantes requiere configuración, incluidos hello **tamaño de nodo**, **dedicados nodos de destino**, y **bajo los nodos de prioridad**, así como cualquier deseado configuraciones opcionales.</span><span class="sxs-lookup"><span data-stu-id="98f16-184">Specify hello remaining required settings, including hello **Node size**, **Target dedicated nodes**, and **Low priority nodes**, as well as any desired optional settings.</span></span>

    <span data-ttu-id="98f16-185">Por ejemplo, para una imagen personalizada del centro de datos de Microsoft Windows Server 2016, Hola **Agregar grupo** ventana aparece como se muestra aquí:</span><span class="sxs-lookup"><span data-stu-id="98f16-185">For example, for a Microsoft Windows Server Datacenter 2016 custom image, hello **Add Pool** window appears as shown here:</span></span>

    ![Agregar grupo desde imagen personalizada de Windows](media/batch-custom-images/add-pool-custom-image.png)
  
<span data-ttu-id="98f16-187">toocheck si un grupo existente se basa en una imagen personalizada, vea hello **sistema operativo** propiedad en la sección de resumen de recursos de Hola de hello **grupo** ventana.</span><span class="sxs-lookup"><span data-stu-id="98f16-187">toocheck whether an existing pool is based on a custom image, see hello **Operating System** property in hello resource summary section of hello **Pool** window.</span></span> <span data-ttu-id="98f16-188">Si se ha creado el grupo de Hola desde una imagen personalizada, se establece demasiado**imagen de VM personalizada**.</span><span class="sxs-lookup"><span data-stu-id="98f16-188">If hello pool was created from a custom image, it is set too**Custom VM Image**.</span></span>

<span data-ttu-id="98f16-189">Todos los VHD personalizados asociados a un grupo se muestran en el grupo de hello **propiedades** ventana.</span><span class="sxs-lookup"><span data-stu-id="98f16-189">All custom VHDs associated with a pool are displayed on hello pool's **Properties** window.</span></span>
 
## <a name="next-steps"></a><span data-ttu-id="98f16-190">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="98f16-190">Next steps</span></span>

- <span data-ttu-id="98f16-191">Para información general más detallada acerca de Batch, consulte [Desarrollo de soluciones de procesos paralelos a gran escala con Batch](batch-api-basics.md).</span><span class="sxs-lookup"><span data-stu-id="98f16-191">For an in-depth overview of Batch, see [Develop large-scale parallel compute solutions with Batch](batch-api-basics.md).</span></span>
- <span data-ttu-id="98f16-192">Para obtener información acerca de cómo crear una cuenta de lote, consulte [crear una cuenta de lote con hello portal de Azure](batch-account-create-portal.md).</span><span class="sxs-lookup"><span data-stu-id="98f16-192">For information about creating a Batch account, see [Create a Batch account with hello Azure portal](batch-account-create-portal.md).</span></span>
