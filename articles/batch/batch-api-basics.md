---
title: aaaOverview del lote de Azure para desarrolladores | Documentos de Microsoft
description: "Obtenga información acerca de las características de Hola de servicio por lotes de Hola y sus API desde la perspectiva del desarrollo."
services: batch
documentationcenter: .net
author: tamram
manager: timlt
editor: 
ms.assetid: 416b95f8-2d7b-4111-8012-679b0f60d204
ms.service: batch
ms.devlang: multiple
ms.topic: get-started-article
ms.tgt_pltfrm: na
ms.workload: big-compute
ms.date: 06/28/2017
ms.author: tamram
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: 3da9d82572b28d05d1923166bd08c26725ca3316
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="develop-large-scale-parallel-compute-solutions-with-batch"></a><span data-ttu-id="10159-103">Desarrollo de soluciones de procesos paralelos a gran escala con Batch</span><span class="sxs-lookup"><span data-stu-id="10159-103">Develop large-scale parallel compute solutions with Batch</span></span>

<span data-ttu-id="10159-104">En esta información general de componentes principales de Hola de hello servicio Azure Batch, se describen las características de servicio principal de Hola y recursos que los desarrolladores de lote pueden usar paralelas a gran escala toobuild soluciones de proceso.</span><span class="sxs-lookup"><span data-stu-id="10159-104">In this overview of hello core components of hello Azure Batch service, we discuss hello primary service features and resources that Batch developers can use toobuild large-scale parallel compute solutions.</span></span>

<span data-ttu-id="10159-105">Si está desarrollando una aplicación distribuida de cálculo o de servicio que emite directa [API de REST] [ batch_rest_api] llamadas o si está usando uno de hello [SDK de lote](batch-apis-tools.md#azure-accounts-for-batch-development), va a utilizar muchos de los recursos de Hola y características que se describen en este artículo.</span><span class="sxs-lookup"><span data-stu-id="10159-105">Whether you're developing a distributed computational application or service that issues direct [REST API][batch_rest_api] calls or you're using one of hello [Batch SDKs](batch-apis-tools.md#azure-accounts-for-batch-development), you'll use many of hello resources and features discussed in this article.</span></span>

> [!TIP]
> <span data-ttu-id="10159-106">Para un nivel más alto Introducción toohello servicio por lotes, vea [conceptos básicos de Azure Batch](batch-technical-overview.md).</span><span class="sxs-lookup"><span data-stu-id="10159-106">For a higher-level introduction toohello Batch service, see [Basics of Azure Batch](batch-technical-overview.md).</span></span>
>
>

## <a name="batch-service-workflow"></a><span data-ttu-id="10159-107">Flujo de trabajo del servicio Batch</span><span class="sxs-lookup"><span data-stu-id="10159-107">Batch service workflow</span></span>
<span data-ttu-id="10159-108">Hello siguiente flujo de trabajo de alto nivel es típico de casi todas las aplicaciones y servicios que utilizan el servicio de lote de hello para el procesamiento de las cargas de trabajo paralelas:</span><span class="sxs-lookup"><span data-stu-id="10159-108">hello following high-level workflow is typical of nearly all applications and services that use hello Batch service for processing parallel workloads:</span></span>

1. <span data-ttu-id="10159-109">Cargar hello **archivos de datos** que desea tooprocess tooan [el almacenamiento de Azure] [ azure_storage] cuenta.</span><span class="sxs-lookup"><span data-stu-id="10159-109">Upload hello **data files** that you want tooprocess tooan [Azure Storage][azure_storage] account.</span></span> <span data-ttu-id="10159-110">Lote incluye compatibilidad integrada para acceder al almacenamiento de blobs de Azure y sus tareas pueden descargar estos archivos demasiado[nodos de proceso](#compute-node) cuando se ejecutan las tareas de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-110">Batch includes built-in support for accessing Azure Blob storage, and your tasks can download these files too[compute nodes](#compute-node) when hello tasks are run.</span></span>
2. <span data-ttu-id="10159-111">Cargar hello **archivos de la aplicación** que se ejecutarán las tareas.</span><span class="sxs-lookup"><span data-stu-id="10159-111">Upload hello **application files** that your tasks will run.</span></span> <span data-ttu-id="10159-112">Estos archivos pueden ser archivos binarios o secuencias de comandos y sus dependencias y se ejecutan las tareas de hello en los trabajos.</span><span class="sxs-lookup"><span data-stu-id="10159-112">These files can be binaries or scripts and their dependencies, and are executed by hello tasks in your jobs.</span></span> <span data-ttu-id="10159-113">Las tareas pueden descargar estos archivos desde su cuenta de almacenamiento, o puede usar hello [paquetes de aplicación](#application-packages) característica de lote para la implementación y administración de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="10159-113">Your tasks can download these files from your Storage account, or you can use hello [application packages](#application-packages) feature of Batch for application management and deployment.</span></span>
3. <span data-ttu-id="10159-114">Cree un [grupo](#pool) de nodos de proceso.</span><span class="sxs-lookup"><span data-stu-id="10159-114">Create a [pool](#pool) of compute nodes.</span></span> <span data-ttu-id="10159-115">Cuando se crea un grupo, especifique número Hola de nodos de proceso para el grupo de hello, su tamaño y el sistema operativo de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-115">When you create a pool, you specify hello number of compute nodes for hello pool, their size, and hello operating system.</span></span> <span data-ttu-id="10159-116">Cuando se ejecuta cada tarea en el trabajo, se le asigna tooexecute en uno de los nodos de hello en el grupo.</span><span class="sxs-lookup"><span data-stu-id="10159-116">When each task in your job runs, it's assigned tooexecute on one of hello nodes in your pool.</span></span>
4. <span data-ttu-id="10159-117">Creación de un [trabajo](#job).</span><span class="sxs-lookup"><span data-stu-id="10159-117">Create a [job](#job).</span></span> <span data-ttu-id="10159-118">Un trabajo administra una colección de tareas.</span><span class="sxs-lookup"><span data-stu-id="10159-118">A job manages a collection of tasks.</span></span> <span data-ttu-id="10159-119">Asociar cada grupo específico de tooa de trabajo donde se ejecutarán las tareas de la tarea.</span><span class="sxs-lookup"><span data-stu-id="10159-119">You associate each job tooa specific pool where that job's tasks will run.</span></span>
5. <span data-ttu-id="10159-120">Agregar [tareas](#task) toohello trabajo.</span><span class="sxs-lookup"><span data-stu-id="10159-120">Add [tasks](#task) toohello job.</span></span> <span data-ttu-id="10159-121">Cada tarea ejecuta la aplicación hello o script que ha cargado los archivos de datos de hello tooprocess descarga desde la cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="10159-121">Each task runs hello application or script that you uploaded tooprocess hello data files it downloads from your Storage account.</span></span> <span data-ttu-id="10159-122">Dado que cada tarea se completa, puede cargar su almacenamiento tooAzure de salida.</span><span class="sxs-lookup"><span data-stu-id="10159-122">As each task completes, it can upload its output tooAzure Storage.</span></span>
6. <span data-ttu-id="10159-123">Supervisar el progreso del trabajo y recuperar el resultado de la tarea de Hola desde el almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="10159-123">Monitor job progress and retrieve hello task output from Azure Storage.</span></span>

<span data-ttu-id="10159-124">Hello las secciones siguientes tratan estas y Hola otros recursos de proceso por lotes que permiten su escenario de cálculo distribuido.</span><span class="sxs-lookup"><span data-stu-id="10159-124">hello following sections discuss these and hello other resources of Batch that enable your distributed computational scenario.</span></span>

> [!NOTE]
> <span data-ttu-id="10159-125">Necesita un [cuenta de lote](#account) toouse Hola servicio por lotes.</span><span class="sxs-lookup"><span data-stu-id="10159-125">You need a [Batch account](#account) toouse hello Batch service.</span></span> <span data-ttu-id="10159-126">Casi todas las soluciones de Batch usan una cuenta de [Azure Storage][azure_storage] para el almacenamiento y la recuperación de archivos.</span><span class="sxs-lookup"><span data-stu-id="10159-126">Most Batch solutions also use an [Azure Storage][azure_storage] account for file storage and retrieval.</span></span> <span data-ttu-id="10159-127">Lote actualmente admite solo hello **general** tipo de cuenta de almacenamiento, tal como se describe en el paso 5 de [crear una cuenta de almacenamiento](../storage/common/storage-create-storage-account.md#create-a-storage-account) en [cuentas de almacenamiento de Azure sobre](../storage/common/storage-create-storage-account.md).</span><span class="sxs-lookup"><span data-stu-id="10159-127">Batch currently supports only hello **general-purpose** storage account type, as described in step 5 of [Create a storage account](../storage/common/storage-create-storage-account.md#create-a-storage-account) in [About Azure storage accounts](../storage/common/storage-create-storage-account.md).</span></span>
>
>

## <a name="batch-service-resources"></a><span data-ttu-id="10159-128">Recursos del servicio Batch</span><span class="sxs-lookup"><span data-stu-id="10159-128">Batch service resources</span></span>
<span data-ttu-id="10159-129">Algunos de hello después de recursos, cuentas, calculan nodos, grupos, los trabajos y tareas--necesarios por todas las soluciones que utilizan el servicio de lote de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-129">Some of hello following resources--accounts, compute nodes, pools, jobs, and tasks--are required by all solutions that use hello Batch service.</span></span> <span data-ttu-id="10159-130">Otros, como las programaciones de los trabajos y los paquetes de aplicación, son características útiles, pero opcionales.</span><span class="sxs-lookup"><span data-stu-id="10159-130">Others, like job schedules and application packages, are helpful, but optional, features.</span></span>

* [<span data-ttu-id="10159-131">Cuenta</span><span class="sxs-lookup"><span data-stu-id="10159-131">Account</span></span>](#account)
* [<span data-ttu-id="10159-132">Nodo de ejecución</span><span class="sxs-lookup"><span data-stu-id="10159-132">Compute node</span></span>](#compute-node)
* [<span data-ttu-id="10159-133">Grupo</span><span class="sxs-lookup"><span data-stu-id="10159-133">Pool</span></span>](#pool)
* [<span data-ttu-id="10159-134">Trabajo</span><span class="sxs-lookup"><span data-stu-id="10159-134">Job</span></span>](#job)

  * [<span data-ttu-id="10159-135">Programaciones del trabajo</span><span class="sxs-lookup"><span data-stu-id="10159-135">Job schedules</span></span>](#scheduled-jobs)
* [<span data-ttu-id="10159-136">Task</span><span class="sxs-lookup"><span data-stu-id="10159-136">Task</span></span>](#task)

  * [<span data-ttu-id="10159-137">Tarea de inicio</span><span class="sxs-lookup"><span data-stu-id="10159-137">Start task</span></span>](#start-task)
  * [<span data-ttu-id="10159-138">Tareas del Administrador de trabajos</span><span class="sxs-lookup"><span data-stu-id="10159-138">Job manager task</span></span>](#job-manager-task)
  * [<span data-ttu-id="10159-139">Tareas de preparación y liberación de trabajos</span><span class="sxs-lookup"><span data-stu-id="10159-139">Job preparation and release tasks</span></span>](#job-preparation-and-release-tasks)
  * [<span data-ttu-id="10159-140">Tarea de instancias múltiples (MPI)</span><span class="sxs-lookup"><span data-stu-id="10159-140">Multi-instance task (MPI)</span></span>](#multi-instance-tasks)
  * [<span data-ttu-id="10159-141">Dependencias de las tareas</span><span class="sxs-lookup"><span data-stu-id="10159-141">Task dependencies</span></span>](#task-dependencies)
* [<span data-ttu-id="10159-142">Paquetes de aplicación</span><span class="sxs-lookup"><span data-stu-id="10159-142">Application packages</span></span>](#application-packages)

## <a name="account"></a><span data-ttu-id="10159-143">Cuenta</span><span class="sxs-lookup"><span data-stu-id="10159-143">Account</span></span>
<span data-ttu-id="10159-144">Una cuenta de lote es una entidad identificada de forma única dentro de hello servicio por lotes.</span><span class="sxs-lookup"><span data-stu-id="10159-144">A Batch account is a uniquely identified entity within hello Batch service.</span></span> <span data-ttu-id="10159-145">Todo el procesamiento se asocia con una cuenta de Batch.</span><span class="sxs-lookup"><span data-stu-id="10159-145">All processing is associated with a Batch account.</span></span>

<span data-ttu-id="10159-146">Puede crear una cuenta de Azure Batch con hello [portal de Azure](batch-account-create-portal.md) o mediante programación, como con hello [biblioteca .NET de administración de lotes](batch-management-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="10159-146">You can create an Azure Batch account using hello [Azure portal](batch-account-create-portal.md) or programmatically, such as with hello [Batch Management .NET library](batch-management-dotnet.md).</span></span> <span data-ttu-id="10159-147">Al crear la cuenta de hello, puede asociar una cuenta de almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="10159-147">When creating hello account, you can associate an Azure storage account.</span></span>

### <a name="pool-allocation-mode"></a><span data-ttu-id="10159-148">Modo de asignación de grupos</span><span class="sxs-lookup"><span data-stu-id="10159-148">Pool allocation mode</span></span>

<span data-ttu-id="10159-149">Cuando se crea una cuenta de Batch, puede especificar cómo se asignan los [grupos](#pool) de nodos de proceso.</span><span class="sxs-lookup"><span data-stu-id="10159-149">When you create a Batch account, you can specify how [pools](#pool) of compute nodes are allocated.</span></span> <span data-ttu-id="10159-150">Puede elegir tooallocate grupos de nodos de cálculo en una suscripción administrada por lote de Azure, o se puede asignar en su propia suscripción.</span><span class="sxs-lookup"><span data-stu-id="10159-150">You can choose tooallocate pools of compute nodes in a subscription managed by Azure Batch, or you can allocate them in your own subscription.</span></span> <span data-ttu-id="10159-151">Hola *modo de asignación de grupo de* propiedad de cuenta de hello determina donde se asignan grupos.</span><span class="sxs-lookup"><span data-stu-id="10159-151">hello *pool allocation mode* property for hello account determines where pools are allocated.</span></span> 

<span data-ttu-id="10159-152">toodecide agrupación toouse de modo de asignación, tenga en cuenta que mejor se adapte a su escenario:</span><span class="sxs-lookup"><span data-stu-id="10159-152">toodecide which pool allocation mode toouse, consider which best fits your scenario:</span></span>

* <span data-ttu-id="10159-153">**Servicio de lote**: servicio por lotes es el modo de asignación de grupo predeterminado hello, y en el que se asignan grupos entre bastidores de hello en suscripciones de Azure administrados.</span><span class="sxs-lookup"><span data-stu-id="10159-153">**Batch Service**: Batch Service is hello default pool allocation mode, in which pools are allocated behind hello scenes in Azure-managed subscriptions.</span></span> <span data-ttu-id="10159-154">Tenga en cuenta estos puntos clave sobre el modo de asignación de grupo de hello servicio por lotes:</span><span class="sxs-lookup"><span data-stu-id="10159-154">Keep in mind these key points about hello Batch Service pool allocation mode:</span></span>

    - <span data-ttu-id="10159-155">modo de asignación de grupo de servicio por lotes de Hello es compatible con grupos de servicio en la nube y máquinas virtuales.</span><span class="sxs-lookup"><span data-stu-id="10159-155">hello Batch Service pool allocation mode supports both Cloud Service and Virtual Machine pools.</span></span>
    - <span data-ttu-id="10159-156">modo de asignación de grupo de servicio por lotes Hello admite tanto la autenticación de clave compartida o [autenticación de Azure Active Directory](batch-aad-auth.md) (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="10159-156">hello Batch Service pool allocation mode supports both shared key authentication or [Azure Active Directory authentication](batch-aad-auth.md) (Azure AD).</span></span> 
    - <span data-ttu-id="10159-157">Puede usar los nodos de proceso dedicado o de baja prioridad en grupos que se asignan a modo de asignación de grupo de servicio por lotes de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-157">You can use either dedicated or low-priority compute nodes in pools allocated with hello Batch Service pool allocation mode.</span></span>
    - <span data-ttu-id="10159-158">No utilice el modo de asignación de grupo de servicio por lotes de hello si tiene previsto toocreate grupos de máquina virtual de Azure de imágenes de máquina virtual personalizadas, o si tiene previsto toouse una red virtual.</span><span class="sxs-lookup"><span data-stu-id="10159-158">Do not use hello Batch Service pool allocation mode if you plan toocreate Azure virtual machine pools from custom VM images, or if you plan toouse a virtual network.</span></span> <span data-ttu-id="10159-159">Crear su cuenta con el modo de asignación de grupo de suscripción de usuario de hello en su lugar.</span><span class="sxs-lookup"><span data-stu-id="10159-159">Create your account with hello User Subscription pool allocation mode instead.</span></span>
    - <span data-ttu-id="10159-160">Se deben crear grupos de máquina virtual aprovisionados en una cuenta creada con el modo de asignación de grupo de servicio por lotes de Hola desde [máquinas virtuales de Azure Marketplace] [ vm_marketplace] imágenes.</span><span class="sxs-lookup"><span data-stu-id="10159-160">Virtual Machine pools provisioned in an account created with hello Batch Service pool allocation mode must be created from [Azure Virtual Machines Marketplace][vm_marketplace] images.</span></span>

* <span data-ttu-id="10159-161">**Suscripción de usuario**: con el modo de asignación de grupo de suscripción de usuario de hello, se asignan grupos de proceso por lotes en hello suscripción de Azure donde se crea la cuenta de hello.</span><span class="sxs-lookup"><span data-stu-id="10159-161">**User subscription**: With hello User Subscription pool allocation mode, Batch pools are allocated in hello Azure subscription where hello account is created.</span></span> <span data-ttu-id="10159-162">Tenga en cuenta estos puntos clave sobre el modo de asignación de grupo de hello suscripción de usuario:</span><span class="sxs-lookup"><span data-stu-id="10159-162">Keep in mind these key points about hello User Subscription pool allocation mode:</span></span>
     
    - <span data-ttu-id="10159-163">modo de asignación de grupo de suscripción de usuario de Hello admite sólo los grupos de máquina Virtual.</span><span class="sxs-lookup"><span data-stu-id="10159-163">hello User Subscription pool allocation mode supports only Virtual Machine pools.</span></span> <span data-ttu-id="10159-164">No admite grupos de Cloud Services.</span><span class="sxs-lookup"><span data-stu-id="10159-164">It does not support Cloud Services pools.</span></span>
    - <span data-ttu-id="10159-165">grupos de máquina Virtual de toocreate de imágenes de máquina virtual o una red virtual toouse personalizado con los grupos de máquina Virtual, debe utilizar el modo de asignación de grupo de suscripción de usuario Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-165">toocreate Virtual Machine pools from custom VM images or toouse a virtual network with Virtual Machine pools, you must use hello User Subscription pool allocation mode.</span></span>  
    - <span data-ttu-id="10159-166">Debe usar [autenticación de Azure Active Directory](batch-aad-auth.md) con los grupos que se asignan en la suscripción de usuario de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-166">You must use [Azure Active Directory authentication](batch-aad-auth.md) with pools that are allocated in hello user subscription.</span></span> 
    - <span data-ttu-id="10159-167">Debe configurar un almacén de claves de Azure para su cuenta de lote si el modo de asignación de grupo de Hola se establece tooUser suscripción.</span><span class="sxs-lookup"><span data-stu-id="10159-167">You must set up an Azure key vault for your Batch account if hello pool allocation mode is set tooUser Subscription.</span></span> 
    - <span data-ttu-id="10159-168">Puede usar los nodos de cálculo solo dedicado en grupos en una cuenta creada con el modo de asignación de grupo de suscripción de usuario de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-168">You can use only dedicated compute nodes in pools in an account created with hello User Subscription pool allocation mode.</span></span> <span data-ttu-id="10159-169">No se admiten nodos de prioridad baja.</span><span class="sxs-lookup"><span data-stu-id="10159-169">Low-priority nodes are not supported.</span></span>
    - <span data-ttu-id="10159-170">Se pueden crear grupos de máquina virtual que se aprovisiona en una cuenta con el modo de asignación de grupo de suscripción de usuario de Hola desde [máquinas virtuales de Azure Marketplace] [ vm_marketplace] imágenes o a una personalizada imágenes que proporcionar.</span><span class="sxs-lookup"><span data-stu-id="10159-170">Virtual Machine pools provisioned in an account with hello User Subscription pool allocation mode can be created either from [Azure Virtual Machines Marketplace][vm_marketplace] images, or from custom images that you provide.</span></span>

<span data-ttu-id="10159-171">Hello en la tabla siguiente compara los modos de asignación de grupo de servicio por lotes y suscripción de usuario Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-171">hello following table compares hello Batch Service and User Subscription pool allocation modes.</span></span>

| <span data-ttu-id="10159-172">**Modo de asignación de grupos**</span><span class="sxs-lookup"><span data-stu-id="10159-172">**Pool allocation mode**</span></span>                 | <span data-ttu-id="10159-173">**Servicio Batch**</span><span class="sxs-lookup"><span data-stu-id="10159-173">**Batch Service**</span></span>                                                                                       | <span data-ttu-id="10159-174">**Suscripción de usuario**</span><span class="sxs-lookup"><span data-stu-id="10159-174">**User Subscription**</span></span>                                                              |
|-------------------------------------------|---------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------|
| <span data-ttu-id="10159-175">**Los grupos se asignan en**</span><span class="sxs-lookup"><span data-stu-id="10159-175">**Pools are allocated in**</span></span>               | <span data-ttu-id="10159-176">Una suscripción administrada por Azure</span><span class="sxs-lookup"><span data-stu-id="10159-176">An Azure-managed subscription</span></span>                                                                           | <span data-ttu-id="10159-177">suscripción de usuario de Hello en qué Hola lote se crea la cuenta</span><span class="sxs-lookup"><span data-stu-id="10159-177">hello user subscription in which hello Batch account is created</span></span>                        |
| <span data-ttu-id="10159-178">**Configuraciones admitidas**</span><span class="sxs-lookup"><span data-stu-id="10159-178">**Supported configurations**</span></span>             | <ul><li><span data-ttu-id="10159-179">Configuración de servicio en la nube</span><span class="sxs-lookup"><span data-stu-id="10159-179">Cloud Service Configuration</span></span></li><li><span data-ttu-id="10159-180">Configuración de máquina virtual (Linux y Windows)</span><span class="sxs-lookup"><span data-stu-id="10159-180">Virtual Machine Configuration (Linux and Windows)</span></span></li></ul> | <ul><li><span data-ttu-id="10159-181">Configuración de máquina virtual (Linux y Windows)</span><span class="sxs-lookup"><span data-stu-id="10159-181">Virtual Machine Configuration (Linux and Windows)</span></span></li></ul>                |
| <span data-ttu-id="10159-182">**Imágenes de máquina virtual admitidas**</span><span class="sxs-lookup"><span data-stu-id="10159-182">**Supported VM images**</span></span>                  | <ul><li><span data-ttu-id="10159-183">Imágenes de Azure Marketplace</span><span class="sxs-lookup"><span data-stu-id="10159-183">Azure Marketplace images</span></span></li></ul>                                                              | <ul><li><span data-ttu-id="10159-184">Imágenes de Azure Marketplace</span><span class="sxs-lookup"><span data-stu-id="10159-184">Azure Marketplace images</span></span></li><li><span data-ttu-id="10159-185">Imágenes personalizadas</span><span class="sxs-lookup"><span data-stu-id="10159-185">Custom images</span></span></li></ul>                   |
| <span data-ttu-id="10159-186">**Tipos de nodo de proceso admitidos**</span><span class="sxs-lookup"><span data-stu-id="10159-186">**Supported compute node types**</span></span>         | <ul><li><span data-ttu-id="10159-187">Nodos dedicados</span><span class="sxs-lookup"><span data-stu-id="10159-187">Dedicated nodes</span></span></li><li><span data-ttu-id="10159-188">Nodos de prioridad baja</span><span class="sxs-lookup"><span data-stu-id="10159-188">Low-priority nodes</span></span></li></ul>                                            | <ul><li><span data-ttu-id="10159-189">Nodos dedicados</span><span class="sxs-lookup"><span data-stu-id="10159-189">Dedicated nodes</span></span></li></ul>                                                  |
| <span data-ttu-id="10159-190">**Autenticación admitida**</span><span class="sxs-lookup"><span data-stu-id="10159-190">**Supported authentication**</span></span>             | <ul><li><span data-ttu-id="10159-191">Clave compartida</span><span class="sxs-lookup"><span data-stu-id="10159-191">Shared Key</span></span></li><li><span data-ttu-id="10159-192">Azure AD</span><span class="sxs-lookup"><span data-stu-id="10159-192">Azure AD</span></span></li></ul>                                                           | <ul><li><span data-ttu-id="10159-193">Azure AD</span><span class="sxs-lookup"><span data-stu-id="10159-193">Azure AD</span></span></li></ul>                                                         |
| <span data-ttu-id="10159-194">**Azure Key Vault requerido**</span><span class="sxs-lookup"><span data-stu-id="10159-194">**Azure Key Vault required**</span></span>             | <span data-ttu-id="10159-195">No</span><span class="sxs-lookup"><span data-stu-id="10159-195">No</span></span>                                                                                                      | <span data-ttu-id="10159-196">Sí</span><span class="sxs-lookup"><span data-stu-id="10159-196">Yes</span></span>                                                                                |
| <span data-ttu-id="10159-197">**Cuota de núcleos**</span><span class="sxs-lookup"><span data-stu-id="10159-197">**Core quota**</span></span>                           | <span data-ttu-id="10159-198">Determinado por la cuota de núcleos de Batch</span><span class="sxs-lookup"><span data-stu-id="10159-198">Determined by Batch core quota</span></span>                                                                          | <span data-ttu-id="10159-199">Determinado por la cuota de núcleos de la suscripción</span><span class="sxs-lookup"><span data-stu-id="10159-199">Determined by subscription core quota</span></span>                                              |
| <span data-ttu-id="10159-200">**Compatibilidad con redes virtuales de Azure**</span><span class="sxs-lookup"><span data-stu-id="10159-200">**Azure Virtual Network (Vnet) support**</span></span> | <span data-ttu-id="10159-201">Grupos creados con hello configuración del servicio de nube</span><span class="sxs-lookup"><span data-stu-id="10159-201">Pools created with hello Cloud Service Configuration</span></span>                                                      | <span data-ttu-id="10159-202">Grupos creados con hello configuración de máquina Virtual</span><span class="sxs-lookup"><span data-stu-id="10159-202">Pools created with hello Virtual Machine Configuration</span></span>                               |
| <span data-ttu-id="10159-203">**Modelo de implementación de red virtual admitido**</span><span class="sxs-lookup"><span data-stu-id="10159-203">**Vnet deployment model supported**</span></span>      | <span data-ttu-id="10159-204">Redes virtuales creadas con el modelo de implementación clásico</span><span class="sxs-lookup"><span data-stu-id="10159-204">Vnets created with classic deployment model</span></span>                                                             | <span data-ttu-id="10159-205">Redes virtuales creadas con el modelo de implementación clásica de Hola o administrador de recursos de Azure</span><span class="sxs-lookup"><span data-stu-id="10159-205">Vnets created with either hello classic deployment model or Azure   Resource Manager</span></span> |

## <a name="azure-storage-account"></a><span data-ttu-id="10159-206">Cuenta de almacenamiento de Azure</span><span class="sxs-lookup"><span data-stu-id="10159-206">Azure Storage account</span></span>

<span data-ttu-id="10159-207">La mayoría de las soluciones de Batch usan Azure Storage para almacenar los archivos de recursos y los archivos de salida.</span><span class="sxs-lookup"><span data-stu-id="10159-207">Most Batch solutions use Azure Storage for storing resource files and output files.</span></span>  

<span data-ttu-id="10159-208">Lote admite actualmente el único tipo de cuenta de almacenamiento general de hello, tal como se describe en el paso 5 de [crear una cuenta de almacenamiento](../storage/common/storage-create-storage-account.md#create-a-storage-account) en [cuentas de almacenamiento de Azure sobre](../storage/common/storage-create-storage-account.md).</span><span class="sxs-lookup"><span data-stu-id="10159-208">Batch currently supports only hello general-purpose storage account type, as described in step 5 of [Create a storage account](../storage/common/storage-create-storage-account.md#create-a-storage-account) in [About Azure storage accounts](../storage/common/storage-create-storage-account.md).</span></span> <span data-ttu-id="10159-209">Las tareas de Batch (incluidas las tareas estándar, las de inicio, las de preparación de trabajos y las de liberación de trabajos) deben especificar archivos de recursos que residan en cuentas de almacenamiento de uso general.</span><span class="sxs-lookup"><span data-stu-id="10159-209">Your Batch tasks (including standard tasks, start tasks, job preparation tasks, and job release tasks) must specify resource files that reside in general-purpose storage accounts.</span></span>


## <a name="compute-node"></a><span data-ttu-id="10159-210">Nodo de proceso</span><span class="sxs-lookup"><span data-stu-id="10159-210">Compute node</span></span>
<span data-ttu-id="10159-211">Un nodo de proceso es una máquina virtual de Azure (VM) o la máquina virtual que está dedicado tooprocessing una parte de la carga de trabajo de la aplicación de servicio de nube.</span><span class="sxs-lookup"><span data-stu-id="10159-211">A compute node is an Azure virtual machine (VM) or cloud service VM that is dedicated tooprocessing a portion of your application's workload.</span></span> <span data-ttu-id="10159-212">tamaño de Hola de un nodo determina número Hola de núcleos de CPU, capacidad de memoria y tamaño del sistema de archivos local que se asigna el nodo toohello.</span><span class="sxs-lookup"><span data-stu-id="10159-212">hello size of a node determines hello number of CPU cores, memory capacity, and local file system size that is allocated toohello node.</span></span> <span data-ttu-id="10159-213">Puede crear grupos de nodos de Windows o Linux mediante el uso de servicios de nube de Azure, imágenes de hello [máquinas virtuales de Azure Marketplace][vm_marketplace], o imágenes personalizadas que prepare.</span><span class="sxs-lookup"><span data-stu-id="10159-213">You can create pools of Windows or Linux nodes by using Azure Cloud Services, images from hello [Azure Virtual Machines Marketplace][vm_marketplace], or custom images that you prepare.</span></span> <span data-ttu-id="10159-214">Vea a continuación hello [grupo](#pool) sección para obtener más información acerca de estas opciones.</span><span class="sxs-lookup"><span data-stu-id="10159-214">See hello following [Pool](#pool) section for more information on these options.</span></span>

<span data-ttu-id="10159-215">Nodos pueden ejecutar cualquier archivo ejecutable o script que es compatible con el entorno de sistema operativo de hello del nodo de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-215">Nodes can run any executable or script that is supported by hello operating system environment of hello node.</span></span> <span data-ttu-id="10159-216">Esto incluye scripts \*.exe, \*.cmd, \*.bat y de PowerShell para Windows, además de archivos binarios y scripts de shell y de Python para Linux.</span><span class="sxs-lookup"><span data-stu-id="10159-216">This includes \*.exe, \*.cmd, \*.bat and PowerShell scripts for Windows--and binaries, shell, and Python scripts for Linux.</span></span>

<span data-ttu-id="10159-217">Todos los nodos de proceso en Batch también incluyen:</span><span class="sxs-lookup"><span data-stu-id="10159-217">All compute nodes in Batch also include:</span></span>

* <span data-ttu-id="10159-218">Una [estructura de carpetas](#files-and-directories) estándar y [variables de entorno](#environment-settings-for-tasks) asociadas, disponibles para que las tareas hagan referencia a ellas.</span><span class="sxs-lookup"><span data-stu-id="10159-218">A standard [folder structure](#files-and-directories) and associated [environment variables](#environment-settings-for-tasks) that are available for reference by tasks.</span></span>
* <span data-ttu-id="10159-219">**Firewall** los valores que están configurados toocontrol acceso.</span><span class="sxs-lookup"><span data-stu-id="10159-219">**Firewall** settings that are configured toocontrol access.</span></span>
* <span data-ttu-id="10159-220">[Acceso remoto](#connecting-to-compute-nodes) tooboth Windows (Protocolo de escritorio remoto (RDP)) y nodos de Linux (Shell seguro (SSH)).</span><span class="sxs-lookup"><span data-stu-id="10159-220">[Remote access](#connecting-to-compute-nodes) tooboth Windows (Remote Desktop Protocol (RDP)) and Linux (Secure Shell (SSH)) nodes.</span></span>

## <a name="pool"></a><span data-ttu-id="10159-221">grupo</span><span class="sxs-lookup"><span data-stu-id="10159-221">Pool</span></span>
<span data-ttu-id="10159-222">Un grupo es una colección de nodos en la que se ejecuta la aplicación.</span><span class="sxs-lookup"><span data-stu-id="10159-222">A pool is a collection of nodes that your application runs on.</span></span> <span data-ttu-id="10159-223">grupo de Hola puede crearse manualmente por el usuario o automáticamente por hello servicio por lotes cuando se especifica Hola trabajo toobe realizada.</span><span class="sxs-lookup"><span data-stu-id="10159-223">hello pool can be created manually by you, or automatically by hello Batch service when you specify hello work toobe done.</span></span> <span data-ttu-id="10159-224">Puede crear y administrar un grupo que cumpla los requisitos de recursos de saludo de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="10159-224">You can create and manage a pool that meets hello resource requirements of your application.</span></span> <span data-ttu-id="10159-225">Puede usarse un grupo solo por cuenta de lote de hello en el que se creó.</span><span class="sxs-lookup"><span data-stu-id="10159-225">A pool can be used only by hello Batch account in which it was created.</span></span> <span data-ttu-id="10159-226">Una cuenta de Batch puede tener más de un grupo.</span><span class="sxs-lookup"><span data-stu-id="10159-226">A Batch account can have more than one pool.</span></span>

<span data-ttu-id="10159-227">Grupos de lote de Azure se basan en la plataforma de proceso de Azure de hello principal.</span><span class="sxs-lookup"><span data-stu-id="10159-227">Azure Batch pools build on top of hello core Azure compute platform.</span></span> <span data-ttu-id="10159-228">Proporcionan asignación a gran escala, instalación de la aplicación, la distribución de datos, la supervisión del estado y ajuste flexible del número de Hola de nodos de proceso dentro de un grupo de ([escalado](#scaling-compute-resources)).</span><span class="sxs-lookup"><span data-stu-id="10159-228">They provide large-scale allocation, application installation, data distribution, health monitoring, and flexible adjustment of hello number of compute nodes within a pool ([scaling](#scaling-compute-resources)).</span></span>

<span data-ttu-id="10159-229">Todos los nodos que se agregan el grupo de tooa se asignan un nombre único y una dirección IP.</span><span class="sxs-lookup"><span data-stu-id="10159-229">Every node that is added tooa pool is assigned a unique name and IP address.</span></span> <span data-ttu-id="10159-230">Cuando se quita un nodo de un grupo, se perderán los cambios que se realizan archivos o sistema operativo de toohello y su nombre y dirección IP se liberan para su uso futuro.</span><span class="sxs-lookup"><span data-stu-id="10159-230">When a node is removed from a pool, any changes that are made toohello operating system or files are lost, and its name and IP address are released for future use.</span></span> <span data-ttu-id="10159-231">Cuando un nodo abandona un grupo, su vigencia finaliza.</span><span class="sxs-lookup"><span data-stu-id="10159-231">When a node leaves a pool, its lifetime is over.</span></span>

<span data-ttu-id="10159-232">Cuando se crea un grupo, puede especificar Hola siguientes atributos.</span><span class="sxs-lookup"><span data-stu-id="10159-232">When you create a pool, you can specify hello following attributes.</span></span> <span data-ttu-id="10159-233">Algunas opciones de configuración difieren, según el modo de asignación de grupo de Hola de hello lote [cuenta](#account):</span><span class="sxs-lookup"><span data-stu-id="10159-233">Some settings differ, depending on hello pool allocation mode of hello Batch [account](#account):</span></span>

- <span data-ttu-id="10159-234">Sistema operativo y versión de nodo de proceso</span><span class="sxs-lookup"><span data-stu-id="10159-234">Compute node operating system and version</span></span>
- <span data-ttu-id="10159-235">Tipo de nodo de proceso y número de nodos de destino</span><span class="sxs-lookup"><span data-stu-id="10159-235">Compute node type and target number of nodes</span></span>
- <span data-ttu-id="10159-236">Tamaño de los nodos de cálculo de Hola</span><span class="sxs-lookup"><span data-stu-id="10159-236">Size of hello compute nodes</span></span>
- <span data-ttu-id="10159-237">Directiva de escalado</span><span class="sxs-lookup"><span data-stu-id="10159-237">Scaling policy</span></span>
- <span data-ttu-id="10159-238">Directiva de programación de tareas</span><span class="sxs-lookup"><span data-stu-id="10159-238">Task scheduling policy</span></span>
- <span data-ttu-id="10159-239">Estado de comunicación para nodos de proceso</span><span class="sxs-lookup"><span data-stu-id="10159-239">Communication status for compute nodes</span></span>
- <span data-ttu-id="10159-240">Tareas de inicio para nodos de proceso</span><span class="sxs-lookup"><span data-stu-id="10159-240">Start tasks for compute nodes</span></span>
- <span data-ttu-id="10159-241">paquetes de aplicación</span><span class="sxs-lookup"><span data-stu-id="10159-241">Application packages</span></span>
- <span data-ttu-id="10159-242">Network configuration (Configuración de red)</span><span class="sxs-lookup"><span data-stu-id="10159-242">Network configuration</span></span>

<span data-ttu-id="10159-243">Cada una de estas configuraciones se describe con más detalle en las secciones siguientes de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-243">Each of these settings is described in more detail in hello following sections.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="10159-244">Cuentas de lote creadas con el modo de asignación de grupo de servicio por lotes de hello tienen una cuota predeterminada que limita el número de Hola de núcleos en una cuenta de lote.</span><span class="sxs-lookup"><span data-stu-id="10159-244">Batch accounts created with hello Batch Service pool allocation mode have a default quota that limits hello number of cores in a Batch account.</span></span> <span data-ttu-id="10159-245">número de Hola de núcleos corresponde toohello número de nodos de cálculo.</span><span class="sxs-lookup"><span data-stu-id="10159-245">hello number of cores corresponds toohello number of compute nodes.</span></span> <span data-ttu-id="10159-246">Puede encontrar las cuotas predeterminadas de hello e instrucciones sobre cómo demasiado[aumentar una cuota](batch-quota-limit.md#increase-a-quota) en [las cuotas y límites de hello servicio Azure Batch](batch-quota-limit.md).</span><span class="sxs-lookup"><span data-stu-id="10159-246">You can find hello default quotas and instructions on how too[increase a quota](batch-quota-limit.md#increase-a-quota) in [Quotas and limits for hello Azure Batch service](batch-quota-limit.md).</span></span> <span data-ttu-id="10159-247">Si el grupo no es conseguir su número de destino de nodos, cuota de núcleos de hello podría ser motivo de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-247">If your pool is not achieving its target number of nodes, hello core quota might be hello reason.</span></span>
>
><span data-ttu-id="10159-248">Las cuentas de lote creadas con el modo de asignación de grupo de suscripción de usuario de hello no ver las cuotas del servicio de lote de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-248">Batch accounts created with hello User Subscription pool allocation mode do not observe hello Batch service quotas.</span></span> <span data-ttu-id="10159-249">En su lugar, comparten en hello cuota de núcleos de hello especifica la suscripción.</span><span class="sxs-lookup"><span data-stu-id="10159-249">Instead, they share in hello core quota for hello specified subscription.</span></span> <span data-ttu-id="10159-250">Para más información, consulte [Límites de Virtual Machines](../azure-subscription-service-limits.md#virtual-machines-limits) en [Límites, cuotas y restricciones de suscripción y servicios de Microsoft Azure](../azure-subscription-service-limits.md).</span><span class="sxs-lookup"><span data-stu-id="10159-250">For more information, see [Virtual Machines limits](../azure-subscription-service-limits.md#virtual-machines-limits) in [Azure subscription and service limits, quotas, and constraints](../azure-subscription-service-limits.md).</span></span>
>
>

### <a name="compute-node-operating-system-and-version"></a><span data-ttu-id="10159-251">Sistema operativo y versión de nodo de proceso</span><span class="sxs-lookup"><span data-stu-id="10159-251">Compute node operating system and version</span></span>

<span data-ttu-id="10159-252">Cuando se crea un grupo de lote, puede especificar configuración de máquina virtual de Azure de Hola y el tipo de Hola de desea toorun en cada nodo de proceso en el grupo de Hola de sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="10159-252">When you create a Batch pool, you can specify hello Azure virtual machine configuration and hello type of operating system you want toorun on each compute node in hello pool.</span></span> <span data-ttu-id="10159-253">Hola dos tipos de configuraciones disponibles en lote son:</span><span class="sxs-lookup"><span data-stu-id="10159-253">hello two types of configurations available in Batch are:</span></span>

- <span data-ttu-id="10159-254">Hola **configuración de máquina Virtual**, que especifica ese grupo Hola está formada por máquinas virtuales de Azure.</span><span class="sxs-lookup"><span data-stu-id="10159-254">hello **Virtual Machine Configuration**, which specifies that hello pool is comprised of Azure virtual machines.</span></span> <span data-ttu-id="10159-255">Estas máquinas virtuales pueden crearse a partir de imágenes de Linux o Windows.</span><span class="sxs-lookup"><span data-stu-id="10159-255">These VMs may be created from either Linux or Windows images.</span></span> 

    <span data-ttu-id="10159-256">Cuando se crea un grupo en función de la configuración de máquina Virtual de hello, debe especificar no solo Hola tamaño de nodos de Hola y el origen de Hola de hello imágenes que se utilizan toocreate ellos, sino también hello **referencia de la imagen de máquina virtual** hello y Lote **agente nodo SKU** toobe instalado en nodos de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-256">When you create a pool based on hello Virtual Machine Configuration, you must specify not only hello size of hello nodes and hello source of hello images used toocreate them, but also hello **virtual machine image reference** and hello Batch **node agent SKU** toobe installed on hello nodes.</span></span> <span data-ttu-id="10159-257">Para más información sobre cómo especificar estas propiedades del grupo, consulte [Aprovisionamiento de nodos de proceso de Linux en grupos del servicio Azure Batch](batch-linux-nodes.md).</span><span class="sxs-lookup"><span data-stu-id="10159-257">For more information about specifying these pool properties, see [Provision Linux compute nodes in Azure Batch pools](batch-linux-nodes.md).</span></span>

- <span data-ttu-id="10159-258">Hola **configuración de servicios de nube**, que especifica ese grupo Hola consta de los nodos de servicios de nube de Azure.</span><span class="sxs-lookup"><span data-stu-id="10159-258">hello **Cloud Services Configuration**, which specifies that hello pool is comprised of Azure Cloud Services nodes.</span></span> <span data-ttu-id="10159-259">Cloud Services proporciona *solo* nodos de proceso Windows.</span><span class="sxs-lookup"><span data-stu-id="10159-259">Cloud Services provide Windows compute nodes *only*.</span></span>

    <span data-ttu-id="10159-260">Se enumeran los sistemas operativos disponibles para los grupos de configuración de servicios de nube de Hola [versiones del SO invitado de Azure y la matriz de compatibilidad SDK](../cloud-services/cloud-services-guestos-update-matrix.md).</span><span class="sxs-lookup"><span data-stu-id="10159-260">Available operating systems for Cloud Services Configuration pools are listed in hello [Azure Guest OS releases and SDK compatibility matrix](../cloud-services/cloud-services-guestos-update-matrix.md).</span></span> <span data-ttu-id="10159-261">Cuando se crea un grupo que contiene los nodos de servicios en la nube, necesita toospecify tamaño de nodo de Hola y su *familia del SO*.</span><span class="sxs-lookup"><span data-stu-id="10159-261">When you create a pool that contains Cloud Services nodes, you need toospecify hello node size and its *OS Family*.</span></span> <span data-ttu-id="10159-262">Servicios en la nube son tooAzure implementado más rápidamente que las máquinas virtuales que ejecutan Windows.</span><span class="sxs-lookup"><span data-stu-id="10159-262">Cloud Services are deployed tooAzure more quickly than virtual machines running Windows.</span></span> <span data-ttu-id="10159-263">Si desea grupos de nodos de proceso Windows, es posible que Cloud Services proporcione una mejora en el rendimiento en términos de tiempo de implementación.</span><span class="sxs-lookup"><span data-stu-id="10159-263">If you want pools of Windows compute nodes, you may find that Cloud Services provide a performance benefit in terms of deployment time.</span></span>

    * <span data-ttu-id="10159-264">Hola *familia del SO* también determina qué versiones de .NET se instalan con hello SO.</span><span class="sxs-lookup"><span data-stu-id="10159-264">hello *OS Family* also determines which versions of .NET are installed with hello OS.</span></span>
    * <span data-ttu-id="10159-265">Como con roles de trabajo dentro de los servicios de nube, puede especificar un *versión del sistema operativo* (para obtener más información sobre los roles de trabajo, vea hello [más información sobre los servicios de nube](../cloud-services/cloud-services-choose-me.md#tell-me-about-cloud-services) sección Hola [servicios en la nube información general sobre](../cloud-services/cloud-services-choose-me.md)).</span><span class="sxs-lookup"><span data-stu-id="10159-265">As with worker roles within Cloud Services, you can specify an *OS Version* (for more information on worker roles, see hello [Tell me about cloud services](../cloud-services/cloud-services-choose-me.md#tell-me-about-cloud-services) section in hello [Cloud Services overview](../cloud-services/cloud-services-choose-me.md)).</span></span>
    * <span data-ttu-id="10159-266">Como con roles de trabajo, es recomendable que especifique `*` para hello *versión del sistema operativo* para que los nodos de Hola se actualizan automáticamente y no hay ningún trabajo necesario toocater toonewly publican versiones.</span><span class="sxs-lookup"><span data-stu-id="10159-266">As with worker roles, we recommend that you specify `*` for hello *OS Version* so that hello nodes are automatically upgraded, and there is no work required toocater toonewly released versions.</span></span> <span data-ttu-id="10159-267">caso de uso principal de Hola para seleccionar una versión específica del sistema operativo es tooensure compatibilidad de las aplicaciones, lo que permite la compatibilidad con versiones anteriores toobe prueba realizada antes de permitir Hola versión toobe actualizado.</span><span class="sxs-lookup"><span data-stu-id="10159-267">hello primary use case for selecting a specific OS version is tooensure application compatibility, which allows backward compatibility testing toobe performed before allowing hello version toobe updated.</span></span> <span data-ttu-id="10159-268">Después de la validación, Hola *versión del sistema operativo* para grupo de hello puede actualizarse y se puede instalar la nueva imagen del SO Hola--las tareas en ejecución se interrumpirá y poner en cola.</span><span class="sxs-lookup"><span data-stu-id="10159-268">After validation, hello *OS Version* for hello pool can be updated and hello new OS image can be installed--any running tasks are interrupted and requeued.</span></span>

<span data-ttu-id="10159-269">Cuando se crea un grupo, necesita tooselect Hola adecuado **nodeAgentSkuId**, en función de hello SO de la imagen base de Hola de su disco duro virtual.</span><span class="sxs-lookup"><span data-stu-id="10159-269">When you create a pool, you need tooselect hello appropriate **nodeAgentSkuId**, depending on hello OS of hello base image of your VHD.</span></span> <span data-ttu-id="10159-270">Puede obtener una asignación de tootheir de identificadores de SKU de agente de nodo disponible referencias de imagen del sistema operativo que realiza la llamada hello [los SKU de agente compatible de nodo de lista](https://docs.microsoft.com/rest/api/batchservice/list-supported-node-agent-skus) operación.</span><span class="sxs-lookup"><span data-stu-id="10159-270">You can get a mapping of available node agent SKU ID's tootheir OS Image references by calling hello [List Supported Node Agent SKUs](https://docs.microsoft.com/rest/api/batchservice/list-supported-node-agent-skus) operation.</span></span>

<span data-ttu-id="10159-271">Vea hello [cuenta](#account) sección para obtener información acerca de cómo establecer el modo de asignación de grupo de hello cuando se crea una cuenta de lote.</span><span class="sxs-lookup"><span data-stu-id="10159-271">See hello [Account](#account) section for information on setting hello pool allocation mode when you create a Batch account.</span></span>

#### <a name="custom-images-for-virtual-machine-pools"></a><span data-ttu-id="10159-272">Imágenes personalizadas de grupos de máquinas virtuales</span><span class="sxs-lookup"><span data-stu-id="10159-272">Custom images for Virtual Machine pools</span></span>

<span data-ttu-id="10159-273">toouse un grupos de máquina Virtual tooprovision de imagen personalizada, crear su cuenta de lote con el modo de asignación de grupo de suscripción de usuario de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-273">toouse a custom image tooprovision Virtual Machine pools, create your Batch account with hello User Subscription pool allocation mode.</span></span> <span data-ttu-id="10159-274">Con este modo, se asignan a grupos de proceso por lotes en una suscripción de Hola donde reside la cuenta de hello.</span><span class="sxs-lookup"><span data-stu-id="10159-274">With this mode, Batch pools are allocated into hello subscription where hello account resides.</span></span> <span data-ttu-id="10159-275">Vea hello [cuenta](#account) sección para obtener información acerca de cómo establecer el modo de asignación de grupo de hello cuando se crea una cuenta de lote.</span><span class="sxs-lookup"><span data-stu-id="10159-275">See hello [Account](#account) section for information on setting hello pool allocation mode when you create a Batch account.</span></span>

<span data-ttu-id="10159-276">toouse una imagen personalizada, deberá imagen de hello tooprepare generalizándola.</span><span class="sxs-lookup"><span data-stu-id="10159-276">toouse a custom image, you'll need tooprepare hello image by generalizing it.</span></span> <span data-ttu-id="10159-277">Para obtener información acerca de cómo preparar imágenes personalizadas de Linux desde máquinas virtuales de Azure, consulte [capturar un toouse de máquina virtual de Linux de Azure como una plantilla de](../virtual-machines/linux/capture-image-nodejs.md).</span><span class="sxs-lookup"><span data-stu-id="10159-277">For information about preparing custom Linux images from Azure VMs, see [Capture an Azure Linux VM toouse as a template](../virtual-machines/linux/capture-image-nodejs.md).</span></span> <span data-ttu-id="10159-278">Para más información acerca de cómo preparar imágenes de Windows personalizadas a partir de máquinas virtuales de Azure, consulte [Crear imágenes de máquina virtual personalizadas con Azure PowerShell](../virtual-machines/windows/tutorial-custom-images.md).</span><span class="sxs-lookup"><span data-stu-id="10159-278">For information about preparing custom Windows images from Azure VMs, see [Create custom VM images with Azure PowerShell](../virtual-machines/windows/tutorial-custom-images.md).</span></span> 

> [!IMPORTANT]
> <span data-ttu-id="10159-279">Al preparar la imagen personalizada, tenga en siguiente Hola de cuenta:</span><span class="sxs-lookup"><span data-stu-id="10159-279">When preparing your custom image, keep in mind hello following:</span></span>
> - <span data-ttu-id="10159-280">Asegurarse de esa imagen del sistema operativo base Hola usar tooprovision las agrupaciones de lote no se cualquiera previamente instalado las extensiones de Azure, como la extensión de Script personalizado de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-280">Ensure that hello base OS image you use tooprovision your Batch pools does not have any pre-installed Azure extensions, such as hello Custom Script extension.</span></span> <span data-ttu-id="10159-281">Si la imagen de hello contiene una extensión previamente instalada, Azure puede encontrar problemas implementar Hola máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="10159-281">If hello image contains a pre-installed extension, Azure may encounter problems deploying hello VM.</span></span>
> - <span data-ttu-id="10159-282">Asegúrese de que esa imagen del sistema operativo base Hola que proporcionan usa Hola unidad temporal de forma predeterminada, tal y como hello agente de nodo de lote actualmente espera como unidad temporal predeterminada Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-282">Ensure that hello base OS image you provide uses hello default temp drive, as hello Batch node agent currently expects hello default temp drive.</span></span>
>
>

<span data-ttu-id="10159-283">toocreate un grupo de configuración de máquina Virtual con una imagen personalizada, necesitará uno o cuentas de almacenamiento de Azure estándar más toostore las imágenes de disco duro virtual personalizadas.</span><span class="sxs-lookup"><span data-stu-id="10159-283">toocreate a Virtual Machine Configuration pool using a custom image, you'll need one or more standard Azure Storage accounts toostore your custom VHD images.</span></span> <span data-ttu-id="10159-284">Las imágenes personalizadas se almacenan como blobs.</span><span class="sxs-lookup"><span data-stu-id="10159-284">Custom images are stored as blobs.</span></span> <span data-ttu-id="10159-285">tooreference personalizado imágenes cuando se crea un grupo, especifique Hola URI de blobs de disco duro virtual de imagen personalizada de Hola para hello [osDisk](https://docs.microsoft.com/rest/api/batchservice/add-a-pool-to-an-account#bk_osdisk) propiedad de hello [virtualMachineConfiguration](https://docs.microsoft.com/rest/api/batchservice/add-a-pool-to-an-account#bk_vmconf) propiedad.</span><span class="sxs-lookup"><span data-stu-id="10159-285">tooreference your custom images when you create a pool, specify hello URIs of hello custom image VHD blobs for hello [osDisk](https://docs.microsoft.com/rest/api/batchservice/add-a-pool-to-an-account#bk_osdisk) property of hello [virtualMachineConfiguration](https://docs.microsoft.com/rest/api/batchservice/add-a-pool-to-an-account#bk_vmconf) property.</span></span>

<span data-ttu-id="10159-286">Asegúrese de que las cuentas de almacenamiento cumplen Hola siguiendo criterios:</span><span class="sxs-lookup"><span data-stu-id="10159-286">Make sure that your storage accounts meet hello following criteria:</span></span>   

- <span data-ttu-id="10159-287">blobs de disco duro virtual de imagen personalizada hello contenedores necesitan toobe en las cuentas de almacenamiento de Hola Hola misma suscripción como Hola cuenta de lote (suscripción de usuario de hello).</span><span class="sxs-lookup"><span data-stu-id="10159-287">hello storage accounts containing hello custom image VHD blobs need toobe in hello same subscription as hello Batch account (hello user subscription).</span></span>
- <span data-ttu-id="10159-288">Hola especifica cuentas de almacenamiento necesitan toobe Hola misma región que Hola cuenta de lote.</span><span class="sxs-lookup"><span data-stu-id="10159-288">hello specified storage accounts need toobe in hello same region as hello Batch account.</span></span>
- <span data-ttu-id="10159-289">Actualmente, solo se admiten las cuentas de almacenamiento estándar de uso general.</span><span class="sxs-lookup"><span data-stu-id="10159-289">Only standard general-purpose storage accounts are currently supported.</span></span> <span data-ttu-id="10159-290">Almacenamiento Premium de Azure se admitirán en futuras Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-290">Azure Premium storage will be supported in hello future.</span></span>
- <span data-ttu-id="10159-291">Puede especificar una cuenta de almacenamiento con varios blobs VHD personalizados o varias cuentas de almacenamiento, que tenga cada una un único blob.</span><span class="sxs-lookup"><span data-stu-id="10159-291">You can specify one storage account with multiple custom VHD blobs or multiple storage accounts each having a single blob.</span></span> <span data-ttu-id="10159-292">Le recomendamos que toouse cuentas de almacenamiento varios tooget un mejor rendimiento.</span><span class="sxs-lookup"><span data-stu-id="10159-292">We recommend you toouse multiple storage accounts tooget a better performance.</span></span>
- <span data-ttu-id="10159-293">Un blob de disco duro virtual de imagen personalizado único puede admitir hasta 20 instancias de máquina virtual de Windows o too40 que instancias de VM de Linux.</span><span class="sxs-lookup"><span data-stu-id="10159-293">One unique custom image VHD blob can support up too40 Linux VM instances or 20 Windows VM instances.</span></span> <span data-ttu-id="10159-294">Necesitará toocreate copias de grupos de toocreate blob Hola de disco duro virtual con más máquinas virtuales.</span><span class="sxs-lookup"><span data-stu-id="10159-294">You will need toocreate copies of hello VHD blob toocreate pools with more VMs.</span></span> <span data-ttu-id="10159-295">Por ejemplo, un grupo con 200 máquinas virtuales de Windows necesita 10 únicos blobs de disco duro virtual especificados para hello **osDisk** propiedad.</span><span class="sxs-lookup"><span data-stu-id="10159-295">For example, a pool with 200 Windows VMs needs 10 unique VHD blobs specified for hello **osDisk** property.</span></span>

<span data-ttu-id="10159-296">toocreate un grupo desde una imagen personalizada con hello portal de Azure:</span><span class="sxs-lookup"><span data-stu-id="10159-296">toocreate a pool from a custom image using hello Azure portal:</span></span>

1. <span data-ttu-id="10159-297">Navegar por cuenta de lote tooyour Hola portal de Azure.</span><span class="sxs-lookup"><span data-stu-id="10159-297">Navigate tooyour Batch account in hello Azure portal.</span></span>
2. <span data-ttu-id="10159-298">En hello **configuración** hoja, seleccione hello **grupos** elemento de menú.</span><span class="sxs-lookup"><span data-stu-id="10159-298">On hello **Settings** blade, select hello **Pools** menu item.</span></span>
3. <span data-ttu-id="10159-299">En hello **grupos** hoja, seleccione hello **agregar** comando; Hola **Agregar grupo** hoja se mostrarán.</span><span class="sxs-lookup"><span data-stu-id="10159-299">On hello **Pools** blade, select hello **Add** command; hello **Add pool** blade will be displayed.</span></span>
4. <span data-ttu-id="10159-300">Seleccione **imagen personalizada (Linux y Windows)** de hello **tipo de imagen** lista desplegable.</span><span class="sxs-lookup"><span data-stu-id="10159-300">Select **Custom Image (Linux/Windows)** from hello **Image Type** dropdown.</span></span> <span data-ttu-id="10159-301">portal de Hello muestra hello **imagen personalizada** selector.</span><span class="sxs-lookup"><span data-stu-id="10159-301">hello portal displays hello **Custom Image** picker.</span></span> <span data-ttu-id="10159-302">Elija uno o más VHD de Hola Hola de contenedor y haga clic en mismo **seleccione** botón.</span><span class="sxs-lookup"><span data-stu-id="10159-302">Choose one or more VHDs from hello same container and click hello **Select** button.</span></span> 
    <span data-ttu-id="10159-303">Se agregará compatibilidad con varios discos duros virtuales de diferentes cuentas de almacenamiento y los contenedores diferentes en hello futuras.</span><span class="sxs-lookup"><span data-stu-id="10159-303">Support for multiple VHDs from different storage accounts and different containers will be added in hello future.</span></span>
5. <span data-ttu-id="10159-304">Seleccione Hola correcto **Publisher/oferta/Sku** para los VHD personalizados, seleccione Hola deseado **Caching** modo y, a continuación, rellene todos Hola otros parámetros para el grupo de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-304">Select hello correct **Publisher/Offer/Sku** for your custom VHDs, select hello desired **Caching** mode, then fill in all hello other parameters for hello pool.</span></span>
6. <span data-ttu-id="10159-305">toocheck si un grupo se basa en una imagen personalizada, vea hello **sistema operativo** propiedad en la sección de resumen de recursos de Hola de hello **grupo** hoja.</span><span class="sxs-lookup"><span data-stu-id="10159-305">toocheck if a pool is based on a custom image, see hello **Operating System** property in hello resource summary section of hello **Pool** blade.</span></span> <span data-ttu-id="10159-306">valor de Hola de esta propiedad debe ser **imagen de VM personalizada**.</span><span class="sxs-lookup"><span data-stu-id="10159-306">hello value of this property should be **Custom VM image**.</span></span>
7. <span data-ttu-id="10159-307">Todos los VHD personalizados asociados a un grupo se muestran en el grupo de hello **propiedades** hoja.</span><span class="sxs-lookup"><span data-stu-id="10159-307">All custom VHDs associated with a pool are displayed on hello pool's **Properties** blade.</span></span>

### <a name="compute-node-type-and-target-number-of-nodes"></a><span data-ttu-id="10159-308">Tipo de nodo de proceso y número de nodos de destino</span><span class="sxs-lookup"><span data-stu-id="10159-308">Compute node type and target number of nodes</span></span>

<span data-ttu-id="10159-309">Cuando se crea un grupo, puede especificar qué tipos de nodos de cálculo que desee y Hola número de destino para cada uno.</span><span class="sxs-lookup"><span data-stu-id="10159-309">When you create a pool, you can specify which types of compute nodes you want and hello target number for each.</span></span> <span data-ttu-id="10159-310">Hola dos tipos de nodos de ejecución son:</span><span class="sxs-lookup"><span data-stu-id="10159-310">hello two types of compute nodes are:</span></span>

- <span data-ttu-id="10159-311">**Nodos de proceso dedicados.**</span><span class="sxs-lookup"><span data-stu-id="10159-311">**Dedicated compute nodes.**</span></span> <span data-ttu-id="10159-312">Los nodos de proceso dedicados están reservados para las cargas de trabajo que usted tenga.</span><span class="sxs-lookup"><span data-stu-id="10159-312">Dedicated compute nodes are reserved for your workloads.</span></span> <span data-ttu-id="10159-313">Son más caros que los nodos de prioridad baja, pero se garantiza que se ve relegado toonever.</span><span class="sxs-lookup"><span data-stu-id="10159-313">They are more expensive than low-priority nodes, but they are guaranteed toonever be preempted.</span></span>

- <span data-ttu-id="10159-314">**Nodos de proceso de prioridad baja.**</span><span class="sxs-lookup"><span data-stu-id="10159-314">**Low-priority compute nodes.**</span></span> <span data-ttu-id="10159-315">Nodos de prioridad baja sacar partido de exceso de capacidad en Azure toorun las cargas de trabajo por lotes.</span><span class="sxs-lookup"><span data-stu-id="10159-315">Low-priority nodes take advantage of surplus capacity in Azure toorun your Batch workloads.</span></span> <span data-ttu-id="10159-316">Los nodos de prioridad baja son menos costosos por hora que los nodos dedicados y habilitan las cargas de trabajo que requieren una gran potencia de proceso.</span><span class="sxs-lookup"><span data-stu-id="10159-316">Low-priority nodes are less expensive per hour than dedicated nodes, and enable workloads requiring a lot of compute power.</span></span> <span data-ttu-id="10159-317">Para obtener más información, vea [Use low-priority VMs with Batch](batch-low-pri-vms.md) (Usar máquinas virtuales de prioridad baja con Batch).</span><span class="sxs-lookup"><span data-stu-id="10159-317">For more information, see [Use low-priority VMs with Batch](batch-low-pri-vms.md).</span></span>

    <span data-ttu-id="10159-318">Los nodos de proceso de prioridad baja pueden verse reemplazados cuando Azure no tiene una capacidad sobrante suficiente.</span><span class="sxs-lookup"><span data-stu-id="10159-318">Low-priority compute nodes may be preempted when Azure has insufficient surplus capacity.</span></span> <span data-ttu-id="10159-319">Si un nodo se ve relegado durante la ejecución de tareas, tareas de hello son poner en cola y vuelva a ejecutar una vez que un nodo de proceso vuelve a estar disponible.</span><span class="sxs-lookup"><span data-stu-id="10159-319">If a node is preempted while running tasks, hello tasks are requeued and run again once a compute node becomes available again.</span></span> <span data-ttu-id="10159-320">Nodos de prioridad baja son una buena opción para las cargas de trabajo en tiempo de finalización del trabajo de hello es flexible y trabajo Hola se distribuye entre muchos nodos.</span><span class="sxs-lookup"><span data-stu-id="10159-320">Low-priority nodes are a good option for workloads where hello job completion time is flexible and hello work is distributed across many nodes.</span></span> <span data-ttu-id="10159-321">Antes de decidir toouse nodos de prioridad baja para su escenario, asegúrese de que ningún trabajo perdido debido toopreemption será toorecreate mínima y sencilla.</span><span class="sxs-lookup"><span data-stu-id="10159-321">Before you decide toouse low-priority nodes for your scenario, make sure that any work lost due toopreemption will be minimal and easy toorecreate.</span></span>

    <span data-ttu-id="10159-322">Nodos de proceso de prioridad baja solo están disponibles para las cuentas de lote creadas con el modo de asignación de grupo Hola establecido demasiado**servicio por lotes**.</span><span class="sxs-lookup"><span data-stu-id="10159-322">Low-priority compute nodes are available only for Batch accounts created with hello pool allocation mode set too**Batch Service**.</span></span>

<span data-ttu-id="10159-323">Puede tener ambos nodos de cálculo de prioridad baja y dedicado en hello mismo grupo.</span><span class="sxs-lookup"><span data-stu-id="10159-323">You can have both low-priority and dedicated compute nodes in hello same pool.</span></span> <span data-ttu-id="10159-324">Cada tipo de nodo &mdash; prioridad baja y dedicado &mdash; tiene su propia configuración de destino para el que se puede especificar el número de hello deseado de nodos.</span><span class="sxs-lookup"><span data-stu-id="10159-324">Each type of node &mdash; low-priority and dedicated &mdash; has its own target setting, for which you can specify hello desired number of nodes.</span></span> 
    
<span data-ttu-id="10159-325">número de nodos de proceso Hello es tooas que se hace referencia una *destino* porque, en algunas situaciones, el grupo no alcancen número deseado de Hola de nodos.</span><span class="sxs-lookup"><span data-stu-id="10159-325">hello number of compute nodes is referred tooas a *target* because, in some situations, your pool might not reach hello desired number of nodes.</span></span> <span data-ttu-id="10159-326">Por ejemplo, un grupo no puede lograr destino Hola si alcanza hello [cuota de núcleos](batch-quota-limit.md) para el lote de la cuenta en primer lugar.</span><span class="sxs-lookup"><span data-stu-id="10159-326">For example, a pool might not achieve hello target if it reaches hello [core quota](batch-quota-limit.md) for your Batch account first.</span></span> <span data-ttu-id="10159-327">O bien, grupo de hello no podría lograr destino Hola si ha aplicado una escala automática grupo toohello fórmulas que limita el número máximo de Hola de nodos.</span><span class="sxs-lookup"><span data-stu-id="10159-327">Or, hello pool might not achieve hello target if you have applied an auto-scaling formula toohello pool that limits hello maximum number of nodes.</span></span>

<span data-ttu-id="10159-328">Para obtener información sobre los precios de los nodos de proceso de prioridad baja y dedicados, vea [Precios de Batch](https://azure.microsoft.com/pricing/details/batch/).</span><span class="sxs-lookup"><span data-stu-id="10159-328">For pricing information for both low-priority and dedicated compute nodes, see [Batch Pricing](https://azure.microsoft.com/pricing/details/batch/).</span></span>

### <a name="size-of-hello-compute-nodes"></a><span data-ttu-id="10159-329">Tamaño de los nodos de cálculo de Hola</span><span class="sxs-lookup"><span data-stu-id="10159-329">Size of hello compute nodes</span></span>

<span data-ttu-id="10159-330">**configuración de Servicios en la nube** aparecen en [Tamaños de los servicios en la nube](../cloud-services/cloud-services-sizes-specs.md).</span><span class="sxs-lookup"><span data-stu-id="10159-330">**Cloud Services Configuration** compute node sizes are listed in [Sizes for Cloud Services](../cloud-services/cloud-services-sizes-specs.md).</span></span> <span data-ttu-id="10159-331">Batch admite todos los tamaños de Cloud Services excepto `ExtraSmall`, `STANDARD_A1_V2` y `STANDARD_A2_V2`.</span><span class="sxs-lookup"><span data-stu-id="10159-331">Batch supports all Cloud Services sizes except `ExtraSmall`, `STANDARD_A1_V2`, and `STANDARD_A2_V2`.</span></span>

<span data-ttu-id="10159-332">Los tamaños de los nodos de proceso de la **configuración de máquina virtual** se muestran en [Tamaños de las máquinas virtuales Linux en Azure](../virtual-machines/linux/sizes.md) y [Tamaños de las máquinas virtuales Windows en Azure](../virtual-machines/windows/sizes.md).</span><span class="sxs-lookup"><span data-stu-id="10159-332">**Virtual Machine Configuration** compute node sizes are listed in [Sizes for virtual machines in Azure](../virtual-machines/linux/sizes.md) (Linux) and [Sizes for virtual machines in Azure](../virtual-machines/windows/sizes.md) (Windows).</span></span> <span data-ttu-id="10159-333">Batch admite todos los tamaños de máquina virtual de Azure excepto `STANDARD_A0` y aquellos con Premium Storage (series `STANDARD_GS`, `STANDARD_DS` y `STANDARD_DSV2`).</span><span class="sxs-lookup"><span data-stu-id="10159-333">Batch supports all Azure VM sizes except `STANDARD_A0` and those with premium storage (`STANDARD_GS`, `STANDARD_DS`, and `STANDARD_DSV2` series).</span></span>

<span data-ttu-id="10159-334">Al seleccionar un tamaño de nodo de proceso, considere la posibilidad de hello características y requisitos de las aplicaciones de Hola que se va a ejecutar en nodos de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-334">When selecting a compute node size, consider hello characteristics and requirements of hello applications you'll run on hello nodes.</span></span> <span data-ttu-id="10159-335">Aspectos como si la aplicación hello es multiproceso y la cantidad de memoria que consume puede ayudar a determinan tamaño de nodo de hello más adecuado y rentable.</span><span class="sxs-lookup"><span data-stu-id="10159-335">Aspects like whether hello application is multithreaded and how much memory it consumes can help determine hello most suitable and cost-effective node size.</span></span> <span data-ttu-id="10159-336">Es habitual tooselect un tamaño de nodo suponiendo que una tarea se ejecutará en un nodo a la vez.</span><span class="sxs-lookup"><span data-stu-id="10159-336">It's typical tooselect a node size assuming one task will run on a node at a time.</span></span> <span data-ttu-id="10159-337">Sin embargo, es posible toohave varias tareas (y, por tanto, varias instancias de aplicación) [ejecutar en paralelo](batch-parallel-node-tasks.md) en nodos de ejecución durante la ejecución del trabajo.</span><span class="sxs-lookup"><span data-stu-id="10159-337">However, it is possible toohave multiple tasks (and therefore multiple application instances) [run in parallel](batch-parallel-node-tasks.md) on compute nodes during job execution.</span></span> <span data-ttu-id="10159-338">En este caso, es común toochoose una petición de hello aumentado más grande de tooaccommodate tamaño de nodo de ejecución de tareas paralelas.</span><span class="sxs-lookup"><span data-stu-id="10159-338">In this case, it is common toochoose a larger node size tooaccommodate hello increased demand of parallel task execution.</span></span> <span data-ttu-id="10159-339">Para más información, consulte [Directiva de programación de tareas](#task-scheduling-policy).</span><span class="sxs-lookup"><span data-stu-id="10159-339">See [Task scheduling policy](#task-scheduling-policy) for more information.</span></span>

<span data-ttu-id="10159-340">Todos los nodos de hello en un grupo son Hola mismo tamaño.</span><span class="sxs-lookup"><span data-stu-id="10159-340">All of hello nodes in a pool are hello same size.</span></span> <span data-ttu-id="10159-341">Si piensa toorun aplicaciones con diferentes requisitos de sistema y niveles de carga, se recomienda que utilice grupos distintos.</span><span class="sxs-lookup"><span data-stu-id="10159-341">If you intend toorun applications with differing system requirements and/or load levels, we recommend that you use separate pools.</span></span>

### <a name="scaling-policy"></a><span data-ttu-id="10159-342">Directiva de escalado</span><span class="sxs-lookup"><span data-stu-id="10159-342">Scaling policy</span></span>

<span data-ttu-id="10159-343">Para las cargas de trabajo dinámicos, puede escribir y aplicar un [fórmula de escalado automático](#scaling-compute-resources) tooa grupo.</span><span class="sxs-lookup"><span data-stu-id="10159-343">For dynamic workloads, you can write and apply an [auto-scaling formula](#scaling-compute-resources) tooa pool.</span></span> <span data-ttu-id="10159-344">Hola servicio por lotes se evalúa como la fórmula y ajusta Hola número de nodos dentro de grupo de hello en función de diversos grupo, trabajo y los parámetros de tareas que se pueden especificar periódicamente.</span><span class="sxs-lookup"><span data-stu-id="10159-344">hello Batch service periodically evaluates your formula and adjusts hello number of nodes within hello pool based on various pool, job, and task parameters that you can specify.</span></span>

### <a name="task-scheduling-policy"></a><span data-ttu-id="10159-345">Directiva de programación de tareas</span><span class="sxs-lookup"><span data-stu-id="10159-345">Task scheduling policy</span></span>

<span data-ttu-id="10159-346">Hola [máximo de tareas por nodo](batch-parallel-node-tasks.md) opción de configuración determina el número máximo de Hola de tareas que se pueden ejecutar en paralelo en cada nodo de proceso en el grupo de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-346">hello [max tasks per node](batch-parallel-node-tasks.md) configuration option determines hello maximum number of tasks that can be run in parallel on each compute node within hello pool.</span></span>

<span data-ttu-id="10159-347">configuración predeterminada de Hello especifica que una tarea a la vez que se ejecuta en un nodo, pero existen escenarios donde resulta beneficioso toohave dos o más tareas que se ejecuta en un nodo al mismo tiempo.</span><span class="sxs-lookup"><span data-stu-id="10159-347">hello default configuration specifies that one task at a time runs on a node, but there are scenarios where it is beneficial toohave two or more tasks executed on a node simultaneously.</span></span> <span data-ttu-id="10159-348">Vea hello [escenario de ejemplo](batch-parallel-node-tasks.md#example-scenario) en hello [tareas simultáneas nodo](batch-parallel-node-tasks.md) toosee artículo cómo puede beneficiarse de varias tareas por nodo.</span><span class="sxs-lookup"><span data-stu-id="10159-348">See hello [example scenario](batch-parallel-node-tasks.md#example-scenario) in hello [concurrent node tasks](batch-parallel-node-tasks.md) article toosee how you can benefit from multiple tasks per node.</span></span>

<span data-ttu-id="10159-349">También puede especificar un *tipo de relleno* que determina si distribuye uniformemente tareas Hola a todos los nodos en un grupo de lote o módulos de cada nodo con el número máximo de Hola de tareas antes de asignar el nodo de tooanother de tareas.</span><span class="sxs-lookup"><span data-stu-id="10159-349">You can also specify a *fill type* which determines whether Batch spreads hello tasks evenly across all nodes in a pool, or packs each node with hello maximum number of tasks before assigning tasks tooanother node.</span></span>

### <a name="communication-status-for-compute-nodes"></a><span data-ttu-id="10159-350">Estado de comunicación para nodos de proceso</span><span class="sxs-lookup"><span data-stu-id="10159-350">Communication status for compute nodes</span></span>

<span data-ttu-id="10159-351">En la mayoría de los escenarios, las tareas funcionan de forma independiente y no es necesario toocommunicate entre sí.</span><span class="sxs-lookup"><span data-stu-id="10159-351">In most scenarios, tasks operate independently and do not need toocommunicate with one another.</span></span> <span data-ttu-id="10159-352">Sin embargo, hay algunas aplicaciones en las que las tareas deben comunicarse, como en los [escenarios MPI](batch-mpi.md).</span><span class="sxs-lookup"><span data-stu-id="10159-352">However, there are some applications in which tasks must communicate, like [MPI scenarios](batch-mpi.md).</span></span>

<span data-ttu-id="10159-353">Puede configurar un grupo tooallow **la comunicación entre nodos**, para que puedan comunicarse nodos dentro de un grupo en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="10159-353">You can configure a pool tooallow **internode communication**, so that nodes within a pool can communicate at runtime.</span></span> <span data-ttu-id="10159-354">Cuando se habilita la comunicación entre nodos, los nodos en grupos de configuración de Cloud Services pueden comunicarse entre sí en los puertos superiores a 1100, mientras que los grupos de configuración de máquina virtual no restringen el tráfico en ningún puerto.</span><span class="sxs-lookup"><span data-stu-id="10159-354">When internode communication is enabled, nodes in Cloud Services Configuration pools can communicate with each other on ports greater than 1100, and Virtual Machine Configuration pools do not restrict traffic on any port.</span></span>

<span data-ttu-id="10159-355">Tenga en cuenta que habilitar la comunicación entre nodos también afecta la colocación de Hola de nodos de hello en los clústeres y puede limitar el número máximo de Hola de nodos en un grupo debido a restricciones de implementación.</span><span class="sxs-lookup"><span data-stu-id="10159-355">Note that enabling internode communication also impacts hello placement of hello nodes within clusters and might limit hello maximum number of nodes in a pool because of deployment restrictions.</span></span> <span data-ttu-id="10159-356">Si la aplicación no requiere la comunicación entre nodos, Hola servicio por lotes puede asignar a un número potencialmente grande de nodos toohello grupo de clústeres distintos muchas y tooenable de centros de datos mayor potencia de procesamiento en paralelo.</span><span class="sxs-lookup"><span data-stu-id="10159-356">If your application does not require communication between nodes, hello Batch service can allocate a potentially large number of nodes toohello pool from many different clusters and datacenters tooenable increased parallel processing power.</span></span>

### <a name="start-tasks-for-compute-nodes"></a><span data-ttu-id="10159-357">Tareas de inicio para nodos de proceso</span><span class="sxs-lookup"><span data-stu-id="10159-357">Start tasks for compute nodes</span></span>

<span data-ttu-id="10159-358">Hola opcional *Iniciar tarea* se ejecuta en cada nodo, ese nodo une a grupo de Hola y se reinicia cada vez que un nodo o se restablece la imagen inicial.</span><span class="sxs-lookup"><span data-stu-id="10159-358">hello optional *start task* executes on each node as that node joins hello pool, and each time a node is restarted or reimaged.</span></span> <span data-ttu-id="10159-359">tarea de inicio de Hello es especialmente útil para preparar los nodos de proceso para la ejecución de Hola de tareas, como la instalación de aplicaciones de Hola que las tareas se ejecutan en nodos de proceso de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-359">hello start task is especially useful for preparing compute nodes for hello execution of tasks, like installing hello applications that your tasks run on hello compute nodes.</span></span>

### <a name="application-packages"></a><span data-ttu-id="10159-360">paquetes de aplicación</span><span class="sxs-lookup"><span data-stu-id="10159-360">Application packages</span></span>

<span data-ttu-id="10159-361">Puede especificar [paquetes de aplicación](#application-packages) toodeploy toohello nodos de cálculo en el grupo de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-361">You can specify [application packages](#application-packages) toodeploy toohello compute nodes in hello pool.</span></span> <span data-ttu-id="10159-362">Paquetes de aplicación proporcionan implementación simplificada y control de versiones de aplicaciones de Hola que se ejecutan las tareas.</span><span class="sxs-lookup"><span data-stu-id="10159-362">Application packages provide simplified deployment and versioning of hello applications that your tasks run.</span></span> <span data-ttu-id="10159-363">Los paquetes de aplicación que se especifiquen para un grupo se instalarán en todos los nodos que se unan al grupo cada vez que un nodo se reinicie o se restablezca la imagen inicial.</span><span class="sxs-lookup"><span data-stu-id="10159-363">Application packages that you specify for a pool are installed on every node that joins that pool, and every time a node is rebooted or reimaged.</span></span>

> [!NOTE]
> <span data-ttu-id="10159-364">Los paquetes de aplicaciones se admiten en todos los grupos de Batch creados después del 5 de julio de 2017.</span><span class="sxs-lookup"><span data-stu-id="10159-364">Application packages are supported on all Batch pools created after 5 July 2017.</span></span> <span data-ttu-id="10159-365">Ahora se admiten en los grupos de lote creados entre el 10 de marzo de 2016 y 5 de julio de 2017 solo si se creó el grupo de hello mediante una configuración del servicio de nube.</span><span class="sxs-lookup"><span data-stu-id="10159-365">They are supported on Batch pools created between 10 March 2016 and 5 July 2017 only if hello pool was created using a Cloud Service configuration.</span></span> <span data-ttu-id="10159-366">Los grupos de lote creados too10 anteriores de marzo de 2016 son compatibles con los paquetes de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="10159-366">Batch pools created prior too10 March 2016 do not support application packages.</span></span> <span data-ttu-id="10159-367">Para obtener más información sobre el uso de la aplicación paquetes toodeploy los nodos de proceso por lotes de tooyour de aplicaciones, consulte [implementar aplicaciones toocompute nodos con paquetes de aplicaciones de lote](batch-application-packages.md).</span><span class="sxs-lookup"><span data-stu-id="10159-367">For more information about using application packages toodeploy your applications tooyour Batch nodes, see [Deploy applications toocompute nodes with Batch application packages](batch-application-packages.md).</span></span>
>
>

### <a name="network-configuration"></a><span data-ttu-id="10159-368">Network configuration (Configuración de red)</span><span class="sxs-lookup"><span data-stu-id="10159-368">Network configuration</span></span>

<span data-ttu-id="10159-369">Puede especificar las subredes Hola de un Azure [red virtual (VNet)](../virtual-network/virtual-networks-overview.md) en proceso del grupo de qué Hola deben crearse los nodos.</span><span class="sxs-lookup"><span data-stu-id="10159-369">You can specify hello subnet of an Azure [virtual network (VNet)](../virtual-network/virtual-networks-overview.md) in which hello pool's compute nodes should be created.</span></span> <span data-ttu-id="10159-370">Vea hello [configuración del grupo de red](#pool-network-configuration) sección para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="10159-370">See hello [Pool network configuration](#pool-network-configuration) section for more information.</span></span>


## <a name="job"></a><span data-ttu-id="10159-371">Trabajo</span><span class="sxs-lookup"><span data-stu-id="10159-371">Job</span></span>
<span data-ttu-id="10159-372">Un trabajo es una colección de tareas.</span><span class="sxs-lookup"><span data-stu-id="10159-372">A job is a collection of tasks.</span></span> <span data-ttu-id="10159-373">Administra cómo se realiza el cálculo por sus tareas en los nodos de proceso de hello en un grupo.</span><span class="sxs-lookup"><span data-stu-id="10159-373">It manages how computation is performed by its tasks on hello compute nodes in a pool.</span></span>

* <span data-ttu-id="10159-374">trabajo de Hello especifica hello **grupo** en qué hello es toobe ejecutar el trabajo.</span><span class="sxs-lookup"><span data-stu-id="10159-374">hello job specifies hello **pool** in which hello work is toobe run.</span></span> <span data-ttu-id="10159-375">Puede crear un grupo para cada trabajo o usar uno solo para muchos de ellos.</span><span class="sxs-lookup"><span data-stu-id="10159-375">You can create a new pool for each job, or use one pool for many jobs.</span></span> <span data-ttu-id="10159-376">Puede crear un grupo para cada trabajo asociado con una programación de trabajo o para todos los trabajos asociados con ella.</span><span class="sxs-lookup"><span data-stu-id="10159-376">You can create a pool for each job that is associated with a job schedule, or for all jobs that are associated with a job schedule.</span></span>
* <span data-ttu-id="10159-377">Puede especificar una **prioridad del trabajo**opcional.</span><span class="sxs-lookup"><span data-stu-id="10159-377">You can specify an optional **job priority**.</span></span> <span data-ttu-id="10159-378">Cuando se envía un trabajo con una prioridad más alta que los trabajos que están actualmente en curso, se insertan tareas hello para el trabajo de prioridad más alta de hello en cola de Hola por delante de las tareas para los trabajos de menor prioridad Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-378">When a job is submitted with a higher priority than jobs that are currently in progress, hello tasks for hello higher-priority job are inserted into hello queue ahead of tasks for hello lower-priority jobs.</span></span> <span data-ttu-id="10159-379">No adelantarán a las tareas de trabajos de prioridad más baja que ya estén en ejecución.</span><span class="sxs-lookup"><span data-stu-id="10159-379">Tasks in lower-priority jobs that are already running are not preempted.</span></span>
* <span data-ttu-id="10159-380">Puede usar trabajo **restricciones** toospecify ciertos límites para los trabajos:</span><span class="sxs-lookup"><span data-stu-id="10159-380">You can use job **constraints** toospecify certain limits for your jobs:</span></span>

    <span data-ttu-id="10159-381">Puede establecer un **wallclock máximo tiempo**, de modo que si un trabajo se ejecuta durante más tiempo máximo wallclock de Hola que se especifica, se terminan trabajo hello y todas sus tareas.</span><span class="sxs-lookup"><span data-stu-id="10159-381">You can set a **maximum wallclock time**, so that if a job runs for longer than hello maximum wallclock time that is specified, hello job and all of its tasks are terminated.</span></span>

    <span data-ttu-id="10159-382">Batch puede detectar tareas con errores y después volver a intentarlas.</span><span class="sxs-lookup"><span data-stu-id="10159-382">Batch can detect and then retry failed tasks.</span></span> <span data-ttu-id="10159-383">Puede especificar hello **número máximo de reintentos de tarea** como una restricción, incluso si una tarea es *siempre* o *nunca* vuelve a intentar.</span><span class="sxs-lookup"><span data-stu-id="10159-383">You can specify hello **maximum number of task retries** as a constraint, including whether a task is *always* or *never* retried.</span></span> <span data-ttu-id="10159-384">Volver a intentar una tarea significa que la tarea hello toobe poner en cola, vuelva a ejecutar.</span><span class="sxs-lookup"><span data-stu-id="10159-384">Retrying a task means that hello task is requeued toobe run again.</span></span>
* <span data-ttu-id="10159-385">La aplicación cliente puede agregar trabajo tooa de tareas, o puede especificar un [tarea del Administrador de trabajos](#job-manager-task).</span><span class="sxs-lookup"><span data-stu-id="10159-385">Your client application can add tasks tooa job, or you can specify a [job manager task](#job-manager-task).</span></span> <span data-ttu-id="10159-386">Una tarea del Administrador de trabajo contiene información de Hola que es necesario toocreate Hola requiere tareas de un trabajo, con la tarea del Administrador de trabajos de Hola que se ejecute en uno de hello nodos de cálculo en el grupo de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-386">A job manager task contains hello information that is necessary toocreate hello required tasks for a job, with hello job manager task being run on one of hello compute nodes in hello pool.</span></span> <span data-ttu-id="10159-387">Hello tarea del Administrador de trabajos se trata específicamente por lote--está en la cola en cuanto trabajo Hola se crea y se reinicia si se produce un error.</span><span class="sxs-lookup"><span data-stu-id="10159-387">hello job manager task is handled specifically by Batch--it is queued as soon as hello job is created, and is restarted if it fails.</span></span> <span data-ttu-id="10159-388">Es una tarea del Administrador de trabajos *requiere* para los trabajos creados por un [la programación del trabajo](#scheduled-jobs) porque es Hola únicas forma toodefine Hola tareas antes de que se crea una instancia de trabajo de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-388">A job manager task is *required* for jobs that are created by a [job schedule](#scheduled-jobs) because it is hello only way toodefine hello tasks before hello job is instantiated.</span></span>
* <span data-ttu-id="10159-389">De forma predeterminada, trabajos permanecen en estado activo de hello cuando complete todas las tareas de trabajo de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-389">By default, jobs remain in hello active state when all tasks within hello job are complete.</span></span> <span data-ttu-id="10159-390">Puede cambiar este comportamiento para que hello trabajo finalizará automáticamente cuando complete todas las tareas de trabajo de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-390">You can change this behavior so that hello job is automatically terminated when all tasks in hello job are complete.</span></span> <span data-ttu-id="10159-391">Conjunto Hola trabajo **onAllTasksComplete** propiedad ([OnAllTasksComplete] [ net_onalltaskscomplete] en .NET de lote) demasiado*terminatejob* tooautomatically terminar el trabajo de hello cuando todas sus tareas están en estado de hello completado.</span><span class="sxs-lookup"><span data-stu-id="10159-391">Set hello job's **onAllTasksComplete** property ([OnAllTasksComplete][net_onalltaskscomplete] in Batch .NET) too*terminatejob* tooautomatically terminate hello job when all of its tasks are in hello completed state.</span></span>

    <span data-ttu-id="10159-392">Tenga en cuenta que el servicio por lotes Hola considera que un trabajo con *no* toohave tareas completado todas sus tareas.</span><span class="sxs-lookup"><span data-stu-id="10159-392">Note that hello Batch service considers a job with *no* tasks toohave all of its tasks completed.</span></span> <span data-ttu-id="10159-393">Por lo tanto, esta opción se utiliza normalmente con una [tarea del administrador de trabajos](#job-manager-task).</span><span class="sxs-lookup"><span data-stu-id="10159-393">Therefore, this option is most commonly used with a [job manager task](#job-manager-task).</span></span> <span data-ttu-id="10159-394">Si desea que la terminación de trabajo automática toouse sin un administrador de trabajos, debe establecer inicialmente un nuevo trabajo **onAllTasksComplete** propiedad demasiado*noaction*, a continuación, establezca demasiado*terminatejob* solo después de que haya terminado de agregar tareas toohello trabajo.</span><span class="sxs-lookup"><span data-stu-id="10159-394">If you want toouse automatic job termination without a job manager, you should initially set a new job's **onAllTasksComplete** property too*noaction*, then set it too*terminatejob* only after you've finished adding tasks toohello job.</span></span>

### <a name="job-priority"></a><span data-ttu-id="10159-395">prioridad del trabajo</span><span class="sxs-lookup"><span data-stu-id="10159-395">Job priority</span></span>
<span data-ttu-id="10159-396">Puede asignar un toojobs de prioridad que se crean en el lote.</span><span class="sxs-lookup"><span data-stu-id="10159-396">You can assign a priority toojobs that you create in Batch.</span></span> <span data-ttu-id="10159-397">Hola servicio por lotes usa el valor de prioridad de Hola de hello toodetermine Hola de órdenes de programación de trabajos en una cuenta (Esto no es toobe confundirse con un [trabajo programado](#scheduled-jobs)).</span><span class="sxs-lookup"><span data-stu-id="10159-397">hello Batch service uses hello priority value of hello job toodetermine hello order of job scheduling within an account (this is not toobe confused with a [scheduled job](#scheduled-jobs)).</span></span> <span data-ttu-id="10159-398">los valores de prioridad de Hello comprendidos entre -1000 too1000, con -1000 Hola de prioridad más baja y 1000 está Hola más alto.</span><span class="sxs-lookup"><span data-stu-id="10159-398">hello priority values range from -1000 too1000, with -1000 being hello lowest priority and 1000 being hello highest.</span></span> <span data-ttu-id="10159-399">prioridad de hello tooupdate de un trabajo, llamada hello [actualizar propiedades de Hola de un trabajo] [ rest_update_job] operación (REST de lote), o modificar hello [CloudJob.Priority] [ net_cloudjob_priority] propiedad (lote. NET).</span><span class="sxs-lookup"><span data-stu-id="10159-399">tooupdate hello priority of a job, call hello [Update hello properties of a job][rest_update_job] operation (Batch REST), or modify hello [CloudJob.Priority][net_cloudjob_priority] property (Batch .NET).</span></span>

<span data-ttu-id="10159-400">Dentro de hello misma cuenta, mayor prioridad trabajos tienen la prioridad de programación a través de los trabajos con prioridad inferior.</span><span class="sxs-lookup"><span data-stu-id="10159-400">Within hello same account, higher-priority jobs have scheduling precedence over lower-priority jobs.</span></span> <span data-ttu-id="10159-401">Un trabajo con un valor de prioridad mayor en una cuenta no tiene precedencia de programación sobre otro trabajo con un valor de prioridad inferior de una cuenta diferente.</span><span class="sxs-lookup"><span data-stu-id="10159-401">A job with a higher-priority value in one account does not have scheduling precedence over another job with a lower-priority value in a different account.</span></span>

<span data-ttu-id="10159-402">La programación de trabajos entre los grupos es independiente.</span><span class="sxs-lookup"><span data-stu-id="10159-402">Job scheduling across pools is independent.</span></span> <span data-ttu-id="10159-403">Entre grupos diferentes, no se garantiza que un trabajo con una prioridad más alta se programe antes si el grupo asociado tiene pocos nodos inactivos.</span><span class="sxs-lookup"><span data-stu-id="10159-403">Between different pools, it is not guaranteed that a higher-priority job is scheduled first if its associated pool is short of idle nodes.</span></span> <span data-ttu-id="10159-404">Hola mismo grupo, los trabajos con hello mismo nivel de prioridad tienen la misma probabilidad de estar programado.</span><span class="sxs-lookup"><span data-stu-id="10159-404">In hello same pool, jobs with hello same priority level have an equal chance of being scheduled.</span></span>

### <a name="scheduled-jobs"></a><span data-ttu-id="10159-405">Scheduled jobs</span><span class="sxs-lookup"><span data-stu-id="10159-405">Scheduled jobs</span></span>
<span data-ttu-id="10159-406">[Programaciones de trabajos] [ rest_job_schedules] habilitar los trabajos recurrentes toocreate dentro de hello servicio por lotes.</span><span class="sxs-lookup"><span data-stu-id="10159-406">[Job schedules][rest_job_schedules] enable you toocreate recurring jobs within hello Batch service.</span></span> <span data-ttu-id="10159-407">Una programación de trabajo especifica cuando los trabajos e incluye especificaciones de Hola para hello trabajos toobe ejecutar toorun.</span><span class="sxs-lookup"><span data-stu-id="10159-407">A job schedule specifies when toorun jobs and includes hello specifications for hello jobs toobe run.</span></span> <span data-ttu-id="10159-408">Puede especificar cuánto tiempo duración Hola de programación de hello--y cuando programación Hola está en vigor, y con qué frecuencia se crean trabajos durante Hola programado período.</span><span class="sxs-lookup"><span data-stu-id="10159-408">You can specify hello duration of hello schedule--how long and when hello schedule is in effect--and how frequently jobs are created during hello scheduled period.</span></span>

## <a name="task"></a><span data-ttu-id="10159-409">Tarea</span><span class="sxs-lookup"><span data-stu-id="10159-409">Task</span></span>
<span data-ttu-id="10159-410">Una tarea es una unidad de cálculo que está asociada con un trabajo.</span><span class="sxs-lookup"><span data-stu-id="10159-410">A task is a unit of computation that is associated with a job.</span></span> <span data-ttu-id="10159-411">Se ejecuta en un nodo.</span><span class="sxs-lookup"><span data-stu-id="10159-411">It runs on a node.</span></span> <span data-ttu-id="10159-412">Las tareas se asignan tooa nodo para su ejecución, o se ponen en cola hasta que un nodo deja de estar disponible.</span><span class="sxs-lookup"><span data-stu-id="10159-412">Tasks are assigned tooa node for execution, or are queued until a node becomes free.</span></span> <span data-ttu-id="10159-413">En términos simples, una tarea ejecuta uno o más programas o scripts en un proceso nodo tooperform Hola trabajo que necesita.</span><span class="sxs-lookup"><span data-stu-id="10159-413">Put simply, a task runs one or more programs or scripts on a compute node tooperform hello work you need done.</span></span>

<span data-ttu-id="10159-414">Cuando crea una tarea, puede especificar:</span><span class="sxs-lookup"><span data-stu-id="10159-414">When you create a task, you can specify:</span></span>

* <span data-ttu-id="10159-415">Hola **línea de comandos** para la tarea hello.</span><span class="sxs-lookup"><span data-stu-id="10159-415">hello **command line** for hello task.</span></span> <span data-ttu-id="10159-416">Se trata de línea de comandos de Hola que se ejecuta la aplicación o el script en el nodo de proceso de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-416">This is hello command line that runs your application or script on hello compute node.</span></span>

    <span data-ttu-id="10159-417">Es importante toonote que Hola de línea de comandos no se ejecute en un shell.</span><span class="sxs-lookup"><span data-stu-id="10159-417">It is important toonote that hello command line does not actually run under a shell.</span></span> <span data-ttu-id="10159-418">Por lo tanto, forma nativa no puede aprovechar las características de shell como [variable de entorno](#environment-settings-for-tasks) expansión (Esto incluye hello `PATH`).</span><span class="sxs-lookup"><span data-stu-id="10159-418">Therefore, it cannot natively take advantage of shell features like [environment variable](#environment-settings-for-tasks) expansion (this includes hello `PATH`).</span></span> <span data-ttu-id="10159-419">tootake provecho de estas características, debe invocar shell hello en línea de comandos de hello: por ejemplo, iniciando `cmd.exe` en nodos de Windows o `/bin/sh` en Linux:</span><span class="sxs-lookup"><span data-stu-id="10159-419">tootake advantage of such features, you must invoke hello shell in hello command line--for example, by launching `cmd.exe` on Windows nodes or `/bin/sh` on Linux:</span></span>

    `cmd /c MyTaskApplication.exe %MY_ENV_VAR%`

    `/bin/sh -c MyTaskApplication $MY_ENV_VAR`

    <span data-ttu-id="10159-420">Si las tareas deben toorun una aplicación o un script que no esté en Hola del nodo `PATH` o hacer referencia a variables de entorno, invoque shell Hola explícitamente en la línea de comandos de tarea de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-420">If your tasks need toorun an application or script that is not in hello node's `PATH` or reference environment variables, invoke hello shell explicitly in hello task command line.</span></span>
* <span data-ttu-id="10159-421">**Archivos de recursos** que contienen hello toobe de datos procesado.</span><span class="sxs-lookup"><span data-stu-id="10159-421">**Resource files** that contain hello data toobe processed.</span></span> <span data-ttu-id="10159-422">Estos archivos son nodo toohello copia de forma automática desde el almacenamiento de blobs en una cuenta de almacenamiento de Azure de propósito general antes de que se ejecuta la línea de comandos de la tarea hello.</span><span class="sxs-lookup"><span data-stu-id="10159-422">These files are automatically copied toohello node from Blob storage in a general-purpose Azure Storage account before hello task's command line is executed.</span></span> <span data-ttu-id="10159-423">Para obtener más información, consulte las secciones de hello [tarea de inicio](#start-task) y [archivos y directorios](#files-and-directories).</span><span class="sxs-lookup"><span data-stu-id="10159-423">For more information, see hello sections [Start task](#start-task) and [Files and directories](#files-and-directories).</span></span>
* <span data-ttu-id="10159-424">Hola **variables de entorno** que son requeridos por la aplicación.</span><span class="sxs-lookup"><span data-stu-id="10159-424">hello **environment variables** that are required by your application.</span></span> <span data-ttu-id="10159-425">Para obtener más información, vea hello [configuración del entorno para tareas](#environment-settings-for-tasks) sección.</span><span class="sxs-lookup"><span data-stu-id="10159-425">For more information, see hello [Environment settings for tasks](#environment-settings-for-tasks) section.</span></span>
* <span data-ttu-id="10159-426">Hola **restricciones** bajo qué Hola debe ejecutar la tarea.</span><span class="sxs-lookup"><span data-stu-id="10159-426">hello **constraints** under which hello task should execute.</span></span> <span data-ttu-id="10159-427">Por ejemplo, las restricciones incluyen el tiempo máximo de hello esa tarea Hola se permite toorun, número máximo de Hola de veces que se debe reintentar una tarea fallida, y el tiempo máximo de Hola que se conservan los archivos en el directorio de trabajo de la tarea hello.</span><span class="sxs-lookup"><span data-stu-id="10159-427">For example, constraints include hello maximum time that hello task is allowed toorun, hello maximum number of times a failed task should be retried, and hello maximum time that files in hello task's working directory are retained.</span></span>
* <span data-ttu-id="10159-428">**Paquetes de aplicación** toodeploy toohello en qué Hola está programada toorun tarea de nodo de proceso.</span><span class="sxs-lookup"><span data-stu-id="10159-428">**Application packages** toodeploy toohello compute node on which hello task is scheduled toorun.</span></span> <span data-ttu-id="10159-429">[Paquetes de aplicación](#application-packages) proporcionar implementación simplificada y control de versiones de aplicaciones de Hola que se ejecutan las tareas.</span><span class="sxs-lookup"><span data-stu-id="10159-429">[Application packages](#application-packages) provide simplified deployment and versioning of hello applications that your tasks run.</span></span> <span data-ttu-id="10159-430">Paquetes de aplicación de nivel de tarea son especialmente útiles en entornos de grupo compartido, donde distintos trabajos que se ejecutan en un grupo y no se elimina el grupo de hello cuando se completa un trabajo.</span><span class="sxs-lookup"><span data-stu-id="10159-430">Task-level application packages are especially useful in shared-pool environments, where different jobs are run on one pool, and hello pool is not deleted when a job is completed.</span></span> <span data-ttu-id="10159-431">Si el trabajo tiene menos tareas que los nodos de grupo de hello, paquetes de aplicaciones de la tarea pueden minimizar la transferencia de datos ya que la aplicación está implementada toohello solo nodos que se ejecutan las tareas.</span><span class="sxs-lookup"><span data-stu-id="10159-431">If your job has fewer tasks than nodes in hello pool, task application packages can minimize data transfer since your application is deployed only toohello nodes that run tasks.</span></span>

<span data-ttu-id="10159-432">Además tootasks definir tooperform cálculo en un nodo, Hola después tareas especiales también se proporciona Hola servicio por lotes:</span><span class="sxs-lookup"><span data-stu-id="10159-432">In addition tootasks you define tooperform computation on a node, hello following special tasks are also provided by hello Batch service:</span></span>

* [<span data-ttu-id="10159-433">Tarea de inicio</span><span class="sxs-lookup"><span data-stu-id="10159-433">Start task</span></span>](#start-task)
* [<span data-ttu-id="10159-434">Tareas del Administrador de trabajos</span><span class="sxs-lookup"><span data-stu-id="10159-434">Job manager task</span></span>](#job-manager-task)
* [<span data-ttu-id="10159-435">Tareas de preparación y liberación de trabajos</span><span class="sxs-lookup"><span data-stu-id="10159-435">Job preparation and release tasks</span></span>](#job-preparation-and-release-tasks)
* [<span data-ttu-id="10159-436">Tareas de instancias múltiples (MPI)</span><span class="sxs-lookup"><span data-stu-id="10159-436">Multi-instance tasks (MPI)</span></span>](#multi-instance-tasks)
* [<span data-ttu-id="10159-437">Dependencias de las tareas</span><span class="sxs-lookup"><span data-stu-id="10159-437">Task dependencies</span></span>](#task-dependencies)

### <a name="start-task"></a><span data-ttu-id="10159-438">Tarea de inicio</span><span class="sxs-lookup"><span data-stu-id="10159-438">Start task</span></span>
<span data-ttu-id="10159-439">Asociando un **Iniciar tarea** con un grupo, puede preparar Hola OE de sus nodos.</span><span class="sxs-lookup"><span data-stu-id="10159-439">By associating a **start task** with a pool, you can prepare hello operating environment of its nodes.</span></span> <span data-ttu-id="10159-440">Por ejemplo, puede realizar acciones tales como instalar aplicaciones de Hola que se ejecutan las tareas o iniciar procesos en segundo plano.</span><span class="sxs-lookup"><span data-stu-id="10159-440">For example, you can perform actions like installing hello applications that your tasks run or starting background processes.</span></span> <span data-ttu-id="10159-441">tarea de inicio de Hola se ejecuta cada vez que inicia un nodo, mientras permanece en el grupo de hello--primero incluso cuando el nodo de hello es agregar grupo toohello y cuando se reinicia o restablece la imagen inicial.</span><span class="sxs-lookup"><span data-stu-id="10159-441">hello start task runs every time a node starts, for as long as it remains in hello pool--including when hello node is first added toohello pool and when it is restarted or reimaged.</span></span>

<span data-ttu-id="10159-442">Una ventaja principal de la tarea de inicio de hello es que puede contener toda información de Hola que sea necesario tooconfigure de un nodo de proceso e instalar aplicaciones de Hola que son necesarias para la ejecución de la tarea.</span><span class="sxs-lookup"><span data-stu-id="10159-442">A primary benefit of hello start task is that it can contain all of hello information that is necessary tooconfigure a compute node and install hello applications that are required for task execution.</span></span> <span data-ttu-id="10159-443">Por lo tanto, es tan simple como especificar el número de nodos de destino nuevo Hola aumentar Hola número de nodos en un grupo.</span><span class="sxs-lookup"><span data-stu-id="10159-443">Therefore, increasing hello number of nodes in a pool is as simple as specifying hello new target node count.</span></span> <span data-ttu-id="10159-444">tarea de inicio de Hello proporciona información de Hola de servicio de lote de Hola que es necesario tooconfigure Hola nuevos nodos y llegar a ellos listo para aceptar las tareas.</span><span class="sxs-lookup"><span data-stu-id="10159-444">hello start task provides hello Batch service hello information that is needed tooconfigure hello new nodes and get them ready for accepting tasks.</span></span>

<span data-ttu-id="10159-445">Como con cualquier tarea del lote de Azure, puede especificar una lista de **archivos de recursos** en [el almacenamiento de Azure][azure_storage], además tooa **línea de comandos** toobe ejecutar.</span><span class="sxs-lookup"><span data-stu-id="10159-445">As with any Azure Batch task, you can specify a list of **resource files** in [Azure Storage][azure_storage], in addition tooa **command line** toobe executed.</span></span> <span data-ttu-id="10159-446">servicio de lote de Hello nodo de toohello de archivos de recursos de Hola la primera copia del almacenamiento de Azure y, a continuación, ejecuta la línea de comandos de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-446">hello Batch service first copies hello resource files toohello node from Azure Storage, and then runs hello command line.</span></span> <span data-ttu-id="10159-447">Para una tarea de inicio de grupo, lista de archivos de Hola normalmente contiene la aplicación de la tarea de hello y sus dependencias.</span><span class="sxs-lookup"><span data-stu-id="10159-447">For a pool start task, hello file list typically contains hello task application and its dependencies.</span></span>

<span data-ttu-id="10159-448">Sin embargo, tarea de inicio de hello podría incluir también toobe de datos de referencia utilizado por todas las tareas que se ejecutan en nodos de proceso de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-448">However, hello start task could also include reference data toobe used by all tasks that are running on hello compute node.</span></span> <span data-ttu-id="10159-449">Por ejemplo, puede realizar la línea de comandos de una tarea de inicio una `robocopy` operación toocopy archivos de la aplicación (que se especificaron como archivos de recursos y descargan nodo toohello) de hello iniciar la tarea [directorio de trabajo](#files-and-directories) toohello [carpeta compartida](#files-and-directories), y, a continuación, ejecute un archivo MSI o `setup.exe`.</span><span class="sxs-lookup"><span data-stu-id="10159-449">For example, a start task's command line could perform a `robocopy` operation toocopy application files (which were specified as resource files and downloaded toohello node) from hello start task's [working directory](#files-and-directories) toohello [shared folder](#files-and-directories), and then run an MSI or `setup.exe`.</span></span>

<span data-ttu-id="10159-450">Es conveniente normalmente hello toowait de servicio de lote para toocomplete de tarea de inicio de hello antes de considerar Hola tareas listo toobe asignado de nodo, pero puede configurarlo.</span><span class="sxs-lookup"><span data-stu-id="10159-450">It is typically desirable for hello Batch service toowait for hello start task toocomplete before considering hello node ready toobe assigned tasks, but you can configure this.</span></span>

<span data-ttu-id="10159-451">Si se produce un error en una tarea de inicio en un nodo de proceso, a continuación, hello estado del nodo de Hola se tooreflect actualizada Hola error, y nodo hello no está asignado a las tareas.</span><span class="sxs-lookup"><span data-stu-id="10159-451">If a start task fails on a compute node, then hello state of hello node is updated tooreflect hello failure, and hello node is not assigned any tasks.</span></span> <span data-ttu-id="10159-452">Una tarea de inicio puede producir un error si hay un problema de copiar sus archivos de recursos de almacenamiento, o si el proceso de hello ejecutado por su línea de comandos devuelve un código de salida distinto de cero.</span><span class="sxs-lookup"><span data-stu-id="10159-452">A start task can fail if there is an issue copying its resource files from storage, or if hello process executed by its command line returns a nonzero exit code.</span></span>

<span data-ttu-id="10159-453">Si agrega o actualiza la tarea de inicio de hello para un grupo existente, debe reiniciar el equipo de sus nodos de proceso para hello inicio tarea toobe aplica toohello nodos.</span><span class="sxs-lookup"><span data-stu-id="10159-453">If you add or update hello start task for an existing pool, you must reboot its compute nodes for hello start task toobe applied toohello nodes.</span></span>

>[!NOTE]
> <span data-ttu-id="10159-454">Hello tamaño total de una tarea de inicio debe ser menor o igual too32768 caracteres, incluidos los archivos de recursos y las variables de entorno.</span><span class="sxs-lookup"><span data-stu-id="10159-454">hello total size of a start task must be less than or equal too32768 characters, including resource files and environment variables.</span></span> <span data-ttu-id="10159-455">tooensure que la tarea de inicio cumple este requisito, puede usar uno de estos dos enfoques:</span><span class="sxs-lookup"><span data-stu-id="10159-455">tooensure that your start task meets this requirement, you can use one of two approaches:</span></span>
>
> 1. <span data-ttu-id="10159-456">Puede utilizar aplicaciones de toodistribute de paquetes de aplicación o datos en cada nodo en el grupo de lote.</span><span class="sxs-lookup"><span data-stu-id="10159-456">You can use application packages toodistribute applications or data across each node in your Batch pool.</span></span> <span data-ttu-id="10159-457">Para obtener más información acerca de los paquetes de aplicación, consulte [implementar aplicaciones toocompute nodos con paquetes de aplicaciones de lote](batch-application-packages.md).</span><span class="sxs-lookup"><span data-stu-id="10159-457">For more information about application packages, see [Deploy applications toocompute nodes with Batch application packages](batch-application-packages.md).</span></span>
> 2. <span data-ttu-id="10159-458">Puede crear manualmente un archivo comprimido que contenga los archivos de aplicación.</span><span class="sxs-lookup"><span data-stu-id="10159-458">You can manually create a zipped archive containing your applications files.</span></span> <span data-ttu-id="10159-459">Cargue el almacenamiento de archivo comprimido tooAzure como un blob.</span><span class="sxs-lookup"><span data-stu-id="10159-459">Upload your zipped archive tooAzure Storage as a blob.</span></span> <span data-ttu-id="10159-460">Especificar el archivo de hello zip como un archivo de recursos para la tarea de inicio.</span><span class="sxs-lookup"><span data-stu-id="10159-460">Specify hello zipped archive as a resource file for your start task.</span></span> <span data-ttu-id="10159-461">Antes de ejecutar línea de comandos de hello para la tarea de inicio, descomprima el archivo hello desde línea de comandos de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-461">Before you run hello command line for your start task, unzip hello archive from hello command line.</span></span> 
>
>    <span data-ttu-id="10159-462">archivo de hello toounzip, puede usar Hola archivar la herramienta de su elección.</span><span class="sxs-lookup"><span data-stu-id="10159-462">toounzip hello archive, you can use hello archiving tool of your choice.</span></span> <span data-ttu-id="10159-463">Necesitará la herramienta de hello tooinclude que usar archive de hello toounzip como un archivo de recursos para la tarea de inicio de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-463">You will need tooinclude hello tool that you use toounzip hello archive as a resource file for hello start task.</span></span>
>
>

### <a name="job-manager-task"></a><span data-ttu-id="10159-464">Tareas del Administrador de trabajos</span><span class="sxs-lookup"><span data-stu-id="10159-464">Job manager task</span></span>
<span data-ttu-id="10159-465">Normalmente, se utiliza un **tarea del Administrador de trabajos** toocontrol o monitor de trabajo de ejecución, por ejemplo, toocreate y enviar tareas de Hola para un trabajo, determinar toorun tareas adicionales y determinar cuándo el trabajo ha finalizado.</span><span class="sxs-lookup"><span data-stu-id="10159-465">You typically use a **job manager task** toocontrol and/or monitor job execution--for example, toocreate and submit hello tasks for a job, determine additional tasks toorun, and determine when work is complete.</span></span> <span data-ttu-id="10159-466">Sin embargo, una tarea del Administrador de trabajos no es actividades toothese restringido.</span><span class="sxs-lookup"><span data-stu-id="10159-466">However, a job manager task is not restricted toothese activities.</span></span> <span data-ttu-id="10159-467">Es una tarea completa que puede realizar todas las acciones que se requieren para el trabajo de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-467">It is a fully fledged task that can perform any actions that are required for hello job.</span></span> <span data-ttu-id="10159-468">Por ejemplo, una tarea del Administrador de trabajos puede descargar un archivo que se especifica como un parámetro, analizar Hola contenido de ese archivo y enviar tareas adicionales en función de dicho contenido.</span><span class="sxs-lookup"><span data-stu-id="10159-468">For example, a job manager task might download a file that is specified as a parameter, analyze hello contents of that file, and submit additional tasks based on those contents.</span></span>

<span data-ttu-id="10159-469">Una tarea del administrador de trabajos se inicia antes que cualquier otra.</span><span class="sxs-lookup"><span data-stu-id="10159-469">A job manager task is started before all other tasks.</span></span> <span data-ttu-id="10159-470">Proporciona Hola siguientes características:</span><span class="sxs-lookup"><span data-stu-id="10159-470">It provides hello following features:</span></span>

* <span data-ttu-id="10159-471">Automáticamente se envía como una tarea por hello servicio por lotes cuando se crea el trabajo de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-471">It is automatically submitted as a task by hello Batch service when hello job is created.</span></span>
* <span data-ttu-id="10159-472">Se está programada tooexecute antes de hello otras tareas de un trabajo.</span><span class="sxs-lookup"><span data-stu-id="10159-472">It is scheduled tooexecute before hello other tasks in a job.</span></span>
* <span data-ttu-id="10159-473">Su nodo asociado es toobe última hello quitado de un grupo al grupo de hello es que se producen reducciones.</span><span class="sxs-lookup"><span data-stu-id="10159-473">Its associated node is hello last toobe removed from a pool when hello pool is being downsized.</span></span>
* <span data-ttu-id="10159-474">Su terminación puede ser toohello relacionados de finalización de todas las tareas de trabajo de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-474">Its termination can be tied toohello termination of all tasks in hello job.</span></span>
* <span data-ttu-id="10159-475">Una tarea del Administrador de trabajos tiene prioridad más alta de hello cuando necesita toobe reiniciar.</span><span class="sxs-lookup"><span data-stu-id="10159-475">A job manager task is given hello highest priority when it needs toobe restarted.</span></span> <span data-ttu-id="10159-476">Si no hay un nodo inactivo, Hola servicio por lotes puede terminarse uno de hello otras tareas en ejecución en sala de hello grupo toomake para toorun de tareas de administrador de trabajos de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-476">If an idle node is not available, hello Batch service might terminate one of hello other running tasks in hello pool toomake room for hello job manager task toorun.</span></span>
* <span data-ttu-id="10159-477">Una tarea del Administrador de trabajo en un trabajo no tiene prioridad sobre las tareas de Hola de otros trabajos.</span><span class="sxs-lookup"><span data-stu-id="10159-477">A job manager task in one job does not have priority over hello tasks of other jobs.</span></span> <span data-ttu-id="10159-478">Entre trabajos, solo se tienen en cuenta las prioridades de nivel de trabajo.</span><span class="sxs-lookup"><span data-stu-id="10159-478">Across jobs, only job-level priorities are observed.</span></span>

### <a name="job-preparation-and-release-tasks"></a><span data-ttu-id="10159-479">Tareas de preparación y liberación de trabajos</span><span class="sxs-lookup"><span data-stu-id="10159-479">Job preparation and release tasks</span></span>
<span data-ttu-id="10159-480">El servicio Batch proporciona la tarea de preparación del trabajo para la configuración de ejecución previa al trabajo.</span><span class="sxs-lookup"><span data-stu-id="10159-480">Batch provides job preparation tasks for pre-job execution setup.</span></span> <span data-ttu-id="10159-481">Tareas de liberación del trabajo para el mantenimiento o la limpieza posteriores al trabajo.</span><span class="sxs-lookup"><span data-stu-id="10159-481">Job release tasks are for post-job maintenance or cleanup.</span></span>

* <span data-ttu-id="10159-482">**Tareas de preparación del trabajo**: una tarea de preparación de trabajo se ejecuta en todos los nodos de proceso que son tareas programadas toorun, antes de cualquier Hola se ejecutan otras tareas de trabajo.</span><span class="sxs-lookup"><span data-stu-id="10159-482">**Job preparation task**: A job preparation task runs on all compute nodes that are scheduled toorun tasks, before any of hello other job tasks are executed.</span></span> <span data-ttu-id="10159-483">Puede usar un datos de toocopy de tareas de preparación de trabajo que se comparten entre todas las tareas, pero es trabajo toohello único, por ejemplo.</span><span class="sxs-lookup"><span data-stu-id="10159-483">You can use a job preparation task toocopy data that is shared by all tasks, but is unique toohello job, for example.</span></span>
* <span data-ttu-id="10159-484">**Tarea de liberación del trabajo**: cuando haya finalizado un trabajo, una tarea de liberación del trabajo se ejecuta en cada nodo de grupo de Hola que ejecuta al menos una tarea.</span><span class="sxs-lookup"><span data-stu-id="10159-484">**Job release task**: When a job has completed, a job release task runs on each node in hello pool that executed at least one task.</span></span> <span data-ttu-id="10159-485">Puede utilizar un trabajo versión toodelete datos de la tarea que se copian en la tarea de preparación del trabajo de Hola o toocompress y la carga de datos del registro diagnóstico, por ejemplo.</span><span class="sxs-lookup"><span data-stu-id="10159-485">You can use a job release task toodelete data that is copied by hello job preparation task, or toocompress and upload diagnostic log data, for example.</span></span>

<span data-ttu-id="10159-486">Ambos preparación del trabajo y tareas de versión permiten toospecify un toorun de línea de comandos cuando se invoca la tarea hello.</span><span class="sxs-lookup"><span data-stu-id="10159-486">Both job preparation and release tasks allow you toospecify a command line toorun when hello task is invoked.</span></span> <span data-ttu-id="10159-487">Las tareas ofrecen características tales como descarga de archivos, ejecución con elevación de privilegios, variables de entorno personalizadas, duración máxima de ejecución, número de reintentos y tiempo de retención de archivo.</span><span class="sxs-lookup"><span data-stu-id="10159-487">They offer features like file download, elevated execution, custom environment variables, maximum execution duration, retry count, and file retention time.</span></span>

<span data-ttu-id="10159-488">Para obtener más información sobre las tareas de preparación y liberación del trabajo, consulte [Ejecución de las tareas de preparación y realización de trabajos en los nodos de proceso de Azure Batch](batch-job-prep-release.md).</span><span class="sxs-lookup"><span data-stu-id="10159-488">For more information on job preparation and release tasks, see [Run job preparation and completion tasks on Azure Batch compute nodes](batch-job-prep-release.md).</span></span>

### <a name="multi-instance-task"></a><span data-ttu-id="10159-489">Tarea de instancias múltiples</span><span class="sxs-lookup"><span data-stu-id="10159-489">Multi-instance task</span></span>
<span data-ttu-id="10159-490">A [tareas varias instancias](batch-mpi.md) es una tarea que esté configurado toorun en más de un nodo de ejecución al mismo tiempo.</span><span class="sxs-lookup"><span data-stu-id="10159-490">A [multi-instance task](batch-mpi.md) is a task that is configured toorun on more than one compute node simultaneously.</span></span> <span data-ttu-id="10159-491">Con las tareas de varias instancias, puede habilitar el alto rendimiento informáticos escenarios que requieren un grupo de nodos de proceso que asignan juntos tooprocess una carga de trabajo única (como pasar interfaz mensajes (MPI)).</span><span class="sxs-lookup"><span data-stu-id="10159-491">With multi-instance tasks, you can enable high-performance computing scenarios that require a group of compute nodes that are allocated together tooprocess a single workload (like Message Passing Interface (MPI)).</span></span>

<span data-ttu-id="10159-492">Para obtener una explicación detallada sobre cómo ejecutar trabajos de MPI en lote mediante el uso de la biblioteca de .NET de lotes de hello, visite [varias instancias de uso tareas toorun las aplicaciones de interfaz de paso de mensajes (MPI) en Azure Batch](batch-mpi.md).</span><span class="sxs-lookup"><span data-stu-id="10159-492">For a detailed discussion on running MPI jobs in Batch by using hello Batch .NET library, check out [Use multi-instance tasks toorun Message Passing Interface (MPI) applications in Azure Batch](batch-mpi.md).</span></span>

### <a name="task-dependencies"></a><span data-ttu-id="10159-493">Dependencias de las tareas</span><span class="sxs-lookup"><span data-stu-id="10159-493">Task dependencies</span></span>
<span data-ttu-id="10159-494">[Las dependencias entre tareas](batch-task-dependencies.md), como Hola nombre indica, le permiten toospecify que depende una tarea en la realización de Hola de otras tareas antes de su ejecución.</span><span class="sxs-lookup"><span data-stu-id="10159-494">[Task dependencies](batch-task-dependencies.md), as hello name implies, allow you toospecify that a task depends on hello completion of other tasks before its execution.</span></span> <span data-ttu-id="10159-495">Esta característica proporciona compatibilidad para situaciones en que una tarea "nivel inferior" consume salida de hello de una tarea "precede en la cadena"--o cuando una tarea de nivel superior realiza algunas operaciones de inicialización que requiere una tarea de nivel inferior.</span><span class="sxs-lookup"><span data-stu-id="10159-495">This feature provides support for situations in which a "downstream" task consumes hello output of an "upstream" task--or when an upstream task performs some initialization that is required by a downstream task.</span></span> <span data-ttu-id="10159-496">toouse esta característica, debe primero las dependencias de tareas habilitar en el proceso por lotes.</span><span class="sxs-lookup"><span data-stu-id="10159-496">toouse this feature, you must first enable task dependencies on your Batch job.</span></span> <span data-ttu-id="10159-497">A continuación, para cada tarea que depende de otro (o muchos otros), especifique las tareas de Hola que depende de dicha tarea.</span><span class="sxs-lookup"><span data-stu-id="10159-497">Then, for each task that depends on another (or many others), you specify hello tasks which that task depends on.</span></span>

<span data-ttu-id="10159-498">Con las dependencias de tareas, puede configurar escenarios como Hola siguiente:</span><span class="sxs-lookup"><span data-stu-id="10159-498">With task dependencies, you can configure scenarios like hello following:</span></span>

* <span data-ttu-id="10159-499">*taskB* depende de *taskA* (la ejecución de *taskB* no se iniciará hasta que *taskA* se haya completado).</span><span class="sxs-lookup"><span data-stu-id="10159-499">*taskB* depends on *taskA* (*taskB* will not begin execution until *taskA* has completed).</span></span>
* <span data-ttu-id="10159-500">*taskC* depende de *taskA* y *taskB*.</span><span class="sxs-lookup"><span data-stu-id="10159-500">*taskC* depends on both *taskA* and *taskB*.</span></span>
* <span data-ttu-id="10159-501">*taskD* depende de un intervalo de tareas, como las tareas de *1* a *10*, antes de ejecutarse.</span><span class="sxs-lookup"><span data-stu-id="10159-501">*taskD* depends on a range of tasks, such as tasks *1* through *10*, before it executes.</span></span>

<span data-ttu-id="10159-502">Extraer del repositorio [tareas dependencias en Azure Batch](batch-task-dependencies.md) hello y [TaskDependencies] [ github_sample_taskdeps] código de ejemplo de Hola [ejemplos de lote de azure] [ github_samples] Repositorio de GitHub para más información detallada sobre esta característica.</span><span class="sxs-lookup"><span data-stu-id="10159-502">Check out [Task dependencies in Azure Batch](batch-task-dependencies.md) and hello [TaskDependencies][github_sample_taskdeps] code sample in hello [azure-batch-samples][github_samples] GitHub repository for more in-depth details on this feature.</span></span>

## <a name="environment-settings-for-tasks"></a><span data-ttu-id="10159-503">Configuración del entorno para las tareas</span><span class="sxs-lookup"><span data-stu-id="10159-503">Environment settings for tasks</span></span>
<span data-ttu-id="10159-504">Cada tarea ejecutada por hello servicio por lotes tiene variables de tooenvironment de acceso que establece en nodos de proceso.</span><span class="sxs-lookup"><span data-stu-id="10159-504">Each task executed by hello Batch service has access tooenvironment variables that it sets on compute nodes.</span></span> <span data-ttu-id="10159-505">Esto incluye las variables de entorno definidas por hello servicio por lotes ([definido por el servicio][msdn_env_vars]) y las variables de entorno personalizado que se pueden definir para las tareas.</span><span class="sxs-lookup"><span data-stu-id="10159-505">This includes environment variables defined by hello Batch service ([service-defined][msdn_env_vars]) and custom environment variables that you can define for your tasks.</span></span> <span data-ttu-id="10159-506">las aplicaciones de Hola y secuencias de comandos que se ejecutan las tareas tienen acceso a variables de entorno de toothese durante la ejecución.</span><span class="sxs-lookup"><span data-stu-id="10159-506">hello applications and scripts your tasks execute have access toothese environment variables during execution.</span></span>

<span data-ttu-id="10159-507">Se pueden establecer variables de entorno personalizado en el nivel de tarea o trabajo de hello rellenando hello *configuración del entorno* propiedad para estas entidades.</span><span class="sxs-lookup"><span data-stu-id="10159-507">You can set custom environment variables at hello task or job level by populating hello *environment settings* property for these entities.</span></span> <span data-ttu-id="10159-508">Por ejemplo, vea hello [agregar un trabajo de tarea tooa] [ rest_add_task] operación (API de REST de lote) o hello [CloudTask.EnvironmentSettings] [ net_cloudtask_env] y [ CloudJob.CommonEnvironmentSettings] [ net_job_env] propiedades en .NET de lote.</span><span class="sxs-lookup"><span data-stu-id="10159-508">For example, see hello [Add a task tooa job][rest_add_task] operation (Batch REST API), or hello [CloudTask.EnvironmentSettings][net_cloudtask_env] and [CloudJob.CommonEnvironmentSettings][net_job_env] properties in Batch .NET.</span></span>

<span data-ttu-id="10159-509">La aplicación de cliente o servicio puede obtener variables de entorno de una tarea, definido por el servicio y personalizadas, mediante el uso de hello [obtener información acerca de una tarea] [ rest_get_task_info] operación (REST de lote) o mediante el acceso a Hola [CloudTask.EnvironmentSettings] [ net_cloudtask_env] propiedad (lote. NET).</span><span class="sxs-lookup"><span data-stu-id="10159-509">Your client application or service can obtain a task's environment variables, both service-defined and custom, by using hello [Get information about a task][rest_get_task_info] operation (Batch REST) or by accessing hello [CloudTask.EnvironmentSettings][net_cloudtask_env] property (Batch .NET).</span></span> <span data-ttu-id="10159-510">Pueden tener acceso a estos procesos que se ejecutan en un nodo de proceso y otras variables de entorno en el nodo de hello, por ejemplo, mediante el uso de Hola familiarizado `%VARIABLE_NAME%` (Windows) o `$VARIABLE_NAME` sintaxis (Linux).</span><span class="sxs-lookup"><span data-stu-id="10159-510">Processes executing on a compute node can access these and other environment variables on hello node, for example, by using hello familiar `%VARIABLE_NAME%` (Windows) or `$VARIABLE_NAME` (Linux) syntax.</span></span>

<span data-ttu-id="10159-511">Puede encontrar una lista completa de las variables de entorno definidas por el servicio en [Compute node environment variables][msdn_env_vars] (Variables de entorno en los nodos de proceso).</span><span class="sxs-lookup"><span data-stu-id="10159-511">You can find a full list of all service-defined environment variables in [Compute node environment variables][msdn_env_vars].</span></span>

## <a name="files-and-directories"></a><span data-ttu-id="10159-512">Archivos y directorios</span><span class="sxs-lookup"><span data-stu-id="10159-512">Files and directories</span></span>
<span data-ttu-id="10159-513">Cada tarea tiene un *directorio de trabajo* en el que se crean ninguno o más archivos y directorios.</span><span class="sxs-lookup"><span data-stu-id="10159-513">Each task has a *working directory* under which it creates zero or more files and directories.</span></span> <span data-ttu-id="10159-514">Este directorio de trabajo puede utilizarse para almacenar programa Hola ejecutada por la tarea hello, datos de Hola que procesa, y Hola de salida del procesamiento de Hola que lleva a cabo.</span><span class="sxs-lookup"><span data-stu-id="10159-514">This working directory can be used for storing hello program that is run by hello task, hello data that it processes, and hello output of hello processing it performs.</span></span> <span data-ttu-id="10159-515">Usuario de la tarea de hello propiedad todos los archivos y directorios de una tarea.</span><span class="sxs-lookup"><span data-stu-id="10159-515">All files and directories of a task are owned by hello task user.</span></span>

<span data-ttu-id="10159-516">Hola servicio por lotes expone una parte del sistema de archivos de hello en un nodo como hello *directorio raíz*.</span><span class="sxs-lookup"><span data-stu-id="10159-516">hello Batch service exposes a portion of hello file system on a node as hello *root directory*.</span></span> <span data-ttu-id="10159-517">Tareas pueden tener acceso a directorio raíz de hello haciendo referencia a hello `AZ_BATCH_NODE_ROOT_DIR` variable de entorno.</span><span class="sxs-lookup"><span data-stu-id="10159-517">Tasks can access hello root directory by referencing hello `AZ_BATCH_NODE_ROOT_DIR` environment variable.</span></span> <span data-ttu-id="10159-518">Para obtener más información sobre el uso de variables de entorno, consulte [Configuración del entorno para las tareas](#environment-settings-for-tasks).</span><span class="sxs-lookup"><span data-stu-id="10159-518">For more information about using environment variables, see [Environment settings for tasks](#environment-settings-for-tasks).</span></span>

<span data-ttu-id="10159-519">directorio raíz de Hello contiene Hola siguiendo la estructura de directorios:</span><span class="sxs-lookup"><span data-stu-id="10159-519">hello root directory contains hello following directory structure:</span></span>

![Estructura de directorio de nodo de proceso][1]

* <span data-ttu-id="10159-521">**compartido**: este directorio proporciona acceso de lectura/escritura demasiado*todos los* tareas que se ejecutan en un nodo.</span><span class="sxs-lookup"><span data-stu-id="10159-521">**shared**: This directory provides read/write access too*all* tasks that run on a node.</span></span> <span data-ttu-id="10159-522">Cualquier tarea que se ejecuta en el nodo de hello puede crear, leer, actualizar y eliminar archivos en este directorio.</span><span class="sxs-lookup"><span data-stu-id="10159-522">Any task that runs on hello node can create, read, update, and delete files in this directory.</span></span> <span data-ttu-id="10159-523">Tareas pueden tener acceso a este directorio haciendo referencia a hello `AZ_BATCH_NODE_SHARED_DIR` variable de entorno.</span><span class="sxs-lookup"><span data-stu-id="10159-523">Tasks can access this directory by referencing hello `AZ_BATCH_NODE_SHARED_DIR` environment variable.</span></span>
* <span data-ttu-id="10159-524">**startup**: una tarea de inicio usa este directorio como directorio de trabajo.</span><span class="sxs-lookup"><span data-stu-id="10159-524">**startup**: This directory is used by a start task as its working directory.</span></span> <span data-ttu-id="10159-525">Todos los archivos de Hola que son nodos de toohello descargado por la tarea de inicio de Hola se almacenan aquí.</span><span class="sxs-lookup"><span data-stu-id="10159-525">All of hello files that are downloaded toohello node by hello start task are stored here.</span></span> <span data-ttu-id="10159-526">tarea de inicio de Hello puede crear, leer, actualizar y eliminar archivos en este directorio.</span><span class="sxs-lookup"><span data-stu-id="10159-526">hello start task can create, read, update, and delete files under this directory.</span></span> <span data-ttu-id="10159-527">Tareas pueden tener acceso a este directorio haciendo referencia a hello `AZ_BATCH_NODE_STARTUP_DIR` variable de entorno.</span><span class="sxs-lookup"><span data-stu-id="10159-527">Tasks can access this directory by referencing hello `AZ_BATCH_NODE_STARTUP_DIR` environment variable.</span></span>
* <span data-ttu-id="10159-528">**Tareas**: se crea un directorio para cada tarea que se ejecuta en el nodo de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-528">**Tasks**: A directory is created for each task that runs on hello node.</span></span> <span data-ttu-id="10159-529">Se tiene acceso haciendo referencia a hello `AZ_BATCH_TASK_DIR` variable de entorno.</span><span class="sxs-lookup"><span data-stu-id="10159-529">It is accessed by referencing hello `AZ_BATCH_TASK_DIR` environment variable.</span></span>

    <span data-ttu-id="10159-530">Dentro de cada directorio de la tarea, Hola servicio por lotes crea un directorio de trabajo (`wd`) cuya ruta de acceso único especificado por hello `AZ_BATCH_TASK_WORKING_DIR` variable de entorno.</span><span class="sxs-lookup"><span data-stu-id="10159-530">Within each task directory, hello Batch service creates a working directory (`wd`) whose unique path is specified by hello `AZ_BATCH_TASK_WORKING_DIR` environment variable.</span></span> <span data-ttu-id="10159-531">Este directorio proporciona la tarea de toohello de acceso de lectura/escritura.</span><span class="sxs-lookup"><span data-stu-id="10159-531">This directory provides read/write access toohello task.</span></span> <span data-ttu-id="10159-532">tarea Hello puede crear, leer, actualizar y eliminar archivos en este directorio.</span><span class="sxs-lookup"><span data-stu-id="10159-532">hello task can create, read, update, and delete files under this directory.</span></span> <span data-ttu-id="10159-533">Este directorio se conserva en función de hello *RetentionTime* restricción que se especifica para la tarea hello.</span><span class="sxs-lookup"><span data-stu-id="10159-533">This directory is retained based on hello *RetentionTime* constraint that is specified for hello task.</span></span>

    <span data-ttu-id="10159-534">`stdout.txt`y `stderr.txt`: estos archivos se escriben toohello carpeta de tareas durante la ejecución de Hola de tarea hello.</span><span class="sxs-lookup"><span data-stu-id="10159-534">`stdout.txt` and `stderr.txt`: These files are written toohello task folder during hello execution of hello task.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="10159-535">Cuando se quita un nodo de grupo de hello, *todos los* de Hola se quitan los archivos que se almacenan en el nodo de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-535">When a node is removed from hello pool, *all* of hello files that are stored on hello node are removed.</span></span>
>
>

## <a name="application-packages"></a><span data-ttu-id="10159-536">paquetes de aplicación</span><span class="sxs-lookup"><span data-stu-id="10159-536">Application packages</span></span>
<span data-ttu-id="10159-537">Hola [paquetes de aplicación](batch-application-packages.md) característica proporciona una administración sencilla y la implementación de aplicaciones de nodos de proceso de toohello en los grupos.</span><span class="sxs-lookup"><span data-stu-id="10159-537">hello [application packages](batch-application-packages.md) feature provides easy management and deployment of applications toohello compute nodes in your pools.</span></span> <span data-ttu-id="10159-538">Puede cargar y administrar varias versiones del programa Hola a las aplicaciones se ejecutan las tareas, incluidos sus archivos binarios y archivos auxiliares.</span><span class="sxs-lookup"><span data-stu-id="10159-538">You can upload and manage multiple versions of hello applications run by your tasks, including their binaries and support files.</span></span> <span data-ttu-id="10159-539">A continuación, se puede implementar automáticamente una o varias de estas aplicaciones toohello nodos de cálculo en el grupo.</span><span class="sxs-lookup"><span data-stu-id="10159-539">Then you can automatically deploy one or more of these applications toohello compute nodes in your pool.</span></span>

<span data-ttu-id="10159-540">Puede especificar los paquetes de aplicación en el nivel de grupo y tarea de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-540">You can specify application packages at hello pool and task level.</span></span> <span data-ttu-id="10159-541">Cuando se especifican que los paquetes de aplicación de grupo, aplicación hello es nodo tooevery implementado en el grupo de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-541">When you specify pool application packages, hello application is deployed tooevery node in hello pool.</span></span> <span data-ttu-id="10159-542">Al especificar los paquetes de aplicación de tareas, aplicación hello es implementado toonodes única que están programado toorun al menos una de las tareas del trabajo de hello, justo antes de Hola se ejecuta la línea de comandos de la tarea.</span><span class="sxs-lookup"><span data-stu-id="10159-542">When you specify task application packages, hello application is deployed only toonodes that are scheduled toorun at least one of hello job's tasks, just before hello task's command line is run.</span></span>

<span data-ttu-id="10159-543">Identificadores de lote Hola detalles sobre cómo trabajar con el almacenamiento de Azure toostore los paquetes de aplicaciones e implementación toocompute nodos, por lo que se puede simplificar la sobrecarga de administración y su código.</span><span class="sxs-lookup"><span data-stu-id="10159-543">Batch handles hello details of working with Azure Storage toostore your application packages and deploy them toocompute nodes, so both your code and management overhead can be simplified.</span></span>

<span data-ttu-id="10159-544">toofind más información acerca de la característica de paquete de aplicación Hola, visite [implementar aplicaciones toocompute nodos con paquetes de aplicaciones de lote](batch-application-packages.md).</span><span class="sxs-lookup"><span data-stu-id="10159-544">toofind out more about hello application package feature, check out [Deploy applications toocompute nodes with Batch application packages](batch-application-packages.md).</span></span>

> [!NOTE]
> <span data-ttu-id="10159-545">Si agrega tooan de paquetes de aplicación de grupo *existente* grupo, debe reiniciar el equipo de sus nodos de proceso para los paquetes de aplicación hello toobe implementa toohello nodos.</span><span class="sxs-lookup"><span data-stu-id="10159-545">If you add pool application packages tooan *existing* pool, you must reboot its compute nodes for hello application packages toobe deployed toohello nodes.</span></span>
>
>

## <a name="pool-and-compute-node-lifetime"></a><span data-ttu-id="10159-546">Vigencia de grupo y nodo de proceso</span><span class="sxs-lookup"><span data-stu-id="10159-546">Pool and compute node lifetime</span></span>
<span data-ttu-id="10159-547">Al diseñar la solución de lote de Azure, tiene toomake una decisión de diseño acerca de cómo y cuando se crean grupos y cuánto tiempo nodos dentro de esos grupos se mantienen a disposición de proceso.</span><span class="sxs-lookup"><span data-stu-id="10159-547">When you design your Azure Batch solution, you have toomake a design decision about how and when pools are created, and how long compute nodes within those pools are kept available.</span></span>

<span data-ttu-id="10159-548">En un extremo del espectro de hello, puede crear un grupo para cada trabajo que se envía y eliminar grupo Hola tan pronto como las tareas finalizan la ejecución.</span><span class="sxs-lookup"><span data-stu-id="10159-548">On one end of hello spectrum, you can create a pool for each job that you submit, and delete hello pool as soon as its tasks finish execution.</span></span> <span data-ttu-id="10159-549">Esto maximiza el uso porque solo se asignan nodos hello cuando sea preciso y apagar en cuanto están inactivas.</span><span class="sxs-lookup"><span data-stu-id="10159-549">This maximizes utilization because hello nodes are only allocated when needed, and shut down as soon as they're idle.</span></span> <span data-ttu-id="10159-550">Aunque esto significa que trabajo Hola debe esperar Hola nodos toobe asignado, es importante toonote que las tareas están programadas para ejecutarse en cuanto nodos existen individualmente, asignado y Hola se completó la tarea de inicio.</span><span class="sxs-lookup"><span data-stu-id="10159-550">While this means that hello job must wait for hello nodes toobe allocated, it's important toonote that tasks are scheduled for execution as soon as nodes are individually available, allocated, and hello start task has completed.</span></span> <span data-ttu-id="10159-551">Lote *no* espere a que todos los nodos dentro de un grupo están disponibles antes de asignar tareas toohello nodos.</span><span class="sxs-lookup"><span data-stu-id="10159-551">Batch does *not* wait until all nodes within a pool are available before assigning tasks toohello nodes.</span></span> <span data-ttu-id="10159-552">Esto garantiza la utilización máxima de todos los nodos disponibles.</span><span class="sxs-lookup"><span data-stu-id="10159-552">This ensures maximum utilization of all available nodes.</span></span>

<span data-ttu-id="10159-553">En hello otro extremo del espectro de hello, si tiene trabajos iniciar inmediatamente es la prioridad más alta de hello, puede crear un grupo de antemano y disponer de sus nodos antes de que los trabajos se envían.</span><span class="sxs-lookup"><span data-stu-id="10159-553">At hello other end of hello spectrum, if having jobs start immediately is hello highest priority, you can create a pool ahead of time and make its nodes available before jobs are submitted.</span></span> <span data-ttu-id="10159-554">En este escenario, las tareas se pueden iniciar inmediatamente, pero nodos podrían permanecen inactivos mientras se esperaba para ellos toobe asignado.</span><span class="sxs-lookup"><span data-stu-id="10159-554">In this scenario, tasks can start immediately, but nodes might sit idle while waiting for them toobe assigned.</span></span>

<span data-ttu-id="10159-555">Normalmente, se utiliza un enfoque combinado para controlar una carga variable, pero en curso.</span><span class="sxs-lookup"><span data-stu-id="10159-555">A combined approach is typically used for handling a variable, but ongoing, load.</span></span> <span data-ttu-id="10159-556">Puede tener un grupo que se envían a varios trabajos, pero pueden escalar el número de Hola de nodos hacia arriba o hacia abajo según la carga de trabajo de toohello (vea [ajuste de escala en los recursos informáticos](#scaling-compute-resources) Hola siguiente sección).</span><span class="sxs-lookup"><span data-stu-id="10159-556">You can have a pool that multiple jobs are submitted to, but can scale hello number of nodes up or down according toohello job load (see [Scaling compute resources](#scaling-compute-resources) in hello following section).</span></span> <span data-ttu-id="10159-557">Puede realizar esto de manera reactiva, según la carga actual o de forma anticipada si se puede predecir la carga.</span><span class="sxs-lookup"><span data-stu-id="10159-557">You can do this reactively, based on current load, or proactively, if load can be predicted.</span></span>

## <a name="virtual-network-vnet-and-firewall-configuration"></a><span data-ttu-id="10159-558">Configuración de red virtual y de firewall</span><span class="sxs-lookup"><span data-stu-id="10159-558">Virtual network (VNet) and firewall configuration</span></span> 

<span data-ttu-id="10159-559">Cuando se aprovisiona un conjunto de nodos de proceso de Azure Batch, puede asociar el grupo de hello con una subred de un Azure [red virtual (VNet)](../virtual-network/virtual-networks-overview.md).</span><span class="sxs-lookup"><span data-stu-id="10159-559">When you provision a pool of compute nodes in Azure Batch, you can associate hello pool with a subnet of an Azure [virtual network (VNet)](../virtual-network/virtual-networks-overview.md).</span></span> <span data-ttu-id="10159-560">toolearn más acerca de cómo crear una red virtual con subredes, vea [crear una red virtual de Azure con subredes](../virtual-network/virtual-networks-create-vnet-arm-pportal.md).</span><span class="sxs-lookup"><span data-stu-id="10159-560">toolearn more about creating a VNet with subnets, see [Create an Azure virtual network with subnets](../virtual-network/virtual-networks-create-vnet-arm-pportal.md).</span></span> 

 * <span data-ttu-id="10159-561">Hola red virtual asociada a un grupo debe ser:</span><span class="sxs-lookup"><span data-stu-id="10159-561">hello VNet associated with a pool must be:</span></span>

   * <span data-ttu-id="10159-562">En hello Azure mismo **región** como Hola cuenta de lote de Azure.</span><span class="sxs-lookup"><span data-stu-id="10159-562">In hello same Azure **region** as hello Azure Batch account.</span></span>
   * <span data-ttu-id="10159-563">En Hola mismo **suscripción** como Hola cuenta de lote de Azure.</span><span class="sxs-lookup"><span data-stu-id="10159-563">In hello same **subscription** as hello Azure Batch account.</span></span>

* <span data-ttu-id="10159-564">tipo de Hola de red virtual admitida depende de cómo se asignan grupos de hello cuenta de lote:</span><span class="sxs-lookup"><span data-stu-id="10159-564">hello type of VNet supported depends on how pools are being allocated for hello Batch account:</span></span>

    - <span data-ttu-id="10159-565">Si el modo de asignación de grupo de Hola para su cuenta de lote se establece tooBatch servicio, entonces puede asignar una toopools única red virtual creados con hello **configuración de servicios de nube**.</span><span class="sxs-lookup"><span data-stu-id="10159-565">If hello pool allocation mode for your Batch account is set tooBatch Service, then you can assign a VNet only toopools created with hello **Cloud Services Configuration**.</span></span> <span data-ttu-id="10159-566">Además, Hola especifica la que red virtual debe crearse con el modelo de implementación clásica de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-566">Additionally, hello specified VNet must be created with hello classic deployment model.</span></span> <span data-ttu-id="10159-567">No se admiten redes virtuales creadas con el modelo de implementación de hello Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="10159-567">VNets created with hello Azure Resource Manager deployment model are not supported.</span></span>
 
    - <span data-ttu-id="10159-568">Si el modo de asignación de grupo de Hola para su cuenta de lote se establece tooUser suscripción, entonces puede asignar una toopools única red virtual creados con hello **configuración de máquina Virtual**.</span><span class="sxs-lookup"><span data-stu-id="10159-568">If hello pool allocation mode for your Batch account is set tooUser Subscription, then you can assign a VNet only toopools created with hello **Virtual Machine Configuration**.</span></span> <span data-ttu-id="10159-569">Los grupos creados con hello **configuración del servicio de nube** no son compatibles.</span><span class="sxs-lookup"><span data-stu-id="10159-569">Pools created with hello **Cloud Service Configuration** are not supported.</span></span> <span data-ttu-id="10159-570">Hola que red virtual asociado puede crearse con el modelo de implementación de Azure Resource Manager Hola o modelo de implementación clásica de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-570">hello associated VNet may be created with either hello Azure Resource Manager deployment model or hello classic deployment model.</span></span>

    <span data-ttu-id="10159-571">Para una tabla que resume la compatibilidad de red virtual, según el modo de asignación de toopool, vea hello [modo de asignación de grupo](#pool-allocation-mode) sección.</span><span class="sxs-lookup"><span data-stu-id="10159-571">For a table summarizing VNet support according toopool allocation mode, see hello [Pool allocation mode](#pool-allocation-mode) section.</span></span>

* <span data-ttu-id="10159-572">Si el modo de asignación de grupo de Hola para su cuenta de lote se establece tooBatch servicio, debe proporcionar permisos para hello tooaccess principal del servicio de lote Hola red virtual.</span><span class="sxs-lookup"><span data-stu-id="10159-572">If hello pool allocation mode for your Batch account is set tooBatch Service, then you must provide permissions for hello Batch service principal tooaccess hello VNet.</span></span> <span data-ttu-id="10159-573">Hola red virtual debe asignar Hola [Classic Virtual Machine Contributor Role-Based Access Control (RBAC)](https://azure.microsoft.com/documentation/articles/role-based-access-built-in-roles/#classic-virtual-machine-contributor) entidad de servicio de rol toohello por lotes.</span><span class="sxs-lookup"><span data-stu-id="10159-573">hello VNet must assign hello [Classic Virtual Machine Contributor Role-Based Access Control (RBAC)](https://azure.microsoft.com/documentation/articles/role-based-access-built-in-roles/#classic-virtual-machine-contributor) role toohello Batch service principal.</span></span> <span data-ttu-id="10159-574">Si Hola especificado no se ha proporcionado el rol RBAC, servicio de lote de hello devuelve 400 (solicitud incorrecta).</span><span class="sxs-lookup"><span data-stu-id="10159-574">If hello specified RBAC role is not provided, hello Batch service returns 400 (Bad Request).</span></span> <span data-ttu-id="10159-575">rol de hello tooadd Hola portal de Azure:</span><span class="sxs-lookup"><span data-stu-id="10159-575">tooadd hello role in hello Azure portal:</span></span>

    1. <span data-ttu-id="10159-576">Seleccione hello **red virtual**, a continuación, **(de índices IAM) de control de acceso** > **Roles** > **colaborador de la máquina Virtual**  >  **Agregar**.</span><span class="sxs-lookup"><span data-stu-id="10159-576">Select hello **VNet**, then **Access control (IAM)** > **Roles** > **Virtual Machine Contributor** > **Add**.</span></span>
    2. <span data-ttu-id="10159-577">En hello **agregar permisos** hoja, seleccione hello **colaborador de la máquina Virtual** rol.</span><span class="sxs-lookup"><span data-stu-id="10159-577">On hello **Add permissions** blade, select hello **Virtual Machine Contributor** role.</span></span>
    3. <span data-ttu-id="10159-578">En hello **agregar permisos** hoja, busque Hola API de lote.</span><span class="sxs-lookup"><span data-stu-id="10159-578">On hello **Add permissions** blade, search for hello Batch API.</span></span> <span data-ttu-id="10159-579">Buscar cada una de estas cadenas a su vez hasta que encuentre Hola API:</span><span class="sxs-lookup"><span data-stu-id="10159-579">Search for each of these strings in turn until you find hello API:</span></span>
        1. <span data-ttu-id="10159-580">**MicrosoftAzureBatch**.</span><span class="sxs-lookup"><span data-stu-id="10159-580">**MicrosoftAzureBatch**.</span></span>
        2. <span data-ttu-id="10159-581">**Microsoft Azure Batch**.</span><span class="sxs-lookup"><span data-stu-id="10159-581">**Microsoft Azure Batch**.</span></span> <span data-ttu-id="10159-582">Los inquilinos más recientes de Azure AD pueden utilizar este nombre.</span><span class="sxs-lookup"><span data-stu-id="10159-582">Newer Azure AD tenants may use this name.</span></span>
        3. <span data-ttu-id="10159-583">**ddbf3205-c6bd-46ae-8127-60eb93363864** es Id. de Hola para hello API de lote.</span><span class="sxs-lookup"><span data-stu-id="10159-583">**ddbf3205-c6bd-46ae-8127-60eb93363864** is hello ID for hello Batch API.</span></span> 
    3. <span data-ttu-id="10159-584">Seleccione Hola entidad de servicio de API de lote.</span><span class="sxs-lookup"><span data-stu-id="10159-584">Select hello Batch API service principal.</span></span> 
    4. <span data-ttu-id="10159-585">Haga clic en **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="10159-585">Click **Save**.</span></span>

        ![Asignar la entidad de servicio de tooBatch de rol de colaborador de VM](./media/batch-api-basics/iam-add-role.png)


* <span data-ttu-id="10159-587">Hola especifica la subred debe disponer de suficiente libre **direcciones IP** tooaccommodate Hola número total de nodos de destino; es decir, Hola suma de hello `targetDedicatedNodes` y `targetLowPriorityNodes` propiedades del grupo de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-587">hello specified subnet should have enough free **IP addresses** tooaccommodate hello total number of target nodes; that is, hello sum of hello `targetDedicatedNodes` and `targetLowPriorityNodes` properties of hello pool.</span></span> <span data-ttu-id="10159-588">Si subred hello no tiene suficientes direcciones IP libres, Hola servicio por lotes parcialmente asigna los nodos de proceso de hello en el grupo de Hola y devuelve un error de cambio de tamaño.</span><span class="sxs-lookup"><span data-stu-id="10159-588">If hello subnet doesn't have enough free IP addresses, hello Batch service partially allocates hello compute nodes in hello pool and returns a resize error.</span></span>

* <span data-ttu-id="10159-589">Hola especificado subred debe permitir la comunicación de toobe de servicio de lote de hello tooschedule capaz de tareas en los nodos de proceso de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-589">hello specified subnet must allow communication from hello Batch service toobe able tooschedule tasks on hello compute nodes.</span></span> <span data-ttu-id="10159-590">Si los nodos de proceso de comunicación toohello denegado por un **grupo de seguridad de red (NSG)** asociada Hola de red virtual, Hola servicio por lotes establece el estado de Hola Hola de nodos de ejecución demasiado**inutilizable**.</span><span class="sxs-lookup"><span data-stu-id="10159-590">If communication toohello compute nodes is denied by a **Network Security Group (NSG)** associated with hello VNet, then hello Batch service sets hello state of hello compute nodes too**unusable**.</span></span>

* <span data-ttu-id="10159-591">Si Hola especifica la red virtual esté asociada **grupos de seguridad de red (NSG)** o un **firewall**, a continuación, algunos puertos de sistema reservado deben estar habilitados para las comunicaciones entrantes:</span><span class="sxs-lookup"><span data-stu-id="10159-591">If hello specified VNet has associated **Network Security Groups (NSGs)** and/or a **firewall**, then a few reserved system ports must be enabled for inbound communication:</span></span>

- <span data-ttu-id="10159-592">Para los grupos creados con una configuración de máquina virtual, habilite los puertos 29876 y 29877, así como el puerto 22 para Linux y el 3389 para Windows.</span><span class="sxs-lookup"><span data-stu-id="10159-592">For pools created with a virtual machine configuration, enable ports 29876 and 29877, as well as port 22 for Linux and port 3389 for Windows.</span></span> 
- <span data-ttu-id="10159-593">Para los grupos creados con una configuración de servicio en la nube, habilite los puertos 10100, 20100 y 30100.</span><span class="sxs-lookup"><span data-stu-id="10159-593">For pools created with a cloud service configuration, enable ports 10100, 20100, and 30100.</span></span> 
- <span data-ttu-id="10159-594">Habilite las conexiones salientes tooAzure almacenamiento en el puerto 443.</span><span class="sxs-lookup"><span data-stu-id="10159-594">Enable outbound connections tooAzure Storage on port 443.</span></span> <span data-ttu-id="10159-595">Además, asegúrese de que todos los servidores DNS personalizados que dan servicio a red virtual pueden resolver el punto de conexión de Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="10159-595">Also, ensure that your Azure Storage endpoint can be resolved by any custom DNS servers that serve your VNET.</span></span> <span data-ttu-id="10159-596">En concreto, una dirección URL de formulario de hello `<account>.table.core.windows.net` debe poderse resolver.</span><span class="sxs-lookup"><span data-stu-id="10159-596">Specifically, a URL of hello form `<account>.table.core.windows.net` should be resolvable.</span></span>

    <span data-ttu-id="10159-597">Hello tabla siguiente describen Hola puertos que necesite tooenable para grupos que ha creado con la configuración de máquina virtual de Hola entrantes:</span><span class="sxs-lookup"><span data-stu-id="10159-597">hello following table describes hello inbound ports that you need tooenable for pools that you created with hello virtual machine configuration:</span></span>

    |    <span data-ttu-id="10159-598">Puertos de destino</span><span class="sxs-lookup"><span data-stu-id="10159-598">Destination Port(s)</span></span>    |    <span data-ttu-id="10159-599">Dirección IP de origen</span><span class="sxs-lookup"><span data-stu-id="10159-599">Source IP address</span></span>      |    <span data-ttu-id="10159-600">¿Agrega Batch los grupos de seguridad de red?</span><span class="sxs-lookup"><span data-stu-id="10159-600">Does Batch add NSGs?</span></span>    |    <span data-ttu-id="10159-601">¿Es necesario para toobe de máquina virtual puede usar?</span><span class="sxs-lookup"><span data-stu-id="10159-601">Required for VM toobe usable?</span></span>    |    <span data-ttu-id="10159-602">Acción del usuario</span><span class="sxs-lookup"><span data-stu-id="10159-602">Action from user</span></span>   |
    |---------------------------|---------------------------|----------------------------|-------------------------------------|-----------------------|
    |    <ul><li><span data-ttu-id="10159-603">Para los grupos creados con la configuración de máquina virtual de hello: 29876, 29877</span><span class="sxs-lookup"><span data-stu-id="10159-603">For pools created with hello virtual machine configuration: 29876, 29877</span></span></li><li><span data-ttu-id="10159-604">Para los grupos creados con la configuración del servicio de nube de hello: 10100, 20100, 30100</span><span class="sxs-lookup"><span data-stu-id="10159-604">For pools created with hello cloud service configuration: 10100, 20100, 30100</span></span></li></ul>         |    <span data-ttu-id="10159-605">Solo direcciones IP de rol de servicio de Batch</span><span class="sxs-lookup"><span data-stu-id="10159-605">Only Batch service role IP addresses</span></span> |    <span data-ttu-id="10159-606">Sí.</span><span class="sxs-lookup"><span data-stu-id="10159-606">Yes.</span></span> <span data-ttu-id="10159-607">Lote agrega NSG a nivel de Hola de red tooVMs de interfaces (NIC) que están conectados.</span><span class="sxs-lookup"><span data-stu-id="10159-607">Batch adds NSGs at hello level of network interfaces (NIC) attached tooVMs.</span></span> <span data-ttu-id="10159-608">Estos grupos de seguridad de red permiten el tráfico únicamente desde las direcciones IP de rol de servicio de Batch.</span><span class="sxs-lookup"><span data-stu-id="10159-608">These NSGs allow traffic only from Batch service role IP addresses.</span></span> <span data-ttu-id="10159-609">Incluso si abrir estos puertos para hello todo el sitio web, obtener bloqueará el tráfico de hello en hello NIC.</span><span class="sxs-lookup"><span data-stu-id="10159-609">Even if you open these ports for hello  entire web, hello traffic will get blocked at hello NIC.</span></span> |    <span data-ttu-id="10159-610">Sí</span><span class="sxs-lookup"><span data-stu-id="10159-610">Yes</span></span>  |  <span data-ttu-id="10159-611">No es necesario toospecify un NSG, como proceso por lotes permite únicamente las direcciones IP de lote.</span><span class="sxs-lookup"><span data-stu-id="10159-611">You do not need toospecify an NSG, because Batch allows only Batch IP addresses.</span></span> <br /><br /> <span data-ttu-id="10159-612">Sin embargo, si lo hace, asegúrese de que estos puertos estén abiertos al tráfico entrante.</span><span class="sxs-lookup"><span data-stu-id="10159-612">However, if you do specify an NSG, please ensure that these ports are open for inbound traffic.</span></span> <br /><br /> <span data-ttu-id="10159-613">Si especifica * como hello IP de origen en el NSG, lote agrega todavía NSG en nivel de Hola de tooVMs NIC conectada.</span><span class="sxs-lookup"><span data-stu-id="10159-613">If you specify * as hello source IP in your NSG, Batch still adds NSGs at hello level of NIC attached tooVMs.</span></span> |
    |    <span data-ttu-id="10159-614">3389, 22</span><span class="sxs-lookup"><span data-stu-id="10159-614">3389, 22</span></span>               |    <span data-ttu-id="10159-615">Equipos de usuario que utiliza para la depuración, para que pueda acceder remotamente Hola VM.</span><span class="sxs-lookup"><span data-stu-id="10159-615">User machines, used for debugging purposes, so that you can remotely access hello VM.</span></span>    |    <span data-ttu-id="10159-616">No</span><span class="sxs-lookup"><span data-stu-id="10159-616">No</span></span>                                    |    <span data-ttu-id="10159-617">No</span><span class="sxs-lookup"><span data-stu-id="10159-617">No</span></span>                     |    <span data-ttu-id="10159-618">Agregue los NSG si desea toohello de acceso remoto (RDP/SSH) toopermit máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="10159-618">Add NSGs if you want toopermit remote access (RDP/SSH) toohello VM.</span></span>   |                 

    <span data-ttu-id="10159-619">Hello en la tabla siguiente describe el puerto de salida de hello que necesita tooenable toopermit acceso tooAzure almacenamiento:</span><span class="sxs-lookup"><span data-stu-id="10159-619">hello following table describes hello outbound port that you need tooenable toopermit access tooAzure Storage:</span></span>

    |    <span data-ttu-id="10159-620">Puertos de salida</span><span class="sxs-lookup"><span data-stu-id="10159-620">Outbound Port(s)</span></span>    |    <span data-ttu-id="10159-621">Destino</span><span class="sxs-lookup"><span data-stu-id="10159-621">Destination</span></span>    |    <span data-ttu-id="10159-622">¿Agrega Batch los grupos de seguridad de red?</span><span class="sxs-lookup"><span data-stu-id="10159-622">Does Batch add NSGs?</span></span>    |    <span data-ttu-id="10159-623">¿Es necesario para toobe de máquina virtual puede usar?</span><span class="sxs-lookup"><span data-stu-id="10159-623">Required for VM toobe usable?</span></span>    |    <span data-ttu-id="10159-624">Acción del usuario</span><span class="sxs-lookup"><span data-stu-id="10159-624">Action from user</span></span>    |
    |------------------------|-------------------|----------------------------|-------------------------------------|------------------------|
    |    <span data-ttu-id="10159-625">443</span><span class="sxs-lookup"><span data-stu-id="10159-625">443</span></span>    |    <span data-ttu-id="10159-626">Azure Storage</span><span class="sxs-lookup"><span data-stu-id="10159-626">Azure Storage</span></span>    |    <span data-ttu-id="10159-627">No</span><span class="sxs-lookup"><span data-stu-id="10159-627">No</span></span>    |    <span data-ttu-id="10159-628">Sí</span><span class="sxs-lookup"><span data-stu-id="10159-628">Yes</span></span>    |    <span data-ttu-id="10159-629">Si agrega los NSG, a continuación, asegúrese de que este puerto está abierto toooutbound tráfico.</span><span class="sxs-lookup"><span data-stu-id="10159-629">If you add any NSGs, then ensure that this port is open toooutbound   traffic.</span></span>    |


## <a name="scaling-compute-resources"></a><span data-ttu-id="10159-630">Escalado de recursos de proceso</span><span class="sxs-lookup"><span data-stu-id="10159-630">Scaling compute resources</span></span>
<span data-ttu-id="10159-631">Con [el escalado automático](batch-automatic-scaling.md), puede tener el servicio por lotes Hola ajuste dinámicamente el número de Hola de nodos de proceso en un grupo según toohello carga de trabajo y recursos de uso actual de su escenario de proceso.</span><span class="sxs-lookup"><span data-stu-id="10159-631">With [automatic scaling](batch-automatic-scaling.md), you can have hello Batch service dynamically adjust hello number of compute nodes in a pool according toohello current workload and resource usage of your compute scenario.</span></span> <span data-ttu-id="10159-632">Esto le permite toolower Hola costo total de la aplicación en ejecución mediante el uso de recursos de hello solo necesita y los que liberar a no es necesario.</span><span class="sxs-lookup"><span data-stu-id="10159-632">This allows you toolower hello overall cost of running your application by using only hello resources you need, and releasing those you don't need.</span></span>

<span data-ttu-id="10159-633">Para habilitar el escalado automático, escriba una [fórmula de escalado automático](batch-automatic-scaling.md#automatic-scaling-formulas) y asóciela con un grupo.</span><span class="sxs-lookup"><span data-stu-id="10159-633">You enable automatic scaling by writing an [automatic scaling formula](batch-automatic-scaling.md#automatic-scaling-formulas) and associating that formula with a pool.</span></span> <span data-ttu-id="10159-634">Hola servicio por lotes utiliza número de destino de Hola Hola toodetermine fórmulas de nodos en el grupo de Hola para hello siguiente escala intervalo (es decir, un intervalo que se puede configurar).</span><span class="sxs-lookup"><span data-stu-id="10159-634">hello Batch service uses hello formula toodetermine hello target number of nodes in hello pool for hello next scaling interval (an interval that you can configure).</span></span> <span data-ttu-id="10159-635">Puede especificar valores de escalado automático de Hola para un grupo cuando se crea o habilitar el ajuste de escala en un grupo más adelante.</span><span class="sxs-lookup"><span data-stu-id="10159-635">You can specify hello automatic scaling settings for a pool when you create it, or enable scaling on a pool later.</span></span> <span data-ttu-id="10159-636">También puede actualizar Hola ajuste de escala en configuración en un grupo de ajuste de escala-habilitado.</span><span class="sxs-lookup"><span data-stu-id="10159-636">You can also update hello scaling settings on a scaling-enabled pool.</span></span>

<span data-ttu-id="10159-637">Por ejemplo, quizás un trabajo requiere que se envía a un gran número de toobe de tareas que se ejecuta.</span><span class="sxs-lookup"><span data-stu-id="10159-637">As an example, perhaps a job requires that you submit a very large number of tasks toobe executed.</span></span> <span data-ttu-id="10159-638">Puede asignar un grupo de escalado toohello fórmulas que ajusta Hola número de nodos de grupo, Hola basado en número actual de Hola de tareas en cola y la tasa de finalización de Hola de tareas de hello en el trabajo de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-638">You can assign a scaling formula toohello pool that adjusts hello number of nodes in hello pool based on hello current number of queued tasks and hello completion rate of hello tasks in hello job.</span></span> <span data-ttu-id="10159-639">Hola servicio por lotes periódicamente evalúa la fórmula de Hola y cambia el tamaño de bloque de hello, en función de la carga de trabajo y las otras opciones de fórmulas.</span><span class="sxs-lookup"><span data-stu-id="10159-639">hello Batch service periodically evaluates hello formula and resizes hello pool, based on workload and your other formula settings.</span></span> <span data-ttu-id="10159-640">servicio de Hello agrega nodos según sea necesario cuando hay un gran número de tareas en cola y quita los nodos cuando no hay ninguna tarea en cola o se está ejecutando.</span><span class="sxs-lookup"><span data-stu-id="10159-640">hello service adds nodes as needed when there are a large number of queued tasks, and removes nodes when there are no queued or running tasks.</span></span>

<span data-ttu-id="10159-641">Una fórmula de escala se puede basar en hello siguientes métricas:</span><span class="sxs-lookup"><span data-stu-id="10159-641">A scaling formula can be based on hello following metrics:</span></span>

* <span data-ttu-id="10159-642">**Las métricas de tiempo** se basan en las estadísticas recopiladas cada cinco minutos en hello especificar número de horas.</span><span class="sxs-lookup"><span data-stu-id="10159-642">**Time metrics** are based on statistics collected every five minutes in hello specified number of hours.</span></span>
* <span data-ttu-id="10159-643">**Métricas de recursos** : se basan en el uso de CPU, ancho de banda y memoria y en el número de nodos.</span><span class="sxs-lookup"><span data-stu-id="10159-643">**Resource metrics** are based on CPU usage, bandwidth usage, memory usage, and number of nodes.</span></span>
* <span data-ttu-id="10159-644">**Métricas de tareas**: se basan en el estado de la tarea, como *Activa* (en cola), *En ejecución* o *Completada*.</span><span class="sxs-lookup"><span data-stu-id="10159-644">**Task metrics** are based on task state, such as *Active* (queued), *Running*, or *Completed*.</span></span>

<span data-ttu-id="10159-645">Cuando el escalado automático reduce el número de Hola de nodos de proceso en un grupo, debe tener en cuenta cómo toohandle tareas que se ejecutan en tiempo de presentación del programa Hola a reducir la operación.</span><span class="sxs-lookup"><span data-stu-id="10159-645">When automatic scaling decreases hello number of compute nodes in a pool, you must consider how toohandle tasks that are running at hello time of hello decrease operation.</span></span> <span data-ttu-id="10159-646">tooaccommodate este, lote proporciona una *opción de cancelación de asignación de nodo* que se pueden incluir en las fórmulas.</span><span class="sxs-lookup"><span data-stu-id="10159-646">tooaccommodate this, Batch provides a *node deallocation option* that you can include in your formulas.</span></span> <span data-ttu-id="10159-647">Por ejemplo, puede especificar que las tareas en ejecución se detiene inmediatamente, detiene inmediatamente y, a continuación, poner en cola para su ejecución en otro nodo o permiten toofinish antes de nodo de Hola se quita del grupo de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-647">For example, you can specify that running tasks are stopped immediately, stopped immediately and then requeued for execution on another node, or allowed toofinish before hello node is removed from hello pool.</span></span>

<span data-ttu-id="10159-648">Para obtener más información sobre cómo escalar automáticamente una aplicación, consulte [Escalado automático de nodos de proceso en un grupo de Azure Batch](batch-automatic-scaling.md).</span><span class="sxs-lookup"><span data-stu-id="10159-648">For more information about automatically scaling an application, see [Automatically scale compute nodes in an Azure Batch pool](batch-automatic-scaling.md).</span></span>

> [!TIP]
> <span data-ttu-id="10159-649">toomaximize utilización de recursos de proceso, establecer el número de destino de Hola de nodos toozero final Hola de un trabajo, pero permitir la ejecución de tareas toofinish.</span><span class="sxs-lookup"><span data-stu-id="10159-649">toomaximize compute resource utilization, set hello target number of nodes toozero at hello end of a job, but allow running tasks toofinish.</span></span>
>
>

## <a name="security-with-certificates"></a><span data-ttu-id="10159-650">Seguridad con certificados</span><span class="sxs-lookup"><span data-stu-id="10159-650">Security with certificates</span></span>
<span data-ttu-id="10159-651">Normalmente debe toouse certificados al cifrar o descifrar información confidencial para tareas como clave de Hola para un [cuenta de almacenamiento de Azure][azure_storage].</span><span class="sxs-lookup"><span data-stu-id="10159-651">You typically need toouse certificates when you encrypt or decrypt sensitive information for tasks, like hello key for an [Azure Storage account][azure_storage].</span></span> <span data-ttu-id="10159-652">toosupport esto, puede instalar certificados en los nodos.</span><span class="sxs-lookup"><span data-stu-id="10159-652">toosupport this, you can install certificates on nodes.</span></span> <span data-ttu-id="10159-653">Secretos cifrados se pasan tootasks a través de los parámetros de línea de comandos o insertados en uno de los recursos de tareas de Hola y certificados Hola instalado pueden ser toodecrypt usado ellos.</span><span class="sxs-lookup"><span data-stu-id="10159-653">Encrypted secrets are passed tootasks via command-line parameters or embedded in one of hello task resources, and hello installed certificates can be used toodecrypt them.</span></span>

<span data-ttu-id="10159-654">Usar hello [agregar certificado] [ rest_add_cert] operación (REST de lote) o [CertificateOperations.CreateCertificate] [ net_create_cert] método (por lotes. NET) tooadd una cuenta de lote tooa de certificado.</span><span class="sxs-lookup"><span data-stu-id="10159-654">You use hello [Add certificate][rest_add_cert] operation (Batch REST) or [CertificateOperations.CreateCertificate][net_create_cert] method (Batch .NET) tooadd a certificate tooa Batch account.</span></span> <span data-ttu-id="10159-655">A continuación, puede asociar certificados de hello con un grupo nuevo o existente.</span><span class="sxs-lookup"><span data-stu-id="10159-655">You can then associate hello certificate with a new or existing pool.</span></span> <span data-ttu-id="10159-656">Cuando un certificado está asociado a un grupo, Hola servicio por lotes instala el certificado de hello en cada nodo de grupo de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-656">When a certificate is associated with a pool, hello Batch service installs hello certificate on each node in hello pool.</span></span> <span data-ttu-id="10159-657">Hola servicio por lotes instala los certificados apropiados de hello cuando se inicia el nodo de hello, antes de iniciar las tareas (incluida la tarea de inicio de Hola y de tarea del Administrador de trabajos).</span><span class="sxs-lookup"><span data-stu-id="10159-657">hello Batch service installs hello appropriate certificates when hello node starts up, before launching any tasks (including hello start task and job manager task).</span></span>

<span data-ttu-id="10159-658">Si agrega certificados tooan *existente* grupo, debe reiniciar el equipo de sus nodos de proceso Hola certificados toobe aplica toohello nodos.</span><span class="sxs-lookup"><span data-stu-id="10159-658">If you add certificates tooan *existing* pool, you must reboot its compute nodes for hello certificates toobe applied toohello nodes.</span></span>

## <a name="error-handling"></a><span data-ttu-id="10159-659">Control de errores</span><span class="sxs-lookup"><span data-stu-id="10159-659">Error handling</span></span>
<span data-ttu-id="10159-660">Le resultará necesario toohandle errores de tarea y de aplicación dentro de la solución de lote.</span><span class="sxs-lookup"><span data-stu-id="10159-660">You might find it necessary toohandle both task and application failures within your Batch solution.</span></span>

### <a name="task-failure-handling"></a><span data-ttu-id="10159-661">Control de errores de tareas</span><span class="sxs-lookup"><span data-stu-id="10159-661">Task failure handling</span></span>
<span data-ttu-id="10159-662">Los errores de las tareas se incluyen en estas categorías:</span><span class="sxs-lookup"><span data-stu-id="10159-662">Task failures fall into these categories:</span></span>

* <span data-ttu-id="10159-663">**Errores de procesamiento previo**</span><span class="sxs-lookup"><span data-stu-id="10159-663">**Pre-processing failures**</span></span>

    <span data-ttu-id="10159-664">Si una tarea produce un error toostart, un error previa al procesamiento se establece para la tarea hello.</span><span class="sxs-lookup"><span data-stu-id="10159-664">If a task fails toostart, a pre-processing error is set for hello task.</span></span>  

    <span data-ttu-id="10159-665">Errores de procesamiento previo puede producirse si han movido los archivos de recursos de la tarea de hello, Hola cuenta de almacenamiento ya no está disponible o se encontró otro problema que ha impedido Hola correcta operación de copia de archivos toohello nodo.</span><span class="sxs-lookup"><span data-stu-id="10159-665">Pre-processing errors can occur if hello task's resource files have moved, hello Storage account is no longer available, or another issue was encountered that prevented hello successful copying of files toohello node.</span></span>

* <span data-ttu-id="10159-666">**Errores de carga de archivos**</span><span class="sxs-lookup"><span data-stu-id="10159-666">**File upload failures**</span></span>

    <span data-ttu-id="10159-667">Si la carga de archivos que se especifican para una tarea falla por alguna razón, un error de carga de archivo está establecido para la tarea hello.</span><span class="sxs-lookup"><span data-stu-id="10159-667">If uploading files that are specified for a task fails for any reason, a file upload error is set for hello task.</span></span>

    <span data-ttu-id="10159-668">Archivo de carga pueden producirse errores si hello SAS proporcionada acceso al almacenamiento de Azure no es válido o no proporciona permisos de escritura, si la cuenta de almacenamiento de hello ya no está disponible, o si otro problema se ha encontrado que impedía Hola copia correcta de los archivos de nodo de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-668">File upload errors can occur if hello SAS supplied for accessing Azure Storage is invalid or does not provide write permissions, if hello storage account is no longer available, or if another issue was encountered that prevented hello successful copying of files from hello node.</span></span>    

* <span data-ttu-id="10159-669">**Errores de aplicación**</span><span class="sxs-lookup"><span data-stu-id="10159-669">**Application failures**</span></span>

    <span data-ttu-id="10159-670">También puede producir un error de proceso de Hola que se especifica mediante la línea de comandos de la tarea hello.</span><span class="sxs-lookup"><span data-stu-id="10159-670">hello process that is specified by hello task's command line can also fail.</span></span> <span data-ttu-id="10159-671">Hello proceso se considera toohave error al proceso de Hola que es ejecutado por la tarea hello devuelve un código de salida distinto de cero (vea *códigos de salida de tarea* en la sección siguiente de hello).</span><span class="sxs-lookup"><span data-stu-id="10159-671">hello process is deemed toohave failed when a nonzero exit code is returned by hello process that is executed by hello task (see *Task exit codes* in hello next section).</span></span>

    <span data-ttu-id="10159-672">Errores de aplicación, puede configurar por lotes tarea tooautomatically reintento hello tooa un número especificado de veces.</span><span class="sxs-lookup"><span data-stu-id="10159-672">For application failures, you can configure Batch tooautomatically retry hello task up tooa specified number of times.</span></span>

* <span data-ttu-id="10159-673">**Errores de restricción**</span><span class="sxs-lookup"><span data-stu-id="10159-673">**Constraint failures**</span></span>

    <span data-ttu-id="10159-674">Puede definir una restricción que especifica Hola duración de ejecución máximo para un trabajo o tarea, hello *maxWallClockTime*.</span><span class="sxs-lookup"><span data-stu-id="10159-674">You can set a constraint that specifies hello maximum execution duration for a job or task, hello *maxWallClockTime*.</span></span> <span data-ttu-id="10159-675">Esto puede ser útil para finalizar las tareas que no cumplan tooprogress.</span><span class="sxs-lookup"><span data-stu-id="10159-675">This can be useful for terminating tasks that fail tooprogress.</span></span>

    <span data-ttu-id="10159-676">Cuando se ha superado el período de tiempo máximo de hello, tarea hello está marcado como *completado*, pero el código de salida de hello se establece demasiado`0xC000013A` hello y *schedulingError* campo está marcado como `{ category:"ServerError", code="TaskEnded"}`.</span><span class="sxs-lookup"><span data-stu-id="10159-676">When hello maximum amount of time has been exceeded, hello task is marked as *completed*, but hello exit code is set too`0xC000013A` and hello *schedulingError* field is marked as `{ category:"ServerError", code="TaskEnded"}`.</span></span>

### <a name="debugging-application-failures"></a><span data-ttu-id="10159-677">Depuración de errores de aplicación</span><span class="sxs-lookup"><span data-stu-id="10159-677">Debugging application failures</span></span>
* <span data-ttu-id="10159-678">`stderr` y `stdout`</span><span class="sxs-lookup"><span data-stu-id="10159-678">`stderr` and `stdout`</span></span>

    <span data-ttu-id="10159-679">Durante la ejecución, una aplicación podría generar resultados de diagnóstico que puede usar tootroubleshoot problemas.</span><span class="sxs-lookup"><span data-stu-id="10159-679">During execution, an application might produce diagnostic output that you can use tootroubleshoot issues.</span></span> <span data-ttu-id="10159-680">Como se mencionó en hello en la sección anterior [archivos y directorios](#files-and-directories), Hola servicio por lotes escribe la salida estándar y el error estándar de salida demasiado`stdout.txt` y `stderr.txt` nodo de ejecución de archivos en el directorio de la tarea de hello en Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-680">As mentioned in hello earlier section [Files and directories](#files-and-directories), hello Batch service writes standard output and standard error output too`stdout.txt` and `stderr.txt` files in hello task directory on hello compute node.</span></span> <span data-ttu-id="10159-681">Puede utilizar Hola portal de Azure o uno de toodownload del SDK de lote de hello estos archivos.</span><span class="sxs-lookup"><span data-stu-id="10159-681">You can use hello Azure portal or one of hello Batch SDKs toodownload these files.</span></span> <span data-ttu-id="10159-682">Por ejemplo, puede recuperar estos y otros archivos para solucionar problemas mediante el uso de [ComputeNode.GetNodeFile] [ net_getfile_node] y [CloudTask.GetNodeFile] [ net_getfile_task] de biblioteca de .NET de lote de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-682">For example, you can retrieve these and other files for troubleshooting purposes by using [ComputeNode.GetNodeFile][net_getfile_node] and [CloudTask.GetNodeFile][net_getfile_task] in hello Batch .NET library.</span></span>

* <span data-ttu-id="10159-683">**Códigos de salida de la tarea**</span><span class="sxs-lookup"><span data-stu-id="10159-683">**Task exit codes**</span></span>

    <span data-ttu-id="10159-684">Como se mencionó anteriormente, una tarea se marcará como incorrecta Hola servicio por lotes si el proceso de Hola que es ejecutado por la tarea hello devuelve un código de salida distinto de cero.</span><span class="sxs-lookup"><span data-stu-id="10159-684">As mentioned earlier, a task is marked as failed by hello Batch service if hello process that is executed by hello task returns a nonzero exit code.</span></span> <span data-ttu-id="10159-685">Cuando una tarea ejecuta un proceso, lote rellena la propiedad de código de salida de la tarea hello con hello *devolver código de proceso de hello*.</span><span class="sxs-lookup"><span data-stu-id="10159-685">When a task executes a process, Batch populates hello task's exit code property with hello *return code of hello process*.</span></span> <span data-ttu-id="10159-686">Es importante toonote que código de salida de una tarea es **no** determinado por hello servicio por lotes.</span><span class="sxs-lookup"><span data-stu-id="10159-686">It is important toonote that a task's exit code is **not** determined by hello Batch service.</span></span> <span data-ttu-id="10159-687">Código de salida de una tarea viene determinado por el propio proceso Hola o sistema operativo de hello en el proceso de Hola que ejecuta.</span><span class="sxs-lookup"><span data-stu-id="10159-687">A task's exit code is determined by hello process itself or hello operating system on which hello process executed.</span></span>

### <a name="accounting-for-task-failures-or-interruptions"></a><span data-ttu-id="10159-688">Consideraciones sobre errores o interrupciones</span><span class="sxs-lookup"><span data-stu-id="10159-688">Accounting for task failures or interruptions</span></span>
<span data-ttu-id="10159-689">En ocasiones, las tareas pueden presentar errores o interrumpirse.</span><span class="sxs-lookup"><span data-stu-id="10159-689">Tasks might occasionally fail or be interrupted.</span></span> <span data-ttu-id="10159-690">Hello propia aplicación de tareas podría producir un error, podría reiniciarse en qué Hola se ejecuta la tarea de nodo de Hola o nodo Hola podría quitarse de grupo de Hola durante una operación de cambio de tamaño si hello desasignación directiva del grupo conjunto tooremove nodos inmediatamente sin tener que esperar toofinish de tareas.</span><span class="sxs-lookup"><span data-stu-id="10159-690">hello task application itself might fail, hello node on which hello task is running might be rebooted, or hello node might be removed from hello pool during a resize operation if hello pool's deallocation policy is set tooremove nodes immediately without waiting for tasks toofinish.</span></span> <span data-ttu-id="10159-691">En todos los casos, tarea hello puede ser automáticamente poner en cola por lotes para su ejecución en otro nodo.</span><span class="sxs-lookup"><span data-stu-id="10159-691">In all cases, hello task can be automatically requeued by Batch for execution on another node.</span></span>

<span data-ttu-id="10159-692">También es posible que un toocause problema intermitente toohang de una tarea o tomar tooexecute demasiado larga.</span><span class="sxs-lookup"><span data-stu-id="10159-692">It is also possible for an intermittent issue toocause a task toohang or take too long tooexecute.</span></span> <span data-ttu-id="10159-693">Puede establecer el intervalo de ejecución máximo de saludo para una tarea.</span><span class="sxs-lookup"><span data-stu-id="10159-693">You can set hello maximum execution interval for a task.</span></span> <span data-ttu-id="10159-694">Si se supera el intervalo de ejecución máximo de hello, Hola servicio por lotes interrumpe la aplicación de la tarea de hello.</span><span class="sxs-lookup"><span data-stu-id="10159-694">If hello maximum execution interval is exceeded, hello Batch service interrupts hello task application.</span></span>

### <a name="connecting-toocompute-nodes"></a><span data-ttu-id="10159-695">Conectando los nodos toocompute</span><span class="sxs-lookup"><span data-stu-id="10159-695">Connecting toocompute nodes</span></span>
<span data-ttu-id="10159-696">Puede realizar la depuración y solución de problemas mediante la firma de forma remota en el nodo de proceso de tooa adicionales.</span><span class="sxs-lookup"><span data-stu-id="10159-696">You can perform additional debugging and troubleshooting by signing in tooa compute node remotely.</span></span> <span data-ttu-id="10159-697">Puede usar hello toodownload portal Azure un archivo de protocolo de escritorio remoto (RDP) para los nodos de Windows y obtener información de conexión de Secure Shell (SSH) para los nodos de Linux.</span><span class="sxs-lookup"><span data-stu-id="10159-697">You can use hello Azure portal toodownload a Remote Desktop Protocol (RDP) file for Windows nodes and obtain Secure Shell (SSH) connection information for Linux nodes.</span></span> <span data-ttu-id="10159-698">También puede hacerlo mediante el uso de hello las API de lote: por ejemplo, con [.NET de lotes] [ net_rdpfile] o [lote Python](batch-linux-nodes.md#connect-to-linux-nodes-using-ssh).</span><span class="sxs-lookup"><span data-stu-id="10159-698">You can also do this by using hello Batch APIs--for example, with [Batch .NET][net_rdpfile] or [Batch Python](batch-linux-nodes.md#connect-to-linux-nodes-using-ssh).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="10159-699">nodo de tooa tooconnect a través de RDP o SSH, primero debe crear un usuario en el nodo de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-699">tooconnect tooa node via RDP or SSH, you must first create a user on hello node.</span></span> <span data-ttu-id="10159-700">toodo esto, puede usar hello portal de Azure, [agregar un nodo de tooa de cuenta de usuario] [ rest_create_user] mediante la API de REST de lote de hello, llamar hello [ComputeNode.CreateComputeNodeUser] [ net_create_user] método en .NET de lote o llamada hello [add_user] [ py_add_user] método hello lote Python módulo.</span><span class="sxs-lookup"><span data-stu-id="10159-700">toodo this, you can use hello Azure portal, [add a user account tooa node][rest_create_user] by using hello Batch REST API, call hello [ComputeNode.CreateComputeNodeUser][net_create_user] method in Batch .NET, or call hello [add_user][py_add_user] method in hello Batch Python module.</span></span>
>
>

### <a name="troubleshooting-problematic-compute-nodes"></a><span data-ttu-id="10159-701">Solución de problemas de nodos de proceso problemáticos</span><span class="sxs-lookup"><span data-stu-id="10159-701">Troubleshooting problematic compute nodes</span></span>
<span data-ttu-id="10159-702">En situaciones donde algunas de las tareas se producen errores, la aplicación de cliente de proceso por lotes o el servicio puede examinar los metadatos de Hola de hello no se pudo tareas tooidentify un nodo que.</span><span class="sxs-lookup"><span data-stu-id="10159-702">In situations where some of your tasks are failing, your Batch client application or service can examine hello metadata of hello failed tasks tooidentify a misbehaving node.</span></span> <span data-ttu-id="10159-703">Cada nodo de un grupo tiene un identificador único y nodo de hello en el que se ejecuta una tarea se incluye en los metadatos de la tarea de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-703">Each node in a pool is given a unique ID, and hello node on which a task runs is included in hello task metadata.</span></span> <span data-ttu-id="10159-704">Una vez que haya identificado un "nodo problemático", puede llevar a cabo varias acciones con él:</span><span class="sxs-lookup"><span data-stu-id="10159-704">After you've identified a problem node, you can take several actions with it:</span></span>

* <span data-ttu-id="10159-705">**Reinicie el nodo de hello** ([REST][rest_reboot] | [.NET][net_reboot])</span><span class="sxs-lookup"><span data-stu-id="10159-705">**Reboot hello node** ([REST][rest_reboot] | [.NET][net_reboot])</span></span>

    <span data-ttu-id="10159-706">A veces puede borrar reiniciar nodo Hola latentes problemas como los procesos bloqueados o se ha bloqueado.</span><span class="sxs-lookup"><span data-stu-id="10159-706">Restarting hello node can sometimes clear up latent issues like stuck or crashed processes.</span></span> <span data-ttu-id="10159-707">Tenga en cuenta que si el grupo utiliza una tarea de inicio o el trabajo utiliza una tarea de preparación del trabajo, se ejecutan cuando se reinicia el nodo de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-707">Note that if your pool uses a start task or your job uses a job preparation task, they are executed when hello node restarts.</span></span>
* <span data-ttu-id="10159-708">**Restablecer imagen inicial de nodo de hello** ([REST][rest_reimage] | [.NET][net_reimage])</span><span class="sxs-lookup"><span data-stu-id="10159-708">**Reimage hello node** ([REST][rest_reimage] | [.NET][net_reimage])</span></span>

    <span data-ttu-id="10159-709">Esto vuelve a instalar sistema operativo de hello en el nodo de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-709">This reinstalls hello operating system on hello node.</span></span> <span data-ttu-id="10159-710">Al igual que con un nodo se reinicie, inicie tareas y tareas de preparación del trabajo se vuelva a ejecutar después de que se ha renovado nodo Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-710">As with rebooting a node, start tasks and job preparation tasks are rerun after hello node has been reimaged.</span></span>
* <span data-ttu-id="10159-711">**Quitar nodo Hola de grupo de hello** ([REST][rest_remove] | [.NET][net_remove])</span><span class="sxs-lookup"><span data-stu-id="10159-711">**Remove hello node from hello pool** ([REST][rest_remove] | [.NET][net_remove])</span></span>

    <span data-ttu-id="10159-712">A veces resulta toocompletely es necesario quitar un nodo Hola de grupo de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-712">Sometimes it is necessary toocompletely remove hello node from hello pool.</span></span>
* <span data-ttu-id="10159-713">**Deshabilitar la programación de tareas en el nodo de hello** ([REST][rest_offline] | [.NET][net_offline])</span><span class="sxs-lookup"><span data-stu-id="10159-713">**Disable task scheduling on hello node** ([REST][rest_offline] | [.NET][net_offline])</span></span>

    <span data-ttu-id="10159-714">Esto eficazmente toma Hola nodo sin conexión para que no hay otras tareas se asignan tooit, pero permite Hola nodo tooremain se está ejecutando y en grupo de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-714">This effectively takes hello node offline so that no further tasks are assigned tooit, but allows hello node tooremain running and in hello pool.</span></span> <span data-ttu-id="10159-715">Esto le permite tooperform seguir investigando a causa de Hola de errores de hello sin perder los datos de la tarea fallida de Hola y sin nodo de hello provocando errores de tareas adicionales.</span><span class="sxs-lookup"><span data-stu-id="10159-715">This enables you tooperform further investigation into hello cause of hello failures without losing hello failed task's data, and without hello node causing additional task failures.</span></span> <span data-ttu-id="10159-716">Por ejemplo, puede deshabilitar la programación de tareas en el nodo de hello, a continuación, [iniciar una sesión remota](#connecting-to-compute-nodes) tooexamine Hola registros de eventos del nodo o realizar otra solución de problemas.</span><span class="sxs-lookup"><span data-stu-id="10159-716">For example, you can disable task scheduling on hello node, then [sign in remotely](#connecting-to-compute-nodes) tooexamine hello node's event logs or perform other troubleshooting.</span></span> <span data-ttu-id="10159-717">Una vez que finalice la investigación, a continuación, puede poner en línea el nodo de hello habilitando la programación de tareas ([REST][rest_online] | [.NET] [ net_online]), o uno de hello realizar otras acciones que se analizaron anteriormente.</span><span class="sxs-lookup"><span data-stu-id="10159-717">After you've finished your investigation, you can then bring hello node back online by enabling task scheduling ([REST][rest_online] | [.NET][net_online]), or perform one of hello other actions discussed earlier.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="10159-718">Con cada acción que se describe en esta sección, reiniciar, restablecer la imagen inicial, quitar y deshabilitar la programación de tareas, es capaz de toospecify cómo se administran las tareas en ejecución actualmente en el nodo de hello cuando se realiza la acción de Hola.</span><span class="sxs-lookup"><span data-stu-id="10159-718">With each action that is described in this section--reboot, reimage, remove, and disable task scheduling--you are able toospecify how tasks currently running on hello node are handled when you perform hello action.</span></span> <span data-ttu-id="10159-719">Por ejemplo, al deshabilitar programación de tareas en un nodo mediante el uso de biblioteca de cliente de .NET de lotes de hello, puede especificar un [DisableComputeNodeSchedulingOption] [ net_offline_option] toospecify de valor de enumeración si demasiado**Terminate** tareas en ejecución, **poner** para programar en otros nodos, o permitir la ejecución de tareas toocomplete antes de realizar la acción de hello (**TaskCompletion**).</span><span class="sxs-lookup"><span data-stu-id="10159-719">For example, when you disable task scheduling on a node by using hello Batch .NET client library, you can specify a [DisableComputeNodeSchedulingOption][net_offline_option] enum value toospecify whether too**Terminate** running tasks, **Requeue** them for scheduling on other nodes, or allow running tasks toocomplete before performing hello action (**TaskCompletion**).</span></span>
>
>

## <a name="next-steps"></a><span data-ttu-id="10159-720">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="10159-720">Next steps</span></span>
* <span data-ttu-id="10159-721">Obtenga información acerca de hello [herramientas y API de lote](batch-apis-tools.md) disponibles para la creación de soluciones de lote.</span><span class="sxs-lookup"><span data-stu-id="10159-721">Learn about hello [Batch APIs and tools](batch-apis-tools.md) available for building Batch solutions.</span></span>
* <span data-ttu-id="10159-722">Guiará a través de una aplicación de proceso por lotes de ejemplo paso a paso en [empezar a trabajar con hello biblioteca de Azure Batch para .NET](batch-dotnet-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="10159-722">Walk through a sample Batch application step-by-step in [Get started with hello Azure Batch Library for .NET](batch-dotnet-get-started.md).</span></span> <span data-ttu-id="10159-723">También hay un [versión de Python](batch-python-tutorial.md) nodos de proceso de tutorial de Hola que se ejecuta una carga de trabajo en Linux.</span><span class="sxs-lookup"><span data-stu-id="10159-723">There is also a [Python version](batch-python-tutorial.md) of hello tutorial that runs a workload on Linux compute nodes.</span></span>
* <span data-ttu-id="10159-724">Descargar y generar hello [Explorer lote] [ github_batchexplorer] proyecto de ejemplo para su uso mientras desarrolla sus soluciones de lote.</span><span class="sxs-lookup"><span data-stu-id="10159-724">Download and build hello [Batch Explorer][github_batchexplorer] sample project for use while you develop your Batch solutions.</span></span> <span data-ttu-id="10159-725">Hola explorador por lotes puede realizar siguiente hello y mucho más:</span><span class="sxs-lookup"><span data-stu-id="10159-725">Using hello Batch Explorer, you can perform hello following and more:</span></span>

  * <span data-ttu-id="10159-726">Supervisar y manipular grupos, trabajos y tareas dentro de su cuenta de Batch</span><span class="sxs-lookup"><span data-stu-id="10159-726">Monitor and manipulate pools, jobs, and tasks within your Batch account</span></span>
  * <span data-ttu-id="10159-727">Descargar `stdout.txt`, `stderr.txt`, y otros archivos de los nodos</span><span class="sxs-lookup"><span data-stu-id="10159-727">Download `stdout.txt`, `stderr.txt`, and other files from nodes</span></span>
  * <span data-ttu-id="10159-728">Crear usuarios en los nodos y descargar archivos RDP para el inicio de sesión remoto.</span><span class="sxs-lookup"><span data-stu-id="10159-728">Create users on nodes and download RDP files for remote login</span></span>
* <span data-ttu-id="10159-729">Obtenga información acerca de cómo demasiado[crear grupos de nodos de proceso de Linux](batch-linux-nodes.md).</span><span class="sxs-lookup"><span data-stu-id="10159-729">Learn how too[create pools of Linux compute nodes](batch-linux-nodes.md).</span></span>
* <span data-ttu-id="10159-730">Visite hello [foro de Azure Batch] [ batch_forum] en MSDN.</span><span class="sxs-lookup"><span data-stu-id="10159-730">Visit hello [Azure Batch forum][batch_forum] on MSDN.</span></span> <span data-ttu-id="10159-731">Foro de Hello es conveniente colocar tooask preguntas, si solo se desea obtener la información o es un experto en uso por lotes.</span><span class="sxs-lookup"><span data-stu-id="10159-731">hello forum is a good place tooask questions, whether you are just learning or are an expert in using Batch.</span></span>

[1]: ./media/batch-api-basics/node-folder-structure.png

[azure_storage]: https://azure.microsoft.com/services/storage/
[batch_forum]: https://social.msdn.microsoft.com/Forums/en-US/home?forum=azurebatch
[cloud_service_sizes]: ../cloud-services/cloud-services-sizes-specs.md
[msmpi]: https://msdn.microsoft.com/library/bb524831.aspx
[github_samples]: https://github.com/Azure/azure-batch-samples
[github_sample_taskdeps]:  https://github.com/Azure/azure-batch-samples/tree/master/CSharp/ArticleProjects/TaskDependencies
[github_batchexplorer]: https://github.com/Azure/azure-batch-samples/tree/master/CSharp/BatchExplorer
[batch_net_api]: https://msdn.microsoft.com/library/azure/mt348682.aspx
[msdn_env_vars]: https://msdn.microsoft.com/library/azure/mt743623.aspx
[net_cloudjob_jobmanagertask]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudjob.jobmanagertask.aspx
[net_cloudjob_priority]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudjob.priority.aspx
[net_cloudpool_starttask]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudpool.starttask.aspx
[net_cloudtask_env]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudtask.environmentsettings.aspx
[net_create_cert]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.certificateoperations.createcertificate.aspx
[net_create_user]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.computenode.createcomputenodeuser.aspx
[net_getfile_node]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.computenode.getnodefile.aspx
[net_getfile_task]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudtask.getnodefile.aspx
[net_job_env]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudjob.commonenvironmentsettings.aspx
[net_multiinstancesettings]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.multiinstancesettings.aspx
[net_onalltaskscomplete]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudjob.onalltaskscomplete.aspx
[net_rdp]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.computenode.getrdpfile.aspx
[net_reboot]: https://msdn.microsoft.com/library/azure/mt631495.aspx
[net_reimage]: https://msdn.microsoft.com/library/azure/mt631496.aspx
[net_remove]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.pooloperations.removefrompoolasync.aspx
[net_offline]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.computenode.disableschedulingasync.aspx
[net_online]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.computenode.enableschedulingasync.aspx
[net_offline_option]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.common.disablecomputenodeschedulingoption.aspx
[net_rdpfile]: https://msdn.microsoft.com/library/azure/Mt272127.aspx
[vnet]: https://msdn.microsoft.com/library/azure/dn820174.aspx#bk_netconf

[py_add_user]: http://azure-sdk-for-python.readthedocs.io/en/latest/ref/azure.batch.operations.html#azure.batch.operations.ComputeNodeOperations.add_user

[batch_rest_api]: https://msdn.microsoft.com/library/azure/Dn820158.aspx
[rest_add_job]: https://msdn.microsoft.com/library/azure/mt282178.aspx
[rest_add_pool]: https://msdn.microsoft.com/library/azure/dn820174.aspx
[rest_add_cert]: https://msdn.microsoft.com/library/azure/dn820169.aspx
[rest_add_task]: https://msdn.microsoft.com/library/azure/dn820105.aspx
[rest_create_user]: https://msdn.microsoft.com/library/azure/dn820137.aspx
[rest_get_task_info]: https://msdn.microsoft.com/library/azure/dn820133.aspx
[rest_job_schedules]: https://msdn.microsoft.com/library/azure/mt282179.aspx
[rest_multiinstance]: https://msdn.microsoft.com/library/azure/mt637905.aspx
[rest_multiinstancesettings]: https://msdn.microsoft.com/library/azure/dn820105.aspx#multiInstanceSettings
[rest_update_job]: https://msdn.microsoft.com/library/azure/dn820162.aspx
[rest_rdp]: https://msdn.microsoft.com/library/azure/dn820120.aspx
[rest_reboot]: https://msdn.microsoft.com/library/azure/dn820171.aspx
[rest_reimage]: https://msdn.microsoft.com/library/azure/dn820157.aspx
[rest_remove]: https://msdn.microsoft.com/library/azure/dn820194.aspx
[rest_offline]: https://msdn.microsoft.com/library/azure/mt637904.aspx
[rest_online]: https://msdn.microsoft.com/library/azure/mt637907.aspx

[vm_marketplace]: https://azure.microsoft.com/marketplace/virtual-machines/
