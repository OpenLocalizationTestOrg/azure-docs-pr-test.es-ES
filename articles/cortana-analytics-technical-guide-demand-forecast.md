---
title: "Guía técnica para la previsión de demanda de energía | Microsoft Docs"
description: "Guía técnica de la plantilla de solución con Microsoft Cortana Intelligence para la previsión de demanda de energía."
services: cortana-analytics
documentationcenter: 
author: yijichen
manager: ilanr9
editor: yijichen
ms.assetid: 7f1a866b-79b7-4b97-ae3e-bc6bebe8c756
ms.service: cortana-analytics
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/16/2016
ms.author: inqiu;yijichen;ilanr9
ms.openlocfilehash: c3bbef8fee018dc54e7d3edb86e3f9434999bdae
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 07/11/2017
---
# <a name="technical-guide-to-the-cortana-intelligence-solution-template-for-demand-forecast-in-energy"></a><span data-ttu-id="d50bd-103">Guía técnica de la plantilla de solución de Cortana Intelligence para la previsión de demanda de energía</span><span class="sxs-lookup"><span data-stu-id="d50bd-103">Technical guide to the Cortana Intelligence Solution Template for demand forecast in energy</span></span>
## <a name="overview"></a><span data-ttu-id="d50bd-104">**Información general**</span><span class="sxs-lookup"><span data-stu-id="d50bd-104">**Overview**</span></span>
<span data-ttu-id="d50bd-105">Las plantillas de solución están diseñadas para acelerar el proceso de creación de una demostración E2E basada en Cortana Intelligence Suite.</span><span class="sxs-lookup"><span data-stu-id="d50bd-105">Solution Templates are designed to accelerate the process of building an E2E demo on top of Cortana Intelligence Suite.</span></span> <span data-ttu-id="d50bd-106">Una plantilla implementada aprovisionará la suscripción con los componentes necesarios de Cortana Intelligence y creará las relaciones entre ellos.</span><span class="sxs-lookup"><span data-stu-id="d50bd-106">A deployed template will provision your subscription with necessary Cortana Intelligence component and build the relationships between.</span></span> <span data-ttu-id="d50bd-107">También proporciona a la canalización de datos de ejemplo que se generan desde una aplicación de simulación de datos.</span><span class="sxs-lookup"><span data-stu-id="d50bd-107">It also seeds the data pipeline with sample data getting generated from a data simulation application.</span></span> <span data-ttu-id="d50bd-108">Descargue el simulador de datos desde el vínculo que se proporciona e instálelo en su máquina local. Consulte el archivo léame.txt para obtener instrucciones sobre cómo utilizar el simulador.</span><span class="sxs-lookup"><span data-stu-id="d50bd-108">Download the data simulator from the link provided and install it on your local machine, refer to the readme.txt file for instruction on using the simulator.</span></span> <span data-ttu-id="d50bd-109">Los datos generados con el simulador hidratarán la canalización de datos y comenzarán a generar predicciones de aprendizaje automático que luego se pueden visualizar en el panel de Power BI.</span><span class="sxs-lookup"><span data-stu-id="d50bd-109">Data generated from the simulator will hydrate the data pipeline and start generating machine learning prediction which can then be visualized on the Power BI dashboard.</span></span>

<span data-ttu-id="d50bd-110">Puede encontrar la plantilla de solución [aquí](https://gallery.cortanaintelligence.com/SolutionTemplate/Demand-Forecasting-for-Energy-1)</span><span class="sxs-lookup"><span data-stu-id="d50bd-110">The solution template can be found [here](https://gallery.cortanaintelligence.com/SolutionTemplate/Demand-Forecasting-for-Energy-1)</span></span>

<span data-ttu-id="d50bd-111">El proceso de implementación le guiará a través de varios pasos para configurar las credenciales de la solución.</span><span class="sxs-lookup"><span data-stu-id="d50bd-111">The deployment process will guide you through several steps to set up your solution credentials.</span></span> <span data-ttu-id="d50bd-112">Asegúrese de que registra estas credenciales: nombre de la solución, nombre de usuario y contraseña que proporcionó durante la implementación.</span><span class="sxs-lookup"><span data-stu-id="d50bd-112">Make sure you record these credentials such as solution name, username, and password you provide during the deployment.</span></span>

<span data-ttu-id="d50bd-113">El objetivo de este documento es explicar la arquitectura de referencia y los diferentes componentes aprovisionados en su suscripción como parte de esta plantilla de solución.</span><span class="sxs-lookup"><span data-stu-id="d50bd-113">The goal of this document is to explain the reference architecture and different components provisioned in your subscription as part of this Solution Template.</span></span> <span data-ttu-id="d50bd-114">El documento trata también sobre cómo reemplazar los datos de ejemplo con datos reales para poder ver detalles y predicciones a partir de sus propios datos.</span><span class="sxs-lookup"><span data-stu-id="d50bd-114">The document also talks about how to replace the sample data, with real data of your own to be able to see insights/predictions from you won data.</span></span> <span data-ttu-id="d50bd-115">Además, el documento explica las partes de la plantilla de solución que deberán modificarse si desea personalizar la solución con sus propios datos.</span><span class="sxs-lookup"><span data-stu-id="d50bd-115">Additionally, the document talks about the parts of the Solution Template that would need to be modified if you want to customize the solution with your own data.</span></span> <span data-ttu-id="d50bd-116">Se proporcionan instrucciones sobre cómo crear el panel de Power BI para esta plantilla de solución al final.</span><span class="sxs-lookup"><span data-stu-id="d50bd-116">Instructions on how to build the Power BI dashboard for this Solution Template are provided at the end.</span></span>

## <a name="big-picture"></a><span data-ttu-id="d50bd-117">**Idea general**</span><span class="sxs-lookup"><span data-stu-id="d50bd-117">**Big Picture**</span></span>
![](media/cortana-analytics-technical-guide-demand-forecast/ca-topologies-energy-forecasting.png)

### <a name="architecture-explained"></a><span data-ttu-id="d50bd-118">Arquitectura explicada</span><span class="sxs-lookup"><span data-stu-id="d50bd-118">Architecture Explained</span></span>
<span data-ttu-id="d50bd-119">Cuando se implementa la solución, se activan varios servicios de Azure dentro de Cortana Analytics Suite (*por ejemplo,* Centro de eventos, Stream Analytics, HDInsight, Data Factory, Machine Learning, *etc.*).</span><span class="sxs-lookup"><span data-stu-id="d50bd-119">When the solution is deployed, various Azure services within Cortana Analytics Suite are activated (*i.e.* Event Hub, Stream Analytics, HDInsight, Data Factory, Machine Learning, *etc.*).</span></span> <span data-ttu-id="d50bd-120">El diagrama de arquitectura anterior muestra, a nivel general, cómo se construye la plantilla de solución Previsión de demanda de energía de un extremo a otro.</span><span class="sxs-lookup"><span data-stu-id="d50bd-120">The architecture diagram above shows, at a high level, how the Demand Forecasting for Energy Solution Template is constructed from end-to-end.</span></span> <span data-ttu-id="d50bd-121">Podrá investigar estos servicios haciendo clic en ellos en el diagrama de la plantilla de solución creado con la implementación de la solución.</span><span class="sxs-lookup"><span data-stu-id="d50bd-121">You will be able to investigate these services by clicking on them on the solution template diagram created with the deployment of the solution.</span></span> <span data-ttu-id="d50bd-122">Las secciones siguientes describen cada parte.</span><span class="sxs-lookup"><span data-stu-id="d50bd-122">The following sections describe each piece.</span></span>

## <a name="data-source-and-ingestion"></a><span data-ttu-id="d50bd-123">**Origen e ingesta de datos**</span><span class="sxs-lookup"><span data-stu-id="d50bd-123">**Data Source and Ingestion**</span></span>
### <a name="synthetic-data-source"></a><span data-ttu-id="d50bd-124">Origen de datos sintéticos</span><span class="sxs-lookup"><span data-stu-id="d50bd-124">Synthetic Data Source</span></span>
<span data-ttu-id="d50bd-125">Para esta plantilla, el origen de datos utilizado se genera desde una aplicación de escritorio que se descarga y ejecuta localmente tras una implementación correcta.</span><span class="sxs-lookup"><span data-stu-id="d50bd-125">For this template the data source used is generated from a desktop application that you will download and run locally after successful deployment.</span></span> <span data-ttu-id="d50bd-126">Encontrará las instrucciones para descargar e instalar esta aplicación en la barra de propiedades al seleccionar el primer nodo denominado Energy Forecasting Data Simulator en el diagrama de la plantilla de solución.</span><span class="sxs-lookup"><span data-stu-id="d50bd-126">You will find the instructions to download and install this application in the properties bar when you select the first node called Energy Forecasting Data Simulator on the solution template diagram.</span></span> <span data-ttu-id="d50bd-127">Esta aplicación alimenta el servicio [Centro de eventos de Azure](#azure-event-hub) con puntos de datos o eventos, que se usarán en el flujo de solución restante.</span><span class="sxs-lookup"><span data-stu-id="d50bd-127">This application feeds the [Azure Event Hub](#azure-event-hub) service with data points, or events, that will be used in the rest of the solution flow.</span></span>

<span data-ttu-id="d50bd-128">La aplicación de generación de eventos rellenará el Centro de eventos de Azure solo mientras se esté ejecutando en el equipo.</span><span class="sxs-lookup"><span data-stu-id="d50bd-128">The event generation application will populate the Azure Event Hub only while it's executing on your computer.</span></span>

### <a name="azure-event-hub"></a><span data-ttu-id="d50bd-129">Centro de eventos de Azure</span><span class="sxs-lookup"><span data-stu-id="d50bd-129">Azure Event Hub</span></span>
<span data-ttu-id="d50bd-130">El servicio [Centro de eventos de Azure](https://azure.microsoft.com/services/event-hubs/) es el destinatario de la entrada proporcionada por el origen de datos sintéticos descrito anteriormente.</span><span class="sxs-lookup"><span data-stu-id="d50bd-130">The [Azure Event Hub](https://azure.microsoft.com/services/event-hubs/) service is the recipient of the input provided by the Synthetic Data Source described above.</span></span>

## <a name="data-preparation-and-analysis"></a><span data-ttu-id="d50bd-131">**Preparación y análisis de datos**</span><span class="sxs-lookup"><span data-stu-id="d50bd-131">**Data Preparation and Analysis**</span></span>
### <a name="azure-stream-analytics"></a><span data-ttu-id="d50bd-132">Análisis de transmisiones de Azure</span><span class="sxs-lookup"><span data-stu-id="d50bd-132">Azure Stream Analytics</span></span>
<span data-ttu-id="d50bd-133">El servicio [Azure Stream Analytics](https://azure.microsoft.com/services/stream-analytics/) se usa para proporcionar análisis casi en tiempo real en el flujo de entrada del servicio [Centro de eventos de Azure](#azure-event-hub) y para publicar los resultados en un panel de [Power BI](https://powerbi.microsoft.com) y, al mismo tiempo, archivar todos los eventos de entrada sin procesar en el servicio [Azure Storage](https://azure.microsoft.com/services/storage/) para su posterior procesamiento mediante [Azure Data Factory](https://azure.microsoft.com/documentation/services/data-factory/).</span><span class="sxs-lookup"><span data-stu-id="d50bd-133">The [Azure Stream Analytics](https://azure.microsoft.com/services/stream-analytics/) service is used to provide near real-time analytics on the input stream from the [Azure Event Hub](#azure-event-hub) service and publish results onto a [Power BI](https://powerbi.microsoft.com) dashboard as well as archiving all raw incoming events to the [Azure Storage](https://azure.microsoft.com/services/storage/) service for later processing by the [Azure Data Factory](https://azure.microsoft.com/documentation/services/data-factory/) service.</span></span>

### <a name="hd-insights-custom-aggregation"></a><span data-ttu-id="d50bd-134">Agregación personalizada de HD Insights</span><span class="sxs-lookup"><span data-stu-id="d50bd-134">HD Insights Custom Aggregation</span></span>
<span data-ttu-id="d50bd-135">Con la organización de Data Factory de Azure, el servicio HD Insight de Azure se usa para ejecutar scripts de [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) para proporcionar agregaciones en los eventos sin procesar que se almacenaron con el servicio Análisis de transmisiones de Azure.</span><span class="sxs-lookup"><span data-stu-id="d50bd-135">The Azure HD Insight service is used to run [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) scripts (orchestrated by Azure Data Factory) to provide aggregations on the raw events that were archived using the Azure Stream Analytics service.</span></span>

### <a name="azure-machine-learning"></a><span data-ttu-id="d50bd-136">Aprendizaje automático de Azure</span><span class="sxs-lookup"><span data-stu-id="d50bd-136">Azure Machine Learning</span></span>
<span data-ttu-id="d50bd-137">Coordinado por Data Factory de Azure, el servicio [Aprendizaje automático de Azure](https://azure.microsoft.com/services/machine-learning/) se usa para realizar previsiones sobre el consumo futuro de energía de una región determinada, en función de los datos recibidos.</span><span class="sxs-lookup"><span data-stu-id="d50bd-137">The [Azure Machine Learning](https://azure.microsoft.com/services/machine-learning/) service is used (orchestrated by Azure Data Factory) to make forecast on future power consumption of a particular region given the inputs received.</span></span>

## <a name="data-publishing"></a><span data-ttu-id="d50bd-138">**Publicación de datos**</span><span class="sxs-lookup"><span data-stu-id="d50bd-138">**Data Publishing**</span></span>
### <a name="azure-sql-database-service"></a><span data-ttu-id="d50bd-139">Servicio Base de datos SQL de Azure.</span><span class="sxs-lookup"><span data-stu-id="d50bd-139">Azure SQL Database Service</span></span>
<span data-ttu-id="d50bd-140">Administrado por Azure Data Factory, el servicio [Azure SQL Database](https://azure.microsoft.com/services/sql-database/) se usa para almacenar las predicciones recibidas por el servicio Azure Machine Learning que se usarán en el panel de [Power BI](https://powerbi.microsoft.com).</span><span class="sxs-lookup"><span data-stu-id="d50bd-140">The [Azure SQL Database](https://azure.microsoft.com/services/sql-database/) service is used to store (managed by Azure Data Factory) the predictions received by the Azure Machine Learning service that will be consumed in the [Power BI](https://powerbi.microsoft.com) dashboard.</span></span>

## <a name="data-consumption"></a><span data-ttu-id="d50bd-141">**Consumo de datos**</span><span class="sxs-lookup"><span data-stu-id="d50bd-141">**Data Consumption**</span></span>
### <a name="power-bi"></a><span data-ttu-id="d50bd-142">Power BI</span><span class="sxs-lookup"><span data-stu-id="d50bd-142">Power BI</span></span>
<span data-ttu-id="d50bd-143">El servicio [Power BI](https://powerbi.microsoft.com) se usa para mostrar un panel que contiene las agregaciones proporcionadas por el servicio [Azure Stream Analytics](https://azure.microsoft.com/services/stream-analytics/), así como los resultados de previsión de demanda almacenados en [Azure SQL Database](https://azure.microsoft.com/services/sql-database/) que se produjeron al usar el servicio [Azure Machine Learning](https://azure.microsoft.com/services/machine-learning/).</span><span class="sxs-lookup"><span data-stu-id="d50bd-143">The [Power BI](https://powerbi.microsoft.com) service is used to show a dashboard that contains aggregations provided by the [Azure Stream Analytics](https://azure.microsoft.com/services/stream-analytics/) service as well as demand forecast results stored in [Azure SQL Database](https://azure.microsoft.com/services/sql-database/) that were produced using the [Azure Machine Learning](https://azure.microsoft.com/services/machine-learning/) service.</span></span> <span data-ttu-id="d50bd-144">Para instrucciones sobre cómo crear el panel de Power BI para esta plantilla de solución, consulte la sección siguiente.</span><span class="sxs-lookup"><span data-stu-id="d50bd-144">For Instructions on how to build the Power BI dashboard for this Solution Template, refer to the section below.</span></span>

## <a name="how-to-bring-in-your-own-data"></a><span data-ttu-id="d50bd-145">**Incorporación de sus propios datos**</span><span class="sxs-lookup"><span data-stu-id="d50bd-145">**How to bring in your own data**</span></span>
<span data-ttu-id="d50bd-146">Esta sección describe cómo traer sus propios datos a Azure y qué áreas necesitarían cambios para los datos que ha traído a esta arquitectura.</span><span class="sxs-lookup"><span data-stu-id="d50bd-146">This section describes how to bring your own data to Azure, and what areas would require changes for the data you bring into this architecture.</span></span>

<span data-ttu-id="d50bd-147">Es improbable que cualquier conjunto de datos que proporcione coincida con el conjunto de datos utilizado en esta plantilla de solución.</span><span class="sxs-lookup"><span data-stu-id="d50bd-147">It's unlikely that any dataset you bring would match the dataset used for this solution template.</span></span> <span data-ttu-id="d50bd-148">Entender bien los datos y los requisitos resultará vital a la hora de modificar esta plantilla para que funcione con sus propios datos.</span><span class="sxs-lookup"><span data-stu-id="d50bd-148">Understanding your data and the requirements will be crucial in how you modify this template to work with your own data.</span></span> <span data-ttu-id="d50bd-149">Si se trata del primer contacto con el servicio Azure Machine Learning, puede obtener una introducción al mismo mediante el ejemplo que puede encontrar en [Tutorial de Aprendizaje automático: Creación del primer experimento en Estudio de aprendizaje automático de Azure](machine-learning/machine-learning-create-experiment.md).</span><span class="sxs-lookup"><span data-stu-id="d50bd-149">If this is your first exposure to the Azure Machine Learning service, you can get an introduction to it by using the example in [How to create your first experiment](machine-learning/machine-learning-create-experiment.md).</span></span>

<span data-ttu-id="d50bd-150">Los apartados siguientes describen las secciones de la plantilla que requieren modificaciones cuando se introduce un nuevo conjunto de datos.</span><span class="sxs-lookup"><span data-stu-id="d50bd-150">The following sections will discuss the sections of the template that will require modifications when a new dataset is introduced.</span></span>

### <a name="azure-event-hub"></a><span data-ttu-id="d50bd-151">Centro de eventos de Azure</span><span class="sxs-lookup"><span data-stu-id="d50bd-151">Azure Event Hub</span></span>
<span data-ttu-id="d50bd-152">El servicio [Centro de eventos de Azure](https://azure.microsoft.com/services/event-hubs/) es muy genérico, hasta tal punto que se pueden publicar datos en el centro en formato CSV o JSON.</span><span class="sxs-lookup"><span data-stu-id="d50bd-152">The [Azure Event Hub](https://azure.microsoft.com/services/event-hubs/) service is very generic, such that data can be posted to the hub in either CSV or JSON format.</span></span> <span data-ttu-id="d50bd-153">No se produce ningún procesamiento especial en el Centro de eventos de Azure, pero es importante que comprenda los datos que se introducen en él.</span><span class="sxs-lookup"><span data-stu-id="d50bd-153">No special processing occurs in the Azure Event Hub, but it is important you understand the data that is fed into it.</span></span>

<span data-ttu-id="d50bd-154">En este documento no se describe cómo ingerir los datos, pero puede enviar fácilmente eventos o datos a un Centro de eventos de Azure mediante la [API del Centro de eventos](event-hubs/event-hubs-programming-guide.md).</span><span class="sxs-lookup"><span data-stu-id="d50bd-154">This document does not describe how to ingest your data, but one can easily send events or data to an Azure Event Hub, using the [Event Hub API](event-hubs/event-hubs-programming-guide.md).</span></span>

### <a name="azure-stream-analytics"></a><span data-ttu-id="d50bd-155">Análisis de transmisiones de Azure</span><span class="sxs-lookup"><span data-stu-id="d50bd-155">Azure Stream Analytics</span></span>
<span data-ttu-id="d50bd-156">El servicio [Análisis de transmisiones de Azure](https://azure.microsoft.com/services/stream-analytics/) se usa para proporcionar análisis casi en tiempo real mediante la lectura de flujos de datos y el envío de datos a cualquier número de orígenes.</span><span class="sxs-lookup"><span data-stu-id="d50bd-156">The [Azure Stream Analytics](https://azure.microsoft.com/services/stream-analytics/) service is used to provide near real-time analytics by reading from data streams and outputting data to any number of sources.</span></span>

<span data-ttu-id="d50bd-157">Para la plantilla de solución Previsión de demanda de energía, la consulta de Análisis de transmisiones de Azure consta de dos subconsultas, cada una de las cuales consume eventos del servicio Centro de eventos de Azure como entradas y tiene salidas a dos ubicaciones distintas.</span><span class="sxs-lookup"><span data-stu-id="d50bd-157">For the Demand Forecasting for Energy Solution Template, the Azure Stream Analytics query consists of two sub-queries, each consuming events from the Azure Event Hub service as inputs and having outputs to two distinct locations.</span></span> <span data-ttu-id="d50bd-158">Estas salidas constan de un conjunto de datos de Power BI y una ubicación de Almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="d50bd-158">These outputs consist of one Power BI dataset and one Azure Storage location.</span></span>

<span data-ttu-id="d50bd-159">La consulta de [Análisis de transmisiones de Azure](https://azure.microsoft.com/services/stream-analytics/) puede encontrarse:</span><span class="sxs-lookup"><span data-stu-id="d50bd-159">The [Azure Stream Analytics](https://azure.microsoft.com/services/stream-analytics/) query can be found by:</span></span>

* <span data-ttu-id="d50bd-160">Mediante el inicio de sesión en el [Portal de administración de Azure](https://manage.windowsazure.com/)</span><span class="sxs-lookup"><span data-stu-id="d50bd-160">Logging into the [Azure management portal](https://manage.windowsazure.com/)</span></span>
* <span data-ttu-id="d50bd-161">Mediante la búsqueda de los trabajos de Análisis de transmisiones ![](media/cortana-analytics-technical-guide-demand-forecast/icon-stream-analytics.png) que se hayan generado al implementar la solución.</span><span class="sxs-lookup"><span data-stu-id="d50bd-161">Locating the stream analytics jobs ![](media/cortana-analytics-technical-guide-demand-forecast/icon-stream-analytics.png) that were generated when the solution was deployed.</span></span> <span data-ttu-id="d50bd-162">En el primer caso se insertan datos en el almacenamiento de blobs (por ejemplo, mytest1streaming432822asablob) y en el segundo caso se insertan datos en Power BI (por ejemplo, mytest1streaming432822asapbi).</span><span class="sxs-lookup"><span data-stu-id="d50bd-162">One is for pushing data to blob storage (e.g. mytest1streaming432822asablob) and the other one is for pushing data to Power BI (e.g. mytest1streaming432822asapbi).</span></span>
* <span data-ttu-id="d50bd-163">Seleccionar</span><span class="sxs-lookup"><span data-stu-id="d50bd-163">Selecting</span></span>

  * <span data-ttu-id="d50bd-164">***INPUTS*** para ver la entrada de consulta</span><span class="sxs-lookup"><span data-stu-id="d50bd-164">***INPUTS*** to view the query input</span></span>
  * <span data-ttu-id="d50bd-165">***QUERY*** para ver la consulta en sí</span><span class="sxs-lookup"><span data-stu-id="d50bd-165">***QUERY*** to view the query itself</span></span>
  * <span data-ttu-id="d50bd-166">***OUTPUTS*** para ver las diferentes salidas</span><span class="sxs-lookup"><span data-stu-id="d50bd-166">***OUTPUTS*** to view the different outputs</span></span>

<span data-ttu-id="d50bd-167">Puede encontrar información acerca de la construcción de consultas de Análisis de transmisiones de Azure en [Stream Analytics Query Reference (Referencia de consultas en Análisis de transmisiones)](https://msdn.microsoft.com/library/azure/dn834998.aspx) en MSDN.</span><span class="sxs-lookup"><span data-stu-id="d50bd-167">Information about Azure Stream Analytics query construction can be found in the [Stream Analytics Query Reference](https://msdn.microsoft.com/library/azure/dn834998.aspx) on MSDN.</span></span>

<span data-ttu-id="d50bd-168">En esta solución, el trabajo de Análisis de transmisiones de Azure que envía un conjunto de datos con información de análisis casi en tiempo real sobre el flujo de datos de entrada a un panel de Power BI se proporciona como parte de esta plantilla de solución.</span><span class="sxs-lookup"><span data-stu-id="d50bd-168">In this solution, the Azure Stream Analytics job which outputs dataset with near real-time analytics information about the incoming data stream to a Power BI dashboard is provided as part of this solution template.</span></span> <span data-ttu-id="d50bd-169">Dado que hay un conocimiento implícito acerca del formato de datos entrantes, estas consultas deben modificarse según su formato de datos.</span><span class="sxs-lookup"><span data-stu-id="d50bd-169">Because there's implicit knowledge about the incoming data format, these queries would need to be altered based on your data format.</span></span>

<span data-ttu-id="d50bd-170">El segundo trabajo de Azure Stream Analytics envía todos los eventos del [Centro de eventos](https://azure.microsoft.com/services/event-hubs/) a [Azure Storage](https://azure.microsoft.com/services/storage/) y, con independencia del formato de los datos, no necesita modificación ya que toda la información de los eventos se transmitió al almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="d50bd-170">The other Azure Stream Analytics job outputs all [Event Hub](https://azure.microsoft.com/services/event-hubs/) events to [Azure Storage](https://azure.microsoft.com/services/storage/) and hence requires no alteration regardless of your data format as the full event information is streamed to storage.</span></span>

### <a name="azure-data-factory"></a><span data-ttu-id="d50bd-171">Factoría de datos de Azure</span><span class="sxs-lookup"><span data-stu-id="d50bd-171">Azure Data Factory</span></span>
<span data-ttu-id="d50bd-172">El servicio [Data Factory de Azure](https://azure.microsoft.com/documentation/services/data-factory/) organiza el traslado y procesamiento de los datos.</span><span class="sxs-lookup"><span data-stu-id="d50bd-172">The [Azure Data Factory](https://azure.microsoft.com/documentation/services/data-factory/) service orchestrates the movement and processing of data.</span></span> <span data-ttu-id="d50bd-173">En la plantilla de solución Previsión de demanda de energía, la factoría de datos se compone de doce [canalizaciones](data-factory/data-factory-create-pipelines.md) que mueven y procesan los datos mediante varias tecnologías.</span><span class="sxs-lookup"><span data-stu-id="d50bd-173">In the Demand Forecasting for Energy Solution Template the data factory is made up of twelve [pipelines](data-factory/data-factory-create-pipelines.md) that move and process the data using various technologies.</span></span>

  <span data-ttu-id="d50bd-174">Puede tener acceso a la factoría de datos si abre el nodo Data Factory en la parte inferior del diagrama de la plantilla de solución que se creó con la implementación de la solución.</span><span class="sxs-lookup"><span data-stu-id="d50bd-174">You can access your data factory by opening the Data Factory node at the bottom of the solution template diagram created with the deployment of the solution.</span></span> <span data-ttu-id="d50bd-175">Esto le llevará a la factoría de datos del Portal de administración de Azure.</span><span class="sxs-lookup"><span data-stu-id="d50bd-175">This will take you to the data factory on your Azure management portal.</span></span> <span data-ttu-id="d50bd-176">Si ve errores en los conjuntos de datos, puede ignorarlos ya que se deben a que la Factoría de datos se implementó antes de iniciarse el generador de datos.</span><span class="sxs-lookup"><span data-stu-id="d50bd-176">If you see errors under your datasets, you can ignore those as they are due to data factory being deployed before the data generator was started.</span></span> <span data-ttu-id="d50bd-177">Estos errores no impiden que la Factoría de datos funcione.</span><span class="sxs-lookup"><span data-stu-id="d50bd-177">Those errors do not prevent your data factory from functioning.</span></span>

<span data-ttu-id="d50bd-178">Esta sección describe las [canalizaciones](data-factory/data-factory-create-pipelines.md) y [actividades](data-factory/data-factory-create-pipelines.md) necesarias contenidas en [Azure Data Factory](https://azure.microsoft.com/documentation/services/data-factory/).</span><span class="sxs-lookup"><span data-stu-id="d50bd-178">This section discusses the necessary [pipelines](data-factory/data-factory-create-pipelines.md) and [activities](data-factory/data-factory-create-pipelines.md) contained in the [Azure Data Factory](https://azure.microsoft.com/documentation/services/data-factory/).</span></span> <span data-ttu-id="d50bd-179">A continuación se muestra la vista de diagrama de la solución.</span><span class="sxs-lookup"><span data-stu-id="d50bd-179">Below is the diagram view of the solution.</span></span>

![](media/cortana-analytics-technical-guide-demand-forecast/ADF2.png)

<span data-ttu-id="d50bd-180">Cinco de las canalizaciones de esta factoría contienen scripts de [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) que se usan para particionar y agregar los datos.</span><span class="sxs-lookup"><span data-stu-id="d50bd-180">Five of the pipelines of this factory contain [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) scripts that are used to partition and aggregate the data.</span></span> <span data-ttu-id="d50bd-181">Cuando los anote, los scripts se encontrarán en la cuenta de [Almacenamiento de Azure](https://azure.microsoft.com/services/storage/) creada durante la instalación.</span><span class="sxs-lookup"><span data-stu-id="d50bd-181">When noted, the scripts will be located in the [Azure Storage](https://azure.microsoft.com/services/storage/) account created during setup.</span></span> <span data-ttu-id="d50bd-182">Su ubicación será: demandforecasting\\\\script\\\\hive\\\\ (or https://[Your solution name].blob.core.windows.net/demandforecasting).</span><span class="sxs-lookup"><span data-stu-id="d50bd-182">Their location will be: demandforecasting\\\\script\\\\hive\\\\ (or https://[Your solution name].blob.core.windows.net/demandforecasting).</span></span>

<span data-ttu-id="d50bd-183">Al igual que las consultas de [Azure Stream Analytics](#azure-stream-analytics-1), los scripts de [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) tienen un conocimiento implícito acerca del formato de los datos entrantes, por lo que estas consultas tendrían que modificarse en función del formato de los datos y de los requisitos de la [ingeniería de características](machine-learning/machine-learning-feature-selection-and-engineering.md).</span><span class="sxs-lookup"><span data-stu-id="d50bd-183">Similar to the [Azure Stream Analytics](#azure-stream-analytics-1) queries, the [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) scripts have implicit knowledge about the incoming data format, these queries would need to be altered based on your data format and [feature engineering](machine-learning/machine-learning-feature-selection-and-engineering.md) requirements.</span></span>

#### <a name="aggregatedemanddatato1hrpipeline"></a><span data-ttu-id="d50bd-184">*AggregateDemandDataTo1HrPipeline*</span><span class="sxs-lookup"><span data-stu-id="d50bd-184">*AggregateDemandDataTo1HrPipeline*</span></span>
<span data-ttu-id="d50bd-185">Esta [canalización](data-factory/data-factory-create-pipelines.md) contiene una única actividad, una actividad de [HDInsightHive](data-factory/data-factory-hive-activity.md) que usa un servicio de [HDInsightLinkedService](https://msdn.microsoft.com/library/azure/dn893526.aspx) que ejecuta un script de [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) para agregar cada 10 segundos datos transmitidos a petición en el nivel de subestación al nivel de región horaria y colocarlos en [Azure Storage](https://azure.microsoft.com/services/storage/) mediante el trabajo de Azure Stream Analytics.</span><span class="sxs-lookup"><span data-stu-id="d50bd-185">This [pipeline](data-factory/data-factory-create-pipelines.md) pipeline contains a single activity - an [HDInsightHive](data-factory/data-factory-hive-activity.md) activity using a [HDInsightLinkedService](https://msdn.microsoft.com/library/azure/dn893526.aspx) that runs a [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) script to aggregate the every 10 seconds streamed in demand data in substation level to hourly region level and put in [Azure Storage](https://azure.microsoft.com/services/storage/) through the Azure Stream Analytics job.</span></span>

<span data-ttu-id="d50bd-186">El script de [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) para esta tarea de creación de particiones es ***AggregateDemandRegion1Hr.hql***</span><span class="sxs-lookup"><span data-stu-id="d50bd-186">The [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) script for this partitioning task is ***AggregateDemandRegion1Hr.hql***</span></span>

#### <a name="loadhistorydemanddatapipeline"></a><span data-ttu-id="d50bd-187">*LoadHistoryDemandDataPipeline*</span><span class="sxs-lookup"><span data-stu-id="d50bd-187">*LoadHistoryDemandDataPipeline*</span></span>
<span data-ttu-id="d50bd-188">Esta [canalización](data-factory/data-factory-create-pipelines.md) contiene dos actividades:</span><span class="sxs-lookup"><span data-stu-id="d50bd-188">This [pipeline](data-factory/data-factory-create-pipelines.md) contains two activities:</span></span>

* <span data-ttu-id="d50bd-189">La actividad [HDInsightHive](data-factory/data-factory-hive-activity.md) que usa un servicio de [HDInsightLinkedService](https://msdn.microsoft.com/library/azure/dn893526.aspx) que ejecuta un script de Hive para agregar los datos de demanda del historial de horas en el nivel de subestación al nivel de región horaria y colocarlos en Azure Storage durante el trabajo de Azure Stream Analytics.</span><span class="sxs-lookup"><span data-stu-id="d50bd-189">[HDInsightHive](data-factory/data-factory-hive-activity.md) activity using a [HDInsightLinkedService](https://msdn.microsoft.com/library/azure/dn893526.aspx) that runs a  Hive script to aggregate the hourly history demand data in substation level to hourly region level and put in Azure Storage during the Azure Stream Analytics job</span></span>
* <span data-ttu-id="d50bd-190">[Copy](https://msdn.microsoft.com/library/azure/dn835035.aspx) que mueve los datos agregados desde el blob de Almacenamiento de Azure hasta la base de datos SQL de Azure que se aprovisionó como parte de la instalación de la plantilla de solución.</span><span class="sxs-lookup"><span data-stu-id="d50bd-190">[Copy](https://msdn.microsoft.com/library/azure/dn835035.aspx) activity that moves the aggregated data from Azure Storage blob to the Azure SQL Database that was provisioned as part of the solution template installation.</span></span>

<span data-ttu-id="d50bd-191">El script de [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) de esta tarea es ***AggregateDemandHistoryRegion.hql***.</span><span class="sxs-lookup"><span data-stu-id="d50bd-191">The [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) script for this task is ***AggregateDemandHistoryRegion.hql***.</span></span>

#### <a name="mlscoringregionxpipeline"></a><span data-ttu-id="d50bd-192">*MLScoringRegionXPipeline*</span><span class="sxs-lookup"><span data-stu-id="d50bd-192">*MLScoringRegionXPipeline*</span></span>
<span data-ttu-id="d50bd-193">Esta [canalización](data-factory/data-factory-create-pipelines.md) contiene varias actividades cuyo resultado final son las predicciones puntuadas a partir del experimento de Azure Machine Learning asociado a esta plantilla de solución.</span><span class="sxs-lookup"><span data-stu-id="d50bd-193">These [pipelines](data-factory/data-factory-create-pipelines.md) contain several activities and whose end result is the scored predictions from the Azure Machine Learning experiment associated with this solution template.</span></span> <span data-ttu-id="d50bd-194">Son casi idénticas, excepto que cada una de ellas solo administra la región diferente, lo cual se realiza pasando un valor de RegionID diferente en la canalización ADF y el script de Hive para cada región.</span><span class="sxs-lookup"><span data-stu-id="d50bd-194">They are almost identical except each of them only handles the different region which is being done by different RegionID passed in the ADF pipeline and the hive script for each region.</span></span>  
<span data-ttu-id="d50bd-195">Las actividades contenidas son:</span><span class="sxs-lookup"><span data-stu-id="d50bd-195">The activities contained in this are:</span></span>

* <span data-ttu-id="d50bd-196">Una actividad de [HDInsightHive](data-factory/data-factory-hive-activity.md) que usa un servicio de [HDInsightLinkedService](https://msdn.microsoft.com/library/azure/dn893526.aspx) que ejecuta un script de Hive para realizar agregaciones y la ingeniería de características necesarias para el experimento de Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="d50bd-196">[HDInsightHive](data-factory/data-factory-hive-activity.md) activity using a [HDInsightLinkedService](https://msdn.microsoft.com/library/azure/dn893526.aspx) that runs a  Hive script to perform aggregations and feature engineering necessary for the Azure Machine Learning experiment.</span></span> <span data-ttu-id="d50bd-197">Los scripts de Hive de esta tarea son los archivos ***PrepareMLInputRegionX.hql*** respectivos.</span><span class="sxs-lookup"><span data-stu-id="d50bd-197">The Hive scripts for this task are respective ***PrepareMLInputRegionX.hql***.</span></span>
* <span data-ttu-id="d50bd-198">Una actividad de [copia](https://msdn.microsoft.com/library/azure/dn835035.aspx) que mueve los resultados de la actividad [HDInsightHive](data-factory/data-factory-hive-activity.md) a un solo blob de Azure Storage al que se puede acceder mediante la actividad [AzureMLBatchScoring](https://msdn.microsoft.com/library/azure/dn894009.aspx).</span><span class="sxs-lookup"><span data-stu-id="d50bd-198">[Copy](https://msdn.microsoft.com/library/azure/dn835035.aspx) activity that moves the results from the [HDInsightHive](data-factory/data-factory-hive-activity.md) activity to a single Azure Storage blob that can be access by the  [AzureMLBatchScoring](https://msdn.microsoft.com/library/azure/dn894009.aspx) activity.</span></span>
* <span data-ttu-id="d50bd-199">[AzureMLBatchScoring](https://msdn.microsoft.com/library/azure/dn894009.aspx) que llama al experimento de Aprendizaje automático de Azure que hace que los resultados se coloquen en un único blob del Almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="d50bd-199">[AzureMLBatchScoring](https://msdn.microsoft.com/library/azure/dn894009.aspx) activity that calls the Azure Machine Learning experiment which results in the results being put in a single Azure Storage blob.</span></span>

#### <a name="copyscoredresultregionxpipeline"></a><span data-ttu-id="d50bd-200">*CopyScoredResultRegionXPipeline*</span><span class="sxs-lookup"><span data-stu-id="d50bd-200">*CopyScoredResultRegionXPipeline*</span></span>
<span data-ttu-id="d50bd-201">Estas [canalizaciones](data-factory/data-factory-create-pipelines.md) contienen una única actividad: una actividad de [copia](https://msdn.microsoft.com/library/azure/dn835035.aspx) que mueve los resultados del experimento de Azure Machine Learning desde la canalización ***MLScoringRegionXPipeline*** respectiva a la instancia de Azure SQL Database que se haya aprovisionado como parte de la instalación de la plantilla de solución.</span><span class="sxs-lookup"><span data-stu-id="d50bd-201">These [pipelines](data-factory/data-factory-create-pipelines.md) contain a single activity - a [Copy](https://msdn.microsoft.com/library/azure/dn835035.aspx) activity that moves the results of the Azure Machine Learning experiment from the respective ***MLScoringRegionXPipeline*** to the Azure SQL Database that was provisioned as part of the solution template installation.</span></span>

#### <a name="copyaggdemandpipeline"></a><span data-ttu-id="d50bd-202">*CopyAggDemandPipeline*</span><span class="sxs-lookup"><span data-stu-id="d50bd-202">*CopyAggDemandPipeline*</span></span>
<span data-ttu-id="d50bd-203">Estas [canalizaciones](data-factory/data-factory-create-pipelines.md) contienen una única actividad: una actividad de [copia](https://msdn.microsoft.com/library/azure/dn835035.aspx) que mueve los datos de demanda continua agregados desde ***LoadHistoryDemandDataPipeline*** hasta la instancia de Azure SQL Database que se haya aprovisionado como parte de la instalación de la plantilla de solución.</span><span class="sxs-lookup"><span data-stu-id="d50bd-203">This [pipelines](data-factory/data-factory-create-pipelines.md) contain a single activity - a [Copy](https://msdn.microsoft.com/library/azure/dn835035.aspx) activity that moves the aggregated ongoing demand data from ***LoadHistoryDemandDataPipeline*** to the Azure SQL Database that was provisioned as part of the solution template installation.</span></span>

#### <a name="copyregiondatapipeline-copysubstationdatapipeline-copytopologydatapipeline"></a><span data-ttu-id="d50bd-204">*CopyRegionDataPipeline, CopySubstationDataPipeline, CopyTopologyDataPipeline*</span><span class="sxs-lookup"><span data-stu-id="d50bd-204">*CopyRegionDataPipeline, CopySubstationDataPipeline, CopyTopologyDataPipeline*</span></span>
<span data-ttu-id="d50bd-205">Estas [canalizaciones](data-factory/data-factory-create-pipelines.md) contienen una única actividad: una actividad de [copia](https://msdn.microsoft.com/library/azure/dn835035.aspx) que mueve los datos de referencia de una región, subestación o topología, que se cargan en un blob de Azure Storage como parte de la instalación de la plantilla de solución, en la instancia de Azure SQL Database que se haya aprovisionado como parte de dicha instalación.</span><span class="sxs-lookup"><span data-stu-id="d50bd-205">These [pipelines](data-factory/data-factory-create-pipelines.md) contain a single activity - a [Copy](https://msdn.microsoft.com/library/azure/dn835035.aspx) activity that moves the reference data of Region/Substation/Topologygeo that are uploaded to Azure Storage blob as part of the solution template installation to the Azure SQL Database that was provisioned as part of the solution template installation.</span></span>

### <a name="azure-machine-learning"></a><span data-ttu-id="d50bd-206">Aprendizaje automático de Azure</span><span class="sxs-lookup"><span data-stu-id="d50bd-206">Azure Machine Learning</span></span>
<span data-ttu-id="d50bd-207">El experimento de [Aprendizaje automático de Azure](https://azure.microsoft.com/services/machine-learning/) usado en esta solución proporciona la predicción de demanda de la región.</span><span class="sxs-lookup"><span data-stu-id="d50bd-207">The [Azure Machine Learning](https://azure.microsoft.com/services/machine-learning/) experiment used for this solution template provides the prediction of demand of region.</span></span> <span data-ttu-id="d50bd-208">El experimento es específico del conjunto de datos consumido y, por tanto, requiere la modificación o el reemplazo específico de los datos que se han aportado.</span><span class="sxs-lookup"><span data-stu-id="d50bd-208">The experiment is specific to the data set consumed and therefore will require modification or replacement specific to the data that is brought in.</span></span>

## <a name="monitor-progress"></a><span data-ttu-id="d50bd-209">**Supervisión de progreso**</span><span class="sxs-lookup"><span data-stu-id="d50bd-209">**Monitor Progress**</span></span>
<span data-ttu-id="d50bd-210">Una vez iniciado el Generador de datos, la canalización comienza a hidratarse y los distintos componentes de la solución empiezan a entrar en acción siguiendo los comandos emitidos por la Factoría de datos.</span><span class="sxs-lookup"><span data-stu-id="d50bd-210">Once the Data Generator is launched, the pipeline begins to get hydrated and the different components of your solution start kicking into action following the commands issued by the Data Factory.</span></span> <span data-ttu-id="d50bd-211">Hay dos maneras de supervisar la canalización.</span><span class="sxs-lookup"><span data-stu-id="d50bd-211">There are two ways you can monitor the pipeline.</span></span>

1. <span data-ttu-id="d50bd-212">Comprobar los datos del Almacenamiento de blobs de Azure.</span><span class="sxs-lookup"><span data-stu-id="d50bd-212">Check the data from Azure Blob Storage.</span></span>

    <span data-ttu-id="d50bd-213">Uno de los trabajos de Análisis de transmisiones escribe los datos entrantes sin procesar en Almacenamiento de blobs.</span><span class="sxs-lookup"><span data-stu-id="d50bd-213">One of the Stream Analytics job writes the raw incoming data to blob storage.</span></span> <span data-ttu-id="d50bd-214">Si hace clic en el componente **Azure Blob Storage** de su solución desde la pantalla donde implementó correctamente la solución, y después hace clic en **Abrir** en el panel derecho, irá al [Portal de administración de Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="d50bd-214">If you click on **Azure Blob Storage** component of your solution from the screen you successfully deployed the solution and then click **Open** in the right panel, it will take you to the [Azure management portal](https://portal.azure.com).</span></span> <span data-ttu-id="d50bd-215">Una vez allí, haga clic en **Blobs**.</span><span class="sxs-lookup"><span data-stu-id="d50bd-215">Once there, click on **Blobs**.</span></span> <span data-ttu-id="d50bd-216">En el siguiente panel, verá una lista de contenedores.</span><span class="sxs-lookup"><span data-stu-id="d50bd-216">In the next panel, you will see a list of Containers.</span></span> <span data-ttu-id="d50bd-217">Haga clic en **"energysadata"**.</span><span class="sxs-lookup"><span data-stu-id="d50bd-217">Click on **"energysadata"**.</span></span> <span data-ttu-id="d50bd-218">En el siguiente panel, verá la carpeta **"demandongoing"**.</span><span class="sxs-lookup"><span data-stu-id="d50bd-218">In the next panel, you will see the **"demandongoing"** folder.</span></span> <span data-ttu-id="d50bd-219">Dentro de la carpeta rawdata, verá carpetas con nombres como date=2016-01-28, etc. Si ve estas carpetas, significa que los datos sin procesar se están generando en el equipo y almacenando en Almacenamiento de blobs correctamente.</span><span class="sxs-lookup"><span data-stu-id="d50bd-219">Inside the rawdata folder, you will see folders with names such as date=2016-01-28 etc. If you see these folders, it indicates that the raw data is successfully being generated on your computer and stored in blob storage.</span></span> <span data-ttu-id="d50bd-220">Verá archivos que deben tener tamaños finitos en MB en esas carpetas.</span><span class="sxs-lookup"><span data-stu-id="d50bd-220">You should see files that should have finite sizes in MB in those folders.</span></span>
2. <span data-ttu-id="d50bd-221">Comprobar los datos de Base de datos SQL de Azure.</span><span class="sxs-lookup"><span data-stu-id="d50bd-221">Check the data from Azure SQL Database.</span></span>

    <span data-ttu-id="d50bd-222">El último paso de la canalización es escribir los datos (por ejemplo, predicciones del aprendizaje automático) en Base de datos SQL.</span><span class="sxs-lookup"><span data-stu-id="d50bd-222">The last step of the pipeline is to write data (e.g. predictions from machine learning) into SQL Database.</span></span> <span data-ttu-id="d50bd-223">Es posible que deba esperar hasta dos horas para que los datos aparezcan en Base de datos SQL.</span><span class="sxs-lookup"><span data-stu-id="d50bd-223">You might have to wait a maximum of 2 hours for the data to appear in SQL Database.</span></span> <span data-ttu-id="d50bd-224">Una manera de supervisar la cantidad de datos disponibles en la base de datos SQL es mediante el [Portal de administración de Azure](https://manage.windowsazure.com/).</span><span class="sxs-lookup"><span data-stu-id="d50bd-224">One way to monitor how much data is available in your SQL Database is through [Azure management portal](https://manage.windowsazure.com/).</span></span> <span data-ttu-id="d50bd-225">En el panel izquierdo, busque y haga clic en BASES DE DATOS SQL![](media/cortana-analytics-technical-guide-demand-forecast/SQLicon2.png).</span><span class="sxs-lookup"><span data-stu-id="d50bd-225">On the left panel locate SQL DATABASES![](media/cortana-analytics-technical-guide-demand-forecast/SQLicon2.png)  and click it.</span></span> <span data-ttu-id="d50bd-226">A continuación, busque su base de datos (es decir, demo123456db) y haga clic en ella.</span><span class="sxs-lookup"><span data-stu-id="d50bd-226">Then locate your database (i.e. demo123456db) and click on it.</span></span> <span data-ttu-id="d50bd-227">En la siguiente página, en la sección **"Conectarse a la base de datos"**, haga clic en **"Ejecutar consultas Transact-SQL en la base de datos SQL"**.</span><span class="sxs-lookup"><span data-stu-id="d50bd-227">On the next page under **"Connect to your database"** section, click **"Run Transact-SQL queries against your SQL database"**.</span></span>

    <span data-ttu-id="d50bd-228">Aquí, puede hacer clic en Nueva consulta y consultar el número de filas (por ejemplo, "select count(*) from DemandRealHourly). Conforme crece la base de datos, el número de filas de la tabla debería aumentar.</span><span class="sxs-lookup"><span data-stu-id="d50bd-228">Here, you can click on New Query and query for the number of rows (e.g. "select count(*) from DemandRealHourly)" As your database grows, the number of rows in the table should increase.)</span></span>
3. <span data-ttu-id="d50bd-229">Compruebe los datos desde el panel de Power BI.</span><span class="sxs-lookup"><span data-stu-id="d50bd-229">Check the data from Power BI dashboard.</span></span>

    <span data-ttu-id="d50bd-230">Puede configurar el panel de análisis en caliente de Power BI para supervisar los datos de entrada sin formato.</span><span class="sxs-lookup"><span data-stu-id="d50bd-230">You can set up Power BI hot path dashboard to monitor the raw incoming data.</span></span> <span data-ttu-id="d50bd-231">Siga las instrucciones de la sección "Panel de Power BI".</span><span class="sxs-lookup"><span data-stu-id="d50bd-231">Please follow the instruction in the "Power BI Dashboard" section.</span></span>

## <a name="power-bi-dashboard"></a><span data-ttu-id="d50bd-232">**Panel de Power BI**</span><span class="sxs-lookup"><span data-stu-id="d50bd-232">**Power BI Dashboard**</span></span>
### <a name="overview"></a><span data-ttu-id="d50bd-233">Información general</span><span class="sxs-lookup"><span data-stu-id="d50bd-233">Overview</span></span>
<span data-ttu-id="d50bd-234">En esta sección se describe cómo configurar el panel de Power BI para visualizar los datos en tiempo real del Análisis de transmisiones de Azure (análisis en caliente), así como los resultados de previsión de Aprendizaje automático de Azure (análisis en frío).</span><span class="sxs-lookup"><span data-stu-id="d50bd-234">This section describes how to set up Power BI dashboard to visualize your real time data from Azure stream analytics (hot path), as well as forecast results from Azure machine learning (cold path).</span></span>

### <a name="setup-hot-path-dashboard"></a><span data-ttu-id="d50bd-235">Configuración del panel de análisis en caliente</span><span class="sxs-lookup"><span data-stu-id="d50bd-235">Setup Hot Path Dashboard</span></span>
<span data-ttu-id="d50bd-236">Los siguientes pasos le guiarán por los pasos para visualizar la salida de datos en tiempo real de los trabajos de Análisis de transmisiones que se generaron en el momento de la implementación de la solución.</span><span class="sxs-lookup"><span data-stu-id="d50bd-236">The following steps will guide you how to visualize real time data output from Stream Analytics jobs that were generated at the time of solution deployment.</span></span> <span data-ttu-id="d50bd-237">Se necesita una cuenta de [Power BI en línea](http://www.powerbi.com/) para realizar los pasos siguientes.</span><span class="sxs-lookup"><span data-stu-id="d50bd-237">A [Power BI online](http://www.powerbi.com/) account is required to perform the following steps.</span></span> <span data-ttu-id="d50bd-238">Si no tiene una cuenta, puede [crear una](https://powerbi.microsoft.com/pricing).</span><span class="sxs-lookup"><span data-stu-id="d50bd-238">If you don't have an account, you can [create one](https://powerbi.microsoft.com/pricing).</span></span>

1. <span data-ttu-id="d50bd-239">Agregue una salida de Power BI en el Análisis de transmisiones de Azure (ASA).</span><span class="sxs-lookup"><span data-stu-id="d50bd-239">Add Power BI output in Azure Stream Analytics (ASA).</span></span>

   * <span data-ttu-id="d50bd-240">Debe seguir las instrucciones descritas en [Azure Stream Analytics y Power BI: panel de análisis en tiempo real de flujo de datos](stream-analytics/stream-analytics-power-bi-dashboard.md) para configurar la salida del trabajo de Azure Stream Analytics como panel de Power BI.</span><span class="sxs-lookup"><span data-stu-id="d50bd-240">You will need to follow the instructions in [Azure Stream Analytics & Power BI: A real-time analytics dashboard for real-time visibility of streaming data](stream-analytics/stream-analytics-power-bi-dashboard.md) to set up the output of your Azure Stream Analytics job as your Power BI dashboard.</span></span>
   * <span data-ttu-id="d50bd-241">Busque el trabajo de análisis de transmisiones en el [Portal de administración de Azure](https://manage.windowsazure.com).</span><span class="sxs-lookup"><span data-stu-id="d50bd-241">Locate the stream analytics job in your [Azure management portal](https://manage.windowsazure.com).</span></span> <span data-ttu-id="d50bd-242">El nombre del trabajo debe ser: SuNombreDeSolución+"streamingjob"+número aleatorio+"asapbi" (es decir, demostreamingjob123456asapbi).</span><span class="sxs-lookup"><span data-stu-id="d50bd-242">The name of the job should be: YourSolutionName+"streamingjob"+random number+"asapbi" (i.e. demostreamingjob123456asapbi).</span></span>
   * <span data-ttu-id="d50bd-243">Agregue una salida de Power BI para el trabajo ASA.</span><span class="sxs-lookup"><span data-stu-id="d50bd-243">Add a PowerBI output for the ASA job.</span></span> <span data-ttu-id="d50bd-244">Establezca el **Alias de salida** como **'PBIoutput'**.</span><span class="sxs-lookup"><span data-stu-id="d50bd-244">Set the **Output Alias** as **‘PBIoutput’**.</span></span> <span data-ttu-id="d50bd-245">Configure **Nombre de conjunto de datos** y **Nombre de tabla** como **"EnergyStreamData"**.</span><span class="sxs-lookup"><span data-stu-id="d50bd-245">Set your **Dataset Name** and **Table Name** as **‘EnergyStreamData’**.</span></span> <span data-ttu-id="d50bd-246">Una vez agregada la salida, haga clic en **"Iniciar"** en la parte inferior de la página para iniciar el trabajo de Análisis de transmisiones.</span><span class="sxs-lookup"><span data-stu-id="d50bd-246">Once you have added the output, click **"Start"** at the bottom of the page to start the Stream Analytics job.</span></span> <span data-ttu-id="d50bd-247">Recibirá un mensaje de confirmación (*por ejemplo*, "Se ha iniciado correctamente el trabajo de análisis de transmisiones myteststreamingjob12345asablob").</span><span class="sxs-lookup"><span data-stu-id="d50bd-247">You should get a confirmation message (*e.g.*, "Starting stream analytics job myteststreamingjob12345asablob succeeded").</span></span>
2. <span data-ttu-id="d50bd-248">Inicie sesión en [Power BI en línea](http://www.powerbi.com)</span><span class="sxs-lookup"><span data-stu-id="d50bd-248">Log in to [Power BI online](http://www.powerbi.com)</span></span>

   * <span data-ttu-id="d50bd-249">En la sección Conjuntos de datos del panel izquierdo, en Mi área de trabajo, debería poder ver un nuevo conjunto de datos en el panel izquierdo de Power BI.</span><span class="sxs-lookup"><span data-stu-id="d50bd-249">On the left panel Datasets section in My Workspace, you should be able to see a new dataset showing on the left panel of Power BI.</span></span> <span data-ttu-id="d50bd-250">Son los datos de transmisión que insertó desde Análisis de transmisiones de Azure en el paso anterior.</span><span class="sxs-lookup"><span data-stu-id="d50bd-250">This is the streaming data you pushed from Azure Stream Analytics in the previous step.</span></span>
   * <span data-ttu-id="d50bd-251">Asegúrese de que el panel ***Visualizaciones*** está abierto y se muestra en el lado derecho de la pantalla.</span><span class="sxs-lookup"><span data-stu-id="d50bd-251">Make sure the ***Visualizations*** pane is open and is shown on the right side of the screen.</span></span>
3. <span data-ttu-id="d50bd-252">Cree el icono "Demanda por marca de hora":</span><span class="sxs-lookup"><span data-stu-id="d50bd-252">Create the "Demand by Timestamp" tile:</span></span>

   * <span data-ttu-id="d50bd-253">Haga clic en el conjunto de datos **"EnergyStreamData"** en la sección Conjuntos de datos del panel izquierdo.</span><span class="sxs-lookup"><span data-stu-id="d50bd-253">Click dataset **‘EnergyStreamData’** on the left panel Datasets section.</span></span>
   * <span data-ttu-id="d50bd-254">Haga clic en el icono **"Gráfico de líneas"** ![](media/cortana-analytics-technical-guide-demand-forecast/PowerBIpic8.png).</span><span class="sxs-lookup"><span data-stu-id="d50bd-254">Click **"Line Chart"** icon ![](media/cortana-analytics-technical-guide-demand-forecast/PowerBIpic8.png).</span></span>
   * <span data-ttu-id="d50bd-255">Haga clic en "EnergyStreamData" en el panel **Campos** .</span><span class="sxs-lookup"><span data-stu-id="d50bd-255">Click ‘EnergyStreamData’ in **Fields** panel.</span></span>
   * <span data-ttu-id="d50bd-256">Haga clic en **"Marca de hora"** y asegúrese de que se muestra en "Eje".</span><span class="sxs-lookup"><span data-stu-id="d50bd-256">Click **“Timestamp”** and make sure it shows under "Axis".</span></span> <span data-ttu-id="d50bd-257">Haga clic en **"Carga"** y asegúrese de que se muestra en "Valores".</span><span class="sxs-lookup"><span data-stu-id="d50bd-257">Click **“Load”** and make sure it shows under "Values".</span></span>
   * <span data-ttu-id="d50bd-258">Haga clic en **GUARDAR** en la parte superior y asigne al informe el nombre "EnergyStreamDataReport".</span><span class="sxs-lookup"><span data-stu-id="d50bd-258">Click **SAVE** on the top and name the report as “EnergyStreamDataReport”.</span></span> <span data-ttu-id="d50bd-259">El informe denominado "EnergyStreamDataReport" se mostrará en la sección Informes en el panel de navegación de la izquierda.</span><span class="sxs-lookup"><span data-stu-id="d50bd-259">The report named “EnergyStreamDataReport” will be shown in Reports section in the Navigator pane on left.</span></span>
   * <span data-ttu-id="d50bd-260">Haga clic en el icono **"Anclar visualización"**![](media/cortana-analytics-technical-guide-demand-forecast/PowerBIpic6.png) en la esquina superior derecha de este gráfico de líneas y puede que se muestre una ventana "Anclar en el panel" para que elija un panel.</span><span class="sxs-lookup"><span data-stu-id="d50bd-260">Click **“Pin Visual”**![](media/cortana-analytics-technical-guide-demand-forecast/PowerBIpic6.png) icon on top right corner of this line chart, a "Pin to Dashboard" window may show up for you to choose a dashboard.</span></span> <span data-ttu-id="d50bd-261">Seleccione "EnergyStreamDataReport" y luego haga clic en "Anclar".</span><span class="sxs-lookup"><span data-stu-id="d50bd-261">Please select "EnergyStreamDataReport", then click "Pin".</span></span>
   * <span data-ttu-id="d50bd-262">Mantenga el mouse sobre este icono en el panel y haga clic en el icono "Editar" en la esquina superior derecha para cambiar el título a "Demanda por marca de hora".</span><span class="sxs-lookup"><span data-stu-id="d50bd-262">Hover the mouse over this tile on the dashboard, click "edit" icon on top right corner to change its title as "Demand by Timestamp"</span></span>
4. <span data-ttu-id="d50bd-263">Cree otros iconos de panel basados en conjuntos de datos adecuados.</span><span class="sxs-lookup"><span data-stu-id="d50bd-263">Create other dashboard tiles based on appropriate datasets.</span></span> <span data-ttu-id="d50bd-264">La vista final del panel se muestra a continuación.</span><span class="sxs-lookup"><span data-stu-id="d50bd-264">The final dashboard view is shown below.</span></span>
     ![](media/cortana-analytics-technical-guide-demand-forecast/PBIFullScreen.png)

### <a name="setup-cold-path-dashboard"></a><span data-ttu-id="d50bd-265">Configuración del panel de análisis en frío</span><span class="sxs-lookup"><span data-stu-id="d50bd-265">Setup Cold Path Dashboard</span></span>
<span data-ttu-id="d50bd-266">En la canalización de datos de análisis en frío, el objetivo principal es obtener la previsión de la demanda de cada región.</span><span class="sxs-lookup"><span data-stu-id="d50bd-266">In cold path data pipeline, the essential goal is to get the demand forecast of each region.</span></span> <span data-ttu-id="d50bd-267">Power BI se conecta a una Base de datos SQL de Azure como su origen de datos, donde se almacenan los resultados de predicción.</span><span class="sxs-lookup"><span data-stu-id="d50bd-267">Power BI connects to an Azure SQL database as its data source, where the prediction results are stored.</span></span>

> [!NOTE]
> 1) <span data-ttu-id="d50bd-268">Tarda unas horas en recopilar los resultados de previsión suficientes para el panel.</span><span class="sxs-lookup"><span data-stu-id="d50bd-268">It takes few hours to collect enough forecast results for the dashboard.</span></span> <span data-ttu-id="d50bd-269">Recomendamos iniciar este proceso entre dos y tres horas después de iniciar el generador de datos.</span><span class="sxs-lookup"><span data-stu-id="d50bd-269">We recommend you start this process 2-3 hours after you lunch the data generator.</span></span> <span data-ttu-id="d50bd-270">2) En este paso, el requisito previo es descargar e instalar gratuitamente el software [Power BI Desktop](https://powerbi.microsoft.com/desktop).</span><span class="sxs-lookup"><span data-stu-id="d50bd-270">2) In this step, the prerequisite is to download and install the free software [Power BI desktop](https://powerbi.microsoft.com/desktop).</span></span>
>
>

1. <span data-ttu-id="d50bd-271">Obtenga las credenciales de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="d50bd-271">Get the database credentials.</span></span>

   <span data-ttu-id="d50bd-272">Antes de continuar con los pasos siguientes, necesitará el **nombre del servidor de bases de datos, el nombre de la base de datos, el nombre de usuario y la contraseña** .</span><span class="sxs-lookup"><span data-stu-id="d50bd-272">You will need **database server name, database name, user name and password** before moving to next steps.</span></span> <span data-ttu-id="d50bd-273">Estos son los pasos que le ayudarán a encontrarlos.</span><span class="sxs-lookup"><span data-stu-id="d50bd-273">Here are the steps to guide you how to find them.</span></span>

   * <span data-ttu-id="d50bd-274">Una vez que **"Azure SQL Database"** se muestre en color verde en el diagrama de la plantilla de solución, haga clic en este icono y, después, haga clic en **"Abrir"**.</span><span class="sxs-lookup"><span data-stu-id="d50bd-274">Once **"Azure SQL Database"** on your solution template diagram turns green, click it and then click **"Open"**.</span></span> <span data-ttu-id="d50bd-275">Se le guiará al Portal de administración de Azure y se abrirá también la página de información de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="d50bd-275">You will be guided to Azure management portal and your database information page will be opened as well.</span></span>
   * <span data-ttu-id="d50bd-276">En la página, puede encontrar una sección "Base de datos".</span><span class="sxs-lookup"><span data-stu-id="d50bd-276">On the page, you can find a "Database" section.</span></span> <span data-ttu-id="d50bd-277">En ella se muestra la base de datos que ha creado.</span><span class="sxs-lookup"><span data-stu-id="d50bd-277">It lists out the database you have created.</span></span> <span data-ttu-id="d50bd-278">El nombre de la base de datos debe ser **"Su nombre de solución + Número aleatorio + 'db'"** (por ejemplo, "mytest12345db").</span><span class="sxs-lookup"><span data-stu-id="d50bd-278">The name of your database should be **"Your Solution Name + Random Number + 'db'"** (e.g. "mytest12345db").</span></span>
   * <span data-ttu-id="d50bd-279">Haga clic en la base de datos; en el nuevo panel emergente puede encontrar el nombre del servidor de base de datos en la parte superior.</span><span class="sxs-lookup"><span data-stu-id="d50bd-279">Click your database, in the new pop out panel, you can find your database server name on the top.</span></span> <span data-ttu-id="d50bd-280">El nombre del servidor de base de datos debería ser **"Su nombre de solución + Número aleatorio + 'database.windows.net,1433'"** (por ejemplo, "mytest12345.database.windows.net,1433").</span><span class="sxs-lookup"><span data-stu-id="d50bd-280">Your database server name should be **"Your Solution Name + Random Number + 'database.windows.net,1433'"** (e.g. "mytest12345.database.windows.net,1433").</span></span>
   * <span data-ttu-id="d50bd-281">El **nombre de usuario** y la **contraseña** de la base de datos son los mismos que los registrados anteriormente durante la implementación de la solución.</span><span class="sxs-lookup"><span data-stu-id="d50bd-281">Your database **username** and **password** are the same as the username and password previously recorded during deployment of the solution.</span></span>
2. <span data-ttu-id="d50bd-282">Actualización del origen de datos del archivo de Power BI de análisis en frío</span><span class="sxs-lookup"><span data-stu-id="d50bd-282">Update the data source of the cold path Power BI file</span></span>

   * <span data-ttu-id="d50bd-283">Asegúrese de que ha instalado la versión más reciente de [Power BI Desktop](https://powerbi.microsoft.com/desktop).</span><span class="sxs-lookup"><span data-stu-id="d50bd-283">Make sure you have installed the latest version of [Power BI desktop](https://powerbi.microsoft.com/desktop).</span></span>
   * <span data-ttu-id="d50bd-284">En la carpeta **"DemandForecastingDataGeneratorv1.0"** que ha descargado, haga doble clic en el archivo **‘Power BI Template\DemandForecastPowerBI.pbix’**.</span><span class="sxs-lookup"><span data-stu-id="d50bd-284">In the **"DemandForecastingDataGeneratorv1.0"** folder you downloaded, double click the **‘Power BI Template\DemandForecastPowerBI.pbix’** file.</span></span> <span data-ttu-id="d50bd-285">Las visualizaciones iniciales se basan en datos ficticios.</span><span class="sxs-lookup"><span data-stu-id="d50bd-285">The initial visualizations are based on dummy data.</span></span> <span data-ttu-id="d50bd-286">**Nota:** Si ve un mensaje de error, asegúrese de que ha instalado la versión más reciente de Power BI Desktop.</span><span class="sxs-lookup"><span data-stu-id="d50bd-286">**Note:** If you see an error massage, please make sure you have installed the latest version of Power BI Desktop.</span></span>

     <span data-ttu-id="d50bd-287">Cuando abra el archivo, en la parte superior, haga clic en **"Editar consultas"**.</span><span class="sxs-lookup"><span data-stu-id="d50bd-287">Once you open it, on the top of the file, click **‘Edit Queries’**.</span></span> <span data-ttu-id="d50bd-288">En la ventana emergente, haga doble clic en **"Origen"** en el panel derecho.</span><span class="sxs-lookup"><span data-stu-id="d50bd-288">In the pop out window, double click **‘Source’** on the right panel.</span></span>
     ![](media/cortana-analytics-technical-guide-demand-forecast/PowerBIpic1.png)
   * <span data-ttu-id="d50bd-289">En la ventana emergente, reemplace **"Servidor"** y **"Base de datos"** por sus propios nombres de servidor y base de datos y, después, haga clic en **"Aceptar"**.</span><span class="sxs-lookup"><span data-stu-id="d50bd-289">In the pop out window, replace **"Server"** and **"Database"** with your own server and database names, and then click **"OK"**.</span></span> <span data-ttu-id="d50bd-290">Para el nombre del servidor, asegúrese de especificar el puerto 1433 (**SuNombreDeSolución.database.windows.net, 1433**).</span><span class="sxs-lookup"><span data-stu-id="d50bd-290">For server name, make sure you specify the port 1433 (**YourSolutionName.database.windows.net, 1433**).</span></span> <span data-ttu-id="d50bd-291">Ignore los mensajes de advertencia que aparezcan en la pantalla.</span><span class="sxs-lookup"><span data-stu-id="d50bd-291">Ignore the warning messages that appear on the screen.</span></span>
   * <span data-ttu-id="d50bd-292">En la siguiente ventana emergente, verá dos opciones en el panel izquierdo (**Windows** y **Base de datos**).</span><span class="sxs-lookup"><span data-stu-id="d50bd-292">In the next pop out window, you'll see two options on the left pane (**Windows** and **Database**).</span></span> <span data-ttu-id="d50bd-293">Haga clic en **"Base de datos"**, escriba su **"Nombre de usuario"** y **"Contraseña"** (que es el nombre de usuario y la contraseña que escribió la primera vez que implementó la solución y creó una instancia de Azure SQL Database).</span><span class="sxs-lookup"><span data-stu-id="d50bd-293">Click **"Database"**, fill in your **"Username"** and **"Password"** (this is the username and password you entered when you first deployed the solution and created an Azure SQL database).</span></span> <span data-ttu-id="d50bd-294">En ***Seleccionar en qué nivel hay que aplicar estos valores***, active la opción de nivel de base de datos.</span><span class="sxs-lookup"><span data-stu-id="d50bd-294">In ***Select which level to apply these settings to***, check database level option.</span></span> <span data-ttu-id="d50bd-295">Después, haga clic en **"Conectar"**.</span><span class="sxs-lookup"><span data-stu-id="d50bd-295">Then click **"Connect"**.</span></span>
   * <span data-ttu-id="d50bd-296">Una vez que se le dirija a la página anterior, cierre la ventana.</span><span class="sxs-lookup"><span data-stu-id="d50bd-296">Once you're guided back to the previous page, close the window.</span></span> <span data-ttu-id="d50bd-297">Aparecerá un mensaje. Haga clic en **Aplicar**.</span><span class="sxs-lookup"><span data-stu-id="d50bd-297">A message will pop out - click **Apply**.</span></span> <span data-ttu-id="d50bd-298">Finalmente, haga clic en el botón **Guardar** para guardar los cambios.</span><span class="sxs-lookup"><span data-stu-id="d50bd-298">Lastly, click the **Save** button to save the changes.</span></span> <span data-ttu-id="d50bd-299">El archivo de Power BI ha establecido ya la conexión con el servidor.</span><span class="sxs-lookup"><span data-stu-id="d50bd-299">Your Power BI file has now established connection to the server.</span></span> <span data-ttu-id="d50bd-300">Si las visualizaciones están vacías, asegúrese de borrar todas las selecciones para poder visualizar todos los datos haciendo clic en el icono de borrador de la esquina superior derecha de las leyendas.</span><span class="sxs-lookup"><span data-stu-id="d50bd-300">If your visualizations are empty, make sure you clear the selections on the visualizations to visualize all the data by clicking the eraser icon on the upper right corner of the legends.</span></span> <span data-ttu-id="d50bd-301">Utilice el botón Actualizar para reflejar los nuevos datos en las visualizaciones.</span><span class="sxs-lookup"><span data-stu-id="d50bd-301">Use the refresh button to reflect new data on the visualizations.</span></span> <span data-ttu-id="d50bd-302">Inicialmente, solo verá los datos de inicialización en las visualizaciones ya que la Factoría de datos está programada para actualizarse cada 3 horas.</span><span class="sxs-lookup"><span data-stu-id="d50bd-302">Initially, you will only see the seed data on your visualizations as the data factory is scheduled to refresh every 3 hours.</span></span> <span data-ttu-id="d50bd-303">Después de 3 horas, verá nuevas predicciones reflejadas en las visualizaciones al actualizar los datos.</span><span class="sxs-lookup"><span data-stu-id="d50bd-303">After 3 hours, you will see new predictions reflected in your visualizations when you refresh the data.</span></span>
3. <span data-ttu-id="d50bd-304">(Opcional) Publique el panel de la ruta de acceso en frío en [Power BI en línea](http://www.powerbi.com/).</span><span class="sxs-lookup"><span data-stu-id="d50bd-304">(Optional) Publish the cold path dashboard to [Power BI online](http://www.powerbi.com/).</span></span> <span data-ttu-id="d50bd-305">Tenga en cuenta que este paso necesita una cuenta de Power BI (o la cuenta de Office 365).</span><span class="sxs-lookup"><span data-stu-id="d50bd-305">Note that this step needs a Power BI account (or Office 365 account).</span></span>

   * <span data-ttu-id="d50bd-306">Haga clic en **"Publicar"** y unos segundos más tarde aparecerá una ventana con un mensaje que indicará que la publicación en Power BI se ha realizado correctamente.</span><span class="sxs-lookup"><span data-stu-id="d50bd-306">Click **"Publish"** and few seconds later a window appears displaying "Publishing to Power BI Success!"</span></span> <span data-ttu-id="d50bd-307">con una marca de verificación verde.</span><span class="sxs-lookup"><span data-stu-id="d50bd-307">with a green check mark.</span></span> <span data-ttu-id="d50bd-308">Haga clic en el vínculo "Abrir demoprediction.pbix en Power BI".</span><span class="sxs-lookup"><span data-stu-id="d50bd-308">Click the link below "Open demoprediction.pbix in Power BI".</span></span> <span data-ttu-id="d50bd-309">Para obtener instrucciones detalladas, consulte [Publicar desde Power BI Desktop](https://support.powerbi.com/knowledgebase/articles/461278-publish-from-power-bi-desktop).</span><span class="sxs-lookup"><span data-stu-id="d50bd-309">To find detailed instructions, see [Publish from Power BI Desktop](https://support.powerbi.com/knowledgebase/articles/461278-publish-from-power-bi-desktop).</span></span>
   * <span data-ttu-id="d50bd-310">Para crear un nuevo panel: haga clic en el signo **+** junto a la sección **Paneles** del panel izquierdo.</span><span class="sxs-lookup"><span data-stu-id="d50bd-310">To create a new dashboard: click the **+** sign next to the **Dashboards** section on the left pane.</span></span> <span data-ttu-id="d50bd-311">Escriba el nombre "Demostración de previsión de demanda" para este nuevo panel.</span><span class="sxs-lookup"><span data-stu-id="d50bd-311">Enter the name "Demand Forecasting Demo" for this new dashboard.</span></span>
   * <span data-ttu-id="d50bd-312">Una vez abierto el informe, haga clic en ![](media/cortana-analytics-technical-guide-demand-forecast/PowerBIpic6.png) para anclar todas las visualizaciones al panel.</span><span class="sxs-lookup"><span data-stu-id="d50bd-312">Once you open the report, click ![](media/cortana-analytics-technical-guide-demand-forecast/PowerBIpic6.png) to pin all the visualizations to your dashboard.</span></span> <span data-ttu-id="d50bd-313">Para obtener instrucciones detalladas, consulte [Anclaje de un icono a un panel de Power BI desde un informe](https://support.powerbi.com/knowledgebase/articles/430323-pin-a-tile-to-a-power-bi-dashboard-from-a-report).</span><span class="sxs-lookup"><span data-stu-id="d50bd-313">To find detailed instructions, see [Pin a tile to a Power BI dashboard from a report](https://support.powerbi.com/knowledgebase/articles/430323-pin-a-tile-to-a-power-bi-dashboard-from-a-report).</span></span>
     <span data-ttu-id="d50bd-314">Vaya a la página del panel y ajuste el tamaño y la ubicación de las visualizaciones y edite los títulos.</span><span class="sxs-lookup"><span data-stu-id="d50bd-314">Go to the dashboard page and adjust the size and location of your visualizations and edit their titles.</span></span> <span data-ttu-id="d50bd-315">Para obtener instrucciones detalladas sobre cómo editar los iconos, consulte [Edición de un icono: cambiar el tamaño, mover, cambiar el nombre, anclar, eliminar, agregar un hipervínculo](https://powerbi.microsoft.com/documentation/powerbi-service-edit-a-tile-in-a-dashboard/#rename).</span><span class="sxs-lookup"><span data-stu-id="d50bd-315">To find detailed instructions on how to edit your tiles, see [Edit a tile -- resize, move, rename, pin, delete, add hyperlink](https://powerbi.microsoft.com/documentation/powerbi-service-edit-a-tile-in-a-dashboard/#rename).</span></span> <span data-ttu-id="d50bd-316">Este es un panel de ejemplo con algunas visualizaciones de la ruta de acceso inactiva ancladas.</span><span class="sxs-lookup"><span data-stu-id="d50bd-316">Here is an example dashboard with some cold path visualizations pinned to it.</span></span>

     ![](media/cortana-analytics-technical-guide-demand-forecast/PowerBIpic7.png)
4. <span data-ttu-id="d50bd-317">(Opcional) Programe la actualización del origen de datos.</span><span class="sxs-lookup"><span data-stu-id="d50bd-317">(Optional) Schedule refresh of the data source.</span></span>

   * <span data-ttu-id="d50bd-318">Para programar la actualización de los datos, mantenga el mouse sobre el conjunto de datos **EnergyBPI-Final**, haga clic en ![](media/cortana-analytics-technical-guide-demand-forecast/PowerBIpic3.png) y después elija **Programar actualización**.</span><span class="sxs-lookup"><span data-stu-id="d50bd-318">To schedule refresh of the data, hover your mouse over the **EnergyBPI-Final** dataset, click ![](media/cortana-analytics-technical-guide-demand-forecast/PowerBIpic3.png) and then choose **Schedule Refresh**.</span></span>
     <span data-ttu-id="d50bd-319">**Nota:** Si ve un mensaje de advertencia, haga clic en **Editar credenciales** y asegúrese de que las credenciales de la base de datos son las mismas que las descritas en el paso 1.</span><span class="sxs-lookup"><span data-stu-id="d50bd-319">**Note:** If you see a warning massage, click **Edit Credentials** and make sure your database credentials are the same as those described in step 1.</span></span>

     ![](media/cortana-analytics-technical-guide-demand-forecast/PowerBIpic4.png)
   * <span data-ttu-id="d50bd-320">Expanda la sección **Programar actualización** .</span><span class="sxs-lookup"><span data-stu-id="d50bd-320">Expand the **Schedule Refresh** section.</span></span> <span data-ttu-id="d50bd-321">Active "Mantener los datos actualizados".</span><span class="sxs-lookup"><span data-stu-id="d50bd-321">Turn on "keep your data up-to-date".</span></span>
   * <span data-ttu-id="d50bd-322">Programe la actualización según sus necesidades.</span><span class="sxs-lookup"><span data-stu-id="d50bd-322">Schedule the refresh based on your needs.</span></span> <span data-ttu-id="d50bd-323">Para más información, consulte [Actualizar datos en Power BI](https://powerbi.microsoft.com/documentation/powerbi-refresh-data/).</span><span class="sxs-lookup"><span data-stu-id="d50bd-323">To find more information, see [Data refresh in Power BI](https://powerbi.microsoft.com/documentation/powerbi-refresh-data/).</span></span>

## <a name="how-to-delete-your-solution"></a><span data-ttu-id="d50bd-324">**Eliminación de la solución**</span><span class="sxs-lookup"><span data-stu-id="d50bd-324">**How to delete your solution**</span></span>
<span data-ttu-id="d50bd-325">Asegúrese de detener el generador de datos cuando no se use activamente la solución, ya que de lo contrario incurrirá en costos elevados.</span><span class="sxs-lookup"><span data-stu-id="d50bd-325">Please ensure that you stop the data generator when not actively using the solution as running the data generator will incur higher costs.</span></span> <span data-ttu-id="d50bd-326">Elimine la solución si no lo está usando.</span><span class="sxs-lookup"><span data-stu-id="d50bd-326">Please delete the solution if you are not using it.</span></span> <span data-ttu-id="d50bd-327">Al eliminar la solución se eliminarán todos los componentes aprovisionados en su suscripción al implementar la solución.</span><span class="sxs-lookup"><span data-stu-id="d50bd-327">Deleting your solution will delete all the components provisioned in your subscription when you deployed the solution.</span></span> <span data-ttu-id="d50bd-328">Para eliminar la solución, haga clic en el nombre de la solución en el panel izquierdo de la plantilla de soluciones y haga clic en Eliminar.</span><span class="sxs-lookup"><span data-stu-id="d50bd-328">To delete the solution click on your solution name in the left panel of the solution template and click on delete.</span></span>

## <a name="cost-estimation-tools"></a><span data-ttu-id="d50bd-329">**Herramientas de estimación de costos**</span><span class="sxs-lookup"><span data-stu-id="d50bd-329">**Cost Estimation Tools**</span></span>
<span data-ttu-id="d50bd-330">Las dos herramientas siguientes están disponibles para ayudarle a comprender mejor los costos totales implicados en la ejecución de la plantilla de solución Previsión de demanda de energía en su suscripción:</span><span class="sxs-lookup"><span data-stu-id="d50bd-330">The following two tools are available to help you better understand the total costs involved in running the Demand Forecasting for Energy Solution Template in your subscription:</span></span>

* [<span data-ttu-id="d50bd-331">Herramienta de estimación de costos de Microsoft Azure (en línea)</span><span class="sxs-lookup"><span data-stu-id="d50bd-331">Microsoft Azure Cost Estimator Tool (online)</span></span>](https://azure.microsoft.com/pricing/calculator/)
* [<span data-ttu-id="d50bd-332">Herramienta de estimación de costos de Microsoft Azure (escritorio)</span><span class="sxs-lookup"><span data-stu-id="d50bd-332">Microsoft Azure Cost Estimator Tool (desktop)</span></span>](http://www.microsoft.com/download/details.aspx?id=43376)

## <a name="acknowledgements"></a><span data-ttu-id="d50bd-333">**Agradecimientos**</span><span class="sxs-lookup"><span data-stu-id="d50bd-333">**Acknowledgements**</span></span>
<span data-ttu-id="d50bd-334">Este artículo fue creado por el científico de datos Yijing Chen y el ingeniero de software Qiu Min de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="d50bd-334">This article is authored by data scientist Yijing Chen and software engineer Qiu Min at Microsoft.</span></span>
