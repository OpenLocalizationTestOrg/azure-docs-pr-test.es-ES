---
title: aaaOptimize la VM de Linux en Azure | Documentos de Microsoft
description: "Obtenga información acerca de algunos toomake de sugerencias de optimización que ha configurado la VM de Linux para un rendimiento óptimo en Azure"
keywords: "máquina virtual con linux,máquina virtual linux,máquina virtual con ubuntu"
services: virtual-machines-linux
documentationcenter: 
author: rickstercdn
manager: timlt
editor: tysonn
tags: azure-resource-manager
ms.assetid: 8baa30c8-d40e-41ac-93d0-74e96fe18d4c
ms.service: virtual-machines-linux
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-linux
ms.devlang: na
ms.topic: article
ms.date: 09/06/2016
ms.author: rclaus
ms.openlocfilehash: 89a9ac022928a2801a9a15e1c172340352745354
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="optimize-your-linux-vm-on-azure"></a><span data-ttu-id="89e5e-104">Optimización de la máquina virtual Linux en Azure</span><span class="sxs-lookup"><span data-stu-id="89e5e-104">Optimize your Linux VM on Azure</span></span>
<span data-ttu-id="89e5e-105">Crear una máquina virtual (VM) de Linux es fácil toodo desde línea de comandos de Hola o desde el portal de Hola.</span><span class="sxs-lookup"><span data-stu-id="89e5e-105">Creating a Linux virtual machine (VM) is easy toodo from hello command line or from hello portal.</span></span> <span data-ttu-id="89e5e-106">Este tutorial muestra cómo tooensure ha configurado toooptimize su rendimiento en la plataforma de Microsoft Azure Hola.</span><span class="sxs-lookup"><span data-stu-id="89e5e-106">This tutorial shows you how tooensure you have set it up toooptimize its performance on hello Microsoft Azure platform.</span></span> <span data-ttu-id="89e5e-107">Este tema usa una VM de servidor Ubuntu, pero también puede crear máquinas virtuales Linux mediante [sus propias imágenes como plantillas](create-upload-generic.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="89e5e-107">This topic uses an Ubuntu Server VM, but you can also create Linux virtual machine using [your own images as templates](create-upload-generic.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>  

## <a name="prerequisites"></a><span data-ttu-id="89e5e-108">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="89e5e-108">Prerequisites</span></span>
<span data-ttu-id="89e5e-109">En este tema se da por supuesto que ya tiene una suscripción de Azure activa ([suscripción de evaluación gratuita](https://azure.microsoft.com/pricing/free-trial/)) y ya ha aprovisionado una VM en su suscripción de Azure.</span><span class="sxs-lookup"><span data-stu-id="89e5e-109">This topic assumes you already have a working Azure subscription ([free trial signup](https://azure.microsoft.com/pricing/free-trial/)) and have already provisioned a VM into your Azure subscription.</span></span> <span data-ttu-id="89e5e-110">Asegúrese de que tiene más reciente hello [CLI de Azure 2.0](/cli/azure/install-az-cli2) instalado y registrado en tooyour suscripción de Azure con [inicio de sesión de az](/cli/azure/#login) antes de [crear una máquina virtual](quick-create-cli.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="89e5e-110">Make sure that you have hello latest [Azure CLI 2.0](/cli/azure/install-az-cli2) installed and logged in tooyour Azure subscription with [az login](/cli/azure/#login) before you [create a VM](quick-create-cli.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>

## <a name="azure-os-disk"></a><span data-ttu-id="89e5e-111">Disco de sistema operativo de Azure</span><span class="sxs-lookup"><span data-stu-id="89e5e-111">Azure OS Disk</span></span>
<span data-ttu-id="89e5e-112">Al crear la VM Linux en Azure, tiene dos discos asociados a ella.</span><span class="sxs-lookup"><span data-stu-id="89e5e-112">Once you create a Linux VM in Azure, it has two disks associated with it.</span></span> <span data-ttu-id="89e5e-113">**/dev/sda** es el disco del SO y **/dev/sdb** es el disco temporal.</span><span class="sxs-lookup"><span data-stu-id="89e5e-113">**/dev/sda** is your OS disk, **/dev/sdb** is your temporary disk.</span></span>  <span data-ttu-id="89e5e-114">No utilice el disco del sistema operativo principal hello (**/dev/sda**) para todo excepto el sistema operativo de hello tal y como está optimizado para el tiempo de inicio rápido de VM y no proporciona un buen rendimiento de las cargas de trabajo.</span><span class="sxs-lookup"><span data-stu-id="89e5e-114">Do not use hello main OS disk (**/dev/sda**) for anything except hello operating system as it is optimized for fast VM boot time and does not provide good performance for your workloads.</span></span> <span data-ttu-id="89e5e-115">Desea tooattach uno o más discos tooyour VM tooget persistente y optimizado almacenamiento para los datos.</span><span class="sxs-lookup"><span data-stu-id="89e5e-115">You want tooattach one or more disks tooyour VM tooget persistent and optimized storage for your data.</span></span> 

## <a name="adding-disks-for-size-and-performance-targets"></a><span data-ttu-id="89e5e-116">Adición de discos para objetivos de rendimiento y tamaño</span><span class="sxs-lookup"><span data-stu-id="89e5e-116">Adding Disks for Size and Performance targets</span></span>
<span data-ttu-id="89e5e-117">En función de hello tamaño de máquina virtual, puede adjuntar too16 discos adicionales en una serie a, 32 discos de la serie D y 64 discos en un equipo de la serie G - cada uno de ellos hasta too1 TB de tamaño.</span><span class="sxs-lookup"><span data-stu-id="89e5e-117">Based on hello VM size, you can attach up too16 additional disks on an A-Series, 32 disks on a D-Series and 64 disks on a G-Series machine - each up too1 TB in size.</span></span> <span data-ttu-id="89e5e-118">Agregue discos adicionales según sea necesario en función del espacio y los requisitos de IOPS.</span><span class="sxs-lookup"><span data-stu-id="89e5e-118">You add extra disks as needed per your space and IOps requirements.</span></span> <span data-ttu-id="89e5e-119">Cada disco tiene un objetivo de rendimiento de 500 IOps para el almacenamiento estándar y la too5000 de IOps por disco de almacenamiento Premium.</span><span class="sxs-lookup"><span data-stu-id="89e5e-119">Each disk has a performance target of 500 IOps for Standard Storage and up too5000 IOps per disk for Premium Storage.</span></span>  <span data-ttu-id="89e5e-120">Para más información sobre los discos de Premium Storage, consulte [Discos de máquina virtual de Azure administrados y no administrados, y Premium Storage de alto rendimiento](../../storage/common/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="89e5e-120">For more information about Premium Storage disks, see [Premium Storage: High-Performance Storage for Azure VMs](../../storage/common/storage-premium-storage.md)</span></span>

<span data-ttu-id="89e5e-121">tooachieve Hola mayores IOps en discos de almacenamiento Premium que su configuración de caché se ha establecido tooeither **ReadOnly** o **ninguno**, debe deshabilitar **barreras** mientras sistema de archivos de montaje hello en Linux.</span><span class="sxs-lookup"><span data-stu-id="89e5e-121">tooachieve hello highest IOps on Premium Storage disks where their cache settings have been set tooeither **ReadOnly** or **None**, you must disable **barriers** while mounting hello file system in Linux.</span></span> <span data-ttu-id="89e5e-122">No es necesario barreras porque Hola escribe tooPremium almacenamiento de discos de copia de seguridad son duraderos para esta configuración de caché.</span><span class="sxs-lookup"><span data-stu-id="89e5e-122">You do not need barriers because hello writes tooPremium Storage backed disks are durable for these cache settings.</span></span>

* <span data-ttu-id="89e5e-123">Si usa **reiserFS**, barreras deshabilitar mediante la opción de montaje de hello `barrier=none` (para habilitar las barreras, use `barrier=flush`)</span><span class="sxs-lookup"><span data-stu-id="89e5e-123">If you use **reiserFS**, disable barriers using hello mount option `barrier=none` (For enabling barriers, use `barrier=flush`)</span></span>
* <span data-ttu-id="89e5e-124">Si usa **ext3/ext4**, barreras deshabilitar mediante la opción de montaje de hello `barrier=0` (para habilitar las barreras, use `barrier=1`)</span><span class="sxs-lookup"><span data-stu-id="89e5e-124">If you use **ext3/ext4**, disable barriers using hello mount option `barrier=0` (For enabling barriers, use `barrier=1`)</span></span>
* <span data-ttu-id="89e5e-125">Si usa **XFS**, barreras deshabilitar mediante la opción de montaje de hello `nobarrier` (para habilitar las barreras que existen, utilice opción de hello `barrier`)</span><span class="sxs-lookup"><span data-stu-id="89e5e-125">If you use **XFS**, disable barriers using hello mount option `nobarrier` (For enabling barriers, use hello option `barrier`)</span></span>

## <a name="unmanaged-storage-account-considerations"></a><span data-ttu-id="89e5e-126">Consideraciones de la cuenta de almacenamiento no administrada</span><span class="sxs-lookup"><span data-stu-id="89e5e-126">Unmanaged storage account considerations</span></span>
<span data-ttu-id="89e5e-127">acción de Hello predeterminada cuando se crea una máquina virtual con hello Azure CLI 2.0 es toouse Azure administra discos.</span><span class="sxs-lookup"><span data-stu-id="89e5e-127">hello default action when you create a VM with hello Azure CLI 2.0 is toouse Azure Managed Disks.</span></span>  <span data-ttu-id="89e5e-128">Estos discos se controlan mediante la plataforma Windows Azure hello y no requieren ningún toostore los preparativos o ubicación ellos.</span><span class="sxs-lookup"><span data-stu-id="89e5e-128">These disks are handled by hello Azure platform and do not require any preparation or location toostore them.</span></span>  <span data-ttu-id="89e5e-129">Los discos no administrados requieren una cuenta de almacenamiento y tienen algunas consideraciones de rendimiento adicionales.</span><span class="sxs-lookup"><span data-stu-id="89e5e-129">Unmanaged disks require a storage account and have some additional performance considerations.</span></span>  <span data-ttu-id="89e5e-130">Para más información acerca de los discos administrados, consulte [Azure Managed Disks overview](../windows/managed-disks-overview.md) (Introducción a los discos administrados de Azure).</span><span class="sxs-lookup"><span data-stu-id="89e5e-130">For more information about managed disks, see [Azure Managed Disks overview](../windows/managed-disks-overview.md).</span></span>  <span data-ttu-id="89e5e-131">Hello siguiente sección describen las consideraciones de rendimiento solo al usar discos no administrados.</span><span class="sxs-lookup"><span data-stu-id="89e5e-131">hello following section outlines performance considerations only when you use unmanaged disks.</span></span>  <span data-ttu-id="89e5e-132">Hola de nuevo, de forma predeterminada y solución de almacenamiento recomendada es discos toouse administrado.</span><span class="sxs-lookup"><span data-stu-id="89e5e-132">Again, hello default and recommended storage solution is toouse managed disks.</span></span>

<span data-ttu-id="89e5e-133">Si crea una máquina virtual con discos no administrados, asegúrese de que conectar discos de cuentas de almacenamiento que residen en hello misma región que la máquina virtual tooensure cercanos y minimizar la latencia de red.</span><span class="sxs-lookup"><span data-stu-id="89e5e-133">If you create a VM with unmanaged disks, make sure that you attach disks from storage accounts residing in hello same region as your VM tooensure close proximity and minimize network latency.</span></span>  <span data-ttu-id="89e5e-134">Cada cuenta de almacenamiento estándar tiene un máximo de IOPS de 20 k y una capacidad de tamaño de 500 TB.</span><span class="sxs-lookup"><span data-stu-id="89e5e-134">Each Standard storage account has a maximum of 20k IOps and a 500 TB size capacity.</span></span>  <span data-ttu-id="89e5e-135">Este límite resuelve discos tooapproximately 40 que se usa mucho incluidos disco Hola OS y los discos de datos que cree.</span><span class="sxs-lookup"><span data-stu-id="89e5e-135">This  limit works out tooapproximately 40 heavily used disks including both hello OS disk and any data disks you create.</span></span> <span data-ttu-id="89e5e-136">Para las cuentas de Almacenamiento premium, no hay ningún límite máximo de IOPS, pero hay un límite de tamaño de 32 TB.</span><span class="sxs-lookup"><span data-stu-id="89e5e-136">For Premium Storage accounts, there is no Maximum IOps limit but there is a 32 TB size limit.</span></span> 

<span data-ttu-id="89e5e-137">Al tratar con cargas de trabajo de e/s por segundo alto y ha elegido almacenamiento estándar para los discos, puede que tenga discos de hello toosplit a través de varios toomake de cuentas de almacenamiento seguro que no haya alcanzado Hola 20.000 IOps limitar las cuentas de almacenamiento estándar.</span><span class="sxs-lookup"><span data-stu-id="89e5e-137">When dealing with high IOps workloads and you have chosen Standard Storage for your disks, you might need toosplit hello disks across multiple storage accounts toomake sure you have not hit hello 20,000 IOps limit for Standard Storage accounts.</span></span> <span data-ttu-id="89e5e-138">La máquina virtual puede contener una combinación de discos de a través de diferentes cuentas de almacenamiento y tooachieve de tipos de cuenta de almacenamiento su configuración óptima.</span><span class="sxs-lookup"><span data-stu-id="89e5e-138">Your VM can contain a mix of disks from across different storage accounts and storage account types tooachieve your optimal configuration.</span></span>
 

## <a name="your-vm-temporary-drive"></a><span data-ttu-id="89e5e-139">Su unidad temporal de máquina virtual</span><span class="sxs-lookup"><span data-stu-id="89e5e-139">Your VM Temporary drive</span></span>
<span data-ttu-id="89e5e-140">De forma predeterminada, cuando se crea una VM, Azure proporciona un disco de SO (**/dev/sda**) y un disco temporal (**/dev/sdb**).</span><span class="sxs-lookup"><span data-stu-id="89e5e-140">By default when you create a VM, Azure provides you with an OS disk (**/dev/sda**) and a temporary disk (**/dev/sdb**).</span></span>  <span data-ttu-id="89e5e-141">Todos los discos adicionales que se agreguen se mostrarán como **/dev/sdc**, **/dev/sdd**, **/dev/sde**, etc.</span><span class="sxs-lookup"><span data-stu-id="89e5e-141">All additional disks you add show up as **/dev/sdc**, **/dev/sdd**, **/dev/sde** and so on.</span></span> <span data-ttu-id="89e5e-142">Todos los datos del disco temporal (**/dev/sdb**) no son duraderos y se pueden perder si eventos específicos, como el cambio de tamaño de la VM, la reimplementación o el mantenimiento, fuerzan un reinicio de la VM.</span><span class="sxs-lookup"><span data-stu-id="89e5e-142">All data on your temporary disk (**/dev/sdb**) is not durable, and can be lost if specific events like VM Resizing, redeployment, or maintenance forces a restart of your VM.</span></span>  <span data-ttu-id="89e5e-143">tamaño de Hola y el tipo de disco temporal es tamaño VM toohello relacionados elegido durante la implementación.</span><span class="sxs-lookup"><span data-stu-id="89e5e-143">hello size and type of your temporary disk is related toohello VM size you chose at deployment time.</span></span> <span data-ttu-id="89e5e-144">Todos unidad temporal de Hola de máquinas virtuales (serie DS, G y DS_V2) de tamaño de hello premium están respaldadas por una SSD local para obtener un rendimiento adicional de seguridad too48k e/s por segundo.</span><span class="sxs-lookup"><span data-stu-id="89e5e-144">All of hello premium size VMs (DS, G, and DS_V2 series) hello temporary drive are backed by a local SSD for additional performance of up too48k IOps.</span></span> 

## <a name="linux-swap-file"></a><span data-ttu-id="89e5e-145">Archivo de intercambio de Linux</span><span class="sxs-lookup"><span data-stu-id="89e5e-145">Linux Swap File</span></span>
<span data-ttu-id="89e5e-146">Si la VM de Azure es de una imagen Ubuntu o CoreOS, a continuación, puede usar CustomData toosend una configuración de nube toocloud-init.</span><span class="sxs-lookup"><span data-stu-id="89e5e-146">If your Azure VM is from an Ubuntu or CoreOS image, then you can use CustomData toosend a cloud-config toocloud-init.</span></span> <span data-ttu-id="89e5e-147">Si [cargó una imagen personalizada de Linux](upload-vhd.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json) que usa cloud-init, configure también particiones de intercambio mediante cloud-init.</span><span class="sxs-lookup"><span data-stu-id="89e5e-147">If you [uploaded a custom Linux image](upload-vhd.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json) that uses cloud-init, you also configure swap partitions using cloud-init.</span></span>

<span data-ttu-id="89e5e-148">En imágenes de nube Ubuntu, debe usar la partición de intercambio de nube init tooconfigure Hola.</span><span class="sxs-lookup"><span data-stu-id="89e5e-148">On Ubuntu Cloud Images, you must use cloud-init tooconfigure hello swap partition.</span></span> <span data-ttu-id="89e5e-149">Para más información, consulte [AzureSwapPartitions](https://wiki.ubuntu.com/AzureSwapPartitions).</span><span class="sxs-lookup"><span data-stu-id="89e5e-149">For more information, see [AzureSwapPartitions](https://wiki.ubuntu.com/AzureSwapPartitions).</span></span>

<span data-ttu-id="89e5e-150">Para las imágenes sin compatibilidad con la nube init, imágenes de máquina virtual que se implementan a partir de hello Azure Marketplace tienen un agente de Linux de VM integrado con hello SO.</span><span class="sxs-lookup"><span data-stu-id="89e5e-150">For images without cloud-init support, VM images deployed from hello Azure Marketplace have a VM Linux Agent integrated with hello OS.</span></span> <span data-ttu-id="89e5e-151">Este agente permite Hola VM toointeract con varios servicios de Azure.</span><span class="sxs-lookup"><span data-stu-id="89e5e-151">This agent allows hello VM toointeract with various Azure services.</span></span> <span data-ttu-id="89e5e-152">Suponiendo que haya implementado una imagen estándar de hello Azure Marketplace, sería necesario toodo Hola después toocorrectly configura los valores del archivo de intercambio de Linux:</span><span class="sxs-lookup"><span data-stu-id="89e5e-152">Assuming you have deployed a standard image from hello Azure Marketplace, you would need toodo hello following toocorrectly configure your Linux swap file settings:</span></span>

<span data-ttu-id="89e5e-153">Localizar y modificar las dos entradas de hello **/etc/waagent.conf** archivo.</span><span class="sxs-lookup"><span data-stu-id="89e5e-153">Locate and modify two entries in hello **/etc/waagent.conf** file.</span></span> <span data-ttu-id="89e5e-154">Controlar el tamaño del archivo de intercambio de Hola y la existencia de Hola de un archivo de intercambio dedicado.</span><span class="sxs-lookup"><span data-stu-id="89e5e-154">They control hello existence of a dedicated swap file and size of hello swap file.</span></span> <span data-ttu-id="89e5e-155">parámetros de Hello desea toomodify son `ResourceDisk.EnableSwap=N` y`ResourceDisk.SwapSizeMB=0`</span><span class="sxs-lookup"><span data-stu-id="89e5e-155">hello parameters you are looking toomodify are `ResourceDisk.EnableSwap=N` and `ResourceDisk.SwapSizeMB=0`</span></span> 

<span data-ttu-id="89e5e-156">Cambiar Hola parámetros toohello después de configuración:</span><span class="sxs-lookup"><span data-stu-id="89e5e-156">Change hello parameters toohello following settings:</span></span>

* <span data-ttu-id="89e5e-157">ResourceDisk.EnableSwap=Y</span><span class="sxs-lookup"><span data-stu-id="89e5e-157">ResourceDisk.EnableSwap=Y</span></span>
* <span data-ttu-id="89e5e-158">ResourceDisk.SwapSizeMB={size en MB toomeet sus necesidades}</span><span class="sxs-lookup"><span data-stu-id="89e5e-158">ResourceDisk.SwapSizeMB={size in MB toomeet your needs}</span></span> 

<span data-ttu-id="89e5e-159">Una vez haya realizado Hola cambiar, necesita toorestart hello waagent o reiniciar la VM de Linux tooreflect esos cambios.</span><span class="sxs-lookup"><span data-stu-id="89e5e-159">Once you have made hello change, you need toorestart hello waagent or restart your Linux VM tooreflect those changes.</span></span>  <span data-ttu-id="89e5e-160">Sabrá cambios Hola se han implementado y se ha creado un archivo de intercambio cuando usas hello `free` comando tooview de espacio libre.</span><span class="sxs-lookup"><span data-stu-id="89e5e-160">You know hello changes have been implemented and a swap file has been created when you use hello `free` command tooview free space.</span></span> <span data-ttu-id="89e5e-161">el ejemplo siguiente se Hello tiene un archivo de intercambio de 512MB creado como resultado de la modificación de hello **waagent.conf** archivo:</span><span class="sxs-lookup"><span data-stu-id="89e5e-161">hello following example has a 512MB swap file created as a result of modifying hello **waagent.conf** file:</span></span>

```bash
azuseruser@myVM:~$ free
            total       used       free     shared    buffers     cached
Mem:       3525156     804168    2720988        408       8428     633192
-/+ buffers/cache:     162548    3362608
Swap:       524284          0     524284
```

## <a name="io-scheduling-algorithm-for-premium-storage"></a><span data-ttu-id="89e5e-162">Algoritmo de programación de E/S para Almacenamiento premium</span><span class="sxs-lookup"><span data-stu-id="89e5e-162">I/O scheduling algorithm for Premium Storage</span></span>
<span data-ttu-id="89e5e-163">Con el kernel de Linux de hello 2.6.18, algoritmo de programación de E/S Hola predeterminado se cambió de fecha límite tooCFQ (completamente algoritmo de cola).</span><span class="sxs-lookup"><span data-stu-id="89e5e-163">With hello 2.6.18 Linux kernel, hello default I/O scheduling algorithm was changed from Deadline tooCFQ (Completely fair queuing algorithm).</span></span> <span data-ttu-id="89e5e-164">Para patrones de E/S de acceso aleatorio, hay una diferencia insignificante en diferencias de rendimiento entre CFQ y Deadline.</span><span class="sxs-lookup"><span data-stu-id="89e5e-164">For random access I/O patterns, there is negligible difference in performance differences between CFQ and Deadline.</span></span>  <span data-ttu-id="89e5e-165">Para discos basados en SSD donde patrón de E/S de disco de hello es básicamente secuencial, cambiar de nuevo toohello NOOP o fecha límite de algoritmo puede lograr un mejor rendimiento de E/S.</span><span class="sxs-lookup"><span data-stu-id="89e5e-165">For SSD-based disks where hello disk I/O pattern is predominantly sequential, switching back toohello NOOP or Deadline algorithm can achieve better I/O performance.</span></span>

### <a name="view-hello-current-io-scheduler"></a><span data-ttu-id="89e5e-166">Programador de E/S de vista Hola actual</span><span class="sxs-lookup"><span data-stu-id="89e5e-166">View hello current I/O scheduler</span></span>
<span data-ttu-id="89e5e-167">Usar hello siguiente comando:</span><span class="sxs-lookup"><span data-stu-id="89e5e-167">Use hello following command:</span></span>  

```bash
cat /sys/block/sda/queue/scheduler
```

<span data-ttu-id="89e5e-168">Vea el siguiente resultado, lo que indica el programador actual Hola.</span><span class="sxs-lookup"><span data-stu-id="89e5e-168">You see following output, which indicates hello current scheduler.</span></span>  

```bash
noop [deadline] cfq
```

### <a name="change-hello-current-device-devsda-of-io-scheduling-algorithm"></a><span data-ttu-id="89e5e-169">Cambiar Hola actual dispositivo (/ dev/sda) del algoritmo de programación de E/S</span><span class="sxs-lookup"><span data-stu-id="89e5e-169">Change hello current device (/dev/sda) of I/O scheduling algorithm</span></span>
<span data-ttu-id="89e5e-170">Usar hello siguientes comandos:</span><span class="sxs-lookup"><span data-stu-id="89e5e-170">Use hello following commands:</span></span>  

```bash
azureuser@myVM:~$ sudo su -
root@myVM:~# echo "noop" >/sys/block/sda/queue/scheduler
root@myVM:~# sed -i 's/GRUB_CMDLINE_LINUX=""/GRUB_CMDLINE_LINUX_DEFAULT="quiet splash elevator=noop"/g' /etc/default/grub
root@myVM:~# update-grub
```

> [!NOTE]
> <span data-ttu-id="89e5e-171">Aplicar este valor solo para **/dev/sda** no es útil.</span><span class="sxs-lookup"><span data-stu-id="89e5e-171">Applying this setting for **/dev/sda** alone is not useful.</span></span> <span data-ttu-id="89e5e-172">Establecer en todos los discos de datos donde E/S secuenciales domina patrón de E/S de Hola.</span><span class="sxs-lookup"><span data-stu-id="89e5e-172">Set on all data disks where sequential I/O dominates hello I/O pattern.</span></span>  

<span data-ttu-id="89e5e-173">Debería ver Hola después de salida, lo que indica que **grub.cfg** se ha vuelto a generar correctamente y programador predeterminado Hola se ha actualizado tooNOOP.</span><span class="sxs-lookup"><span data-stu-id="89e5e-173">You should see hello following output, indicating that **grub.cfg** has been rebuilt successfully and that hello default scheduler has been updated tooNOOP.</span></span>  

```bash
Generating grub configuration file ...
Found linux image: /boot/vmlinuz-3.13.0-34-generic
Found initrd image: /boot/initrd.img-3.13.0-34-generic
Found linux image: /boot/vmlinuz-3.13.0-32-generic
Found initrd image: /boot/initrd.img-3.13.0-32-generic
Found memtest86+ image: /memtest86+.elf
Found memtest86+ image: /memtest86+.bin
done
```

<span data-ttu-id="89e5e-174">Para la familia de distribución de Redhat hello, solo necesita Hola siguiente comando:</span><span class="sxs-lookup"><span data-stu-id="89e5e-174">For hello Redhat distribution family, you only need hello following command:</span></span>   

```bash
echo 'echo noop >/sys/block/sda/queue/scheduler' >> /etc/rc.local
```

## <a name="using-software-raid-tooachieve-higher-iops"></a><span data-ttu-id="89e5e-175">Con RAID de Software tooachieve superior I / Ops</span><span class="sxs-lookup"><span data-stu-id="89e5e-175">Using Software RAID tooachieve higher I/Ops</span></span>
<span data-ttu-id="89e5e-176">Si las cargas de trabajo requieren más IOps de lo que puede proporcionar un único disco, deberá toouse una configuración de RAID de software de varios discos.</span><span class="sxs-lookup"><span data-stu-id="89e5e-176">If your workloads require more IOps than a single disk can provide, you need toouse a software RAID configuration of multiple disks.</span></span> <span data-ttu-id="89e5e-177">Dado que Azure ya realiza resistencia de disco en la capa de tejido local de hello, lograr mayor nivel de Hola de rendimiento de una configuración de creación de bandas RAID-0.</span><span class="sxs-lookup"><span data-stu-id="89e5e-177">Because Azure already performs disk resiliency at hello local fabric layer, you achieve hello highest level of performance from a RAID-0 striping configuration.</span></span>  <span data-ttu-id="89e5e-178">Aprovisionar y crear discos Hola entorno de Azure y conéctelas tooyour Linux VM antes de creación de particiones, dar formato y montar Hola unidades.</span><span class="sxs-lookup"><span data-stu-id="89e5e-178">Provision and create disks in hello Azure environment and attach them tooyour Linux VM before partitioning, formatting and mounting hello drives.</span></span>  <span data-ttu-id="89e5e-179">Para obtener más información acerca de cómo configurar una configuración RAID de software en la VM de Linux en azure puede encontrarse en hello  **[configuración RAID de Software en Linux](configure-raid.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)**  documento.</span><span class="sxs-lookup"><span data-stu-id="89e5e-179">More details on configuring a software RAID setup on your Linux VM in azure can be found in hello **[Configuring Software RAID on Linux](configure-raid.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)** document.</span></span>

## <a name="next-steps"></a><span data-ttu-id="89e5e-180">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="89e5e-180">Next Steps</span></span>
<span data-ttu-id="89e5e-181">Recuerde que, como con todas las discusiones de optimización, es preciso tooperform pruebas antes y después de cada impacto de cambio toomeasure Hola Hola cambio tiene.</span><span class="sxs-lookup"><span data-stu-id="89e5e-181">Remember, as with all optimization discussions, you need tooperform tests before and after each change toomeasure hello impact hello change has.</span></span>  <span data-ttu-id="89e5e-182">La optimización es un proceso paso a paso que tiene resultados diferentes en las distintas máquinas en su entorno.</span><span class="sxs-lookup"><span data-stu-id="89e5e-182">Optimization is a step by step process that has different results across different machines in your environment.</span></span>  <span data-ttu-id="89e5e-183">Lo que funciona para una configuración puede no funcionar para otras.</span><span class="sxs-lookup"><span data-stu-id="89e5e-183">What works for one configuration may not work for others.</span></span>

<span data-ttu-id="89e5e-184">Algunos recursos de tooadditional vínculos útiles:</span><span class="sxs-lookup"><span data-stu-id="89e5e-184">Some useful links tooadditional resources:</span></span> 

* [<span data-ttu-id="89e5e-185">Almacenamiento premium: Almacenamiento de alto rendimiento para cargas de trabajo de máquina virtual de Azure</span><span class="sxs-lookup"><span data-stu-id="89e5e-185">Premium Storage: High-Performance Storage for Azure Virtual Machine Workloads</span></span>](../../storage/common/storage-premium-storage.md)
* [<span data-ttu-id="89e5e-186">Guía de usuario del Agente de Linux de Azure</span><span class="sxs-lookup"><span data-stu-id="89e5e-186">Azure Linux Agent User Guide</span></span>](../windows/agent-user-guide.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)
* [<span data-ttu-id="89e5e-187">Optimización del rendimiento de MySQL en máquinas virtuales de Azure con Linux</span><span class="sxs-lookup"><span data-stu-id="89e5e-187">Optimizing MySQL Performance on Azure Linux VMs</span></span>](classic/optimize-mysql.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json)
* [<span data-ttu-id="89e5e-188">Configuración del software RAID en Linux</span><span class="sxs-lookup"><span data-stu-id="89e5e-188">Configure Software RAID on Linux</span></span>](configure-raid.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)

