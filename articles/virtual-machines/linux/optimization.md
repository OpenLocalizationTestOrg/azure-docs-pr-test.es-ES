---
title: "Optimización de la VM Linux en Azure | Microsoft Docs"
description: "Aprenda algunas sugerencias de optimización para asegurarse de que ha configurado la máquina virtual Linux para obtener un rendimiento óptimo en Azure."
keywords: "máquina virtual con linux,máquina virtual linux,máquina virtual con ubuntu"
services: virtual-machines-linux
documentationcenter: 
author: rickstercdn
manager: timlt
editor: tysonn
tags: azure-resource-manager
ms.assetid: 8baa30c8-d40e-41ac-93d0-74e96fe18d4c
ms.service: virtual-machines-linux
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-linux
ms.devlang: na
ms.topic: article
ms.date: 09/06/2016
ms.author: rclaus
ms.openlocfilehash: eb79d574fd4dddfb986660cc338bc8748f2082c2
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/29/2017
---
# <a name="optimize-your-linux-vm-on-azure"></a><span data-ttu-id="96236-104">Optimización de la máquina virtual Linux en Azure</span><span class="sxs-lookup"><span data-stu-id="96236-104">Optimize your Linux VM on Azure</span></span>
<span data-ttu-id="96236-105">Crear una máquina virtual con Linux es muy sencillo desde la línea de comandos o desde el Portal.</span><span class="sxs-lookup"><span data-stu-id="96236-105">Creating a Linux virtual machine (VM) is easy to do from the command line or from the portal.</span></span> <span data-ttu-id="96236-106">Este tutorial muestra cómo asegurarse de que está configurada para optimizar su rendimiento en la Plataforma Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="96236-106">This tutorial shows you how to ensure you have set it up to optimize its performance on the Microsoft Azure platform.</span></span> <span data-ttu-id="96236-107">Este tema usa una VM de servidor Ubuntu, pero también puede crear máquinas virtuales Linux mediante [sus propias imágenes como plantillas](create-upload-generic.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="96236-107">This topic uses an Ubuntu Server VM, but you can also create Linux virtual machine using [your own images as templates](create-upload-generic.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>  

## <a name="prerequisites"></a><span data-ttu-id="96236-108">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="96236-108">Prerequisites</span></span>
<span data-ttu-id="96236-109">En este tema se da por supuesto que ya tiene una suscripción de Azure activa ([suscripción de evaluación gratuita](https://azure.microsoft.com/pricing/free-trial/)) y ya ha aprovisionado una VM en su suscripción de Azure.</span><span class="sxs-lookup"><span data-stu-id="96236-109">This topic assumes you already have a working Azure subscription ([free trial signup](https://azure.microsoft.com/pricing/free-trial/)) and have already provisioned a VM into your Azure subscription.</span></span> <span data-ttu-id="96236-110">Asegúrese de que dispone de la [CLI de Azure 2.0](/cli/azure/install-az-cli2) más reciente instalada y de que ha iniciado sesión en su suscripción de Azure con [az login](/cli/azure/#login) antes de [crear una VM](quick-create-cli.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="96236-110">Make sure that you have the latest [Azure CLI 2.0](/cli/azure/install-az-cli2) installed and logged in to your Azure subscription with [az login](/cli/azure/#login) before you [create a VM](quick-create-cli.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>

## <a name="azure-os-disk"></a><span data-ttu-id="96236-111">Disco de sistema operativo de Azure</span><span class="sxs-lookup"><span data-stu-id="96236-111">Azure OS Disk</span></span>
<span data-ttu-id="96236-112">Al crear la VM Linux en Azure, tiene dos discos asociados a ella.</span><span class="sxs-lookup"><span data-stu-id="96236-112">Once you create a Linux VM in Azure, it has two disks associated with it.</span></span> <span data-ttu-id="96236-113">**/dev/sda** es el disco del SO y **/dev/sdb** es el disco temporal.</span><span class="sxs-lookup"><span data-stu-id="96236-113">**/dev/sda** is your OS disk, **/dev/sdb** is your temporary disk.</span></span>  <span data-ttu-id="96236-114">No utilice el disco del SO principal (**/dev/sda**) salvo para el mismo sistema operativo, ya que se ha optimizado para un tiempo de arranque rápido de la VM y no proporcionará un buen rendimiento para sus cargas de trabajo.</span><span class="sxs-lookup"><span data-stu-id="96236-114">Do not use the main OS disk (**/dev/sda**) for anything except the operating system as it is optimized for fast VM boot time and does not provide good performance for your workloads.</span></span> <span data-ttu-id="96236-115">Querrá conectar uno o más discos a la VM con el fin de obtener un almacenamiento optimizado y persistente para sus datos.</span><span class="sxs-lookup"><span data-stu-id="96236-115">You want to attach one or more disks to your VM to get persistent and optimized storage for your data.</span></span> 

## <a name="adding-disks-for-size-and-performance-targets"></a><span data-ttu-id="96236-116">Adición de discos para objetivos de rendimiento y tamaño</span><span class="sxs-lookup"><span data-stu-id="96236-116">Adding Disks for Size and Performance targets</span></span>
<span data-ttu-id="96236-117">En función del tamaño de la VM, puede conectar hasta 16 discos adicionales en una máquina de serie A, 32 discos en una de serie D y 64 discos en una máquina de serie G, cada una de ellas con hasta 1 TB de tamaño.</span><span class="sxs-lookup"><span data-stu-id="96236-117">Based on the VM size, you can attach up to 16 additional disks on an A-Series, 32 disks on a D-Series and 64 disks on a G-Series machine - each up to 1 TB in size.</span></span> <span data-ttu-id="96236-118">Agregue discos adicionales según sea necesario en función del espacio y los requisitos de IOPS.</span><span class="sxs-lookup"><span data-stu-id="96236-118">You add extra disks as needed per your space and IOps requirements.</span></span> <span data-ttu-id="96236-119">Cada disco tiene un objetivo de rendimiento de 500 IOPS para el Almacenamiento estándar y de hasta 5000 IOPS por disco para el Almacenamiento Premium.</span><span class="sxs-lookup"><span data-stu-id="96236-119">Each disk has a performance target of 500 IOps for Standard Storage and up to 5000 IOps per disk for Premium Storage.</span></span>  <span data-ttu-id="96236-120">Para más información sobre los discos de Premium Storage, consulte [Discos de máquina virtual de Azure administrados y no administrados, y Premium Storage de alto rendimiento](../../storage/common/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="96236-120">For more information about Premium Storage disks, see [Premium Storage: High-Performance Storage for Azure VMs](../../storage/common/storage-premium-storage.md)</span></span>

<span data-ttu-id="96236-121">Para alcanzar el máximo valor de IOPS en los discos de Premium Storage con la configuración de caché como **ReadOnly** o **None**, debe deshabilitar las **barreras** al montar el sistema de archivos en Linux.</span><span class="sxs-lookup"><span data-stu-id="96236-121">To achieve the highest IOps on Premium Storage disks where their cache settings have been set to either **ReadOnly** or **None**, you must disable **barriers** while mounting the file system in Linux.</span></span> <span data-ttu-id="96236-122">No necesita las barreras porque las escrituras en los discos de Almacenamiento premium de copia de seguridad son duraderas para esta configuración de caché.</span><span class="sxs-lookup"><span data-stu-id="96236-122">You do not need barriers because the writes to Premium Storage backed disks are durable for these cache settings.</span></span>

* <span data-ttu-id="96236-123">Si utiliza **reiserFS**, deshabilite las barreras mediante la opción de montaje `barrier=none` (para habilitar las barreras, use `barrier=flush`)</span><span class="sxs-lookup"><span data-stu-id="96236-123">If you use **reiserFS**, disable barriers using the mount option `barrier=none` (For enabling barriers, use `barrier=flush`)</span></span>
* <span data-ttu-id="96236-124">Si utiliza **ext3/ext4**, deshabilite las barreras mediante la opción de montaje `barrier=0` (para habilitar las barreras, use `barrier=1`)</span><span class="sxs-lookup"><span data-stu-id="96236-124">If you use **ext3/ext4**, disable barriers using the mount option `barrier=0` (For enabling barriers, use `barrier=1`)</span></span>
* <span data-ttu-id="96236-125">Si utiliza **XFS**, deshabilite las barreras mediante la opción de montaje `nobarrier` (para habilitar las barreras, use la opción `barrier`)</span><span class="sxs-lookup"><span data-stu-id="96236-125">If you use **XFS**, disable barriers using the mount option `nobarrier` (For enabling barriers, use the option `barrier`)</span></span>

## <a name="unmanaged-storage-account-considerations"></a><span data-ttu-id="96236-126">Consideraciones de la cuenta de almacenamiento no administrada</span><span class="sxs-lookup"><span data-stu-id="96236-126">Unmanaged storage account considerations</span></span>
<span data-ttu-id="96236-127">La acción predeterminada cuando se crea una VM con la CLI de Azure 2.0 consiste en usar Azure Managed Disks.</span><span class="sxs-lookup"><span data-stu-id="96236-127">The default action when you create a VM with the Azure CLI 2.0 is to use Azure Managed Disks.</span></span>  <span data-ttu-id="96236-128">Estos discos se controlan mediante la plataforma de Azure y no requieren preparativos ni ubicación para el almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="96236-128">These disks are handled by the Azure platform and do not require any preparation or location to store them.</span></span>  <span data-ttu-id="96236-129">Los discos no administrados requieren una cuenta de almacenamiento y tienen algunas consideraciones de rendimiento adicionales.</span><span class="sxs-lookup"><span data-stu-id="96236-129">Unmanaged disks require a storage account and have some additional performance considerations.</span></span>  <span data-ttu-id="96236-130">Para más información acerca de los discos administrados, consulte [Azure Managed Disks overview](../windows/managed-disks-overview.md) (Introducción a los discos administrados de Azure).</span><span class="sxs-lookup"><span data-stu-id="96236-130">For more information about managed disks, see [Azure Managed Disks overview](../windows/managed-disks-overview.md).</span></span>  <span data-ttu-id="96236-131">En la siguiente sección se describen consideraciones de rendimiento solo cuando se usan discos no administrados.</span><span class="sxs-lookup"><span data-stu-id="96236-131">The following section outlines performance considerations only when you use unmanaged disks.</span></span>  <span data-ttu-id="96236-132">Una vez más, la solución de almacenamiento predeterminada y recomendada consiste en utilizar discos administrados.</span><span class="sxs-lookup"><span data-stu-id="96236-132">Again, the default and recommended storage solution is to use managed disks.</span></span>

<span data-ttu-id="96236-133">Si crea una VM con discos no administrados, asegúrese de que conecta los discos desde las cuentas de almacenamiento que residen en la misma región que la VM para garantizar la proximidad y minimizar la latencia de red.</span><span class="sxs-lookup"><span data-stu-id="96236-133">If you create a VM with unmanaged disks, make sure that you attach disks from storage accounts residing in the same region as your VM to ensure close proximity and minimize network latency.</span></span>  <span data-ttu-id="96236-134">Cada cuenta de almacenamiento estándar tiene un máximo de IOPS de 20 k y una capacidad de tamaño de 500 TB.</span><span class="sxs-lookup"><span data-stu-id="96236-134">Each Standard storage account has a maximum of 20k IOps and a 500 TB size capacity.</span></span>  <span data-ttu-id="96236-135">Este límite nos da aproximadamente 40 discos muy utilizados, incluido el disco del SO y cualquier disco de datos que haya creado.</span><span class="sxs-lookup"><span data-stu-id="96236-135">This  limit works out to approximately 40 heavily used disks including both the OS disk and any data disks you create.</span></span> <span data-ttu-id="96236-136">Para las cuentas de Almacenamiento premium, no hay ningún límite máximo de IOPS, pero hay un límite de tamaño de 32 TB.</span><span class="sxs-lookup"><span data-stu-id="96236-136">For Premium Storage accounts, there is no Maximum IOps limit but there is a 32 TB size limit.</span></span> 

<span data-ttu-id="96236-137">Al tratar con cargas de trabajo de IOPS elevadas y de haber elegido el almacenamiento estándar para los discos, debe dividir los discos entre varias cuentas de almacenamiento para asegurarse de no alcanzar el límite de 20 000 IOPS para las cuentas de Almacenamiento estándar.</span><span class="sxs-lookup"><span data-stu-id="96236-137">When dealing with high IOps workloads and you have chosen Standard Storage for your disks, you might need to split the disks across multiple storage accounts to make sure you have not hit the 20,000 IOps limit for Standard Storage accounts.</span></span> <span data-ttu-id="96236-138">La máquina virtual puede contener una combinación de discos de las diferentes cuentas de almacenamiento y de los tipos de cuentas de almacenamiento para alcanzar la configuración óptima.</span><span class="sxs-lookup"><span data-stu-id="96236-138">Your VM can contain a mix of disks from across different storage accounts and storage account types to achieve your optimal configuration.</span></span>
 

## <a name="your-vm-temporary-drive"></a><span data-ttu-id="96236-139">Su unidad temporal de máquina virtual</span><span class="sxs-lookup"><span data-stu-id="96236-139">Your VM Temporary drive</span></span>
<span data-ttu-id="96236-140">De forma predeterminada, cuando se crea una VM, Azure proporciona un disco de SO (**/dev/sda**) y un disco temporal (**/dev/sdb**).</span><span class="sxs-lookup"><span data-stu-id="96236-140">By default when you create a VM, Azure provides you with an OS disk (**/dev/sda**) and a temporary disk (**/dev/sdb**).</span></span>  <span data-ttu-id="96236-141">Todos los discos adicionales que se agreguen se mostrarán como **/dev/sdc**, **/dev/sdd**, **/dev/sde**, etc.</span><span class="sxs-lookup"><span data-stu-id="96236-141">All additional disks you add show up as **/dev/sdc**, **/dev/sdd**, **/dev/sde** and so on.</span></span> <span data-ttu-id="96236-142">Todos los datos del disco temporal (**/dev/sdb**) no son duraderos y se pueden perder si eventos específicos, como el cambio de tamaño de la VM, la reimplementación o el mantenimiento, fuerzan un reinicio de la VM.</span><span class="sxs-lookup"><span data-stu-id="96236-142">All data on your temporary disk (**/dev/sdb**) is not durable, and can be lost if specific events like VM Resizing, redeployment, or maintenance forces a restart of your VM.</span></span>  <span data-ttu-id="96236-143">El tamaño y el tipo de disco temporal está relacionado con el tamaño de memoria virtual que seleccionó en el momento de la implementación.</span><span class="sxs-lookup"><span data-stu-id="96236-143">The size and type of your temporary disk is related to the VM size you chose at deployment time.</span></span> <span data-ttu-id="96236-144">En todas las VM de tamaño premium (series DS, G y DS_V2) se realizará una copia de seguridad de la unidad temporal en una unidad SSD local para obtener un rendimiento adicional de hasta 48 000 IOPS.</span><span class="sxs-lookup"><span data-stu-id="96236-144">All of the premium size VMs (DS, G, and DS_V2 series) the temporary drive are backed by a local SSD for additional performance of up to 48k IOps.</span></span> 

## <a name="linux-swap-file"></a><span data-ttu-id="96236-145">Archivo de intercambio de Linux</span><span class="sxs-lookup"><span data-stu-id="96236-145">Linux Swap File</span></span>
<span data-ttu-id="96236-146">Si la VM de Azure procede de una imagen de Ubuntu o CoreOS, puede usar CustomData para enviar una cloud-config a cloud-init.</span><span class="sxs-lookup"><span data-stu-id="96236-146">If your Azure VM is from an Ubuntu or CoreOS image, then you can use CustomData to send a cloud-config to cloud-init.</span></span> <span data-ttu-id="96236-147">Si [cargó una imagen personalizada de Linux](upload-vhd.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json) que usa cloud-init, configure también particiones de intercambio mediante cloud-init.</span><span class="sxs-lookup"><span data-stu-id="96236-147">If you [uploaded a custom Linux image](upload-vhd.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json) that uses cloud-init, you also configure swap partitions using cloud-init.</span></span>

<span data-ttu-id="96236-148">En las imágenes de nube de Ubuntu, debe usar cloud-init para configurar la partición de intercambio.</span><span class="sxs-lookup"><span data-stu-id="96236-148">On Ubuntu Cloud Images, you must use cloud-init to configure the swap partition.</span></span> <span data-ttu-id="96236-149">Para más información, consulte [AzureSwapPartitions](https://wiki.ubuntu.com/AzureSwapPartitions).</span><span class="sxs-lookup"><span data-stu-id="96236-149">For more information, see [AzureSwapPartitions](https://wiki.ubuntu.com/AzureSwapPartitions).</span></span>

<span data-ttu-id="96236-150">En el caso de las imágenes sin compatibilidad con cloud-init, las imágenes de máquina virtual implementadas desde Azure Marketplace tienen un agente Linux de máquina virtual integrado con el sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="96236-150">For images without cloud-init support, VM images deployed from the Azure Marketplace have a VM Linux Agent integrated with the OS.</span></span> <span data-ttu-id="96236-151">Este agente permite que la máquina virtual interactúe con diversos servicios de Azure.</span><span class="sxs-lookup"><span data-stu-id="96236-151">This agent allows the VM to interact with various Azure services.</span></span> <span data-ttu-id="96236-152">Suponiendo que ha implementado una imagen estándar desde Azure Marketplace, deberá hacer lo siguiente para configurar correctamente los valores del archivo de intercambio de Linux:</span><span class="sxs-lookup"><span data-stu-id="96236-152">Assuming you have deployed a standard image from the Azure Marketplace, you would need to do the following to correctly configure your Linux swap file settings:</span></span>

<span data-ttu-id="96236-153">Busque y modifique dos entradas en el archivo **/etc/waagent.conf** .</span><span class="sxs-lookup"><span data-stu-id="96236-153">Locate and modify two entries in the **/etc/waagent.conf** file.</span></span> <span data-ttu-id="96236-154">Estas entradas controlan la existencia de un archivo de intercambio dedicado y el tamaño del archivo de intercambio.</span><span class="sxs-lookup"><span data-stu-id="96236-154">They control the existence of a dedicated swap file and size of the swap file.</span></span> <span data-ttu-id="96236-155">Los parámetros que desea modificar son `ResourceDisk.EnableSwap=N` y `ResourceDisk.SwapSizeMB=0`.</span><span class="sxs-lookup"><span data-stu-id="96236-155">The parameters you are looking to modify are `ResourceDisk.EnableSwap=N` and `ResourceDisk.SwapSizeMB=0`</span></span> 

<span data-ttu-id="96236-156">Cambie los parámetros a la siguiente configuración:</span><span class="sxs-lookup"><span data-stu-id="96236-156">Change the parameters to the following settings:</span></span>

* <span data-ttu-id="96236-157">ResourceDisk.EnableSwap=Y</span><span class="sxs-lookup"><span data-stu-id="96236-157">ResourceDisk.EnableSwap=Y</span></span>
* <span data-ttu-id="96236-158">ResourceDisk.SwapSizeMB={tamaño en MB que satisfaga sus requisitos}</span><span class="sxs-lookup"><span data-stu-id="96236-158">ResourceDisk.SwapSizeMB={size in MB to meet your needs}</span></span> 

<span data-ttu-id="96236-159">Una vez haya realizado el cambio, debe reiniciar waagent o la VM Linux con el fin de reflejar dichos cambios.</span><span class="sxs-lookup"><span data-stu-id="96236-159">Once you have made the change, you need to restart the waagent or restart your Linux VM to reflect those changes.</span></span>  <span data-ttu-id="96236-160">Sabrá que se han implementado los cambios y que se ha creado un archivo de intercambio cuando use el comando `free` para ver el espacio libre.</span><span class="sxs-lookup"><span data-stu-id="96236-160">You know the changes have been implemented and a swap file has been created when you use the `free` command to view free space.</span></span> <span data-ttu-id="96236-161">En el ejemplo siguiente tiene un archivo de intercambio de 512 MB creado como resultado de modificar el archivo **waagent.conf**:</span><span class="sxs-lookup"><span data-stu-id="96236-161">The following example has a 512MB swap file created as a result of modifying the **waagent.conf** file:</span></span>

```bash
azuseruser@myVM:~$ free
            total       used       free     shared    buffers     cached
Mem:       3525156     804168    2720988        408       8428     633192
-/+ buffers/cache:     162548    3362608
Swap:       524284          0     524284
```

## <a name="io-scheduling-algorithm-for-premium-storage"></a><span data-ttu-id="96236-162">Algoritmo de programación de E/S para Almacenamiento premium</span><span class="sxs-lookup"><span data-stu-id="96236-162">I/O scheduling algorithm for Premium Storage</span></span>
<span data-ttu-id="96236-163">Con el kernel de Linux 2.6.18, el algoritmo de programación de E/S predeterminado se cambió de Deadline (Fecha límite) a CFQ (Algoritmo de cola completamente razonable).</span><span class="sxs-lookup"><span data-stu-id="96236-163">With the 2.6.18 Linux kernel, the default I/O scheduling algorithm was changed from Deadline to CFQ (Completely fair queuing algorithm).</span></span> <span data-ttu-id="96236-164">Para patrones de E/S de acceso aleatorio, hay una diferencia insignificante en diferencias de rendimiento entre CFQ y Deadline.</span><span class="sxs-lookup"><span data-stu-id="96236-164">For random access I/O patterns, there is negligible difference in performance differences between CFQ and Deadline.</span></span>  <span data-ttu-id="96236-165">En el caso de los discos SSD donde el patrón de E/S del disco es principalmente secuencial, el cambio al algoritmo NOOP o al de Deadline puede lograr un mejor rendimiento de E/S.</span><span class="sxs-lookup"><span data-stu-id="96236-165">For SSD-based disks where the disk I/O pattern is predominantly sequential, switching back to the NOOP or Deadline algorithm can achieve better I/O performance.</span></span>

### <a name="view-the-current-io-scheduler"></a><span data-ttu-id="96236-166">Visualización del programador de E/S actual</span><span class="sxs-lookup"><span data-stu-id="96236-166">View the current I/O scheduler</span></span>
<span data-ttu-id="96236-167">Use el comando siguiente:</span><span class="sxs-lookup"><span data-stu-id="96236-167">Use the following command:</span></span>  

```bash
cat /sys/block/sda/queue/scheduler
```

<span data-ttu-id="96236-168">Se mostrará la salida siguiente, que indica cuál es el programador actual.</span><span class="sxs-lookup"><span data-stu-id="96236-168">You see following output, which indicates the current scheduler.</span></span>  

```bash
noop [deadline] cfq
```

### <a name="change-the-current-device-devsda-of-io-scheduling-algorithm"></a><span data-ttu-id="96236-169">Cambiar el dispositivo actual (/dev/sda) del algoritmo de programación de E/S</span><span class="sxs-lookup"><span data-stu-id="96236-169">Change the current device (/dev/sda) of I/O scheduling algorithm</span></span>
<span data-ttu-id="96236-170">Use los comandos siguientes:</span><span class="sxs-lookup"><span data-stu-id="96236-170">Use the following commands:</span></span>  

```bash
azureuser@myVM:~$ sudo su -
root@myVM:~# echo "noop" >/sys/block/sda/queue/scheduler
root@myVM:~# sed -i 's/GRUB_CMDLINE_LINUX=""/GRUB_CMDLINE_LINUX_DEFAULT="quiet splash elevator=noop"/g' /etc/default/grub
root@myVM:~# update-grub
```

> [!NOTE]
> <span data-ttu-id="96236-171">Aplicar este valor solo para **/dev/sda** no es útil.</span><span class="sxs-lookup"><span data-stu-id="96236-171">Applying this setting for **/dev/sda** alone is not useful.</span></span> <span data-ttu-id="96236-172">Establézcalo en todos los discos de datos donde la E/S secuencial domina el patrón de E/S.</span><span class="sxs-lookup"><span data-stu-id="96236-172">Set on all data disks where sequential I/O dominates the I/O pattern.</span></span>  

<span data-ttu-id="96236-173">Debería mostrarse el resultado siguiente, que indica que **grub.cfg** se ha vuelto a compilar correctamente y que el programador predeterminado se ha actualizado a NOOP.</span><span class="sxs-lookup"><span data-stu-id="96236-173">You should see the following output, indicating that **grub.cfg** has been rebuilt successfully and that the default scheduler has been updated to NOOP.</span></span>  

```bash
Generating grub configuration file ...
Found linux image: /boot/vmlinuz-3.13.0-34-generic
Found initrd image: /boot/initrd.img-3.13.0-34-generic
Found linux image: /boot/vmlinuz-3.13.0-32-generic
Found initrd image: /boot/initrd.img-3.13.0-32-generic
Found memtest86+ image: /memtest86+.elf
Found memtest86+ image: /memtest86+.bin
done
```

<span data-ttu-id="96236-174">Para la familia de distribución Redhat, solo necesita el siguiente comando:</span><span class="sxs-lookup"><span data-stu-id="96236-174">For the Redhat distribution family, you only need the following command:</span></span>   

```bash
echo 'echo noop >/sys/block/sda/queue/scheduler' >> /etc/rc.local
```

## <a name="using-software-raid-to-achieve-higher-iops"></a><span data-ttu-id="96236-175">Uso del software RAID para alcanzar mayores IOPS</span><span class="sxs-lookup"><span data-stu-id="96236-175">Using Software RAID to achieve higher I/Ops</span></span>
<span data-ttu-id="96236-176">Si las cargas de trabajo necesitan más IOPS de lo que puede proporcionar un único disco, debe utilizar una configuración de software RAID de varios discos.</span><span class="sxs-lookup"><span data-stu-id="96236-176">If your workloads require more IOps than a single disk can provide, you need to use a software RAID configuration of multiple disks.</span></span> <span data-ttu-id="96236-177">Como Azure ya realiza la resistencia de disco en el nivel de tejido local, obtendrá el máximo nivel de rendimiento en una configuración de creación de bandas RAID-0.</span><span class="sxs-lookup"><span data-stu-id="96236-177">Because Azure already performs disk resiliency at the local fabric layer, you achieve the highest level of performance from a RAID-0 striping configuration.</span></span>  <span data-ttu-id="96236-178">Aprovisione y cree discos en el entorno de Azure y conéctelos a la VM Linux antes de la creación de particiones, del formato y del montaje de las unidades.</span><span class="sxs-lookup"><span data-stu-id="96236-178">Provision and create disks in the Azure environment and attach them to your Linux VM before partitioning, formatting and mounting the drives.</span></span>  <span data-ttu-id="96236-179">Para más información sobre cómo configurar el software RAID en la máquina virtual Linux en Azure, consulte el documento **[Configuración del software RAID en Linux](configure-raid.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)**.</span><span class="sxs-lookup"><span data-stu-id="96236-179">More details on configuring a software RAID setup on your Linux VM in azure can be found in the **[Configuring Software RAID on Linux](configure-raid.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)** document.</span></span>

## <a name="next-steps"></a><span data-ttu-id="96236-180">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="96236-180">Next Steps</span></span>
<span data-ttu-id="96236-181">Recuerde que, como en todos los debates sobre optimización, debe realizar pruebas antes y después de cada cambio para cuantificar el impacto que tienen dichos cambios.</span><span class="sxs-lookup"><span data-stu-id="96236-181">Remember, as with all optimization discussions, you need to perform tests before and after each change to measure the impact the change has.</span></span>  <span data-ttu-id="96236-182">La optimización es un proceso paso a paso que tiene resultados diferentes en las distintas máquinas en su entorno.</span><span class="sxs-lookup"><span data-stu-id="96236-182">Optimization is a step by step process that has different results across different machines in your environment.</span></span>  <span data-ttu-id="96236-183">Lo que funciona para una configuración puede no funcionar para otras.</span><span class="sxs-lookup"><span data-stu-id="96236-183">What works for one configuration may not work for others.</span></span>

<span data-ttu-id="96236-184">Algunos vínculos útiles a recursos adicionales:</span><span class="sxs-lookup"><span data-stu-id="96236-184">Some useful links to additional resources:</span></span> 

* [<span data-ttu-id="96236-185">Almacenamiento premium: Almacenamiento de alto rendimiento para cargas de trabajo de máquina virtual de Azure</span><span class="sxs-lookup"><span data-stu-id="96236-185">Premium Storage: High-Performance Storage for Azure Virtual Machine Workloads</span></span>](../../storage/common/storage-premium-storage.md)
* [<span data-ttu-id="96236-186">Guía de usuario del Agente de Linux de Azure</span><span class="sxs-lookup"><span data-stu-id="96236-186">Azure Linux Agent User Guide</span></span>](../windows/agent-user-guide.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)
* [<span data-ttu-id="96236-187">Optimización del rendimiento de MySQL en máquinas virtuales de Azure con Linux</span><span class="sxs-lookup"><span data-stu-id="96236-187">Optimizing MySQL Performance on Azure Linux VMs</span></span>](classic/optimize-mysql.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json)
* [<span data-ttu-id="96236-188">Configuración del software RAID en Linux</span><span class="sxs-lookup"><span data-stu-id="96236-188">Configure Software RAID on Linux</span></span>](configure-raid.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)

