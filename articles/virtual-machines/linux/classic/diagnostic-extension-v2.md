---
title: "aaaMonitoring una VM de Linux con una extensión de VM | Documentos de Microsoft"
description: "Obtenga información acerca de cómo toouse Hola extensión de diagnóstico de Linux toomonitor Hola datos de rendimiento y diagnóstico de una VM de Linux en Azure."
services: virtual-machines-linux
author: NingKuang
manager: timlt
editor: 
tags: azure-service-management
ms.assetid: f54a11c5-5a0e-40ff-af6c-e60bd464058b
ms.service: virtual-machines-linux
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-linux
ms.devlang: na
ms.topic: article
ms.date: 12/15/2015
ms.author: Ning
ms.openlocfilehash: cf7bfebca8c0367941f7a975417f60fe2e2dab25
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="use-hello-linux-diagnostic-extension-toomonitor-hello-performance-and-diagnostic-data-of-a-linux-vm"></a><span data-ttu-id="f523a-103">Usar Hola extensión de diagnóstico de Linux toomonitor Hola datos de rendimiento y diagnóstico de una VM de Linux</span><span class="sxs-lookup"><span data-stu-id="f523a-103">Use hello Linux Diagnostic Extension toomonitor hello performance and diagnostic data of a Linux VM</span></span>

<span data-ttu-id="f523a-104">Este documento describe la versión 2.3 de hello extensión de diagnóstico de Linux.</span><span class="sxs-lookup"><span data-stu-id="f523a-104">This document describes version 2.3 of hello Linux Diagnostic Extension.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="f523a-105">Esta versión está en desuso y puede eliminarse en cualquier momento a partir del 30 de junio de 2018.</span><span class="sxs-lookup"><span data-stu-id="f523a-105">This version is deprecated, and it may be unpublished any time after June 30, 2018.</span></span> <span data-ttu-id="f523a-106">La sustituye la versión 3.0.</span><span class="sxs-lookup"><span data-stu-id="f523a-106">It has been replaced by version 3.0.</span></span> <span data-ttu-id="f523a-107">Para obtener más información, vea hello [documentación con la versión 3.0 de hello extensión de diagnóstico de Linux](../diagnostic-extension.md).</span><span class="sxs-lookup"><span data-stu-id="f523a-107">For more information, see hello [documentation for version 3.0 of hello Linux Diagnostic Extension](../diagnostic-extension.md).</span></span>

## <a name="introduction"></a><span data-ttu-id="f523a-108">Introducción</span><span class="sxs-lookup"><span data-stu-id="f523a-108">Introduction</span></span>

<span data-ttu-id="f523a-109">(**Nota**: Hola extensión de diagnóstico de Linux es código abierto en [GitHub](https://github.com/Azure/azure-linux-extensions/tree/master/Diagnostic) donde se publica información más reciente de hello en extensión de Hola por primera vez.</span><span class="sxs-lookup"><span data-stu-id="f523a-109">(**Note**: hello Linux Diagnostic Extension is open-sourced on [GitHub](https://github.com/Azure/azure-linux-extensions/tree/master/Diagnostic) where hello most current information on hello extension is first published.</span></span> <span data-ttu-id="f523a-110">Es recomendable hello toocheck [página de GitHub](https://github.com/Azure/azure-linux-extensions/tree/master/Diagnostic) primer.)</span><span class="sxs-lookup"><span data-stu-id="f523a-110">You might want toocheck hello [GitHub page](https://github.com/Azure/azure-linux-extensions/tree/master/Diagnostic) first.)</span></span>

<span data-ttu-id="f523a-111">Hola extensión de diagnóstico de Linux ayuda a un Hola de monitor de usuario máquinas virtuales de Linux que se ejecutan en Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="f523a-111">hello Linux Diagnostic Extension helps a user monitor hello Linux VMs that are running on Microsoft Azure.</span></span> <span data-ttu-id="f523a-112">Tiene Hola siguientes capacidades:</span><span class="sxs-lookup"><span data-stu-id="f523a-112">It has hello following capabilities:</span></span>

* <span data-ttu-id="f523a-113">Recopila y carga la información de rendimiento del sistema de Hola de tabla de almacenamiento de información del usuario de hello VM de Linux toohello, incluida la información de diagnóstico y registro del sistema.</span><span class="sxs-lookup"><span data-stu-id="f523a-113">Collects and uploads hello system performance information from hello Linux VM toohello user's storage table, including diagnostic and syslog information.</span></span>
* <span data-ttu-id="f523a-114">Permite a los usuarios toocustomize hello las métricas de datos que se recopilan y cargan.</span><span class="sxs-lookup"><span data-stu-id="f523a-114">Enables users toocustomize hello data metrics that will be collected and uploaded.</span></span>
* <span data-ttu-id="f523a-115">Permite que los usuarios tooupload registro especificado archivos tooa almacenamiento designadas tabla.</span><span class="sxs-lookup"><span data-stu-id="f523a-115">Enables users tooupload specified log files tooa designated storage table.</span></span>

<span data-ttu-id="f523a-116">En la versión actual de hello 2.3, datos de hello incluyen:</span><span class="sxs-lookup"><span data-stu-id="f523a-116">In hello current version 2.3, hello data includes:</span></span>

* <span data-ttu-id="f523a-117">Todos los registros de Linux Rsyslog, incluidos los relacionados con el sistema, la seguridad y las aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="f523a-117">All Linux Rsyslog logs, including system, security, and application logs.</span></span>
* <span data-ttu-id="f523a-118">Todos los datos del sistema que se especifica en [sitio de soluciones de plataforma cruzada de System Center de hello](https://scx.codeplex.com/wikipage?title=xplatproviders).</span><span class="sxs-lookup"><span data-stu-id="f523a-118">All system data that's specified on [hello System Center Cross Platform Solutions site](https://scx.codeplex.com/wikipage?title=xplatproviders).</span></span>
* <span data-ttu-id="f523a-119">Archivos de registro especificados por el usuario.</span><span class="sxs-lookup"><span data-stu-id="f523a-119">User-specified log files.</span></span>

<span data-ttu-id="f523a-120">Esta extensión funciona con hello clásico y modelos de implementación del Administrador de recursos.</span><span class="sxs-lookup"><span data-stu-id="f523a-120">This extension works with both hello classic and Resource Manager deployment models.</span></span>

### <a name="current-version-of-hello-extension-and-deprecation-of-old-versions"></a><span data-ttu-id="f523a-121">Versión actual de la extensión de Hola y degradación de las versiones anteriores</span><span class="sxs-lookup"><span data-stu-id="f523a-121">Current version of hello extension and deprecation of old versions</span></span>

<span data-ttu-id="f523a-122">Hola la versión más reciente de extensión de hello es **2.3**, y **cualquier versión anterior (2.0, 2.1 y 2.2) se en desuso y se anuló la publicación al final de este año (2017)**.</span><span class="sxs-lookup"><span data-stu-id="f523a-122">hello latest version of hello extension is **2.3**, and **any old versions (2.0, 2.1, and 2.2) will be deprecated and unpublished by end of this year (2017)**.</span></span> <span data-ttu-id="f523a-123">Si instaló Hola extensión de diagnóstico de Linux con la actualización de versión secundaria automática deshabilitada, se recomienda encarecidamente que desinstalar la extensión de Hola y vuelva a instalarlo con la actualización de versión secundaria automática habilitada.</span><span class="sxs-lookup"><span data-stu-id="f523a-123">If you installed hello Linux Diagnostic extension with automatic minor version upgrade disabled, it's strongly recommended that you uninstall hello extension and reinstall it with automatic minor version upgrade enabled.</span></span> <span data-ttu-id="f523a-124">En clásico (ASM) máquinas virtuales, puede conseguirlo mediante la especificación de '2.*' como versión de Hola si va a instalar la extensión de Hola a través de Azure XPLAT CLI o Powershell.</span><span class="sxs-lookup"><span data-stu-id="f523a-124">On classic (ASM) VMs, you can achieve this by specifying '2.*' as hello version if you are installing hello extension through Azure XPLAT CLI or Powershell.</span></span> <span data-ttu-id="f523a-125">En máquinas virtuales de ARM, puede conseguirlo mediante la inclusión ' "autoUpgradeMinorVersion": true' en la plantilla de implementación de VM de Hola.</span><span class="sxs-lookup"><span data-stu-id="f523a-125">On ARM VMs, you can achieve this by including '"autoUpgradeMinorVersion": true' in hello VM deployment template.</span></span> <span data-ttu-id="f523a-126">Además, cualquier instalación nueva de extensión de hello debe tener versión secundaria de hello automática Actualizar opción activada.</span><span class="sxs-lookup"><span data-stu-id="f523a-126">Also, any new installation of hello extension should have hello auto minor version upgrade option turned on.</span></span>

## <a name="enable-hello-extension"></a><span data-ttu-id="f523a-127">Habilitar la extensión de Hola</span><span class="sxs-lookup"><span data-stu-id="f523a-127">Enable hello extension</span></span>

<span data-ttu-id="f523a-128">Puede habilitar esta extensión mediante hello [portal de Azure](https://portal.azure.com/#), Azure PowerShell o secuencias de comandos de CLI de Azure.</span><span class="sxs-lookup"><span data-stu-id="f523a-128">You can enable this extension by using hello [Azure portal](https://portal.azure.com/#), Azure PowerShell, or Azure CLI scripts.</span></span>

<span data-ttu-id="f523a-129">tooview y configurar el sistema de Hola y los datos de rendimiento directamente de hello portal de Azure, siguen [estos pasos en el blog de Azure de hello](https://azure.microsoft.com/en-us/blog/windows-azure-virtual-machine-monitoring-with-wad-extension/).</span><span class="sxs-lookup"><span data-stu-id="f523a-129">tooview and configure hello system and performance data directly from hello Azure portal, follow [these steps on hello Azure blog](https://azure.microsoft.com/en-us/blog/windows-azure-virtual-machine-monitoring-with-wad-extension/).</span></span>

<span data-ttu-id="f523a-130">En este artículo se centra en cómo tooenable y configurar la extensión de Hola mediante comandos de CLI de Azure.</span><span class="sxs-lookup"><span data-stu-id="f523a-130">This article focuses on how tooenable and configure hello extension by using Azure CLI commands.</span></span> <span data-ttu-id="f523a-131">Esto le permite tooread y ver los datos de hello directamente desde la tabla de almacenamiento de Hola.</span><span class="sxs-lookup"><span data-stu-id="f523a-131">This allows you tooread and view hello data directly from hello storage table.</span></span>

<span data-ttu-id="f523a-132">Tenga en cuenta que los métodos de configuración de Hola que se describen aquí no funcionarán para hello portal de Azure.</span><span class="sxs-lookup"><span data-stu-id="f523a-132">Note that hello configuration methods that are described here won't work for hello Azure portal.</span></span> <span data-ttu-id="f523a-133">tooview y configurar datos de rendimiento del sistema y de saludo directamente desde el portal de Azure hello, extensión de hello debe estar habilitada a través del portal de Hola.</span><span class="sxs-lookup"><span data-stu-id="f523a-133">tooview and configure hello system and performance data directly from hello Azure portal, hello extension must be enabled through hello portal.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="f523a-134">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="f523a-134">Prerequisites</span></span>

* <span data-ttu-id="f523a-135">**Versión 2.0.6 o posterior del agente Linux de Azure**.</span><span class="sxs-lookup"><span data-stu-id="f523a-135">**Azure Linux Agent version 2.0.6 or later**.</span></span>

  <span data-ttu-id="f523a-136">Tenga en cuenta que la mayoría de las imágenes de la galería de máquina virtual Linux de Azure incluyen la versión 2.0.6 o posterior.</span><span class="sxs-lookup"><span data-stu-id="f523a-136">Note that most Azure VM Linux gallery images include version 2.0.6 or later.</span></span> <span data-ttu-id="f523a-137">Puede ejecutar **WAAgent-versión** tooconfirm qué versión está instalada en hello máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="f523a-137">You can run **WAAgent -version** tooconfirm which version is installed on hello VM.</span></span> <span data-ttu-id="f523a-138">Si Hola VM está ejecutando una versión anterior a 2.0.6, puede seguir [estas instrucciones en GitHub](https://github.com/Azure/WALinuxAgent "instrucciones") tooupdate lo.</span><span class="sxs-lookup"><span data-stu-id="f523a-138">If hello VM is running a version that's earlier than 2.0.6, you can follow [these instructions on GitHub](https://github.com/Azure/WALinuxAgent "instructions") tooupdate it.</span></span>
* <span data-ttu-id="f523a-139">**CLI de Azure**</span><span class="sxs-lookup"><span data-stu-id="f523a-139">**Azure CLI**.</span></span> <span data-ttu-id="f523a-140">Siga [esta guía para la instalación de CLI](../../../cli-install-nodejs.md) tooset el entorno de CLI de Azure de hello en su equipo.</span><span class="sxs-lookup"><span data-stu-id="f523a-140">Follow [this guidance for installing CLI](../../../cli-install-nodejs.md) tooset up hello Azure CLI environment on your machine.</span></span> <span data-ttu-id="f523a-141">Después de instalar la CLI de Azure, puede usar hello **azure** línea de comandos desde las interfaz de línea de comandos (intensiva de errores, Terminal o símbolo) tooaccess hello Azure comandos de CLI.</span><span class="sxs-lookup"><span data-stu-id="f523a-141">After Azure CLI is installed, you can use hello **azure** command from your command-line interface (Bash, Terminal, or command prompt) tooaccess hello Azure CLI commands.</span></span> <span data-ttu-id="f523a-142">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="f523a-142">For example:</span></span>

  * <span data-ttu-id="f523a-143">Ejecute **azure vm extension set --help** para obtener información de ayuda detallada.</span><span class="sxs-lookup"><span data-stu-id="f523a-143">Run **azure vm extension set --help** for detailed help information.</span></span>
  * <span data-ttu-id="f523a-144">Ejecutar **inicio de sesión azure** toosign en tooAzure.</span><span class="sxs-lookup"><span data-stu-id="f523a-144">Run **azure login** toosign in tooAzure.</span></span>
  * <span data-ttu-id="f523a-145">Ejecutar **lista vm de azure** toolist todos Hola máquinas virtuales que tengan en Azure.</span><span class="sxs-lookup"><span data-stu-id="f523a-145">Run **azure vm list** toolist all hello virtual machines that you have on Azure.</span></span>
* <span data-ttu-id="f523a-146">Un almacenamiento cuenta toostore Hola de datos.</span><span class="sxs-lookup"><span data-stu-id="f523a-146">A storage account toostore hello data.</span></span> <span data-ttu-id="f523a-147">Necesitará un nombre de cuenta de almacenamiento que creó anteriormente y un almacén de tooyour de datos de access tooupload clave Hola.</span><span class="sxs-lookup"><span data-stu-id="f523a-147">You will need a storage account name that was created previously and an access key tooupload hello data tooyour storage.</span></span>

## <a name="use-hello-azure-cli-command-tooenable-hello-linux-diagnostic-extension"></a><span data-ttu-id="f523a-148">Usar hello Azure CLI comando tooenable hello extensión de diagnóstico de Linux</span><span class="sxs-lookup"><span data-stu-id="f523a-148">Use hello Azure CLI command tooenable hello Linux Diagnostic Extension</span></span>

### <a name="scenario-1-enable-hello-extension-with-hello-default-data-set"></a><span data-ttu-id="f523a-149">Escenario 1.</span><span class="sxs-lookup"><span data-stu-id="f523a-149">Scenario 1.</span></span> <span data-ttu-id="f523a-150">Habilitar la extensión de hello con conjunto de datos predeterminado de Hola</span><span class="sxs-lookup"><span data-stu-id="f523a-150">Enable hello extension with hello default data set</span></span>

<span data-ttu-id="f523a-151">En la versión 2.3 o posterior, los datos de valor predeterminado de Hola que se van a recopilar incluyen:</span><span class="sxs-lookup"><span data-stu-id="f523a-151">In version 2.3 or later, hello default data that will be collected includes:</span></span>

* <span data-ttu-id="f523a-152">Todas la información de Rsyslog, incluidos los registros del sistema, seguridad y aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="f523a-152">All Rsyslog information (including system, security, and application logs).</span></span>  
* <span data-ttu-id="f523a-153">Un conjunto de datos del sistema base.</span><span class="sxs-lookup"><span data-stu-id="f523a-153">A core set of basis system data.</span></span> <span data-ttu-id="f523a-154">Tenga en cuenta que Hola conjunto de datos completo se describe en hello [sitio de soluciones de plataforma cruzada de System Center](https://scx.codeplex.com/wikipage?title=xplatproviders).</span><span class="sxs-lookup"><span data-stu-id="f523a-154">Note that hello full data set is described on hello [System Center Cross Platform Solutions site](https://scx.codeplex.com/wikipage?title=xplatproviders).</span></span>
  <span data-ttu-id="f523a-155">Si desea que tooenable datos adicionales, continúe con los pasos de hello en los escenarios 2 y 3.</span><span class="sxs-lookup"><span data-stu-id="f523a-155">If you want tooenable extra data, continue with hello steps in Scenarios 2 and 3.</span></span>

<span data-ttu-id="f523a-156">Paso 1.</span><span class="sxs-lookup"><span data-stu-id="f523a-156">Step 1.</span></span> <span data-ttu-id="f523a-157">Cree un archivo denominado PrivateConfig.json con hello siguiente contenido:</span><span class="sxs-lookup"><span data-stu-id="f523a-157">Create a file named PrivateConfig.json with hello following content:</span></span>

    {
        "storageAccountName" : "hello storage account tooreceive data",
        "storageAccountKey" : "hello key of hello account"
    }

<span data-ttu-id="f523a-158">Paso 2:</span><span class="sxs-lookup"><span data-stu-id="f523a-158">Step 2.</span></span> <span data-ttu-id="f523a-159">Ejecute **azure vm extension set vm_name LinuxDiagnostic Microsoft.OSTCExtensions 2.* --private-config-path PrivateConfig.json**.</span><span class="sxs-lookup"><span data-stu-id="f523a-159">Run **azure vm extension set vm_name LinuxDiagnostic Microsoft.OSTCExtensions 2.* --private-config-path PrivateConfig.json**.</span></span>

### <a name="scenario-2-customize-hello-performance-monitor-metrics"></a><span data-ttu-id="f523a-160">Escenario 2.</span><span class="sxs-lookup"><span data-stu-id="f523a-160">Scenario 2.</span></span> <span data-ttu-id="f523a-161">Personalizar las métricas de supervisión de rendimiento de Hola</span><span class="sxs-lookup"><span data-stu-id="f523a-161">Customize hello performance monitor metrics</span></span>

<span data-ttu-id="f523a-162">Esta sección describe cómo toocustomize Hola rendimiento y la tabla de datos de diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="f523a-162">This section describes how toocustomize hello performance and diagnostic data table.</span></span>

<span data-ttu-id="f523a-163">Paso 1.</span><span class="sxs-lookup"><span data-stu-id="f523a-163">Step 1.</span></span> <span data-ttu-id="f523a-164">Cree un archivo denominado PrivateConfig.json con contenido de Hola que se describe en el escenario 1.</span><span class="sxs-lookup"><span data-stu-id="f523a-164">Create a file named PrivateConfig.json with hello content that was described in Scenario 1.</span></span> <span data-ttu-id="f523a-165">Cree también un archivo llamado "PublicConfig.json".</span><span class="sxs-lookup"><span data-stu-id="f523a-165">Also create a file named PublicConfig.json.</span></span> <span data-ttu-id="f523a-166">Especificar datos determinado de Hola que desee toocollect.</span><span class="sxs-lookup"><span data-stu-id="f523a-166">Specify hello particular data you want toocollect.</span></span>

<span data-ttu-id="f523a-167">Para todos los proveedores y las variables, hacen referencia a hello [sitio de soluciones de plataforma cruzada de System Center](https://scx.codeplex.com/wikipage?title=xplatproviders).</span><span class="sxs-lookup"><span data-stu-id="f523a-167">For all supported providers and variables, reference hello [System Center Cross Platform Solutions site](https://scx.codeplex.com/wikipage?title=xplatproviders).</span></span> <span data-ttu-id="f523a-168">Puede tener varias consultas y almacenarlas en varias tablas mediante la anexión de secuencia de comandos de más consultas toohello.</span><span class="sxs-lookup"><span data-stu-id="f523a-168">You can have multiple queries and store them in multiple tables by appending more queries toohello script.</span></span>

<span data-ttu-id="f523a-169">De forma predeterminada, siempre se recopila datos Rsyslog Hola.</span><span class="sxs-lookup"><span data-stu-id="f523a-169">By default, hello Rsyslog data is always collected.</span></span>

    {
          "perfCfg":
          [
              {
                  "query" : "SELECT PercentAvailableMemory, AvailableMemory, UsedMemory ,PercentUsedSwap FROM SCX_MemoryStatisticalInformation",
                  "table" : "LinuxMemory"
              }
          ]
    }


<span data-ttu-id="f523a-170">Paso 2:</span><span class="sxs-lookup"><span data-stu-id="f523a-170">Step 2.</span></span> <span data-ttu-id="f523a-171">Ejecute **azure vm extension set vm_name LinuxDiagnostic Microsoft.OSTCExtensions '2.*' --private-config-path PrivateConfig.json --public-config-path PublicConfig.json**.</span><span class="sxs-lookup"><span data-stu-id="f523a-171">Run **azure vm extension set vm_name LinuxDiagnostic Microsoft.OSTCExtensions '2.*' --private-config-path PrivateConfig.json --public-config-path PublicConfig.json**.</span></span>

### <a name="scenario-3-upload-your-own-log-files"></a><span data-ttu-id="f523a-172">Escenario 3.</span><span class="sxs-lookup"><span data-stu-id="f523a-172">Scenario 3.</span></span> <span data-ttu-id="f523a-173">Carga de sus propios archivos de registro</span><span class="sxs-lookup"><span data-stu-id="f523a-173">Upload your own log files</span></span>

<span data-ttu-id="f523a-174">Esta sección describe cómo tooyour cuenta de almacenamiento de los archivos de toocollect y la carga de registro concreto.</span><span class="sxs-lookup"><span data-stu-id="f523a-174">This section describes how toocollect and upload specific log files tooyour storage account.</span></span> <span data-ttu-id="f523a-175">Necesita toospecify ambos Hola ruta de acceso tooyour registro hello y archivo de nombre de tabla Hola donde desea toostore el registro.</span><span class="sxs-lookup"><span data-stu-id="f523a-175">You need toospecify both hello path tooyour log file and hello name of hello table where you want toostore your log.</span></span> <span data-ttu-id="f523a-176">Puede crear varios archivos de registro mediante la adición de varios toohello de script de las entradas de archivo o tabla.</span><span class="sxs-lookup"><span data-stu-id="f523a-176">You can create multiple log files by adding multiple file/table entries toohello script.</span></span>

<span data-ttu-id="f523a-177">Paso 1.</span><span class="sxs-lookup"><span data-stu-id="f523a-177">Step 1.</span></span> <span data-ttu-id="f523a-178">Cree un archivo denominado PrivateConfig.json con contenido de Hola que se describe en el escenario 1.</span><span class="sxs-lookup"><span data-stu-id="f523a-178">Create a file named PrivateConfig.json with hello content that was described in Scenario 1.</span></span> <span data-ttu-id="f523a-179">A continuación, crea otro archivo denominado PublicConfig.json con hello siguiente contenido:</span><span class="sxs-lookup"><span data-stu-id="f523a-179">Then create another file named PublicConfig.json with hello following content:</span></span>

```json
{
    "fileCfg" :
    [
        {
            "file" : "/var/log/mysql.err",
            "table" : "mysqlerr"
            }
    ]
}
```

<span data-ttu-id="f523a-180">Paso 2:</span><span class="sxs-lookup"><span data-stu-id="f523a-180">Step 2.</span></span> <span data-ttu-id="f523a-181">Ejecute `azure vm extension set vm_name LinuxDiagnostic Microsoft.OSTCExtensions '2.*' --private-config-path PrivateConfig.json --public-config-path PublicConfig.json`.</span><span class="sxs-lookup"><span data-stu-id="f523a-181">Run `azure vm extension set vm_name LinuxDiagnostic Microsoft.OSTCExtensions '2.*' --private-config-path PrivateConfig.json --public-config-path PublicConfig.json`.</span></span>

<span data-ttu-id="f523a-182">Tenga en cuenta que con esta configuración en hello extensión versiones anteriores too2.3, todos los registros que se escriban demasiado`/var/log/mysql.err` que puede estar duplicado demasiado`/var/log/syslog` (o `/var/log/messages` según la distribución de Linux de hello) también.</span><span class="sxs-lookup"><span data-stu-id="f523a-182">Note that with this setting on hello extension versions prior too2.3, all logs written too`/var/log/mysql.err` might be duplicated too`/var/log/syslog` (or `/var/log/messages` depending on hello Linux distro) as well.</span></span> <span data-ttu-id="f523a-183">Si desea que tooavoid este duplicado en el registro, puede excluir el registro de `local6` registros de instalación en la configuración de rsyslog.</span><span class="sxs-lookup"><span data-stu-id="f523a-183">If you'd like tooavoid this duplicate logging, you can exclude logging of `local6` facility logs in your rsyslog configuration.</span></span> <span data-ttu-id="f523a-184">Depende de distribución de Linux de hello, pero en un sistema de Ubuntu 14.04 forma Hola archivo toomodify `/etc/rsyslog.d/50-default.conf` y pueden reemplazar línea hello `*.*;auth,authpriv.none -/var/log/syslog` demasiado`*.*;auth,authpriv,local6.none -/var/log/syslog`.</span><span class="sxs-lookup"><span data-stu-id="f523a-184">It depends on hello Linux distro, but on an Ubuntu 14.04 system, hello file toomodify is `/etc/rsyslog.d/50-default.conf` and you can replace hello line `*.*;auth,authpriv.none -/var/log/syslog` too`*.*;auth,authpriv,local6.none -/var/log/syslog`.</span></span> <span data-ttu-id="f523a-185">Este problema se corregirá en la versión de revisión más reciente de Hola de 2.3 (2.3.9007), por lo que si tiene la extensión de hello versión 2.3, no debería ocurrir este problema.</span><span class="sxs-lookup"><span data-stu-id="f523a-185">This issue is fixed in hello latest hotfix release of 2.3 (2.3.9007), so if you have hello extension version 2.3, this issue should not happen.</span></span> <span data-ttu-id="f523a-186">Si todavía existe incluso después de reiniciar la máquina virtual, póngase en contacto con nosotros y Ayúdenos a averiguar por qué no se instala automáticamente la versión más reciente de la revisión de Hola.</span><span class="sxs-lookup"><span data-stu-id="f523a-186">If it still does even after restarting your VM, please contact us and help us troubleshoot why hello latest hotfix version is not installed automatically.</span></span>

### <a name="scenario-4-stop-hello-extension-from-collecting-any-logs"></a><span data-ttu-id="f523a-187">Escenario 4.</span><span class="sxs-lookup"><span data-stu-id="f523a-187">Scenario 4.</span></span> <span data-ttu-id="f523a-188">Detener la extensión de Hola de recopilación de registros</span><span class="sxs-lookup"><span data-stu-id="f523a-188">Stop hello extension from collecting any logs</span></span>

<span data-ttu-id="f523a-189">Esta sección describe cómo extensión de hello toostop recopilación de registros.</span><span class="sxs-lookup"><span data-stu-id="f523a-189">This section describes how toostop hello extension from collecting logs.</span></span> <span data-ttu-id="f523a-190">Tenga en cuenta que el proceso de agente de supervisión de Hola estará todavía activa y en funcionamiento incluso con este cambio de configuración.</span><span class="sxs-lookup"><span data-stu-id="f523a-190">Note that hello monitoring agent process will be still up and running even with this reconfiguration.</span></span> <span data-ttu-id="f523a-191">Si desea que hello toostop por completo, el proceso de agente de supervisión, puede hacerlo deshabilitando extensión Hola.</span><span class="sxs-lookup"><span data-stu-id="f523a-191">If you'd like toostop hello monitoring agent process completely, you can do so by disabling hello extension.</span></span> <span data-ttu-id="f523a-192">Hola comando toodisable Hola extensión es `azure vm extension set --disable <vm_name> LinuxDiagnostic Microsoft.OSTCExtensions '2.*'`.</span><span class="sxs-lookup"><span data-stu-id="f523a-192">hello command toodisable hello extension is `azure vm extension set --disable <vm_name> LinuxDiagnostic Microsoft.OSTCExtensions '2.*'`.</span></span>

<span data-ttu-id="f523a-193">Paso 1.</span><span class="sxs-lookup"><span data-stu-id="f523a-193">Step 1.</span></span> <span data-ttu-id="f523a-194">Cree un archivo denominado PrivateConfig.json con contenido de Hola que se describe en el escenario 1.</span><span class="sxs-lookup"><span data-stu-id="f523a-194">Create a file named PrivateConfig.json with hello content that was described in Scenario 1.</span></span> <span data-ttu-id="f523a-195">Cree otro archivo denominado PublicConfig.json con hello siguiente contenido:</span><span class="sxs-lookup"><span data-stu-id="f523a-195">Create another file named PublicConfig.json with hello following content:</span></span>

    {
        "perfCfg" : [],
        "enableSyslog" : "false"
    }


<span data-ttu-id="f523a-196">Paso 2:</span><span class="sxs-lookup"><span data-stu-id="f523a-196">Step 2.</span></span> <span data-ttu-id="f523a-197">Ejecute **azure vm extension set vm_name LinuxDiagnostic Microsoft.OSTCExtensions '2.*' --private-config-path PrivateConfig.json --public-config-path PublicConfig.json**.</span><span class="sxs-lookup"><span data-stu-id="f523a-197">Run **azure vm extension set vm_name LinuxDiagnostic Microsoft.OSTCExtensions '2.*' --private-config-path PrivateConfig.json --public-config-path PublicConfig.json**.</span></span>

## <a name="review-your-data"></a><span data-ttu-id="f523a-198">Revisión de los datos</span><span class="sxs-lookup"><span data-stu-id="f523a-198">Review your data</span></span>

<span data-ttu-id="f523a-199">Hola datos de rendimiento y diagnóstico se almacenan en una tabla de almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="f523a-199">hello performance and diagnostic data are stored in an Azure Storage table.</span></span> <span data-ttu-id="f523a-200">Revisión [cómo toouse almacenamiento de tablas de Azure de Ruby](../../../cosmos-db/table-storage-how-to-use-ruby.md) toolearn cómo tabla tooaccess datos de hello en el almacenamiento de hello mediante secuencias de comandos de CLI de Azure.</span><span class="sxs-lookup"><span data-stu-id="f523a-200">Review [How toouse Azure Table Storage from Ruby](../../../cosmos-db/table-storage-how-to-use-ruby.md) toolearn how tooaccess hello data in hello storage table by using Azure CLI scripts.</span></span>

<span data-ttu-id="f523a-201">Además, puede usar después de datos de saludo de tooaccess de herramientas de interfaz de usuario:</span><span class="sxs-lookup"><span data-stu-id="f523a-201">In addition, you can use following UI tools tooaccess hello data:</span></span>

1. <span data-ttu-id="f523a-202">Explorador de servidores de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="f523a-202">Visual Studio Server Explorer.</span></span> <span data-ttu-id="f523a-203">Vaya tooyour cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="f523a-203">Go tooyour storage account.</span></span> <span data-ttu-id="f523a-204">Después de hello VM se ejecuta durante aproximadamente cinco minutos, podrá ver tablas predeterminadas de hello cuatro: "LinuxCpu", "LinuxDisk", "LinuxMemory" y "Linuxsyslog".</span><span class="sxs-lookup"><span data-stu-id="f523a-204">After hello VM runs for about five minutes, you'll see hello four default tables: “LinuxCpu”, ”LinuxDisk”, ”LinuxMemory”, and ”Linuxsyslog”.</span></span> <span data-ttu-id="f523a-205">Haga doble clic en datos de saludo tabla nombres tooview Hola.</span><span class="sxs-lookup"><span data-stu-id="f523a-205">Double-click hello table names tooview hello data.</span></span>
1. <span data-ttu-id="f523a-206">[Explorador de almacenamiento de Azure](https://azurestorageexplorer.codeplex.com/ "Explorador de almacenamiento de Azure").</span><span class="sxs-lookup"><span data-stu-id="f523a-206">[Azure Storage Explorer](https://azurestorageexplorer.codeplex.com/ "Azure Storage Explorer").</span></span>

![imagen](./media/diagnostic-extension/no1.png)

<span data-ttu-id="f523a-208">Si ha habilitado la fileCfg o perfCfg (como se describe en los escenarios 2 y 3), puede usar datos de no predeterminadas de tooview de explorador de servidores de Visual Studio y el Explorador de almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="f523a-208">If you've enabled fileCfg or perfCfg (as described in Scenarios 2 and 3), you can use Visual Studio Server Explorer and Azure Storage Explorer tooview non-default data.</span></span>

## <a name="known-issues"></a><span data-ttu-id="f523a-209">Problemas conocidos</span><span class="sxs-lookup"><span data-stu-id="f523a-209">Known issues</span></span>

* <span data-ttu-id="f523a-210">Hola Rsyslog información y el archivo de registro especificado por el cliente solo puede obtenerse mediante el scripting.</span><span class="sxs-lookup"><span data-stu-id="f523a-210">hello Rsyslog information and customer-specified log file can only be accessed via scripting.</span></span>
