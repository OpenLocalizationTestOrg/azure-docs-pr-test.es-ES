---
title: "aaaTroubleshoot clásico de implementación de VM de Linux | Documentos de Microsoft"
description: "Solución de problemas de implementación clásica al crear una nueva máquina virtual de Linux en Azure"
services: virtual-machines-linux
documentationcenter: 
author: JiangChen79
manager: felixwu
editor: 
tags: top-support-issue
ms.assetid: c8a963fa-6b2a-4c7a-a1f4-7793adb02b19
ms.service: virtual-machines-linux
ms.workload: na
ms.tgt_pltfrm: vm-linux
ms.devlang: na
ms.topic: article
ms.date: 09/06/2016
ms.author: cjiang
ms.openlocfilehash: a642bfd9a543cd6d2104b03fe04193d9352ccae1
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="troubleshoot-classic-deployment-issues-with-creating-a-new-linux-virtual-machine-in-azure"></a><span data-ttu-id="543ea-103">Solución de problemas de la implementación clásica con la creación de una máquina virtual de Linux en Azure</span><span class="sxs-lookup"><span data-stu-id="543ea-103">Troubleshoot classic deployment issues with creating a new Linux virtual machine in Azure</span></span>
[!INCLUDE [virtual-machines-troubleshoot-deployment-new-vm-selectors](../../../../includes/virtual-machines-linux-troubleshoot-deployment-new-vm-selectors-include.md)]

[!INCLUDE [virtual-machines-troubleshoot-deployment-new-vm-opening](../../../../includes/virtual-machines-troubleshoot-deployment-new-vm-opening-include.md)]

> [!IMPORTANT] 
> <span data-ttu-id="543ea-104">Azure tiene dos modelos de implementación diferentes para crear recursos y trabajar con ellos: [Resource Manager y el clásico](../../../resource-manager-deployment-model.md).</span><span class="sxs-lookup"><span data-stu-id="543ea-104">Azure has two different deployment models for creating and working with resources: [Resource Manager and Classic](../../../resource-manager-deployment-model.md).</span></span> <span data-ttu-id="543ea-105">Este artículo tratan con modelo de implementación de hello clásico.</span><span class="sxs-lookup"><span data-stu-id="543ea-105">This article covers using hello Classic deployment model.</span></span> <span data-ttu-id="543ea-106">Microsoft recomienda que más nuevas implementaciones de usar el modelo del Administrador de recursos de Hola.</span><span class="sxs-lookup"><span data-stu-id="543ea-106">Microsoft recommends that most new deployments use hello Resource Manager model.</span></span> <span data-ttu-id="543ea-107">Para la versión del Administrador de recursos de Hola de este artículo, consulte [aquí](../troubleshoot-deployment-new-vm.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="543ea-107">For hello Resource Manager version of this article, see [here](../troubleshoot-deployment-new-vm.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>

[!INCLUDE [support-disclaimer](../../../../includes/support-disclaimer.md)]

## <a name="collect-audit-logs"></a><span data-ttu-id="543ea-108">Recopilación de registros de auditoría</span><span class="sxs-lookup"><span data-stu-id="543ea-108">Collect audit logs</span></span>
<span data-ttu-id="543ea-109">toostart solución de problemas, auditoría de hello recopilar registra el error de Hola de tooidentify asociada con el problema de Hola.</span><span class="sxs-lookup"><span data-stu-id="543ea-109">toostart troubleshooting, collect hello audit logs tooidentify hello error associated with hello issue.</span></span>

<span data-ttu-id="543ea-110">Hola portal de Azure, haga clic en **examinar** > **máquinas virtuales** > *la máquina virtual de Windows*  >   **Configuración de** > **registros de auditoría**.</span><span class="sxs-lookup"><span data-stu-id="543ea-110">In hello Azure portal, click **Browse** > **Virtual machines** > *your Windows virtual machine* > **Settings** > **Audit logs**.</span></span>

[!INCLUDE [virtual-machines-troubleshoot-deployment-new-vm-issue1](../../../../includes/virtual-machines-troubleshoot-deployment-new-vm-issue1-include.md)]

[!INCLUDE [virtual-machines-linux-troubleshoot-deployment-new-vm-table](../../../../includes/virtual-machines-linux-troubleshoot-deployment-new-vm-table.md)]

<span data-ttu-id="543ea-111">**Y:** si Hola SO es Linux generalizado y se ha cargado ni capturado con hello generalizado configuración, no habrá errores.</span><span class="sxs-lookup"><span data-stu-id="543ea-111">**Y:** If hello OS is Linux generalized, and it is uploaded and/or captured with hello generalized setting, then there won’t be any errors.</span></span> <span data-ttu-id="543ea-112">De forma similar, si Hola SO está especializado de Linux, y se ha cargado ni capturado con hello especializados configuración, a continuación, no habrá los errores.</span><span class="sxs-lookup"><span data-stu-id="543ea-112">Similarly, if hello OS is Linux specialized, and it is uploaded and/or captured with hello specialized setting, then there won’t be any errors.</span></span>

<span data-ttu-id="543ea-113">**Errores de carga:**</span><span class="sxs-lookup"><span data-stu-id="543ea-113">**Upload Errors:**</span></span>

<span data-ttu-id="543ea-114">**N<sup>1</sup>:** si Hola SO es Linux generalizado, y se carga como especializado, obtendrá un error de tiempo de espera de aprovisionamiento porque Hola VM está atascada en hello fase de aprovisionamiento.</span><span class="sxs-lookup"><span data-stu-id="543ea-114">**N<sup>1</sup>:** If hello OS is Linux generalized, and it is uploaded as specialized, you will get a provisioning timeout error because hello VM is stuck at hello provisioning stage.</span></span>

<span data-ttu-id="543ea-115">**N<sup>2</sup>:** si hello SO es especializado de Linux y cargarlo como generalizado, obtendrá un error de aprovisionamiento porque hello nueva máquina virtual se está ejecutando con el nombre de equipo original de hello, username y password.</span><span class="sxs-lookup"><span data-stu-id="543ea-115">**N<sup>2</sup>:** If hello OS is Linux specialized, and it is uploaded as generalized, you will get a provisioning failure error because hello new VM is running with hello original computer name, username and password.</span></span>

<span data-ttu-id="543ea-116">**Resolución:**</span><span class="sxs-lookup"><span data-stu-id="543ea-116">**Resolution:**</span></span>

<span data-ttu-id="543ea-117">tooresolve ambos estos errores, cargar Hola VHD original, disponible en local, con Hola misma configuración que para hello OS (generalizado/especializado).</span><span class="sxs-lookup"><span data-stu-id="543ea-117">tooresolve both these errors, upload hello original VHD, available on-prem, with hello same setting as that for hello OS (generalized/specialized).</span></span> <span data-ttu-id="543ea-118">tooupload como generalizado, recuerde toorun-desaprovisionar primero.</span><span class="sxs-lookup"><span data-stu-id="543ea-118">tooupload as generalized, remember toorun -deprovision first.</span></span> <span data-ttu-id="543ea-119">Vea [crear y cargar un disco duro Virtual que Hola Contains sistema operativo Linux](create-upload-vhd.md) para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="543ea-119">See [Create and Upload a Virtual Hard Disk that Contains hello Linux Operating System](create-upload-vhd.md) for more information.</span></span>

<span data-ttu-id="543ea-120">**Errores de captura:**</span><span class="sxs-lookup"><span data-stu-id="543ea-120">**Capture Errors:**</span></span>

<span data-ttu-id="543ea-121">**N<sup>3</sup>:** si Hola SO es Linux generalizado, y se capturan como especializado, obtendrá un error de tiempo de espera de aprovisionamiento porque Hola original máquina virtual no se puede usar tal y como está marcado como generalizado.</span><span class="sxs-lookup"><span data-stu-id="543ea-121">**N<sup>3</sup>:** If hello OS is Linux generalized, and it is captured as specialized, you will get a provisioning timeout error because hello original VM is not usable as it is marked as generalized.</span></span>

<span data-ttu-id="543ea-122">**N<sup>4</sup>:** si hello SO es especializado de Linux, y se capturan como generalizado, obtendrá un error de aprovisionamiento porque hello nueva máquina virtual se está ejecutando con el nombre de equipo original de hello, username y password.</span><span class="sxs-lookup"><span data-stu-id="543ea-122">**N<sup>4</sup>:** If hello OS is Linux specialized, and it is captured as generalized, you will get a provisioning failure error because hello new VM is running with hello original computer name, username and password.</span></span> <span data-ttu-id="543ea-123">Además, Hola original VM no es puede usar porque está marcado como especializadas.</span><span class="sxs-lookup"><span data-stu-id="543ea-123">Also, hello original VM is not usable because it is marked as specialized.</span></span>

<span data-ttu-id="543ea-124">**Resolución:**</span><span class="sxs-lookup"><span data-stu-id="543ea-124">**Resolution:**</span></span>

<span data-ttu-id="543ea-125">tooresolve ambos estos errores, eliminar la imagen actual de Hola desde el portal de hello, y [capturar de hello VHD actual](capture-image.md) con Hola la misma configuración que para hello OS (generalizado/especializado).</span><span class="sxs-lookup"><span data-stu-id="543ea-125">tooresolve both these errors, delete hello current image from hello portal, and [recapture it from hello current VHDs](capture-image.md) with hello same setting as that for hello OS (generalized/specialized).</span></span>

## <a name="issue-custom-gallery-marketplace-image-allocation-failure"></a><span data-ttu-id="543ea-126">Problema: Imagen de galería/marketplace/personalizada; error de asignación</span><span class="sxs-lookup"><span data-stu-id="543ea-126">Issue: Custom/ gallery/ marketplace image; allocation failure</span></span>
<span data-ttu-id="543ea-127">Este error se produce en situaciones cuando se envía una solicitud de máquina virtual nueva de hello tooa clúster que no tengan solicitud de hello tooaccommodate de espacio libre disponible, o no es compatible con el tamaño de la máquina virtual de Hola que se solicita.</span><span class="sxs-lookup"><span data-stu-id="543ea-127">This error arises in situations when hello new VM request is sent tooa cluster that either does not have available free space tooaccommodate hello request, or cannot support hello VM size being requested.</span></span> <span data-ttu-id="543ea-128">No es posible toomix distintas series de máquinas virtuales en hello mismo servicio en la nube.</span><span class="sxs-lookup"><span data-stu-id="543ea-128">It is not possible toomix different series of VMs in hello same cloud service.</span></span> <span data-ttu-id="543ea-129">Por lo que si desea toocreate una nueva máquina virtual de un tamaño distinto de lo que puede admitir el servicio en la nube, solicitud de proceso de Hola se producirá un error.</span><span class="sxs-lookup"><span data-stu-id="543ea-129">So if you want toocreate a new VM of a different size than what your cloud service can support, hello compute request will fail.</span></span>

<span data-ttu-id="543ea-130">Dependiendo de las restricciones de hello del servicio de nube de hello usar toocreate Hola nueva máquina virtual, podría encontrar un error provocado por una de dos situaciones.</span><span class="sxs-lookup"><span data-stu-id="543ea-130">Depending on hello constraints of hello cloud service you use toocreate hello new VM, you might encounter an error caused by one of two situations.</span></span>

<span data-ttu-id="543ea-131">**Causa 1:** servicio en la nube hello es tooa anclados específico, o en clúster es grupo de afinidad de tooan vinculado y por lo tanto, anclado tooa clúster concreto por cuestiones de diseño.</span><span class="sxs-lookup"><span data-stu-id="543ea-131">**Cause 1:** hello cloud service is pinned tooa specific cluster, or it is linked tooan affinity group, and hence pinned tooa specific cluster by design.</span></span> <span data-ttu-id="543ea-132">Por lo que solicita el nuevo recurso de proceso en ese grupo de afinidad se prueban en hello mismo clúster donde se hospedan los recursos existentes de Hola.</span><span class="sxs-lookup"><span data-stu-id="543ea-132">So new compute resource requests in that affinity group are tried in hello same cluster where hello existing resources are hosted.</span></span> <span data-ttu-id="543ea-133">Sin embargo, hello mismo clúster puede no Hola de soporte técnico de tamaño de máquina virtual solicitado o tiene suficiente espacio disponible, lo que produce un error de asignación.</span><span class="sxs-lookup"><span data-stu-id="543ea-133">However, hello same cluster may either not support hello requested VM size or have insufficient available space, resulting in an allocation error.</span></span> <span data-ttu-id="543ea-134">Esto es cierto si Hola nuevos recursos se crean a través de un nuevo servicio de nube o un servicio de nube existente.</span><span class="sxs-lookup"><span data-stu-id="543ea-134">This is true whether hello new resources are created through a new cloud service or through an existing cloud service.</span></span>

<span data-ttu-id="543ea-135">**Resolución 1:**</span><span class="sxs-lookup"><span data-stu-id="543ea-135">**Resolution 1:**</span></span>

* <span data-ttu-id="543ea-136">Cree un nuevo servicio en la nube y asócielo a una región o a una red virtual basada en regiones.</span><span class="sxs-lookup"><span data-stu-id="543ea-136">Create a new cloud service and associate it with either a region or a region-based virtual network.</span></span>
* <span data-ttu-id="543ea-137">Crear una nueva máquina virtual en el servicio de nube nuevo Hola.</span><span class="sxs-lookup"><span data-stu-id="543ea-137">Create a new VM in hello new cloud service.</span></span>
  <span data-ttu-id="543ea-138">Si se produce un error al tratar de toocreate un nuevo servicio de nube, vuelva a intentarlo más tarde o cambiar región Hola Hola servicio de nube.</span><span class="sxs-lookup"><span data-stu-id="543ea-138">If you get an error when trying toocreate a new cloud service, either retry at a later time or change hello region for hello cloud service.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="543ea-139">Si se tratara de toocreate una nueva máquina virtual en un servicio de nube existente pero no se pudo y tenía toocreate un nuevo servicio de nube para la nueva máquina virtual, puede elegir tooconsolidate todas las máquinas virtuales en hello mismo servicio en la nube.</span><span class="sxs-lookup"><span data-stu-id="543ea-139">If you were trying toocreate a new VM in an existing cloud service but couldn’t, and had toocreate a new cloud service for your new VM, you can choose tooconsolidate all your VMs in hello same cloud service.</span></span> <span data-ttu-id="543ea-140">por lo tanto, toodo eliminar máquinas virtuales de Hola Hola existente del servicio en nube y capturarlos desde sus discos Hola nuevo servicio en nube.</span><span class="sxs-lookup"><span data-stu-id="543ea-140">toodo so, delete hello VMs in hello existing cloud service, and recapture them from their disks in hello new cloud service.</span></span> <span data-ttu-id="543ea-141">Sin embargo, es importante tooremember que el servicio de nube nuevo de Hola tendrá un nuevo nombre y la dirección VIP, por lo que deberá tooupdate para todas las dependencias de Hola que actualmente utilizan esta información para servicio de nube existente de Hola.</span><span class="sxs-lookup"><span data-stu-id="543ea-141">However, it is important tooremember that hello new cloud service will have a new name and VIP, so you will need tooupdate these for all hello dependencies that currently use this information for hello existing cloud service.</span></span>
> 
> 

<span data-ttu-id="543ea-142">**Causa 2:** servicio de nube de hello está asociado a una red virtual que esté vinculado tooan grupo de afinidad, por lo que es tooa anclados clúster concreto por cuestiones de diseño.</span><span class="sxs-lookup"><span data-stu-id="543ea-142">**Cause 2:** hello cloud service is associated with a virtual network that is linked tooan affinity group, so it is pinned tooa specific cluster by design.</span></span> <span data-ttu-id="543ea-143">Todas las nuevas solicitudes de recursos de proceso en ese grupo de afinidad, por tanto, se prueban en hello mismo clúster donde se hospedan los recursos existentes de Hola.</span><span class="sxs-lookup"><span data-stu-id="543ea-143">All new compute resource requests in that affinity group are therefore tried in hello same cluster where hello existing resources are hosted.</span></span> <span data-ttu-id="543ea-144">Sin embargo, hello mismo clúster puede no Hola de soporte técnico de tamaño de máquina virtual solicitado o tiene suficiente espacio disponible, lo que produce un error de asignación.</span><span class="sxs-lookup"><span data-stu-id="543ea-144">However, hello same cluster may either not support hello requested VM size or have insufficient available space, resulting in an allocation error.</span></span> <span data-ttu-id="543ea-145">Esto es cierto si Hola nuevos recursos se crean a través de un nuevo servicio de nube o un servicio de nube existente.</span><span class="sxs-lookup"><span data-stu-id="543ea-145">This is true whether hello new resources are created through a new cloud service or through an existing cloud service.</span></span>

<span data-ttu-id="543ea-146">**Resolución 2:**</span><span class="sxs-lookup"><span data-stu-id="543ea-146">**Resolution 2:**</span></span>

* <span data-ttu-id="543ea-147">Cree una nueva red virtual regional.</span><span class="sxs-lookup"><span data-stu-id="543ea-147">Create a new regional virtual network.</span></span>
* <span data-ttu-id="543ea-148">Crear nueva máquina virtual en la nueva red virtual de Hola de Hola.</span><span class="sxs-lookup"><span data-stu-id="543ea-148">Create hello new VM in hello new virtual network.</span></span>
* <span data-ttu-id="543ea-149">[Conectar su red virtual existente](https://azure.microsoft.com/blog/vnet-to-vnet-connecting-virtual-networks-in-azure-across-different-regions/) toohello nueva red virtual.</span><span class="sxs-lookup"><span data-stu-id="543ea-149">[Connect your existing virtual network](https://azure.microsoft.com/blog/vnet-to-vnet-connecting-virtual-networks-in-azure-across-different-regions/) toohello new virtual network.</span></span> <span data-ttu-id="543ea-150">Consulte más información sobre las [redes virtuales regionales](https://azure.microsoft.com/blog/2014/05/14/regional-virtual-networks/).</span><span class="sxs-lookup"><span data-stu-id="543ea-150">See more about [regional virtual networks](https://azure.microsoft.com/blog/2014/05/14/regional-virtual-networks/).</span></span> <span data-ttu-id="543ea-151">Como alternativa, puede [migrar la red virtual de red virtual basado en el grupo de afinidad tooa regional](https://azure.microsoft.com/blog/2014/11/26/migrating-existing-services-to-regional-scope/)y, a continuación, crear Hola nueva máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="543ea-151">Alternatively, you can [migrate your affinity-group-based virtual network tooa regional virtual network](https://azure.microsoft.com/blog/2014/11/26/migrating-existing-services-to-regional-scope/), and then create hello new VM.</span></span>

## <a name="next-steps"></a><span data-ttu-id="543ea-152">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="543ea-152">Next steps</span></span>
<span data-ttu-id="543ea-153">Si tiene problemas al iniciar una máquina virtual Linux detenida o al cambiar el tamaño de una máquina virtual Linux existente en Azure, consulte [Solución de problemas de la implementación clásica con el reinicio o el cambio de tamaño de una máquina virtual con Linux existente en Azure](restart-resize-error-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="543ea-153">If you encounter issues when you start a stopped Linux VM or resize an existing Linux VM in Azure, see [Troubleshoot classic deployment issues with restarting or resizing an existing Linux Virtual Machine in Azure](restart-resize-error-troubleshooting.md).</span></span>

