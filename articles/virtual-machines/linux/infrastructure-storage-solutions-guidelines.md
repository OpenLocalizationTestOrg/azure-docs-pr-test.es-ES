---
title: "soluciones de aaaStorage para máquinas virtuales de Linux en Azure | Documentos de Microsoft"
description: "Obtenga información acerca de hello diseño e implementación de las instrucciones clave para implementar soluciones de almacenamiento en los servicios de infraestructura de Azure."
documentationcenter: 
services: virtual-machines-linux
author: iainfoulds
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: 3c368f07-189b-4520-bbe2-f4080253bbf2
ms.service: virtual-machines-linux
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-linux
ms.devlang: na
ms.topic: article
ms.date: 06/26/2017
ms.author: iainfou
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: d270c4786d7b55b18b011aa345063b6816a80876
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="azure-storage-infrastructure-guidelines-for-linux-vms"></a><span data-ttu-id="010c8-103">Directrices de infraestructura de Azure Storage para máquinas virtuales Linux</span><span class="sxs-lookup"><span data-stu-id="010c8-103">Azure storage infrastructure guidelines for Linux VMs</span></span>

[!INCLUDE [virtual-machines-linux-infrastructure-guidelines-intro](../../../includes/virtual-machines-linux-infrastructure-guidelines-intro.md)]

<span data-ttu-id="010c8-104">Este artículo se centra en entender las necesidades de almacenamiento y las consideraciones de diseño para conseguir un rendimiento óptimo de la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="010c8-104">This article focuses on understanding storage needs and design considerations for achieving optimum virtual machine (VM) performance.</span></span>

## <a name="implementation-guidelines-for-storage"></a><span data-ttu-id="010c8-105">Directrices de implementación para el almacenamiento</span><span class="sxs-lookup"><span data-stu-id="010c8-105">Implementation guidelines for storage</span></span>
<span data-ttu-id="010c8-106">Decisiones:</span><span class="sxs-lookup"><span data-stu-id="010c8-106">Decisions:</span></span>

* <span data-ttu-id="010c8-107">¿Vas toouse Azure administra discos o discos no administrados?</span><span class="sxs-lookup"><span data-stu-id="010c8-107">Are you going toouse Azure Managed Disks or unmanaged disks?</span></span>
* <span data-ttu-id="010c8-108">¿Necesita almacenamiento Standard o Premium de toouse para la carga de trabajo?</span><span class="sxs-lookup"><span data-stu-id="010c8-108">Do you need toouse Standard or Premium storage for your workload?</span></span>
* <span data-ttu-id="010c8-109">¿Necesita discos de toocreate de creación de bandas en disco más de 4TB?</span><span class="sxs-lookup"><span data-stu-id="010c8-109">Do you need disk striping toocreate disks larger than 4TB?</span></span>
* <span data-ttu-id="010c8-110">¿Necesita rendimiento de E/S óptimo de tooachieve de creación de bandas de disco para la carga de trabajo?</span><span class="sxs-lookup"><span data-stu-id="010c8-110">Do you need disk striping tooachieve optimal I/O performance for your workload?</span></span>
* <span data-ttu-id="010c8-111">El conjunto de cuentas de almacenamiento ¿necesita toohost su infraestructura o la carga de trabajo de TI?</span><span class="sxs-lookup"><span data-stu-id="010c8-111">What set of storage accounts do you need toohost your IT workload or infrastructure?</span></span>

<span data-ttu-id="010c8-112">Tareas:</span><span class="sxs-lookup"><span data-stu-id="010c8-112">Tasks:</span></span>

* <span data-ttu-id="010c8-113">Revise las demandas de E/S de las aplicaciones de hello va a implementar y planear el número adecuado de Hola y el tipo de cuentas de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="010c8-113">Review I/O demands of hello applications you are deploying and plan hello appropriate number and type of storage accounts.</span></span>
* <span data-ttu-id="010c8-114">Crear conjunto de Hola de cuentas de almacenamiento mediante la convención de nomenclatura.</span><span class="sxs-lookup"><span data-stu-id="010c8-114">Create hello set of storage accounts using your naming convention.</span></span> <span data-ttu-id="010c8-115">Puede usar el portal de Azure CLI u Hola Hola.</span><span class="sxs-lookup"><span data-stu-id="010c8-115">You can use hello Azure CLI or hello portal.</span></span>

## <a name="storage"></a><span data-ttu-id="010c8-116">Storage</span><span class="sxs-lookup"><span data-stu-id="010c8-116">Storage</span></span>
<span data-ttu-id="010c8-117">Almacenamiento de Azure es una parte clave del proceso de implementación y administración de aplicaciones y máquinas virtuales.</span><span class="sxs-lookup"><span data-stu-id="010c8-117">Azure Storage is a key part of deploying and managing virtual machines (VMs) and applications.</span></span> <span data-ttu-id="010c8-118">Almacenamiento de Azure proporciona servicios para almacenar los datos de archivo, los datos no estructurados y mensajes, y también es parte de la infraestructura de hello admitir máquinas virtuales.</span><span class="sxs-lookup"><span data-stu-id="010c8-118">Azure Storage provides services for storing file data, unstructured data, and messages, and it is also part of hello infrastructure supporting VMs.</span></span>

<span data-ttu-id="010c8-119">[Azure discos administrados](../../storage/storage-managed-disks-overview.md) controla el almacenamiento de entre bastidores de Hola.</span><span class="sxs-lookup"><span data-stu-id="010c8-119">[Azure Managed Disks](../../storage/storage-managed-disks-overview.md) handles storage for you behind hello scenes.</span></span> <span data-ttu-id="010c8-120">Con los discos no administrados, crea cuentas de almacenamiento toohold Hola discos (archivos VHD) para las máquinas virtuales de Azure.</span><span class="sxs-lookup"><span data-stu-id="010c8-120">With unmanaged disks, you create storage accounts toohold hello disks (VHD files) for your Azure VMs.</span></span> <span data-ttu-id="010c8-121">Cuando el escalado, debe asegurarse de que crea cuentas de almacenamiento adicionales, por lo que no superan el límite IOPS de hello para el almacenamiento con cualquiera de los discos.</span><span class="sxs-lookup"><span data-stu-id="010c8-121">When scaling up, you must make sure you created additional storage accounts so you don’t exceed hello IOPS limit for storage with any of your disks.</span></span> <span data-ttu-id="010c8-122">Con discos administrados controlar el almacenamiento, ya no está limitado por hello límites de la cuenta de almacenamiento (por ejemplo, 20.000 IOPS / cuenta).</span><span class="sxs-lookup"><span data-stu-id="010c8-122">With Managed Disks handling storage, you are no longer limited by hello storage account limits (such as 20,000 IOPS / account).</span></span> <span data-ttu-id="010c8-123">También ya no tiene toocopy sus cuentas de almacenamiento de toomultiple imágenes personalizadas (archivos VHD).</span><span class="sxs-lookup"><span data-stu-id="010c8-123">You also no longer have toocopy your custom images (VHD files) toomultiple storage accounts.</span></span> <span data-ttu-id="010c8-124">También puede administrarlos en una ubicación central: una cuenta de almacenamiento por cada región de Azure – y usarlos toocreate cientos de máquinas virtuales en una suscripción.</span><span class="sxs-lookup"><span data-stu-id="010c8-124">You can manage them in a central location – one storage account per Azure region – and use them toocreate hundreds of VMs in a subscription.</span></span> <span data-ttu-id="010c8-125">Se recomienda utilizar Managed Disks para las nuevas implementaciones.</span><span class="sxs-lookup"><span data-stu-id="010c8-125">We recommend you use Managed Disks for new deployments.</span></span>

<span data-ttu-id="010c8-126">Existen dos tipos de cuentas de almacenamiento disponibles para la compatibilidad con máquinas virtuales.</span><span class="sxs-lookup"><span data-stu-id="010c8-126">There are two types of storage accounts available for supporting VMs:</span></span>

* <span data-ttu-id="010c8-127">Conceda a las cuentas de almacenamiento estándar que tener acceso al almacenamiento de tooblob (que se usa para almacenar los discos de máquina virtual de Azure), la tabla de almacenamiento, almacenamiento de cola y almacenamiento de archivos.</span><span class="sxs-lookup"><span data-stu-id="010c8-127">Standard storage accounts give you access tooblob storage (used for storing Azure VM disks), table storage, queue storage, and file storage.</span></span>
* <span data-ttu-id="010c8-128">[Premium Storage](../../storage/storage-premium-storage.md) ofrecen compatibilidad con discos de alto rendimiento y baja latencia para cargas de trabajo de E/S intensivas, como el clúster MongoDB particionado.</span><span class="sxs-lookup"><span data-stu-id="010c8-128">[Premium storage](../../storage/storage-premium-storage.md) accounts deliver high-performance, low-latency disk support for I/O intensive workloads, such as MongoDB Sharded cluster.</span></span> <span data-ttu-id="010c8-129">En estos momentos, Premium Storage solo admite discos de VM de Azure.</span><span class="sxs-lookup"><span data-stu-id="010c8-129">Premium storage currently supports Azure VM disks only.</span></span>

<span data-ttu-id="010c8-130">Azure crea máquinas virtuales con un disco del sistema operativo, un disco temporal y ninguno o varios discos de datos opcionales.</span><span class="sxs-lookup"><span data-stu-id="010c8-130">Azure creates VMs with an operating system disk, a temporary disk, and zero or more optional data disks.</span></span> <span data-ttu-id="010c8-131">el disco del sistema operativo de Hola y discos de datos son blobs en páginas de Azure, mientras que el disco temporal de Hola se almacena localmente en el nodo de Hola donde reside la máquina de Hola.</span><span class="sxs-lookup"><span data-stu-id="010c8-131">hello operating system disk and data disks are Azure page blobs, whereas hello temporary disk is stored locally on hello node where hello machine lives.</span></span> <span data-ttu-id="010c8-132">Tenga cuidado al diseñar aplicaciones tooonly usen este disco temporal para los datos no persistentes como Hola máquina virtual se puede migrar entre hosts durante un evento de mantenimiento.</span><span class="sxs-lookup"><span data-stu-id="010c8-132">Take care when designing applications tooonly use this temporary disk for non-persistent data as hello VM may be migrated between hosts during a maintenance event.</span></span> <span data-ttu-id="010c8-133">Todos los datos almacenados en disco temporal de Hola se perderían.</span><span class="sxs-lookup"><span data-stu-id="010c8-133">Any data stored on hello temporary disk would be lost.</span></span>

<span data-ttu-id="010c8-134">Alta disponibilidad y durabilidad proporciona hello tooensure de entorno de almacenamiento de Azure subyacente que los datos permanecen protegidos frente a errores de hardware o de mantenimiento no planeados.</span><span class="sxs-lookup"><span data-stu-id="010c8-134">Durability and high availability is provided by hello underlying Azure Storage environment tooensure that your data remains protected against unplanned maintenance or hardware failures.</span></span> <span data-ttu-id="010c8-135">Al diseñar su entorno de almacenamiento de Azure, puede elegir tooreplicate almacenamiento de máquina virtual:</span><span class="sxs-lookup"><span data-stu-id="010c8-135">As you design your Azure Storage environment, you can choose tooreplicate VM storage:</span></span>

* <span data-ttu-id="010c8-136">Localmente dentro de un determinado centro de datos de Azure</span><span class="sxs-lookup"><span data-stu-id="010c8-136">locally within a given Azure datacenter</span></span>
* <span data-ttu-id="010c8-137">En centros de datos de Azure dentro de una región determinada</span><span class="sxs-lookup"><span data-stu-id="010c8-137">across Azure datacenters within a given region</span></span>
* <span data-ttu-id="010c8-138">En centros de datos de Azure de diferentes regiones</span><span class="sxs-lookup"><span data-stu-id="010c8-138">across Azure datacenters across different regions.</span></span>

<span data-ttu-id="010c8-139">Puede leer [más acerca de las opciones de replicación de Hola para lograr alta disponibilidad](../../storage/storage-introduction.md#replication-for-durability-and-high-availability).</span><span class="sxs-lookup"><span data-stu-id="010c8-139">You can read [more about hello replication options for high availability](../../storage/storage-introduction.md#replication-for-durability-and-high-availability).</span></span>

<span data-ttu-id="010c8-140">Los discos de datos y del sistema operativo tienen un tamaño máximo de 4 TB.</span><span class="sxs-lookup"><span data-stu-id="010c8-140">Operating system disks and data disks have a maximum size of 4TB.</span></span> <span data-ttu-id="010c8-141">Puede utilizar el Administrador de volúmenes lógicos (LVM) toosurpass este límite juntos agrupación discos toopresent lógico volúmenes de datos mayores que 1023GB tooyour máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="010c8-141">You can use Logical Volume Manager (LVM) toosurpass this limit by pooling together data disks toopresent logical volumes larger than 1023GB tooyour VM.</span></span>

<span data-ttu-id="010c8-142">Existen algunos límites de escalabilidad que se aplican a la hora de diseñar las implementaciones de Azure Storage. Consulte [Límites, cuotas y restricciones de suscripción y servicios de Microsoft Azure](../../azure-subscription-service-limits.md#storage-limits) para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="010c8-142">There are some scalability limits when designing your Azure Storage deployments - for more information, see [Microsoft Azure subscription and service limits, quotas, and constraints](../../azure-subscription-service-limits.md#storage-limits).</span></span> <span data-ttu-id="010c8-143">Consulte también [Objetivos de escalabilidad y rendimiento del almacenamiento en Azure](../../storage/storage-scalability-targets.md).</span><span class="sxs-lookup"><span data-stu-id="010c8-143">Also see [Azure storage scalability and performance targets](../../storage/storage-scalability-targets.md).</span></span>

<span data-ttu-id="010c8-144">En cuanto al almacenamiento de aplicaciones, puede guardar datos de objetos no estructurados como documentos, imágenes, copias de seguridad, datos de configuración, registros, etc.</span><span class="sxs-lookup"><span data-stu-id="010c8-144">For application storage, you can store unstructured object data such as documents, images, backups, configuration data, logs, etc.</span></span> <span data-ttu-id="010c8-145">mediante Blob Storage.</span><span class="sxs-lookup"><span data-stu-id="010c8-145">using blob storage.</span></span> <span data-ttu-id="010c8-146">En lugar de la aplicación escribir tooa disco virtual conectado toohello VM, aplicación hello puede escribir directamente el almacenamiento de blobs de tooAzure.</span><span class="sxs-lookup"><span data-stu-id="010c8-146">Rather than your application writing tooa virtual disk attached toohello VM, hello application can write directly tooAzure blob storage.</span></span> <span data-ttu-id="010c8-147">Almacenamiento de blobs también proporciona la opción de Hola de [caliente y estupendo capas de almacenamiento](../../storage/storage-blob-storage-tiers.md) según sus necesidades de disponibilidad y las restricciones de costo.</span><span class="sxs-lookup"><span data-stu-id="010c8-147">Blob storage also provides hello option of [hot and cool storage tiers](../../storage/storage-blob-storage-tiers.md) depending on your availability needs and cost constraints.</span></span>

## <a name="striped-disks"></a><span data-ttu-id="010c8-148">Discos con bandas</span><span class="sxs-lookup"><span data-stu-id="010c8-148">Striped disks</span></span>
<span data-ttu-id="010c8-149">Además de permitirle toocreate discos mayor que 1023 GB, en muchos casos, el uso de creación de bandas en discos de datos mejora el rendimiento al permitir que varios blobs de almacenamiento de hello tooback un único volumen.</span><span class="sxs-lookup"><span data-stu-id="010c8-149">Besides allowing you toocreate disks larger than 1023 GB, in many instances, using striping for data disks enhances performance by allowing multiple blobs tooback hello storage for a single volume.</span></span> <span data-ttu-id="010c8-150">Con el seccionamiento, Hola E/S necesario toowrite y los datos leídos de un único disco lógico se realiza en paralelo.</span><span class="sxs-lookup"><span data-stu-id="010c8-150">With striping, hello I/O required toowrite and read data from a single logical disk proceeds in parallel.</span></span>

<span data-ttu-id="010c8-151">Azure impone límites de número Hola de discos de datos y la cantidad de ancho de banda disponible, según el tamaño de la máquina virtual de Hola.</span><span class="sxs-lookup"><span data-stu-id="010c8-151">Azure imposes limits on hello number of data disks and amount of bandwidth available, depending on hello VM size.</span></span> <span data-ttu-id="010c8-152">Para obtener más información, consulte [Tamaños de máquinas virtuales](sizes.md).</span><span class="sxs-lookup"><span data-stu-id="010c8-152">For details, see [Sizes for virtual machines](sizes.md)</span></span>

<span data-ttu-id="010c8-153">Si usas la creación de bandas en disco para los discos de datos de Azure, considere la posibilidad de hello siguientes instrucciones:</span><span class="sxs-lookup"><span data-stu-id="010c8-153">If you are using disk striping for Azure data disks, consider hello following guidelines:</span></span>

* <span data-ttu-id="010c8-154">Conectar discos de datos máximo de hello permitidos para hello tamaño de máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="010c8-154">Attach hello maximum data disks allowed for hello VM size.</span></span>
* <span data-ttu-id="010c8-155">Use LVM.</span><span class="sxs-lookup"><span data-stu-id="010c8-155">Use LVM.</span></span>
* <span data-ttu-id="010c8-156">Evite el uso de opciones de almacenamiento en caché del disco de datos de Azure (directiva de almacenamiento en caché = ninguna).</span><span class="sxs-lookup"><span data-stu-id="010c8-156">Avoid using Azure data disk caching options (caching policy = None).</span></span>

<span data-ttu-id="010c8-157">Para más información, consulte [Configuración del LVM en una máquina virtual Linux en Azure](configure-lvm.md).</span><span class="sxs-lookup"><span data-stu-id="010c8-157">For more information, see [Configuring LVM on a Linux VM](configure-lvm.md).</span></span>

## <a name="multiple-storage-accounts"></a><span data-ttu-id="010c8-158">Cuentas de almacenamiento múltiples</span><span class="sxs-lookup"><span data-stu-id="010c8-158">Multiple storage accounts</span></span>
<span data-ttu-id="010c8-159">En esta sección no se aplica demasiado[discos de Azure administrados](../../storage/storage-managed-disks-overview.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json), ya que usted no crea cuentas de almacenamiento independientes.</span><span class="sxs-lookup"><span data-stu-id="010c8-159">This section does not apply too[Azure Managed Disks](../../storage/storage-managed-disks-overview.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json), as you do not create separate storage accounts.</span></span> 

<span data-ttu-id="010c8-160">Al diseñar su entorno de almacenamiento de Azure para los discos no administrados, puede usar varias cuentas de almacenamiento según el número de Hola de máquinas virtuales que implemente aumenta.</span><span class="sxs-lookup"><span data-stu-id="010c8-160">When designing your Azure Storage environment for unmanaged disks, you can use multiple storage accounts as hello number of VMs you deploy increases.</span></span> <span data-ttu-id="010c8-161">Este enfoque ayuda a distribuir out Hola E/S a través de hello subyacente almacenamiento de Azure infraestructura toomaintain un rendimiento óptimo para las máquinas virtuales y las aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="010c8-161">This approach helps distribute out hello I/O across hello underlying Azure Storage infrastructure toomaintain optimum performance for your VMs and applications.</span></span> <span data-ttu-id="010c8-162">Al diseñar aplicaciones de Hola que va a implementar, tenga en cuenta los requisitos de E/S de hello que tiene de cada máquina virtual y saldo de esas máquinas virtuales entre cuentas de almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="010c8-162">As you design hello applications that you are deploying, consider hello I/O requirements each VM has and balance out those VMs across Azure Storage accounts.</span></span> <span data-ttu-id="010c8-163">Intente tooavoid agrupar todas las E/S altas de hello exigentes máquinas virtuales en toojust uno o dos cuentas de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="010c8-163">Try tooavoid grouping all hello high I/O demanding VMs in toojust one or two storage accounts.</span></span>

<span data-ttu-id="010c8-164">Para obtener más información acerca de las capacidades de hello E/S de opciones de almacenamiento de Azure diferentes de Hola y algunos recomiendan valores máximos, consulte [destinos de escalabilidad y rendimiento de almacenamiento de Azure](../../storage/storage-scalability-targets.md).</span><span class="sxs-lookup"><span data-stu-id="010c8-164">For more information about hello I/O capabilities of hello different Azure Storage options and some recommend maximums, see [Azure storage scalability and performance targets](../../storage/storage-scalability-targets.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="010c8-165">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="010c8-165">Next steps</span></span>
[!INCLUDE [virtual-machines-linux-infrastructure-guidelines-next-steps](../../../includes/virtual-machines-linux-infrastructure-guidelines-next-steps.md)]

