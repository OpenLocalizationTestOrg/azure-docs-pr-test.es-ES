---
title: "aaaAvailability se establece para máquinas virtuales de Linux en Azure | Documentos de Microsoft"
description: "Obtenga información acerca de hello diseño e implementación de las instrucciones clave para la implementación de conjuntos de disponibilidad en los servicios de infraestructura de Azure."
documentationcenter: 
services: virtual-machines-linux
author: iainfoulds
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: 24f1d91c-8cc0-4251-bb67-ac4c4c37e8cd
ms.service: virtual-machines-linux
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-linux
ms.devlang: na
ms.topic: article
ms.date: 06/26/2017
ms.author: iainfou
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: 78e4da5c8fd9eb186cafacb46454444b73a9439c
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="azure-availability-sets-guidelines-for-linux-vms"></a><span data-ttu-id="cd1ff-103">Directrices de conjuntos de disponibilidad de Azure para máquinas virtuales Linux</span><span class="sxs-lookup"><span data-stu-id="cd1ff-103">Azure availability sets guidelines for Linux VMs</span></span>

[!INCLUDE [virtual-machines-linux-infrastructure-guidelines-intro](../../../includes/virtual-machines-linux-infrastructure-guidelines-intro.md)]

<span data-ttu-id="cd1ff-104">En este artículo se centra en hello descripción necesario pasos de planeación para conjuntos de disponibilidad tooensure sus aplicaciones permanecen accesible durante eventos planeados o no.</span><span class="sxs-lookup"><span data-stu-id="cd1ff-104">This article focuses on understanding hello required planning steps for availability sets tooensure your applications remains accessible during planned or unplanned events.</span></span>

## <a name="implementation-guidelines-for-availability-sets"></a><span data-ttu-id="cd1ff-105">Directrices de implementación para los conjuntos de disponibilidad</span><span class="sxs-lookup"><span data-stu-id="cd1ff-105">Implementation guidelines for availability sets</span></span>
<span data-ttu-id="cd1ff-106">Decisiones:</span><span class="sxs-lookup"><span data-stu-id="cd1ff-106">Decisions:</span></span>

* <span data-ttu-id="cd1ff-107">¿Cuántos conjuntos de disponibilidad ¿necesita para hello diversas funciones y niveles de su infraestructura de aplicación?</span><span class="sxs-lookup"><span data-stu-id="cd1ff-107">How many availability sets do you need for hello various roles and tiers in your application infrastructure?</span></span>

<span data-ttu-id="cd1ff-108">Tareas:</span><span class="sxs-lookup"><span data-stu-id="cd1ff-108">Tasks:</span></span>

* <span data-ttu-id="cd1ff-109">Definir el número de Hola de máquinas virtuales en cada nivel de aplicación que necesite.</span><span class="sxs-lookup"><span data-stu-id="cd1ff-109">Define hello number of VMs in each application tier you require.</span></span>
* <span data-ttu-id="cd1ff-110">Determine si necesita que el número de hello tooadjust de toobe de dominios de error o actualización usada para la aplicación.</span><span class="sxs-lookup"><span data-stu-id="cd1ff-110">Determine if you need tooadjust hello number of fault or update domains toobe used for your application.</span></span>
* <span data-ttu-id="cd1ff-111">Definir conjuntos de disponibilidad de hello necesario con la convención de nomenclatura y las máquinas virtuales que residen en ellas.</span><span class="sxs-lookup"><span data-stu-id="cd1ff-111">Define hello required availability sets using your naming convention and what VMs reside in them.</span></span> <span data-ttu-id="cd1ff-112">Una máquina virtual solo puede residir en un conjunto de disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="cd1ff-112">A VM can only reside in one availability set.</span></span> 

## <a name="availability-sets"></a><span data-ttu-id="cd1ff-113">Conjuntos de disponibilidad</span><span class="sxs-lookup"><span data-stu-id="cd1ff-113">Availability sets</span></span>
<span data-ttu-id="cd1ff-114">En Azure, máquinas virtuales (VM) puede colocarse en la agrupación lógica de tooa llamado a un conjunto de disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="cd1ff-114">In Azure, virtual machines (VMs) can be placed in tooa logical grouping called an availability set.</span></span> <span data-ttu-id="cd1ff-115">Al crear máquinas virtuales dentro de un conjunto de disponibilidad, Hola plataforma Windows Azure distribuye colocación Hola de esas máquinas virtuales entre Hola infraestructura subyacente.</span><span class="sxs-lookup"><span data-stu-id="cd1ff-115">When you create VMs within an availability set, hello Azure platform distributes hello placement of those VMs across hello underlying infrastructure.</span></span> <span data-ttu-id="cd1ff-116">Debe haber un toohello de evento de mantenimiento planificado de la plataforma Azure o un hardware subyacente / error de infraestructura, uso de Hola de conjuntos de disponibilidad garantiza que al menos una máquina virtual sigue ejecutándose.</span><span class="sxs-lookup"><span data-stu-id="cd1ff-116">Should there be a planned maintenance event toohello Azure platform or an underlying hardware / infrastructure fault, hello use of availability sets ensures that at least one VM remains running.</span></span>

<span data-ttu-id="cd1ff-117">Como procedimiento recomendado, las aplicaciones no deben residir en una sola máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="cd1ff-117">As a best practice, applications should not reside on a single VM.</span></span> <span data-ttu-id="cd1ff-118">Un conjunto de disponibilidad que contiene una sola máquina virtual no obtiene ninguna protección para evitar eventos planeadas o no dentro de hello plataforma Windows Azure.</span><span class="sxs-lookup"><span data-stu-id="cd1ff-118">An availability set that contains a single VM doesn't gain any protection from planned or unplanned events within hello Azure platform.</span></span> <span data-ttu-id="cd1ff-119">Hola [SLA de Azure](https://azure.microsoft.com/support/legal/sla/virtual-machines) requiere dos o más máquinas virtuales dentro de una disponibilidad conjunto tooallow Hola distribución de máquinas virtuales a través de hello infraestructura subyacente.</span><span class="sxs-lookup"><span data-stu-id="cd1ff-119">hello [Azure SLA](https://azure.microsoft.com/support/legal/sla/virtual-machines) requires two or more VMs within an availability set tooallow hello distribution of VMs across hello underlying infrastructure.</span></span> <span data-ttu-id="cd1ff-120">Si utilizas [almacenamiento de Azure Premium](../../storage/storage-premium-storage.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json), Hola SLA de Azure aplica tooa única máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="cd1ff-120">If you are using [Azure Premium Storage](../../storage/storage-premium-storage.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json), hello Azure SLA applies tooa single VM.</span></span>

<span data-ttu-id="cd1ff-121">la infraestructura subyacente de Hello en Azure se divide en clústeres de hardware de toomultiple.</span><span class="sxs-lookup"><span data-stu-id="cd1ff-121">hello underlying infrastructure in Azure is divided in toomultiple hardware clusters.</span></span> <span data-ttu-id="cd1ff-122">Cada uno de ellos puede admitir una gran variedad de tamaños de máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="cd1ff-122">Each hardware cluster can support a range of VM sizes.</span></span> <span data-ttu-id="cd1ff-123">Un conjunto de disponibilidad solo se hospedada en un clúster de hardware único en cualquier momento.</span><span class="sxs-lookup"><span data-stu-id="cd1ff-123">An availability set can only be hosted on a single hardware cluster at any point in time.</span></span> <span data-ttu-id="cd1ff-124">Por lo tanto, los tamaños de intervalo de VM de Hola que pueden existir en un único conjunto de disponibilidad es limitado toohello tamaños de intervalo de la máquina virtual compatibles con clústeres de hardware de Hola.</span><span class="sxs-lookup"><span data-stu-id="cd1ff-124">Therefore, hello range of VM sizes that can exist in a single availability set is limited toohello range of VM sizes supported by hello hardware cluster.</span></span> <span data-ttu-id="cd1ff-125">clúster de hardware de Hello para el conjunto de disponibilidad de hello es seleccionado al hello primera VM en el conjunto de disponibilidad de Hola se implementa o a partir de Hola primera VM en un conjunto de disponibilidad en todas las máquinas virtuales actualmente están en el estado de detenido-desasignado Hola.</span><span class="sxs-lookup"><span data-stu-id="cd1ff-125">hello hardware cluster for hello availability set is selected when hello first VM in hello availability set is deployed or when starting hello first VM in an availability set where all VMs are currently in hello stopped-deallocated state.</span></span> <span data-ttu-id="cd1ff-126">Hola siguiente comando CLI puede ser usado toodetermine Hola intervalo de VM tamaños disponibles para un conjunto de disponibilidad: "az vm lista-tamaños--ubicación \<cadena\>"</span><span class="sxs-lookup"><span data-stu-id="cd1ff-126">hello following CLI command can be used toodetermine hello range of VM sizes available for an availability set: “az vm list-sizes --location \<string\>”</span></span>

<span data-ttu-id="cd1ff-127">Cada clúster de hardware se divide en toomultiple actualizar dominios y dominios de error.</span><span class="sxs-lookup"><span data-stu-id="cd1ff-127">Each hardware cluster is divided in toomultiple update domains and fault domains.</span></span> <span data-ttu-id="cd1ff-128">Estos dominios se definen teniendo en cuenta qué hosts compartirán un ciclo de actualización común o una infraestructura física similar como la energía y redes.</span><span class="sxs-lookup"><span data-stu-id="cd1ff-128">These domains are defined by what hosts share a common update cycle, or share similar physical infrastructure such as power and networking.</span></span> <span data-ttu-id="cd1ff-129">Azure distribuye automáticamente las máquinas virtuales dentro de un conjunto a través de dominios toomaintain disponibilidad y tolerancia a errores de disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="cd1ff-129">Azure automatically distributes your VMs within an availability set across domains toomaintain availability and fault tolerance.</span></span> <span data-ttu-id="cd1ff-130">Según el tamaño de saludo de la aplicación y la cantidad de Hola de máquinas virtuales dentro de un conjunto de disponibilidad, puede ajustar el número de Hola de dominios que se va toouse.</span><span class="sxs-lookup"><span data-stu-id="cd1ff-130">Depending on hello size of your application and hello number of VMs within an availability set, you can adjust hello number of domains you wish toouse.</span></span> <span data-ttu-id="cd1ff-131">Puede leer más sobre la [administración de la disponibilidad y el uso de los dominios de actualización y error](manage-availability.md).</span><span class="sxs-lookup"><span data-stu-id="cd1ff-131">You can read more about [managing availability and use of update and fault domains](manage-availability.md).</span></span>

<span data-ttu-id="cd1ff-132">Al diseñar la infraestructura de aplicación, planifique toouse de niveles de aplicación Hola.</span><span class="sxs-lookup"><span data-stu-id="cd1ff-132">When designing your application infrastructure, plan out hello application tiers toouse.</span></span> <span data-ttu-id="cd1ff-133">Máquinas virtuales del grupo que actuar Hola mismo propósito en conjuntos de tooavailability, como un conjunto de disponibilidad para las máquinas virtuales front-end ejecuta nginx o Apache.</span><span class="sxs-lookup"><span data-stu-id="cd1ff-133">Group VMs that serve hello same purpose in tooavailability sets, such as an availability set for your front-end VMs running nginx or Apache.</span></span> <span data-ttu-id="cd1ff-134">Cree un conjunto de disponibilidad independiente para las máquinas virtuales de back-end que ejecutan MongoDB o MySQL.</span><span class="sxs-lookup"><span data-stu-id="cd1ff-134">Create a separate availability set for your back-end VMs running MongoDB or MySQL.</span></span> <span data-ttu-id="cd1ff-135">objetivo de Hello es tooensure que cada componente de la aplicación está protegido por un conjunto de disponibilidad y al menos una vez instancia siempre sigue ejecutándose.</span><span class="sxs-lookup"><span data-stu-id="cd1ff-135">hello goal is tooensure that each component of your application is protected by an availability set and at least once instance always remains running.</span></span>

<span data-ttu-id="cd1ff-136">Equilibradores de carga se pueden utilizar delante de cada toowork de nivel de aplicación junto con un conjunto de disponibilidad y asegúrese de tráfico siempre puede ser enrutado tooa ejecuta la instancia.</span><span class="sxs-lookup"><span data-stu-id="cd1ff-136">Load balancers can be utilized in front of each application tier toowork alongside an availability set and ensure traffic can always be routed tooa running instance.</span></span> <span data-ttu-id="cd1ff-137">Sin un equilibrador de carga, las máquinas virtuales pueden seguir ejecutándose a lo largo de los eventos de mantenimiento planeadas y no planeadas, pero el usuario final no puede ser capaz de tooresolve ellos si hello máquina virtual principal no está disponible.</span><span class="sxs-lookup"><span data-stu-id="cd1ff-137">Without a load balancer, your VMs may continue running throughout planned and unplanned maintenance events, but your end user may not be able tooresolve them if hello primary VM is unavailable.</span></span>

<span data-ttu-id="cd1ff-138">Diseñe su aplicación para lograr una alta disponibilidad en la capa de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="cd1ff-138">Design your application for high availability at storage layer.</span></span> <span data-ttu-id="cd1ff-139">procedimiento recomendado de Hello es demasiado[usar discos administrados para las máquinas virtuales en un conjunto de disponibilidad](manage-availability.md#use-managed-disks-for-vms-in-an-availability-set).</span><span class="sxs-lookup"><span data-stu-id="cd1ff-139">hello best practice is too[use Managed Disks for VMs in an Availability Set](manage-availability.md#use-managed-disks-for-vms-in-an-availability-set).</span></span> <span data-ttu-id="cd1ff-140">Si actualmente utilizas discos no administrados, es muy recomendable demasiado[convertir máquinas virtuales en el conjunto de disponibilidad toouse administrado discos](convert-unmanaged-to-managed-disks.md#convert-vms-in-an-availability-set).</span><span class="sxs-lookup"><span data-stu-id="cd1ff-140">If you are currently using unmanaged disks, we highly recommend you too[convert VMs in Availability Set toouse Managed Disks](convert-unmanaged-to-managed-disks.md#convert-vms-in-an-availability-set).</span></span>

## <a name="next-steps"></a><span data-ttu-id="cd1ff-141">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="cd1ff-141">Next steps</span></span>
[!INCLUDE [virtual-machines-linux-infrastructure-guidelines-next-steps](../../../includes/virtual-machines-linux-infrastructure-guidelines-next-steps.md)]

