---
title: "Instalación de SAP HANA en SAP HANA en Azure (instancias grandes) | Microsoft Docs"
description: "Instalación de SAP HANA en SAP HANA en Azure (instancia grande)."
services: virtual-machines-linux
documentationcenter: 
author: hermanndms
manager: timlt
editor: 
ms.service: virtual-machines-linux
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: vm-linux
ms.workload: infrastructure
ms.date: 12/01/2016
ms.author: rclaus
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: 280001f9057825b9dcd98c5180340a54e2e239cf
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/03/2017
---
# <a name="how-to-install-and-configure-sap-hana-large-instances-on-azure"></a><span data-ttu-id="685eb-103">Procedimiento para instalar y configurar SAP HANA en Azure (instancias grandes)</span><span class="sxs-lookup"><span data-stu-id="685eb-103">How to install and configure SAP HANA (large instances) on Azure</span></span>

<span data-ttu-id="685eb-104">A continuación se muestran algunas definiciones importantes que debe conocer antes de leer esta guía.</span><span class="sxs-lookup"><span data-stu-id="685eb-104">Following are some important definitions to know before you read this guide.</span></span> <span data-ttu-id="685eb-105">En [Introducción y arquitectura de SAP HANA en Azure (instancias grandes)](https://docs.microsoft.com/azure/virtual-machines/workloads/sap/hana-overview-architecture) se presentaron dos clases distintas de unidades de instancia grande de HANA con:</span><span class="sxs-lookup"><span data-stu-id="685eb-105">In [SAP HANA (large instances) overview and architecture on Azure](https://docs.microsoft.com/azure/virtual-machines/workloads/sap/hana-overview-architecture) we introduced two different classes of HANA Large Instance units with:</span></span>

- <span data-ttu-id="685eb-106">S72, S72m, S144, S144m, S192 y S192m, a las que se hace referencia como "clase de tipo I" de SKU.</span><span class="sxs-lookup"><span data-stu-id="685eb-106">S72, S72m, S144, S144m, S192, and S192m, which we refer to as the 'Type I class' of SKUs.</span></span>
- <span data-ttu-id="685eb-107">S384, S384m, S384xm, S576, S768 y S960, a las que se hace referencia como "clase de tipo II" de SKU.</span><span class="sxs-lookup"><span data-stu-id="685eb-107">S384, S384m, S384xm, S576, S768, and S960, which we refer to as the 'Type II class' of SKUs.</span></span>

<span data-ttu-id="685eb-108">El especificador de clase se va a usar en toda la documentación sobre Instancia grande de HANA para hacer referencia a diferentes capacidades y requisitos en función de las SKU de Instancia grande de HANA.</span><span class="sxs-lookup"><span data-stu-id="685eb-108">The class specifier is going to be used throughout the HANA Large Instance documentation to eventually refer to different capabilities and requirements based on HANA Large Instance SKUs.</span></span>

<span data-ttu-id="685eb-109">Otras definiciones que se usan con frecuencia son:</span><span class="sxs-lookup"><span data-stu-id="685eb-109">Other definitions we use frequently are:</span></span>
- <span data-ttu-id="685eb-110">**Sello de instancias grandes:** una pila de infraestructura de hardware que está certificada para SAP HANA TDI y se dedica a ejecutar instancias de SAP HANA dentro de Azure.</span><span class="sxs-lookup"><span data-stu-id="685eb-110">**Large Instance stamp:** A hardware infrastructure stack that is SAP HANA TDI certified and dedicated to run SAP HANA instances within Azure.</span></span>
- <span data-ttu-id="685eb-111">**SAP HANA en Azure (Instancias grandes):** nombre oficial de la oferta de Azure para ejecutar instancias de HANA en hardware con certificación SAP HANA TDI que se implementa en sellos de instancias grandes en diferentes regiones de Azure.</span><span class="sxs-lookup"><span data-stu-id="685eb-111">**SAP HANA on Azure (Large Instances):** Official name for the offer in Azure to run HANA instances in on SAP HANA TDI certified hardware that is deployed in Large Instance stamps in different Azure regions.</span></span> <span data-ttu-id="685eb-112">El término relacionado **Instancia grande de HANA** es la versión abreviada de SAP HANA en Azure (instancias grandes) y se usa con frecuencia en esta guía de implementación técnica.</span><span class="sxs-lookup"><span data-stu-id="685eb-112">The related term **HANA Large Instance** is short for SAP HANA on Azure (Large Instances) and is widely used this technical deployment guide.</span></span>


<span data-ttu-id="685eb-113">La instalación de SAP HANA es su responsabilidad y puede hacerlo inmediatamente después de la entrega de un nuevo servidor de SAP HANA en Azure (instancias de grandes).</span><span class="sxs-lookup"><span data-stu-id="685eb-113">The installation of SAP HANA is your responsibility and you can start the activity after handoff of a new SAP HANA on Azure (Large Instances) server.</span></span> <span data-ttu-id="685eb-114">Y después de establecer la conectividad entre las redes virtuales de Azure y las unidades de instancia grande de HANA.</span><span class="sxs-lookup"><span data-stu-id="685eb-114">And after the connectivity between your Azure VNet(s) and the HANA Large Instance unit(s) got established.</span></span> 

> [!Note]
> <span data-ttu-id="685eb-115">Según la directiva de SAP, la instalación de SAP HANA debe realizarla una persona certificada para realizar instalaciones de SAP HANA.</span><span class="sxs-lookup"><span data-stu-id="685eb-115">Per SAP policy, the installation of SAP HANA must be performed by a person certified to perform SAP HANA installations.</span></span> <span data-ttu-id="685eb-116">Una persona que haya superado el examen de Certified SAP Technology Associate, el examen de certificación Instalación de SAP HANA o un integrador de sistemas (SI) certificado de SAP.</span><span class="sxs-lookup"><span data-stu-id="685eb-116">A person, who has passed the Certified SAP Technology Associate exam, SAP HANA Installation certification exam, or by an SAP-certified system integrator (SI).</span></span>

<span data-ttu-id="685eb-117">Vuelva a comprobar, en especial si tiene pensado instalar HANA 2.0, [Nota de compatibilidad de SAP n.º 2235581 - SAP HANA: Sistemas operativos admitidos](https://launchpad.support.sap.com/#/notes/2235581/E) que el sistema operativo es compatible con la versión de SAP HANA que ha decidido instalar.</span><span class="sxs-lookup"><span data-stu-id="685eb-117">Check again, especially when planning to install HANA 2.0, [SAP Support Note #2235581 - SAP HANA: Supported Operating Systems](https://launchpad.support.sap.com/#/notes/2235581/E) in order to make sure that the OS is supported with the SAP HANA release you decided to install.</span></span> <span data-ttu-id="685eb-118">Comprobará que el sistema operativo compatible con HANA 2.0 tiene más restricciones que el sistema operativo compatible con HANA 1.0.</span><span class="sxs-lookup"><span data-stu-id="685eb-118">You realize that the supported OS for HANA 2.0 is more restricted than the OS supported for HANA 1.0.</span></span> 

## <a name="first-steps-after-receiving-the-hana-large-instance-units"></a><span data-ttu-id="685eb-119">Primeros pasos después de recibir las unidades de instancia grande de HANA</span><span class="sxs-lookup"><span data-stu-id="685eb-119">First steps after receiving the HANA Large Instance Unit(s)</span></span>

<span data-ttu-id="685eb-120">El **primer paso** después de recibir la instancia grande de HANA y establecer el acceso y la conectividad a las instancias consiste en registrar el sistema operativo de la instancia con el proveedor de este.</span><span class="sxs-lookup"><span data-stu-id="685eb-120">**First Step** after receiving the HANA Large Instance and having established access and connectivity to the instances, is to register the OS of the instance with your OS provider.</span></span> <span data-ttu-id="685eb-121">Este paso incluye el registro del sistema operativo SUSE Linux en una instancia de SUSE SMT que debe haber implementado en una máquina virtual en Azure.</span><span class="sxs-lookup"><span data-stu-id="685eb-121">This step would include registering your SUSE Linux OS in an instance of SUSE SMT that you need to have deployed in a VM in Azure.</span></span> <span data-ttu-id="685eb-122">La unidad de instancia grande de HANA puede conectarse a esta instancia de SMT (como verá más adelante en esta documentación).</span><span class="sxs-lookup"><span data-stu-id="685eb-122">The HANA Large Instance unit can connect to this SMT instance (see later in this documentation).</span></span> <span data-ttu-id="685eb-123">O bien, debe registrar el sistema operativo RedHat con la instancia de RedHat Subscription Manager a la que necesite conectarse.</span><span class="sxs-lookup"><span data-stu-id="685eb-123">Or your RedHat OS needs to be registered with the Red Hat Subscription Manager you need to connect to.</span></span> <span data-ttu-id="685eb-124">Vea también los comentarios de este [documento](https://docs.microsoft.com/azure/virtual-machines/linux/sap-hana-overview-architecture?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="685eb-124">See also remarks in this [document](https://docs.microsoft.com/azure/virtual-machines/linux/sap-hana-overview-architecture?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span> <span data-ttu-id="685eb-125">Este paso también es necesario para poder aplicar la revisión del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="685eb-125">This step also is necessary to be able to patch the OS.</span></span> <span data-ttu-id="685eb-126">Una tarea que es responsabilidad del cliente.</span><span class="sxs-lookup"><span data-stu-id="685eb-126">A task that is in the responsibility of the customer.</span></span> <span data-ttu-id="685eb-127">Para SUSE, encuentre documentación para instalar y configurar SMT [aquí](https://www.suse.com/documentation/sles-12/book_smt/data/smt_installation.html).</span><span class="sxs-lookup"><span data-stu-id="685eb-127">For SUSE, find documentation to install and configure SMT [here](https://www.suse.com/documentation/sles-12/book_smt/data/smt_installation.html).</span></span>

<span data-ttu-id="685eb-128">El **segundo paso** es comprobar si hay nuevas revisiones y correcciones de la versión del sistema operativo específica.</span><span class="sxs-lookup"><span data-stu-id="685eb-128">**Second Step** is to check for new patches and fixes of the specific OS release/version.</span></span> <span data-ttu-id="685eb-129">Compruebe si la versión de la instancia grande de HANA es la más reciente.</span><span class="sxs-lookup"><span data-stu-id="685eb-129">Check whether the patch level of the HANA Large Instance is on the latest state.</span></span> <span data-ttu-id="685eb-130">En función del momento en el que Microsoft implemente las versiones o revisiones del sistema operativo, y los cambios de imagen, es posible que haya casos en los que no se incluyan las revisiones más recientes.</span><span class="sxs-lookup"><span data-stu-id="685eb-130">Based on timing on OS patch/releases and changes to the image Microsoft can deploy, there might be cases where the latest patches may not be included.</span></span> <span data-ttu-id="685eb-131">Por tanto, comprobar si el proveedor particular de Linux ha publicado revisiones importantes para la seguridad, la funcionalidad, la disponibilidad y el rendimiento que necesiten implementarse es un paso obligatorio después de asumir una unidad de instancia grande de HANA.</span><span class="sxs-lookup"><span data-stu-id="685eb-131">Hence it is a mandatory step after taking over a HANA Large Instance unit, to check whether patches relevant for security, functionality, availability, and performance were released meanwhile by the particular Linux vendor and need to be applied.</span></span>

<span data-ttu-id="685eb-132">El **tercer paso** consiste en comprobar las notas de SAP correspondientes a la instalación y configuración de SAP HANA en la versión concreta del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="685eb-132">**Third Step** is to check out the relevant SAP Notes for installing and configuring SAP HANA on the specific OS release/version.</span></span> <span data-ttu-id="685eb-133">Por cambios en las recomendaciones o en las notas de SAP o las configuraciones que dependen de los distintos escenarios de instalación, Microsoft no siempre podrá tener una unidad de instancia grande de HANA configurada a la perfección.</span><span class="sxs-lookup"><span data-stu-id="685eb-133">Due to changing recommendations or changes to SAP Notes or configurations that are dependent on individual installation scenarios, Microsoft will not always be able to have a HANA Large Instance unit configured perfectly.</span></span> <span data-ttu-id="685eb-134">Por tanto, como cliente es obligatorio que lea las notas de SAP relacionadas con SAP HANA en la versión exacta de Linux.</span><span class="sxs-lookup"><span data-stu-id="685eb-134">Hence it is mandatory for you as a customer, to read the SAP Notes related to SAP HANA on your exact Linux release.</span></span> <span data-ttu-id="685eb-135">Compruebe también las configuraciones de la versión del sistema operativo necesaria y aplique los valores de configuración donde no se haya hecho.</span><span class="sxs-lookup"><span data-stu-id="685eb-135">Also check the configurations of the OS release/version necessary and apply the configuration settings where not done already.</span></span>

<span data-ttu-id="685eb-136">Para casos particulares, compruebe los siguientes parámetros y, si es necesario, ajústelos a:</span><span class="sxs-lookup"><span data-stu-id="685eb-136">In specific, check the following parameters and eventually adjusted to:</span></span>

- <span data-ttu-id="685eb-137">net.core.rmem_max = 16777216</span><span class="sxs-lookup"><span data-stu-id="685eb-137">net.core.rmem_max = 16777216</span></span>
- <span data-ttu-id="685eb-138">net.core.wmem_max = 16777216</span><span class="sxs-lookup"><span data-stu-id="685eb-138">net.core.wmem_max = 16777216</span></span>
- <span data-ttu-id="685eb-139">net.core.rmem_default = 16777216</span><span class="sxs-lookup"><span data-stu-id="685eb-139">net.core.rmem_default = 16777216</span></span>
- <span data-ttu-id="685eb-140">net.core.wmem_default = 16777216</span><span class="sxs-lookup"><span data-stu-id="685eb-140">net.core.wmem_default = 16777216</span></span>
- <span data-ttu-id="685eb-141">net.core.optmem_max = 16777216</span><span class="sxs-lookup"><span data-stu-id="685eb-141">net.core.optmem_max = 16777216</span></span>
- <span data-ttu-id="685eb-142">net.ipv4.tcp_rmem = 65536 16777216 16777216</span><span class="sxs-lookup"><span data-stu-id="685eb-142">net.ipv4.tcp_rmem = 65536 16777216 16777216</span></span>
- <span data-ttu-id="685eb-143">net.ipv4.tcp_wmem = 65536 16777216 16777216</span><span class="sxs-lookup"><span data-stu-id="685eb-143">net.ipv4.tcp_wmem = 65536 16777216 16777216</span></span>

<span data-ttu-id="685eb-144">A partir de SP1 SLES12 y RHEL 7.2, se deben establecer estos parámetros en un archivo de configuración en el directorio /etc/sysctl.d.</span><span class="sxs-lookup"><span data-stu-id="685eb-144">Starting with SLES12 SP1 and RHEL 7.2, these parameters must be set in a configuration file in the /etc/sysctl.d directory.</span></span> <span data-ttu-id="685eb-145">Por ejemplo, se debe crear un archivo de configuración con el nombre 91-NetApp-HANA.conf.</span><span class="sxs-lookup"><span data-stu-id="685eb-145">For example, a configuration file with the name 91-NetApp-HANA.conf must be created.</span></span> <span data-ttu-id="685eb-146">Para las versiones anteriores de SLES y RHEL, estos parámetros deben establecerse en in/etc/sysctl.conf.</span><span class="sxs-lookup"><span data-stu-id="685eb-146">For older SLES and RHEL releases, these parameters must be set in/etc/sysctl.conf.</span></span>

<span data-ttu-id="685eb-147">Para todas las versiones de RHEL y a partir de SLES12, el parámetro</span><span class="sxs-lookup"><span data-stu-id="685eb-147">For all RHEL releases and starting with SLES12, the</span></span> 
- <span data-ttu-id="685eb-148">sunrpc.tcp_slot_table_entries = 128</span><span class="sxs-lookup"><span data-stu-id="685eb-148">sunrpc.tcp_slot_table_entries = 128</span></span>

<span data-ttu-id="685eb-149">se debe establecer en in/etc/modprobe.d/sunrpc-local.conf.</span><span class="sxs-lookup"><span data-stu-id="685eb-149">parameter must be set in/etc/modprobe.d/sunrpc-local.conf.</span></span> <span data-ttu-id="685eb-150">Si el archivo no existe, primero debe crearse; para ello, agregue la entrada siguiente:</span><span class="sxs-lookup"><span data-stu-id="685eb-150">If the file does not exist, it must first be created by adding the following entry:</span></span> 
- <span data-ttu-id="685eb-151">options sunrpc tcp_max_slot_table_entries=128</span><span class="sxs-lookup"><span data-stu-id="685eb-151">options sunrpc tcp_max_slot_table_entries=128</span></span>

<span data-ttu-id="685eb-152">El **cuarto paso** consiste en comprobar la hora del sistema de la unidad de instancia grande de HANA.</span><span class="sxs-lookup"><span data-stu-id="685eb-152">**Fourth Step** is to check the system time of your HANA Large Instance Unit.</span></span> <span data-ttu-id="685eb-153">Las instancias se implementan con una zona horaria del sistema que represente la ubicación de la región de Azure donde se encuentre el sello de la instancia grande de HANA.</span><span class="sxs-lookup"><span data-stu-id="685eb-153">The instances are deployed with a system time zone that represent the location of the Azure region the HANA Large Instance Stamp is located in.</span></span> <span data-ttu-id="685eb-154">Es libre de cambiar la hora de su sistema o la zona horaria de sus instancias.</span><span class="sxs-lookup"><span data-stu-id="685eb-154">You are free to change the system time or time zone of the instances you own.</span></span> <span data-ttu-id="685eb-155">Si lo hace, al pedir más instancias para su inquilino, necesitará adaptar la zona horaria de las instancias recién entregadas.</span><span class="sxs-lookup"><span data-stu-id="685eb-155">Doing so and ordering more instances into your tenant, be prepared that you need to adapt the time zone of the newly delivered instances.</span></span> <span data-ttu-id="685eb-156">Las operaciones de Microsoft no tienen ninguna información sobre la zona horaria del sistema donde instale las instancias tras la entrega.</span><span class="sxs-lookup"><span data-stu-id="685eb-156">Microsoft operations have no insights into the system time zone you set up with the instances after the handover.</span></span> <span data-ttu-id="685eb-157">Por lo tanto, las instancias recién implementadas pueden no tener la misma zona horaria que a las que cambió.</span><span class="sxs-lookup"><span data-stu-id="685eb-157">Hence newly deployed instances might not be set in the same time zone as the one you changed to.</span></span> <span data-ttu-id="685eb-158">Como resultado, es su responsabilidad como cliente comprobarlo y, si es necesario, adaptar la zona horaria de las instancias entregadas.</span><span class="sxs-lookup"><span data-stu-id="685eb-158">As a result, it is your responsibility as customer to check and if necessary adapt the time zone of the instance(s) handed over.</span></span> 

<span data-ttu-id="685eb-159">El **quinto paso** consiste en comprobar etc/hosts.</span><span class="sxs-lookup"><span data-stu-id="685eb-159">**Fifth Step** is to check etc/hosts.</span></span> <span data-ttu-id="685eb-160">A medida que van entregando las hojas, se les asignan direcciones IP diferentes con fines distintos (consulte la sección siguiente).</span><span class="sxs-lookup"><span data-stu-id="685eb-160">As the blades get handed over, they have different IP addresses assigned for different purposes (see next section).</span></span> <span data-ttu-id="685eb-161">Compruebe el archivo /etc/hosts.</span><span class="sxs-lookup"><span data-stu-id="685eb-161">Check the etc/hosts file.</span></span> <span data-ttu-id="685eb-162">Cuando se agreguen unidades a un inquilino existente, no espere que etc/hosts en los sistemas recién implementados se mantenga correctamente con las direcciones IP de los sistemas entregados anteriormente.</span><span class="sxs-lookup"><span data-stu-id="685eb-162">In cases where units are added into an existing tenant, don't expect to have etc/hosts of the newly deployed systems maintained correctly with the IP addresses of earlier delivered systems.</span></span> <span data-ttu-id="685eb-163">Depende de usted como cliente comprobar que la configuración sea la correcta, de manera que una instancia recién implementada pueda interactuar y resolver los nombres de las unidades implementadas anteriormente en el inquilino.</span><span class="sxs-lookup"><span data-stu-id="685eb-163">Hence it is on you as customer to check the correct settings so, that a newly deployed instance can interact and resolve the names of earlier deployed units in your tenant.</span></span> 

## <a name="networking"></a><span data-ttu-id="685eb-164">Redes</span><span class="sxs-lookup"><span data-stu-id="685eb-164">Networking</span></span>
<span data-ttu-id="685eb-165">Se supone que ha seguido las recomendaciones de diseño de las redes virtuales de Azure y de conexión de esas redes a las instancias grandes de HANA tal y como se describe en estos documentos:</span><span class="sxs-lookup"><span data-stu-id="685eb-165">We assume that you followed the recommendations in designing your Azure VNets and connecting those VNets to the HANA Large Instances as described in these documents:</span></span>

- [<span data-ttu-id="685eb-166">Introducción y arquitectura de SAP HANA en Azure (instancias grandes)</span><span class="sxs-lookup"><span data-stu-id="685eb-166">SAP HANA (large Instance) Overview and Architecture on Azure</span></span>](https://docs.microsoft.com/azure/virtual-machines/workloads/sap/hana-overview-architecture)
- [<span data-ttu-id="685eb-167">Infraestructura y conectividad con SAP HANA en Azure (instancias grandes)</span><span class="sxs-lookup"><span data-stu-id="685eb-167">SAP HANA (large instances) Infrastructure and connectivity on Azure</span></span>](hana-overview-infrastructure-connectivity.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)

<span data-ttu-id="685eb-168">Hay algunos detalles que vale la pena mencionar acerca de las funciones de red de las unidades individuales.</span><span class="sxs-lookup"><span data-stu-id="685eb-168">There are some details worth to mention about the networking of the single units.</span></span> <span data-ttu-id="685eb-169">Cada unidad de instancia grande de HANA viene con dos o tres direcciones IP asignadas a dos o tres puertos NIC de la unidad.</span><span class="sxs-lookup"><span data-stu-id="685eb-169">Every HANA Large Instance unit comes with two or three IP addresses that are assigned to two or three NIC ports of the unit.</span></span> <span data-ttu-id="685eb-170">En las configuraciones de escalado horizontal de HANA y el escenario de replicación del sistema de HANA se utilizan tres direcciones IP.</span><span class="sxs-lookup"><span data-stu-id="685eb-170">Three IP addresses are used in HANA scale-out configurations and the HANA System Replication scenario.</span></span> <span data-ttu-id="685eb-171">Una de las direcciones IP asignadas a la NIC de la unidad está fuera del grupo de direcciones IP del servidor que se describió en la [Introducción y arquitectura de SAP HANA en Azure (instancias grandes)](https://docs.microsoft.com/azure/virtual-machines/workloads/sap/hana-overview-architecture).</span><span class="sxs-lookup"><span data-stu-id="685eb-171">One of the IP addresses assigned to the NIC of the unit is out of the Server IP pool that was described in the [SAP HANA (large Instance) Overview and Architecture on Azure](https://docs.microsoft.com/azure/virtual-machines/workloads/sap/hana-overview-architecture).</span></span>

<span data-ttu-id="685eb-172">La distribución para las unidades con dos direcciones IP asignadas debería ser como lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="685eb-172">The distribution for units with two IP addresses assigned should look like:</span></span>

- <span data-ttu-id="685eb-173">eth0.xx debe tener una dirección IP asignada fuera del intervalo de direcciones del grupo de direcciones IP de servidor que envió a Microsoft.</span><span class="sxs-lookup"><span data-stu-id="685eb-173">eth0.xx should have an IP address assigned that is out of the Server IP Pool address range that you submitted to Microsoft.</span></span> <span data-ttu-id="685eb-174">Esta dirección IP se usará para el mantenimiento en /etc/hosts del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="685eb-174">This IP address shall be used for maintaining in /etc/hosts of the OS.</span></span>
- <span data-ttu-id="685eb-175">eth1.xx debe tener una dirección IP asignada, que se usa para la comunicación con NFS.</span><span class="sxs-lookup"><span data-stu-id="685eb-175">eth1.xx should have an IP address assigned that is used for communication to NFS.</span></span> <span data-ttu-id="685eb-176">Por lo tanto, estas direcciones **NO** necesitan permanecer en etc/hosts para permitir el tráfico de instancia a instancia dentro del inquilino.</span><span class="sxs-lookup"><span data-stu-id="685eb-176">Therefore, these addresses do **NOT** need to be maintained in etc/hosts in order to allow instance to instance traffic within the tenant.</span></span>

<span data-ttu-id="685eb-177">Para los casos de implementación de la replicación del sistema de HANA o el escalado horizontal de HANA, una configuración de hoja con dos direcciones IP asignadas no es adecuada.</span><span class="sxs-lookup"><span data-stu-id="685eb-177">For deployment cases of HANA System Replication or HANA scale-out, a blade configuration with two IP addresses assigned is not suitable.</span></span> <span data-ttu-id="685eb-178">Si solo tiene dos direcciones IP asignadas y quiere implementar este tipo de configuración, póngase en contacto con SAP HANA en Azure Service Management para obtener una tercera dirección IP en otra red VLAN asignada.</span><span class="sxs-lookup"><span data-stu-id="685eb-178">If having two IP addresses assigned only and wanting to deploy such a configuration, contact SAP HANA on Azure Service Management to get a third IP address in a third VLAN assigned.</span></span> <span data-ttu-id="685eb-179">Para las unidades de instancia grande de HANA con tres direcciones IP asignadas en tres puertos de NIC, se aplican las reglas de uso siguientes:</span><span class="sxs-lookup"><span data-stu-id="685eb-179">For HANA Large Instance units having three IP addresses assigned on three NIC ports, the following usage rules apply:</span></span>

- <span data-ttu-id="685eb-180">eth0.xx debe tener una dirección IP asignada fuera del intervalo de direcciones del grupo de direcciones IP de servidor que envió a Microsoft.</span><span class="sxs-lookup"><span data-stu-id="685eb-180">eth0.xx should have an IP address assigned that is out of the Server IP Pool address range that you submitted to Microsoft.</span></span> <span data-ttu-id="685eb-181">Por lo tanto, esta dirección IP no se usará para el mantenimiento en /etc/hosts del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="685eb-181">Hence this IP address shall not be used for maintaining in /etc/hosts of the OS.</span></span>
- <span data-ttu-id="685eb-182">eth1.xx debe tener una dirección IP asignada, que se usa para la comunicación con el almacenamiento NFS.</span><span class="sxs-lookup"><span data-stu-id="685eb-182">eth1.xx should have an IP address assigned that is used for communication to NFS storage.</span></span> <span data-ttu-id="685eb-183">Por lo tanto, este tipo de direcciones no debe permanecer en etc/hosts.</span><span class="sxs-lookup"><span data-stu-id="685eb-183">Hence this type of addresses should not be maintained in etc/hosts.</span></span>
- <span data-ttu-id="685eb-184">eth2.xx debe usarse exclusivamente para el mantenimiento en etc/hosts, para la comunicación entre las distintas instancias.</span><span class="sxs-lookup"><span data-stu-id="685eb-184">eth2.xx should be exclusively used to be maintained in etc/hosts for communication between the different instances.</span></span> <span data-ttu-id="685eb-185">Estas direcciones también serían las direcciones IP que deben mantenerse en las configuraciones de escalado horizontal de HANA como las direcciones IP que HANA usa para la configuración entre nodos.</span><span class="sxs-lookup"><span data-stu-id="685eb-185">These addresses would also be the IP addresses that need to be maintained in scale-out HANA configurations as IP addresses HANA uses for the inter-node configuration.</span></span>



## <a name="storage"></a><span data-ttu-id="685eb-186">Almacenamiento</span><span class="sxs-lookup"><span data-stu-id="685eb-186">Storage</span></span>

<span data-ttu-id="685eb-187">El diseño de almacenamiento para SAP HANA en Azure (instancias grandes) lo configura SAP HANA en Azure Service Management a través de directrices recomendadas de SAP, como se documenta en las notas del producto [SAP HANA Storage Requirements](http://go.sap.com/documents/2015/03/74cdb554-5a7c-0010-82c7-eda71af511fa.html) (Requisitos de almacenamiento de SAP HANA).</span><span class="sxs-lookup"><span data-stu-id="685eb-187">The storage layout for SAP HANA on Azure (Large Instances) is configured by SAP HANA on Azure Service Management through SAP recommended guide lines as documented in [SAP HANA Storage Requirements](http://go.sap.com/documents/2015/03/74cdb554-5a7c-0010-82c7-eda71af511fa.html) white paper.</span></span> <span data-ttu-id="685eb-188">Los tamaños aproximados de los diferentes volúmenes con las diferentes SKU de grandes instancias de HANA se documentan en [Introducción y arquitectura de SAP HANA en Azure (instancias grandes)](hana-overview-architecture.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="685eb-188">The rough sizes of the different volumes with the different HANA Large Instances SKUs got documented in [SAP HANA (large Instance) Overview and Architecture on Azure](hana-overview-architecture.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>

<span data-ttu-id="685eb-189">Las convenciones de nomenclatura de los volúmenes de almacenamiento se muestran en la tabla siguiente:</span><span class="sxs-lookup"><span data-stu-id="685eb-189">The naming conventions of the storage volumes are listed in the following table:</span></span>

| <span data-ttu-id="685eb-190">Uso del almacenamiento</span><span class="sxs-lookup"><span data-stu-id="685eb-190">Storage usage</span></span> | <span data-ttu-id="685eb-191">Nombre de montaje</span><span class="sxs-lookup"><span data-stu-id="685eb-191">Mount Name</span></span> | <span data-ttu-id="685eb-192">Nombre del volumen</span><span class="sxs-lookup"><span data-stu-id="685eb-192">Volume Name</span></span> | 
| --- | --- | ---|
| <span data-ttu-id="685eb-193">Datos de HANA</span><span class="sxs-lookup"><span data-stu-id="685eb-193">HANA data</span></span> | <span data-ttu-id="685eb-194">/hana/data/SID/mnt0000<m></span><span class="sxs-lookup"><span data-stu-id="685eb-194">/hana/data/SID/mnt0000<m></span></span> | <span data-ttu-id="685eb-195">Almacenamiento IP: /hana_data_SID_mnt00001_tenant_vol</span><span class="sxs-lookup"><span data-stu-id="685eb-195">Storage IP:/hana_data_SID_mnt00001_tenant_vol</span></span> |
| <span data-ttu-id="685eb-196">Registro HANA</span><span class="sxs-lookup"><span data-stu-id="685eb-196">HANA log</span></span> | <span data-ttu-id="685eb-197">/hana/log/SID/mnt0000<m></span><span class="sxs-lookup"><span data-stu-id="685eb-197">/hana/log/SID/mnt0000<m></span></span> | <span data-ttu-id="685eb-198">Almacenamiento IP: /hana_log_SID_mnt00001_tenant_vol</span><span class="sxs-lookup"><span data-stu-id="685eb-198">Storage IP:/hana_log_SID_mnt00001_tenant_vol</span></span> |
| <span data-ttu-id="685eb-199">Copia de seguridad del registro de HANA</span><span class="sxs-lookup"><span data-stu-id="685eb-199">HANA log backup</span></span> | <span data-ttu-id="685eb-200">/hana/log/backups</span><span class="sxs-lookup"><span data-stu-id="685eb-200">/hana/log/backups</span></span> | <span data-ttu-id="685eb-201">Almacenamiento IP: /hana_log_backups_SID_mnt00001_tenant_vol</span><span class="sxs-lookup"><span data-stu-id="685eb-201">Storage IP:/hana_log_backups_SID_mnt00001_tenant_vol</span></span> |
| <span data-ttu-id="685eb-202">HANA compartido</span><span class="sxs-lookup"><span data-stu-id="685eb-202">HANA shared</span></span> | <span data-ttu-id="685eb-203">/hana/shared/SID</span><span class="sxs-lookup"><span data-stu-id="685eb-203">/hana/shared/SID</span></span> | <span data-ttu-id="685eb-204">Almacenamiento IP: IP:/hana_shared_SID_mnt00001_tenant_vol/shared</span><span class="sxs-lookup"><span data-stu-id="685eb-204">Storage IP:/hana_shared_SID_mnt00001_tenant_vol/shared</span></span> |
| <span data-ttu-id="685eb-205">usr/sap</span><span class="sxs-lookup"><span data-stu-id="685eb-205">usr/sap</span></span> | <span data-ttu-id="685eb-206">/usr/sap/SID</span><span class="sxs-lookup"><span data-stu-id="685eb-206">/usr/sap/SID</span></span> | <span data-ttu-id="685eb-207">Almacenamiento IP: /hana_shared_SID_mnt00001_tenant_vol/usr_sap</span><span class="sxs-lookup"><span data-stu-id="685eb-207">Storage IP:/hana_shared_SID_mnt00001_tenant_vol/usr_sap</span></span> |

<span data-ttu-id="685eb-208">Donde "SID" = el identificador de sistema de la instancia de HANA</span><span class="sxs-lookup"><span data-stu-id="685eb-208">Where SID = the HANA instance System ID</span></span> 

<span data-ttu-id="685eb-209">Y "tenant" = una enumeración interna de operaciones al implementar un inquilino.</span><span class="sxs-lookup"><span data-stu-id="685eb-209">And tenant = an internal enumeration of operations when deploying a tenant.</span></span>

<span data-ttu-id="685eb-210">Como puede ver, HANA compartido y usr/sap están compartiendo el mismo volumen.</span><span class="sxs-lookup"><span data-stu-id="685eb-210">As you can see, HANA shared and usr/sap are sharing the same volume.</span></span> <span data-ttu-id="685eb-211">La nomenclatura de los puntos de montaje incluye el identificador de sistema de las instancias de HANA así como el número de montaje.</span><span class="sxs-lookup"><span data-stu-id="685eb-211">The nomenclature of the mountpoints does include the System ID of the HANA instances as well as the mount number.</span></span> <span data-ttu-id="685eb-212">En las implementaciones de escalado vertical solo hay un montaje, como mnt00001.</span><span class="sxs-lookup"><span data-stu-id="685eb-212">In scale-up deployments there only is one mount, like mnt00001.</span></span> <span data-ttu-id="685eb-213">Al mismo tiempo, en la implementación de escalado horizontal puede que vea tantos montajes como nodos de trabajo y principales tiene.</span><span class="sxs-lookup"><span data-stu-id="685eb-213">Whereas in scale-out deployment you would see as many mounts, as, you have worker and master nodes.</span></span> <span data-ttu-id="685eb-214">Para el entorno de escalado horizontal, los datos, el registro y los volúmenes de copia de seguridad del registro se comparten y se adjuntan a cada nodo en la configuración de escalado horizontal.</span><span class="sxs-lookup"><span data-stu-id="685eb-214">For the scale-out environment, data, log, log backup volumes are shared and attached to each node in the scale-out configuration.</span></span> <span data-ttu-id="685eb-215">Para las configuraciones que ejecutan varias instancias de SAP, se crea un conjunto diferente de volúmenes y se adjunta a la unidad de instancia grande de HANA.</span><span class="sxs-lookup"><span data-stu-id="685eb-215">For configurations running multiple SAP instances, a different set of volumes is created and attached to the HAN Large Instance unit.</span></span>

<span data-ttu-id="685eb-216">Según vaya leyendo el documento y buscando una unidad de instancia grande de HANA, se dará cuenta de que las unidades vienen con un volumen de disco bastante amplio para HANA/data y que tenemos un volumen HANA/log/backup.</span><span class="sxs-lookup"><span data-stu-id="685eb-216">As you read the paper and look a HANA Large Instance unit, you realize that the units come with rather generous disk volume for HANA/data and that we have a volume HANA/log/backup.</span></span> <span data-ttu-id="685eb-217">El motivo por el que el tamaño de HANA/data es tan grande es que las instantáneas de almacenamiento que le ofrecemos como cliente usan el mismo volumen de disco.</span><span class="sxs-lookup"><span data-stu-id="685eb-217">The reason why we sized the HANA/data so large is that the storage snapshots we offer for you as a customer are using the same disk volume.</span></span> <span data-ttu-id="685eb-218">Esto significa que cuantas más instantáneas de almacenamiento realice, más espacio consumen las instantáneas en los volúmenes de almacenamiento asignados.</span><span class="sxs-lookup"><span data-stu-id="685eb-218">It means the more storage snapshots you perform, the more space is consumed by snapshots in your assigned storage volumes.</span></span> <span data-ttu-id="685eb-219">HANA/log/backup no se considera el volumen en el que colocar las copias de seguridad de base de datos.</span><span class="sxs-lookup"><span data-stu-id="685eb-219">The HANA/log/backup volume is not thought to be the volume to put database backups in.</span></span> <span data-ttu-id="685eb-220">Su tamaño se ajusta para usarlo como volumen de copia de seguridad para las copias de seguridad del registro de transacciones de HANA.</span><span class="sxs-lookup"><span data-stu-id="685eb-220">It is sized to be used as backup volume for the HANA transaction log backups.</span></span> <span data-ttu-id="685eb-221">En futuras versiones del autoservicio de almacenamiento de instantáneas, este volumen específico será el destino para tener instantáneas más frecuentes.</span><span class="sxs-lookup"><span data-stu-id="685eb-221">In future versions of the storage snapshot self service, we will target this specific volume to have more frequent snapshots.</span></span> <span data-ttu-id="685eb-222">Y con eso, replicaciones más frecuentes en el sitio de recuperación ante desastres si quiere participar en la funcionalidad de recuperación ante desastres que proporciona la infraestructura de instancias grandes de HANA.</span><span class="sxs-lookup"><span data-stu-id="685eb-222">And with that more frequent replications to the disaster recovery site if you desire to option-in for the disaster recovery functionality provided by the HANA Large Instance infrastructure.</span></span> <span data-ttu-id="685eb-223">Vea los detalles en [Alta disponibilidad y recuperación ante desastres de SAP HANA en Azure (instancias grandes)](hana-overview-high-availability-disaster-recovery.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)</span><span class="sxs-lookup"><span data-stu-id="685eb-223">See details in [SAP HANA (large instances) High Availability and Disaster Recovery on Azure](hana-overview-high-availability-disaster-recovery.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)</span></span> 

<span data-ttu-id="685eb-224">Además del almacenamiento proporcionado, puede adquirir capacidad de almacenamiento adicional en incrementos de 1 TB.</span><span class="sxs-lookup"><span data-stu-id="685eb-224">In addition to the storage provided, you can purchase additional storage capacity in 1 TB increments.</span></span> <span data-ttu-id="685eb-225">Este almacenamiento adicional se puede agregar como nuevos volúmenes a instancias grandes de HANA.</span><span class="sxs-lookup"><span data-stu-id="685eb-225">This additional storage can be added as new volumes to a HANA Large Instances.</span></span>

<span data-ttu-id="685eb-226">Durante la incorporación de SAP HANA en Azure Service Management, el cliente especifica un identificador de usuario (UID) e Id. de grupo (GID) para el usuario sidadm y el grupo sapsys (p. ej.: 1000,500). Es necesario que durante la instalación del sistema SAP HANA se usen estos mismos valores.</span><span class="sxs-lookup"><span data-stu-id="685eb-226">During onboarding with SAP HANA on Azure Service Management, the customer specifies a User ID (UID) and Group ID (GID) for the sidadm user and sapsys group (ex: 1000,500) It is necessary that during installation of the SAP HANA system, these same values are used.</span></span> <span data-ttu-id="685eb-227">Cuando quiera implementar varias instancias de HANA en una unidad, obtendrá varios conjuntos de volúmenes (un conjunto por cada instancia).</span><span class="sxs-lookup"><span data-stu-id="685eb-227">As you want to deploy multiple HANA instances on a unit, you get multiple sets of volumes (one set for each instance).</span></span> <span data-ttu-id="685eb-228">Como resultado, durante la implementación tendrá que definir:</span><span class="sxs-lookup"><span data-stu-id="685eb-228">As a result, at deployment time you need to define:</span></span>

- <span data-ttu-id="685eb-229">El SID de las distintas instancias de HANA (del que se deriva sidadm).</span><span class="sxs-lookup"><span data-stu-id="685eb-229">The SID of the different HANA instances (sidadm is derived out of it).</span></span>
- <span data-ttu-id="685eb-230">Tamaños de memoria de las distintas instancias de HANA.</span><span class="sxs-lookup"><span data-stu-id="685eb-230">Memory sizes of the different HANA instances.</span></span> <span data-ttu-id="685eb-231">Dado que el tamaño de memoria por instancia define el tamaño de los volúmenes en cada conjunto de volúmenes individuales.</span><span class="sxs-lookup"><span data-stu-id="685eb-231">Since the memory size per instances defines the size of the volumes in each individual volume set.</span></span>

<span data-ttu-id="685eb-232">En función de las recomendaciones del proveedor de almacenamiento se configuran las siguientes opciones de montaje para todos los volúmenes montados (se excluyen los LUN de inicio):</span><span class="sxs-lookup"><span data-stu-id="685eb-232">Based on storage provider recommendations the following mount options are configured for all mounted volumes (excludes boot LUN):</span></span>

- <span data-ttu-id="685eb-233">nfs    rw, vers=4, hard, timeo=600, rsize=1048576, wsize=1048576, intr, noatime, lock 0 0</span><span class="sxs-lookup"><span data-stu-id="685eb-233">nfs    rw, vers=4, hard, timeo=600, rsize=1048576, wsize=1048576, intr, noatime, lock 0 0</span></span>

<span data-ttu-id="685eb-234">Estos puntos de montaje se configuran en /etc/fstab como se muestra en los gráficos siguientes:</span><span class="sxs-lookup"><span data-stu-id="685eb-234">These mount points are configured in /etc/fstab like shown in the following graphics:</span></span>

![fstab de volúmenes montados en la unidad de instancia grande de HANA](./media/hana-installation/image1_fstab.PNG)

<span data-ttu-id="685eb-236">La salida del comando df -h en una unidad de instancia grande de HANA S72m tendría este aspecto:</span><span class="sxs-lookup"><span data-stu-id="685eb-236">The output of the command df -h on a S72m HANA Large Instance unit would look like:</span></span>

![fstab de volúmenes montados en la unidad de instancia grande de HANA](./media/hana-installation/image2_df_output.PNG)


<span data-ttu-id="685eb-238">El controlador de almacenamiento y los nodos de las marcas de instancia grandes se sincronizan con los servidores NTP.</span><span class="sxs-lookup"><span data-stu-id="685eb-238">The storage controller and nodes in the Large Instance stamps are synchronized to NTP servers.</span></span> <span data-ttu-id="685eb-239">Mediante la sincronización de SAP HANA en unidades de Azure (instancias grandes) y Azure Virtual Machines con un servidor NTP, no debería haber un desfase de tiempo significativo entre la infraestructura y las unidades de proceso de Azure o las marcas de instancias grandes.</span><span class="sxs-lookup"><span data-stu-id="685eb-239">With you synchronizing the SAP HANA on Azure (Large Instances) units and Azure VMs against an NTP server, there should be no significant time drift happening between the infrastructure and the compute units in Azure or Large Instance stamps.</span></span>

<span data-ttu-id="685eb-240">Con el fin de optimizar SAP HANA para el almacenamiento subyacente, también debe establecer los parámetros de configuración de SAP HANA siguientes:</span><span class="sxs-lookup"><span data-stu-id="685eb-240">In order to optimize SAP HANA to the storage used underneath, you should also set the following SAP HANA configuration parameters:</span></span>

- <span data-ttu-id="685eb-241">max_parallel_io_requests 128</span><span class="sxs-lookup"><span data-stu-id="685eb-241">max_parallel_io_requests 128</span></span>
- <span data-ttu-id="685eb-242">async_read_submit on</span><span class="sxs-lookup"><span data-stu-id="685eb-242">async_read_submit on</span></span>
- <span data-ttu-id="685eb-243">async_write_submit_active on</span><span class="sxs-lookup"><span data-stu-id="685eb-243">async_write_submit_active on</span></span>
- <span data-ttu-id="685eb-244">async_write_submit_blocks all</span><span class="sxs-lookup"><span data-stu-id="685eb-244">async_write_submit_blocks all</span></span>
 
<span data-ttu-id="685eb-245">En las versiones de SAP HANA 1.0 hasta SPS12, estos parámetros se pueden establecer durante la instalación de la base de datos de SAP HANA, tal y como se describe en la [nota de SAP n.º 2267798: Configuración de la base de datos de SAP HANA](https://launchpad.support.sap.com/#/notes/2267798)</span><span class="sxs-lookup"><span data-stu-id="685eb-245">For SAP HANA 1.0 versions up to SPS12, these parameters can be set during the installation of the SAP HANA database, as described in [SAP Note #2267798 - Configuration of the SAP HANA Database](https://launchpad.support.sap.com/#/notes/2267798)</span></span>

<span data-ttu-id="685eb-246">También puede configurar los parámetros después de la instalación de la base de datos de SAP HANA mediante el marco de hdbparam.</span><span class="sxs-lookup"><span data-stu-id="685eb-246">You also can configure the parameters after the SAP HANA database installation by using the hdbparam framework.</span></span> 

<span data-ttu-id="685eb-247">Con SAP HANA 2.0, el marco de hdbparam está en desuso.</span><span class="sxs-lookup"><span data-stu-id="685eb-247">With SAP HANA 2.0, the hdbparam framework has been deprecated.</span></span> <span data-ttu-id="685eb-248">Como resultado, los parámetros deben establecerse mediante comandos SQL.</span><span class="sxs-lookup"><span data-stu-id="685eb-248">As a result the parameters must be set using SQL commands.</span></span> <span data-ttu-id="685eb-249">Para más información, consulte la [nota de SAP n.º 2399079: Eliminación de hdbparam en HANA 2](https://launchpad.support.sap.com/#/notes/2399079).</span><span class="sxs-lookup"><span data-stu-id="685eb-249">For details, see [SAP Note #2399079: Elimination of hdbparam in HANA 2](https://launchpad.support.sap.com/#/notes/2399079).</span></span>


## <a name="operating-system"></a><span data-ttu-id="685eb-250">Sistema operativo</span><span class="sxs-lookup"><span data-stu-id="685eb-250">Operating system</span></span>

<span data-ttu-id="685eb-251">El espacio de intercambio de la imagen del sistema operativo proporcionada está establecido en 2 GB de acuerdo con la [SAP Support Note #1999997 - FAQ: SAP HANA Memory](https://launchpad.support.sap.com/#/notes/1999997/E) (Nota de compatibilidad de SAP 1999997: Preguntas más frecuentes sobre la memoria de SAP HANA).</span><span class="sxs-lookup"><span data-stu-id="685eb-251">Swap space of the delivered OS image is set to 2 GB according to the [SAP Support Note #1999997 - FAQ: SAP HANA Memory](https://launchpad.support.sap.com/#/notes/1999997/E).</span></span> <span data-ttu-id="685eb-252">Cualquier valor diferente deseado debe establecerlo el cliente.</span><span class="sxs-lookup"><span data-stu-id="685eb-252">Any different setting desired needs to be set by you as a customer.</span></span>

<span data-ttu-id="685eb-253">[SUSE Linux Enterprise Server 12 SP1 for SAP Applications](https://www.suse.com/products/sles-for-sap/hana) es la distribución de Linux instalada para SAP HANA en Azure (instancias grandes).</span><span class="sxs-lookup"><span data-stu-id="685eb-253">[SUSE Linux Enterprise Server 12 SP1 for SAP Applications](https://www.suse.com/products/sles-for-sap/hana) is the distribution of Linux installed for SAP HANA on Azure (Large Instances).</span></span> <span data-ttu-id="685eb-254">Esta distribución particular proporciona funcionalidades específicas de SAP &quot;listas para usar&quot; (incluidos los parámetros predefinidos para ejecutar SAP en SLES de forma eficaz).</span><span class="sxs-lookup"><span data-stu-id="685eb-254">This particular distribution provides SAP-specific capabilities &quot;out of the box&quot; (including pre-set parameters for running SAP on SLES effectively).</span></span>

<span data-ttu-id="685eb-255">Vea [Biblioteca de recursos/Informes oficiales](https://www.suse.com/products/sles-for-sap/resource-library#white-papers) en el sitio web de SUSE y [SAP on SUSE](https://wiki.scn.sap.com/wiki/display/ATopics/SAP+on+SUSE) (SAP en SUSE) en la red de la comunidad de SAP (SCN) para varios recursos útiles relacionados con la implementación de SAP HANA en SLES (incluida la configuración de alta disponibilidad, el endurecimiento de la seguridad específico de las operaciones de SAP etc.).</span><span class="sxs-lookup"><span data-stu-id="685eb-255">See [Resource Library/White Papers](https://www.suse.com/products/sles-for-sap/resource-library#white-papers) on the SUSE website and [SAP on SUSE](https://wiki.scn.sap.com/wiki/display/ATopics/SAP+on+SUSE) on the SAP Community Network (SCN) for several useful resources related to deploying SAP HANA on SLES (including the set-up of High Availability, security hardening specific to SAP operations, and more).</span></span>

<span data-ttu-id="685eb-256">Vínculos adicionales y útiles relacionados sobre SAP en SUSE:</span><span class="sxs-lookup"><span data-stu-id="685eb-256">Additional and useful SAP on SUSE-related links:</span></span>

- <span data-ttu-id="685eb-257">[SAP HANA on SUSE Linux Site](https://wiki.scn.sap.com/wiki/display/ATopics/SAP+on+SUSE) (Sitio de SAP HANA en SUSE Linux)</span><span class="sxs-lookup"><span data-stu-id="685eb-257">[SAP HANA on SUSE Linux Site](https://wiki.scn.sap.com/wiki/display/ATopics/SAP+on+SUSE)</span></span>
- <span data-ttu-id="685eb-258">[Best Practice for SAP: Enqueue Replication – SAP NetWeaver on SUSE Linux Enterprise 12](https://www.suse.com/docrepcontent/container.jsp?containerId=9113) (Procedimiento recomendado para SAP: poner en cola la replicación - SAP NetWeaver en SUSE Linux Enterprise 12)</span><span class="sxs-lookup"><span data-stu-id="685eb-258">[Best Practice for SAP: Enqueue Replication – SAP NetWeaver on SUSE Linux Enterprise 12](https://www.suse.com/docrepcontent/container.jsp?containerId=9113).</span></span>
- <span data-ttu-id="685eb-259">[ClamSAP – SLES Virus Protection for SAP](http://scn.sap.com/community/linux/blog/2014/04/14/clamsap--suse-linux-enterprise-server-integrates-virus-protection-for-sap) (ClamSAP: protección contra virus de SLES para SAP), incluido SLES 12 para SAP Applications</span><span class="sxs-lookup"><span data-stu-id="685eb-259">[ClamSAP – SLES Virus Protection for SAP](http://scn.sap.com/community/linux/blog/2014/04/14/clamsap--suse-linux-enterprise-server-integrates-virus-protection-for-sap) (including SLES 12 for SAP Applications).</span></span>

<span data-ttu-id="685eb-260">Notas de compatibilidad de SAP aplicables a la implementación de SAP HANA en SLES 12:</span><span class="sxs-lookup"><span data-stu-id="685eb-260">SAP Support Notes applicable to implementing SAP HANA on SLES 12:</span></span>

- <span data-ttu-id="685eb-261">[Nota de compatibilidad de SAP n.º 1944799: Instrucciones de SAP HANA para la instalación de sistema operativo](http://go.sap.com/documents/2016/05/e8705aae-717c-0010-82c7-eda71af511fa.html)</span><span class="sxs-lookup"><span data-stu-id="685eb-261">[SAP Support Note #1944799 – SAP HANA Guidelines for SLES Operating System Installation](http://go.sap.com/documents/2016/05/e8705aae-717c-0010-82c7-eda71af511fa.html).</span></span>
- <span data-ttu-id="685eb-262">[Nota de compatibilidad de SAP n.º 2205917: Configuración recomendada del sistema operativo de SAP HANA DB para SLES 12 en aplicaciones SAP](https://launchpad.support.sap.com/#/notes/2205917/E)</span><span class="sxs-lookup"><span data-stu-id="685eb-262">[SAP Support Note #2205917 – SAP HANA DB Recommended OS Settings for SLES 12 for SAP Applications](https://launchpad.support.sap.com/#/notes/2205917/E).</span></span>
- <span data-ttu-id="685eb-263">[Nota de compatibilidad de SAP n.º 1984787: Notas de instalación de SUSE Linux Enterprise Server 12](https://launchpad.support.sap.com/#/notes/1984787)</span><span class="sxs-lookup"><span data-stu-id="685eb-263">[SAP Support Note #1984787 – SUSE Linux Enterprise Server 12:  Installation Notes](https://launchpad.support.sap.com/#/notes/1984787).</span></span>
- <span data-ttu-id="685eb-264">[Nota de compatibilidad de SAP n.º 171356: Información general del software SAP en Linux](https://launchpad.support.sap.com/#/notes/1984787)</span><span class="sxs-lookup"><span data-stu-id="685eb-264">[SAP Support Note #171356 – SAP Software on Linux:  General Information](https://launchpad.support.sap.com/#/notes/1984787).</span></span>
- <span data-ttu-id="685eb-265">[Nota de compatibilidad de SAP n.º 1391070: Soluciones UUID de Linux](https://launchpad.support.sap.com/#/notes/1391070)</span><span class="sxs-lookup"><span data-stu-id="685eb-265">[SAP Support Note #1391070 – Linux UUID Solutions](https://launchpad.support.sap.com/#/notes/1391070).</span></span>

<span data-ttu-id="685eb-266">[Red Hat Enterprise Linux para SAP HANA](https://www.redhat.com/en/resources/red-hat-enterprise-linux-sap-hana) es otra oferta para ejecutar SAP HANA en instancias grandes de HANA.</span><span class="sxs-lookup"><span data-stu-id="685eb-266">[Red Hat Enterprise Linux for SAP HANA](https://www.redhat.com/en/resources/red-hat-enterprise-linux-sap-hana) is another offer for running SAP HANA on HANA Large Instances.</span></span> <span data-ttu-id="685eb-267">Ya están disponibles las versiones de RHEL 6.7 y 7.2.</span><span class="sxs-lookup"><span data-stu-id="685eb-267">Releases of RHEL 6.7 and 7.2 are available.</span></span> 

<span data-ttu-id="685eb-268">Vínculos adicionales y útiles relacionados sobre SAP en Red Hat:</span><span class="sxs-lookup"><span data-stu-id="685eb-268">Additional and useful SAP on Red Hat related links:</span></span>
- <span data-ttu-id="685eb-269">[Sitio de SAP HANA en Red Hat Linux](https://wiki.scn.sap.com/wiki/display/ATopics/SAP+on+Red+Hat).</span><span class="sxs-lookup"><span data-stu-id="685eb-269">[SAP HANA on Red Hat Linux Site](https://wiki.scn.sap.com/wiki/display/ATopics/SAP+on+Red+Hat).</span></span>

<span data-ttu-id="685eb-270">Notas de compatibilidad de SAP aplicables a la implementación de SAP HANA en Red Hat:</span><span class="sxs-lookup"><span data-stu-id="685eb-270">SAP Support Notes applicable to implementing SAP HANA on Red Hat:</span></span>

- <span data-ttu-id="685eb-271">[Nota de compatibilidad de SAP n.º 2009879: Directrices de SAP HANA para el sistema operativo Red Hat Enterprise Linux (RHEL)](https://launchpad.support.sap.com/#/notes/2009879/E)</span><span class="sxs-lookup"><span data-stu-id="685eb-271">[SAP Support Note #2009879 - SAP HANA Guidelines for Red Hat Enterprise Linux (RHEL) Operating System](https://launchpad.support.sap.com/#/notes/2009879/E).</span></span>
- <span data-ttu-id="685eb-272">[2292690 - SAP HANA DB: Configuración recomendada del sistema operativo para RHEL 7](https://launchpad.support.sap.com/#/notes/2292690)</span><span class="sxs-lookup"><span data-stu-id="685eb-272">[SAP Support Note #2292690 - SAP HANA DB: Recommended OS settings for RHEL 7](https://launchpad.support.sap.com/#/notes/2292690).</span></span>
- <span data-ttu-id="685eb-273">[Nota de compatibilidad de SAP n.º 2247020: Configuración recomendada del sistema operativo para RHEL 6.7 en SAP HANA DB](https://launchpad.support.sap.com/#/notes/2247020)</span><span class="sxs-lookup"><span data-stu-id="685eb-273">[SAP Support Note #2247020 - SAP HANA DB: Recommended OS settings for RHEL 6.7](https://launchpad.support.sap.com/#/notes/2247020).</span></span>
- <span data-ttu-id="685eb-274">[Nota de compatibilidad de SAP n.º 1391070: Soluciones UUID de Linux](https://launchpad.support.sap.com/#/notes/1391070)</span><span class="sxs-lookup"><span data-stu-id="685eb-274">[SAP Support Note #1391070 – Linux UUID Solutions](https://launchpad.support.sap.com/#/notes/1391070).</span></span>
- <span data-ttu-id="685eb-275">[Nota de compatibilidad de SAP n.º 2228351: Linux: Revisión 110 (o superior) de SAP HANA Database SPS 11 en RHEL 6 o SLES 11](https://launchpad.support.sap.com/#/notes/2228351).</span><span class="sxs-lookup"><span data-stu-id="685eb-275">[SAP Support Note #2228351 - Linux: SAP HANA Database SPS 11 revision 110 (or higher) on RHEL 6 or SLES 11](https://launchpad.support.sap.com/#/notes/2228351).</span></span>
- <span data-ttu-id="685eb-276">[Nota de compatibilidad de SAP n.º2397039: P+F sobre SAP en RHEL](https://launchpad.support.sap.com/#/notes/2397039).</span><span class="sxs-lookup"><span data-stu-id="685eb-276">[SAP Support Note #2397039 - FAQ: SAP on RHEL](https://launchpad.support.sap.com/#/notes/2397039).</span></span>
- <span data-ttu-id="685eb-277">[Nota de compatibilidad de SAP n.º 1496410: Instalación y actualización de Red Hat Enterprise Linux 6.x](https://launchpad.support.sap.com/#/notes/1496410).</span><span class="sxs-lookup"><span data-stu-id="685eb-277">[SAP Support Note #1496410 - Red Hat Enterprise Linux 6.x: Installation and Upgrade](https://launchpad.support.sap.com/#/notes/1496410).</span></span>
- <span data-ttu-id="685eb-278">[Nota de compatibilidad de SAP n.º 2002167: Instalación y actualización de Red Hat Enterprise Linux 7.x](https://launchpad.support.sap.com/#/notes/2002167).</span><span class="sxs-lookup"><span data-stu-id="685eb-278">[SAP Support Note #2002167 - Red Hat Enterprise Linux 7.x: Installation and Upgrade](https://launchpad.support.sap.com/#/notes/2002167).</span></span>

## <a name="time-synchronization"></a><span data-ttu-id="685eb-279">Sincronización de la hora</span><span class="sxs-lookup"><span data-stu-id="685eb-279">Time synchronization</span></span>

<span data-ttu-id="685eb-280">Las aplicaciones de SAP basadas en la arquitectura de SAP NetWeaver son sensibles a las diferencias de hora para los distintos componentes que conforman el sistema SAP.</span><span class="sxs-lookup"><span data-stu-id="685eb-280">SAP applications built on the SAP NetWeaver architecture are sensitive on time differences for the various components that comprise the SAP system.</span></span> <span data-ttu-id="685eb-281">Los volcados cortos de ABAP de SAP con el título de error de ZDATE\_LARGE\_TIME\_DIFF probablemente le resulten familiares, ya que estos volcados cortos aparecen cuando la hora del sistema de diferentes servidores o máquinas virtuales se distancia demasiado.</span><span class="sxs-lookup"><span data-stu-id="685eb-281">SAP ABAP short dumps with the error title of ZDATE\_LARGE\_TIME\_DIFF are likely familiar, as these short dumps appear when the system time of different servers or VMs is drifting too far apart.</span></span>

<span data-ttu-id="685eb-282">Para SAP HANA en Azure (instancias grandes), la sincronización de la hora que se realiza en Azure no se aplica a las unidades de proceso en las marcas de instancia grande.</span><span class="sxs-lookup"><span data-stu-id="685eb-282">For SAP HANA on Azure (Large Instances), time synchronization done in Azure doesn&#39;t apply to the compute units in the Large Instance stamps.</span></span> <span data-ttu-id="685eb-283">Esta sincronización no se aplica para ejecutar aplicaciones de SAP en máquinas virtuales nativas de Azure, ya que Azure garantiza que la hora del sistema está correctamente sincronizada.</span><span class="sxs-lookup"><span data-stu-id="685eb-283">This synchronization is not applicable for running SAP applications in native Azure VMs, as Azure ensures a system&#39;s time is properly synchronized.</span></span> <span data-ttu-id="685eb-284">Como consecuencia de esto, se debe configurar un servidor horario independiente, que lo puedan usar servidores de aplicaciones SAP que se ejecutan en VM de Azure y las instancias de base de datos de SAP HANA que se ejecutan en instancias grandes de HANA.</span><span class="sxs-lookup"><span data-stu-id="685eb-284">As a result, a separate time server must be set up that can be used by SAP application servers running on Azure VMs and the SAP HANA database instances running on HANA Large Instances.</span></span> <span data-ttu-id="685eb-285">La infraestructura de almacenamiento en marcas de instancias grandes se sincronizado con los servidores NTP.</span><span class="sxs-lookup"><span data-stu-id="685eb-285">The storage infrastructure in Large Instance stamps is time synchronized with NTP servers.</span></span>

## <a name="setting-up-smt-server-for-suse-linux"></a><span data-ttu-id="685eb-286">Configuración de servidor SMT para SUSE Linux</span><span class="sxs-lookup"><span data-stu-id="685eb-286">Setting up SMT server for SUSE Linux</span></span>
<span data-ttu-id="685eb-287">Las instancias grandes de SAP HANA no tienen conectividad directa a Internet.</span><span class="sxs-lookup"><span data-stu-id="685eb-287">SAP HANA Large Instances don't have direct connectivity to the Internet.</span></span> <span data-ttu-id="685eb-288">Por tanto, no es un proceso sencillo registrar una de estas unidades con el proveedor de sistema operativo y descargar y aplicar las revisiones.</span><span class="sxs-lookup"><span data-stu-id="685eb-288">Hence it is not a straightforward process to register such a unit with the OS provider and to download and apply patches.</span></span> <span data-ttu-id="685eb-289">En el caso de SUSE Linux, una solución podría ser configurar un servidor SMT en una máquina virtual de Azure.</span><span class="sxs-lookup"><span data-stu-id="685eb-289">In the case of SUSE Linux, one solution could be to set up an SMT server in an Azure VM.</span></span> <span data-ttu-id="685eb-290">Al mismo tiempo, la máquina virtual de Azure debe estar hospedada en una red virtual de Azure, que está conectada a la instancia grande de HANA.</span><span class="sxs-lookup"><span data-stu-id="685eb-290">Whereas the Azure VM needs to be hosted in an Azure VNet, which is connected to the HANA Large Instance.</span></span> <span data-ttu-id="685eb-291">Con este tipo de servidor SMT, la unidad de instancia grande de HANA podría registrar y descargar las revisiones.</span><span class="sxs-lookup"><span data-stu-id="685eb-291">With such an SMT server, the HANA Large Instance unit could register and download patches.</span></span> 

<span data-ttu-id="685eb-292">SUSE proporciona una guía más extensa en [Subscription Management Tool for SLES 12 SP2](https://www.suse.com/documentation/sles-12/pdfdoc/book_smt/book_smt.pdf) (Herramienta de administración de suscripciones para SLES 12 SP2).</span><span class="sxs-lookup"><span data-stu-id="685eb-292">SUSE provides a larger guide on their [Subscription Management Tool for SLES 12 SP2](https://www.suse.com/documentation/sles-12/pdfdoc/book_smt/book_smt.pdf).</span></span> 

<span data-ttu-id="685eb-293">Como condición previa para la instalación de un servidor SMT que realice la tarea para la instancia grande de HANA, necesitará:</span><span class="sxs-lookup"><span data-stu-id="685eb-293">As precondition for the installation of an SMT server that fulfills the task for HANA Large Instance, you would need:</span></span>

- <span data-ttu-id="685eb-294">Una red virtual de Azure conectada al circuito ER de instancias grandes de HANA.</span><span class="sxs-lookup"><span data-stu-id="685eb-294">An Azure VNet that is connected to the HANA Large Instance ER circuit.</span></span>
- <span data-ttu-id="685eb-295">Una cuenta de SUSE que esté asociada a una organización.</span><span class="sxs-lookup"><span data-stu-id="685eb-295">A SUSE account that is associated with an organization.</span></span> <span data-ttu-id="685eb-296">La organización necesitaría tener alguna suscripción válida de SUSE.</span><span class="sxs-lookup"><span data-stu-id="685eb-296">Whereas the organization would need to have some valid SUSE subscription.</span></span>

### <a name="installation-of-smt-server-on-azure-vm"></a><span data-ttu-id="685eb-297">Instalación del servidor SMT en la máquina virtual de Azure</span><span class="sxs-lookup"><span data-stu-id="685eb-297">Installation of SMT server on Azure VM</span></span>

<span data-ttu-id="685eb-298">En este paso, se instala al servidor SMT en una máquina virtual de Azure.</span><span class="sxs-lookup"><span data-stu-id="685eb-298">In this step, you install the SMT server in an Azure VM.</span></span> <span data-ttu-id="685eb-299">La primera medida consiste en iniciar sesión en [SUSE Customer Center](https://scc.suse.com/) (Centro de servicios al cliente de SUSE).</span><span class="sxs-lookup"><span data-stu-id="685eb-299">The first measure is to log in to the [SUSE Customer Center](https://scc.suse.com/)</span></span>

<span data-ttu-id="685eb-300">Después de iniciar sesión, vaya a Organización--> Credenciales de organización.</span><span class="sxs-lookup"><span data-stu-id="685eb-300">As you are logged in, go to Organization--> Organization Credentials.</span></span> <span data-ttu-id="685eb-301">En esa sección debería encontrar las credenciales necesarias para configurar el servidor SMT.</span><span class="sxs-lookup"><span data-stu-id="685eb-301">In that section you should find the credentials that are necessary to set up the SMT server.</span></span>

<span data-ttu-id="685eb-302">El tercer paso consiste en instalar una máquina virtual de SUSE Linux en la red virtual de Azure.</span><span class="sxs-lookup"><span data-stu-id="685eb-302">The third step is to install a SUSE Linux VM in the Azure VNet.</span></span> <span data-ttu-id="685eb-303">Para implementar la máquina virtual, tome una imagen de SLES 12 SP2 de la galería de Azure.</span><span class="sxs-lookup"><span data-stu-id="685eb-303">To deploy the VM, take a SLES 12 SP2 gallery image of Azure.</span></span> <span data-ttu-id="685eb-304">En el proceso de implementación, no defina un nombre DNS y no use direcciones IP estáticas, tal como se muestra en esta captura de pantalla</span><span class="sxs-lookup"><span data-stu-id="685eb-304">In the deployment process, don't define a DNS name and do not use static IP addresses as seen in this screen shot</span></span>

![implementación de VM para servidor SMT](./media/hana-installation/image3_vm_deployment.png)

<span data-ttu-id="685eb-306">La máquina virtual implementada era una máquina virtual más pequeña y tenía la dirección IP interna 10.34.1.4 en la red virtual de Azure.</span><span class="sxs-lookup"><span data-stu-id="685eb-306">The deployed VM was a smaller VM and got the internal IP address in the Azure VNet of 10.34.1.4.</span></span> <span data-ttu-id="685eb-307">El nombre de la máquina virtual era smtserver.</span><span class="sxs-lookup"><span data-stu-id="685eb-307">Name of the VM was smtserver.</span></span> <span data-ttu-id="685eb-308">Después de la instalación, se comprobó la conectividad con las unidades de instancia grande de HANA.</span><span class="sxs-lookup"><span data-stu-id="685eb-308">After the installation, the connectivity to the HANA Large instance unit(s) was checked.</span></span> <span data-ttu-id="685eb-309">En función de cómo haya organizado la resolución de nombres, es posible que tenga que configurar la resolución de las unidades de instancia grande de HANA en etc/hosts en la máquina virtual de Azure.</span><span class="sxs-lookup"><span data-stu-id="685eb-309">Dependent on how you organized name resolution you might need to configure resolution of the HANA Large Instance units in etc/hosts of the Azure VM.</span></span> <span data-ttu-id="685eb-310">Agregue un disco adicional a la máquina virtual que se va a usar para contener las revisiones.</span><span class="sxs-lookup"><span data-stu-id="685eb-310">Add an additional disk to the VM that is going to be used to hold the patches.</span></span> <span data-ttu-id="685eb-311">El propio disco de arranque podría ser demasiado pequeño.</span><span class="sxs-lookup"><span data-stu-id="685eb-311">The boot disk itself could be too small.</span></span> <span data-ttu-id="685eb-312">En el caso del ejemplo, el disco se montó en /srv/www/htdocs, como se muestra en la captura de pantalla siguiente.</span><span class="sxs-lookup"><span data-stu-id="685eb-312">In the case demonstrated, the disk got mounted to /srv/www/htdocs as shown in the following screenshot.</span></span> <span data-ttu-id="685eb-313">Un disco de 100 GB debería ser suficiente.</span><span class="sxs-lookup"><span data-stu-id="685eb-313">A 100 GB disk should suffice.</span></span>

![implementación de VM para servidor SMT](./media/hana-installation/image4_additional_disk_on_smtserver.PNG)

<span data-ttu-id="685eb-315">Inicie sesión en las unidades de instancia grande de HANA, mantenga /etc/hosts y compruebe si puede tener acceso a la máquina virtual de Azure en la que supuestamente se ejecuta el servidor SMT a través de la red.</span><span class="sxs-lookup"><span data-stu-id="685eb-315">Log in to the HANA Large Instance unit(s), maintain /etc/hosts and check whether you can reach the Azure VM that is supposed to run the SMT server over the network.</span></span>

<span data-ttu-id="685eb-316">Después de realizar correctamente esta comprobación, debe iniciar sesión en la máquina virtual de Azure en la que se debe ejecutar el servidor SMT.</span><span class="sxs-lookup"><span data-stu-id="685eb-316">After this check is done successfully, you need to log in to the Azure VM that should run the SMT server.</span></span> <span data-ttu-id="685eb-317">Si usa putty para iniciar sesión en la máquina virtual, debe ejecutar esta secuencia de comandos en la ventana de Bash:</span><span class="sxs-lookup"><span data-stu-id="685eb-317">If you are using putty to log in to the VM, you need to execute this sequence of commands in your bash window:</span></span>

```
cd ~
echo "export NCURSES_NO_UTF8_ACS=1" >> .bashrc
```

<span data-ttu-id="685eb-318">Después de ejecutar estos comandos, reinicie Bash para activar la configuración.</span><span class="sxs-lookup"><span data-stu-id="685eb-318">After executing these commands, restart your bash to activate the settings.</span></span> <span data-ttu-id="685eb-319">Después, inicie YAST.</span><span class="sxs-lookup"><span data-stu-id="685eb-319">Then start YAST.</span></span>

<span data-ttu-id="685eb-320">En YAST, vaya a Mantenimiento de software y busque smt.</span><span class="sxs-lookup"><span data-stu-id="685eb-320">In YAST, go to Software Maintenance and search for smt.</span></span> <span data-ttu-id="685eb-321">Seleccione smt, que cambia automáticamente a yast2-smt, como se muestra a continuación</span><span class="sxs-lookup"><span data-stu-id="685eb-321">Select smt, which switches automatically to yast2-smt as shown below</span></span>

![SMT en yast](./media/hana-installation/image5_smt_in_yast.PNG)


<span data-ttu-id="685eb-323">Acepte la selección para la instalación en el servidor SMT.</span><span class="sxs-lookup"><span data-stu-id="685eb-323">Accept the selection for installation on the smtserver.</span></span> <span data-ttu-id="685eb-324">Una vez instalado, vaya a la configuración del servidor SMT y escriba las credenciales de la organización que recuperó anteriormente desde el Centro de servicios al cliente de SUSE.</span><span class="sxs-lookup"><span data-stu-id="685eb-324">Once installed, go to the SMT server configuration and enter the organizational credentials from the SUSE Customer Center you retrieved earlier.</span></span> <span data-ttu-id="685eb-325">Escriba también el nombre de host de la máquina virtual de Azure y la dirección URL del servidor SMT.</span><span class="sxs-lookup"><span data-stu-id="685eb-325">Also enter your Azure VM hostname as the SMT Server URL.</span></span> <span data-ttu-id="685eb-326">En este ejemplo era https://smtserver, como se muestra en el gráfico siguiente.</span><span class="sxs-lookup"><span data-stu-id="685eb-326">In this demonstration, it was https://smtserver as displayed in the next graphics.</span></span>

![Configuración del servidor SMT](./media/hana-installation/image6_configuration_of_smtserver1.png)

<span data-ttu-id="685eb-328">Como paso siguiente, debe comprobar si funciona la conexión al Centro de servicios al cliente de SUSE.</span><span class="sxs-lookup"><span data-stu-id="685eb-328">As next step, you need to test whether the connection to the SUSE Customer Center works.</span></span> <span data-ttu-id="685eb-329">Como se ve en los gráficos siguientes, en el caso del ejemplo, ha funcionado.</span><span class="sxs-lookup"><span data-stu-id="685eb-329">As you see in the following graphics, in the demonstration case, it did work.</span></span>

![Probar la conexión al Centro de servicios al cliente de SUSE](./media/hana-installation/image7_test_connect.png)

<span data-ttu-id="685eb-331">Una vez se inicia el programa de instalación de SMT, debe proporcionar una contraseña de base de datos.</span><span class="sxs-lookup"><span data-stu-id="685eb-331">Once the SMT setup starts, you need to provide a database password.</span></span> <span data-ttu-id="685eb-332">Como es una instalación nueva, debe definir esa contraseña como se muestra en el gráfico siguiente.</span><span class="sxs-lookup"><span data-stu-id="685eb-332">Since it is a new installation, you need to define that password as shown in the next graphics.</span></span>

![Definir la contraseña de la base de datos](./media/hana-installation/image8_define_db_passwd.PNG)

<span data-ttu-id="685eb-334">La interacción siguiente tiene lugar cuando se crea un certificado.</span><span class="sxs-lookup"><span data-stu-id="685eb-334">The next interaction you have is when a certificate gets created.</span></span> <span data-ttu-id="685eb-335">Recorra el cuadro de diálogo como se muestra a continuación y continúe con el siguiente paso.</span><span class="sxs-lookup"><span data-stu-id="685eb-335">Go through the dialog as shown next and the step should proceed.</span></span>

![Crear certificado para el servidor SMT](./media/hana-installation/image9_certificate_creation.PNG)

<span data-ttu-id="685eb-337">Es posible que se tarden varios minutos en el paso de "Ejecutar comprobación de sincronización" al final de la configuración.</span><span class="sxs-lookup"><span data-stu-id="685eb-337">There might be some minutes spent in the step of 'Run synchronization check' at the end of the configuration.</span></span> <span data-ttu-id="685eb-338">Después de la instalación y configuración del servidor SMT, debería encontrar el repositorio de directorio bajo el punto de montaje /srv/www/htdocs/ junto con varios subdirectorios.</span><span class="sxs-lookup"><span data-stu-id="685eb-338">After the installation and configuration of the SMT server, you should find the directory repo under the mount point /srv/www/htdocs/ plus some sub-directories under repo.</span></span> 

<span data-ttu-id="685eb-339">Reinicie el servidor SMT y sus servicios relacionados con estos comandos.</span><span class="sxs-lookup"><span data-stu-id="685eb-339">Restart the SMT server and its related services with these commands.</span></span>

```
rcsmt restart
systemctl restart smt.service
systemctl restart apache2
```

### <a name="download-of-packages-onto-smt-server"></a><span data-ttu-id="685eb-340">Descarga de paquetes al servidor SMT</span><span class="sxs-lookup"><span data-stu-id="685eb-340">Download of packages onto SMT server</span></span>

<span data-ttu-id="685eb-341">Después de reiniciar todos los servicios, seleccione los paquetes adecuados en la administración de SMT con Yast.</span><span class="sxs-lookup"><span data-stu-id="685eb-341">After all the services are restarted, select the appropriate packages in SMT Management using Yast.</span></span> <span data-ttu-id="685eb-342">La selección de paquetes depende de la imagen del sistema operativo del servidor de instancias grandes de HANA y no de la versión de SLES de la máquina virtual en la que se ejecuta el servidor SMT.</span><span class="sxs-lookup"><span data-stu-id="685eb-342">The package selection depends on the OS image of the HANA Large Instance  server and not on the SLES release or version of the VM running the SMT server.</span></span> <span data-ttu-id="685eb-343">A continuación se muestra un ejemplo de la pantalla de selección.</span><span class="sxs-lookup"><span data-stu-id="685eb-343">An example of the selection screen is shown below.</span></span>

![Seleccionar paquetes](./media/hana-installation/image10_select_packages.PNG)

<span data-ttu-id="685eb-345">Una vez haya terminado con la selección de paquetes, debe iniciar la copia inicial de los paquetes seleccionados en el servidor SMT que configuró.</span><span class="sxs-lookup"><span data-stu-id="685eb-345">Once you are finished with the package selection, you need to start the initial copy of the select packages to the SMT server you set up.</span></span> <span data-ttu-id="685eb-346">Esta copia se desencadena en el shell mediante el comando smt-mirror como se muestra a continuación</span><span class="sxs-lookup"><span data-stu-id="685eb-346">This copy is triggered in the shell using the command smt-mirror as shown below</span></span>


![Descargar los paquetes al servidor SMT](./media/hana-installation/image11_download_packages.PNG)

<span data-ttu-id="685eb-348">Como puede ver arriba, los paquetes se deben copiar en los directorios creados bajo el punto de montaje /srv/www/htdocs.</span><span class="sxs-lookup"><span data-stu-id="685eb-348">As you see above, the packages should get copied into the directories created under the mount point /srv/www/htdocs.</span></span> <span data-ttu-id="685eb-349">Este proceso puede tardar unos minutos.</span><span class="sxs-lookup"><span data-stu-id="685eb-349">This process can take a while.</span></span> <span data-ttu-id="685eb-350">Según el número de paquetes que seleccione, se puede tardar una hora o más.</span><span class="sxs-lookup"><span data-stu-id="685eb-350">Dependent on how many packages you select, it could take up to one hour or more.</span></span>
<span data-ttu-id="685eb-351">Cuando finalice este proceso, debe pasar a la configuración del cliente SMT.</span><span class="sxs-lookup"><span data-stu-id="685eb-351">As this process finishes, you need to move to the SMT client setup.</span></span> 

### <a name="set-up-the-smt-client-on-hana-large-instance-units"></a><span data-ttu-id="685eb-352">Configurar el cliente SMT en unidades de instancia grande de HANA</span><span class="sxs-lookup"><span data-stu-id="685eb-352">Set up the SMT client on HANA Large Instance units</span></span>

<span data-ttu-id="685eb-353">En este caso, los clientes son las unidades de instancia grande de HANA.</span><span class="sxs-lookup"><span data-stu-id="685eb-353">The client(s) in this case are the HANA Large Instance units.</span></span> <span data-ttu-id="685eb-354">El programa de instalación del servidor SMT copió el script clientSetup4SMT.sh en la máquina virtual de Azure.</span><span class="sxs-lookup"><span data-stu-id="685eb-354">The SMT server setup copied the script clientSetup4SMT.sh into the Azure VM.</span></span> <span data-ttu-id="685eb-355">Copie ese script en la unidad de instancia grande de HANA que quiere conectar a su servidor SMT.</span><span class="sxs-lookup"><span data-stu-id="685eb-355">Copy that script over to the HANA Large Instance unit you want to connect to your SMT server.</span></span> <span data-ttu-id="685eb-356">Inicie el script con la opción -h y asígnele como parámetro el nombre del servidor SMT.</span><span class="sxs-lookup"><span data-stu-id="685eb-356">Start the script with the -h option and give it as parameter the name of your SMT server.</span></span> <span data-ttu-id="685eb-357">En este ejemplo es smtserver.</span><span class="sxs-lookup"><span data-stu-id="685eb-357">In this example smtserver.</span></span>

![Configurar el cliente SMT](./media/hana-installation/image12_configure_client.PNG)

<span data-ttu-id="685eb-359">Es posible que haya un escenario en el que la carga del certificado desde el servidor por el cliente se realice correctamente, pero como se muestra a continuación no se pudo realizar el registro.</span><span class="sxs-lookup"><span data-stu-id="685eb-359">There might be a scenario where the load of the certificate from the server by the client succeeded, but the registration failed as shown below.</span></span>

![Se produce un error en el registro de cliente](./media/hana-installation/image13_registration_failed.PNG)

<span data-ttu-id="685eb-361">Si se produce un error en el registro, lea este [documento de soporte de SUSE](https://www.suse.com/de-de/support/kb/doc/?id=7006024) y ejecute los pasos que describe.</span><span class="sxs-lookup"><span data-stu-id="685eb-361">If the registration failed, read this [SUSE support document](https://www.suse.com/de-de/support/kb/doc/?id=7006024) and execute the steps described there.</span></span>

> [!IMPORTANT] 
> <span data-ttu-id="685eb-362">Como nombre del servidor debe proporcionar el nombre de la máquina virtual, en este caso smtserver, sin el nombre de dominio completo.</span><span class="sxs-lookup"><span data-stu-id="685eb-362">As server name you need to provide the name of the VM, in this case smtserver, without the fully qualified domain name.</span></span> <span data-ttu-id="685eb-363">Con el nombre de la máquina virtual es suficiente.</span><span class="sxs-lookup"><span data-stu-id="685eb-363">Just the VM name works.</span></span> 

<span data-ttu-id="685eb-364">Después de ejecutar estos pasos, debe ejecutar el comando siguiente en la unidad de instancia grande de HANA.</span><span class="sxs-lookup"><span data-stu-id="685eb-364">After these steps have been executed, you need to execute the following command on the HANA Large Instance unit</span></span>

```
SUSEConnect –cleanup
```

> [!Note] 
> <span data-ttu-id="685eb-365">En nuestras pruebas siempre se tuvieron que esperar unos minutos después de ese paso.</span><span class="sxs-lookup"><span data-stu-id="685eb-365">In our tests we always had to wait a few minutes after that step.</span></span> <span data-ttu-id="685eb-366">La ejecución inmediata de clientSetup4SMT.sh, después de las medidas correctoras que se describen en el artículo de SUSE, finalizó con mensajes que indicaban que el certificado todavía no era válido.</span><span class="sxs-lookup"><span data-stu-id="685eb-366">The immediate execution clientSetup4SMT.sh, after the corrective measures described in the SUSE article, ended with messages that the certificate would not be valid yet.</span></span> <span data-ttu-id="685eb-367">Para configurar correctamente el cliente normalmente se tenía que esperar 5-10 minutos y ejecutar clientSetup4SMT.sh.</span><span class="sxs-lookup"><span data-stu-id="685eb-367">Waiting for 5-10 minutes usually and executing clientSetup4SMT.sh ended in a successful client configuration.</span></span>

<span data-ttu-id="685eb-368">Si se produce el problema que tuvo que corregir según los pasos descritos en el artículo de SUSE, debe reiniciar clientSetup4SMT.sh en la unidad de instancia grande de HANA de nuevo.</span><span class="sxs-lookup"><span data-stu-id="685eb-368">If you ran into the issue that you needed to fix based on the steps of the SUSE article, you need to restart clientSetup4SMT.sh on the HANA Large Instance unit again.</span></span> <span data-ttu-id="685eb-369">Ahora debería finalizar correctamente como se muestra a continuación.</span><span class="sxs-lookup"><span data-stu-id="685eb-369">Now it should finish successfully as shown below.</span></span>

![Registro correcto del cliente](./media/hana-installation/image14_finish_client_config.PNG)

<span data-ttu-id="685eb-371">Con este paso, ha configurado el cliente SMT de la unidad de instancia grande de HANA para conectarse con el servidor SMT instalado en la máquina virtual de Azure.</span><span class="sxs-lookup"><span data-stu-id="685eb-371">With this step, you configured the SMT client of the HANA Large Instance unit to connect against the SMT server you installed in the Azure VM.</span></span> <span data-ttu-id="685eb-372">Ahora puede ejecutar "zypper up" o "zypper in" para instalar revisiones del sistema operativo en instancias grandes de HANA o instalar paquetes adicionales.</span><span class="sxs-lookup"><span data-stu-id="685eb-372">You now can take 'zypper up' or 'zypper in' to install OS patches to HANA Large Instances or install additional packages.</span></span> <span data-ttu-id="685eb-373">Se entiende que solo puede obtener las revisiones que descargó antes en el servidor SMT.</span><span class="sxs-lookup"><span data-stu-id="685eb-373">It is understood that you only can get patches that you downloaded before on the SMT server.</span></span>


## <a name="example-of-an-sap-hana-installation-on-hana-large-instances"></a><span data-ttu-id="685eb-374">Ejemplo de una instalación de SAP HANA en instancias grandes de HANA</span><span class="sxs-lookup"><span data-stu-id="685eb-374">Example of an SAP HANA installation on HANA Large Instances</span></span>
<span data-ttu-id="685eb-375">En esta sección se muestra cómo instalar SAP HANA en una unidad de instancia grande de HANA.</span><span class="sxs-lookup"><span data-stu-id="685eb-375">This section illustrates how to install SAP HANA on a HANA Large Instance unit.</span></span> <span data-ttu-id="685eb-376">El estado de inicio que tenemos tiene el siguiente aspecto:</span><span class="sxs-lookup"><span data-stu-id="685eb-376">The start state we have look  like:</span></span>

- <span data-ttu-id="685eb-377">Ha proporcionado a Microsoft todos los datos para implementar una instancia grande de SAP HANA.</span><span class="sxs-lookup"><span data-stu-id="685eb-377">You provided Microsoft all the data to deploy you an SAP HANA Large Instance.</span></span>
- <span data-ttu-id="685eb-378">Ha recibido la instancia grande de SAP HANA de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="685eb-378">You received the SAP HANA Large Instance from Microsoft.</span></span>
- <span data-ttu-id="685eb-379">Ha creado una red virtual de Azure que está conectada a la red local.</span><span class="sxs-lookup"><span data-stu-id="685eb-379">You created an Azure VNet that is connected to your on-premise network.</span></span>
- <span data-ttu-id="685eb-380">Ha conectado el circuito ExpressRotue para instancias grandes de HANA a la misma red virtual de Azure.</span><span class="sxs-lookup"><span data-stu-id="685eb-380">You connected the ExpressRotue circuit for HANA Large Instances to the same Azure VNet.</span></span>
- <span data-ttu-id="685eb-381">Ha instalado una máquina virtual de Azure que se usa como host administrativo seguro para instancias grandes de HANA.</span><span class="sxs-lookup"><span data-stu-id="685eb-381">You installed an Azure VM you use as a jump box for HANA Large Instances.</span></span>
- <span data-ttu-id="685eb-382">Se ha asegurado de que puede conectarse desde el host administrativo seguro a la unidad de instancia grande de HANA y viceversa.</span><span class="sxs-lookup"><span data-stu-id="685eb-382">You made sure that you can connect from the jump box to your HANA Large Instance unit and vice versa.</span></span>
- <span data-ttu-id="685eb-383">Ha comprobado si están instalados todos los paquetes y revisiones necesarios.</span><span class="sxs-lookup"><span data-stu-id="685eb-383">You checked whether all the necessary packages and patches are installed.</span></span>
- <span data-ttu-id="685eb-384">Ha leído las notas de SAP y la documentación relativa a la instalación de HANA en el sistema operativo que usa y se ha asegurado de que la versión de HANA seleccionada es compatible con la versión del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="685eb-384">You read the SAP notes and documentations regarding HANA installation on the OS you are using and made sure that the HANA release of choice is supported on the OS release.</span></span>

<span data-ttu-id="685eb-385">En las secuencias siguientes se muestra la descarga de los paquetes de instalación de HANA a la máquina virtual de host administrativo seguro, que en este caso se ejecuta en un sistema operativo de Windows, la copia de los paquetes a la unidad de instancia grande de HANA y la secuencia de la instalación.</span><span class="sxs-lookup"><span data-stu-id="685eb-385">What is shown in the next sequences is the download of the HANA installation packages to the jump box VM, in this case running on a Windows OS, the copy of the packages to the HANA Large Instance unit and the sequence of the setup.</span></span>

### <a name="download-of-the-sap-hana-installation-bits"></a><span data-ttu-id="685eb-386">Descarga de los elementos de instalación de SAP HANA</span><span class="sxs-lookup"><span data-stu-id="685eb-386">Download of the SAP HANA installation bits</span></span>
<span data-ttu-id="685eb-387">Puesto que las unidades de instancia grande de HANA no tienen conectividad directa a Internet, no puede descargar directamente los paquetes de instalación desde SAP en la máquina virtual de la instancia grande de HANA.</span><span class="sxs-lookup"><span data-stu-id="685eb-387">Since the HANA Large Instance units don't have direct connectivity to the internet, you can't directly download the installation packages from SAP to the HANA Large Instance VM.</span></span> <span data-ttu-id="685eb-388">Para solucionar la falta de conectividad directa a Internet, se necesita el host administrativo seguro.</span><span class="sxs-lookup"><span data-stu-id="685eb-388">To overcome the missing direct internet connectivity, you need the jump box.</span></span> <span data-ttu-id="685eb-389">Descargue los paquetes a la máquina virtual de host administrativo seguro.</span><span class="sxs-lookup"><span data-stu-id="685eb-389">You download the packages to the jump box VM.</span></span>

<span data-ttu-id="685eb-390">Para descargar los paquetes de instalación de HANA, necesitará un usuario S de SAP u otro usuario, lo que le permite obtener acceso a la tienda de SAP.</span><span class="sxs-lookup"><span data-stu-id="685eb-390">In order to download the HANA installation packages, you need an SAP S-user or other user, which allows you to access the SAP Marketplace.</span></span> <span data-ttu-id="685eb-391">Después de iniciar sesión, recorra esta secuencia de pantallas:</span><span class="sxs-lookup"><span data-stu-id="685eb-391">Go through this sequence of screens after logging in:</span></span>

<span data-ttu-id="685eb-392">Vaya a [SAP Service Marketplace](https://support.sap.com/en/index.html) (Tienda del servicio SAP) > haga clic en Descargar Software > Instalaciones y actualización > Por índice alfabético > En H: SAP HANA Platform Edition > SAP HANA Platform Edition 2.0 > Instalación > descargue los archivos siguientes.</span><span class="sxs-lookup"><span data-stu-id="685eb-392">Go to [SAP Service Marketplace](https://support.sap.com/en/index.html) > Click Download Software > Installations and Upgrade >By Alphabetical Index >Under H – SAP HANA Platform Edition > SAP HANA Platform Edition 2.0 > Installation > Download the following files</span></span>

![Descargar la instalación de HANA](./media/hana-installation/image16_download_hana.PNG)

<span data-ttu-id="685eb-394">En el caso de ejemplo, se descargan los paquetes de instalación de SAP HANA 2.0.</span><span class="sxs-lookup"><span data-stu-id="685eb-394">In the demonstration case, we downloaded SAP HANA 2.0 installation packages.</span></span> <span data-ttu-id="685eb-395">En la máquina virtual de host administrativo seguro de Azure, expanda los archivos autoextraíbles en el directorio tal y como se muestra a continuación.</span><span class="sxs-lookup"><span data-stu-id="685eb-395">On the Azure jump box VM, you expand the self-extracting archives into the directory as shown below.</span></span>

![Extraer la instalación de HANA](./media/hana-installation/image17_extract_hana.PNG)

<span data-ttu-id="685eb-397">Una vez extraídos los archivos, copie el directorio creado por la extracción, 51052030 en el caso anterior, a la unidad de instancia grande de HANA en el volumen /hana/shared en un directorio que haya creado.</span><span class="sxs-lookup"><span data-stu-id="685eb-397">As the archives are extracted, copy the directory created by the extraction, in the case above 51052030, to the HANA Large instance unit into the /hana/shared volume into a directory you created.</span></span>

> [!Important]
> <span data-ttu-id="685eb-398">No copie los paquetes de instalación en la raíz o el LUN de inicio dado que el espacio es limitado y también debe usarse por otros procesos.</span><span class="sxs-lookup"><span data-stu-id="685eb-398">Do Not copy the installation packages into the root or boot LUN since space is limited and needs to be used by other processes as well.</span></span>


### <a name="install-sap-hana-on-the-hana-large-instance-unit"></a><span data-ttu-id="685eb-399">Instalar SAP HANA en la unidad de instancia grande de HANA</span><span class="sxs-lookup"><span data-stu-id="685eb-399">Install SAP HANA on the HANA Large Instance unit</span></span>
<span data-ttu-id="685eb-400">Para poder instalar SAP HANA, debe iniciar sesión como raíz del usuario.</span><span class="sxs-lookup"><span data-stu-id="685eb-400">In order to install SAP HANA, you need to log in as user root.</span></span> <span data-ttu-id="685eb-401">Solo la raíz tiene los permisos suficientes para instalar SAP HANA.</span><span class="sxs-lookup"><span data-stu-id="685eb-401">Only root has enough permissions to install SAP HANA.</span></span>
<span data-ttu-id="685eb-402">Lo primero que debe hacer es establecer permisos en el directorio que copió en /hana/shared.</span><span class="sxs-lookup"><span data-stu-id="685eb-402">The first thing you need to do is to set permissions on the directory you copied over into /hana/shared.</span></span> <span data-ttu-id="685eb-403">Los permisos deben establecerse de esta forma</span><span class="sxs-lookup"><span data-stu-id="685eb-403">The permissions need to set like</span></span>

```
chmod –R 744 <Installation bits folder>
```

<span data-ttu-id="685eb-404">Si quiere instalar SAP HANA mediante el programa de instalación gráfico, es necesario instalar el paquete gtk2 en las instancias grandes de HANA.</span><span class="sxs-lookup"><span data-stu-id="685eb-404">If you want to install SAP HANA using the graphical setup, the gtk2 package needs to be installed on the HANA Large Instances.</span></span> <span data-ttu-id="685eb-405">Compruebe si está instalado con el comando</span><span class="sxs-lookup"><span data-stu-id="685eb-405">Check whether it is installed with the command</span></span>

```
rpm –qa | grep gtk2
```

<span data-ttu-id="685eb-406">En los pasos siguientes se describe la instalación de SAP HANA con la interfaz gráfica de usuario.</span><span class="sxs-lookup"><span data-stu-id="685eb-406">In further steps, we are demonstrating the SAP HANA setup with the graphical user interface.</span></span> <span data-ttu-id="685eb-407">Como paso siguiente, vaya al directorio de instalación y navegue al subdirectorio HDB_LCM_LINUX_X86_64.</span><span class="sxs-lookup"><span data-stu-id="685eb-407">As next step, go into the installation directory and navigate into the sub directory HDB_LCM_LINUX_X86_64.</span></span> <span data-ttu-id="685eb-408">Iniciar</span><span class="sxs-lookup"><span data-stu-id="685eb-408">Start</span></span>

```
./hdblcmgui 
```
<span data-ttu-id="685eb-409">desde ese directorio.</span><span class="sxs-lookup"><span data-stu-id="685eb-409">out of that directory.</span></span> <span data-ttu-id="685eb-410">Ahora se le guiará por una secuencia de pantallas donde debe proporcionar los datos de la instalación.</span><span class="sxs-lookup"><span data-stu-id="685eb-410">Now you are getting guided through a sequence of screens where you need to provide the data for the installation.</span></span> <span data-ttu-id="685eb-411">En el caso del ejemplo, se instalan los componentes de servidor de base de datos y cliente de SAP HANA.</span><span class="sxs-lookup"><span data-stu-id="685eb-411">In the case demonstrated, we are installing the SAP HANA database server and the SAP HANA client components.</span></span> <span data-ttu-id="685eb-412">Por tanto, nuestra selección es "SAP HANA Database" (Base de datos de SAP HANA) como se muestra a continuación</span><span class="sxs-lookup"><span data-stu-id="685eb-412">Therefore our selection is 'SAP HANA Database' as shown below</span></span>

![Seleccionar HANA en la instalación](./media/hana-installation/image18_hana_selection.PNG)

<span data-ttu-id="685eb-414">En la siguiente pantalla, elija la opción "Install New System" (Instalar nuevo sistema).</span><span class="sxs-lookup"><span data-stu-id="685eb-414">In the next screen, you choose the option 'Install New System'</span></span>

![Seleccionar la nueva instalación de HANA](./media/hana-installation/image19_select_new.PNG)

<span data-ttu-id="685eb-416">Después de este paso, debe seleccionar entre varios componentes adicionales que también se pueden instalar en el servidor de base de datos de SAP HANA.</span><span class="sxs-lookup"><span data-stu-id="685eb-416">After this step, you need to select between several additional components that can be installed additionally to the SAP HANA database server.</span></span>

![Seleccionar componentes adicionales de HANA](./media/hana-installation/image20_select_components.PNG)

<span data-ttu-id="685eb-418">En esta documentación, elegimos el cliente de SAP HANA y SAP HANA Studio.</span><span class="sxs-lookup"><span data-stu-id="685eb-418">For the purpose of this documentation, we chose the SAP HANA Client and the SAP HANA Studio.</span></span> <span data-ttu-id="685eb-419">También se instala una instancia de escalado vertical.</span><span class="sxs-lookup"><span data-stu-id="685eb-419">We also installed a scale-up instance.</span></span> <span data-ttu-id="685eb-420">Por tanto, en la siguiente pantalla, debe elegir "Single-Host System" (Sistema de un único host).</span><span class="sxs-lookup"><span data-stu-id="685eb-420">hence in the next screen, you need to choose 'Single-Host System'</span></span> 

![Seleccionar la instalación de escala vertical](./media/hana-installation/image21_single_host.PNG)

<span data-ttu-id="685eb-422">En la siguiente pantalla, debe proporcionar algunos datos.</span><span class="sxs-lookup"><span data-stu-id="685eb-422">In the next screen, you need to provide some data</span></span>

![Proporcionar el SID de SAP HANA](./media/hana-installation/image22_provide_sid.PNG)

> [!Important]
> <span data-ttu-id="685eb-424">Como Id. de sistema de HANA (SID), debe proporcionar el mismo SID que proporcionó a Microsoft cuando solicitó la implementación de la instancia grande de HANA.</span><span class="sxs-lookup"><span data-stu-id="685eb-424">As HANA System ID (SID), you need to provide the same SID, as you provided Microsoft when you ordered the HANA Large Instance deployment.</span></span> <span data-ttu-id="685eb-425">Elegir un SID distinto hace que se produzca un error en la instalación debido a problemas de permisos de acceso en los diferentes volúmenes.</span><span class="sxs-lookup"><span data-stu-id="685eb-425">Choosing a different SID makes the installation fail due to access permission problems on the different volumes</span></span>

<span data-ttu-id="685eb-426">Como directorio de instalación use el directorio /hana/shared.</span><span class="sxs-lookup"><span data-stu-id="685eb-426">As installation directory you use the /hana/shared directory.</span></span> <span data-ttu-id="685eb-427">En el paso siguiente, debe proporcionar las ubicaciones para los archivos de datos y de registro de HANA.</span><span class="sxs-lookup"><span data-stu-id="685eb-427">In the next step, you need to provide the locations for the HANA data files and the HANA log files</span></span>


![Proporcionar la ubicación del registro de HANA](./media/hana-installation/image23_provide_log.PNG)

> [!Note]
> <span data-ttu-id="685eb-429">Como archivos de datos y de registro debe definir los volúmenes que ya se incluían con los puntos de montaje que contienen al SID que eligió en la selección de la pantalla anterior a esta.</span><span class="sxs-lookup"><span data-stu-id="685eb-429">You should define as data and log files the volumes that came already with the mount points that contain the SID you chose in the screen selection before this screen.</span></span> <span data-ttu-id="685eb-430">Si el SID no coincide con el que escribió en la pantalla anterior, vuelva atrás y ajuste el SID en el valor de los puntos de montaje.</span><span class="sxs-lookup"><span data-stu-id="685eb-430">If the SID does mismatch with the one you typed in, in the screen before, go back and adjust the SID to the value you have on the mount points.</span></span>

<span data-ttu-id="685eb-431">En el paso siguiente, revise el nombre de host y corríjalo si es necesario.</span><span class="sxs-lookup"><span data-stu-id="685eb-431">In the next step, review the host name and eventually correct it.</span></span> 

![Revisar el nombre de host](./media/hana-installation/image24_review_host_name.PNG)

<span data-ttu-id="685eb-433">En el paso siguiente, también debe recuperar los datos que proporcionó a Microsoft cuando solicitó la implementación de la instancia grande de HANA.</span><span class="sxs-lookup"><span data-stu-id="685eb-433">In the next step, you also need to retrieve data you gave to Microsoft when you ordered the HANA Large Instance deployment.</span></span> 

![Proporcionar el UID y GID del usuario del sistema](./media/hana-installation/image25_provide_guid.PNG)

> [!Important]
> <span data-ttu-id="685eb-435">Debe proporcionar el mismo Id. de usuario del sistema y el mismo Id. de grupo de usuarios que proporcionó a Microsoft cuando solicitó la implementación de la unidad.</span><span class="sxs-lookup"><span data-stu-id="685eb-435">You need to provide the same System User ID and ID of User Group as you provided Microsoft as you order the unit deployment.</span></span> <span data-ttu-id="685eb-436">Si no proporciona los mismos identificadores, se produce un error en la instalación de SAP HANA en la unidad de instancia grande de HANA.</span><span class="sxs-lookup"><span data-stu-id="685eb-436">If you fail to give the very same IDs, the installation of SAP HANA on the HANA Large Instance unit fails.</span></span>

<span data-ttu-id="685eb-437">En las dos pantallas siguientes, que no se muestran en esta documentación, tiene que proporcionar la contraseña para el usuario SYSTEM de la base de datos de SAP HANA y la contraseña para el usuario sapadm, que se usa para el agente de host de SAP que se instala como parte de la instancia de base de datos de SAP HANA.</span><span class="sxs-lookup"><span data-stu-id="685eb-437">In the next two screens, which we are not showing in this documentation, you need to provide the password for the SYSTEM user of the SAP HANA database and the password for the sapadm user, which is used for the SAP Host Agent that gets installed as part of the SAP HANA database instance.</span></span>

<span data-ttu-id="685eb-438">Después de definir la contraseña, aparece una pantalla de confirmación.</span><span class="sxs-lookup"><span data-stu-id="685eb-438">After defining the password, a confirmation screen is showing up.</span></span> <span data-ttu-id="685eb-439">Compruebe todos los datos que se muestran y continúe con la instalación.</span><span class="sxs-lookup"><span data-stu-id="685eb-439">check all the data listed and continue with the installation.</span></span> <span data-ttu-id="685eb-440">Llegará a una pantalla de progreso en la que se documenta el progreso de la instalación, como la siguiente:</span><span class="sxs-lookup"><span data-stu-id="685eb-440">You reach a progress screen that documents the installation progress, like the one below</span></span>

![Comprobar el progreso de la instalación](./media/hana-installation/image27_show_progress.PNG)

<span data-ttu-id="685eb-442">Cuando finalice la instalación, debería ver una imagen como la siguiente:</span><span class="sxs-lookup"><span data-stu-id="685eb-442">As the installation finishes, you should a picture like the following one</span></span>

![La instalación ha finalizado](./media/hana-installation/image28_install_finished.PNG)

<span data-ttu-id="685eb-444">En este momento, la instancia de SAP HANA debe estar en ejecución y lista para su uso.</span><span class="sxs-lookup"><span data-stu-id="685eb-444">At this point, the SAP HANA instance should be up and running and ready for usage.</span></span> <span data-ttu-id="685eb-445">Debe poder conectarse a ella desde SAP HANA Studio.</span><span class="sxs-lookup"><span data-stu-id="685eb-445">You should be able to connect to it from SAP HANA Studio.</span></span> <span data-ttu-id="685eb-446">Asegúrese también de buscar y aplicar las últimas revisiones de SAP HANA.</span><span class="sxs-lookup"><span data-stu-id="685eb-446">Also make sure that you check for the latest patches of SAP HANA and apply those patches.</span></span>
























































 







 




