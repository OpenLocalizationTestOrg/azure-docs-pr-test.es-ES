---
title: "SAP NetWeaver en máquinas virtuales de Azure: guía de implementación de DBMS | Microsoft Docs"
description: "SAP NetWeaver en máquinas virtuales de Azure: guía de implementación de DBMS"
services: virtual-machines-windows,virtual-network,storage
documentationcenter: 
author: MSSedusch
manager: timlt
editor: 
tags: azure-resource-manager
keywords: 
ms.assetid: e0e05b5e-47aa-4c1e-bf83-0d62ee8f614e
ms.service: virtual-machines-windows
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: vm-windows
ms.workload: infrastructure-services
ms.date: 11/08/2016
ms.author: sedusch
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: cc7c85382d8f8183ef3eb3cc7496b012808148e5
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 07/11/2017
---
# <a name="sap-netweaver-on-azure-windows-virtual-machines-vms--dbms-deployment-guide"></a><span data-ttu-id="e740d-103">SAP NetWeaver en máquinas virtuales Windows de Azure: guía de implementación de DBMS</span><span class="sxs-lookup"><span data-stu-id="e740d-103">SAP NetWeaver on Azure Windows Virtual Machines (VMs) – DBMS Deployment Guide</span></span>
<span data-ttu-id="e740d-104">[767598]:https://launchpad.support.sap.com/#/notes/767598</span><span class="sxs-lookup"><span data-stu-id="e740d-104">[767598]:https://launchpad.support.sap.com/#/notes/767598</span></span>
<span data-ttu-id="e740d-105">[773830]:https://launchpad.support.sap.com/#/notes/773830</span><span class="sxs-lookup"><span data-stu-id="e740d-105">[773830]:https://launchpad.support.sap.com/#/notes/773830</span></span>
<span data-ttu-id="e740d-106">[826037]:https://launchpad.support.sap.com/#/notes/826037</span><span class="sxs-lookup"><span data-stu-id="e740d-106">[826037]:https://launchpad.support.sap.com/#/notes/826037</span></span>
<span data-ttu-id="e740d-107">[965908]:https://launchpad.support.sap.com/#/notes/965908</span><span class="sxs-lookup"><span data-stu-id="e740d-107">[965908]:https://launchpad.support.sap.com/#/notes/965908</span></span>
[1031096]:https://launchpad.support.sap.com/#/notes/1031096
<span data-ttu-id="e740d-108">[1139904]:https://launchpad.support.sap.com/#/notes/1139904</span><span class="sxs-lookup"><span data-stu-id="e740d-108">[1139904]:https://launchpad.support.sap.com/#/notes/1139904</span></span>
<span data-ttu-id="e740d-109">[1173395]:https://launchpad.support.sap.com/#/notes/1173395</span><span class="sxs-lookup"><span data-stu-id="e740d-109">[1173395]:https://launchpad.support.sap.com/#/notes/1173395</span></span>
<span data-ttu-id="e740d-110">[1245200]:https://launchpad.support.sap.com/#/notes/1245200</span><span class="sxs-lookup"><span data-stu-id="e740d-110">[1245200]:https://launchpad.support.sap.com/#/notes/1245200</span></span>
<span data-ttu-id="e740d-111">[1409604]:https://launchpad.support.sap.com/#/notes/1409604</span><span class="sxs-lookup"><span data-stu-id="e740d-111">[1409604]:https://launchpad.support.sap.com/#/notes/1409604</span></span>
<span data-ttu-id="e740d-112">[1558958]:https://launchpad.support.sap.com/#/notes/1558958</span><span class="sxs-lookup"><span data-stu-id="e740d-112">[1558958]:https://launchpad.support.sap.com/#/notes/1558958</span></span>
<span data-ttu-id="e740d-113">[1585981]:https://launchpad.support.sap.com/#/notes/1585981</span><span class="sxs-lookup"><span data-stu-id="e740d-113">[1585981]:https://launchpad.support.sap.com/#/notes/1585981</span></span>
<span data-ttu-id="e740d-114">[1588316]:https://launchpad.support.sap.com/#/notes/1588316</span><span class="sxs-lookup"><span data-stu-id="e740d-114">[1588316]:https://launchpad.support.sap.com/#/notes/1588316</span></span>
<span data-ttu-id="e740d-115">[1590719]:https://launchpad.support.sap.com/#/notes/1590719</span><span class="sxs-lookup"><span data-stu-id="e740d-115">[1590719]:https://launchpad.support.sap.com/#/notes/1590719</span></span>
[1597355]:https://launchpad.support.sap.com/#/notes/1597355
<span data-ttu-id="e740d-116">[1605680]:https://launchpad.support.sap.com/#/notes/1605680</span><span class="sxs-lookup"><span data-stu-id="e740d-116">[1605680]:https://launchpad.support.sap.com/#/notes/1605680</span></span>
<span data-ttu-id="e740d-117">[1619720]:https://launchpad.support.sap.com/#/notes/1619720</span><span class="sxs-lookup"><span data-stu-id="e740d-117">[1619720]:https://launchpad.support.sap.com/#/notes/1619720</span></span>
<span data-ttu-id="e740d-118">[1619726]:https://launchpad.support.sap.com/#/notes/1619726</span><span class="sxs-lookup"><span data-stu-id="e740d-118">[1619726]:https://launchpad.support.sap.com/#/notes/1619726</span></span>
<span data-ttu-id="e740d-119">[1619967]:https://launchpad.support.sap.com/#/notes/1619967</span><span class="sxs-lookup"><span data-stu-id="e740d-119">[1619967]:https://launchpad.support.sap.com/#/notes/1619967</span></span>
<span data-ttu-id="e740d-120">[1750510]:https://launchpad.support.sap.com/#/notes/1750510</span><span class="sxs-lookup"><span data-stu-id="e740d-120">[1750510]:https://launchpad.support.sap.com/#/notes/1750510</span></span>
<span data-ttu-id="e740d-121">[1752266]:https://launchpad.support.sap.com/#/notes/1752266</span><span class="sxs-lookup"><span data-stu-id="e740d-121">[1752266]:https://launchpad.support.sap.com/#/notes/1752266</span></span>
<span data-ttu-id="e740d-122">[1757924]:https://launchpad.support.sap.com/#/notes/1757924</span><span class="sxs-lookup"><span data-stu-id="e740d-122">[1757924]:https://launchpad.support.sap.com/#/notes/1757924</span></span>
<span data-ttu-id="e740d-123">[1757928]:https://launchpad.support.sap.com/#/notes/1757928</span><span class="sxs-lookup"><span data-stu-id="e740d-123">[1757928]:https://launchpad.support.sap.com/#/notes/1757928</span></span>
<span data-ttu-id="e740d-124">[1758182]:https://launchpad.support.sap.com/#/notes/1758182</span><span class="sxs-lookup"><span data-stu-id="e740d-124">[1758182]:https://launchpad.support.sap.com/#/notes/1758182</span></span>
<span data-ttu-id="e740d-125">[1758496]:https://launchpad.support.sap.com/#/notes/1758496</span><span class="sxs-lookup"><span data-stu-id="e740d-125">[1758496]:https://launchpad.support.sap.com/#/notes/1758496</span></span>
<span data-ttu-id="e740d-126">[1772688]:https://launchpad.support.sap.com/#/notes/1772688</span><span class="sxs-lookup"><span data-stu-id="e740d-126">[1772688]:https://launchpad.support.sap.com/#/notes/1772688</span></span>
<span data-ttu-id="e740d-127">[1814258]:https://launchpad.support.sap.com/#/notes/1814258</span><span class="sxs-lookup"><span data-stu-id="e740d-127">[1814258]:https://launchpad.support.sap.com/#/notes/1814258</span></span>
<span data-ttu-id="e740d-128">[1882376]:https://launchpad.support.sap.com/#/notes/1882376</span><span class="sxs-lookup"><span data-stu-id="e740d-128">[1882376]:https://launchpad.support.sap.com/#/notes/1882376</span></span>
[1909114]:https://launchpad.support.sap.com/#/notes/1909114
<span data-ttu-id="e740d-129">[1922555]:https://launchpad.support.sap.com/#/notes/1922555</span><span class="sxs-lookup"><span data-stu-id="e740d-129">[1922555]:https://launchpad.support.sap.com/#/notes/1922555</span></span>
<span data-ttu-id="e740d-130">[1928533]:https://launchpad.support.sap.com/#/notes/1928533</span><span class="sxs-lookup"><span data-stu-id="e740d-130">[1928533]:https://launchpad.support.sap.com/#/notes/1928533</span></span>
<span data-ttu-id="e740d-131">[1941500]:https://launchpad.support.sap.com/#/notes/1941500</span><span class="sxs-lookup"><span data-stu-id="e740d-131">[1941500]:https://launchpad.support.sap.com/#/notes/1941500</span></span>
<span data-ttu-id="e740d-132">[1956005]:https://launchpad.support.sap.com/#/notes/1956005</span><span class="sxs-lookup"><span data-stu-id="e740d-132">[1956005]:https://launchpad.support.sap.com/#/notes/1956005</span></span>
<span data-ttu-id="e740d-133">[1973241]:https://launchpad.support.sap.com/#/notes/1973241</span><span class="sxs-lookup"><span data-stu-id="e740d-133">[1973241]:https://launchpad.support.sap.com/#/notes/1973241</span></span>
<span data-ttu-id="e740d-134">[1984787]:https://launchpad.support.sap.com/#/notes/1984787</span><span class="sxs-lookup"><span data-stu-id="e740d-134">[1984787]:https://launchpad.support.sap.com/#/notes/1984787</span></span>
<span data-ttu-id="e740d-135">[1999351]:https://launchpad.support.sap.com/#/notes/1999351</span><span class="sxs-lookup"><span data-stu-id="e740d-135">[1999351]:https://launchpad.support.sap.com/#/notes/1999351</span></span>
<span data-ttu-id="e740d-136">[2002167]:https://launchpad.support.sap.com/#/notes/2002167</span><span class="sxs-lookup"><span data-stu-id="e740d-136">[2002167]:https://launchpad.support.sap.com/#/notes/2002167</span></span>
<span data-ttu-id="e740d-137">[2015553]:https://launchpad.support.sap.com/#/notes/2015553</span><span class="sxs-lookup"><span data-stu-id="e740d-137">[2015553]:https://launchpad.support.sap.com/#/notes/2015553</span></span>
<span data-ttu-id="e740d-138">[2039619]:https://launchpad.support.sap.com/#/notes/2039619</span><span class="sxs-lookup"><span data-stu-id="e740d-138">[2039619]:https://launchpad.support.sap.com/#/notes/2039619</span></span>
<span data-ttu-id="e740d-139">[2121797]:https://launchpad.support.sap.com/#/notes/2121797</span><span class="sxs-lookup"><span data-stu-id="e740d-139">[2121797]:https://launchpad.support.sap.com/#/notes/2121797</span></span>
<span data-ttu-id="e740d-140">[2134316]:https://launchpad.support.sap.com/#/notes/2134316</span><span class="sxs-lookup"><span data-stu-id="e740d-140">[2134316]:https://launchpad.support.sap.com/#/notes/2134316</span></span>
<span data-ttu-id="e740d-141">[2178632]:https://launchpad.support.sap.com/#/notes/2178632</span><span class="sxs-lookup"><span data-stu-id="e740d-141">[2178632]:https://launchpad.support.sap.com/#/notes/2178632</span></span>
<span data-ttu-id="e740d-142">[2191498]:https://launchpad.support.sap.com/#/notes/2191498</span><span class="sxs-lookup"><span data-stu-id="e740d-142">[2191498]:https://launchpad.support.sap.com/#/notes/2191498</span></span>
<span data-ttu-id="e740d-143">[2233094]:https://launchpad.support.sap.com/#/notes/2233094</span><span class="sxs-lookup"><span data-stu-id="e740d-143">[2233094]:https://launchpad.support.sap.com/#/notes/2233094</span></span>
<span data-ttu-id="e740d-144">[2243692]:https://launchpad.support.sap.com/#/notes/2243692</span><span class="sxs-lookup"><span data-stu-id="e740d-144">[2243692]:https://launchpad.support.sap.com/#/notes/2243692</span></span>

[azure-cli]:../../cli-install-nodejs.md
[azure-portal]:https://portal.azure.com
[azure-ps]:/powershell/azureps-cmdlets-docs
[azure-quickstart-templates-github]:https://github.com/Azure/azure-quickstart-templates
[azure-script-ps]:https://go.microsoft.com/fwlink/p/?LinkID=395017
[azure-subscription-service-limits]:../../azure-subscription-service-limits.md
[azure-subscription-service-limits-subscription]:../../azure-subscription-service-limits.md#subscription-limits

[dbms-guide]:sap-dbms-guide.md 
[dbms-guide-2.1]:#c7abf1f0-c927-4a7c-9c1d-c7b5b3b7212f 
[dbms-guide-2.2]:#c8e566f9-21b7-4457-9f7f-126036971a91 
[dbms-guide-2.3]:#10b041ef-c177-498a-93ed-44b3441ab152 
[dbms-guide-2]:#65fa79d6-a85f-47ee-890b-22e794f51a64 
[dbms-guide-3]:#871dfc27-e509-4222-9370-ab1de77021c3 
[dbms-guide-5.5.1]:#0fef0e79-d3fe-4ae2-85af-73666a6f7268 
[dbms-guide-5.5.2]:#f9071eff-9d72-4f47-9da4-1852d782087b 
[dbms-guide-5.6]:#1b353e38-21b3-4310-aeb6-a77e7c8e81c8 
[dbms-guide-5.8]:#9053f720-6f3b-4483-904d-15dc54141e30 
[dbms-guide-5]:#3264829e-075e-4d25-966e-a49dad878737 
[dbms-guide-8.4.1]:#b48cfe3b-48e9-4f5b-a783-1d29155bd573 
[dbms-guide-8.4.2]:#23c78d3b-ca5a-4e72-8a24-645d141a3f5d 
[dbms-guide-8.4.3]:#77cd2fbb-307e-4cbf-a65f-745553f72d2c 
[dbms-guide-8.4.4]:#f77c1436-9ad8-44fb-a331-8671342de818 
[dbms-guide-900-sap-cache-server-on-premises]:#642f746c-e4d4-489d-bf63-73e80177a0a8

[dbms-guide-figure-100]:./media/virtual-machines-shared-sap-dbms-guide/100_storage_account_types.png
[dbms-guide-figure-200]:./media/virtual-machines-shared-sap-dbms-guide/200-ha-set-for-dbms-ha.png
[dbms-guide-figure-300]:./media/virtual-machines-shared-sap-dbms-guide/300-reference-config-iaas.png
[dbms-guide-figure-400]:./media/virtual-machines-shared-sap-dbms-guide/400-sql-2012-backup-to-blob-storage.png
[dbms-guide-figure-500]:./media/virtual-machines-shared-sap-dbms-guide/500-sql-2012-backup-to-blob-storage-different-containers.png
[dbms-guide-figure-600]:./media/virtual-machines-shared-sap-dbms-guide/600-iaas-maxdb.png
[dbms-guide-figure-700]:./media/virtual-machines-shared-sap-dbms-guide/700-livecach-prod.png
[dbms-guide-figure-800]:./media/virtual-machines-shared-sap-dbms-guide/800-azure-vm-sap-content-server.png
[dbms-guide-figure-900]:./media/virtual-machines-shared-sap-dbms-guide/900-sap-cache-server-on-premises.png

[deployment-guide]:sap-deployment-guide.md 
[deployment-guide-2.2]:sap-deployment-guide.md#42ee2bdb-1efc-4ec7-ab31-fe4c22769b94 
[deployment-guide-3.1.2]:sap-deployment-guide.md#3688666f-281f-425b-a312-a77e7db2dfab 
[deployment-guide-3.2]:sap-deployment-guide.md#db477013-9060-4602-9ad4-b0316f8bb281 
[deployment-guide-3.3]:sap-deployment-guide.md#54a1fc6d-24fd-4feb-9c57-ac588a55dff2 
[deployment-guide-3.4]:sap-deployment-guide.md#a9a60133-a763-4de8-8986-ac0fa33aa8c1
[deployment-guide-3]:sap-deployment-guide.md#b3253ee3-d63b-4d74-a49b-185e76c4088e 
[deployment-guide-4.1]:sap-deployment-guide.md#604bcec2-8b6e-48d2-a944-61b0f5dee2f7 
[deployment-guide-4.2]:sap-deployment-guide.md#7ccf6c3e-97ae-4a7a-9c75-e82c37beb18e
[deployment-guide-4.3]:sap-deployment-guide.md#31d9ecd6-b136-4c73-b61e-da4a29bbc9cc 
[deployment-guide-4.4.2]:sap-deployment-guide.md#6889ff12-eaaf-4f3c-97e1-7c9edc7f7542 
[deployment-guide-4.4]:sap-deployment-guide.md#c7cbb0dc-52a4-49db-8e03-83e7edc2927d 
[deployment-guide-4.5.1]:sap-deployment-guide.md#987cf279-d713-4b4c-8143-6b11589bb9d4 
[deployment-guide-4.5.2]:sap-deployment-guide.md#408f3779-f422-4413-82f8-c57a23b4fc2f 
[deployment-guide-4.5]:sap-deployment-guide.md#d98edcd3-f2a1-49f7-b26a-07448ceb60ca 
[deployment-guide-5.1]:sap-deployment-guide.md#bb61ce92-8c5c-461f-8c53-39f5e5ed91f2 
[deployment-guide-5.2]:sap-deployment-guide.md#e2d592ff-b4ea-4a53-a91a-e5521edb6cd1 
[deployment-guide-5.3]:sap-deployment-guide.md#fe25a7da-4e4e-4388-8907-8abc2d33cfd8 

[deployment-guide-configure-monitoring-scenario-1]:sap-deployment-guide.md#ec323ac3-1de9-4c3a-b770-4ff701def65b 
[deployment-guide-configure-proxy]:sap-deployment-guide.md#baccae00-6f79-4307-ade4-40292ce4e02d 
[deployment-guide-figure-100]:./media/virtual-machines-shared-sap-deployment-guide/100-deploy-vm-image.png
[deployment-guide-figure-1000]:./media/virtual-machines-shared-sap-deployment-guide/1000-service-properties.png
[deployment-guide-figure-11]:sap-deployment-guide.md#figure-11
[deployment-guide-figure-1100]:./media/virtual-machines-shared-sap-deployment-guide/1100-azperflib.png
[deployment-guide-figure-1200]:./media/virtual-machines-shared-sap-deployment-guide/1200-cmd-test-login.png
[deployment-guide-figure-1300]:./media/virtual-machines-shared-sap-deployment-guide/1300-cmd-test-executed.png
[deployment-guide-figure-14]:sap-deployment-guide.md#figure-14
[deployment-guide-figure-1400]:./media/virtual-machines-shared-sap-deployment-guide/1400-azperflib-error-servicenotstarted.png
[deployment-guide-figure-300]:./media/virtual-machines-shared-sap-deployment-guide/300-deploy-private-image.png
[deployment-guide-figure-400]:./media/virtual-machines-shared-sap-deployment-guide/400-deploy-using-disk.png
[deployment-guide-figure-5]:sap-deployment-guide.md#figure-5
[deployment-guide-figure-50]:./media/virtual-machines-shared-sap-deployment-guide/50-forced-tunneling-suse.png
[deployment-guide-figure-500]:./media/virtual-machines-shared-sap-deployment-guide/500-install-powershell.png
[deployment-guide-figure-6]:sap-deployment-guide.md#figure-6
[deployment-guide-figure-600]:./media/virtual-machines-shared-sap-deployment-guide/600-powershell-version.png
[deployment-guide-figure-7]:sap-deployment-guide.md#figure-7
[deployment-guide-figure-700]:./media/virtual-machines-shared-sap-deployment-guide/700-install-powershell-installed.png
[deployment-guide-figure-760]:./media/virtual-machines-shared-sap-deployment-guide/760-azure-cli-version.png
[deployment-guide-figure-900]:./media/virtual-machines-shared-sap-deployment-guide/900-cmd-update-executed.png
[deployment-guide-figure-azure-cli-installed]:sap-deployment-guide.md#402488e5-f9bb-4b29-8063-1c5f52a892d0
[deployment-guide-figure-azure-cli-version]:sap-deployment-guide.md#0ad010e6-f9b5-4c21-9c09-bb2e5efb3fda
[deployment-guide-install-vm-agent-windows]:sap-deployment-guide.md#b2db5c9a-a076-42c6-9835-16945868e866
[deployment-guide-troubleshooting-chapter]:sap-deployment-guide.md#564adb4f-5c95-4041-9616-6635e83a810b 

[deploy-template-cli]:../../resource-group-template-deploy-cli.md
[deploy-template-portal]:../../resource-group-template-deploy-portal.md
[deploy-template-powershell]:../../resource-group-template-deploy.md

[dr-guide-classic]:http://go.microsoft.com/fwlink/?LinkID=521971

[getting-started]:sap-get-started.md
[getting-started-dbms]:sap-get-started.md#1343ffe1-8021-4ce6-a08d-3a1553a4db82
[getting-started-deployment]:sap-get-started.md#6aadadd2-76b5-46d8-8713-e8d63630e955
[getting-started-planning]:sap-get-started.md#3da0389e-708b-4e82-b2a2-e92f132df89c

[getting-started-windows-classic]:../virtual-machines-windows-classic-sap-get-started.md
[getting-started-windows-classic-dbms]:../virtual-machines-windows-classic-sap-get-started.md#c5b77a14-f6b4-44e9-acab-4d28ff72a930
[getting-started-windows-classic-deployment]:../virtual-machines-windows-classic-sap-get-started.md#f84ea6ce-bbb4-41f7-9965-34d31b0098ea
[getting-started-windows-classic-dr]:../virtual-machines-windows-classic-sap-get-started.md#cff10b4a-01a5-4dc3-94b6-afb8e55757d3
[getting-started-windows-classic-ha-sios]:../virtual-machines-windows-classic-sap-get-started.md#4bb7512c-0fa0-4227-9853-4004281b1037
[getting-started-windows-classic-planning]:../virtual-machines-windows-classic-sap-get-started.md#f2a5e9d8-49e4-419e-9900-af783173481c

[ha-guide-classic]:http://go.microsoft.com/fwlink/?LinkId=613056

[ha-guide]:sap-high-availability-guide.md

[install-extension-cli]:virtual-machines-linux-enable-aem.md

[Logo_Linux]:./media/virtual-machines-shared-sap-shared/Linux.png
[Logo_Windows]:./media/virtual-machines-shared-sap-shared/Windows.png

[msdn-set-azurermvmaemextension]:https://msdn.microsoft.com/library/azure/mt670598.aspx

[planning-guide]:sap-planning-guide.md  
[planning-guide-1.2]:sap-planning-guide.md#e55d1e22-c2c8-460b-9897-64622a34fdff 
[planning-guide-11]:sap-planning-guide.md#7cf991a1-badd-40a9-944e-7baae842a058 
[planning-guide-11.4.1]:sap-planning-guide.md#5d9d36f9-9058-435d-8367-5ad05f00de77 
[planning-guide-11.5]:sap-planning-guide.md#4e165b58-74ca-474f-a7f4-5e695a93204f 
[planning-guide-2.1]:sap-planning-guide.md#1625df66-4cc6-4d60-9202-de8a0b77f803 
[planning-guide-2.2]:sap-planning-guide.md#f5b3b18c-302c-4bd8-9ab2-c388f1ab3d10
[planning-guide-3.1]:sap-planning-guide.md#be80d1b9-a463-4845-bd35-f4cebdb5424a 
[planning-guide-3.2.1]:sap-planning-guide.md#df49dc09-141b-4f34-a4a2-990913b30358 
[planning-guide-3.2.2]:sap-planning-guide.md#fc1ac8b2-e54a-487c-8581-d3cc6625e560 
[planning-guide-3.2.3]:sap-planning-guide.md#18810088-f9be-4c97-958a-27996255c665 
[planning-guide-3.2]:sap-planning-guide.md#8d8ad4b8-6093-4b91-ac36-ea56d80dbf77 
[planning-guide-3.3.2]:sap-planning-guide.md#ff5ad0f9-f7f4-4022-9102-af07aef3bc92 
[planning-guide-5.1.1]:sap-planning-guide.md#4d175f1b-7353-4137-9d2f-817683c26e53 
[planning-guide-5.1.2]:sap-planning-guide.md#e18f7839-c0e2-4385-b1e6-4538453a285c 
[planning-guide-5.2.1]:sap-planning-guide.md#1b287330-944b-495d-9ea7-94b83aff73ef 
[planning-guide-5.2.2]:sap-planning-guide.md#57f32b1c-0cba-4e57-ab6e-c39fe22b6ec3 
[planning-guide-5.2]:sap-planning-guide.md#6ffb9f41-a292-40bf-9e70-8204448559e7 
[planning-guide-5.3.1]:sap-planning-guide.md#6e835de8-40b1-4b71-9f18-d45b20959b79 
[planning-guide-5.3.2]:sap-planning-guide.md#a43e40e6-1acc-4633-9816-8f095d5a7b6a 
[planning-guide-5.4.2]:sap-planning-guide.md#9789b076-2011-4afa-b2fe-b07a8aba58a1 
[planning-guide-5.5.1]:sap-planning-guide.md#4efec401-91e0-40c0-8e64-f2dceadff646 
[planning-guide-5.5.3]:sap-planning-guide.md#17e0d543-7e8c-4160-a7da-dd7117a1ad9d 
[planning-guide-7.1]:sap-planning-guide.md#3e9c3690-da67-421a-bc3f-12c520d99a30 
[planning-guide-7]:sap-planning-guide.md#96a77628-a05e-475d-9df3-fb82217e8f14 
[planning-guide-9.1]:sap-planning-guide.md#6f0a47f3-a289-4090-a053-2521618a28c3 
[planning-guide-azure-premium-storage]:sap-planning-guide.md#ff5ad0f9-f7f4-4022-9102-af07aef3bc92 

[planning-guide-figure-100]:./media/virtual-machines-shared-sap-planning-guide/100-single-vm-in-azure.png
[planning-guide-figure-1300]:./media/virtual-machines-shared-sap-planning-guide/1300-ref-config-iaas-for-sap.png
[planning-guide-figure-1400]:./media/virtual-machines-shared-sap-planning-guide/1400-attach-detach-disks.png
[planning-guide-figure-1600]:./media/virtual-machines-shared-sap-planning-guide/1600-firewall-port-rule.png
[planning-guide-figure-1700]:./media/virtual-machines-shared-sap-planning-guide/1700-single-vm-demo.png
[planning-guide-figure-1900]:./media/virtual-machines-shared-sap-planning-guide/1900-vm-set-vnet.png
[planning-guide-figure-200]:./media/virtual-machines-shared-sap-planning-guide/200-multiple-vms-in-azure.png
[planning-guide-figure-2100]:./media/virtual-machines-shared-sap-planning-guide/2100-s2s.png
[planning-guide-figure-2200]:./media/virtual-machines-shared-sap-planning-guide/2200-network-printing.png
[planning-guide-figure-2300]:./media/virtual-machines-shared-sap-planning-guide/2300-sapgui-stms.png
[planning-guide-figure-2400]:./media/virtual-machines-shared-sap-planning-guide/2400-vm-extension-overview.png
[planning-guide-figure-2500]:./media/virtual-machines-shared-sap-planning-guide/2500-vm-extension-details.png
[planning-guide-figure-2600]:./media/virtual-machines-shared-sap-planning-guide/2600-sap-router-connection.png
[planning-guide-figure-2700]:./media/virtual-machines-shared-sap-planning-guide/2700-exposed-sap-portal.png
[planning-guide-figure-2800]:./media/virtual-machines-shared-sap-planning-guide/2800-endpoint-config.png
[planning-guide-figure-2900]:./media/virtual-machines-shared-sap-planning-guide/2900-azure-ha-sap-ha.png
[planning-guide-figure-300]:./media/virtual-machines-shared-sap-planning-guide/300-vpn-s2s.png
[planning-guide-figure-3000]:./media/virtual-machines-shared-sap-planning-guide/3000-sap-ha-on-azure.png
[planning-guide-figure-3200]:./media/virtual-machines-shared-sap-planning-guide/3200-sap-ha-with-sql.png
[planning-guide-figure-400]:./media/virtual-machines-shared-sap-planning-guide/400-vm-services.png
[planning-guide-figure-600]:./media/virtual-machines-shared-sap-planning-guide/600-s2s-details.png
[planning-guide-figure-700]:./media/virtual-machines-shared-sap-planning-guide/700-decision-tree-deploy-to-azure.png
[planning-guide-figure-800]:./media/virtual-machines-shared-sap-planning-guide/800-portal-vm-overview.png
[planning-guide-microsoft-azure-networking]:sap-planning-guide.md#61678387-8868-435d-9f8c-450b2424f5bd 
[planning-guide-storage-microsoft-azure-storage-and-data-disks]:sap-planning-guide.md#a72afa26-4bf4-4a25-8cf7-855d6032157f 

[powershell-install-configure]:/powershell/azureps-cmdlets-docs
[resource-group-authoring-templates]:../../resource-group-authoring-templates.md
[resource-group-overview]:../../azure-resource-manager/resource-group-overview.md
[resource-groups-networking]:../../virtual-network/resource-groups-networking.md
[sap-pam]:https://support.sap.com/pam 
[sap-templates-2-tier-marketplace-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-2-tier-marketplace-image%2Fazuredeploy.json
[sap-templates-2-tier-os-disk]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-2-tier-user-disk%2Fazuredeploy.json
[sap-templates-2-tier-user-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-2-tier-user-image%2Fazuredeploy.json
[sap-templates-3-tier-marketplace-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-3-tier-marketplace-image%2Fazuredeploy.json
[sap-templates-3-tier-user-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-3-tier-user-image%2Fazuredeploy.json
[storage-azure-cli]:../../storage/storage-azure-cli.md
[storage-azure-cli-copy-blobs]:../../storage/storage-azure-cli.md#copy-blobs
[storage-introduction]:../../storage/storage-introduction.md
[storage-powershell-guide-full-copy-vhd]:../../storage/storage-powershell-guide-full.md#how-to-copy-blobs-from-one-storage-container-to-another
[storage-premium-storage-preview-portal]:../../storage/storage-premium-storage.md
[storage-redundancy]:../../storage/storage-redundancy.md
[storage-scalability-targets]:../../storage/storage-scalability-targets.md
[storage-use-azcopy]:../../storage/storage-use-azcopy.md
[template-201-vm-from-specialized-vhd]:https://github.com/Azure/azure-quickstart-templates/tree/master/201-vm-from-specialized-vhd
[templates-101-simple-windows-vm]:https://github.com/Azure/azure-quickstart-templates/tree/master/101-simple-windows-vm
[templates-101-vm-from-user-image]:https://github.com/Azure/azure-quickstart-templates/tree/master/101-vm-from-user-image
[virtual-machines-linux-attach-disk-portal]:../linux/attach-disk-portal.md
[virtual-machines-azure-resource-manager-architecture]:../../resource-manager-deployment-model.md
[virtual-machines-azurerm-versus-azuresm]:../../resource-manager-deployment-model.md
[virtual-machines-windows-classic-configure-oracle-data-guard]:../virtual-machines-windows-classic-configure-oracle-data-guard.md
[virtual-machines-linux-cli-deploy-templates]:../linux/cli-deploy-templates.md (Deploy and manage virtual machines by using Azure Resource Manager templates and the Azure CLI)
[virtual-machines-deploy-rmtemplates-powershell]:../virtual-machines-windows-ps-manage.md (Manage virtual machines using Azure Resource Manager and PowerShell)
[virtual-machines-linux-agent-user-guide]:../linux/agent-user-guide.md
[virtual-machines-linux-agent-user-guide-command-line-options]:../linux/agent-user-guide.md#command-line-options
[virtual-machines-linux-capture-image]:../linux/capture-image.md
[virtual-machines-linux-capture-image-resource-manager]:../linux/capture-image.md
[virtual-machines-linux-capture-image-resource-manager-capture]:../linux/capture-image.md#step-2-capture-the-vm
[virtual-machines-linux-configure-lvm]:../linux/configure-lvm.md
[virtual-machines-linux-configure-raid]:../linux/configure-raid.md
[virtual-machines-linux-classic-create-upload-vhd-step-1]:../virtual-machines-linux-classic-create-upload-vhd.md#step-1-prepare-the-image-to-be-uploaded
[virtual-machines-linux-create-upload-vhd-suse]:../linux/suse-create-upload-vhd.md
[virtual-machines-linux-redhat-create-upload-vhd]:../linux/redhat-create-upload-vhd.md
[virtual-machines-linux-how-to-attach-disk]:../linux/add-disk.md
[virtual-machines-linux-how-to-attach-disk-how-to-initialize-a-new-data-disk-in-linux]:../linux/add-disk.md#connect-to-the-linux-vm-to-mount-the-new-disk
[virtual-machines-linux-tutorial]:../linux/quick-create-cli.md
[virtual-machines-linux-update-agent]:../linux/update-agent.md
[virtual-machines-manage-availability]:../virtual-machines-windows-manage-availability.md
[virtual-machines-ps-create-preconfigure-windows-resource-manager-vms]:../virtual-machines-windows-ps-create.md
[virtual-machines-sizes]:sizes.md
[virtual-machines-windows-classic-ps-sql-alwayson-availability-groups]:classic/ps-sql-alwayson-availability-groups.md
[virtual-machines-windows-classic-ps-sql-int-listener]:classic/ps-sql-int-listener.md
[virtual-machines-sql-server-high-availability-and-disaster-recovery-solutions]:./sql/virtual-machines-windows-sql-high-availability-dr.md
[virtual-machines-sql-server-infrastructure-services]:./sql/virtual-machines-windows-sql-server-iaas-overview.md
[virtual-machines-sql-server-performance-best-practices]:./sql/virtual-machines-windows-sql-performance.md
[virtual-machines-upload-image-windows-resource-manager]:upload-image.md
[virtual-machines-windows-tutorial]:../virtual-machines-windows-hero-tutorial.md
[virtual-machines-workload-template-sql-alwayson]:https://azure.microsoft.com/documentation/templates/sql-server-2014-alwayson-dsc/
[virtual-network-deploy-multinic-arm-cli]:../../virtual-network/virtual-network-deploy-multinic-arm-cli.md
[virtual-network-deploy-multinic-arm-ps]:../../virtual-network/virtual-network-deploy-multinic-arm-ps.md
[virtual-network-deploy-multinic-arm-template]:../../virtual-network/virtual-network-deploy-multinic-arm-template.md
[virtual-networks-configure-vnet-to-vnet-connection]:../../vpn-gateway/vpn-gateway-vnet-vnet-rm-ps.md
[virtual-networks-create-vnet-arm-pportal]:../../virtual-network/virtual-networks-create-vnet-arm-pportal.md
[virtual-networks-manage-dns-in-vnet]:../../virtual-network/virtual-networks-name-resolution-for-vms-and-role-instances.md
[virtual-networks-multiple-nics]:../../virtual-network/virtual-networks-multiple-nics.md
[virtual-networks-nsg]:../../virtual-network/virtual-networks-nsg.md
[virtual-networks-reserved-private-ip]:../../virtual-network/virtual-networks-static-private-ip-arm-ps.md
[virtual-networks-static-private-ip-arm-pportal]:../../virtual-network/virtual-networks-static-private-ip-arm-pportal.md
[virtual-networks-udr-overview]:../../virtual-network/virtual-networks-udr-overview.md
[vpn-gateway-about-vpn-devices]:../../vpn-gateway/vpn-gateway-about-vpn-devices.md
[vpn-gateway-create-site-to-site-rm-powershell]:../../vpn-gateway/vpn-gateway-create-site-to-site-rm-powershell.md
[vpn-gateway-cross-premises-options]:../../vpn-gateway/vpn-gateway-plan-design.md
[vpn-gateway-site-to-site-create]:../../vpn-gateway/vpn-gateway-howto-site-to-site-resource-manager-portal.md
[vpn-gateway-vpn-faq]:../../vpn-gateway/vpn-gateway-vpn-faq.md
[xplat-cli]:../../cli-install-nodejs.md
[xplat-cli-azure-resource-manager]:../../xplat-cli-azure-resource-manager.md

<span data-ttu-id="e740d-145">Esta guía forma parte de la documentación sobre la implementación del software de SAP en Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-145">This guide is part of the documentation on implementing and deploying the SAP software on Microsoft Azure.</span></span> <span data-ttu-id="e740d-146">Antes de leer esta guía, consulte la [Guía de planeamiento e implementación][planning-guide].</span><span class="sxs-lookup"><span data-stu-id="e740d-146">Before reading this guide, please read the [Planning and Implementation Guide][planning-guide].</span></span> <span data-ttu-id="e740d-147">En este documento se explica cómo implementar varios sistemas de administración de bases de datos relacionales (RDBMS) y productos relacionados, además de SAP en máquinas virtuales de Microsoft Azure, mediante el uso de las funcionalidades de la infraestructura como servicio (IaaS) de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-147">This document covers the deployment of various Relational Database Management Systems (RDBMS) and related products in combination with SAP on Microsoft Azure Virtual Machines (VMs) using the Azure Infrastructure as a Service (IaaS) capabilities.</span></span>

<span data-ttu-id="e740d-148">Dicho documento complementa la documentación de instalación de SAP y las notas de SAP, que representan los principales recursos para las instalaciones e implementaciones de software de SAP en determinadas plataformas.</span><span class="sxs-lookup"><span data-stu-id="e740d-148">The paper complements the SAP Installation Documentation and SAP Notes which represent the primary resources for installations and deployments of SAP software on given platforms</span></span>

## <a name="general-considerations"></a><span data-ttu-id="e740d-149">Consideraciones generales</span><span class="sxs-lookup"><span data-stu-id="e740d-149">General considerations</span></span>
<span data-ttu-id="e740d-150">En este capítulo, se presentan consideraciones sobre ejecución de sistemas DBMS relacionados con SAP en máquinas virtuales de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-150">In this chapter, considerations of running SAP related DBMS systems in Azure VMs are introduced.</span></span> <span data-ttu-id="e740d-151">En este capítulo, se hacen algunas referencias a sistemas DBMS específicos.</span><span class="sxs-lookup"><span data-stu-id="e740d-151">There are few references to specific DBMS systems in this chapter.</span></span> <span data-ttu-id="e740d-152">No obstante, ahondaremos en este tema en el siguiente capítulo de este documento.</span><span class="sxs-lookup"><span data-stu-id="e740d-152">Instead the specific DBMS systems are handled within this paper, after this chapter.</span></span>

### <a name="definitions-upfront"></a><span data-ttu-id="e740d-153">Lista de definiciones</span><span class="sxs-lookup"><span data-stu-id="e740d-153">Definitions upfront</span></span>
<span data-ttu-id="e740d-154">En el documento se utilizarán los términos siguientes:</span><span class="sxs-lookup"><span data-stu-id="e740d-154">Throughout the document we will use the following terms:</span></span>

* <span data-ttu-id="e740d-155">IaaS: infraestructura como servicio.</span><span class="sxs-lookup"><span data-stu-id="e740d-155">IaaS: Infrastructure as a Service.</span></span>
* <span data-ttu-id="e740d-156">PaaS: plataforma como servicio.</span><span class="sxs-lookup"><span data-stu-id="e740d-156">PaaS: Platform as a Service.</span></span>
* <span data-ttu-id="e740d-157">SaaS: software como servicio.</span><span class="sxs-lookup"><span data-stu-id="e740d-157">SaaS: Software as a Service.</span></span>
* <span data-ttu-id="e740d-158">Componente de SAP: una aplicación de SAP individual, como ECC, BW, Solution Manager o EP.</span><span class="sxs-lookup"><span data-stu-id="e740d-158">SAP Component: an individual SAP application such as ECC, BW, Solution Manager or EP.</span></span>  <span data-ttu-id="e740d-159">Los componentes de SAP pueden basarse en tecnologías tradicionales, como ABAP o Java, o en una aplicación no basada en NetWeaver, como Business Objects.</span><span class="sxs-lookup"><span data-stu-id="e740d-159">SAP components can be based on traditional ABAP or Java technologies or a non-NetWeaver based application such as Business Objects.</span></span>
* <span data-ttu-id="e740d-160">Entorno de SAP: uno o varios componentes de SAP agrupados lógicamente para desempeñar una función empresarial, como desarrollo, control de calidad, aprendizaje, recuperación ante desastres o producción.</span><span class="sxs-lookup"><span data-stu-id="e740d-160">SAP Environment: one or more SAP components logically grouped to perform a business function such as Development, QAS, Training, DR or Production.</span></span>
* <span data-ttu-id="e740d-161">Infraestructura de SAP: hace referencia a todos los activos de SAP de la infraestructura de TI de un cliente.</span><span class="sxs-lookup"><span data-stu-id="e740d-161">SAP Landscape: This refers to the entire SAP assets in a customer’s IT landscape.</span></span> <span data-ttu-id="e740d-162">La infraestructura de SAP incluye todos los entornos, tanto los que son de producción como los que no.</span><span class="sxs-lookup"><span data-stu-id="e740d-162">The SAP landscape includes all production and non-production environments.</span></span>
* <span data-ttu-id="e740d-163">Sistema SAP: la combinación de la capa DBMS y la de aplicaciones, como la de un sistema de desarrollo SAP ERP, de prueba SAP BW, de producción SAP CRM, etc. En las implementaciones de Azure no se admite la división de estas dos capas entre la infraestructura local y de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-163">SAP System: The combination of DBMS layer and application layer of e.g. an SAP ERP development system, SAP BW test system, SAP CRM production system, etc. In Azure deployments it is not supported to divide these two layers between on-premises and Azure.</span></span> <span data-ttu-id="e740d-164">Esto significa que un sistema SAP debe implementarse de forma local o en Azure, pero no en ambos.</span><span class="sxs-lookup"><span data-stu-id="e740d-164">This means an SAP system is either deployed on-premises or it is deployed in Azure.</span></span> <span data-ttu-id="e740d-165">Sin embargo, los diferentes sistemas de un entorno de SAP pueden implementarse en Azure o de forma local.</span><span class="sxs-lookup"><span data-stu-id="e740d-165">However, you can deploy the different systems of an SAP landscape in Azure or on-premises.</span></span> <span data-ttu-id="e740d-166">Por ejemplo, podría implementar los sistemas de prueba y desarrollo de SAP CRM en Azure, y el sistema de producción de SAP CRM de manera local.</span><span class="sxs-lookup"><span data-stu-id="e740d-166">For example, you could deploy the SAP CRM development and test systems in Azure but the SAP CRM production system on-premises.</span></span>
* <span data-ttu-id="e740d-167">Implementación exclusiva en la nube: una implementación donde la suscripción de Azure no está conectada de sitio a sitio o a través de ExpressRoute a la infraestructura de red local.</span><span class="sxs-lookup"><span data-stu-id="e740d-167">Cloud-Only deployment: A deployment where the Azure subscription is not connected via a site-to-site or ExpressRoute connection to the on-premises network infrastructure.</span></span> <span data-ttu-id="e740d-168">En la documentación habitual de Azure este tipo de implementaciones se denomina "implementaciones exclusivas en la nube".</span><span class="sxs-lookup"><span data-stu-id="e740d-168">In common Azure documentation these kinds of deployments are also described as ‘Cloud-Only’ deployments.</span></span> <span data-ttu-id="e740d-169">A las máquinas virtuales implementadas con este método se tiene acceso a través de Internet y puntos de conexión de Internet asignados a las máquinas virtuales de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-169">Virtual Machines deployed with this method are accessed through the Internet and public Internet endpoints assigned to the VMs in Azure.</span></span> <span data-ttu-id="e740d-170">El DNS y Active Directory (AD) locales no se extienden a Azure en este tipo de implementaciones.</span><span class="sxs-lookup"><span data-stu-id="e740d-170">The on-premises Active Directory (AD) and DNS is not extended to Azure in these types of deployments.</span></span> <span data-ttu-id="e740d-171">Por lo tanto, las máquinas virtuales no forman parte de Active Directory local.</span><span class="sxs-lookup"><span data-stu-id="e740d-171">Hence the VMs are not part of the on-premises Active Directory.</span></span> <span data-ttu-id="e740d-172">Nota: Las implementaciones exclusivas en la nube se definen en este documento como infraestructuras de SAP completas ejecutadas exclusivamente en Azure sin extensión de Active Directory ni resolución de nombres desde la infraestructura local a la nube pública.</span><span class="sxs-lookup"><span data-stu-id="e740d-172">Note: Cloud-Only deployments in this document are defined as complete SAP landscapes which are running exclusively in Azure without extension of Active Directory or name resolution from on-premises into public cloud.</span></span> <span data-ttu-id="e740d-173">No se admiten configuraciones exclusivas en la nube con sistemas de producción SAP, o con configuraciones donde deban usarse SAP STMS u otros recursos locales entre sistemas SAP hospedados en Azure y recursos locales.</span><span class="sxs-lookup"><span data-stu-id="e740d-173">Cloud-Only configurations are not supported for production SAP systems or configurations where SAP STMS or other on-premises resources need to be used between SAP systems hosted on Azure and resources residing on-premises.</span></span>
* <span data-ttu-id="e740d-174">Entre locales: describe un escenario donde se implementan máquinas virtuales en una suscripción de Azure con conexión de sitio a sitio, entre varios sitios o de ExpressRoute entre los centros de datos locales y Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-174">Cross-Premises: Describes a scenario where VMs are deployed to an Azure subscription that has site-to-site, multi-site or ExpressRoute connectivity between the on-premises datacenter(s) and Azure.</span></span> <span data-ttu-id="e740d-175">En la documentación habitual de Azure, este tipo de implementaciones se denominan "escenarios entre locales".</span><span class="sxs-lookup"><span data-stu-id="e740d-175">In common Azure documentation, these kinds of deployments are also described as Cross-Premises scenarios.</span></span> <span data-ttu-id="e740d-176">El motivo de la conexión es ampliar los dominios locales, Active Directory local y DNS local a Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-176">The reason for the connection is to extend on-premises domains, on-premises Active Directory and on-premises DNS into Azure.</span></span> <span data-ttu-id="e740d-177">La infraestructura local se extiende a los recursos de Azure de la suscripción.</span><span class="sxs-lookup"><span data-stu-id="e740d-177">The on-premises landscape is extended to the Azure assets of the subscription.</span></span> <span data-ttu-id="e740d-178">Con esta extensión, las máquinas virtuales pueden formar parte del dominio local.</span><span class="sxs-lookup"><span data-stu-id="e740d-178">Having this extension, the VMs can be part of the on-premises domain.</span></span> <span data-ttu-id="e740d-179">Los usuarios del dominio local pueden tener acceso a los servidores y ejecutar servicios en esas máquinas virtuales (por ejemplo, servicios de DBMS).</span><span class="sxs-lookup"><span data-stu-id="e740d-179">Domain users of the on-premises domain can access the servers and can run services on those VMs (like DBMS services).</span></span> <span data-ttu-id="e740d-180">Es posible la comunicación y resolución de nombres entre máquinas virtuales implementadas de forma local y en Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-180">Communication and name resolution between VMs deployed on-premises and VMs deployed in Azure is possible.</span></span> <span data-ttu-id="e740d-181">Esperamos que este sea el escenario más habitual para implementar activos de SAP en Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-181">We expect this to be the most common scenario for deploying SAP assets on Azure.</span></span> <span data-ttu-id="e740d-182">Para más información, consulte [este][vpn-gateway-cross-premises-options] artículo y [este][vpn-gateway-site-to-site-create] vínculo.</span><span class="sxs-lookup"><span data-stu-id="e740d-182">See [this][vpn-gateway-cross-premises-options] article and [this][vpn-gateway-site-to-site-create] for more information.</span></span>

> [!NOTE]
> <span data-ttu-id="e740d-183">En sistemas de producción SAP, se admiten implementaciones entre locales de sistemas SAP donde las máquinas virtuales de Azure que ejecuten sistemas SAP pertenezcan a un dominio local.</span><span class="sxs-lookup"><span data-stu-id="e740d-183">Cross-Premises deployments of SAP systems where Azure Virtual Machines running SAP systems are members of an on-premises domain are supported for production SAP systems.</span></span> <span data-ttu-id="e740d-184">Las configuraciones entre locales se admiten para la implementación completa o parcial de infraestructuras de SAP en Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-184">Cross-Premises configurations are supported for deploying parts or complete SAP landscapes into Azure.</span></span> <span data-ttu-id="e740d-185">Incluso la ejecución de una infraestructura completa de SAP en Azure requiere que esas máquinas virtuales formen parte del dominio local y ADS.</span><span class="sxs-lookup"><span data-stu-id="e740d-185">Even running the complete SAP landscape in Azure requires having those VMs being part of on-premises domain and ADS.</span></span> <span data-ttu-id="e740d-186">En versiones anteriores de la documentación se describen escenarios de TI híbridos, donde "híbrido" implica una conectividad entre locales de la infraestructura local y Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-186">In former versions of the documentation we talked about Hybrid-IT scenarios, where the term ‘Hybrid’ is rooted in the fact that there is a cross-premises connectivity between on-premises and Azure.</span></span> <span data-ttu-id="e740d-187">En este caso, "híbrido" también significa que las máquinas virtuales de Azure forman parte de Active Directory local.</span><span class="sxs-lookup"><span data-stu-id="e740d-187">In this case ‘Hybrid’ also means that the VMs in Azure are part of the on-premises Active Directory.</span></span>
>
>

<span data-ttu-id="e740d-188">Algunos documentos de Microsoft describen escenarios entre locales de un modo ligeramente distinto, en especial en configuraciones de DBMS de alta disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="e740d-188">Some Microsoft documentation describes Cross-Premises scenarios a bit differently, especially for DBMS HA configurations.</span></span> <span data-ttu-id="e740d-189">En el caso de documentos relacionados con SAP, el escenario entre locales se reduce a una conectividad de sitio a sitio o privada (ExpressRoute) y a que la infraestructura de SAP se distribuye entre medios locales y Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-189">In the case of the SAP related documents, the Cross-Premises scenario just boils down to having a site-to-site or private (ExpressRoute) connectivity and to the fact that the SAP landscape is distributed between on-premises and Azure.</span></span>

### <a name="resources"></a><span data-ttu-id="e740d-190">Recursos</span><span class="sxs-lookup"><span data-stu-id="e740d-190">Resources</span></span>
<span data-ttu-id="e740d-191">Hay disponibles las siguientes guías sobre el tema de las implementaciones de SAP en Azure:</span><span class="sxs-lookup"><span data-stu-id="e740d-191">The following guides are available for the topic of SAP deployments on Azure:</span></span>

* <span data-ttu-id="e740d-192">[SAP NetWeaver en Azure Virtual Machines (VMs): guía de planeación e implementación][planning-guide]</span><span class="sxs-lookup"><span data-stu-id="e740d-192">[SAP NetWeaver on Azure Virtual Machines (VMs) – Planning and Implementation Guide][planning-guide]</span></span>
* <span data-ttu-id="e740d-193">[SAP NetWeaver en Azure Virtual Machines: guía de implementación][deployment-guide]</span><span class="sxs-lookup"><span data-stu-id="e740d-193">[SAP NetWeaver on Azure Virtual Machines (VMs) – Deployment Guide][deployment-guide]</span></span>
* <span data-ttu-id="e740d-194">[SAP NetWeaver en máquinas virtuales de Azure: guía de implementación de DBMS (este documento)][dbms-guide]</span><span class="sxs-lookup"><span data-stu-id="e740d-194">[SAP NetWeaver on Azure Virtual Machines (VMs) – DBMS Deployment Guide (this document)][dbms-guide]</span></span>
* <span data-ttu-id="e740d-195">[SAP NetWeaver en máquinas virtuales de Azure: guía de implementación de alta disponibilidad][ha-guide]</span><span class="sxs-lookup"><span data-stu-id="e740d-195">[SAP NetWeaver on Azure Virtual Machines (VMs) – High Availability Deployment Guide][ha-guide]</span></span>

<span data-ttu-id="e740d-196">Las siguientes notas de SAP están relacionadas con el tema de SAP en Azure:</span><span class="sxs-lookup"><span data-stu-id="e740d-196">The following SAP Notes are related to the topic of SAP on Azure:</span></span>

| <span data-ttu-id="e740d-197">Número de nota</span><span class="sxs-lookup"><span data-stu-id="e740d-197">Note number</span></span> | <span data-ttu-id="e740d-198">Título</span><span class="sxs-lookup"><span data-stu-id="e740d-198">Title</span></span> |
| --- | --- |
| <span data-ttu-id="e740d-199">[1928533]</span><span class="sxs-lookup"><span data-stu-id="e740d-199">[1928533]</span></span> |<span data-ttu-id="e740d-200">SAP Applications on Azure: Supported Products and Azure VM types (Aplicaciones de SAP en Azure: tipos de máquina virtual de Azure y productos compatibles)</span><span class="sxs-lookup"><span data-stu-id="e740d-200">SAP Applications on Azure: Supported Products and Azure VM types</span></span> |
| <span data-ttu-id="e740d-201">[2015553]</span><span class="sxs-lookup"><span data-stu-id="e740d-201">[2015553]</span></span> |<span data-ttu-id="e740d-202">SAP on Microsoft Azure: Support Prerequisites (SAP en Microsoft Azure: requisitos previos de compatibilidad)</span><span class="sxs-lookup"><span data-stu-id="e740d-202">SAP on Microsoft Azure: Support Prerequisites</span></span> |
| <span data-ttu-id="e740d-203">[1999351]</span><span class="sxs-lookup"><span data-stu-id="e740d-203">[1999351]</span></span> |<span data-ttu-id="e740d-204">Troubleshooting Enhanced Azure Monitoring for SAP (Solución de problemas de la supervisión mejorada de Azure para SAP)</span><span class="sxs-lookup"><span data-stu-id="e740d-204">Troubleshooting Enhanced Azure Monitoring for SAP</span></span> |
| <span data-ttu-id="e740d-205">[2178632]</span><span class="sxs-lookup"><span data-stu-id="e740d-205">[2178632]</span></span> |<span data-ttu-id="e740d-206">Key Monitoring Metrics for SAP on Microsoft Azure (Métricas de supervisión clave para SAP en Microsoft Azure)</span><span class="sxs-lookup"><span data-stu-id="e740d-206">Key Monitoring Metrics for SAP on Microsoft Azure</span></span> |
| <span data-ttu-id="e740d-207">[1409604]</span><span class="sxs-lookup"><span data-stu-id="e740d-207">[1409604]</span></span> |<span data-ttu-id="e740d-208">Virtualization on Windows: Enhanced Monitoring (Virtualización en Windows: supervisión mejorada)</span><span class="sxs-lookup"><span data-stu-id="e740d-208">Virtualization on Windows: Enhanced Monitoring</span></span> |
| <span data-ttu-id="e740d-209">[2191498]</span><span class="sxs-lookup"><span data-stu-id="e740d-209">[2191498]</span></span> |<span data-ttu-id="e740d-210">SAP on Linux with Azure: Enhanced Monitoring (SAP en Linux con Azure: supervisión mejorada)</span><span class="sxs-lookup"><span data-stu-id="e740d-210">SAP on Linux with Azure: Enhanced Monitoring</span></span> |
| <span data-ttu-id="e740d-211">[2039619]</span><span class="sxs-lookup"><span data-stu-id="e740d-211">[2039619]</span></span> |<span data-ttu-id="e740d-212">SAP Applications on Microsoft Azure using the Oracle Database: Supported Products and Versions (Aplicaciones de SAP en Microsoft Azure con Base de datos de Oracle: versiones y productos compatibles)</span><span class="sxs-lookup"><span data-stu-id="e740d-212">SAP Applications on Microsoft Azure using the Oracle Database: Supported Products and Versions</span></span> |
| <span data-ttu-id="e740d-213">[2233094]</span><span class="sxs-lookup"><span data-stu-id="e740d-213">[2233094]</span></span> |<span data-ttu-id="e740d-214">DB6: SAP Applications on Azure Using IBM DB2 for Linux, UNIX, and Windows - Additional Information (DB6: aplicaciones de SAP en Azure con IBM DB2 para Linux, UNIX y Windows: información adicional)</span><span class="sxs-lookup"><span data-stu-id="e740d-214">DB6: SAP Applications on Azure Using IBM DB2 for Linux, UNIX, and Windows - Additional Information</span></span> |
| <span data-ttu-id="e740d-215">[2243692]</span><span class="sxs-lookup"><span data-stu-id="e740d-215">[2243692]</span></span> |<span data-ttu-id="e740d-216">Linux on Microsoft Azure (IaaS) VM: SAP license issues (Linux y máquinas virtuales de Microsoft Azure (IaaS): problemas de licencia de SAP)</span><span class="sxs-lookup"><span data-stu-id="e740d-216">Linux on Microsoft Azure (IaaS) VM: SAP license issues</span></span> |
| <span data-ttu-id="e740d-217">[1984787]</span><span class="sxs-lookup"><span data-stu-id="e740d-217">[1984787]</span></span> |<span data-ttu-id="e740d-218">SUSE LINUX Enterprise Server 12: Installation notes (SUSE Linux Enterprise Server 12: notas de instalación)</span><span class="sxs-lookup"><span data-stu-id="e740d-218">SUSE LINUX Enterprise Server 12: Installation notes</span></span> |
| <span data-ttu-id="e740d-219">[2002167]</span><span class="sxs-lookup"><span data-stu-id="e740d-219">[2002167]</span></span> |<span data-ttu-id="e740d-220">Red Hat Enterprise Linux 7.x: Installation and Upgrade (Red Hat Enterprise Linux 7.x: instalación y actualización)</span><span class="sxs-lookup"><span data-stu-id="e740d-220">Red Hat Enterprise Linux 7.x: Installation and Upgrade</span></span> |

<span data-ttu-id="e740d-221">Lea también la [wiki de SCN](https://wiki.scn.sap.com/wiki/display/HOME/SAPonLinuxNotes) , que contiene todas las notas de SAP para Linux.</span><span class="sxs-lookup"><span data-stu-id="e740d-221">Please also read the [SCN Wiki](https://wiki.scn.sap.com/wiki/display/HOME/SAPonLinuxNotes) that contains all SAP Notes for Linux.</span></span>

<span data-ttu-id="e740d-222">Debe tener conocimientos prácticos sobre la arquitectura de Microsoft Azure y cómo se implementan y utilizan las máquinas virtuales de Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-222">You should have a working knowledge about the Microsoft Azure Architecture and how Microsoft Azure Virtual Machines are deployed and operated.</span></span> <span data-ttu-id="e740d-223">Puede encontrar más información aquí <https://azure.microsoft.com/documentation/>.</span><span class="sxs-lookup"><span data-stu-id="e740d-223">You can find more information here <https://azure.microsoft.com/documentation/></span></span>

> [!NOTE]
> <span data-ttu-id="e740d-224">En este documento **no** hablaremos sobre las ofertas de la plataforma como servicio (PaaS) de Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-224">We are **not** discussing Microsoft Azure Platform as a Service (PaaS) offerings of the Microsoft Azure Platform.</span></span> <span data-ttu-id="e740d-225">En su lugar, explicaremos cómo ejecutar un sistema de administración de bases de datos (DBMS) en máquinas virtuales de Microsoft Azure (IaaS) de la misma forma que ejecutaría este tipo de sistema en un entorno local.</span><span class="sxs-lookup"><span data-stu-id="e740d-225">This paper is about running a database management system (DBMS) in Microsoft Azure Virtual Machines (IaaS) just as you would run the DBMS in your on-premises environment.</span></span> <span data-ttu-id="e740d-226">Las funcionalidades de bases de datos de estas dos ofertas son muy diferentes y no deben combinarse.</span><span class="sxs-lookup"><span data-stu-id="e740d-226">Database capabilities and functionalities between these two offers are very different and should not be mixed up with each other.</span></span> <span data-ttu-id="e740d-227">Consulte también: <https://azure.microsoft.com/services/sql-database/>.</span><span class="sxs-lookup"><span data-stu-id="e740d-227">See also: <https://azure.microsoft.com/services/sql-database/></span></span>
>
>

<span data-ttu-id="e740d-228">Como estamos analizando el modelo IaaS, en general, el proceso de instalación y configuración de DBMS, Windows y Linux es prácticamente el mismo en cualquier máquina virtual o máquina sin sistema operativo que instalaría en un entorno local.</span><span class="sxs-lookup"><span data-stu-id="e740d-228">Since we are discussing IaaS, in general the Windows, Linux and DBMS installation and configuration are essentially the same as any virtual machine or bare metal machine you would install on-premises.</span></span> <span data-ttu-id="e740d-229">Sin embargo, hay algunas decisiones de implementación de administración de sistemas y arquitecturas que diferirán cuando se utilice el modelo IaaS.</span><span class="sxs-lookup"><span data-stu-id="e740d-229">However, there are some architecture and system management implementation decisions which will be different when utilizing IaaS.</span></span> <span data-ttu-id="e740d-230">El objetivo de este documento consiste en explicar las diferencias de administración de sistemas y arquitecturas específicas que debe tener en cuenta a la hora de utilizar IaaS.</span><span class="sxs-lookup"><span data-stu-id="e740d-230">The purpose of this document is to explain the specific architectural and system management differences that you must be prepared for when using IaaS.</span></span>

<span data-ttu-id="e740d-231">En general, las principales diferencias que se describen en este artículo son las siguientes:</span><span class="sxs-lookup"><span data-stu-id="e740d-231">In general, the overall areas of difference that this paper will discuss are:</span></span>

* <span data-ttu-id="e740d-232">Planear el diseño adecuado de los VHD y las máquinas virtuales de los sistemas SAP para garantizar que se dispone de la distribución correcta de archivos de datos y de la cantidad suficiente de IOPS para la carga de trabajo</span><span class="sxs-lookup"><span data-stu-id="e740d-232">Planning the proper VM/VHD layout of SAP systems to ensure you have the proper data file layout and can achieve enough IOPS for your workload.</span></span>
* <span data-ttu-id="e740d-233">Consideraciones sobre redes al utilizar IaaS</span><span class="sxs-lookup"><span data-stu-id="e740d-233">Networking considerations when using IaaS.</span></span>
* <span data-ttu-id="e740d-234">Características específicas de bases de datos que se deben usar para optimizar el diseño de las bases de datos</span><span class="sxs-lookup"><span data-stu-id="e740d-234">Specific database features to use in order to optimize the database layout.</span></span>
* <span data-ttu-id="e740d-235">Consideraciones sobre las operaciones de copia de seguridad y restauración en IaaS</span><span class="sxs-lookup"><span data-stu-id="e740d-235">Backup and restore considerations in IaaS.</span></span>
* <span data-ttu-id="e740d-236">Uso de diferentes tipos de imágenes para tareas de implementación</span><span class="sxs-lookup"><span data-stu-id="e740d-236">Utilizing different types of images for deployment.</span></span>
* <span data-ttu-id="e740d-237">Alta disponibilidad en IaaS de Azure</span><span class="sxs-lookup"><span data-stu-id="e740d-237">High Availability in Azure IaaS.</span></span>

## <span data-ttu-id="e740d-238"><a name="65fa79d6-a85f-47ee-890b-22e794f51a64"></a>Estructura de una implementación de RDBMS</span><span class="sxs-lookup"><span data-stu-id="e740d-238"><a name="65fa79d6-a85f-47ee-890b-22e794f51a64"></a>Structure of a RDBMS Deployment</span></span>
<span data-ttu-id="e740d-239">Para poder ir entendiendo lo que se explica en este capítulo, hay que comprender la información de [este][deployment-guide-3] capítulo de la [Guía de implementación][deployment-guide].</span><span class="sxs-lookup"><span data-stu-id="e740d-239">In order follow this chapter, it is necessary to understand what was presented in [this][deployment-guide-3] chapter of the [Deployment Guide][deployment-guide].</span></span> <span data-ttu-id="e740d-240">Antes de leer este capítulo, debe comprender lo que explicamos sobre la serie de máquinas virtuales y sus diferencias, así como las disimilitudes entre el almacenamiento estándar y premium de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-240">Knowledge about the different VM-Series and their differences and differences of Azure Standard and Premium Storage should be understood and known before reading this chapter.</span></span>

<span data-ttu-id="e740d-241">Los VHD de Azure que contienen un sistema operativo tenían una limitación de tamaño de 127 GB,</span><span class="sxs-lookup"><span data-stu-id="e740d-241">Until March 2015, Azure VHDs which contain an operating system were limited to 127 GB in size.</span></span> <span data-ttu-id="e740d-242">Esta limitación se eliminó en marzo de 2015 (para más información, consulte <https://azure.microsoft.com/blog/2015/03/25/azure-vm-os-drive-limit-octupled/>).</span><span class="sxs-lookup"><span data-stu-id="e740d-242">This limitation got lifted in March 2015 (for more information check <https://azure.microsoft.com/blog/2015/03/25/azure-vm-os-drive-limit-octupled/> ).</span></span> <span data-ttu-id="e740d-243">A partir de esa fecha, los VHD con el sistema operativo puede tener el mismo tamaño que cualquier otro disco duro virtual.</span><span class="sxs-lookup"><span data-stu-id="e740d-243">From there on VHDs containing the operating system can have the same size as any other VHD.</span></span> <span data-ttu-id="e740d-244">No obstante, se prefiere una estructura de implementación en la que el sistema operativo, el DBMS y los archivos binarios finales de SAP sean independientes de los archivos de base de datos.</span><span class="sxs-lookup"><span data-stu-id="e740d-244">Nevertheless, we still prefer a structure of deployment where the operating system, DBMS and eventual SAP binaries are separate from the database files.</span></span> <span data-ttu-id="e740d-245">Por lo tanto, se espera que los sistemas SAP que se ejecutan en máquinas virtuales de Azure tengan instalada la máquina virtual base (o VHD) con el sistema operativo, y los archivos ejecutables del sistema de administración de bases de datos administración y de SAP.</span><span class="sxs-lookup"><span data-stu-id="e740d-245">Therefore, we expect SAP systems running in Azure Virtual Machines will have the base VM (or VHD) installed with the operating system, database management system executables and SAP executables.</span></span> <span data-ttu-id="e740d-246">Los archivos de datos y de registro de DBMS se almacenarán en archivos VHD independientes de Almacenamiento de Azure (estándar o premium) y se asociarán como discos lógicos a la máquina virtual de imagen del sistema operativo de Azure original.</span><span class="sxs-lookup"><span data-stu-id="e740d-246">The DBMS data and log files will be stored in Azure Storage (Standard or Premium Storage) in separate VHD files and attached as logical disks to the original Azure operating system image VM.</span></span>

<span data-ttu-id="e740d-247">En función de cómo se utilice el almacenamiento de Azure estándar o premium (por ejemplo, con máquinas virtuales de serie DS o GS), habrá otras cuotas de Azure que se explican [aquí][virtual-machines-sizes].</span><span class="sxs-lookup"><span data-stu-id="e740d-247">Dependent on leveraging Azure Standard or Premium Storage (e.g. by using the DS-series or GS-series VMs) there are other quotas in Azure which are documented [here][virtual-machines-sizes].</span></span> <span data-ttu-id="e740d-248">Al planear los VHD de Azure, tendrá que encontrar el mejor equilibrio de las cuotas en los siguientes recursos:</span><span class="sxs-lookup"><span data-stu-id="e740d-248">When planning your Azure VHDs, you’ll need to find the best balance of the quotas for the following:</span></span>

* <span data-ttu-id="e740d-249">El número de archivos de datos</span><span class="sxs-lookup"><span data-stu-id="e740d-249">The number of data files.</span></span>
* <span data-ttu-id="e740d-250">El número de VHD que contienen los archivos</span><span class="sxs-lookup"><span data-stu-id="e740d-250">The number of VHDs which contain the files.</span></span>
* <span data-ttu-id="e740d-251">Las cuotas de IOPS de un solo VHD</span><span class="sxs-lookup"><span data-stu-id="e740d-251">The IOPS quotas of a single VHD.</span></span>
* <span data-ttu-id="e740d-252">El rendimiento por VHD</span><span class="sxs-lookup"><span data-stu-id="e740d-252">The data throughput per VHD.</span></span>
* <span data-ttu-id="e740d-253">El número de VHD adicionales posibles por tamaño de máquina virtual</span><span class="sxs-lookup"><span data-stu-id="e740d-253">The number of additional VHDs possible per VM size.</span></span>
* <span data-ttu-id="e740d-254">El rendimiento de almacenamiento global que puede proporcionar una máquina virtual</span><span class="sxs-lookup"><span data-stu-id="e740d-254">The overall storage throughput a VM can provide.</span></span>

<span data-ttu-id="e740d-255">Azure aplicará una cuota de IOPS por unidad de VHD.</span><span class="sxs-lookup"><span data-stu-id="e740d-255">Azure will enforce an IOPS quota per VHD drive.</span></span> <span data-ttu-id="e740d-256">Estas cuotas son diferentes para los VHD hospedados en el almacenamiento estándar y premium de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-256">These quotas are different for VHDs hosted on Azure Standard Storage and Premium Storage.</span></span> <span data-ttu-id="e740d-257">Las latencias de E/S también será muy distintas entre los dos tipos de almacenamiento; Almacenamiento premium ofrece mejores latencias de E/S.</span><span class="sxs-lookup"><span data-stu-id="e740d-257">I/O latencies will also be very different between the two storage types with Premium Storage delivering factors better I/O latencies.</span></span> <span data-ttu-id="e740d-258">Cada uno de los distintos tipos de máquina virtual tiene un número limitado de VHD que se pueden asociar.</span><span class="sxs-lookup"><span data-stu-id="e740d-258">Each of the different VM types have a limited number of VHDs that you are able to attach.</span></span> <span data-ttu-id="e740d-259">Otra restricción consiste en que solo determinados tipos de máquinas virtuales pueden utilizar el Almacenamiento premium de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-259">Another restriction is that only certain VM types can leverage Azure Premium Storage.</span></span> <span data-ttu-id="e740d-260">Es decir, la decisión de elegir un determinado tipo de máquina virtual podría no estar basada exclusivamente en los requisitos de CPU y memoria, sino también en los de rendimiento de disco, latencia y número de IOPS que normalmente se escalan con el número de VHD o el tipo de discos de Almacenamiento premium.</span><span class="sxs-lookup"><span data-stu-id="e740d-260">This means the decision for a certain VM type might not only be driven by the CPU and memory requirements, but also by the IOPS, latency and disk throughput requirements that usually are scaled with the number of VHDs or the type of Premium Storage disks.</span></span> <span data-ttu-id="e740d-261">El tamaño de un VHD también podría venir determinado por el número de IOPS y el rendimiento que haya que obtener en cada disco duro virtual, especialmente con el Almacenamiento premium.</span><span class="sxs-lookup"><span data-stu-id="e740d-261">Especially with Premium Storage the size of a VHD also might be dictated by the number of IOPS and throughput that needs to be achieved by each VHD.</span></span>

<span data-ttu-id="e740d-262">El hecho de que la tasa de IOPS general, el número de VHD montados y el tamaño de la máquina virtual estén relacionados puede provocar que la configuración de Azure de un sistema SAP sea diferente a la de la implementación local.</span><span class="sxs-lookup"><span data-stu-id="e740d-262">The fact that the overall IOPS rate, the number of VHDs mounted, and the size of the VM are all tied together, might cause an Azure configuration of an SAP system to be different than its on-premises deployment.</span></span> <span data-ttu-id="e740d-263">Los límites de IOPS por LUN suelen poder configurarse en las implementaciones locales,</span><span class="sxs-lookup"><span data-stu-id="e740d-263">The IOPS limits per LUN are usually configurable in on-premises deployments.</span></span> <span data-ttu-id="e740d-264">al contrario que en el almacenamiento de Azure, donde los límites son fijos, o en el Almacenamiento Premium, que dependen del tipo de disco.</span><span class="sxs-lookup"><span data-stu-id="e740d-264">Whereas with Azure Storage those limits are fixed or as in Premium Storage dependent on the disk type.</span></span> <span data-ttu-id="e740d-265">Por tanto, con las implementaciones locales encontramos configuraciones de clientes de servidores de bases de datos que utilizan muchos volúmenes diferentes para archivos ejecutables especiales como SAP y DBMS, o bien volúmenes especiales para espacios de tablas o bases de datos temporales.</span><span class="sxs-lookup"><span data-stu-id="e740d-265">So with on-premises deployments we see customer configurations of database servers which are using many different volumes for special executables like SAP and the DBMS or special volumes for temporary databases or table spaces.</span></span> <span data-ttu-id="e740d-266">Cuando se mueven dichos sistemas locales a Azure, podría perderse ancho de banda de IOPS potencial al desperdiciar un VHD para archivos ejecutables o bases de datos que no realizan operaciones IOPS.</span><span class="sxs-lookup"><span data-stu-id="e740d-266">When such an on-premises system is moved to Azure it might lead to a waste of potential IOPS bandwidth by wasting a VHD for executables or databases which do not perform any or not a lot of IOPS.</span></span> <span data-ttu-id="e740d-267">Por lo tanto, en máquinas virtuales de Azure recomendamos que los archivos ejecutables de SAP y DBMS se instalen, si es posible, en el disco del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="e740d-267">Therefore, in Azure VMs we recommend that the DBMS and SAP executables be installed on the OS disk if possible.</span></span>

<span data-ttu-id="e740d-268">La colocación de los archivos de base de datos y de registro y el tipo de almacenamiento de Azure que se utilice se debe definir en función de los requisitos de IOPS, latencia y rendimiento.</span><span class="sxs-lookup"><span data-stu-id="e740d-268">The placement of the database files and log files and the type of Azure Storage used, should be defined by IOPS, latency and throughput requirements.</span></span> <span data-ttu-id="e740d-269">Con el objetivo de disponer de una cantidad suficiente de IOPS para el registro de transacciones, es posible que tenga que utilizar varios VHD para el archivo de registro de transacciones o emplear un disco de Almacenamiento premium de mayor tamaño.</span><span class="sxs-lookup"><span data-stu-id="e740d-269">In order to have enough IOPS for the transaction log, you might be forced to leverage multiple VHDs for the transaction log file or use a larger Premium Storage disk.</span></span> <span data-ttu-id="e740d-270">En este caso, bastaría simplemente con compilar software RAID (por ejemplo, un grupo de almacenamiento de Windows para Windows o MDADM y LVM [Logical Volumen Manager] para Linux) con los VHD que contendrán el registro de transacciones.</span><span class="sxs-lookup"><span data-stu-id="e740d-270">In such a case one would simply build a software RAID (e.g. Windows Storage Pool for Windows or MDADM and LVM (Logical Volume Manager) for Linux) with the VHDs which will contain the transaction log.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="e740d-272">Windows</span><span class="sxs-lookup"><span data-stu-id="e740d-272">Windows</span></span>
>
> <span data-ttu-id="e740d-273">La unidad D:\ de una máquina virtual de Azure es una unidad no persistente respaldada por algunos discos locales del nodo de proceso de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-273">Drive D:\ in an Azure VM is a non-persisted drive which is backed by some local disks on the Azure compute node.</span></span> <span data-ttu-id="e740d-274">Como no es persistente, significa que los cambios realizados en el contenido de la unidad D:\ se perderán cuando se reinicie la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="e740d-274">Because it is non-persisted, this means that any changes made to the content on the D:\ drive is lost when the VM is rebooted.</span></span> <span data-ttu-id="e740d-275">Por "cambios", nos referimos a los archivos guardados, los directorios creados, las aplicaciones instaladas, etc.</span><span class="sxs-lookup"><span data-stu-id="e740d-275">By "any changes", we mean saved files, directories created, applications installed, etc.</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="e740d-277">Linux</span><span class="sxs-lookup"><span data-stu-id="e740d-277">Linux</span></span>
>
> <span data-ttu-id="e740d-278">Las máquinas virtuales de Linux de Azure montan automáticamente una unidad en /mnt/Resource, que se trata de una unidad no persistente respaldada por discos locales del nodo de proceso de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-278">Linux Azure VMs automatically mount a drive at /mnt/resource which is a non-persisted drive backed by local disks on the Azure compute node.</span></span> <span data-ttu-id="e740d-279">Como no es persistente, significa que los cambios realizados en el contenido de la unidad /mnt/resource se perderán cuando se reinicie la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="e740d-279">Because it is non-persisted, this means that any changes made to content in /mnt/resource is lost when the VM is rebooted.</span></span> <span data-ttu-id="e740d-280">Por "cambios", nos referimos a los archivos guardados, los directorios creados, las aplicaciones instaladas, etc.</span><span class="sxs-lookup"><span data-stu-id="e740d-280">By any changes, we mean files saved, directories created, applications installed, etc.</span></span>
>
>

- - -
<span data-ttu-id="e740d-281">En función de la serie de máquinas virtuales de Azure, los discos locales del nodo de proceso tendrán un rendimiento diferente. Esto se puede clasificar de la siguiente forma:</span><span class="sxs-lookup"><span data-stu-id="e740d-281">Dependent on the Azure VM-series, the local disks on the compute node show different performance which can be categorized like:</span></span>

* <span data-ttu-id="e740d-282">A0-A7: rendimiento muy limitado.</span><span class="sxs-lookup"><span data-stu-id="e740d-282">A0-A7: Very limited performance.</span></span> <span data-ttu-id="e740d-283">No se puede usar para un recurso que no sea un archivo de paginación de Windows.</span><span class="sxs-lookup"><span data-stu-id="e740d-283">Not usable for anything beyond windows page file</span></span>
* <span data-ttu-id="e740d-284">A8-A11: características de rendimiento muy buenas con 10 000 IOPS y una tasa de más de 1 GB/seg.</span><span class="sxs-lookup"><span data-stu-id="e740d-284">A8-A11: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput</span></span>
* <span data-ttu-id="e740d-285">Serie D: características de rendimiento muy buenas con 10 000 IOPS y una tasa de más de 1 GB/seg.</span><span class="sxs-lookup"><span data-stu-id="e740d-285">D-Series: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput</span></span>
* <span data-ttu-id="e740d-286">Serie DS: características de rendimiento muy buenas con 10 000 IOPS y una tasa de más de 1 GB/seg.</span><span class="sxs-lookup"><span data-stu-id="e740d-286">DS-Series: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput</span></span>
* <span data-ttu-id="e740d-287">Serie G: características de rendimiento muy buenas con 10 000 IOPS y una tasa de más de 1 GB/seg.</span><span class="sxs-lookup"><span data-stu-id="e740d-287">G-Series: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput</span></span>
* <span data-ttu-id="e740d-288">Serie GS: características de rendimiento muy buenas con 10 000 IOPS y una tasa de más de 1 GB/seg.</span><span class="sxs-lookup"><span data-stu-id="e740d-288">GS-Series: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput</span></span>

<span data-ttu-id="e740d-289">Las afirmaciones anteriores se aplican a los tipos de máquinas virtuales que estén certificados para utilizarse con SAP.</span><span class="sxs-lookup"><span data-stu-id="e740d-289">Statements above are applying to the VM types that are certified with SAP.</span></span> <span data-ttu-id="e740d-290">La serie de máquina virtual con un rendimiento y una cantidad de IOPS excelentes puede aprovechar algunas características de DBMS, como tempdb o el espacio de tabla temporal.</span><span class="sxs-lookup"><span data-stu-id="e740d-290">The VM-series with excellent IOPS and throughput qualify for leverage by some DBMS features, like tempdb or temporary table space.</span></span>

### <span data-ttu-id="e740d-291"><a name="c7abf1f0-c927-4a7c-9c1d-c7b5b3b7212f"></a>Almacenamiento en caché de máquinas virtuales y VHD</span><span class="sxs-lookup"><span data-stu-id="e740d-291"><a name="c7abf1f0-c927-4a7c-9c1d-c7b5b3b7212f"></a>Caching for VMs and VHDs</span></span>
<span data-ttu-id="e740d-292">Al crear esos discos o VHD mediante el portal o cuando montemos VHD cargados en máquinas virtuales, podremos elegir si almacenar en caché el tráfico de E/S entre la máquina virtual y los VHD ubicados en el almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-292">When we create those disks/VHDs through the portal or when we mount uploaded VHDs to VMs, we can choose whether the I/O traffic between the VM and those VHDs located in Azure storage are cached.</span></span> <span data-ttu-id="e740d-293">El almacenamiento estándar y premium de Azure utilizan dos tecnologías diferentes para este tipo de almacenamiento en caché.</span><span class="sxs-lookup"><span data-stu-id="e740d-293">Azure Standard and Premium Storage use two different technologies for this type of cache.</span></span> <span data-ttu-id="e740d-294">En ambos casos, la memoria caché sería el disco cuya copia de seguridad se realiza en la misma unidad que emplea el disco temporal (D:\ en Windows o /mnt/resource en Linux) de la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="e740d-294">In both cases the cache itself would be disk backed on the same drives used by the temporary disk (D:\ on Windows or /mnt/resource on Linux) of the VM.</span></span>

<span data-ttu-id="e740d-295">En el almacenamiento estándar de Azure, estos son los tipos posibles de almacenamiento en caché:</span><span class="sxs-lookup"><span data-stu-id="e740d-295">For Azure Standard Storage the possible cache types are:</span></span>

* <span data-ttu-id="e740d-296">Sin almacenamiento en caché</span><span class="sxs-lookup"><span data-stu-id="e740d-296">No caching</span></span>
* <span data-ttu-id="e740d-297">Almacenamiento en caché de lectura</span><span class="sxs-lookup"><span data-stu-id="e740d-297">Read caching</span></span>
* <span data-ttu-id="e740d-298">Almacenamiento en caché de lectura y escritura</span><span class="sxs-lookup"><span data-stu-id="e740d-298">Read and Write caching</span></span>

<span data-ttu-id="e740d-299">Para obtener un rendimiento coherente y determinista, debe establecer el valor del almacenamiento en caché de Almacenamiento de Azure estándar en todos los VHD que contienen **archivos de datos, archivos de registro y espacio de tablas relacionados con DBMS en NINGUNO**.</span><span class="sxs-lookup"><span data-stu-id="e740d-299">In order to get consistent and deterministic performance, you should set the caching on Azure Standard Storage for all VHDs containing **DBMS related data files, log files and table space to 'NONE'**.</span></span> <span data-ttu-id="e740d-300">El valor del almacenamiento en caché de la máquina virtual puede seguir siendo el predeterminado.</span><span class="sxs-lookup"><span data-stu-id="e740d-300">The caching of the VM can remain with the default.</span></span>

<span data-ttu-id="e740d-301">Para Azure Premium Storage, se encuentran disponibles las siguientes opciones de almacenamiento en caché:</span><span class="sxs-lookup"><span data-stu-id="e740d-301">For Azure Premium Storage the following caching options exist:</span></span>

* <span data-ttu-id="e740d-302">Sin almacenamiento en caché</span><span class="sxs-lookup"><span data-stu-id="e740d-302">No caching</span></span>
* <span data-ttu-id="e740d-303">Almacenamiento en caché de lectura</span><span class="sxs-lookup"><span data-stu-id="e740d-303">Read caching</span></span>

<span data-ttu-id="e740d-304">Para Azure Premium Storage, se recomienda aprovechar el **almacenamiento en caché de lectura para archivos de datos** de la base de datos de SAP y no elegir **almacenamiento en caché para los VHD de archivos de registro**.</span><span class="sxs-lookup"><span data-stu-id="e740d-304">Recommendation for Azure Premium Storage is to leverage **Read caching for data files** of the SAP database and chose **No caching for the VHD(s) of log file(s)**.</span></span>

### <span data-ttu-id="e740d-305"><a name="c8e566f9-21b7-4457-9f7f-126036971a91"></a>RAID de software</span><span class="sxs-lookup"><span data-stu-id="e740d-305"><a name="c8e566f9-21b7-4457-9f7f-126036971a91"></a>Software RAID</span></span>
<span data-ttu-id="e740d-306">Como ya se ha indicado anteriormente, tendrá que equilibrar el número de operaciones IOPS necesarias para los archivos de base de datos entre el número de VDH que se pueden configurar y la cantidad máxima de IOPS que proporcionará una máquina virtual de Azure por tipo de disco de Almacenamiento premium o VHD.</span><span class="sxs-lookup"><span data-stu-id="e740d-306">As already stated above, you will need to balance the number of IOPS needed for the database files across the number of VHDs you can configure and the maximum IOPS an Azure VM will provide per VHD or Premium Storage disk type.</span></span> <span data-ttu-id="e740d-307">La forma más sencilla de gestionar la carga de IOPS en los VHD consiste en compilar software RAID en los diferentes discos duros virtuales.</span><span class="sxs-lookup"><span data-stu-id="e740d-307">Easiest way to deal with the IOPS load over VHDs is to build a software RAID over the different VHDs.</span></span> <span data-ttu-id="e740d-308">Después, coloque una serie de archivos de datos del DBMS de SAP en los LUN extraídas del software RAID.</span><span class="sxs-lookup"><span data-stu-id="e740d-308">Then place a number of data files of the SAP DBMS on the LUNS carved out of the software RAID.</span></span> <span data-ttu-id="e740d-309">En función de los requisitos, se recomienda también plantearse el uso de Almacenamiento premium, ya que dos de los tres discos de Almacenamiento premium diferentes proporcionan mayor cuota de IOPS que los VHD basados en el almacenamiento estándar.</span><span class="sxs-lookup"><span data-stu-id="e740d-309">Dependent on the requirements you might want to consider the usage of Premium Storage as well since two of the three different Premium Storage disks provide higher IOPS quota than VHDs based on Standard Storage.</span></span> <span data-ttu-id="e740d-310">Además, Almacenamiento premium de Azure ofrece mucha mejor latencia de E/S.</span><span class="sxs-lookup"><span data-stu-id="e740d-310">Besides the significant better I/O latency provided by Azure Premium Storage.</span></span>

<span data-ttu-id="e740d-311">Lo mismo se aplica al registro de transacciones de los diferentes sistemas DBMS.</span><span class="sxs-lookup"><span data-stu-id="e740d-311">Same applies to the transaction log of the different DBMS systems.</span></span> <span data-ttu-id="e740d-312">Muchos de ellos simplemente agregan más archivos de registro de transacciones, lo que no resulta de ayuda, ya que los sistemas DBMS solo realizan operaciones de escritura en uno de los archivos a la vez.</span><span class="sxs-lookup"><span data-stu-id="e740d-312">With a lot of them just adding more Tlog files does not help since the DBMS systems write into one of the files at a time only.</span></span> <span data-ttu-id="e740d-313">Si se necesitan tasas de IOPS más elevadas que las que ofrece un único almacenamiento estándar basado en VHD, puede realizar secciones en varios VHD de almacenamiento estándar o usar un tipo de disco de almacenamiento Premium mayor que ofrezca, aparte de mayores tasas de IOPS, una menor latencia de E/S en la operación de E/S de escritura en el registro de transacciones.</span><span class="sxs-lookup"><span data-stu-id="e740d-313">If higher IOPS rates are needed than a single Standard Storage based VHD can deliver, you can stripe over multiple Standard Storage VHDs or you can use a larger Premium Storage disk type that beyond higher IOPS rates also delivers factors lower latency for the write I/Os into the transaction log.</span></span>

<span data-ttu-id="e740d-314">Estas son las situaciones experimentadas en las implementaciones de Azure que se favorecerían si se emplea software RAID:</span><span class="sxs-lookup"><span data-stu-id="e740d-314">Situations experienced in Azure deployments which would favor using a software RAID are:</span></span>

* <span data-ttu-id="e740d-315">El registro de transacciones y el de rehacer necesitan más IOPS que lo que ofrece Azure para un solo VHD.</span><span class="sxs-lookup"><span data-stu-id="e740d-315">Transaction Log/Redo Log require more IOPS than Azure provides for a single VHD.</span></span> <span data-ttu-id="e740d-316">Tal y como se mencionó anteriormente, esto puede solucionarse creando un LUN en varios VHD que utilicen software RAID.</span><span class="sxs-lookup"><span data-stu-id="e740d-316">As mentioned above this can be solved by building a LUN over multiple VHDs using a software RAID.</span></span>
* <span data-ttu-id="e740d-317">La distribución de cargas de trabajo de E/S desigual por los diferentes archivos de datos de la base de datos de SAP.</span><span class="sxs-lookup"><span data-stu-id="e740d-317">Uneven I/O workload distribution over the different data files of the SAP database.</span></span> <span data-ttu-id="e740d-318">En tales casos, se puede experimentar que un archivo de datos alcance la cuota con bastante frecuencia;</span><span class="sxs-lookup"><span data-stu-id="e740d-318">In such cases one can experience one data file hitting the quota rather often.</span></span> <span data-ttu-id="e740d-319">mientras que otros archivos de datos ni siquiera se acercan a la cuota de IOPS de un solo VHD.</span><span class="sxs-lookup"><span data-stu-id="e740d-319">Whereas other data files are not even getting close to the IOPS quota of a single VHD.</span></span> <span data-ttu-id="e740d-320">En estos casos, la solución más sencilla consiste en crear un LUN en varios VHD que utilicen software RAID.</span><span class="sxs-lookup"><span data-stu-id="e740d-320">In such cases the easiest solution is to build one LUN over multiple VHDs using a software RAID.</span></span>
* <span data-ttu-id="e740d-321">No sabe cuál es la carga de trabajo de E/S exacta por archivo de datos y solo conoce, más o menos, la carga de trabajo general de IOPS en el DBMS.</span><span class="sxs-lookup"><span data-stu-id="e740d-321">You don’t know what the exact I/O workload per data file is and only roughly know what the overall IOPS workload against the DBMS is.</span></span> <span data-ttu-id="e740d-322">La forma más sencilla es crear un LUN con la ayuda de un software RAID.</span><span class="sxs-lookup"><span data-stu-id="e740d-322">Easiest to do is to build one LUN with the help of a software RAID.</span></span> <span data-ttu-id="e740d-323">La suma de las cuotas de varios VHD subyacentes a este LUN debe alcanzar la tasa de IOPS conocida.</span><span class="sxs-lookup"><span data-stu-id="e740d-323">The sum of quotas of multiple VHDs behind this LUN should then fulfill the known IOPS rate.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="e740d-325">Windows</span><span class="sxs-lookup"><span data-stu-id="e740d-325">Windows</span></span>
>
> <span data-ttu-id="e740d-326">Se recomienda usar Windows Server 2012 o espacios de almacenamiento superior, ya que es más eficaz que la funcionalidad de creación de secciones de versiones anteriores de Windows.</span><span class="sxs-lookup"><span data-stu-id="e740d-326">Usage of Windows Server 2012 or higher Storage Spaces is preferable since it is more efficient than Windows Striping of earlier Windows versions.</span></span> <span data-ttu-id="e740d-327">Tenga en cuenta que es posible que tenga que crear los espacios y los grupos de almacenamiento de Windows mediante comandos de PowerShell al utilizar Windows Server 2012 como sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="e740d-327">Please be aware that you might need to create the Windows Storage Pools and Storage Spaces by PowerShell commands when using Windows Server 2012 as Operating System.</span></span> <span data-ttu-id="e740d-328">Los comandos de PowerShell se pueden encontrar aquí <https://technet.microsoft.com/library/jj851254.aspx>.</span><span class="sxs-lookup"><span data-stu-id="e740d-328">The PowerShell commands can be found here <https://technet.microsoft.com/library/jj851254.aspx></span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="e740d-330">Linux</span><span class="sxs-lookup"><span data-stu-id="e740d-330">Linux</span></span>
>
> <span data-ttu-id="e740d-331">Para crear un software RAID en Linux, solo se admiten MDADM y LVM (Logical Volume Manager).</span><span class="sxs-lookup"><span data-stu-id="e740d-331">Only MDADM and LVM (Logical Volume Manager) are supported to build a software RAID on Linux.</span></span> <span data-ttu-id="e740d-332">Para más información, consulte los siguientes artículos:</span><span class="sxs-lookup"><span data-stu-id="e740d-332">For more information, read the following articles:</span></span>
>
> * <span data-ttu-id="e740d-333">[Configuración de RAID de software en Linux][virtual-machines-linux-configure-raid] (para MDADM)</span><span class="sxs-lookup"><span data-stu-id="e740d-333">[Configure Software RAID on Linux][virtual-machines-linux-configure-raid] (for MDADM)</span></span>
> * <span data-ttu-id="e740d-334">[Configuración del LVM en una máquina virtual Linux en Azure][virtual-machines-linux-configure-lvm]</span><span class="sxs-lookup"><span data-stu-id="e740d-334">[Configure LVM on a Linux VM in Azure][virtual-machines-linux-configure-lvm]</span></span>
>
>

- - -
<span data-ttu-id="e740d-335">Estas suelen ser las consideraciones que hay que tener en cuenta para utilizar la serie de máquinas virtuales que pueden funcionar con el Almacenamiento premium de Azure normalmente son:</span><span class="sxs-lookup"><span data-stu-id="e740d-335">Considerations for leveraging VM-series which are able to work with Azure Premium Storage usually are:</span></span>

* <span data-ttu-id="e740d-336">Peticiones de latencias de E/S que se acerquen a los que proporcionan los dispositivos SAN o NAS</span><span class="sxs-lookup"><span data-stu-id="e740d-336">Demands for I/O latencies that are close to what SAN/NAS devices deliver.</span></span>
* <span data-ttu-id="e740d-337">Petición proporcionar una mejor latencia de E/S que la que puede proporcionar el almacenamiento estándar de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-337">Demand for factors better I/O latency than Azure Standard Storage can deliver.</span></span>
* <span data-ttu-id="e740d-338">Mayor tasa de IOPS por máquina virtual que la que podría obtenerse con varios VHD de almacenamiento estándar en un determinado tipo de máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="e740d-338">Higher IOPS per VM than what could be achieved with multiple Standard Storage VHDs against a certain VM type.</span></span>

<span data-ttu-id="e740d-339">Puesto que el almacenamiento de Azure subyacente replica cada VHD en al menos tres nodos de almacenamiento, puede usarse la funcionalidad de creación se secciones de RAID 0.</span><span class="sxs-lookup"><span data-stu-id="e740d-339">Since the underlying Azure Storage replicates each VHD to at least three storage nodes, simple RAID 0 striping can be used.</span></span> <span data-ttu-id="e740d-340">No hay que implementar RAID5 o RAID1.</span><span class="sxs-lookup"><span data-stu-id="e740d-340">There is no need to implement RAID5 or RAID1.</span></span>

### <span data-ttu-id="e740d-341"><a name="10b041ef-c177-498a-93ed-44b3441ab152"></a>Almacenamiento de Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="e740d-341"><a name="10b041ef-c177-498a-93ed-44b3441ab152"></a>Microsoft Azure Storage</span></span>
<span data-ttu-id="e740d-342">Almacenamiento de Microsoft Azure almacenará la máquina virtual (con SO) y los VHD o blobs base en, al menos, 3 nodos de almacenamiento independientes.</span><span class="sxs-lookup"><span data-stu-id="e740d-342">Microsoft Azure Storage will store the base VM (with OS) and VHDs or BLOBs to at least 3 separate storage nodes.</span></span> <span data-ttu-id="e740d-343">Al crear una cuenta de almacenamiento, se ofrece una opción de protección, tal y como se muestra aquí:</span><span class="sxs-lookup"><span data-stu-id="e740d-343">When creating a storage account, there is a choice of protection as shown here:</span></span>

![Replicación geográfica habilitada para la cuenta de Almacenamiento de Azure][dbms-guide-figure-100]

<span data-ttu-id="e740d-345">La replicación local de Almacenamiento de Azure (con redundancia local) proporciona niveles de protección contra la pérdida de datos debido a un error de infraestructura que pocos clientes pueden permitirse implementar.</span><span class="sxs-lookup"><span data-stu-id="e740d-345">Azure Storage Local Replication (Locally Redundant) provides levels of protection against data loss due to infrastructure failure that few customers could afford to deploy.</span></span> <span data-ttu-id="e740d-346">Tal y como se mostró anteriormente, hay 4 opciones diferentes con una quinta que es una variación de una de las tres primeras.</span><span class="sxs-lookup"><span data-stu-id="e740d-346">As shown above there are 4 different options with a fifth being a variation of one of the first three.</span></span> <span data-ttu-id="e740d-347">Si las analizamos más detenidamente, podemos distinguir:</span><span class="sxs-lookup"><span data-stu-id="e740d-347">Looking closer at them we can distinguish:</span></span>

* <span data-ttu-id="e740d-348">**Almacenamiento con redundancia local (LRS) premium**: el Almacenamiento premium de Azure ofrece compatibilidad con discos de alto rendimiento y latencia baja para máquinas virtuales con cargas de trabajo intensivas de E/S.</span><span class="sxs-lookup"><span data-stu-id="e740d-348">**Premium Locally Redundant Storage (LRS)**: Azure Premium Storage delivers high-performance, low-latency disk support for virtual machines running I/O-intensive workloads.</span></span> <span data-ttu-id="e740d-349">Existen 3 réplicas de los datos en el mismo centro de datos de Azure de una región de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-349">There are 3 replicas of the data within the same Azure datacenter of an Azure region.</span></span> <span data-ttu-id="e740d-350">Las copias se encontrarán en dominios de error y actualización diferentes (para familiarizarse con los conceptos, consulte [este][planning-guide-3.2] capítulo de la [Guía de planeamiento][planning-guide]).</span><span class="sxs-lookup"><span data-stu-id="e740d-350">The copies will be in different Fault and Upgrade Domains (for concepts see [this][planning-guide-3.2] chapter in the [Planning Guide][planning-guide]).</span></span> <span data-ttu-id="e740d-351">En el caso de que una réplica de los datos se quede fuera de servicio debido a un error de disco o del nodo de almacenamiento, se generará automáticamente una nueva réplica.</span><span class="sxs-lookup"><span data-stu-id="e740d-351">In case of a replica of the data going out of service due to a storage node failure or disk failure, a new replica is generated automatically.</span></span>
* <span data-ttu-id="e740d-352">**Almacenamiento con redundancia local (LRS)**: en este caso, existen tres réplicas de los datos en el mismo centro de datos de Azure de una región de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-352">**Locally Redundant Storage (LRS)**: In this case there are 3 replicas of the data within the same Azure datacenter of an Azure region.</span></span> <span data-ttu-id="e740d-353">Las copias se encontrarán en dominios de error y actualización diferentes (para familiarizarse con los conceptos, consulte [este][planning-guide-3.2] capítulo de la [Guía de planeamiento][planning-guide]).</span><span class="sxs-lookup"><span data-stu-id="e740d-353">The copies will be in different Fault and Upgrade Domains (for concepts see [this][planning-guide-3.2] chapter in the [Planning Guide][planning-guide]).</span></span> <span data-ttu-id="e740d-354">En el caso de que una réplica de los datos se quede fuera de servicio debido a un error de disco o del nodo de almacenamiento, se generará automáticamente una nueva réplica.</span><span class="sxs-lookup"><span data-stu-id="e740d-354">In case of a replica of the data going out of service due to a storage node failure or disk failure, a new replica is generated automatically.</span></span>
* <span data-ttu-id="e740d-355">**Almacenamiento con redundancia geográfica (GRS)**: en este caso, hay una replicación asincrónica que alimentará tres réplicas adicionales de los datos en otra región de Azure que se encuentra, en la mayoría de los casos, en la misma región geográfica (como Europa del Norte y Europa Occidental).</span><span class="sxs-lookup"><span data-stu-id="e740d-355">**Geo Redundant Storage (GRS)**: In this case there is an asynchronous replication that will feed an additional 3 replicas of the data in another Azure Region which is in most of the cases in the same geographical region (like North Europe and West Europe).</span></span> <span data-ttu-id="e740d-356">Esta opción generará 3 réplicas adicionales, por lo que habrá 6 réplicas en total.</span><span class="sxs-lookup"><span data-stu-id="e740d-356">This will result in 3 additional replicas, so that there are 6 replicas in sum.</span></span> <span data-ttu-id="e740d-357">Una variación de esta opción es una adición en la que pueden utilizarse los datos de la región de Azure replicada geográficamente para operaciones de lectura (redundancia geográfica con acceso de lectura).</span><span class="sxs-lookup"><span data-stu-id="e740d-357">A variation of this is an addition where the data in the geo replicated Azure region can be used for read purposes (Read-Access Geo-Redundant).</span></span>
* <span data-ttu-id="e740d-358">**Almacenamiento con redundancia de zona (ZRS)**: en este caso, las tres réplicas de los datos permanecen en la misma región de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-358">**Zone Redundant Storage (ZRS)**: In this case the 3 replicas of the data remain in the same Azure Region.</span></span> <span data-ttu-id="e740d-359">Tal y como se explica en [este][planning-guide-3.1] capítulo de la [Guía de planeamiento][planning-guide], una región de Azure puede incluir varios centros de datos que se encuentren muy cerca.</span><span class="sxs-lookup"><span data-stu-id="e740d-359">As explained in [this][planning-guide-3.1] chapter of the [Planning Guide][planning-guide] an Azure region can be a number of datacenters in close proximity.</span></span> <span data-ttu-id="e740d-360">En el caso de LRS, las réplicas se distribuyen por los distintos centros de datos que conforman una región de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-360">In the case of LRS the replicas would be distributed over the different datacenters that make one Azure region.</span></span>

<span data-ttu-id="e740d-361">Puede encontrar más información [aquí][storage-redundancy].</span><span class="sxs-lookup"><span data-stu-id="e740d-361">More information can be found [here][storage-redundancy].</span></span>

> [!NOTE]
> <span data-ttu-id="e740d-362">En lo que respecta a las implementaciones de DBMS, no se recomienda usar el almacenamiento con redundancia geográfica.</span><span class="sxs-lookup"><span data-stu-id="e740d-362">For DBMS deployments, the usage of Geo Redundant Storage is not recommended</span></span>
>
> <span data-ttu-id="e740d-363">La replicación geográfica del almacenamiento de Azure es asincrónica.</span><span class="sxs-lookup"><span data-stu-id="e740d-363">Azure Storage Geo-Replication is asynchronous.</span></span> <span data-ttu-id="e740d-364">La replicación de VHD individuales montados en una sola máquina virtual no se sincroniza en el paso de bloqueo.</span><span class="sxs-lookup"><span data-stu-id="e740d-364">Replication of individual VHDs mounted to a single VM are not synchronized in lock step.</span></span> <span data-ttu-id="e740d-365">Por lo tanto, no es adecuada para replicar los archivos DBMS que se distribuyen por diferentes VHD o que se implementan con un software RAID basado en varios discos duros virtuales.</span><span class="sxs-lookup"><span data-stu-id="e740d-365">Therefore, it is not suitable to replicate DBMS files that are distributed over different VHDs or deployed against a software RAID based on multiple VHDs.</span></span> <span data-ttu-id="e740d-366">El software de DBMS requiere que el almacenamiento en disco persistente se sincronice con precisión en los distintos LUN y en los VHD, discos o ejes subyacentes.</span><span class="sxs-lookup"><span data-stu-id="e740d-366">DBMS software requires that the persistent disk storage is precisely synchronized across different LUNs and underlying disks/VHDs/spindles.</span></span> <span data-ttu-id="e740d-367">El software de DBMS utiliza diversos mecanismos para secuenciar las actividades de escritura de E/S y un DBMS informará de que el almacenamiento en disco que tiene como destino la replicación está dañado si dichas actividades varían en unos pocos milisegundos.</span><span class="sxs-lookup"><span data-stu-id="e740d-367">DBMS software uses various mechanisms to sequence IO write activities and a DBMS will report that the disk storage targeted by the replication is corrupted if these vary even by a few milliseconds.</span></span> <span data-ttu-id="e740d-368">Por consiguiente, si se quiere disponer de una configuración de base de datos con una base de datos que se extienda en varios VHD replicados geográficamente, dicha replicación debe realizarse con la funcionalidad y los medios de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="e740d-368">Hence if one really wants a database configuration with a database stretched across multiple VHDs geo-replicated, such a replication needs to be performed with database means and functionality.</span></span> <span data-ttu-id="e740d-369">No se debe depender de la replicación geográfica del almacenamiento de Azure para llevar a cabo este trabajo.</span><span class="sxs-lookup"><span data-stu-id="e740d-369">One should not rely on Azure Storage Geo-Replication to perform this job.</span></span>
>
> <span data-ttu-id="e740d-370">El problema se explica mejor con un sistema de ejemplo.</span><span class="sxs-lookup"><span data-stu-id="e740d-370">The problem is simplest to explain with an example system.</span></span> <span data-ttu-id="e740d-371">Supongamos que tiene un sistema SAP cargado en Azure con 8 discos VHD que contienen archivos de datos del DBMS más otro disco duro virtual con el archivo de registro de transacciones.</span><span class="sxs-lookup"><span data-stu-id="e740d-371">Let’s assume you have an SAP system uploaded into Azure which has 8 VHDs containing data files of the DBMS plus one VHD containing the transaction log file.</span></span> <span data-ttu-id="e740d-372">En cada uno de estos 9 VHD se escriben datos con un método coherente con el DBMS, con independencia de que esta operación se realice en los archivos de registro de transacciones o de datos.</span><span class="sxs-lookup"><span data-stu-id="e740d-372">Each one of these 9 VHDs will have data written to them in a consistent method according to the DBMS, whether the data is being written to the data or transaction log files.</span></span>
>
> <span data-ttu-id="e740d-373">Para replicar geográficamente y de manera eficaz los datos y mantener una imagen coherente de la base de datos, el contenido de los 9 VHD tendría que replicarse geográficamente en el orden exacto en que se ejecutaron las operaciones de E/S en estos 9 VHD.</span><span class="sxs-lookup"><span data-stu-id="e740d-373">In order to properly geo-replicate the data and maintain a consistent database image, the content of all nine VHDs would have to be geo-replicated in the exact order the I/O operations were executed against the nine different VHDs.</span></span> <span data-ttu-id="e740d-374">Sin embargo, la replicación geográfica del almacenamiento de Azure no permite declarar las dependencias entre los VHD.</span><span class="sxs-lookup"><span data-stu-id="e740d-374">However, Azure Storage geo-replication does not allow to declare dependencies between VHDs.</span></span> <span data-ttu-id="e740d-375">Es decir, la replicación geográfica del almacenamiento de Microsoft Azure no conoce el hecho de que el contenido de estos 9 VHD diferentes está relacionado entre sí, ni tampoco que los cambios de datos solo son coherentes cuando la replicación se realiza en el orden en que se llevan a cabo las operaciones de E/S en esos 9 discos duros virtuales.</span><span class="sxs-lookup"><span data-stu-id="e740d-375">This means Microsoft Azure Storage geo-replication doesn’t know about the fact that the content in these nine different VHDs are related to each other and that the data changes are consistent only when replicating in the order the I/O operations happened across all the 9 VHDs.</span></span>
>
> <span data-ttu-id="e740d-376">Además de que existen bastantes probabilidades de que las imágenes replicadas geográficamente del escenario no proporcionen una imagen coherente de la base de datos, el almacenamiento con redundancia geográfica puede afectar considerablemente al rendimiento.</span><span class="sxs-lookup"><span data-stu-id="e740d-376">Besides chances being high that the geo-replicated images in the scenario do not provide a consistent database image, there also is a performance penalty that shows up with geo redundant storage that can severely impact performance.</span></span> <span data-ttu-id="e740d-377">En resumen, no utilice este tipo de redundancia de almacenamiento para las cargas de trabajo de tipo DBMS.</span><span class="sxs-lookup"><span data-stu-id="e740d-377">In summary do not use this type of storage redundancy for DBMS type workloads.</span></span>
>
>

#### <a name="mapping-vhds-into-azure-virtual-machine-service-storage-accounts"></a><span data-ttu-id="e740d-378">Asignación de VHD en cuentas de almacenamiento del servicio de máquina virtual de Azure</span><span class="sxs-lookup"><span data-stu-id="e740d-378">Mapping VHDs into Azure Virtual Machine Service Storage Accounts</span></span>
<span data-ttu-id="e740d-379">Las cuentas de almacenamiento de Azure se usan con fines administrativos y presentan algunas limitaciones.</span><span class="sxs-lookup"><span data-stu-id="e740d-379">An Azure Storage Account is not only an administrative construct, but also a subject of limitations.</span></span> <span data-ttu-id="e740d-380">Sin embargo, las limitaciones serán diferentes en función de si se trata de una cuenta de Azure Standard Storage o de Azure Premium Storage.</span><span class="sxs-lookup"><span data-stu-id="e740d-380">Whereas the limitations vary on whether we talk about an Azure Standard Storage Account or an Azure Premium Storage Account.</span></span> <span data-ttu-id="e740d-381">En [este artículo][storage-scalability-targets] se muestran las funcionalidades y limitaciones exactas.</span><span class="sxs-lookup"><span data-stu-id="e740d-381">The exact capabilities and limitations are listed [here][storage-scalability-targets]</span></span>

<span data-ttu-id="e740d-382">Es importante señalar que en Azure Standard Storage hay un límite en el número de E/S por segundo para cada cuenta de almacenamiento (en la fila de velocidad total de solicitudes de [este artículo][storage-scalability-targets]).</span><span class="sxs-lookup"><span data-stu-id="e740d-382">So for Azure Standard Storage it is important to note there is a limit on the IOPS per storage account (Row containing ‘Total Request Rate’ in [the article][storage-scalability-targets]).</span></span> <span data-ttu-id="e740d-383">Además, hay un límite inicial de 100 cuentas de almacenamiento por suscripción de Azure (a partir de julio de 2015).</span><span class="sxs-lookup"><span data-stu-id="e740d-383">In addition, there is an initial limit of 100 Storage Accounts per Azure subscription (as of July 2015).</span></span> <span data-ttu-id="e740d-384">Por lo tanto, se recomienda equilibrar la cantidad de IOPS de máquinas virtuales entre las diferentes cuentas de almacenamiento al usar Azure Standard Storage.</span><span class="sxs-lookup"><span data-stu-id="e740d-384">Therefore, it is recommended to balance IOPS of VMs between multiple storage accounts when using Azure Standard Storage.</span></span> <span data-ttu-id="e740d-385">Asimismo, lo ideal es que una sola máquina virtual utilice una cuenta de almacenamiento, si es posible.</span><span class="sxs-lookup"><span data-stu-id="e740d-385">Whereas a single VM ideally uses one storage account if possible.</span></span> <span data-ttu-id="e740d-386">Por consiguiente, si hablamos de implementaciones de DBMS donde cada VHD que se hospeda en Azure Standard Storage puede alcanzar su límite de cuota, solo se deben implementar entre 30 y 40 VHD por cuenta de almacenamiento de Azure que utilice Azure Standard Storage.</span><span class="sxs-lookup"><span data-stu-id="e740d-386">So if we talk about DBMS deployments where each VHD that is hosted on Azure Standard Storage could reach its quota limit, you should only deploy 30-40 VHDs per Azure Storage Account that uses Azure Standard Storage.</span></span> <span data-ttu-id="e740d-387">Por otro lado, si utiliza Azure Premium Storage y desea almacenar volúmenes de base de datos de mayor volumen, le recomendamos equilibrar el número de IOPS.</span><span class="sxs-lookup"><span data-stu-id="e740d-387">On the other hand, if you leverage Azure Premium Storage and want to store large database volumes, you might be fine in terms of IOPS.</span></span> <span data-ttu-id="e740d-388">No obstante, una cuenta de Azure Premium Storage es mucho más restrictiva en lo que respecta al volumen de datos que una cuenta de Azure Standard Storage.</span><span class="sxs-lookup"><span data-stu-id="e740d-388">But an Azure Premium Storage Account is way more restrictive in data volume than an Azure Standard Storage Account.</span></span> <span data-ttu-id="e740d-389">Como resultado, solo se puede implementar un número limitado de VHD en una cuenta de Almacenamiento premium de Azure antes de alcanzar el límite de volumen de datos.</span><span class="sxs-lookup"><span data-stu-id="e740d-389">As a result, you can only deploy a limited number of VHDs within an Azure Premium Storage Account before hitting the data volume limit.</span></span> <span data-ttu-id="e740d-390">Finalmente, también hay que tener en cuenta que una cuenta de almacenamiento de Azure funciona como una SAN virtual y presenta limitaciones en cuanto a capacidad e IOPS.</span><span class="sxs-lookup"><span data-stu-id="e740d-390">At the end think of an Azure Storage Account as a “Virtual SAN” that has limited capabilities in IOPS and/or capacity.</span></span> <span data-ttu-id="e740d-391">Como resultado, hay que seguir definiendo, como en las implementaciones locales, el diseño de los VHD de los distintos sistemas SAP en los diferentes dispositivos SAN imaginarios o cuentas de almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-391">As a result, the task remains, as in on-premises deployments, to define the layout of the VHDs of the different SAP systems over the different ‘imaginary SAN devices’ or Azure Storage Accounts.</span></span>

<span data-ttu-id="e740d-392">Para el almacenamiento estándar de Azure no se recomienda, si es posible, proporcionar el almacenamiento de diferentes cuentas de almacenamiento en una sola máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="e740d-392">For Azure Standard Storage it is not recommended to present storage from different storage accounts to a single VM if possible.</span></span>

<span data-ttu-id="e740d-393">Al utilizar la serie DS o GS de máquinas virtuales de Azure es posible montar los VHD de cuentas de almacenamiento estándar y Premium Storage de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-393">Whereas using the DS or GS-series of Azure VMs it is possible to mount VHDs out of Azure Standard Storage Accounts and Premium Storage Accounts.</span></span> <span data-ttu-id="e740d-394">A la mente vienen casos de uso en los que puede aprovecharse el almacenamiento heterogéneo. Por ejemplo, escribir copias de seguridad en VHD respaldadas por el almacenamiento estándar mientras que los archivos de registro y datos de DBMS se mantienen en el Almacenamiento premium.</span><span class="sxs-lookup"><span data-stu-id="e740d-394">Use cases like writing backups into Standard Storage backed VHDs whereas having DBMS data and log files on Premium Storage come to mind where such heterogeneous storage could be leveraged.</span></span>

<span data-ttu-id="e740d-395">En función de las pruebas e implementaciones de entre 30 y 40 VHD que contienen archivos de registro y de datos de base de datos, el aprovisionamiento puede realizarse en una única cuenta de almacenamiento estándar de Azure con un rendimiento aceptable.</span><span class="sxs-lookup"><span data-stu-id="e740d-395">Based on customer deployments and testing around 30 to 40 VHDs containing database data files and log files can be provisioned on a single Azure Standard Storage Account with acceptable performance.</span></span> <span data-ttu-id="e740d-396">Tal y como se mencionó anteriormente, es probable que la limitación de una cuenta de Azure Premium Storage sea la capacidad de los datos que puede albergar y no los IOPS.</span><span class="sxs-lookup"><span data-stu-id="e740d-396">As mentioned earlier, the limitation of an Azure Premium Storage Account is likely to be the data capacity it can hold and not IOPS.</span></span>

<span data-ttu-id="e740d-397">Al igual que con los dispositivos SAN locales, para poder compartir recursos hay que realizar algunas tareas de supervisión. De este modo, se pueden detectar los cuellos de botella que puedan producirse en una cuenta de almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-397">As with SAN devices on-premises, sharing requires some monitoring in order to eventually detect bottlenecks on an Azure Storage Account.</span></span> <span data-ttu-id="e740d-398">La extensión de supervisión de Azure para SAP y el Portal de Azure son algunas de las herramientas que puede utilizar para detectar cuentas de almacenamiento de Azure ocupadas que pueden estar proporcionando un rendimiento de E/S poco óptimo.</span><span class="sxs-lookup"><span data-stu-id="e740d-398">The Azure Monitoring Extension for SAP and the Azure Portal are tools that can be used to detect busy Azure Storage Accounts that may be delivering suboptimal IO performance.</span></span>  <span data-ttu-id="e740d-399">Si se detecta esta situación, se recomienda mover las máquinas virtuales ocupadas a otra cuenta de almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-399">If this situation is detected it is recommended to move busy VMs to another Azure Storage Account.</span></span> <span data-ttu-id="e740d-400">Consulte la [Guía de implementación][deployment-guide] para más información sobre cómo activar las funcionalidades de supervisión de hosts de SAP.</span><span class="sxs-lookup"><span data-stu-id="e740d-400">Please refer to the [Deployment Guide][deployment-guide] for details on how to activate the SAP host monitoring capabilities.</span></span>

<span data-ttu-id="e740d-401">Otro artículo donde se resumen los procedimientos recomendados para el almacenamiento estándar de Azure y las cuentas de almacenamiento estándar de Azure se puede encontrar aquí <https://blogs.msdn.com/b/mast/archive/2014/10/14/configuring-azure-virtual-machines-for-optimal-storage-performance.aspx></span><span class="sxs-lookup"><span data-stu-id="e740d-401">Another article summarizing best practices around Azure Standard Storage and Azure Standard Storage Accounts can be found here <https://blogs.msdn.com/b/mast/archive/2014/10/14/configuring-azure-virtual-machines-for-optimal-storage-performance.aspx></span></span>

#### <a name="moving-deployed-dbms-vms-from-azure-standard-storage-to-azure-premium-storage"></a><span data-ttu-id="e740d-402">Sobre el procedimiento para mover máquinas virtuales de DBMS implementadas del almacenamiento estándar al premium de Azure</span><span class="sxs-lookup"><span data-stu-id="e740d-402">Moving deployed DBMS VMs from Azure Standard Storage to Azure Premium Storage</span></span>
<span data-ttu-id="e740d-403">Nos encontramos con bastante frecuencia algunos escenarios donde, como cliente, desea mover una máquina virtual implementada del almacenamiento de estándar al premium de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-403">We encounter quite some scenarios where you as customer want to move a deployed VM from Azure Standard Storage into Azure Premium Storage.</span></span> <span data-ttu-id="e740d-404">Este procedimiento no puede realizarse sin mover físicamente los datos.</span><span class="sxs-lookup"><span data-stu-id="e740d-404">This is not possible without physically moving the data.</span></span> <span data-ttu-id="e740d-405">Hay varias maneras de conseguir este objetivo.</span><span class="sxs-lookup"><span data-stu-id="e740d-405">There are several ways to achieve the goal:</span></span>

* <span data-ttu-id="e740d-406">Podría copiar simplemente todos los VHD, el VHD base y los VHD de datos en una nueva cuenta de Almacenamiento premium de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-406">You could simply copy all VHDs, base VHD as well as data VHDs into a new Azure Premium Storage Account.</span></span> <span data-ttu-id="e740d-407">Es bastante frecuente que el número de VHD del almacenamiento estándar de Azure no se elija por el hecho de que se necesita ese volumen de datos concreto,</span><span class="sxs-lookup"><span data-stu-id="e740d-407">Very often you chose the number of VHDs in Azure Standard Storage not because of the fact that you needed the data volume.</span></span> <span data-ttu-id="e740d-408">sino por los IOPS.</span><span class="sxs-lookup"><span data-stu-id="e740d-408">But you needed that many VHDs because of the IOPS.</span></span> <span data-ttu-id="e740d-409">Cuando se mueven todos los VHD al Almacenamiento premium de Azure, con menos discos duros virtuales podría obtener el mismo rendimiento de IOPS.</span><span class="sxs-lookup"><span data-stu-id="e740d-409">Now that you move to Azure Premium Storage you could go with way less VHDs to achieve the some IOPS throughput.</span></span> <span data-ttu-id="e740d-410">Como el almacenamiento estándar de Azure se paga por los datos usados y no por el tamaño nominal del disco, la cantidad de VHD no es relevante en términos de costes.</span><span class="sxs-lookup"><span data-stu-id="e740d-410">Given the fact that in Azure Standard Storage you pay for the used data and not the nominal disk size, the number of VHDs did not really matter in terms of costs.</span></span> <span data-ttu-id="e740d-411">Sin embargo, con el Almacenamiento premium de Azure Premium pagaría por el tamaño nominal del disco.</span><span class="sxs-lookup"><span data-stu-id="e740d-411">However, with Azure Premium Storage, you would pay for the nominal disk size.</span></span> <span data-ttu-id="e740d-412">Por lo tanto, la mayoría de los clientes tratan de mantener el número de VHD de Azure del Almacenamiento Premium en la cantidad necesaria para obtener el rendimiento de IOPS necesario.</span><span class="sxs-lookup"><span data-stu-id="e740d-412">Therefore, most of the customer try to keep the number of Azure VHDs in Premium Storage at the number needed to achieve the IOPS throughput necessary.</span></span> <span data-ttu-id="e740d-413">En definitiva, la mayoría de los clientes deciden adoptar el modelo de copia 1:1.</span><span class="sxs-lookup"><span data-stu-id="e740d-413">So, most customers decide against the way of a simple 1:1 copy.</span></span>
* <span data-ttu-id="e740d-414">Si aún no lo ha hecho, monte un solo VHD que pueda contener una copia de seguridad de la base de datos de SAP.</span><span class="sxs-lookup"><span data-stu-id="e740d-414">If not yet mounted, you mount a single VHD that can contain a database backup of your SAP database.</span></span> <span data-ttu-id="e740d-415">Después de realizar la copia de seguridad, desmonte todos los VHD, incluido el que contiene la copia de seguridad, y copie el VHD base y el de la copia de seguridad en una cuenta de Azure Premium Storage.</span><span class="sxs-lookup"><span data-stu-id="e740d-415">After the backup, you unmount all VHDs including the VHD containing the backup and copy the base VHD and the VHD with the backup into an Azure Premium Storage account.</span></span> <span data-ttu-id="e740d-416">Después, implementaría la máquina virtual basada en el VHD y montaría el VHD con la copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="e740d-416">You would then deploy the VM based on the base VHD and mount the VHD with the backup.</span></span> <span data-ttu-id="e740d-417">Ahora, cree discos de Premium Storage vacíos adicionales para la máquina virtual que se utilizó para restaurar la base de datos.</span><span class="sxs-lookup"><span data-stu-id="e740d-417">Now you create additional empty Premium Storage Disks for the VM that are used to restore the database into.</span></span> <span data-ttu-id="e740d-418">Se supone que el DBMS permite cambiar las rutas de acceso a los archivos de registro y de datos como parte del proceso de restauración.</span><span class="sxs-lookup"><span data-stu-id="e740d-418">This assumes that the DBMS allows you to change paths to the data and log files as part of the restore process.</span></span>
* <span data-ttu-id="e740d-419">Otra posibilidad consiste en una variación del proceso anterior, donde simplemente se copia el VHD de copia de seguridad en Azure Premium Storage y se asocia en una máquina virtual que haya implementado e instalado recientemente.</span><span class="sxs-lookup"><span data-stu-id="e740d-419">Another possibility is a variation of the former process, where you just copy the backup VHD into Azure Premium Storage and attach it against a VM that you newly deployed and installed.</span></span>
* <span data-ttu-id="e740d-420">La cuarta posibilidad consistiría en cambiar el número de archivos de datos de la base de datos cuando se necesario.</span><span class="sxs-lookup"><span data-stu-id="e740d-420">The fourth possibility you would choose when you are in need to change the number of data files of your database.</span></span> <span data-ttu-id="e740d-421">En ese caso, realizaría una copia del sistema homogéneo de SAP mediante procesos de exportación e importación.</span><span class="sxs-lookup"><span data-stu-id="e740d-421">In such a case you would perform a SAP homogenous system copy using export/import.</span></span> <span data-ttu-id="e740d-422">Coloque los archivos de exportación en un VHD que se haya copiado en una cuenta de Almacenamiento premium de Azure y asóciela a una máquina virtual que utilice para ejecutar los procesos de importación.</span><span class="sxs-lookup"><span data-stu-id="e740d-422">Put those export files into a VHD that is copied into an Azure Premium Storage Account and attach it to a VM that you use to run the import processes.</span></span> <span data-ttu-id="e740d-423">Los clientes usan esta posibilidad principalmente cuando desean reducir el número de archivos de datos.</span><span class="sxs-lookup"><span data-stu-id="e740d-423">Customers use this possibility mainly when they want to decrease the number of data files.</span></span>

### <a name="deployment-of-vms-for-sap-in-azure"></a><span data-ttu-id="e740d-424">Implementación de máquinas virtuales para SAP en Azure</span><span class="sxs-lookup"><span data-stu-id="e740d-424">Deployment of VMs for SAP in Azure</span></span>
<span data-ttu-id="e740d-425">Microsoft Azure ofrece varias maneras de implementar máquinas virtuales y discos asociados.</span><span class="sxs-lookup"><span data-stu-id="e740d-425">Microsoft Azure offers multiple ways to deploy VMs and associated disks.</span></span> <span data-ttu-id="e740d-426">Por tanto, es muy importante comprender las diferencias, puesto que los preparativos de las máquinas virtuales pueden variar según la forma de implementación.</span><span class="sxs-lookup"><span data-stu-id="e740d-426">Thereby it is very important to understand the differences since preparations of the VMs might differ dependent on the way of deployment.</span></span> <span data-ttu-id="e740d-427">En general, nos centramos en los escenarios que se describen en los capítulos siguientes.</span><span class="sxs-lookup"><span data-stu-id="e740d-427">In general, we look into the scenarios described in the following chapters.</span></span>

#### <a name="deploying-a-vm-from-the-azure-marketplace"></a><span data-ttu-id="e740d-428">Implementación de máquinas virtuales desde Azure Marketplace</span><span class="sxs-lookup"><span data-stu-id="e740d-428">Deploying a VM from the Azure Marketplace</span></span>
<span data-ttu-id="e740d-429">Desea seleccionar una imagen proporcionada por Microsoft o un tercero en Azure Marketplace para implementar la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="e740d-429">You like to take a Microsoft or 3rd party provided image from the Azure Marketplace to deploy your VM.</span></span> <span data-ttu-id="e740d-430">Una vez que se ha implementado la máquina virtual en Azure, sigue las mismas instrucciones y utilice las mismas herramientas para instalar el software de SAP en la máquina virtual de la misma forma que lo haría en un entorno local.</span><span class="sxs-lookup"><span data-stu-id="e740d-430">After you deployed your VM in Azure, you follow the same guidelines and tools to install the SAP software inside your VM as you would do in an on-premises environment.</span></span> <span data-ttu-id="e740d-431">Para instalar el software de SAP en la máquina virtual de Azure, SAP y Microsoft recomiendan cargar y almacenar el medio de instalación de SAP en los VHD de Azure, o bien crear una máquina virtual de Azure que funcione como un servidor de archivos que contenga todos los medios de instalación de SAP que resulten necesarios.</span><span class="sxs-lookup"><span data-stu-id="e740d-431">For installing the SAP software inside the Azure VM, SAP and Microsoft recommend to upload and store the SAP installation media in Azure VHDs or to create an Azure VM working as a ‘File server’ which contains all the necessary SAP installation media.</span></span>

#### <a name="deploying-a-vm-with-a-customer-specific-generalized-image"></a><span data-ttu-id="e740d-432">Implementación de máquinas virtuales con una imagen generalizada específica del cliente</span><span class="sxs-lookup"><span data-stu-id="e740d-432">Deploying a VM with a customer specific generalized image</span></span>
<span data-ttu-id="e740d-433">Debido a los requisitos de revisión específicos en lo que respecta a la versión del SO o DBMS, puede que las imágenes proporcionadas en Azure Marketplace no satisfagan sus necesidades.</span><span class="sxs-lookup"><span data-stu-id="e740d-433">Due to specific patch requirements in regards to your OS or DBMS version, the provided images in the Azure Marketplace might not fit your needs.</span></span> <span data-ttu-id="e740d-434">Por lo tanto, se recomienda crear una máquina virtual con su propia imagen privada de máquina virtual de SO o DBMS que pueda implementarse varias veces más adelante.</span><span class="sxs-lookup"><span data-stu-id="e740d-434">Therefore, you might need to create a VM using your own ‘private’ OS/DBMS VM image which can be deployed several times afterwards.</span></span> <span data-ttu-id="e740d-435">Para preparar una imagen privada para tareas de duplicación, el sistema operativo de la máquina virtual local debe ser generalizado.</span><span class="sxs-lookup"><span data-stu-id="e740d-435">To prepare such a ‘private’ image for duplication, the OS must be generalized on the on-premises VM.</span></span> <span data-ttu-id="e740d-436">Consulte la [Guía de implementación][deployment-guide] para más información sobre cómo generalizar una máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="e740d-436">Please refer to the [Deployment Guide][deployment-guide] for details on how to generalize a VM.</span></span>

<span data-ttu-id="e740d-437">Si ya ha instalado contenido de SAP en la máquina virtual local (especialmente en los sistemas de dos niveles), puede adaptar la configuración del sistema SAP después de realizar la implementación de la máquina virtual de Azure mediante el procedimiento de cambio de nombre de instancia admitido por el administrador de aprovisionamiento de software de SAP (nota de SAP [1619720]).</span><span class="sxs-lookup"><span data-stu-id="e740d-437">If you have already installed SAP content in your on-premises VM (especially for 2-Tier systems), you can adapt the SAP system settings after the deployment of the Azure VM through the instance rename procedure supported by the SAP Software Provisioning Manager (SAP Note [1619720]).</span></span> <span data-ttu-id="e740d-438">De lo contrario, puede instalar el software de SAP después de la implementación de la máquina virtual de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-438">Otherwise you can install the SAP software later after the deployment of the Azure VM.</span></span>

<span data-ttu-id="e740d-439">A partir del contenido de base de datos que usa la aplicación de SAP, puede generar el contenido nuevo mediante una instalación de SAP o importarlo a Azure utilizando un VHD con una copia de seguridad de base de datos de DBMS o aprovechando las funcionalidades del DBMS para realizar la copia de seguridad directamente en Microsoft Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="e740d-439">As of the database content used by the SAP application, you can either generate the content freshly by an SAP installation or you can import your content into Azure by using a VHD with a DBMS database backup or by leveraging capabilities of the DBMS to directly backup into Microsoft Azure Storage.</span></span> <span data-ttu-id="e740d-440">En este caso, puede preparar los VHD con los archivos de registro y de datos de DBMS local y, después, importarlos como discos en Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-440">In this case, you could also prepare VHDs with the DBMS data and log files on-premises and then import those as Disks into Azure.</span></span> <span data-ttu-id="e740d-441">Sin embargo, la transferencia de datos de DBMS que se carga desde el entorno local a Azure funcionaría en los discos VHD que tienen que estar preparados en el entorno local.</span><span class="sxs-lookup"><span data-stu-id="e740d-441">But the transfer of DBMS data which is getting loaded from on-premises to Azure would work over VHD disks that need to be prepared on-premises.</span></span>

#### <a name="moving-a-vm-from-on-premises-to-azure-with-a-non-generalized-disk"></a><span data-ttu-id="e740d-442">Sobre el procedimiento para mover máquinas virtuales del entorno local a Azure con un disco no generalizado</span><span class="sxs-lookup"><span data-stu-id="e740d-442">Moving a VM from on-premises to Azure with a non-generalized disk</span></span>
<span data-ttu-id="e740d-443">Planea mover un sistema SAP específico desde un entorno local a Azure (elevar y desplazar).</span><span class="sxs-lookup"><span data-stu-id="e740d-443">You plan to move a specific SAP system from on-premises to Azure (lift and shift).</span></span> <span data-ttu-id="e740d-444">Esto puede hacerse cargando en Azure el VHD que contiene el sistema operativo, los archivos binarios de SAP y los finales de DBMS, así como los discos duros virtuales con los archivos de registro y de datos del DBMS.</span><span class="sxs-lookup"><span data-stu-id="e740d-444">This can be done by uploading the VHD which contains the OS, the SAP binaries and eventual DBMS binaries plus the VHDs with the data and log files of the DBMS to Azure.</span></span> <span data-ttu-id="e740d-445">En contraposición al segundo escenario anterior, mantendrá el nombre de host, el SID de SAP y las cuentas de usuario de SAP en la máquina virtual de Azure, ya que se configuraron en el entorno local.</span><span class="sxs-lookup"><span data-stu-id="e740d-445">In opposite to scenario #2 above, you keep the hostname, SAP SID and SAP user accounts in the Azure VM as they were configured in the on-premises environment.</span></span> <span data-ttu-id="e740d-446">Por lo tanto, no es necesario generalizar la imagen.</span><span class="sxs-lookup"><span data-stu-id="e740d-446">Therefore, generalizing the image is not necessary.</span></span> <span data-ttu-id="e740d-447">Este caso se aplicará principalmente a escenarios entre locales donde una parte de la infraestructura de SAP se ejecuta de forma local y otra en Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-447">This case will mostly apply for Cross-Premises scenarios where a part of the SAP landscape is run on-premises and parts on Azure.</span></span>

## <span data-ttu-id="e740d-448"><a name="871dfc27-e509-4222-9370-ab1de77021c3"></a>Alta disponibilidad y recuperación ante desastres con máquinas virtuales de Azure</span><span class="sxs-lookup"><span data-stu-id="e740d-448"><a name="871dfc27-e509-4222-9370-ab1de77021c3"></a>High Availability and Disaster Recovery with Azure VMs</span></span>
<span data-ttu-id="e740d-449">Azure ofrece las siguientes funcionalidades de alta disponibilidad (HA) y recuperación ante desastres (DR) que se aplican a los diferentes componentes que se utilizarían para las implementaciones de SAP y DBMS.</span><span class="sxs-lookup"><span data-stu-id="e740d-449">Azure offers the following High Availability (HA) and Disaster Recovery (DR) functionalities which apply to different components we would use for SAP and DBMS deployments</span></span>

### <a name="vms-deployed-on-azure-nodes"></a><span data-ttu-id="e740d-450">Máquinas virtuales implementadas en nodos de Azure</span><span class="sxs-lookup"><span data-stu-id="e740d-450">VMs deployed on Azure Nodes</span></span>
<span data-ttu-id="e740d-451">La plataforma Azure no ofrece características como la migración en vivo de máquinas virtuales implementadas.</span><span class="sxs-lookup"><span data-stu-id="e740d-451">The Azure Platform does not offer features such as Live Migration for deployed VMs.</span></span> <span data-ttu-id="e740d-452">Es decir, que si hay que realizar un mantenimiento en un clúster de servidor en el que se ha implementado una máquina virtual, esta debe detenerse y reiniciarse.</span><span class="sxs-lookup"><span data-stu-id="e740d-452">This means if there is maintenance necessary on a server cluster on which a VM is deployed, the VM needs to get stopped and restarted.</span></span> <span data-ttu-id="e740d-453">El mantenimiento de Azure se realiza utilizando los llamados "dominios de actualización" de los clústeres de servidores.</span><span class="sxs-lookup"><span data-stu-id="e740d-453">Maintenance in Azure is performed using so called Upgrade Domains within clusters of servers.</span></span> <span data-ttu-id="e740d-454">Solo se mantiene a la vez un único dominio de actualización.</span><span class="sxs-lookup"><span data-stu-id="e740d-454">Only one Upgrade Domain at a time is being maintained.</span></span> <span data-ttu-id="e740d-455">Durante un reinicio se producirá una interrupción del servicio mientras la máquina virtual está apagada, se realiza el mantenimiento y se reinicia la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="e740d-455">During such a restart there will be an interruption of service while the VM is shut down, maintenance is performed and VM restarted.</span></span> <span data-ttu-id="e740d-456">Sin embargo, la mayoría de los proveedores de DBMS proporciona funcionalidades de alta disponibilidad y recuperación ante desastres que reinician rápidamente los servicios de DBMS de otro nodo si el principal no está disponible.</span><span class="sxs-lookup"><span data-stu-id="e740d-456">Most DBMS vendors however provide High Availability and Disaster Recovery functionality that will quickly restart the DBMS services on another node if the primary node is unavailable.</span></span> <span data-ttu-id="e740d-457">La plataforma Azure ofrece funcionalidades para distribuir las máquinas virtuales, el almacenamiento y otros servicios de Azure por los dominios de actualización para asegurarse de que los errores de infraestructura o mantenimientos planeados afecten solo a un pequeño subconjunto de máquinas virtuales o servicios.</span><span class="sxs-lookup"><span data-stu-id="e740d-457">The Azure Platform offers functionality to distribute VMs, Storage and other Azure services across Upgrade Domains to ensure that planned maintenance or infrastructure failures would only impact a small subset of VMs or services.</span></span>  <span data-ttu-id="e740d-458">Si se realiza una planeación cuidadosa, se pueden alcanzar niveles de disponibilidad comparables a los de las infraestructuras locales.</span><span class="sxs-lookup"><span data-stu-id="e740d-458">With careful planning it is possible to achieve availability levels comparable to on-premises infrastructures.</span></span>

<span data-ttu-id="e740d-459">Los conjuntos de disponibilidad de Microsoft Azure constituyen una agrupación lógica de máquinas virtuales o servicios que garantizan que las máquinas virtuales y otros servicios se distribuyan por diferentes dominios de error y actualización de un clúster de forma que solo se produzca el apagado de un nodo en un momento dado (consulte [este][virtual-machines-manage-availability] artículo para más información).</span><span class="sxs-lookup"><span data-stu-id="e740d-459">Microsoft Azure Availability Sets are a logical grouping of VMs or Services that ensures VMs and other services are distributed to different Fault and Upgrade Domains within a cluster such that there would only be one node shutdown at any one point in time (read [this][virtual-machines-manage-availability] article for more details).</span></span>

<span data-ttu-id="e740d-460">Debe configurarse expresamente durante la implementación de máquinas virtuales y como se muestra aquí:</span><span class="sxs-lookup"><span data-stu-id="e740d-460">It needs to be configured by purpose when rolling out VMs as seen here:</span></span>

![Definición de conjunto de disponibilidad para configuraciones de alta disponibilidad de DBMS][dbms-guide-figure-200]

<span data-ttu-id="e740d-462">Si deseamos crear configuraciones de alta disponibilidad de implementaciones de DBMS (independientemente de la funcionalidad de DBMS de alta disponibilidad que se emplee), las máquinas virtuales de DBMS tendrían que cumplir los siguientes requisitos:</span><span class="sxs-lookup"><span data-stu-id="e740d-462">If we want to create highly available configurations of DBMS deployments (independent of the individual DBMS HA functionality used), the DBMS VMs would need to:</span></span>

* <span data-ttu-id="e740d-463">Agregar las máquinas virtuales a la misma red virtual de Azure (<https://azure.microsoft.com/documentation/services/virtual-network/>)</span><span class="sxs-lookup"><span data-stu-id="e740d-463">Add the VMs to the same Azure Virtual Network (<https://azure.microsoft.com/documentation/services/virtual-network/>)</span></span>
* <span data-ttu-id="e740d-464">Las máquinas virtuales de la configuración de alta disponibilidad también deben estar en la misma subred.</span><span class="sxs-lookup"><span data-stu-id="e740d-464">The VMs of the HA configuration should also be in the same subnet.</span></span> <span data-ttu-id="e740d-465">El proceso de resolución de nombres entre las diferentes subredes no se puede realizar en las implementaciones exclusivas en la nube, solo funcionará la resolución de direcciones IP.</span><span class="sxs-lookup"><span data-stu-id="e740d-465">Name resolution between the different subnets is not possible in Cloud-Only deployments, only IP resolution will work.</span></span> <span data-ttu-id="e740d-466">Al utilizar la conectividad ExpressRoute de sitio a sitio para las implementaciones entre locales, ya deberá haber establecida una red con al menos una subred.</span><span class="sxs-lookup"><span data-stu-id="e740d-466">Using site-to-site or ExpressRoute connectivity for Cross-Premises deployments, a network with at least one subnet will be already established.</span></span> <span data-ttu-id="e740d-467">El proceso de resolución de nombres se realizará según la infraestructura de red y las directivas AD locales.</span><span class="sxs-lookup"><span data-stu-id="e740d-467">Name resolution will be done according to the on-premises AD policies and network infrastructure.</span></span>

<span data-ttu-id="e740d-468">[comment]: <> (MSSedusch TODO Test if still true in ARM)</span><span class="sxs-lookup"><span data-stu-id="e740d-468">[comment]: <> (MSSedusch TODO Test if still true in ARM)</span></span>

#### <a name="ip-addresses"></a><span data-ttu-id="e740d-469">Direcciones IP</span><span class="sxs-lookup"><span data-stu-id="e740d-469">IP Addresses</span></span>
<span data-ttu-id="e740d-470">Se recomienda encarecidamente configurar las máquinas virtuales para configuraciones de alta disponibilidad de una manera flexible.</span><span class="sxs-lookup"><span data-stu-id="e740d-470">It is highly recommended to setup the VMs for HA configurations in a resilient way.</span></span> <span data-ttu-id="e740d-471">En Azure no se recomienda depender de las direcciones IP para abordar los asociados de alta disponibilidad dentro de la configuración de alta disponibilidad, a menos que se utilizan direcciones IP estáticas.</span><span class="sxs-lookup"><span data-stu-id="e740d-471">Relying on IP addresses to address the HA partner(s) within the HA configuration is not reliable in Azure unless static IP addresses are used.</span></span> <span data-ttu-id="e740d-472">Hay dos conceptos de apagado en Azure:</span><span class="sxs-lookup"><span data-stu-id="e740d-472">There are two “Shutdown” concepts in Azure:</span></span>

* <span data-ttu-id="e740d-473">Apagado a través del Portal de Azure o el cmdlet de Azure PowerShell Stop-AzureRmVM: en este caso, la máquina virtual se apaga y se anula la asignación.</span><span class="sxs-lookup"><span data-stu-id="e740d-473">Shut down through Azure Portal or Azure PowerShell cmdlet Stop-AzureRmVM: In this case the Virtual Machine gets shutdown and de-allocated.</span></span> <span data-ttu-id="e740d-474">No se realizará ningún cargo en su cuenta de Azure por esta máquina virtual; los únicos gastos que se le cobrarán serán por el almacenamiento usado.</span><span class="sxs-lookup"><span data-stu-id="e740d-474">Your Azure account will no longer be charged for this VM so the only charges that will incur are for the storage used.</span></span> <span data-ttu-id="e740d-475">Sin embargo, si la dirección IP privada de la interfaz de red no era estática, se liberará la dirección IP y no se garantizará que la interfaz de red vuelva a tener asignada la dirección IP antigua después de reiniciar la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="e740d-475">However, if the private IP address of the network interface was not static, the IP address is released and it is not guaranteed that the network interface gets the old IP address assigned again after a restart of the VM.</span></span> <span data-ttu-id="e740d-476">Al realizar el apagado a través del Portal de Azure o mediante una llamada a Stop-AzureRmVM, se anulará automáticamente la asignación.</span><span class="sxs-lookup"><span data-stu-id="e740d-476">Performing the shut down through the Azure Portal or by calling Stop-AzureRmVM will automatically cause de-allocation.</span></span> <span data-ttu-id="e740d-477">Si no desea anular la asignación de la máquina, use Stop-AzureRmVM -StayProvisioned.</span><span class="sxs-lookup"><span data-stu-id="e740d-477">If you do not want to deallocat the machine use Stop-AzureRmVM -StayProvisioned</span></span>
* <span data-ttu-id="e740d-478">Si apaga la máquina virtual desde un sistema operativo, esta se apagará y NO se anulará la asignación.</span><span class="sxs-lookup"><span data-stu-id="e740d-478">If you shut down the VM from an OS level, the VM gets shut down and NOT de-allocated.</span></span> <span data-ttu-id="e740d-479">Sin embargo, en este caso, se siguen realizando cargos en la cuenta de Azure por la máquina virtual, a pesar de que está apagada.</span><span class="sxs-lookup"><span data-stu-id="e740d-479">However, in this case, your Azure account will still be charged for the VM, despite the fact that it is shutdown.</span></span> <span data-ttu-id="e740d-480">En tal caso, la asignación de la dirección IP a una máquina virtual detenida permanecerá intacta.</span><span class="sxs-lookup"><span data-stu-id="e740d-480">In such a case, the assignment of the IP address to a stopped VM will remain intact.</span></span> <span data-ttu-id="e740d-481">Al apagar la máquina virtual desde esta no se forzará automáticamente la anulación de la asignación.</span><span class="sxs-lookup"><span data-stu-id="e740d-481">Shutting down the VM from within will not automatically force de-allocation.</span></span>

<span data-ttu-id="e740d-482">Incluso en los escenarios entre locales, de forma predeterminada, tras realizarse un apagado y una anulación de la asignación, se desasignarán las direcciones IP de la máquina virtual, aunque las directivas locales de la configuración de DHCP sean diferentes.</span><span class="sxs-lookup"><span data-stu-id="e740d-482">Even for Cross-Premises scenarios, by default a shutdown and de-allocation will mean de-assignment of the IP addresses from the VM, even if on-premises policies in DHCP settings are different.</span></span>

* <span data-ttu-id="e740d-483">Existe una excepción si se asigna una dirección IP estática a una interfaz de red tal y como se describe [aquí][virtual-networks-reserved-private-ip].</span><span class="sxs-lookup"><span data-stu-id="e740d-483">The exception is if one assigns a static IP address to a network interface as described [here][virtual-networks-reserved-private-ip].</span></span>
* <span data-ttu-id="e740d-484">En tal caso, la dirección IP permanecerá fija mientras no se elimine la interfaz de red.</span><span class="sxs-lookup"><span data-stu-id="e740d-484">In such a case the IP address remains fixed as long as the network interface is not deleted.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="e740d-485">Para conseguir que todo el proceso de implementación sea sencillo y fácil de administrar, sin duda, se recomienda configurar las máquinas virtuales asociadas a un DBMS de alta disponibilidad o a una configuración de recuperación ante desastres en Azure de manera que se realice correctamente un proceso de resolución de nombres entre las diferentes máquinas virtuales.</span><span class="sxs-lookup"><span data-stu-id="e740d-485">In order to keep the whole deployment simple and manageable, the clear recommendation is to setup the VMs partnering in a DBMS HA or DR configuration within Azure in a way that there is a functioning name resolution between the different VMs involved.</span></span>
>
>

## <a name="deployment-of-host-monitoring"></a><span data-ttu-id="e740d-486">Implementación de funcionalidades de supervisión de hosts</span><span class="sxs-lookup"><span data-stu-id="e740d-486">Deployment of Host Monitoring</span></span>
<span data-ttu-id="e740d-487">Para usar de manera productiva las aplicaciones de las máquinas virtuales de Azure, SAP requiere que se obtengan datos de supervisión de los hosts físicos que se ejecutan en las máquinas virtuales de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-487">For productive usage of SAP Applications in Azure Virtual Machines, SAP requires the ability to get host monitoring data from the physical hosts running the Azure Virtual Machines.</span></span> <span data-ttu-id="e740d-488">Se requiere un nivel de revisión específico del agente de host de SAP que permita esta funcionalidad en SAPOSCOL y el agente de host de SAP.</span><span class="sxs-lookup"><span data-stu-id="e740d-488">A specific SAP HostAgent patch level will be required that enables this capability in SAPOSCOL and SAP HostAgent.</span></span> <span data-ttu-id="e740d-489">El nivel de revisión exacto se menciona en la nota de SAP [1409604].</span><span class="sxs-lookup"><span data-stu-id="e740d-489">The exact patch level is documented in SAP Note [1409604].</span></span>

<span data-ttu-id="e740d-490">Para más información sobre la implementación de componentes que proporcionen datos de host a SAPOSCOL y el agente de host de SAP, así como sobre la administración del ciclo de vida de los componentes, consulte la [Guía de implementación][deployment-guide]</span><span class="sxs-lookup"><span data-stu-id="e740d-490">For the details regarding deployment of components that deliver host data to SAPOSCOL and SAPHostAgent and the lifecycle management of those components, please refer to the [Deployment Guide][deployment-guide]</span></span>

## <span data-ttu-id="e740d-491"><a name="3264829e-075e-4d25-966e-a49dad878737"></a>Consideraciones concretas sobre Microsoft SQL Server</span><span class="sxs-lookup"><span data-stu-id="e740d-491"><a name="3264829e-075e-4d25-966e-a49dad878737"></a>Specifics to Microsoft SQL Server</span></span>
### <a name="sql-server-iaas"></a><span data-ttu-id="e740d-492">IaaS de SQL Server</span><span class="sxs-lookup"><span data-stu-id="e740d-492">SQL Server IaaS</span></span>
<span data-ttu-id="e740d-493">A partir de Microsoft Azure, puede migrar fácilmente sus aplicaciones de SQL Server integradas en la plataforma Windows Server a máquinas virtuales de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-493">Starting with Microsoft Azure, you can easily migrate your existing SQL Server applications built on Windows Server platform to Azure Virtual Machines.</span></span> <span data-ttu-id="e740d-494">SQL Server en una máquina virtual permite reducir el coste total de propiedad de implementación, administración y mantenimiento de aplicaciones empresariales al migrar fácilmente estas aplicaciones a Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-494">SQL Server in a Virtual Machine enables you to reduce the total cost of ownership of deployment, management and maintenance of enterprise breadth applications by easily migrating these applications to Microsoft Azure.</span></span> <span data-ttu-id="e740d-495">Con SQL Server en una máquina virtual de Azure, los administradores y los desarrolladores pueden seguir usando las mismas herramientas de desarrollo y administración que se encuentran disponibles de forma local.</span><span class="sxs-lookup"><span data-stu-id="e740d-495">With SQL Server in an Azure Virtual Machine, administrators and developers can still use the same development and administration tools that are available on-premises.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="e740d-496">Tenga en cuenta que no hablaremos sobre Base de datos SQL de Microsoft Azure, que es la oferta de plataforma como servicio de Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-496">Please note we are not discussing Microsoft Azure SQL Database which is a Platform as a Service offer of the Microsoft Azure Platform.</span></span> <span data-ttu-id="e740d-497">En este documento se aborda la ejecución del producto SQL Server tal cual para implementaciones locales en máquinas virtuales de Azure, con lo que se aprovecha la funcionalidad de infraestructura como servicio.</span><span class="sxs-lookup"><span data-stu-id="e740d-497">The discussion in this paper is about running the SQL Server product as it is known for on-premises deployments in Azure Virtual Machines, leveraging the Infrastructure as a Service capability of Azure.</span></span> <span data-ttu-id="e740d-498">Las funcionalidades de bases de datos de estas dos ofertas son diferentes y no deben combinarse.</span><span class="sxs-lookup"><span data-stu-id="e740d-498">Database capabilities and functionalities between these two offers are different and should not be mixed up with each other.</span></span> <span data-ttu-id="e740d-499">Consulte también: <https://azure.microsoft.com/services/sql-database/>.</span><span class="sxs-lookup"><span data-stu-id="e740d-499">See also: <https://azure.microsoft.com/services/sql-database/></span></span>
>
>

<span data-ttu-id="e740d-500">Se recomienda encarecidamente revisar [esta][virtual-machines-sql-server-infrastructure-services] documentación antes de continuar.</span><span class="sxs-lookup"><span data-stu-id="e740d-500">It is strongly recommended to review [this][virtual-machines-sql-server-infrastructure-services] documentation before continuing.</span></span>

<span data-ttu-id="e740d-501">En las secciones siguientes se agregan y mencionan fragmentos de partes de la documentación del vínculo anterior.</span><span class="sxs-lookup"><span data-stu-id="e740d-501">In the following sections pieces of parts of the documentation under the link above will be aggregated and mentioned.</span></span> <span data-ttu-id="e740d-502">Se describen de forma más detallada algunos conceptos y se mencionan consideraciones sobre SAP.</span><span class="sxs-lookup"><span data-stu-id="e740d-502">Specifics around SAP are mentioned as well and some concepts are described in more detail.</span></span> <span data-ttu-id="e740d-503">Sin embargo, se recomienda encarecidamente consultar la documentación de arriba primero antes de leer la documentación específica de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="e740d-503">However, it is highly recommended to work through the documentation above first before reading the SQL Server specific documentation.</span></span>

<span data-ttu-id="e740d-504">Debe conocer información específica sobre SQL Server en IaaS antes de continuar:</span><span class="sxs-lookup"><span data-stu-id="e740d-504">There is some SQL Server in IaaS specific information you should know before continuing:</span></span>

* <span data-ttu-id="e740d-505">**Acuerdo de Nivel de Servicio de máquina virtual**: hay un Acuerdo de Nivel de Servicio para Virtual Machines que se ejecuta en Azure que puede encontrarse aquí: <https://azure.microsoft.com/support/legal/sla/>.</span><span class="sxs-lookup"><span data-stu-id="e740d-505">**Virtual Machine SLA**: There is an SLA for Virtual Machines running in Azure which can be found here: <https://azure.microsoft.com/support/legal/sla/></span></span>  
* <span data-ttu-id="e740d-506">**Soporte para versiones de SQL**: para los clientes de SAP, prestamos soporte para SQL Server 2008 R2 y posteriores en las máquinas virtuales de Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-506">**SQL Version Support**: For SAP customers, we support SQL Server 2008 R2 and higher on Microsoft Azure Virtual Machine.</span></span> <span data-ttu-id="e740d-507">No se prestará soporte para versiones anteriores.</span><span class="sxs-lookup"><span data-stu-id="e740d-507">Earlier editions are not supported.</span></span> <span data-ttu-id="e740d-508">Revise esta [declaración de soporte](https://support.microsoft.com/kb/956893) general para más información.</span><span class="sxs-lookup"><span data-stu-id="e740d-508">Review this general [Support Statement](https://support.microsoft.com/kb/956893) for more details.</span></span> <span data-ttu-id="e740d-509">Tenga en cuenta que, a rasgos generales, Microsoft también presta soporte para SQL Server 2008.</span><span class="sxs-lookup"><span data-stu-id="e740d-509">Please note that in general SQL Server 2008 is supported by Microsoft as well.</span></span> <span data-ttu-id="e740d-510">Sin embargo, debido a la importante funcionalidad de SAP que se introdujo con SQL Server 2008 R2, SQL Server 2008 R2 es la versión mínima que se requiere para SAP.</span><span class="sxs-lookup"><span data-stu-id="e740d-510">However due to significant functionality for SAP which was introduced with SQL Server 2008 R2, SQL Server 2008 R2 is the minimum release for SAP.</span></span> <span data-ttu-id="e740d-511">Tenga en cuenta que SQL Server 2012 y 2014 se ampliaron agregando mayor integración con el escenario de IaaS (como la realización de copias de seguridad directamente en el almacenamiento de Azure).</span><span class="sxs-lookup"><span data-stu-id="e740d-511">Keep in mind that SQL Server 2012 and 2014 got extended with deeper integration into the IaaS scenario (like backing up directly against Azure Storage).</span></span> <span data-ttu-id="e740d-512">Por lo tanto, el ámbito de este documento se limita a SQL Server 2012 y 2014 con el nivel de revisión más reciente para Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-512">Therefore, we restrict this paper to SQL Server 2012 and 2014 with its latest patch level for Azure.</span></span>
* <span data-ttu-id="e740d-513">**Soporte para características de SQL**: se presta soporte para la mayoría de las características de SQL Server en las máquinas virtuales de Microsoft Azure, aunque con algunas excepciones.</span><span class="sxs-lookup"><span data-stu-id="e740d-513">**SQL Feature Support**: Most SQL Server features are supported on Microsoft Azure Virtual Machines with some exceptions.</span></span> <span data-ttu-id="e740d-514">**No se presta soporte para los clústeres de conmutación por error de SQL Server que usan discos compartidos**.</span><span class="sxs-lookup"><span data-stu-id="e740d-514">**SQL Server Failover Clustering using Shared Disks is not supported**.</span></span>  <span data-ttu-id="e740d-515">Las tecnologías distribuidas, como la creación de reflejo de base de datos, los grupos de disponibilidad AlwaysOn, la replicación, el trasvase de registros y Service Broker, se admiten en una única región de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-515">Distributed technologies like Database Mirroring, AlwaysOn Availability Groups, Replication, Log Shipping and Service Broker are supported within a single Azure Region.</span></span> <span data-ttu-id="e740d-516">SQL Server AlwaysOn también se admite entre diferentes regiones, como se documenta aquí:  <https://blogs.technet.com/b/dataplatforminsider/archive/2014/06/19/sql-server-alwayson-availability-groups-supported-between-microsoft-azure-regions.aspx>.</span><span class="sxs-lookup"><span data-stu-id="e740d-516">SQL Server AlwaysOn also is supported between different Azure Regions as documented here:  <https://blogs.technet.com/b/dataplatforminsider/archive/2014/06/19/sql-server-alwayson-availability-groups-supported-between-microsoft-azure-regions.aspx>.</span></span>  <span data-ttu-id="e740d-517">Revise la [declaración de soporte](https://support.microsoft.com/kb/956893) para más información.</span><span class="sxs-lookup"><span data-stu-id="e740d-517">Review the [Support Statement](https://support.microsoft.com/kb/956893) for more details.</span></span> <span data-ttu-id="e740d-518">Se muestra un ejemplo de cómo implementar una configuración AlwaysOn en [este][virtual-machines-workload-template-sql-alwayson] artículo.</span><span class="sxs-lookup"><span data-stu-id="e740d-518">An example on how to deploy an AlwaysOn configuration is shown in [this][virtual-machines-workload-template-sql-alwayson] article.</span></span> <span data-ttu-id="e740d-519">Además, revise los procedimientos recomendados [aquí][virtual-machines-sql-server-infrastructure-services].</span><span class="sxs-lookup"><span data-stu-id="e740d-519">Also, check out the Best Practices documented [here][virtual-machines-sql-server-infrastructure-services]</span></span>
* <span data-ttu-id="e740d-520">**Rendimiento de SQL**: estamos seguros de que las máquinas virtuales de Microsoft Azure hospedadas funcionarán muy bien en comparación con otras ofertas de virtualización de nube pública, aunque los resultados individuales pueden variar.</span><span class="sxs-lookup"><span data-stu-id="e740d-520">**SQL Performance**: We are confident that Microsoft Azure hosted Virtual Machines will perform very well in comparison to other public cloud virtualization offerings, but individual results may vary.</span></span> <span data-ttu-id="e740d-521">Consulte [este][virtual-machines-sql-server-performance-best-practices] artículo.</span><span class="sxs-lookup"><span data-stu-id="e740d-521">Check out [this][virtual-machines-sql-server-performance-best-practices] article.</span></span>
* <span data-ttu-id="e740d-522">**Uso de imágenes de Azure Marketplace**: la forma más rápida de implementar una nueva máquina virtual de Microsoft Azure es utilizando una imagen de Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="e740d-522">**Using Images from Azure Marketplace**: The fastest way to deploy a new Microsoft Azure VM is to use an image from the Azure Marketplace.</span></span> <span data-ttu-id="e740d-523">Hay imágenes en Azure Marketplace que contienen SQL Server.</span><span class="sxs-lookup"><span data-stu-id="e740d-523">There are images in the Azure Marketplace which contain SQL Server.</span></span> <span data-ttu-id="e740d-524">Las imágenes donde ya se ha instalado SQL Server no se pueden utilizar inmediatamente para aplicaciones de SAP NetWeaver.</span><span class="sxs-lookup"><span data-stu-id="e740d-524">The images where SQL Server already is installed can’t be immediately used for SAP NetWeaver applications.</span></span> <span data-ttu-id="e740d-525">El motivo es que la intercalación de SQL Server predeterminada está instalada en esas imágenes y no la que requieren los sistemas SAP NetWeaver.</span><span class="sxs-lookup"><span data-stu-id="e740d-525">The reason is the default SQL Server collation is installed within those images and not the collation required by SAP NetWeaver systems.</span></span> <span data-ttu-id="e740d-526">Para poder usar estas imágenes, consulte los pasos que se explican en el capítulo [Uso de imágenes de SQL Server fuera de Microsoft Azure Marketplace][dbms-guide-5.6].</span><span class="sxs-lookup"><span data-stu-id="e740d-526">In order to use such images, please check the steps documented in chapter [Using a SQL Server images out of the Microsoft Azure Marketplace][dbms-guide-5.6].</span></span>
* <span data-ttu-id="e740d-527">Para más información, consulte [Precios de Azure](https://azure.microsoft.com/pricing/) .</span><span class="sxs-lookup"><span data-stu-id="e740d-527">Check out [Pricing Details](https://azure.microsoft.com/pricing/) for more information.</span></span> <span data-ttu-id="e740d-528">La [Guía de licencias de SQL Server 2012](https://download.microsoft.com/download/7/3/C/73CAD4E0-D0B5-4BE5-AB49-D5B886A5AE00/SQL_Server_2012_Licensing_Reference_Guide.pdf) y la de [SQL Server 2014](https://download.microsoft.com/download/B/4/E/B4E604D9-9D38-4BBA-A927-56E4C872E41C/SQL_Server_2014_Licensing_Guide.pdf) también constituyen un recurso importante.</span><span class="sxs-lookup"><span data-stu-id="e740d-528">The [SQL Server 2012 Licensing Guide](https://download.microsoft.com/download/7/3/C/73CAD4E0-D0B5-4BE5-AB49-D5B886A5AE00/SQL_Server_2012_Licensing_Reference_Guide.pdf) and [SQL Server 2014 Licensing Guide](https://download.microsoft.com/download/B/4/E/B4E604D9-9D38-4BBA-A927-56E4C872E41C/SQL_Server_2014_Licensing_Guide.pdf) are also an important resource.</span></span>

### <a name="sql-server-configuration-guidelines-for-sap-related-sql-server-installations-in-azure-vms"></a><span data-ttu-id="e740d-529">Directrices de configuración de SQL Server para SAP relacionadas con las instalaciones de SQL Server en máquinas virtuales de Azure</span><span class="sxs-lookup"><span data-stu-id="e740d-529">SQL Server configuration guidelines for SAP related SQL Server installations in Azure VMs</span></span>
#### <a name="recommendations-on-vmvhd-structure-for-sap-related-sql-server-deployments"></a><span data-ttu-id="e740d-530">Recomendaciones sobre la estructura de máquina virtual y VHD para SAP relacionadas con las implementaciones de SQL Server</span><span class="sxs-lookup"><span data-stu-id="e740d-530">Recommendations on VM/VHD structure for SAP related SQL Server deployments</span></span>
<span data-ttu-id="e740d-531">Según la descripción general, los archivos ejecutables de SQL Server se deben ubicar o instalar en la unidad del sistema del VHD base de la máquina virtual (unidad C:\).</span><span class="sxs-lookup"><span data-stu-id="e740d-531">In accordance with the general description, SQL Server executables should be located or installed into the system drive of the VM’s base VHD (drive C:\).</span></span>  <span data-ttu-id="e740d-532">Normalmente, la carga de trabajo de SAP NetWeaver no utiliza en gran medida la mayoría de las bases de datos de sistema de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="e740d-532">Typically, most of the SQL Server system databases are not utilized at a high level by SAP NetWeaver workload.</span></span> <span data-ttu-id="e740d-533">Por lo tanto, las bases de datos de sistema de SQL Server (master, msdb y model) pueden permanecer también en la unidad C:\.</span><span class="sxs-lookup"><span data-stu-id="e740d-533">Hence the system databases of SQL Server (master, msdb, and model) can remain on the C:\ drive as well.</span></span> <span data-ttu-id="e740d-534">Una excepción podría ser tempdb, que, en el caso de algunas cargas de trabajo de SAP ERP y de todas las de BW, podría requerir un volumen de datos mayor o un volumen de operaciones de E/S que no cumple los requisitos de la máquina virtual original.</span><span class="sxs-lookup"><span data-stu-id="e740d-534">An exception could be tempdb, which in the case of some SAP ERP and all BW workloads, might require either higher data volume or I/O operations volume which can’t fit into the original VM.</span></span> <span data-ttu-id="e740d-535">Para estos sistemas, se deben realizar los pasos siguientes:</span><span class="sxs-lookup"><span data-stu-id="e740d-535">For such systems, the following steps should be performed:</span></span>

* <span data-ttu-id="e740d-536">Mueva los archivos de datos de la base de datos tempdb principal a la misma unidad lógica que los archivos de datos principal de la base de datos de SAP.</span><span class="sxs-lookup"><span data-stu-id="e740d-536">Move the primary tempdb data file(s) to the same logical drive as the primary data file(s) of the SAP database.</span></span>
* <span data-ttu-id="e740d-537">Agregue los archivos de datos adicionales de tempdb a cada una del resto de las unidades lógicas que contengan un archivo de datos de la base de datos de usuario de SAP.</span><span class="sxs-lookup"><span data-stu-id="e740d-537">Add any additional tempdb data files to each of the other logical drives containing a data file of the SAP user database.</span></span>
* <span data-ttu-id="e740d-538">Agregue el archivo de registro de tempdb a la unidad lógica que contiene el archivo de registro de la base de datos de usuario.</span><span class="sxs-lookup"><span data-stu-id="e740d-538">Add the tempdb logfile to the logical drive which contains the user database’s log file.</span></span>
* <span data-ttu-id="e740d-539">**Solo en los tipos de máquinas virtuales que usan SSD locales** en el nodo de proceso, los archivos de registro y de datos de tempdb podrían colocarse en la unidad D:\.</span><span class="sxs-lookup"><span data-stu-id="e740d-539">**Exclusively for VM types that use local SSDs** on the compute node tempdb data and log files might be placed on the D:\ drive.</span></span> <span data-ttu-id="e740d-540">No obstante, se podría recomendar usar varios archivos de datos de tempdb.</span><span class="sxs-lookup"><span data-stu-id="e740d-540">Nevertheless, it might be recommended to use multiple tempdb data files.</span></span> <span data-ttu-id="e740d-541">Tenga en cuenta que los volúmenes de la unidad D:\ serán diferentes en función del tipo de máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="e740d-541">Be aware D:\ drive volumes are different based on the VM type.</span></span>

<span data-ttu-id="e740d-542">Estas configuraciones permiten que tempdb consuma más espacio que el que la unidad del sistema puede proporcionar.</span><span class="sxs-lookup"><span data-stu-id="e740d-542">These configurations enable tempdb to consume more space than the system drive is able to provide.</span></span> <span data-ttu-id="e740d-543">Para determinar el tamaño correcto de tempdb, se puede comprobar los tamaños de tempdb en los sistemas existentes que se ejecutan de forma local.</span><span class="sxs-lookup"><span data-stu-id="e740d-543">In order to determine the proper tempdb size, one can check the tempdb sizes on existing systems which run on-premises.</span></span> <span data-ttu-id="e740d-544">Además, dicha configuración admitiría los números de IOPS en la tempdb, que no se pueden proporcionar con la unidad del sistema.</span><span class="sxs-lookup"><span data-stu-id="e740d-544">In addition, such a configuration would enable IOPS numbers against tempdb which cannot be provided with the system drive.</span></span> <span data-ttu-id="e740d-545">De nuevo, los sistemas que se ejecutan de forma local pueden utilizarse para supervisar la carga de trabajo de E/S en tempdb, de forma que puede derivar los números de IOPS que espera observar en tempdb.</span><span class="sxs-lookup"><span data-stu-id="e740d-545">Again, systems that are running on-premises can be used to monitor I/O workload against tempdb so that you can derive the IOPS numbers you expect to see on your tempdb.</span></span>

<span data-ttu-id="e740d-546">Una configuración de máquina virtual que ejecuta SQL Server con una base de datos de SAP donde el archivo de registro de tempdb y el de datos se colocan en la unidad D:\ tendría el siguiente aspecto:</span><span class="sxs-lookup"><span data-stu-id="e740d-546">A VM configuration which runs SQL Server with a SAP database and where tempdb data and tempdb logfile are placed on the D:\ drive would look like:</span></span>

![Configuración de referencia de máquinas virtuales IaaS de Azure en SAP][dbms-guide-figure-300]

<span data-ttu-id="e740d-548">Tenga en cuenta que la unidad D:\ tiene distintos tamaños en función del tipo de máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="e740d-548">Be aware that the D:\ drive has different sizes dependent on the VM type.</span></span> <span data-ttu-id="e740d-549">Según los requisitos de tamaño de tempdb, podría verse obligado a emparejar los archivos de registro y de datos de tempdb con los de la base de datos de SAP en aquellos casos donde el tamaño de la unidad D:\ sea demasiado pequeño.</span><span class="sxs-lookup"><span data-stu-id="e740d-549">Dependent on the size requirement of tempdb you might be forced to pair tempdb data and log files with the SAP database data and log files in cases where D:\ drive is too small.</span></span>

#### <a name="formatting-the-vhds"></a><span data-ttu-id="e740d-550">Formateo de los VHD</span><span class="sxs-lookup"><span data-stu-id="e740d-550">Formatting the VHDs</span></span>
<span data-ttu-id="e740d-551">Para SQL Server, el tamaño de bloque NTFS de los VHD que contienen los archivos de registro y de datos de SQL Server deben tener un tamaño de 64 kB.</span><span class="sxs-lookup"><span data-stu-id="e740d-551">For SQL Server the NTFS block size for VHDs containing SQL Server data and log files should be 64K.</span></span> <span data-ttu-id="e740d-552">No hay que formatear la unidad D:\,</span><span class="sxs-lookup"><span data-stu-id="e740d-552">There is no need to format the D:\ drive.</span></span> <span data-ttu-id="e740d-553">ya que este proceso se ha realizado previamente.</span><span class="sxs-lookup"><span data-stu-id="e740d-553">This drive comes pre-formatted.</span></span>

<span data-ttu-id="e740d-554">Para asegurarse de que la restauración o la creación de bases de datos no inicialice los archivos de datos llenando con ceros el contenido de los archivos, hay que asegurarse de que el servicio de SQL Server que se ejecuta en el contexto de usuario tiene un permiso determinado.</span><span class="sxs-lookup"><span data-stu-id="e740d-554">In order to make sure that the restore or creation of databases is not initializing the data files by zeroing the content of the files, one should make sure that the user context the SQL Server service is running in has a certain permission.</span></span> <span data-ttu-id="e740d-555">Normalmente, los usuarios del grupo de administrador de Windows tienen estos permisos.</span><span class="sxs-lookup"><span data-stu-id="e740d-555">Usually users in the Windows Administrator group have these permissions.</span></span> <span data-ttu-id="e740d-556">Si el servicio SQL Server se ejecuta en el contexto de usuario del usuario no administrador de Windows, debe asignar a ese usuario el derecho de usuario Realizar tareas de mantenimiento del volumen.</span><span class="sxs-lookup"><span data-stu-id="e740d-556">If the SQL Server service is run in the user context of non-Windows Administrator user, you need to assign that user the User Right ‘Perform volume maintenance tasks’.</span></span>  <span data-ttu-id="e740d-557">Consulte los detalles en este artículo de Microsoft Knowledge Base: <https://support.microsoft.com/kb/2574695>.</span><span class="sxs-lookup"><span data-stu-id="e740d-557">See the details in this Microsoft Knowledge Base Article: <https://support.microsoft.com/kb/2574695></span></span>

#### <a name="impact-of-database-compression"></a><span data-ttu-id="e740d-558">Impacto de la compresión de las bases de datos</span><span class="sxs-lookup"><span data-stu-id="e740d-558">Impact of database compression</span></span>
<span data-ttu-id="e740d-559">En configuraciones donde el ancho de banda de E/S puede convertirse en un factor de limitación, todas las medidas que reduzca el número de IOPS podrían ayudar a ajustar la carga de trabajo que se puede ejecutar en un escenario de IaaS como Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-559">In configurations where I/O bandwidth can become a limiting factor, every measure which reduces IOPS might help to stretch the workload one can run in an IaaS scenario like Azure.</span></span> <span data-ttu-id="e740d-560">Por lo tanto, si aún no lo ha hecho, se recomienda encarecidamente que Microsoft y SAP apliquen la compresión de página de SQL Server antes de cargar bases de datos de SAP existentes en Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-560">Therefore, if not yet done, applying SQL Server PAGE compression is strongly recommended by both SAP and Microsoft before uploading an existing SAP databases to Azure.</span></span>

<span data-ttu-id="e740d-561">La recomendación para realizar la compresión de la base de datos antes de cargar en Azure viene motivada por dos razones:</span><span class="sxs-lookup"><span data-stu-id="e740d-561">The recommendation to perform Database Compression before uploading to Azure is given out of two reasons:</span></span>

* <span data-ttu-id="e740d-562">La cantidad de datos que se carga es menor.</span><span class="sxs-lookup"><span data-stu-id="e740d-562">The amount of data to be uploaded is lower.</span></span>
* <span data-ttu-id="e740d-563">La duración de la ejecución de la compresión es más breve dándose por supuesto que se puede utilizar hardware más eficaz con más CPU, mayor ancho de banda de E/S o menos latencia de E/S en un entorno local.</span><span class="sxs-lookup"><span data-stu-id="e740d-563">The duration of the compression execution is shorter assuming that one can use stronger hardware with more CPUs or higher I/O bandwidth or less I/O latency on-premises.</span></span>
* <span data-ttu-id="e740d-564">Si se utilizan tamaños de base de datos más pequeños, se incurriría en menos costes de asignación de disco.</span><span class="sxs-lookup"><span data-stu-id="e740d-564">Smaller database sizes might lead to less costs for disk allocation</span></span>

<span data-ttu-id="e740d-565">La compresión de las bases de datos funciona también correctamente en las máquinas virtuales de Azure de la misma forma que en local.</span><span class="sxs-lookup"><span data-stu-id="e740d-565">Database compression works as well in an Azure Virtual Machines as it does on-premises.</span></span> <span data-ttu-id="e740d-566">Para más información sobre cómo comprimir una base de datos SQL Server existente para SAP, consulte aquí: <https://blogs.msdn.com/b/saponsqlserver/archive/2010/10/08/compressing-an-sap-database-using-report-msscompress.aspx>.</span><span class="sxs-lookup"><span data-stu-id="e740d-566">For more details on how to compress an existing SAP SQL Server database please check here: <https://blogs.msdn.com/b/saponsqlserver/archive/2010/10/08/compressing-an-sap-database-using-report-msscompress.aspx></span></span>

### <a name="sql-server-2014--storing-database-files-directly-on-azure-blog-storage"></a><span data-ttu-id="e740d-567">SQL Server 2014: almacenamiento de archivos directamente en Almacenamiento de blobs de Azure</span><span class="sxs-lookup"><span data-stu-id="e740d-567">SQL Server 2014 – Storing Database Files directly on Azure Blog Storage</span></span>
<span data-ttu-id="e740d-568">SQL Server 2014 ofrece la posibilidad de almacenar archivos de base de datos directamente en el almacén de blobs de Azure sin necesidad de usar contenedor de un VHD en ellos.</span><span class="sxs-lookup"><span data-stu-id="e740d-568">SQL Server 2014 opens the possibility to store database files directly on Azure Blob Store without the ‘wrapper’ of a VHD around them.</span></span> <span data-ttu-id="e740d-569">Especialmente al utilizar el almacenamiento estándar de Azure o tipos de máquina virtual con tamaños más pequeños, se producen escenarios donde pueden superarse los límites de IOPS impuestos por un número de limitado de VHD que pueden montarse en tipos de máquinas virtuales de menor tamaño.</span><span class="sxs-lookup"><span data-stu-id="e740d-569">Especially with using Standard Azure Storage or smaller VM types this enables scenarios where you can overcome the limits of IOPS that would be enforced by a limited number of VHDs that can be mounted to some smaller VM types.</span></span> <span data-ttu-id="e740d-570">Aunque esto funciona con las bases de datos de usuario, no lo hace con las de sistema de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="e740d-570">This works for user databases however not for system databases of SQL Server.</span></span> <span data-ttu-id="e740d-571">También funciona con los archivos de registro y de datos de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="e740d-571">It also works for data and log files of SQL Server.</span></span> <span data-ttu-id="e740d-572">Si desea implementar una base de datos de SQL Server de SAP de este modo, en lugar de contenerla en VHD, tenga en cuenta lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="e740d-572">If you’d like to deploy a SAP SQL Server database this way instead of ‘wrapping’ it into VHDs, please keep the following in mind:</span></span>

* <span data-ttu-id="e740d-573">La cuenta de almacenamiento utilizada debe estar en la misma región de Azure que la que se empleó para implementar la máquina virtual que se está ejecutando en SQL Server.</span><span class="sxs-lookup"><span data-stu-id="e740d-573">The Storage Account used needs to be in the same Azure Region as the one that is used to deploy the VM SQL Server is running in.</span></span>
* <span data-ttu-id="e740d-574">Para este método de implementaciones también se aplican las consideraciones que se indicaron anteriormente relacionadas con la distribución de los VHD en diferentes cuentas de almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-574">Considerations listed earlier in regards to distribute VHDs over different Azure Storage Accounts apply for this method of deployments as well.</span></span> <span data-ttu-id="e740d-575">Significa que el número de operaciones de E/S cuenta para los límites de la cuenta de almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-575">Means the I/O operations count against the limits of the Azure Storage Account.</span></span>

<span data-ttu-id="e740d-576">[comment]: <> (MSSedusch TODO But this will use network bandwith and not storage bandwith, doesn't it?)</span><span class="sxs-lookup"><span data-stu-id="e740d-576">[comment]: <> (MSSedusch TODO But this will use network bandwith and not storage bandwith, doesn't it?)</span></span>

<span data-ttu-id="e740d-577">Los detalles acerca de este tipo de implementación se indican aquí: <https://msdn.microsoft.com/library/dn385720.aspx>.</span><span class="sxs-lookup"><span data-stu-id="e740d-577">Details about this type of deployment are listed here: <https://msdn.microsoft.com/library/dn385720.aspx></span></span>

<span data-ttu-id="e740d-578">Para almacenar archivos de datos de SQL Server directamente en Azure Premium Storage, debe tener una versión mínima de revisión de SQL Server 2014 que se explica en este artículo: <https://support.microsoft.com/kb/3063054>.</span><span class="sxs-lookup"><span data-stu-id="e740d-578">In order to store SQL Server data files directly on Azure Premium Storage, you need to have a minimum SQL Server 2014 patch release which is documented here: <https://support.microsoft.com/kb/3063054>.</span></span> <span data-ttu-id="e740d-579">El almacenamiento de archivos de datos de SQL Server en el almacenamiento estándar de Azure funcionan con la versión de lanzamiento de SQL Server 2014.</span><span class="sxs-lookup"><span data-stu-id="e740d-579">Storing SQL Server data files on Azure Standard Storage does work with the released version of SQL Server 2014.</span></span> <span data-ttu-id="e740d-580">Sin embargo, las mismas revisiones contienen otra serie de correcciones que hacen que sea más confiable usar directamente Almacenamiento de blobs de Azure para copias de seguridad y archivos de datos de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="e740d-580">However, the very same patches contain another series of fixes which make the direct usage of Azure Blob Storage for SQL Server data files and backups more reliable.</span></span> <span data-ttu-id="e740d-581">Por lo tanto, en general, se recomienda usar estas revisiones.</span><span class="sxs-lookup"><span data-stu-id="e740d-581">Therefore we recommend to use these patches in general.</span></span>

### <a name="sql-server-2014-buffer-pool-extension"></a><span data-ttu-id="e740d-582">Extensión de grupo de búferes de SQL Server 2014</span><span class="sxs-lookup"><span data-stu-id="e740d-582">SQL Server 2014 Buffer Pool Extension</span></span>
<span data-ttu-id="e740d-583">SQL Server 2014 introdujo una nueva característica denominada "extensión de grupo de búferes".</span><span class="sxs-lookup"><span data-stu-id="e740d-583">SQL Server 2014 introduced a new feature which is called Buffer Pool Extension.</span></span> <span data-ttu-id="e740d-584">Esta funcionalidad amplía el grupo de búferes de SQL Server que se mantiene en memoria con una memoria caché de segundo nivel respaldada por SSD locales de un servidor o una máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="e740d-584">This functionality extends the buffer pool of SQL Server which is kept in memory with a second level cache that is backed by local SSDs of a server or VM.</span></span> <span data-ttu-id="e740d-585">De este modo, se puede mantener en memoria un conjunto de datos de mayor volumen.</span><span class="sxs-lookup"><span data-stu-id="e740d-585">This enables to keep a larger working set of data ‘in memory’.</span></span> <span data-ttu-id="e740d-586">En comparación con el acceso al almacenamiento estándar de Azure, el acceso a la extensión de grupo de búferes que se almacena en SSD locales de una máquina virtual de Azure es mucho más rápido.</span><span class="sxs-lookup"><span data-stu-id="e740d-586">Compared to accessing Azure Standard Storage the access into the extension of the buffer pool which is stored on local SSDs of an Azure VM is many factors faster.</span></span>  <span data-ttu-id="e740d-587">Por lo tanto, utilizar la unidad D:\ local de los tipos de máquina virtual que tienen un rendimiento y un número de IOPS excelentes podría ser una forma muy razonable de reducir la carga de IOPS en Almacenamiento de Azure y de mejorar considerablemente los tiempos de respuesta de las consultas.</span><span class="sxs-lookup"><span data-stu-id="e740d-587">Therefore, leveraging the local D:\ drive of the VM types that have excellent IOPS and throughput could be a very reasonable way to reduce the IOPS load against Azure Storage and improve response times of queries dramatically.</span></span> <span data-ttu-id="e740d-588">Esto sucede sobre todo cuando no se utiliza el Almacenamiento premium.</span><span class="sxs-lookup"><span data-stu-id="e740d-588">This applies especially when not using Premium Storage.</span></span> <span data-ttu-id="e740d-589">En el caso del Almacenamiento premium y el uso de la memoria caché de lectura de Azure premium en el nodo de proceso, tal y como se recomienda para los archivos de datos, no se producen resultados muy diferentes.</span><span class="sxs-lookup"><span data-stu-id="e740d-589">In case of Premium Storage and the usage of the Premium Azure Read Cache on the compute node, as recommended for data files, no big differences are expected.</span></span> <span data-ttu-id="e740d-590">El motivo es que las memorias caché (extensión de grupo de búferes de SQL Server y memoria caché de lectura de almacenamiento premium) utilizan los discos locales de los nodos de proceso.</span><span class="sxs-lookup"><span data-stu-id="e740d-590">Reason is that both caches (SQL Server Buffer Pool Extension and Premium Storage Read Cache) are using the local disks of the compute nodes.</span></span>
<span data-ttu-id="e740d-591">Para más información sobre esta funcionalidad, consulte esta documentación: <https://msdn.microsoft.com/library/dn133176.aspx>.</span><span class="sxs-lookup"><span data-stu-id="e740d-591">For more details about this functionality, please check this documentation: <https://msdn.microsoft.com/library/dn133176.aspx></span></span>

### <a name="backuprecovery-considerations-for-sql-server"></a><span data-ttu-id="e740d-592">Consideraciones de copia de seguridad y recuperación en SQL Server</span><span class="sxs-lookup"><span data-stu-id="e740d-592">Backup/Recovery considerations for SQL Server</span></span>
<span data-ttu-id="e740d-593">Al implementar SQL Server en Azure, se debe revisar la metodología de copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="e740d-593">When deploying SQL Server into Azure your backup methodology must be reviewed.</span></span> <span data-ttu-id="e740d-594">Aunque no se trate de un sistema productivo, debe realizarse de manera periódica una copia de seguridad de la base de datos de SAP hospedada por SQL Server.</span><span class="sxs-lookup"><span data-stu-id="e740d-594">Even if the system is not a productive system, the SAP database hosted by SQL Server must be backed up periodically.</span></span> <span data-ttu-id="e740d-595">Como Azure Storage mantiene tres imágenes, una copia de seguridad es menos importante para compensar un bloqueo de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="e740d-595">Since Azure Storage keeps three images, a backup is now less important in respect to compensating a storage crash.</span></span> <span data-ttu-id="e740d-596">El principal motivo para mantener un plan de copia de seguridad y recuperación adecuado es más que poder compensar los errores lógicos o manuales proporcionando funcionalidades de recuperación a un momento dado.</span><span class="sxs-lookup"><span data-stu-id="e740d-596">The priority reason for maintaining a proper backup and recovery plan is more that you can compensate for logical/manual errors by providing point in time recovery capabilities.</span></span> <span data-ttu-id="e740d-597">El objetivo es usar las copias de seguridad para restaurar la base de datos a un momento dado o utilizar las copias de seguridad de Azure para propagar otro sistema mediante la copia de la base de datos existente.</span><span class="sxs-lookup"><span data-stu-id="e740d-597">So the goal is to either use backups to restore the database back to a certain point in time or to use the backups in Azure to seed another system by copying the existing database.</span></span> <span data-ttu-id="e740d-598">Por ejemplo, podría transferir archivos desde una configuración de SAP de 2 niveles a una configuración de sistema de 3 niveles del mismo sistema mediante la restauración de una copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="e740d-598">For example, you could transfer from a 2-Tier SAP configuration to a 3-Tier system setup of the same system by restoring a backup.</span></span>

<span data-ttu-id="e740d-599">Hay tres formas diferentes de realizar la copia de seguridad de SQL Server en Azure Storage:</span><span class="sxs-lookup"><span data-stu-id="e740d-599">There are three different ways to backup SQL Server to Azure Storage:</span></span>

1. <span data-ttu-id="e740d-600">SQL Server 2012 CU4 y posterior puede realizar copias de seguridad de forma nativa de las bases de datos en una dirección URL.</span><span class="sxs-lookup"><span data-stu-id="e740d-600">SQL Server 2012 CU4 and higher can natively backup databases to a URL.</span></span> <span data-ttu-id="e740d-601">Esto se detalla en la entrada de blog [New functionality in SQL Server 2014 – Part 5 – Backup/Restore Enhancements](https://blogs.msdn.com/b/saponsqlserver/archive/2014/02/15/new-functionality-in-sql-server-2014-part-5-backup-restore-enhancements.aspx)(Nueva funcionalidad en SQL Server 2014 [parte 5]: mejoras en los procesos de copia de seguridad y restauración).</span><span class="sxs-lookup"><span data-stu-id="e740d-601">This is detailed in the blog [New functionality in SQL Server 2014 – Part 5 – Backup/Restore Enhancements](https://blogs.msdn.com/b/saponsqlserver/archive/2014/02/15/new-functionality-in-sql-server-2014-part-5-backup-restore-enhancements.aspx).</span></span> <span data-ttu-id="e740d-602">Consulte el capítulo [SQL Server 2012 SP1 CU4 y versiones posteriores][dbms-guide-5.5.1].</span><span class="sxs-lookup"><span data-stu-id="e740d-602">See chapter [SQL Server 2012 SP1 CU4 and later][dbms-guide-5.5.1].</span></span>
2. <span data-ttu-id="e740d-603">Las versiones de SQL Server anteriores a SQL 2012 CU4 pueden utilizar la funcionalidad de redirección para realizar copias de seguridad en un VHD y, básicamente, mover la secuencia de escritura a una ubicación de Azure Storage que se haya configurado.</span><span class="sxs-lookup"><span data-stu-id="e740d-603">SQL Server releases prior to SQL 2012 CU4 can use a redirection functionality to backup to a VHD and basically move the write stream towards an Azure Storage location that has been configured.</span></span> <span data-ttu-id="e740d-604">Consulte el capítulo [SQL Server 2012 SP1 CU3 y versiones anteriores][dbms-guide-5.5.2].</span><span class="sxs-lookup"><span data-stu-id="e740d-604">See chapter [SQL Server 2012 SP1 CU3 and earlier releases][dbms-guide-5.5.2].</span></span>
3. <span data-ttu-id="e740d-605">El método final consiste en realizar una copia de seguridad convencional de SQL Server en disco en un dispositivo de VHD.</span><span class="sxs-lookup"><span data-stu-id="e740d-605">The final method is to perform a conventional SQL Server backup to disk command onto a VHD disk device.</span></span>  <span data-ttu-id="e740d-606">Se trata de un proceso idéntico al patrón de implementación local y no se explica detalladamente en este documento.</span><span class="sxs-lookup"><span data-stu-id="e740d-606">This is identical to the on-premises deployment pattern and is not discussed in detail in this document.</span></span>

#### <span data-ttu-id="e740d-607"><a name="0fef0e79-d3fe-4ae2-85af-73666a6f7268"></a>SQL Server 2012 SP1 CU4 y versiones posteriores</span><span class="sxs-lookup"><span data-stu-id="e740d-607"><a name="0fef0e79-d3fe-4ae2-85af-73666a6f7268"></a>SQL Server 2012 SP1 CU4 and later</span></span>
<span data-ttu-id="e740d-608">Esta funcionalidad permite realizar directamente copias de seguridad en el almacenamiento de blobs de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-608">This functionality allows you to directly backup to Azure BLOB storage.</span></span> <span data-ttu-id="e740d-609">Sin este método, debe realizar las copias de seguridad en otros VHD de Azure, lo que consumiría la capacidad de IOPS y de los VHD.</span><span class="sxs-lookup"><span data-stu-id="e740d-609">Without this method, you must backup to other Azure VHDs which would consume VHD and IOPS capacity.</span></span> <span data-ttu-id="e740d-610">La idea es básicamente la siguiente:</span><span class="sxs-lookup"><span data-stu-id="e740d-610">The idea is basically this:</span></span>

 ![Uso de copias de seguridad de SQL Server 2012 para blobs de Almacenamiento de Microsoft Azure][dbms-guide-figure-400]

<span data-ttu-id="e740d-612">En este caso, la ventaja es que no se necesita utilizar VHD para almacenar las copias de seguridad de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="e740d-612">The advantage in this case is that one doesn’t need to spend VHDs to store SQL Server backups on.</span></span> <span data-ttu-id="e740d-613">Por tanto, tendrá menos VHD asignados y el ancho de banda total de IOPS de los VHD se podrá usar para los archivos de datos y de registro.</span><span class="sxs-lookup"><span data-stu-id="e740d-613">So you have fewer VHDs allocated and the whole bandwidth of VHD IOPS can be used for data and log files.</span></span> <span data-ttu-id="e740d-614">Tenga en cuenta que el tamaño máximo de una copia de seguridad se limita a un máximo de 1 TB, tal como se describe en la sección "Limitaciones" de este artículo: <https://msdn.microsoft.com/library/dn435916.aspx#limitations>.</span><span class="sxs-lookup"><span data-stu-id="e740d-614">Please note that the maximum size of a backup is limited to a maximum of 1 TB as documented in the section ‘Limitations’ in this article: <https://msdn.microsoft.com/library/dn435916.aspx#limitations>.</span></span> <span data-ttu-id="e740d-615">Si el tamaño de la copia de seguridad, a pesar de usar la compresión de copia de seguridad de SQL Server, es superior a 1 TB, debe usarse la funcionalidad que se describe en el capítulo [SQL Server 2012 SP1 CU3 y versiones anteriores][dbms-guide-5.5.2].</span><span class="sxs-lookup"><span data-stu-id="e740d-615">If the backup size, despite using SQL Server Backup compression would exceed 1 TB in size, the functionality described in chapter [SQL Server 2012 SP1 CU3 and earlier releases][dbms-guide-5.5.2] in this document needs to be used.</span></span>

<span data-ttu-id="e740d-616">[En la documentación relacionada](https://msdn.microsoft.com/library/dn449492.aspx) donde se describe el proceso de restauración de las bases de datos a partir de copias de seguridad en el almacén de blobs de Azure, se recomienda no llevar a cabo la restauración directamente desde el almacén de blobs de Azure si el tamaño de las copias de seguridad es superior a 25 GB.</span><span class="sxs-lookup"><span data-stu-id="e740d-616">[Related documentation](https://msdn.microsoft.com/library/dn449492.aspx) describing the restore of databases from backups against Azure Blob Store recommend not to restore directly from Azure BLOB store if the backups is >25GB.</span></span> <span data-ttu-id="e740d-617">La recomendación de este artículo se basa simplemente en las consideraciones de rendimiento y no en las restricciones funcionales.</span><span class="sxs-lookup"><span data-stu-id="e740d-617">The recommendation in this article is simply based on performance considerations and not due to functional restrictions.</span></span> <span data-ttu-id="e740d-618">Por lo tanto, pueden aplicarse distintas condiciones en cada caso.</span><span class="sxs-lookup"><span data-stu-id="e740d-618">Therefore, different conditions may apply on a case by case basis.</span></span>

<span data-ttu-id="e740d-619">Puede encontrar documentación sobre cómo configurar y utilizar este tipo de copia de seguridad en [este](https://msdn.microsoft.com/library/dn466438.aspx) tutorial.</span><span class="sxs-lookup"><span data-stu-id="e740d-619">Documentation on how this type of backup is set up and leveraged can be found in [this](https://msdn.microsoft.com/library/dn466438.aspx) tutorial</span></span>

<span data-ttu-id="e740d-620">[Aquí puede](https://msdn.microsoft.com/library/dn435916.aspx)consultar un ejemplo de secuencia de pasos.</span><span class="sxs-lookup"><span data-stu-id="e740d-620">An example of the sequence of steps can be read [here](https://msdn.microsoft.com/library/dn435916.aspx).</span></span>

<span data-ttu-id="e740d-621">Al automatizar las copias de seguridad, la prioridad es asegurarse de que los blobs de cada copia de seguridad se denominen de forma distinta.</span><span class="sxs-lookup"><span data-stu-id="e740d-621">Automating backups, it is of highest importance to make sure that the BLOBs for each backup are named differently.</span></span> <span data-ttu-id="e740d-622">De lo contrario, se sobrescribirán y se romperá la cadena.</span><span class="sxs-lookup"><span data-stu-id="e740d-622">Otherwise they will be overwritten and the restore chain is broken.</span></span>

<span data-ttu-id="e740d-623">Para no mezclar elementos entre los 3 tipos de copias de seguridad diferentes, se recomienda crear distintos contenedores en la cuenta de almacenamiento utilizada para las copias de seguridad.</span><span class="sxs-lookup"><span data-stu-id="e740d-623">In order not to mix up things between the 3 different types of backups, it is advisable to create different containers underneath the storage account used for backups.</span></span> <span data-ttu-id="e740d-624">Los contenedores podrían ser solo por tipo de máquina virtual o por tipo de copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="e740d-624">The containers could be by VM only or by VM and Backup type.</span></span> <span data-ttu-id="e740d-625">El esquema podría ser similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="e740d-625">The schema could look like:</span></span>

 ![Uso de copias de seguridad de SQL Server 2012 en blobs de Microsoft Azure Storage: contenedores diferentes en distintas cuentas de almacenamiento][dbms-guide-figure-500]

<span data-ttu-id="e740d-627">En el ejemplo anterior, las copias de seguridad no se realizarían en la misma cuenta de almacenamiento donde se implementan las máquinas virtuales.</span><span class="sxs-lookup"><span data-stu-id="e740d-627">In the example above, the backups would not be performed into the same storage account where the VMs are deployed.</span></span> <span data-ttu-id="e740d-628">Sería en una nueva cuenta de almacenamiento creada específicamente para las copias de seguridad.</span><span class="sxs-lookup"><span data-stu-id="e740d-628">There would be a new storage account specifically for the backups.</span></span> <span data-ttu-id="e740d-629">En las cuentas de almacenamiento, habría diferentes contenedores creados con una matriz del tipo de copia de seguridad y el nombre de la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="e740d-629">Within the storage accounts, there would be different containers created with a matrix of the type of backup and the VM name.</span></span> <span data-ttu-id="e740d-630">Gracias a esta segmentación, se podrán administrar las copias de seguridad de las diferentes máquinas virtuales de manera más sencilla.</span><span class="sxs-lookup"><span data-stu-id="e740d-630">Such segmentation will make it easier to administrate the backups of the different VMs.</span></span>

<span data-ttu-id="e740d-631">Los blobs en el que se escriben directamente las copias de seguridad no cuentan para el número de VHD de una máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="e740d-631">The BLOBs one directly writes the backups to, are not adding to the count of the VHDs of a VM.</span></span> <span data-ttu-id="e740d-632">Por lo tanto, se podría maximizar la cantidad máxima de VHD montados de la SKU de máquina virtual específico del archivo de datos y de registro de transacciones, así como seguir ejecutando una copia de seguridad en un contenedor de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="e740d-632">Hence one could maximize the maximum of VHDs mounted of the specific VM SKU for the data and transaction log file and still execute a backup against a storage container.</span></span>

#### <span data-ttu-id="e740d-633"><a name="f9071eff-9d72-4f47-9da4-1852d782087b"></a>SQL Server 2012 SP1 CU3 y versiones anteriores</span><span class="sxs-lookup"><span data-stu-id="e740d-633"><a name="f9071eff-9d72-4f47-9da4-1852d782087b"></a>SQL Server 2012 SP1 CU3 and earlier releases</span></span>
<span data-ttu-id="e740d-634">El primer paso que se debe realizar para conseguir que una copia de seguridad se realice directamente en Almacenamiento de Azure es descargar el archivo .msi en [este](https://www.microsoft.com/download/details.aspx?id=40740) artículo de Microsoft Knowledge Base.</span><span class="sxs-lookup"><span data-stu-id="e740d-634">The first step you must perform in order to achieve a backup directly against Azure Storage would be to download the msi which is linked to [this](https://www.microsoft.com/download/details.aspx?id=40740) KBA article.</span></span>

<span data-ttu-id="e740d-635">Descargue la documentación y el archivo de instalación para arquitecturas x64.</span><span class="sxs-lookup"><span data-stu-id="e740d-635">Download the x64 installation file and the documentation.</span></span> <span data-ttu-id="e740d-636">El archivo instalará un programa llamado: "Herramienta de copia de seguridad de Microsoft SQL Server en Microsoft Azure".</span><span class="sxs-lookup"><span data-stu-id="e740d-636">The file will install a program called: ‘Microsoft SQL Server Backup to Microsoft Azure Tool’.</span></span> <span data-ttu-id="e740d-637">Lea detenidamente la documentación del producto.</span><span class="sxs-lookup"><span data-stu-id="e740d-637">Read the documentation of the product thoroughly.</span></span>  <span data-ttu-id="e740d-638">Básicamente, la herramienta funciona de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="e740d-638">The tool basically works in the following way:</span></span>

* <span data-ttu-id="e740d-639">Desde SQL Server, se define una ubicación de disco para la copia de seguridad de SQL Server (no utilice la unidad D:\ para este fin).</span><span class="sxs-lookup"><span data-stu-id="e740d-639">From the SQL Server side, a disk location for the SQL Server backup is defined (don’t use the D:\ drive for this).</span></span>
* <span data-ttu-id="e740d-640">La herramienta permitirá definir reglas que se pueden usar para dirigir diferentes tipos de copias de seguridad a distintos contenedores de almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-640">The tool will allow you to define rules which can be used to direct different types of backups to different Azure Storage containers.</span></span>
* <span data-ttu-id="e740d-641">Una vez que se hayan definido las reglas, la herramienta redirigirá la secuencia de escritura de la copia de seguridad a uno de los VHD y discos de la ubicación de almacenamiento de Azure que se definió anteriormente.</span><span class="sxs-lookup"><span data-stu-id="e740d-641">Once the rules are in place, the tool will redirect the write stream of the backup to one of the VHDs/disks to the Azure Storage location which was defined earlier.</span></span>
* <span data-ttu-id="e740d-642">La herramienta dejará un archivo de código auxiliar de un tamaño reducido (muy pocos kB) en el VHD o disco definido para la copia de seguridad de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="e740d-642">The tool will leave a small stub file of a few KB size on the VHD/Disk which was defined for the SQL Server backup.</span></span> <span data-ttu-id="e740d-643">**Este archivo debe mantenerse en la ubicación de almacenamiento, ya que es necesario para volver a realizar la restauración desde el almacenamiento de Azure.**</span><span class="sxs-lookup"><span data-stu-id="e740d-643">**This file should be left on the storage location since it is required to restore again from Azure Storage.**</span></span>
  * <span data-ttu-id="e740d-644">Si ha perdido el archivo de código auxiliar (por ejemplo, tras la pérdida de los medios de almacenamiento que contienen dicho archivo) y ha elegido la opción de realizar las copias de seguridad en una cuenta de almacenamiento de Microsoft Azure, puede recuperar el archivo de código auxiliar mediante el almacenamiento de Microsoft Azure descargándolo desde el contenedor de almacenamiento donde se colocó.</span><span class="sxs-lookup"><span data-stu-id="e740d-644">If you have lost the stub file (e.g. through loss of the storage media that contained the stub file) and you have chosen the option of backing up to a Microsoft Azure Storage account, you may recover the stub file through Microsoft Azure Storage by downloading it from the storage container in which it was placed.</span></span> <span data-ttu-id="e740d-645">Después, debe colocar el archivo de código auxiliar en una carpeta de la máquina local donde se haya configurado la herramienta para detectar el mismo contenedor y cargarse en él con la misma contraseña de cifrado si se empleó cifrado con la regla original.</span><span class="sxs-lookup"><span data-stu-id="e740d-645">You should then place the stub file into a folder on the local machine where the Tool is configured to detect and upload to the same container with the same encryption password if encryption was used with the original rule.</span></span>

<span data-ttu-id="e740d-646">Es decir, el esquema tal y como se describió anteriormente para las versiones más recientes de SQL Server puede colocarse también para las versiones de SQL Server que no pueden redirigirse directamente a una ubicación de almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-646">This means the schema as described above for more recent releases of SQL Server can be put in place as well for SQL Server releases which are not allowing direct address an Azure Storage location.</span></span>

<span data-ttu-id="e740d-647">Este método no debe usarse con las versiones más recientes de SQL Server que admiten copias de seguridad nativas en Almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-647">This method should not be used with more recent SQL Server releases which support backing up natively against Azure Storage.</span></span> <span data-ttu-id="e740d-648">Las excepciones se producen cuando las limitaciones de la copia de seguridad nativa en Azure bloquean la ejecución del proceso de copia de seguridad nativa en Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-648">Exceptions are where limitations of the native backup into Azure are blocking native backup execution into Azure.</span></span>

#### <a name="other-possibilities-to-backup-sql-server-databases"></a><span data-ttu-id="e740d-649">Otras posibilidades para realizar copias de seguridad de bases de datos de SQL Server</span><span class="sxs-lookup"><span data-stu-id="e740d-649">Other possibilities to backup SQL Server databases</span></span>
<span data-ttu-id="e740d-650">Otras posibilidades realizar copias de seguridad de bases de datos consisten en asociar VHD adicionales a una máquina virtual que se utilice para almacenar las copias de seguridad.</span><span class="sxs-lookup"><span data-stu-id="e740d-650">Other possibilities to backup databases is to attach additional VHDs to a VM that you use to store backups on.</span></span> <span data-ttu-id="e740d-651">En este caso, tendría que asegurarse de que los VHD no se estén ejecutando por completo.</span><span class="sxs-lookup"><span data-stu-id="e740d-651">In such a case you would need to make sure that the VHDs are not running full.</span></span> <span data-ttu-id="e740d-652">Si lo están haciendo, necesitaría desmontar el VHD y "archivarlo" y remplazarlo por un nuevo VHD vacío.</span><span class="sxs-lookup"><span data-stu-id="e740d-652">If that is the case, you would need to unmount the VHD and so to speak ‘archive’ it and replace it with a new empty VHD.</span></span> <span data-ttu-id="e740d-653">Si va a tomar esta alternativa, le recomendamos mantener estos VHD en cuentas de almacenamiento de Azure independientes de las de los VHD con los archivos de base de datos.</span><span class="sxs-lookup"><span data-stu-id="e740d-653">If you go down that path, you want to keep these VHDs in separate Azure Storage Accounts from the ones that the VHDs with the database files.</span></span>

<span data-ttu-id="e740d-654">Una segunda posibilidad consiste en usar una máquina virtual de gran tamaño que puede tener muchos VHD asociados.</span><span class="sxs-lookup"><span data-stu-id="e740d-654">A second possibility is to use a large VM that can have many VHDs attached.</span></span> <span data-ttu-id="e740d-655">Por ejemplo,</span><span class="sxs-lookup"><span data-stu-id="e740d-655">E.g.</span></span> <span data-ttu-id="e740d-656">D14 con 32 VHD.</span><span class="sxs-lookup"><span data-stu-id="e740d-656">D14 with 32VHDs.</span></span> <span data-ttu-id="e740d-657">Utilice espacios de almacenamiento para crear un entorno flexible donde puede crear recursos compartidos que se utilicen como destinos de copia de seguridad de los diferentes servidores de DBMS.</span><span class="sxs-lookup"><span data-stu-id="e740d-657">Use Storage Spaces to build a flexible environment where you could build shares that are used then as backup targets for the different DBMS servers.</span></span>

<span data-ttu-id="e740d-658">También puede consultar algunos procedimientos recomendados [aquí](https://blogs.msdn.com/b/sqlcat/archive/2015/02/26/large-sql-server-database-backup-on-an-azure-vm-and-archiving.aspx) .</span><span class="sxs-lookup"><span data-stu-id="e740d-658">Some best practices got documented [here](https://blogs.msdn.com/b/sqlcat/archive/2015/02/26/large-sql-server-database-backup-on-an-azure-vm-and-archiving.aspx) as well.</span></span>

#### <a name="performance-considerations-for-backupsrestores"></a><span data-ttu-id="e740d-659">Consideraciones de rendimiento sobre copias de seguridad y restauraciones</span><span class="sxs-lookup"><span data-stu-id="e740d-659">Performance considerations for backups/restores</span></span>
<span data-ttu-id="e740d-660">Como en las implementaciones sin sistema operativo, el rendimiento de las copias de seguridad y las restauraciones depende de cuántos volúmenes puedan leerse en paralelo y el rendimiento que estos volúmenes puedan tener.</span><span class="sxs-lookup"><span data-stu-id="e740d-660">As in bare-metal deployments, backup/restore performance is dependent on how many volumes can be read in parallel and what the throughput of those volumes might be.</span></span> <span data-ttu-id="e740d-661">Además, el consumo de CPU que se emplea en la compresión de copias de seguridad puede desempeñar un papel importante en las máquinas virtuales con solo 8 subprocesos de CPU como máximo.</span><span class="sxs-lookup"><span data-stu-id="e740d-661">In addition, the CPU consumption used by backup compression may play a significant role on VMs with just up to 8 CPU threads.</span></span> <span data-ttu-id="e740d-662">Por lo tanto, se pueden asumir los siguientes puntos:</span><span class="sxs-lookup"><span data-stu-id="e740d-662">Therefore, one can assume:</span></span>

* <span data-ttu-id="e740d-663">Cuantos menos VHD se utilicen para almacenar los dispositivos de las bases de datos, menor será el rendimiento general de lectura.</span><span class="sxs-lookup"><span data-stu-id="e740d-663">The fewer the number of VHDs used to store the data files, the smaller the overall throughput in reading.</span></span>
* <span data-ttu-id="e740d-664">Cuantos menos subprocesos de CPU haya en la VM, mayor será el impacto de la compresión de copias de seguridad.</span><span class="sxs-lookup"><span data-stu-id="e740d-664">The smaller the number of CPU threads in the VM, the more severe the impact of backup compression.</span></span>
* <span data-ttu-id="e740d-665">Cuantos menos destinos (blobs o VHD) en los que escribir la copia de seguridad haya, menor será el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="e740d-665">The fewer targets (BLOBs or VHDs) to write the backup to, the lesser the throughput.</span></span>
* <span data-ttu-id="e740d-666">Cuanto menos tamaño tenga la máquina virtual, menor será la cuota de rendimiento de almacenamiento para realizar operaciones de escritura y lectura en el almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-666">The smaller the VM size, the smaller the storage throughput quota writing and reading from Azure Storage.</span></span> <span data-ttu-id="e740d-667">Con independencia de si las copias de seguridad se almacenan directamente en Blob de Azure o en VHD que se almacenan de nuevo en Blobs de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-667">Independent of whether the backups are directly stored on Azure Blob or whether they are stored in VHDs that again are stored in Azure Blobs.</span></span>

<span data-ttu-id="e740d-668">Cuando se usa un blob de Microsoft Azure Storage como destino de copia de seguridad en las versiones más recientes, solo podrá designar una dirección URL de destino para cada copia de seguridad específica.</span><span class="sxs-lookup"><span data-stu-id="e740d-668">When using a Microsoft Azure Storage BLOB as the backup target in more recent releases, you are restricted to designating only one URL target for each specific backup.</span></span>

<span data-ttu-id="e740d-669">No obstante, al utilizar la Herramienta de copia de seguridad de Microsoft SQL Server en Microsoft Azure en las versiones anteriores, puede definir más de un destino de archivo.</span><span class="sxs-lookup"><span data-stu-id="e740d-669">But when using the ‘Microsoft SQL Server Backup to Microsoft Azure Tool’ in older releases, you can define more than one file target.</span></span> <span data-ttu-id="e740d-670">Con más de un destino, puede escalar la copia de seguridad y el rendimiento de esta operación será mayor.</span><span class="sxs-lookup"><span data-stu-id="e740d-670">With more than one target, the backup can scale and the throughput of the backup is higher.</span></span> <span data-ttu-id="e740d-671">De esta forma, se realizarían copias de seguridad de varios archivos y de la cuenta de almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-671">This would result then in multiple files as well in the Azure Storage account.</span></span> <span data-ttu-id="e740d-672">En nuestras pruebas, pudimos alcanzar definitivamente el rendimiento deseado con las extensiones de copia de seguridad implementadas en SQL Server 2012 SP1 CU4 mediante el uso de varios destinos de archivos.</span><span class="sxs-lookup"><span data-stu-id="e740d-672">In our testing, using multiple file destinations one can definitely achieve the throughput which one could achieve with the backup extensions implemented in from SQL Server 2012 SP1 CU4 on.</span></span> <span data-ttu-id="e740d-673">Asimismo, no se produce el bloqueo del límite de 1 TB propio de la copia de seguridad nativa en Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-673">You also are not blocked by the 1TB limit as in the native backup into Azure.</span></span>

<span data-ttu-id="e740d-674">Sin embargo, tenga en cuenta que el rendimiento también depende de la ubicación de la cuenta de almacenamiento de Azure que utilice para la copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="e740d-674">However, keep in mind, the throughput also is dependent on the location of the Azure Storage Account you use for the backup.</span></span> <span data-ttu-id="e740d-675">Como recomendación, podría ubicar la cuenta de almacenamiento en una región distinta que donde se ejecutan las máquinas virtuales.</span><span class="sxs-lookup"><span data-stu-id="e740d-675">An idea might be to locate the storage account in a different region than the VMs are running in.</span></span> <span data-ttu-id="e740d-676">Por ejemplo,</span><span class="sxs-lookup"><span data-stu-id="e740d-676">E.g.</span></span> <span data-ttu-id="e740d-677">ejecutaría la configuración de máquina virtual en Europa Occidental, pero colocaría la cuenta de almacenamiento que utiliza para realizar la copia de seguridad en Europa del Norte.</span><span class="sxs-lookup"><span data-stu-id="e740d-677">you would run the VM configuration in West-Europe, but put the Storage Account that you use to back up against in North-Europe.</span></span> <span data-ttu-id="e740d-678">Sin duda, esto afectará al rendimiento de la copia de seguridad y es probable que no se obtenga un rendimiento de 150 MB/s como parece ser posible en aquellos casos donde el almacenamiento de destino y las máquinas virtuales se ejecutan en el mismo centro de datos regional.</span><span class="sxs-lookup"><span data-stu-id="e740d-678">That certainly will have impact on the backup throughput and is not likely to generate a throughput of 150MB/sec as it seems to be possible in cases where the target storage and the VMs are running in the same regional datacenter.</span></span>

#### <a name="managing-backup-blobs"></a><span data-ttu-id="e740d-679">Gestión de blobs de copia de seguridad</span><span class="sxs-lookup"><span data-stu-id="e740d-679">Managing Backup BLOBs</span></span>
<span data-ttu-id="e740d-680">Para administrar las copias de seguridad por su cuenta, tendrá que cumplir un requisito.</span><span class="sxs-lookup"><span data-stu-id="e740d-680">There is a requirement to manage the backups on your own.</span></span> <span data-ttu-id="e740d-681">Puesto que se espera que van a crearse muchos blobs mediante la ejecución de copias de seguridad del registro de transacciones, la administración de esos blobs puede sobrecargar fácilmente el Portal de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-681">Since the expectation is that many blobs will be created by executing frequent transaction log backups, administration of those blobs easily can overburden the Azure Portal.</span></span> <span data-ttu-id="e740d-682">Por lo tanto, se recomienda utilizar un explorador de almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-682">Therefore, it is recommendable to leverage a Azure Storage Explorer.</span></span> <span data-ttu-id="e740d-683">Hay disponibles algunos muy buenos que pueden contribuir a administrar una cuenta de almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-683">There are several good ones available which can help to manage an Azure storage account</span></span>

* <span data-ttu-id="e740d-684">Microsoft Visual Studio con Azure SDK instalado (<https://azure.microsoft.com/downloads/>)</span><span class="sxs-lookup"><span data-stu-id="e740d-684">Microsoft Visual Studio with Azure SDK installed (<https://azure.microsoft.com/downloads/>)</span></span>
* <span data-ttu-id="e740d-685">Explorador de Microsoft Azure Storage (<https://azure.microsoft.com/downloads/>)</span><span class="sxs-lookup"><span data-stu-id="e740d-685">Microsoft Azure Storage Explorer (<https://azure.microsoft.com/downloads/>)</span></span>
* <span data-ttu-id="e740d-686">Herramientas de terceros</span><span class="sxs-lookup"><span data-stu-id="e740d-686">3rd party tools</span></span>

<span data-ttu-id="e740d-687">[comment]: <> (Todavía no se admite en ARM)</span><span class="sxs-lookup"><span data-stu-id="e740d-687">[comment]: <> (Not yet supported on ARM)</span></span>
<span data-ttu-id="e740d-688">[comment]: <> (#### Azure VM backup)</span><span class="sxs-lookup"><span data-stu-id="e740d-688">[comment]: <> (#### Azure VM backup)</span></span>
<span data-ttu-id="e740d-689">[comment]: <> (Se puede efectuar una copa de seguridad de las máquinas virtuales dentro del sistema SAP mediante la funcionalidad de copia de seguridad de máquinas virtuales de Azure. La funcionalidad de copia de seguridad de máquina virtual de Azure se introdujo a principios de 2015; se trata de un método estándar para realizar copias de seguridad de una máquina virtual completa en Azure. Azure Backup almacena las copias de seguridad en Azure y permite volver a restaurarlas.)</span><span class="sxs-lookup"><span data-stu-id="e740d-689">[comment]: <> (VMs within the SAP system can be backed up using Azure Virtual Machine Backup functionality. Azure Virtual Machine Backup got introduced early in the year 2015 and meanwhile is a standard method to backup a complete VM in Azure. Azure Backup stores the backups in Azure and allows a restore of a VM again.)</span></span>
<span data-ttu-id="e740d-690">[comment]: <> (También se pueden realizar copias de seguridad de las máquinas virtuales que ejecutan bases de datos de forma coherente si los sistemas de DBMS admiten el Servicio de instantáneas de volumen de Windows VSS <https://msdn.microsoft.com/library/windows/desktop/bb968832.aspx> como, por ejemplo, hace SQL Server. Por tanto, usar la funcionalidad de copia de seguridad de máquina virtual de Azure podría ser una forma de obtener una copia de seguridad de una base de datos de SAP que puede restaurarse. Sin embargo, tenga en cuenta que no se pueden realizar restauraciones de bases de datos a un momento dado con esta funcionalidad. Por lo tanto, se recomienda realizar copias de seguridad de las bases de datos con la funcionalidad del DBMS en lugar de confiar en la copia de seguridad de máquinas virtuales de Azure.)</span><span class="sxs-lookup"><span data-stu-id="e740d-690">[comment]: <> (VMs that run databases can be backed up in a consistent manner as well if the DBMS systems supports the Windows VSS Volume Shadow Copy Service <https://msdn.microsoft.com/library/windows/desktop/bb968832.aspx> as SQL Server does. So using Azure VM backup could be a way to get to a restorable backup of a SAP database. However, be aware that based on Azure VM backups point-in-time restores of databases is not possible. Therefore, the recommendation is to perform backups of databases with DBMS functionality instead of relying on Azure VM Backup.)</span></span>
<span data-ttu-id="e740d-691">[comment]: <> (Para familiarizarse con la copia de seguridad de la máquina virtual de Azure, comience aquí: <https://azure.microsoft.com/documentation/services/backup/>)</span><span class="sxs-lookup"><span data-stu-id="e740d-691">[comment]: <> (To get familiar with Azure Virtual Machine Backup please start here <https://azure.microsoft.com/documentation/services/backup/>)</span></span>

### <span data-ttu-id="e740d-692"><a name="1b353e38-21b3-4310-aeb6-a77e7c8e81c8"></a>Uso de imágenes de SQL Server fuera de Microsoft Azure Marketplace</span><span class="sxs-lookup"><span data-stu-id="e740d-692"><a name="1b353e38-21b3-4310-aeb6-a77e7c8e81c8"></a>Using a SQL Server images out of the Microsoft Azure Marketplace</span></span>
<span data-ttu-id="e740d-693">Microsoft ofrece en Azure Marketplace máquinas virtuales que ya contienen versiones de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="e740d-693">Microsoft offers VMs in the Azure Marketplace which already contain versions of SQL Server.</span></span> <span data-ttu-id="e740d-694">Para los clientes de SAP que requieran licencias de SQL Server y Windows, podría tratarse de una oportunidad para cubrir la necesidad de licencias activando las máquinas virtuales con SQL Server ya está instalado.</span><span class="sxs-lookup"><span data-stu-id="e740d-694">For SAP customers who require licenses for SQL Server and Windows, this might be an opportunity to basically cover the need for licenses by spinning up VMs with SQL Server already installed.</span></span> <span data-ttu-id="e740d-695">Para poder utilizar dichas imágenes para SAP, deben tenerse en cuenta las siguientes consideraciones:</span><span class="sxs-lookup"><span data-stu-id="e740d-695">In order to use such images for SAP, the following considerations need to be made:</span></span>

* <span data-ttu-id="e740d-696">Las versiones de SQL Server que no son evaluación incurren en costes más elevados que simplemente una máquina virtual exclusivamente con Windows implementada desde Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="e740d-696">The SQL Server non-Evaluation versions acquire higher costs than just a ‘Windows-only’ VM deployed from Azure Marketplace.</span></span> <span data-ttu-id="e740d-697">Consulte los siguientes artículos para comparar los precios: <https://azure.microsoft.com/pricing/details/virtual-machines/> y <https://azure.microsoft.com/pricing/details/virtual-machines/#Sql>.</span><span class="sxs-lookup"><span data-stu-id="e740d-697">Please see these articles to compare prices: <https://azure.microsoft.com/pricing/details/virtual-machines/> and <https://azure.microsoft.com/pricing/details/virtual-machines/#Sql>.</span></span>
* <span data-ttu-id="e740d-698">Solo se pueden usar las versiones de SQL Server compatibles con SAP, como SQL Server 2012.</span><span class="sxs-lookup"><span data-stu-id="e740d-698">You only can use SQL Server releases which are supported by SAP, like SQL Server 2012.</span></span>
* <span data-ttu-id="e740d-699">La intercalación de la instancia de SQL Server que está instalada en las máquinas virtuales que se ofrecen en Azure Marketplace no es la que requiere SAP NetWeaver para ejecutar la instancia de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="e740d-699">The collation of the SQL Server instance which is installed in the VMs offered in the Azure Marketplace is not the collation SAP NetWeaver requires the SQL Server instance to run.</span></span> <span data-ttu-id="e740d-700">Puede cambiar la intercalación, aunque debe seguir las instrucciones de la sección que encontrará a continuación.</span><span class="sxs-lookup"><span data-stu-id="e740d-700">You can change the collation though with the directions in the following section.</span></span>

#### <a name="changing-the-sql-server-collation-of-a-microsoft-windowssql-server-vm"></a><span data-ttu-id="e740d-701">Modificación de la intercalación de SQL Server de una máquina virtual de Windows o SQL Server</span><span class="sxs-lookup"><span data-stu-id="e740d-701">Changing the SQL Server Collation of a Microsoft Windows/SQL Server VM</span></span>
<span data-ttu-id="e740d-702">Puesto que las imágenes de SQL Server en Azure Marketplace no están configuradas para usar la intercalación necesaria para las aplicaciones de SAP NetWeaver, debe modificarse inmediatamente después de llevar a cabo la implementación.</span><span class="sxs-lookup"><span data-stu-id="e740d-702">Since the SQL Server images in the Azure Marketplace are not set up to use the collation which is required by SAP NetWeaver applications, it needs to be changed immediately after the deployment.</span></span> <span data-ttu-id="e740d-703">Para SQL Server 2012, este procedimiento puede realizarse siguiendo estos pasos en cuanto se haya implementado la máquina virtual y un administrador puede iniciar sesión en la máquina virtual implementada:</span><span class="sxs-lookup"><span data-stu-id="e740d-703">For SQL Server 2012, this can be done with the following steps as soon as the VM has been deployed and an administrator is able to log into the deployed VM:</span></span>

* <span data-ttu-id="e740d-704">Abra una ventana de comandos de Windows como administrador.</span><span class="sxs-lookup"><span data-stu-id="e740d-704">Open a Windows Command Window ‘as administrator’.</span></span>
* <span data-ttu-id="e740d-705">Cambie el directorio a C:\Archivos de programa\Microsoft SQL Server\110\Setup Bootstrap\SQLServer2012.</span><span class="sxs-lookup"><span data-stu-id="e740d-705">Change the directory to C:\Program Files\Microsoft SQL Server\110\Setup Bootstrap\SQLServer2012.</span></span>
* <span data-ttu-id="e740d-706">Ejecute el comando: Setup.exe /QUIET /ACTION=REBUILDDATABASE /INSTANCENAME=MSSQLSERVER /SQLSYSADMINACCOUNTS=`<local_admin_account_name`> /SQLCOLLATION=SQL_Latin1_General_Cp850_BIN2.</span><span class="sxs-lookup"><span data-stu-id="e740d-706">Execute the command: Setup.exe /QUIET /ACTION=REBUILDDATABASE /INSTANCENAME=MSSQLSERVER /SQLSYSADMINACCOUNTS=`<local_admin_account_name`> /SQLCOLLATION=SQL_Latin1_General_Cp850_BIN2</span></span>   
  * <span data-ttu-id="e740d-707">`<local_admin_account_name`> es la cuenta que se definió como cuenta de administrador al implementar la máquina virtual por primera vez por medio de la galería.</span><span class="sxs-lookup"><span data-stu-id="e740d-707">`<local_admin_account_name`> is the account which was defined as the administrator account when deploying the VM for the first time through the gallery.</span></span>

<span data-ttu-id="e740d-708">Este proceso solo debe llevar unos minutos.</span><span class="sxs-lookup"><span data-stu-id="e740d-708">The process should only take a few minutes.</span></span> <span data-ttu-id="e740d-709">Para asegurarse de que obtiene el resultado correcto, realice los pasos siguientes:</span><span class="sxs-lookup"><span data-stu-id="e740d-709">In order to make sure whether the step ended up with the correct result, please perform the following steps:</span></span>

* <span data-ttu-id="e740d-710">Abra SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="e740d-710">Open SQL Server Management Studio.</span></span>
* <span data-ttu-id="e740d-711">Abra una ventana de consulta.</span><span class="sxs-lookup"><span data-stu-id="e740d-711">Open a Query Window.</span></span>
* <span data-ttu-id="e740d-712">Ejecute el comando sp_helpsort en la base de datos maestra de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="e740d-712">Execute the command sp_helpsort in the SQL Server master database.</span></span>

<span data-ttu-id="e740d-713">El resultado deberá ser similar al que se muestra a continuación:</span><span class="sxs-lookup"><span data-stu-id="e740d-713">The desired result should look like:</span></span>

    Latin1-General, binary code point comparison sort for Unicode Data, SQL Server Sort Order 40 on Code Page 850 for non-Unicode Data

<span data-ttu-id="e740d-714">Si no obtiene lo mismo, DETENGA la implementación de SAP e investigue por qué el comando de instalación no funcionó como se esperaba.</span><span class="sxs-lookup"><span data-stu-id="e740d-714">If this is not the result, STOP deploying SAP and investigate why the setup command did not work as expected.</span></span> <span data-ttu-id="e740d-715">**NO** se admite la implementación de aplicaciones de SAP NetWeaver en la instancia de SQL Server con páginas de códigos de SQL Server distintas de la mencionada antes.</span><span class="sxs-lookup"><span data-stu-id="e740d-715">Deployment of SAP NetWeaver applications onto SQL Server instance with different SQL Server codepages than the one mentioned above is **NOT** supported.</span></span>

### <a name="sql-server-high-availability-for-sap-in-azure"></a><span data-ttu-id="e740d-716">Alta disponibilidad de SQL Server para SAP en Azure</span><span class="sxs-lookup"><span data-stu-id="e740d-716">SQL Server High-Availability for SAP in Azure</span></span>
<span data-ttu-id="e740d-717">Tal y como se mencionó anteriormente en este documento, no hay ninguna posibilidad de crear un almacenamiento compartido que sea necesario para utilizar la funcionalidad de alta disponibilidad de SQL Server más antigua.</span><span class="sxs-lookup"><span data-stu-id="e740d-717">As mentioned earlier in this paper, there is no possibility to create shared storage which is necessary for the usage of the oldest SQL Server high availability functionality.</span></span> <span data-ttu-id="e740d-718">Esta funcionalidad instala 2 o más instancias de SQL Server en un clúster de conmutación por error de Windows Server (WSFC) utilizando un disco compartido para las bases de datos de usuario (y, al final, tempdb).</span><span class="sxs-lookup"><span data-stu-id="e740d-718">This functionality would install two or more SQL Server instances in a Windows Server Failover Cluster (WSFC) using a shared disk for the user databases (and eventually tempdb).</span></span> <span data-ttu-id="e740d-719">Se trata del método estándar de alta disponibilidad que también es compatible con SAP.</span><span class="sxs-lookup"><span data-stu-id="e740d-719">This is the long time standard high availability method which also is supported by SAP.</span></span> <span data-ttu-id="e740d-720">Dado que Azure no admite el almacenamiento compartido, no se pueden realizar configuraciones de alta disponibilidad de SQL Server con una configuración de clúster de disco compartido.</span><span class="sxs-lookup"><span data-stu-id="e740d-720">Because Azure doesn’t support shared storage, SQL Server high availability configurations with a shared disk cluster configuration cannot be realized.</span></span> <span data-ttu-id="e740d-721">Sin embargo, podemos seguir utilizando muchos otros métodos de alta disponibilidad, que se describen en las secciones siguientes.</span><span class="sxs-lookup"><span data-stu-id="e740d-721">However, many other high availability methods are still possible and are described in the following sections.</span></span>

<span data-ttu-id="e740d-722">[comment]: <> (El artículo sigue refiriéndose a ASM)</span><span class="sxs-lookup"><span data-stu-id="e740d-722">[comment]: <> (Article is still refering to ASM)</span></span>
<span data-ttu-id="e740d-723">[comment]: <> (Antes de leer las distintas tecnologías específicas de alta disponibilidad que se pueden usar con SQL Server en Azure, hay un documento muy bueno que proporciona más información y punteros [aquí][virtual-machines-sql-server-high-availability-and-disaster-recovery-solutions])</span><span class="sxs-lookup"><span data-stu-id="e740d-723">[comment]: <> (Before reading the different specific high availability technologies usable for SQL Server in Azure, there is a very good document which gives more details and pointers [here][virtual-machines-sql-server-high-availability-and-disaster-recovery-solutions])</span></span>

#### <a name="sql-server-log-shipping"></a><span data-ttu-id="e740d-724">Trasvase de registros de SQL Server</span><span class="sxs-lookup"><span data-stu-id="e740d-724">SQL Server Log Shipping</span></span>
<span data-ttu-id="e740d-725">Uno de los métodos de alta disponibilidad (HA) consiste en trasvasar los registros de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="e740d-725">One of the methods of high availability (HA) is SQL Server Log Shipping.</span></span> <span data-ttu-id="e740d-726">Si las máquinas virtuales que participan en la configuración de alta disponibilidad tienen una resolución de nombres correcta, no habrá ningún problema y la configuración de Azure no será diferente a cualquier otra realizada de forma local.</span><span class="sxs-lookup"><span data-stu-id="e740d-726">If the VMs participating in the HA configuration have working name resolution, there is no problem and the setup in Azure will not differ from any setup that is done on-premises.</span></span> <span data-ttu-id="e740d-727">No se recomienda depender exclusivamente de la resolución de direcciones IP.</span><span class="sxs-lookup"><span data-stu-id="e740d-727">It is not recommended to rely on IP resolution only.</span></span> <span data-ttu-id="e740d-728">En lo que respecta a la configuración de trasvase de registros y sus principios, consulte esta documentación:</span><span class="sxs-lookup"><span data-stu-id="e740d-728">In regards to setting up Log Shipping and the principles around Log Shipping please check this documentation:</span></span>

<span data-ttu-id="e740d-729"><https://technet.microsoft.com/library/ms187103.aspx></span><span class="sxs-lookup"><span data-stu-id="e740d-729"><https://technet.microsoft.com/library/ms187103.aspx></span></span>

<span data-ttu-id="e740d-730">Para poder lograr realmente la alta disponibilidad, hay que implementar las máquinas virtuales que estén en una configuración de trasvase de registros que, a su vez, se encuentre en el mismo conjunto de disponibilidad de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-730">In order to really achieve any high availability, one needs to deploy the VMs which are within such a Log Shipping configuration to be within the same Azure Availability Set.</span></span>

#### <a name="database-mirroring"></a><span data-ttu-id="e740d-731">Creación de reflejo de la base de datos</span><span class="sxs-lookup"><span data-stu-id="e740d-731">Database Mirroring</span></span>
<span data-ttu-id="e740d-732">La funcionalidad de creación de reflejo de la base de datos, que es compatible con SAP (consulte la nota de SAP [965908]), se basa en la definición de un asociado de conmutación por error en la cadena de conexión de SAP.</span><span class="sxs-lookup"><span data-stu-id="e740d-732">Database Mirroring as supported by SAP (see SAP Note [965908]) relies on defining a failover partner in the SAP connection string.</span></span> <span data-ttu-id="e740d-733">Para los casos entre locales, asumimos que las 2 máquinas virtuales están en el mismo dominio y que las 2 instancias de SQL Server que se están ejecutando en el contexto de usuario son también los usuarios de dominio, así como que tendrán los privilegios suficientes en las 2 instancias de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="e740d-733">For the Cross-Premises cases, we assume that the two VMs are in the same domain and that the user context the two SQL Server instances are running under are domain users as well and have sufficient privileges in the two SQL Server instances involved.</span></span> <span data-ttu-id="e740d-734">Por lo tanto, el proceso configuración de la creación de reflejo de la base de datos de Azure es el mismo en una configuración o instalación local típica.</span><span class="sxs-lookup"><span data-stu-id="e740d-734">Therefore, the setup of Database Mirroring in Azure does not differ between a typical on-premises setup/configuration.</span></span>

<span data-ttu-id="e740d-735">Al igual que con las implementaciones exclusivas en la nube, el método más fácil es tener otra configuración de dominio en Azure con el fin de albergar esas máquinas virtuales de DBMS (e, idealmente, las máquinas virtuales de SAP específicas) dentro de un dominio.</span><span class="sxs-lookup"><span data-stu-id="e740d-735">As of Cloud-Only deployments, the easiest method is to have another domain setup in Azure to have those DBMS VMs (and ideally dedicated SAP VMs) within one domain.</span></span>

<span data-ttu-id="e740d-736">Si un dominio no es posible, también se pueden usar certificados para los puntos de conexión de reflejo de la base de datos, como se describe aquí: <https://technet.microsoft.com/library/ms191477.aspx>.</span><span class="sxs-lookup"><span data-stu-id="e740d-736">If a domain is not possible, one can also use certificates for the database mirroring endpoints as described here: <https://technet.microsoft.com/library/ms191477.aspx></span></span>

<span data-ttu-id="e740d-737">Se puede encontrar un tutorial para la configuración del reflejo de base de datos en Azure aquí: <https://technet.microsoft.com/library/ms189852.aspx>.</span><span class="sxs-lookup"><span data-stu-id="e740d-737">A tutorial to set-up Database Mirroring in Azure can be found here: <https://technet.microsoft.com/library/ms189852.aspx></span></span>

#### <a name="alwayson"></a><span data-ttu-id="e740d-738">AlwaysOn</span><span class="sxs-lookup"><span data-stu-id="e740d-738">AlwaysOn</span></span>
<span data-ttu-id="e740d-739">Como AlwaysOn es compatible con un entorno de SAP local (consulte la nota de SAP [1772688]), se puede usar en combinación con SAP en Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-739">As AlwaysOn is supported for SAP on-premises (see SAP Note [1772688]), it is supported to be used in combination with SAP in Azure.</span></span> <span data-ttu-id="e740d-740">El hecho de que no pueda crear discos compartidos en Azure no significa que no se pueda crear una configuración AlwaysOn de clúster de conmutación por error de Windows Server (WSFC) entre diferentes máquinas virtuales.</span><span class="sxs-lookup"><span data-stu-id="e740d-740">The fact that you are not able to create shared disks in Azure doesn’t mean that one can’t create an AlwaysOn Windows Server Failover Cluster (WSFC) configuration between different VMs.</span></span> <span data-ttu-id="e740d-741">Tan solo significa que no tiene la posibilidad de usar un disco compartido como un cuórum en la configuración del clúster.</span><span class="sxs-lookup"><span data-stu-id="e740d-741">It only means that you do not have the possibility to use a shared disk as a quorum in the cluster configuration.</span></span> <span data-ttu-id="e740d-742">Por lo tanto, puede crear una configuración AlwaysOn de WSFC en Azure y simplemente no seleccionar el tipo de cuórum que utiliza el disco compartido.</span><span class="sxs-lookup"><span data-stu-id="e740d-742">Hence you can build an AlwaysOn WSFC configuration in Azure and simply not select the quorum type that utilizes shared disk.</span></span> <span data-ttu-id="e740d-743">El entorno de Azure en el que se han implementado esas máquinas virtuales debe resolver las máquinas virtuales por nombre y estas deben encontrarse en el mismo dominio.</span><span class="sxs-lookup"><span data-stu-id="e740d-743">The Azure environment those VMs are deployed in should resolve the VMs by name and the VMs should be in the same domain.</span></span> <span data-ttu-id="e740d-744">Lo mismo ocurre con las implementaciones entre locales y exclusivas de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-744">This is true for Azure only and Cross-Premises deployments.</span></span> <span data-ttu-id="e740d-745">Hay algunas consideraciones especiales respecto a implementar el agente de escucha de grupo de disponibilidad de SQL Server (no debe confundirse con el conjunto de disponibilidad de Azure), ya que Azure en este momento no puede crear un objeto AD y DNS como en las implementaciones locales.</span><span class="sxs-lookup"><span data-stu-id="e740d-745">There are some special considerations around deploying the SQL Server Availability Group Listener (not to be confused with the Azure Availability Set) since Azure at this point in time does not allow to simply create an AD/DNS object as it is possible on-premises.</span></span> <span data-ttu-id="e740d-746">Por lo tanto, hay que realizar otros pasos de instalación para solucionar el comportamiento específico de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-746">Therefore, some different installation steps are necessary to overcome the specific behavior of Azure.</span></span>

<span data-ttu-id="e740d-747">Estas son algunas de las consideraciones que hay que tener en cuenta al usar un agente de escucha de grupo de disponibilidad:</span><span class="sxs-lookup"><span data-stu-id="e740d-747">Some considerations using an Availability Group Listener are:</span></span>

* <span data-ttu-id="e740d-748">Solo se puede usar un agente de escucha del grupo de disponibilidad con Windows Server 2012 o Windows Server 2012 R2 como SO invitado de la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="e740d-748">Using an Availability Group Listener is only possible with Windows Server 2012 or Windows Server 2012 R2 as guest OS of the VM.</span></span> <span data-ttu-id="e740d-749">Para Windows Server 2012 debe asegurarse de que se aplica esta revisión: <https://support.microsoft.com/kb/2854082>.</span><span class="sxs-lookup"><span data-stu-id="e740d-749">For Windows Server 2012 you need to make sure that this patch is applied: <https://support.microsoft.com/kb/2854082></span></span>
* <span data-ttu-id="e740d-750">Esta revisión no está disponible para Windows Server 2008 R2 y AlwaysOn tendría que usarse de la misma manera que la funcionalidad de creación de reflejo de base de datos especificando un asociado de conmutación por error en la cadena de conexiones (se realiza mediante el parámetro de SAP default.pfl dbs/mss/server; consulte la nota de SAP [965908]).</span><span class="sxs-lookup"><span data-stu-id="e740d-750">For Windows Server 2008 R2 this patch does not exist and AlwaysOn would need to be used in the same manner as Database Mirroring by specifying a failover partner in the connections string (done through the SAP default.pfl parameter dbs/mss/server – see SAP Note [965908]).</span></span>
* <span data-ttu-id="e740d-751">Cuando se utiliza un agente de escucha de grupo de disponibilidad, las máquinas virtuales de la base de datos tienen que estar conectadas a un equilibrador de carga específico.</span><span class="sxs-lookup"><span data-stu-id="e740d-751">When using an Availability Group Listener, the Database VMs need to be connected to a dedicated Load Balancer.</span></span> <span data-ttu-id="e740d-752">La funcionalidad de resolución de nombres de las implementaciones exclusivas en la nube precisaría que todas las máquinas virtuales de un sistema SAP (servidores de aplicaciones, el servidor de DBMS y el servidor ASCS) se encuentren en la misma red virtual, o bien que se realizara un mantenimiento del archivo etc\host en una capa de aplicación de SAP para obtener resueltos los nombres de las máquinas virtuales de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="e740d-752">Name resolution in Cloud-Only deployments would either require all VMs of an SAP system (application servers, DBMS server and (A)SCS server) are in the same virtual network or would require from an SAP application layer the maintenance of the etc\host file in order to get the VM names of the SQL Server VMs resolved.</span></span> <span data-ttu-id="e740d-753">Para evitar que Azure asigne nuevas direcciones IP en casos donde ambas máquinas virtuales se apaguen accidentalmente, se deben asignar direcciones IP estáticas a las interfaces de red de esas máquinas virtuales en la configuración AlwaysOn (el proceso definición de una dirección IP estática se describe en [este][virtual-networks-reserved-private-ip] artículo).</span><span class="sxs-lookup"><span data-stu-id="e740d-753">In order to avoid that Azure is assigning new IP addresses in cases where both VMs incidentally are shutdown, one should assign static IP addresses to the network interfaces of those VMs in the AlwaysOn configuration (defining a static IP address is described in [this][virtual-networks-reserved-private-ip] article)</span></span>

<span data-ttu-id="e740d-754">[comment]: <> (Blogs anteriores)</span><span class="sxs-lookup"><span data-stu-id="e740d-754">[comment]: <> (Old blogs)</span></span>
<span data-ttu-id="e740d-755">[comment]: <> (<https://blogs.msdn.com/b/alwaysonpro/archive/2014/08/29/recommendations-and-best-practices-when-deploying-sql-server-alwayson-availability-groups-in-windows-azure-iaas.aspx>, <https://blogs.technet.com/b/rmilne/archive/2015/07/27/how-to-set-static-ip-on-azure-vm.aspx>)</span><span class="sxs-lookup"><span data-stu-id="e740d-755">[comment]: <> (<https://blogs.msdn.com/b/alwaysonpro/archive/2014/08/29/recommendations-and-best-practices-when-deploying-sql-server-alwayson-availability-groups-in-windows-azure-iaas.aspx>, <https://blogs.technet.com/b/rmilne/archive/2015/07/27/how-to-set-static-ip-on-azure-vm.aspx>)</span></span>
* <span data-ttu-id="e740d-756">Hay que realizar algunos pasos especiales al crear la configuración del clúster WSFC: el clúster necesita una dirección IP especial, ya la funcionalidad actual de Azure asignaría el nombre del clúster a la misma dirección IP que el nodo donde se ha creado dicho clúster.</span><span class="sxs-lookup"><span data-stu-id="e740d-756">There are special steps required when building the WSFC cluster configuration where the cluster needs a special IP address assigned, because Azure with its current functionality would assign the cluster name the same IP address as the node the cluster is created on.</span></span> <span data-ttu-id="e740d-757">Es decir, se debe realizar un paso manual para asignar una dirección IP diferente a la del clúster.</span><span class="sxs-lookup"><span data-stu-id="e740d-757">This means a manual step must be performed to assign a different IP address to the cluster.</span></span>
* <span data-ttu-id="e740d-758">El agente de escucha de grupo de disponibilidad se va a crear en Azure con los puntos de conexión TCP/IP asignados a las máquinas virtuales que ejecutan las réplicas principales y secundarias del grupo de disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="e740d-758">The Availability Group Listener is going to be created in Azure with TCP/IP endpoints which are assigned to the VMs running the primary and secondary replicas of the Availability group.</span></span>
* <span data-ttu-id="e740d-759">Puede que haya que proteger estos puntos de conexión con ACL.</span><span class="sxs-lookup"><span data-stu-id="e740d-759">There might be a need to secure these endpoints with ACLs.</span></span>

<span data-ttu-id="e740d-760">[comment]: <> (Blog antiguo PENDIENTE)</span><span class="sxs-lookup"><span data-stu-id="e740d-760">[comment]: <> (TODO old blog)</span></span>
<span data-ttu-id="e740d-761">[comment]: <> (Los pasos detallados y las necesidades de instalar una configuración AlwaysOn en Azure se realizan de mejor manera cuando se sigue el tutorial disponible [aquí][virtual-machines-windows-classic-ps-sql-alwayson-availability-groups])</span><span class="sxs-lookup"><span data-stu-id="e740d-761">[comment]: <> (The detailed steps and necessities of installing an AlwaysOn configuration on Azure are best experienced when walking through the tutorial available [here][virtual-machines-windows-classic-ps-sql-alwayson-availability-groups])</span></span>
<span data-ttu-id="e740d-762">[comment]: <> (La configuración AlwaysOn preconfigurada a través de la galería de Azure <https://blogs.technet.com/b/dataplatforminsider/archive/2014/08/25/sql-server-alwayson-offering-in-microsoft-azure-portal-gallery.aspx>)</span><span class="sxs-lookup"><span data-stu-id="e740d-762">[comment]: <> (Preconfigured AlwaysOn setup via the Azure gallery <https://blogs.technet.com/b/dataplatforminsider/archive/2014/08/25/sql-server-alwayson-offering-in-microsoft-azure-portal-gallery.aspx>)</span></span>
<span data-ttu-id="e740d-763">[comment]: <> (La creación de un agente de escucha del grupo de disponibilidad se describe mejor en [este][virtual-machines-windows-classic-ps-sql-int-listener] tutorial)</span><span class="sxs-lookup"><span data-stu-id="e740d-763">[comment]: <> (Creating an Availability Group Listener is best described in [this][virtual-machines-windows-classic-ps-sql-int-listener] tutorial)</span></span>
<span data-ttu-id="e740d-764">[comment]: <> (Los puntos de conexión de red de protección con ACL se explican mejor aquí:)</span><span class="sxs-lookup"><span data-stu-id="e740d-764">[comment]: <> (Securing network endpoints with ACLs are explained best here:)</span></span>
<span data-ttu-id="e740d-765">[comment]: <> (*    <https://michaelwasham.com/windows-azure-powershell-reference-guide/network-access-control-list-capability-in-windows-azure-powershell/>)</span><span class="sxs-lookup"><span data-stu-id="e740d-765">[comment]: <> (*    <https://michaelwasham.com/windows-azure-powershell-reference-guide/network-access-control-list-capability-in-windows-azure-powershell/>)</span></span>
<span data-ttu-id="e740d-766">[comment]: <> (*    <https://blogs.technet.com/b/heyscriptingguy/archive/2013/08/31/weekend-scripter-creating-acls-for-windows-azure-endpoints-part-1-of-2.aspx> )</span><span class="sxs-lookup"><span data-stu-id="e740d-766">[comment]: <> (*    <https://blogs.technet.com/b/heyscriptingguy/archive/2013/08/31/weekend-scripter-creating-acls-for-windows-azure-endpoints-part-1-of-2.aspx> )</span></span>
<span data-ttu-id="e740d-767">[comment]: <> (*    <https://blogs.technet.com/b/heyscriptingguy/archive/2013/09/01/weekend-scripter-creating-acls-for-windows-azure-endpoints-part-2-of-2.aspx>)  </span><span class="sxs-lookup"><span data-stu-id="e740d-767">[comment]: <> (*    <https://blogs.technet.com/b/heyscriptingguy/archive/2013/09/01/weekend-scripter-creating-acls-for-windows-azure-endpoints-part-2-of-2.aspx>)  </span></span>
<span data-ttu-id="e740d-768">[comment]: <> (*    <https://blogs.technet.com/b/heyscriptingguy/archive/2013/09/18/creating-acls-for-windows-azure-endpoints.aspx>)</span><span class="sxs-lookup"><span data-stu-id="e740d-768">[comment]: <> (*    <https://blogs.technet.com/b/heyscriptingguy/archive/2013/09/18/creating-acls-for-windows-azure-endpoints.aspx>)</span></span>

<span data-ttu-id="e740d-769">Es posible implementar un grupo de disponibilidad AlwaysOn de SQL Server en distintas regiones de Azure también.</span><span class="sxs-lookup"><span data-stu-id="e740d-769">It is possible to deploy a SQL Server AlwaysOn Availability Group over different Azure Regions as well.</span></span> <span data-ttu-id="e740d-770">Esta funcionalidad aprovechará la conectividad de red virtual a red virtual de Azure ([más información][virtual-networks-configure-vnet-to-vnet-connection]).</span><span class="sxs-lookup"><span data-stu-id="e740d-770">This functionality will leverage the Azure VNet-to-Vnet connectivity ([more details][virtual-networks-configure-vnet-to-vnet-connection]).</span></span>

<span data-ttu-id="e740d-771">[comment]: <> (Blog antiguo PENDIENTE)</span><span class="sxs-lookup"><span data-stu-id="e740d-771">[comment]: <> (TODO old blog)</span></span>
<span data-ttu-id="e740d-772">[comment]: <> (La configuración de los grupos de disponibilidad AlwaysOn de SQL Server en tal escenario se describe aquí: <https://blogs.technet.com/b/dataplatforminsider/archive/2014/06/19/sql-server-alwayson-availability-groups-supported-between-microsoft-azure-regions.aspx>.)</span><span class="sxs-lookup"><span data-stu-id="e740d-772">[comment]: <> (The setup of SQL Server AlwaysOn Availability Groups in such a scenario is described here: <https://blogs.technet.com/b/dataplatforminsider/archive/2014/06/19/sql-server-alwayson-availability-groups-supported-between-microsoft-azure-regions.aspx>.)</span></span>

#### <a name="summary-on-sql-server-high-availability-in-azure"></a><span data-ttu-id="e740d-773">Resumen de alta disponibilidad de SQL Server en Azure</span><span class="sxs-lookup"><span data-stu-id="e740d-773">Summary on SQL Server High Availability in Azure</span></span>
<span data-ttu-id="e740d-774">Como el Azure Storage está protegiendo el contenido, hay una razón menos para insistir en el uso de una imagen de espera activa.</span><span class="sxs-lookup"><span data-stu-id="e740d-774">Given the fact that Azure Storage is protecting the content, there is one less reason to insist on a hot-standby image.</span></span> <span data-ttu-id="e740d-775">Es decir, el escenario de alta disponibilidad solo tiene que protegerse contra los siguientes casos:</span><span class="sxs-lookup"><span data-stu-id="e740d-775">This means your High Availability scenario needs to only protect against the following cases:</span></span>

* <span data-ttu-id="e740d-776">La no disponibilidad de la máquina virtual como un conjunto debido a tareas de mantenimiento en el clúster del servidor de Azure u otros motivos</span><span class="sxs-lookup"><span data-stu-id="e740d-776">Unavailability of the VM as a whole due to maintenance on the server cluster in Azure or other reasons</span></span>
* <span data-ttu-id="e740d-777">Problemas de software en la instancia de SQL Server</span><span class="sxs-lookup"><span data-stu-id="e740d-777">Software issues in the SQL Server instance</span></span>
* <span data-ttu-id="e740d-778">Protección contra el error manual donde se eliminan los datos y se necesita realizar una recuperación a un momento dado</span><span class="sxs-lookup"><span data-stu-id="e740d-778">Protecting from manual error where data gets deleted and point-in-time recovery is needed</span></span>

<span data-ttu-id="e740d-779">Al analizar las tecnologías que se ajustan a los requisitos, se puede argumentar que los dos primeros casos se pueden cubrir mediante la funcionalidad de creación de reflejo de base de datos o AlwaysOn, mientras que el tercer caso solo se puede abordar con el trasvase de registros.</span><span class="sxs-lookup"><span data-stu-id="e740d-779">Looking at matching technologies one can argue that the first two cases can be covered by Database Mirroring or AlwaysOn, whereas the third case only can be covered by Log-Shipping.</span></span>

<span data-ttu-id="e740d-780">Tendrá que equilibrar la configuración más compleja de AlwaysOn, en comparación con la creación de reflejo de base de datos, con las ventajas de AlwaysOn.</span><span class="sxs-lookup"><span data-stu-id="e740d-780">You will need to balance the more complex setup of AlwaysOn, compared to Database Mirroring, with the advantages of AlwaysOn.</span></span> <span data-ttu-id="e740d-781">Estas ventajas son las siguientes:</span><span class="sxs-lookup"><span data-stu-id="e740d-781">Those advantages can be listed like:</span></span>

* <span data-ttu-id="e740d-782">Réplicas secundarias legibles</span><span class="sxs-lookup"><span data-stu-id="e740d-782">Readable secondary replicas.</span></span>
* <span data-ttu-id="e740d-783">Copias de seguridad de las réplicas secundarias</span><span class="sxs-lookup"><span data-stu-id="e740d-783">Backups from secondary replicas.</span></span>
* <span data-ttu-id="e740d-784">Mejor escalabilidad</span><span class="sxs-lookup"><span data-stu-id="e740d-784">Better scalability.</span></span>
* <span data-ttu-id="e740d-785">Más de una réplica secundaria legible</span><span class="sxs-lookup"><span data-stu-id="e740d-785">More than one secondary replicas.</span></span>

### <span data-ttu-id="e740d-786"><a name="9053f720-6f3b-4483-904d-15dc54141e30"></a>Resumen general de SQL Server para SAP en Azure</span><span class="sxs-lookup"><span data-stu-id="e740d-786"><a name="9053f720-6f3b-4483-904d-15dc54141e30"></a>General SQL Server for SAP on Azure Summary</span></span>
<span data-ttu-id="e740d-787">En esta guía se ofrecen muchas recomendaciones: le sugerimos que la lea más de una vez antes de planear la implementación de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-787">There are many recommendations in this guide and we recommend you read it more than once before planning your Azure deployment.</span></span> <span data-ttu-id="e740d-788">En general, asegúrese de seguir las 10 principales pautas específicas de DBMS en Azure:</span><span class="sxs-lookup"><span data-stu-id="e740d-788">In general, though, be sure to follow the top ten general DBMS on Azure specific points:</span></span>

<span data-ttu-id="e740d-789">[comment]: <> (2.3 higher throughput than what? ¿Que un disco duro virtual?)</span><span class="sxs-lookup"><span data-stu-id="e740d-789">[comment]: <> (2.3 higher throughput than what? Than one VHD?)</span></span>
1. <span data-ttu-id="e740d-790">Utilice la versión de DBMS más reciente, como SQL Server 2014, que presenta la mayoría de las ventajas de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-790">Use the latest DBMS release, like SQL Server 2014, that has the most advantages in Azure.</span></span> <span data-ttu-id="e740d-791">Para SQL Server, se trata de SQL Server 2012 SP1 CU4, que incluiría la característica de copia de seguridad en el almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-791">For SQL Server, this is SQL Server 2012 SP1 CU4 which would include the feature of backing up against Azure Storage.</span></span> <span data-ttu-id="e740d-792">Sin embargo, para usarse con SAP recomendamos, como mínimo, SQL Server 2014 SP1 CU1 o SQL Server 2012 SP2 y la CU más reciente.</span><span class="sxs-lookup"><span data-stu-id="e740d-792">However, in conjunction with SAP we would recommend at least SQL Server 2014 SP1 CU1 or SQL Server 2012 SP2 and the latest CU.</span></span>
2. <span data-ttu-id="e740d-793">Planee cuidadosamente su infraestructura de sistema SAP en Azure para equilibrar el diseño del archivo de datos y las restricciones de Azure:</span><span class="sxs-lookup"><span data-stu-id="e740d-793">Carefully plan your SAP system landscape in Azure to balance the data file layout and Azure restrictions:</span></span>
   * <span data-ttu-id="e740d-794">No disponga de un número de VHD demasiado elevado, solo el suficiente para asegurarse de que puede alcanzar los IOPS necesarios.</span><span class="sxs-lookup"><span data-stu-id="e740d-794">Don’t have too many VHDs, but have enough to ensure you can reach your required IOPS.</span></span>
   * <span data-ttu-id="e740d-795">Recuerde que los valores de E/S también están limitados por cuenta de Azure Storage y que las cuentas de Storage están limitadas en cada suscripción de Azure ([más información][azure-subscription-service-limits]).</span><span class="sxs-lookup"><span data-stu-id="e740d-795">Remember that IOPS are also limited per Azure Storage Account and that Storage Accounts are limited within each Azure subscription ([more details][azure-subscription-service-limits]).</span></span>
   * <span data-ttu-id="e740d-796">Si necesita obtener un mayor rendimiento, solo cree secciones en los VHD.</span><span class="sxs-lookup"><span data-stu-id="e740d-796">Only stripe across VHDs if you need to achieve a higher throughput.</span></span>
3. <span data-ttu-id="e740d-797">Nunca instale software o coloque los archivos que requieren persistencia en la unidad D:\, ya que no es permanente y todos los datos que albergue se perderán tras reiniciar Windows.</span><span class="sxs-lookup"><span data-stu-id="e740d-797">Never install software or put any files that require persistence on the D:\ drive as it is non-permanent and anything on this drive will be lost at a Windows reboot.</span></span>
4. <span data-ttu-id="e740d-798">No utilice el almacenamiento en caché de VHD de Azure para el almacenamiento estándar de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-798">Don’t use Azure VHD caching for Azure Standard Storage.</span></span>
5. <span data-ttu-id="e740d-799">No utilice cuentas de almacenamiento con replicación geográfica de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-799">Don’t use Azure geo-replicated Storage Accounts.</span></span>  <span data-ttu-id="e740d-800">Use la redundancia local para las cargas de trabajo de DBMS.</span><span class="sxs-lookup"><span data-stu-id="e740d-800">Use Locally Redundant for DBMS workloads.</span></span>
6. <span data-ttu-id="e740d-801">Utilice la solución de alta disponibilidad o recuperación ante desastres de su proveedor de DBMS para replicar datos de base de datos.</span><span class="sxs-lookup"><span data-stu-id="e740d-801">Use your DBMS vendor’s HA/DR solution to replicate database data.</span></span>
7. <span data-ttu-id="e740d-802">Use siempre la resolución de nombres, no confíe exclusivamente en las direcciones IP.</span><span class="sxs-lookup"><span data-stu-id="e740d-802">Always use Name Resolution, don’t rely on IP addresses.</span></span>
8. <span data-ttu-id="e740d-803">Use el nivel de compresión de base de datos más elevado posible.</span><span class="sxs-lookup"><span data-stu-id="e740d-803">Use the highest database compression possible.</span></span> <span data-ttu-id="e740d-804">Para SQL Server es la compresión de página.</span><span class="sxs-lookup"><span data-stu-id="e740d-804">For SQL Server this is page compression.</span></span>
9. <span data-ttu-id="e740d-805">Tenga cuidado al utilizar imágenes de SQL Server de Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="e740d-805">Be careful using SQL Server images from the Azure Marketplace.</span></span> <span data-ttu-id="e740d-806">Si lo hace, debe cambiar la intercalación de la instancia antes de instalar cualquier sistema SAP NetWeaver en ella.</span><span class="sxs-lookup"><span data-stu-id="e740d-806">If you use the SQL Server one, you must change the instance collation before installing any SAP NetWeaver system on it.</span></span>
10. <span data-ttu-id="e740d-807">Instale y configure la funcionalidad de supervisión de hosts de SAP para Azure tal y como se describe en la [Guía de implementación][deployment-guide].</span><span class="sxs-lookup"><span data-stu-id="e740d-807">Install and configure the SAP Host Monitoring for Azure as described in [Deployment Guide][deployment-guide].</span></span>

## <a name="specifics-to-sap-ase-on-windows"></a><span data-ttu-id="e740d-808">Características específicas de SAP ASE en Windows</span><span class="sxs-lookup"><span data-stu-id="e740d-808">Specifics to SAP ASE on Windows</span></span>
<span data-ttu-id="e740d-809">Desde Microsoft Azure puede migrar fácilmente sus aplicaciones de SAP ASE a máquinas virtuales de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-809">Starting with Microsoft Azure, you can easily migrate your existing SAP ASE applications to Azure Virtual Machines.</span></span> <span data-ttu-id="e740d-810">SAP ASE en una máquina virtual permite reducir el coste total de propiedad de implementación, administración y mantenimiento de aplicaciones empresariales al migrarlas fácilmente a Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-810">SAP ASE in a Virtual Machine enables you to reduce the total cost of ownership of deployment, management and maintenance of enterprise breadth applications by easily migrating these applications to Microsoft Azure.</span></span> <span data-ttu-id="e740d-811">Con SAP ASE en una máquina virtual de Azure, los administradores y los desarrolladores pueden seguir usando las mismas herramientas de desarrollo y administración que se encuentran disponibles de forma local.</span><span class="sxs-lookup"><span data-stu-id="e740d-811">With SAP ASE in an Azure Virtual Machine, administrators and developers can still use the same development and administration tools that are available on-premises.</span></span>

<span data-ttu-id="e740d-812">Hay un Acuerdo de Nivel de Servicio para Azure Virtual Machines que puede encontrarse aquí: <https://azure.microsoft.com/support/legal/sla>.</span><span class="sxs-lookup"><span data-stu-id="e740d-812">There is an SLA for the Azure Virtual Machines which can be found here: <https://azure.microsoft.com/support/legal/sla></span></span>

<span data-ttu-id="e740d-813">Garantizamos que las máquinas virtuales de Microsoft Azure hospedadas funcionarán muy bien en comparación con otras ofertas de virtualización de nube pública, aunque los resultados individuales pueden variar.</span><span class="sxs-lookup"><span data-stu-id="e740d-813">We are confident that Microsoft Azure hosted Virtual Machines will perform very well in comparison to other public cloud virtualization offerings, but individual results may vary.</span></span> <span data-ttu-id="e740d-814">Los números de SAPS de tamaño de SAP de las distintas SKU para máquinas virtuales certificadas por SAP se proporcionarán en una nota de SAP independiente [1928533].</span><span class="sxs-lookup"><span data-stu-id="e740d-814">SAP sizing SAPS numbers of the different SAP certified VM SKUs will be provided in a separate SAP Note [1928533].</span></span>

<span data-ttu-id="e740d-815">Se aplican instrucciones y recomendaciones sobre el uso del almacenamiento de Azure, implementación de máquinas virtuales de SAP o supervisión de SAP a las implementaciones de SAP ASE en conjunto con aplicaciones de SAP, como se indica en los primeros cuatro capítulos de este documento.</span><span class="sxs-lookup"><span data-stu-id="e740d-815">Statements and recommendations in regard to the usage of Azure Storage, Deployment of SAP VMs or SAP Monitoring apply to deployments of SAP ASE in conjunction with SAP applications as stated throughout the first four chapters of this document.</span></span>

### <a name="sap-ase-version-support"></a><span data-ttu-id="e740d-816">Compatibilidad de versiones de SAP ASE</span><span class="sxs-lookup"><span data-stu-id="e740d-816">SAP ASE Version Support</span></span>
<span data-ttu-id="e740d-817">Actualmente, SAP admite la versión 16.0 de SAP ASE para poder utilizarse con productos de SAP Business Suite.</span><span class="sxs-lookup"><span data-stu-id="e740d-817">SAP currently supports SAP ASE version 16.0 for use with SAP Business Suite products.</span></span> <span data-ttu-id="e740d-818">Todas las actualizaciones para el servidor SAP ASE o los controladores ODBC y JDBC que se utilizarán con productos de SAP Business Suite se proporcionan únicamente a través de SAP Service Marketplace: <https://support.sap.com/swdc>.</span><span class="sxs-lookup"><span data-stu-id="e740d-818">All updates for SAP ASE server, or JDBC and ODBC drivers to be used with SAP Business Suite products are provided solely through the SAP Service Marketplace at: <https://support.sap.com/swdc>.</span></span>

<span data-ttu-id="e740d-819">En el caso de las instalaciones realizadas de forma local, no descargue las actualizaciones del servidor de SAP ASE ni de los controladores JDBC y ODBC directamente desde los sitios web de Sybase.</span><span class="sxs-lookup"><span data-stu-id="e740d-819">As for installations on-premises, do not download updates for the SAP ASE server, or for the JDBC and ODBC drivers directly from Sybase websites.</span></span> <span data-ttu-id="e740d-820">Para obtener más información sobre las revisiones que pueden utilizarse con los productos de SAP Business Suite en el entorno local y en máquinas virtuales de Azure, consulte las siguientes notas de SAP:</span><span class="sxs-lookup"><span data-stu-id="e740d-820">For detailed information on patches which are supported for use with SAP Business Suite products on-premises and in Azure Virtual Machines see the following SAP Notes:</span></span>

* <span data-ttu-id="e740d-821">[1590719]</span><span class="sxs-lookup"><span data-stu-id="e740d-821">[1590719]</span></span>
* <span data-ttu-id="e740d-822">[1973241]</span><span class="sxs-lookup"><span data-stu-id="e740d-822">[1973241]</span></span>

<span data-ttu-id="e740d-823">Encontrará información general sobre la ejecución de SAP Business Suite en SAP ASE en el [SCN](https://scn.sap.com/community/ase)</span><span class="sxs-lookup"><span data-stu-id="e740d-823">General information on running SAP Business Suite on SAP ASE can be found in the [SCN](https://scn.sap.com/community/ase)</span></span>

### <a name="sap-ase-configuration-guidelines-for-sap-related-sap-ase-installations-in-azure-vms"></a><span data-ttu-id="e740d-824">Instrucciones de configuración de SAP ASE para SAP relacionadas con las instalaciones de SAP ASE en máquinas virtuales de Azure</span><span class="sxs-lookup"><span data-stu-id="e740d-824">SAP ASE Configuration Guidelines for SAP related SAP ASE Installations in Azure VMs</span></span>
#### <a name="structure-of-the-sap-ase-deployment"></a><span data-ttu-id="e740d-825">Estructura de la implementación de SAP ASE</span><span class="sxs-lookup"><span data-stu-id="e740d-825">Structure of the SAP ASE Deployment</span></span>
<span data-ttu-id="e740d-826">Según la descripción general, los archivos ejecutables de SAP ASE se deben ubicar o instalar en la unidad del sistema del VHD base de la máquina virtual (unidad C:\)).</span><span class="sxs-lookup"><span data-stu-id="e740d-826">In accordance with the general description, SAP ASE executables should be located or installed into the system drive of the VM’s base VHD (drive c:\).</span></span> <span data-ttu-id="e740d-827">Normalmente, la mayoría de las bases de datos de herramientas y sistemas SAP ASE no se aprovechan realmente bien mediante las cargas de trabajo de SAP NetWeaver.</span><span class="sxs-lookup"><span data-stu-id="e740d-827">Typically, most of the SAP ASE system and tools databases are not really leveraged hard by SAP NetWeaver workload.</span></span> <span data-ttu-id="e740d-828">Por lo tanto, las bases de datos de herramientas y sistemas (master, model, saptools, sybmgmtdb, sybsystemdb) pueden permanecer en la unidad C:\.</span><span class="sxs-lookup"><span data-stu-id="e740d-828">Hence the system and tools databases (master, model, saptools, sybmgmtdb, sybsystemdb) can remain on the C:\drive as well.</span></span>

<span data-ttu-id="e740d-829">Una excepción puede ser la base de datos temporal que contiene todas las tablas de trabajo y temporales que SAP ASE creó, que, en el caso de algunos SAP ERP y todas las cargas de trabajo de BW, podría requerir un mayor volumen de datos o de operaciones de E/S que no quepan en el VHD base de la máquina virtual original (unidad c:\).</span><span class="sxs-lookup"><span data-stu-id="e740d-829">An exception could be the temporary database containing all work tables and temporary tables created by SAP ASE, which in case of some SAP ERP and all BW workloads might require either higher data volume or I/O operations volume which can’t fit into the original VM’s base VHD (drive c:\).</span></span>

<span data-ttu-id="e740d-830">Según la versión de SAPInst/SWPM utilizada para instalar el sistema, la base de datos puede contener los siguientes elementos:</span><span class="sxs-lookup"><span data-stu-id="e740d-830">Depending on the version of SAPInst/SWPM used to install the system, the database might contain:</span></span>

* <span data-ttu-id="e740d-831">Una única tempdb de SAP ASE que se crea al instalar SAP ASE</span><span class="sxs-lookup"><span data-stu-id="e740d-831">A single SAP ASE tempdb which is created when installing SAP ASE</span></span>
* <span data-ttu-id="e740d-832">Una tempdb de SAP ASE creada al instalar SAP ASE y un saptempdb adicional creado en la rutina de instalación de SAP</span><span class="sxs-lookup"><span data-stu-id="e740d-832">An SAP ASE tempdb created by installing SAP ASE and an additional saptempdb created by the SAP installation routine</span></span>
* <span data-ttu-id="e740d-833">Una tempdb de SAP ASE creada al instalar SAP ASE y una tempdb adicional que se creó manualmente (por ejemplo, según la nota de SAP [1752266]) para cumplir los requisitos de tempdb específicos de ERP/BW</span><span class="sxs-lookup"><span data-stu-id="e740d-833">An SAP ASE tempdb created by installing SAP ASE and an additional tempdb that has been created manually (e.g. following SAP Note [1752266]) to meet ERP/BW specific tempdb requirements</span></span>

<span data-ttu-id="e740d-834">En el caso de ERP específica o todas las cargas de trabajo de BW tiene sentido, en relación con el rendimiento, para mantener los dispositivos de tempdb de tempdb además creado (por SWPM o manualmente) en una unidad distinta C:\.</span><span class="sxs-lookup"><span data-stu-id="e740d-834">In case of specific ERP or all BW workloads it makes sense, in regard to performance, to keep the tempdb devices of the additionally created tempdb (by SWPM or manually) on a drive other than C:\.</span></span> <span data-ttu-id="e740d-835">Si no existe ninguna tempdb adicional, se recomienda crear una (nota de SAP [1752266]).</span><span class="sxs-lookup"><span data-stu-id="e740d-835">If no additional tempdb exists it is recommended to create one (SAP Note [1752266]).</span></span>

<span data-ttu-id="e740d-836">En estos sistemas, se deben seguir estos pasos para la tempdb que se creó de forma adicional:</span><span class="sxs-lookup"><span data-stu-id="e740d-836">For such systems the following steps should be performed for the additionally created tempdb:</span></span>

* <span data-ttu-id="e740d-837">Mueva el primer dispositivo de tempdb al primero de la base de datos de SAP.</span><span class="sxs-lookup"><span data-stu-id="e740d-837">Move the first tempdb device to the first device of the SAP database</span></span>
* <span data-ttu-id="e740d-838">Agregue dispositivos de tempdb a cada uno de los VHD que contengan un dispositivo de archivos de la base de datos de SAP.</span><span class="sxs-lookup"><span data-stu-id="e740d-838">Add tempdb devices to each of the VHDs containing a devices of the SAP database</span></span>

<span data-ttu-id="e740d-839">Esta configuración permite que tempdb consuma más espacio que el que la unidad del sistema puede proporcionar.</span><span class="sxs-lookup"><span data-stu-id="e740d-839">This configuration enables tempdb to either consume more space than the system drive is able to provide.</span></span> <span data-ttu-id="e740d-840">Como referencia, se pueden comprobar los tamaños de los dispositivos de tempdb en los sistemas existentes que se ejecutan de forma local.</span><span class="sxs-lookup"><span data-stu-id="e740d-840">As a reference one can check the tempdb device sizes on existing systems which run on-premises.</span></span> <span data-ttu-id="e740d-841">De lo contrario, dicha configuración admitiría los números de IOPS en la tempdb, que no se pueden proporcionar con la unidad del sistema.</span><span class="sxs-lookup"><span data-stu-id="e740d-841">Or such a configuration would enable IOPS numbers against tempdb which cannot be provided with the system drive.</span></span> <span data-ttu-id="e740d-842">Reiteramos que los sistemas que se ejecutan de forma local pueden utilizarse para supervisar la carga de trabajo de E/S en tempdb.</span><span class="sxs-lookup"><span data-stu-id="e740d-842">Again systems that are running on-premises can be used to monitor I/O workload against tempdb.</span></span>

<span data-ttu-id="e740d-843">Nunca coloque dispositivos de SAP ASE en la unidad D:\ de la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="e740d-843">Never put any SAP ASE devices onto the D:\ drive of the VM.</span></span> <span data-ttu-id="e740d-844">Esto también se aplica a la base de datos tempdb, aunque los objetos que se conserven en ella sean solo temporales.</span><span class="sxs-lookup"><span data-stu-id="e740d-844">This also applies to the tempdb, even if the objects kept in the tempdb are only temporary.</span></span>

#### <a name="impact-of-database-compression"></a><span data-ttu-id="e740d-845">Impacto de la compresión de las bases de datos</span><span class="sxs-lookup"><span data-stu-id="e740d-845">Impact of Database Compression</span></span>
<span data-ttu-id="e740d-846">En configuraciones donde el ancho de banda de E/S puede convertirse en un factor de limitación, todas las medidas que reduzca el número de IOPS podrían ayudar a ajustar la carga de trabajo que se puede ejecutar en un escenario de IaaS como Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-846">In configurations where I/O bandwidth can become a limiting factor, every measure which reduces IOPS might help to stretch the workload one can run in an IaaS scenario like Azure.</span></span> <span data-ttu-id="e740d-847">Por lo tanto, se recomienda encarecidamente asegurarse de emplear la compresión de SAP ASE antes de cargar una base de datos existente de SAP en Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-847">Therefore, it is strongly recommended to make sure that SAP ASE compression is used before uploading an existing SAP database to Azure.</span></span>

<span data-ttu-id="e740d-848">La recomendación de realizar la compresión antes de realizar esta carga en Azure si no se implementó antes responde a diversos motivos:</span><span class="sxs-lookup"><span data-stu-id="e740d-848">The recommendation to perform compression before uploading to Azure if it is not already implemented is given out of several reasons:</span></span>

* <span data-ttu-id="e740d-849">La cantidad de datos que se cargarán en Azure es menor.</span><span class="sxs-lookup"><span data-stu-id="e740d-849">The amount of data to be uploaded to Azure is lower</span></span>
* <span data-ttu-id="e740d-850">La duración de la ejecución de la compresión es menor, suponiendo que se pueda utilizar un hardware más eficaz con más capacidad de CPU, un mayor ancho de banda de E/S o una latencia de E/S menor en el entorno local.</span><span class="sxs-lookup"><span data-stu-id="e740d-850">The duration of the compression execution is shorter assuming that one can use stronger hardware with more CPUs or higher I/O bandwidth or less I/O latency on-premises</span></span>
* <span data-ttu-id="e740d-851">Si se utilizan tamaños de base de datos más pequeños, se incurriría en menos costes de asignación de disco.</span><span class="sxs-lookup"><span data-stu-id="e740d-851">Smaller database sizes might lead to less costs for disk allocation</span></span>

<span data-ttu-id="e740d-852">La compresión de datos y de LOB funciona en una máquina virtual hospedada en máquinas virtuales de Azure del mismo modo a como lo hace en un entorno local.</span><span class="sxs-lookup"><span data-stu-id="e740d-852">Data- and LOB-Compression work in a VM hosted in Azure Virtual Machines as it does on-premises.</span></span> <span data-ttu-id="e740d-853">Para más información sobre cómo comprobar si ya se está usando compresión en una base de datos de SAP ASE existente, consulte la nota de SAP [1750510].</span><span class="sxs-lookup"><span data-stu-id="e740d-853">For more details on how to check if compression is already in use in an existing SAP ASE database please check SAP Note [1750510].</span></span>

#### <a name="using-dbacockpit-to-monitor-database-instances"></a><span data-ttu-id="e740d-854">Uso de DBACockpit para supervisar instancias de base de datos</span><span class="sxs-lookup"><span data-stu-id="e740d-854">Using DBACockpit to monitor Database Instances</span></span>
<span data-ttu-id="e740d-855">En el caso de sistemas SAP que usan SAP ASE como plataforma de bases de datos, se puede acceder a DBACockpit mediante ventanas integradas en exploradores en transacciones de DBACockpit o de Webdynpro.</span><span class="sxs-lookup"><span data-stu-id="e740d-855">For SAP systems which are using SAP ASE as database platform, the DBACockpit is accessible as embedded browser windows in transaction DBACockpit or as Webdynpro.</span></span> <span data-ttu-id="e740d-856">Sin embargo, la funcionalidad completa de las actividades de supervisión y administración de bases de datos únicamente está disponible en la implementación de Webdynpro de DBACockpit.</span><span class="sxs-lookup"><span data-stu-id="e740d-856">However the full functionality for monitoring and administering the database is available in the Webdynpro implementation of the DBACockpit only.</span></span>

<span data-ttu-id="e740d-857">Al igual que en el caso de los sistemas locales, es preciso seguir varios pasos para habilitar toda la funcionalidad de SAP NetWeaver que usa la implementación de Webdynpro de DBACockpit.</span><span class="sxs-lookup"><span data-stu-id="e740d-857">As with on-premises systems several steps are required to enable all SAP NetWeaver functionality used by the Webdynpro implementation of the DBACockpit.</span></span> <span data-ttu-id="e740d-858">Siga las indicaciones de la nota de SAP [1245200] para habilitar el uso de los recursos de Webdynpro y generar los necesarios.</span><span class="sxs-lookup"><span data-stu-id="e740d-858">Please follow SAP Note [1245200] to enable the usage of webdynpros and generate the required ones.</span></span> <span data-ttu-id="e740d-859">Las instrucciones de las notas anteriores también lo ayudarán a configurar el administrador de comunicación de Internet (ICM) y los puertos que se utilizarán para las conexiones http y https.</span><span class="sxs-lookup"><span data-stu-id="e740d-859">When following the instructions in the above notes you will also configure the Internet Communication Manager (icm) along with the ports to be used for http and https connections.</span></span> <span data-ttu-id="e740d-860">La configuración de http predeterminada tiene el siguiente aspecto:</span><span class="sxs-lookup"><span data-stu-id="e740d-860">The default setting for http looks like this:</span></span>

> <span data-ttu-id="e740d-861">icm/server_port_0 = PROT=HTTP,PORT=8000,PROCTIMEOUT=600,TIMEOUT=600</span><span class="sxs-lookup"><span data-stu-id="e740d-861">icm/server_port_0 = PROT=HTTP,PORT=8000,PROCTIMEOUT=600,TIMEOUT=600</span></span>
>
> <span data-ttu-id="e740d-862">icm/server_port_1 = PROT=HTTPS,PORT=443$$,PROCTIMEOUT=600,TIMEOUT=600</span><span class="sxs-lookup"><span data-stu-id="e740d-862">icm/server_port_1 = PROT=HTTPS,PORT=443$$,PROCTIMEOUT=600,TIMEOUT=600</span></span>
>
>

<span data-ttu-id="e740d-863">y los vínculos generados en la transacción de DBACockpit tendrán un aspecto similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="e740d-863">and the links generated in transaction DBACockpit will look similar to this:</span></span>

> <span data-ttu-id="e740d-864">https://`<fullyqualifiedhostname`>:44300/sap/bc/webdynpro/sap/dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="e740d-864">https://`<fullyqualifiedhostname`>:44300/sap/bc/webdynpro/sap/dba_cockpit</span></span>
>
> <span data-ttu-id="e740d-865">http://`<fullyqualifiedhostname`>:8000/sap/bc/webdynpro/sap/dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="e740d-865">http://`<fullyqualifiedhostname`>:8000/sap/bc/webdynpro/sap/dba_cockpit</span></span>
>
>

<span data-ttu-id="e740d-866">Dependiendo de si la máquina virtual de Azure que hospeda el sistema SAP se conecta de sitio a sitio, con varios sitios o mediante ExpressRoute (implementación entre locales) y en función de cómo lo haga, debe asegurarse de que ese ICM está usando un nombre de host completo que se puede resolver en el equipo desde el que está intentando abrir DBACockpit.</span><span class="sxs-lookup"><span data-stu-id="e740d-866">Depending on if and how the Azure Virtual Machine hosting the SAP system is connected via site-to-site, multi-site or ExpressRoute (Cross-Premises deployment) you need to make sure that ICM is using a fully qualified hostname that can be resolved on the machine where you are trying to open the DBACockpit from.</span></span> <span data-ttu-id="e740d-867">Consulte la nota de SAP [773830] para conocer el modo en que ICM determina el nombre de host completo según los parámetros de perfil y, si es necesario, defina específicamente el parámetro icm/host_name_full.</span><span class="sxs-lookup"><span data-stu-id="e740d-867">Please see SAP Note [773830] to understand how ICM determines the fully qualified host name depending on profile parameters and set parameter icm/host_name_full explicitly if required.</span></span>

<span data-ttu-id="e740d-868">Si implementó la máquina virtual en un escenario solo de nube sin conectividad en varios entornos entre locales y Azure, debe definir una dirección IP pública y un valor de domainlabel.</span><span class="sxs-lookup"><span data-stu-id="e740d-868">If you deployed the VM in a Cloud-Only scenario without cross-premises connectivity between on-premises and Azure, you need to define a public IP address and a domainlabel.</span></span> <span data-ttu-id="e740d-869">El formato del nombre DNS público de la máquina virtual tendrá un aspecto similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="e740d-869">The format of the public DNS name of the VM will then look like this :</span></span>

> <span data-ttu-id="e740d-870">`<custom domainlabel`>.`<azure region`>.cloudapp.azure.com</span><span class="sxs-lookup"><span data-stu-id="e740d-870">`<custom domainlabel`>.`<azure region`>.cloudapp.azure.com</span></span>
>
>

<span data-ttu-id="e740d-871">Encontrará más detalles relacionados con el nombre DNS [aquí][virtual-machines-azurerm-versus-azuresm].</span><span class="sxs-lookup"><span data-stu-id="e740d-871">More details related to the DNS name can be found [here][virtual-machines-azurerm-versus-azuresm].</span></span>

<span data-ttu-id="e740d-872">El ajuste del parámetro de perfil de SAP icm/host_name_full con el nombre DNS del vínculo de la máquina virtual de Azure puede tener este aspecto:</span><span class="sxs-lookup"><span data-stu-id="e740d-872">Setting the SAP profile parameter icm/host_name_full to the DNS name of the Azure VM the link might look similar to:</span></span>

> <span data-ttu-id="e740d-873">https://mydomainlabel.westeurope.cloudapp.net:44300/sap/bc/webdynpro/sap/dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="e740d-873">https://mydomainlabel.westeurope.cloudapp.net:44300/sap/bc/webdynpro/sap/dba_cockpit</span></span>
>
> <span data-ttu-id="e740d-874">http://mydomainlabel.westeurope.cloudapp.net:8000/sap/bc/webdynpro/sap/dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="e740d-874">http://mydomainlabel.westeurope.cloudapp.net:8000/sap/bc/webdynpro/sap/dba_cockpit</span></span>
>
>

<span data-ttu-id="e740d-875">En ese caso, debe asegurarse de lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="e740d-875">In this case you need to make sure to:</span></span>

* <span data-ttu-id="e740d-876">Agregar reglas de entrada al grupo de seguridad de red en el Portal de Azure para los puertos TCP/IP que se utilizan en la comunicación con el ICM</span><span class="sxs-lookup"><span data-stu-id="e740d-876">Add Inbound rules to the Network Security Group in the Azure Portal for the TCP/IP ports used to communicate with ICM</span></span>
* <span data-ttu-id="e740d-877">Agregar reglas de entrada a la configuración del Firewall de Windows para los puertos TCP/IP que se utilizan en la comunicación con el ICM</span><span class="sxs-lookup"><span data-stu-id="e740d-877">Add Inbound rules to the Windows Firewall configuration for the TCP/IP ports used to communicate with the ICM</span></span>

<span data-ttu-id="e740d-878">Para importar de forma automatizada todas las correcciones disponibles, se recomienda aplicar periódicamente la colección de correcciones de la nota de SAP correspondiente a su versión de SAP:</span><span class="sxs-lookup"><span data-stu-id="e740d-878">For an automated imported of all corrections available, it is recommended to periodically apply the correction collection SAP Note applicable to your SAP version:</span></span>

* <span data-ttu-id="e740d-879">[1558958]</span><span class="sxs-lookup"><span data-stu-id="e740d-879">[1558958]</span></span>
* <span data-ttu-id="e740d-880">[1619967]</span><span class="sxs-lookup"><span data-stu-id="e740d-880">[1619967]</span></span>
* <span data-ttu-id="e740d-881">[1882376]</span><span class="sxs-lookup"><span data-stu-id="e740d-881">[1882376]</span></span>

<span data-ttu-id="e740d-882">Encontrará más información sobre DBA Cockpit para SAP ASE en las siguientes notas de SAP:</span><span class="sxs-lookup"><span data-stu-id="e740d-882">Further information about DBA Cockpit for SAP ASE can be found in the following SAP Notes:</span></span>

* <span data-ttu-id="e740d-883">[1605680]</span><span class="sxs-lookup"><span data-stu-id="e740d-883">[1605680]</span></span>
* <span data-ttu-id="e740d-884">[1757924]</span><span class="sxs-lookup"><span data-stu-id="e740d-884">[1757924]</span></span>
* <span data-ttu-id="e740d-885">[1757928]</span><span class="sxs-lookup"><span data-stu-id="e740d-885">[1757928]</span></span>
* <span data-ttu-id="e740d-886">[1758182]</span><span class="sxs-lookup"><span data-stu-id="e740d-886">[1758182]</span></span>
* <span data-ttu-id="e740d-887">[1758496]</span><span class="sxs-lookup"><span data-stu-id="e740d-887">[1758496]</span></span>    
* <span data-ttu-id="e740d-888">[1814258]</span><span class="sxs-lookup"><span data-stu-id="e740d-888">[1814258]</span></span>
* <span data-ttu-id="e740d-889">[1922555]</span><span class="sxs-lookup"><span data-stu-id="e740d-889">[1922555]</span></span>
* <span data-ttu-id="e740d-890">[1956005]</span><span class="sxs-lookup"><span data-stu-id="e740d-890">[1956005]</span></span>

#### <a name="backuprecovery-considerations-for-sap-ase"></a><span data-ttu-id="e740d-891">Consideraciones de copia de seguridad y recuperación para SAP ASE</span><span class="sxs-lookup"><span data-stu-id="e740d-891">Backup/Recovery Considerations for SAP ASE</span></span>
<span data-ttu-id="e740d-892">Al implementar SAP ASE en Azure, debe revisar la metodología de copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="e740d-892">When deploying SAP ASE into Azure your backup methodology must be reviewed.</span></span> <span data-ttu-id="e740d-893">Incluso si el sistema no es productivo, se debe realizar periódicamente la copia de seguridad de la base de datos de SAP que hospeda SAP ASE.</span><span class="sxs-lookup"><span data-stu-id="e740d-893">Even if the system is not a productive system, the SAP database hosted by SAP ASE must be backed up periodically.</span></span> <span data-ttu-id="e740d-894">Como Azure Storage mantiene tres imágenes, una copia de seguridad es menos importante para compensar un bloqueo de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="e740d-894">Since Azure Storage keeps three images, a backup is now less important in respect to compensating a storage crash.</span></span> <span data-ttu-id="e740d-895">La razón principal para el mantenimiento de un plan de copia de seguridad y restauración correcto es que puede compensar errores lógicos o manuales gracias a la capacidad de recuperación a un momento dado.</span><span class="sxs-lookup"><span data-stu-id="e740d-895">The primary reason for maintaining a proper backup and restore plan is more that you can compensate for logical/manual errors by providing point in time recovery capabilities.</span></span> <span data-ttu-id="e740d-896">El objetivo es usar las copias de seguridad para restaurar la base de datos a un momento dado o utilizar las copias de seguridad de Azure para propagar otro sistema mediante la copia de la base de datos existente.</span><span class="sxs-lookup"><span data-stu-id="e740d-896">So the goal is to either use backups to restore the database back to a certain point in time or to use the backups in Azure to seed another system by copying the existing database.</span></span> <span data-ttu-id="e740d-897">Por ejemplo, podría transferir archivos desde una configuración de SAP de 2 niveles a una configuración de sistema de 3 niveles del mismo sistema mediante la restauración de una copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="e740d-897">For example, you could transfer from a 2-Tier SAP configuration to a 3-Tier system setup of the same system by restoring a backup.</span></span>

<span data-ttu-id="e740d-898">La realización de copias de seguridad y restauraciones de bases de datos de Azure funciona del mismo modo que en entornos locales.</span><span class="sxs-lookup"><span data-stu-id="e740d-898">Backing up and restoring a database in Azure works the same way as it does on-premises.</span></span> <span data-ttu-id="e740d-899">Consulte las notas de SAP</span><span class="sxs-lookup"><span data-stu-id="e740d-899">Please see SAP Notes:</span></span>

* <span data-ttu-id="e740d-900">[1588316]</span><span class="sxs-lookup"><span data-stu-id="e740d-900">[1588316]</span></span>
* <span data-ttu-id="e740d-901">[1585981]</span><span class="sxs-lookup"><span data-stu-id="e740d-901">[1585981]</span></span>

<span data-ttu-id="e740d-902">para obtener más información sobre la creación de configuraciones de volcado y la programación de copias de seguridad.</span><span class="sxs-lookup"><span data-stu-id="e740d-902">for details on creating dump configurations and scheduling backups.</span></span> <span data-ttu-id="e740d-903">Dependiendo de su estrategia y sus necesidades, puede configurar la base de datos y los volcados de registro en disco en uno de los VHD existentes o agregar un VHD adicional para la copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="e740d-903">Depending on your strategy and needs you can configure database and log dumps to disk onto one of the existing VHDs or add an additional VHD for the backup.</span></span>  <span data-ttu-id="e740d-904">Para reducir el riesgo de pérdida de datos si se produce un error, se recomienda usar un VHD en el que no se encuentre ningún dispositivo de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="e740d-904">To reduce the danger of data loss in case of an error it is recommended to use a VHD where no database device is located.</span></span>

<span data-ttu-id="e740d-905">Además de compresión de datos y de LOB, SAP ASE también ofrece compresión de copias de seguridad.</span><span class="sxs-lookup"><span data-stu-id="e740d-905">Besides data- and LOB compression SAP ASE also offers backup compression.</span></span> <span data-ttu-id="e740d-906">Para que los volcados de bases de datos y registros ocupen menos espacio, se recomienda usar la compresión de copias de seguridad.</span><span class="sxs-lookup"><span data-stu-id="e740d-906">To occupy less space with the database and log dumps it is recommended to use backup compression.</span></span> <span data-ttu-id="e740d-907">Consulte la nota de SAP [1588316] para más información.</span><span class="sxs-lookup"><span data-stu-id="e740d-907">Please see SAP Note [1588316] for more information.</span></span> <span data-ttu-id="e740d-908">Este tipo de compresión también es fundamental para reducir la cantidad de datos que se transfieren si planea descargar copias de seguridad o VHD que contengan volcados de copias de seguridad de la máquina virtual de Azure en el entorno local.</span><span class="sxs-lookup"><span data-stu-id="e740d-908">Compressing the backup is also crucial to reduce the amount of data to be transferred if you plan to download backups or VHDs containing backup dumps from the Azure Virtual Machine to on-premises.</span></span>

<span data-ttu-id="e740d-909">No utilice la unidad D:\ como destino de los volcados de bases de datos o registros.</span><span class="sxs-lookup"><span data-stu-id="e740d-909">Do not use drive D:\ as database or log dump destination.</span></span>

#### <a name="performance-considerations-for-backupsrestores"></a><span data-ttu-id="e740d-910">Consideraciones de rendimiento sobre copias de seguridad / restauraciones</span><span class="sxs-lookup"><span data-stu-id="e740d-910">Performance Considerations for Backups/Restores</span></span>
<span data-ttu-id="e740d-911">Como en las implementaciones sin sistema operativo, el rendimiento de las copias de seguridad y las restauraciones depende de cuántos volúmenes puedan leerse en paralelo y el rendimiento que estos volúmenes puedan tener.</span><span class="sxs-lookup"><span data-stu-id="e740d-911">As in bare-metal deployments, backup/restore performance is dependent on how many volumes can be read in parallel and what the throughput of those volumes might be.</span></span> <span data-ttu-id="e740d-912">Además, el consumo de CPU que se emplea en la compresión de copias de seguridad puede desempeñar un papel importante en las máquinas virtuales con solo 8 subprocesos de CPU como máximo.</span><span class="sxs-lookup"><span data-stu-id="e740d-912">In addition, the CPU consumption used by backup compression may play a significant role on VMs with just up to 8 CPU threads.</span></span> <span data-ttu-id="e740d-913">Por lo tanto, se pueden asumir los siguientes puntos:</span><span class="sxs-lookup"><span data-stu-id="e740d-913">Therefore, one can assume:</span></span>

* <span data-ttu-id="e740d-914">Cuantos menos VHD se utilicen para almacenar los dispositivos de las bases de datos, menor será el rendimiento general de lectura.</span><span class="sxs-lookup"><span data-stu-id="e740d-914">The fewer the number of VHDs used to store the database devices, the smaller the overall throughput in reading</span></span>
* <span data-ttu-id="e740d-915">Cuantos menos subprocesos de CPU haya en la máquina virtual, mayor será el impacto en la compresión de copias de seguridad.</span><span class="sxs-lookup"><span data-stu-id="e740d-915">The smaller the number of CPU threads in the VM, the more severe the impact of backup compression</span></span>
* <span data-ttu-id="e740d-916">Cuantos menos destinos (directorios de sección, VHD, etc.) en los que escribir la copia de seguridad haya, menor será el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="e740d-916">The fewer targets (Stripe Directories, VHDs) to write the backup to, the lesser the throughput</span></span>

<span data-ttu-id="e740d-917">Para aumentar la cantidad de destinos en los que escribir, existen dos opciones que se pueden usar o combinar según sus necesidades:</span><span class="sxs-lookup"><span data-stu-id="e740d-917">To increase the number of targets to write to there are two options which can be used/combined depending on your needs:</span></span>

* <span data-ttu-id="e740d-918">Seccionar el volumen de destino de la copia de seguridad en varios VHD montados con el fin de mejorar el rendimiento de IOPS en ese volumen seccionado</span><span class="sxs-lookup"><span data-stu-id="e740d-918">Striping the backup target volume over multiple mounted VHDs in order to improve the IOPS throughput on that striped volume</span></span>
* <span data-ttu-id="e740d-919">Crear una configuración de volcado en el nivel de SAP ASE que utilice más de un directorio de destino en el que escribir el volcado</span><span class="sxs-lookup"><span data-stu-id="e740d-919">Creating a dump configuration on SAP ASE level which uses more than one target directory to write the dump to</span></span>

<span data-ttu-id="e740d-920">Anteriormente ya se trató en esta guía la sección de un volumen en varios VHD montados.</span><span class="sxs-lookup"><span data-stu-id="e740d-920">Striping a volume over multiple mounted VHDs has been discussed earlier in this guide.</span></span> <span data-ttu-id="e740d-921">Para más información sobre el uso de varios directorios en la configuración de volcado de SAP ASE, consulte la documentación sobre el procedimiento almacenado sp_config_dump que se utiliza para crear la configuración de volcado en [Sybase Infocenter](http://infocenter.sybase.com/help/index.jsp).</span><span class="sxs-lookup"><span data-stu-id="e740d-921">For more information on using multiple directories in the SAP ASE dump configuration please refer to the documentation on Stored Procedure sp_config_dump which is used to create the dump configuration on the [Sybase Infocenter](http://infocenter.sybase.com/help/index.jsp).</span></span>

### <a name="disaster-recovery-with-azure-vms"></a><span data-ttu-id="e740d-922">Recuperación ante desastres con máquinas virtuales de Azure</span><span class="sxs-lookup"><span data-stu-id="e740d-922">Disaster Recovery with Azure VMs</span></span>
#### <a name="data-replication-with-sap-sybase-replication-server"></a><span data-ttu-id="e740d-923">Replicación de datos con el servidor de replicación SAP Sybase</span><span class="sxs-lookup"><span data-stu-id="e740d-923">Data Replication with SAP Sybase Replication Server</span></span>
<span data-ttu-id="e740d-924">Con el servidor de replicación SAP Sybase (SRS), SAP ASE proporciona una solución de espera semiactiva para transferir las transacciones de la base de datos a una ubicación distante de manera asincrónica.</span><span class="sxs-lookup"><span data-stu-id="e740d-924">With the SAP Sybase Replication Server (SRS) SAP ASE provides a warm standby solution to transfer database transactions to a distant location asynchronously.</span></span>

<span data-ttu-id="e740d-925">La instalación y la actividad de SRS se desarrollan funcionalmente igual de bien en una máquina virtual hospedada en servicios de máquina virtual de Azure que en el entorno local.</span><span class="sxs-lookup"><span data-stu-id="e740d-925">The installation and operation of SRS works as well functionally in a VM hosted in Azure Virtual Machine Services as it does on-premises.</span></span>

<span data-ttu-id="e740d-926">Se ha previsto incluir ASE HADR a través de SAP Replication Server en una de las próximas versiones.</span><span class="sxs-lookup"><span data-stu-id="e740d-926">ASE HADR via SAP Replication Server is planned with a future release.</span></span> <span data-ttu-id="e740d-927">Se someterá a pruebas con las plataformas de Microsoft Azure y se publicará para estas mismas en cuanto esté disponible.</span><span class="sxs-lookup"><span data-stu-id="e740d-927">It will be tested with and released for Microsoft Azure platforms as soon as it is available.</span></span>

## <a name="specifics-to-sap-ase-on-linux"></a><span data-ttu-id="e740d-928">Detalles de SAP ASE en Linux</span><span class="sxs-lookup"><span data-stu-id="e740d-928">Specifics to SAP ASE on Linux</span></span>
<span data-ttu-id="e740d-929">Desde Microsoft Azure puede migrar fácilmente sus aplicaciones de SAP ASE a máquinas virtuales de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-929">Starting with Microsoft Azure, you can easily migrate your existing SAP ASE applications to Azure Virtual Machines.</span></span> <span data-ttu-id="e740d-930">SAP ASE en una máquina virtual permite reducir el coste total de propiedad de implementación, administración y mantenimiento de aplicaciones empresariales al migrarlas fácilmente a Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-930">SAP ASE in a Virtual Machine enables you to reduce the total cost of ownership of deployment, management and maintenance of enterprise breadth applications by easily migrating these applications to Microsoft Azure.</span></span> <span data-ttu-id="e740d-931">Con SAP ASE en una máquina virtual de Azure, los administradores y los desarrolladores pueden seguir usando las mismas herramientas de desarrollo y administración que se encuentran disponibles de forma local.</span><span class="sxs-lookup"><span data-stu-id="e740d-931">With SAP ASE in an Azure Virtual Machine, administrators and developers can still use the same development and administration tools that are available on-premises.</span></span>

<span data-ttu-id="e740d-932">Para implementar máquinas virtuales de Azure es importante conocer los Acuerdos de Nivel de Servicio oficiales que puede encontrar aquí: <https://azure.microsoft.com/support/legal/sla>.</span><span class="sxs-lookup"><span data-stu-id="e740d-932">For deploying Azure VMs it's important to know the official SLAs which can be found here : <https://azure.microsoft.com/support/legal/sla></span></span>

<span data-ttu-id="e740d-933">En la nota de SAP [1928533], se proporcionará información de tamaño de SAP y una lista de SKU para máquinas virtuales certificada por SAP.</span><span class="sxs-lookup"><span data-stu-id="e740d-933">SAP sizing information and a list of SAP certified VM SKUs will be provided in SAP Note [1928533].</span></span> <span data-ttu-id="e740d-934">Se pueden encontrar documentos adicionales sobre el ajuste de tamaño de SAP para máquinas virtuales de Azure aquí <http://blogs.msdn.com/b/saponsqlserver/archive/2015/06/19/how-to-size-sap-systems-running-on-azure-vms.aspx> y aquí <http://blogs.msdn.com/b/saponsqlserver/archive/2015/12/01/new-white-paper-on-sizing-sap-solutions-on-azure-public-cloud.aspx>.</span><span class="sxs-lookup"><span data-stu-id="e740d-934">Additional SAP sizing documents for Azure Virtual machines can be found here <http://blogs.msdn.com/b/saponsqlserver/archive/2015/06/19/how-to-size-sap-systems-running-on-azure-vms.aspx> and here <http://blogs.msdn.com/b/saponsqlserver/archive/2015/12/01/new-white-paper-on-sizing-sap-solutions-on-azure-public-cloud.aspx></span></span>

<span data-ttu-id="e740d-935">Se aplican instrucciones y recomendaciones sobre el uso del almacenamiento de Azure, implementación de máquinas virtuales de SAP o supervisión de SAP a las implementaciones de SAP ASE en conjunto con aplicaciones de SAP, como se indica en los primeros cuatro capítulos de este documento.</span><span class="sxs-lookup"><span data-stu-id="e740d-935">Statements and recommendations in regard to the usage of Azure Storage, Deployment of SAP VMs or SAP Monitoring apply to deployments of SAP ASE in conjunction with SAP applications as stated throughout the first four chapters of this document.</span></span>

<span data-ttu-id="e740d-936">Las dos siguientes notas de SAP incluyen información general acerca de ASE en Linux y ASE en la nube:</span><span class="sxs-lookup"><span data-stu-id="e740d-936">The following two SAP Notes include general information about ASE on Linux and ASE in the Cloud :</span></span>

* <span data-ttu-id="e740d-937">[2134316]</span><span class="sxs-lookup"><span data-stu-id="e740d-937">[2134316]</span></span>
* <span data-ttu-id="e740d-938">[1941500]</span><span class="sxs-lookup"><span data-stu-id="e740d-938">[1941500]</span></span>

### <a name="sap-ase-version-support"></a><span data-ttu-id="e740d-939">Compatibilidad de versiones de SAP ASE</span><span class="sxs-lookup"><span data-stu-id="e740d-939">SAP ASE Version Support</span></span>
<span data-ttu-id="e740d-940">Actualmente, SAP admite la versión 16.0 de SAP ASE para poder utilizarse con productos de SAP Business Suite.</span><span class="sxs-lookup"><span data-stu-id="e740d-940">SAP currently supports SAP ASE version 16.0 for use with SAP Business Suite products.</span></span> <span data-ttu-id="e740d-941">Todas las actualizaciones para el servidor SAP ASE o los controladores ODBC y JDBC que se utilizarán con productos de SAP Business Suite se proporcionan únicamente a través de SAP Service Marketplace: <https://support.sap.com/swdc>.</span><span class="sxs-lookup"><span data-stu-id="e740d-941">All updates for SAP ASE server, or JDBC and ODBC drivers to be used with SAP Business Suite products are provided solely through the SAP Service Marketplace at: <https://support.sap.com/swdc>.</span></span>

<span data-ttu-id="e740d-942">En el caso de las instalaciones realizadas de forma local, no descargue las actualizaciones del servidor de SAP ASE ni de los controladores JDBC y ODBC directamente desde los sitios web de Sybase.</span><span class="sxs-lookup"><span data-stu-id="e740d-942">As for installations on-premises, do not download updates for the SAP ASE server, or for the JDBC and ODBC drivers directly from Sybase websites.</span></span> <span data-ttu-id="e740d-943">Para obtener más información sobre las revisiones que pueden utilizarse con los productos de SAP Business Suite en el entorno local y en máquinas virtuales de Azure, consulte las siguientes notas de SAP:</span><span class="sxs-lookup"><span data-stu-id="e740d-943">For detailed information on patches which are supported for use with SAP Business Suite products on-premises and in Azure Virtual Machines see the following SAP Notes:</span></span>

* <span data-ttu-id="e740d-944">[1590719]</span><span class="sxs-lookup"><span data-stu-id="e740d-944">[1590719]</span></span>
* <span data-ttu-id="e740d-945">[1973241]</span><span class="sxs-lookup"><span data-stu-id="e740d-945">[1973241]</span></span>

<span data-ttu-id="e740d-946">Encontrará información general sobre la ejecución de SAP Business Suite en SAP ASE en el [SCN](https://scn.sap.com/community/ase)</span><span class="sxs-lookup"><span data-stu-id="e740d-946">General information on running SAP Business Suite on SAP ASE can be found in the [SCN](https://scn.sap.com/community/ase)</span></span>

### <a name="sap-ase-configuration-guidelines-for-sap-related-sap-ase-installations-in-azure-vms"></a><span data-ttu-id="e740d-947">Instrucciones de configuración de SAP ASE para SAP relacionadas con las instalaciones de SAP ASE en máquinas virtuales de Azure</span><span class="sxs-lookup"><span data-stu-id="e740d-947">SAP ASE Configuration Guidelines for SAP related SAP ASE Installations in Azure VMs</span></span>
#### <a name="structure-of-the-sap-ase-deployment"></a><span data-ttu-id="e740d-948">Estructura de la implementación de SAP ASE</span><span class="sxs-lookup"><span data-stu-id="e740d-948">Structure of the SAP ASE Deployment</span></span>
<span data-ttu-id="e740d-949">Según la descripción general, los archivos ejecutables de SAP ASE se deben ubicar o instalar en el sistema de archivos raíz de la máquina virtual (/sybase).</span><span class="sxs-lookup"><span data-stu-id="e740d-949">In accordance with the general description, SAP ASE executables should be located or installed into the root file system of the VM ( /sybase ).</span></span> <span data-ttu-id="e740d-950">Normalmente, la mayoría de las bases de datos de herramientas y sistemas SAP ASE no se aprovechan realmente bien mediante las cargas de trabajo de SAP NetWeaver.</span><span class="sxs-lookup"><span data-stu-id="e740d-950">Typically, most of the SAP ASE system and tools databases are not really leveraged hard by SAP NetWeaver workload.</span></span> <span data-ttu-id="e740d-951">Por lo tanto, las bases de datos de herramientas y sistemas (master, model, saptools, sybmgmtdb, sybsystemdb) pueden permanecer en el sistema de archivos raíz.</span><span class="sxs-lookup"><span data-stu-id="e740d-951">Hence the system and tools databases (master, model, saptools, sybmgmtdb, sybsystemdb) can remain on the root file system as well.</span></span>

<span data-ttu-id="e740d-952">Una excepción puede ser la base de datos temporal que contiene todas las tablas de trabajo y temporales que SAP ASE creó, que, en el caso de algunos SAP ERP y todas las cargas de trabajo de BW, podría requerir un mayor volumen de datos o de operaciones de E/S que no quepan en el disco del sistema operativo de la máquina virtual original.</span><span class="sxs-lookup"><span data-stu-id="e740d-952">An exception could be the temporary database containing all work tables and temporary tables created by SAP ASE, which in case of some SAP ERP and all BW workloads might require either higher data volume or I/O operations volume which can’t fit into the original VM’s OS disk.</span></span>

<span data-ttu-id="e740d-953">Según la versión de SAPInst/SWPM utilizada para instalar el sistema, la base de datos puede contener los siguientes elementos:</span><span class="sxs-lookup"><span data-stu-id="e740d-953">Depending on the version of SAPInst/SWPM used to install the system, the database might contain:</span></span>

* <span data-ttu-id="e740d-954">Una única tempdb de SAP ASE que se crea al instalar SAP ASE</span><span class="sxs-lookup"><span data-stu-id="e740d-954">A single SAP ASE tempdb which is created when installing SAP ASE</span></span>
* <span data-ttu-id="e740d-955">Una tempdb de SAP ASE creada al instalar SAP ASE y un saptempdb adicional creado en la rutina de instalación de SAP</span><span class="sxs-lookup"><span data-stu-id="e740d-955">An SAP ASE tempdb created by installing SAP ASE and an additional saptempdb created by the SAP installation routine</span></span>
* <span data-ttu-id="e740d-956">Una tempdb de SAP ASE creada al instalar SAP ASE y una tempdb adicional que se creó manualmente (por ejemplo, según la nota de SAP [1752266]) para cumplir los requisitos de tempdb específicos de ERP/BW</span><span class="sxs-lookup"><span data-stu-id="e740d-956">An SAP ASE tempdb created by installing SAP ASE and an additional tempdb that has been created manually (e.g. following SAP Note [1752266]) to meet ERP/BW specific tempdb requirements</span></span>

<span data-ttu-id="e740d-957">Tiene sentido en el caso de todas las cargas de trabajo de BW o una específica de ERP en cuanto a rendimiento, para mantener los dispositivos de tempdb de las tempdb que se crearon de forma adicional (mediante SWPM o manualmente) en un sistema de archivos distinto que se puede representar mediante un disco de datos de Azure único o un RAID de Linux que abarque varios discos de datos de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-957">In case of specific ERP or all BW workloads it makes sense, in regard to performance, to keep the tempdb devices of the additionally created tempdb (by SWPM or manually) on a separate file system which can be represented by a single Azure data disk or a Linux RAID spanning multiple Azure data disks.</span></span> <span data-ttu-id="e740d-958">Si no existe ninguna tempdb adicional, se recomienda crear una (nota de SAP [1752266]).</span><span class="sxs-lookup"><span data-stu-id="e740d-958">If no additional tempdb exists it is recommended to create one (SAP Note [1752266]).</span></span>

<span data-ttu-id="e740d-959">En estos sistemas, se deben seguir estos pasos para la tempdb que se creó de forma adicional:</span><span class="sxs-lookup"><span data-stu-id="e740d-959">For such systems the following steps should be performed for the additionally created tempdb:</span></span>

* <span data-ttu-id="e740d-960">Traslade el primer directorio de tempdb al primer sistema de archivos de la base de datos de SAP.</span><span class="sxs-lookup"><span data-stu-id="e740d-960">Move the first tempdb directory to the first file system of the SAP database</span></span>
* <span data-ttu-id="e740d-961">Agregue directorios de tempdb a cada uno de los VHD que contengan un sistema de archivos de la base de datos de SAP.</span><span class="sxs-lookup"><span data-stu-id="e740d-961">Add tempdb directories to each of the VHDs containing a filesystem of the SAP database</span></span>

<span data-ttu-id="e740d-962">Esta configuración permite que tempdb consuma más espacio que el que la unidad del sistema puede proporcionar.</span><span class="sxs-lookup"><span data-stu-id="e740d-962">This configuration enables tempdb to either consume more space than the system drive is able to provide.</span></span> <span data-ttu-id="e740d-963">Como referencia, se pueden comprobar los tamaños de los directorios de tempdb en los sistemas existentes que se ejecutan de forma local.</span><span class="sxs-lookup"><span data-stu-id="e740d-963">As a reference one can check the tempdb directory sizes on existing systems which run on-premises.</span></span> <span data-ttu-id="e740d-964">De lo contrario, dicha configuración admitiría los números de IOPS en la tempdb, que no se pueden proporcionar con la unidad del sistema.</span><span class="sxs-lookup"><span data-stu-id="e740d-964">Or such a configuration would enable IOPS numbers against tempdb which cannot be provided with the system drive.</span></span> <span data-ttu-id="e740d-965">Reiteramos que los sistemas que se ejecutan de forma local pueden utilizarse para supervisar la carga de trabajo de E/S en tempdb.</span><span class="sxs-lookup"><span data-stu-id="e740d-965">Again systems that are running on-premises can be used to monitor I/O workload against tempdb.</span></span>

<span data-ttu-id="e740d-966">Nunca coloque ningún directorio de SAP ASE en las rutas /mnt ni /mnt/resource de la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="e740d-966">Never put any SAP ASE directories onto /mnt or /mnt/resource of the VM.</span></span> <span data-ttu-id="e740d-967">Esto también se aplica a la tempdb (incluso si los objetos que se mantiene en tempdb son solo temporales) porque tanto /mnt como /mnt/resource son espacios temporales de máquina virtual de Azure predeterminados.</span><span class="sxs-lookup"><span data-stu-id="e740d-967">This also applies to the tempdb, even if the objects kept in the tempdb are only temporary because /mnt or /mnt/resource is a default Azure VM temp space which is not persistent.</span></span> <span data-ttu-id="e740d-968">Encontrará más información sobre el espacio temporal de máquina virtual de Azure en [este artículo][virtual-machines-linux-how-to-attach-disk].</span><span class="sxs-lookup"><span data-stu-id="e740d-968">More details about the Azure VM temp space can be found in [this article][virtual-machines-linux-how-to-attach-disk]</span></span>

#### <a name="impact-of-database-compression"></a><span data-ttu-id="e740d-969">Impacto de la compresión de las bases de datos</span><span class="sxs-lookup"><span data-stu-id="e740d-969">Impact of Database Compression</span></span>
<span data-ttu-id="e740d-970">En configuraciones donde el ancho de banda de E/S puede convertirse en un factor de limitación, todas las medidas que reduzca el número de IOPS podrían ayudar a ajustar la carga de trabajo que se puede ejecutar en un escenario de IaaS como Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-970">In configurations where I/O bandwidth can become a limiting factor, every measure which reduces IOPS might help to stretch the workload one can run in an IaaS scenario like Azure.</span></span> <span data-ttu-id="e740d-971">Por lo tanto, se recomienda encarecidamente asegurarse de emplear la compresión de SAP ASE antes de cargar una base de datos existente de SAP en Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-971">Therefore, it is strongly recommended to make sure that SAP ASE compression is used before uploading an existing SAP database to Azure.</span></span>

<span data-ttu-id="e740d-972">La recomendación de realizar la compresión antes de realizar esta carga en Azure si no se implementó antes responde a diversos motivos:</span><span class="sxs-lookup"><span data-stu-id="e740d-972">The recommendation to perform compression before uploading to Azure if it is not already implemented is given out of several reasons:</span></span>

* <span data-ttu-id="e740d-973">La cantidad de datos que se cargarán en Azure es menor.</span><span class="sxs-lookup"><span data-stu-id="e740d-973">The amount of data to be uploaded to Azure is lower</span></span>
* <span data-ttu-id="e740d-974">La duración de la ejecución de la compresión es menor, suponiendo que se pueda utilizar un hardware más eficaz con más capacidad de CPU, un mayor ancho de banda de E/S o una latencia de E/S menor en el entorno local.</span><span class="sxs-lookup"><span data-stu-id="e740d-974">The duration of the compression execution is shorter assuming that one can use stronger hardware with more CPUs or higher I/O bandwidth or less I/O latency on-premises</span></span>
* <span data-ttu-id="e740d-975">Si se utilizan tamaños de base de datos más pequeños, se incurriría en menos costes de asignación de disco.</span><span class="sxs-lookup"><span data-stu-id="e740d-975">Smaller database sizes might lead to less costs for disk allocation</span></span>

<span data-ttu-id="e740d-976">La compresión de datos y de LOB funciona en una máquina virtual hospedada en máquinas virtuales de Azure del mismo modo a como lo hace en un entorno local.</span><span class="sxs-lookup"><span data-stu-id="e740d-976">Data- and LOB-Compression work in a VM hosted in Azure Virtual Machines as it does on-premises.</span></span> <span data-ttu-id="e740d-977">Para más información sobre cómo comprobar si ya se está usando compresión en una base de datos de SAP ASE existente, consulte la nota de SAP [1750510].</span><span class="sxs-lookup"><span data-stu-id="e740d-977">For more details on how to check if compression is already in use in an existing SAP ASE database please check SAP Note [1750510].</span></span> <span data-ttu-id="e740d-978">Consulte también la nota de SAP [2121797] para más información sobre la compresión de bases de datos.</span><span class="sxs-lookup"><span data-stu-id="e740d-978">Also see SAP Note [2121797] for additional information regarding database compression.</span></span>

#### <a name="using-dbacockpit-to-monitor-database-instances"></a><span data-ttu-id="e740d-979">Uso de DBACockpit para supervisar instancias de base de datos</span><span class="sxs-lookup"><span data-stu-id="e740d-979">Using DBACockpit to monitor Database Instances</span></span>
<span data-ttu-id="e740d-980">En el caso de sistemas SAP que usan SAP ASE como plataforma de bases de datos, se puede acceder a DBACockpit mediante ventanas integradas en exploradores en transacciones de DBACockpit o de Webdynpro.</span><span class="sxs-lookup"><span data-stu-id="e740d-980">For SAP systems which are using SAP ASE as database platform, the DBACockpit is accessible as embedded browser windows in transaction DBACockpit or as Webdynpro.</span></span> <span data-ttu-id="e740d-981">Sin embargo, la funcionalidad completa de las actividades de supervisión y administración de bases de datos únicamente está disponible en la implementación de Webdynpro de DBACockpit.</span><span class="sxs-lookup"><span data-stu-id="e740d-981">However the full functionality for monitoring and administering the database is available in the Webdynpro implementation of the DBACockpit only.</span></span>

<span data-ttu-id="e740d-982">Al igual que en el caso de los sistemas locales, es preciso seguir varios pasos para habilitar toda la funcionalidad de SAP NetWeaver que usa la implementación de Webdynpro de DBACockpit.</span><span class="sxs-lookup"><span data-stu-id="e740d-982">As with on-premises systems several steps are required to enable all SAP NetWeaver functionality used by the Webdynpro implementation of the DBACockpit.</span></span> <span data-ttu-id="e740d-983">Siga las indicaciones de la nota de SAP [1245200] para habilitar el uso de los recursos de Webdynpro y generar los necesarios.</span><span class="sxs-lookup"><span data-stu-id="e740d-983">Please follow SAP Note [1245200] to enable the usage of webdynpros and generate the required ones.</span></span> <span data-ttu-id="e740d-984">Las instrucciones de las notas anteriores también lo ayudarán a configurar el administrador de comunicación de Internet (ICM) y los puertos que se utilizarán para las conexiones http y https.</span><span class="sxs-lookup"><span data-stu-id="e740d-984">When following the instructions in the above notes you will also configure the Internet Communication Manager (icm) along with the ports to be used for http and https connections.</span></span> <span data-ttu-id="e740d-985">La configuración de http predeterminada tiene el siguiente aspecto:</span><span class="sxs-lookup"><span data-stu-id="e740d-985">The default setting for http looks like this:</span></span>

> <span data-ttu-id="e740d-986">icm/server_port_0 = PROT=HTTP,PORT=8000,PROCTIMEOUT=600,TIMEOUT=600</span><span class="sxs-lookup"><span data-stu-id="e740d-986">icm/server_port_0 = PROT=HTTP,PORT=8000,PROCTIMEOUT=600,TIMEOUT=600</span></span>
>
> <span data-ttu-id="e740d-987">icm/server_port_1 = PROT=HTTPS,PORT=443$$,PROCTIMEOUT=600,TIMEOUT=600</span><span class="sxs-lookup"><span data-stu-id="e740d-987">icm/server_port_1 = PROT=HTTPS,PORT=443$$,PROCTIMEOUT=600,TIMEOUT=600</span></span>
>
>

<span data-ttu-id="e740d-988">y los vínculos generados en la transacción de DBACockpit tendrán un aspecto similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="e740d-988">and the links generated in transaction DBACockpit will look similar to this:</span></span>

> <span data-ttu-id="e740d-989">https://`<fullyqualifiedhostname`>:44300/sap/bc/webdynpro/sap/dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="e740d-989">https://`<fullyqualifiedhostname`>:44300/sap/bc/webdynpro/sap/dba_cockpit</span></span>
>
> <span data-ttu-id="e740d-990">http://`<fullyqualifiedhostname`>:8000/sap/bc/webdynpro/sap/dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="e740d-990">http://`<fullyqualifiedhostname`>:8000/sap/bc/webdynpro/sap/dba_cockpit</span></span>
>
>

<span data-ttu-id="e740d-991">Dependiendo de si la máquina virtual de Azure que hospeda el sistema SAP se conecta de sitio a sitio, con varios sitios o mediante ExpressRoute (implementación entre locales) y en función de cómo lo haga, debe asegurarse de que ese ICM está usando un nombre de host completo que se puede resolver en el equipo desde el que está intentando abrir DBACockpit.</span><span class="sxs-lookup"><span data-stu-id="e740d-991">Depending on if and how the Azure Virtual Machine hosting the SAP system is connected via site-to-site, multi-site or ExpressRoute (Cross-Premises deployment) you need to make sure that ICM is using a fully qualified hostname that can be resolved on the machine where you are trying to open the DBACockpit from.</span></span> <span data-ttu-id="e740d-992">Consulte la nota de SAP [773830] para conocer el modo en que ICM determina el nombre de host completo según los parámetros de perfil y, si es necesario, defina específicamente el parámetro icm/host_name_full.</span><span class="sxs-lookup"><span data-stu-id="e740d-992">Please see SAP Note [773830] to understand how ICM determines the fully qualified host name depending on profile parameters and set parameter icm/host_name_full explicitly if required.</span></span>

<span data-ttu-id="e740d-993">Si implementó la máquina virtual en un escenario solo de nube sin conectividad en varios entornos entre locales y Azure, debe definir una dirección IP pública y un valor de domainlabel.</span><span class="sxs-lookup"><span data-stu-id="e740d-993">If you deployed the VM in a Cloud-Only scenario without cross-premises connectivity between on-premises and Azure, you need to define a public IP address and a domainlabel.</span></span> <span data-ttu-id="e740d-994">El formato del nombre DNS público de la máquina virtual tendrá un aspecto similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="e740d-994">The format of the public DNS name of the VM will then look like this :</span></span>

> <span data-ttu-id="e740d-995">`<custom domainlabel`>.`<azure region`>.cloudapp.azure.com</span><span class="sxs-lookup"><span data-stu-id="e740d-995">`<custom domainlabel`>.`<azure region`>.cloudapp.azure.com</span></span>
>
>

<span data-ttu-id="e740d-996">Encontrará más detalles relacionados con el nombre DNS [aquí][virtual-machines-azurerm-versus-azuresm].</span><span class="sxs-lookup"><span data-stu-id="e740d-996">More details related to the DNS name can be found [here][virtual-machines-azurerm-versus-azuresm].</span></span>

<span data-ttu-id="e740d-997">El ajuste del parámetro de perfil de SAP icm/host_name_full con el nombre DNS del vínculo de la máquina virtual de Azure puede tener este aspecto:</span><span class="sxs-lookup"><span data-stu-id="e740d-997">Setting the SAP profile parameter icm/host_name_full to the DNS name of the Azure VM the link might look similar to:</span></span>

> <span data-ttu-id="e740d-998">https://mydomainlabel.westeurope.cloudapp.net:44300/sap/bc/webdynpro/sap/dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="e740d-998">https://mydomainlabel.westeurope.cloudapp.net:44300/sap/bc/webdynpro/sap/dba_cockpit</span></span>
>
> <span data-ttu-id="e740d-999">http://mydomainlabel.westeurope.cloudapp.net:8000/sap/bc/webdynpro/sap/dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="e740d-999">http://mydomainlabel.westeurope.cloudapp.net:8000/sap/bc/webdynpro/sap/dba_cockpit</span></span>
>
>

<span data-ttu-id="e740d-1000">En ese caso, debe asegurarse de lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="e740d-1000">In this case you need to make sure to:</span></span>

* <span data-ttu-id="e740d-1001">Agregar reglas de entrada al grupo de seguridad de red en el Portal de Azure para los puertos TCP/IP que se utilizan en la comunicación con el ICM</span><span class="sxs-lookup"><span data-stu-id="e740d-1001">Add Inbound rules to the Network Security Group in the Azure Portal for the TCP/IP ports used to communicate with ICM</span></span>
* <span data-ttu-id="e740d-1002">Agregar reglas de entrada a la configuración del Firewall de Windows para los puertos TCP/IP que se utilizan en la comunicación con el ICM</span><span class="sxs-lookup"><span data-stu-id="e740d-1002">Add Inbound rules to the Windows Firewall configuration for the TCP/IP ports used to communicate with the ICM</span></span>

<span data-ttu-id="e740d-1003">Para importar de forma automatizada todas las correcciones disponibles, se recomienda aplicar periódicamente la colección de correcciones de la nota de SAP correspondiente a su versión de SAP:</span><span class="sxs-lookup"><span data-stu-id="e740d-1003">For an automated imported of all corrections available, it is recommended to periodically apply the correction collection SAP Note applicable to your SAP version:</span></span>

* <span data-ttu-id="e740d-1004">[1558958]</span><span class="sxs-lookup"><span data-stu-id="e740d-1004">[1558958]</span></span>
* <span data-ttu-id="e740d-1005">[1619967]</span><span class="sxs-lookup"><span data-stu-id="e740d-1005">[1619967]</span></span>
* <span data-ttu-id="e740d-1006">[1882376]</span><span class="sxs-lookup"><span data-stu-id="e740d-1006">[1882376]</span></span>

<span data-ttu-id="e740d-1007">Encontrará más información sobre DBA Cockpit para SAP ASE en las siguientes notas de SAP:</span><span class="sxs-lookup"><span data-stu-id="e740d-1007">Further information about DBA Cockpit for SAP ASE can be found in the following SAP Notes:</span></span>

* <span data-ttu-id="e740d-1008">[1605680]</span><span class="sxs-lookup"><span data-stu-id="e740d-1008">[1605680]</span></span>
* <span data-ttu-id="e740d-1009">[1757924]</span><span class="sxs-lookup"><span data-stu-id="e740d-1009">[1757924]</span></span>
* <span data-ttu-id="e740d-1010">[1757928]</span><span class="sxs-lookup"><span data-stu-id="e740d-1010">[1757928]</span></span>
* <span data-ttu-id="e740d-1011">[1758182]</span><span class="sxs-lookup"><span data-stu-id="e740d-1011">[1758182]</span></span>
* <span data-ttu-id="e740d-1012">[1758496]</span><span class="sxs-lookup"><span data-stu-id="e740d-1012">[1758496]</span></span>    
* <span data-ttu-id="e740d-1013">[1814258]</span><span class="sxs-lookup"><span data-stu-id="e740d-1013">[1814258]</span></span>
* <span data-ttu-id="e740d-1014">[1922555]</span><span class="sxs-lookup"><span data-stu-id="e740d-1014">[1922555]</span></span>
* <span data-ttu-id="e740d-1015">[1956005]</span><span class="sxs-lookup"><span data-stu-id="e740d-1015">[1956005]</span></span>

#### <a name="backuprecovery-considerations-for-sap-ase"></a><span data-ttu-id="e740d-1016">Consideraciones de copia de seguridad y recuperación para SAP ASE</span><span class="sxs-lookup"><span data-stu-id="e740d-1016">Backup/Recovery Considerations for SAP ASE</span></span>
<span data-ttu-id="e740d-1017">Al implementar SAP ASE en Azure, debe revisar la metodología de copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="e740d-1017">When deploying SAP ASE into Azure your backup methodology must be reviewed.</span></span> <span data-ttu-id="e740d-1018">Incluso si el sistema no es productivo, se debe realizar periódicamente la copia de seguridad de la base de datos de SAP que hospeda SAP ASE.</span><span class="sxs-lookup"><span data-stu-id="e740d-1018">Even if the system is not a productive system, the SAP database hosted by SAP ASE must be backed up periodically.</span></span> <span data-ttu-id="e740d-1019">Como Azure Storage mantiene tres imágenes, una copia de seguridad es menos importante para compensar un bloqueo de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="e740d-1019">Since Azure Storage keeps three images, a backup is now less important in respect to compensating a storage crash.</span></span> <span data-ttu-id="e740d-1020">La razón principal para el mantenimiento de un plan de copia de seguridad y restauración correcto es que puede compensar errores lógicos o manuales gracias a la capacidad de recuperación a un momento dado.</span><span class="sxs-lookup"><span data-stu-id="e740d-1020">The primary reason for maintaining a proper backup and restore plan is more that you can compensate for logical/manual errors by providing point in time recovery capabilities.</span></span> <span data-ttu-id="e740d-1021">El objetivo es usar las copias de seguridad para restaurar la base de datos a un momento dado o utilizar las copias de seguridad de Azure para propagar otro sistema mediante la copia de la base de datos existente.</span><span class="sxs-lookup"><span data-stu-id="e740d-1021">So the goal is to either use backups to restore the database back to a certain point in time or to use the backups in Azure to seed another system by copying the existing database.</span></span> <span data-ttu-id="e740d-1022">Por ejemplo, podría transferir archivos desde una configuración de SAP de 2 niveles a una configuración de sistema de 3 niveles del mismo sistema mediante la restauración de una copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="e740d-1022">For example, you could transfer from a 2-Tier SAP configuration to a 3-Tier system setup of the same system by restoring a backup.</span></span>

<span data-ttu-id="e740d-1023">La realización de copias de seguridad y restauraciones de bases de datos de Azure funciona del mismo modo que en entornos locales.</span><span class="sxs-lookup"><span data-stu-id="e740d-1023">Backing up and restoring a database in Azure works the same way as it does on-premises.</span></span> <span data-ttu-id="e740d-1024">Consulte las notas de SAP</span><span class="sxs-lookup"><span data-stu-id="e740d-1024">Please see SAP Notes:</span></span>

* <span data-ttu-id="e740d-1025">[1588316]</span><span class="sxs-lookup"><span data-stu-id="e740d-1025">[1588316]</span></span>
* <span data-ttu-id="e740d-1026">[1585981]</span><span class="sxs-lookup"><span data-stu-id="e740d-1026">[1585981]</span></span>

<span data-ttu-id="e740d-1027">para obtener más información sobre la creación de configuraciones de volcado y la programación de copias de seguridad.</span><span class="sxs-lookup"><span data-stu-id="e740d-1027">for details on creating dump configurations and scheduling backups.</span></span> <span data-ttu-id="e740d-1028">Dependiendo de su estrategia y sus necesidades, puede configurar la base de datos y los volcados de registro en disco en uno de los VHD existentes o agregar un VHD adicional para la copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="e740d-1028">Depending on your strategy and needs you can configure database and log dumps to disk onto one of the existing VHDs or add an additional VHD for the backup.</span></span>  <span data-ttu-id="e740d-1029">Para reducir el riesgo de pérdidas de datos si se produce un error, se recomienda usar un VHD donde no haya directorios ni archivos de bases de datos.</span><span class="sxs-lookup"><span data-stu-id="e740d-1029">To reduce the danger of data loss in case of an error it is recommended to use a VHD where no database directory/file is located.</span></span>

<span data-ttu-id="e740d-1030">Además de compresión de datos y de LOB, SAP ASE también ofrece compresión de copias de seguridad.</span><span class="sxs-lookup"><span data-stu-id="e740d-1030">Besides data- and LOB compression SAP ASE also offers backup compression.</span></span> <span data-ttu-id="e740d-1031">Para que los volcados de bases de datos y registros ocupen menos espacio, se recomienda usar la compresión de copias de seguridad.</span><span class="sxs-lookup"><span data-stu-id="e740d-1031">To occupy less space with the database and log dumps it is recommended to use backup compression.</span></span> <span data-ttu-id="e740d-1032">Consulte la nota de SAP [1588316] para más información.</span><span class="sxs-lookup"><span data-stu-id="e740d-1032">Please see SAP Note [1588316] for more information.</span></span> <span data-ttu-id="e740d-1033">Este tipo de compresión también es fundamental para reducir la cantidad de datos que se transfieren si planea descargar copias de seguridad o VHD que contengan volcados de copias de seguridad de la máquina virtual de Azure en el entorno local.</span><span class="sxs-lookup"><span data-stu-id="e740d-1033">Compressing the backup is also crucial to reduce the amount of data to be transferred if you plan to download backups or VHDs containing backup dumps from the Azure Virtual Machine to on-premises.</span></span>

<span data-ttu-id="e740d-1034">No use el espacio temporal /mnt ni /mnt/Resource de máquina virtual de Azure como destino de volcados de registro o de bases de datos.</span><span class="sxs-lookup"><span data-stu-id="e740d-1034">Do not use the Azure VM temp space /mnt or /mnt/resource as database or log dump destination.</span></span>

#### <a name="performance-considerations-for-backupsrestores"></a><span data-ttu-id="e740d-1035">Consideraciones de rendimiento sobre copias de seguridad y restauraciones</span><span class="sxs-lookup"><span data-stu-id="e740d-1035">Performance Considerations for Backups/Restores</span></span>
<span data-ttu-id="e740d-1036">Como en las implementaciones sin sistema operativo, el rendimiento de las copias de seguridad y las restauraciones depende de cuántos volúmenes puedan leerse en paralelo y el rendimiento que estos volúmenes puedan tener.</span><span class="sxs-lookup"><span data-stu-id="e740d-1036">As in bare-metal deployments, backup/restore performance is dependent on how many volumes can be read in parallel and what the throughput of those volumes might be.</span></span> <span data-ttu-id="e740d-1037">Además, el consumo de CPU que se emplea en la compresión de copias de seguridad puede desempeñar un papel importante en las máquinas virtuales con solo 8 subprocesos de CPU como máximo.</span><span class="sxs-lookup"><span data-stu-id="e740d-1037">In addition, the CPU consumption used by backup compression may play a significant role on VMs with just up to 8 CPU threads.</span></span> <span data-ttu-id="e740d-1038">Por lo tanto, se pueden asumir los siguientes puntos:</span><span class="sxs-lookup"><span data-stu-id="e740d-1038">Therefore, one can assume:</span></span>

* <span data-ttu-id="e740d-1039">Cuantos menos VHD se utilicen para almacenar los dispositivos de las bases de datos, menor será el rendimiento general de lectura.</span><span class="sxs-lookup"><span data-stu-id="e740d-1039">The fewer the number of VHDs used to store the database devices, the smaller the overall throughput in reading</span></span>
* <span data-ttu-id="e740d-1040">Cuantos menos subprocesos de CPU haya en la máquina virtual, mayor será el impacto en la compresión de copias de seguridad.</span><span class="sxs-lookup"><span data-stu-id="e740d-1040">The smaller the number of CPU threads in the VM, the more severe the impact of backup compression</span></span>
* <span data-ttu-id="e740d-1041">Cuantos menos destinos (RAID de software Linux, VHD) en los que escribir la copia de seguridad haya, menor será el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="e740d-1041">The fewer targets ( Linux software RAID, VHDs) to write the backup to, the lesser the throughput</span></span>

<span data-ttu-id="e740d-1042">Para aumentar la cantidad de destinos en los que escribir, existen dos opciones que se pueden usar o combinar según sus necesidades:</span><span class="sxs-lookup"><span data-stu-id="e740d-1042">To increase the number of targets to write to there are two options which can be used/combined depending on your needs:</span></span>

* <span data-ttu-id="e740d-1043">Seccionar el volumen de destino de la copia de seguridad en varios VHD montados con el fin de mejorar el rendimiento de IOPS en ese volumen seccionado</span><span class="sxs-lookup"><span data-stu-id="e740d-1043">Striping the backup target volume over multiple mounted VHDs in order to improve the IOPS throughput on that striped volume</span></span>
* <span data-ttu-id="e740d-1044">Crear una configuración de volcado en el nivel de SAP ASE que utilice más de un directorio de destino en el que escribir el volcado</span><span class="sxs-lookup"><span data-stu-id="e740d-1044">Creating a dump configuration on SAP ASE level which uses more than one target directory to write the dump to</span></span>

<span data-ttu-id="e740d-1045">Anteriormente ya se trató en esta guía la sección de un volumen en varios VHD montados.</span><span class="sxs-lookup"><span data-stu-id="e740d-1045">Striping a volume over multiple mounted VHDs has been discussed earlier in this guide.</span></span> <span data-ttu-id="e740d-1046">Para más información sobre el uso de varios directorios en la configuración de volcado de SAP ASE, consulte la documentación sobre el procedimiento almacenado sp_config_dump que se utiliza para crear la configuración de volcado en [Sybase Infocenter](http://infocenter.sybase.com/help/index.jsp).</span><span class="sxs-lookup"><span data-stu-id="e740d-1046">For more information on using multiple directories in the SAP ASE dump configuration please refer to the documentation on Stored Procedure sp_config_dump which is used to create the dump configuration on the [Sybase Infocenter](http://infocenter.sybase.com/help/index.jsp).</span></span>

### <a name="disaster-recovery-with-azure-vms"></a><span data-ttu-id="e740d-1047">Recuperación ante desastres con máquinas virtuales de Azure</span><span class="sxs-lookup"><span data-stu-id="e740d-1047">Disaster Recovery with Azure VMs</span></span>
#### <a name="data-replication-with-sap-sybase-replication-server"></a><span data-ttu-id="e740d-1048">Replicación de datos con el servidor de replicación SAP Sybase</span><span class="sxs-lookup"><span data-stu-id="e740d-1048">Data Replication with SAP Sybase Replication Server</span></span>
<span data-ttu-id="e740d-1049">Con el servidor de replicación SAP Sybase (SRS), SAP ASE proporciona una solución de espera semiactiva para transferir las transacciones de la base de datos a una ubicación distante de manera asincrónica.</span><span class="sxs-lookup"><span data-stu-id="e740d-1049">With the SAP Sybase Replication Server (SRS) SAP ASE provides a warm standby solution to transfer database transactions to a distant location asynchronously.</span></span>

<span data-ttu-id="e740d-1050">La instalación y la actividad de SRS se desarrollan funcionalmente igual de bien en una máquina virtual hospedada en servicios de máquina virtual de Azure que en el entorno local.</span><span class="sxs-lookup"><span data-stu-id="e740d-1050">The installation and operation of SRS works as well functionally in a VM hosted in Azure Virtual Machine Services as it does on-premises.</span></span>

<span data-ttu-id="e740d-1051">En este momento no se admite ASE HADR a través de SAP Replication Server.</span><span class="sxs-lookup"><span data-stu-id="e740d-1051">ASE HADR via SAP Replication Server is NOT supported at this point in time.</span></span> <span data-ttu-id="e740d-1052">Es posible que más adelante se realicen pruebas con las plataformas de Microsoft Azure y se publiquen para ellas.</span><span class="sxs-lookup"><span data-stu-id="e740d-1052">It might be tested with and released for Microsoft Azure platforms in the future.</span></span>

## <a name="specifics-to-oracle-database-on-windows"></a><span data-ttu-id="e740d-1053">Detalles de la base de datos de Oracle en Windows</span><span class="sxs-lookup"><span data-stu-id="e740d-1053">Specifics to Oracle Database on Windows</span></span>
<span data-ttu-id="e740d-1054">Desde mediados de 2013, el software de Oracle es compatible con Oracle para ejecutarse en Microsoft Windows Hyper-V y Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-1054">Since midyear 2013, Oracle software is supported by Oracle to run on Microsoft Windows Hyper-V and Azure.</span></span> <span data-ttu-id="e740d-1055">Lea este artículo para más información sobre la compatibilidad general de Windows Hyper-V y Azure Oracle: <https://blogs.oracle.com/cloud/entry/oracle_and_microsoft_join_forces>.</span><span class="sxs-lookup"><span data-stu-id="e740d-1055">Please read this article to get more details on the general support of Windows Hyper-V and Azure by Oracle: <https://blogs.oracle.com/cloud/entry/oracle_and_microsoft_join_forces></span></span>

<span data-ttu-id="e740d-1056">A partir de esta compatibilidad general, también se admite el escenario concreto en el que las aplicaciones de SAP aprovechen las bases de datos de Oracle.</span><span class="sxs-lookup"><span data-stu-id="e740d-1056">Following the general support, the specific scenario of SAP applications leveraging Oracle Databases is supported as well.</span></span> <span data-ttu-id="e740d-1057">Los detalles se mencionan en esta parte del documento.</span><span class="sxs-lookup"><span data-stu-id="e740d-1057">Details are named in this part of the document.</span></span>

### <a name="oracle-version-support"></a><span data-ttu-id="e740d-1058">Compatibilidad de versiones de Oracle</span><span class="sxs-lookup"><span data-stu-id="e740d-1058">Oracle Version Support</span></span>
<span data-ttu-id="e740d-1059">Todos los detalles sobre las versiones de Oracle y las versiones de SO correspondientes que se admiten para ejecutar SAP en Oracle en máquinas virtuales de Azure se encuentran en la nota de SAP [2039619]</span><span class="sxs-lookup"><span data-stu-id="e740d-1059">All details about Oracle versions and corresponding OS versions which are supported for running SAP on Oracle on Azure Virtual Machines can be found in the following SAP Note [2039619]</span></span>

<span data-ttu-id="e740d-1060">Se puede encontrar información general sobre la ejecución de SAP Business Suite en Oracle en SCN: <https://scn.sap.com/community/oracle>.</span><span class="sxs-lookup"><span data-stu-id="e740d-1060">General information about running SAP Business Suite on Oracle can be found on SCN: <https://scn.sap.com/community/oracle></span></span>

### <a name="oracle-configuration-guidelines-for-sap-installations-in-azure-vms"></a><span data-ttu-id="e740d-1061">Instrucciones de configuración de Oracle para instalaciones de SAP en máquinas virtuales de Azure</span><span class="sxs-lookup"><span data-stu-id="e740d-1061">Oracle Configuration Guidelines for SAP Installations in Azure VMs</span></span>
#### <a name="storage-configuration"></a><span data-ttu-id="e740d-1062">Configuración de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="e740d-1062">Storage configuration</span></span>
<span data-ttu-id="e740d-1063">Solo se admiten versiones de Oracle de solo una versión que usen discos con formato NTFS.</span><span class="sxs-lookup"><span data-stu-id="e740d-1063">Only single instance Oracle using NTFS formatted disks is supported.</span></span> <span data-ttu-id="e740d-1064">Todos los archivos de las bases de datos se deben almacenar en el sistema de archivos NTFS basado en discos VHD.</span><span class="sxs-lookup"><span data-stu-id="e740d-1064">All database files must be stored on the NTFS file system based on VHD disks.</span></span> <span data-ttu-id="e740d-1065">Estos discos duros virtuales están montados en la máquina virtual de Azure y se basan en el almacenamiento de blob en páginas de Azure (<https://msdn.microsoft.com/library/azure/ee691964.aspx>).</span><span class="sxs-lookup"><span data-stu-id="e740d-1065">These VHDs are mounted to the Azure VM and are based on Azure Page BLOB Storage (<https://msdn.microsoft.com/library/azure/ee691964.aspx>).</span></span>
<span data-ttu-id="e740d-1066">Las unidades de red o los recursos compartidos remotos como los servicios de archivos de Azure:</span><span class="sxs-lookup"><span data-stu-id="e740d-1066">Any kind of network drives or remote shares like Azure file services:</span></span>

* <span data-ttu-id="e740d-1067"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/12/introducing-microsoft-azure-file-service.aspx></span><span class="sxs-lookup"><span data-stu-id="e740d-1067"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/12/introducing-microsoft-azure-file-service.aspx></span></span>
* <span data-ttu-id="e740d-1068"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/27/persisting-connections-to-microsoft-azure-files.aspx></span><span class="sxs-lookup"><span data-stu-id="e740d-1068"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/27/persisting-connections-to-microsoft-azure-files.aspx></span></span>

<span data-ttu-id="e740d-1069">**NO** son compatibles con los archivos de bases de datos de Oracle.</span><span class="sxs-lookup"><span data-stu-id="e740d-1069">are **NOT** supported for Oracle database files!</span></span>

<span data-ttu-id="e740d-1070">Si usa discos duros virtuales de Azure basado en el almacenamiento de blobs en páginas de Azure, las declaraciones realizadas en este documento en el capítulo [Almacenamiento en caché de máquinas virtuales y VHD][dbms-guide-2.1] y [Microsoft Azure Storage][dbms-guide-2.3] también se refieren a las implementaciones con la base de datos de Oracle.</span><span class="sxs-lookup"><span data-stu-id="e740d-1070">Using Azure VHDs based on Azure Page BLOB Storage, the statements made in this document in chapter [Caching for VMs and VHDs][dbms-guide-2.1] and [Microsoft Azure Storage][dbms-guide-2.3] apply to deployments with the Oracle Database as well.</span></span>

<span data-ttu-id="e740d-1071">Como se explicó anteriormente en la parte general del documento, existen cuotas en el rendimiento IOPS para VHD de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-1071">As explained earlier in the general part of the document, quotas on IOPS throughput for Azure VHDs exist.</span></span> <span data-ttu-id="e740d-1072">Las cuotas exactas varían según el tipo de máquina virtual que se utilice.</span><span class="sxs-lookup"><span data-stu-id="e740d-1072">The exact quotas are depending on the VM type used.</span></span> <span data-ttu-id="e740d-1073">Dispone de una lista con los tipos de máquina virtual y sus cuotas [aquí][virtual-machines-sizes].</span><span class="sxs-lookup"><span data-stu-id="e740d-1073">A list of VM types with their quotas can be found [here][virtual-machines-sizes]</span></span>

<span data-ttu-id="e740d-1074">Para identificar los tipos de máquina virtual de Azure admitidos, consulte la nota de SAP [1928533]</span><span class="sxs-lookup"><span data-stu-id="e740d-1074">To identify the supported Azure VM types, please refer to SAP note [1928533]</span></span>

<span data-ttu-id="e740d-1075">Mientras la cuota actual de IOPS por disco cumpla los requisitos, se pueden almacenar todos los archivos de base de datos en un solo VHD de Azure montado.</span><span class="sxs-lookup"><span data-stu-id="e740d-1075">As long as the current IOPS quota per disk satisfies the requirements, it is possible to store all the DB files on one single mounted Azure VHD.</span></span>

<span data-ttu-id="e740d-1076">Si necesita más IOPS, se recomienda encarecidamente utilizar bloques de almacenamiento de Windows (solo disponibles en Windows Server 2012 y versiones posteriores) o crear secciones de Windows para Windows 2008 R2 a fin de crear un dispositivo lógico de gran tamaño en varios discos VHD montados.</span><span class="sxs-lookup"><span data-stu-id="e740d-1076">If more IOPS are required, it is strongly recommended to use Window Storage Pools (only available in Windows Server 2012 and higher) or Windows striping for Windows 2008 R2 to create one big logical device over multiple mounted VHD disks.</span></span> <span data-ttu-id="e740d-1077">Consulte también el capítulo [RAID de software][dbms-guide-2.2] de este documento.</span><span class="sxs-lookup"><span data-stu-id="e740d-1077">See also chapter [Software RAID][dbms-guide-2.2] of this document.</span></span> <span data-ttu-id="e740d-1078">Este enfoque simplifica la sobrecarga de administración para administrar el espacio en disco y evita el esfuerzo de distribuir archivos manualmente en varios VHD montados.</span><span class="sxs-lookup"><span data-stu-id="e740d-1078">This approach simplifies the administration overhead to manage the disk space and avoids the effort to manually distribute files across multiple mounted VHDs.</span></span>

#### <a name="backup--restore"></a><span data-ttu-id="e740d-1079">Copia de seguridad y restauración</span><span class="sxs-lookup"><span data-stu-id="e740d-1079">Backup / Restore</span></span>
<span data-ttu-id="e740d-1080">Para utilizar la funcionalidad de copia de seguridad y restauración, las SAP BR*Tools para Oracle se admiten del mismo modo que en los sistemas operativos Windows Server y Hyper-V estándares.</span><span class="sxs-lookup"><span data-stu-id="e740d-1080">For backup / restore functionality, the SAP BR*Tools for Oracle are supported in the same way as on standard Windows Server Operating Systems and Hyper-V.</span></span> <span data-ttu-id="e740d-1081">También se admite Oracle Recovery Manager (RMAN) para las copias de seguridad en discos y las restauraciones desde discos.</span><span class="sxs-lookup"><span data-stu-id="e740d-1081">Oracle Recovery Manager (RMAN) is also supported for backups to disk and restore from disk.</span></span>

#### <a name="high-availability"></a><span data-ttu-id="e740d-1082">Alta disponibilidad</span><span class="sxs-lookup"><span data-stu-id="e740d-1082">High Availability</span></span>
<span data-ttu-id="e740d-1083">[comment]: <> (el vínculo hace referencia a ASM)</span><span class="sxs-lookup"><span data-stu-id="e740d-1083">[comment]: <> (link refers to ASM)</span></span>
<span data-ttu-id="e740d-1084">Oracle Data Guard se admite con fines de alta disponibilidad y recuperación ante desastres.</span><span class="sxs-lookup"><span data-stu-id="e740d-1084">Oracle Data Guard is supported for high availability and disaster recovery purposes.</span></span> <span data-ttu-id="e740d-1085">Encontrará los detalles en [esta][virtual-machines-windows-classic-configure-oracle-data-guard] documentación.</span><span class="sxs-lookup"><span data-stu-id="e740d-1085">Details can be found in [this][virtual-machines-windows-classic-configure-oracle-data-guard] documentation.</span></span>

#### <a name="other"></a><span data-ttu-id="e740d-1086">Otros</span><span class="sxs-lookup"><span data-stu-id="e740d-1086">Other</span></span>
<span data-ttu-id="e740d-1087">Todos los demás temas generales, como los conjuntos de disponibilidad de Azure o la supervisión de SAP, se aplican como se describen en los tres primeros capítulos de este documento para implementaciones de máquinas virtuales también con la base de datos de Oracle.</span><span class="sxs-lookup"><span data-stu-id="e740d-1087">All other general topics like Azure Availability Sets or SAP monitoring apply as described in the first three chapters of this document for deployments of VMs with the Oracle Database as well.</span></span>

## <a name="specifics-for-the-sap-maxdb-database-on-windows"></a><span data-ttu-id="e740d-1088">Detalles de la base de datos SAP MaxDB en Windows</span><span class="sxs-lookup"><span data-stu-id="e740d-1088">Specifics for the SAP MaxDB Database on Windows</span></span>
### <a name="sap-maxdb-version-support"></a><span data-ttu-id="e740d-1089">Compatibilidad de versiones de SAP MaxDB</span><span class="sxs-lookup"><span data-stu-id="e740d-1089">SAP MaxDB Version Support</span></span>
<span data-ttu-id="e740d-1090">SAP actualmente admite SAP MaxDB versión 7.9 para su uso con productos basados en SAP NetWeaver en Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-1090">SAP currently supports SAP MaxDB version 7.9 for use with SAP NetWeaver-based products in Azure.</span></span> <span data-ttu-id="e740d-1091">Todas las actualizaciones del servidor SAP MaxDB o de los controladores ODBC y JDBC que se utilizarán con productos basados en SAP NetWeaver se proporcionan únicamente a través de SAP Service Marketplace en <https://support.sap.com/swdc>.</span><span class="sxs-lookup"><span data-stu-id="e740d-1091">All updates for SAP MaxDB server, or JDBC and ODBC drivers to be used with SAP NetWeaver-based products are provided solely through the SAP Service Marketplace at <https://support.sap.com/swdc>.</span></span>
<span data-ttu-id="e740d-1092">Se puede encontrar información general sobre la ejecución de SAP NetWeaver en SAP MaxDB en <https://scn.sap.com/community/maxdb>.</span><span class="sxs-lookup"><span data-stu-id="e740d-1092">General information on running SAP NetWeaver on SAP MaxDB can be found at <https://scn.sap.com/community/maxdb>.</span></span>

### <a name="supported-microsoft-windows-versions-and-azure-vm-types-for-sap-maxdb-dbms"></a><span data-ttu-id="e740d-1093">Versiones de Microsoft Windows y tipos de máquina virtual de Azure admitidos para SAP MaxDB DBMS</span><span class="sxs-lookup"><span data-stu-id="e740d-1093">Supported Microsoft Windows Versions and Azure VM types for SAP MaxDB DBMS</span></span>
<span data-ttu-id="e740d-1094">Para obtener la versión compatible de Microsoft Windows para SAP MaxDB DBMS en Azure, consulte:</span><span class="sxs-lookup"><span data-stu-id="e740d-1094">To find the supported Microsoft Windows version for SAP MaxDB DBMS on Azure, see:</span></span>

* <span data-ttu-id="e740d-1095">[Matriz de disponibilidad de productos (PAM) SAP][sap-pam]</span><span class="sxs-lookup"><span data-stu-id="e740d-1095">[SAP Product Availability Matrix (PAM)][sap-pam]</span></span>
* <span data-ttu-id="e740d-1096">Nota de SAP [1928533]</span><span class="sxs-lookup"><span data-stu-id="e740d-1096">SAP Note [1928533]</span></span>

<span data-ttu-id="e740d-1097">Se recomienda encarecidamente utilizar la versión más reciente del sistema operativo Microsoft Windows (Microsoft Windows 2012 R2 en el momento en el que se escribe este artículo).</span><span class="sxs-lookup"><span data-stu-id="e740d-1097">It is highly recommended to use the newest version of the operating system Microsoft Windows, which is Microsoft Windows 2012 R2.</span></span>

### <a name="available-sap-maxdb-documentation"></a><span data-ttu-id="e740d-1098">Documentación de SAP MaxDB disponible</span><span class="sxs-lookup"><span data-stu-id="e740d-1098">Available SAP MaxDB Documentation</span></span>
<span data-ttu-id="e740d-1099">Encontrará la lista de la documentación de SAP MaxDB actualizada en la nota de SAP [767598]</span><span class="sxs-lookup"><span data-stu-id="e740d-1099">You can find the updated list of SAP MaxDB documentation in the following SAP Note [767598]</span></span>

### <a name="sap-maxdb-configuration-guidelines-for-sap-installations-in-azure-vms"></a><span data-ttu-id="e740d-1100">Instrucciones de configuración de SAP MaxDB para instalaciones de SAP en máquinas virtuales de Azure</span><span class="sxs-lookup"><span data-stu-id="e740d-1100">SAP MaxDB Configuration Guidelines for SAP Installations in Azure VMs</span></span>
#### <span data-ttu-id="e740d-1101"><a name="b48cfe3b-48e9-4f5b-a783-1d29155bd573"></a>Configuración de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="e740d-1101"><a name="b48cfe3b-48e9-4f5b-a783-1d29155bd573"></a>Storage configuration</span></span>
<span data-ttu-id="e740d-1102">Los procedimientos recomendados de almacenamiento de Azure para SAP MaxDB siguen las recomendaciones generales mencionadas en el capítulo [Estructura de una implementación de RDBMS][dbms-guide-2].</span><span class="sxs-lookup"><span data-stu-id="e740d-1102">Azure storage best practices for SAP MaxDB follow the general recommendations mentioned in chapter [Structure of a RDBMS Deployment][dbms-guide-2].</span></span>

> [!IMPORTANT]
> <span data-ttu-id="e740d-1103">Al igual que otras bases de datos, SAP MaxDB también dispone de archivos de datos y de registro.</span><span class="sxs-lookup"><span data-stu-id="e740d-1103">Like other databases, SAP MaxDB also has data and log files.</span></span> <span data-ttu-id="e740d-1104">Sin embargo, en la terminología de SAP MaxDB el término correcto es "volumen" (no "archivo").</span><span class="sxs-lookup"><span data-stu-id="e740d-1104">However, in SAP MaxDB terminology the correct term is “volume” (not “file”).</span></span> <span data-ttu-id="e740d-1105">Por ejemplo, existen volúmenes de datos y de registro de SAP MaxDB.</span><span class="sxs-lookup"><span data-stu-id="e740d-1105">For example, there are SAP MaxDB data volumes and log volumes.</span></span> <span data-ttu-id="e740d-1106">No los confunda con los volúmenes de disco del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="e740d-1106">Do not confuse these with OS disk volumes.</span></span>
>
>

<span data-ttu-id="e740d-1107">En resumen, deberá hacer lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="e740d-1107">In short you have to:</span></span>

* <span data-ttu-id="e740d-1108">Establecer la cuenta de almacenamiento de Azure que contiene los volúmenes de registros y datos de SAP MaxDB (es decir, archivos) en **Almacenamiento con redundancia local (LRS)** como se indica en el capítulo [Microsoft Azure Storage][dbms-guide-2.3].</span><span class="sxs-lookup"><span data-stu-id="e740d-1108">Set the Azure storage account that holds the SAP MaxDB data and log volumes (i.e. files) to **Local Redundant Storage (LRS)** as specified in chapter [Microsoft Azure Storage][dbms-guide-2.3].</span></span>
* <span data-ttu-id="e740d-1109">Separar la ruta de acceso de E/S para los volúmenes (es decir, archivos) de datos de SAP MaxDB desde la ruta de acceso de E/S para los volúmenes (de nuevo, archivos) de registro.</span><span class="sxs-lookup"><span data-stu-id="e740d-1109">Separate the IO path for SAP MaxDB data volumes (i.e. files) from the IO path for log volumes (i.e. files).</span></span> <span data-ttu-id="e740d-1110">Esto significa que los volúmenes de datos de SAP MaxDB han de estar instalados en una unidad lógica y que los volúmenes de registro de MaxDB de SAP deben estar instalados en otra.</span><span class="sxs-lookup"><span data-stu-id="e740d-1110">This means that SAP MaxDB data volumes (i.e. files) have to be installed on one logical drive and SAP MaxDB log volumes (i.e. files) have to be installed on another logical drive.</span></span>
* <span data-ttu-id="e740d-1111">Establecer la caché de archivos adecuada para cada blob de Azure en función de si la utiliza para volúmenes de datos o registros de SAP MaxDB y de si se usa almacenamiento estándar o Azure Premium Storage, tal como se describe en el capítulo [Almacenamiento en caché de máquinas virtuales][dbms-guide-2.1].</span><span class="sxs-lookup"><span data-stu-id="e740d-1111">Set the proper file caching for each Azure blob, depending on whether you use it for SAP MaxDB data or log volumes (i.e. files), and whether you use Azure Standard or Azure Premium Storage, as described in chapter [Caching for VMs][dbms-guide-2.1].</span></span>
* <span data-ttu-id="e740d-1112">Mientras la cuota actual de IOPS por disco cumpla los requisitos, se pueden almacenar todos los volúmenes de datos en un solo VHD de Azure montado y también almacenar todos los volúmenes de registro de bases de datos en otro VHD único de Azure montado.</span><span class="sxs-lookup"><span data-stu-id="e740d-1112">As long as the current IOPS quota per disk satisfies the requirements, it is possible to store all the data volumes on a single mounted Azure VHD, and also store all database log volumes on another single mounted Azure VHD.</span></span>
* <span data-ttu-id="e740d-1113">Si necesita más IOPS o espacio, se recomienda encarecidamente utilizar bloques de almacenamiento de Microsoft Windows (solo disponibles en Microsoft Windows Server 2012 y versiones posteriores) o la creación de bandas de Microsoft Windows para Microsoft Windows 2008 R2 a fin de crear un dispositivo lógico de gran tamaño en varios discos VHD montados.</span><span class="sxs-lookup"><span data-stu-id="e740d-1113">If more IOPS and/or space are required, it is strongly recommended to use Microsoft Window Storage Pools (only available in Microsoft Windows Server 2012 and higher) or Microsoft Windows striping for Microsoft Windows 2008 R2 to create one large logical device over multiple mounted VHD disks.</span></span> <span data-ttu-id="e740d-1114">Consulte también el capítulo [RAID de software][dbms-guide-2.2] de este documento.</span><span class="sxs-lookup"><span data-stu-id="e740d-1114">See also chapter [Software RAID][dbms-guide-2.2] of this document.</span></span> <span data-ttu-id="e740d-1115">Este enfoque simplifica la sobrecarga de administración para administrar el espacio en disco y evita el esfuerzo de distribuir archivos manualmente en varios VHD montados.</span><span class="sxs-lookup"><span data-stu-id="e740d-1115">This approach simplifies the administration overhead to manage the disk space and avoids the effort of manually distributing files across multiple mounted VHDs.</span></span>
* <span data-ttu-id="e740d-1116">Para los requisitos de IOPS más exigentes, puede usar el almacenamiento Premium de Azure, disponible en las series de máquinas virtuales DS y GS.</span><span class="sxs-lookup"><span data-stu-id="e740d-1116">For the highest IOPS requirements, you can use Azure Premium Storage, which is available on DS-series and GS-series VMs.</span></span>

![Configuración de referencia de máquinas virtuales IaaS de Azure para SAP MaxDB DBMS][dbms-guide-figure-600]

#### <span data-ttu-id="e740d-1118"><a name="23c78d3b-ca5a-4e72-8a24-645d141a3f5d"></a>Copia de seguridad y restauración</span><span class="sxs-lookup"><span data-stu-id="e740d-1118"><a name="23c78d3b-ca5a-4e72-8a24-645d141a3f5d"></a>Backup and Restore</span></span>
<span data-ttu-id="e740d-1119">Al implementar SAP MaxDB en Azure, debe revisar la metodología de copias de seguridad.</span><span class="sxs-lookup"><span data-stu-id="e740d-1119">When deploying SAP MaxDB into Azure, you must review your backup methodology.</span></span> <span data-ttu-id="e740d-1120">Incluso si el sistema no es productivo, se debe realizar periódicamente la copia de seguridad de la base de datos de SAP que hospeda SAP MaxDB.</span><span class="sxs-lookup"><span data-stu-id="e740d-1120">Even if the system is not a productive system, the SAP database hosted by SAP MaxDB must be backed up periodically.</span></span> <span data-ttu-id="e740d-1121">Puesto que Azure Storage guarda tres imágenes, ahora una copia de seguridad tiene menos relevancia en cuanto a la protección del sistema contra errores de almacenamiento y más relevancia en cuanto a errores operativos o administrativos.</span><span class="sxs-lookup"><span data-stu-id="e740d-1121">Since Azure Storage keeps three images, a backup is now less important in terms of protecting your system against storage failure and more important operational or administrative failures.</span></span> <span data-ttu-id="e740d-1122">La razón principal para el mantenimiento de un plan de copia de seguridad y restauración correcto es que puede compensar errores lógicos o manuales gracias a la capacidad de recuperación a un momento dado.</span><span class="sxs-lookup"><span data-stu-id="e740d-1122">The primary reason for maintaining a proper backup and restore plan is so that you can compensate for logical or manual errors by providing point-in-time recovery capabilities.</span></span> <span data-ttu-id="e740d-1123">Por tanto, el propósito es usar copias de seguridad para restaurar la base de datos a un momento dado o utilizar las copias de seguridad de Azure para propagar otro sistema mediante la copia de la base de datos existente.</span><span class="sxs-lookup"><span data-stu-id="e740d-1123">So the goal is to either use backups to restore the database to a certain point in time or to use the backups in Azure to seed another system by copying the existing database.</span></span> <span data-ttu-id="e740d-1124">Por ejemplo, podría transferir archivos desde una configuración de SAP de 2 niveles a una configuración de sistema de 3 niveles del mismo sistema mediante la restauración de una copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="e740d-1124">For example, you could transfer from a 2-tier SAP configuration to a 3-tier system setup of the same system by restoring a backup.</span></span>

<span data-ttu-id="e740d-1125">La realización de copias de seguridad y restauraciones de una base de datos de Azure funciona del mismo modo que para sistemas locales, por lo que puede usar herramientas estándar de copia de seguridad y restauración de SAP MaxDB, que se describen en uno de los documentos de SAP MaxDB enumerados en la nota de SAP [767598].</span><span class="sxs-lookup"><span data-stu-id="e740d-1125">Backing up and restoring a database in Azure works the same way as it does for on-premises systems, so you can use standard SAP MaxDB backup/restore tools, which are described in one of the SAP MaxDB documentation documents listed in SAP Note [767598].</span></span>

#### <span data-ttu-id="e740d-1126"><a name="77cd2fbb-307e-4cbf-a65f-745553f72d2c"></a>Consideraciones de rendimiento para copias de seguridad y restauraciones</span><span class="sxs-lookup"><span data-stu-id="e740d-1126"><a name="77cd2fbb-307e-4cbf-a65f-745553f72d2c"></a>Performance Considerations for Backup and Restore</span></span>
<span data-ttu-id="e740d-1127">Como en las implementaciones sin sistema operativo, el rendimiento de las copias de seguridad y las restauraciones depende de cuántos volúmenes puedan leerse en paralelo y del rendimiento de estos volúmenes.</span><span class="sxs-lookup"><span data-stu-id="e740d-1127">As in bare-metal deployments, backup and restore performance is dependent on how many volumes can be read in parallel and the throughput of those volumes.</span></span> <span data-ttu-id="e740d-1128">Además, el consumo de CPU que se emplea en la compresión de copias de seguridad puede desempeñar un papel importante en las máquinas virtuales con 8 subprocesos de CPU como máximo.</span><span class="sxs-lookup"><span data-stu-id="e740d-1128">In addition, the CPU consumption used by backup compression can play a significant role on VMs with up to 8 CPU threads.</span></span> <span data-ttu-id="e740d-1129">Por lo tanto, se pueden asumir los siguientes puntos:</span><span class="sxs-lookup"><span data-stu-id="e740d-1129">Therefore, one can assume:</span></span>

* <span data-ttu-id="e740d-1130">Cuantos menos VHD se utilicen para almacenar los dispositivos de las bases de datos, menor será el rendimiento general de lectura.</span><span class="sxs-lookup"><span data-stu-id="e740d-1130">The fewer the number of VHDs used to store the database devices, the lower the overall read throughput</span></span>
* <span data-ttu-id="e740d-1131">Cuantos menos subprocesos de CPU haya en la máquina virtual, mayor será el impacto en la compresión de copias de seguridad.</span><span class="sxs-lookup"><span data-stu-id="e740d-1131">The smaller the number of CPU threads in the VM, the more severe the impact of backup compression</span></span>
* <span data-ttu-id="e740d-1132">Cuantos menos destinos (directorios de sección, VHD, etc.) en los que escribir la copia de seguridad haya, menor será el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="e740d-1132">The fewer targets (Stripe Directories, VHDs) to write the backup to, the lower the throughput</span></span>

<span data-ttu-id="e740d-1133">Para aumentar la cantidad de destinos en los que escribir, existen dos opciones a las que puede recurrir (puede que de forma combinada) según sus necesidades:</span><span class="sxs-lookup"><span data-stu-id="e740d-1133">To increase the number of targets to write to, there are two options that you can use, possibly in combination, depending on your needs:</span></span>

* <span data-ttu-id="e740d-1134">Dedicar volúmenes distintos a copias de seguridad</span><span class="sxs-lookup"><span data-stu-id="e740d-1134">Dedicating separate volumes for backup</span></span>
* <span data-ttu-id="e740d-1135">Seccionar el volumen de destino de la copia de seguridad en varios VHD montados con el fin de mejorar el rendimiento de IOPS en ese volumen de disco seccionado</span><span class="sxs-lookup"><span data-stu-id="e740d-1135">Striping the backup target volume over multiple mounted VHDs in order to improve the IOPS throughput on that striped disk volume</span></span>
* <span data-ttu-id="e740d-1136">Disponer de dispositivos de discos lógicos dedicados distintos para:</span><span class="sxs-lookup"><span data-stu-id="e740d-1136">Having separate dedicated logical disk devices for:</span></span>
  * <span data-ttu-id="e740d-1137">Volúmenes (archivos) de copia de seguridad de SAP MaxDB</span><span class="sxs-lookup"><span data-stu-id="e740d-1137">SAP MaxDB backup volumes (i.e. files)</span></span>
  * <span data-ttu-id="e740d-1138">Volúmenes de datos de SAP MaxDB</span><span class="sxs-lookup"><span data-stu-id="e740d-1138">SAP MaxDB data volumes ( i.e. files)</span></span>
  * <span data-ttu-id="e740d-1139">Volúmenes de registros de SAP MaxDB</span><span class="sxs-lookup"><span data-stu-id="e740d-1139">SAP MaxDB log volumes ( i.e. files)</span></span>

<span data-ttu-id="e740d-1140">Ya se trató en el capítulo [RAID de software][dbms-guide-2.2] de este documento la sección de un volumen en varios discos duros virtuales montados.</span><span class="sxs-lookup"><span data-stu-id="e740d-1140">Striping a volume over multiple mounted VHDs has been discussed earlier in chapter [Software RAID][dbms-guide-2.2] of this document.</span></span>

#### <span data-ttu-id="e740d-1141"><a name="f77c1436-9ad8-44fb-a331-8671342de818"></a>Otros</span><span class="sxs-lookup"><span data-stu-id="e740d-1141"><a name="f77c1436-9ad8-44fb-a331-8671342de818"></a>Other</span></span>
<span data-ttu-id="e740d-1142">Todos los demás temas generales, como los conjuntos de disponibilidad de Azure o la supervisión de SAP, se aplican como se describen en los tres primeros capítulos de este documento para implementaciones de máquinas virtuales con la base de datos de SAP MaxDB.</span><span class="sxs-lookup"><span data-stu-id="e740d-1142">All other general topics such as Azure Availability Sets or SAP monitoring also apply as described in the first three chapters of this document for deployments of VMs with the SAP MaxDB database.</span></span>
<span data-ttu-id="e740d-1143">Otras configuraciones específicas de SAP MaxDB son transparentes para las máquinas virtuales de Azure y se describen en distintos documentos de la nota de SAP [767598] y en estas otras notas:</span><span class="sxs-lookup"><span data-stu-id="e740d-1143">Other SAP MaxDB-specific settings are transparent to Azure VMs and are described in different documents listed in SAP Note [767598] and in these SAP notes:</span></span>

* <span data-ttu-id="e740d-1144">[826037]</span><span class="sxs-lookup"><span data-stu-id="e740d-1144">[826037]</span></span>
* <span data-ttu-id="e740d-1145">[1139904]</span><span class="sxs-lookup"><span data-stu-id="e740d-1145">[1139904]</span></span>
* <span data-ttu-id="e740d-1146">[1173395]</span><span class="sxs-lookup"><span data-stu-id="e740d-1146">[1173395]</span></span>

## <a name="specifics-for-sap-livecache-on-windows"></a><span data-ttu-id="e740d-1147">Detalles de SAP liveCache en Windows</span><span class="sxs-lookup"><span data-stu-id="e740d-1147">Specifics for SAP liveCache on Windows</span></span>
### <a name="sap-livecache-version-support"></a><span data-ttu-id="e740d-1148">Compatibilidad de versiones de SAP liveCache</span><span class="sxs-lookup"><span data-stu-id="e740d-1148">SAP liveCache Version Support</span></span>
<span data-ttu-id="e740d-1149">La versión mínima de SAP liveCache que las máquinas virtuales de Azure admiten es **SAP LC/LCAPPS 10.0 SP 25**, incluida **liveCache 7.9.08.31** y **LCA-Build 25**, publicadas en **EhP 2 para SAP SCM 7.0** y en versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="e740d-1149">Minimal version of SAP liveCache supported in Azure Virtual Machines is **SAP LC/LCAPPS 10.0 SP 25** including **liveCache 7.9.08.31** and **LCA-Build 25**, released for **EhP 2 for SAP SCM 7.0** and higher.</span></span>

### <a name="supported-microsoft-windows-versions-and-azure-vm-types-for-sap-livecache-dbms"></a><span data-ttu-id="e740d-1150">Versiones de Microsoft Windows y tipos de máquina virtual de Azure admitidos para SAP liveCache DBMS</span><span class="sxs-lookup"><span data-stu-id="e740d-1150">Supported Microsoft Windows Versions and Azure VM types for SAP liveCache DBMS</span></span>
<span data-ttu-id="e740d-1151">Para obtener la versión compatible de Microsoft Windows para SAP liveCache en Azure, consulte:</span><span class="sxs-lookup"><span data-stu-id="e740d-1151">To find the supported Microsoft Windows version for SAP liveCache on Azure, see:</span></span>

* <span data-ttu-id="e740d-1152">[Matriz de disponibilidad de productos (PAM) SAP][sap-pam]</span><span class="sxs-lookup"><span data-stu-id="e740d-1152">[SAP Product Availability Matrix (PAM)][sap-pam]</span></span>
* <span data-ttu-id="e740d-1153">Nota de SAP [1928533]</span><span class="sxs-lookup"><span data-stu-id="e740d-1153">SAP Note [1928533]</span></span>

<span data-ttu-id="e740d-1154">Se recomienda encarecidamente utilizar la versión más reciente del sistema operativo Microsoft Windows (Microsoft Windows 2012 R2 en el momento en el que se escribe este artículo).</span><span class="sxs-lookup"><span data-stu-id="e740d-1154">It is highly recommended to use the newest version of the operating system Microsoft Windows, which is Microsoft Windows 2012 R2.</span></span>

### <a name="sap-livecache-configuration-guidelines-for-sap-installations-in-azure-vms"></a><span data-ttu-id="e740d-1155">Instrucciones de configuración de SAP liveCache para instalaciones de SAP en máquinas virtuales de Azure</span><span class="sxs-lookup"><span data-stu-id="e740d-1155">SAP liveCache Configuration Guidelines for SAP Installations in Azure VMs</span></span>
#### <a name="recommended-azure-vm-types"></a><span data-ttu-id="e740d-1156">Tipos de máquina virtual de Azure recomendadas</span><span class="sxs-lookup"><span data-stu-id="e740d-1156">Recommended Azure VM Types</span></span>
<span data-ttu-id="e740d-1157">Puesto que SAP liveCache es una aplicación que realiza cálculos de grandes proporciones, la cantidad y la velocidad de CPU y RAM influyen en gran medida en el rendimiento de SAP liveCache.</span><span class="sxs-lookup"><span data-stu-id="e740d-1157">As SAP liveCache is an application that performs huge calculations, the amount and speed of RAM and CPU has a major influence on SAP liveCache performance.</span></span>

<span data-ttu-id="e740d-1158">En el caso de los tipos de máquina virtual de Azure compatibles con SAP (nota de SAP [1928533]), todos los recursos de CPU virtuales asignados a la máquina virtual cuentan con el respaldo de los recursos de CPU físicos dedicados del hipervisor.</span><span class="sxs-lookup"><span data-stu-id="e740d-1158">For the Azure VM types supported by SAP (SAP Note [1928533]), all virtual CPU resources allocated to the VM are backed by dedicated physical CPU resources of the hypervisor.</span></span> <span data-ttu-id="e740d-1159">No existe aprovisionamiento en exceso (y, por tanto, tampoco existe competencia por los recursos de CPU).</span><span class="sxs-lookup"><span data-stu-id="e740d-1159">No overprovisioning (and therefore no competition for CPU resources) takes place.</span></span>

<span data-ttu-id="e740d-1160">Asimismo, para todos los tipos de versión de máquina virtual de Azure compatibles con SAP, la memoria de la máquina virtual se asigna al 100 % a la memoria física; por ejemplo, no se recurre al aprovisionamiento en exceso (exceso de compromiso).</span><span class="sxs-lookup"><span data-stu-id="e740d-1160">Similarly, for all Azure VM instance types supported by SAP, the VM memory is 100 % mapped to the physical memory – overprovisioning (over-commitment), for example, is not used.</span></span>

<span data-ttu-id="e740d-1161">Desde esta perspectiva, se recomienda encarecidamente utilizar las nuevas series D o DS de máquina virtual de Azure (junto con el almacenamiento Premium de Azure), que disponen de procesadores un 60 % más rápidos que la serie A.</span><span class="sxs-lookup"><span data-stu-id="e740d-1161">From this perspective it is highly recommended to use the new D- series or DS-series (in combination with Azure Premium Storage) Azure VM type, as they have 60 % faster processors than the A-series.</span></span> <span data-ttu-id="e740d-1162">En el caso de las cargas de RAM y CPU más exigentes, puede utilizar las series G y GS de máquinas virtuales (junto con el almacenamiento Premium de Azure) con la familia de procesadores E5 v3 más recientes de Intel® Xeon®, que ofrecen el doble de memoria y cuatro veces más almacenamiento en unidad de estado sólido (SSD) que las series D y DS.</span><span class="sxs-lookup"><span data-stu-id="e740d-1162">For the highest RAM and CPU load, you can use G-series and GS-series (in combination with Azure Premium Storage) VMs with the latest Intel® Xeon® processor E5 v3 family, which have twice the memory and four times the solid state drive storage (SSDs) of the D/DS-series.</span></span>

#### <a name="storage-configuration"></a><span data-ttu-id="e740d-1163">Configuración de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="e740d-1163">Storage Configuration</span></span>
<span data-ttu-id="e740d-1164">Puesto que SAP liveCache se basa en la tecnología SAP MaxDB, todos los procedimientos recomendados de Azure Storage que se mencionan con relación a SAP MaxDB en el capítulo [Configuración de almacenamiento][dbms-guide-8.4.1] también se pueden aplicar a SAP liveCache.</span><span class="sxs-lookup"><span data-stu-id="e740d-1164">As SAP liveCache is based on SAP MaxDB technology, all the Azure storage best practice recommendations mentioned for SAP MaxDB in chapter [Storage configuration][dbms-guide-8.4.1] are also valid for SAP liveCache.</span></span>

#### <a name="dedicated-azure-vm-for-livecache"></a><span data-ttu-id="e740d-1165">Máquina virtual de Azure dedicada para liveCache</span><span class="sxs-lookup"><span data-stu-id="e740d-1165">Dedicated Azure VM for liveCache</span></span>
<span data-ttu-id="e740d-1166">Dado que SAP liveCache emplea una potencia de cálculo sumamente intensiva, se recomienda encarecidamente implementarla en una máquina virtual de Azure dedicada para obtener resultados productivos.</span><span class="sxs-lookup"><span data-stu-id="e740d-1166">As SAP liveCache intensively uses computational power, for productive usage it is highly recommended to deploy on a dedicated Azure Virtual Machine.</span></span>

![Máquina virtual de Azure dedicada para liveCache para un caso de uso productivo][dbms-guide-figure-700]

#### <a name="backup-and-restore"></a><span data-ttu-id="e740d-1168">Copia de seguridad y restauración</span><span class="sxs-lookup"><span data-stu-id="e740d-1168">Backup and Restore</span></span>
<span data-ttu-id="e740d-1169">Las copias de seguridad y las restauraciones, incluidas las consideraciones acerca del rendimiento, ya se describen en los capítulos pertinentes de SAP MaxDB [Copia de seguridad y restauración][dbms-guide-8.4.2] y [Consideraciones de rendimiento para copias de seguridad y restauraciones][dbms-guide-8.4.3].</span><span class="sxs-lookup"><span data-stu-id="e740d-1169">Backup and restore, including performance considerations, are already described in the relevant SAP MaxDB chapters [Backup and Restore][dbms-guide-8.4.2] and [Performance Considerations for Backup and Restore][dbms-guide-8.4.3].</span></span>

#### <a name="other"></a><span data-ttu-id="e740d-1170">Otros</span><span class="sxs-lookup"><span data-stu-id="e740d-1170">Other</span></span>
<span data-ttu-id="e740d-1171">Todos los demás temas generales ya se describen en [este][dbms-guide-8.4.4] capítulo correspondiente de SAP MaxDB.</span><span class="sxs-lookup"><span data-stu-id="e740d-1171">All other general topics are already described in the relevant SAP MaxDB [this][dbms-guide-8.4.4] chapter.</span></span>

## <a name="specifics-for-the-sap-content-server-on-windows"></a><span data-ttu-id="e740d-1172">Detalles de SAP Content Server en Windows</span><span class="sxs-lookup"><span data-stu-id="e740d-1172">Specifics for the SAP Content Server on Windows</span></span>
<span data-ttu-id="e740d-1173">El servidor SAP Content Server es un componente independiente basado en servidor para almacenar contenido como documentos electrónicos en formatos diferentes.</span><span class="sxs-lookup"><span data-stu-id="e740d-1173">The SAP Content Server is a separate, server-based component to store content such as electronic documents in different formats.</span></span> <span data-ttu-id="e740d-1174">SAP Content Server se ofrece para el desarrollo de tecnología y se concibe para su uso en varias aplicaciones con cualquier aplicación de SAP.</span><span class="sxs-lookup"><span data-stu-id="e740d-1174">The SAP Content Server is provided by development of technology and is to be used cross-application for any SAP applications.</span></span> <span data-ttu-id="e740d-1175">Se instala en un sistema independiente.</span><span class="sxs-lookup"><span data-stu-id="e740d-1175">It is installed on a separate system.</span></span> <span data-ttu-id="e740d-1176">Su contenido más habitual es material de aprendizaje y documentación de dibujos técnicos de Knowledge Warehouse que se crean en el sistema de administración de documentos de mySAP PLM.</span><span class="sxs-lookup"><span data-stu-id="e740d-1176">Typical content is training material and documentation from Knowledge Warehouse or technical drawings originating from the mySAP PLM Document Management System.</span></span>

### <a name="sap-content-server-version-support"></a><span data-ttu-id="e740d-1177">Compatibilidad de versiones de SAP Content Server</span><span class="sxs-lookup"><span data-stu-id="e740d-1177">SAP Content Server Version Support</span></span>
<span data-ttu-id="e740d-1178">SAP actualmente admite:</span><span class="sxs-lookup"><span data-stu-id="e740d-1178">SAP currently supports:</span></span>

* <span data-ttu-id="e740d-1179">**SAP Content Server** con la versión **6.50 (y superior)**</span><span class="sxs-lookup"><span data-stu-id="e740d-1179">**SAP Content Server** with version **6.50 (and higher)**</span></span>
* <span data-ttu-id="e740d-1180">**SAP MaxDB versión 7.9**</span><span class="sxs-lookup"><span data-stu-id="e740d-1180">**SAP MaxDB version 7.9**</span></span>
* <span data-ttu-id="e740d-1181">**Microsoft IIS (Internet Information Server) versión 8.0 (y versiones posterior)**</span><span class="sxs-lookup"><span data-stu-id="e740d-1181">**Microsoft IIS (Internet Information Server) version 8.0 (and higher)**</span></span>

<span data-ttu-id="e740d-1182">Se recomienda encarecidamente utilizar la versión más reciente de SAP Content Server, que en el momento de la creación de este documento es la **6.50 SP4**, y la versión más reciente de **Microsoft IIS 8.5**.</span><span class="sxs-lookup"><span data-stu-id="e740d-1182">It is highly recommended to use the newest version of SAP Content Server, which at the time of writing this document is **6.50 SP4**, and the newest version of **Microsoft IIS 8.5**.</span></span>

<span data-ttu-id="e740d-1183">Compruebe las últimas versiones compatibles de SAP Content Server y Microsoft IIS en [Matriz de disponibilidad de productos (PAM) SAP][sap-pam].</span><span class="sxs-lookup"><span data-stu-id="e740d-1183">Check the latest supported versions of SAP Content Server and Microsoft IIS in the [SAP Product Availability Matrix (PAM)][sap-pam].</span></span>

### <a name="supported-microsoft-windows-and-azure-vm-types-for-sap-content-server"></a><span data-ttu-id="e740d-1184">Tipos de máquina virtual de Azure y Microsoft Windows admitidos con SAP Content Server</span><span class="sxs-lookup"><span data-stu-id="e740d-1184">Supported Microsoft Windows and Azure VM types for SAP Content Server</span></span>
<span data-ttu-id="e740d-1185">Para conocer la versión de Windows compatible con SAP Content Server en Azure, consulte:</span><span class="sxs-lookup"><span data-stu-id="e740d-1185">To find out supported Windows version for SAP Content Server on Azure, see:</span></span>

* <span data-ttu-id="e740d-1186">[Matriz de disponibilidad de productos (PAM) SAP][sap-pam]</span><span class="sxs-lookup"><span data-stu-id="e740d-1186">[SAP Product Availability Matrix (PAM)][sap-pam]</span></span>
* <span data-ttu-id="e740d-1187">Nota de SAP [1928533]</span><span class="sxs-lookup"><span data-stu-id="e740d-1187">SAP Note [1928533]</span></span>

<span data-ttu-id="e740d-1188">Se recomienda encarecidamente utilizar la versión más reciente de Microsoft Windows, que en el momento de creación de este documento es **Windows Server 2012 R2**.</span><span class="sxs-lookup"><span data-stu-id="e740d-1188">It is highly recommended to use the newest version of Microsoft Windows, which at the time of writing this document is **Windows Server 2012 R2**.</span></span>

### <a name="sap-content-server-configuration-guidelines-for-sap-installations-in-azure-vms"></a><span data-ttu-id="e740d-1189">Instrucciones de configuración de SAP Content Server para las instalaciones de SAP en máquinas virtuales de Azure</span><span class="sxs-lookup"><span data-stu-id="e740d-1189">SAP Content Server Configuration Guidelines for SAP Installations in Azure VMs</span></span>
#### <a name="storage-configuration"></a><span data-ttu-id="e740d-1190">Configuración de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="e740d-1190">Storage Configuration</span></span>
<span data-ttu-id="e740d-1191">Si configura SAP Content Server para almacenar archivos en la base de datos de SAP MaxDB, todos los procedimientos recomendados de Azure Storage que se mencionan con relación a SAP MaxDB en el capítulo [Configuración de almacenamiento][dbms-guide-8.4.1] también se pueden aplicar en el caso de SAP Content Server.</span><span class="sxs-lookup"><span data-stu-id="e740d-1191">If you configure SAP Content Server to store files in the SAP MaxDB database, all Azure storage best practices recommendation mentioned for SAP MaxDB in chapter [Storage Configuration][dbms-guide-8.4.1] are also valid for the SAP Content Server scenario.</span></span>

<span data-ttu-id="e740d-1192">Si configura SAP Content Server para almacenar archivos en el sistema de archivos, se recomienda usar una unidad lógica exclusiva.</span><span class="sxs-lookup"><span data-stu-id="e740d-1192">If you configure SAP Content Server to store files in the file system, it is recommended to use a dedicated logical drive.</span></span> <span data-ttu-id="e740d-1193">El uso de espacios de almacenamiento también permite aumentar el tamaño del disco lógico y el rendimiento de E/S, como se describe en el capítulo [RAID de software][dbms-guide-2.2].</span><span class="sxs-lookup"><span data-stu-id="e740d-1193">Using storage spaces enables you to also increase logical disk size and IOPS throughput, as described in in chapter [Software RAID][dbms-guide-2.2].</span></span>

#### <a name="sap-content-server-location"></a><span data-ttu-id="e740d-1194">Ubicación de SAP Content Server</span><span class="sxs-lookup"><span data-stu-id="e740d-1194">SAP Content Server Location</span></span>
<span data-ttu-id="e740d-1195">SAP Content Server se debe implementar en la misma región de Azure y de red virtual de Azure en la que se implementó el sistema SAP.</span><span class="sxs-lookup"><span data-stu-id="e740d-1195">SAP Content Server has to be deployed in the same Azure region and Azure VNET where the SAP system is deployed.</span></span> <span data-ttu-id="e740d-1196">Puede elegir si desea implementar los componentes de SAP Content Server en una máquina virtual de Azure dedicada o en la misma máquina virtual en la que se ejecuta el sistema SAP.</span><span class="sxs-lookup"><span data-stu-id="e740d-1196">You are free to decide whether you want to deploy SAP Content Server components on a dedicated Azure VM or on the same VM where the SAP system is running.</span></span>

![Máquina virtual de Azure dedicada para SAP Content Server][dbms-guide-figure-800]

#### <a name="sap-cache-server-location"></a><span data-ttu-id="e740d-1198">Ubicación del SAP Cache Server</span><span class="sxs-lookup"><span data-stu-id="e740d-1198">SAP Cache Server Location</span></span>
<span data-ttu-id="e740d-1199">El servidor SAP Cache Server es un componente adicional basado en servidores que proporciona acceso a documentos (en la memoria caché) en entornos locales.</span><span class="sxs-lookup"><span data-stu-id="e740d-1199">The SAP Cache Server is an additional server-based component to provide access to (cached) documents locally.</span></span> <span data-ttu-id="e740d-1200">SAP Cache Server almacena en la caché los documentos de SAP Content Server.</span><span class="sxs-lookup"><span data-stu-id="e740d-1200">The SAP Cache Server caches the documents of a SAP Content Server.</span></span> <span data-ttu-id="e740d-1201">De este modo se optimiza el tráfico de red cuando los documentos se tienen que recuperar más de una vez desde distintas ubicaciones.</span><span class="sxs-lookup"><span data-stu-id="e740d-1201">This is to optimize network traffic if documents have to be retrieved more than once from different locations.</span></span> <span data-ttu-id="e740d-1202">Por lo general, SAP Cache Server debe encontrarse físicamente cerca del cliente que accede a este servidor.</span><span class="sxs-lookup"><span data-stu-id="e740d-1202">The general rule is that the SAP Cache Server has to be physically close to the client that accesses the SAP Cache Server.</span></span>

<span data-ttu-id="e740d-1203">Dispone de dos opciones:</span><span class="sxs-lookup"><span data-stu-id="e740d-1203">Here you have two options:</span></span>

1. <span data-ttu-id="e740d-1204">**El cliente es un sistema SAP de back-end** Si se configura un sistema SAP de back-end para acceder a SAP Content Server, dicho sistema SAP será un cliente.</span><span class="sxs-lookup"><span data-stu-id="e740d-1204">**Client is a backend SAP system** If a backend SAP system is configured to access SAP Content Server, that SAP system is a client.</span></span> <span data-ttu-id="e740d-1205">Puesto que el sistema SAP y SAP Content Server se implementan en la misma región de Azure –en el mismo centro de datos de Azure–, ambos se encuentran físicamente próximos entre sí.</span><span class="sxs-lookup"><span data-stu-id="e740d-1205">As both SAP system and SAP Content Server are deployed in the same Azure region – in the same Azure datacenter – they are physically close to each other.</span></span> <span data-ttu-id="e740d-1206">Por lo tanto, no hace falta disponer de un SAP Content Server dedicado.</span><span class="sxs-lookup"><span data-stu-id="e740d-1206">Therefore, there is no need to have a dedicated SAP Cache Server.</span></span> <span data-ttu-id="e740d-1207">Los clientes de interfaz de usuario de SAP (SAP GUI o un explorador web) acceden directamente al sistema SAP y este recupera los documentos desde SAP Content Server.</span><span class="sxs-lookup"><span data-stu-id="e740d-1207">SAP UI clients (SAP GUI or web browser) access the SAP system directly, and the SAP system retrieves documents from the SAP Content Server.</span></span>
2. <span data-ttu-id="e740d-1208">**El cliente es un explorador web local** SAP Content Server puede configurarse para acceder a él directamente mediante un explorador web.</span><span class="sxs-lookup"><span data-stu-id="e740d-1208">**Client is an on-premises web browser** The SAP Content Server can be configured to be accessed directly by the web browser.</span></span> <span data-ttu-id="e740d-1209">En este caso, un explorador web que se ejecute de forma local es un cliente de SAP Content Server.</span><span class="sxs-lookup"><span data-stu-id="e740d-1209">In this case, a web browser running on–premises is a client of the SAP Content Server.</span></span> <span data-ttu-id="e740d-1210">Se coloca un centro de datos local y el de Azure en diferentes ubicaciones físicas (lo ideal es que se encuentren próximos entre sí).</span><span class="sxs-lookup"><span data-stu-id="e740d-1210">On-premises datacenter and Azure datacenter are placed in different physical locations (ideally close to each other).</span></span> <span data-ttu-id="e740d-1211">Su centro de datos local se conecta a Azure a través del VPN de sitio a sitio o ExpressRoute de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-1211">Your on-premises datacenter is connected to Azure via Azure Site-to-Site VPN or ExpressRoute.</span></span> <span data-ttu-id="e740d-1212">Aunque ambas opciones ofrecen conexión de red VPN segura a Azure, la conexión de red de sitio a sitio no ofrece un acuerdo de nivel de servicio de latencia y ancho de banda de red entre el centro de datos local y el de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-1212">Although both options offer secure VPN network connection to Azure, site-to-site network connection does not offer a network bandwidth and latency SLA between the on-premises datacenter and the Azure datacenter.</span></span> <span data-ttu-id="e740d-1213">Para agilizar el acceso a los documentos, puede realizar una de las siguientes acciones:</span><span class="sxs-lookup"><span data-stu-id="e740d-1213">To speed up access to documents, you can do one of the following:</span></span>
   1. <span data-ttu-id="e740d-1214">Instalar el servidor de caché de SAP de forma local, cerca del explorador web local (opción de [esta][dbms-guide-900-sap-cache-server-on-premises] ilustración)</span><span class="sxs-lookup"><span data-stu-id="e740d-1214">Install SAP Cache Server on-premises, close to the on-premises web browser (option on [this][dbms-guide-900-sap-cache-server-on-premises] Figure)</span></span>
   2. <span data-ttu-id="e740d-1215">Configurar ExpressRoute de Azure, que ofrece una conexión de red dedicada de alta velocidad y baja latencia entre el centro de datos local y el centro de datos de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-1215">Configure Azure ExpressRoute, which offers a high-speed and low-latency dedicated network connection between on-premises datacenter and Azure datacenter.</span></span>

<span data-ttu-id="e740d-1216">![Opción de instalar el servidor de caché de SAP de forma local][dbms-guide-figure-900]
<a name="642f746c-e4d4-489d-bf63-73e80177a0a8"></a></span><span class="sxs-lookup"><span data-stu-id="e740d-1216">![Option to install SAP Cache Server on-premises][dbms-guide-figure-900]
<a name="642f746c-e4d4-489d-bf63-73e80177a0a8"></a></span></span>

#### <a name="backup--restore"></a><span data-ttu-id="e740d-1217">Copia de seguridad y restauración</span><span class="sxs-lookup"><span data-stu-id="e740d-1217">Backup / Restore</span></span>
<span data-ttu-id="e740d-1218">Si configura SAP Content Server para almacenar archivos en la base de datos de SAP MaxDB, las consideraciones acerca del rendimiento y de procedimiento de copia de seguridad y restauración ya se describieron en los capítulos de SAP MaxDB [Copia de seguridad y restauración][dbms-guide-8.4.2] y [Consideraciones de rendimiento para copias de seguridad y restauraciones][dbms-guide-8.4.3].</span><span class="sxs-lookup"><span data-stu-id="e740d-1218">If you configure the SAP Content Server to store files in the SAP MaxDB database, the backup/restore procedure and performance considerations are already described in SAP MaxDB chapter [Backup and Restore][dbms-guide-8.4.2] and chapter [Performance Considerations for Backup and Restore][dbms-guide-8.4.3].</span></span>

<span data-ttu-id="e740d-1219">Si configura SAP Content Server para almacenar archivos en el sistema de archivos, una opción es ejecutar de forma manual la copia de seguridad o la restauración de toda la estructura de archivos donde se encuentran los documentos.</span><span class="sxs-lookup"><span data-stu-id="e740d-1219">If you configure the SAP Content Server to store files in the file system, one option is to execute manual backup/restore of the whole file structure where the documents are located.</span></span> <span data-ttu-id="e740d-1220">Al igual que las copias de seguridad y las restauraciones de SAP MaxDB, se recomienda disponer de un volumen de disco dedicado para realizar copias de seguridad.</span><span class="sxs-lookup"><span data-stu-id="e740d-1220">Similar to SAP MaxDB backup/restore, it is recommended to have a dedicated disk volume for backup purpose.</span></span>

#### <a name="other"></a><span data-ttu-id="e740d-1221">Otros</span><span class="sxs-lookup"><span data-stu-id="e740d-1221">Other</span></span>
<span data-ttu-id="e740d-1222">Otras configuraciones específicas de SAP Content Server son transparentes para máquinas virtuales de Azure y se describen en diversos documentos y notas de SAP:</span><span class="sxs-lookup"><span data-stu-id="e740d-1222">Other SAP Content Server specific settings are transparent to Azure VMs and are described in various documents and SAP Notes:</span></span>

* <span data-ttu-id="e740d-1223"><https://service.sap.com/contentserver></span><span class="sxs-lookup"><span data-stu-id="e740d-1223"><https://service.sap.com/contentserver></span></span>
* <span data-ttu-id="e740d-1224">Nota de SAP [1619726]</span><span class="sxs-lookup"><span data-stu-id="e740d-1224">SAP Note [1619726]</span></span>  

## <a name="specifics-to-ibm-db2-for-luw-on-windows"></a><span data-ttu-id="e740d-1225">Detalles de IBM DB2 para LUW en Windows</span><span class="sxs-lookup"><span data-stu-id="e740d-1225">Specifics to IBM DB2 for LUW on Windows</span></span>
<span data-ttu-id="e740d-1226">Con Microsoft Azure, puede migrar fácilmente la aplicación SAP existente que se ejecuta en IBM DB2 para Linux, UNIX y Windows (LUW) a máquinas virtuales de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-1226">With Microsoft Azure, you can easily migrate your existing SAP application running on IBM DB2 for Linux, UNIX, and Windows (LUW) to Azure virtual machines.</span></span> <span data-ttu-id="e740d-1227">Con SAP en IBM DB2 para LUW, los administradores y los desarrolladores pueden seguir usando las mismas herramientas de desarrollo y administración, disponibles de forma local.</span><span class="sxs-lookup"><span data-stu-id="e740d-1227">With SAP on IBM DB2 for LUW, administrators and developers can still use the same development and administration tools which are available on-premises.</span></span>
<span data-ttu-id="e740d-1228">Se puede encontrar información general sobre la ejecución de SAP Business Suite en IBM DB2 para LUW en SAP Community Network: <https://scn.sap.com/community/db2-for-linux-unix-windows>.</span><span class="sxs-lookup"><span data-stu-id="e740d-1228">General information about running SAP Business Suite on IBM DB2 for LUW can be found in the SAP Community Network (SCN) at <https://scn.sap.com/community/db2-for-linux-unix-windows>.</span></span>

<span data-ttu-id="e740d-1229">Para más información y actualizaciones de SAP en DB2 para LUW en Azure, consulte la nota de SAP [2233094].</span><span class="sxs-lookup"><span data-stu-id="e740d-1229">For additional information and updates about SAP on DB2 for LUW on Azure, see SAP Note [2233094].</span></span>

### <a name="ibm-db2-for-linux-unix-and-windows-version-support"></a><span data-ttu-id="e740d-1230">IBM DB2 para Linux, UNIX y compatibilidad de versiones de Windows</span><span class="sxs-lookup"><span data-stu-id="e740d-1230">IBM DB2 for Linux, UNIX, and Windows Version Support</span></span>
<span data-ttu-id="e740d-1231">SAP en IBM DB2 para LUW en los servicios de máquina virtual de Microsoft Azure es compatible a partir de la versión 10.5 de DB2.</span><span class="sxs-lookup"><span data-stu-id="e740d-1231">SAP on IBM DB2 for LUW on Microsoft Azure Virtual Machine Services is supported as of DB2 version 10.5.</span></span>

<span data-ttu-id="e740d-1232">Para más información de los tipos de máquina virtual de Azure y los productos de SAP compatibles, consulte la nota de SAP [1928533].</span><span class="sxs-lookup"><span data-stu-id="e740d-1232">For information about supported SAP products and Azure VM types, please refer to SAP Note [1928533].</span></span>

### <a name="ibm-db2-for-linux-unix-and-windows-configuration-guidelines-for-sap-installations-in-azure-vms"></a><span data-ttu-id="e740d-1233">Instrucciones de configuración de IBM DB2 para Linux, UNIX y Windows para instalaciones de SAP en máquinas virtuales de Azure</span><span class="sxs-lookup"><span data-stu-id="e740d-1233">IBM DB2 for Linux, UNIX, and Windows Configuration Guidelines for SAP Installations in Azure VMs</span></span>
#### <a name="storage-configuration"></a><span data-ttu-id="e740d-1234">Configuración de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="e740d-1234">Storage Configuration</span></span>
<span data-ttu-id="e740d-1235">Todos los archivos de las bases de datos se deben almacenar en el sistema de archivos NTFS basado en discos VHD.</span><span class="sxs-lookup"><span data-stu-id="e740d-1235">All database files must be stored on the NTFS file system based on VHD disks.</span></span> <span data-ttu-id="e740d-1236">Estos discos duros virtuales están montados en la máquina virtual de Azure y se basan en el almacenamiento de blob en páginas de Azure (<https://msdn.microsoft.com/library/azure/ee691964.aspx>).</span><span class="sxs-lookup"><span data-stu-id="e740d-1236">These VHDs are mounted to the Azure VM and are based in Azure Page BLOB Storage (<https://msdn.microsoft.com/library/azure/ee691964.aspx>).</span></span>
<span data-ttu-id="e740d-1237">**NINGÚN** tipo de unidad de red o recurso compartido remoto, como los siguientes servicios de archivos de Azure, es compatible con archivos de bases de datos:</span><span class="sxs-lookup"><span data-stu-id="e740d-1237">Any kind of network drives or remote shares like the following Azure file services are **NOT** supported for database files:</span></span>

* <span data-ttu-id="e740d-1238"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/12/introducing-microsoft-azure-file-service.aspx></span><span class="sxs-lookup"><span data-stu-id="e740d-1238"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/12/introducing-microsoft-azure-file-service.aspx></span></span>
* <span data-ttu-id="e740d-1239"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/27/persisting-connections-to-microsoft-azure-files.aspx></span><span class="sxs-lookup"><span data-stu-id="e740d-1239"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/27/persisting-connections-to-microsoft-azure-files.aspx></span></span>

<span data-ttu-id="e740d-1240">Si usa discos duros virtuales de Azure basados en el almacenamiento de blobs en páginas de Azure, las declaraciones realizadas en este documento en el capítulo [Estructura de una implementación de RDBMS][dbms-guide-2] también se aplican a las implementaciones de IBM DB2 para bases de datos LUW.</span><span class="sxs-lookup"><span data-stu-id="e740d-1240">If you are using Azure VHDs based on Azure Page BLOB Storage, the statements made in this document in chapter [Structure of a RDBMS Deployment][dbms-guide-2] also apply to deployments with the IBM DB2 for LUW Database.</span></span>

<span data-ttu-id="e740d-1241">Como se explicó anteriormente en la parte general del documento, existen cuotas en el rendimiento IOPS para VHD de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-1241">As explained earlier in the general part of the document, quotas on IOPS throughput for Azure VHDs exist.</span></span> <span data-ttu-id="e740d-1242">Las cuotas exactas varían según el tipo de máquina virtual que se utilice.</span><span class="sxs-lookup"><span data-stu-id="e740d-1242">The exact quotas depend on the VM type used.</span></span> <span data-ttu-id="e740d-1243">Dispone de una lista con los tipos de máquina virtual y sus cuotas [aquí][virtual-machines-sizes].</span><span class="sxs-lookup"><span data-stu-id="e740d-1243">A list of VM types with their quotas can be found [here][virtual-machines-sizes]</span></span>

<span data-ttu-id="e740d-1244">Mientras la cuota actual de IOPS por disco sea suficiente, se pueden almacenar todos los archivos de base de datos en un solo VHD de Azure montado.</span><span class="sxs-lookup"><span data-stu-id="e740d-1244">As long as the current IOPS quota per disk is sufficient, it is possible to store all the database files on one single mounted Azure VHD.</span></span>

<span data-ttu-id="e740d-1245">Para conocer las consideraciones de rendimiento, consulte también el capítulo "Data Safety and Performance Considerations for Database Directories" (Consideraciones de seguridad y rendimiento de directorios de bases de datos) en las guías de instalación de SAP.</span><span class="sxs-lookup"><span data-stu-id="e740d-1245">For performance considerations also refer to chapter “Data Safety and Performance Considerations for Database Directories” in SAP installation guides.</span></span>

<span data-ttu-id="e740d-1246">También puede usar grupos de almacenamiento de Windows (solo disponibles en Windows Server 2012 y versiones posteriores) o crear secciones de Windows para Windows 2008 R2, como se describe en el capítulo [RAID de software][dbms-guide-2.2] de este documento, para crear un dispositivo lógico de gran tamaño en varios discos VHD montados.</span><span class="sxs-lookup"><span data-stu-id="e740d-1246">Alternatively, you can use Windows Storage Pools (only available in Windows Server 2012 and higher) or Windows striping for Windows 2008 R2 as described in chapter [Software RAID][dbms-guide-2.2] of this document to create one big logical device over multiple mounted VHD disks.</span></span>
<span data-ttu-id="e740d-1247">Para los discos que contienen rutas de acceso de almacenamiento de DB2 para directorios sapdata y saptmp, debe especificar un tamaño de sector de disco físico de 512 kB.</span><span class="sxs-lookup"><span data-stu-id="e740d-1247">For the disks containing the DB2 storage paths for your sapdata and saptmp directories, you must specify a physical disk sector size of 512 KB.</span></span> <span data-ttu-id="e740d-1248">Si usa bloques de almacenamiento de Windows, debe crearlos manualmente en la interfaz de la línea de comandos con el parámetro "-LogicalSectorSizeDefault".</span><span class="sxs-lookup"><span data-stu-id="e740d-1248">When using Windows Storage Pools, you must create the storage pools  manually via command line interface using the parameter „-LogicalSectorSizeDefault“.</span></span> <span data-ttu-id="e740d-1249">Para más información, consulte <https://technet.microsoft.com/library/hh848689.aspx>.</span><span class="sxs-lookup"><span data-stu-id="e740d-1249">For details see <https://technet.microsoft.com/library/hh848689.aspx>.</span></span>

#### <a name="backuprestore"></a><span data-ttu-id="e740d-1250">Copia de seguridad y restauración</span><span class="sxs-lookup"><span data-stu-id="e740d-1250">Backup/Restore</span></span>
<span data-ttu-id="e740d-1251">La funcionalidad de copia de seguridad y restauración para IBM DB2 para LUW es compatible del mismo modo que en los sistemas operativos Windows Server y Hyper-V estándares.</span><span class="sxs-lookup"><span data-stu-id="e740d-1251">The backup/restore functionality for IBM DB2 for LUW is supported in the same way as on standard Windows Server Operating Systems and Hyper-V.</span></span>

<span data-ttu-id="e740d-1252">Debe asegurarse de seguir una estrategia establecida de copias de seguridad de bases de datos válida.</span><span class="sxs-lookup"><span data-stu-id="e740d-1252">You must make sure that you have a valid database backup strategy in place.</span></span>

<span data-ttu-id="e740d-1253">Como en las implementaciones sin sistema operativo, el rendimiento de las copias de seguridad y las restauraciones depende de cuántos volúmenes puedan leerse en paralelo y el rendimiento que estos volúmenes puedan tener.</span><span class="sxs-lookup"><span data-stu-id="e740d-1253">As in bare-metal deployments, backup/restore performance depends on how many volumes can be read in parallel and what the throughput of those volumes might be.</span></span> <span data-ttu-id="e740d-1254">Además, el consumo de CPU que se emplea en la compresión de copias de seguridad puede desempeñar un papel importante en las máquinas virtuales con solo 8 subprocesos de CPU como máximo.</span><span class="sxs-lookup"><span data-stu-id="e740d-1254">In addition, the CPU consumption used by backup compression may play a significant role on VMs with just up to 8 CPU threads.</span></span> <span data-ttu-id="e740d-1255">Por lo tanto, se pueden asumir los siguientes puntos:</span><span class="sxs-lookup"><span data-stu-id="e740d-1255">Therefore, one can assume:</span></span>

* <span data-ttu-id="e740d-1256">Cuantos menos VHD se utilicen para almacenar los dispositivos de las bases de datos, menor será el rendimiento general de lectura.</span><span class="sxs-lookup"><span data-stu-id="e740d-1256">The fewer the number of VHDs used to store the database devices, the smaller the overall throughput in reading</span></span>
* <span data-ttu-id="e740d-1257">Cuantos menos subprocesos de CPU haya en la máquina virtual, mayor será el impacto en la compresión de copias de seguridad.</span><span class="sxs-lookup"><span data-stu-id="e740d-1257">The smaller the number of CPU threads in the VM, the more severe the impact of backup compression</span></span>
* <span data-ttu-id="e740d-1258">Cuantos menos destinos (directorios de sección, VHD, etc.) en los que escribir la copia de seguridad haya, menor será el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="e740d-1258">The fewer targets (Stripe Directories, VHDs) to write the backup to, the lower the throughput</span></span>

<span data-ttu-id="e740d-1259">Para aumentar la cantidad de destinos en los que escribir, existen dos opciones que se pueden usar o combinar según sus necesidades:</span><span class="sxs-lookup"><span data-stu-id="e740d-1259">To increase the number of targets to write to, two options can be used/combined depending on your needs:</span></span>

* <span data-ttu-id="e740d-1260">Seccionar el volumen de destino de la copia de seguridad en varios VHD montados con el fin de mejorar el rendimiento de IOPS en ese volumen seccionado</span><span class="sxs-lookup"><span data-stu-id="e740d-1260">Striping the backup target volume over multiple mounted VHDs in order to improve the IOPS throughput on that striped volume</span></span>
* <span data-ttu-id="e740d-1261">Uso de más de un directorio de destino en el que escribir copias de seguridad</span><span class="sxs-lookup"><span data-stu-id="e740d-1261">Using more than one target directory to write the backup to</span></span>

#### <a name="high-availability-and-disaster-recovery"></a><span data-ttu-id="e740d-1262">Alta disponibilidad y recuperación ante desastres</span><span class="sxs-lookup"><span data-stu-id="e740d-1262">High Availability and Disaster Recovery</span></span>
<span data-ttu-id="e740d-1263">Microsoft Cluster Server (MSCS) no es compatible.</span><span class="sxs-lookup"><span data-stu-id="e740d-1263">Microsoft Cluster Server (MSCS) is not supported.</span></span>

<span data-ttu-id="e740d-1264">La alta disponibilidad y la recuperación ante desastres (HADR) de DB2 sí son compatibles.</span><span class="sxs-lookup"><span data-stu-id="e740d-1264">DB2 high availability disaster recovery (HADR) is supported.</span></span> <span data-ttu-id="e740d-1265">Si las máquinas virtuales de la configuración de alta disponibilidad tienen una resolución de nombres correcta, la configuración de Azure no será diferente a cualquier otra realizada de forma local.</span><span class="sxs-lookup"><span data-stu-id="e740d-1265">If the virtual machines of the HA configuration have working name resolution, the setup in Azure will not differ from any setup that is done on-premises.</span></span> <span data-ttu-id="e740d-1266">No se recomienda depender exclusivamente de la resolución de direcciones IP.</span><span class="sxs-lookup"><span data-stu-id="e740d-1266">It is not recommended to rely on IP resolution only.</span></span>

<span data-ttu-id="e740d-1267">No utilice la replicación geográfica de Tienda de Azure.</span><span class="sxs-lookup"><span data-stu-id="e740d-1267">Do not use Azure Store Geo-Replication.</span></span> <span data-ttu-id="e740d-1268">Para más información, consulte los capítulos [Microsoft Azure Storage][dbms-guide-2.3] y [Alta disponibilidad y recuperación ante desastres con máquinas virtuales de Azure][dbms-guide-3].</span><span class="sxs-lookup"><span data-stu-id="e740d-1268">For further information, refer to chapter [Microsoft Azure Storage][dbms-guide-2.3] and chapter [High Availability and Disaster Recovery with Azure VMs][dbms-guide-3].</span></span>

#### <a name="other"></a><span data-ttu-id="e740d-1269">Otros</span><span class="sxs-lookup"><span data-stu-id="e740d-1269">Other</span></span>
<span data-ttu-id="e740d-1270">Todos los demás temas generales, como los conjuntos de disponibilidad de Azure o la supervisión de SAP, se aplican como se describen en los tres primeros capítulos de este documento para implementaciones de máquinas virtuales también con IBM DB2 para LUW.</span><span class="sxs-lookup"><span data-stu-id="e740d-1270">All other general topics like Azure Availability Sets or SAP monitoring apply as described in the first three chapters of this document for deployments of VMs with IBM DB2 for LUW as well.</span></span>

<span data-ttu-id="e740d-1271">Consulte también el capítulo [Resumen general de SQL Server para SAP en Azure][dbms-guide-5.8].</span><span class="sxs-lookup"><span data-stu-id="e740d-1271">Also refer to chapter [General SQL Server for SAP on Azure Summary][dbms-guide-5.8].</span></span>
