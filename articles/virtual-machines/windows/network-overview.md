---
title: "Redes virtuales y máquinas virtuales Windows en Azure | Microsoft Docs"
description: "Obtenga información sobre redes, ya que tiene mucho que ver con los fundamentos de la creación de máquinas virtuales con Windows en Azure."
services: virtual-machines-windows
documentationcenter: 
author: davidmu1
manager: timlt
editor: tysonn
tags: azure-resource-manager
ms.assetid: 5493e9f7-7d45-4e98-be9a-657a53708746
ms.service: virtual-machines-windows
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-windows
ms.devlang: na
ms.topic: get-started-article
ms.date: 07/17/2017
ms.author: davidmu
ms.openlocfilehash: ad43daa8778d7b6046983cedceeef024ddc521e0
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/03/2017
---
# <a name="virtual-networks-and-windows-virtual-machines-in-azure"></a><span data-ttu-id="9f687-103">Redes virtuales y máquinas virtuales Windows en Azure</span><span class="sxs-lookup"><span data-stu-id="9f687-103">Virtual networks and Windows virtual machines in Azure</span></span> 

<span data-ttu-id="9f687-104">Cuando se crea una máquina virtual (VM) de Azure, es preciso crear una [red virtual](../../virtual-network/virtual-networks-overview.md) (VNet) o usar una red virtual existente.</span><span class="sxs-lookup"><span data-stu-id="9f687-104">When you create an Azure virtual machine (VM), you must create a [virtual network](../../virtual-network/virtual-networks-overview.md) (VNet) or use an existing VNet.</span></span> <span data-ttu-id="9f687-105">También es preciso decidir la forma en que pretende que se acceda a las máquinas virtuales en la red virtual.</span><span class="sxs-lookup"><span data-stu-id="9f687-105">You also need to decide how your VMs are intended to be accessed on the VNet.</span></span> <span data-ttu-id="9f687-106">Es importante [planear antes de crear recursos](../../virtual-network/virtual-network-vnet-plan-design-arm.md) y asegurarse de que se conocen los [límites de los recursos de red](../../azure-subscription-service-limits.md#networking-limits).</span><span class="sxs-lookup"><span data-stu-id="9f687-106">It is important to [plan before creating resources](../../virtual-network/virtual-network-vnet-plan-design-arm.md) and make sure that you understand the [limits of networking resources](../../azure-subscription-service-limits.md#networking-limits).</span></span>

<span data-ttu-id="9f687-107">En la siguiente ilustración, las máquinas virtuales se representan como servidores web y servidores de base de datos.</span><span class="sxs-lookup"><span data-stu-id="9f687-107">In the following figure, VMs are represented as web servers and database servers.</span></span> <span data-ttu-id="9f687-108">Cada conjunto de máquinas virtuales se asignan a subredes separadas en la red virtual.</span><span class="sxs-lookup"><span data-stu-id="9f687-108">Each set of VMs are assigned to separate subnets in the VNet.</span></span>

![Red virtual de Azure](./media/network-overview/vnetoverview.png)

<span data-ttu-id="9f687-110">Puede crear una red virtual antes de crear una máquina virtual, o bien hacerlo al crearla.</span><span class="sxs-lookup"><span data-stu-id="9f687-110">You can either create a VNet before you create a VM or you can create the VNet when creating a VM.</span></span> <span data-ttu-id="9f687-111">De igual forma, debe crear una red virtual usted mismo, o bien se puede crear automáticamente al crear una máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="9f687-111">You must either create a VNet yourself or one is created for you when you create a VM.</span></span>

<span data-ttu-id="9f687-112">Para que se pueda establecer comunicación con una máquina virtual, debe crear estos recursos:</span><span class="sxs-lookup"><span data-stu-id="9f687-112">You create these resources to support communication with a VM:</span></span>

- <span data-ttu-id="9f687-113">Interfaces de red</span><span class="sxs-lookup"><span data-stu-id="9f687-113">Network interfaces</span></span>
- <span data-ttu-id="9f687-114">Direcciones IP</span><span class="sxs-lookup"><span data-stu-id="9f687-114">IP addresses</span></span>
- <span data-ttu-id="9f687-115">Red virtual y subredes</span><span class="sxs-lookup"><span data-stu-id="9f687-115">Virtual network and subnets</span></span>

<span data-ttu-id="9f687-116">Además de estos recursos básicos, también debe considerar estos recursos opcionales:</span><span class="sxs-lookup"><span data-stu-id="9f687-116">In addition to those basic resources, you should also consider these optional resources:</span></span>

- <span data-ttu-id="9f687-117">Grupos de seguridad de red</span><span class="sxs-lookup"><span data-stu-id="9f687-117">Network security groups</span></span>
- <span data-ttu-id="9f687-118">Equilibradores de carga</span><span class="sxs-lookup"><span data-stu-id="9f687-118">Load balancers</span></span> 

## <a name="network-interfaces"></a><span data-ttu-id="9f687-119">Interfaces de red</span><span class="sxs-lookup"><span data-stu-id="9f687-119">Network interfaces</span></span>

<span data-ttu-id="9f687-120">Una [interfaz de red (NIC)](../../virtual-network/virtual-network-network-interface.md) es la interconexión entre una máquina virtual y una red virtual (VNet).</span><span class="sxs-lookup"><span data-stu-id="9f687-120">A [network interface (NIC)](../../virtual-network/virtual-network-network-interface.md) is the interconnection between a VM and a virtual network (VNet).</span></span> <span data-ttu-id="9f687-121">Una máquina virtual debe tener al menos una NIC, pero puede tener varias, en función del tamaño de la máquina virtual que se cree.</span><span class="sxs-lookup"><span data-stu-id="9f687-121">A VM must have at least one NIC, but can have more than one, depending on the size of the VM you create.</span></span> <span data-ttu-id="9f687-122">Para obtener información acerca de cuántas NIC admite cada tamaño de máquina virtual, consulte [Tamaños de las máquinas virtuales Linux en Azure](sizes.md).</span><span class="sxs-lookup"><span data-stu-id="9f687-122">Learn about how many NICs each VM size supports in [Sizes for virtual machines in Azure](sizes.md).</span></span> 

<span data-ttu-id="9f687-123">Si desea crear una máquina virtual con más de una NIC, debe crearla con un mínimo de dos.</span><span class="sxs-lookup"><span data-stu-id="9f687-123">If you want to create a VM with more than one NIC, you must create the VM with at least two.</span></span>  <span data-ttu-id="9f687-124">Después de su creación puede agregar NIC adicionales hasta el número que admita el tamaño de la máquina virtual, pero no puede hacerlo si la máquina virtual se creó solo con una, independientemente del número de NIC que admita el tamaño de la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="9f687-124">After creation you can add additional NICs up to the number supported by the VM size, but you cannot add additional NICs to a VM only created with one, regardless of how many NICs the VM size supports.</span></span> 

<span data-ttu-id="9f687-125">Si la máquina virtual se agrega a un conjunto de disponibilidad, todas las máquinas virtuales de este deben tener una o varias NIC.</span><span class="sxs-lookup"><span data-stu-id="9f687-125">If the VM is added to an availability set, all VMs within the availability set must have one or multiple NICs.</span></span> <span data-ttu-id="9f687-126">No es preciso que las máquinas virtuales con más de una NIC tengan el mismo número de NIC, pero todas ellas deben tener al menos dos.</span><span class="sxs-lookup"><span data-stu-id="9f687-126">VMs with more than one NIC aren’t required to have the same number of NICs, but they must all have at least two.</span></span>

<span data-ttu-id="9f687-127">Todas las NIC conectadas a una máquina virtual deben existir en la misma ubicación y suscripción que esta.</span><span class="sxs-lookup"><span data-stu-id="9f687-127">Each NIC attached to a VM must exist in the same location and subscription as the VM.</span></span> <span data-ttu-id="9f687-128">Cada NIC debe estar conectada a una red virtual que exista en la misma ubicación y suscripción de Azure en la que se encuentre la NIC.</span><span class="sxs-lookup"><span data-stu-id="9f687-128">Each NIC must be connected to a VNet that exists in the same Azure location and subscription as the NIC.</span></span> <span data-ttu-id="9f687-129">Una vez creada la NIC, puede cambiar la subred a la que está conectada, pero no la red virtual.</span><span class="sxs-lookup"><span data-stu-id="9f687-129">After a NIC is created, you can change the subnet it's connected to, but you cannot change the VNet it's connected to.</span></span>  <span data-ttu-id="9f687-130">A cada NIC conectada a una máquina virtual se le asigna una dirección MAC que no cambia hasta que se elimine la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="9f687-130">Each NIC attached to a VM is assigned a MAC address that doesn’t change until the VM is deleted.</span></span>

<span data-ttu-id="9f687-131">En esta tabla se enumeran los métodos que se pueden usar para crear una interfaz de red.</span><span class="sxs-lookup"><span data-stu-id="9f687-131">This table lists the methods that you can use to create a network interface.</span></span>

| <span data-ttu-id="9f687-132">Método</span><span class="sxs-lookup"><span data-stu-id="9f687-132">Method</span></span> | <span data-ttu-id="9f687-133">Descripción</span><span class="sxs-lookup"><span data-stu-id="9f687-133">Description</span></span> |
| ------ | ----------- |
| <span data-ttu-id="9f687-134">Portal de Azure</span><span class="sxs-lookup"><span data-stu-id="9f687-134">Azure portal</span></span> | <span data-ttu-id="9f687-135">Cuando se crea una máquina virtual en Azure Portal, se crea automáticamente una interfaz de red (no se puede usar una NIC que se cree de manera independiente).</span><span class="sxs-lookup"><span data-stu-id="9f687-135">When you create a VM in the Azure portal, a network interface is automatically created for you (you cannot use a NIC you create separately).</span></span> <span data-ttu-id="9f687-136">El portal crea una máquina virtual con una sola NIC.</span><span class="sxs-lookup"><span data-stu-id="9f687-136">The portal creates a VM with only one NIC.</span></span> <span data-ttu-id="9f687-137">Si desea crear una máquina virtual con más de una, debe usar otro método para hacerlo.</span><span class="sxs-lookup"><span data-stu-id="9f687-137">If you want to create a VM with more than one NIC, you must create it with a different method.</span></span> |
| [<span data-ttu-id="9f687-138">Azure PowerShell</span><span class="sxs-lookup"><span data-stu-id="9f687-138">Azure PowerShell</span></span>](../../virtual-network/virtual-network-deploy-multinic-arm-ps.md) | <span data-ttu-id="9f687-139">Use [New-AzureRmNetworkInterface](/powershell/module/azurerm.network/new-azurermnetworkinterface) con el parámetro **PublicIpAddressId -** para proporcionar el identificador de la dirección IP pública que creó anteriormente.</span><span class="sxs-lookup"><span data-stu-id="9f687-139">Use [New-AzureRmNetworkInterface](/powershell/module/azurerm.network/new-azurermnetworkinterface) with the **-PublicIpAddressId** parameter to provide the identifer of the public IP address that you previously created.</span></span> |
| [<span data-ttu-id="9f687-140">CLI de Azure</span><span class="sxs-lookup"><span data-stu-id="9f687-140">Azure CLI</span></span>](../../virtual-network/virtual-network-deploy-multinic-arm-cli.md) | <span data-ttu-id="9f687-141">Para proporcionar el identificador de la dirección IP pública que creó anteriormente, use [az network nic create](https://docs.microsoft.com/cli/azure/network/nic#create) con el parámetro **--public-ip-address**.</span><span class="sxs-lookup"><span data-stu-id="9f687-141">To provide the identifer of the public IP address that you previously created, use [az network nic create](https://docs.microsoft.com/cli/azure/network/nic#create) with the **--public-ip-address** parameter.</span></span> |
| [<span data-ttu-id="9f687-142">Plantilla</span><span class="sxs-lookup"><span data-stu-id="9f687-142">Template</span></span>](../../virtual-network/virtual-network-deploy-multinic-arm-template.md) | <span data-ttu-id="9f687-143">Use [Network Interface in a Virtual Network with Public IP Address](https://github.com/Azure/azure-quickstart-templates/tree/master/101-nic-publicip-dns-vnet) (Interfaz de red en una red virtual con dirección IP pública) como guía para implementar una interfaz de red mediante una plantilla.</span><span class="sxs-lookup"><span data-stu-id="9f687-143">Use [Network Interface in a Virtual Network with Public IP Address](https://github.com/Azure/azure-quickstart-templates/tree/master/101-nic-publicip-dns-vnet) as a guide for deploying a network interface using a template.</span></span> |

## <a name="ip-addresses"></a><span data-ttu-id="9f687-144">Direcciones IP</span><span class="sxs-lookup"><span data-stu-id="9f687-144">IP addresses</span></span> 

<span data-ttu-id="9f687-145">En Azure se pueden asignar estos tipos de [direcciones IP](../../virtual-network/virtual-network-ip-addresses-overview-arm.md) a una NIC:</span><span class="sxs-lookup"><span data-stu-id="9f687-145">You can assign these types of [IP addresses](../../virtual-network/virtual-network-ip-addresses-overview-arm.md) to a NIC in Azure:</span></span>

- <span data-ttu-id="9f687-146">**Direcciones IP públicas**: se usan para la comunicación entrante y saliente [sin traducción de direcciones de red (NAT)] con Internet y otros recursos de Azure no conectados a una red virtual.</span><span class="sxs-lookup"><span data-stu-id="9f687-146">**Public IP addresses** - Used to communicate inbound and outbound (without network address translation (NAT)) with the Internet and other Azure resources not connected to a VNet.</span></span> <span data-ttu-id="9f687-147">La asignación de una dirección IP pública a una NIC es opcional.</span><span class="sxs-lookup"><span data-stu-id="9f687-147">Assigning a public IP address to a NIC is optional.</span></span> <span data-ttu-id="9f687-148">Las direcciones IP públicas tienen un cargo nominal y se puede usar un número máximo de ellas por suscripción.</span><span class="sxs-lookup"><span data-stu-id="9f687-148">Public IP addresses have a nominal charge and there's a maximum number that can be used per subscription.</span></span>
- <span data-ttu-id="9f687-149">**Direcciones IP privadas**: se usan para la comunicación dentro de una red virtual, una red local e Internet (con NAT).</span><span class="sxs-lookup"><span data-stu-id="9f687-149">**Private IP addresses** - Used for communication within a VNet, your on-premises network, and the Internet (with NAT).</span></span> <span data-ttu-id="9f687-150">Debe asignar al menos una dirección IP privada a una máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="9f687-150">You must assign at least one private IP address to a VM.</span></span> <span data-ttu-id="9f687-151">Para más información acerca de NAT en Azure, lea [Información sobre las conexiones salientes en Azure](../../load-balancer/load-balancer-outbound-connections.md).</span><span class="sxs-lookup"><span data-stu-id="9f687-151">To learn more about NAT in Azure, read [Understanding outbound connections in Azure](../../load-balancer/load-balancer-outbound-connections.md).</span></span>

<span data-ttu-id="9f687-152">Las direcciones IP públicas se pueden asignar a las máquinas virtuales o a los equilibradores de carga con acceso a Internet.</span><span class="sxs-lookup"><span data-stu-id="9f687-152">You can assign public IP addresses to VMs or internet-facing load balancers.</span></span> <span data-ttu-id="9f687-153">Las direcciones IP privadas se pueden asignar a las máquinas virtuales y a los equilibradores de carga internos.</span><span class="sxs-lookup"><span data-stu-id="9f687-153">You can assign private IP addresses to VMs and internal load balancers.</span></span> <span data-ttu-id="9f687-154">Las direcciones IP se asignan a una máquina virtual mediante una interfaz de red.</span><span class="sxs-lookup"><span data-stu-id="9f687-154">You assign IP addresses to a VM using a network interface.</span></span>

<span data-ttu-id="9f687-155">Existen dos métodos en los que se asigna una dirección IP a un recurso: dinámico o estático.</span><span class="sxs-lookup"><span data-stu-id="9f687-155">There are two methods in which an IP address is allocated to a resource - dynamic or static.</span></span> <span data-ttu-id="9f687-156">El predeterminado es el dinámico, en el que no se asigna ninguna dirección IP durante la creación.</span><span class="sxs-lookup"><span data-stu-id="9f687-156">The default allocation method is dynamic, where an IP address is not allocated when it's created.</span></span> <span data-ttu-id="9f687-157">En su lugar, la dirección IP se asigna cuando se crea una máquina virtual o se inicia una máquina virtual detenida.</span><span class="sxs-lookup"><span data-stu-id="9f687-157">Instead, the IP address is allocated when you create a VM or start a stopped VM.</span></span> <span data-ttu-id="9f687-158">La dirección IP se libera cuando se detiene o se elimina la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="9f687-158">The IP address is released when you stop or delete the VM.</span></span> 

<span data-ttu-id="9f687-159">Para asegurarse de que la dirección IP de la máquina virtual no cambia, puede establecer explícitamente el método de asignación en estático.</span><span class="sxs-lookup"><span data-stu-id="9f687-159">To ensure the IP address for the VM remains the same, you can set the allocation method explicitly to static.</span></span> <span data-ttu-id="9f687-160">En este caso, se asigna de inmediato una dirección IP.</span><span class="sxs-lookup"><span data-stu-id="9f687-160">In this case, an IP address is assigned immediately.</span></span> <span data-ttu-id="9f687-161">Solo se libera cuando se elimina la máquina virtual o cuando se cambia su método de asignación a dinámico.</span><span class="sxs-lookup"><span data-stu-id="9f687-161">It is released only when you delete the VM or change its allocation method to dynamic.</span></span>
    
<span data-ttu-id="9f687-162">En esta tabla se enumeran los métodos que se pueden usar para crear una dirección IP.</span><span class="sxs-lookup"><span data-stu-id="9f687-162">This table lists the methods that you can use to create an IP address.</span></span>

| <span data-ttu-id="9f687-163">Método</span><span class="sxs-lookup"><span data-stu-id="9f687-163">Method</span></span> | <span data-ttu-id="9f687-164">Descripción</span><span class="sxs-lookup"><span data-stu-id="9f687-164">Description</span></span> |
| ------ | ----------- |
| [<span data-ttu-id="9f687-165">Portal de Azure</span><span class="sxs-lookup"><span data-stu-id="9f687-165">Azure portal</span></span>](../../virtual-network/virtual-network-deploy-static-pip-arm-portal.md) | <span data-ttu-id="9f687-166">De manera predeterminada, las direcciones IP públicas son dinámicas y la dirección asociada a ellas puede cambiar cuando la máquina virtual se detiene o elimina.</span><span class="sxs-lookup"><span data-stu-id="9f687-166">By default, public IP addresses are dynamic and the address associated to them may change when the VM is stopped or deleted.</span></span> <span data-ttu-id="9f687-167">Para garantizar que la máquina virtual siempre usa la misma dirección IP pública, cree una dirección IP pública estática.</span><span class="sxs-lookup"><span data-stu-id="9f687-167">To guarantee that the VM always uses the same public IP address, create a static public IP address.</span></span> <span data-ttu-id="9f687-168">De manera predeterminada, el portal asigna una dirección IP privada dinámica a una NIC al crear una máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="9f687-168">By default, the portal assigns a dynamic private IP address to a NIC when creating a VM.</span></span> <span data-ttu-id="9f687-169">No obstante, tras dicha creación es posible cambiarla a estática.</span><span class="sxs-lookup"><span data-stu-id="9f687-169">You can change this to static after the VM is created.</span></span>|
| [<span data-ttu-id="9f687-170">Azure PowerShell</span><span class="sxs-lookup"><span data-stu-id="9f687-170">Azure PowerShell</span></span>](../../virtual-network/virtual-network-deploy-static-pip-arm-ps.md) | <span data-ttu-id="9f687-171">Use [New-AzureRmPublicIpAddress](/powershell/module/azurerm.network/new-azurermpublicipaddress) con el parámetro **AllocationMethod -** como Dynamic o Static.</span><span class="sxs-lookup"><span data-stu-id="9f687-171">You use [New-AzureRmPublicIpAddress](/powershell/module/azurerm.network/new-azurermpublicipaddress) with the **-AllocationMethod** parameter as Dynamic or Static.</span></span> |
| [<span data-ttu-id="9f687-172">CLI de Azure</span><span class="sxs-lookup"><span data-stu-id="9f687-172">Azure CLI</span></span>](../../virtual-network/virtual-network-deploy-static-pip-arm-cli.md) | <span data-ttu-id="9f687-173">Use [az network public-ip create](https://docs.microsoft.com/cli/azure/network/public-ip#create) con el parámetro **--allocation-method** como Dynamic o Static.</span><span class="sxs-lookup"><span data-stu-id="9f687-173">You use [az network public-ip create](https://docs.microsoft.com/cli/azure/network/public-ip#create) with the **--allocation-method** parameter as Dynamic or Static.</span></span> |
| [<span data-ttu-id="9f687-174">Plantilla</span><span class="sxs-lookup"><span data-stu-id="9f687-174">Template</span></span>](../../virtual-network/virtual-network-deploy-static-pip-arm-template.md) | <span data-ttu-id="9f687-175">Use [Network Interface in a Virtual Network with Public IP Address](https://github.com/Azure/azure-quickstart-templates/tree/master/101-nic-publicip-dns-vnet) (Interfaz de red en una red virtual con dirección IP pública) como guía para implementar una dirección IP pública mediante una plantilla.</span><span class="sxs-lookup"><span data-stu-id="9f687-175">Use [Network Interface in a Virtual Network with Public IP Address](https://github.com/Azure/azure-quickstart-templates/tree/master/101-nic-publicip-dns-vnet) as a guide for deploying a public IP address using a template.</span></span> |

<span data-ttu-id="9f687-176">Después de crear una dirección IP pública, se puede asociar a una máquina virtual. Para ello, es preciso asignarla a una NIC.</span><span class="sxs-lookup"><span data-stu-id="9f687-176">After you create a public IP address, you can associate it with a VM by assigning it to a NIC.</span></span>

## <a name="virtual-network-and-subnets"></a><span data-ttu-id="9f687-177">Red virtual y subredes</span><span class="sxs-lookup"><span data-stu-id="9f687-177">Virtual network and subnets</span></span>

<span data-ttu-id="9f687-178">Una subred es un intervalo de direcciones IP en la red virtual.</span><span class="sxs-lookup"><span data-stu-id="9f687-178">A subnet is a range of IP addresses in the VNet.</span></span> <span data-ttu-id="9f687-179">Una red virtual se puede dividir en varias subredes para facilitar su organización o por motivos de seguridad.</span><span class="sxs-lookup"><span data-stu-id="9f687-179">You can divide a VNet into multiple subnets for organization and security.</span></span> <span data-ttu-id="9f687-180">Cada una de las NIC de una máquina virtual está conectada a una subred de una red virtual.</span><span class="sxs-lookup"><span data-stu-id="9f687-180">Each NIC in a VM is connected to one subnet in one VNet.</span></span> <span data-ttu-id="9f687-181">Las NIC conectadas a subredes (iguales o distintas) dentro de una red virtual pueden comunicarse entre sí sin ninguna configuración adicional.</span><span class="sxs-lookup"><span data-stu-id="9f687-181">NICs connected to subnets (same or different) within a VNet can communicate with each other without any extra configuration.</span></span>

<span data-ttu-id="9f687-182">Al configurar una red virtual, especifique la topología, incluidos los espacios de direcciones y las subredes disponibles.</span><span class="sxs-lookup"><span data-stu-id="9f687-182">When you set up a VNet, you specify the topology, including the available address spaces and subnets.</span></span> <span data-ttu-id="9f687-183">Si la red virtual se va a conectar a otras redes virtuales o a redes locales, es preciso seleccionar intervalos de direcciones que no se superpongan.</span><span class="sxs-lookup"><span data-stu-id="9f687-183">If the VNet is to be connected to other VNets or on-premises networks, you must select address ranges that don't overlap.</span></span> <span data-ttu-id="9f687-184">Las direcciones IP son privadas y no se puede acceder a ellas desde Internet, lo cual sucedía solo en el caso de las direcciones IP no enrutables como 10.0.0.0/8, 172.16.0.0/12 o 192.168.0.0/16.</span><span class="sxs-lookup"><span data-stu-id="9f687-184">The IP addresses are private and can't be accessed from the Internet, which was true only for the non-routeable IP addresses such as 10.0.0.0/8, 172.16.0.0/12, or 192.168.0.0/16.</span></span> <span data-ttu-id="9f687-185">Ahora, Azure trata todos los intervalos de direcciones como parte del espacio de direcciones IP de redes virtuales privadas al que solo se puede acceder dentro de la red virtual, de redes virtuales interconectadas y desde su ubicación local.</span><span class="sxs-lookup"><span data-stu-id="9f687-185">Now, Azure treats any address range as part of the private VNet IP address space that is only reachable within the VNet, within interconnected VNets, and from your on-premises location.</span></span> 

<span data-ttu-id="9f687-186">Si trabaja en una organización en la que otra persona es responsable de las redes internas, póngase en contacto con ella antes de seleccionar el espacio de direcciones.</span><span class="sxs-lookup"><span data-stu-id="9f687-186">If you work within an organization in which someone else is responsible for the internal networks, you should talk to that person before selecting your address space.</span></span> <span data-ttu-id="9f687-187">Asegúrese de que no se superpone a otro e infórmele acerca del espacio que desea usar, con el fin de que no intente usar el mismo intervalo de direcciones IP.</span><span class="sxs-lookup"><span data-stu-id="9f687-187">Make sure there is no overlap and let them know the space you want to use so they don’t try to use the same range of IP addresses.</span></span> 

<span data-ttu-id="9f687-188">De forma predeterminada, no hay ningún límite de seguridad entre subredes, por lo que las máquinas virtuales de cada una de estas subredes pueden comunicarse entre sí.</span><span class="sxs-lookup"><span data-stu-id="9f687-188">By default, there is no security boundary between subnets, so VMs in each of these subnets can talk to one another.</span></span> <span data-ttu-id="9f687-189">Sin embargo, se pueden configurar grupos de seguridad de red (NSG), que permiten controlar el flujo de tráfico que llega y sale tanto de las subredes como de las máquinas virtuales.</span><span class="sxs-lookup"><span data-stu-id="9f687-189">However, you can set up Network Security Groups (NSGs), which allow you to control the traffic flow to and from subnets and to and from VMs.</span></span> 

<span data-ttu-id="9f687-190">En esta tabla se enumeran los métodos que se pueden usar para crear una red virtual y subredes.</span><span class="sxs-lookup"><span data-stu-id="9f687-190">This table lists the methods that you can use to create a VNet and subnets.</span></span> 

| <span data-ttu-id="9f687-191">Método</span><span class="sxs-lookup"><span data-stu-id="9f687-191">Method</span></span> | <span data-ttu-id="9f687-192">Descripción</span><span class="sxs-lookup"><span data-stu-id="9f687-192">Description</span></span> |
| ------ | ----------- |
| [<span data-ttu-id="9f687-193">Portal de Azure</span><span class="sxs-lookup"><span data-stu-id="9f687-193">Azure portal</span></span>](../../virtual-network/virtual-networks-create-vnet-arm-pportal.md) | <span data-ttu-id="9f687-194">Si deja que Azure cree una red virtual cuando cree una máquina virtual, el nombre será una combinación del nombre del grupo de recursos que contiene la red virtual y **- vnet**.</span><span class="sxs-lookup"><span data-stu-id="9f687-194">If you let Azure create a VNet when you create a VM, the name is a combination of the resource group name that contains the VNet and **-vnet**.</span></span> <span data-ttu-id="9f687-195">El espacio de direcciones será 10.0.0.0/24, el nombre de subred requerida será **default** y el intervalo de direcciones de la subred será 10.0.0.0/24.</span><span class="sxs-lookup"><span data-stu-id="9f687-195">The address space is 10.0.0.0/24, the required subnet name is **default**, and the subnet address range is 10.0.0.0/24.</span></span> |
| [<span data-ttu-id="9f687-196">Azure PowerShell</span><span class="sxs-lookup"><span data-stu-id="9f687-196">Azure PowerShell</span></span>](../../virtual-network/virtual-networks-create-vnet-arm-ps.md) | <span data-ttu-id="9f687-197">Para crear una subred y una red virtual se usan [New-AzureRmVirtualNetworkSubnetConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmVirtualNetworkSubnetConfig) y [New-AzureRmVirtualNetwork](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmVirtualNetwork).</span><span class="sxs-lookup"><span data-stu-id="9f687-197">You use [New-AzureRmVirtualNetworkSubnetConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmVirtualNetworkSubnetConfig) and [New-AzureRmVirtualNetwork](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmVirtualNetwork) to create a subnet and a VNet.</span></span> <span data-ttu-id="9f687-198">También se puede usar [AzureRmVirtualNetworkSubnetConfig agregar](/powershell/module/azurerm.network/add-azurermvirtualnetworksubnetconfig) para agregar una subred a una red virtual existente.</span><span class="sxs-lookup"><span data-stu-id="9f687-198">You can also use [Add-AzureRmVirtualNetworkSubnetConfig](/powershell/module/azurerm.network/add-azurermvirtualnetworksubnetconfig) to add a subnet to an existing VNet.</span></span> |
| [<span data-ttu-id="9f687-199">CLI de Azure</span><span class="sxs-lookup"><span data-stu-id="9f687-199">Azure CLI</span></span>](../../virtual-network/virtual-networks-create-vnet-arm-cli.md) | <span data-ttu-id="9f687-200">La subred y la red virtual se crean al mismo tiempo.</span><span class="sxs-lookup"><span data-stu-id="9f687-200">The subnet and the VNet are created at the same time.</span></span> <span data-ttu-id="9f687-201">Especifique el parámetro **--subnet-name** en [az network vnet create](https://docs.microsoft.com/cli/azure/network/vnet#create) con el nombre de la subred.</span><span class="sxs-lookup"><span data-stu-id="9f687-201">Provide a **--subnet-name** parameter to [az network vnet create](https://docs.microsoft.com/cli/azure/network/vnet#create) with the subnet name.</span></span> |
| [<span data-ttu-id="9f687-202">Plantilla</span><span class="sxs-lookup"><span data-stu-id="9f687-202">Template</span></span>](../../virtual-network/virtual-networks-create-vnet-arm-template-click.md) | <span data-ttu-id="9f687-203">La manera más fácil de crear una red virtual y subredes es descargar una plantilla existente, como [Virtual Network with two Subnets](https://github.com/Azure/azure-quickstart-templates/tree/master/101-vnet-two-subnets) (Red virtual con dos subredes) y modificarla hasta ajustarla a sus necesidades.</span><span class="sxs-lookup"><span data-stu-id="9f687-203">The easiest way to create a VNet and subnets is to download an existing template, such as [Virtual Network with two Subnets](https://github.com/Azure/azure-quickstart-templates/tree/master/101-vnet-two-subnets), and modify it for your needs.</span></span> |

## <a name="network-security-groups"></a><span data-ttu-id="9f687-204">Grupos de seguridad de red</span><span class="sxs-lookup"><span data-stu-id="9f687-204">Network security groups</span></span>

<span data-ttu-id="9f687-205">Un [grupo de seguridad de red (NSG)](../../virtual-network/virtual-networks-nsg.md) contiene una lista de reglas de la lista de control de acceso (ACL) que permiten o deniegan el tráfico de red a subredes, NIC, o ambas.</span><span class="sxs-lookup"><span data-stu-id="9f687-205">A [network security group (NSG)](../../virtual-network/virtual-networks-nsg.md) contains a list of Access Control List (ACL) rules that allow or deny network traffic to subnets, NICs, or both.</span></span> <span data-ttu-id="9f687-206">Los grupos de seguridad de red se pueden asociar con subredes o con NIC individuales conectadas a una subred.</span><span class="sxs-lookup"><span data-stu-id="9f687-206">NSGs can be associated with either subnets or individual NICs connected to a subnet.</span></span> <span data-ttu-id="9f687-207">Si un grupo de seguridad de red está asociado a una subred, las reglas de la ACL se aplican a todas las máquinas virtuales de dicha subred.</span><span class="sxs-lookup"><span data-stu-id="9f687-207">When an NSG is associated with a subnet, the ACL rules apply to all the VMs in that subnet.</span></span> <span data-ttu-id="9f687-208">Además, se puede limitar el tráfico que llega a una NIC individual, para lo que se debe asociar un NSG directamente a la NIC.</span><span class="sxs-lookup"><span data-stu-id="9f687-208">In addition, traffic to an individual NIC can be restricted by associating an NSG directly to a NIC.</span></span>

<span data-ttu-id="9f687-209">Contiene dos tipos de reglas: de entrada y de salida.</span><span class="sxs-lookup"><span data-stu-id="9f687-209">NSGs contain two sets of rules: inbound and outbound.</span></span> <span data-ttu-id="9f687-210">La prioridad de una regla debe ser única dentro de cada conjunto.</span><span class="sxs-lookup"><span data-stu-id="9f687-210">The priority for a rule must be unique within each set.</span></span> <span data-ttu-id="9f687-211">Cada regla tiene propiedades de protocolo, intervalos de puertos de origen y destino, prefijos de direcciones, dirección de tráfico, prioridad y tipo de acceso.</span><span class="sxs-lookup"><span data-stu-id="9f687-211">Each rule has properties of protocol, source and destination port ranges, address prefixes, direction of traffic, priority, and access type.</span></span> 

<span data-ttu-id="9f687-212">Todos los grupos de seguridad de red contienen un conjunto de reglas predeterminadas.</span><span class="sxs-lookup"><span data-stu-id="9f687-212">All NSGs contain a set of default rules.</span></span> <span data-ttu-id="9f687-213">No se pueden eliminar las reglas predeterminadas, pero dado que tienen asignada la mínima prioridad, pueden reemplazarse por las reglas que cree.</span><span class="sxs-lookup"><span data-stu-id="9f687-213">The default rules cannot be deleted, but because they are assigned the lowest priority, they can be overridden by the rules that you create.</span></span> 

<span data-ttu-id="9f687-214">Al asociar un grupo de seguridad de red a una NIC, las reglas de acceso de red del grupo de seguridad de red se aplican solo a esa NIC.</span><span class="sxs-lookup"><span data-stu-id="9f687-214">When you associate an NSG to a NIC, the network access rules in the NSG are applied only to that NIC.</span></span> <span data-ttu-id="9f687-215">Si se aplica un grupo de seguridad de red a una sola NIC en una máquina virtual con varias NIC, el tráfico de las restantes no se verá afectado.</span><span class="sxs-lookup"><span data-stu-id="9f687-215">If an NSG is applied to a single NIC on a multi-NIC VM, it does not affect traffic to the other NICs.</span></span> <span data-ttu-id="9f687-216">Se pueden asociar distintos grupos de seguridad de red a una NIC (o a una máquina virtual, según el modelo de implementación) y a la subred a la que una NIC o una máquina virtual están enlazadas.</span><span class="sxs-lookup"><span data-stu-id="9f687-216">You can associate different NSGs to a NIC (or VM, depending on the deployment model) and the subnet that a NIC or VM is bound to.</span></span> <span data-ttu-id="9f687-217">La prioridad depende de la dirección del tráfico.</span><span class="sxs-lookup"><span data-stu-id="9f687-217">Priority is given based on the direction of traffic.</span></span>

<span data-ttu-id="9f687-218">Cuando planee las máquinas virtuales y red virtual, no olvide [planear](../../virtual-network/virtual-networks-nsg.md#planning) los grupos de seguridad de red.</span><span class="sxs-lookup"><span data-stu-id="9f687-218">Be sure to [plan](../../virtual-network/virtual-networks-nsg.md#planning) your NSGs when you plan your VMs and VNet.</span></span>

<span data-ttu-id="9f687-219">En esta tabla se enumeran los métodos que se pueden usar para crear un grupo de seguridad de red.</span><span class="sxs-lookup"><span data-stu-id="9f687-219">This table lists the methods that you can use to create a network security group.</span></span>

| <span data-ttu-id="9f687-220">Método</span><span class="sxs-lookup"><span data-stu-id="9f687-220">Method</span></span> | <span data-ttu-id="9f687-221">Descripción</span><span class="sxs-lookup"><span data-stu-id="9f687-221">Description</span></span> |
| ------ | ----------- |
| [<span data-ttu-id="9f687-222">Portal de Azure</span><span class="sxs-lookup"><span data-stu-id="9f687-222">Azure portal</span></span>](../../virtual-network/virtual-networks-create-nsg-arm-pportal.md) | <span data-ttu-id="9f687-223">Cuando se crea una máquina virtual en Azure Portal, se crea automáticamente un grupo de seguridad de red, que se asocia a la NIC que crea el portal.</span><span class="sxs-lookup"><span data-stu-id="9f687-223">When you create a VM in the Azure portal, an NSG is automatically created and associated to the NIC the portal creates.</span></span> <span data-ttu-id="9f687-224">El nombre de dicho grupo es una combinación del nombre de la máquina virtual y **- nsg**.</span><span class="sxs-lookup"><span data-stu-id="9f687-224">The name of the NSG is a combination of the name of the VM and **-nsg**.</span></span> <span data-ttu-id="9f687-225">Este grupo de seguridad de red contiene una regla de entrada con una prioridad de 1000, un servicio establecido en RDP, el protocolo establecido en TCP, el puerto establecido en 3389 y la acción establecida en Allow (Permitir).</span><span class="sxs-lookup"><span data-stu-id="9f687-225">This NSG contains one inbound rule with a priority of 1000, service set to RDP, the protocol set to TCP, port set to 3389, and action set to Allow.</span></span> <span data-ttu-id="9f687-226">Si desea permitir que otro tráfico de entrada a la máquina virtual, debe agregar más reglas al NSG.</span><span class="sxs-lookup"><span data-stu-id="9f687-226">If you want to allow any other inbound traffic to the VM, you must add additional rules to the NSG.</span></span> |
| [<span data-ttu-id="9f687-227">Azure PowerShell</span><span class="sxs-lookup"><span data-stu-id="9f687-227">Azure PowerShell</span></span>](../../virtual-network/virtual-networks-create-nsg-arm-ps.md) | <span data-ttu-id="9f687-228">Use [New-AzureRmNetworkSecurityRuleConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmNetworkSecurityRuleConfig) y especifique la información de las reglas requerida.</span><span class="sxs-lookup"><span data-stu-id="9f687-228">Use [New-AzureRmNetworkSecurityRuleConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmNetworkSecurityRuleConfig) and provide the required rule information.</span></span> <span data-ttu-id="9f687-229">Use [New-AzureRmNetworkSecurityGroup](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmNetworkSecurityGroup) para crear el grupo de seguridad de red.</span><span class="sxs-lookup"><span data-stu-id="9f687-229">Use [New-AzureRmNetworkSecurityGroup](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmNetworkSecurityGroup) to create the NSG.</span></span> <span data-ttu-id="9f687-230">Use [Set-AzureRmVirtualNetworkSubnetConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/Set-AzureRmVirtualNetworkSubnetConfig) para configurar el grupo de seguridad de red para la subred.</span><span class="sxs-lookup"><span data-stu-id="9f687-230">Use [Set-AzureRmVirtualNetworkSubnetConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/Set-AzureRmVirtualNetworkSubnetConfig) to configure the NSG for the subnet.</span></span> <span data-ttu-id="9f687-231">Use [Set-AzureRmVirtualNetwork](/powershell/module/azurerm.network/set-azurermvirtualnetwork) para agregar el grupo de seguridad de red a la red virtual.</span><span class="sxs-lookup"><span data-stu-id="9f687-231">Use [Set-AzureRmVirtualNetwork](/powershell/module/azurerm.network/set-azurermvirtualnetwork) to add the NSG to the VNet.</span></span> |
| [<span data-ttu-id="9f687-232">CLI de Azure</span><span class="sxs-lookup"><span data-stu-id="9f687-232">Azure CLI</span></span>](../../virtual-network/virtual-networks-create-nsg-arm-cli.md) | <span data-ttu-id="9f687-233">Use [az network nsg create](https://docs.microsoft.com/cli/azure/network/nsg#create) para crear inicialmente el grupo de seguridad de red.</span><span class="sxs-lookup"><span data-stu-id="9f687-233">Use [az network nsg create](https://docs.microsoft.com/cli/azure/network/nsg#create) to initially create the NSG.</span></span> <span data-ttu-id="9f687-234">Use [az network nsg rule create](https://docs.microsoft.com/cli/azure/network/nsg/rule#create) para agregar reglas al grupo de seguridad de red.</span><span class="sxs-lookup"><span data-stu-id="9f687-234">Use [az network nsg rule create](https://docs.microsoft.com/cli/azure/network/nsg/rule#create) to add rules to the NSG.</span></span> <span data-ttu-id="9f687-235">Use [az network vnet subnet update](https://docs.microsoft.com/en-us/cli/azure/network/vnet/subnet#update) para agregar el grupo de seguridad de red a la subred.</span><span class="sxs-lookup"><span data-stu-id="9f687-235">Use [az network vnet subnet update](https://docs.microsoft.com/en-us/cli/azure/network/vnet/subnet#update) to add the NSG to the subnet.</span></span> |
| [<span data-ttu-id="9f687-236">Plantilla</span><span class="sxs-lookup"><span data-stu-id="9f687-236">Template</span></span>](../../virtual-network/virtual-networks-create-nsg-arm-template.md) | <span data-ttu-id="9f687-237">Use [Create a Network Security Group](https://github.com/Azure/azure-quickstart-templates/tree/master/101-security-group-create) (Creación de un grupo de seguridad de red) como guía para la implementación de un grupo de seguridad de red mediante una plantilla.</span><span class="sxs-lookup"><span data-stu-id="9f687-237">Use [Create a Network Security Group](https://github.com/Azure/azure-quickstart-templates/tree/master/101-security-group-create) as a guide for deploying a network security group using a template.</span></span> |

## <a name="load-balancers"></a><span data-ttu-id="9f687-238">Equilibradores de carga</span><span class="sxs-lookup"><span data-stu-id="9f687-238">Load balancers</span></span>

<span data-ttu-id="9f687-239">[Azure Load Balancer](../../load-balancer/load-balancer-overview.md) proporciona una alta disponibilidad y un elevado rendimiento de red a las aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="9f687-239">[Azure Load Balancer](../../load-balancer/load-balancer-overview.md) delivers high availability and network performance to your applications.</span></span> <span data-ttu-id="9f687-240">Se puede configurar un equilibrador de carga para [equilibrar el tráfico entrante de Internet](../../load-balancer/load-balancer-internet-overview.md) a las máquinas virtuales o [equilibrar el tráfico entre las máquinas virtuales de una red virtual](../../load-balancer/load-balancer-internal-overview.md).</span><span class="sxs-lookup"><span data-stu-id="9f687-240">A load balancer can be configured to [balance incoming Internet traffic](../../load-balancer/load-balancer-internet-overview.md) to VMs or [balance traffic between VMs in a VNet](../../load-balancer/load-balancer-internal-overview.md).</span></span> <span data-ttu-id="9f687-241">Un equilibrador de carga también puede equilibrar el tráfico entre los equipos locales y las máquinas virtuales de una red entre entornos, o reenviar el tráfico externo a una máquina virtual concreta.</span><span class="sxs-lookup"><span data-stu-id="9f687-241">A load balancer can also balance traffic between on-premises computers and VMs in a cross-premises network, or forward external traffic to a specific VM.</span></span>

<span data-ttu-id="9f687-242">El equilibrador de carga asigna el tráfico entrante y saliente entre la dirección IP pública y el puerto del equilibrador de carga y la dirección IP privada y puerto de la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="9f687-242">The load balancer maps incoming and outgoing traffic between the public IP address and port on the load balancer and the private IP address and port of the VM.</span></span>

<span data-ttu-id="9f687-243">Al crear un equilibrador de carga, también es preciso tener en cuenta estos elementos de configuración:</span><span class="sxs-lookup"><span data-stu-id="9f687-243">When you create a load balancer, you must also consider these configuration elements:</span></span>

- <span data-ttu-id="9f687-244">**Configuración de IP de front-end**: un equilibrador de carga puede incluir una o varias direcciones IP de front-end, conocidas también como IP virtuales (VIP).</span><span class="sxs-lookup"><span data-stu-id="9f687-244">**Front-end IP configuration** – A load balancer can include one or more front-end IP addresses, otherwise known as virtual IPs (VIPs).</span></span> <span data-ttu-id="9f687-245">Estas direcciones IP sirven como entrada para el tráfico.</span><span class="sxs-lookup"><span data-stu-id="9f687-245">These IP addresses serve as ingress for the traffic.</span></span>
- <span data-ttu-id="9f687-246">**Grupo de direcciones de back-end**: direcciones IP que están asociadas a la NIC a la que se distribuye la carga.</span><span class="sxs-lookup"><span data-stu-id="9f687-246">**Back-end address pool** – IP addresses that are associated with the NIC to which load is distributed.</span></span>
- <span data-ttu-id="9f687-247">**Reglas NAT**: define el flujo del tráfico entrante a través de la IP de front-end y su distribución a la IP de back-end.</span><span class="sxs-lookup"><span data-stu-id="9f687-247">**NAT rules** - Defines how inbound traffic flows through the front-end IP and distributed to the back-end IP.</span></span>
- <span data-ttu-id="9f687-248">**Reglas del equlibrador de carga**: asigna una combinación dada de IP de front-end y puerto a una combinación de un conjunto de direcciones IP de back-end y puerto.</span><span class="sxs-lookup"><span data-stu-id="9f687-248">**Load balancer rules** - Maps a given front-end IP and port combination to a set of back-end IP addresses and port combination.</span></span> <span data-ttu-id="9f687-249">Un solo equilibrador de carga puede tener varias reglas de equilibrio de carga.</span><span class="sxs-lookup"><span data-stu-id="9f687-249">A single load balancer can have multiple load balancing rules.</span></span> <span data-ttu-id="9f687-250">Cada regla tiene una combinación de una IP de front-end y un puerto y una IP de back-end asociados a las máquinas virtuales.</span><span class="sxs-lookup"><span data-stu-id="9f687-250">Each rule is a combination of a front-end IP and port and back-end IP and port associated with VMs.</span></span>
- <span data-ttu-id="9f687-251">**[Sondeos](../../load-balancer/load-balancer-custom-probe-overview.md)**: supervisa el estado de las máquinas virtuales.</span><span class="sxs-lookup"><span data-stu-id="9f687-251">**[Probes](../../load-balancer/load-balancer-custom-probe-overview.md)** - Monitors the health of VMs.</span></span> <span data-ttu-id="9f687-252">Si un sondeo no responde, el equilibrador de carga deja de enviar nuevas conexiones a la máquina virtual que no funciona correctamente.</span><span class="sxs-lookup"><span data-stu-id="9f687-252">When a probe fails to respond, the load balancer stops sending new connections to the unhealthy VM.</span></span> <span data-ttu-id="9f687-253">Las conexiones existentes no resultan afectadas y las nuevas conexiones se envían a las máquinas virtuales que están en buen estado.</span><span class="sxs-lookup"><span data-stu-id="9f687-253">The existing connections are not affected, and new connections are sent to healthy VMs.</span></span>

<span data-ttu-id="9f687-254">En esta tabla se enumeran los métodos que se pueden usar para crear un equilibrador de carga con acceso a Internet.</span><span class="sxs-lookup"><span data-stu-id="9f687-254">This table lists the methods that you can use to create an internet-facing load balancer.</span></span>

| <span data-ttu-id="9f687-255">Método</span><span class="sxs-lookup"><span data-stu-id="9f687-255">Method</span></span> | <span data-ttu-id="9f687-256">Descripción</span><span class="sxs-lookup"><span data-stu-id="9f687-256">Description</span></span> |
| ------ | ----------- |
| <span data-ttu-id="9f687-257">Portal de Azure</span><span class="sxs-lookup"><span data-stu-id="9f687-257">Azure portal</span></span> | <span data-ttu-id="9f687-258">Actualmente no se puede crear equilibrador de carga con acceso Internet mediante Azure Portal.</span><span class="sxs-lookup"><span data-stu-id="9f687-258">You can't currently create an internet-facing load balancer using the Azure portal.</span></span> |
| [<span data-ttu-id="9f687-259">Azure PowerShell</span><span class="sxs-lookup"><span data-stu-id="9f687-259">Azure PowerShell</span></span>](../../load-balancer/load-balancer-get-started-internet-arm-ps.md) | <span data-ttu-id="9f687-260">Para proporcionar el identificador de la dirección IP pública que creó anteriormente, use [New-AzureRmLoadBalancerFrontendIpConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmLoadBalancerFrontendIpConfig) con el parámetro **-PublicIpAddress**.</span><span class="sxs-lookup"><span data-stu-id="9f687-260">To provide the identifer of the public IP address that you previously created, use [New-AzureRmLoadBalancerFrontendIpConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmLoadBalancerFrontendIpConfig) with the **-PublicIpAddress** parameter.</span></span> <span data-ttu-id="9f687-261">Use [New-AzureRmLoadBalancerBackendAddressPoolConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmLoadBalancerBackendAddressPoolConfig) para crear la configuración del grupo de direcciones de back-end.</span><span class="sxs-lookup"><span data-stu-id="9f687-261">Use [New-AzureRmLoadBalancerBackendAddressPoolConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmLoadBalancerBackendAddressPoolConfig) to create the configuration of the back-end address pool.</span></span> <span data-ttu-id="9f687-262">Use [New-AzureRmLoadBalancerInboundNatRuleConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmLoadBalancerInboundNatRuleConfig) para crear reglas NAT de entrada asociadas a la configuración de la IP de front-end que ha creado.</span><span class="sxs-lookup"><span data-stu-id="9f687-262">Use [New-AzureRmLoadBalancerInboundNatRuleConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmLoadBalancerInboundNatRuleConfig) to create inbound NAT rules associated with the front-end IP configuration that you created.</span></span> <span data-ttu-id="9f687-263">Use [New-AzureRmLoadBalancerProbeConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmLoadBalancerProbeConfig) para crear los sondeos que necesite.</span><span class="sxs-lookup"><span data-stu-id="9f687-263">Use [New-AzureRmLoadBalancerProbeConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmLoadBalancerProbeConfig) to create the probes that you need.</span></span> <span data-ttu-id="9f687-264">Use [New-AzureRmLoadBalancerRuleConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmLoadBalancerRuleConfig) para crear la configuración del equilibrador de carga.</span><span class="sxs-lookup"><span data-stu-id="9f687-264">Use [New-AzureRmLoadBalancerRuleConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmLoadBalancerRuleConfig) to create the load balancer configuration.</span></span> <span data-ttu-id="9f687-265">Use [New-AzureRmLoadBalancer](/powershell/module/azurerm.network/new-azurermloadbalancer) para crear el equilibrador de carga.</span><span class="sxs-lookup"><span data-stu-id="9f687-265">Use [New-AzureRmLoadBalancer](/powershell/module/azurerm.network/new-azurermloadbalancer) to create the load balancer.</span></span>|
| [<span data-ttu-id="9f687-266">CLI de Azure</span><span class="sxs-lookup"><span data-stu-id="9f687-266">Azure CLI</span></span>](../../load-balancer/load-balancer-get-started-internet-arm-cli.md) | <span data-ttu-id="9f687-267">Use [az network lb create](https://docs.microsoft.com/cli/azure/network/lb#create) para crear la configuración inicial del equilibrador de carga.</span><span class="sxs-lookup"><span data-stu-id="9f687-267">Use [az network lb create](https://docs.microsoft.com/cli/azure/network/lb#create) to create the initial load balancer configuration.</span></span> <span data-ttu-id="9f687-268">Use [az network lb frontend-ip create](https://docs.microsoft.com/cli/azure/network/lb/frontend-ip#create) para agregar la dirección IP pública que creó anteriormente.</span><span class="sxs-lookup"><span data-stu-id="9f687-268">Use [az network lb frontend-ip create](https://docs.microsoft.com/cli/azure/network/lb/frontend-ip#create) to add the public IP address that you previously created.</span></span> <span data-ttu-id="9f687-269">Use [az network lb address-pool create](https://docs.microsoft.com/cli/azure/network/lb/address-pool#create) para agregar la configuración del grupo de direcciones de back-end.</span><span class="sxs-lookup"><span data-stu-id="9f687-269">Use [az network lb address-pool create](https://docs.microsoft.com/cli/azure/network/lb/address-pool#create) to add the configuration of the back-end address pool.</span></span> <span data-ttu-id="9f687-270">Use [az network lb inbound-nat-rule create](https://docs.microsoft.com/cli/azure/network/lb/inbound-nat-rule#create) para agregar reglas NAT.</span><span class="sxs-lookup"><span data-stu-id="9f687-270">Use [az network lb inbound-nat-rule create](https://docs.microsoft.com/cli/azure/network/lb/inbound-nat-rule#create) to add NAT rules.</span></span> <span data-ttu-id="9f687-271">Use [az network lb rule create](https://docs.microsoft.com/cli/azure/network/lb/rule#create) para agregar las reglas del equilibrador de carga.</span><span class="sxs-lookup"><span data-stu-id="9f687-271">Use [az network lb rule create](https://docs.microsoft.com/cli/azure/network/lb/rule#create) to add the load balancer rules.</span></span> <span data-ttu-id="9f687-272">Use [az network lb probe create](https://docs.microsoft.com/cli/azure/network/lb/probe#create) para agregar los sondeos.</span><span class="sxs-lookup"><span data-stu-id="9f687-272">Use [az network lb probe create](https://docs.microsoft.com/cli/azure/network/lb/probe#create) to add the probes.</span></span> |
| [<span data-ttu-id="9f687-273">Plantilla</span><span class="sxs-lookup"><span data-stu-id="9f687-273">Template</span></span>](../../load-balancer/load-balancer-get-started-internet-arm-template.md) | <span data-ttu-id="9f687-274">Use [2 VMs in a Load Balancer and configure NAT rules on the LB](https://github.com/Azure/azure-quickstart-templates/tree/master/201-2-vms-loadbalancer-natrules) (Dos máquinas virtuales en un equilibrador de carga y configurar reglas NAT en el equilibrador de carga) como guía para implementar un equilibrador de carga mediante una plantilla.</span><span class="sxs-lookup"><span data-stu-id="9f687-274">Use [2 VMs in a Load Balancer and configure NAT rules on the LB](https://github.com/Azure/azure-quickstart-templates/tree/master/201-2-vms-loadbalancer-natrules) as a guide for deploying a load balancer using a template.</span></span> |
    
<span data-ttu-id="9f687-275">En esta tabla se enumeran los métodos que se pueden usar para crear un equilibrador de carga interno.</span><span class="sxs-lookup"><span data-stu-id="9f687-275">This table lists the methods that you can use to create an internal load balancer.</span></span>

| <span data-ttu-id="9f687-276">Método</span><span class="sxs-lookup"><span data-stu-id="9f687-276">Method</span></span> | <span data-ttu-id="9f687-277">Descripción</span><span class="sxs-lookup"><span data-stu-id="9f687-277">Description</span></span> |
| ------ | ----------- |
| <span data-ttu-id="9f687-278">Portal de Azure</span><span class="sxs-lookup"><span data-stu-id="9f687-278">Azure portal</span></span> | <span data-ttu-id="9f687-279">Actualmente no se puede crear equilibrador de carga interno mediante Azure Portal.</span><span class="sxs-lookup"><span data-stu-id="9f687-279">You can't currently create an internal load balancer using the Azure portal.</span></span> |
| [<span data-ttu-id="9f687-280">Azure PowerShell</span><span class="sxs-lookup"><span data-stu-id="9f687-280">Azure PowerShell</span></span>](../../load-balancer/load-balancer-get-started-ilb-arm-ps.md) | <span data-ttu-id="9f687-281">Para proporcionar una dirección IP privada en la subred de la red, utilice [New-AzureRmLoadBalancerFrontendIpConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmLoadBalancerFrontendIpConfig) con el parámetro **-PrivateIpAddress**.</span><span class="sxs-lookup"><span data-stu-id="9f687-281">To provide a private IP address in the network subnet, use [New-AzureRmLoadBalancerFrontendIpConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmLoadBalancerFrontendIpConfig) with the **-PrivateIpAddress** parameter.</span></span> <span data-ttu-id="9f687-282">Use [New-AzureRmLoadBalancerBackendAddressPoolConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmLoadBalancerBackendAddressPoolConfig) para crear la configuración del grupo de direcciones de back-end.</span><span class="sxs-lookup"><span data-stu-id="9f687-282">Use [New-AzureRmLoadBalancerBackendAddressPoolConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmLoadBalancerBackendAddressPoolConfig) to create the configuration of the back-end address pool.</span></span> <span data-ttu-id="9f687-283">Use [New-AzureRmLoadBalancerInboundNatRuleConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmLoadBalancerInboundNatRuleConfig) para crear reglas NAT de entrada asociadas a la configuración de la IP de front-end que ha creado.</span><span class="sxs-lookup"><span data-stu-id="9f687-283">Use [New-AzureRmLoadBalancerInboundNatRuleConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmLoadBalancerInboundNatRuleConfig) to create inbound NAT rules associated with the front-end IP configuration that you created.</span></span> <span data-ttu-id="9f687-284">Use [New-AzureRmLoadBalancerProbeConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmLoadBalancerProbeConfig) para crear los sondeos que necesite.</span><span class="sxs-lookup"><span data-stu-id="9f687-284">Use [New-AzureRmLoadBalancerProbeConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmLoadBalancerProbeConfig) to create the probes that you need.</span></span> <span data-ttu-id="9f687-285">Use [New-AzureRmLoadBalancerRuleConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmLoadBalancerRuleConfig) para crear la configuración del equilibrador de carga.</span><span class="sxs-lookup"><span data-stu-id="9f687-285">Use [New-AzureRmLoadBalancerRuleConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmLoadBalancerRuleConfig) to create the load balancer configuration.</span></span> <span data-ttu-id="9f687-286">Use [New-AzureRmLoadBalancer](/powershell/module/azurerm.network/new-azurermloadbalancer) para crear el equilibrador de carga.</span><span class="sxs-lookup"><span data-stu-id="9f687-286">Use [New-AzureRmLoadBalancer](/powershell/module/azurerm.network/new-azurermloadbalancer) to create the load balancer.</span></span>|
| [<span data-ttu-id="9f687-287">CLI de Azure</span><span class="sxs-lookup"><span data-stu-id="9f687-287">Azure CLI</span></span>](../../load-balancer/load-balancer-get-started-ilb-arm-cli.md) | <span data-ttu-id="9f687-288">Use el comando [az network lb create](https://docs.microsoft.com/cli/azure/network/lb#create) para crear la configuración inicial del equilibrador de carga.</span><span class="sxs-lookup"><span data-stu-id="9f687-288">Use the [az network lb create](https://docs.microsoft.com/cli/azure/network/lb#create) command to create the initial load balancer configuration.</span></span> <span data-ttu-id="9f687-289">Para definir la dirección IP privada, utilice [az network lb frontend-ip create](https://docs.microsoft.com/cli/azure/network/lb/frontend-ip#create) con el parámetro **--private-ip-address**.</span><span class="sxs-lookup"><span data-stu-id="9f687-289">To define the private IP address, use [az network lb frontend-ip create](https://docs.microsoft.com/cli/azure/network/lb/frontend-ip#create) with the **--private-ip-address** parameter.</span></span> <span data-ttu-id="9f687-290">Use [az network lb address-pool create](https://docs.microsoft.com/cli/azure/network/lb/address-pool#create) para agregar la configuración del grupo de direcciones de back-end.</span><span class="sxs-lookup"><span data-stu-id="9f687-290">Use [az network lb address-pool create](https://docs.microsoft.com/cli/azure/network/lb/address-pool#create) to add the configuration of the back-end address pool.</span></span> <span data-ttu-id="9f687-291">Use [az network lb inbound-nat-rule create](https://docs.microsoft.com/cli/azure/network/lb/inbound-nat-rule#create) para agregar reglas NAT.</span><span class="sxs-lookup"><span data-stu-id="9f687-291">Use [az network lb inbound-nat-rule create](https://docs.microsoft.com/cli/azure/network/lb/inbound-nat-rule#create) to add NAT rules.</span></span> <span data-ttu-id="9f687-292">Use [az network lb rule create](https://docs.microsoft.com/cli/azure/network/lb/rule#create) para agregar las reglas del equilibrador de carga.</span><span class="sxs-lookup"><span data-stu-id="9f687-292">Use [az network lb rule create](https://docs.microsoft.com/cli/azure/network/lb/rule#create) to add the load balancer rules.</span></span> <span data-ttu-id="9f687-293">Use [az network lb probe create](https://docs.microsoft.com/cli/azure/network/lb/probe#create) para agregar los sondeos.</span><span class="sxs-lookup"><span data-stu-id="9f687-293">Use [az network lb probe create](https://docs.microsoft.com/cli/azure/network/lb/probe#create) to add the probes.</span></span>|
| [<span data-ttu-id="9f687-294">Plantilla</span><span class="sxs-lookup"><span data-stu-id="9f687-294">Template</span></span>](../../load-balancer/load-balancer-get-started-ilb-arm-template.md) | <span data-ttu-id="9f687-295">Use [2 VMs in a Load Balancer and configure NAT rules on the LB](https://github.com/Azure/azure-quickstart-templates/tree/master/201-2-vms-internal-load-balancer) (Dos máquinas virtuales en un equilibrador de carga y configurar relas NAT en el equilibrador de carga) como guía para implementar un equilibrador de carga mediante una plantilla.</span><span class="sxs-lookup"><span data-stu-id="9f687-295">Use [2 VMs in a Load Balancer and configure NAT rules on the LB](https://github.com/Azure/azure-quickstart-templates/tree/master/201-2-vms-internal-load-balancer) as a guide for deploying a load balancer using a template.</span></span> |

## <a name="vms"></a><span data-ttu-id="9f687-296">Máquinas virtuales</span><span class="sxs-lookup"><span data-stu-id="9f687-296">VMs</span></span>

<span data-ttu-id="9f687-297">Las máquinas virtuales se pueden crear en la misma red virtual y se pueden conectar entre sí mediante direcciones IP privadas.</span><span class="sxs-lookup"><span data-stu-id="9f687-297">VMs can be created in the same VNet and they can connect to each other using private IP addresses.</span></span> <span data-ttu-id="9f687-298">Pueden conectarse aunque estén en subredes diferentes sin necesidad de configurar una puerta de enlace o utilizar direcciones IP públicas.</span><span class="sxs-lookup"><span data-stu-id="9f687-298">They can connect even if they are in different subnets without the need to configure a gateway or use public IP addresses.</span></span> <span data-ttu-id="9f687-299">Para poner máquinas virtuales en una red virtual, cree la red virtual y, después, al crear cada máquina virtual, asígnela a la red virtual y la subred.</span><span class="sxs-lookup"><span data-stu-id="9f687-299">To put VMs into a VNet, you create the VNet and then as you create each VM, you assign it to the VNet and subnet.</span></span> <span data-ttu-id="9f687-300">Las máquinas virtuales adquieren su configuración de red durante la implementación o el inicio.</span><span class="sxs-lookup"><span data-stu-id="9f687-300">VMs acquire their network settings during deployment or startup.</span></span>  

<span data-ttu-id="9f687-301">A las máquinas virtuales se les asigna una dirección IP cuando se implementan.</span><span class="sxs-lookup"><span data-stu-id="9f687-301">VMs are assigned an IP address when they are deployed.</span></span> <span data-ttu-id="9f687-302">Si implementa varias máquinas virtuales en una red virtual o una subred, se les asignan direcciones IP cuando arrancan.</span><span class="sxs-lookup"><span data-stu-id="9f687-302">If you deploy multiple VMs into a VNet or subnet, they are assigned IP addresses as they boot up.</span></span> <span data-ttu-id="9f687-303">Una dirección IP dinámica (DIP) es la dirección IP interna asociada a una máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="9f687-303">A dynamic IP address (DIP) is the internal IP address associated with a VM.</span></span> <span data-ttu-id="9f687-304">Puede asignar una DIP estática a una máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="9f687-304">You can allocate a static DIP to a VM.</span></span> <span data-ttu-id="9f687-305">Si asigna una DIP estática, debe plantearse la posibilidad de utilizar una subred específica para evitar reutilizar accidentalmente una DIP estática para otra máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="9f687-305">If you allocate a static DIP, you should consider using a specific subnet to avoid accidentally reusing a static DIP for another VM.</span></span>  

<span data-ttu-id="9f687-306">Si crea una máquina virtual y posteriormente desea migrarla a una red virtual, no es un cambio de configuración simple.</span><span class="sxs-lookup"><span data-stu-id="9f687-306">If you create a VM and later want to migrate it into a VNet, it is not a simple configuration change.</span></span> <span data-ttu-id="9f687-307">Debe volver a implementar la máquina virtual en la red virtual.</span><span class="sxs-lookup"><span data-stu-id="9f687-307">You must redeploy the VM into the VNet.</span></span> <span data-ttu-id="9f687-308">La manera más fácil de volver a implementarla es eliminar la máquina virtual, pero no los discos conectados a ella y, después, volver a crear la máquina virtual con los discos originales en la red virtual.</span><span class="sxs-lookup"><span data-stu-id="9f687-308">The easiest way to redeploy is to delete the VM, but not any disks attached to it, and then re-create the VM using the original disks in the VNet.</span></span> 

<span data-ttu-id="9f687-309">En esta tabla se enumeran los métodos que se pueden usar para crear una máquina virtual en una red virtual.</span><span class="sxs-lookup"><span data-stu-id="9f687-309">This table lists the methods that you can use to create a VM in a VNet.</span></span>

| <span data-ttu-id="9f687-310">Método</span><span class="sxs-lookup"><span data-stu-id="9f687-310">Method</span></span> | <span data-ttu-id="9f687-311">Descripción</span><span class="sxs-lookup"><span data-stu-id="9f687-311">Description</span></span> |
| ------ | ----------- |
| [<span data-ttu-id="9f687-312">Azure Portal</span><span class="sxs-lookup"><span data-stu-id="9f687-312">Azure portal</span></span>](../virtual-machines-windows-hero-tutorial.md) | <span data-ttu-id="9f687-313">Utiliza la configuración de red predeterminada que se mencionó anteriormente para crear una máquina virtual con una NIC única.</span><span class="sxs-lookup"><span data-stu-id="9f687-313">Uses the default network settings that were previously mentioned to create a VM with a single NIC.</span></span> <span data-ttu-id="9f687-314">Para crear una máquina virtual con varias NIC, es preciso usar otro método.</span><span class="sxs-lookup"><span data-stu-id="9f687-314">To create a VM with multiple NICs, you must use a different method.</span></span> |
| [<span data-ttu-id="9f687-315">Azure PowerShell</span><span class="sxs-lookup"><span data-stu-id="9f687-315">Azure PowerShell</span></span>](../virtual-machines-windows-ps-create.md) | <span data-ttu-id="9f687-316">Incluye el uso de [Add-AzureRmVMNetworkInterface](/powershell/module/azurerm.compute/add-azurermvmnetworkinterface) para agregar la NIC que creó anteriormente a la configuración de la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="9f687-316">Includes the use of [Add-AzureRmVMNetworkInterface](/powershell/module/azurerm.compute/add-azurermvmnetworkinterface) to add the NIC that you previously created to the VM configuration.</span></span> |
| [<span data-ttu-id="9f687-317">Plantilla</span><span class="sxs-lookup"><span data-stu-id="9f687-317">Template</span></span>](ps-template.md) | <span data-ttu-id="9f687-318">Use [Very simple deployment of a Windows VM](https://github.com/Azure/azure-quickstart-templates/tree/master/101-vm-simple-windows) (Implementación muy simple de una máquina virtual Windows) como guía para la implementación de una máquina virtual mediante una plantilla.</span><span class="sxs-lookup"><span data-stu-id="9f687-318">Use [Very simple deployment of a Windows VM](https://github.com/Azure/azure-quickstart-templates/tree/master/101-vm-simple-windows) as a guide for deploying a VM using a template.</span></span> |

## <a name="next-steps"></a><span data-ttu-id="9f687-319">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="9f687-319">Next steps</span></span>

- <span data-ttu-id="9f687-320">Aprenda a configurar [rutas definidas por el usuario y el reenvío IP](../../virtual-network/virtual-networks-udr-overview.md).</span><span class="sxs-lookup"><span data-stu-id="9f687-320">Learn how to configure [user-defined routes and IP forwarding](../../virtual-network/virtual-networks-udr-overview.md).</span></span> 
- <span data-ttu-id="9f687-321">Aprenda a configurar [conexión de red virtual a red virtual](../../vpn-gateway/vpn-gateway-vnet-vnet-rm-ps.md).</span><span class="sxs-lookup"><span data-stu-id="9f687-321">Learn how to configure [VNet to VNet connections](../../vpn-gateway/vpn-gateway-vnet-vnet-rm-ps.md).</span></span>
- <span data-ttu-id="9f687-322">Aprenda a [solucionar problemas de rutas](../../virtual-network/virtual-network-routes-troubleshoot-portal.md).</span><span class="sxs-lookup"><span data-stu-id="9f687-322">Learn how to [Troubleshoot routes](../../virtual-network/virtual-network-routes-troubleshoot-portal.md).</span></span>
