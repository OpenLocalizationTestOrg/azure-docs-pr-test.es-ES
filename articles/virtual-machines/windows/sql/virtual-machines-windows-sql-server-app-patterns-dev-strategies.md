---
title: "aaaSQL patrones de aplicación de servidor en máquinas virtuales | Documentos de Microsoft"
description: "En este artículo se tratan los patrones de aplicaciones para SQL Server en máquinas virtuales de Azure. Proporciona a los desarrolladores y arquitectos de soluciones una base para lograr un diseño y arquitectura adecuados de las aplicaciones."
services: virtual-machines-windows
documentationcenter: na
author: ninarn
manager: jhubbard
editor: 
tags: azure-service-management,azure-resource-manager
ms.assetid: 41863c8d-f3a3-4584-ad86-b95094365e05
ms.service: virtual-machines-sql
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: iaas-sql-server
ms.date: 05/31/2017
ms.author: ninarn
ms.openlocfilehash: e18597598fdf9fe534ed07331d6f531d4dca0601
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="application-patterns-and-development-strategies-for-sql-server-in-azure-virtual-machines"></a>Estrategias de desarrollo y patrones de aplicación de SQL Server en máquinas virtuales de Azure
[!INCLUDE [learn-about-deployment-models](../../../../includes/learn-about-deployment-models-both-include.md)]

## <a name="summary"></a>Resumen:
Determinar qué modelo de la aplicación o toouse de patrones para las aplicaciones basadas en SQL Server en Azure entorno es una decisión de diseño importantes y requiere un conocimiento sólido de cómo funcionan juntos SQL Server y cada componente de la infraestructura de Azure . Con SQL Server en los servicios de infraestructura de Azure, facilidad puede migrar, mantener y supervisar sus existente aplicaciones compiladas en Windows Server toovirtual máquinas de SQL Server en Azure.

Hola del objetivo de este artículo es tooprovide arquitectos de soluciones y a los desarrolladores una base de aplicación buena arquitectura y el diseño, que pueden seguir al migrar tooAzure de aplicaciones existentes como así como desarrollar nuevas aplicaciones en Azure.

Para cada patrón de aplicación, encontrará un escenario local, su respectiva solución habilitada para la nube, y recomendaciones técnicas relacionadas con el saludo. Además, artículo Hola describe las estrategias de desarrollo específicas de Azure para que pueda diseñar aplicaciones correctamente. Toohello due muchos patrones posibles de la aplicación, se recomienda que los arquitectos y programadores deben elegir el patrón más apropiado de Hola para sus aplicaciones y usuarios.

**Colaboradores técnicos:** Luis Carlos Vargas Herring y Madhan Arumugam Ramakrishnan

**Revisores técnicos:** Corey Sanders, Drew McDaniel, Narayan Annamalai, Nir Mashkowski, Sanjay Mishra, Silvano Coriani, Stefan Schackow, Tim Hickey, Tim Wieman y Xin Jin

## <a name="introduction"></a>Introducción
Puede desarrollar muchos tipos de aplicaciones de n niveles si se separan los componentes de Hola de hello distintas capas de aplicación en equipos diferentes, así como en componentes independientes. Por ejemplo, puede colocar la aplicación de cliente de hello y componentes en un equipo, el nivel web front-end y componentes de nivel de acceso a datos en otro equipo y un nivel de base de datos back-end en otro equipo de reglas de negocios. Este tipo de estructura ayuda a aislar cada nivel del resto. Si cambia la procedencia de los datos, no necesita toochange Hola cliente o aplicación web pero Hola sólo los componentes de nivel de acceso a datos.

Una típica *con n niveles* aplicación incluye el nivel de presentación de Hola y nivel de negocio de hello, capa de datos de hello:

| Nivel: | Description |
| --- | --- |
| **Presentación** |Hola *nivel de presentación* (nivel de web, nivel front-end) es en el que los usuarios interactúan con una aplicación de capa de Hola. |
| **Business** |Hola *nivel empresarial* (nivel intermedio) es capa de Hola que Hola presentación hello y capa de datos capa uso toocommunicate entre sí e incluye funcionalidad básica de hello del sistema de Hola. |
| **Datos** |Hola *capa de datos* es básicamente servidor hello que almacena datos de la aplicación (por ejemplo, un servidor que ejecuta SQL Server). |

Agrupaciones lógicas de Hola de funcionalidad de Hola y los componentes de una aplicación, describen los niveles de la aplicación mientras que los niveles describen la distribución física de Hola de funcionalidad de Hola y los componentes en servidores físicos independientes, equipos, redes o ubicaciones remotas. Hello las capas de una aplicación pueden residir en hello mismo equipo físico (Hola de mismo nivel) o pueden estar distribuidas en equipos independientes (n niveles) y Hola componentes en cada capa se comunican con los componentes de las demás a través de interfaces bien definidas. Se puede considerar Hola término nivel hace referencia toophysical patrones de distribución como dos niveles, tres niveles y con n niveles. Un **patrón de aplicación de dos niveles** contiene dos niveles de aplicación: servidor de aplicaciones y servidor de bases de datos. comunicación directa de Hola se realiza entre el servidor de aplicaciones de Hola y el servidor de base de datos de Hola. servidor de aplicaciones de Hello contiene componentes de nivel de web y de nivel empresarial. En **patrón de aplicación de capa 3**, hay tres niveles de aplicación: el servidor web y servidor de aplicaciones, que contiene el nivel de lógica de negocios de Hola o componentes de acceso de datos de nivel de negocio y el servidor de base de datos de Hola. comunicación de Hello entre hello web y servidor de base de datos de Hola se realiza a través del servidor de aplicaciones de Hola. Para obtener información detallada sobre los niveles y las capas de aplicación, consulte la [guía de arquitectura de aplicaciones de Microsoft](https://msdn.microsoft.com/library/ff650706.aspx).

Antes de empezar a leer este artículo, debe tener conocimientos sobre los conceptos fundamentales de Hola de Azure y SQL Server. Para obtener más información, consulte los [libros en pantalla de SQL Server](https://msdn.microsoft.com/library/bb545450.aspx), [SQL Server en máquinas virtuales de Azure](virtual-machines-windows-sql-server-iaas-overview.md) y [Azure.com](https://azure.microsoft.com/).

Este artículo describen varios patrones de aplicación que pueden ser apropiados para sus aplicaciones simples, así como las aplicaciones empresariales de gran complejidad de Hola. Antes de que detalla cada patrón, se recomienda que debe familiarizarse con los servicios de almacenamiento de datos disponibles de hello en Azure, como [el almacenamiento de Azure](../../../storage/common/storage-introduction.md), [base de datos de SQL Azure](../../../sql-database/sql-database-technical-overview.md), y [ SQL Server en una máquina Virtual de Azure](virtual-machines-windows-sql-server-iaas-overview.md). toomake Hola mejores decisiones de diseño para sus aplicaciones, comprender cuándo toouse claramente qué almacenamiento de datos del servicio.

### <a name="choose-sql-server-in-an-azure-virtual-machine-when"></a>Elija SQL Server en una máquina virtuales de Azure cuando:
* Necesite control sobre SQL Server y Windows. Por ejemplo, esto puede incluir la versión de SQL Server de hello, revisiones especiales, configuración de rendimiento, etcetera.
* Necesite compatibilidad plena con SQL Server local y desea toomove tooAzure de aplicaciones existentes como-es.
* Quiere que las capacidades de hello tooleverage de hello entorno de Azure pero base de datos de SQL Azure no admite todas las características de Hola que requiera la aplicación. Esto podría incluir Hola siguientes áreas:
  
  * **Tamaño de la base de datos**: en este artículo se actualizó el tiempo de hello, base de datos SQL admite una base de datos de hasta too1 TB de datos. Si la aplicación requiere más de 1 TB de datos y no desea tooimplement soluciones de particionamiento personalizado, se recomienda usar SQL Server en una máquina Virtual de Azure. Para obtener información más reciente de hello, consulte [escalado Out Azure bases de datos SQL](https://msdn.microsoft.com/library/azure/dn495641.aspx) y [niveles de servicio de base de datos de SQL Azure y los niveles de rendimiento](../../../sql-database/sql-database-service-tiers.md).
  * **Cumplimiento de normas HIPAA**: Los clientes de atención de la salud y fabricantes de software independientes (ISV) pueden elegir [SQL Server en Azure Virtual Machines](virtual-machines-windows-sql-server-iaas-overview.md), en lugar de [Azure SQL Database](../../../sql-database/sql-database-technical-overview.md), porque el contrato de asociación comercial (BAA) según las normas HIPAA cubre SQL Server en una máquina virtual de Azure. Para obtener información sobre el cumplimiento, consulte [Centro de confianza de Microsoft Azure: conformidad](https://azure.microsoft.com/support/trust-center/compliance/).
  * **Características de nivel de instancia**: en este momento, base de datos SQL no es compatible con características que se encuentran fuera de la base de datos de hello (como los servidores vinculados, trabajos del agente, FileStream, Service Broker, etcetera.). Para obtener más información, consulte [Instrucciones y limitaciones de Base de datos SQL de Azure](https://msdn.microsoft.com/library/azure/ff394102.aspx).

## <a name="1-tier-simple-single-virtual-machine"></a>Un nivel (simple): máquina virtual individual
En este patrón de aplicación, implementar la aplicación de SQL Server y tooa de máquina virtual base de datos independiente en Azure. Hello misma máquina virtual contiene la aplicación cliente o web, componentes empresariales, capa de acceso a datos y servidor de base de datos de Hola. Hola presentación, empresarial y código de acceso de datos están separados lógicamente, pero están ubicados físicamente en un equipo de servidor único. Mayoría de clientes empiezan con este patrón de aplicación y, a continuación, ir escalando en horizontal agregando más sistema tootheir de roles o máquinas virtuales de web.

Este patrón de aplicación resulta útil cuando:

* Desea tooperform una tooevaluate de plataforma de tooAzure de migración sencilla si Hola responde a los requisitos de su aplicación o no.
* Desea tookeep todos los niveles de aplicación hospedados de Hola Hola misma máquina virtual en hello mismo latencia de hello tooreduce entre las capas del centro de datos de Azure.
* Desea el desarrollo de aprovisionar tooquickly y entornos de prueba durante breves períodos de tiempo.
* Desea tooperform las pruebas de esfuerzo para distintos niveles de carga de trabajo, pero en hello mismo tiempo que no desee tooown y mantener muchas física máquinas todo tiempo Hola.

Hello siguiente diagrama se muestra una sencilla local escenario y cómo puede implementar su solución para la nube en una sola máquina virtual en Azure.

![Patrón de aplicación de 1 nivel](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728008.png)

Implementar capa de negocio de hello (lógica de negocios y componentes de acceso a datos) en hello mismo nivel físico como capa de presentación de hello puede maximizar el rendimiento de la aplicación, a menos que se debe usar un nivel independiente debido a problemas de seguridad o tooscalability.

Puesto que se trata de un toostart patrón muy común con, es posible Hola artículo sobre la migración útil para mover la máquina virtual de SQL Server tooyour de datos siguiente: [migrar un servidor en una máquina virtual de Azure de base de datos tooSQL](virtual-machines-windows-migrate-sql.md).

## <a name="3-tier-simple-multiple-virtual-machines"></a>Tres niveles (simple): varias máquinas virtuales
En este patrón de aplicación, se implementa una aplicación de nivel 3 en Azure, para lo que debe colocar cada nivel de aplicación en una máquina virtual distinta. Esto proporciona un entorno flexible para escenarios fáciles de escalado vertical y horizontal. Cuando una máquina virtual contiene la aplicación web o cliente, Hola otra hospeda los componentes empresariales y Hola a otro servidor de base de datos de uno de los hosts Hola.

Este patrón de aplicación resulta útil cuando:

* Desea tooperform una migración de aplicaciones de base de datos compleja tooAzure máquinas virtuales.
* Desea que otra aplicación niveles toobe hospedado en diferentes regiones. Por ejemplo, podría haber compartida bases de datos que son regiones de toomultiple implementado para la elaboración.
* Desea que las aplicaciones de empresa de toomove del entorno local virtualizado plataformas tooAzure máquinas virtuales. Para obtener información detallada sobre las aplicaciones empresariales, consulte [qué es una aplicación empresarial](https://msdn.microsoft.com/library/aa267045.aspx).
* Desea el desarrollo de aprovisionar tooquickly y entornos de prueba durante breves períodos de tiempo.
* Desea tooperform las pruebas de esfuerzo para distintos niveles de carga de trabajo, pero en hello mismo tiempo que no desee tooown y mantener muchas física máquinas todo tiempo Hola.

Hello siguiente diagrama muestra cómo se puede colocar una sencilla aplicación de 3 niveles en Azure mediante la colocación de cada capa de aplicación en una máquina virtual distinta.

![patrón de aplicación de tres niveles](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728009.png)

En este patrón de aplicación, hay solo una máquina virtual (VM) en cada nivel. Si tiene varias máquinas virtuales en Azure, se recomienda configurar una red virtual. [Red Virtual de Azure](../../../virtual-network/virtual-networks-overview.md) crea un límite de seguridad de confianza y también permite toocommunicate de máquinas virtuales entre sí a través de la dirección IP privada de Hola. Además, asegúrese siempre que todas las conexiones de Internet sólo van toohello nivel de presentación. Al seguir este patrón de aplicación, administrar acceso toocontrol de reglas de grupo de seguridad de hello red. Para obtener más información, consulte [permitir acceso externo tooyour VM con Hola portal de Azure](../nsg-quickstart-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).

En el diagrama de hello, protocolos de Internet puede ser TCP, UDP, HTTP o HTTPS.

> [!NOTE]
> La configuración de una red virtual en Azure es gratuita. Sin embargo, se le cobra por la puerta de enlace VPN de Hola que conecta tooon local. Este cargo se basa en la cantidad de Hola de tiempo que la conexión esté aprovisionada y disponible.
> 
> 

## <a name="2-tier-and-3-tier-with-presentation-tier-scale-out"></a>Dos niveles y tres niveles con escalado horizontal del nivel de presentación
En este patrón de aplicación, se implementa tooAzure de aplicación de base de datos de 2 o 3 niveles máquinas virtuales mediante la colocación de cada nivel de aplicación en una máquina virtual distinta. Además, escala horizontalmente nivel de presentación de hello debido tooincreased volumen de solicitudes de cliente entrantes.

Este patrón de aplicación resulta útil cuando:

* Desea que las aplicaciones de empresa de toomove del entorno local virtualizado plataformas tooAzure máquinas virtuales.
* Desea tooscale horizontal nivel de presentación de hello debido tooincreased volumen de solicitudes de cliente entrantes.
* Desea el desarrollo de aprovisionar tooquickly y entornos de prueba durante breves períodos de tiempo.
* Desea tooperform las pruebas de esfuerzo para distintos niveles de carga de trabajo, pero en hello mismo tiempo que no desee tooown y mantener muchas física máquinas todo tiempo Hola.
* Desea tooown un entorno de infraestructura que se pueda escalar vertical y horizontalmente a petición.

Hello siguiente diagrama muestra cómo se pueden colocar los niveles de la aplicación hello en varias máquinas virtuales en Azure mediante el escalado horizontal de nivel de presentación de hello debido tooincreased volumen de solicitudes de cliente entrantes. Tal como se muestra en el diagrama de hello, es responsable de distribuir el tráfico entre varias máquinas virtuales y también determina qué tooconnect de servidor web al equilibrador de carga de Azure. La existencia de varias instancias de servidores web de hello detrás de un equilibrador de carga garantiza la alta disponibilidad de Hola Hola nivel de presentación.

![Patrón de aplicación: escalado horizontal de nivel de presentación](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728010.png)

### <a name="best-practices-for-2-tier-3-tier-or-n-tier-patterns-that-have-multiple-vms-in-one-tier"></a>Prácticas recomendadas para patrones de dos, tres o n niveles que tienen varias máquinas virtuales en un solo nivel
Se recomienda colocar máquinas virtuales de Hola que pertenecen toohello mismo nivel en hello mismo servicio en la nube y en Hola mismo Hola conjunto de disponibilidad. Por ejemplo, coloque un conjunto de servidores web en **CloudService1** y **AvailabilitySet1** y un conjunto de servidores de bases de datos en **CloudService2** y **AvailabilitySet2**. Un conjunto de disponibilidad en Azure permite nodos de alta disponibilidad de hello tooplace en dominios de error independientes y dominios de actualización.

tooleverage varias instancias de máquina virtual de un nivel, es necesario tooconfigure equilibrador de carga de Azure entre niveles de aplicación. tooconfigure equilibrador de carga en cada nivel, cree un extremo con equilibrio de carga en máquinas virtuales de cada nivel por separado. Para un nivel específico, primero cree las VM en hello mismo servicio en la nube. Esto garantiza que disponen de hello misma dirección IP Virtual pública. A continuación, cree un punto de conexión en una de las máquinas virtuales de hello en ese nivel. A continuación, asignar Hola mismo toohello de punto de conexión otras máquinas virtuales de ese nivel para el equilibrio de carga. Mediante la creación de un conjunto de carga equilibrada, distribuir el tráfico entre varias máquinas virtuales y también se permiten Hola equilibrador de carga toodetermine qué tooconnect nodo cuando se produce un error en un nodo de la máquina virtual de back-end. Por ejemplo, la existencia de varias instancias de servidores web de hello detrás de un equilibrador de carga garantiza la alta disponibilidad de Hola Hola nivel de presentación.

Como práctica recomendada, asegúrese siempre de que todas las conexiones de internet ir primero el nivel de presentación de toohello. capa de presentación de Hello tiene acceso a nivel de negocio de hello y, a continuación, nivel de negocio de hello tiene acceso a la capa de datos de Hola. Para obtener más información sobre cómo tooallow tener acceso a nivel de presentación de toohello, consulte [permitir acceso externo tooyour VM con Hola portal de Azure](../nsg-quickstart-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).

Tenga en cuenta que Hola equilibrador de carga en Azure funciona equilibradores de tooload similar en un entorno local. Para obtener más información, consulte [Equilibrio de carga para servicios de infraestructura de Azure](../tutorial-load-balancer.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).

Además, se recomienda configurar una red privada para las máquinas virtuales mediante Red virtual de Azure. Esto les permite toocommunicate entre sí a través de la dirección IP privada de Hola. Para obtener más información, consulte [Información general sobre redes virtuales](../../../virtual-network/virtual-networks-overview.md).

## <a name="2-tier-and-3-tier-with-business-tier-scale-out"></a>Dos niveles y tres niveles con escalado horizontal del nivel de empresa
En este patrón de aplicación, se implementa tooAzure de aplicación de base de datos de 2 o 3 niveles máquinas virtuales mediante la colocación de cada nivel de aplicación en una máquina virtual distinta. Asimismo, conviene toodistribute Hola aplicación componentes toomultiple máquinas virtuales del servidor debido a toohello complejidad de la aplicación.

Este patrón de aplicación resulta útil cuando:

* Desea que las aplicaciones de empresa de toomove del entorno local virtualizado plataformas tooAzure máquinas virtuales.
* Desea toodistribute Hola aplicación componentes toomultiple máquinas virtuales del servidor debido a toohello complejidad de la aplicación.
* Desea toomove business lógica local pesada LOB (línea de negocio) aplicaciones tooAzure máquinas virtuales. Las aplicaciones LOB son un conjunto de aplicaciones de informática crítica que son vital toorunning una empresa, como contabilidad, recursos humanos (RRHH), nómina, administración de la cadena de suministro y las aplicaciones de planificación de recursos.
* Desea el desarrollo de aprovisionar tooquickly y entornos de prueba durante breves períodos de tiempo.
* Desea tooperform las pruebas de esfuerzo para distintos niveles de carga de trabajo, pero en hello mismo tiempo que no desee tooown y mantener muchas física máquinas todo tiempo Hola.
* Desea tooown un entorno de infraestructura que se pueda escalar vertical y horizontalmente a petición.

Hola siguiente diagrama muestra un escenario local y su solución para la nube. En este escenario, los niveles de aplicación de hello en varias máquinas virtuales en Azure se colocan con el escalado horizontal de nivel de negocio de hello, que contiene el nivel de lógica de negocios de Hola y data access components. Tal como se muestra en el diagrama de hello, es responsable de distribuir el tráfico entre varias máquinas virtuales y también determina qué tooconnect de servidor web al equilibrador de carga de Azure. La existencia de varias instancias de servidores de aplicaciones de hello detrás de un equilibrador de carga garantiza la alta disponibilidad de Hola de nivel de negocio de Hola. Para obtener más información, consulte [Prácticas recomendadas para patrones de dos, tres o n niveles que tienen varias máquinas virtuales en un solo nivel](#best-practices-for-2-tier-3-tier-or-n-tier-patterns-that-have-multiple-vms-in-one-tier).

![Patrón de aplicación con escalado horizontal de nivel de empresa](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728011.png)

## <a name="2-tier-and-3-tier-with-presentation-and-business-tiers-scale-out-and-hadr"></a>2 niveles y 3 niveles con escalabilidad horizontal de los niveles de presentación y de empresa, y HADR
En este patrón de aplicación, implementar la aplicación de base de datos de 2 o 3 niveles tooAzure máquinas virtuales mediante la distribución de nivel de presentación de hello (servidor web) y Hola business niveles (servidor de aplicaciones) componentes toomultiple las máquinas virtuales. Además, implemente soluciones de recuperación ante desastres y alta disponibilidad para las bases de datos en las máquinas virtuales de Azure.

Este patrón de aplicación resulta útil cuando:

* Desea que las aplicaciones empresariales de plataformas virtualizadas locales tooAzure toomove mediante la implementación de alta disponibilidad y ante desastres recuperación capacidades de SQL Server.
* Desea tooscale nivel de presentación de Hola y el nivel de negocio de hello debido tooincreased volumen de solicitudes de cliente entrantes y la complejidad de saludo de la aplicación.
* Desea el desarrollo de aprovisionar tooquickly y entornos de prueba durante breves períodos de tiempo.
* Desea tooperform las pruebas de esfuerzo para distintos niveles de carga de trabajo, pero en hello mismo tiempo que no desee tooown y mantener muchas física máquinas todo tiempo Hola.
* Desea tooown un entorno de infraestructura que se pueda escalar vertical y horizontalmente a petición.

Hola siguiente diagrama muestra un escenario local y su solución para la nube. En este escenario, escala horizontalmente nivel de presentación de Hola y componentes de nivel de negocio de hello en varias máquinas virtuales en Azure. Además, implemente técnicas de recuperación ante desastres y alta disponibilidad (HADR) para bases de datos de SQL Server en Azure.

Mediante la ejecución de varias copias de una aplicación en distintas máquinas virtuales asegúrese de que equilibra automáticamente la carga de solicitudes entre ellas. Cuando tenga varias máquinas virtuales, debe toomake seguro de que todas las máquinas virtuales están accesibles y en ejecución en un punto en el tiempo. Si configura el equilibrio de carga, realiza un seguimiento del equilibrador de carga de Azure Hola de mantenimiento de máquinas virtuales y dirige entrantes llamadas toohello correcto VM nodos en funcionamiento correctamente. Para obtener información acerca de cómo tooset equilibrio de carga de máquinas virtuales de hello, consulte [equilibrio de carga para servicios de infraestructura de Azure](../tutorial-load-balancer.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json). La existencia de varias instancias de aplicaciones y servidores web detrás de un equilibrador de carga garantiza la alta disponibilidad de Hola de hello niveles de presentación y empresarial.

![Escalado horizontal y alta disponibilidad](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728012.png)

### <a name="best-practices-for-application-patterns-requiring-sql-hadr"></a>Prácticas recomendadas para patrones de aplicación que requieren HADR de SQL
Al configurar las soluciones de alta disponibilidad y recuperación ante desastres de SQL Server en máquinas virtuales de Azure, es obligatorio configurar una red virtual para las máquinas virtuales mediante [Red virtual de Azure](../../../virtual-network/virtual-networks-overview.md) .  Máquinas virtuales dentro de una red Virtual tendrán una dirección IP privada estable incluso después de un tiempo de inactividad del servicio, lo que puede evitar tiempo de actualización de hello necesario para la resolución de nombre DNS. Además, red virtual de hello permite tooextend local tooAzure de red y crea un límite de seguridad de confianza. Por ejemplo, si la aplicación tiene restricciones de dominio corporativo (como autenticación de Windows o Active Directory), es preciso configurar [Red virtual de Azure](../../../virtual-network/virtual-networks-overview.md) .

La mayoría de los clientes, que ejecutan código de producción en Azure, conservan las replicas principal y secundaria en Azure.

Para información completa y tutoriales sobre las técnicas de alta disponibilidad y recuperación ante desastres, consulte [Alta disponibilidad y recuperación ante desastres para SQL Server en Azure Virtual Machines](virtual-machines-windows-sql-high-availability-dr.md).

## <a name="2-tier-and-3-tier-using-azure-vms-and-cloud-services"></a>Dos niveles y tres niveles con máquinas virtuales de Azure y servicios en la nube
En este patrón de aplicación, implementar aplicación de 2 o 3 niveles tooAzure usando tanto [servicios en la nube](../../../cloud-services/cloud-services-choose-me.md#tellmecs) (roles web y de trabajo: plataforma como servicio (PaaS)) y [máquinas virtuales de Azure](../overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) () Infraestructura como servicio (IaaS)). Usando [servicios en la nube](https://azure.microsoft.com/documentation/services/cloud-services/) de nivel de negocios/nivel de presentación de Hola y SQL Server en [máquinas virtuales de Azure](../overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) para datos de hello nivel es beneficioso para la mayoría de las aplicaciones que ejecutan en Azure. motivo de Hello es que tener una instancia de proceso que se ejecutan en servicios en la nube proporciona una administración sencilla, implementación, supervisión y escalado horizontal.

Con servicios en la nube, Azure mantiene la infraestructura de Hola para usted, realiza un mantenimiento rutinario, revisiones de sistemas operativos de Hola e intenta toorecover de errores de hardware y de servicio. Cuando la aplicación necesita escalado horizontal, opciones de escalado horizontal automáticas y manuales están disponibles para su proyecto de servicio de nube aumentando o reduciendo el número de Hola de instancias o máquinas virtuales que se usará en la aplicación. Además, puede utilizar toodeploy de Visual Studio local el proyecto de servicio de aplicación tooa en la nube en Azure.

En resumen, si no desea tooown tareas administrativas para el nivel de presentación o empresarial de Hola y la aplicación no requiere ninguna configuración compleja del sistema operativo de software o hello, utilice servicios en la nube. Si la base de datos de SQL Azure no admite todas las características de Hola que está buscando, utilice SQL Server en una máquina Virtual de Azure para capa de datos de Hola. Ejecutar una aplicación en los servicios de nube de Azure y almacenar los datos en máquinas virtuales Azure combinan las ventajas de Hola de ambos servicios. Para obtener una comparación detallada, vea la sección de hello en este tema en [comparar las estrategias de desarrollo en Azure](#comparing-web-development-strategies-in-azure).

En este patrón de aplicación, nivel de presentación de hello incluye un rol web, que un componente de servicios en la nube se está ejecutando en el entorno de ejecución de Azure de Hola y se personaliza para la programación de aplicaciones web tal como las admiten IIS y ASP.NET. nivel de negocio o back-end de Hello incluye un rol de trabajo, que un componente de servicios en la nube se está ejecutando en el entorno de ejecución de Azure de Hola y es útil para el desarrollo generalizado y puede realizar un procesamiento en segundo plano de un rol web. nivel de base de datos de Hello reside en una máquina virtual de SQL Server en Azure. se produce la comunicación entre el nivel de presentación de Hola y de nivel de base de datos de Hola Hola directamente o a través de nivel de negocio de hello: componentes de la función de trabajo.

Este patrón de aplicación resulta útil cuando:

* Desea que las aplicaciones empresariales de plataformas virtualizadas locales tooAzure toomove mediante la implementación de alta disponibilidad y ante desastres recuperación capacidades de SQL Server.
* Desea tooown un entorno de infraestructura que se pueda escalar vertical y horizontalmente a petición.
* La base de datos de SQL Azure no admite todas las características de Hola que necesita la aplicación o la base de datos.
* Desea tooperform las pruebas de esfuerzo para distintos niveles de carga de trabajo, pero en hello mismo tiempo que no desee tooown y mantener muchas física máquinas todo tiempo Hola.

Hola siguiente diagrama muestra un escenario local y su solución para la nube. En este escenario, se colocan el nivel de presentación de hello en roles web, nivel de negocio de hello en roles de trabajador y el nivel de datos de hello en máquinas virtuales en Azure. La ejecución de varias copias del nivel de presentación de hello en distintos roles web garantiza equilibrar las solicitudes de tooload por encima de ellos. Al combinar Servicios en la nube de Azure con Máquinas virtuales de Azure, es aconsejable configurar también [Red virtual de Azure](../../../virtual-network/virtual-networks-overview.md) . Con [red Virtual de Azure](../../../virtual-network/virtual-networks-overview.md), puede tener estable y direcciones IP privadas persistentes en hello mismo servicio en la nube en hello en la nube. Una vez que se define una red virtual para las máquinas virtuales y servicios en la nube, pueden iniciar comunicarse entre ellos a través de direcciones IP privadas de Hola. Además, tener máquinas virtuales y roles de trabajador o web de Azure en Hola mismo [red Virtual de Azure](../../../virtual-network/virtual-networks-overview.md) proporciona una latencia baja y una conectividad más segura. Para obtener más información, consulte [Cálculo de las opciones de hospedaje proporcionadas por Azure](../../../cloud-services/cloud-services-choose-me.md).

Tal como se muestra en el diagrama de hello, el equilibrador de carga de Azure distribuye el tráfico entre varias máquinas virtuales y también determina qué servidor web o el servidor de aplicaciones tooconnect a. Existencia de varias instancias de servidores web y de aplicación de hello detrás de un equilibrador de carga garantiza la alta disponibilidad de Hola de nivel de presentación de Hola y de nivel de negocio de Hola. Para obtener más información, consulte [Prácticas recomendadas para patrones de aplicación que requieren HADR de SQL](#best-practices-for-application-patterns-requiring-sql-hadr).

![Patrones de aplicaciones con servicios en la nube](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728013.png)

Otro tooimplement enfoque este patrón de aplicación es toouse un rol web consolidado que contiene el nivel de presentación y los componentes de nivel de negocio tal y como se muestra en hello siguiente diagrama. Este patrón de aplicación es útil para aplicaciones que requieren diseño con estado. Dado que Azure proporciona nodos de proceso sin estado en los roles de web y de trabajo, se recomienda que implemente un estado de sesión de toostore lógica con uno de hello siguiendo las tecnologías: [Caching de Azure](https://azure.microsoft.com/documentation/services/redis-cache/), [dealmacenamientodetablasdeAzure](../../../cosmos-db/table-storage-how-to-use-dotnet.md) o [base de datos SQL Azure](../../../sql-database/sql-database-technical-overview.md).

![Patrones de aplicaciones con servicios en la nube](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728014.png)

## <a name="pattern-with-azure-vms-azure-sql-database-and-azure-app-service-web-apps"></a>Patrón con máquinas virtuales de Azure, Base de datos SQL de Azure y Servicio de aplicaciones de Azure (aplicaciones web)
Hola principal objetivo de este patrón de aplicación es tooshow, cómo toocombine infraestructura de Azure como un componente de servicio (IaaS) con Azure componentes de plataforma como servicio (PaaS) en la solución. Este patrón se centra en Base de datos SQL de Azure para el almacenamiento de datos relacionales. No incluye SQL Server en una máquina virtual de Azure, que forma parte del programa Hola infraestructura de Azure como una oferta de servicio.

En este patrón de aplicación, implementar un tooAzure de aplicación de base de datos mediante la colocación de presentación de Hola y los niveles empresariales de Hola misma máquina virtual y obtener acceso a una base de datos en servidores de base de datos de SQL de Azure (base de datos de SQL). Puede implementar el nivel de presentación de hello mediante soluciones web tradicionales basadas en IIS. O bien, se puede implementar un nivel combinado de presentación y de empresa con [Aplicaciones web de Azure](https://azure.microsoft.com/documentation/services/app-service/web/).

Este patrón de aplicación resulta útil cuando:

* Ya tiene un servidor de base de datos SQL existente configurado en Azure y desea tootest la aplicación rápidamente.
* Desea que las capacidades de hello tootest del entorno de Azure.
* Desea el desarrollo de aprovisionar tooquickly y entornos de prueba durante breves períodos de tiempo.
* Los componentes de acceso a datos y lógica de negocios pueden ser independientes dentro de una aplicación web.

Hola siguiente diagrama muestra un escenario local y su solución para la nube. En este escenario, se colocan niveles de aplicación hello en una única máquina virtual en Azure y acceso a datos en la base de datos de SQL Azure.

![Patrón de aplicación mixto](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728015.png)

Si elige tooimplement un combinado web y una aplicación de nivel mediante el uso de aplicaciones Web de Azure, se recomienda que mantenga Hola nivel intermedio o nivel de aplicación como bibliotecas de vínculos dinámicos (DLL) en el contexto de Hola de una aplicación web.

Además, revise recomendaciones Hola de hello [comparar las estrategias de desarrollo web en Azure](#comparing-web-development-strategies-in-azure) sección Hola final de este toolearn artículo sobre técnicas de programación.

## <a name="n-tier-hybrid-application-pattern"></a>Patrón de aplicación híbrido de n niveles
En el patrón de aplicación híbrido de n niveles, la aplicación se implementa en varios niveles distribuidos entre local y Azure. Por lo tanto, crear un sistema híbrido flexible y reutilizable que se pueden modificar o agregar un nivel determinado sin cambiar Hola otras capas. en la nube tooextend toohello de su red corporativa, usar [red Virtual de Azure](../../../virtual-network/virtual-networks-overview.md) servicio.

Este patrón de aplicación híbrido resulta útil cuando:

* Se desea que las aplicaciones de toobuild que se ejecutan en parte en nube de Hola y en parte en local.
* Desea toomigrate algunos o todos los elementos de una nube de toohello de aplicación local existente.
* Desea que las aplicaciones de empresa de toomove de tooAzure de plataformas virtualizadas locales.
* Desea tooown un entorno de infraestructura que se pueda escalar vertical y horizontalmente a petición.
* Desea el desarrollo de aprovisionar tooquickly y entornos de prueba durante breves períodos de tiempo.
* Desea una copias de seguridad de tootake de manera rentable para las aplicaciones de base de datos empresariales.

Hola siguiente diagrama muestra un patrón de aplicación híbrido de n niveles que se distribuye entre local y Azure. Como se muestra en el diagrama de hello, en la infraestructura local incluye [los servicios de dominio de Active Directory](https://technet.microsoft.com/library/hh831484.aspx) autorización y autenticación de usuario de toosupport de controlador de dominio. Tenga en cuenta que ese diagrama hello muestra un escenario en que algunas partes de la capa de datos de hello permanece activa en un centro de datos local, mientras que algunas partes de la capa de datos de hello residen en Azure. En función de las necesidades de la aplicación, puede implementar otros escenarios híbridos. Por ejemplo, podrían impedir el nivel de presentación de Hola y de nivel de negocio de hello en una capa de datos local entorno pero hello en Azure.

![Patrón de aplicación de n niveles](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728016.png)

En Azure, Active Directory se puede usar como directorio en la nube independiente para una organización, o bien se pueden integrar Active Directory local y [Azure Active Directory](https://azure.microsoft.com/documentation/services/active-directory/). Tal como se muestra en el diagrama de hello, componentes de nivel de negocio de hello pueden tener acceso a orígenes de datos de toomultiple, como demasiado[SQL Server en Azure](virtual-machines-windows-sql-server-iaas-overview.md) a través de una dirección IP de interna privada, tooon sistema SQL Server local a través de [deredVirtualdeAzure](../../../virtual-network/virtual-networks-overview.md), o demasiado[base de datos SQL](../../../sql-database/sql-database-technical-overview.md) mediante tecnologías de proveedor de datos de .NET Framework de Hola. En este diagrama, Base de datos SQL de Azure es un servicio de almacenamiento de datos opcional.

En el patrón de aplicación híbrido de n niveles, puede implementar Hola siguiendo el flujo de trabajo en orden de hello especificado:

1. Identificar aplicaciones de base de datos de empresa que necesitan toobe suben toocloud mediante el uso de hello [Microsoft Assessment and Planning (MAP) Toolkit](http://microsoft.com/map). Hola Kit de herramientas MAP recopila datos de rendimiento y de inventario de equipos que está considerando para la virtualización y proporciona recomendaciones sobre la capacidad y el planeamiento de la evaluación.
2. Recursos de Hola y configuración necesarios en hello plataforma Windows Azure, como las cuentas de almacenamiento y las máquinas virtuales del plan.
3. Configurar la conectividad de red entre la red corporativa de hello en local y [red Virtual de Azure](../../../virtual-network/virtual-networks-overview.md). tooset conexión de hello entre Hola red corporativa local y una máquina virtual en Azure, use uno de hello siguiendo dos métodos:
   
   1. Establezca una conexión entre local y Azure a través de extremos públicos en una máquina virtual de Azure. Este método ofrece una configuración sencilla y permite la autenticación de SQL Server toouse en la máquina virtual. Además, configure la red seguridad grupo reglas toocontrol tráfico público toohello máquina virtual. Para obtener más información, consulte [permitir acceso externo tooyour VM con Hola portal de Azure](../nsg-quickstart-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).
   2. Establezca una conexión entre local y Azure a través de un túnel de la red privada virtual (VPN) de Azure. Este método permite tooextend dominio directivas tooa virtual machine en Azure. Además, puede configurar las reglas del firewall y usar la autenticación de Windows en la máquina virtual. En la actualidad, Azure admite VPN segura de sitio a sitio y conexiones VPN de punto a sitio:
      
      * Con una conexión segura de sitio a sitio puede establecer conectividad de red entre una red local y una red virtual de Azure. Se recomienda para conectar su tooAzure de entorno de centro de datos local.
      * Con una conexión segura de punto a sitio puede establecer conectividad de red entre una red virtual de Azure y los equipos individuales, independientemente de dónde se encuentren. Se recomienda principalmente para desarrollo y pruebas.
      
      Para obtener información acerca de cómo tooconnect tooSQL Server en Azure, consulte [conectar tooa Máquina Virtual de SQL Server en Azure](virtual-machines-windows-sql-connect.md).
4. Configure las alertas y trabajos programados que realizan las copias de seguridad de los datos locales en un disco de una máquina virtual de Azure. Para más información, consulte [Copia de seguridad y restauración de SQL Server con el servicio Azure Blob Storage](https://msdn.microsoft.com/library/jj919148.aspx) y [Copias de seguridad y restauración para SQL Server en Azure Virtual Machines](virtual-machines-windows-sql-backup-recovery.md).
5. Según las necesidades de su aplicación, puede implementar uno de hello tres escenarios comunes siguientes:
   
   1. Puede mantener el servidor web, servidor de aplicaciones y datos no en un servidor de base de datos en Azure, mientras mantiene datos confidenciales de hello en local.
   2. Puede mantener el servidor web y servidor de aplicaciones en local y servidor de base de datos de hello en una máquina virtual en Azure.
   3. Puede mantener el servidor de base de datos, el servidor web y servidor de aplicaciones local, mientras mantiene las réplicas de base de datos de hello en máquinas virtuales en Azure. Esta configuración permite Hola servidores web locales o informes aplicaciones de tooaccess Hola réplicas de base de datos en Azure. Por lo tanto, puede lograr la carga de trabajo de toolower hello en una base de datos local. Se recomienda implementar este escenario tanto para cargas de trabajo en que se realiza mucha lectura como para fines de desarrollo. Para información sobre la creación de réplicas de bases de datos en Azure, consulte la información sobre los grupos de disponibilidad AlwaysOn en [Alta disponibilidad y recuperación ante desastres para SQL Server en Azure Virtual Machines](virtual-machines-windows-sql-high-availability-dr.md).

## <a name="comparing-web-development-strategies-in-azure"></a>Comparación de las estrategias de desarrollo web de Azure
tooimplement e implementar una aplicación basada en SQL Server en Azure de varios niveles, puede usar uno de hello siguiendo dos métodos de programación:

* Configurar un servidor web tradicional (IIS - Internet Information Services) en Azure y acceder a las bases de datos de SQL Server en Máquinas virtuales de Azure.
* Implementar y un tooAzure de servicio de nube. A continuación, asegúrese de que este servicio en la nube puede obtener acceso a las bases de datos de SQL Server en Máquinas virtuales de Azure. Los servicios en la nube pueden incluir varios roles web y de trabajo.

Hello en la tabla siguiente proporciona una comparación del desarrollo web tradicional con servicios de nube de Azure y aplicaciones Web de Azure con sentido tooSQL Server en máquinas virtuales de Azure. tabla de Hello incluye aplicaciones Web de Azure, ya que es posible toouse SQL Server en VM de Azure como origen de datos para aplicaciones Web de Azure a través de su dirección IP virtual pública o nombre DNS.

|  | Desarrollo web tradicional en Máquinas virtuales de Azure | Servicios en la nube de Azure | Hospedaje web con Aplicaciones web de Azure |
| --- | --- | --- | --- |
| **Migración de aplicaciones desde el sistema local** |Las aplicaciones existentes tal cual. |Las aplicaciones necesitan roles web y de trabajo. |Las aplicaciones existentes tal cual, pero adecuadas para aplicaciones web independientes y servicios web que requieren una escalabilidad rápida. |
| **Desarrollo e implementación** |Visual Studio, WebMatrix, Visual Web Developer, Web Deploy, FTP, TFS, Administrador de IIS y PowerShell. |Visual Studio, SDK de Azure, TFS y PowerShell. Cada servicio de nube tiene dos toowhich de entornos, puede implementar el paquete de servicio y la configuración: ensayo y producción. Puede implementar un toohello de servicio de nube tootest de entorno de ensayo antes de subirlo tooproduction. |Visual Studio, WebMatrix, Visual Web Developer, FTP, GIT, BitBucket, CodePlex, DropBox, GitHub, Mercurial, TFS, Web Deploy y PowerShell. |
| **Administración y operaciones** |Usted es responsable de las tareas administrativas de la aplicación hello, datos, las reglas de firewall, red virtual y sistema operativo. |Usted es responsable de las tareas administrativas de la aplicación hello, datos, las reglas de firewall y red virtual. |Usted es responsable de las tareas administrativas de la aplicación hello y sólo los datos. |
| **Alta disponibilidad y recuperación ante desastres (HADR):** |Se recomienda colocar máquinas virtuales en hello disponibilidad mismo conjunto y en Hola mismo servicio en la nube. Mantener las máquinas virtuales en Hola mismo conjunto de disponibilidad permite tooplace Azure nodos de alta disponibilidad de hello en los dominios de error independientes y dominios de actualización. Del mismo modo, mantener las máquinas virtuales en hello mismo servicio en la nube permite el equilibrio de carga y las máquinas virtuales pueden comunicarse directamente con entre sí a través de la red local de hello dentro de un centro de datos de Azure.<br/><br/>Usted es responsable de implementar una solución de recuperación de desastres y la disponibilidad alta para SQL Server en máquinas virtuales de Azure tooavoid los tiempos de inactividad. Para conocer las tecnologías compatibles con HADR, consulte [Alta disponibilidad y recuperación ante desastres para SQL Server en Azure Virtual Machines](virtual-machines-windows-sql-high-availability-dr.md).<br/><br/>Usted es el responsable de la copia de seguridad de sus propios datos y la aplicación.<br/><br/>Azure puede mover las máquinas virtuales si se produce un error en la máquina de host de hello en el centro de datos de hello debido a problemas de toohardware. Además, podría haber tiempos de inactividad planeados de la máquina virtual cuando se actualiza el equipo de host de Hola para software de seguridad o actualizaciones. Por lo tanto, se recomienda que mantenga al menos dos máquinas virtuales en cada capa tooensure Hola continua de disponibilidad de aplicaciones. Azure no proporciona SLA para máquinas virtuales individuales. Para obtener más información, consulte [Guía técnica sobre resistencia en Azure](../../../resiliency/resiliency-technical-guidance.md). |Azure administra errores Hola resultantes Hola subyacente software de hardware o del sistema operativo. Se recomienda que implemente varias instancias de un trabajo o web rol tooensure Hola de alta disponibilidad de la aplicación. Para información, consulte [Cloud Services, Virtual Machines, and Virtual Network Service Level Agreement](http://www.microsoft.com/download/details.aspx?id=38427) (Cloud Services, Virtual Machines y Acuerdo de Nivel de Servicio de red virtual) y [Recuperación ante desastres y alta disponibilidad para aplicaciones creadas en Microsoft Azure](../../../resiliency/resiliency-disaster-recovery-high-availability-azure-applications.md)<br/><br/>Usted es el responsable de la copia de seguridad de sus propios datos y la aplicación.<br/><br/>Para las bases de datos que residen en una base de datos de SQL Server en una máquina virtual de Azure, es responsable de implementar un tooavoid de solución de recuperación ante desastres y la disponibilidad alta de los tiempos de inactividad. Para conocer las tecnologías HDAR compatibles, consulte Alta disponibilidad y recuperación ante desastres para SQL Server en máquinas virtuales de Azure.<br/><br/>**Reflejo de la base de datos de SQL Server**: uso con Servicios en la nube de Azure (roles web/de trabajadores). Las máquinas virtuales de SQL Server y un proyecto de servicio de nube puede ser en Hola misma red Virtual de Azure. Si la VM de SQL Server no está en Hola misma red Virtual, deberá toocreate una instancia de toohello de comunicación de tooroute de Alias de SQL Server de SQL Server. Además, nombre de alias de hello debe coincidir con nombre de SQL Server de Hola. |La alta disponibilidad se hereda de los roles de trabajo de Azure, del almacenamiento de blobs de Azure y de la Base de datos SQL de Azure. Por ejemplo, Almacenamiento de Azure mantiene tres réplicas de todos los datos de los blobs, tablas y cola. En cualquier momento, Base de datos SQL de Azure mantiene tres réplicas de los datos en ejecución (una réplica principal y dos réplicas secundarias). Para más información, consulte [Azure Storage](https://azure.microsoft.com/documentation/services/storage/) y [Azure SQL Database](../../../sql-database/sql-database-technical-overview.md).<br/><br/>Al usar SQL Server en VM de Azure como origen de datos para Aplicaciones web de Azure, tenga en cuenta que Aplicaciones web de Azure no admite Red virtual de Azure. En otras palabras, todas las conexiones desde aplicaciones Web de Azure tooSQL VM Server en Azure deben pasar a través de extremos públicos de máquinas virtuales. Esto puede provocar algunas limitaciones en escenarios de alta disponibilidad y recuperación ante desastres. Por ejemplo, aplicación de cliente de hello en aplicaciones Web de Azure conectarse tooSQL VM de servidor con la creación de reflejo de base de datos no sería capaz de tooconnect toohello nuevo servidor principal como la creación de reflejo de base de datos requiere que configure la red Virtual de Azure entre máquinas virtuales del host de SQL Server en Azure. Por tanto, el uso de la **creación de reflejo de la base de datos de SQL Server** con Azure Web Apps no se admite actualmente.<br/><br/>**Grupos de disponibilidad AlwaysOn de SQL Server**: cuando use Aplicaciones web de Azure con máquinas virtuales de SQL Server en Azure, puede configurar grupos de disponibilidad AlwaysOn. Pero debe tooconfigure agente de escucha del grupo de disponibilidad de AlwaysOn tooroute Hola comunicación toohello réplica principal a través de extremos con equilibrio de carga públicos. |
| **conectividad entre implementaciones locales** |Puede usar la red Virtual de Azure de tooconnect tooon local. |Puede usar la red Virtual de Azure de tooconnect tooon local. |Se admite Red virtual de Azure. Para obtener más información, consulte [Integración de la red virtual con Aplicaciones web](https://azure.microsoft.com/blog/2014/09/15/azure-websites-virtual-network-integration/). |
| **Escalabilidad** |El escalado vertical está disponible mediante el aumento de los tamaños de máquina virtual de Hola o agregar más discos. Para obtener información sobre los tamaños de máquina virtual, consulte [Tamaños de máquina virtual para Azure](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).<br/><br/>**Para el servidor de base de datos**: El escalado horizontal está disponible a través de técnicas de particionamiento de base de datos y grupos de disponibilidad AlwaysOn de SQL Server.<br/><br/>Para cargas de trabajo de lectura intensivas, puede usar [grupos de disponibilidad AlwaysOn](https://msdn.microsoft.com/library/hh510230.aspx) en varios nodos secundarios, así como replicación de SQL Server.<br/><br/>Para las cargas de trabajo de escritura intensivas, puede implementar datos de particionamiento horizontal a través de varios servidores físicos tooprovide escalado horizontal de aplicaciones.<br/><br/>Además, puede implementar el escalado horizontal mediante [SQL Server con enrutamiento dependiente de datos](https://technet.microsoft.com/library/cc966448.aspx). Con datos dependientes enrutamiento (DDR), es necesario hello tooimplement particiones mecanismo de aplicación de cliente de hello, normalmente se encuentra en la capa de nivel empresarial de hello, base de datos de tooroute Hola solicita toomultiple nodos de SQL Server. nivel de negocio de Hello contiene las asignaciones se crean particiones toohow Hola datos y qué nodo contiene los datos de Hola.<br/><br/>Puede escalar las aplicaciones que ejecutan máquinas virtuales. Para obtener más información, consulte [cómo tooScale una aplicación](../../../cloud-services/cloud-services-how-to-scale.md).<br/><br/>**Nota importante**: Hola **escalado automático** característica de Azure permite aumentar tooautomatically o disminuir Hola máquinas virtuales que se usará en la aplicación. Esta característica garantiza que interviene hello no se ve afectada negativamente durante períodos de máxima actividad, y las máquinas virtuales se apagan cuando la demanda de hello es baja. Se recomienda no establecer opción de escalado automático de hello para el servicio de nube si incluye VM de SQL Server. Hello motivo es que esa característica de escalado automático de hello permite tooturn Azure en una máquina virtual cuando hello uso de CPU en esa máquina virtual es mayor que algunos umbral y tooturn una máquina virtual apagada cuando Hola el uso de CPU sale debajo del mismo. característica de escalado automático de Hello es útil para las aplicaciones sin estado, como los servidores web, donde cualquier VM puede administrar la carga de trabajo de hello sin un estado anterior de tooany de referencias. Sin embargo, característica de escalado automático de hello no es útil para las aplicaciones con estado, como SQL Server, que solo una instancia permite escribir toohello base de datos. |El escalado vertical está disponible mediante el uso de varios roles web y de trabajo. Para más información sobre los tamaños de máquina virtual para roles web y roles de trabajo, consulte [Tamaños de Cloud Services](../../../cloud-services/cloud-services-sizes-specs.md).<br/><br/>Cuando se usa **servicios en la nube**, puede definir varios roles toodistribute procesamiento y conseguir un escalado flexible de la aplicación. Cada servicio en la nube incluye uno o varios roles web o roles de trabajo, cada uno con sus propios archivos de aplicación y configuración. Puede vaya escalando a un servicio de nube si aumenta el número de Hola de instancias de rol (máquinas virtuales) implementadas para un rol y reducirlo un servicio de nube reduciendo el número de Hola de instancias de rol. Para más información, consulte [Modelos de ejecución de Azure](../../../cloud-services/cloud-services-choose-me.md).<br/><br/>El escalado horizontal está disponible gracias al soporte técnico integrado de alta disponibilidad de Azure a través de [Cloud Services, Virtual Machines y el Acuerdo de Nivel de Servicio de red virtual](http://www.microsoft.com/download/details.aspx?id=38427), y Load Balancer.<br/><br/>Para una aplicación de varios niveles, se recomienda que se conecta el servidor de toodatabase de aplicaciones web y de trabajo roles máquinas virtuales a través de la red Virtual de Azure. Además, Azure proporciona equilibrio de carga para las máquinas virtuales en hello mismo servicio en la nube, distribuya las solicitudes de usuario por encima de ellos. Máquinas virtuales conectadas de esta manera pueden comunicarse directamente entre sí a través de la red local de hello dentro de un centro de datos de Azure.<br/><br/>Puede configurar **escalado automático** en hello portal de Azure, así como horas de programación de Hola. Para obtener más información, consulte [cómo tooconfigure Autoescala para un servicio de nube en el portal de hello](../../../cloud-services/cloud-services-how-to-scale-portal.md). |**Aumento y reducción**: se puede aumentar o disminuir tamaño de Hola de instancia de hello (VM) reservada para su sitio web.<br/><br/>Escalado horizontal: Puede agregar más instancias reservadas (VM) para el sitio web.<br/><br/>Puede configurar **escalado automático** en portal de hello, así como horas de programación de Hola. Para obtener más información, consulte [cómo tooScale aplicaciones Web](../../../app-service-web/web-sites-scale.md). |

Para obtener más información sobre cómo elegir entre estos métodos de programación, vea [aplicaciones Web de Azure, servicios en la nube y máquinas virtuales: cuando toouse que](../../../app-service-web/choose-web-site-cloud-service-vm.md).

## <a name="next-steps"></a>Pasos siguientes
Para más información sobre cómo ejecutar SQL Server en Azure Virtual Machines, consulte [Información general de SQL Server en Azure Virtual Machines](virtual-machines-windows-sql-server-iaas-overview.md).

