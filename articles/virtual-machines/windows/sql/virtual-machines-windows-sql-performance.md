---
title: "aaaPerformance prácticas recomendadas para SQL Server en Azure | Documentos de Microsoft"
description: "Ofrece prácticas recomendadas para optimizar el rendimiento de SQL Server en máquinas virtuales de Microsoft Azure."
services: virtual-machines-windows
documentationcenter: na
author: rothja
manager: jhubbard
editor: 
tags: azure-service-management
ms.assetid: a0c85092-2113-4982-b73a-4e80160bac36
ms.service: virtual-machines-sql
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: iaas-sql-server
ms.date: 06/27/2017
ms.author: jroth
ms.openlocfilehash: 42ec9fbeb2dec3a654b93bbd08d666369835ee73
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="performance-best-practices-for-sql-server-in-azure-virtual-machines"></a><span data-ttu-id="094e0-103">Procedimientos recomendados para mejorar el rendimiento de SQL Server en Máquinas virtuales de Azure</span><span class="sxs-lookup"><span data-stu-id="094e0-103">Performance best practices for SQL Server in Azure Virtual Machines</span></span>

## <a name="overview"></a><span data-ttu-id="094e0-104">Información general</span><span class="sxs-lookup"><span data-stu-id="094e0-104">Overview</span></span>

<span data-ttu-id="094e0-105">En este tema se ofrecen prácticas recomendadas para optimizar el rendimiento de SQL Server en máquina virtual de Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="094e0-105">This topic provides best practices for optimizing SQL Server performance in Microsoft Azure Virtual Machine.</span></span> <span data-ttu-id="094e0-106">Mientras se ejecuta SQL Server en máquinas virtuales de Azure, se recomienda que siga usando Hola el mismo rendimiento de base de datos para la optimización opciones que son aplicable tooSQL servidor en el entorno de servidor local.</span><span class="sxs-lookup"><span data-stu-id="094e0-106">While running SQL Server in Azure Virtual Machines, we recommend that you continue using hello same database performance tuning options that are applicable tooSQL Server in on-premises server environment.</span></span> <span data-ttu-id="094e0-107">Sin embargo, rendimiento de Hola de una base de datos relacional en una nube pública depende de muchos factores, como el tamaño de Hola de una máquina virtual y la configuración de Hola Hola de discos de datos.</span><span class="sxs-lookup"><span data-stu-id="094e0-107">However, hello performance of a relational database in a public cloud depends on many factors such as hello size of a virtual machine, and hello configuration of hello data disks.</span></span>

<span data-ttu-id="094e0-108">Al crear imágenes de SQL Server, [considere la posibilidad de aprovisionamiento de las máquinas virtuales en el portal de Azure hello](virtual-machines-windows-portal-sql-server-provision.md).</span><span class="sxs-lookup"><span data-stu-id="094e0-108">When creating SQL Server images, [consider provisioning your VMs in hello Azure portal](virtual-machines-windows-portal-sql-server-provision.md).</span></span> <span data-ttu-id="094e0-109">Aprovisionado en hello Portal con el Administrador de recursos de las máquinas virtuales de SQL Server implementa todas estas prácticas recomendadas, incluida la configuración de almacenamiento de Hola.</span><span class="sxs-lookup"><span data-stu-id="094e0-109">SQL Server VMs provisioned in hello Portal with Resource Manager implement all these best practices, including hello storage configuration.</span></span>

<span data-ttu-id="094e0-110">En este artículo se centra en la obtención de hello *mejor* rendimiento para SQL Server en máquinas virtuales de Azure.</span><span class="sxs-lookup"><span data-stu-id="094e0-110">This article is focused on getting hello *best* performance for SQL Server on Azure VMs.</span></span> <span data-ttu-id="094e0-111">Si su carga de trabajo no es menos exigente, podría no necesitar todas las optimizaciones enumeradas a continuación.</span><span class="sxs-lookup"><span data-stu-id="094e0-111">If your workload is less demanding, you might not require every optimization listed below.</span></span> <span data-ttu-id="094e0-112">Tenga en cuenta sus necesidades de rendimiento y patrones de carga de trabajo a medida que evalúe estas recomendaciones.</span><span class="sxs-lookup"><span data-stu-id="094e0-112">Consider your performance needs and workload patterns as you evaluate these recommendations.</span></span>

[!INCLUDE [learn-about-deployment-models](../../../../includes/learn-about-deployment-models-both-include.md)]

## <a name="quick-check-list"></a><span data-ttu-id="094e0-113">Lista de comprobación rápida</span><span class="sxs-lookup"><span data-stu-id="094e0-113">Quick check list</span></span>

<span data-ttu-id="094e0-114">Hola mostramos una lista de comprobación rápida para un rendimiento óptimo de SQL Server en máquinas virtuales de Azure:</span><span class="sxs-lookup"><span data-stu-id="094e0-114">hello following is a quick check list for optimal performance of SQL Server on Azure Virtual Machines:</span></span>

| <span data-ttu-id="094e0-115">Ámbito</span><span class="sxs-lookup"><span data-stu-id="094e0-115">Area</span></span> | <span data-ttu-id="094e0-116">Optimizaciones</span><span class="sxs-lookup"><span data-stu-id="094e0-116">Optimizations</span></span> |
| --- | --- |
| [<span data-ttu-id="094e0-117">Tamaño de VM</span><span class="sxs-lookup"><span data-stu-id="094e0-117">VM size</span></span>](#vm-size-guidance) |<span data-ttu-id="094e0-118">[DS3](../../virtual-machines-windows-sizes-memory.md) o superior para la edición SQL Enterprise.</span><span class="sxs-lookup"><span data-stu-id="094e0-118">[DS3](../../virtual-machines-windows-sizes-memory.md) or higher for SQL Enterprise edition.</span></span><br/><br/><span data-ttu-id="094e0-119">[DS2](../../virtual-machines-windows-sizes-memory.md) o superior para las ediciones SQL Standard y Web.</span><span class="sxs-lookup"><span data-stu-id="094e0-119">[DS2](../../virtual-machines-windows-sizes-memory.md) or higher for SQL Standard and Web editions.</span></span> |
| [<span data-ttu-id="094e0-120">Almacenamiento</span><span class="sxs-lookup"><span data-stu-id="094e0-120">Storage</span></span>](#storage-guidance) |<span data-ttu-id="094e0-121">Use [Almacenamiento premium](../../../storage/common/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="094e0-121">Use [Premium Storage](../../../storage/common/storage-premium-storage.md).</span></span> <span data-ttu-id="094e0-122">Solo se recomienda el almacenamiento estándar en fases de desarrollo o pruebas.</span><span class="sxs-lookup"><span data-stu-id="094e0-122">Standard storage is only recommended for dev/test.</span></span><br/><br/><span data-ttu-id="094e0-123">Mantener hello [cuenta de almacenamiento](../../../storage/common/storage-create-storage-account.md) y VM de SQL Server en hello misma región.</span><span class="sxs-lookup"><span data-stu-id="094e0-123">Keep hello [storage account](../../../storage/common/storage-create-storage-account.md) and SQL Server VM in hello same region.</span></span><br/><br/><span data-ttu-id="094e0-124">Deshabilitar Azure [almacenamiento con redundancia geográfica](../../../storage/common/storage-redundancy.md) (georreplicación) en la cuenta de almacenamiento de Hola.</span><span class="sxs-lookup"><span data-stu-id="094e0-124">Disable Azure [geo-redundant storage](../../../storage/common/storage-redundancy.md) (geo-replication) on hello storage account.</span></span> |
| [<span data-ttu-id="094e0-125">Discos</span><span class="sxs-lookup"><span data-stu-id="094e0-125">Disks</span></span>](#disks-guidance) |<span data-ttu-id="094e0-126">Use un mínimo de 2 [discos P30](../../../storage/common/storage-premium-storage.md#scalability-and-performance-targets) (1 para archivos de registro; 1 para archivos de datos y TempDB).</span><span class="sxs-lookup"><span data-stu-id="094e0-126">Use a minimum of 2 [P30 disks](../../../storage/common/storage-premium-storage.md#scalability-and-performance-targets) (1 for log files; 1 for data files and TempDB).</span></span><br/><br/><span data-ttu-id="094e0-127">Evite el uso del sistema operativo o de discos temporales para el registro o almacenamiento de bases de datos.</span><span class="sxs-lookup"><span data-stu-id="094e0-127">Avoid using operating system or temporary disks for database storage or logging.</span></span><br/><br/><span data-ttu-id="094e0-128">Habilitar la memoria caché de lectura en discos de hello hospeda los archivos de datos de Hola y TempDB.</span><span class="sxs-lookup"><span data-stu-id="094e0-128">Enable read caching on hello disk(s) hosting hello data files and TempDB.</span></span><br/><br/><span data-ttu-id="094e0-129">No habilite el almacenamiento en caché en discos que hospeda el archivo de registro de hello.</span><span class="sxs-lookup"><span data-stu-id="094e0-129">Do not enable caching on disk(s) hosting hello log file.</span></span><br/><br/><span data-ttu-id="094e0-130">Importante: Detener el servicio de SQL Server de hello al cambiar la configuración de la caché de Hola para un disco de máquina virtual de Azure.</span><span class="sxs-lookup"><span data-stu-id="094e0-130">Important: Stop hello SQL Server service when changing hello cache settings for an Azure VM disk.</span></span><br/><br/><span data-ttu-id="094e0-131">Seccione varios rendimiento de E/S de tooget aumentado de discos de datos de Azure.</span><span class="sxs-lookup"><span data-stu-id="094e0-131">Stripe multiple Azure data disks tooget increased IO throughput.</span></span><br/><br/><span data-ttu-id="094e0-132">Formato con tamaños de asignación documentados.</span><span class="sxs-lookup"><span data-stu-id="094e0-132">Format with documented allocation sizes.</span></span> |
| [<span data-ttu-id="094e0-133">E/S</span><span class="sxs-lookup"><span data-stu-id="094e0-133">I/O</span></span>](#io-guidance) |<span data-ttu-id="094e0-134">Habilite la compresión de páginas de bases de datos.</span><span class="sxs-lookup"><span data-stu-id="094e0-134">Enable database page compression.</span></span><br/><br/><span data-ttu-id="094e0-135">Habilite la inicialización instantánea de archivos para archivos de datos.</span><span class="sxs-lookup"><span data-stu-id="094e0-135">Enable instant file initialization for data files.</span></span><br/><br/><span data-ttu-id="094e0-136">Limite o deshabilite el crecimiento automático de la base de datos de Hola.</span><span class="sxs-lookup"><span data-stu-id="094e0-136">Limit or disable autogrow on hello database.</span></span><br/><br/><span data-ttu-id="094e0-137">Deshabilite la reducción automática de la base de datos de Hola.</span><span class="sxs-lookup"><span data-stu-id="094e0-137">Disable autoshrink on hello database.</span></span><br/><br/><span data-ttu-id="094e0-138">Mueva todos los discos de toodata de las bases de datos, incluidas bases de datos del sistema.</span><span class="sxs-lookup"><span data-stu-id="094e0-138">Move all databases toodata disks, including system databases.</span></span><br/><br/><span data-ttu-id="094e0-139">Mover error registro y seguimiento de archivo directorios toodata discos de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="094e0-139">Move SQL Server error log and trace file directories toodata disks.</span></span><br/><br/><span data-ttu-id="094e0-140">Configure ubicaciones predeterminadas para los archivos de base de datos y de copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="094e0-140">Setup default backup and database file locations.</span></span><br/><br/><span data-ttu-id="094e0-141">Habilite páginas bloqueadas.</span><span class="sxs-lookup"><span data-stu-id="094e0-141">Enable locked pages.</span></span><br/><br/><span data-ttu-id="094e0-142">Aplique correcciones de rendimiento de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="094e0-142">Apply SQL Server performance fixes.</span></span> |
| [<span data-ttu-id="094e0-143">Características específicas</span><span class="sxs-lookup"><span data-stu-id="094e0-143">Feature specific</span></span>](#feature-specific-guidance) |<span data-ttu-id="094e0-144">Realizar una copia de almacenamiento de tooblob directamente.</span><span class="sxs-lookup"><span data-stu-id="094e0-144">Back up directly tooblob storage.</span></span> |

<span data-ttu-id="094e0-145">Para obtener más información sobre *cómo* y *¿por qué* toomake estas optimizaciones, revise los detalles de Hola e instrucciones indicadas en las secciones siguientes se.</span><span class="sxs-lookup"><span data-stu-id="094e0-145">For more information on *how* and *why* toomake these optimizations, please review hello details and guidance provided in following sections.</span></span>

## <a name="vm-size-guidance"></a><span data-ttu-id="094e0-146">Orientación sobre el tamaño de máquina virtual</span><span class="sxs-lookup"><span data-stu-id="094e0-146">VM size guidance</span></span>

<span data-ttu-id="094e0-147">Para aplicaciones confidenciales de rendimiento, se recomienda que utilice siguiente hello [tamaños de máquinas virtuales](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json):</span><span class="sxs-lookup"><span data-stu-id="094e0-147">For performance sensitive applications, it’s recommended that you use hello following [virtual machines sizes](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json):</span></span>

* <span data-ttu-id="094e0-148">**SQL Server Enterprise Edition**: DS3 o versiones posteriores</span><span class="sxs-lookup"><span data-stu-id="094e0-148">**SQL Server Enterprise Edition**: DS3 or higher</span></span>
* <span data-ttu-id="094e0-149">**Ediciones de SQL Server Standard y Web**: DS2 o versiones posteriores</span><span class="sxs-lookup"><span data-stu-id="094e0-149">**SQL Server Standard and Web Editions**: DS2 or higher</span></span>

## <a name="storage-guidance"></a><span data-ttu-id="094e0-150">Orientación sobre el almacenamiento</span><span class="sxs-lookup"><span data-stu-id="094e0-150">Storage guidance</span></span>

<span data-ttu-id="094e0-151">Las máquinas virtuales de la serie DS (además de las series DSv2 y GS) admiten [Premium Storage](../../../storage/common/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="094e0-151">DS-series (along with DSv2-series and GS-series) VMs support [Premium Storage](../../../storage/common/storage-premium-storage.md).</span></span> <span data-ttu-id="094e0-152">Almacenamiento premium es aconsejable para cargas de trabajo de producción.</span><span class="sxs-lookup"><span data-stu-id="094e0-152">Premium Storage is recommended for all production workloads.</span></span>

> [!WARNING]
> <span data-ttu-id="094e0-153">El almacenamiento estándar presenta un ancho de banda y unas latencias variables, de modo que solo se recomienda para cargas de trabajo de desarrollo o de prueba.</span><span class="sxs-lookup"><span data-stu-id="094e0-153">Standard Storage has varying latencies and bandwidth and is only recommended for dev/test workloads.</span></span> <span data-ttu-id="094e0-154">En las cargas de trabajo de producción conviene usar Almacenamiento premium.</span><span class="sxs-lookup"><span data-stu-id="094e0-154">Production workloads should use Premium Storage.</span></span>

<span data-ttu-id="094e0-155">Además, recomendamos que cree su cuenta de almacenamiento de Azure en hello mismo centro de datos como los retrasos de transmisión de tooreduce de máquinas virtuales de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="094e0-155">In addition, we recommend that you create your Azure storage account in hello same data center as your SQL Server virtual machines tooreduce transfer delays.</span></span> <span data-ttu-id="094e0-156">Al crear una cuenta de almacenamiento, deshabilite la replicación geográfica ya que no se garantiza el orden de escritura coherente entre varios discos.</span><span class="sxs-lookup"><span data-stu-id="094e0-156">When creating a storage account, disable geo-replication as consistent write order across multiple disks is not guaranteed.</span></span> <span data-ttu-id="094e0-157">En su lugar, considere la posibilidad de configurar una tecnología de recuperación ante desastres de SQL Server entre dos centros de datos de Azure.</span><span class="sxs-lookup"><span data-stu-id="094e0-157">Instead, consider configuring a SQL Server disaster recovery technology between two Azure data centers.</span></span> <span data-ttu-id="094e0-158">Para más información, consulte [Alta disponibilidad y recuperación ante desastres para SQL Server en Azure Virtual Machines](virtual-machines-windows-sql-high-availability-dr.md).</span><span class="sxs-lookup"><span data-stu-id="094e0-158">For more information, see [High Availability and Disaster Recovery for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-high-availability-dr.md).</span></span>

## <a name="disks-guidance"></a><span data-ttu-id="094e0-159">Orientación sobre los discos</span><span class="sxs-lookup"><span data-stu-id="094e0-159">Disks guidance</span></span>

<span data-ttu-id="094e0-160">En una máquina virtual de Azure hay tres tipos de disco principales:</span><span class="sxs-lookup"><span data-stu-id="094e0-160">There are three main disk types on an Azure VM:</span></span>

* <span data-ttu-id="094e0-161">**Disco del sistema operativo**: cuando se crea una máquina Virtual de Azure, plataforma Hola asociará al menos un disco (con la etiqueta hello **C** unidad) toohello VM para el disco del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="094e0-161">**OS disk**: When you create an Azure Virtual Machine, hello platform will attach at least one disk (labeled as hello **C** drive) toohello VM for your operating system disk.</span></span> <span data-ttu-id="094e0-162">El disco es un VHD almacenado como blob en páginas en almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="094e0-162">This disk is a VHD stored as a page blob in storage.</span></span>
* <span data-ttu-id="094e0-163">**Disco temporal**: máquinas virtuales de Azure contienen otro disco denominado disco temporal de hello (con la etiqueta hello **d.**: unidad).</span><span class="sxs-lookup"><span data-stu-id="094e0-163">**Temporary disk**: Azure Virtual Machines contain another disk called hello temporary disk (labeled as hello **D**: drive).</span></span> <span data-ttu-id="094e0-164">Se trata de un disco en el nodo de Hola que puede usarse para el espacio de desecho.</span><span class="sxs-lookup"><span data-stu-id="094e0-164">This is a disk on hello node that can be used for scratch space.</span></span>
* <span data-ttu-id="094e0-165">**Discos de datos**: también se puede adjuntar discos adicionales tooyour virtual machine como discos de datos y estos se almacenarán en el almacenamiento como blobs en páginas.</span><span class="sxs-lookup"><span data-stu-id="094e0-165">**Data disks**: You can also attach additional disks tooyour virtual machine as data disks, and these will be stored in storage as page blobs.</span></span>

<span data-ttu-id="094e0-166">Hello las secciones siguientes describen recomendaciones sobre el uso de estos discos diferentes.</span><span class="sxs-lookup"><span data-stu-id="094e0-166">hello following sections describe recommendations for using these different disks.</span></span>

### <a name="operating-system-disk"></a><span data-ttu-id="094e0-167">Disco del sistema operativo</span><span class="sxs-lookup"><span data-stu-id="094e0-167">Operating system disk</span></span>

<span data-ttu-id="094e0-168">Un disco del sistema operativo es un VHD que se puede arrancar y montar como una versión en ejecución de un sistema operativo y está etiquetado como la unidad **C** .</span><span class="sxs-lookup"><span data-stu-id="094e0-168">An operating system disk is a VHD that you can boot and mount as a running version of an operating system and is labeled as **C** drive.</span></span>

<span data-ttu-id="094e0-169">Almacenamiento en caché de la directiva en el disco del sistema operativo de Hola de manera predeterminada, es **lectura/escritura**.</span><span class="sxs-lookup"><span data-stu-id="094e0-169">Default caching policy on hello operating system disk is **Read/Write**.</span></span> <span data-ttu-id="094e0-170">Para aplicaciones confidenciales de rendimiento, se recomienda utilizar discos de datos en lugar de disco del sistema operativo Hola.</span><span class="sxs-lookup"><span data-stu-id="094e0-170">For performance sensitive applications, we recommend that you use data disks instead of hello operating system disk.</span></span> <span data-ttu-id="094e0-171">Vea la sección de hello en discos de datos siguiente.</span><span class="sxs-lookup"><span data-stu-id="094e0-171">See hello section on Data Disks below.</span></span>

### <a name="temporary-disk"></a><span data-ttu-id="094e0-172">Disco temporal</span><span class="sxs-lookup"><span data-stu-id="094e0-172">Temporary disk</span></span>

<span data-ttu-id="094e0-173">Hola unidad de almacenamiento temporal, etiquetada como hello **d.**: unidad, no es persistente tooAzure el almacenamiento de blobs.</span><span class="sxs-lookup"><span data-stu-id="094e0-173">hello temporary storage drive, labeled as hello **D**: drive, is not persisted tooAzure blob storage.</span></span> <span data-ttu-id="094e0-174">No almacene los archivos de base de datos de usuario o de archivos de registro de transacciones de usuario en hello **d.**: unidad.</span><span class="sxs-lookup"><span data-stu-id="094e0-174">Do not store your user database files or user transaction log files on hello **D**: drive.</span></span>

<span data-ttu-id="094e0-175">Para la serie D, Dv2-series y máquinas virtuales de serie G, unidad temporal de hello en estas máquinas virtuales está basado en SSD.</span><span class="sxs-lookup"><span data-stu-id="094e0-175">For D-series, Dv2-series, and G-series VMs, hello temporary drive on these VMs is SSD-based.</span></span> <span data-ttu-id="094e0-176">Si la carga de trabajo hace un uso intensivo de TempDB (por ejemplo, para los objetos temporales o combinaciones complejas), almacenamiento de TempDB en hello **d.** unidad podría dar lugar a un mayor rendimiento de TempDB y menor latencia de TempDB.</span><span class="sxs-lookup"><span data-stu-id="094e0-176">If your workload makes heavy use of TempDB (e.g. for temporary objects or complex joins), storing TempDB on hello **D** drive could result in higher TempDB throughput and lower TempDB latency.</span></span>

<span data-ttu-id="094e0-177">En las máquinas virtuales que admiten Premium Storage(series DS, DSv2 y GS), se recomienda almacenar TempDB en un disco que admita Premium Storage y que tenga habilitado el almacenamiento en caché de lectura.</span><span class="sxs-lookup"><span data-stu-id="094e0-177">For VMs that support Premium Storage (DS-series, DSv2-series, and GS-series), we recommend storing TempDB on a disk that supports Premium Storage with read caching enabled.</span></span> <span data-ttu-id="094e0-178">No hay una excepción toothis recomendación; Si el uso de TempDB es escritura intensiva, puede lograr un rendimiento más alto mediante el almacenamiento de TempDB en el equipo local de hello **d.** unidad, que también está basada en SSD en estos tamaños de máquina.</span><span class="sxs-lookup"><span data-stu-id="094e0-178">There is one exception toothis recommendation; if your TempDB usage is write-intensive, you can achieve higher performance by storing TempDB on hello local **D** drive, which is also SSD-based on these machine sizes.</span></span>

### <a name="data-disks"></a><span data-ttu-id="094e0-179">Discos de datos</span><span class="sxs-lookup"><span data-stu-id="094e0-179">Data disks</span></span>

* <span data-ttu-id="094e0-180">**Usar discos de datos para los archivos de datos y de registro**: como mínimo, utilice almacenamiento Premium 2 [P30 discos](../../../storage/common/storage-premium-storage.md#scalability-and-performance-targets) donde un disco contiene los archivos de registro de Hola y Hola otro contiene datos de Hola y los archivos de TempDB.</span><span class="sxs-lookup"><span data-stu-id="094e0-180">**Use data disks for data and log files**: At a minimum, use 2 Premium Storage [P30 disks](../../../storage/common/storage-premium-storage.md#scalability-and-performance-targets) where one disk contains hello log file(s) and hello other contains hello data and TempDB file(s).</span></span> <span data-ttu-id="094e0-181">Cada disco de almacenamiento Premium proporciona un número de IOPs y ancho de banda (MB/s) según su tamaño, como se describe en el artículo siguiente de hello: [usando almacenamiento Premium para discos](../../../storage/common/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="094e0-181">Each Premium Storage disk provides a number of IOPs and bandwidth (MB/s) depending on its size, as described in hello following article: [Using Premium Storage for Disks](../../../storage/common/storage-premium-storage.md).</span></span>

* <span data-ttu-id="094e0-182">**Seccionamiento de discos**: para disfrutar de un mayor rendimiento, puede agregar más discos de datos y usar el seccionamiento de discos.</span><span class="sxs-lookup"><span data-stu-id="094e0-182">**Disk Striping**: For more throughput, you can add additional data disks and use Disk Striping.</span></span> <span data-ttu-id="094e0-183">número de hello toodetermine de discos de datos, debe tooanalyze número de Hola de IOPS y ancho de banda necesario para los archivos de registro y para los datos y los archivos de TempDB.</span><span class="sxs-lookup"><span data-stu-id="094e0-183">toodetermine hello number of data disks, you need tooanalyze hello number of IOPS and bandwidth required for your log file(s), and for your data and TempDB file(s).</span></span> <span data-ttu-id="094e0-184">Observe que diferentes tamaños de máquinas virtuales tienen distintos límites en serie de Hola de IOPs y ancho de banda compatible, consulte las tablas de hello en IOPS por [tamaño de máquina virtual](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="094e0-184">Notice that different VM sizes have different limits on hello number of IOPs and bandwidth supported, see hello tables on IOPS per [VM size](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span> <span data-ttu-id="094e0-185">Usar hello siguientes instrucciones:</span><span class="sxs-lookup"><span data-stu-id="094e0-185">Use hello following guidelines:</span></span>

  * <span data-ttu-id="094e0-186">Para Windows 8/Windows Server 2012 o posterior, use [espacios de almacenamiento](https://technet.microsoft.com/library/hh831739.aspx) con hello siguientes instrucciones:</span><span class="sxs-lookup"><span data-stu-id="094e0-186">For Windows 8/Windows Server 2012 or later, use [Storage Spaces](https://technet.microsoft.com/library/hh831739.aspx) with hello following guidelines:</span></span>

      1. <span data-ttu-id="094e0-187">Conjunto Hola intercalar (tamaño de stripe) too64 KB (65536 bytes) para las cargas de trabajo OLTP y de 256 KB (262144 bytes) para el impacto de rendimiento de las cargas de trabajo tooavoid debido toopartition desalineación de almacenamiento de datos.</span><span class="sxs-lookup"><span data-stu-id="094e0-187">Set hello interleave (stripe size) too64 KB (65536 bytes) for OLTP workloads and 256 KB (262144 bytes) for data warehousing workloads tooavoid performance impact due toopartition misalignment.</span></span> <span data-ttu-id="094e0-188">Esta característica debe establecerse con PowerShell.</span><span class="sxs-lookup"><span data-stu-id="094e0-188">This must be set with PowerShell.</span></span>
      1. <span data-ttu-id="094e0-189">Establezca recuento de columnas = número de discos físicos.</span><span class="sxs-lookup"><span data-stu-id="094e0-189">Set column count = number of physical disks.</span></span> <span data-ttu-id="094e0-190">Use PowerShell (no la interfaz de usuario del Administrador del servidor) al configurar más de 8 discos.</span><span class="sxs-lookup"><span data-stu-id="094e0-190">Use PowerShell when configuring more than 8 disks (not Server Manager UI).</span></span> 

    <span data-ttu-id="094e0-191">Por ejemplo, hello después de PowerShell crea un nuevo grupo de almacenamiento con hello intercalar tamaño too64 KB y Hola el número de columnas too2:</span><span class="sxs-lookup"><span data-stu-id="094e0-191">For example, hello following PowerShell creates a new storage pool with hello interleave size too64 KB and hello number of columns too2:</span></span>

    ```powershell
    $PoolCount = Get-PhysicalDisk -CanPool $True
    $PhysicalDisks = Get-PhysicalDisk | Where-Object {$_.FriendlyName -like "*2" -or $_.FriendlyName -like "*3"}

    New-StoragePool -FriendlyName "DataFiles" -StorageSubsystemFriendlyName "Storage Spaces*" -PhysicalDisks $PhysicalDisks | New-VirtualDisk -FriendlyName "DataFiles" -Interleave 65536 -NumberOfColumns 2 -ResiliencySettingName simple –UseMaximumSize |Initialize-Disk -PartitionStyle GPT -PassThru |New-Partition -AssignDriveLetter -UseMaximumSize |Format-Volume -FileSystem NTFS -NewFileSystemLabel "DataDisks" -AllocationUnitSize 65536 -Confirm:$false 
    ```

  * <span data-ttu-id="094e0-192">Para Windows 2008 R2 o versiones anteriores, puede usar discos dinámicos (volúmenes seccionados del SO) y tamaño de sección de hello siempre es 64 KB.</span><span class="sxs-lookup"><span data-stu-id="094e0-192">For Windows 2008 R2 or earlier, you can use dynamic disks (OS striped volumes) and hello stripe size is always 64 KB.</span></span> <span data-ttu-id="094e0-193">Tenga en cuenta que esta opción es obsoleta a partir de Windows 8/Windows Server 2012.</span><span class="sxs-lookup"><span data-stu-id="094e0-193">Note that this option is deprecated as of Windows 8/Windows Server 2012.</span></span> <span data-ttu-id="094e0-194">Para obtener información, vea la declaración de soporte técnico de hello en [servicio de disco Virtual se encuentra en transición tooWindows API de administración de almacenamiento](https://msdn.microsoft.com/library/windows/desktop/hh848071.aspx).</span><span class="sxs-lookup"><span data-stu-id="094e0-194">For information, see hello support statement at [Virtual Disk Service is transitioning tooWindows Storage Management API](https://msdn.microsoft.com/library/windows/desktop/hh848071.aspx).</span></span>

  * <span data-ttu-id="094e0-195">Si su carga de trabajo no es intensiva de registro y no necesita IOP dedicadas, puede configurar solo un grupo de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="094e0-195">If your workload is not log intensive and does not need dedicated IOPs, you can configure just one storage pool.</span></span> <span data-ttu-id="094e0-196">De lo contrario, cree dos grupos de almacenamiento, uno para los archivos de registro de hello y otro grupo de almacenamiento para los archivos de datos de Hola y TempDB.</span><span class="sxs-lookup"><span data-stu-id="094e0-196">Otherwise, create two storage pools, one for hello log file(s) and another storage pool for hello data file(s) and TempDB.</span></span> <span data-ttu-id="094e0-197">Determinar el número de Hola de discos asociados a cada grupo de almacenamiento en función de sus expectativas de carga.</span><span class="sxs-lookup"><span data-stu-id="094e0-197">Determine hello number of disks associated with each storage pool based on your load expectations.</span></span> <span data-ttu-id="094e0-198">Tenga en cuenta que diferentes tamaños de máquina virtual permiten diferentes números de discos de datos conectados.</span><span class="sxs-lookup"><span data-stu-id="094e0-198">Keep in mind that different VM sizes allow different numbers of attached data disks.</span></span> <span data-ttu-id="094e0-199">Para más información, consulte [Tamaños de las máquinas virtuales Linux en Azure](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="094e0-199">For more information, see [Sizes for Virtual Machines](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

  * <span data-ttu-id="094e0-200">Si no están usando almacenamiento Premium (escenarios de desarrollo y pruebas), recomendación de hello es el número máximo de hello tooadd de discos de datos admitidos por la [tamaño de máquina virtual](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) y usar la creación de bandas en disco.</span><span class="sxs-lookup"><span data-stu-id="094e0-200">If you are not using Premium Storage (dev/test scenarios), hello recommendation is tooadd hello maximum number of data disks supported by your [VM size](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) and use Disk Striping.</span></span>

* <span data-ttu-id="094e0-201">**Directiva de caché**: discos de datos para el almacenamiento Premium, habilitar la memoria caché de lectura en los discos de datos de hello hospedaje sólo los archivos de datos y TempDB.</span><span class="sxs-lookup"><span data-stu-id="094e0-201">**Caching policy**: For Premium Storage data disks, enable read caching on hello data disks hosting your data files and TempDB only.</span></span> <span data-ttu-id="094e0-202">Si no usa el Almacenamiento premium, no habilite el almacenamiento en caché en los discos de datos.</span><span class="sxs-lookup"><span data-stu-id="094e0-202">If you are not using Premium Storage, do not enable any caching on any data disks.</span></span> <span data-ttu-id="094e0-203">Para obtener instrucciones acerca de cómo configurar la caché de disco, vea Hola temas siguientes: [Set-AzureOSDisk](https://msdn.microsoft.com/library/azure/jj152847) y [Set-AzureDataDisk](https://msdn.microsoft.com/library/azure/jj152851.aspx).</span><span class="sxs-lookup"><span data-stu-id="094e0-203">For instructions on configuring disk caching, see hello following topics: [Set-AzureOSDisk](https://msdn.microsoft.com/library/azure/jj152847) and [Set-AzureDataDisk](https://msdn.microsoft.com/library/azure/jj152851.aspx).</span></span>

  > [!WARNING]
  > <span data-ttu-id="094e0-204">Detenga el servicio de SQL Server de hello al cambiar la configuración de caché de Hola de posibilidad de Hola de tooavoid de discos de máquina virtual de Azure de cualquier daño de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="094e0-204">Stop hello SQL Server service when changing hello cache setting of Azure VM disks tooavoid hello possibility of any database corruption.</span></span>

* <span data-ttu-id="094e0-205">**Tamaño de unidad de asignación de NTFS**: al formatear el disco de datos de hello, se recomienda que use un tamaño de unidad de asignación de 64 KB para los archivos de datos y de registro, así como en TempDB.</span><span class="sxs-lookup"><span data-stu-id="094e0-205">**NTFS allocation unit size**: When formatting hello data disk, it is recommended that you use a 64-KB allocation unit size for data and log files as well as TempDB.</span></span>

* <span data-ttu-id="094e0-206">**Prácticas recomendadas de administración de discos**: al quitar un disco de datos o cambiar su memoria caché escribe, detenga el servicio de SQL Server de Hola durante el cambio de Hola.</span><span class="sxs-lookup"><span data-stu-id="094e0-206">**Disk management best practices**: When removing a data disk or changing its cache type, stop hello SQL Server service during hello change.</span></span> <span data-ttu-id="094e0-207">Cuando la configuración de almacenamiento en caché de hello es cambiado en el disco de SO hello, Azure detiene Hola VM, cambia el tipo de caché de Hola y reinicia Hola máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="094e0-207">When hello caching settings are changed on hello OS disk, Azure stops hello VM, changes hello cache type, and restarts hello VM.</span></span> <span data-ttu-id="094e0-208">Cuando se cambia la configuración de la caché de Hola de un disco de datos, Hola VM no se detiene, pero el disco de datos de Hola se separa de hello VM durante Hola cambiar y, a continuación, volver a adjuntar.</span><span class="sxs-lookup"><span data-stu-id="094e0-208">When hello cache settings of a data disk are changed, hello VM is not stopped, but hello data disk is detached from hello VM during hello change and then reattached.</span></span>

  > [!WARNING]
  > <span data-ttu-id="094e0-209">Hola de toostop error servicio de SQL Server durante estas operaciones puede ocasionar daños en base de datos.</span><span class="sxs-lookup"><span data-stu-id="094e0-209">Failure toostop hello SQL Server service during these operations can cause database corruption.</span></span>

## <a name="io-guidance"></a><span data-ttu-id="094e0-210">Orientación sobre E/S</span><span class="sxs-lookup"><span data-stu-id="094e0-210">I/O guidance</span></span>

* <span data-ttu-id="094e0-211">Hola obtener los mejores resultados con el almacenamiento Premium se obtienen cuando se paraleliza la aplicación y las solicitudes.</span><span class="sxs-lookup"><span data-stu-id="094e0-211">hello best results with Premium Storage are achieved when you parallelize your application and requests.</span></span> <span data-ttu-id="094e0-212">Almacenamiento Premium está diseñado para escenarios donde la profundidad de cola de E/S de hello es mayor que 1, por lo que verá poca o ninguna ganancias de rendimiento para solicitudes de serie de un único subproceso (incluso si están intensivas de almacenamiento).</span><span class="sxs-lookup"><span data-stu-id="094e0-212">Premium Storage is designed for scenarios where hello IO queue depth is greater than 1, so you will see little or no performance gains for single-threaded serial requests (even if they are storage intensive).</span></span> <span data-ttu-id="094e0-213">Por ejemplo, esto podría afectar a los resultados de pruebas de un único subproceso de Hola de herramientas de análisis de rendimiento, como SQLIO.</span><span class="sxs-lookup"><span data-stu-id="094e0-213">For example, this could impact hello single-threaded test results of performance analysis tools, such as SQLIO.</span></span>

* <span data-ttu-id="094e0-214">Recuerde que también puede usar la [compresión de páginas de bases de datos](https://msdn.microsoft.com/library/cc280449.aspx) , ya que puede ayudarle a mejorar el rendimiento de las cargas de trabajo intensivas de E/S.</span><span class="sxs-lookup"><span data-stu-id="094e0-214">Consider using [database page compression](https://msdn.microsoft.com/library/cc280449.aspx) as it can help improve performance of I/O intensive workloads.</span></span> <span data-ttu-id="094e0-215">Sin embargo, la compresión de datos Hola puede aumentar el consumo de CPU de hello en el servidor de base de datos de Hola.</span><span class="sxs-lookup"><span data-stu-id="094e0-215">However, hello data compression might increase hello CPU consumption on hello database server.</span></span>

* <span data-ttu-id="094e0-216">Considere la posibilidad de habilitar la instantánea de archivos inicialización tooreduce Hola tiempo necesario para la asignación de archivo inicial.</span><span class="sxs-lookup"><span data-stu-id="094e0-216">Consider enabling instant file initialization tooreduce hello time that is required for initial file allocation.</span></span> <span data-ttu-id="094e0-217">ventajas de tootake de inicialización instantánea de archivos, conceda a cuenta de servicio de SQL Server (MSSQLSERVER) Hola con SE_MANAGE_VOLUME_NAME y agréguela toohello **realizar tareas de mantenimiento del volumen** directiva de seguridad.</span><span class="sxs-lookup"><span data-stu-id="094e0-217">tootake advantage of instant file initialization, you grant hello SQL Server (MSSQLSERVER) service account with SE_MANAGE_VOLUME_NAME and add it toohello **Perform Volume Maintenance Tasks** security policy.</span></span> <span data-ttu-id="094e0-218">Si está utilizando una imagen de plataforma de SQL Server para Azure, cuenta de servicio de hello predeterminada (NT Service\MSSQLSERVER) no se agrega toohello **realizar tareas de mantenimiento del volumen** directiva de seguridad.</span><span class="sxs-lookup"><span data-stu-id="094e0-218">If you are using a SQL Server platform image for Azure, hello default service account (NT Service\MSSQLSERVER) isn’t added toohello **Perform Volume Maintenance Tasks** security policy.</span></span> <span data-ttu-id="094e0-219">En otras palabras, la inicialización instantánea de archivos no se habilita en una imagen de plataforma de SQL Server Azure.</span><span class="sxs-lookup"><span data-stu-id="094e0-219">In other words, instant file initialization is not enabled in a SQL Server Azure platform image.</span></span> <span data-ttu-id="094e0-220">Después de agregar toohello de cuenta de servicio de SQL Server de hello **realizar tareas de mantenimiento del volumen** directiva de seguridad, reinicie el servicio de SQL Server de Hola.</span><span class="sxs-lookup"><span data-stu-id="094e0-220">After adding hello SQL Server service account toohello **Perform Volume Maintenance Tasks** security policy, restart hello SQL Server service.</span></span> <span data-ttu-id="094e0-221">Puede haber consideraciones de seguridad para usar esta característica.</span><span class="sxs-lookup"><span data-stu-id="094e0-221">There could be security considerations for using this feature.</span></span> <span data-ttu-id="094e0-222">Para obtener más información, consulte [Inicialización de archivos de base de datos](https://msdn.microsoft.com/library/ms175935.aspx).</span><span class="sxs-lookup"><span data-stu-id="094e0-222">For more information, see [Database File Initialization](https://msdn.microsoft.com/library/ms175935.aspx).</span></span>

* <span data-ttu-id="094e0-223">**crecimiento automático** se considera toobe apenas una contingencia para el crecimiento inesperado.</span><span class="sxs-lookup"><span data-stu-id="094e0-223">**autogrow** is considered toobe merely a contingency for unexpected growth.</span></span> <span data-ttu-id="094e0-224">No administre su crecimiento de datos y registros a diario con el crecimiento automático.</span><span class="sxs-lookup"><span data-stu-id="094e0-224">Do not manage your data and log growth on a day-to-day basis with autogrow.</span></span> <span data-ttu-id="094e0-225">Si usa el crecimiento automático, aumente previamente archivo hello con conmutador de tamaño de Hola.</span><span class="sxs-lookup"><span data-stu-id="094e0-225">If autogrow is used, pre-grow hello file using hello Size switch.</span></span>

* <span data-ttu-id="094e0-226">Asegúrese de que **autoshrink** es tooavoid deshabilitado una sobrecarga innecesaria que puede afectar negativamente al rendimiento.</span><span class="sxs-lookup"><span data-stu-id="094e0-226">Make sure **autoshrink** is disabled tooavoid unnecessary overhead that can negatively affect performance.</span></span>

* <span data-ttu-id="094e0-227">Mueva todos los discos de toodata de las bases de datos, incluidas bases de datos del sistema.</span><span class="sxs-lookup"><span data-stu-id="094e0-227">Move all databases toodata disks, including system databases.</span></span> <span data-ttu-id="094e0-228">Para más información, consulte [Mover bases de datos del sistema](https://msdn.microsoft.com/library/ms345408.aspx).</span><span class="sxs-lookup"><span data-stu-id="094e0-228">For more information, see [Move System Databases](https://msdn.microsoft.com/library/ms345408.aspx).</span></span>

* <span data-ttu-id="094e0-229">Mover error registro y seguimiento de archivo directorios toodata discos de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="094e0-229">Move SQL Server error log and trace file directories toodata disks.</span></span> <span data-ttu-id="094e0-230">Para llevar esto a cabo en el Administrador de configuración de SQL Server, haga clic con el botón secundario en la instancia de SQL Server y seleccione Propiedades.</span><span class="sxs-lookup"><span data-stu-id="094e0-230">This can be done in SQL Server Configuration Manager by right-clicking your SQL Server instance and selecting properties.</span></span> <span data-ttu-id="094e0-231">Hello configuración del archivo de registro y seguimiento de errores puede cambiarse en hello **parámetros de inicio** Hola ficha directorio de volcado de memoria especificado en hello **avanzadas** Hola de ficha siguiente captura de pantalla muestra dónde toolook para parámetro de inicio de registro de errores de Hola.</span><span class="sxs-lookup"><span data-stu-id="094e0-231">hello error log and trace file settings can be changed in hello **Startup Parameters** tab. hello Dump Directory is specified in hello **Advanced** tab. hello following screenshot shows where toolook for hello error log startup parameter.</span></span>

    ![Captura de pantalla de registro de errores de SQL](./media/virtual-machines-windows-sql-performance/sql_server_error_log_location.png)

* <span data-ttu-id="094e0-233">Configure ubicaciones predeterminadas para los archivos de base de datos y de copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="094e0-233">Setup default backup and database file locations.</span></span> <span data-ttu-id="094e0-234">Uso de las recomendaciones de hello en este tema y realizar cambios de hello en la ventana de propiedades de servidor de Hola.</span><span class="sxs-lookup"><span data-stu-id="094e0-234">Use hello recommendations in this topic, and make hello changes in hello Server properties window.</span></span> <span data-ttu-id="094e0-235">Para obtener instrucciones, consulte [Hola ver o cambiar las ubicaciones predeterminadas para los datos y archivos de registro (SQL Server Management Studio)](https://msdn.microsoft.com/library/dd206993.aspx).</span><span class="sxs-lookup"><span data-stu-id="094e0-235">For instructions, see [View or Change hello Default Locations for Data and Log Files (SQL Server Management Studio)](https://msdn.microsoft.com/library/dd206993.aspx).</span></span> <span data-ttu-id="094e0-236">Hello captura de pantalla siguiente muestra dónde toomake estos cambios.</span><span class="sxs-lookup"><span data-stu-id="094e0-236">hello following screenshot demonstrates where toomake these changes.</span></span>

    ![Archivos de copia de seguridad y de registro de datos de SQL](./media/virtual-machines-windows-sql-performance/sql_server_default_data_log_backup_locations.png)
* <span data-ttu-id="094e0-238">Habilitar bloquea páginas tooreduce E/S y las actividades de paginación.</span><span class="sxs-lookup"><span data-stu-id="094e0-238">Enable locked pages tooreduce IO and any paging activities.</span></span> <span data-ttu-id="094e0-239">Para obtener más información, consulte [habilitar Hola opción Bloquear páginas en memoria (Windows)](https://msdn.microsoft.com/library/ms190730.aspx).</span><span class="sxs-lookup"><span data-stu-id="094e0-239">For more information, see [Enable hello Lock Pages in Memory Option (Windows)](https://msdn.microsoft.com/library/ms190730.aspx).</span></span>

* <span data-ttu-id="094e0-240">Si está ejecutando SQL Server 2012, instale la actualización acumulativa 10 del Service Pack 1.</span><span class="sxs-lookup"><span data-stu-id="094e0-240">If you are running SQL Server 2012, install Service Pack 1 Cumulative Update 10.</span></span> <span data-ttu-id="094e0-241">Esta actualización contiene la revisión de hello para el bajo rendimiento de e/s al ejecutar select en la instrucción de la tabla temporal en SQL Server 2012.</span><span class="sxs-lookup"><span data-stu-id="094e0-241">This update contains hello fix for poor performance on I/O when you execute select into temporary table statement in SQL Server 2012.</span></span> <span data-ttu-id="094e0-242">Para obtener información, consulte este [artículo de Knowledge Base](http://support.microsoft.com/kb/2958012).</span><span class="sxs-lookup"><span data-stu-id="094e0-242">For information, see this [knowledge base article](http://support.microsoft.com/kb/2958012).</span></span>

* <span data-ttu-id="094e0-243">Considere la posibilidad de comprimir los archivos de datos cuando se transfieren dentro y fuera de Azure.</span><span class="sxs-lookup"><span data-stu-id="094e0-243">Consider compressing any data files when transferring in/out of Azure.</span></span>

## <a name="feature-specific-guidance"></a><span data-ttu-id="094e0-244">Orientación sobre las características específicas</span><span class="sxs-lookup"><span data-stu-id="094e0-244">Feature specific guidance</span></span>

<span data-ttu-id="094e0-245">Algunas implementaciones pueden lograr ventajas de rendimiento adicionales mediante técnicas de configuración más avanzadas.</span><span class="sxs-lookup"><span data-stu-id="094e0-245">Some deployments may achieve additional performance benefits using more advanced configuration techniques.</span></span> <span data-ttu-id="094e0-246">Hello siguiente lista resalta algunas características de SQL Server que pueden ayudar a mejorar el rendimiento tooachieve:</span><span class="sxs-lookup"><span data-stu-id="094e0-246">hello following list highlights some SQL Server features that can help you tooachieve better performance:</span></span>

* <span data-ttu-id="094e0-247">**Copia de seguridad de almacenamiento de tooAzure**: al realizar copias de seguridad para SQL Server en máquinas virtuales de Azure, puede usar [tooURL de copia de seguridad de SQL Server](https://msdn.microsoft.com/library/dn435916.aspx).</span><span class="sxs-lookup"><span data-stu-id="094e0-247">**Backup tooAzure storage**: When performing backups for SQL Server running in Azure virtual machines, you can use [SQL Server Backup tooURL](https://msdn.microsoft.com/library/dn435916.aspx).</span></span> <span data-ttu-id="094e0-248">Esta característica está disponible a partir de SQL Server 2012 SP1 CU2 y es recomendable para realizar copias de seguridad toohello adjuntada los discos de datos.</span><span class="sxs-lookup"><span data-stu-id="094e0-248">This feature is available starting with SQL Server 2012 SP1 CU2 and recommended for backing up toohello attached data disks.</span></span> <span data-ttu-id="094e0-249">Cuando se copia de seguridad/restauración a/desde el almacenamiento de Azure, siga las recomendaciones de hello proporcionadas en [copias de seguridad de SQL Server tooURL las prácticas recomendadas y solución de problemas y restauración de copias de seguridad se almacenan en el almacenamiento de Azure](https://msdn.microsoft.com/library/jj919149.aspx).</span><span class="sxs-lookup"><span data-stu-id="094e0-249">When you backup/restore to/from Azure storage, follow hello recommendations provided at [SQL Server Backup tooURL Best Practices and Troubleshooting and Restoring from Backups Stored in Azure Storage](https://msdn.microsoft.com/library/jj919149.aspx).</span></span> <span data-ttu-id="094e0-250">También puede automatizar estas copias de seguridad con [copia de seguridad automatizada para SQL Server en Azure Virtual Machines](virtual-machines-windows-sql-automated-backup.md).</span><span class="sxs-lookup"><span data-stu-id="094e0-250">You can also automate these backups using [Automated Backup for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-automated-backup.md).</span></span>

    <span data-ttu-id="094e0-251">TooSQL anterior Server 2012, puede usar [tooAzure herramienta de copia de seguridad de SQL Server](https://www.microsoft.com/download/details.aspx?id=40740).</span><span class="sxs-lookup"><span data-stu-id="094e0-251">Prior tooSQL Server 2012, you can use [SQL Server Backup tooAzure Tool](https://www.microsoft.com/download/details.aspx?id=40740).</span></span> <span data-ttu-id="094e0-252">Esta herramienta puede ayudar a rendimiento de copia de seguridad de tooincrease con varios destinos de copia de seguridad de las bandas.</span><span class="sxs-lookup"><span data-stu-id="094e0-252">This tool can help tooincrease backup throughput using multiple backup stripe targets.</span></span>

* <span data-ttu-id="094e0-253">**Archivos de datos de SQL Server en Azure**: esta nueva característica, [Archivos de datos de SQL Server en Azure](https://msdn.microsoft.com/library/dn385720.aspx), está disponible a partir de SQL Server 2014.</span><span class="sxs-lookup"><span data-stu-id="094e0-253">**SQL Server Data Files in Azure**: This new feature, [SQL Server Data Files in Azure](https://msdn.microsoft.com/library/dn385720.aspx), is available starting with SQL Server 2014.</span></span> <span data-ttu-id="094e0-254">La ejecución de SQL Server con archivos de datos en Azure muestra características de rendimiento comparables con el uso de discos de datos de Azure.</span><span class="sxs-lookup"><span data-stu-id="094e0-254">Running SQL Server with data files in Azure demonstrates comparable performance characteristics as using Azure data disks.</span></span>

## <a name="next-steps"></a><span data-ttu-id="094e0-255">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="094e0-255">Next Steps</span></span>

<span data-ttu-id="094e0-256">Para ver prácticas recomendadas de seguridad, vea [Consideraciones de seguridad para SQL Server en Azure Virtual Machines](virtual-machines-windows-sql-security.md).</span><span class="sxs-lookup"><span data-stu-id="094e0-256">For security best practices, see [Security Considerations for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-security.md).</span></span>

<span data-ttu-id="094e0-257">Revise otros temas de la máquina virtual de SQL Server en [Información general de SQL Server en Azure Virtual Machines](virtual-machines-windows-sql-server-iaas-overview.md).</span><span class="sxs-lookup"><span data-stu-id="094e0-257">Review other SQL Server Virtual Machine topics at [SQL Server on Azure Virtual Machines Overview](virtual-machines-windows-sql-server-iaas-overview.md).</span></span>
