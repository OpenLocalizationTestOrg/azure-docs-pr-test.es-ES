---
title: "Configuración del almacenamiento para VM con SQL Server | Microsoft Docs"
description: "En este tema se describe cómo Azure configura el almacenamiento para las máquinas virtuales de SQL Server durante el aprovisionamiento (modelo de implementación de Resource Manager). También se explica cómo configurar el almacenamiento para sus máquinas virtuales de SQL Server existentes."
services: virtual-machines-windows
documentationcenter: na
author: ninarn
manager: jhubbard
tags: azure-resource-manager
ms.assetid: 169fc765-3269-48fa-83f1-9fe3e4e40947
ms.service: virtual-machines-sql
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: iaas-sql-server
ms.date: 01/31/2017
ms.author: ninarn
ms.openlocfilehash: f10bac1189c94a581487d19fc0cc129acec6a636
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/29/2017
---
# <a name="storage-configuration-for-sql-server-vms"></a><span data-ttu-id="29e2f-104">Configuración del almacenamiento para máquinas virtuales de SQL Server</span><span class="sxs-lookup"><span data-stu-id="29e2f-104">Storage configuration for SQL Server VMs</span></span>
<span data-ttu-id="29e2f-105">Al configurar una imagen de máquina virtual de SQL Server en Azure, el Portal le ayuda a automatizar la configuración del almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="29e2f-105">When you configure a SQL Server virtual machine image in Azure, the Portal helps to automate your storage configuration.</span></span> <span data-ttu-id="29e2f-106">Esto incluye asociar el almacenamiento a la máquina virtual, hacer que el almacenamiento esté accesible para SQL Server y configurarlo para optimizarlo para sus requisitos de rendimiento específicos.</span><span class="sxs-lookup"><span data-stu-id="29e2f-106">This includes attaching storage to the VM, making that storage accessible to SQL Server, and configuring it to optimize for your specific performance requirements.</span></span>

<span data-ttu-id="29e2f-107">Este tema explica cómo Azure configura el almacenamiento para sus máquinas virtuales de SQL Server durante el aprovisionamiento y para las máquinas virtuales existentes.</span><span class="sxs-lookup"><span data-stu-id="29e2f-107">This topic explains how Azure configures storage for your SQL Server VMs both during provisioning and for existing VMs.</span></span> <span data-ttu-id="29e2f-108">Esta configuración se basa en los [procedimientos recomendados de rendimiento](virtual-machines-windows-sql-performance.md) para máquinas virtuales de Azure en las que se ejecuta SQL Server.</span><span class="sxs-lookup"><span data-stu-id="29e2f-108">This configuration is based on the [performance best practices](virtual-machines-windows-sql-performance.md) for Azure VMs running SQL Server.</span></span>

[!INCLUDE [learn-about-deployment-models](../../../../includes/learn-about-deployment-models-rm-include.md)]

## <a name="prerequisites"></a><span data-ttu-id="29e2f-109">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="29e2f-109">Prerequisites</span></span>
<span data-ttu-id="29e2f-110">Para usar la configuración del almacenamiento automática, la máquina virtual requiere las siguientes características:</span><span class="sxs-lookup"><span data-stu-id="29e2f-110">To use the automated storage configuration settings, your virtual machine requires the following characteristics:</span></span>

* <span data-ttu-id="29e2f-111">Aprovisionada con una [imagen de la galería de SQL Server](virtual-machines-windows-sql-server-iaas-overview.md#option-1-create-a-sql-vm-with-per-minute-licensing).</span><span class="sxs-lookup"><span data-stu-id="29e2f-111">Provisioned with a [SQL Server gallery image](virtual-machines-windows-sql-server-iaas-overview.md#option-1-create-a-sql-vm-with-per-minute-licensing).</span></span>
* <span data-ttu-id="29e2f-112">Usa el [modelo de implementación de Resource Manager](../../../azure-resource-manager/resource-manager-deployment-model.md).</span><span class="sxs-lookup"><span data-stu-id="29e2f-112">Uses the [Resource Manager deployment model](../../../azure-resource-manager/resource-manager-deployment-model.md).</span></span>
* <span data-ttu-id="29e2f-113">Usa [Almacenamiento premium](../../../storage/common/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="29e2f-113">Uses [Premium Storage](../../../storage/common/storage-premium-storage.md).</span></span>

## <a name="new-vms"></a><span data-ttu-id="29e2f-114">Nuevas máquinas virtuales</span><span class="sxs-lookup"><span data-stu-id="29e2f-114">New VMs</span></span>
<span data-ttu-id="29e2f-115">En las secciones siguientes se describe cómo configurar el almacenamiento para nuevas máquinas virtuales de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="29e2f-115">The following sections describe how to configure storage for new SQL Server virtual machines.</span></span>

### <a name="azure-portal"></a><span data-ttu-id="29e2f-116">Portal de Azure</span><span class="sxs-lookup"><span data-stu-id="29e2f-116">Azure Portal</span></span>
<span data-ttu-id="29e2f-117">Al aprovisionar una máquina virtual de Azure mediante una imagen de la galería de SQL Server, puede configurar automáticamente el almacenamiento para la nueva máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="29e2f-117">When provisioning an Azure VM using a SQL Server gallery image, you can choose to automatically configure the storage for your new VM.</span></span> <span data-ttu-id="29e2f-118">Especifique el tamaño del almacenamiento, los límites de rendimiento y el tipo de carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="29e2f-118">You specify the storage size, performance limits, and workload type.</span></span> <span data-ttu-id="29e2f-119">En la siguiente captura de pantalla se muestra la hoja Configuración de almacenamiento utilizada durante el aprovisionamiento de la máquina virtual de SQL.</span><span class="sxs-lookup"><span data-stu-id="29e2f-119">The following screenshot shows the Storage configuration blade used during SQL VM provisioning.</span></span>

![Configuración del almacenamiento de máquinas virtuales de SQL Server durante el aprovisionamiento](./media/virtual-machines-windows-sql-storage-configuration/sql-vm-storage-configuration-provisioning.png)

<span data-ttu-id="29e2f-121">En función de lo que elija, Azure realiza las siguientes tareas de configuración del almacenamiento después de crear la máquina virtual:</span><span class="sxs-lookup"><span data-stu-id="29e2f-121">Based on your choices, Azure performs the following storage configuration tasks after creating the VM:</span></span>

* <span data-ttu-id="29e2f-122">Crea y asocia los discos de datos de almacenamiento premium a la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="29e2f-122">Creates and attaches premium storage data disks to the virtual machine.</span></span>
* <span data-ttu-id="29e2f-123">Configura los discos de datos para que sean accesibles para SQL Server.</span><span class="sxs-lookup"><span data-stu-id="29e2f-123">Configures the data disks to be accessible to SQL Server.</span></span>
* <span data-ttu-id="29e2f-124">Configura los discos de datos en un grupo de almacenamiento en función de los requisitos de tamaño y rendimiento (IOPS y rendimiento) especificados.</span><span class="sxs-lookup"><span data-stu-id="29e2f-124">Configures the data disks into a storage pool based on the specified size and performance (IOPS and throughput) requirements.</span></span>
* <span data-ttu-id="29e2f-125">Asocia el grupo de almacenamiento a una unidad nueva en la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="29e2f-125">Associates the storage pool with a new drive on the virtual machine.</span></span>
* <span data-ttu-id="29e2f-126">Optimiza esta nueva unidad en función de su tipo de carga de trabajo (almacenamiento de datos, procesamiento de transaccional o general).</span><span class="sxs-lookup"><span data-stu-id="29e2f-126">Optimizes this new drive based on your specified workload type (Data warehousing, Transactional processing, or General).</span></span>

<span data-ttu-id="29e2f-127">Para más información sobre cómo Azure define la configuración del almacenamiento, consulte la sección [Configuración del almacenamiento](#storage-configuration).</span><span class="sxs-lookup"><span data-stu-id="29e2f-127">For further details on how Azure configures storage settings, see the [Storage configuration section](#storage-configuration).</span></span> <span data-ttu-id="29e2f-128">Para más información detallada acerca de cómo crear una máquina virtual de SQL Server en el Portal de Azure, consulte el [tutorial de aprovisionamiento](virtual-machines-windows-portal-sql-server-provision.md).</span><span class="sxs-lookup"><span data-stu-id="29e2f-128">For a full walkthrough of how to create a SQL Server VM in the Azure Portal, see [the provisioning tutorial](virtual-machines-windows-portal-sql-server-provision.md).</span></span>

### <a name="resource-manage-templates"></a><span data-ttu-id="29e2f-129">Plantillas de Resource Manager</span><span class="sxs-lookup"><span data-stu-id="29e2f-129">Resource Manage templates</span></span>
<span data-ttu-id="29e2f-130">Si utiliza las siguientes plantillas de Resource Manager, se asocian dos discos de datos premium de forma predeterminada, sin configuración del grupo de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="29e2f-130">If you use the following Resource Manager templates, two premium data disks are attached by default, with no storage pool configuration.</span></span> <span data-ttu-id="29e2f-131">Sin embargo, puede personalizar estas plantillas para cambiar el número de discos de datos premium que se asocian a la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="29e2f-131">However, you can customize these templates to change the number of premium data disks that are attached to the virtual machine.</span></span>

* [<span data-ttu-id="29e2f-132">Creación de máquinas virtuales con copia de seguridad automatizada</span><span class="sxs-lookup"><span data-stu-id="29e2f-132">Create VM with Automated Backup</span></span>](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vm-sql-full-autobackup)
* [<span data-ttu-id="29e2f-133">Creación de máquinas virtuales con la aplicación de revisión automatizada</span><span class="sxs-lookup"><span data-stu-id="29e2f-133">Create VM with Automated Patching</span></span>](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vm-sql-full-autopatching)
* [<span data-ttu-id="29e2f-134">Creación de máquinas virtuales con la integración de AKV</span><span class="sxs-lookup"><span data-stu-id="29e2f-134">Create VM with AKV Integration</span></span>](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vm-sql-full-keyvault)

## <a name="existing-vms"></a><span data-ttu-id="29e2f-135">Máquinas virtuales existentes</span><span class="sxs-lookup"><span data-stu-id="29e2f-135">Existing VMs</span></span>
<span data-ttu-id="29e2f-136">Para las máquinas virtuales de SQL Server existentes, puede modificar algunas opciones de configuración del almacenamiento en el Portal de Azure.</span><span class="sxs-lookup"><span data-stu-id="29e2f-136">For existing SQL Server VMs, you can modify some storage settings in the Azure portal.</span></span> <span data-ttu-id="29e2f-137">Seleccione la máquina virtual, vaya al área Configuración y seleccione la Configuración de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="29e2f-137">Select your VM, go to the Settings area, and then select SQL Server Configuration.</span></span> <span data-ttu-id="29e2f-138">La hoja Configuración de SQL Server muestra el uso del almacenamiento actual de la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="29e2f-138">The SQL Server Configuration blade shows the current storage usage of your VM.</span></span> <span data-ttu-id="29e2f-139">En este gráfico se muestran todas las unidades que existen en la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="29e2f-139">All drives that exist on your VM are displayed in this chart.</span></span> <span data-ttu-id="29e2f-140">Para cada unidad, el espacio de almacenamiento se muestra en cuatro secciones:</span><span class="sxs-lookup"><span data-stu-id="29e2f-140">For each drive, the storage space displays in four sections:</span></span>

* <span data-ttu-id="29e2f-141">Datos SQL</span><span class="sxs-lookup"><span data-stu-id="29e2f-141">SQL data</span></span>
* <span data-ttu-id="29e2f-142">Registro de SQL</span><span class="sxs-lookup"><span data-stu-id="29e2f-142">SQL log</span></span>
* <span data-ttu-id="29e2f-143">Otros (almacenamiento que no es de SQL)</span><span class="sxs-lookup"><span data-stu-id="29e2f-143">Other (non-SQL storage)</span></span>
* <span data-ttu-id="29e2f-144">Disponible</span><span class="sxs-lookup"><span data-stu-id="29e2f-144">Available</span></span>

![Configuración del almacenamiento para la máquina virtual de SQL Server existente](./media/virtual-machines-windows-sql-storage-configuration/sql-vm-storage-configuration-existing.png)

<span data-ttu-id="29e2f-146">Para configurar el almacenamiento con el fin de agregar una nueva unidad o extender una unidad existente, haga clic en el vínculo Editar encima del gráfico.</span><span class="sxs-lookup"><span data-stu-id="29e2f-146">To configure the storage to add a new drive or extend an existing drive, click the Edit link above the chart.</span></span>

<span data-ttu-id="29e2f-147">Las opciones de configuración que se ven varían en función de si ha utilizado esta característica antes.</span><span class="sxs-lookup"><span data-stu-id="29e2f-147">The configuration options that you see varies depending on whether you have used this feature before.</span></span> <span data-ttu-id="29e2f-148">Cuando se utiliza por primera vez, puede especificar los requisitos de almacenamiento para una nueva unidad.</span><span class="sxs-lookup"><span data-stu-id="29e2f-148">When using for the first time, you can specify your storage requirements for a new drive.</span></span> <span data-ttu-id="29e2f-149">Si ha utilizado esta característica anteriormente para crear una unidad, puede ampliar el almacenamiento de esa unidad.</span><span class="sxs-lookup"><span data-stu-id="29e2f-149">If you previously used this feature to create a drive, you can choose to extend that drive’s storage.</span></span>

### <a name="use-for-the-first-time"></a><span data-ttu-id="29e2f-150">Uso por primera vez</span><span class="sxs-lookup"><span data-stu-id="29e2f-150">Use for the first time</span></span>
<span data-ttu-id="29e2f-151">Si es la primera vez que usa esta característica, puede especificar los límites de tamaño y rendimiento del almacenamiento para una nueva unidad.</span><span class="sxs-lookup"><span data-stu-id="29e2f-151">If it is your first time using this feature, you can specify the storage size and performance limits for a new drive.</span></span> <span data-ttu-id="29e2f-152">Esta experiencia es similar a lo que vería en el tiempo de aprovisionamiento.</span><span class="sxs-lookup"><span data-stu-id="29e2f-152">This experience is similar to what you would see at provisioning time.</span></span> <span data-ttu-id="29e2f-153">La principal diferencia es que no se permiten especificar el tipo de carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="29e2f-153">The main difference is that you are not permitted to specify the workload type.</span></span> <span data-ttu-id="29e2f-154">Esta restricción impide que se interrumpa cualquier configuración de SQL Server existente en la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="29e2f-154">This restriction prevents disrupting any existing SQL Server configurations on the virtual machine.</span></span>

![Configuración de los controles deslizantes del almacenamiento de SQL Server](./media/virtual-machines-windows-sql-storage-configuration/sql-vm-storage-usage-sliders.png)

<span data-ttu-id="29e2f-156">Azure crea una unidad en función de sus especificaciones.</span><span class="sxs-lookup"><span data-stu-id="29e2f-156">Azure creates a new drive based on your specifications.</span></span> <span data-ttu-id="29e2f-157">En este escenario, Azure realiza las siguientes tareas de configuración del almacenamiento:</span><span class="sxs-lookup"><span data-stu-id="29e2f-157">In this scenario, Azure performs the following storage configuration tasks:</span></span>

* <span data-ttu-id="29e2f-158">Crea y asocia los discos de datos de almacenamiento premium a la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="29e2f-158">Creates and attaches premium storage data disks to the virtual machine.</span></span>
* <span data-ttu-id="29e2f-159">Configura los discos de datos para que sean accesibles para SQL Server.</span><span class="sxs-lookup"><span data-stu-id="29e2f-159">Configures the data disks to be accessible to SQL Server.</span></span>
* <span data-ttu-id="29e2f-160">Configura los discos de datos en un grupo de almacenamiento en función de los requisitos de tamaño y rendimiento (IOPS y rendimiento) especificados.</span><span class="sxs-lookup"><span data-stu-id="29e2f-160">Configures the data disks into a storage pool based on the specified size and performance (IOPS and throughput) requirements.</span></span>
* <span data-ttu-id="29e2f-161">Asocia el grupo de almacenamiento a una unidad nueva en la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="29e2f-161">Associates the storage pool with a new drive on the virtual machine.</span></span>

<span data-ttu-id="29e2f-162">Para más información sobre cómo Azure define la configuración del almacenamiento, consulte la sección [Configuración del almacenamiento](#storage-configuration).</span><span class="sxs-lookup"><span data-stu-id="29e2f-162">For further details on how Azure configures storage settings, see the [Storage configuration section](#storage-configuration).</span></span>

### <a name="add-a-new-drive"></a><span data-ttu-id="29e2f-163">Incorporación de una nueva unidad</span><span class="sxs-lookup"><span data-stu-id="29e2f-163">Add a new drive</span></span>
<span data-ttu-id="29e2f-164">Si ya ha configurado el almacenamiento en la máquina virtual de SQL Server, al expandirlo aparecen dos nuevas opciones.</span><span class="sxs-lookup"><span data-stu-id="29e2f-164">If you have already configured storage on your SQL Server VM, expanding storage brings up two new options.</span></span> <span data-ttu-id="29e2f-165">La primera opción es agregar una nueva unidad, lo que puede aumentar el nivel de rendimiento de la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="29e2f-165">The first option is to add a new drive, which can increase the performance level of your VM.</span></span>

![Incorporación de una nueva unidad a una máquina virtual de SQL](./media/virtual-machines-windows-sql-storage-configuration/sql-vm-storage-configuration-add-new-drive.png)

<span data-ttu-id="29e2f-167">Sin embargo, después de agregar la unidad, debe realizar una configuración manual adicional para conseguir el aumento del rendimiento.</span><span class="sxs-lookup"><span data-stu-id="29e2f-167">However, after adding the drive, you must perform some extra manual configuration to achieve the performance increase.</span></span>

### <a name="extend-the-drive"></a><span data-ttu-id="29e2f-168">Ampliación de la unidad</span><span class="sxs-lookup"><span data-stu-id="29e2f-168">Extend the drive</span></span>
<span data-ttu-id="29e2f-169">La otra opción para expandir el almacenamiento es ampliar la unidad existente.</span><span class="sxs-lookup"><span data-stu-id="29e2f-169">The other option for expanding storage is to extend the existing drive.</span></span> <span data-ttu-id="29e2f-170">Esta opción aumenta el almacenamiento disponible para la unidad, pero no mejora el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="29e2f-170">This option increases the available storage for your drive, but it does not increase performance.</span></span> <span data-ttu-id="29e2f-171">Con los grupos de almacenamiento, no se puede modificar el número de columnas una vez creado el grupo de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="29e2f-171">With storage pools, you cannot alter the number of columns after the storage pool is created.</span></span> <span data-ttu-id="29e2f-172">El número de columnas determina el número de escrituras en paralelo, que pueden distribuirse en los discos de datos.</span><span class="sxs-lookup"><span data-stu-id="29e2f-172">The number of columns determines the number of parallel writes, which can be striped across the data disks.</span></span> <span data-ttu-id="29e2f-173">Por lo tanto, los discos de datos agregados no pueden aumentar el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="29e2f-173">Therefore, any added data disks cannot increase performance.</span></span> <span data-ttu-id="29e2f-174">Solo pueden proporcionar más espacio de almacenamiento para los datos que se escriben.</span><span class="sxs-lookup"><span data-stu-id="29e2f-174">They can only provide more storage for the data being written.</span></span> <span data-ttu-id="29e2f-175">Esta limitación también significa que, al ampliar la unidad, el número de columnas determina el número mínimo de discos de datos que se pueden agregar.</span><span class="sxs-lookup"><span data-stu-id="29e2f-175">This limitation also means that, when extending the drive, the number of columns determines the minimum number of data disks that you can add.</span></span> <span data-ttu-id="29e2f-176">Por tanto, si crea un grupo de almacenamiento con cuatro discos de datos, el número de columnas también es cuatro.</span><span class="sxs-lookup"><span data-stu-id="29e2f-176">So if you create a storage pool with four data disks, the number of columns is also four.</span></span> <span data-ttu-id="29e2f-177">Cada vez que amplíe el almacenamiento, debe agregar al menos cuatro discos de datos.</span><span class="sxs-lookup"><span data-stu-id="29e2f-177">Any time you extend the storage, you must add at least four data disks.</span></span>

![Ampliación de una unidad para una máquina virtual de SQL](./media/virtual-machines-windows-sql-storage-configuration/sql-vm-storage-extend-a-drive.png)

## <a name="storage-configuration"></a><span data-ttu-id="29e2f-179">Configuración de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="29e2f-179">Storage configuration</span></span>
<span data-ttu-id="29e2f-180">Esta sección proporciona una referencia para los cambios en la configuración del almacenamiento que Azure realiza automáticamente durante el aprovisionamiento de la máquina virtual de SQL o la configuración en el Portal de Azure.</span><span class="sxs-lookup"><span data-stu-id="29e2f-180">This section provides a reference for the storage configuration changes that Azure automatically performs during SQL VM provisioning or configuration in the Azure Portal.</span></span>

* <span data-ttu-id="29e2f-181">Si ha seleccionado menos de dos TB de almacenamiento para la máquina virtual, Azure no crea ningún grupo de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="29e2f-181">If you have selected fewer than two TBs of storage for your VM, Azure does not create a storage pool.</span></span>
* <span data-ttu-id="29e2f-182">Si ha seleccionado al menos dos TB de almacenamiento para la máquina virtual, Azure configura un grupo de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="29e2f-182">If you have selected at least two TBs of storage for your VM, Azure configures a storage pool.</span></span> <span data-ttu-id="29e2f-183">La siguiente sección de este tema proporciona los detalles de la configuración del grupo de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="29e2f-183">The next section of this topic provides the details of the storage pool configuration.</span></span>
* <span data-ttu-id="29e2f-184">La configuración automática del almacenamiento siempre utiliza discos de datos de [almacenamiento premium](../../../storage/common/storage-premium-storage.md) P30.</span><span class="sxs-lookup"><span data-stu-id="29e2f-184">Automatic storage configuration always uses [premium storage](../../../storage/common/storage-premium-storage.md) P30 data disks.</span></span> <span data-ttu-id="29e2f-185">En consecuencia, hay una asignación 1:1 entre el número de terabytes seleccionado y el número de discos de datos asociados a la máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="29e2f-185">Consequently, there is a 1:1 mapping between your selected number of Terabytes and the number of data disks attached to your VM.</span></span>

<span data-ttu-id="29e2f-186">Para más información, consulte la página [Storage pricing](https://azure.microsoft.com/pricing/details/storage) (Precios de almacenamiento) en la pestaña **Almacenamiento en disco** .</span><span class="sxs-lookup"><span data-stu-id="29e2f-186">For pricing information, see the [Storage pricing](https://azure.microsoft.com/pricing/details/storage) page on the **Disk Storage** tab.</span></span>

### <a name="creation-of-the-storage-pool"></a><span data-ttu-id="29e2f-187">Creación del grupo de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="29e2f-187">Creation of the storage pool</span></span>
<span data-ttu-id="29e2f-188">Azure usa la siguiente configuración para crear el grupo de almacenamiento en máquinas virtuales de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="29e2f-188">Azure uses the following settings to create the storage pool on SQL Server VMs.</span></span>

| <span data-ttu-id="29e2f-189">Configuración</span><span class="sxs-lookup"><span data-stu-id="29e2f-189">Setting</span></span> | <span data-ttu-id="29e2f-190">Valor</span><span class="sxs-lookup"><span data-stu-id="29e2f-190">Value</span></span> |
| --- | --- |
| <span data-ttu-id="29e2f-191">Stripe size (Tamaño de las franjas)</span><span class="sxs-lookup"><span data-stu-id="29e2f-191">Stripe size</span></span> |<span data-ttu-id="29e2f-192">256 KB (almacenamiento de datos); 64 KB (transaccional)</span><span class="sxs-lookup"><span data-stu-id="29e2f-192">256 KB (Data warehousing); 64 KB (Transactional)</span></span> |
| <span data-ttu-id="29e2f-193">Tamaños de disco</span><span class="sxs-lookup"><span data-stu-id="29e2f-193">Disk sizes</span></span> |<span data-ttu-id="29e2f-194">1 TB cada uno</span><span class="sxs-lookup"><span data-stu-id="29e2f-194">1 TB each</span></span> |
| <span data-ttu-id="29e2f-195">Memoria caché</span><span class="sxs-lookup"><span data-stu-id="29e2f-195">Cache</span></span> |<span data-ttu-id="29e2f-196">Lectura</span><span class="sxs-lookup"><span data-stu-id="29e2f-196">Read</span></span> |
| <span data-ttu-id="29e2f-197">Tamaño de la asignación</span><span class="sxs-lookup"><span data-stu-id="29e2f-197">Allocation size</span></span> |<span data-ttu-id="29e2f-198">Tamaño de la unidad de asignación NTFS = 64 KB</span><span class="sxs-lookup"><span data-stu-id="29e2f-198">64 KB NTFS allocation unit size</span></span> |
| <span data-ttu-id="29e2f-199">Inicialización de archivo instantáneo</span><span class="sxs-lookup"><span data-stu-id="29e2f-199">Instant file initialization</span></span> |<span data-ttu-id="29e2f-200">Enabled</span><span class="sxs-lookup"><span data-stu-id="29e2f-200">Enabled</span></span> |
| <span data-ttu-id="29e2f-201">Bloquear páginas en memoria</span><span class="sxs-lookup"><span data-stu-id="29e2f-201">Lock pages in memory</span></span> |<span data-ttu-id="29e2f-202">Enabled</span><span class="sxs-lookup"><span data-stu-id="29e2f-202">Enabled</span></span> |
| <span data-ttu-id="29e2f-203">Recuperación</span><span class="sxs-lookup"><span data-stu-id="29e2f-203">Recovery</span></span> |<span data-ttu-id="29e2f-204">Recuperación simple (sin resistencia)</span><span class="sxs-lookup"><span data-stu-id="29e2f-204">Simple recovery (no resiliency)</span></span> |
| <span data-ttu-id="29e2f-205">Número de columnas</span><span class="sxs-lookup"><span data-stu-id="29e2f-205">Number of columns</span></span> |<span data-ttu-id="29e2f-206">Número de discos de datos<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="29e2f-206">Number of data disks<sup>1</sup></span></span> |
| <span data-ttu-id="29e2f-207">TempDB location (Ubicación de TempDB)</span><span class="sxs-lookup"><span data-stu-id="29e2f-207">TempDB location</span></span> |<span data-ttu-id="29e2f-208">Almacenada en discos de datos<sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="29e2f-208">Stored on data disks<sup>2</sup></span></span> |

<span data-ttu-id="29e2f-209"><sup>1</sup> después de crear el grupo de almacenamiento, no puede modificar el número de columnas en el grupo de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="29e2f-209"><sup>1</sup> After the storage pool is created, you cannot alter the number of columns in the storage pool.</span></span>

<span data-ttu-id="29e2f-210"><sup>2</sup> esta configuración solo se aplica a la primera unidad que se crea con la característica de configuración del almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="29e2f-210"><sup>2</sup> This setting only applies to the first drive you create using the storage configuration feature.</span></span>

## <a name="workload-optimization-settings"></a><span data-ttu-id="29e2f-211">Configuración de optimización de la carga de trabajo</span><span class="sxs-lookup"><span data-stu-id="29e2f-211">Workload optimization settings</span></span>
<span data-ttu-id="29e2f-212">En la tabla siguiente se describen las opciones de tres tipos de carga de trabajo disponibles y sus optimizaciones correspondientes:</span><span class="sxs-lookup"><span data-stu-id="29e2f-212">The following table describes the three workload type options available and their corresponding optimizations:</span></span>

| <span data-ttu-id="29e2f-213">Tipo de carga de trabajo</span><span class="sxs-lookup"><span data-stu-id="29e2f-213">Workload type</span></span> | <span data-ttu-id="29e2f-214">Description</span><span class="sxs-lookup"><span data-stu-id="29e2f-214">Description</span></span> | <span data-ttu-id="29e2f-215">Optimizaciones</span><span class="sxs-lookup"><span data-stu-id="29e2f-215">Optimizations</span></span> |
| --- | --- | --- |
| <span data-ttu-id="29e2f-216">**General**</span><span class="sxs-lookup"><span data-stu-id="29e2f-216">**General**</span></span> |<span data-ttu-id="29e2f-217">Configuración predeterminada que admite la mayoría de las cargas de trabajo</span><span class="sxs-lookup"><span data-stu-id="29e2f-217">Default setting that supports most workloads</span></span> |<span data-ttu-id="29e2f-218">None</span><span class="sxs-lookup"><span data-stu-id="29e2f-218">None</span></span> |
| <span data-ttu-id="29e2f-219">**Procesamiento transaccional**</span><span class="sxs-lookup"><span data-stu-id="29e2f-219">**Transactional processing**</span></span> |<span data-ttu-id="29e2f-220">Optimiza el almacenamiento para las cargas de trabajo OLTP de bases de datos tradicionales.</span><span class="sxs-lookup"><span data-stu-id="29e2f-220">Optimizes the storage for traditional database OLTP workloads</span></span> |<span data-ttu-id="29e2f-221">Marca de seguimiento 1117</span><span class="sxs-lookup"><span data-stu-id="29e2f-221">Trace Flag 1117</span></span><br/><span data-ttu-id="29e2f-222">Marca de seguimiento 1118</span><span class="sxs-lookup"><span data-stu-id="29e2f-222">Trace Flag 1118</span></span> |
| <span data-ttu-id="29e2f-223">**Almacenamiento de datos**</span><span class="sxs-lookup"><span data-stu-id="29e2f-223">**Data warehousing**</span></span> |<span data-ttu-id="29e2f-224">Optimiza el almacenamiento para las cargas de trabajo de informes y análisis.</span><span class="sxs-lookup"><span data-stu-id="29e2f-224">Optimizes the storage for analytic and reporting workloads</span></span> |<span data-ttu-id="29e2f-225">Marca de seguimiento 610</span><span class="sxs-lookup"><span data-stu-id="29e2f-225">Trace Flag 610</span></span><br/><span data-ttu-id="29e2f-226">Marca de seguimiento 1117</span><span class="sxs-lookup"><span data-stu-id="29e2f-226">Trace Flag 1117</span></span> |

> [!NOTE]
> <span data-ttu-id="29e2f-227">Solo puede especificar el tipo de carga de trabajo cuando se aprovisiona una máquina virtual de SQL; para ello, selecciónelo en el paso de configuración del almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="29e2f-227">You can only specify the workload type when you provision a SQL virtual machine by selecting it in the storage configuration step.</span></span>
>
>

## <a name="next-steps"></a><span data-ttu-id="29e2f-228">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="29e2f-228">Next steps</span></span>
<span data-ttu-id="29e2f-229">Para ver otros temas sobre la ejecución de SQL Server en las máquinas virtuales de Azure, consulte [SQL Server en máquinas virtuales de Azure](virtual-machines-windows-sql-server-iaas-overview.md).</span><span class="sxs-lookup"><span data-stu-id="29e2f-229">For other topics related to running SQL Server in Azure VMs, see [SQL Server on Azure Virtual Machines](virtual-machines-windows-sql-server-iaas-overview.md).</span></span>
