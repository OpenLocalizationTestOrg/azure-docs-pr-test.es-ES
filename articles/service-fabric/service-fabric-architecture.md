---
title: aaaArchitecture de Azure Service Fabric | Documentos de Microsoft
description: "Service Fabric es que una plataforma de sistemas distribuidos utiliza toobuild escalable, confiable y administrar con facilidad aplicaciones de nube Hola. Este artículo muestra la arquitectura de Hola de Service Fabric."
services: service-fabric
documentationcenter: .net
author: rishirsinha
manager: timlt
editor: rishirsinha
ms.assetid: 6b554243-70cb-4c22-9b28-1a8b4703f45e
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 04/19/2017
ms.author: rsinha
ms.openlocfilehash: 0268578094ad1a0010ef44ed940f828b985f6c40
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="service-fabric-architecture"></a><span data-ttu-id="b8281-104">Arquitectura de Service Fabric</span><span class="sxs-lookup"><span data-stu-id="b8281-104">Service Fabric architecture</span></span>
<span data-ttu-id="b8281-105">Service Fabric está construido con subsistemas en capas.</span><span class="sxs-lookup"><span data-stu-id="b8281-105">Service Fabric is built with layered subsystems.</span></span> <span data-ttu-id="b8281-106">Estos subsistemas le permiten aplicaciones toowrite que son:</span><span class="sxs-lookup"><span data-stu-id="b8281-106">These subsystems enable you toowrite applications that are:</span></span>

* <span data-ttu-id="b8281-107">Alta disponibilidad</span><span class="sxs-lookup"><span data-stu-id="b8281-107">Highly available</span></span>
* <span data-ttu-id="b8281-108">Escalable</span><span class="sxs-lookup"><span data-stu-id="b8281-108">Scalable</span></span>
* <span data-ttu-id="b8281-109">Capacidad de administración</span><span class="sxs-lookup"><span data-stu-id="b8281-109">Manageable</span></span>
* <span data-ttu-id="b8281-110">De prueba</span><span class="sxs-lookup"><span data-stu-id="b8281-110">Testable</span></span>

<span data-ttu-id="b8281-111">Hola siguiente diagrama muestra los principales subsistemas de Hola de Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="b8281-111">hello following diagram shows hello major subsystems of Service Fabric.</span></span>

![Diagrama de la arquitectura de Service Fabric](media/service-fabric-architecture/service-fabric-architecture.png)

<span data-ttu-id="b8281-113">En un sistema distribuido, Hola capacidad toosecurely comunicarse entre los nodos de un clúster es fundamental.</span><span class="sxs-lookup"><span data-stu-id="b8281-113">In a distributed system, hello ability toosecurely communicate between nodes in a cluster is crucial.</span></span> <span data-ttu-id="b8281-114">En hello base de pila de hello es subsistema de transporte de hello, que proporciona una comunicación segura entre los nodos.</span><span class="sxs-lookup"><span data-stu-id="b8281-114">At hello base of hello stack is hello transport subsystem, which provides secure communication between nodes.</span></span> <span data-ttu-id="b8281-115">Por encima de transporte de hello subsistema encuentra subsistema de federación de hello, cuáles clústeres Hola nodos diferentes en una única entidad (denominada clústeres) para que pueda detectar errores, realizar elecciones de relleno y proporcionar enrutamiento coherente Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="b8281-115">Above hello transport subsystem lies hello federation subsystem, which clusters hello different nodes into a single entity (named clusters) so that Service Fabric can detect failures, perform leader election, and provide consistent routing.</span></span> <span data-ttu-id="b8281-116">subsistema de confiabilidad de Hello, superpuesta subsistema de federación de hello, es responsable de la confiabilidad de hello de servicios de Service Fabric a través de mecanismos como la replicación y administración de recursos, conmutación por error.</span><span class="sxs-lookup"><span data-stu-id="b8281-116">hello reliability subsystem, layered on top of hello federation subsystem, is responsible for hello reliability of Service Fabric services through mechanisms such as replication, resource management, and failover.</span></span> <span data-ttu-id="b8281-117">subsistema de federación de Hello también subyace a subsistema alojamiento y activación de hello, que administra el ciclo de vida de Hola de una aplicación en un único nodo.</span><span class="sxs-lookup"><span data-stu-id="b8281-117">hello federation subsystem also underlies hello hosting and activation subsystem, which manages hello lifecycle of an application on a single node.</span></span> <span data-ttu-id="b8281-118">subsistema de administración de Hello administra Hola del ciclo de vida de aplicaciones y servicios.</span><span class="sxs-lookup"><span data-stu-id="b8281-118">hello management subsystem manages hello lifecycle of applications and services.</span></span> <span data-ttu-id="b8281-119">subsistema de capacidad de prueba de Hello ayuda a los desarrolladores de aplicaciones a probar sus servicios a través de errores simulados antes y después de implementar entornos tooproduction aplicaciones y servicios.</span><span class="sxs-lookup"><span data-stu-id="b8281-119">hello testability subsystem helps application developers test their services through simulated faults before and after deploying applications and services tooproduction environments.</span></span> <span data-ttu-id="b8281-120">Service Fabric proporciona capacidad de hello tooresolve ubicaciones de servicio a través de su subsistema de comunicaciones.</span><span class="sxs-lookup"><span data-stu-id="b8281-120">Service Fabric provides hello ability tooresolve service locations through its communication subsystem.</span></span> <span data-ttu-id="b8281-121">Hola modelos de programación de la aplicación toodevelopers expuestos se superpone a estos subsistemas junto con herramientas de tooenable de modelo de aplicación Hola.</span><span class="sxs-lookup"><span data-stu-id="b8281-121">hello application programming models exposed toodevelopers are layered on top of these subsystems along with hello application model tooenable tooling.</span></span>

## <a name="transport-subsystem"></a><span data-ttu-id="b8281-122">Subsistema de transporte</span><span class="sxs-lookup"><span data-stu-id="b8281-122">Transport subsystem</span></span>
<span data-ttu-id="b8281-123">subsistema de transporte de Hello implementa un canal de comunicación de datagramas punto a punto.</span><span class="sxs-lookup"><span data-stu-id="b8281-123">hello transport subsystem implements a point-to-point datagram communication channel.</span></span> <span data-ttu-id="b8281-124">Este canal se usa para la comunicación dentro de los clústeres de tejido de servicio y la comunicación entre clientes y el clúster de hello service fabric.</span><span class="sxs-lookup"><span data-stu-id="b8281-124">This channel is used for communication within service fabric clusters and communication between hello service fabric cluster and clients.</span></span> <span data-ttu-id="b8281-125">Admite unidireccional y patrones de comunicación de solicitud y respuesta, que proporciona la base de hello para la implementación de difusión y multidifusión en Hola capa de federación.</span><span class="sxs-lookup"><span data-stu-id="b8281-125">It supports one-way and request-reply communication patterns, which provides hello basis for implementing broadcast and multicast in hello Federation layer.</span></span> <span data-ttu-id="b8281-126">subsistema de transporte de Hello protege la comunicación mediante X509 certificados o la seguridad de Windows.</span><span class="sxs-lookup"><span data-stu-id="b8281-126">hello transport subsystem secures communication by using X509 certificates or Windows security.</span></span> <span data-ttu-id="b8281-127">Este subsistema utilizado internamente por Service Fabric y no es accesible directamente toodevelopers de programación de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="b8281-127">This subsystem is used internally by Service Fabric and is not directly accessible toodevelopers for application programming.</span></span>

## <a name="federation-subsystem"></a><span data-ttu-id="b8281-128">Subsistema de federación</span><span class="sxs-lookup"><span data-stu-id="b8281-128">Federation subsystem</span></span>
<span data-ttu-id="b8281-129">En orden tooreason sobre un conjunto de nodos en un sistema distribuido, debe toohave una vista coherente de sistema de Hola.</span><span class="sxs-lookup"><span data-stu-id="b8281-129">In order tooreason about a set of nodes in a distributed system, you need toohave a consistent view of hello system.</span></span> <span data-ttu-id="b8281-130">subsistema de federación de Hello usa a las primitivas de comunicación de hello proporcionadas por el subsistema de transporte de Hola y las pega Hola varios nodos en un clúster único y unificado que puede analizar.</span><span class="sxs-lookup"><span data-stu-id="b8281-130">hello federation subsystem uses hello communication primitives provided by hello transport subsystem and stitches hello various nodes into a single unified cluster that it can reason about.</span></span> <span data-ttu-id="b8281-131">Proporciona primitivas de sistemas distribuido de hello necesitan por Hola otros subsistemas: detección de errores, la elección de relleno y el enrutamiento coherente.</span><span class="sxs-lookup"><span data-stu-id="b8281-131">It provides hello distributed systems primitives needed by hello other subsystems - failure detection, leader election, and consistent routing.</span></span> <span data-ttu-id="b8281-132">subsistema de federación de Hola se basa en las tablas hash distribuida con un espacio de símbolo (token) de 128 bits.</span><span class="sxs-lookup"><span data-stu-id="b8281-132">hello federation subsystem is built on top of distributed hash tables with a 128-bit token space.</span></span> <span data-ttu-id="b8281-133">subsistema de Hello crea una topología en anillo en nodos de hello, donde cada nodo en anillo de hello está asignando un subconjunto del espacio de símbolo (token) de hello para la propiedad.</span><span class="sxs-lookup"><span data-stu-id="b8281-133">hello subsystem creates a ring topology over hello nodes, with each node in hello ring being allocated a subset of hello token space for ownership.</span></span> <span data-ttu-id="b8281-134">Para la detección de errores, capa de hello usa un mecanismo de concesiones en función de latido del corazón y arbitraje.</span><span class="sxs-lookup"><span data-stu-id="b8281-134">For failure detection, hello layer uses a leasing mechanism based on heart beating and arbitration.</span></span> <span data-ttu-id="b8281-135">subsistema de federación de Hello también garantiza a través de una combinación compleja y protocolos de salida que solo un único propietario de un símbolo (token) existe en cualquier momento.</span><span class="sxs-lookup"><span data-stu-id="b8281-135">hello federation subsystem also guarantees through intricate join and departure protocols that only a single owner of a token exists at any time.</span></span> <span data-ttu-id="b8281-136">Esto nos permite elegir al líder y ofrece garantías de enrutamiento coherentes.</span><span class="sxs-lookup"><span data-stu-id="b8281-136">This provides leader election and consistent routing guarantees.</span></span>

## <a name="reliability-subsystem"></a><span data-ttu-id="b8281-137">Subsistema de confiabilidad</span><span class="sxs-lookup"><span data-stu-id="b8281-137">Reliability subsystem</span></span>
<span data-ttu-id="b8281-138">Hello subsistema de confiabilidad proporciona el Hola mecanismo toomake Hola estado de un servicio de Service Fabric alta disponibilidad mediante el uso de Hola de hello *replicador*, *el Administrador de conmutación por error*, y  *Equilibrador de recursos*.</span><span class="sxs-lookup"><span data-stu-id="b8281-138">hello reliability subsystem provides hello mechanism toomake hello state of a Service Fabric service highly available through hello use of hello *Replicator*, *Failover Manager*, and *Resource Balancer*.</span></span>

* <span data-ttu-id="b8281-139">Hola replicador garantiza que los cambios de estado de réplica de servicio principal de hello automáticamente estará toosecondary replicada réplicas, mantener la coherencia entre las réplicas principales y secundarias de hello en un conjunto de réplicas de servicio.</span><span class="sxs-lookup"><span data-stu-id="b8281-139">hello Replicator ensures that state changes in hello primary service replica will automatically be replicated toosecondary replicas, maintaining consistency between hello primary and secondary replicas in a service replica set.</span></span> <span data-ttu-id="b8281-140">Replicador de Hello es responsable de la administración de quórum entre réplicas Hola Hola conjunto.</span><span class="sxs-lookup"><span data-stu-id="b8281-140">hello replicator is responsible for quorum management among hello replicas in hello replica set.</span></span> <span data-ttu-id="b8281-141">Interactúa con la lista hello tooget de unidad de conmutación por error de Hola de operaciones tooreplicate y agente de reconfiguración de Hola proporciona con la configuración de Hola de conjunto de réplicas de Hola.</span><span class="sxs-lookup"><span data-stu-id="b8281-141">It interacts with hello failover unit tooget hello list of operations tooreplicate, and hello reconfiguration agent provides it with hello configuration of hello replica set.</span></span> <span data-ttu-id="b8281-142">Dicha configuración indica qué operaciones de hello réplicas deben toobe replicado.</span><span class="sxs-lookup"><span data-stu-id="b8281-142">That configuration indicates which replicas hello operations need toobe replicated.</span></span> <span data-ttu-id="b8281-143">Service Fabric proporciona un replicador predeterminado denominado Replicador de tejido, que puede utilizarse por hello programación modelo API toomake Hola estado del servicio altamente disponible y confiable.</span><span class="sxs-lookup"><span data-stu-id="b8281-143">Service Fabric provides a default replicator called Fabric Replicator, which can be used by hello programming model API toomake hello service state highly available and reliable.</span></span>
* <span data-ttu-id="b8281-144">Hola, Administrador de conmutación por error garantiza que, cuando se agregan nodos tooor quitado clúster de hello, Hola carga se redistribuye automáticamente entre los nodos disponibles de Hola.</span><span class="sxs-lookup"><span data-stu-id="b8281-144">hello Failover Manager ensures that when nodes are added tooor removed from hello cluster, hello load is automatically redistributed across hello available nodes.</span></span> <span data-ttu-id="b8281-145">Si se produce un error en un nodo de clúster de hello, clúster de hello automáticamente volverá a configurar la disponibilidad de toomaintain de réplicas del servicio de Hola.</span><span class="sxs-lookup"><span data-stu-id="b8281-145">If a node in hello cluster fails, hello cluster will automatically reconfigure hello service replicas toomaintain availability.</span></span>
* <span data-ttu-id="b8281-146">Hola, Administrador de recursos coloca las réplicas de servicio a través de dominio de error en el clúster de Hola y garantiza que todas las unidades de conmutación por error están operativos.</span><span class="sxs-lookup"><span data-stu-id="b8281-146">hello Resource Manager places service replicas across failure domain in hello cluster and ensures that all failover units are operational.</span></span> <span data-ttu-id="b8281-147">Hola, Administrador de recursos también equilibra los recursos del servicio a través de hello subyacente grupo compartido de distribución de carga uniforme óptimo de tooachieve de nodos de clúster.</span><span class="sxs-lookup"><span data-stu-id="b8281-147">hello Resource Manager also balances service resources across hello underlying shared pool of cluster nodes tooachieve optimal uniform load distribution.</span></span>

## <a name="management-subsystem"></a><span data-ttu-id="b8281-148">Subsistema de administración</span><span class="sxs-lookup"><span data-stu-id="b8281-148">Management subsystem</span></span>
<span data-ttu-id="b8281-149">subsistema de administración de Hello proporciona service to-end y application lifecycle management.</span><span class="sxs-lookup"><span data-stu-id="b8281-149">hello management subsystem provides end-to-end service and application lifecycle management.</span></span> <span data-ttu-id="b8281-150">Cmdlets de PowerShell y las API administrativas permiten tooprovision, implementación, revisión, actualización y Desaprovisionamiento de aplicaciones sin pérdida de disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="b8281-150">PowerShell cmdlets and administrative APIs enable you tooprovision, deploy, patch, upgrade, and de-provision applications without loss of availability.</span></span> <span data-ttu-id="b8281-151">subsistema de administración de Hello Esto lleva a cabo a través de hello después servicios.</span><span class="sxs-lookup"><span data-stu-id="b8281-151">hello management subsystem performs this through hello following services.</span></span>

* <span data-ttu-id="b8281-152">**El Administrador de clústeres**: se trata de servicio principal de Hola que interactúa con el Administrador de conmutación por error de hello desde aplicaciones de hello tooplace de confiabilidad en los nodos de hello en función de las restricciones de posición del servicio de Hola.</span><span class="sxs-lookup"><span data-stu-id="b8281-152">**Cluster Manager**: This is hello primary service that interacts with hello Failover Manager from reliability tooplace hello applications on hello nodes based on hello service placement constraints.</span></span> <span data-ttu-id="b8281-153">Hola Administrador de recursos en el subsistema de conmutación por error garantiza que las restricciones de hello nunca se interrumpen.</span><span class="sxs-lookup"><span data-stu-id="b8281-153">hello Resource Manager in failover subsystem ensures that hello constraints are never broken.</span></span> <span data-ttu-id="b8281-154">el Administrador de clústeres Hola administra Hola del ciclo de vida de las aplicaciones de Hola de aprovisionar el aprovisionamiento toode.</span><span class="sxs-lookup"><span data-stu-id="b8281-154">hello cluster manager manages hello lifecycle of hello applications from provision toode-provision.</span></span> <span data-ttu-id="b8281-155">Se integra con tooensure de administrador de mantenimiento de Hola que disponibilidad de las aplicaciones no se pierden desde la perspectiva del mantenimiento semántica durante las actualizaciones.</span><span class="sxs-lookup"><span data-stu-id="b8281-155">It integrates with hello health manager tooensure that application availability is not lost from a semantic health perspective during upgrades.</span></span>
* <span data-ttu-id="b8281-156">**Administrador de estado**: este servicio habilita la supervisión del mantenimiento de aplicaciones, servicios y entidades de clúster.</span><span class="sxs-lookup"><span data-stu-id="b8281-156">**Health Manager**: This service enables health monitoring of applications, services, and cluster entities.</span></span> <span data-ttu-id="b8281-157">Las entidades del clúster (por ejemplo, nodos, las particiones de servicio y las réplicas) pueden notificar información de estado, que, a continuación, se agrega al almacén de estado centralizada Hola.</span><span class="sxs-lookup"><span data-stu-id="b8281-157">Cluster entities (such as nodes, service partitions, and replicas) can report health information, which is then aggregated into hello centralized health store.</span></span> <span data-ttu-id="b8281-158">Esta información de estado proporciona una instantánea de mantenimiento general en el momento de servicios de Hola y nodos que se distribuyen en varios nodos de clúster de hello, lo que le tootake las acciones correctivas necesarias.</span><span class="sxs-lookup"><span data-stu-id="b8281-158">This health information provides an overall point-in-time health snapshot of hello services and nodes distributed across multiple nodes in hello cluster, enabling you tootake any needed corrective actions.</span></span> <span data-ttu-id="b8281-159">Consulta de estado que API permiten que los eventos de estado de hello tooquery informó de subsistema de mantenimiento de toohello.</span><span class="sxs-lookup"><span data-stu-id="b8281-159">Health query APIs enable you tooquery hello health events reported toohello health subsystem.</span></span> <span data-ttu-id="b8281-160">API de consulta de estado de Hello devolver del almacén de datos de estado sin procesar de hello almacenados en el estado de Hola u Hola agregan, interpreta los datos de estado para una entidad de clúster concreto.</span><span class="sxs-lookup"><span data-stu-id="b8281-160">hello health query APIs return hello raw health data stored in hello health store or hello aggregated, interpreted health data for a specific cluster entity.</span></span>
* <span data-ttu-id="b8281-161">**Almacén de imágenes**: este servicio proporciona almacenamiento y la distribución de hello archivos binarios de aplicación.</span><span class="sxs-lookup"><span data-stu-id="b8281-161">**Image Store**: This service provides storage and distribution of hello application binaries.</span></span> <span data-ttu-id="b8281-162">Este servicio proporciona un almacén de archivos distribuido simple que las aplicaciones de hello son tooand cargado descargado desde.</span><span class="sxs-lookup"><span data-stu-id="b8281-162">This service provides a simple distributed file store where hello applications are uploaded tooand downloaded from.</span></span>

## <a name="hosting-subsystem"></a><span data-ttu-id="b8281-163">Subsistema de hospedaje</span><span class="sxs-lookup"><span data-stu-id="b8281-163">Hosting subsystem</span></span>
<span data-ttu-id="b8281-164">el Administrador de clústeres de Hello informa Hola hospedaje subsistema (que se ejecuta en cada nodo) y qué servicios necesita toomanage para un nodo determinado.</span><span class="sxs-lookup"><span data-stu-id="b8281-164">hello cluster manager informs hello hosting subsystem (running on each node) which services it needs toomanage for a particular node.</span></span> <span data-ttu-id="b8281-165">Hola hospedaje subsistema, a continuación, administra Hola del ciclo de vida de la aplicación hello en ese nodo.</span><span class="sxs-lookup"><span data-stu-id="b8281-165">hello hosting subsystem then manages hello lifecycle of hello application on that node.</span></span> <span data-ttu-id="b8281-166">Interactúa con hello el tooensure de componentes confiabilidad y el estado que las réplicas de Hola estén colocadas correctamente y que están en buen estadas.</span><span class="sxs-lookup"><span data-stu-id="b8281-166">It interacts with hello reliability and health components tooensure that hello replicas are properly placed and are healthy.</span></span>

## <a name="communication-subsystem"></a><span data-ttu-id="b8281-167">Subsistema de comunicación</span><span class="sxs-lookup"><span data-stu-id="b8281-167">Communication subsystem</span></span>
<span data-ttu-id="b8281-168">Este subsistema proporciona mensajería confiable de detección de clúster y el servicio de Hola a través del servicio de nomenclatura de Hola.</span><span class="sxs-lookup"><span data-stu-id="b8281-168">This subsystem provides reliable messaging within hello cluster and service discovery through hello Naming service.</span></span> <span data-ttu-id="b8281-169">Hola Naming service resuelve ubicación tooa nombres del servicio de clúster de Hola y permite propiedades y los nombres de servicio de toomanage de los usuarios.</span><span class="sxs-lookup"><span data-stu-id="b8281-169">hello Naming service resolves service names tooa location in hello cluster and enables users toomanage service names and properties.</span></span> <span data-ttu-id="b8281-170">Usar servicio de nomenclatura de hello, los clientes pueden segura comunicarse con cualquier nodo Hola clúster tooresolve un nombre de servicio y recuperar metadatos del servicio.</span><span class="sxs-lookup"><span data-stu-id="b8281-170">Using hello Naming service, clients can securely communicate with any node in hello cluster tooresolve a service name and retrieve service metadata.</span></span> <span data-ttu-id="b8281-171">Mediante una API de cliente de escribir el nombre simple, los usuarios de Service Fabric pueden desarrollar servicios y clientes capaces de resolver la ubicación de red actual de Hola a pesar de dinamismo de nodo u Hola volver a ajustar el tamaño de clúster de Hola.</span><span class="sxs-lookup"><span data-stu-id="b8281-171">Using a simple Naming client API, users of Service Fabric can develop services and clients capable of resolving hello current network location despite node dynamism or hello re-sizing of hello cluster.</span></span>

## <a name="testability-subsystem"></a><span data-ttu-id="b8281-172">Subsistema de capacidad de prueba</span><span class="sxs-lookup"><span data-stu-id="b8281-172">Testability subsystem</span></span>
<span data-ttu-id="b8281-173">La capacidad de prueba es un conjunto de herramientas diseñadas de manera específica para probar los servicios de pruebas basados en Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="b8281-173">Testability is a suite of tools specifically designed for testing services built on Service Fabric.</span></span> <span data-ttu-id="b8281-174">Hello herramientas permiten al desarrollador fácilmente inducir a errores significativos y ejecutar tooexercise de escenarios de prueba y validar Hola numerosos Estados y transiciones que experimentará un servicio a lo largo de su duración, en forma segura y controlada.</span><span class="sxs-lookup"><span data-stu-id="b8281-174">hello tools let a developer easily induce meaningful faults and run test scenarios tooexercise and validate hello numerous states and transitions that a service will experience throughout its lifetime, all in a controlled and safe manner.</span></span> <span data-ttu-id="b8281-175">Capacidad de prueba también proporciona un mecanismo toorun pruebas más largas que pueden iterar a través de varios posibles errores sin perder la disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="b8281-175">Testability also provides a mechanism toorun longer tests that can iterate through various possible failures without losing availability.</span></span> <span data-ttu-id="b8281-176">Esto le ofrece un entorno de producción en pruebas.</span><span class="sxs-lookup"><span data-stu-id="b8281-176">This provides you with a test-in-production environment.</span></span>

