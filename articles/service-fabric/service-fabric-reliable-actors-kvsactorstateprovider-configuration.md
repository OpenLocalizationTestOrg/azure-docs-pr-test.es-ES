---
title: "configuración de KVSActorStateProvider aaaChange en Azure microservicios | Documentos de Microsoft"
description: "Obtenga información sobre cómo configurar los actores con estado de Azure Service Fabric de tipo KVSActorStateProvider."
services: Service-Fabric
documentationcenter: .net
author: sumukhs
manager: timlt
editor: 
ms.assetid: dbed72f4-dda5-4287-bd56-da492710cd96
ms.service: Service-Fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 6/29/2017
ms.author: sumukhs
ms.openlocfilehash: e003512678556e68a8926b1b9c6c28d9ae3979d2
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="configuring-reliable-actors--kvsactorstateprovider"></a><span data-ttu-id="8b6ca-103">Configuración de Reliable Actors: KVSActorStateProvider</span><span class="sxs-lookup"><span data-stu-id="8b6ca-103">Configuring Reliable Actors--KVSActorStateProvider</span></span>
<span data-ttu-id="8b6ca-104">Puede modificar configuración predeterminada de Hola de KVSActorStateProvider cambiando hello settings.xml archivo que se genera en la raíz del paquete de Microsoft Visual Studio hello en carpeta de configuración de hello para el actor especificado Hola.</span><span class="sxs-lookup"><span data-stu-id="8b6ca-104">You can modify hello default configuration of KVSActorStateProvider by changing hello settings.xml file that is generated in hello Microsoft Visual Studio package root under hello Config folder for hello specified actor.</span></span>

<span data-ttu-id="8b6ca-105">en tiempo de ejecución de Hello Azure Service Fabric busca nombres de sección predefinida en el archivo de hello settings.xml y consume los valores de configuración de Hola durante la creación de hello subyacente componentes en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="8b6ca-105">hello Azure Service Fabric runtime looks for predefined section names in hello settings.xml file and consumes hello configuration values while creating hello underlying runtime components.</span></span>

> [!NOTE]
> <span data-ttu-id="8b6ca-106">Hacer **no** eliminar o modificar los nombres de sección de Hola de hello siguiendo configuraciones en el archivo settings.xml hello que se genera en hello solución de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="8b6ca-106">Do **not** delete or modify hello section names of hello following configurations in hello settings.xml file that is generated in hello Visual Studio solution.</span></span>
> 
> 

## <a name="replicator-security-configuration"></a><span data-ttu-id="8b6ca-107">Configuración de seguridad del replicador</span><span class="sxs-lookup"><span data-stu-id="8b6ca-107">Replicator security configuration</span></span>
<span data-ttu-id="8b6ca-108">Las configuraciones de seguridad de Replicador son canal de comunicación de hello toosecure utilizado que se usa durante la replicación.</span><span class="sxs-lookup"><span data-stu-id="8b6ca-108">Replicator security configurations are used toosecure hello communication channel that is used during replication.</span></span> <span data-ttu-id="8b6ca-109">Esto significa que los servicios no pueden ver sus respectivas tráfico de replicación, garantizar que los datos de Hola que ofrezca alta disponibilidad también están seguros.</span><span class="sxs-lookup"><span data-stu-id="8b6ca-109">This means that services cannot see each other's replication traffic, ensuring that hello data that is made highly available is also secure.</span></span>
<span data-ttu-id="8b6ca-110">De forma predeterminada, una sección de configuración de seguridad vacía impide la seguridad de la replicación.</span><span class="sxs-lookup"><span data-stu-id="8b6ca-110">By default, an empty security configuration section prevents replication security.</span></span>

### <a name="section-name"></a><span data-ttu-id="8b6ca-111">Nombre de sección</span><span class="sxs-lookup"><span data-stu-id="8b6ca-111">Section name</span></span>
<span data-ttu-id="8b6ca-112">&lt;ActorName&gt;ServiceReplicatorSecurityConfig</span><span class="sxs-lookup"><span data-stu-id="8b6ca-112">&lt;ActorName&gt;ServiceReplicatorSecurityConfig</span></span>

## <a name="replicator-configuration"></a><span data-ttu-id="8b6ca-113">Configuración de replicador</span><span class="sxs-lookup"><span data-stu-id="8b6ca-113">Replicator configuration</span></span>
<span data-ttu-id="8b6ca-114">Las configuraciones de Replicador configurar Replicador de Hola que se encarga de hacer que el estado del proveedor de estado de Actor Hola gran confiabilidad.</span><span class="sxs-lookup"><span data-stu-id="8b6ca-114">Replicator configurations configure hello replicator that is responsible for making hello Actor State Provider state highly reliable.</span></span>
<span data-ttu-id="8b6ca-115">configuración predeterminada de Hello generado por la plantilla de Visual Studio de Hola y debe ser suficiente.</span><span class="sxs-lookup"><span data-stu-id="8b6ca-115">hello default configuration is generated by hello Visual Studio template and should suffice.</span></span> <span data-ttu-id="8b6ca-116">Esta sección trata sobre las configuraciones adicionales que están disponibles tootune Replicador de Hola.</span><span class="sxs-lookup"><span data-stu-id="8b6ca-116">This section talks about additional configurations that are available tootune hello replicator.</span></span>

### <a name="section-name"></a><span data-ttu-id="8b6ca-117">Nombre de sección</span><span class="sxs-lookup"><span data-stu-id="8b6ca-117">Section name</span></span>
<span data-ttu-id="8b6ca-118">&lt;ActorName&gt;ServiceReplicatorConfig</span><span class="sxs-lookup"><span data-stu-id="8b6ca-118">&lt;ActorName&gt;ServiceReplicatorConfig</span></span>

### <a name="configuration-names"></a><span data-ttu-id="8b6ca-119">Nombres de configuración</span><span class="sxs-lookup"><span data-stu-id="8b6ca-119">Configuration names</span></span>
| <span data-ttu-id="8b6ca-120">Nombre</span><span class="sxs-lookup"><span data-stu-id="8b6ca-120">Name</span></span> | <span data-ttu-id="8b6ca-121">Unidad</span><span class="sxs-lookup"><span data-stu-id="8b6ca-121">Unit</span></span> | <span data-ttu-id="8b6ca-122">Valor predeterminado</span><span class="sxs-lookup"><span data-stu-id="8b6ca-122">Default value</span></span> | <span data-ttu-id="8b6ca-123">Comentarios</span><span class="sxs-lookup"><span data-stu-id="8b6ca-123">Remarks</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="8b6ca-124">BatchAcknowledgementInterval</span><span class="sxs-lookup"><span data-stu-id="8b6ca-124">BatchAcknowledgementInterval</span></span> |<span data-ttu-id="8b6ca-125">Segundos</span><span class="sxs-lookup"><span data-stu-id="8b6ca-125">Seconds</span></span> |<span data-ttu-id="8b6ca-126">0.015</span><span class="sxs-lookup"><span data-stu-id="8b6ca-126">0.015</span></span> |<span data-ttu-id="8b6ca-127">Período de tiempo para que Replicador de hello en espera secundaria de hello después de recibir una operación antes de devolver una confirmación toohello principal.</span><span class="sxs-lookup"><span data-stu-id="8b6ca-127">Time period for which hello replicator at hello secondary waits after receiving an operation before sending back an acknowledgement toohello primary.</span></span> <span data-ttu-id="8b6ca-128">Otro toobe de confirmaciones envía para las operaciones se procesan dentro de este intervalo se envían como una respuesta.</span><span class="sxs-lookup"><span data-stu-id="8b6ca-128">Any other acknowledgements toobe sent for operations processed within this interval are sent as one response.</span></span> |
| <span data-ttu-id="8b6ca-129">ReplicatorEndpoint</span><span class="sxs-lookup"><span data-stu-id="8b6ca-129">ReplicatorEndpoint</span></span> |<span data-ttu-id="8b6ca-130">N/D</span><span class="sxs-lookup"><span data-stu-id="8b6ca-130">N/A</span></span> |<span data-ttu-id="8b6ca-131">Ningún valor predeterminado: parámetro obligatorio</span><span class="sxs-lookup"><span data-stu-id="8b6ca-131">No default--required parameter</span></span> |<span data-ttu-id="8b6ca-132">Dirección IP y puerto que Hola principal/secundario replicador utilizará toocommunicate con otros replicadores Hola conjunto de réplica.</span><span class="sxs-lookup"><span data-stu-id="8b6ca-132">IP address and port that hello primary/secondary replicator will use toocommunicate with other replicators in hello replica set.</span></span> <span data-ttu-id="8b6ca-133">Esto debe hacer referencia a un punto de conexión del recurso TCP en el manifiesto del servicio Hola.</span><span class="sxs-lookup"><span data-stu-id="8b6ca-133">This should reference a TCP resource endpoint in hello service manifest.</span></span> <span data-ttu-id="8b6ca-134">Consulte demasiado[recursos del manifiestos de servicio](service-fabric-service-manifest-resources.md) tooread más acerca de cómo definir recursos de punto de conexión en el manifiesto del servicio Hola.</span><span class="sxs-lookup"><span data-stu-id="8b6ca-134">Refer too[Service manifest resources](service-fabric-service-manifest-resources.md) tooread more about defining endpoint resources in hello service manifest.</span></span> |
| <span data-ttu-id="8b6ca-135">RetryInterval</span><span class="sxs-lookup"><span data-stu-id="8b6ca-135">RetryInterval</span></span> |<span data-ttu-id="8b6ca-136">Segundos</span><span class="sxs-lookup"><span data-stu-id="8b6ca-136">Seconds</span></span> |<span data-ttu-id="8b6ca-137">5</span><span class="sxs-lookup"><span data-stu-id="8b6ca-137">5</span></span> |<span data-ttu-id="8b6ca-138">Período de tiempo después de que Replicador de hello volver a transmite un mensaje si no recibe una confirmación para una operación.</span><span class="sxs-lookup"><span data-stu-id="8b6ca-138">Time period after which hello replicator re-transmits a message if it does not receive an acknowledgement for an operation.</span></span> |
| <span data-ttu-id="8b6ca-139">MaxReplicationMessageSize</span><span class="sxs-lookup"><span data-stu-id="8b6ca-139">MaxReplicationMessageSize</span></span> |<span data-ttu-id="8b6ca-140">Bytes</span><span class="sxs-lookup"><span data-stu-id="8b6ca-140">Bytes</span></span> |<span data-ttu-id="8b6ca-141">50 MB</span><span class="sxs-lookup"><span data-stu-id="8b6ca-141">50 MB</span></span> |<span data-ttu-id="8b6ca-142">Tamaño máximo de los datos de replicación que se puede transmitir en un único mensaje.</span><span class="sxs-lookup"><span data-stu-id="8b6ca-142">Maximum size of replication data that can be transmitted in a single message.</span></span> |
| <span data-ttu-id="8b6ca-143">MaxPrimaryReplicationQueueSize</span><span class="sxs-lookup"><span data-stu-id="8b6ca-143">MaxPrimaryReplicationQueueSize</span></span> |<span data-ttu-id="8b6ca-144">Número de operaciones</span><span class="sxs-lookup"><span data-stu-id="8b6ca-144">Number of operations</span></span> |<span data-ttu-id="8b6ca-145">1024</span><span class="sxs-lookup"><span data-stu-id="8b6ca-145">1024</span></span> |<span data-ttu-id="8b6ca-146">Número máximo de operaciones en la cola principal Hola.</span><span class="sxs-lookup"><span data-stu-id="8b6ca-146">Maximum number of operations in hello primary queue.</span></span> <span data-ttu-id="8b6ca-147">Una operación se libera después de Replicador de hello principal recibe confirmación de todos los replicadores de hello secundaria.</span><span class="sxs-lookup"><span data-stu-id="8b6ca-147">An operation is freed up after hello primary replicator receives an acknowledgement from all hello secondary replicators.</span></span> <span data-ttu-id="8b6ca-148">Este valor debe ser mayor que 64 y una potencia de 2.</span><span class="sxs-lookup"><span data-stu-id="8b6ca-148">This value must be greater than 64 and a power of 2.</span></span> |
| <span data-ttu-id="8b6ca-149">MaxSecondaryReplicationQueueSize</span><span class="sxs-lookup"><span data-stu-id="8b6ca-149">MaxSecondaryReplicationQueueSize</span></span> |<span data-ttu-id="8b6ca-150">Número de operaciones</span><span class="sxs-lookup"><span data-stu-id="8b6ca-150">Number of operations</span></span> |<span data-ttu-id="8b6ca-151">2048</span><span class="sxs-lookup"><span data-stu-id="8b6ca-151">2048</span></span> |<span data-ttu-id="8b6ca-152">Número máximo de operaciones en la cola secundaria Hola.</span><span class="sxs-lookup"><span data-stu-id="8b6ca-152">Maximum number of operations in hello secondary queue.</span></span> <span data-ttu-id="8b6ca-153">Una operación se libera después de que su estado pase a ser de alta disponibilidad mediante persistencia.</span><span class="sxs-lookup"><span data-stu-id="8b6ca-153">An operation is freed up after making its state highly available through persistence.</span></span> <span data-ttu-id="8b6ca-154">Este valor debe ser mayor que 64 y una potencia de 2.</span><span class="sxs-lookup"><span data-stu-id="8b6ca-154">This value must be greater than 64 and a power of 2.</span></span> |

## <a name="store-configuration"></a><span data-ttu-id="8b6ca-155">Configuración de almacén</span><span class="sxs-lookup"><span data-stu-id="8b6ca-155">Store configuration</span></span>
<span data-ttu-id="8b6ca-156">Configuraciones de almacén son utilizados tooconfigure Hola almacén local que está en estado de hello toopersist utilizado que se está replicando.</span><span class="sxs-lookup"><span data-stu-id="8b6ca-156">Store configurations are used tooconfigure hello local store that is used toopersist hello state that is being replicated.</span></span>
<span data-ttu-id="8b6ca-157">configuración predeterminada de Hello generado por la plantilla de Visual Studio de Hola y debe ser suficiente.</span><span class="sxs-lookup"><span data-stu-id="8b6ca-157">hello default configuration is generated by hello Visual Studio template and should suffice.</span></span> <span data-ttu-id="8b6ca-158">En esta sección habla de las configuraciones adicionales que son almacén local de hello tootune disponible.</span><span class="sxs-lookup"><span data-stu-id="8b6ca-158">This section talks about additional configurations that are available tootune hello local store.</span></span>

### <a name="section-name"></a><span data-ttu-id="8b6ca-159">Nombre de sección</span><span class="sxs-lookup"><span data-stu-id="8b6ca-159">Section name</span></span>
<span data-ttu-id="8b6ca-160">&lt;ActorName&gt;ServiceLocalStoreConfig</span><span class="sxs-lookup"><span data-stu-id="8b6ca-160">&lt;ActorName&gt;ServiceLocalStoreConfig</span></span>

### <a name="configuration-names"></a><span data-ttu-id="8b6ca-161">Nombres de configuración</span><span class="sxs-lookup"><span data-stu-id="8b6ca-161">Configuration names</span></span>
| <span data-ttu-id="8b6ca-162">Nombre</span><span class="sxs-lookup"><span data-stu-id="8b6ca-162">Name</span></span> | <span data-ttu-id="8b6ca-163">Unidad</span><span class="sxs-lookup"><span data-stu-id="8b6ca-163">Unit</span></span> | <span data-ttu-id="8b6ca-164">Valor predeterminado</span><span class="sxs-lookup"><span data-stu-id="8b6ca-164">Default value</span></span> | <span data-ttu-id="8b6ca-165">Comentarios</span><span class="sxs-lookup"><span data-stu-id="8b6ca-165">Remarks</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="8b6ca-166">MaxAsyncCommitDelayInMilliseconds</span><span class="sxs-lookup"><span data-stu-id="8b6ca-166">MaxAsyncCommitDelayInMilliseconds</span></span> |<span data-ttu-id="8b6ca-167">Milisegundos</span><span class="sxs-lookup"><span data-stu-id="8b6ca-167">Milliseconds</span></span> |<span data-ttu-id="8b6ca-168">200</span><span class="sxs-lookup"><span data-stu-id="8b6ca-168">200</span></span> |<span data-ttu-id="8b6ca-169">Establece el máximo Hola intervalo para confirmaciones de almacén local duradero de procesamiento por lotes.</span><span class="sxs-lookup"><span data-stu-id="8b6ca-169">Sets hello maximum batching interval for durable local store commits.</span></span> |
| <span data-ttu-id="8b6ca-170">MaxVerPages</span><span class="sxs-lookup"><span data-stu-id="8b6ca-170">MaxVerPages</span></span> |<span data-ttu-id="8b6ca-171">Número de páginas</span><span class="sxs-lookup"><span data-stu-id="8b6ca-171">Number of pages</span></span> |<span data-ttu-id="8b6ca-172">16384</span><span class="sxs-lookup"><span data-stu-id="8b6ca-172">16384</span></span> |<span data-ttu-id="8b6ca-173">número máximo de Hola de páginas de versión en hello local almacena la base de datos.</span><span class="sxs-lookup"><span data-stu-id="8b6ca-173">hello maximum number of version pages in hello local store database.</span></span> <span data-ttu-id="8b6ca-174">Determina el número máximo de hello las transacciones pendientes.</span><span class="sxs-lookup"><span data-stu-id="8b6ca-174">It determines hello maximum number of outstanding transactions.</span></span> |

## <a name="sample-configuration-file"></a><span data-ttu-id="8b6ca-175">Archivo de configuración de ejemplo</span><span class="sxs-lookup"><span data-stu-id="8b6ca-175">Sample configuration file</span></span>
```xml
<?xml version="1.0" encoding="utf-8"?>
<Settings xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://schemas.microsoft.com/2011/01/fabric">
   <Section Name="MyActorServiceReplicatorConfig">
      <Parameter Name="ReplicatorEndpoint" Value="MyActorServiceReplicatorEndpoint" />
      <Parameter Name="BatchAcknowledgementInterval" Value="0.05"/>
   </Section>
   <Section Name="MyActorServiceLocalStoreConfig">
      <Parameter Name="MaxVerPages" Value="8192" />
   </Section>
   <Section Name="MyActorServiceReplicatorSecurityConfig">
      <Parameter Name="CredentialType" Value="X509" />
      <Parameter Name="FindType" Value="FindByThumbprint" />
      <Parameter Name="FindValue" Value="9d c9 06 b1 69 dc 4f af fd 16 97 ac 78 1e 80 67 90 74 9d 2f" />
      <Parameter Name="StoreLocation" Value="LocalMachine" />
      <Parameter Name="StoreName" Value="My" />
      <Parameter Name="ProtectionLevel" Value="EncryptAndSign" />
      <Parameter Name="AllowedCommonNames" Value="My-Test-SAN1-Alice,My-Test-SAN1-Bob" />
   </Section>
</Settings>
```
## <a name="remarks"></a><span data-ttu-id="8b6ca-176">Comentarios</span><span class="sxs-lookup"><span data-stu-id="8b6ca-176">Remarks</span></span>
<span data-ttu-id="8b6ca-177">parámetro de Hello BatchAcknowledgementInterval controla la latencia de replicación.</span><span class="sxs-lookup"><span data-stu-id="8b6ca-177">hello BatchAcknowledgementInterval parameter controls replication latency.</span></span> <span data-ttu-id="8b6ca-178">Un valor de '0' genera Hola menor latencia posible, costo de Hola de rendimiento (más mensajes de confirmación se deben enviar y procesar, que contiene menos confirmaciones).</span><span class="sxs-lookup"><span data-stu-id="8b6ca-178">A value of '0' results in hello lowest possible latency, at hello cost of throughput (as more acknowledgement messages must be sent and processed, each containing fewer acknowledgements).</span></span>
<span data-ttu-id="8b6ca-179">Hello mayor valor de Hola para BatchAcknowledgementInterval, Hola Hola superior general rendimiento de replicación, costo de Hola de mayor latencia de la operación.</span><span class="sxs-lookup"><span data-stu-id="8b6ca-179">hello larger hello value for BatchAcknowledgementInterval, hello higher hello overall replication throughput, at hello cost of higher operation latency.</span></span> <span data-ttu-id="8b6ca-180">Esto traduce directamente toohello latencia de confirmaciones de transacciones.</span><span class="sxs-lookup"><span data-stu-id="8b6ca-180">This directly translates toohello latency of transaction commits.</span></span>

