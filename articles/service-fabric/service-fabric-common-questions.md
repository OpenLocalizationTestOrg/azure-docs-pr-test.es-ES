---
title: aaaCommon preguntas acerca de Microsoft Azure Service Fabric | Documentos de Microsoft
description: "Preguntas más frecuentes acerca de Service Fabric y sus respuestas"
services: service-fabric
documentationcenter: .net
author: chackdan
manager: timlt
editor: 
ms.assetid: 5a179703-ff0c-4b8e-98cd-377253295d12
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/18/2017
ms.author: chackdan
ms.openlocfilehash: 4cbe92d2a03f7a1ea5d077807fdc982288220a7e
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="commonly-asked-service-fabric-questions"></a><span data-ttu-id="453de-103">Preguntas frecuentes sobre Service Fabric</span><span class="sxs-lookup"><span data-stu-id="453de-103">Commonly asked Service Fabric questions</span></span>

<span data-ttu-id="453de-104">Hay muchas preguntas que se plantean con frecuencia acerca de qué puede hacer Service Fabric y cómo se debe usar.</span><span class="sxs-lookup"><span data-stu-id="453de-104">There are many commonly asked questions about what Service Fabric can do and how it should be used.</span></span> <span data-ttu-id="453de-105">En este documento se incluyen muchas de esas preguntas y sus respuestas.</span><span class="sxs-lookup"><span data-stu-id="453de-105">This document covers many of those common questions and their answers.</span></span>

## <a name="cluster-setup-and-management"></a><span data-ttu-id="453de-106">Instalación y administración de clústeres</span><span class="sxs-lookup"><span data-stu-id="453de-106">Cluster setup and management</span></span>

### <a name="can-i-create-a-cluster-that-spans-multiple-azure-regions-or-my-own-datacenters"></a><span data-ttu-id="453de-107">¿Puedo crear un clúster que abarque varias regiones de Azure o mis propios centros de datos?</span><span class="sxs-lookup"><span data-stu-id="453de-107">Can I create a cluster that spans multiple Azure regions or my own datacenters?</span></span>

<span data-ttu-id="453de-108">Sí.</span><span class="sxs-lookup"><span data-stu-id="453de-108">Yes.</span></span> 

<span data-ttu-id="453de-109">núcleo de Hello tecnología de agrupación en clústeres de Service Fabric puede ser máquinas de toocombine usado ejecutando en ningún lugar de Hola a todos, siempre y cuando tienen red de conectividad tooeach otros.</span><span class="sxs-lookup"><span data-stu-id="453de-109">hello core Service Fabric clustering technology can be used toocombine machines running anywhere in hello world, so long as they have network connectivity tooeach other.</span></span> <span data-ttu-id="453de-110">Sin embargo, compilar y ejecutar clústeres de este tipo puede resultar complicado.</span><span class="sxs-lookup"><span data-stu-id="453de-110">However, building and running such a cluster can be complicated.</span></span>

<span data-ttu-id="453de-111">Si está interesado en este escenario, le recomendamos tooget en contacto a través de hello [lista de problemas de Service Fabric Github](https://github.com/azure/service-fabric-issues) o a través de su representante de soporte técnico en instrucciones adicionales de orden tooobtain.</span><span class="sxs-lookup"><span data-stu-id="453de-111">If you are interested in this scenario, we encourage you tooget in contact either through hello [Service Fabric Github Issues List](https://github.com/azure/service-fabric-issues) or through your support representative in order tooobtain additional guidance.</span></span> <span data-ttu-id="453de-112">equipo de Service Fabric Hola funciona una explicación adicional de tooprovide, instrucciones y recomendaciones para este escenario.</span><span class="sxs-lookup"><span data-stu-id="453de-112">hello Service Fabric team is working tooprovide additional clarity, guidance, and recommendations for this scenario.</span></span> 

<span data-ttu-id="453de-113">Algunos tooconsider cosas:</span><span class="sxs-lookup"><span data-stu-id="453de-113">Some things tooconsider:</span></span> 

1. <span data-ttu-id="453de-114">Hola recurso de clúster de Service Fabric en Azure hoy en día es regional, como son la escala de máquinas virtuales de hello establece ese clúster Hola se basa en.</span><span class="sxs-lookup"><span data-stu-id="453de-114">hello Service Fabric cluster resource in Azure is regional today, as are hello virtual machine scale sets that hello cluster is built on.</span></span> <span data-ttu-id="453de-115">Esto significa que en caso de hello de un error regional puede perder el clúster de hello capacidad toomanage Hola a través de hello Azure Resource Manager u Hola Portal de Azure.</span><span class="sxs-lookup"><span data-stu-id="453de-115">This means that in hello event of a regional failure you may lose hello ability toomanage hello cluster via hello Azure Resource Manager or hello Azure Portal.</span></span> <span data-ttu-id="453de-116">Esto puede ocurrir aunque clúster Hola sigue ejecutándose y se pueda toointeract con él directamente.</span><span class="sxs-lookup"><span data-stu-id="453de-116">This can happen even though hello cluster remains running and you'd be able toointeract with it directly.</span></span> <span data-ttu-id="453de-117">Además, Azure actualmente no ofrecen Hola capacidad toohave una única red virtual que se pueda usar en diferentes regiones.</span><span class="sxs-lookup"><span data-stu-id="453de-117">In addition, Azure today does not offer hello ability toohave a single virtual network that is usable across regions.</span></span> <span data-ttu-id="453de-118">Esto significa que un clúster de varias regiones de Azure necesita las palabras clave [direcciones IP públicas para cada máquina virtual de hello conjuntos de escalas de VM](../virtual-machine-scale-sets/virtual-machine-scale-sets-networking.md#public-ipv4-per-virtual-machine) o [puertas de enlace de VPN de Azure](../vpn-gateway/vpn-gateway-about-vpngateways.md).</span><span class="sxs-lookup"><span data-stu-id="453de-118">This means that a multi-region cluster in Azure requires either [Public IP Addresses for each VM in hello VM Scale Sets](../virtual-machine-scale-sets/virtual-machine-scale-sets-networking.md#public-ipv4-per-virtual-machine) or [Azure VPN Gateways](../vpn-gateway/vpn-gateway-about-vpngateways.md).</span></span> <span data-ttu-id="453de-119">Estas opciones de red tengan efectos diferentes en diseño de aplicaciones de grado de costos, rendimiento y toosome, por lo que se requiere un cuidadoso análisis y planeación antes preparado tal entorno.</span><span class="sxs-lookup"><span data-stu-id="453de-119">These networking choices have different impacts on costs, performance, and toosome degree application design, so careful analysis and planning is required before standing up such an environment.</span></span>
2. <span data-ttu-id="453de-120">Hello mantenimiento, administración y supervisión de estas máquinas pueden llegar a complicarse, especialmente cuando se distribuye en _tipos_ de entornos, por ejemplo, como entre diferentes proveedores de nube o entre recursos locales y Azure .</span><span class="sxs-lookup"><span data-stu-id="453de-120">hello maintenance, management, and monitoring of these machines can become complicated, especially when spanned across _types_ of environments, such as between different cloud providers or between on-premises resources and Azure.</span></span> <span data-ttu-id="453de-121">Se deben tener cuidado tooensure que actualiza, supervisión, administración y diagnóstico se entiende para clúster hello y aplicaciones de hello antes de ejecutar las cargas de trabajo de producción en un entorno de este tipo.</span><span class="sxs-lookup"><span data-stu-id="453de-121">Care must be taken tooensure that upgrades, monitoring, management, and diagnostics are understood for both hello cluster and hello applications before running production workloads in such an environment.</span></span> <span data-ttu-id="453de-122">Si ya tiene amplia experiencia en la resolución de estos problemas en Azure o dentro de sus propios centros de datos, es probable que esas mismas soluciones que utiliza se puedan aplicar al crear o ejecutar el clúster de Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="453de-122">If you already have lots of experience solving these problems in Azure or within your own datacenters, then it is likely that those same solutions can be applied when building out or running your Service Fabric cluster.</span></span> 

### <a name="do-service-fabric-nodes-automatically-receive-os-updates"></a><span data-ttu-id="453de-123">¿Los nodos de Service Fabric reciben automáticamente actualizaciones del sistema operativo?</span><span class="sxs-lookup"><span data-stu-id="453de-123">Do Service Fabric nodes automatically receive OS updates?</span></span>

<span data-ttu-id="453de-124">No en la actualidad, pero también es una solicitud común que Azure pretende toodeliver.</span><span class="sxs-lookup"><span data-stu-id="453de-124">Not today, but this is also a common request that Azure intends toodeliver.</span></span>

<span data-ttu-id="453de-125">Hola provisional, tenemos [proporciona una aplicación](service-fabric-patch-orchestration-application.md) que los sistemas operativos de hello debajo de los nodos de Service Fabric permanezcan revisado y seguridad toodate.</span><span class="sxs-lookup"><span data-stu-id="453de-125">In hello interim, we have [provided an application](service-fabric-patch-orchestration-application.md) that hello operating systems underneath your Service Fabric nodes stay patched and up toodate.</span></span>

<span data-ttu-id="453de-126">desafío de Hello con actualizaciones del sistema operativo es que normalmente requiere un reinicio de máquina de hello, lo que resulta en pérdida de disponibilidad temporal.</span><span class="sxs-lookup"><span data-stu-id="453de-126">hello challenge with OS updates is that they typically require a reboot of hello machine, which results in temporary availability loss.</span></span> <span data-ttu-id="453de-127">Por sí mismo, que no es un problema, puesto que Service Fabric le redirigirá automáticamente el tráfico a los nodos de tooother de servicios.</span><span class="sxs-lookup"><span data-stu-id="453de-127">By itself, that is not a problem, since Service Fabric will automatically redirect traffic for those services tooother nodes.</span></span> <span data-ttu-id="453de-128">Sin embargo, si no se coordinan actualizaciones del sistema operativo en el clúster de hello, hay posibilidad de Hola que muchos nodos dejan de funcionar a la vez.</span><span class="sxs-lookup"><span data-stu-id="453de-128">However, if OS updates are not coordinated across hello cluster, there is hello potential that many nodes go down at once.</span></span> <span data-ttu-id="453de-129">Estos reinicios simultáneos pueden provocar la pérdida de disponibilidad completa para un servicio, o por lo menos para una partición específica (para un servicio con estado).</span><span class="sxs-lookup"><span data-stu-id="453de-129">Such simultaneous reboots can cause complete availability loss for a service, or at least for a specific partition (for a stateful service).</span></span>

<span data-ttu-id="453de-130">Hola futura, tenemos previsto directiva de actualización de toosupport un sistema operativo que está totalmente automatizada y coordinada entre dominios de actualización, asegurándose de que se mantiene la disponibilidad a pesar de los reinicios y otros errores inesperados.</span><span class="sxs-lookup"><span data-stu-id="453de-130">In hello future, we plan toosupport an OS update policy that is fully automated and coordinated across update domains, ensuring that availability is maintained despite reboots and other unexpected failures.</span></span>

### <a name="can-i-use-large-virtual-machine-scale-sets-in-my-sf-cluster"></a><span data-ttu-id="453de-131">¿Puedo usar conjuntos de escalado grandes de máquinas virtuales en el clúster SF?</span><span class="sxs-lookup"><span data-stu-id="453de-131">Can I use Large Virtual Machine Scale Sets in my SF cluster?</span></span> 

<span data-ttu-id="453de-132">**Respuesta corta**: no.</span><span class="sxs-lookup"><span data-stu-id="453de-132">**Short answer** - No.</span></span> 

<span data-ttu-id="453de-133">**Responder a la larga** : aunque Hola grandes conjuntos de escalas de máquina Virtual le permiten tooscale una escala de máquinas virtuales establece hasta 1000 instancias de máquina virtual, lo hace mediante el uso de Hola de grupos de selección de ubicación (documento).</span><span class="sxs-lookup"><span data-stu-id="453de-133">**Long Answer** - Although hello Large Virtual Machine Scale Sets allow you tooscale a virtual machine scale set upto 1000 VM instances, it does so by hello use of Placement Groups (PGs).</span></span> <span data-ttu-id="453de-134">Dominios de error (FD) y dominios de actualización (ud) solo son coherentes en un tejido de servicio de selección de ubicación grupo utiliza FD y ud toomake decisiones de selección de ubicación de las instancias de servicio/réplicas de servicio.</span><span class="sxs-lookup"><span data-stu-id="453de-134">Fault domains (FDs) and upgrade domains (UDs) are only consistent within a placement group Service fabric uses FDs and UDs toomake placement decisions of your service replicas/Service instances.</span></span> <span data-ttu-id="453de-135">Puesto que FD hello y ud es comparables solo dentro de un grupo de selección de ubicación SF no puede usarlo.</span><span class="sxs-lookup"><span data-stu-id="453de-135">Since hello FDs  and UDs are comparable only within a placement group SF cannot use it.</span></span> <span data-ttu-id="453de-136">Por ejemplo, si VM1 en PG1 tiene una topología de FD = 0 y VM9 en PG2 tiene una topología de FD = 4, no significa que VM1 y VM2 se encuentran en dos diferentes bastidores de Hardware, por lo tanto, SF no puede utilizar valores de hello FD este decisiones de selección de ubicación toomake mayúsculas.</span><span class="sxs-lookup"><span data-stu-id="453de-136">For example, If VM1 in PG1 has a topology of FD=0 and VM9 in PG2 has a topology of FD=4 , it does not mean that VM1 and VM2 are on two different Hardware Racks, hence SF cannot use hello FD values in this case toomake placement decisions.</span></span>

<span data-ttu-id="453de-137">Hay otros problemas con conjuntos de escalas de máquina virtual grande, como la compatibilidad de equilibrio de carga de falta de Hola de nivel 4.</span><span class="sxs-lookup"><span data-stu-id="453de-137">There are other issues with Large virtual machine scale sets currently, like hello lack of level-4 Load balancing support.</span></span> <span data-ttu-id="453de-138">Consulte toofor [obtener más información sobre grande escala conjuntos](../virtual-machine-scale-sets/virtual-machine-scale-sets-placement-groups.md)</span><span class="sxs-lookup"><span data-stu-id="453de-138">Refer toofor [details on Large scale sets](../virtual-machine-scale-sets/virtual-machine-scale-sets-placement-groups.md)</span></span>



### <a name="what-is-hello-minimum-size-of-a-service-fabric-cluster-why-cant-it-be-smaller"></a><span data-ttu-id="453de-139">¿Cuál es el tamaño mínimo de Hola de un clúster de Service Fabric?</span><span class="sxs-lookup"><span data-stu-id="453de-139">What is hello minimum size of a Service Fabric cluster?</span></span> <span data-ttu-id="453de-140">¿Por qué no puede ser menor?</span><span class="sxs-lookup"><span data-stu-id="453de-140">Why can't it be smaller?</span></span>

<span data-ttu-id="453de-141">tamaño mínimo de admitido Hola para un clúster de Service Fabric ejecutan cargas de trabajo de producción es cinco nodos.</span><span class="sxs-lookup"><span data-stu-id="453de-141">hello minimum supported size for a Service Fabric cluster running production workloads is five nodes.</span></span> <span data-ttu-id="453de-142">Para escenarios de desarrollo y prueba, se admiten los nodos de tres clústeres.</span><span class="sxs-lookup"><span data-stu-id="453de-142">For dev/test scenarios, we support three node clusters.</span></span>

<span data-ttu-id="453de-143">Estos mínimos existen como clúster de Service Fabric Hola ejecuta un conjunto de servicios del sistema con estado, incluido el servicio de nomenclatura de Hola y el Administrador de conmutación por error de Hola.</span><span class="sxs-lookup"><span data-stu-id="453de-143">These minimums exist because hello Service Fabric cluster runs a set of stateful system services, including hello naming service and hello failover manager.</span></span> <span data-ttu-id="453de-144">Estos servicios, que realizar un seguimiento de servicios que han sido implementados toohello clúster y donde se aloja actualmente, dependen de homogeneidad.</span><span class="sxs-lookup"><span data-stu-id="453de-144">These services, which track what services have been deployed toohello cluster and where they're currently hosted, depend on strong consistency.</span></span> <span data-ttu-id="453de-145">Esa coherencia fuerte, a su vez, depende de hello capacidad tooacquire una *quórum* para una actualización determinada toohello estado de esos servicios, donde un quórum representa una mayoría estricta de réplicas de hello (N/2 + 1) para un servicio determinado.</span><span class="sxs-lookup"><span data-stu-id="453de-145">That strong consistency, in turn, depends on hello ability tooacquire a *quorum* for any given update toohello state of those services, where a quorum represents a strict majority of hello replicas (N/2 +1) for a given service.</span></span>

<span data-ttu-id="453de-146">Con esta información, examinemos algunas posibles configuraciones de clúster:</span><span class="sxs-lookup"><span data-stu-id="453de-146">With that background, let's examine some possible cluster configurations:</span></span>

<span data-ttu-id="453de-147">**Un nodo**: esta opción no proporciona alta disponibilidad dado que la pérdida de Hola de nodo único de Hola por cualquier motivo significa pérdida de Hola de clúster completo Hola.</span><span class="sxs-lookup"><span data-stu-id="453de-147">**One node**: this option does not provide high availability since hello loss of hello single node for any reason means hello loss of hello entire cluster.</span></span>

<span data-ttu-id="453de-148">**Dos nodos**: un cuórum para un servicio implementado en dos nodos (N = 2) is 2 (2/2 + 1 = 2).</span><span class="sxs-lookup"><span data-stu-id="453de-148">**Two nodes**: a quorum for a service deployed across two nodes (N = 2) is 2 (2/2 + 1 = 2).</span></span> <span data-ttu-id="453de-149">Cuando se pierde una única réplica, resulta imposible toocreate un quórum.</span><span class="sxs-lookup"><span data-stu-id="453de-149">When a single replica is lost, it is impossible toocreate a quorum.</span></span> <span data-ttu-id="453de-150">Teniendo en cuenta que realizar una actualización del servicio requiere desconectar una réplica, esta no es una configuración útil.</span><span class="sxs-lookup"><span data-stu-id="453de-150">Since performing a service upgrade requires temporarily taking down a replica, this is not a useful configuration.</span></span>

<span data-ttu-id="453de-151">**Tres nodos**: con tres nodos (N = 3), Hola requisito toocreate un quórum sigue siendo dos nodos (3/2 + 1 = 2).</span><span class="sxs-lookup"><span data-stu-id="453de-151">**Three nodes**: with three nodes (N=3), hello requirement toocreate a quorum is still two nodes (3/2 + 1 = 2).</span></span> <span data-ttu-id="453de-152">Esto significa que se puede perder un solo nodo y continuar manteniendo el cuórum.</span><span class="sxs-lookup"><span data-stu-id="453de-152">This means that you can lose an individual node and still maintain quorum.</span></span>

<span data-ttu-id="453de-153">configuración del clúster de tres nodos de Hello es compatible con desarrollo/pruebas porque puede realizar las actualizaciones y sobreviven a errores en los nodos individuales, siempre y cuando no realizan de manera simultánea.</span><span class="sxs-lookup"><span data-stu-id="453de-153">hello three node cluster configuration is supported for dev/test because you can safely perform upgrades and survive individual node failures, as long as they don't happen simultaneously.</span></span> <span data-ttu-id="453de-154">Para las cargas de trabajo de producción, debe ser resistente toosuch un error simultáneo, por lo que se requieren cinco nodos.</span><span class="sxs-lookup"><span data-stu-id="453de-154">For production workloads, you must be resilient toosuch a simultaneous failure, so five nodes are required.</span></span>

### <a name="can-i-turn-off-my-cluster-at-nightweekends-toosave-costs"></a><span data-ttu-id="453de-155">¿Puedo desactivar el clúster en los costos de toosave de noche/fines de semana?</span><span class="sxs-lookup"><span data-stu-id="453de-155">Can I turn off my cluster at night/weekends toosave costs?</span></span>

<span data-ttu-id="453de-156">En general, no.</span><span class="sxs-lookup"><span data-stu-id="453de-156">In general, no.</span></span> <span data-ttu-id="453de-157">Service Fabric almacena el estado de los discos locales efímeros, lo que significa que si máquina virtual de hello es tooa movida otro host, Hola datos no se mueven con él.</span><span class="sxs-lookup"><span data-stu-id="453de-157">Service Fabric stores state on local, ephemeral disks, meaning that if hello virtual machine is moved tooa different host, hello data does not move with it.</span></span> <span data-ttu-id="453de-158">Durante el funcionamiento normal, que no es un problema como nuevo nodo de Hola se plantea toodate otros nodos.</span><span class="sxs-lookup"><span data-stu-id="453de-158">In normal operation, that is not a problem as hello new node is brought up toodate by other nodes.</span></span> <span data-ttu-id="453de-159">Sin embargo, si detiene todos los nodos y reiniciarlas una vez más adelante, hay una posibilidad significativa que la mayoría de nodos de hello inicia en nuevos hosts y realizar Hola sistema no se puede toorecover.</span><span class="sxs-lookup"><span data-stu-id="453de-159">However, if you stop all nodes and restart them later, there is a significant possibility that most of hello nodes start on new hosts and make hello system unable toorecover.</span></span>

<span data-ttu-id="453de-160">Si desea que los clústeres de toocreate para probar la aplicación antes de implementarla, le recomendamos que cree dinámicamente esos clústeres como parte de su [canalización de implementación continua/integración continua](service-fabric-set-up-continuous-integration.md).</span><span class="sxs-lookup"><span data-stu-id="453de-160">If you would like toocreate clusters for testing your application before it is deployed, we recommend that you dynamically create those clusters as part of your [continuous integration/continuous deployment pipeline](service-fabric-set-up-continuous-integration.md).</span></span>


### <a name="how-do-i-upgrade-my-operating-system-for-example-from-windows-server-2012-toowindows-server-2016"></a><span data-ttu-id="453de-161">¿Cómo puedo actualizar mi sistema operativo (por ejemplo, de Windows Server 2012 tooWindows Server 2016)?</span><span class="sxs-lookup"><span data-stu-id="453de-161">How do I upgrade my Operating System (for example from Windows Server 2012 tooWindows Server 2016)?</span></span>

<span data-ttu-id="453de-162">Mientras estamos trabajando en una experiencia mejorada, en la actualidad, usted es responsable de la actualización de Hola.</span><span class="sxs-lookup"><span data-stu-id="453de-162">While we're working on an improved experience, today, you are responsible for hello upgrade.</span></span> <span data-ttu-id="453de-163">Debe actualizar la imagen de SO de hello en hello una máquina virtual de clúster de máquinas virtuales de Hola a la vez.</span><span class="sxs-lookup"><span data-stu-id="453de-163">You must upgrade hello OS image on hello virtual machines of hello cluster one VM at a time.</span></span> 

## <a name="container-support"></a><span data-ttu-id="453de-164">Compatibilidad con contenedores</span><span class="sxs-lookup"><span data-stu-id="453de-164">Container Support</span></span>

### <a name="why-are-my-containers-that-are-deployed-toosf-unable-tooresolve-dns-addresses"></a><span data-ttu-id="453de-165">¿Por qué mi contenedores tooSF implementado no se puede tooresolve DNS direcciones?</span><span class="sxs-lookup"><span data-stu-id="453de-165">Why are my containers that are deployed tooSF unable tooresolve DNS addresses?</span></span>

<span data-ttu-id="453de-166">Este problema se ha informado en los clústeres de la versión 5.6.204.9494</span><span class="sxs-lookup"><span data-stu-id="453de-166">This issue has been reported on clusters that are on 5.6.204.9494 version</span></span> 

<span data-ttu-id="453de-167">**Mitigación** : siga [este documento](service-fabric-dnsservice.md) tooenable Hola DNS de servicio servicio de fabric en el clúster.</span><span class="sxs-lookup"><span data-stu-id="453de-167">**Mitigation** :  Follow [this document](service-fabric-dnsservice.md) tooenable hello DNS service fabric service in your cluster.</span></span>

<span data-ttu-id="453de-168">**Corregir** : tooa actualización admitida la versión de clúster que sea mayor de 5.6.204.9494, cuando esté disponible.</span><span class="sxs-lookup"><span data-stu-id="453de-168">**Fix** :  Upgrade tooa supported cluster version that is higher than 5.6.204.9494, when it is available.</span></span> <span data-ttu-id="453de-169">Si el clúster se establece tooautomatic actualizaciones, clúster de Hola actualizará automáticamente versión toohello que tiene este problema fijo.</span><span class="sxs-lookup"><span data-stu-id="453de-169">If your cluster is set tooautomatic upgrades, then hello cluster will automatically upgrade toohello version that has this issue fixed.</span></span>

  
## <a name="application-design"></a><span data-ttu-id="453de-170">Diseño de aplicaciones</span><span class="sxs-lookup"><span data-stu-id="453de-170">Application Design</span></span>

### <a name="whats-hello-best-way-tooquery-data-across-partitions-of-a-reliable-collection"></a><span data-ttu-id="453de-171">¿Qué es Hola mejor forma tooquery que los datos en particiones de una colección de confianza?</span><span class="sxs-lookup"><span data-stu-id="453de-171">What's hello best way tooquery data across partitions of a Reliable Collection?</span></span>

<span data-ttu-id="453de-172">Suelen ser colecciones confiables [con particiones](service-fabric-concepts-partitioning.md) tooenable escalada de mayor rendimiento y la capacidad.</span><span class="sxs-lookup"><span data-stu-id="453de-172">Reliable collections are typically [partitioned](service-fabric-concepts-partitioning.md) tooenable scale out for greater performance and throughput.</span></span> <span data-ttu-id="453de-173">Esto significa que el estado de Hola para un servicio determinado puede estar repartido por 10s o 100s de máquinas.</span><span class="sxs-lookup"><span data-stu-id="453de-173">That means that hello state for a given service may be spread across 10s or 100s of machines.</span></span> <span data-ttu-id="453de-174">operaciones de tooperform a través de ese conjunto de datos completo, tiene algunas opciones:</span><span class="sxs-lookup"><span data-stu-id="453de-174">tooperform operations over that full data set, you have a few options:</span></span>

- <span data-ttu-id="453de-175">Crear un servicio que realiza consultas en todas las particiones de otro toopull de servicio en los datos de hello necesario.</span><span class="sxs-lookup"><span data-stu-id="453de-175">Create a service that queries all partitions of another service toopull in hello required data.</span></span>
- <span data-ttu-id="453de-176">Crear un servicio que puede recibir datos de todas las particiones de otro servicio.</span><span class="sxs-lookup"><span data-stu-id="453de-176">Create a service that can receive data from all partitions of another service.</span></span>
- <span data-ttu-id="453de-177">Insertar periódicamente los datos de cada almacén externo tooan del servicio.</span><span class="sxs-lookup"><span data-stu-id="453de-177">Periodically push data from each service tooan external store.</span></span> <span data-ttu-id="453de-178">Este método solo es adecuado si va a realizar una de las consultas de hello no forman parte de la lógica de negocios básica.</span><span class="sxs-lookup"><span data-stu-id="453de-178">This approach is only appropriate if hello queries you're performing are not part of your core business logic.</span></span>


### <a name="whats-hello-best-way-tooquery-data-across-my-actors"></a><span data-ttu-id="453de-179">¿Qué es Hola mejor forma tooquery que los datos a través de mi actores?</span><span class="sxs-lookup"><span data-stu-id="453de-179">What's hello best way tooquery data across my actors?</span></span>

<span data-ttu-id="453de-180">Actores están diseñadas toobe unidades independientes del estado y proceso, por lo que no es recomienda tooperform extensas consultas de estado de actor en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="453de-180">Actors are designed toobe independent units of state and compute, so it is not recommended tooperform broad queries of actor state at runtime.</span></span> <span data-ttu-id="453de-181">Si tiene una necesidad tooquery en el conjunto completo de Hola de estado de actor, debe considerar ya sea:</span><span class="sxs-lookup"><span data-stu-id="453de-181">If you have a need tooquery across hello full set of actor state, you should consider either:</span></span>

- <span data-ttu-id="453de-182">Reemplazar los servicios de actor con los servicios de confianza con estado, tal que el número de Hola de red solicita toogather todos los datos de número de hello toohello de actores de particiones en el servicio.</span><span class="sxs-lookup"><span data-stu-id="453de-182">Replacing your actor services with stateful reliable services, such that hello number of network requests toogather all data from hello number of actors toohello number of partitions in your service.</span></span>
- <span data-ttu-id="453de-183">Diseñar la inserción de tooperiodically actores en su almacén externo tooan de estado para consultar más fácil.</span><span class="sxs-lookup"><span data-stu-id="453de-183">Designing your actors tooperiodically push their state tooan external store for easier querying.</span></span> <span data-ttu-id="453de-184">Como anteriormente, este método sólo es viable si las consultas de Hola que se va a realizar no son necesarias para su comportamiento en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="453de-184">As above, this approach is only viable if hello queries you're performing are not required for your runtime behavior.</span></span>

### <a name="how-much-data-can-i-store-in-a-reliable-collection"></a><span data-ttu-id="453de-185">¿Qué cantidad de datos puedo almacenar en una instancia de Reliable Collection?</span><span class="sxs-lookup"><span data-stu-id="453de-185">How much data can I store in a Reliable Collection?</span></span>

<span data-ttu-id="453de-186">Servicios de confianza normalmente tienen particiones, por lo que cantidad Hola que puede almacenar solo está limitado por número de Hola de máquinas que tienen en clúster de Hola y Hola mucha memoria disponible en los equipos.</span><span class="sxs-lookup"><span data-stu-id="453de-186">Reliable services are typically partitioned, so hello amount you can store is only limited by hello number of machines you have in hello cluster, and hello amount of memory available on those machines.</span></span>

<span data-ttu-id="453de-187">Por ejemplo, suponga que tiene una colección confiable de un servicio con 100 particiones y 3 réplicas, en donde se almacenan objetos que tienen un tamaño medio de 1 kB.</span><span class="sxs-lookup"><span data-stu-id="453de-187">As an example, suppose that you have a reliable collection in a service with 100 partitions and 3 replicas, storing objects that average 1kb in size.</span></span> <span data-ttu-id="453de-188">Ahora suponga que tiene un clúster de 10 máquinas con 16 GB de memoria por máquina.</span><span class="sxs-lookup"><span data-stu-id="453de-188">Now suppose that you have a 10 machine cluster with 16gb of memory per machine.</span></span> <span data-ttu-id="453de-189">Para mayor simplicidad y toobe muy conservador, suponga que sistema de operativo hello y servicios del sistema, en tiempo de ejecución de Service Fabric de Hola y los servicios de consumen 6gb de estas cosas, salir de 10gb disponibles por equipo, o 100gb para clúster Hola.</span><span class="sxs-lookup"><span data-stu-id="453de-189">For simplicity and toobe very conservative, assume that hello operating system and system services, hello Service Fabric runtime, and your services consume 6gb of that, leaving 10gb available per machine, or 100gb for hello cluster.</span></span>

<span data-ttu-id="453de-190">Teniendo en cuenta que cada objeto tiene que almacenarse tres veces (una principal y dos réplicas), debería tener suficiente memoria para aproximadamente 35 millones de objetos en la colección cuando se trabaja con la máxima capacidad.</span><span class="sxs-lookup"><span data-stu-id="453de-190">Keeping in mind that each object must be stored three times (one primary and two replicas), you would have sufficient memory for approximately 35 million objects in your collection when operating at full capacity.</span></span> <span data-ttu-id="453de-191">Sin embargo, se recomienda que se va a toohello resistente pérdida simultánea de un dominio de error y un dominio de actualización, que representa aproximadamente 1/3 de la capacidad y reduciría Hola número tooroughly millones de 23.</span><span class="sxs-lookup"><span data-stu-id="453de-191">However, we recommend being resilient toohello simultaneous loss of a failure domain and an upgrade domain, which represents about 1/3 of capacity, and would reduce hello number tooroughly 23 million.</span></span>

<span data-ttu-id="453de-192">Tenga en cuenta que en este cálculo también se da por supuesto:</span><span class="sxs-lookup"><span data-stu-id="453de-192">Note that this calculation also assumes:</span></span>

- <span data-ttu-id="453de-193">Distribución de los datos entre particiones Hola Hola es aproximadamente uniforme o que está informando toohello de métricas de carga el Administrador de recursos de clúster.</span><span class="sxs-lookup"><span data-stu-id="453de-193">That hello distribution of data across hello partitions is roughly uniform or that you're reporting load metrics toohello Cluster Resource Manager.</span></span> <span data-ttu-id="453de-194">De forma predeterminada, Service Fabric equilibra la carga según el número de réplicas.</span><span class="sxs-lookup"><span data-stu-id="453de-194">By default, Service Fabric will load balance based on replica count.</span></span> <span data-ttu-id="453de-195">En nuestro ejemplo anterior, que tendría que poner 10 réplicas principales y 20 réplicas secundarias en cada nodo de clúster de Hola.</span><span class="sxs-lookup"><span data-stu-id="453de-195">In our example above, that would put 10 primary replicas and 20 secondary replicas on each node in hello cluster.</span></span> <span data-ttu-id="453de-196">Eso funciona bien para la carga que se distribuye uniformemente a través de las particiones de Hola.</span><span class="sxs-lookup"><span data-stu-id="453de-196">That works well for load that is evenly distributed across hello partitions.</span></span> <span data-ttu-id="453de-197">Si carga no es par, debe notificar carga para que hello Administrador de recursos puede empaquetar réplicas más pequeñas y permitir mayor tooconsume réplicas más memoria en un nodo individual.</span><span class="sxs-lookup"><span data-stu-id="453de-197">If load is not even, you must report load so that hello Resource Manager can pack smaller replicas together and allow larger replicas tooconsume more memory on an individual node.</span></span>

- <span data-ttu-id="453de-198">Ese servicio confiable de hello en cuestión es un solo estado almacenar hello en clúster de Hola.</span><span class="sxs-lookup"><span data-stu-id="453de-198">That hello reliable service in question is hello only one storing state in hello cluster.</span></span> <span data-ttu-id="453de-199">Dado que puede implementar varios clústeres de tooa de servicios, deberá toobe prestar atención a los recursos de Hola que cada uno tendrá toorun y administrar su estado.</span><span class="sxs-lookup"><span data-stu-id="453de-199">Since you can deploy multiple services tooa cluster, you need toobe mindful of hello resources that each will need toorun and manage its state.</span></span>

- <span data-ttu-id="453de-200">Ese propio clúster hello no se están aumentando o disminuyendo.</span><span class="sxs-lookup"><span data-stu-id="453de-200">That hello cluster itself is not growing or shrinking.</span></span> <span data-ttu-id="453de-201">Si agrega más máquinas, Service Fabric se reequilibrar la capacidad adicional de réplicas tooleverage Hola hasta que el número de Hola de máquinas supera el número de Hola de particiones en el servicio, puesto que una réplica individual no puede abarcar varias máquinas.</span><span class="sxs-lookup"><span data-stu-id="453de-201">If you add more machines, Service Fabric will rebalance your replicas tooleverage hello additional capacity until hello number of machines surpasses hello number of partitions in your service, since an individual replica cannot span machines.</span></span> <span data-ttu-id="453de-202">Por el contrario, si reducir tamaño de Hola de clúster de hello mediante la eliminación de las máquinas, las réplicas se empaquetarán íntegramente y tienen menos capacidad en general.</span><span class="sxs-lookup"><span data-stu-id="453de-202">By contrast, if you reduce hello size of hello cluster by removing machines, your replicas will be packed more tightly and have less overall capacity.</span></span>

### <a name="how-much-data-can-i-store-in-an-actor"></a><span data-ttu-id="453de-203">¿Cuántos datos puedo almacenar en un actor?</span><span class="sxs-lookup"><span data-stu-id="453de-203">How much data can I store in an actor?</span></span>

<span data-ttu-id="453de-204">Al igual que con los servicios de confianza, la cantidad de Hola de datos que se pueden almacenar en un servicio de actor está limitada solo por hello espacio total en disco y memoria disponible en todos los nodos de hello en el clúster.</span><span class="sxs-lookup"><span data-stu-id="453de-204">As with reliable services, hello amount of data that you can store in an actor service is only limited by hello total disk space and memory available across hello nodes in your cluster.</span></span> <span data-ttu-id="453de-205">Sin embargo, actores individuales son más eficaces cuando se usa tooencapsulate una pequeña cantidad de lógica de negocios de estado y asociado.</span><span class="sxs-lookup"><span data-stu-id="453de-205">However, individual actors are most effective when they are used tooencapsulate a small amount of state and associated business logic.</span></span> <span data-ttu-id="453de-206">Como norma general, un actor individual debe tener un estado que se mida en kilobytes.</span><span class="sxs-lookup"><span data-stu-id="453de-206">As a general rule, an individual actor should have state that is measured in kilobytes.</span></span>

## <a name="other-questions"></a><span data-ttu-id="453de-207">Otras preguntas</span><span class="sxs-lookup"><span data-stu-id="453de-207">Other questions</span></span>

### <a name="how-does-service-fabric-relate-toocontainers"></a><span data-ttu-id="453de-208">¿Cómo se relacionan Service Fabric a toocontainers?</span><span class="sxs-lookup"><span data-stu-id="453de-208">How does Service Fabric relate toocontainers?</span></span>

<span data-ttu-id="453de-209">Los contenedores ofrecen una manera simple toopackage los servicios y sus dependencias de forma que se ejecuten de forma coherente en todos los entornos y puede funcionar de forma aislada en una única máquina.</span><span class="sxs-lookup"><span data-stu-id="453de-209">Containers offer a simple way toopackage services and their dependencies such that they run consistently in all environments and can operate in an isolated fashion on a single machine.</span></span> <span data-ttu-id="453de-210">Service Fabric ofrece una manera toodeploy y administrar servicios, incluidos los [servicios empaquetadas en un contenedor](service-fabric-containers-overview.md).</span><span class="sxs-lookup"><span data-stu-id="453de-210">Service Fabric offers a way toodeploy and manage services, including [services that have been packaged in a container](service-fabric-containers-overview.md).</span></span>

### <a name="are-you-planning-tooopen-source-service-fabric"></a><span data-ttu-id="453de-211">¿Piensa tooopen origen Service Fabric?</span><span class="sxs-lookup"><span data-stu-id="453de-211">Are you planning tooopen source Service Fabric?</span></span>

<span data-ttu-id="453de-212">Se piensa servicios confiables de tooopen origen hello y marcos de actores confiable en GitHub y aceptarán proyectos de toothose de las contribuciones de comunidad.</span><span class="sxs-lookup"><span data-stu-id="453de-212">We intend tooopen source hello reliable services and reliable actors frameworks on GitHub and will accept community contributions toothose projects.</span></span> <span data-ttu-id="453de-213">Siga hello [blog de Service Fabric](https://blogs.msdn.microsoft.com/azureservicefabric/) para obtener más detalles a medida que se anuncien.</span><span class="sxs-lookup"><span data-stu-id="453de-213">Please follow hello [Service Fabric blog](https://blogs.msdn.microsoft.com/azureservicefabric/) for more details as they're announced.</span></span>

<span data-ttu-id="453de-214">Hola están actualmente no hay planes tooopen origen Hola Service Fabric en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="453de-214">hello are currently no plans tooopen source hello Service Fabric runtime.</span></span>

## <a name="next-steps"></a><span data-ttu-id="453de-215">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="453de-215">Next steps</span></span>

- [<span data-ttu-id="453de-216">Obtenga información sobre conceptos fundamentales de Service Fabric y procedimientos recomendados</span><span class="sxs-lookup"><span data-stu-id="453de-216">Learn about core Service Fabric concepts and best practices</span></span>](https://mva.microsoft.com/en-us/training-courses/building-microservices-applications-on-azure-service-fabric-16747?l=tbuZM46yC_5206218965)
