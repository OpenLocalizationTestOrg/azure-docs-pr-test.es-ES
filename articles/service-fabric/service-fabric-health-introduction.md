---
title: "Supervisión del mantenimiento en Service Fabric | Microsoft Docs"
description: "Una introducción al modelo de supervisión del mantenimiento de Azure Service Fabric, que proporciona supervisión del clúster y de sus aplicaciones y servicios."
services: service-fabric
documentationcenter: .net
author: oanapl
manager: timlt
editor: 
ms.assetid: 1d979210-b1eb-4022-be24-799fd9d8e003
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 07/19/2017
ms.author: oanapl
ms.openlocfilehash: 598a4d35faebb592f840b1bec7e77c7a091ea2de
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/18/2017
---
# <a name="introduction-to-service-fabric-health-monitoring"></a><span data-ttu-id="e3b75-103">Introducción a la supervisión del mantenimiento de Service Fabric</span><span class="sxs-lookup"><span data-stu-id="e3b75-103">Introduction to Service Fabric health monitoring</span></span>
<span data-ttu-id="e3b75-104">Azure Service Fabric presenta un modelo de mantenimiento que proporciona informes y datos de evaluación del mantenimiento completos, flexibles y extensibles.</span><span class="sxs-lookup"><span data-stu-id="e3b75-104">Azure Service Fabric introduces a health model that provides rich, flexible, and extensible health evaluation and reporting.</span></span> <span data-ttu-id="e3b75-105">El modelo permite la supervisión casi en tiempo real del estado tanto del clúster como de los servicios que se ejecutan en él.</span><span class="sxs-lookup"><span data-stu-id="e3b75-105">The model allows near-real-time monitoring of the state of the cluster and the services running in it.</span></span> <span data-ttu-id="e3b75-106">Puede obtener con facilidad información sobre el mantenimiento, y corregir posibles problemas antes de que se propaguen y causen interrupciones masivas.</span><span class="sxs-lookup"><span data-stu-id="e3b75-106">You can easily obtain health information and correct potential issues before they cascade and cause massive outages.</span></span> <span data-ttu-id="e3b75-107">En el modelo típico, los servicios envían informes basados en sus vistas locales, y dicha información se agrega para proporcionar una vista general del nivel del clúster.</span><span class="sxs-lookup"><span data-stu-id="e3b75-107">In the typical model, services send reports based on their local views, and that information is aggregated to provide an overall cluster-level view.</span></span>

<span data-ttu-id="e3b75-108">Los componentes de Service Fabric usan este modelo de mantenimiento avanzado para informar de su estado actual.</span><span class="sxs-lookup"><span data-stu-id="e3b75-108">Service Fabric components use this rich health model to report their current state.</span></span> <span data-ttu-id="e3b75-109">Este mismo mecanismo puede usar para informar del mantenimiento de las aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="e3b75-109">You can use the same mechanism to report health from your applications.</span></span> <span data-ttu-id="e3b75-110">Si invierte en informes sobre el mantenimiento de alta calidad, que capturan sus condiciones personalizadas, puede detectar y corregir problemas de la aplicación en ejecución mucho más fácilmente.</span><span class="sxs-lookup"><span data-stu-id="e3b75-110">If you invest in high-quality health reporting that captures your custom conditions, you can detect and fix issues for your running application much more easily.</span></span>

<span data-ttu-id="e3b75-111">En el siguiente vídeo de Microsoft Virtual Academy también se describe el modelo de estado de Service Fabric y cómo se utiliza: <center><a target="_blank" href="https://mva.microsoft.com/training-courses/building-microservices-applications-on-azure-service-fabric-16747?l=tevZw56yC_1906218965">
<img src="./media/service-fabric-health-introduction/HealthIntroVid.png" WIDTH="360" HEIGHT="244">
</a></center></span><span class="sxs-lookup"><span data-stu-id="e3b75-111">The following Microsoft Virtual Academy video also describes the Service Fabric health model and how it's used: <center><a target="_blank" href="https://mva.microsoft.com/training-courses/building-microservices-applications-on-azure-service-fabric-16747?l=tevZw56yC_1906218965">
<img src="./media/service-fabric-health-introduction/HealthIntroVid.png" WIDTH="360" HEIGHT="244">
</a></center></span></span>

> [!NOTE]
> <span data-ttu-id="e3b75-112">El subsistema de mantenimiento se inició para cubrir la necesidad de actualizaciones supervisadas.</span><span class="sxs-lookup"><span data-stu-id="e3b75-112">We started the health subsystem to address a need for monitored upgrades.</span></span> <span data-ttu-id="e3b75-113">Service Fabric proporciona actualizaciones supervisadas de clúster y de aplicación, que garantizan una disponibilidad completa, sin tiempo de inactividad y con una intervención del usuario mínima o nula.</span><span class="sxs-lookup"><span data-stu-id="e3b75-113">Service Fabric provides monitored application and cluster upgrades that ensure full availability, no downtime and minimal to no user intervention.</span></span> <span data-ttu-id="e3b75-114">Para lograr estos objetivos, la actualización comprueba el estado en función de las directivas de actualización configuradas.</span><span class="sxs-lookup"><span data-stu-id="e3b75-114">To achieve these goals, the upgrade checks health based on configured upgrade policies.</span></span> <span data-ttu-id="e3b75-115">Una actualización puede continuar solo cuando el estado respeta los umbrales deseados.</span><span class="sxs-lookup"><span data-stu-id="e3b75-115">An upgrade can proceed only when health respects desired thresholds.</span></span> <span data-ttu-id="e3b75-116">De lo contrario, la actualización se revierte automáticamente o se pausa para ofrecer a los administradores una oportunidad de solucionar los problemas.</span><span class="sxs-lookup"><span data-stu-id="e3b75-116">Otherwise, the upgrade is either automatically rolled back or paused to give administrators a chance to fix the issues.</span></span> <span data-ttu-id="e3b75-117">Para más información sobre la actualización de aplicaciones, consulte [este artículo](service-fabric-application-upgrade.md).</span><span class="sxs-lookup"><span data-stu-id="e3b75-117">To learn more about application upgrades, see [this article](service-fabric-application-upgrade.md).</span></span>
> 
> 

## <a name="health-store"></a><span data-ttu-id="e3b75-118">Almacén de estado</span><span class="sxs-lookup"><span data-stu-id="e3b75-118">Health store</span></span>
<span data-ttu-id="e3b75-119">El Almacén de estado conserva la información relacionada con el mantenimiento de las entidades del clúster, con el fin de facilitar su recuperación y evaluación.</span><span class="sxs-lookup"><span data-stu-id="e3b75-119">The health store keeps health-related information about entities in the cluster for easy retrieval and evaluation.</span></span> <span data-ttu-id="e3b75-120">Se implementa como un servicio con estado persistente de Service Fabric para garantizar alta disponibilidad y escalabilidad.</span><span class="sxs-lookup"><span data-stu-id="e3b75-120">It is implemented as a Service Fabric persisted stateful service to ensure high availability and scalability.</span></span> <span data-ttu-id="e3b75-121">El Almacén de estado forma parte de la aplicación **fabric:/System** y está disponible cuando el clúster entra en funcionamiento.</span><span class="sxs-lookup"><span data-stu-id="e3b75-121">The health store is part of the **fabric:/System** application, and it is available when the cluster is up and running.</span></span>

## <a name="health-entities-and-hierarchy"></a><span data-ttu-id="e3b75-122">Jerarquía y entidades de mantenimiento</span><span class="sxs-lookup"><span data-stu-id="e3b75-122">Health entities and hierarchy</span></span>
<span data-ttu-id="e3b75-123">Las entidades de mantenimiento se organizan en una jerarquía lógica que captura las interacciones y dependencias entre entidades diferentes.</span><span class="sxs-lookup"><span data-stu-id="e3b75-123">The health entities are organized in a logical hierarchy that captures interactions and dependencies among different entities.</span></span> <span data-ttu-id="e3b75-124">El almacén de estado crea automáticamente tanto las entidades como la jerarquía en función de los informes que recibe de los componentes de Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="e3b75-124">The health store automatically builds health entities and hierarchy based on reports received from Service Fabric components.</span></span>

<span data-ttu-id="e3b75-125">Las entidades de mantenimiento son un reflejo las entidades de Service Fabric</span><span class="sxs-lookup"><span data-stu-id="e3b75-125">The health entities mirror the Service Fabric entities.</span></span> <span data-ttu-id="e3b75-126">(por ejemplo, la **entidad de la aplicación de mantenimiento** coincide con una instancia de aplicación implementada en el clúster, mientras que la **entidad del nodo de mantenimiento** coincide con un nodo de clúster de Service Fabric). La jerarquía de mantenimiento captura las interacciones de las entidades del sistema y es la base para la evaluación avanzada del mantenimiento.</span><span class="sxs-lookup"><span data-stu-id="e3b75-126">(For example, **health application entity** matches an application instance deployed in the cluster, while **health node entity** matches a Service Fabric cluster node.) The health hierarchy captures the interactions of the system entities, and it is the basis for advanced health evaluation.</span></span> <span data-ttu-id="e3b75-127">Para obtener información sobre los conceptos clave de Service Fabric, consulte [Información general sobre la terminología de Service Fabric](service-fabric-technical-overview.md).</span><span class="sxs-lookup"><span data-stu-id="e3b75-127">You can learn about key Service Fabric concepts in [Service Fabric technical overview](service-fabric-technical-overview.md).</span></span> <span data-ttu-id="e3b75-128">Para obtener más información sobre la aplicación, consulte [Modelar una aplicación en Service Fabric](service-fabric-application-model.md).</span><span class="sxs-lookup"><span data-stu-id="e3b75-128">For more on application, see [Service Fabric application model](service-fabric-application-model.md).</span></span>

<span data-ttu-id="e3b75-129">Las entidades de mantenimiento y la jerarquía permiten depurar, supervisar y realizar informes tanto del clúster como de las aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="e3b75-129">The health entities and hierarchy allow the cluster and applications to be effectively reported, debugged, and monitored.</span></span> <span data-ttu-id="e3b75-130">El modelo de mantenimiento proporciona una representación *pormenorizada* y precisa del mantenimiento de las numerosas piezas móviles del clúster.</span><span class="sxs-lookup"><span data-stu-id="e3b75-130">The health model provides an accurate, *granular* representation of the health of the many moving pieces in the cluster.</span></span>

<span data-ttu-id="e3b75-131">![Entidades de mantenimiento.][1]</span><span class="sxs-lookup"><span data-stu-id="e3b75-131">![Health entities.][1]</span></span>
<span data-ttu-id="e3b75-132">Las entidades de mantenimiento, organizadas en una jerarquía basada en relaciones entre elementos primarios y secundarios.</span><span class="sxs-lookup"><span data-stu-id="e3b75-132">The health entities, organized in a hierarchy based on parent-child relationships.</span></span>

[1]: ./media/service-fabric-health-introduction/servicefabric-health-hierarchy.png

<span data-ttu-id="e3b75-133">Las entidades de mantenimiento son:</span><span class="sxs-lookup"><span data-stu-id="e3b75-133">The health entities are:</span></span>

* <span data-ttu-id="e3b75-134">**Clúster**.</span><span class="sxs-lookup"><span data-stu-id="e3b75-134">**Cluster**.</span></span> <span data-ttu-id="e3b75-135">Representa el estado de un clúster de Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="e3b75-135">Represents the health of a Service Fabric cluster.</span></span> <span data-ttu-id="e3b75-136">Los informes de mantenimiento del clúster describen las condiciones que afectan al clúster completo.</span><span class="sxs-lookup"><span data-stu-id="e3b75-136">Cluster health reports describe conditions that affect the entire cluster.</span></span> <span data-ttu-id="e3b75-137">Estas condiciones afectan a varias entidades en el clúster o al propio clúster.</span><span class="sxs-lookup"><span data-stu-id="e3b75-137">These conditions affect multiple entities in the cluster or the cluster itself.</span></span> <span data-ttu-id="e3b75-138">En función de la condición, el indicador no puede restringir el problema a uno o varios elementos secundarios con un estado incorrecto.</span><span class="sxs-lookup"><span data-stu-id="e3b75-138">Based on the condition, the reporter can't narrow the issue down to one or more unhealthy children.</span></span> <span data-ttu-id="e3b75-139">Entre los ejemplos se incluye el cerebro de la división del clúster debida problema de creación de particiones de red o de comunicación.</span><span class="sxs-lookup"><span data-stu-id="e3b75-139">Examples include the brain of the cluster splitting due to network partitioning or communication issues.</span></span>
* <span data-ttu-id="e3b75-140">**Nodo**.</span><span class="sxs-lookup"><span data-stu-id="e3b75-140">**Node**.</span></span> <span data-ttu-id="e3b75-141">Representa el estado de un nodo de Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="e3b75-141">Represents the health of a Service Fabric node.</span></span> <span data-ttu-id="e3b75-142">Los informes de mantenimiento del nodo describen las condiciones que afectan a la funcionalidad del nodo.</span><span class="sxs-lookup"><span data-stu-id="e3b75-142">Node health reports describe conditions that affect the node functionality.</span></span> <span data-ttu-id="e3b75-143">Normalmente afectan a todas las entidades implementadas que se ejecutan en él.</span><span class="sxs-lookup"><span data-stu-id="e3b75-143">They typically affect all the deployed entities running on it.</span></span> <span data-ttu-id="e3b75-144">Entre los ejemplos se incluyen que un nodo se quede sin espacio en disco (u otra propiedad de la máquina como la memoria o las conexiones) y cuando un nodo está inactivo.</span><span class="sxs-lookup"><span data-stu-id="e3b75-144">Examples include node out of disk space (or other machine-wide properties, such as memory, connections) and when a node is down.</span></span> <span data-ttu-id="e3b75-145">La entidad del nodo se identifica por el nombre del nodo (cadena).</span><span class="sxs-lookup"><span data-stu-id="e3b75-145">The node entity is identified by the node name (string).</span></span>
* <span data-ttu-id="e3b75-146">**Aplicación**.</span><span class="sxs-lookup"><span data-stu-id="e3b75-146">**Application**.</span></span> <span data-ttu-id="e3b75-147">Representa el estado de una instancia de aplicación que se ejecuta en el clúster.</span><span class="sxs-lookup"><span data-stu-id="e3b75-147">Represents the health of an application instance running in the cluster.</span></span> <span data-ttu-id="e3b75-148">Los informes de mantenimiento de aplicación describen las condiciones que afectan el mantenimiento general de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="e3b75-148">Application health reports describe conditions that affect the overall health of the application.</span></span> <span data-ttu-id="e3b75-149">No se pueden restringir a elementos secundarios individuales (servicios o aplicaciones implementadas).</span><span class="sxs-lookup"><span data-stu-id="e3b75-149">They can't be narrowed down to individual children (services or deployed applications).</span></span> <span data-ttu-id="e3b75-150">Entre los ejemplos se incluye la interacción de un extremo a otro entre los diferentes servicios de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="e3b75-150">Examples include the end-to-end interaction among different services in the application.</span></span> <span data-ttu-id="e3b75-151">La entidad de la aplicación se identifica mediante el nombre de la aplicación (identificador URI).</span><span class="sxs-lookup"><span data-stu-id="e3b75-151">The application entity is identified by the application name (URI).</span></span>
* <span data-ttu-id="e3b75-152">**Servicio**.</span><span class="sxs-lookup"><span data-stu-id="e3b75-152">**Service**.</span></span> <span data-ttu-id="e3b75-153">Representa el estado de un servicio que se ejecuta en el clúster.</span><span class="sxs-lookup"><span data-stu-id="e3b75-153">Represents the health of a service running in the cluster.</span></span> <span data-ttu-id="e3b75-154">Los informes de mantenimiento del servicio describen las condiciones que afectan el mantenimiento general del servicio.</span><span class="sxs-lookup"><span data-stu-id="e3b75-154">Service health reports describe conditions that affect the overall health of the service.</span></span> <span data-ttu-id="e3b75-155">El indicador no puede reducir el problema a una partición o una réplica con un estado incorrecto.</span><span class="sxs-lookup"><span data-stu-id="e3b75-155">The reporter can't narrow down the issue to an unhealthy partition or replica.</span></span> <span data-ttu-id="e3b75-156">Entre los ejemplos se incluye una configuración del servicio (como un puerto o un recurso compartido de archivos externo) que causa problemas en todas las particiones.</span><span class="sxs-lookup"><span data-stu-id="e3b75-156">Examples include a service configuration (such as port or external file share) that is causing issues for all partitions.</span></span> <span data-ttu-id="e3b75-157">La entidad de servicio se identifica mediante el nombre del servicio (identificador URI).</span><span class="sxs-lookup"><span data-stu-id="e3b75-157">The service entity is identified by the service name (URI).</span></span>
* <span data-ttu-id="e3b75-158">**Partición**.</span><span class="sxs-lookup"><span data-stu-id="e3b75-158">**Partition**.</span></span> <span data-ttu-id="e3b75-159">Representa el estado de una partición de servicio.</span><span class="sxs-lookup"><span data-stu-id="e3b75-159">Represents the health of a service partition.</span></span> <span data-ttu-id="e3b75-160">Los informes de mantenimiento de la partición describen las condiciones que afectan al conjunto completo de réplicas.</span><span class="sxs-lookup"><span data-stu-id="e3b75-160">Partition health reports describe conditions that affect the entire replica set.</span></span> <span data-ttu-id="e3b75-161">Entre los ejemplos se incluye cuando el número de réplicas es inferior al recuento de destino y cuando la partición tiene una pérdida de cuórum.</span><span class="sxs-lookup"><span data-stu-id="e3b75-161">Examples include when the number of replicas is below target count and when a partition is in quorum loss.</span></span> <span data-ttu-id="e3b75-162">La entidad de la partición se identifica mediante el identificador de la partición (GUID).</span><span class="sxs-lookup"><span data-stu-id="e3b75-162">The partition entity is identified by the partition ID (GUID).</span></span>
* <span data-ttu-id="e3b75-163">**Réplica**.</span><span class="sxs-lookup"><span data-stu-id="e3b75-163">**Replica**.</span></span> <span data-ttu-id="e3b75-164">Representa el estado de una réplica de servicio con estado o una instancia de servicio sin estado.</span><span class="sxs-lookup"><span data-stu-id="e3b75-164">Represents the health of a stateful service replica or a stateless service instance.</span></span> <span data-ttu-id="e3b75-165">La réplica es la unidad menor sobre la que los guardianes y los componentes del sistema pueden informar para una aplicación.</span><span class="sxs-lookup"><span data-stu-id="e3b75-165">The replica is the smallest unit that watchdogs and system components can report on for an application.</span></span> <span data-ttu-id="e3b75-166">En los servicios con estado, entre los ejemplos se incluye una réplica principal que no puede replicar operaciones a réplicas secundarias y ralentiza la replicación.</span><span class="sxs-lookup"><span data-stu-id="e3b75-166">For stateful services, examples include a primary replica that can't replicate operations to secondaries and slow replication.</span></span> <span data-ttu-id="e3b75-167">Además, se puede notificar una instancia sin estado si se está quedando sin recursos o tiene problemas de conectividad.</span><span class="sxs-lookup"><span data-stu-id="e3b75-167">Also, a stateless instance can report when it is running out of resources or has connectivity issues.</span></span> <span data-ttu-id="e3b75-168">La entidad de réplica se identifica mediante el identificador de la partición (GUID) y el identificador de la réplica o instancia (largo).</span><span class="sxs-lookup"><span data-stu-id="e3b75-168">The replica entity is identified by the partition ID (GUID) and the replica or instance ID (long).</span></span>
* <span data-ttu-id="e3b75-169">**DeployedApplication**.</span><span class="sxs-lookup"><span data-stu-id="e3b75-169">**DeployedApplication**.</span></span> <span data-ttu-id="e3b75-170">Representa el estado de a *aplicación que se ejecuta en un nodo*.</span><span class="sxs-lookup"><span data-stu-id="e3b75-170">Represents the health of an *application running on a node*.</span></span> <span data-ttu-id="e3b75-171">Los informes de mantenimiento de la aplicación implementada describen las condiciones específicas de la aplicación en el nodo que no se pueden restringir a paquetes de servicio implementados en el mismo nodo.</span><span class="sxs-lookup"><span data-stu-id="e3b75-171">Deployed application health reports describe conditions specific to the application on the node that can't be narrowed down to service packages deployed on the same node.</span></span> <span data-ttu-id="e3b75-172">Entre los ejemplos se incluyen los errores que se producen cuando el paquete de aplicación no se puede descargar en ese nodo y aparecen problemas al configurar las entidades de seguridad de la aplicación en el nodo.</span><span class="sxs-lookup"><span data-stu-id="e3b75-172">Examples include errors when application package can't be downloaded on that node and issues setting up application security principals on the node.</span></span> <span data-ttu-id="e3b75-173">La aplicación implementada se identifica mediante el nombre de la aplicación (identificador URI) y el nombre del nodo (cadena).</span><span class="sxs-lookup"><span data-stu-id="e3b75-173">The deployed application is identified by application name (URI) and node name (string).</span></span>
* <span data-ttu-id="e3b75-174">**DeployedServicePackage**.</span><span class="sxs-lookup"><span data-stu-id="e3b75-174">**DeployedServicePackage**.</span></span> <span data-ttu-id="e3b75-175">Representa el mantenimiento de un paquete de servicio que se ejecuta en un nodo del clúster.</span><span class="sxs-lookup"><span data-stu-id="e3b75-175">Represents the health of a service package running on a node in the cluster.</span></span> <span data-ttu-id="e3b75-176">Describe las condiciones específicas de un paquete de servicio que no afectan a los demás paquetes de servicio del mismo nodo para la misma aplicación.</span><span class="sxs-lookup"><span data-stu-id="e3b75-176">It describes conditions specific to a service package that do not affect the other service packages on the same node for the same application.</span></span> <span data-ttu-id="e3b75-177">Entre los ejemplos se incluye un paquete de código del paquete de servicio que no se puede iniciar y un paquete de configuración que no se puede leer.</span><span class="sxs-lookup"><span data-stu-id="e3b75-177">Examples include a code package in the service package that cannot be started and a configuration package that cannot be read.</span></span> <span data-ttu-id="e3b75-178">El paquete de servicio implementado se identifica mediante el nombre de la aplicación (identificador URI), el nombre del nodo (cadena), el nombre del manifiesto de servicio (cadena) y el identificador de activación del paquete de servicio (cadena).</span><span class="sxs-lookup"><span data-stu-id="e3b75-178">The deployed service package is identified by application name (URI), node name (string), service manifest name (string), and service package activation ID (string).</span></span>

<span data-ttu-id="e3b75-179">La granularidad del modelo de mantenimiento facilita la detección y corrección de problemas.</span><span class="sxs-lookup"><span data-stu-id="e3b75-179">The granularity of the health model makes it easy to detect and correct issues.</span></span> <span data-ttu-id="e3b75-180">Por ejemplo, si un servicio no responde, es viable informar de que la instancia de la aplicación es incorrecta.</span><span class="sxs-lookup"><span data-stu-id="e3b75-180">For example, if a service is not responding, it is feasible to report that the application instance is unhealthy.</span></span> <span data-ttu-id="e3b75-181">Sin embargo, la creación de informes en este nivel no es lo más adecuado, ya que es posible que el problema no afecte a todos los servicios de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="e3b75-181">Reporting at that level is not ideal, however, because the issue might not be affecting all the services within that application.</span></span> <span data-ttu-id="e3b75-182">El informe se debe aplicar al servicio incorrecto o a una partición secundaria concreta, en caso de que otra información apunte a dicha partición.</span><span class="sxs-lookup"><span data-stu-id="e3b75-182">The report should be applied to the unhealthy service or to a specific child partition, if more information points to that partition.</span></span> <span data-ttu-id="e3b75-183">Los datos aparecen automáticamente en la jerarquía y se puede ver una partición incorrecta en los niveles de servicio y de aplicación.</span><span class="sxs-lookup"><span data-stu-id="e3b75-183">The data automatically surfaces through the hierarchy, and an unhealthy partition is made visible at service and application levels.</span></span> <span data-ttu-id="e3b75-184">Esta agregación ayuda a identificar y resolver más rápidamente la causa principal del problema.</span><span class="sxs-lookup"><span data-stu-id="e3b75-184">This aggregation helps to pinpoint and resolve the root cause of the issue more quickly.</span></span>

<span data-ttu-id="e3b75-185">La jerarquía del mantenimiento se compone de relaciones entre elementos primarios y secundarios.</span><span class="sxs-lookup"><span data-stu-id="e3b75-185">The health hierarchy is composed of parent-child relationships.</span></span> <span data-ttu-id="e3b75-186">Los clústeres se componen de nodos y aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="e3b75-186">A cluster is composed of nodes and applications.</span></span> <span data-ttu-id="e3b75-187">Las aplicaciones tienen servicios y aplicaciones implementadas.</span><span class="sxs-lookup"><span data-stu-id="e3b75-187">Applications have services and deployed applications.</span></span> <span data-ttu-id="e3b75-188">Las aplicaciones implementadas han implementado paquetes de servicio.</span><span class="sxs-lookup"><span data-stu-id="e3b75-188">Deployed applications have deployed service packages.</span></span> <span data-ttu-id="e3b75-189">Los servicios tienen particiones y cada partición tiene una o más réplicas.</span><span class="sxs-lookup"><span data-stu-id="e3b75-189">Services have partitions, and each partition has one or more replicas.</span></span> <span data-ttu-id="e3b75-190">Hay una relación especial entre los nodos y las entidades implementadas.</span><span class="sxs-lookup"><span data-stu-id="e3b75-190">There is a special relationship between nodes and deployed entities.</span></span> <span data-ttu-id="e3b75-191">Un nodo en estado incorrecto, tal como lo notifica su componente del sistema de autoridad, el servicio Failover Manager, afecta a las aplicaciones implementadas, a los paquetes de servicios y a las réplicas implementadas en él.</span><span class="sxs-lookup"><span data-stu-id="e3b75-191">An unhealthy node as reported by its authority system component, the Failover Manager service, affects the deployed applications, service packages, and replicas deployed on it.</span></span>

<span data-ttu-id="e3b75-192">La jerarquía de estado representa el estado más reciente del sistema basándose en los informes de mantenimiento más recientes, que es información casi en tiempo real.</span><span class="sxs-lookup"><span data-stu-id="e3b75-192">The health hierarchy represents the latest state of the system based on the latest health reports, which is almost real-time information.</span></span>
<span data-ttu-id="e3b75-193">Los guardianes internos y externos pueden informar de las mismas entidades según la lógica específica de la aplicación o las condiciones supervisadas personalizadas.</span><span class="sxs-lookup"><span data-stu-id="e3b75-193">Internal and external watchdogs can report on the same entities based on application-specific logic or custom monitored conditions.</span></span> <span data-ttu-id="e3b75-194">Los informes de usuario coexisten con los informes del sistema.</span><span class="sxs-lookup"><span data-stu-id="e3b75-194">User reports coexist with the system reports.</span></span>

<span data-ttu-id="e3b75-195">Invierta tiempo en el plan para informar y responder al estado durante el diseño de un servicio en la nube grande.</span><span class="sxs-lookup"><span data-stu-id="e3b75-195">Plan to invest in how to report and respond to health during the design of a large cloud service.</span></span> <span data-ttu-id="e3b75-196">Esta inversión inicial facilita la depuración, supervisión y funcionamiento del servicio.</span><span class="sxs-lookup"><span data-stu-id="e3b75-196">This up-front investement makes the service easier to debug, monitor, and operate.</span></span>

## <a name="health-states"></a><span data-ttu-id="e3b75-197">Estados de mantenimiento</span><span class="sxs-lookup"><span data-stu-id="e3b75-197">Health states</span></span>
<span data-ttu-id="e3b75-198">Service Fabric usa tres estados de mantenimiento para describir si una entidad es correcta o no: Correcto, Advertencia y Error.</span><span class="sxs-lookup"><span data-stu-id="e3b75-198">Service Fabric uses three health states to describe whether an entity is healthy or not: OK, warning, and error.</span></span> <span data-ttu-id="e3b75-199">Todos los informes que se envíen al Almacén de estado deben especificar uno de estos estados.</span><span class="sxs-lookup"><span data-stu-id="e3b75-199">Any report sent to the health store must specify one of these states.</span></span> <span data-ttu-id="e3b75-200">El resultado de la evaluación de estado es uno de estos estados.</span><span class="sxs-lookup"><span data-stu-id="e3b75-200">The health evaluation result is one of these states.</span></span>

<span data-ttu-id="e3b75-201">Los posibles [estados de mantenimiento](https://docs.microsoft.com/dotnet/api/system.fabric.health.healthstate) son:</span><span class="sxs-lookup"><span data-stu-id="e3b75-201">The possible [health states](https://docs.microsoft.com/dotnet/api/system.fabric.health.healthstate) are:</span></span>

* <span data-ttu-id="e3b75-202">**OK**(Correcto).</span><span class="sxs-lookup"><span data-stu-id="e3b75-202">**OK**.</span></span> <span data-ttu-id="e3b75-203">La entidad es correcta.</span><span class="sxs-lookup"><span data-stu-id="e3b75-203">The entity is healthy.</span></span> <span data-ttu-id="e3b75-204">No hay ningún problema conocido notificado en ella o en sus elementos secundarios (en los casos aplicables).</span><span class="sxs-lookup"><span data-stu-id="e3b75-204">There are no known issues reported on it or its children (when applicable).</span></span>
* <span data-ttu-id="e3b75-205">**Warning**(Advertencia).</span><span class="sxs-lookup"><span data-stu-id="e3b75-205">**Warning**.</span></span> <span data-ttu-id="e3b75-206">La entidad tiene algunos problemas, pero todavía puede funcionar correctamente.</span><span class="sxs-lookup"><span data-stu-id="e3b75-206">The entity has some issues, but it can still function correctly.</span></span> <span data-ttu-id="e3b75-207">Por ejemplo, hay retrasos, pero todavía no causan problemas funcionales.</span><span class="sxs-lookup"><span data-stu-id="e3b75-207">For example, there are delays, but they do not cause any functional issues yet.</span></span> <span data-ttu-id="e3b75-208">En algunos casos, la condición de advertencia puede corregirse sin intervención externa.</span><span class="sxs-lookup"><span data-stu-id="e3b75-208">In some cases, the warning condition may fix itself without external intervention.</span></span> <span data-ttu-id="e3b75-209">En estas ocasiones, los informes de mantenimiento aumentan el conocimiento y proporcionan visibilidad sobre lo que está sucediendo.</span><span class="sxs-lookup"><span data-stu-id="e3b75-209">In these cases, health reports raise awareness and provide visibility into what is going on.</span></span> <span data-ttu-id="e3b75-210">En otros casos, la condición de advertencia puede dar lugar a un problema grave si no interviene el usuario.</span><span class="sxs-lookup"><span data-stu-id="e3b75-210">In other cases, the warning condition may degrade into a severe problem without user intervention.</span></span>
* <span data-ttu-id="e3b75-211">**Error**.</span><span class="sxs-lookup"><span data-stu-id="e3b75-211">**Error**.</span></span> <span data-ttu-id="e3b75-212">La entidad es incorrecta.</span><span class="sxs-lookup"><span data-stu-id="e3b75-212">The entity is unhealthy.</span></span> <span data-ttu-id="e3b75-213">Se debe realizar una acción para corregir el estado de la entidad, ya que no puede funcionar correctamente.</span><span class="sxs-lookup"><span data-stu-id="e3b75-213">Action should be taken to fix the state of the entity, because it can't function properly.</span></span>
* <span data-ttu-id="e3b75-214">**Unknown**(Desconocido).</span><span class="sxs-lookup"><span data-stu-id="e3b75-214">**Unknown**.</span></span> <span data-ttu-id="e3b75-215">La entidad no existe en el Almacén de estado.</span><span class="sxs-lookup"><span data-stu-id="e3b75-215">The entity doesn't exist in the health store.</span></span> <span data-ttu-id="e3b75-216">Este resultado puede obtenerse a partir de las consultas distribuidas que combinan los resultados de varios componentes.</span><span class="sxs-lookup"><span data-stu-id="e3b75-216">This result can be obtained from the distributed queries that merge results from multiple components.</span></span> <span data-ttu-id="e3b75-217">Por ejemplo, la consulta para obtener la lista de nodos se dirige a **FailoverManager**, **ClusterManager** y **HealthManager**; la consulta para obtener la lista de aplicaciones se dirige a **ClusterManager** y **HealthManager**.</span><span class="sxs-lookup"><span data-stu-id="e3b75-217">For example, the get node list query goes to **FailoverManager**, **ClusterManager**, and **HealthManager**; get application list query goes to **ClusterManager** and **HealthManager**.</span></span> <span data-ttu-id="e3b75-218">Estas consultas combinan los resultados de varios componentes del sistema.</span><span class="sxs-lookup"><span data-stu-id="e3b75-218">These queries merge results from multiple system components.</span></span> <span data-ttu-id="e3b75-219">Si otro componente del sistema devuelve una entidad que no está presente en el almacén de estado, el resultado combinado tiene el estado de mantenimiento desconocido.</span><span class="sxs-lookup"><span data-stu-id="e3b75-219">If another system component returns an entity that is not present in health store, the merged result has unknown health state.</span></span> <span data-ttu-id="e3b75-220">Una entidad no está en el almacén porque aún no se han procesado los informes de estado o la entidad se ha limpiado después de la eliminación.</span><span class="sxs-lookup"><span data-stu-id="e3b75-220">An entity is not in store because health reports have not yet been processed or the entity has been cleaned up after deletion.</span></span>

## <a name="health-policies"></a><span data-ttu-id="e3b75-221">Directivas de mantenimiento</span><span class="sxs-lookup"><span data-stu-id="e3b75-221">Health policies</span></span>
<span data-ttu-id="e3b75-222">El Almacén de estado aplica directivas de mantenimiento para determinar si una entidad es correcta en función de sus informes y sus elementos secundarios.</span><span class="sxs-lookup"><span data-stu-id="e3b75-222">The health store applies health policies to determine whether an entity is healthy based on its reports and its children.</span></span>

> [!NOTE]
> <span data-ttu-id="e3b75-223">Las directivas de mantenimiento se pueden especificar en el manifiesto de clúster (para la evaluación del mantenimiento del clúster y el nodo) o en el manifiesto de aplicación (para la evaluación de la aplicación y cualquiera de sus elementos secundarios).</span><span class="sxs-lookup"><span data-stu-id="e3b75-223">Health policies can be specified in the cluster manifest (for cluster and node health evaluation) or in the application manifest (for application evaluation and any of its children).</span></span> <span data-ttu-id="e3b75-224">Las solicitudes de evaluación del estado también pueden pasar directivas de evaluación de estado personalizadas, que solo se usan para esa evaluación.</span><span class="sxs-lookup"><span data-stu-id="e3b75-224">Health evaluation requests can also pass in custom health evaluation policies, which are used only for that evaluation.</span></span>
> 
> 

<span data-ttu-id="e3b75-225">De manera predeterminada, Service Fabric aplica reglas estrictas (todo debe estar correcto) a la relación jerárquica entre elementos primarios y secundarios.</span><span class="sxs-lookup"><span data-stu-id="e3b75-225">By default, Service Fabric applies strict rules (everything must be healthy) for the parent-child hierarchical relationship.</span></span> <span data-ttu-id="e3b75-226">Si uno solo de los elementos secundarios tiene un evento incorrecto, el elemento primario se considera incorrecto.</span><span class="sxs-lookup"><span data-stu-id="e3b75-226">If even one of the children has one unhealthy event, the parent is considered unhealthy.</span></span>

### <a name="cluster-health-policy"></a><span data-ttu-id="e3b75-227">Directiva de mantenimiento de clúster</span><span class="sxs-lookup"><span data-stu-id="e3b75-227">Cluster health policy</span></span>
<span data-ttu-id="e3b75-228">La [directiva de mantenimiento de clúster](https://docs.microsoft.com/dotnet/api/system.fabric.health.clusterhealthpolicy) se usa para evaluar el estado de mantenimiento del clúster y los estados de mantenimiento del nodo.</span><span class="sxs-lookup"><span data-stu-id="e3b75-228">The [cluster health policy](https://docs.microsoft.com/dotnet/api/system.fabric.health.clusterhealthpolicy) is used to evaluate the cluster health state and node health states.</span></span> <span data-ttu-id="e3b75-229">La directiva se puede definir en el manifiesto de clúster.</span><span class="sxs-lookup"><span data-stu-id="e3b75-229">The policy can be defined in the cluster manifest.</span></span> <span data-ttu-id="e3b75-230">Si no está presente, se utiliza la directiva predeterminada (cero errores tolerados).</span><span class="sxs-lookup"><span data-stu-id="e3b75-230">If it is not present, the default policy (zero tolerated failures) is used.</span></span>
<span data-ttu-id="e3b75-231">La directiva de mantenimiento de clúster contiene:</span><span class="sxs-lookup"><span data-stu-id="e3b75-231">The cluster health policy contains:</span></span>

* <span data-ttu-id="e3b75-232">[ConsiderWarningAsError](https://docs.microsoft.com/dotnet/api/system.fabric.health.clusterhealthpolicy.considerwarningaserror).</span><span class="sxs-lookup"><span data-stu-id="e3b75-232">[ConsiderWarningAsError](https://docs.microsoft.com/dotnet/api/system.fabric.health.clusterhealthpolicy.considerwarningaserror).</span></span> <span data-ttu-id="e3b75-233">Especifica si los informes de mantenimiento de advertencia se tratan como errores durante la evaluación del mantenimiento.</span><span class="sxs-lookup"><span data-stu-id="e3b75-233">Specifies whether to treat warning health reports as errors during health evaluation.</span></span> <span data-ttu-id="e3b75-234">Valor predeterminado: false.</span><span class="sxs-lookup"><span data-stu-id="e3b75-234">Default: false.</span></span>
* <span data-ttu-id="e3b75-235">[MaxPercentUnhealthyApplications](https://docs.microsoft.com/dotnet/api/system.fabric.health.clusterhealthpolicy.maxpercentunhealthyapplications).</span><span class="sxs-lookup"><span data-stu-id="e3b75-235">[MaxPercentUnhealthyApplications](https://docs.microsoft.com/dotnet/api/system.fabric.health.clusterhealthpolicy.maxpercentunhealthyapplications).</span></span> <span data-ttu-id="e3b75-236">Especifica el porcentaje máximo tolerado de aplicaciones que pueden ser incorrectas antes de que el clúster se considere erróneo.</span><span class="sxs-lookup"><span data-stu-id="e3b75-236">Specifies the maximum tolerated percentage of applications that can be unhealthy before the cluster is considered in error.</span></span>
* <span data-ttu-id="e3b75-237">[MaxPercentUnhealthyNodes](https://docs.microsoft.com/dotnet/api/system.fabric.health.clusterhealthpolicy.maxpercentunhealthynodes).</span><span class="sxs-lookup"><span data-stu-id="e3b75-237">[MaxPercentUnhealthyNodes](https://docs.microsoft.com/dotnet/api/system.fabric.health.clusterhealthpolicy.maxpercentunhealthynodes).</span></span> <span data-ttu-id="e3b75-238">Especifica el porcentaje máximo tolerado de nodos que pueden ser incorrectas antes de que el clúster se considere erróneo.</span><span class="sxs-lookup"><span data-stu-id="e3b75-238">Specifies the maximum tolerated percentage of nodes that can be unhealthy before the cluster is considered in error.</span></span> <span data-ttu-id="e3b75-239">En los clústeres grandes, siempre hay nodos inactivos o inoperativos debido a reparaciones, por lo que este porcentaje debe configurarse para tolerar ese hecho.</span><span class="sxs-lookup"><span data-stu-id="e3b75-239">In large clusters, some nodes are always down or out for repairs, so this percentage should be configured to tolerate that.</span></span>
* <span data-ttu-id="e3b75-240">[ApplicationTypeHealthPolicyMap](https://docs.microsoft.com/dotnet/api/system.fabric.health.clusterhealthpolicy.applicationtypehealthpolicymap).</span><span class="sxs-lookup"><span data-stu-id="e3b75-240">[ApplicationTypeHealthPolicyMap](https://docs.microsoft.com/dotnet/api/system.fabric.health.clusterhealthpolicy.applicationtypehealthpolicymap).</span></span> <span data-ttu-id="e3b75-241">La asignación de directiva de mantenimiento de tipo de aplicación se puede usar durante la evaluación de mantenimiento del clúster para describir tipos de aplicación especiales.</span><span class="sxs-lookup"><span data-stu-id="e3b75-241">The application type health policy map can be used during cluster health evaluation to describe special application types.</span></span> <span data-ttu-id="e3b75-242">De forma predeterminada, todas las aplicaciones se colocan en un grupo y se evalúan con MaxPercentUnhealthyApplications.</span><span class="sxs-lookup"><span data-stu-id="e3b75-242">By default, all applications are put into a pool and evaluated with MaxPercentUnhealthyApplications.</span></span> <span data-ttu-id="e3b75-243">Si algunos tipos de aplicaciones deben tratarse de manera diferente, es posible sacarlos fuera del grupo global.</span><span class="sxs-lookup"><span data-stu-id="e3b75-243">If some application types should be treated differently, they can be taken out of the global pool.</span></span> <span data-ttu-id="e3b75-244">Entonces, se evalúan con los porcentajes asociados con su nombre de tipo de aplicación en el mapa.</span><span class="sxs-lookup"><span data-stu-id="e3b75-244">Instead, they are evaluated against the percentages associated with their application type name in the map.</span></span> <span data-ttu-id="e3b75-245">Por ejemplo, en un clúster hay miles de aplicaciones de distintos tipos y algunas instancias de la aplicación de control de un tipo especial de aplicación.</span><span class="sxs-lookup"><span data-stu-id="e3b75-245">For example, in a cluster there are thousands of applications of different types, and a few control application instances of a special application type.</span></span> <span data-ttu-id="e3b75-246">Las aplicaciones de control nunca deben estar en estado de error.</span><span class="sxs-lookup"><span data-stu-id="e3b75-246">The control applications should never be in error.</span></span> <span data-ttu-id="e3b75-247">Puede especificar un MaxPercentUnhealthyApplications global al 20 % para tolerar algunos errores pero para el tipo de aplicación "ControlApplicationType", establezca MaxPercentUnhealthyApplications en 0.</span><span class="sxs-lookup"><span data-stu-id="e3b75-247">You can specify global MaxPercentUnhealthyApplications to 20% to tolerate some failures, but for the application type "ControlApplicationType" set the MaxPercentUnhealthyApplications to 0.</span></span> <span data-ttu-id="e3b75-248">Así, si alguna de las muchas aplicaciones se encuentra en un estado incorrecto, pero por debajo del porcentaje de error global, el clúster se evaluará con estado de Warning (Advertencia).</span><span class="sxs-lookup"><span data-stu-id="e3b75-248">This way, if some of the many applications are unhealthy, but below the global unhealthy percentage, the cluster would be evaluated to Warning.</span></span> <span data-ttu-id="e3b75-249">Un estado de advertencia no afecta a la actualización del clúster ni a ninguna supervisión desencadenada por el estado de mantenimiento de Error.</span><span class="sxs-lookup"><span data-stu-id="e3b75-249">A warning health state does not impact cluster upgrade or other monitoring triggered by Error health state.</span></span> <span data-ttu-id="e3b75-250">Incluso una única aplicación de control con error hará que el clúster sea incorrecto, lo que desencadena la reversión o pone en pausa la actualización del clúster, en función de la configuración de actualización.</span><span class="sxs-lookup"><span data-stu-id="e3b75-250">But even one control application in error would make cluster unhealthy, which triggers roll back or pauses the cluster upgrade, depending on the upgrade configuration.</span></span>
  <span data-ttu-id="e3b75-251">En el caso de los tipos de aplicación que se definen en la asignación, todas las instancias de la aplicación se sacan del grupo global de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="e3b75-251">For the application types defined in the map, all application instances are taken out of the global pool of applications.</span></span> <span data-ttu-id="e3b75-252">Se evalúan en función del número total de aplicaciones del tipo de aplicación, mediante el MaxPercentUnhealthyApplications específico de la asignación.</span><span class="sxs-lookup"><span data-stu-id="e3b75-252">They are evaluated based on the total number of applications of the application type, using the specific MaxPercentUnhealthyApplications from the map.</span></span> <span data-ttu-id="e3b75-253">El resto de las aplicaciones permanecen en el grupo global y se evalúan con MaxPercentUnhealthyApplications.</span><span class="sxs-lookup"><span data-stu-id="e3b75-253">All the rest of the applications remain in the global pool and are evaluated with MaxPercentUnhealthyApplications.</span></span>

<span data-ttu-id="e3b75-254">El ejemplo siguiente es un extracto de un manifiesto de clúster.</span><span class="sxs-lookup"><span data-stu-id="e3b75-254">The following example is an excerpt from a cluster manifest.</span></span> <span data-ttu-id="e3b75-255">Para definir entradas en la asignación de tipos de aplicación, anteponga "ApplicationTypeMaxPercentUnhealthyApplications-" al nombre de parámetro, seguido del nombre del tipo de aplicación.</span><span class="sxs-lookup"><span data-stu-id="e3b75-255">To define entries in the application type map, prefix the parameter name with "ApplicationTypeMaxPercentUnhealthyApplications-", followed by the application type name.</span></span>

```xml
<FabricSettings>
  <Section Name="HealthManager/ClusterHealthPolicy">
    <Parameter Name="ConsiderWarningAsError" Value="False" />
    <Parameter Name="MaxPercentUnhealthyApplications" Value="20" />
    <Parameter Name="MaxPercentUnhealthyNodes" Value="20" />
    <Parameter Name="ApplicationTypeMaxPercentUnhealthyApplications-ControlApplicationType" Value="0" />
  </Section>
</FabricSettings>
```

### <a name="application-health-policy"></a><span data-ttu-id="e3b75-256">Directiva de mantenimiento de aplicación</span><span class="sxs-lookup"><span data-stu-id="e3b75-256">Application health policy</span></span>
<span data-ttu-id="e3b75-257">La [directiva de mantenimiento de aplicación](https://docs.microsoft.com/dotnet/api/system.fabric.health.applicationhealthpolicy) describe cómo se realiza la evaluación de la agregación de eventos y estados secundarios en las aplicaciones y sus elementos secundarios.</span><span class="sxs-lookup"><span data-stu-id="e3b75-257">The [application health policy](https://docs.microsoft.com/dotnet/api/system.fabric.health.applicationhealthpolicy) describes how the evaluation of events and child-states aggregation is done for applications and their children.</span></span> <span data-ttu-id="e3b75-258">Se puede definir en el manifiesto de la aplicación, **ApplicationManifest.xml**, del paquete de aplicación.</span><span class="sxs-lookup"><span data-stu-id="e3b75-258">It can be defined in the application manifest, **ApplicationManifest.xml**, in the application package.</span></span> <span data-ttu-id="e3b75-259">Si no se especifican directivas, Service Fabric asume que la entidad es incorrecta si tiene un informe de mantenimiento o un elemento secundario en los estados de mantenimiento Advertencia o Error.</span><span class="sxs-lookup"><span data-stu-id="e3b75-259">If no policies are specified, Service Fabric assumes that the entity is unhealthy if it has a health report or a child at the warning or error health state.</span></span>
<span data-ttu-id="e3b75-260">Las directivas configurables son:</span><span class="sxs-lookup"><span data-stu-id="e3b75-260">The configurable policies are:</span></span>

* <span data-ttu-id="e3b75-261">[ConsiderWarningAsError](https://docs.microsoft.com/dotnet/api/system.fabric.health.applicationhealthpolicy.considerwarningaserror.aspx).</span><span class="sxs-lookup"><span data-stu-id="e3b75-261">[ConsiderWarningAsError](https://docs.microsoft.com/dotnet/api/system.fabric.health.applicationhealthpolicy.considerwarningaserror.aspx).</span></span> <span data-ttu-id="e3b75-262">Especifica si los informes de mantenimiento de advertencia se tratan como errores durante la evaluación del mantenimiento.</span><span class="sxs-lookup"><span data-stu-id="e3b75-262">Specifies whether to treat warning health reports as errors during health evaluation.</span></span> <span data-ttu-id="e3b75-263">Valor predeterminado: false.</span><span class="sxs-lookup"><span data-stu-id="e3b75-263">Default: false.</span></span>
* <span data-ttu-id="e3b75-264">[MaxPercentUnhealthyDeployedApplications](https://docs.microsoft.com/dotnet/api/system.fabric.health.applicationhealthpolicy.maxpercentunhealthydeployedapplications).</span><span class="sxs-lookup"><span data-stu-id="e3b75-264">[MaxPercentUnhealthyDeployedApplications](https://docs.microsoft.com/dotnet/api/system.fabric.health.applicationhealthpolicy.maxpercentunhealthydeployedapplications).</span></span> <span data-ttu-id="e3b75-265">Especifica el porcentaje máximo tolerado de aplicaciones implementadas que pueden ser incorrectas antes de que la aplicación se considere errónea.</span><span class="sxs-lookup"><span data-stu-id="e3b75-265">Specifies the maximum tolerated percentage of deployed applications that can be unhealthy before the application is considered in error.</span></span> <span data-ttu-id="e3b75-266">Dicho porcentaje se calcula dividiendo el número de aplicaciones implementadas incorrectas entre el número de nodos en los que las aplicaciones están implementadas actualmente en el clúster.</span><span class="sxs-lookup"><span data-stu-id="e3b75-266">This percentage is calculated by dividing the number of unhealthy deployed applications over the number of nodes that the applications are currently deployed on in the cluster.</span></span> <span data-ttu-id="e3b75-267">El cálculo se redondea hacia arriba para tolerar un error en números reducidos de nodos.</span><span class="sxs-lookup"><span data-stu-id="e3b75-267">The computation rounds up to tolerate one failure on small numbers of nodes.</span></span> <span data-ttu-id="e3b75-268">Porcentaje de predeterminado: cero.</span><span class="sxs-lookup"><span data-stu-id="e3b75-268">Default percentage: zero.</span></span>
* <span data-ttu-id="e3b75-269">[DefaultServiceTypeHealthPolicy](https://docs.microsoft.com/dotnet/api/system.fabric.health.applicationhealthpolicy.defaultservicetypehealthpolicy).</span><span class="sxs-lookup"><span data-stu-id="e3b75-269">[DefaultServiceTypeHealthPolicy](https://docs.microsoft.com/dotnet/api/system.fabric.health.applicationhealthpolicy.defaultservicetypehealthpolicy).</span></span> <span data-ttu-id="e3b75-270">Especifica la directiva de mantenimiento del tipo de servicio predeterminada, que reemplaza a la directiva de mantenimiento predeterminada para todos los tipos de servicio de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="e3b75-270">Specifies the default service type health policy, which replaces the default health policy for all service types in the application.</span></span>
* <span data-ttu-id="e3b75-271">[ServiceTypeHealthPolicyMap](https://docs.microsoft.com/dotnet/api/system.fabric.health.applicationhealthpolicy.servicetypehealthpolicymap).</span><span class="sxs-lookup"><span data-stu-id="e3b75-271">[ServiceTypeHealthPolicyMap](https://docs.microsoft.com/dotnet/api/system.fabric.health.applicationhealthpolicy.servicetypehealthpolicymap).</span></span> <span data-ttu-id="e3b75-272">Proporciona un mapa de las directivas de mantenimiento de servicios por tipo de servicio.</span><span class="sxs-lookup"><span data-stu-id="e3b75-272">Provides a map of service health policies per service type.</span></span> <span data-ttu-id="e3b75-273">Estas directivas reemplazan a las directivas de mantenimiento del tipo de servicio predeterminadas en todos los tipos de servicio especificados.</span><span class="sxs-lookup"><span data-stu-id="e3b75-273">These policies replace the default service type health policies for each specified service type.</span></span> <span data-ttu-id="e3b75-274">Por ejemplo, si una aplicación tiene un tipo de servicio de puerta de enlace sin estado y un tipo de servicio de motor con estado, puede configurar las directivas de mantenimiento para su evaluación de una manera diferente.</span><span class="sxs-lookup"><span data-stu-id="e3b75-274">For example, if an application has a stateless gateway service type and a stateful engine service type, you can configure the health policies for their evaluation differently.</span></span> <span data-ttu-id="e3b75-275">Si especifica una directiva por tipo de servicio, podrá obtener un control más pormenorizado del mantenimiento del servicio.</span><span class="sxs-lookup"><span data-stu-id="e3b75-275">When you specify policy per service type, you can gain more granular control of the health of the service.</span></span>

### <a name="service-type-health-policy"></a><span data-ttu-id="e3b75-276">Directiva de mantenimiento de tipo de servicio</span><span class="sxs-lookup"><span data-stu-id="e3b75-276">Service type health policy</span></span>
<span data-ttu-id="e3b75-277">La [directiva de mantenimiento de tipo de servicio](https://docs.microsoft.com/dotnet/api/system.fabric.health.servicetypehealthpolicy) especifica cómo evaluar y agregar los servicios y los elementos secundarios de servicios.</span><span class="sxs-lookup"><span data-stu-id="e3b75-277">The [service type health policy](https://docs.microsoft.com/dotnet/api/system.fabric.health.servicetypehealthpolicy) specifies how to evaluate and aggregate the services and the children of services.</span></span> <span data-ttu-id="e3b75-278">La directiva contiene:</span><span class="sxs-lookup"><span data-stu-id="e3b75-278">The policy contains:</span></span>

* <span data-ttu-id="e3b75-279">[MaxPercentUnhealthyPartitionsPerService](https://docs.microsoft.com/dotnet/api/system.fabric.health.servicetypehealthpolicy.maxpercentunhealthypartitionsperservice).</span><span class="sxs-lookup"><span data-stu-id="e3b75-279">[MaxPercentUnhealthyPartitionsPerService](https://docs.microsoft.com/dotnet/api/system.fabric.health.servicetypehealthpolicy.maxpercentunhealthypartitionsperservice).</span></span> <span data-ttu-id="e3b75-280">Especifica el porcentaje máximo tolerado de particiones incorrectas antes de que un servicio se considere incorrecto.</span><span class="sxs-lookup"><span data-stu-id="e3b75-280">Specifies the maximum tolerated percentage of unhealthy partitions before a service is considered unhealthy.</span></span> <span data-ttu-id="e3b75-281">Porcentaje de predeterminado: cero.</span><span class="sxs-lookup"><span data-stu-id="e3b75-281">Default percentage: zero.</span></span>
* <span data-ttu-id="e3b75-282">[MaxPercentUnhealthyReplicasPerPartition](https://docs.microsoft.com/dotnet/api/system.fabric.health.servicetypehealthpolicy.maxpercentunhealthyreplicasperpartition).</span><span class="sxs-lookup"><span data-stu-id="e3b75-282">[MaxPercentUnhealthyReplicasPerPartition](https://docs.microsoft.com/dotnet/api/system.fabric.health.servicetypehealthpolicy.maxpercentunhealthyreplicasperpartition).</span></span> <span data-ttu-id="e3b75-283">Especifica el porcentaje máximo tolerado de réplicas incorrectas antes de que una partición se considere incorrecta.</span><span class="sxs-lookup"><span data-stu-id="e3b75-283">Specifies the maximum tolerated percentage of unhealthy replicas before a partition is considered unhealthy.</span></span> <span data-ttu-id="e3b75-284">Porcentaje de predeterminado: cero.</span><span class="sxs-lookup"><span data-stu-id="e3b75-284">Default percentage: zero.</span></span>
* <span data-ttu-id="e3b75-285">[MaxPercentUnhealthyServices](https://docs.microsoft.com/dotnet/api/system.fabric.health.servicetypehealthpolicy.maxpercentunhealthyservices).</span><span class="sxs-lookup"><span data-stu-id="e3b75-285">[MaxPercentUnhealthyServices](https://docs.microsoft.com/dotnet/api/system.fabric.health.servicetypehealthpolicy.maxpercentunhealthyservices).</span></span> <span data-ttu-id="e3b75-286">Especifica el porcentaje máximo tolerado de servicios incorrectos antes de que la aplicación se considere incorrecta.</span><span class="sxs-lookup"><span data-stu-id="e3b75-286">Specifies the maximum tolerated percentage of unhealthy services before the application is considered unhealthy.</span></span> <span data-ttu-id="e3b75-287">Porcentaje de predeterminado: cero.</span><span class="sxs-lookup"><span data-stu-id="e3b75-287">Default percentage: zero.</span></span>

<span data-ttu-id="e3b75-288">El ejemplo siguiente es un extracto de un manifiesto de aplicación:</span><span class="sxs-lookup"><span data-stu-id="e3b75-288">The following example is an excerpt from an application manifest:</span></span>

```xml
    <Policies>
        <HealthPolicy ConsiderWarningAsError="true" MaxPercentUnhealthyDeployedApplications="20">
            <DefaultServiceTypeHealthPolicy
                   MaxPercentUnhealthyServices="0"
                   MaxPercentUnhealthyPartitionsPerService="10"
                   MaxPercentUnhealthyReplicasPerPartition="0"/>
            <ServiceTypeHealthPolicy ServiceTypeName="FrontEndServiceType"
                   MaxPercentUnhealthyServices="0"
                   MaxPercentUnhealthyPartitionsPerService="20"
                   MaxPercentUnhealthyReplicasPerPartition="0"/>
            <ServiceTypeHealthPolicy ServiceTypeName="BackEndServiceType"
                   MaxPercentUnhealthyServices="20"
                   MaxPercentUnhealthyPartitionsPerService="0"
                   MaxPercentUnhealthyReplicasPerPartition="0">
            </ServiceTypeHealthPolicy>
        </HealthPolicy>
    </Policies>
```

## <a name="health-evaluation"></a><span data-ttu-id="e3b75-289">Evaluación de estado</span><span class="sxs-lookup"><span data-stu-id="e3b75-289">Health evaluation</span></span>
<span data-ttu-id="e3b75-290">Los usuarios y servicios automatizados pueden evaluar el mantenimiento de cualquier entidad en cualquier momento.</span><span class="sxs-lookup"><span data-stu-id="e3b75-290">Users and automated services can evaluate health for any entity at any time.</span></span> <span data-ttu-id="e3b75-291">Para evaluar el mantenimiento de una entidad, el Almacén de estado agrega todos los informes de mantenimiento en la entidad y evalúa todos sus elementos secundarios (si procede).</span><span class="sxs-lookup"><span data-stu-id="e3b75-291">To evaluate an entity's health, the health store aggregates all health reports on the entity and evaluates all its children (when applicable).</span></span> <span data-ttu-id="e3b75-292">El algoritmo de agregación de mantenimiento usa las directivas de mantenimiento que especifican cómo se evalúan los informes de mantenimiento y cómo se agregan los estados de mantenimiento de los elementos secundarios (si procede).</span><span class="sxs-lookup"><span data-stu-id="e3b75-292">The health aggregation algorithm uses health policies that specify how to evaluate health reports and how to aggregate child health states (when applicable).</span></span>

### <a name="health-report-aggregation"></a><span data-ttu-id="e3b75-293">Agregación de informes de mantenimiento</span><span class="sxs-lookup"><span data-stu-id="e3b75-293">Health report aggregation</span></span>
<span data-ttu-id="e3b75-294">Una entidad puede tener varios informes de mantenimiento enviados por informadores diferentes (componentes del sistema o guardianes) en diferentes propiedades.</span><span class="sxs-lookup"><span data-stu-id="e3b75-294">One entity can have multiple health reports sent by different reporters (system components or watchdogs) on different properties.</span></span> <span data-ttu-id="e3b75-295">La agregación usa las directivas de mantenimiento asociadas, en concreto, el miembro ConsiderWarningAsError de la aplicación o la directiva de mantenimiento del clúster.</span><span class="sxs-lookup"><span data-stu-id="e3b75-295">The aggregation uses the associated health policies, in particular the ConsiderWarningAsError member of application or cluster health policy.</span></span> <span data-ttu-id="e3b75-296">ConsiderWarningAsError especifica cómo evaluar las advertencias.</span><span class="sxs-lookup"><span data-stu-id="e3b75-296">ConsiderWarningAsError specifies how to evaluate warnings.</span></span>

<span data-ttu-id="e3b75-297">El estado de mantenimiento agregado se desencadena por los *peores* informes de mantenimiento sobre la entidad.</span><span class="sxs-lookup"><span data-stu-id="e3b75-297">The aggregated health state is triggered by the *worst* health reports on the entity.</span></span> <span data-ttu-id="e3b75-298">Si hay al menos un informe de mantenimiento que indica un error, el estado de mantenimiento agregado será Error.</span><span class="sxs-lookup"><span data-stu-id="e3b75-298">If there is at least one error health report, the aggregated health state is an error.</span></span>

![Agregación de informe de mantenimiento a informe de errores.][2]

<span data-ttu-id="e3b75-300">Una entidad de mantenimiento con uno o más informes de mantenimiento de error se evalúa como Error.</span><span class="sxs-lookup"><span data-stu-id="e3b75-300">A health entity that has one or more error health reports is evaluated as Error.</span></span> <span data-ttu-id="e3b75-301">Lo mismo puede decirse de un informe de mantenimiento expirado, independientemente de su estado de mantenimiento.</span><span class="sxs-lookup"><span data-stu-id="e3b75-301">The same is true for an expired health report, regardless of its health state.</span></span>

[2]: ./media/service-fabric-health-introduction/servicefabric-health-report-eval-error.png

<span data-ttu-id="e3b75-302">Si no hay informes de error, pero aparecen una o varias advertencias, el estado de mantenimiento agregado es Advertencia o Error, en función de la marca de la directiva ConsiderWarningAsError.</span><span class="sxs-lookup"><span data-stu-id="e3b75-302">If there are no error reports and one or more warnings, the aggregated health state is either warning or error, depending on the ConsiderWarningAsError policy flag.</span></span>

![Agregación de informe de mantenimiento a informe de advertencias y ConsiderWarningAsError establecido en false.][3]

<span data-ttu-id="e3b75-304">Agregación del informe de mantenimiento con el informe de advertencia y ConsiderWarningAsError establecido en false (valor predeterminado).</span><span class="sxs-lookup"><span data-stu-id="e3b75-304">Health report aggregation with warning report and ConsiderWarningAsError set to false (default).</span></span>

[3]: ./media/service-fabric-health-introduction/servicefabric-health-report-eval-warning.png

### <a name="child-health-aggregation"></a><span data-ttu-id="e3b75-305">Agregación de mantenimiento de elementos secundarios</span><span class="sxs-lookup"><span data-stu-id="e3b75-305">Child health aggregation</span></span>
<span data-ttu-id="e3b75-306">El estado de mantenimiento agregado de una entidad refleja los estados de mantenimiento de los elementos secundarios (si procede).</span><span class="sxs-lookup"><span data-stu-id="e3b75-306">The aggregated health state of an entity reflects the child health states (when applicable).</span></span> <span data-ttu-id="e3b75-307">El algoritmo para la agregación de estados de mantenimiento de elementos secundarios usa las directivas de mantenimiento aplicables según el tipo de entidad.</span><span class="sxs-lookup"><span data-stu-id="e3b75-307">The algorithm for aggregating child health states uses the health policies applicable based on the entity type.</span></span>

![Agregación de mantenimiento de entidades secundarias.][4]

<span data-ttu-id="e3b75-309">Agregación de elementos secundarios basada en directivas de mantenimiento.</span><span class="sxs-lookup"><span data-stu-id="e3b75-309">Child aggregation based on health policies.</span></span>

[4]: ./media/service-fabric-health-introduction/servicefabric-health-hierarchy-eval.png

<span data-ttu-id="e3b75-310">Después de que el Almacén de estado haya evaluado todos los elementos secundarios, agrega sus estados de mantenimiento en función del porcentaje máximo configurado de los elementos secundarios incorrectos.</span><span class="sxs-lookup"><span data-stu-id="e3b75-310">After the health store has evaluated all the children, it aggregates their health states based on the configured maximum percentage of unhealthy children.</span></span> <span data-ttu-id="e3b75-311">Este porcentaje se obtiene de la directiva según el tipo de entidad y de elemento secundario.</span><span class="sxs-lookup"><span data-stu-id="e3b75-311">This percentage is taken from the policy based on the entity and child type.</span></span>

* <span data-ttu-id="e3b75-312">Si el estado de todos los elementos secundarios es Correcto, el estado de mantenimiento agregado de los elementos secundarios es Correcto.</span><span class="sxs-lookup"><span data-stu-id="e3b75-312">If all children have OK states, the child aggregated health state is OK.</span></span>
* <span data-ttu-id="e3b75-313">Si los elementos secundarios tienen los estados Correcto y Advertencia, el estado de mantenimiento agregado de los elementos secundarios es Advertencia.</span><span class="sxs-lookup"><span data-stu-id="e3b75-313">If children have both OK and warning states, the child aggregated health state is warning.</span></span>
* <span data-ttu-id="e3b75-314">Si hay elementos secundarios con los estados Error que no respetan el porcentaje máximo permitido de elementos secundarios incorrectos, el estado de mantenimiento agregado es Error.</span><span class="sxs-lookup"><span data-stu-id="e3b75-314">If there are children with error states that do not respect the maximum allowed percentage of unhealthy children, the aggregated health state is an error.</span></span>
* <span data-ttu-id="e3b75-315">Si los elementos secundarios con estados de Error respetan el porcentaje máximo permitido de los elementos secundarios incorrectos, el estado de mantenimiento agregado es Advertencia.</span><span class="sxs-lookup"><span data-stu-id="e3b75-315">If the children with error states respect the maximum allowed percentage of unhealthy children, the aggregated health state is warning.</span></span>

## <a name="health-reporting"></a><span data-ttu-id="e3b75-316">Informes de mantenimiento</span><span class="sxs-lookup"><span data-stu-id="e3b75-316">Health reporting</span></span>
<span data-ttu-id="e3b75-317">Tanto los componentes del sistema como los guardianes internos o externos pueden generar informes de las entidades de Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="e3b75-317">System components, System Fabric applications, and internal/external watchdogs can report against Service Fabric entities.</span></span> <span data-ttu-id="e3b75-318">Los informadores realizan determinaciones *locales* del mantenimiento de las entidades supervisadas en función de las condiciones que supervisan.</span><span class="sxs-lookup"><span data-stu-id="e3b75-318">The reporters make *local* determinations of the health of the monitored entities, based on the conditions they are monitoring.</span></span> <span data-ttu-id="e3b75-319">No necesitan examinar ningún estado global ni agregar datos.</span><span class="sxs-lookup"><span data-stu-id="e3b75-319">They don't need to look at any global state or aggregate data.</span></span> <span data-ttu-id="e3b75-320">El comportamiento deseado es tener informadores sencillos y no organismos complejos que necesitan examinar muchos datos para inferir la información que van a enviar.</span><span class="sxs-lookup"><span data-stu-id="e3b75-320">The desired behavior is to have simple reporters, and not complex organisms that need to look at many things to infer what information to send.</span></span>

<span data-ttu-id="e3b75-321">Para enviar datos de mantenimiento al Almacén de estado, los informadores necesitan identificar la entidad afectada y crear un informe de mantenimiento.</span><span class="sxs-lookup"><span data-stu-id="e3b75-321">To send health data to the health store, a reporter needs to identify the affected entity and create a health report.</span></span> <span data-ttu-id="e3b75-322">Para enviar el informe, utilice la API [FabricClient.HealthClient.ReportHealth](https://docs.microsoft.com/dotnet/api/system.fabric.fabricclient.healthclient.reporthealth), las API de informe de mantenimiento expuestas en los objetos `Partition` o `CodePackageActivationContext`, cmdlets de PowerShell o REST.</span><span class="sxs-lookup"><span data-stu-id="e3b75-322">To send the report, use the [FabricClient.HealthClient.ReportHealth](https://docs.microsoft.com/dotnet/api/system.fabric.fabricclient.healthclient.reporthealth) API, report health APIs exposed on the `Partition` or `CodePackageActivationContext` objects, PowerShell cmdlets, or REST.</span></span>

### <a name="health-reports"></a><span data-ttu-id="e3b75-323">Informes de mantenimiento</span><span class="sxs-lookup"><span data-stu-id="e3b75-323">Health reports</span></span>
<span data-ttu-id="e3b75-324">Los [informes de mantenimiento](https://docs.microsoft.com/dotnet/api/system.fabric.health.healthreport) para cada una de las entidades del clúster contienen la siguiente información:</span><span class="sxs-lookup"><span data-stu-id="e3b75-324">The [health reports](https://docs.microsoft.com/dotnet/api/system.fabric.health.healthreport) for each of the entities in the cluster contain the following information:</span></span>

* <span data-ttu-id="e3b75-325">**SourceId**.</span><span class="sxs-lookup"><span data-stu-id="e3b75-325">**SourceId**.</span></span> <span data-ttu-id="e3b75-326">Cadena que identifica de forma única el informador del evento de estado.</span><span class="sxs-lookup"><span data-stu-id="e3b75-326">A string that uniquely identifies the reporter of the health event.</span></span>
* <span data-ttu-id="e3b75-327">**Identificador de entidad**.</span><span class="sxs-lookup"><span data-stu-id="e3b75-327">**Entity identifier**.</span></span> <span data-ttu-id="e3b75-328">Identifica la entidad en la que se aplica el informe.</span><span class="sxs-lookup"><span data-stu-id="e3b75-328">Identifies the entity where the report is applied.</span></span> <span data-ttu-id="e3b75-329">Es diferente según el [tipo de entidad](service-fabric-health-introduction.md#health-entities-and-hierarchy):</span><span class="sxs-lookup"><span data-stu-id="e3b75-329">It differs based on the [entity type](service-fabric-health-introduction.md#health-entities-and-hierarchy):</span></span>
  
  * <span data-ttu-id="e3b75-330">Clúster.</span><span class="sxs-lookup"><span data-stu-id="e3b75-330">Cluster.</span></span> <span data-ttu-id="e3b75-331">Ninguno.</span><span class="sxs-lookup"><span data-stu-id="e3b75-331">None.</span></span>
  * <span data-ttu-id="e3b75-332">Nodo.</span><span class="sxs-lookup"><span data-stu-id="e3b75-332">Node.</span></span> <span data-ttu-id="e3b75-333">Nombre de nodo (cadena).</span><span class="sxs-lookup"><span data-stu-id="e3b75-333">Node name  (string).</span></span>
  * <span data-ttu-id="e3b75-334">Aplicación.</span><span class="sxs-lookup"><span data-stu-id="e3b75-334">Application.</span></span> <span data-ttu-id="e3b75-335">Nombre de aplicación (identificador URI).</span><span class="sxs-lookup"><span data-stu-id="e3b75-335">Application name (URI).</span></span> <span data-ttu-id="e3b75-336">Representa el nombre de la instancia de aplicación implementada en el clúster.</span><span class="sxs-lookup"><span data-stu-id="e3b75-336">Represents the name of the application instance deployed in the cluster.</span></span>
  * <span data-ttu-id="e3b75-337">Servicio.</span><span class="sxs-lookup"><span data-stu-id="e3b75-337">Service.</span></span> <span data-ttu-id="e3b75-338">Nombre de servicio (identificador URI).</span><span class="sxs-lookup"><span data-stu-id="e3b75-338">Service name (URI).</span></span> <span data-ttu-id="e3b75-339">Representa el nombre de la instancia de servicio implementada en el clúster.</span><span class="sxs-lookup"><span data-stu-id="e3b75-339">Represents the name of the service instance deployed in the cluster.</span></span>
  * <span data-ttu-id="e3b75-340">Partición.</span><span class="sxs-lookup"><span data-stu-id="e3b75-340">Partition.</span></span> <span data-ttu-id="e3b75-341">Identificador de partición (GUID).</span><span class="sxs-lookup"><span data-stu-id="e3b75-341">Partition ID (GUID).</span></span> <span data-ttu-id="e3b75-342">Representa el identificador único de la partición.</span><span class="sxs-lookup"><span data-stu-id="e3b75-342">Represents the partition unique identifier.</span></span>
  * <span data-ttu-id="e3b75-343">Réplica.</span><span class="sxs-lookup"><span data-stu-id="e3b75-343">Replica.</span></span> <span data-ttu-id="e3b75-344">El identificador de réplica de servicio con estado o el identificador de instancia de servicio sin estado (INT64).</span><span class="sxs-lookup"><span data-stu-id="e3b75-344">The stateful service replica ID or the stateless service instance ID (INT64).</span></span>
  * <span data-ttu-id="e3b75-345">DeployedApplication.</span><span class="sxs-lookup"><span data-stu-id="e3b75-345">DeployedApplication.</span></span> <span data-ttu-id="e3b75-346">Nombre de aplicación (identificador URI) y nombre de nodo (cadena).</span><span class="sxs-lookup"><span data-stu-id="e3b75-346">Application name (URI) and node name (string).</span></span>
  * <span data-ttu-id="e3b75-347">DeployedServicePackage.</span><span class="sxs-lookup"><span data-stu-id="e3b75-347">DeployedServicePackage.</span></span> <span data-ttu-id="e3b75-348">Nombre de aplicación (identificador URI), nombre de nodo (cadena) y nombre de manifiesto de servicio (cadena).</span><span class="sxs-lookup"><span data-stu-id="e3b75-348">Application name (URI), node name (string), and service manifest name (string).</span></span>
* <span data-ttu-id="e3b75-349">**Propiedad**.</span><span class="sxs-lookup"><span data-stu-id="e3b75-349">**Property**.</span></span> <span data-ttu-id="e3b75-350">Un *cadena* (no una enumeración fija) que permite al informador clasificar el evento de estado para una propiedad específica de la entidad.</span><span class="sxs-lookup"><span data-stu-id="e3b75-350">A *string* (not a fixed enumeration) that allows the reporter to categorize the health event for a specific property of the entity.</span></span> <span data-ttu-id="e3b75-351">Por ejemplo, el informador A puede notificar el estado de la propiedad de "almacenamiento" de Node01 y el informador B puede notificar el estado de la propiedad de "conectividad" de Node01.</span><span class="sxs-lookup"><span data-stu-id="e3b75-351">For example, reporter A can report the health of the Node01 "Storage" property and reporter B can report the health of the Node01 "Connectivity" property.</span></span> <span data-ttu-id="e3b75-352">En el Almacén de estado, estos informes se tratan como eventos de mantenimiento de la entidad Node01.</span><span class="sxs-lookup"><span data-stu-id="e3b75-352">In the health store, these reports are treated as separate health events for the Node01 entity.</span></span>
* <span data-ttu-id="e3b75-353">**Descripción**.</span><span class="sxs-lookup"><span data-stu-id="e3b75-353">**Description**.</span></span> <span data-ttu-id="e3b75-354">Una cadena que permite a un informador proporcionar información detallada sobre el evento de mantenimiento.</span><span class="sxs-lookup"><span data-stu-id="e3b75-354">A string that allows a reporter to provide detailed information about the health event.</span></span> <span data-ttu-id="e3b75-355">**SourceId**, **Property** y **HealthState** deben describir por completo el informe.</span><span class="sxs-lookup"><span data-stu-id="e3b75-355">**SourceId**, **Property**, and **HealthState** should fully describe the report.</span></span> <span data-ttu-id="e3b75-356">La descripción agrega información en lenguaje natural sobre el informe.</span><span class="sxs-lookup"><span data-stu-id="e3b75-356">The description adds human-readable information about the report.</span></span> <span data-ttu-id="e3b75-357">El texto facilita la comprensión, tanto a usuarios como a administradores, del informe de mantenimiento.</span><span class="sxs-lookup"><span data-stu-id="e3b75-357">The text makes it easier for administrators and users to understand the health report.</span></span>
* <span data-ttu-id="e3b75-358">**HealthState**.</span><span class="sxs-lookup"><span data-stu-id="e3b75-358">**HealthState**.</span></span> <span data-ttu-id="e3b75-359">Una [enumeración](service-fabric-health-introduction.md#health-states) que describe el estado de mantenimiento del informe.</span><span class="sxs-lookup"><span data-stu-id="e3b75-359">An [enumeration](service-fabric-health-introduction.md#health-states) that describes the health state of the report.</span></span> <span data-ttu-id="e3b75-360">Los valores aceptados son Correcto, Advertencia y Error.</span><span class="sxs-lookup"><span data-stu-id="e3b75-360">The accepted values are OK, Warning, and Error.</span></span>
* <span data-ttu-id="e3b75-361">**TimeToLive**.</span><span class="sxs-lookup"><span data-stu-id="e3b75-361">**TimeToLive**.</span></span> <span data-ttu-id="e3b75-362">Intervalo de tiempo que indica cuánto tiempo es válido el informe de mantenimiento.</span><span class="sxs-lookup"><span data-stu-id="e3b75-362">A timespan that indicates how long the health report is valid.</span></span> <span data-ttu-id="e3b75-363">Si se combina con **RemoveWhenExpired**, permite al Almacén de estado saber cómo evaluar los eventos expirados.</span><span class="sxs-lookup"><span data-stu-id="e3b75-363">Coupled with **RemoveWhenExpired**, it lets the health store know how to evaluate expired events.</span></span> <span data-ttu-id="e3b75-364">De forma predeterminada, el valor es infinito y el informe es válido para siempre.</span><span class="sxs-lookup"><span data-stu-id="e3b75-364">By default, the value is infinite, and the report is valid forever.</span></span>
* <span data-ttu-id="e3b75-365">**RemoveWhenExpired**.</span><span class="sxs-lookup"><span data-stu-id="e3b75-365">**RemoveWhenExpired**.</span></span> <span data-ttu-id="e3b75-366">Un valor booleano.</span><span class="sxs-lookup"><span data-stu-id="e3b75-366">A Boolean.</span></span> <span data-ttu-id="e3b75-367">Si está establecido en true, el informe de mantenimiento expirado se elimina automáticamente del Almacén de estado y no afecta a la evaluación del mantenimiento de la entidad.</span><span class="sxs-lookup"><span data-stu-id="e3b75-367">If set to true, the expired health report is automatically removed from the health store, and the report doesn't impact entity health evaluation.</span></span> <span data-ttu-id="e3b75-368">Se usa cuando el informe es válido solo durante un período de tiempo y el informador no necesita vaciarlo de manera explícita. También se utiliza para eliminar informes del Almacén de estado (por ejemplo, se cambia un guardián y deja de enviar informes con la propiedad y el origen anteriores).</span><span class="sxs-lookup"><span data-stu-id="e3b75-368">Used when the report is valid for a specified period of time only, and the reporter doesn't need to explicitly clear it out. It's also used to delete reports from the health store (for example, a watchdog is changed and stops sending reports with previous source and property).</span></span> <span data-ttu-id="e3b75-369">Puede enviar un informe con valor de TimeToLive pequeño, junto con RemoveWhenExpired para borrar cualquier estado anterior del Almacén de estado.</span><span class="sxs-lookup"><span data-stu-id="e3b75-369">It can send a report with a brief TimeToLive along with RemoveWhenExpired to clear up any previous state from the health store.</span></span> <span data-ttu-id="e3b75-370">Si el valor se establece en false, el informe expirado se trata como un error en la evaluación del mantenimiento.</span><span class="sxs-lookup"><span data-stu-id="e3b75-370">If the value is set to false, the expired report is treated as an error on the health evaluation.</span></span> <span data-ttu-id="e3b75-371">El valor false indica al Almacén de estado que el origen debe notificar periódicamente esta propiedad.</span><span class="sxs-lookup"><span data-stu-id="e3b75-371">The false value signals to the health store that the source should report periodically on this property.</span></span> <span data-ttu-id="e3b75-372">Si no lo hace, debe haber algún error en el guardián.</span><span class="sxs-lookup"><span data-stu-id="e3b75-372">If it doesn't, then there must be something wrong with the watchdog.</span></span> <span data-ttu-id="e3b75-373">El mantenimiento del guardián se captura considerando el evento como error.</span><span class="sxs-lookup"><span data-stu-id="e3b75-373">The watchdog's health is captured by considering the event as an error.</span></span>
* <span data-ttu-id="e3b75-374">**SequenceNumber**.</span><span class="sxs-lookup"><span data-stu-id="e3b75-374">**SequenceNumber**.</span></span> <span data-ttu-id="e3b75-375">Un entero positivo que debe ir en constante aumento y representa el orden de los informes.</span><span class="sxs-lookup"><span data-stu-id="e3b75-375">A positive integer that needs to be ever-increasing, it represents the order of the reports.</span></span> <span data-ttu-id="e3b75-376">Lo usa el Almacén de estado para detectar informes obsoletos que se reciben tarde debido a retrasos en la red u otros problemas.</span><span class="sxs-lookup"><span data-stu-id="e3b75-376">It is used by the health store to detect stale reports that are received late because of network delays or other issues.</span></span> <span data-ttu-id="e3b75-377">Un informe se rechaza si el número de secuencia es menor o igual que el último número aplicado a la misma entidad, origen y propiedad.</span><span class="sxs-lookup"><span data-stu-id="e3b75-377">A report is rejected if the sequence number is less than or equal to the most recently applied number for the same entity, source, and property.</span></span> <span data-ttu-id="e3b75-378">Si no se especifica, el número de secuencia se genera automáticamente.</span><span class="sxs-lookup"><span data-stu-id="e3b75-378">If it is not specified, the sequence number is generated automatically.</span></span> <span data-ttu-id="e3b75-379">Solo es necesario colocar el número de secuencia cuando se informa de las transiciones de estado.</span><span class="sxs-lookup"><span data-stu-id="e3b75-379">It is necessary to put in the sequence number only when reporting on state transitions.</span></span> <span data-ttu-id="e3b75-380">En esta situación, el origen necesita recordar los informes que envió y conservar la información para la recuperación de conmutación por error.</span><span class="sxs-lookup"><span data-stu-id="e3b75-380">In this situation, the source needs to remember which reports it sent and keep the information for recovery on failover.</span></span>

<span data-ttu-id="e3b75-381">Estos cuatro datos (SourceId, entity identifier, Property y HealthState) se requieren en todos los informes de mantenimiento.</span><span class="sxs-lookup"><span data-stu-id="e3b75-381">These four pieces of information--SourceId, entity identifier, Property, and HealthState--are required for every health report.</span></span> <span data-ttu-id="e3b75-382">No se permite que la cadena de SourceId comience por el prefijo "**System.**", que se reserva para los informes del sistema.</span><span class="sxs-lookup"><span data-stu-id="e3b75-382">The SourceId string is not allowed to start with the prefix "**System.**", which is reserved for system reports.</span></span> <span data-ttu-id="e3b75-383">Para la misma entidad solo hay un informe del mismo origen y propiedad.</span><span class="sxs-lookup"><span data-stu-id="e3b75-383">For the same entity, there is only one report for the same source and property.</span></span> <span data-ttu-id="e3b75-384">Los informes del mismo origen y propiedad se invalidan entre sí, ya sea en el lado del cliente de mantenimiento (si se procesan por lotes) o en el lado del Almacén de estado.</span><span class="sxs-lookup"><span data-stu-id="e3b75-384">Multiple reports for the same source and property override each other, either on the health client side (if they are batched) or on the health store side.</span></span> <span data-ttu-id="e3b75-385">La sustitución se realiza basándose en los números de secuencia; los informes más recientes (con un número de secuencia mayor) reemplazan a los informes anteriores.</span><span class="sxs-lookup"><span data-stu-id="e3b75-385">The replacement is based on sequence numbers; newer reports (with higher sequence numbers) replace older reports.</span></span>

### <a name="health-events"></a><span data-ttu-id="e3b75-386">Eventos de estado</span><span class="sxs-lookup"><span data-stu-id="e3b75-386">Health events</span></span>
<span data-ttu-id="e3b75-387">Internamente, el Almacén de estado conserva los [eventos de mantenimiento](https://docs.microsoft.com/dotnet/api/system.fabric.health.healthevent), que contienen toda la información de los informes y metadatos adicionales.</span><span class="sxs-lookup"><span data-stu-id="e3b75-387">Internally, the health store keeps [health events](https://docs.microsoft.com/dotnet/api/system.fabric.health.healthevent), which contain all the information from the reports, and additional metadata.</span></span> <span data-ttu-id="e3b75-388">Los metadatos incluyen la hora en que el informe se dio al cliente de mantenimiento y la hora en que se modificó en el servidor.</span><span class="sxs-lookup"><span data-stu-id="e3b75-388">The metadata includes the time the report was given to the health client and the time it was modified on the server side.</span></span> <span data-ttu-id="e3b75-389">Los eventos de mantenimiento los devuelven las [consultas de mantenimiento](service-fabric-view-entities-aggregated-health.md#health-queries).</span><span class="sxs-lookup"><span data-stu-id="e3b75-389">The health events are returned by [health queries](service-fabric-view-entities-aggregated-health.md#health-queries).</span></span>

<span data-ttu-id="e3b75-390">Los metadatos agregados contienen:</span><span class="sxs-lookup"><span data-stu-id="e3b75-390">The added metadata contains:</span></span>

* <span data-ttu-id="e3b75-391">**SourceUtcTimestamp**.</span><span class="sxs-lookup"><span data-stu-id="e3b75-391">**SourceUtcTimestamp**.</span></span> <span data-ttu-id="e3b75-392">La hora en que el informe se dio al cliente de mantenimiento (hora universal coordinada)</span><span class="sxs-lookup"><span data-stu-id="e3b75-392">The time the report was given to the health client (Coordinated Universal Time).</span></span>
* <span data-ttu-id="e3b75-393">**LastModifiedUtcTimestamp**.</span><span class="sxs-lookup"><span data-stu-id="e3b75-393">**LastModifiedUtcTimestamp**.</span></span> <span data-ttu-id="e3b75-394">La hora en que el informe se modificó por última vez en el servidor (hora universal coordinada)</span><span class="sxs-lookup"><span data-stu-id="e3b75-394">The time the report was last modified on the server side (Coordinated Universal Time).</span></span>
* <span data-ttu-id="e3b75-395">**IsExpired**.</span><span class="sxs-lookup"><span data-stu-id="e3b75-395">**IsExpired**.</span></span> <span data-ttu-id="e3b75-396">Marca que indica si el informe había expirado cuando el Almacén de estado ejecutó la consulta.</span><span class="sxs-lookup"><span data-stu-id="e3b75-396">A flag to indicate whether the report was expired when the query was executed by the health store.</span></span> <span data-ttu-id="e3b75-397">Un evento ha expirado solo si RemoveWhenExpired está establecido en false.</span><span class="sxs-lookup"><span data-stu-id="e3b75-397">An event can be expired only if RemoveWhenExpired is false.</span></span> <span data-ttu-id="e3b75-398">De lo contrario, la consulta no devuelve el evento y se elimina del almacén.</span><span class="sxs-lookup"><span data-stu-id="e3b75-398">Otherwise, the event is not returned by query and is removed from the store.</span></span>
* <span data-ttu-id="e3b75-399">**LastOkTransitionAt**, **LastWarningTransitionAt**, **LastErrorTransitionAt**.</span><span class="sxs-lookup"><span data-stu-id="e3b75-399">**LastOkTransitionAt**, **LastWarningTransitionAt**, **LastErrorTransitionAt**.</span></span> <span data-ttu-id="e3b75-400">La última hora de las transiciones correctas, con advertencia o con error.</span><span class="sxs-lookup"><span data-stu-id="e3b75-400">The last time for OK/warning/error transitions.</span></span> <span data-ttu-id="e3b75-401">Estos campos muestran el historial de las transiciones del estado de mantenimiento del evento.</span><span class="sxs-lookup"><span data-stu-id="e3b75-401">These fields give the history of the health state transitions for the event.</span></span>

<span data-ttu-id="e3b75-402">Los campos de la transición de estado se pueden usar para alertas inteligentes o información del "historial" de eventos de mantenimiento.</span><span class="sxs-lookup"><span data-stu-id="e3b75-402">The state transition fields can be used for smarter alerts or "historical" health event information.</span></span> <span data-ttu-id="e3b75-403">Habilitan escenarios como:</span><span class="sxs-lookup"><span data-stu-id="e3b75-403">They enable scenarios such as:</span></span>

* <span data-ttu-id="e3b75-404">Alertar cuando una propiedad ha estado en los estados Advertencia o Error durante más de X minutos.</span><span class="sxs-lookup"><span data-stu-id="e3b75-404">Alert when a property has been at warning/error for more than X minutes.</span></span> <span data-ttu-id="e3b75-405">La comprobación de la condición durante un período de tiempo evita las alertas sobre condiciones temporales.</span><span class="sxs-lookup"><span data-stu-id="e3b75-405">Checking the condition for a period of time avoids alerts on temporary conditions.</span></span> <span data-ttu-id="e3b75-406">Por ejemplo, una alerta si el estado de mantenimiento ha sido Advertencia durante más de cinco minutos se puede traducir como (HealthState == Warning y Now - LastWarningTransitionTime > 5 minutes).</span><span class="sxs-lookup"><span data-stu-id="e3b75-406">For example, an alert if the health state has been warning for more than five minutes can be translated into (HealthState == Warning and Now - LastWarningTransitionTime > 5 minutes).</span></span>
* <span data-ttu-id="e3b75-407">Alertar solo sobre las condiciones que han cambiado en los últimos X minutos.</span><span class="sxs-lookup"><span data-stu-id="e3b75-407">Alert only on conditions that have changed in the last X minutes.</span></span> <span data-ttu-id="e3b75-408">Si el estado de un informe ya era Error antes de la hora especificada, se puede ignorar, porque ya se había señalado con anterioridad.</span><span class="sxs-lookup"><span data-stu-id="e3b75-408">If a report was already at error before the specified time, it can be ignored because it was already signaled previously.</span></span>
* <span data-ttu-id="e3b75-409">Si una propiedad alterna entre Advertencia y Error, determine cuánto tiempo ha sido incorrecta (es decir, que no ha sido correcta).</span><span class="sxs-lookup"><span data-stu-id="e3b75-409">If a property is toggling between warning and error, determine how long it has been unhealthy (that is, not OK).</span></span> <span data-ttu-id="e3b75-410">Por ejemplo, una alerta si la propiedad no ha sido correcta durante más de cinco minutos se pueden traducir como (HealthState != Ok y Now - LastOkTransitionTime > 5 minutes).</span><span class="sxs-lookup"><span data-stu-id="e3b75-410">For example, an alert if the property hasn't been healthy for more than five minutes can be translated into (HealthState != Ok and Now - LastOkTransitionTime > 5 minutes).</span></span>

## <a name="example-report-and-evaluate-application-health"></a><span data-ttu-id="e3b75-411">Ejemplo: informar y evaluar el mantenimiento de una aplicación</span><span class="sxs-lookup"><span data-stu-id="e3b75-411">Example: Report and evaluate application health</span></span>
<span data-ttu-id="e3b75-412">En el ejemplo siguiente se envía un informe de mantenimiento a través de PowerShell en la aplicación **fabric:/WordCount**desde el **MyWatchdog** de origen.</span><span class="sxs-lookup"><span data-stu-id="e3b75-412">The following example sends a health report through PowerShell on the application **fabric:/WordCount** from the source **MyWatchdog**.</span></span> <span data-ttu-id="e3b75-413">El informe de mantenimiento contiene información sobre la "disponibilidad" de la propiedad de mantenimiento en un estado de mantenimiento de error, con un valor de TimeToLive infinito.</span><span class="sxs-lookup"><span data-stu-id="e3b75-413">The health report contains information about the health property "availability" in an error health state, with infinite TimeToLive.</span></span> <span data-ttu-id="e3b75-414">Luego consulta el mantenimiento de la aplicación, que devuelve los errores del estado de mantenimiento agregado y los eventos de mantenimiento notificados en la lista de eventos de mantenimiento.</span><span class="sxs-lookup"><span data-stu-id="e3b75-414">Then it queries the application health, which returns aggregated health state errors and the reported health events in the list of health events.</span></span>

```powershell
PS C:\> Send-ServiceFabricApplicationHealthReport –ApplicationName fabric:/WordCount –SourceId "MyWatchdog" –HealthProperty "Availability" –HealthState Error

PS C:\> Get-ServiceFabricApplicationHealth fabric:/WordCount -ExcludeHealthStatistics


ApplicationName                 : fabric:/WordCount
AggregatedHealthState           : Error
UnhealthyEvaluations            :
                                  Error event: SourceId='MyWatchdog', Property='Availability'.

ServiceHealthStates             :
                                  ServiceName           : fabric:/WordCount/WordCountService
                                  AggregatedHealthState : Error

                                  ServiceName           : fabric:/WordCount/WordCountWebService
                                  AggregatedHealthState : Ok

DeployedApplicationHealthStates :
                                  ApplicationName       : fabric:/WordCount
                                  NodeName              : _Node_0
                                  AggregatedHealthState : Ok

                                  ApplicationName       : fabric:/WordCount
                                  NodeName              : _Node_2
                                  AggregatedHealthState : Ok

                                  ApplicationName       : fabric:/WordCount
                                  NodeName              : _Node_3
                                  AggregatedHealthState : Ok

                                  ApplicationName       : fabric:/WordCount
                                  NodeName              : _Node_4
                                  AggregatedHealthState : Ok

                                  ApplicationName       : fabric:/WordCount
                                  NodeName              : _Node_1
                                  AggregatedHealthState : Ok

HealthEvents                    :
                                  SourceId              : System.CM
                                  Property              : State
                                  HealthState           : Ok
                                  SequenceNumber        : 360
                                  SentAt                : 3/22/2016 7:56:53 PM
                                  ReceivedAt            : 3/22/2016 7:56:53 PM
                                  TTL                   : Infinite
                                  Description           : Application has been created.
                                  RemoveWhenExpired     : False
                                  IsExpired             : False
                                  Transitions           : Error->Ok = 3/22/2016 7:56:53 PM, LastWarning = 1/1/0001 12:00:00 AM

                                  SourceId              : MyWatchdog
                                  Property              : Availability
                                  HealthState           : Error
                                  SequenceNumber        : 131032204762818013
                                  SentAt                : 3/23/2016 3:27:56 PM
                                  ReceivedAt            : 3/23/2016 3:27:56 PM
                                  TTL                   : Infinite
                                  Description           :
                                  RemoveWhenExpired     : False
                                  IsExpired             : False
                                  Transitions           : Ok->Error = 3/23/2016 3:27:56 PM, LastWarning = 1/1/0001 12:00:00 AM
```

## <a name="health-model-usage"></a><span data-ttu-id="e3b75-415">Uso del modelo de estado</span><span class="sxs-lookup"><span data-stu-id="e3b75-415">Health model usage</span></span>
<span data-ttu-id="e3b75-416">El modelo de mantenimiento permite escalar los servicios en la nube y la plataforma de Service Fabric subyacente, ya que las determinaciones de supervisión y mantenimiento se distribuyen entre los distintos monitores del clúster.</span><span class="sxs-lookup"><span data-stu-id="e3b75-416">The health model allows cloud services and the underlying Service Fabric platform to scale, because monitoring and health determinations are distributed among the different monitors within the cluster.</span></span>
<span data-ttu-id="e3b75-417">Otros sistemas tienen un solo servicio centralizado en el nivel de clúster que analiza toda la información *potencialmente* útil que emiten los servicios.</span><span class="sxs-lookup"><span data-stu-id="e3b75-417">Other systems have a single, centralized service at the cluster level that parses all the *potentially* useful information emitted by services.</span></span> <span data-ttu-id="e3b75-418">Este enfoque dificulta su escalabilidad.</span><span class="sxs-lookup"><span data-stu-id="e3b75-418">This approach hinders their scalability.</span></span> <span data-ttu-id="e3b75-419">Tampoco les permite recopilar información específica para ayudar a identificar problemas reales y potenciales acercándose lo máximo posible a su causa raíz.</span><span class="sxs-lookup"><span data-stu-id="e3b75-419">It also doesn't allow them to collect specific information to help identify issues and potential issues as close to the root cause as possible.</span></span>

<span data-ttu-id="e3b75-420">El modelo de mantenimiento se usa mucho para la supervisión y el diagnóstico, para evaluar el mantenimiento de clústeres y aplicaciones, y para las actualizaciones supervisadas.</span><span class="sxs-lookup"><span data-stu-id="e3b75-420">The health model is used heavily for monitoring and diagnosis, for evaluating cluster and application health, and for monitored upgrades.</span></span> <span data-ttu-id="e3b75-421">Otros servicios usan los datos de mantenimiento para realizar reparaciones automáticas, generar el historial de mantenimiento de los clústeres y emitir alertas en determinadas condiciones.</span><span class="sxs-lookup"><span data-stu-id="e3b75-421">Other services use health data to perform automatic repairs, build cluster health history, and issue alerts on certain conditions.</span></span>

## <a name="next-steps"></a><span data-ttu-id="e3b75-422">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="e3b75-422">Next steps</span></span>
[<span data-ttu-id="e3b75-423">Vista de los informes de estado de Service Fabric</span><span class="sxs-lookup"><span data-stu-id="e3b75-423">View Service Fabric health reports</span></span>](service-fabric-view-entities-aggregated-health.md)

[<span data-ttu-id="e3b75-424">Uso de informes de mantenimiento del sistema para solucionar problemas</span><span class="sxs-lookup"><span data-stu-id="e3b75-424">Use system health reports for troubleshooting</span></span>](service-fabric-understand-and-troubleshoot-with-system-health-reports.md)

[<span data-ttu-id="e3b75-425">Notificación y comprobación del estado del servicio</span><span class="sxs-lookup"><span data-stu-id="e3b75-425">How to report and check service health</span></span>](service-fabric-diagnostics-how-to-report-and-check-service-health.md)

[<span data-ttu-id="e3b75-426">Incorporación de informes de mantenimiento de Service Fabric personalizados</span><span class="sxs-lookup"><span data-stu-id="e3b75-426">Add custom Service Fabric health reports</span></span>](service-fabric-report-health.md)

[<span data-ttu-id="e3b75-427">Supervisión y diagnóstico de los servicios localmente</span><span class="sxs-lookup"><span data-stu-id="e3b75-427">Monitor and diagnose services locally</span></span>](service-fabric-diagnostics-how-to-monitor-and-diagnose-services-locally.md)

[<span data-ttu-id="e3b75-428">Actualización de la aplicación de Service Fabric</span><span class="sxs-lookup"><span data-stu-id="e3b75-428">Service Fabric application upgrade</span></span>](service-fabric-application-upgrade.md)

