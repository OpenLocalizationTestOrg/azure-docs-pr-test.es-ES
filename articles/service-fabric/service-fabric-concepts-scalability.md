---
title: aaaScalability de servicios de Service Fabric | Documentos de Microsoft
description: "Describe cómo los servicios de Service Fabric tooscale"
services: service-fabric
documentationcenter: .net
author: masnider
manager: timlt
editor: 
ms.assetid: ed324f23-242f-47b7-af1a-e55c839e7d5d
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 08/18/2017
ms.author: masnider
ms.openlocfilehash: 5af06f8f71ad5dee32ba115b922842684867e654
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="scaling-in-service-fabric"></a><span data-ttu-id="19f36-103">Reducción horizontalmente de Service Fabric</span><span class="sxs-lookup"><span data-stu-id="19f36-103">Scaling in Service Fabric</span></span>
<span data-ttu-id="19f36-104">Azure Service Fabric hace aplicaciones escalables toobuild fácil mediante la administración de servicios de hello, particiones y réplicas en nodos de Hola de un clúster.</span><span class="sxs-lookup"><span data-stu-id="19f36-104">Azure Service Fabric makes it easy toobuild scalable applications by managing hello services, partitions, and replicas on hello nodes of a cluster.</span></span> <span data-ttu-id="19f36-105">Ejecutan muchas cargas de trabajo en Hola el mismo uso de máximo de recursos de hardware permite, pero también proporciona flexibilidad en cuanto a cómo elegir tooscale las cargas de trabajo.</span><span class="sxs-lookup"><span data-stu-id="19f36-105">Running many workloads on hello same hardware enables maximum resource utilization, but also provides flexibility in terms of how you choose tooscale your workloads.</span></span> 

<span data-ttu-id="19f36-106">El escalado en Service Fabric se realiza de varias maneras diferentes:</span><span class="sxs-lookup"><span data-stu-id="19f36-106">Scaling in Service Fabric is accomplished several different ways:</span></span>

1. <span data-ttu-id="19f36-107">Escalado mediante la creación o eliminación de instancias de servicio sin estado</span><span class="sxs-lookup"><span data-stu-id="19f36-107">Scaling by creating or removing stateless service instances</span></span>
2. <span data-ttu-id="19f36-108">Escalado mediante la creación o eliminación de nuevos servicios con nombre</span><span class="sxs-lookup"><span data-stu-id="19f36-108">Scaling by creating or removing new named services</span></span>
3. <span data-ttu-id="19f36-109">Escalado mediante la creación o eliminación de nuevas instancias de aplicaciones con nombre</span><span class="sxs-lookup"><span data-stu-id="19f36-109">Scaling by creating or removing new named application instances</span></span>
4. <span data-ttu-id="19f36-110">Escalado mediante el uso de servicios particionados</span><span class="sxs-lookup"><span data-stu-id="19f36-110">Scaling by using partitioned services</span></span>
5. <span data-ttu-id="19f36-111">Ajuste de escala agregando y quitando nodos de clúster de Hola</span><span class="sxs-lookup"><span data-stu-id="19f36-111">Scaling by adding and removing nodes from hello cluster</span></span> 
6. <span data-ttu-id="19f36-112">Escalado mediante el uso de métricas de Cluster Resource Manager</span><span class="sxs-lookup"><span data-stu-id="19f36-112">Scaling by using Cluster Resource Manager metrics</span></span>

## <a name="scaling-by-creating-or-removing-stateless-service-instances"></a><span data-ttu-id="19f36-113">Escalado mediante la creación o eliminación de instancias de servicio sin estado</span><span class="sxs-lookup"><span data-stu-id="19f36-113">Scaling by creating or removing stateless service instances</span></span>
<span data-ttu-id="19f36-114">Uno de hello tooscale más sencilla de formas dentro de Service Fabric funciona con los servicios sin estado.</span><span class="sxs-lookup"><span data-stu-id="19f36-114">One of hello simplest ways tooscale within Service Fabric works with stateless services.</span></span> <span data-ttu-id="19f36-115">Cuando se crea un servicio sin estado, obtendrá una oportunidad toodefine un `InstanceCount`.</span><span class="sxs-lookup"><span data-stu-id="19f36-115">When you create a stateless service, you get a chance toodefine an `InstanceCount`.</span></span> <span data-ttu-id="19f36-116">`InstanceCount`define cuántas copias en ejecución del código de dicho servicio se crean cuando se inicia el servicio de Hola.</span><span class="sxs-lookup"><span data-stu-id="19f36-116">`InstanceCount` defines how many running copies of that service's code are created when hello service starts up.</span></span> <span data-ttu-id="19f36-117">Supongamos, por ejemplo, que hay 100 nodos en clúster de Hola.</span><span class="sxs-lookup"><span data-stu-id="19f36-117">Let's say, for example, that there are 100 nodes in hello cluster.</span></span> <span data-ttu-id="19f36-118">Supongamos también que se crea un servicio con un `InstanceCount` de 10.</span><span class="sxs-lookup"><span data-stu-id="19f36-118">Let's also say that a service is created with an `InstanceCount` of 10.</span></span> <span data-ttu-id="19f36-119">En tiempo de ejecución, las 10 copias en ejecución del código de hello todos dejen de estar demasiado ocupadas (o pudieron no ser lo suficientemente ocupadas).</span><span class="sxs-lookup"><span data-stu-id="19f36-119">During runtime, those 10 running copies of hello code could all become too busy (or could be not busy enough).</span></span> <span data-ttu-id="19f36-120">Una manera de tooscale esa carga de trabajo es el número de hello toochange de instancias.</span><span class="sxs-lookup"><span data-stu-id="19f36-120">One way tooscale that workload is toochange hello number of instances.</span></span> <span data-ttu-id="19f36-121">Por ejemplo, un fragmento de código de supervisión o administración puede cambiar Hola existente número de instancias too50 o too5, dependiendo de si la carga de trabajo de Hola debe tooscale o alejar hello en función de carga.</span><span class="sxs-lookup"><span data-stu-id="19f36-121">For example, some piece of monitoring or management code can change hello existing number of instances too50, or too5, depending on whether hello workload needs tooscale in or out based on hello load.</span></span> 

<span data-ttu-id="19f36-122">C#:</span><span class="sxs-lookup"><span data-stu-id="19f36-122">C#:</span></span>

```csharp
StatelessServiceUpdateDescription updateDescription = new StatelessServiceUpdateDescription(); 
updateDescription.InstanceCount = 50;
await fabricClient.ServiceManager.UpdateServiceAsync(new Uri("fabric:/app/service"), updateDescription);
```

<span data-ttu-id="19f36-123">Powershell:</span><span class="sxs-lookup"><span data-stu-id="19f36-123">Powershell:</span></span>

```posh
Update-ServiceFabricService -Stateless -ServiceName $serviceName -InstanceCount 50
```
### <a name="using-dynamic-instance-count"></a><span data-ttu-id="19f36-124">Uso de recuento de instancias dinámicas</span><span class="sxs-lookup"><span data-stu-id="19f36-124">Using Dynamic Instance Count</span></span>
<span data-ttu-id="19f36-125">Específicamente para los servicios sin estado, Service Fabric ofrece un recuento de instancias de manera automática toochange Hola.</span><span class="sxs-lookup"><span data-stu-id="19f36-125">Specifically for stateless services, Service Fabric offers an automatic way toochange hello instance count.</span></span> <span data-ttu-id="19f36-126">Esto permite Hola servicio tooscale dinámicamente con número de Hola de nodos que están disponibles.</span><span class="sxs-lookup"><span data-stu-id="19f36-126">This allows hello service tooscale dynamically with hello number of nodes that are available.</span></span> <span data-ttu-id="19f36-127">Hola forma tooopt de este comportamiento es recuento de instancias de hello tooset = -1.</span><span class="sxs-lookup"><span data-stu-id="19f36-127">hello way tooopt into this behavior is tooset hello instance count = -1.</span></span> <span data-ttu-id="19f36-128">InstanceCount = -1 es un tooService de instrucción tejido que dice "Ejecutar este servicio sin estado en todos los nodos".</span><span class="sxs-lookup"><span data-stu-id="19f36-128">InstanceCount = -1 is an instruction tooService Fabric that says "Run this stateless service on every node."</span></span> <span data-ttu-id="19f36-129">Si se cambia el número de Hola de nodos, Service Fabric cambia automáticamente toomatch de recuento de instancia de hello, asegurándose de que el servicio de hello está ejecutando en todos los nodos válidos.</span><span class="sxs-lookup"><span data-stu-id="19f36-129">If hello number of nodes changes, Service Fabric automatically changes hello instance count toomatch, ensuring that hello service is running on all valid nodes.</span></span> 

<span data-ttu-id="19f36-130">C#:</span><span class="sxs-lookup"><span data-stu-id="19f36-130">C#:</span></span>

```csharp
StatelessServiceDescription serviceDescription = new StatelessServiceDescription();
//Set other service properties necessary for creation....
serviceDescription.InstanceCount = -1;
await fc.ServiceManager.CreateServiceAsync(serviceDescription);
```

<span data-ttu-id="19f36-131">Powershell:</span><span class="sxs-lookup"><span data-stu-id="19f36-131">Powershell:</span></span>

```posh
New-ServiceFabricService -ApplicationName $applicationName -ServiceName $serviceName -ServiceTypeName $serviceTypeName -Stateless -PartitionSchemeSingleton -InstanceCount "-1"
```

## <a name="scaling-by-creating-or-removing-new-named-services"></a><span data-ttu-id="19f36-132">Escalado mediante la creación o eliminación de nuevos servicios con nombre</span><span class="sxs-lookup"><span data-stu-id="19f36-132">Scaling by creating or removing new named services</span></span>
<span data-ttu-id="19f36-133">Una instancia con nombre de servicio es una instancia específica de un tipo de servicio (vea [ciclo de vida de aplicación de Service Fabric](service-fabric-application-lifecycle.md)) dentro de alguna instancia con nombre de aplicación en clúster de Hola.</span><span class="sxs-lookup"><span data-stu-id="19f36-133">A named service instance is a specific instance of a service type (see [Service Fabric application life cycle](service-fabric-application-lifecycle.md)) within some named application instance in hello cluster.</span></span> 

<span data-ttu-id="19f36-134">Las nuevas instancias de servicio con nombre se pueden crear (o quitar) a medida que los servicios estén más o menos ocupados.</span><span class="sxs-lookup"><span data-stu-id="19f36-134">New named service instances can be created (or removed) as services become more or less busy.</span></span> <span data-ttu-id="19f36-135">Esto permite toobe solicitudes repartidos más instancias de servicio, normalmente lo carga en toodecrease de servicios existente.</span><span class="sxs-lookup"><span data-stu-id="19f36-135">This allows requests toobe spread across more service instances, usually allowing load on existing services toodecrease.</span></span> <span data-ttu-id="19f36-136">Al crear servicios, Hola, Administrador de recursos de clúster de tejido de servicio coloca servicios hello en clúster de Hola de manera distribuida.</span><span class="sxs-lookup"><span data-stu-id="19f36-136">When creating services, hello Service Fabric Cluster Resource Manager places hello services in hello cluster in a distributed fashion.</span></span> <span data-ttu-id="19f36-137">decisiones exacta Hola se rigen por hello [métricas](service-fabric-cluster-resource-manager-metrics.md) en clúster de Hola y otras reglas de selección de ubicación.</span><span class="sxs-lookup"><span data-stu-id="19f36-137">hello exact decisions are governed by hello [metrics](service-fabric-cluster-resource-manager-metrics.md) in hello cluster and other placement rules.</span></span> <span data-ttu-id="19f36-138">Los servicios se pueden crear varias maneras diferentes, pero hello más comunes son ya sea a través de acciones administrativas como alguien llamando a [ `New-ServiceFabricService` ](https://docs.microsoft.com/en-us/powershell/module/servicefabric/new-servicefabricservice?view=azureservicefabricps), o mediante una llamada de código [ `CreateServiceAsync` ](https://docs.microsoft.com/en-us/dotnet/api/system.fabric.fabricclient.servicemanagementclient.createserviceasync?view=azure-dotnet).</span><span class="sxs-lookup"><span data-stu-id="19f36-138">Services can be created several different ways, but hello most common are either through administrative actions like someone calling [`New-ServiceFabricService`](https://docs.microsoft.com/en-us/powershell/module/servicefabric/new-servicefabricservice?view=azureservicefabricps), or by code calling [`CreateServiceAsync`](https://docs.microsoft.com/en-us/dotnet/api/system.fabric.fabricclient.servicemanagementclient.createserviceasync?view=azure-dotnet).</span></span> <span data-ttu-id="19f36-139">`CreateServiceAsync`Puede incluso llamar desde dentro de otros servicios que se ejecutan en el clúster de Hola.</span><span class="sxs-lookup"><span data-stu-id="19f36-139">`CreateServiceAsync` can even be called from within other services running in hello cluster.</span></span>

<span data-ttu-id="19f36-140">La creación de servicios dinámicamente puede usarse en todo tipo de escenarios y es un patrón común.</span><span class="sxs-lookup"><span data-stu-id="19f36-140">Creating services dynamically can be used in all sorts of scenarios, and is a common pattern.</span></span> <span data-ttu-id="19f36-141">Por ejemplo, considere la posibilidad de un servicio con estado que representa un flujo de trabajo determinado.</span><span class="sxs-lookup"><span data-stu-id="19f36-141">For example, consider a stateful service that represents a particular workflow.</span></span> <span data-ttu-id="19f36-142">Que representa el trabajo de llamadas van tooshow toothis servicio y este servicio es continuo tooexecute Hola pasos toothat flujo de trabajo y registro del progreso.</span><span class="sxs-lookup"><span data-stu-id="19f36-142">Calls representing work are going tooshow up toothis service, and this service is going tooexecute hello steps toothat workflow and record progress.</span></span> 

<span data-ttu-id="19f36-143">¿Cómo realizaría esta escala del servicio determinado? Hello servicio podría ser apto para multiempresa en alguna forma y llamadas de aceptación y comenzar mismos pasos para distintas instancias del programa Hola a todos a la vez el flujo de trabajo.</span><span class="sxs-lookup"><span data-stu-id="19f36-143">How would you make this particular service scale? hello service could be multi-tenant in some form, and accept calls and kick off steps for many different instances of hello same workflow all at once.</span></span> <span data-ttu-id="19f36-144">Sin embargo, que puede dificultar el código de hello, desde ahora tiene tooworry sobre distintas instancias del programa Hola a mismo flujo de trabajo, todo en distintas fases y desde diferentes clientes.</span><span class="sxs-lookup"><span data-stu-id="19f36-144">However, that can make hello code more complex, since now it has tooworry about many different instances of hello same workflow, all at different stages and from different customers.</span></span> <span data-ttu-id="19f36-145">Además, Hola a controlar varios flujos de trabajo en hello al mismo tiempo no se soluciona el problema de escala.</span><span class="sxs-lookup"><span data-stu-id="19f36-145">Also, handling multiple workflows at hello same time doesn't solve hello scale problem.</span></span> <span data-ttu-id="19f36-146">Esto es porque en algún momento este servicio consumirá demasiados toofit de recursos en un equipo determinado.</span><span class="sxs-lookup"><span data-stu-id="19f36-146">This is because at some point this service will consume too many resources toofit on a particular machine.</span></span> <span data-ttu-id="19f36-147">Muchos servicios que no se creó este patrón en primer lugar de hello también experimentan dificultades debido a un cuello de botella inherente de toosome o ralentiza la ejecución en su código.</span><span class="sxs-lookup"><span data-stu-id="19f36-147">Many services not built for this pattern in hello first place also experience difficulty due toosome inherent bottleneck or slowdown in their code.</span></span> <span data-ttu-id="19f36-148">Estos tipos de problemas de hacer que el servicio de hello no toowork también cuando obtiene mayor número de Hola de flujos de trabajo simultáneas que está realizando el seguimiento.</span><span class="sxs-lookup"><span data-stu-id="19f36-148">These types of issues cause hello service not toowork as well when hello number of concurrent workflows it is tracking gets larger.</span></span>  

<span data-ttu-id="19f36-149">Una solución es toocreate una instancia de este servicio para cada instancia de flujo de trabajo de hello diferentes que desee tootrack.</span><span class="sxs-lookup"><span data-stu-id="19f36-149">A solution is toocreate an instance of this service for every different instance of hello workflow you want tootrack.</span></span> <span data-ttu-id="19f36-150">Esto es un patrón excelente y funciona si el servicio de hello es con o sin estado.</span><span class="sxs-lookup"><span data-stu-id="19f36-150">This is a great pattern and works whether hello service is stateless or stateful.</span></span> <span data-ttu-id="19f36-151">Para este toowork patrón, hay normalmente otro servicio que actúa como un "servicio de administrador de cargas de trabajo".</span><span class="sxs-lookup"><span data-stu-id="19f36-151">For this pattern toowork, there's usually another service that acts as a "Workload Manager Service".</span></span> <span data-ttu-id="19f36-152">trabajo de Hola de este servicio es tooreceive solicitudes y tooroute esos servicios de tooother de solicitudes.</span><span class="sxs-lookup"><span data-stu-id="19f36-152">hello job of this service is tooreceive requests and tooroute those requests tooother services.</span></span> <span data-ttu-id="19f36-153">Administrador Hola puede crear dinámicamente una instancia de servicio de carga de trabajo de hello cuando recibe mensajes de bienvenida y, a continuación, pasar en services toothose de solicitudes.</span><span class="sxs-lookup"><span data-stu-id="19f36-153">hello manager can dynamically create an instance of hello workload service when it receives hello message, and then pass on requests toothose services.</span></span> <span data-ttu-id="19f36-154">servicio de administrador de Hello también podría recibir devoluciones de llamada cuando un servicio de flujo de trabajo determinado complete su trabajo.</span><span class="sxs-lookup"><span data-stu-id="19f36-154">hello manager service could also receive callbacks when a given workflow service completes its job.</span></span> <span data-ttu-id="19f36-155">Cuando el Administrador de hello recibe estas devoluciones de llamada podría eliminar esa instancia de servicio de flujo de trabajo de Hola o dejarla si se esperan más llamadas.</span><span class="sxs-lookup"><span data-stu-id="19f36-155">When hello manager receives these callbacks it could delete that instance of hello workflow service, or leave it if more calls are expected.</span></span> 

<span data-ttu-id="19f36-156">Las versiones avanzadas de este tipo de administrador de incluso pueden crear grupos de servicios de Hola que administra.</span><span class="sxs-lookup"><span data-stu-id="19f36-156">Advanced versions of this type of manager can even create pools of hello services that it manages.</span></span> <span data-ttu-id="19f36-157">grupo de Hello ayuda a garantizar que, cuando llega una nueva solicitud de no tener toowait para hello servicio toospin hasta.</span><span class="sxs-lookup"><span data-stu-id="19f36-157">hello pool helps ensure that when a new request comes in it doesn't have toowait for hello service toospin up.</span></span> <span data-ttu-id="19f36-158">En su lugar, el Administrador de hello puede elegir un servicio de flujo de trabajo que no está ocupado actualmente desde el grupo de hello, o enrutar de forma aleatoria.</span><span class="sxs-lookup"><span data-stu-id="19f36-158">Instead, hello manager can just pick a workflow service that is not currently busy from hello pool, or route randomly.</span></span> <span data-ttu-id="19f36-159">Mantener un grupo de servicios disponibles hace que las nuevas solicitudes de control con mayor rapidez, ya que es menos probable que dicha solicitud hello tiene toowait para un nuevo toobe de servicio Active.</span><span class="sxs-lookup"><span data-stu-id="19f36-159">Keeping a pool of services available makes handling new requests faster, since it is less likely that hello request has toowait for a new service toobe spun up.</span></span> <span data-ttu-id="19f36-160">La creación de nuevos servicios es rápida, pero no es libre o instantánea.</span><span class="sxs-lookup"><span data-stu-id="19f36-160">Creating new services is quick, but not free or instantaneous.</span></span> <span data-ttu-id="19f36-161">grupo de Hello ayuda a minimizar Hola cantidad de tiempo de solicitud de hello tiene toowait antes de que se están atendidas.</span><span class="sxs-lookup"><span data-stu-id="19f36-161">hello pool helps minimize hello amount of time hello request has toowait before being serviced.</span></span> <span data-ttu-id="19f36-162">A menudo verá este patrón de administrador y de grupo cuando los tiempos de respuesta más importan Hola.</span><span class="sxs-lookup"><span data-stu-id="19f36-162">You'll often see this manager and pool pattern when response times matter hello most.</span></span> <span data-ttu-id="19f36-163">Solicitud de hello puesta en cola y crear servicio hello en segundo plano de Hola y _, a continuación,_ pasarlo también es un patrón de administrador populares, como es crear y eliminar servicios basados en algún servicio de seguimiento de cantidad de Hola de trabajo que actualmente tiene pendiente.</span><span class="sxs-lookup"><span data-stu-id="19f36-163">Queuing hello request and creating hello service in hello background and _then_ passing it on is also a popular manager pattern, as is creating and deleting services based on some tracking of hello amount of work that service currently has pending.</span></span> 

## <a name="scaling-by-creating-or-removing-new-named-application-instances"></a><span data-ttu-id="19f36-164">Escalado mediante la creación o eliminación de nuevas instancias de aplicaciones con nombre</span><span class="sxs-lookup"><span data-stu-id="19f36-164">Scaling by creating or removing new named application instances</span></span>
<span data-ttu-id="19f36-165">Crear y eliminar instancias de toda la aplicación es el patrón toohello similar de creación y eliminación de servicios.</span><span class="sxs-lookup"><span data-stu-id="19f36-165">Creating and deleting whole application instances is similar toohello pattern of creating and deleting services.</span></span> <span data-ttu-id="19f36-166">Este patrón, hay algún servicio de administrador que está realizando la decisión de hello en función de las solicitudes de Hola que está viendo e información Hola está recibiendo Hola otros servicios en clúster de Hola.</span><span class="sxs-lookup"><span data-stu-id="19f36-166">For this pattern, there's some manager service that is making hello decision based on hello requests that it is seeing and hello information it is receiving from hello other services inside hello cluster.</span></span> 

<span data-ttu-id="19f36-167">¿Cuándo se debe crear una nueva instancia de aplicación con nombre en lugar de crear nuevas instancias de servicio con nombre en alguna aplicación ya existente?</span><span class="sxs-lookup"><span data-stu-id="19f36-167">When should creating a new named application instance be used instead of creating a new named service instances in some already existing application?</span></span> <span data-ttu-id="19f36-168">Hay algunos casos:</span><span class="sxs-lookup"><span data-stu-id="19f36-168">There's a few cases:</span></span>

  * <span data-ttu-id="19f36-169">la nueva instancia de la aplicación de Hello es para un cliente cuyo código necesita toorun en alguna identidad concreta o configuración de seguridad.</span><span class="sxs-lookup"><span data-stu-id="19f36-169">hello new application instance is for a customer whose code needs toorun under some particular identity or security settings.</span></span>
    * <span data-ttu-id="19f36-170">Service Fabric permite definir toorun de paquetes de códigos diferentes con identidades determinadas.</span><span class="sxs-lookup"><span data-stu-id="19f36-170">Service Fabric allows defining different code packages toorun under particular identities.</span></span> <span data-ttu-id="19f36-171">En orden toolaunch hello mismo paquete de código con identidades diferentes, las activaciones de hello necesario toooccur en instancias de aplicación diferente.</span><span class="sxs-lookup"><span data-stu-id="19f36-171">In order toolaunch hello same code package under different identities, hello activations need toooccur in different application instances.</span></span> <span data-ttu-id="19f36-172">Considere la posibilidad de un caso en el que tenga cargas de trabajo implementadas de un cliente existente.</span><span class="sxs-lookup"><span data-stu-id="19f36-172">Consider a case where you have an existing customer's workloads deployed.</span></span> <span data-ttu-id="19f36-173">Estos pueden ejecutar bajo una identidad concreta para que pueda supervisar y controlar sus tooother acceder a recursos, como bases de datos remotas u otros sistemas.</span><span class="sxs-lookup"><span data-stu-id="19f36-173">These may be running under a particular identity so you can monitor and control their access tooother resources, such as remote databases or other systems.</span></span> <span data-ttu-id="19f36-174">En este caso, cuando un nuevo cliente se suscribe, probablemente no es conveniente tooactivate código de hello mismo contexto (espacio de proceso).</span><span class="sxs-lookup"><span data-stu-id="19f36-174">In this case, when a new customer signs up, you probably don't want tooactivate their code in hello same context (process space).</span></span> <span data-ttu-id="19f36-175">Aunque es posible, esto dificulta que los tooact de código de servicio en contexto de Hola de una identidad concreta.</span><span class="sxs-lookup"><span data-stu-id="19f36-175">While you could, this makes it harder for your service code tooact within hello context of a particular identity.</span></span> <span data-ttu-id="19f36-176">Por lo general, debe tener más código de administración de identidad, aislamiento y seguridad.</span><span class="sxs-lookup"><span data-stu-id="19f36-176">You typically must have more security, isolation, and identity management code.</span></span> <span data-ttu-id="19f36-177">En lugar de usar diferentes con el nombre de servicio instancias dentro Hola la misma instancia de aplicación y, por tanto, Hola mismo espacio de proceso, puede utilizar distintas instancias con nombre de aplicación de tejido de servicio.</span><span class="sxs-lookup"><span data-stu-id="19f36-177">Instead of using different named service instances within hello same application instance and hence hello same process space, you can use different named Service Fabric Application instances.</span></span> <span data-ttu-id="19f36-178">Esto hace más fácil de contextos de identidad diferentes toodefine.</span><span class="sxs-lookup"><span data-stu-id="19f36-178">This makes it easier toodefine different identity contexts.</span></span>
  * <span data-ttu-id="19f36-179">la nueva instancia de la aplicación de Hello también actúa como un medio de configuración</span><span class="sxs-lookup"><span data-stu-id="19f36-179">hello new application instance also serves as a means of configuration</span></span>
    * <span data-ttu-id="19f36-180">De forma predeterminada, todos Hola denominado instancias de servicio de un tipo de servicio determinado dentro de una instancia de la aplicación se ejecutarán en hello mismo proceso en un nodo determinado.</span><span class="sxs-lookup"><span data-stu-id="19f36-180">By default, all of hello named service instances of a particular service type within an application instance will run in hello same process on a given node.</span></span> <span data-ttu-id="19f36-181">Esto significa que aunque puede configurar cada instancia de servicio de forma diferente, hacerlo es complicado.</span><span class="sxs-lookup"><span data-stu-id="19f36-181">What this means is that while you can configure each service instance differently, doing so is complicated.</span></span> <span data-ttu-id="19f36-182">Servicios deben tener algunos token usan toolook seguridad su configuración dentro de un paquete de configuración.</span><span class="sxs-lookup"><span data-stu-id="19f36-182">Services must have some token they use toolook up their config within a configuration package.</span></span> <span data-ttu-id="19f36-183">Normalmente esto es simplemente el nombre del servicio de Hola.</span><span class="sxs-lookup"><span data-stu-id="19f36-183">Usually this is just hello service's name.</span></span> <span data-ttu-id="19f36-184">Esto funciona bien, pero acopla con nombres de toohello de configuración de Hola Hola individuales con nombre de instancias de servicio dentro de esa instancia de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="19f36-184">This works fine, but it couples hello configuration toohello names of hello individual named service instances within that application instance.</span></span> <span data-ttu-id="19f36-185">Esto puede resultar confuso y disco duro toomanage desde configuración suele ser un artefacto de tiempo de diseño con valores específicos de la instancia de aplicación.</span><span class="sxs-lookup"><span data-stu-id="19f36-185">This can be confusing and hard toomanage since configuration is normally a design time artifact with application instance specific values.</span></span> <span data-ttu-id="19f36-186">Crear más servicios siempre significa las actualizaciones de aplicaciones más información de hello toochange dentro de paquetes de configuración de Hola o toodeploy nuevos para que su información específica, pueden buscar servicios nuevos de Hola.</span><span class="sxs-lookup"><span data-stu-id="19f36-186">Creating more services always means more application upgrades toochange hello information within hello config packages or toodeploy new ones so that hello new services can look up their specific information.</span></span> <span data-ttu-id="19f36-187">A menudo resulta más fácil toocreate una instancia con nombre de aplicación totalmente nueva.</span><span class="sxs-lookup"><span data-stu-id="19f36-187">It's often easier toocreate a whole new named application instance.</span></span> <span data-ttu-id="19f36-188">A continuación, puede utilizar tooset de parámetros de aplicación Hola cualquier configuración es necesaria para los servicios de Hola.</span><span class="sxs-lookup"><span data-stu-id="19f36-188">Then you can use hello application parameters tooset whatever configuration is necessary for hello services.</span></span> <span data-ttu-id="19f36-189">Este modo todos los servicios de Hola que se crean dentro de ese de instancia con nombre de aplicación puede heredar valores de configuración particulares.</span><span class="sxs-lookup"><span data-stu-id="19f36-189">This way all of hello services that are created within that named application instance can inherit particular configuration settings.</span></span> <span data-ttu-id="19f36-190">Por ejemplo, en lugar de tener un único archivo de configuración con las opciones de Hola y las personalizaciones de todos los clientes, como secretos o por los límites de recursos del cliente, en su lugar, tendrás que una instancia de aplicación diferente para cada cliente con esta configuración se reemplaza.</span><span class="sxs-lookup"><span data-stu-id="19f36-190">For example, instead of having a single configuration file with hello settings and customizations for every customer, such as secrets or per customer resource limits, you'd instead have a different application instance for each customer with these settings overridden.</span></span> 
  * <span data-ttu-id="19f36-191">nueva aplicación de Hello actúa como un límite de actualización</span><span class="sxs-lookup"><span data-stu-id="19f36-191">hello new application serves as an upgrade boundary</span></span>
    * <span data-ttu-id="19f36-192">Dentro de Service Fabric, las instancias de aplicación con nombre diferentes actúan como límites para la actualización.</span><span class="sxs-lookup"><span data-stu-id="19f36-192">Within Service Fabric, different named application instances serve as boundaries for upgrade.</span></span> <span data-ttu-id="19f36-193">Una actualización de una instancia con nombre de aplicación no afectará al código de hello que está ejecutando otra instancia de aplicación con nombre.</span><span class="sxs-lookup"><span data-stu-id="19f36-193">An upgrade of one named application instance will not impact hello code that another named application instance is running.</span></span> <span data-ttu-id="19f36-194">Hello distintas aplicaciones terminará ejecutan versiones diferentes del mismo código de hello en hello mismos nodos.</span><span class="sxs-lookup"><span data-stu-id="19f36-194">hello different applications will end up running different versions of hello same code on hello same nodes.</span></span> <span data-ttu-id="19f36-195">Esto puede ser un factor cuando necesite toomake una decisión escala porque se puede elegir que si el nuevo código de hello debe seguir Hola mismo actualiza como otro servicio o no.</span><span class="sxs-lookup"><span data-stu-id="19f36-195">This can be a factor when you need toomake a scaling decision because you can choose whether hello new code should follow hello same upgrades as another service or not.</span></span> <span data-ttu-id="19f36-196">Por ejemplo, supongamos que una llamada llega al servicio de administrador de Hola que se encarga de ajuste de escala en las cargas de trabajo de un cliente determinado creando y eliminando los servicios de forma dinámica.</span><span class="sxs-lookup"><span data-stu-id="19f36-196">For example, say that a call arrives at hello manager service that is responsible for scaling a particular customer's workloads by creating and deleting services dynamically.</span></span> <span data-ttu-id="19f36-197">En este caso no obstante, llamada hello es para una carga de trabajo asociado con un _nueva_ al cliente.</span><span class="sxs-lookup"><span data-stu-id="19f36-197">In this case however, hello call is for a workload associated with a _new_ customer.</span></span> <span data-ttu-id="19f36-198">Mayoría de los clientes que estar aisladas entre sí no solo por razones de seguridad y la configuración de hello indicadas anteriormente, pero porque ofrece mayor flexibilidad en cuanto a ejecutando versiones específicas de software de Hola y de elegir cuándo actualizará.</span><span class="sxs-lookup"><span data-stu-id="19f36-198">Most customers like being isolated from each other not just for hello security and configuration reasons listed previously, but because it provides more flexibility in terms of running specific versions of hello software and choosing when they get upgraded.</span></span> <span data-ttu-id="19f36-199">También puede crear una nueva instancia de la aplicación y crear servicio Hola allí simplemente toofurther partición Hola cantidad de los servicios que se tocan cualquier una actualización.</span><span class="sxs-lookup"><span data-stu-id="19f36-199">You may also create a new application instance and create hello service there simply toofurther partition hello amount of your services that any one upgrade will touch.</span></span> <span data-ttu-id="19f36-200">Las instancias de aplicaciones independientes proporcionan mayor granularidad al realizar las actualizaciones de aplicación y también permiten las pruebas A/B y las implementaciones Azul/Verde.</span><span class="sxs-lookup"><span data-stu-id="19f36-200">Separate application instances provide greater granularity when doing application upgrades, and also enable A/B testing and Blue/Green deployments.</span></span> 
  * <span data-ttu-id="19f36-201">instancia de aplicación existente de Hello está lleno</span><span class="sxs-lookup"><span data-stu-id="19f36-201">hello existing application instance is full</span></span>
    * <span data-ttu-id="19f36-202">En Service Fabric, [capacidad de las aplicaciones](service-fabric-cluster-resource-manager-application-groups.md) es un concepto que puede usar la cantidad de hello toocontrol de recursos disponibles para instancias de aplicación determinado.</span><span class="sxs-lookup"><span data-stu-id="19f36-202">In Service Fabric, [application capacity](service-fabric-cluster-resource-manager-application-groups.md) is a concept that you can use toocontrol hello amount of resources available for particular application instances.</span></span> <span data-ttu-id="19f36-203">Por ejemplo, puede decidir que un servicio determinado necesita toohave otra instancia que se creó en orden tooscale.</span><span class="sxs-lookup"><span data-stu-id="19f36-203">For example, you may decide that a given service needs toohave another instance created in order tooscale.</span></span> <span data-ttu-id="19f36-204">Sin embargo, esta instancia de aplicación está fuera de su capacidad para una métrica determinada.</span><span class="sxs-lookup"><span data-stu-id="19f36-204">However, this application instance is out of capacity for a certain metric.</span></span> <span data-ttu-id="19f36-205">Si este cliente en particular o la carga de trabajo todavía se debe conceder más recursos, a continuación, se podría aumentar capacidad existente de Hola para esa aplicación o cree una nueva aplicación.</span><span class="sxs-lookup"><span data-stu-id="19f36-205">If this particular customer or workload should still be granted more resources, then you could either increase hello existing capacity for that application or create a new application.</span></span> 

## <a name="scaling-at-hello-partition-level"></a><span data-ttu-id="19f36-206">Ajuste de escala en el nivel de partición de Hola</span><span class="sxs-lookup"><span data-stu-id="19f36-206">Scaling at hello partition level</span></span>
<span data-ttu-id="19f36-207">Service Fabric es compatible con la creación de particiones.</span><span class="sxs-lookup"><span data-stu-id="19f36-207">Service Fabric supports partitioning.</span></span> <span data-ttu-id="19f36-208">La partición divide un servicio en varias secciones lógicas y físicas, cada una de las cuales actúa independientemente.</span><span class="sxs-lookup"><span data-stu-id="19f36-208">Partitioning splits a service into several logical and physical sections, each of which operates independently.</span></span> <span data-ttu-id="19f36-209">Esto es útil con los servicios con estado, ya que ningún otro conjunto de réplicas tiene toohandle todas las llamadas de Hola y manipular todo Estado Hola al mismo tiempo.</span><span class="sxs-lookup"><span data-stu-id="19f36-209">This is useful with stateful services, since no one set of replicas has toohandle all hello calls and manipulate all of hello state at once.</span></span> <span data-ttu-id="19f36-210">Hola [información general de creación de particiones](service-fabric-concepts-partitioning.md) proporciona información sobre los tipos de Hola de esquemas de partición que se admiten.</span><span class="sxs-lookup"><span data-stu-id="19f36-210">hello [partitioning overview](service-fabric-concepts-partitioning.md) provides information on hello types of partitioning schemes that are supported.</span></span> <span data-ttu-id="19f36-211">réplicas de Hola de cada partición se reparten entre nodos de hello en un clúster, la distribución de carga de dicho servicio y asegurarse de que ninguno de estos servicios Hola como un todo o cualquier partición tiene un único punto de error.</span><span class="sxs-lookup"><span data-stu-id="19f36-211">hello replicas of each partition are spread across hello nodes in a cluster, distributing that service's load and ensuring that neither hello service as a whole or any partition has a single point of failure.</span></span> 

<span data-ttu-id="19f36-212">Considere la posibilidad de que un servicio que usa un esquema de particiones de intervalo con una clave baja de 0, una clave alta de 99 y un recuento de 4 particiones.</span><span class="sxs-lookup"><span data-stu-id="19f36-212">Consider a service that uses a ranged partitioning scheme with a low key of 0, a high key of 99, and a partition count of 4.</span></span> <span data-ttu-id="19f36-213">En un clúster de tres nodos, podría dispuesto servicio Hola con cuatro réplicas que comparten recursos de hello en cada nodo tal y como se muestra aquí:</span><span class="sxs-lookup"><span data-stu-id="19f36-213">In a three-node cluster, hello service might be laid out with four replicas that share hello resources on each node as shown here:</span></span>

<span data-ttu-id="19f36-214"><center>
![Diseño de partición con tres nodos](./media/service-fabric-concepts-scalability/layout-three-nodes.png)
</center></span><span class="sxs-lookup"><span data-stu-id="19f36-214"><center>
![Partition layout with three nodes](./media/service-fabric-concepts-scalability/layout-three-nodes.png)
</center></span></span>

<span data-ttu-id="19f36-215">Si se aumenta el número de Hola de nodos, Service Fabric moverá algunas de las réplicas existentes de hello no existe.</span><span class="sxs-lookup"><span data-stu-id="19f36-215">If you increase hello number of nodes, Service Fabric will move some of hello existing replicas there.</span></span> <span data-ttu-id="19f36-216">Por ejemplo, supongamos que aumenta el número de Hola de nodos toofour y obtengan redistribuir réplicas Hola.</span><span class="sxs-lookup"><span data-stu-id="19f36-216">For example, let's say hello number of nodes increases toofour and hello replicas get redistributed.</span></span> <span data-ttu-id="19f36-217">Ahora el servicio de hello tiene ahora tres réplicas que se ejecutan en cada nodo, cada uno de ellos que pertenecen toodifferent particiones.</span><span class="sxs-lookup"><span data-stu-id="19f36-217">Now hello service now has three replicas running on each node, each belonging toodifferent partitions.</span></span> <span data-ttu-id="19f36-218">Esto permite una mejor utilización de recursos desde el nuevo nodo de hello no está frío.</span><span class="sxs-lookup"><span data-stu-id="19f36-218">This allows better resource utilization since hello new node isn't cold.</span></span> <span data-ttu-id="19f36-219">Normalmente, también aumenta el rendimiento ya que cada servicio tiene más tooit de recursos disponibles.</span><span class="sxs-lookup"><span data-stu-id="19f36-219">Typically, it also improves performance as each service has more resources available tooit.</span></span>

<span data-ttu-id="19f36-220"><center>
![Diseño de partición con cuatro nodos](./media/service-fabric-concepts-scalability/layout-four-nodes.png)
</center></span><span class="sxs-lookup"><span data-stu-id="19f36-220"><center>
![Partition layout with four nodes](./media/service-fabric-concepts-scalability/layout-four-nodes.png)
</center></span></span>

## <a name="scaling-by-using-hello-service-fabric-cluster-resource-manager-and-metrics"></a><span data-ttu-id="19f36-221">Ajuste de escala mediante Hola, Administrador de recursos de clúster de Service Fabric y métricas</span><span class="sxs-lookup"><span data-stu-id="19f36-221">Scaling by using hello Service Fabric Cluster Resource Manager and metrics</span></span>
<span data-ttu-id="19f36-222">[Las métricas](service-fabric-cluster-resource-manager-metrics.md) son cómo services express su tooService de consumo de recursos tejido.</span><span class="sxs-lookup"><span data-stu-id="19f36-222">[Metrics](service-fabric-cluster-resource-manager-metrics.md) are how services express their resource consumption tooService Fabric.</span></span> <span data-ttu-id="19f36-223">Usar las métricas le ofrece Hola, Administrador de recursos del clúster un tooreorganize oportunidad y optimizar el diseño de Hola de clúster de Hola.</span><span class="sxs-lookup"><span data-stu-id="19f36-223">Using metrics gives hello Cluster Resource Manager an opportunity tooreorganize and optimize hello layout of hello cluster.</span></span> <span data-ttu-id="19f36-224">Por ejemplo, puede haber una gran cantidad de recursos de clúster de hello, pero no se pueden asignar servicios toohello que actualmente se están realizando el trabajo.</span><span class="sxs-lookup"><span data-stu-id="19f36-224">For example, there may be plenty of resources in hello cluster, but they might not be allocated toohello services that are currently doing work.</span></span> <span data-ttu-id="19f36-225">Usar las métricas de permite hello tooreorganize del Administrador de recursos del clúster Hola clúster tooensure que los servicios tienen acceso toohello de recursos disponibles.</span><span class="sxs-lookup"><span data-stu-id="19f36-225">Using metrics allows hello Cluster Resource Manager tooreorganize hello cluster tooensure that services have access toohello available resources.</span></span> 


## <a name="scaling-by-adding-and-removing-nodes-from-hello-cluster"></a><span data-ttu-id="19f36-226">Ajuste de escala agregando y quitando nodos de clúster de Hola</span><span class="sxs-lookup"><span data-stu-id="19f36-226">Scaling by adding and removing nodes from hello cluster</span></span> 
<span data-ttu-id="19f36-227">Otra opción para ajustar la escala con Service Fabric es el tamaño de Hola de toochange de clúster de Hola.</span><span class="sxs-lookup"><span data-stu-id="19f36-227">Another option for scaling with Service Fabric is toochange hello size of hello cluster.</span></span> <span data-ttu-id="19f36-228">Cambiar el tamaño de Hola de clúster de hello significa agregar o quitar nodos en uno o varios de los tipos de nodos de hello en clúster de Hola.</span><span class="sxs-lookup"><span data-stu-id="19f36-228">Changing hello size of hello cluster means adding or removing nodes for one or more of hello node types in hello cluster.</span></span> <span data-ttu-id="19f36-229">Por ejemplo, considere un caso de que todos los nodos de hello en clúster de hello estén activos.</span><span class="sxs-lookup"><span data-stu-id="19f36-229">For example, consider a case where all of hello nodes in hello cluster are hot.</span></span> <span data-ttu-id="19f36-230">Esto significa que los recursos del clúster de hello son casi todo consumido.</span><span class="sxs-lookup"><span data-stu-id="19f36-230">This means that hello cluster's resources are almost all consumed.</span></span> <span data-ttu-id="19f36-231">En este caso, agregar más toohello nodos clúster es Hola mejor manera tooscale.</span><span class="sxs-lookup"><span data-stu-id="19f36-231">In this case, adding more nodes toohello cluster is hello best way tooscale.</span></span> <span data-ttu-id="19f36-232">Una vez que los nuevos nodos de hello unir Hola Hola de clúster Administrador de recursos de clúster de tejido de servicio mueve toothem de servicios, resultante total menos carga en los nodos existentes Hola.</span><span class="sxs-lookup"><span data-stu-id="19f36-232">Once hello new nodes join hello cluster hello Service Fabric Cluster Resource Manager moves services toothem, resulting in less total load on hello existing nodes.</span></span> <span data-ttu-id="19f36-233">Para servicios sin estado con un recuento de instancias = -1, se crean automáticamente más instancias de servicio.</span><span class="sxs-lookup"><span data-stu-id="19f36-233">For stateless services with instance count = -1, more service instances are automatically created.</span></span> <span data-ttu-id="19f36-234">Esto permite que algunos toomove de llamadas de hello existente nodos toohello nuevos nodos.</span><span class="sxs-lookup"><span data-stu-id="19f36-234">This allows some calls toomove from hello existing nodes toohello new nodes.</span></span> 

<span data-ttu-id="19f36-235">Agregar y quitar nodos toohello clúster puede realizarse a través del módulo de PowerShell del Administrador de recursos del servicio tejido Azure Hola.</span><span class="sxs-lookup"><span data-stu-id="19f36-235">Adding and removing nodes toohello cluster can be accomplished via hello Service Fabric Azure Resource Manager PowerShell module.</span></span>

```posh
Add-AzureRmServiceFabricNode -ResourceGroupName $resourceGroupName -Name $clusterResourceName -NodeType $nodeTypeName  -NumberOfNodesToAdd 5 
Remove-AzureRmServiceFabricNode -ResourceGroupName $resourceGroupName -Name $clusterResourceName -NodeType $nodeTypeName -NumberOfNodesToRemove 5
```

## <a name="putting-it-all-together"></a><span data-ttu-id="19f36-236">Resumen</span><span class="sxs-lookup"><span data-stu-id="19f36-236">Putting it all together</span></span>
<span data-ttu-id="19f36-237">¡Eche todas las ideas de Hola que se ha explicado aquí y hablar a través de un ejemplo.</span><span class="sxs-lookup"><span data-stu-id="19f36-237">Let's take all hello ideas that we've discussed here and talk through an example.</span></span> <span data-ttu-id="19f36-238">Considere la posibilidad de hello después de servicio: está tratando de toobuild un servicio que actúa como una libreta de direcciones, que contiene información de contacto y toonames.</span><span class="sxs-lookup"><span data-stu-id="19f36-238">Consider hello following service: you are trying toobuild a service that acts as an address book, holding on toonames and contact information.</span></span> 

<span data-ttu-id="19f36-239">Derecha por adelantado tiene una serie de preguntas relacionadas tooscale: ¿cuántos usuarios hay toohave continua?</span><span class="sxs-lookup"><span data-stu-id="19f36-239">Right up front you have a bunch of questions related tooscale: How many users are you going toohave?</span></span> <span data-ttu-id="19f36-240">¿Cuántos contactos almacenará cada usuario?</span><span class="sxs-lookup"><span data-stu-id="19f36-240">How many contacts will each user store?</span></span> <span data-ttu-id="19f36-241">Cuando se permanente configurar el servicio para hello primera vez es difícil intentar toofigure esto es todo.</span><span class="sxs-lookup"><span data-stu-id="19f36-241">Trying toofigure this all out when you are standing up your service for hello first time is difficult.</span></span> <span data-ttu-id="19f36-242">Supongamos que va toogo con un único servicio estático con un número de partición específica.</span><span class="sxs-lookup"><span data-stu-id="19f36-242">Let's say you were going toogo with a single static service with a specific partition count.</span></span> <span data-ttu-id="19f36-243">consecuencias de Hola de selección Hola incorrecto de recuento de particiones puede causar problemas de escalabilidad de toohave más tarde.</span><span class="sxs-lookup"><span data-stu-id="19f36-243">hello consequences of picking hello wrong partition count could cause you toohave scale issues later.</span></span> <span data-ttu-id="19f36-244">De igual forma, incluso si elige el recuento de derecho de hello que podría no tener toda la información de hello debe.</span><span class="sxs-lookup"><span data-stu-id="19f36-244">Similarly, even if you pick hello right count you might not have all hello information you need.</span></span> <span data-ttu-id="19f36-245">Por ejemplo, también se tienen toodecide Hola tamaño de clúster de Hola por adelantado, tanto en términos de número de Hola de nodos y sus tamaños.</span><span class="sxs-lookup"><span data-stu-id="19f36-245">For example, you also have toodecide hello size of hello cluster up front, both in terms of hello number of nodes and their sizes.</span></span> <span data-ttu-id="19f36-246">Su disco duro normalmente toopredict cuántos recursos un servicio va tooconsume durante su vida útil.</span><span class="sxs-lookup"><span data-stu-id="19f36-246">It's usually hard toopredict how many resources a service is going tooconsume over its lifetime.</span></span> <span data-ttu-id="19f36-247">También puede ser tooknow disco duro antes de patrón de tráfico de Hola de tiempo que el servicio de hello ve realmente.</span><span class="sxs-lookup"><span data-stu-id="19f36-247">It can also be hard tooknow ahead of time hello traffic pattern that hello service actually sees.</span></span> <span data-ttu-id="19f36-248">Por ejemplo, personas maybe agregar y quitar sus contactos sólo lo primero de mañana hello, o puede ser se distribuye por igual durante Hola de día de Hola.</span><span class="sxs-lookup"><span data-stu-id="19f36-248">For example, maybe people add and remove their contacts only first thing in hello morning, or maybe it's distributed evenly over hello course of hello day.</span></span> <span data-ttu-id="19f36-249">Se basa en el objeto que tenga tooscale y dinámicamente.</span><span class="sxs-lookup"><span data-stu-id="19f36-249">Based on this you might need tooscale out and in dynamically.</span></span> <span data-ttu-id="19f36-250">Quizá puede obtener información toopredict cuando se vayan tooneed tooscale y, pero en cualquier caso que probablemente vaya consumo de recursos de tooneed tooreact toochanging por el servicio.</span><span class="sxs-lookup"><span data-stu-id="19f36-250">Maybe you can learn toopredict when you're going tooneed tooscale out and in, but either way you're probably going tooneed tooreact toochanging resource consumption by your service.</span></span> <span data-ttu-id="19f36-251">Esto puede implicar cambiar el tamaño de Hola de clúster de hello en orden tooprovide más recursos cuando la reorganización de uso de recursos existentes no es suficiente.</span><span class="sxs-lookup"><span data-stu-id="19f36-251">This can involve changing hello size of hello cluster in order tooprovide more resources when reorganizing use of existing resources isn't enough.</span></span> 

<span data-ttu-id="19f36-252">Pero ¿por qué incluso intente toopick un esquema de partición único out para todos los usuarios?</span><span class="sxs-lookup"><span data-stu-id="19f36-252">But why even try toopick a single partition scheme out for all users?</span></span> <span data-ttu-id="19f36-253">¿Por qué limitarse tooone servicio y un clúster estático? situación real de Hello es normalmente más dinámica.</span><span class="sxs-lookup"><span data-stu-id="19f36-253">Why limit yourself tooone service and one static cluster? hello real situation is usually more dynamic.</span></span> 

<span data-ttu-id="19f36-254">Al compilar para la escala, considere la posibilidad de seguir un patrón dinámico de Hola.</span><span class="sxs-lookup"><span data-stu-id="19f36-254">When building for scale, consider hello following dynamic pattern.</span></span> <span data-ttu-id="19f36-255">Puede que necesite tooadapt se tooyour situación:</span><span class="sxs-lookup"><span data-stu-id="19f36-255">You may need tooadapt it tooyour situation:</span></span>

1. <span data-ttu-id="19f36-256">En lugar de intentar toopick un esquema de partición para todos los usuarios por adelantado, crear un "servicio de administrador".</span><span class="sxs-lookup"><span data-stu-id="19f36-256">Instead of trying toopick a partitioning scheme for everyone up front, build a "manager service".</span></span>
2. <span data-ttu-id="19f36-257">trabajo de Hello del servicio del Administrador de hello es toolook en la información del cliente cuando se registren para el servicio.</span><span class="sxs-lookup"><span data-stu-id="19f36-257">hello job of hello manager service is toolook at customer information when they sign up for your service.</span></span> <span data-ttu-id="19f36-258">A continuación, según esa información de servicio de administrador de hello cree una instancia de su _real_ servicio de almacenamiento de información de contacto _solo para ese cliente_.</span><span class="sxs-lookup"><span data-stu-id="19f36-258">Then depending on that information hello manager service create an instance of your _actual_ contact-storage service _just for that customer_.</span></span> <span data-ttu-id="19f36-259">Si requieren configuración específica, aislamiento o las actualizaciones, también puede decidir toospin una instancia de la aplicación para este cliente.</span><span class="sxs-lookup"><span data-stu-id="19f36-259">If they require particular configuration, isolation, or upgrades, you can also decide toospin up an Application instance for this customer.</span></span> 

<span data-ttu-id="19f36-260">Este patrón dinámico de creación implica muchas ventajas:</span><span class="sxs-lookup"><span data-stu-id="19f36-260">This dynamic creation pattern many benefits:</span></span>

  - <span data-ttu-id="19f36-261">No se trata de recuento de partición correcta de hello tooguess para todos los usuarios por adelantado o crear un servicio único que es infinitamente escalable por sí mismo.</span><span class="sxs-lookup"><span data-stu-id="19f36-261">You're not trying tooguess hello correct partition count for all users up front or build a single service that is infinitely scalable all on its own.</span></span> 
  - <span data-ttu-id="19f36-262">Distintos usuarios no tienen hello toohave misma partición recuento, número de réplicas, las restricciones de posición, métricas, carga de forma predeterminada, los nombres de servicio, configuración de dns ni ninguno de hello otras propiedades especificadas en el servicio de Hola o nivel de aplicación.</span><span class="sxs-lookup"><span data-stu-id="19f36-262">Different users don't have toohave hello same partition count, replica count, placement constraints, metrics, default loads, service names, dns settings, or any of hello other properties specified at hello service or application level.</span></span> 
  - <span data-ttu-id="19f36-263">Obtiene una segmentación de datos adicional.</span><span class="sxs-lookup"><span data-stu-id="19f36-263">You gain additional data segmentation.</span></span> <span data-ttu-id="19f36-264">Cada cliente tiene su propia copia del servicio de Hola</span><span class="sxs-lookup"><span data-stu-id="19f36-264">Each customer has their own copy of hello service</span></span>
    - <span data-ttu-id="19f36-265">El servicio de cada cliente se puede configurar de forma distinta y se le puede conceder más o menos recursos, con más o menos particiones o réplicas según sea necesario en función de la escala esperada.</span><span class="sxs-lookup"><span data-stu-id="19f36-265">Each customer service can be configured differently and granted more or fewer resources, with more or fewer partitions or replicas as necessary based on their expected scale.</span></span>
      - <span data-ttu-id="19f36-266">Por ejemplo, cliente hello pagaste Hola nivel "Gold": se obtienen más réplicas o recuento de particiones mayor y potencialmente recursos dedicados tootheir servicios a través de las capacidades de las métricas y la aplicación.</span><span class="sxs-lookup"><span data-stu-id="19f36-266">For example, say hello customer paid for hello "Gold" tier - they could get more replicas or greater partition count, and potentially resources dedicated tootheir services via metrics and application capacities.</span></span>
      - <span data-ttu-id="19f36-267">O supongamos proporciona información que indica el número de Hola de contactos que necesitan era "Pequeño", obtendrían solo algunas particiones o incluso puede poner en un grupo de servicios compartidos con otros clientes.</span><span class="sxs-lookup"><span data-stu-id="19f36-267">Or say they provided information indicating hello number of contacts they needed was "Small" - they would get only a few partitions, or could even be put into a shared service pool with other customers.</span></span>
  - <span data-ttu-id="19f36-268">No ejecuta una serie de instancias de servicio o réplicas mientras espera para los clientes tooshow seguridad</span><span class="sxs-lookup"><span data-stu-id="19f36-268">You're not running a bunch of service instances or replicas while you're waiting for customers tooshow up</span></span>
  - <span data-ttu-id="19f36-269">Si alguna vez deja de tener un cliente, a continuación, quite su información de su servicio es tan simple como que el Administrador de hello eliminar ese servicio o aplicación que lo creó.</span><span class="sxs-lookup"><span data-stu-id="19f36-269">If a customer ever leaves, then removing their information from your service is as simple as having hello manager delete that service or application that it created.</span></span>

## <a name="next-steps"></a><span data-ttu-id="19f36-270">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="19f36-270">Next steps</span></span>
<span data-ttu-id="19f36-271">Para obtener más información sobre conceptos de Service Fabric, vea Hola siguientes artículos:</span><span class="sxs-lookup"><span data-stu-id="19f36-271">For more information on Service Fabric concepts, see hello following articles:</span></span>

* [<span data-ttu-id="19f36-272">Disponibilidad de los servicios de Service Fabric</span><span class="sxs-lookup"><span data-stu-id="19f36-272">Availability of Service Fabric services</span></span>](service-fabric-availability-services.md)
* [<span data-ttu-id="19f36-273">Creación de particiones de los servicios de Service Fabric</span><span class="sxs-lookup"><span data-stu-id="19f36-273">Partitioning Service Fabric services</span></span>](service-fabric-concepts-partitioning.md)
