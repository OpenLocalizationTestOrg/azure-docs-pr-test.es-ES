---
title: Arquitectura del Administrador de aaaResource | Documentos de Microsoft
description: "Información general de la arquitectura de Service Fabric Cluster Resource Manager"
services: service-fabric
documentationcenter: .net
author: masnider
manager: timlt
editor: 
ms.assetid: 6c4421f9-834b-450c-939f-1cb4ff456b9b
ms.service: Service-Fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 08/18/2017
ms.author: masnider
ms.openlocfilehash: 9ea80273d0566a2ac25143ada3662875656b57b8
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="cluster-resource-manager-architecture-overview"></a><span data-ttu-id="edc39-103">Información general de la arquitectura del Administrador de recursos de clúster</span><span class="sxs-lookup"><span data-stu-id="edc39-103">Cluster resource manager architecture overview</span></span>
<span data-ttu-id="edc39-104">Hola, Administrador de recursos de clúster de tejido de servicio es un servicio central que se ejecuta en el clúster de Hola.</span><span class="sxs-lookup"><span data-stu-id="edc39-104">hello Service Fabric Cluster Resource Manager is a central service that runs in hello cluster.</span></span> <span data-ttu-id="edc39-105">Administra el estado de hello deseado de los servicios de hello en clúster de hello, especialmente con respecto al consumo tooresource y las reglas de selección de ubicación.</span><span class="sxs-lookup"><span data-stu-id="edc39-105">It manages hello desired state of hello services in hello cluster, particularly with respect tooresource consumption and any placement rules.</span></span> 

<span data-ttu-id="edc39-106">toomanage Hola recursos del clúster, Hola, Administrador de recursos de clúster de tejido de servicio debe tener varias piezas de información:</span><span class="sxs-lookup"><span data-stu-id="edc39-106">toomanage hello resources in your cluster, hello Service Fabric Cluster Resource Manager must have several pieces of information:</span></span>

- <span data-ttu-id="edc39-107">Qué servicios existen actualmente</span><span class="sxs-lookup"><span data-stu-id="edc39-107">Which services currently exist</span></span>
- <span data-ttu-id="edc39-108">Consumo de recursos actual (o predeterminado) de cada servicio</span><span class="sxs-lookup"><span data-stu-id="edc39-108">Each service's current (or default) resource consumption</span></span> 
- <span data-ttu-id="edc39-109">capacidad de clúster restantes Hola</span><span class="sxs-lookup"><span data-stu-id="edc39-109">hello remaining cluster capacity</span></span> 
- <span data-ttu-id="edc39-110">capacidad de Hola de nodos de hello en clúster de Hola</span><span class="sxs-lookup"><span data-stu-id="edc39-110">hello capacity of hello nodes in hello cluster</span></span> 
- <span data-ttu-id="edc39-111">cantidad de Hola de los recursos utilizados en cada nodo</span><span class="sxs-lookup"><span data-stu-id="edc39-111">hello amount of resources consumed on each node</span></span>

<span data-ttu-id="edc39-112">consumo de recursos de Hola de un servicio determinado puede cambiar con el tiempo y servicios preocupa normalmente más de un tipo de recurso.</span><span class="sxs-lookup"><span data-stu-id="edc39-112">hello resource consumption of a given service can change over time, and services usually care about more than one type of resource.</span></span> <span data-ttu-id="edc39-113">En los distintos servicios, es posible que se midan tanto los recursos lógicos como los recursos físicos reales.</span><span class="sxs-lookup"><span data-stu-id="edc39-113">Across different services, there may be both real physical and physical resources being measured.</span></span> <span data-ttu-id="edc39-114">Los servicios pueden hacer seguimiento de métricas físicas, como el consumo de disco y memoria.</span><span class="sxs-lookup"><span data-stu-id="edc39-114">Services may track physical metrics like memory and disk consumption.</span></span> <span data-ttu-id="edc39-115">Es más frecuentes que los servicios se ocupen de las métricas lógicas, como "WorkQueueDepth" o "TotalRequests".</span><span class="sxs-lookup"><span data-stu-id="edc39-115">More commonly, services may care about logical metrics - things like "WorkQueueDepth" or "TotalRequests".</span></span> <span data-ttu-id="edc39-116">Lógicas y físicas de las métricas pueden utilizarse en hello mismo clúster.</span><span class="sxs-lookup"><span data-stu-id="edc39-116">Both logical and physical metrics can be used in hello same cluster.</span></span> <span data-ttu-id="edc39-117">Las métricas se pueden compartir entre muchos servicios o ser tooa específico de servicio determinado.</span><span class="sxs-lookup"><span data-stu-id="edc39-117">Metrics can be shared across many services or be specific tooa particular service.</span></span>

## <a name="other-considerations"></a><span data-ttu-id="edc39-118">Otras consideraciones</span><span class="sxs-lookup"><span data-stu-id="edc39-118">Other considerations</span></span>
<span data-ttu-id="edc39-119">Hello propietarios y los operadores de clúster de hello pueden ser diferentes de Hola a los autores de servicio y de aplicación o en un mínimo son Hola mismo personas llevar sombreros distintos.</span><span class="sxs-lookup"><span data-stu-id="edc39-119">hello owners and operators of hello cluster can be different from hello service and application authors, or at a minimum are hello same people wearing different hats.</span></span> <span data-ttu-id="edc39-120">Hay algunas cosas que se saben sobre lo que necesita la aplicación al desarrollarla.</span><span class="sxs-lookup"><span data-stu-id="edc39-120">When you develop your application you know a few things about what it requires.</span></span> <span data-ttu-id="edc39-121">Tener una estimación de hello deben implementarse diferentes servicios y recursos que va a consumir.</span><span class="sxs-lookup"><span data-stu-id="edc39-121">You have an estimate of hello resources it will consume and how different services should be deployed.</span></span> <span data-ttu-id="edc39-122">Por ejemplo, nivel de hello web debe toorun en nodos expuestos toohello Internet, mientras los servicios de base de datos de hello no deberían.</span><span class="sxs-lookup"><span data-stu-id="edc39-122">For example, hello web tier needs toorun on nodes exposed toohello Internet, while hello database services should not.</span></span> <span data-ttu-id="edc39-123">Como otro ejemplo, servicios web de Hola probablemente están restringidos por la CPU y la red, al cuidado de servicios de nivel de hello datos más información sobre el consumo de memoria y disco.</span><span class="sxs-lookup"><span data-stu-id="edc39-123">As another example, hello web services are probably constrained by CPU and network, while hello data tier services care more about memory and disk consumption.</span></span> <span data-ttu-id="edc39-124">Sin embargo, persona Hola control de un incidente de sitio en vivo para ese servicio en producción, o que está administrando un servicio de actualización toohello tiene un toodo de trabajo diferentes y requiere distintas herramientas.</span><span class="sxs-lookup"><span data-stu-id="edc39-124">However, hello person handling a live-site incident for that service in production, or who is managing an upgrade toohello service has a different job toodo, and requires different tools.</span></span> 

<span data-ttu-id="edc39-125">Clúster de Hola y servicios son dinámicos:</span><span class="sxs-lookup"><span data-stu-id="edc39-125">Both hello cluster and services are dynamic:</span></span>

- <span data-ttu-id="edc39-126">puede aumentar y reducir el número de Hola de nodos de clúster de Hola</span><span class="sxs-lookup"><span data-stu-id="edc39-126">hello number of nodes in hello cluster can grow and shrink</span></span>
- <span data-ttu-id="edc39-127">Los nodos de distintos tipos y tamaños pueden ir y venir.</span><span class="sxs-lookup"><span data-stu-id="edc39-127">Nodes of different sizes and types can come and go</span></span>
- <span data-ttu-id="edc39-128">Se pueden crear y quitar servicios, así como cambiarles las asignaciones de recursos y las reglas de selección de ubicación deseadas.</span><span class="sxs-lookup"><span data-stu-id="edc39-128">Services can be created, removed, and change their desired resource allocations and placement rules</span></span>
- <span data-ttu-id="edc39-129">Las actualizaciones u otras operaciones de administración pueden poner en clúster de hello en la aplicación hello en los niveles de infraestructura</span><span class="sxs-lookup"><span data-stu-id="edc39-129">Upgrades or other management operations can roll through hello cluster at hello application on infrastructure levels</span></span>
- <span data-ttu-id="edc39-130">Pueden generarse errores en cualquier momento.</span><span class="sxs-lookup"><span data-stu-id="edc39-130">Failures can happen at any time.</span></span>

## <a name="cluster-resource-manager-components-and-data-flow"></a><span data-ttu-id="edc39-131">Componentes y flujo de datos del Administrador de recursos de clúster</span><span class="sxs-lookup"><span data-stu-id="edc39-131">Cluster resource manager components and data flow</span></span>
<span data-ttu-id="edc39-132">Hola, Administrador de recursos del clúster tiene requisitos de Hola de tootrack de cada servicio y Hola el consumo de recursos por cada objeto de servicio dentro de esos servicios.</span><span class="sxs-lookup"><span data-stu-id="edc39-132">hello Cluster Resource Manager has tootrack hello requirements of each service and hello consumption of resources by each service object within those services.</span></span> <span data-ttu-id="edc39-133">Hola, Administrador de recursos del clúster tiene dos partes conceptuales: agentes que se ejecutan en cada nodo y un servicio de tolerancia.</span><span class="sxs-lookup"><span data-stu-id="edc39-133">hello Cluster Resource Manager has two conceptual parts: agents that run on each node and a fault-tolerant service.</span></span> <span data-ttu-id="edc39-134">agentes de Hello en cada nodo de la carga de seguimiento informa de los servicios, agregados y periódicamente informa de ellos.</span><span class="sxs-lookup"><span data-stu-id="edc39-134">hello agents on each node track load reports from services, aggregate them, and periodically report them.</span></span> <span data-ttu-id="edc39-135">Hola servicio Administrador de recursos de clúster agrega toda la información de Hola de agentes locales de Hola y reacciona en función de su configuración actual.</span><span class="sxs-lookup"><span data-stu-id="edc39-135">hello Cluster Resource Manager service aggregates all hello information from hello local agents and reacts based on its current configuration.</span></span>

<span data-ttu-id="edc39-136">Echemos un vistazo a Hola siguiente diagrama:</span><span class="sxs-lookup"><span data-stu-id="edc39-136">Let’s look at hello following diagram:</span></span>

<span data-ttu-id="edc39-137"><center>
![Arquitectura del equilibrador de recursos][Image1]
</center></span><span class="sxs-lookup"><span data-stu-id="edc39-137"><center>
![Resource Balancer Architecture][Image1]
</center></span></span>

<span data-ttu-id="edc39-138">Durante el tiempo de ejecución, pueden ocurrir muchos cambios.</span><span class="sxs-lookup"><span data-stu-id="edc39-138">During runtime, there are many changes that could happen.</span></span> <span data-ttu-id="edc39-139">Por ejemplo, supongamos que la cantidad de Hola de recursos algunos servicios consumen cambios, algunos errores de servicios, y algunos nodos se conectan y desconectan clúster Hola.</span><span class="sxs-lookup"><span data-stu-id="edc39-139">For example, let’s say hello amount of resources some services consume changes, some services fail, and some nodes join and leave hello cluster.</span></span> <span data-ttu-id="edc39-140">Se agregan y se envían periódicamente el servicio de administrador de recursos de clúster de toohello (1,2) donde se agrega de nuevo, analiza y almacena todos los cambios de hello en un nodo.</span><span class="sxs-lookup"><span data-stu-id="edc39-140">All hello changes on a node are aggregated and periodically sent toohello Cluster Resource Manager service (1,2) where they are aggregated again, analyzed, and stored.</span></span> <span data-ttu-id="edc39-141">Cada pocos segundos que servicio examina cambios hello y determina si las acciones son necesarias (3).</span><span class="sxs-lookup"><span data-stu-id="edc39-141">Every few seconds that service looks at hello changes and determines if any actions are necessary (3).</span></span> <span data-ttu-id="edc39-142">Por ejemplo, podría observar que se han agregado algunos nodos vacíos toohello clúster.</span><span class="sxs-lookup"><span data-stu-id="edc39-142">For example, it could notice that some empty nodes have been added toohello cluster.</span></span> <span data-ttu-id="edc39-143">Como resultado, decisión toomove algunos nodos de toothose de servicios.</span><span class="sxs-lookup"><span data-stu-id="edc39-143">As a result, it decides toomove some services toothose nodes.</span></span> <span data-ttu-id="edc39-144">Hello Administrador de recursos del clúster podría también tenga en cuenta que un nodo concreto está sobrecargado o que determinados servicios se error o se ha eliminado, lo que libera recursos en otra parte.</span><span class="sxs-lookup"><span data-stu-id="edc39-144">hello Cluster Resource Manager could also notice that a particular node is overloaded, or that certain services have failed or been deleted, freeing up resources elsewhere.</span></span>

<span data-ttu-id="edc39-145">Vamos a mirar Hola después de diagrama y vea Qué sucede a continuación.</span><span class="sxs-lookup"><span data-stu-id="edc39-145">Let’s look at hello following diagram and see what happens next.</span></span> <span data-ttu-id="edc39-146">Vamos a decir que Hola, Administrador de recursos del clúster determina que son necesarios cambios.</span><span class="sxs-lookup"><span data-stu-id="edc39-146">Let’s say that hello Cluster Resource Manager determines that changes are necessary.</span></span> <span data-ttu-id="edc39-147">Coordina con otros cambios necesarios del sistema servicios (Hola determinado el Administrador de conmutación por error) toomake Hola.</span><span class="sxs-lookup"><span data-stu-id="edc39-147">It coordinates with other system services (in particular hello Failover Manager) toomake hello necessary changes.</span></span> <span data-ttu-id="edc39-148">A continuación, los comandos necesarios de Hola se envían nodos correspondientes toohello (4).</span><span class="sxs-lookup"><span data-stu-id="edc39-148">Then hello necessary commands are sent toohello appropriate nodes (4).</span></span> <span data-ttu-id="edc39-149">Por ejemplo, supongamos que Hola, Administrador de recursos había observado que Nodo5 sobrecarga y, por lo que decidió toomove servicio B de tooNode4 Nodo5.</span><span class="sxs-lookup"><span data-stu-id="edc39-149">For example, let's say hello Resource Manager noticed that Node5 was overloaded, and so decided toomove service B from Node5 tooNode4.</span></span> <span data-ttu-id="edc39-150">Al final de Hola de reconfiguración de hello (5), el clúster de hello tiene este aspecto:</span><span class="sxs-lookup"><span data-stu-id="edc39-150">At hello end of hello reconfiguration (5), hello cluster looks like this:</span></span>

<span data-ttu-id="edc39-151"><center>
![Arquitectura del equilibrador de recursos][Image2]
</center></span><span class="sxs-lookup"><span data-stu-id="edc39-151"><center>
![Resource Balancer Architecture][Image2]
</center></span></span>

## <a name="next-steps"></a><span data-ttu-id="edc39-152">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="edc39-152">Next steps</span></span>
- <span data-ttu-id="edc39-153">Hola, Administrador de recursos del clúster tiene muchas opciones para describir el clúster de Hola.</span><span class="sxs-lookup"><span data-stu-id="edc39-153">hello Cluster Resource Manager has many options for describing hello cluster.</span></span> <span data-ttu-id="edc39-154">toofind más información acerca de ellos, consulte este artículo en [que describe un clúster de Service Fabric](./service-fabric-cluster-resource-manager-cluster-description.md)</span><span class="sxs-lookup"><span data-stu-id="edc39-154">toofind out more about them, check out this article on [describing a Service Fabric cluster](./service-fabric-cluster-resource-manager-cluster-description.md)</span></span>
- <span data-ttu-id="edc39-155">tareas principal del Administrador de recursos de clúster Hola son reequilibrio clúster hello y exigir reglas de selección de ubicación.</span><span class="sxs-lookup"><span data-stu-id="edc39-155">hello Cluster Resource Manager's primary duties are rebalancing hello cluster and enforcing placement rules.</span></span> <span data-ttu-id="edc39-156">Para más información sobre cómo configurar estos comportamientos, vea [Equilibrio del clúster de Service Fabric](./service-fabric-cluster-resource-manager-balancing.md)</span><span class="sxs-lookup"><span data-stu-id="edc39-156">For more information on configuring these behaviors, see [balancing your Service Fabric cluster](./service-fabric-cluster-resource-manager-balancing.md)</span></span>

[Image1]:./media/service-fabric-cluster-resource-manager-architecture/Service-Fabric-Resource-Manager-Architecture-Activity-1.png
[Image2]:./media/service-fabric-cluster-resource-manager-architecture/Service-Fabric-Resource-Manager-Architecture-Activity-2.png
