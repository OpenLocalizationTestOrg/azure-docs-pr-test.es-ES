---
title: aaaDebug microservicios Azure en Windows | Documentos de Microsoft
description: "Obtenga información acerca de cómo toomonitor y diagnosticar los servicios escritos mediante Microsoft Azure Service Fabric en un equipo de desarrollo local."
services: service-fabric
documentationcenter: .net
author: dkkapur
manager: timlt
editor: 
ms.assetid: edcc0631-ed2d-45a3-851d-2c4fa0f4a326
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 04/24/2017
ms.author: dekapur
ms.openlocfilehash: 24868aa194b8a28fa3e6de95c1de5506d912a544
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="monitor-and-diagnose-services-in-a-local-machine-development-setup"></a><span data-ttu-id="a3c3b-103">Supervisión y diagnóstico de servicios en una configuración de desarrollo de máquina local</span><span class="sxs-lookup"><span data-stu-id="a3c3b-103">Monitor and diagnose services in a local machine development setup</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="a3c3b-104">Windows</span><span class="sxs-lookup"><span data-stu-id="a3c3b-104">Windows</span></span>](service-fabric-diagnostics-how-to-monitor-and-diagnose-services-locally.md)
> * [<span data-ttu-id="a3c3b-105">Linux</span><span class="sxs-lookup"><span data-stu-id="a3c3b-105">Linux</span></span>](service-fabric-diagnostics-how-to-monitor-and-diagnose-services-locally-linux.md)
> 
> 

<span data-ttu-id="a3c3b-106">Toocontinue de servicios con experiencia de usuario de una interrupción mínima toohello permiten supervisar, detectar, diagnosticar y solucionar problemas.</span><span class="sxs-lookup"><span data-stu-id="a3c3b-106">Monitoring, detecting, diagnosing, and troubleshooting allow for services toocontinue with minimal disruption toohello user experience.</span></span> <span data-ttu-id="a3c3b-107">Mientras la supervisión y el diagnóstico es crítico en un entorno de producción real de implementada, eficacia Hola dependerá adoptar un modelo similar durante el desarrollo de tooensure servicios funcionan cuando se mueve el programa de instalación de tooa reales.</span><span class="sxs-lookup"><span data-stu-id="a3c3b-107">While monitoring and diagnostics are critical in an actual deployed production environment, hello efficiency will depend on adopting a similar model during development of services tooensure they work when you move tooa real-world setup.</span></span> <span data-ttu-id="a3c3b-108">Service Fabric facilita a los diagnósticos del servicio a los desarrolladores tooimplement que funcionan sin problemas a través de configuraciones de desarrollo local sola máquina y configuraciones de clúster de producción reales.</span><span class="sxs-lookup"><span data-stu-id="a3c3b-108">Service Fabric makes it easy for service developers tooimplement diagnostics that can seamlessly work across both single-machine local development setups and real-world production cluster setups.</span></span>

## <a name="event-tracing-for-windows"></a><span data-ttu-id="a3c3b-109">Seguimiento de eventos para Windows</span><span class="sxs-lookup"><span data-stu-id="a3c3b-109">Event Tracing for Windows</span></span>
<span data-ttu-id="a3c3b-110">[Seguimiento de eventos para Windows](https://msdn.microsoft.com/library/windows/desktop/bb968803.aspx) (ETW) es hello recomendada tecnología para mensajes de seguimiento de Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="a3c3b-110">[Event Tracing for Windows](https://msdn.microsoft.com/library/windows/desktop/bb968803.aspx) (ETW) is hello recommended technology for tracing messages in Service Fabric.</span></span> <span data-ttu-id="a3c3b-111">Algunas de las ventajas del uso de ETW son:</span><span class="sxs-lookup"><span data-stu-id="a3c3b-111">Some benefits of using ETW are:</span></span>

* <span data-ttu-id="a3c3b-112">**ETW es rápido.**</span><span class="sxs-lookup"><span data-stu-id="a3c3b-112">**ETW is fast.**</span></span> <span data-ttu-id="a3c3b-113">Se creó como una tecnología de seguimiento que tiene un impacto mínimo en los tiempos de ejecución de código.</span><span class="sxs-lookup"><span data-stu-id="a3c3b-113">It was built as a tracing technology that has minimal impact on code execution times.</span></span>
* <span data-ttu-id="a3c3b-114">**El seguimiento de ETW funciona sin problemas en entornos de desarrollo locales y también en las instalaciones de clúster del mundo real.**</span><span class="sxs-lookup"><span data-stu-id="a3c3b-114">**ETW tracing works seamlessly across local development environments and also real-world cluster setups.**</span></span> <span data-ttu-id="a3c3b-115">Esto significa que no tiene toorewrite el seguimiento de código cuando esté listo toodeploy el clúster real de tooa de código.</span><span class="sxs-lookup"><span data-stu-id="a3c3b-115">This  means you don't have toorewrite your tracing code when you are ready toodeploy your code tooa real cluster.</span></span>
* <span data-ttu-id="a3c3b-116">**El código de tejido del sistema de Service Fabric también usa ETW para el seguimiento interno.**</span><span class="sxs-lookup"><span data-stu-id="a3c3b-116">**Service Fabric system code also uses ETW for internal tracing.**</span></span> <span data-ttu-id="a3c3b-117">Esto le permite tooview los seguimientos de aplicaciones intercalan con seguimientos de sistema de Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="a3c3b-117">This allows you tooview your application traces interleaved with Service Fabric system traces.</span></span> <span data-ttu-id="a3c3b-118">También ayuda a toomore comprender fácilmente las secuencias de Hola y relaciones mutuas entre el código de la aplicación y los eventos de sistema subyacente de Hola.</span><span class="sxs-lookup"><span data-stu-id="a3c3b-118">It also helps you toomore easily understand hello sequences and interrelationships between your application code and events in hello underlying system.</span></span>
* <span data-ttu-id="a3c3b-119">**Eventos ETW tooview no hay compatibilidad integrada en Service Fabric Visual Studio tools.**</span><span class="sxs-lookup"><span data-stu-id="a3c3b-119">**There is built-in support in Service Fabric Visual Studio tools tooview ETW events.**</span></span> <span data-ttu-id="a3c3b-120">Eventos ETW aparecen en hello vista de eventos de diagnóstico de Visual Studio, una vez que Visual Studio está configurado correctamente con Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="a3c3b-120">ETW events appear in hello Diagnostic Events view of Visual Studio once Visual Studio is correctly configured with Service Fabric.</span></span> 

## <a name="view-service-fabric-system-events-in-visual-studio"></a><span data-ttu-id="a3c3b-121">Ver eventos del sistema de Service Fabric en Visual Studio</span><span class="sxs-lookup"><span data-stu-id="a3c3b-121">View Service Fabric system events in Visual Studio</span></span>
<span data-ttu-id="a3c3b-122">Service Fabric emite eventos ETW que los desarrolladores de aplicaciones de toohelp saber qué está ocurriendo en la plataforma de Hola.</span><span class="sxs-lookup"><span data-stu-id="a3c3b-122">Service Fabric emits ETW events toohelp application developers understand what's happening in hello platform.</span></span> <span data-ttu-id="a3c3b-123">Si aún no lo ha hecho, continúe y siga los pasos de hello en [crear su primera aplicación en Visual Studio](service-fabric-create-your-first-application-in-visual-studio.md).</span><span class="sxs-lookup"><span data-stu-id="a3c3b-123">If you haven't already done so, go ahead and follow hello steps in [Creating your first application in Visual Studio](service-fabric-create-your-first-application-in-visual-studio.md).</span></span> <span data-ttu-id="a3c3b-124">Esta información le ayudará a obtener una aplicación a trabajar con hello Visor de eventos de diagnóstico que muestra hello mensajes de seguimiento.</span><span class="sxs-lookup"><span data-stu-id="a3c3b-124">This information will help you get an application up and running with hello Diagnostics Events Viewer showing hello trace messages.</span></span>

1. <span data-ttu-id="a3c3b-125">Si dejan de ventana de eventos no se muestra automáticamente, de diagnósticos de hello toohello **vista** pestaña en Visual Studio, elija **otras ventanas** y, a continuación, **Visor de eventos de diagnóstico**.</span><span class="sxs-lookup"><span data-stu-id="a3c3b-125">If hello diagnostics events window does not automatically show, Go toohello **View** tab in Visual Studio, choose **Other Windows** and then **Diagnostic Events Viewer**.</span></span>
2. <span data-ttu-id="a3c3b-126">Cada evento tiene información de metadatos estándar que indica si los eventos de Hola de nodo, aplicación y el servicio de hello procede de.</span><span class="sxs-lookup"><span data-stu-id="a3c3b-126">Each event has standard metadata information that tells you hello node, application and service hello event is coming from.</span></span> <span data-ttu-id="a3c3b-127">También puede filtrar lista Hola de eventos mediante hello **filtrar eventos** cuadro en parte superior de Hola Hola de ventana de eventos.</span><span class="sxs-lookup"><span data-stu-id="a3c3b-127">You can also filter hello list of events by using hello **Filter events** box at hello top of hello events window.</span></span> <span data-ttu-id="a3c3b-128">Por ejemplo, puede filtrar por **Nombre del nodo** o **Nombre del servicio**.</span><span class="sxs-lookup"><span data-stu-id="a3c3b-128">For example, you can filter on **Node Name** or **Service Name.**</span></span> <span data-ttu-id="a3c3b-129">Y cuando vea detalles del evento, también puede pausar mediante el uso de hello **pausar** situado en la parte superior de Hola Hola de ventana de eventos y reanudar más adelante sin pérdida de eventos.</span><span class="sxs-lookup"><span data-stu-id="a3c3b-129">And when you're looking at event details, you can also pause by using hello **Pause** button at hello top of hello events window and resume later without any loss of events.</span></span>
   
   ![Visor de eventos de diagnósticos de Visual Studio](./media/service-fabric-diagnostics-how-to-monitor-and-diagnose-services-locally/DiagEventsExamples2.png)

## <a name="add-your-own-custom-traces-toohello-application-code"></a><span data-ttu-id="a3c3b-131">Agregar su propio código de aplicación de seguimientos personalizados toohello</span><span class="sxs-lookup"><span data-stu-id="a3c3b-131">Add your own custom traces toohello application code</span></span>
<span data-ttu-id="a3c3b-132">plantillas de proyecto de Visual Studio de tejido de servicio de Hello contienen código de ejemplo.</span><span class="sxs-lookup"><span data-stu-id="a3c3b-132">hello Service Fabric Visual Studio project templates contain sample code.</span></span> <span data-ttu-id="a3c3b-133">código de Hello muestra cómo el código de aplicación tooadd ETW realiza un seguimiento que muestran una, en el Visor de ETW de Visual Studio Hola junto con seguimientos de sistema de Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="a3c3b-133">hello code shows how tooadd custom application code ETW traces that show up in hello Visual Studio ETW viewer alongside system traces from Service Fabric.</span></span> <span data-ttu-id="a3c3b-134">Hola ventaja de este método es que automáticamente se agregan metadatos tootraces y Hola Visual Studio de Visor de eventos de diagnóstico está configurado toodisplay ellos.</span><span class="sxs-lookup"><span data-stu-id="a3c3b-134">hello advantage of this method is that metadata is automatically added tootraces, and hello Visual Studio Diagnostic Events Viewer is already configured toodisplay them.</span></span>

<span data-ttu-id="a3c3b-135">Para los proyectos creados desde hello **plantillas de servicio** (con o sin estado) solo busca hello `RunAsync` implementación:</span><span class="sxs-lookup"><span data-stu-id="a3c3b-135">For projects created from hello **service templates** (stateless or stateful) just search for hello `RunAsync` implementation:</span></span>

1. <span data-ttu-id="a3c3b-136">Hola llamada demasiado`ServiceEventSource.Current.ServiceMessage` en hello `RunAsync` método muestra un ejemplo de un seguimiento ETW personalizada hello del código de aplicación.</span><span class="sxs-lookup"><span data-stu-id="a3c3b-136">hello call too`ServiceEventSource.Current.ServiceMessage` in hello `RunAsync` method shows an example of a custom ETW trace from hello application code.</span></span>
2. <span data-ttu-id="a3c3b-137">Hola **ServiceEventSource.cs** archivo, encontrará una sobrecarga de hello `ServiceEventSource.ServiceMessage` método que debe utilizarse para eventos de alta frecuencia debido a motivos de tooperformance.</span><span class="sxs-lookup"><span data-stu-id="a3c3b-137">In hello **ServiceEventSource.cs** file, you will find an overload for hello `ServiceEventSource.ServiceMessage` method that should be used for high-frequency events due tooperformance reasons.</span></span>

<span data-ttu-id="a3c3b-138">Para los proyectos creados desde hello **plantillas de actor** (con o sin estado):</span><span class="sxs-lookup"><span data-stu-id="a3c3b-138">For projects created from hello **actor templates** (stateless or stateful):</span></span>

1. <span data-ttu-id="a3c3b-139">Abra hello **. cs "ProjectName"** archivo where *ProjectName* es nombre hello que eligió para su proyecto de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="a3c3b-139">Open hello **"ProjectName".cs** file where *ProjectName* is hello name you chose for your Visual Studio project.</span></span>  
2. <span data-ttu-id="a3c3b-140">Buscar código de hello `ActorEventSource.Current.ActorMessage(this, "Doing Work");` en hello *DoWorkAsync* método.</span><span class="sxs-lookup"><span data-stu-id="a3c3b-140">Find hello code `ActorEventSource.Current.ActorMessage(this, "Doing Work");` in hello *DoWorkAsync* method.</span></span>  <span data-ttu-id="a3c3b-141">Esto es un ejemplo de un seguimiento ETW personalizado creado a partir del código de aplicación.</span><span class="sxs-lookup"><span data-stu-id="a3c3b-141">This is an example of a custom ETW trace written from application code.</span></span>  
3. <span data-ttu-id="a3c3b-142">En el archivo **ActorEventSource.cs**, encontrará una sobrecarga de hello `ActorEventSource.ActorMessage` método que debe utilizarse para eventos de alta frecuencia debido a motivos de tooperformance.</span><span class="sxs-lookup"><span data-stu-id="a3c3b-142">In file **ActorEventSource.cs**, you will find an overload for hello `ActorEventSource.ActorMessage` method that should be used for high-frequency events due tooperformance reasons.</span></span>

<span data-ttu-id="a3c3b-143">Después de agregar tooyour código del servicio de seguimiento de ETW personalizado, puede compilar, implementar y ejecutar la aplicación hello nuevo toosee los eventos en el Visor de eventos de diagnóstico de Hola.</span><span class="sxs-lookup"><span data-stu-id="a3c3b-143">After adding custom ETW tracing tooyour service code, you can build, deploy, and run hello application again toosee your event(s) in hello Diagnostic Events Viewer.</span></span> <span data-ttu-id="a3c3b-144">Si se depura la aplicación hello con **F5**, Hola Visor de eventos de diagnóstico se abrirá automáticamente.</span><span class="sxs-lookup"><span data-stu-id="a3c3b-144">If you debug hello application with **F5**, hello Diagnostic Events Viewer will open automatically.</span></span>

## <a name="next-steps"></a><span data-ttu-id="a3c3b-145">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="a3c3b-145">Next steps</span></span>
<span data-ttu-id="a3c3b-146">Hello mismo código de seguimiento que ha agregado la aplicación tooyour anteriormente para diagnósticos locales funcionará con herramientas que puede usar tooview estos eventos cuando se ejecuta la aplicación en un clúster de Azure.</span><span class="sxs-lookup"><span data-stu-id="a3c3b-146">hello same tracing code that you added tooyour application above for local diagnostics will work with tools that you can use tooview these events when running your application on an Azure cluster.</span></span> <span data-ttu-id="a3c3b-147">Consulte estos artículos que tratan las diferentes opciones de Hola para herramientas de Hola y describen cómo se puede establecer.</span><span class="sxs-lookup"><span data-stu-id="a3c3b-147">Check out these articles that discuss hello different options for hello tools and describe how you can set them up.</span></span>

* [<span data-ttu-id="a3c3b-148">Funcionamiento de los registros toocollect con diagnósticos de Azure</span><span class="sxs-lookup"><span data-stu-id="a3c3b-148">How toocollect logs with Azure Diagnostics</span></span>](service-fabric-diagnostics-how-to-setup-wad.md)
* [<span data-ttu-id="a3c3b-149">Recopilación y agregación de eventos con EventFlow</span><span class="sxs-lookup"><span data-stu-id="a3c3b-149">Event aggregation and collection using EventFlow</span></span>](service-fabric-diagnostics-event-aggregation-eventflow.md)

