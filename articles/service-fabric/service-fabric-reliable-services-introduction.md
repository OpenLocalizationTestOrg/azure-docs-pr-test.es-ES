---
title: "aaaOverview del modelo de programación de servicio confiable del tejido de hello | Documentos de Microsoft"
description: "Obtenga información sobre el modelo de programación de un servicio fiable de Service Fabric y comience a escribir sus propios servicios."
services: Service-Fabric
documentationcenter: .net
author: masnider
manager: timlt
editor: vturecek; mani-ramaswamy
ms.assetid: 0c88a533-73f8-4ae1-a939-67d17456ac06
ms.service: Service-Fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 8/9/2017
ms.author: masnider;
ms.openlocfilehash: 41d1826df902b1f1845c4702bf2567e6b9ca1f1f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="reliable-services-overview"></a><span data-ttu-id="fab4d-103">Información general sobre Reliable Services</span><span class="sxs-lookup"><span data-stu-id="fab4d-103">Reliable Services overview</span></span>
<span data-ttu-id="fab4d-104">Azure Service Fabric simplifica la escritura y administración de los servicios de Reliable Services con y sin estado.</span><span class="sxs-lookup"><span data-stu-id="fab4d-104">Azure Service Fabric simplifies writing and managing stateless and stateful Reliable Services.</span></span> <span data-ttu-id="fab4d-105">En este tema se explica:</span><span class="sxs-lookup"><span data-stu-id="fab4d-105">This topic covers:</span></span>

* <span data-ttu-id="fab4d-106">modelo de programación de servicios de confianza de Hola para servicios sin estado y con estado.</span><span class="sxs-lookup"><span data-stu-id="fab4d-106">hello Reliable Services programming model for stateless and stateful services.</span></span>
* <span data-ttu-id="fab4d-107">Opciones de Hello tiene toomake al escribir un servicio confiable.</span><span class="sxs-lookup"><span data-stu-id="fab4d-107">hello choices you have toomake when writing a Reliable Service.</span></span>
* <span data-ttu-id="fab4d-108">Algunos escenarios y ejemplos de cuándo toouse Reliable Services y cómo se escriben.</span><span class="sxs-lookup"><span data-stu-id="fab4d-108">Some scenarios and examples of when toouse Reliable Services and how they are written.</span></span>

<span data-ttu-id="fab4d-109">Servicios de confianza es uno de hello modelos disponibles en el tejido de servicio de programación.</span><span class="sxs-lookup"><span data-stu-id="fab4d-109">Reliable Services is one of hello programming models available on Service Fabric.</span></span> <span data-ttu-id="fab4d-110">Hola otro es el modelo de programación de Actor confiable de hello, que proporciona un modelo de programación de Actor virtual sobre el modelo de servicios de confianza Hola.</span><span class="sxs-lookup"><span data-stu-id="fab4d-110">hello other is hello Reliable Actor programming model, which provides a virtual Actor programming model on top of hello Reliable Services model.</span></span> <span data-ttu-id="fab4d-111">Para obtener más información sobre el modelo de programación de Reliable Actors hello, consulte [tooService Introducción tejido Reliable Actors](service-fabric-reliable-actors-introduction.md).</span><span class="sxs-lookup"><span data-stu-id="fab4d-111">For more information on hello Reliable Actors programming model, see [Introduction tooService Fabric Reliable Actors](service-fabric-reliable-actors-introduction.md).</span></span>

<span data-ttu-id="fab4d-112">Service Fabric administra la duración de hello de servicios, desde el aprovisionamiento y la implementación a través de la actualización y eliminación, tanto a través de [administración de aplicaciones de Service Fabric](service-fabric-deploy-remove-applications.md).</span><span class="sxs-lookup"><span data-stu-id="fab4d-112">Service Fabric manages hello lifetime of services, from provisioning and deployment through upgrade and deletion, via [Service Fabric application management](service-fabric-deploy-remove-applications.md).</span></span>

## <a name="what-are-reliable-services"></a><span data-ttu-id="fab4d-113">¿Qué son los servicios de Reliable Services?</span><span class="sxs-lookup"><span data-stu-id="fab4d-113">What are Reliable Services?</span></span>
<span data-ttu-id="fab4d-114">Servicios de confianza le ofrece una sencilla y eficaz, nivel superior toohelp modelo express ¿qué es importante tooyour aplicación de programación.</span><span class="sxs-lookup"><span data-stu-id="fab4d-114">Reliable Services gives you a simple, powerful, top-level programming model toohelp you express what is important tooyour application.</span></span> <span data-ttu-id="fab4d-115">Con los servicios de confianza Hola modelo de programación, obtendrá:</span><span class="sxs-lookup"><span data-stu-id="fab4d-115">With hello Reliable Services programming model, you get:</span></span>

* <span data-ttu-id="fab4d-116">Resto de toohello de acceso de hello las API de programación de Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="fab4d-116">Access toohello rest of hello Service Fabric programming APIs.</span></span> <span data-ttu-id="fab4d-117">A diferencia de los servicios de Fabric de servicio modelada como [invitado ejecutables](service-fabric-deploy-existing-app.md), servicios de confianza obtener rest de hello toouse de hello las API de tejido de servicio directamente.</span><span class="sxs-lookup"><span data-stu-id="fab4d-117">Unlike Service Fabric Services modeled as [Guest Executables](service-fabric-deploy-existing-app.md), Reliable Services get toouse hello rest of hello Service Fabric APIs directly.</span></span> <span data-ttu-id="fab4d-118">Esto permite a los servicios:</span><span class="sxs-lookup"><span data-stu-id="fab4d-118">This allows services to:</span></span>
  * <span data-ttu-id="fab4d-119">Consultar el sistema Hola</span><span class="sxs-lookup"><span data-stu-id="fab4d-119">query hello system</span></span>
  * <span data-ttu-id="fab4d-120">informe de mantenimiento sobre entidades de clúster de Hola</span><span class="sxs-lookup"><span data-stu-id="fab4d-120">report health about entities in hello cluster</span></span>
  * <span data-ttu-id="fab4d-121">recibir notificaciones sobre los cambios de configuración y de código,</span><span class="sxs-lookup"><span data-stu-id="fab4d-121">receive notifications about configuration and code changes</span></span>
  * <span data-ttu-id="fab4d-122">buscar otros servicios y comunicarse con ellos,</span><span class="sxs-lookup"><span data-stu-id="fab4d-122">find and communicate with other services,</span></span>
  * <span data-ttu-id="fab4d-123">(opcionalmente) utilice hello [colecciones confiable](service-fabric-reliable-services-reliable-collections.md)</span><span class="sxs-lookup"><span data-stu-id="fab4d-123">(optionally) use hello [Reliable Collections](service-fabric-reliable-services-reliable-collections.md)</span></span>
  * <span data-ttu-id="fab4d-124">.. .y concederles acceso toomany otras funciones, todo ello desde un modelo de programación de primera clase en varios lenguajes de programación.</span><span class="sxs-lookup"><span data-stu-id="fab4d-124">...and giving them access toomany other capabilities, all from a first class programming model in several programming languages.</span></span>
* <span data-ttu-id="fab4d-125">Un modelo sencillo para ejecutar su propio código parecido a los modelos de programación que está acostumbrado a utilizar.</span><span class="sxs-lookup"><span data-stu-id="fab4d-125">A simple model for running your own code that looks like programming models you are used to.</span></span> <span data-ttu-id="fab4d-126">El código tiene un punto de entrada bien definido y un ciclo de vida de fácil administración.</span><span class="sxs-lookup"><span data-stu-id="fab4d-126">Your code has a well-defined entry point and easily managed lifecycle.</span></span>
* <span data-ttu-id="fab4d-127">Un modelo de comunicación acoplable.</span><span class="sxs-lookup"><span data-stu-id="fab4d-127">A pluggable communication model.</span></span> <span data-ttu-id="fab4d-128">Utilizar transporte Hola de su elección, como HTTP con [API Web](service-fabric-reliable-services-communication-webapi.md), WebSockets, protocolos TCP personalizados o cualquier otra cosa.</span><span class="sxs-lookup"><span data-stu-id="fab4d-128">Use hello transport of your choice, such as HTTP with [Web API](service-fabric-reliable-services-communication-webapi.md), WebSockets, custom TCP protocols, or anything else.</span></span> <span data-ttu-id="fab4d-129">Reliable Services proporciona excelentes opciones ya integradas, o puede proporcionar las suyas propias.</span><span class="sxs-lookup"><span data-stu-id="fab4d-129">Reliable Services provide some great out-of-the-box options you can use, or you can provide your own.</span></span>
* <span data-ttu-id="fab4d-130">Para los servicios con estado, modelo de programación de servicios confiables Hola permite tooconsistently y almacenar el estado justo dentro de su servicio de forma confiable mediante el uso de [colecciones confiable](service-fabric-reliable-services-reliable-collections.md).</span><span class="sxs-lookup"><span data-stu-id="fab4d-130">For stateful services, hello Reliable Services programming model allows you tooconsistently and reliably store your state right inside your service by using [Reliable Collections](service-fabric-reliable-services-reliable-collections.md).</span></span> <span data-ttu-id="fab4d-131">Colecciones de confianza son un sencillo conjunto de clases de colección altamente disponible y confiable que estará familiarizado tooanyone que ha utilizado las colecciones de C#.</span><span class="sxs-lookup"><span data-stu-id="fab4d-131">Reliable Collections are a simple set of highly available and reliable collection classes that will be familiar tooanyone who has used C# collections.</span></span> <span data-ttu-id="fab4d-132">Tradicionalmente, los servicios necesitaban sistemas externos para efectuar la administración de estados de confianza.</span><span class="sxs-lookup"><span data-stu-id="fab4d-132">Traditionally, services needed external systems for Reliable state management.</span></span> <span data-ttu-id="fab4d-133">Con las colecciones de confianza, puede almacenar el equipo de estado siguiente tooyour con hello mismo alta disponibilidad y confiabilidad se haya llegado tooexpect de alta disponibilidad almacenes externos.</span><span class="sxs-lookup"><span data-stu-id="fab4d-133">With Reliable Collections, you can store your state next tooyour compute with hello same high availability and reliability you've come tooexpect from highly available external stores.</span></span> <span data-ttu-id="fab4d-134">Este modelo también mejora la latencia porque se están colocar compute de Hola y el estado que necesita toofunction.</span><span class="sxs-lookup"><span data-stu-id="fab4d-134">This model also improves latency because you are co-locating hello compute and state it needs toofunction.</span></span>

<span data-ttu-id="fab4d-135">Vea este vídeo de Microsoft Virtual Academy para obtener información general de Reliable Services: <center>
<a target="_blank" href="https://mva.microsoft.com/en-US/training-courses/building-microservices-applications-on-azure-service-fabric-16747?l=HhD9566yC_4106218965">
<img src="./media/service-fabric-reliable-services-introduction/ReliableServicesVid.png" WIDTH="360" HEIGHT="244" />
</a>
</center></span><span class="sxs-lookup"><span data-stu-id="fab4d-135">Watch this Microsoft Virtual Academy video for an overview of Reliable services: <center>
<a target="_blank" href="https://mva.microsoft.com/en-US/training-courses/building-microservices-applications-on-azure-service-fabric-16747?l=HhD9566yC_4106218965">
<img src="./media/service-fabric-reliable-services-introduction/ReliableServicesVid.png" WIDTH="360" HEIGHT="244" />
</a>
</center></span></span>

## <a name="what-makes-reliable-services-different"></a><span data-ttu-id="fab4d-136">¿Qué hace que Reliable Services sea diferente?</span><span class="sxs-lookup"><span data-stu-id="fab4d-136">What makes Reliable Services different?</span></span>
<span data-ttu-id="fab4d-137">Los servicios fiables de Service Fabric son diferentes de los servicios que haya podido escribir previamente.</span><span class="sxs-lookup"><span data-stu-id="fab4d-137">Reliable Services in Service Fabric are different from services you may have written before.</span></span> <span data-ttu-id="fab4d-138">Service Fabric proporciona confiabilidad, disponibilidad, coherencia y escalabilidad.</span><span class="sxs-lookup"><span data-stu-id="fab4d-138">Service Fabric provides reliability, availability, consistency, and scalability.</span></span>

* <span data-ttu-id="fab4d-139">**Confiabilidad** : el servicio permanece seguridad incluso en entornos poco confiables donde las máquinas se producirá un error o haga clic en problemas de red, o en casos donde hello servicios por sí mismos encontrar errores y bloqueos o producirá un error.</span><span class="sxs-lookup"><span data-stu-id="fab4d-139">**Reliability** - Your service stays up even in unreliable environments where your machines fail or hit network issues, or in cases where hello services themselves encounter errors and crash or fail.</span></span> <span data-ttu-id="fab4d-140">Para los servicios con estado, su estado se conserva incluso en presencia de Hola de red u otros errores.</span><span class="sxs-lookup"><span data-stu-id="fab4d-140">For stateful services, your state is preserved even in hello presence of network or other failures.</span></span>
* <span data-ttu-id="fab4d-141">**Disponibilidad**: su servicio es accesible y responde.</span><span class="sxs-lookup"><span data-stu-id="fab4d-141">**Availability** - Your service is reachable and responsive.</span></span> <span data-ttu-id="fab4d-142">Service Fabric mantiene el número de copias en ejecución deseado.</span><span class="sxs-lookup"><span data-stu-id="fab4d-142">Service Fabric maintains your desired number of running copies.</span></span>
* <span data-ttu-id="fab4d-143">**Escalabilidad** : servicios se desacoplan de hardware específico, y puede aumentar o reducir según sea necesario a través de hello adición o eliminación de hardware u otros recursos.</span><span class="sxs-lookup"><span data-stu-id="fab4d-143">**Scalability** - Services are decoupled from specific hardware, and they can grow or shrink as necessary through hello addition or removal of hardware or other resources.</span></span> <span data-ttu-id="fab4d-144">Servicios son tooensure fácilmente con particiones (especialmente en el caso de hello con estado) que se puede escalar el servicio de Hola y controlar errores parciales.</span><span class="sxs-lookup"><span data-stu-id="fab4d-144">Services are easily partitioned (especially in hello stateful case) tooensure that hello service can scale and handle partial failures.</span></span> <span data-ttu-id="fab4d-145">Servicios se pueden crear y eliminar dinámicamente a través de código, lo cual más toobe instancias Active según sea necesario, diga en las solicitudes de toocustomer de respuesta.</span><span class="sxs-lookup"><span data-stu-id="fab4d-145">Services can be created and deleted dynamically via code, enabling more instances toobe spun up as necessary, say in response toocustomer requests.</span></span> <span data-ttu-id="fab4d-146">Por último, Service Fabric anima a ligero de toobe de servicios.</span><span class="sxs-lookup"><span data-stu-id="fab4d-146">Finally, Service Fabric encourages services toobe lightweight.</span></span> <span data-ttu-id="fab4d-147">Service Fabric permite miles de servicios toobe aprovisionado dentro de un proceso único, en lugar de requerir o dedicar instancias completas de sistema operativo o de instancia única de tooa de procesos de un servicio.</span><span class="sxs-lookup"><span data-stu-id="fab4d-147">Service Fabric allows thousands of services toobe provisioned within a single process, rather than requiring or dedicating entire OS instances or processes tooa single instance of a service.</span></span>
* <span data-ttu-id="fab4d-148">**Coherencia** -toda la información almacenada en este servicio puede garantizarse toobe coherente.</span><span class="sxs-lookup"><span data-stu-id="fab4d-148">**Consistency** - Any information stored in this service can be guaranteed toobe consistent.</span></span> <span data-ttu-id="fab4d-149">Esto se cumple incluso con varias colecciones de confianza dentro de un servicio.</span><span class="sxs-lookup"><span data-stu-id="fab4d-149">This is true even across multiple reliable collections within a service.</span></span> <span data-ttu-id="fab4d-150">Pueden realizarse cambios en varias colecciones dentro de un servicio de un modo transaccional pormenorizado.</span><span class="sxs-lookup"><span data-stu-id="fab4d-150">Changes across collections within a service can be made in a transactionally atomic manner.</span></span>

## <a name="service-lifecycle"></a><span data-ttu-id="fab4d-151">Ciclo de vida del servicio</span><span class="sxs-lookup"><span data-stu-id="fab4d-151">Service lifecycle</span></span>
<span data-ttu-id="fab4d-152">Tanto si el servicio está con estado como sin estado, Reliable Services proporciona un ciclo de vida simple que permite conectar rápidamente el código y empezar a trabajar.</span><span class="sxs-lookup"><span data-stu-id="fab4d-152">Whether your service is stateful or stateless, Reliable Services provide a simple lifecycle that lets you quickly plug in your code and get started.</span></span>  <span data-ttu-id="fab4d-153">Hay sólo una o dos métodos que necesita tooimplement tooget su servicio activos y en funcionamiento.</span><span class="sxs-lookup"><span data-stu-id="fab4d-153">There are just one or two methods that you need tooimplement tooget your service up and running.</span></span>

* <span data-ttu-id="fab4d-154">**CreateServiceReplicaListeners/CreateServiceInstanceListeners** -este método es donde el servicio Hola define la pila (s) de comunicación de Hola que desea toouse.</span><span class="sxs-lookup"><span data-stu-id="fab4d-154">**CreateServiceReplicaListeners/CreateServiceInstanceListeners** - This method is where hello service defines hello communication stack(s) that it wants toouse.</span></span> <span data-ttu-id="fab4d-155">Hola pila de comunicación, como [API Web](service-fabric-reliable-services-communication-webapi.md), es lo que define Hola extremo de escucha o puntos de conexión para Hola service (cómo los clientes tener acceso servicio hello).</span><span class="sxs-lookup"><span data-stu-id="fab4d-155">hello communication stack, such as [Web API](service-fabric-reliable-services-communication-webapi.md), is what defines hello listening endpoint or endpoints for hello service (how clients reach hello service).</span></span> <span data-ttu-id="fab4d-156">También define cómo interactúan los mensajes de Hola que aparecen con el resto de Hola Hola de código de servicio.</span><span class="sxs-lookup"><span data-stu-id="fab4d-156">It also defines how hello messages that appear interact with hello rest of hello service code.</span></span>
* <span data-ttu-id="fab4d-157">**Coredispatcher** : este método es que el servicio ejecuta su lógica de negocios, y donde debería iniciar las tareas en segundo plano que se deben ejecutar para vida Hola Hola.</span><span class="sxs-lookup"><span data-stu-id="fab4d-157">**RunAsync** - This method is where your service runs its business logic, and where it would kick off any background tasks that should run for hello lifetime of hello service.</span></span> <span data-ttu-id="fab4d-158">token de cancelación de Hello proporcionada es una señal para cuándo debe detenerse ese trabajo.</span><span class="sxs-lookup"><span data-stu-id="fab4d-158">hello cancellation token that is provided is a signal for when that work should stop.</span></span> <span data-ttu-id="fab4d-159">Por ejemplo, si servicio Hola necesita toopull mensajes fuera de una cola confiable y procesarlos, esto es donde se produce ese trabajo.</span><span class="sxs-lookup"><span data-stu-id="fab4d-159">For example, if hello service needs toopull messages out of a Reliable Queue and process them, this is where that work happens.</span></span>

<span data-ttu-id="fab4d-160">Si está aprendiendo servicios confiables para hello primera vez, siga leyendo.</span><span class="sxs-lookup"><span data-stu-id="fab4d-160">If you're learning about reliable services for hello first time, read on!</span></span> <span data-ttu-id="fab4d-161">Si desea obtener un tutorial detallado sobre el ciclo de vida de hello de servicios de confianza, puede diríjase demasiado[este artículo](service-fabric-reliable-services-lifecycle.md).</span><span class="sxs-lookup"><span data-stu-id="fab4d-161">If you're looking for a detailed walkthrough of hello lifecycle of reliable services, you can head over too[this article](service-fabric-reliable-services-lifecycle.md).</span></span>

## <a name="example-services"></a><span data-ttu-id="fab4d-162">Servicios de ejemplo</span><span class="sxs-lookup"><span data-stu-id="fab4d-162">Example services</span></span>
<span data-ttu-id="fab4d-163">Conocer este modelo de programación, echemos un vistazo a cómo encajan estas piezas dos toosee de distintos servicios.</span><span class="sxs-lookup"><span data-stu-id="fab4d-163">Knowing this programming model, let's take a quick look at two different services toosee how these pieces fit together.</span></span>

### <a name="stateless-reliable-services"></a><span data-ttu-id="fab4d-164">Servicios fiables sin estado</span><span class="sxs-lookup"><span data-stu-id="fab4d-164">Stateless Reliable Services</span></span>
<span data-ttu-id="fab4d-165">Un servicio sin estado es aquélla en la que no hay ningún estado mantenido dentro de servicio de Hola a través de llamadas.</span><span class="sxs-lookup"><span data-stu-id="fab4d-165">A stateless service is one where there is no state maintained within hello service across calls.</span></span> <span data-ttu-id="fab4d-166">Cualquier estado que esté presente es completamente descartable y no requiere sincronización, replicación, persistencia o alta disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="fab4d-166">Any state that is present is entirely disposable and doesn't require synchronization, replication, persistence, or high availability.</span></span>

<span data-ttu-id="fab4d-167">Por ejemplo, considere la posibilidad de una calculadora que no tiene memoria y recibe todos los tooperform de términos y las operaciones a la vez.</span><span class="sxs-lookup"><span data-stu-id="fab4d-167">For example, consider a calculator that has no memory and receives all terms and operations tooperform at once.</span></span>

<span data-ttu-id="fab4d-168">En este caso, Hola `RunAsync()` (C#) o `runAsync()` (Java) de hello servicio puede estar vacío, porque no hay ninguna experiencia ese servicio Hola de procesamiento de tareas debe toodo.</span><span class="sxs-lookup"><span data-stu-id="fab4d-168">In this case, hello `RunAsync()` (C#) or `runAsync()` (Java) of hello service can be empty, since there is no background task-processing that hello service needs toodo.</span></span> <span data-ttu-id="fab4d-169">Cuando se crea el servicio de calculadora de hello, devuelve un `ICommunicationListener` (C#) o `CommunicationListener` (Java) (por ejemplo [API Web](service-fabric-reliable-services-communication-webapi.md)) que se abre un extremo en algún puerto de escucha.</span><span class="sxs-lookup"><span data-stu-id="fab4d-169">When hello calculator service is created, it returns an `ICommunicationListener` (C#) or `CommunicationListener` (Java) (for example [Web API](service-fabric-reliable-services-communication-webapi.md)) that opens up a listening endpoint on some port.</span></span> <span data-ttu-id="fab4d-170">Este extremo de escucha se enlaza los métodos de cálculo diferentes toohello (ejemplo: "Add (n1, n2)") que definen la API pública de la calculadora Hola.</span><span class="sxs-lookup"><span data-stu-id="fab4d-170">This listening endpoint hooks up toohello different calculation methods (example: "Add(n1, n2)") that define hello calculator's public API.</span></span>

<span data-ttu-id="fab4d-171">Cuando se realiza una llamada desde un cliente, se invoca el método adecuado de hello, y servicio de calculadora de hello realiza operaciones de hello en hello datos proporcionan y devuelve el resultado de hello.</span><span class="sxs-lookup"><span data-stu-id="fab4d-171">When a call is made from a client, hello appropriate method is invoked, and hello calculator service performs hello operations on hello data provided and returns hello result.</span></span> <span data-ttu-id="fab4d-172">No almacena ningún estado.</span><span class="sxs-lookup"><span data-stu-id="fab4d-172">It doesn't store any state.</span></span>

<span data-ttu-id="fab4d-173">El hecho de no almacenar ningún estado interno hace que esta calculadora de ejemplo sea sencilla.</span><span class="sxs-lookup"><span data-stu-id="fab4d-173">Not storing any internal state makes this example calculator simple.</span></span> <span data-ttu-id="fab4d-174">Pero la mayoría de los servicios no son realmente sin estado.</span><span class="sxs-lookup"><span data-stu-id="fab4d-174">But most services aren't truly stateless.</span></span> <span data-ttu-id="fab4d-175">En su lugar, externalizar su toosome estado otro almacén.</span><span class="sxs-lookup"><span data-stu-id="fab4d-175">Instead, they externalize their state toosome other store.</span></span> <span data-ttu-id="fab4d-176">(Por ejemplo, cualquier aplicación web que se base en mantener el estado de sesión en un almacén de respaldo o una memoria caché no es sin estado).</span><span class="sxs-lookup"><span data-stu-id="fab4d-176">(For example, any web app that relies on keeping session state in a backing store or cache is not stateless.)</span></span>

<span data-ttu-id="fab4d-177">Un ejemplo común de servicios sin estado cómo se utilizan en Service Fabric es como un front-end que expone Hola API de acceso público para una aplicación web.</span><span class="sxs-lookup"><span data-stu-id="fab4d-177">A common example of how stateless services are used in Service Fabric is as a front-end that exposes hello public-facing API for a web application.</span></span> <span data-ttu-id="fab4d-178">servicio de front-end de Hello, a continuación, comunica toostateful services toocomplete una solicitud de usuario.</span><span class="sxs-lookup"><span data-stu-id="fab4d-178">hello front-end service then talks toostateful services toocomplete a user request.</span></span> <span data-ttu-id="fab4d-179">En este caso, las llamadas de los clientes son tooa dirigido conocido puerto, como 80, donde está escuchando el servicio sin estado Hola.</span><span class="sxs-lookup"><span data-stu-id="fab4d-179">In this case, calls from clients are directed tooa known port, such as 80, where hello stateless service is listening.</span></span> <span data-ttu-id="fab4d-180">Este servicio sin estado recibe la llamada de Hola y determina si llamada Hola procede de un usuario de confianza y qué servicio se está destinado.</span><span class="sxs-lookup"><span data-stu-id="fab4d-180">This stateless service receives hello call and determines whether hello call is from a trusted party and which service it's destined for.</span></span>  <span data-ttu-id="fab4d-181">A continuación, servicio sin estado Hola reenvía toohello de partición correcta del servicio con estado de hello para la llamada hello y espera una respuesta.</span><span class="sxs-lookup"><span data-stu-id="fab4d-181">Then, hello stateless service forwards hello call toohello correct partition of hello stateful service and waits for a response.</span></span> <span data-ttu-id="fab4d-182">Cuando el servicio sin estado Hola recibe una respuesta, responde toohello de cliente original.</span><span class="sxs-lookup"><span data-stu-id="fab4d-182">When hello stateless service receives a response, it replies toohello original client.</span></span> <span data-ttu-id="fab4d-183">Hay un ejemplo de un servicio como este en nuestras muestras de [C#](https://github.com/Azure-Samples/service-fabric-dotnet-getting-started) / [Java](https://github.com/Azure-Samples/service-fabric-java-getting-started/tree/master/Actors/VisualObjectActor/VisualObjectWebService).</span><span class="sxs-lookup"><span data-stu-id="fab4d-183">An example of such a service is in our samples [C#](https://github.com/Azure-Samples/service-fabric-dotnet-getting-started) / [Java](https://github.com/Azure-Samples/service-fabric-java-getting-started/tree/master/Actors/VisualObjectActor/VisualObjectWebService).</span></span> <span data-ttu-id="fab4d-184">Esto es sólo un ejemplo de este patrón en los ejemplos de hello, hay otras personas en otros ejemplos también.</span><span class="sxs-lookup"><span data-stu-id="fab4d-184">This is only one example of this pattern in hello samples, there are others in other samples as well.</span></span>

### <a name="stateful-reliable-services"></a><span data-ttu-id="fab4d-185">Servicios fiables con estado</span><span class="sxs-lookup"><span data-stu-id="fab4d-185">Stateful Reliable Services</span></span>
<span data-ttu-id="fab4d-186">Un servicio con estado es aquel que debe tener alguna parte del estado mantienen coherentes y presente para hello toofunction de servicio.</span><span class="sxs-lookup"><span data-stu-id="fab4d-186">A stateful service is one that must have some portion of state kept consistent and present in order for hello service toofunction.</span></span> <span data-ttu-id="fab4d-187">Considere un servicio que calcula constantemente una media acumulada de algún valor basándose en las actualizaciones que recibe.</span><span class="sxs-lookup"><span data-stu-id="fab4d-187">Consider a service that constantly computes a rolling average of some value based on updates it receives.</span></span> <span data-ttu-id="fab4d-188">toodo esto, debe tener el conjunto actual de Hola de solicitudes entrantes que necesita tooprocess y Hola promedio actual.</span><span class="sxs-lookup"><span data-stu-id="fab4d-188">toodo this, it must have hello current set of incoming requests it needs tooprocess and hello current average.</span></span> <span data-ttu-id="fab4d-189">Cualquier servicio que recupera, procesa y almacena la información en un almacén externo (por ejemplo, en la actualidad un almacén de tablas o blobs de Azure) es con estado.</span><span class="sxs-lookup"><span data-stu-id="fab4d-189">Any service that retrieves, processes, and stores information in an external store (such as an Azure blob or table store today) is stateful.</span></span> <span data-ttu-id="fab4d-190">Solo se mantiene su estado en el almacén de estado externo de Hola.</span><span class="sxs-lookup"><span data-stu-id="fab4d-190">It just keeps its state in hello external state store.</span></span>

<span data-ttu-id="fab4d-191">La mayoría de servicios hoy almacena su estado externamente, ya que el almacén externo de hello es lo que proporciona confiabilidad, disponibilidad, escalabilidad y coherencia de ese estado.</span><span class="sxs-lookup"><span data-stu-id="fab4d-191">Most services today store their state externally, since hello external store is what provides reliability, availability, scalability, and consistency for that state.</span></span> <span data-ttu-id="fab4d-192">En Service Fabric, servicio no es necesario toostore su estado externamente.</span><span class="sxs-lookup"><span data-stu-id="fab4d-192">In Service Fabric, services aren't required toostore their state externally.</span></span> <span data-ttu-id="fab4d-193">Tejido de servicio se encarga de estos requisitos para el código del servicio de Hola y el estado del servicio de Hola.</span><span class="sxs-lookup"><span data-stu-id="fab4d-193">Service Fabric takes care of these requirements for both hello service code and hello service state.</span></span>

> [!NOTE]
> <span data-ttu-id="fab4d-194">Linux todavía no es compatible con Reliable Services con estado (para C# o Java).</span><span class="sxs-lookup"><span data-stu-id="fab4d-194">Support for Stateful Reliable Services is not available on Linux yet (for C# or Java).</span></span>
>

<span data-ttu-id="fab4d-195">Supongamos que queremos toowrite un servicio que procesa las imágenes.</span><span class="sxs-lookup"><span data-stu-id="fab4d-195">Let's say we want toowrite a service that processes images.</span></span> <span data-ttu-id="fab4d-196">toodo esto, Hola servicio toma una serie de hello y la imagen de conversiones tooperform en esa imagen.</span><span class="sxs-lookup"><span data-stu-id="fab4d-196">toodo this, hello service takes in an image and hello series of conversions tooperform on that image.</span></span> <span data-ttu-id="fab4d-197">Luego devuelve un agente de escucha de comunicación (por ejemplo, una WebAPI) que expone una API como `ConvertImage(Image i, IList<Conversion> conversions)`.</span><span class="sxs-lookup"><span data-stu-id="fab4d-197">This service returns a communication listener (let's suppose it's a WebAPI) that exposes an API like `ConvertImage(Image i, IList<Conversion> conversions)`.</span></span> <span data-ttu-id="fab4d-198">Cuando recibe una solicitud, el servicio de hello almacena en un `IReliableQueue`y devuelve algún cliente toohello de Id., por lo que puede realizar el seguimiento de solicitud de Hola.</span><span class="sxs-lookup"><span data-stu-id="fab4d-198">When it receives a request, hello service stores it in a `IReliableQueue`, and returns some id toohello client so it can track hello request.</span></span>

<span data-ttu-id="fab4d-199">En este servicio, `RunAsync()` podría ser más complejo.</span><span class="sxs-lookup"><span data-stu-id="fab4d-199">In this service, `RunAsync()` could be more complex.</span></span> <span data-ttu-id="fab4d-200">servicio de Hello tiene un bucle dentro de su `RunAsync()` que extrae las solicitudes fuera de `IReliableQueue` y realiza las conversiones de hello solicitadas.</span><span class="sxs-lookup"><span data-stu-id="fab4d-200">hello service has a loop inside its `RunAsync()` that pulls requests out of `IReliableQueue` and performs hello conversions requested.</span></span> <span data-ttu-id="fab4d-201">resultados de Hello también se almacenan en un `IReliableDictionary` por lo que cuando vuelve a estar cliente hello pueden recibir sus imágenes convertidos.</span><span class="sxs-lookup"><span data-stu-id="fab4d-201">hello results get stored in an `IReliableDictionary` so that when hello client comes back they can get their converted images.</span></span> <span data-ttu-id="fab4d-202">tooensure que incluso si algo va mal imagen hello no se pierde, este servicio confiable podría extraer de la cola de hello, realizar conversiones de Hola y almacenar el resultado de hello todo en una sola transacción.</span><span class="sxs-lookup"><span data-stu-id="fab4d-202">tooensure that even if something fails hello image isn't lost, this Reliable Service would pull out of hello queue, perform hello conversions, and store hello result all in a single transaction.</span></span> <span data-ttu-id="fab4d-203">En este caso, mensaje de bienvenida se quita de la cola de Hola y resultados de Hola se almacenan en diccionario de resultado de hello solo cuando las conversiones de hello están completos.</span><span class="sxs-lookup"><span data-stu-id="fab4d-203">In this case, hello message is removed from hello queue and hello results are stored in hello result dictionary only when hello conversions are complete.</span></span> <span data-ttu-id="fab4d-204">Como alternativa, servicio Hola podría extraer imágenes hello de la cola de Hola e inmediatamente se almacenan en un almacén remoto.</span><span class="sxs-lookup"><span data-stu-id="fab4d-204">Alternatively, hello service could pull hello image out of hello queue and immediately store it in a remote store.</span></span> <span data-ttu-id="fab4d-205">Esto reduce Hola cantidad de servicio de estado de hello tiene toomanage, pero aumenta la complejidad debido a que el servicio de hello tiene tookeep Hola metadatos necesarios toomanage Hola el almacén remoto de.</span><span class="sxs-lookup"><span data-stu-id="fab4d-205">This reduces hello amount of state hello service has toomanage, but increases complexity since hello service has tookeep hello necessary metadata toomanage hello remote store.</span></span> <span data-ttu-id="fab4d-206">Con estos dos métodos, si se produce un error en solicitud de Hola Hola intermedio permanece en Hola cola espera toobe procesado.</span><span class="sxs-lookup"><span data-stu-id="fab4d-206">With either approach, if something failed in hello middle hello request remains in hello queue waiting toobe processed.</span></span>

<span data-ttu-id="fab4d-207">Una toonote algo acerca de este servicio es que parece un servicio de .NET normal.</span><span class="sxs-lookup"><span data-stu-id="fab4d-207">One thing toonote about this service is that it sounds like a normal .NET service!</span></span> <span data-ttu-id="fab4d-208">Hello única diferencia es que hello las estructuras de datos que se va a usar (`IReliableQueue` y `IReliableDictionary`) se proporcionan con Service Fabric y son altamente disponibles, confiables y coherentes.</span><span class="sxs-lookup"><span data-stu-id="fab4d-208">hello only difference is that hello data structures being used (`IReliableQueue` and `IReliableDictionary`) are provided by Service Fabric, and are highly reliable, available, and consistent.</span></span>

## <a name="when-toouse-reliable-services-apis"></a><span data-ttu-id="fab4d-209">Cuando toouse confiable de las API de servicios</span><span class="sxs-lookup"><span data-stu-id="fab4d-209">When toouse Reliable Services APIs</span></span>
<span data-ttu-id="fab4d-210">Si cualquiera de los siguientes Hola caracterizan a sus necesidades de servicio de aplicación, debe considerar las API de servicios de confianza:</span><span class="sxs-lookup"><span data-stu-id="fab4d-210">If any of hello following characterize your application service needs, then you should consider Reliable Services APIs:</span></span>

* <span data-ttu-id="fab4d-211">Desea que el código de su servicio (y, opcionalmente, estado) toobe altamente disponible y confiable</span><span class="sxs-lookup"><span data-stu-id="fab4d-211">You want your service's code (and optionally state) toobe highly available and reliable</span></span>
* <span data-ttu-id="fab4d-212">Necesita garantías transaccionales en varias unidades de estado (por ejemplo, pedidos y artículos de línea de estos).</span><span class="sxs-lookup"><span data-stu-id="fab4d-212">You need transactional guarantees across multiple units of state (for example, orders and order line items).</span></span>
* <span data-ttu-id="fab4d-213">El estado de la aplicación puede modelarse naturalmente como Reliable Dictionaries y Queues.</span><span class="sxs-lookup"><span data-stu-id="fab4d-213">Your application’s state can be naturally modeled as Reliable Dictionaries and Queues.</span></span>
* <span data-ttu-id="fab4d-214">El código de aplicaciones o estado debe toobe alta disponibilidad con una latencia baja lecturas y escrituras.</span><span class="sxs-lookup"><span data-stu-id="fab4d-214">Your applications code or state needs toobe highly available with low latency reads and writes.</span></span>
* <span data-ttu-id="fab4d-215">La aplicación necesita la granularidad de las operaciones de transacción o simultaneidad de hello toocontrol a través de una o varias recopilaciones confiable.</span><span class="sxs-lookup"><span data-stu-id="fab4d-215">Your application needs toocontrol hello concurrency or granularity of transacted operations across one or more Reliable Collections.</span></span>
* <span data-ttu-id="fab4d-216">Desea que las comunicaciones de hello toomanage u Hola control esquema para el servicio de creación de particiones.</span><span class="sxs-lookup"><span data-stu-id="fab4d-216">You want toomanage hello communications or control hello partitioning scheme for your service.</span></span>
* <span data-ttu-id="fab4d-217">El código necesita un entorno de tiempo de ejecución de subproceso libre.</span><span class="sxs-lookup"><span data-stu-id="fab4d-217">Your code needs a free-threaded runtime environment.</span></span>
* <span data-ttu-id="fab4d-218">La aplicación necesita toodynamically crear o destruir diccionarios confiable o las colas o todo servicios en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="fab4d-218">Your application needs toodynamically create or destroy Reliable Dictionaries or Queues or whole Services at runtime.</span></span>
* <span data-ttu-id="fab4d-219">Debe tooprogrammatically proporcionado por el tejido de servicio de copia de seguridad y restauración características de control de estado de su servicio.</span><span class="sxs-lookup"><span data-stu-id="fab4d-219">You need tooprogrammatically control Service Fabric-provided backup and restore features for your service’s state.</span></span>
* <span data-ttu-id="fab4d-220">La aplicación necesita toomaintain el historial de cambios de estado de sus unidades.</span><span class="sxs-lookup"><span data-stu-id="fab4d-220">Your application needs toomaintain change history for its units of state.</span></span>
* <span data-ttu-id="fab4d-221">Desea toodevelop o utilizar los proveedores de estado personalizado, desarrollado para otros fabricantes.</span><span class="sxs-lookup"><span data-stu-id="fab4d-221">You want toodevelop or consume third-party-developed, custom state providers.</span></span>

## <a name="next-steps"></a><span data-ttu-id="fab4d-222">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="fab4d-222">Next steps</span></span>
* [<span data-ttu-id="fab4d-223">Introducción a Reliable Services de Service Fabric de Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="fab4d-223">Reliable Services quick start</span></span>](service-fabric-reliable-services-quick-start.md)
* [<span data-ttu-id="fab4d-224">Uso avanzado de Reliable Services</span><span class="sxs-lookup"><span data-stu-id="fab4d-224">Reliable Services advanced usage</span></span>](service-fabric-reliable-services-advanced-usage.md)
* [<span data-ttu-id="fab4d-225">modelo de programación de Hello Reliable Actors</span><span class="sxs-lookup"><span data-stu-id="fab4d-225">hello Reliable Actors programming model</span></span>](service-fabric-reliable-actors-introduction.md)
