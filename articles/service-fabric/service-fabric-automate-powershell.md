---
title: "administración de aplicaciones de Azure Service Fabric aaaAutomate | Documentos de Microsoft"
description: "Implementación, actualización, prueba y eliminación de aplicaciones de Service Fabric con PowerShell."
services: service-fabric
documentationcenter: .net
author: rwike77
manager: timlt
editor: 
ms.assetid: f03f4294-571d-4262-8a77-cc8b481b959d
ms.service: service-fabric
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 06/16/2017
ms.author: ryanwi
redirect_url: /azure/service-fabric/service-fabric-deploy-remove-applications
ms.openlocfilehash: a64a39dbee26be8ac15fee767a90fd06bfe4b896
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="automate-hello-application-lifecycle-using-powershell"></a><span data-ttu-id="e1538-103">Automatizar Hola de ciclo de vida de aplicación mediante PowerShell</span><span class="sxs-lookup"><span data-stu-id="e1538-103">Automate hello application lifecycle using PowerShell</span></span>
<span data-ttu-id="e1538-104">Muchos aspectos de hello [ciclo de vida de aplicación de Service Fabric](service-fabric-application-lifecycle.md) puede automatizarse.</span><span class="sxs-lookup"><span data-stu-id="e1538-104">Many aspects of hello [Service Fabric application lifecycle](service-fabric-application-lifecycle.md) can be automated.</span></span>  <span data-ttu-id="e1538-105">Este artículo muestra cómo las tareas de toouse PowerShell tooautomate común de implementar, actualizar, quitar y probar aplicaciones de Azure Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="e1538-105">This article shows how toouse PowerShell tooautomate common tasks for deploying, upgrading, removing, and testing Azure Service Fabric applications.</span></span>  <span data-ttu-id="e1538-106">También cuenta con API HTTP y administradas para la administración de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="e1538-106">Managed and HTTP APIs for app management are also available.</span></span> <span data-ttu-id="e1538-107">Consulte el [ciclo de vida de las aplicaciones](service-fabric-application-lifecycle.md) para más información.</span><span class="sxs-lookup"><span data-stu-id="e1538-107">See [app lifecycle](service-fabric-application-lifecycle.md) for more information.</span></span>  

## <a name="prerequisites"></a><span data-ttu-id="e1538-108">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="e1538-108">Prerequisites</span></span>
<span data-ttu-id="e1538-109">Antes de pasar toohello tareas en el artículo hello, no olvide:</span><span class="sxs-lookup"><span data-stu-id="e1538-109">Before you move on toohello tasks in hello article, be sure to:</span></span>

* <span data-ttu-id="e1538-110">Familiarizarse con los conceptos de Service Fabric Hola se describe en [descripción general técnica de Service Fabric](service-fabric-technical-overview.md).</span><span class="sxs-lookup"><span data-stu-id="e1538-110">Get familiar with hello Service Fabric concepts described in [Technical overview of Service Fabric](service-fabric-technical-overview.md).</span></span>
* <span data-ttu-id="e1538-111">[Instalar en tiempo de ejecución de hello, SDK y herramientas](service-fabric-get-started.md), que también instala hello **ServiceFabric** módulo de PowerShell.</span><span class="sxs-lookup"><span data-stu-id="e1538-111">[Install hello runtime, SDK, and tools](service-fabric-get-started.md), which also installs hello **ServiceFabric** PowerShell module.</span></span>
* <span data-ttu-id="e1538-112">[Habilite la ejecución del script de PowerShell](service-fabric-get-started.md#enable-powershell-script-execution).</span><span class="sxs-lookup"><span data-stu-id="e1538-112">[Enable PowerShell script execution](service-fabric-get-started.md#enable-powershell-script-execution).</span></span>
* <span data-ttu-id="e1538-113">Inicie un clúster local.</span><span class="sxs-lookup"><span data-stu-id="e1538-113">Start a local cluster.</span></span>  <span data-ttu-id="e1538-114">Inicie una nueva ventana de PowerShell como administrador y, a continuación, ejecute el script de instalación de clúster de Hola desde la carpeta del SDK de hello:`& "$ENV:ProgramFiles\Microsoft SDKs\Service Fabric\ClusterSetup\DevClusterSetup.ps1"`</span><span class="sxs-lookup"><span data-stu-id="e1538-114">Launch a new PowerShell window as an administrator and then run hello cluster setup script from hello SDK folder: `& "$ENV:ProgramFiles\Microsoft SDKs\Service Fabric\ClusterSetup\DevClusterSetup.ps1"`</span></span>
* <span data-ttu-id="e1538-115">Antes de ejecutar los comandos de PowerShell en este artículo, primero conecte toohello clúster de Service Fabric local mediante el uso de [Connect-ServiceFabricCluster](/powershell/module/servicefabric/connect-servicefabriccluster?view=azureservicefabricps):`Connect-ServiceFabricCluster localhost:19000`</span><span class="sxs-lookup"><span data-stu-id="e1538-115">Before you run any PowerShell commands in this article, first connect toohello local Service Fabric cluster by using [Connect-ServiceFabricCluster](/powershell/module/servicefabric/connect-servicefabriccluster?view=azureservicefabricps): `Connect-ServiceFabricCluster localhost:19000`</span></span>
* <span data-ttu-id="e1538-116">Hola siguiente las tareas requiere una toodeploy de paquete de aplicación v1 y un paquete de aplicación v2 para la actualización.</span><span class="sxs-lookup"><span data-stu-id="e1538-116">hello following tasks require a v1 application package toodeploy and a v2 application package for upgrade.</span></span> <span data-ttu-id="e1538-117">Descargar hello [ **WordCount** aplicación de ejemplo](http://aka.ms/servicefabricsamples) (que se encuentra en los ejemplos de introducción de hello).</span><span class="sxs-lookup"><span data-stu-id="e1538-117">Download hello [**WordCount** sample application](http://aka.ms/servicefabricsamples) (located in hello Getting Started samples).</span></span> <span data-ttu-id="e1538-118">Compilar y empaquetar la aplicación hello en Visual Studio (haga doble clic en **WordCount** en el Explorador de soluciones y seleccione **paquete**).</span><span class="sxs-lookup"><span data-stu-id="e1538-118">Build and package hello application in Visual Studio (right-click on **WordCount** in Solution Explorer and select **Package**).</span></span> <span data-ttu-id="e1538-119">Copia el paquete de v1 de hello en `C:\ServiceFabricSamples\Services\WordCount\WordCount\pkg\Debug` demasiado`C:\Temp\WordCount`.</span><span class="sxs-lookup"><span data-stu-id="e1538-119">Copy hello v1 package in `C:\ServiceFabricSamples\Services\WordCount\WordCount\pkg\Debug` too`C:\Temp\WordCount`.</span></span> <span data-ttu-id="e1538-120">Copia `C:\Temp\WordCount` demasiado`C:\Temp\WordCountV2`, crear paquete de la aplicación hello v2 para la actualización.</span><span class="sxs-lookup"><span data-stu-id="e1538-120">Copy `C:\Temp\WordCount` too`C:\Temp\WordCountV2`, creating hello v2 application package for upgrade.</span></span> <span data-ttu-id="e1538-121">Abra `C:\Temp\WordCountV2\ApplicationManifest.xml` en un editor de texto.</span><span class="sxs-lookup"><span data-stu-id="e1538-121">Open `C:\Temp\WordCountV2\ApplicationManifest.xml` in a text editor.</span></span> <span data-ttu-id="e1538-122">Hola **ApplicationManifest** elemento, cambio hello **ApplicationTypeVersion** de atributo de "1.0.0" demasiado "2.0.0" número de versión de aplicación de tooupdate Hola.</span><span class="sxs-lookup"><span data-stu-id="e1538-122">In hello **ApplicationManifest** element, change hello **ApplicationTypeVersion** attribute from "1.0.0" too"2.0.0" tooupdate hello app version number.</span></span> <span data-ttu-id="e1538-123">Guarde el archivo de ApplicationManifest.xml de hello cambiado.</span><span class="sxs-lookup"><span data-stu-id="e1538-123">Save hello changed ApplicationManifest.xml file.</span></span>

## <a name="task-deploy-a-service-fabric-application"></a><span data-ttu-id="e1538-124">Tarea: Implementar una aplicación de Service Fabric</span><span class="sxs-lookup"><span data-stu-id="e1538-124">Task: Deploy a Service Fabric application</span></span>
<span data-ttu-id="e1538-125">Después de haber creado y empaqueta la aplicación hello (o descargar el paquete de aplicación Hola), puede implementar la aplicación hello en un clúster de Service Fabric local.</span><span class="sxs-lookup"><span data-stu-id="e1538-125">After you've built and packaged hello application (or downloaded hello application package), you can deploy hello application into a local Service Fabric cluster.</span></span> <span data-ttu-id="e1538-126">Implementación implica cargar paquete de aplicación Hola, registrar el tipo de aplicación hello y crear la instancia de la aplicación hello.</span><span class="sxs-lookup"><span data-stu-id="e1538-126">Deployment involves uploading hello application package, registering hello application type, and creating hello application instance.</span></span> <span data-ttu-id="e1538-127">Siga las instrucciones de hello en este toodeploy sección un nuevo clúster tooa de aplicación.</span><span class="sxs-lookup"><span data-stu-id="e1538-127">Use hello instructions in this section toodeploy a new application tooa cluster.</span></span>

### <a name="step-1-upload-hello-application-package"></a><span data-ttu-id="e1538-128">Paso 1: Cargar el paquete de aplicación Hola</span><span class="sxs-lookup"><span data-stu-id="e1538-128">Step 1: Upload hello application package</span></span>
<span data-ttu-id="e1538-129">Cargando toohello de paquete de aplicación Hola almacén de imágenes lo coloca en un componente de ubicación accesible toointernal Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="e1538-129">Uploading hello application package toohello image store puts it in a location accessible toointernal Service Fabric components.</span></span>  <span data-ttu-id="e1538-130">paquete de aplicación Hola contiene la configuración necesaria de manifiesto de aplicación, los manifiestos de servicio y código de hello y aplicación de hello de toocreate de paquetes de datos e instancias de servicio.</span><span class="sxs-lookup"><span data-stu-id="e1538-130">hello application package contains hello necessary application manifest, service manifests, and code, configuration, and data package(s) toocreate hello application and service instances.</span></span> <span data-ttu-id="e1538-131">Si desea tooverify Hola paquete de la aplicación localmente, utilice hello [ServiceFabricApplicationPackage prueba](/powershell/servicefabric/vlatest/test-servicefabricapplicationpackage) cmdlet.</span><span class="sxs-lookup"><span data-stu-id="e1538-131">If you want tooverify hello app package locally, use hello [Test-ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/test-servicefabricapplicationpackage) cmdlet.</span></span>  <span data-ttu-id="e1538-132">Hola [ServiceFabricApplicationPackage copia](/powershell/module/servicefabric/copy-servicefabricapplicationpackage?view=azureservicefabricps) comando cargas Hola paquete.</span><span class="sxs-lookup"><span data-stu-id="e1538-132">hello [Copy-ServiceFabricApplicationPackage](/powershell/module/servicefabric/copy-servicefabricapplicationpackage?view=azureservicefabricps) command uploads hello package.</span></span> <span data-ttu-id="e1538-133">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="e1538-133">For example:</span></span>

```powershell
Copy-ServiceFabricApplicationPackage C:\Temp\WordCount\ -ImageStoreConnectionString file:C:\SfDevCluster\Data\ImageStoreShare -ApplicationPackagePathInImageStore WordCount
```

### <a name="step-2-register-hello-application-type"></a><span data-ttu-id="e1538-134">Paso 2: Registrar el tipo de aplicación Hola</span><span class="sxs-lookup"><span data-stu-id="e1538-134">Step 2: Register hello application type</span></span>
<span data-ttu-id="e1538-135">Paquete de aplicación del registro de hello hace tipo de aplicación hello y la versión que se declara en el manifiesto de aplicación de hello disponible para su uso.</span><span class="sxs-lookup"><span data-stu-id="e1538-135">Registering hello application package makes hello application type and version declared in hello application manifest available for use.</span></span> <span data-ttu-id="e1538-136">sistema Hola lee paquete Hola cargado en el paso 1 de hello, comprobar el paquete de hello (equivalente toorunning [ServiceFabricApplicationPackage prueba](/powershell/servicefabric/vlatest/test-servicefabricapplicationpackage) localmente), procesar el contenido del paquete hello y copie Hola procesa paquete tooan ubicación del sistema interno.</span><span class="sxs-lookup"><span data-stu-id="e1538-136">hello system reads hello package uploaded in hello step 1, verify hello package (equivalent toorunning [Test-ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/test-servicefabricapplicationpackage) locally), process hello package contents, and copy hello processed package tooan internal system location.</span></span>  <span data-ttu-id="e1538-137">Ejecute hello [ServiceFabricApplicationType Register](/powershell/module/servicefabric/register-servicefabricapplicationtype?view=azureservicefabricps) cmdlet:</span><span class="sxs-lookup"><span data-stu-id="e1538-137">Run hello [Register-ServiceFabricApplicationType](/powershell/module/servicefabric/register-servicefabricapplicationtype?view=azureservicefabricps) cmdlet:</span></span>

```powershell
Register-ServiceFabricApplicationType WordCount
```
<span data-ttu-id="e1538-138">toosee todos los tipos de aplicación Hola registrados en clúster de hello, ejecute hello [ServiceFabricApplicationType Get](/powershell/module/servicefabric/get-servicefabricapplicationtype?view=azureservicefabricps) cmdlet:</span><span class="sxs-lookup"><span data-stu-id="e1538-138">toosee all hello application types registered in hello cluster, run hello [Get-ServiceFabricApplicationType](/powershell/module/servicefabric/get-servicefabricapplicationtype?view=azureservicefabricps) cmdlet:</span></span>

```powershell
Get-ServiceFabricApplicationType
```

### <a name="step-3-create-hello-application-instance"></a><span data-ttu-id="e1538-139">Paso 3: Crear instancia de la aplicación hello</span><span class="sxs-lookup"><span data-stu-id="e1538-139">Step 3: Create hello application instance</span></span>
<span data-ttu-id="e1538-140">Se puede crear instancias de una aplicación mediante el uso de cualquier versión del tipo de aplicación que se ha registrado correctamente mediante el uso de hello [ServiceFabricApplication New](/powershell/module/servicefabric/new-servicefabricapplication?view=azureservicefabricps) comando.</span><span class="sxs-lookup"><span data-stu-id="e1538-140">An application can be instantiated by using any application type version that has been registered successfully by using hello [New-ServiceFabricApplication](/powershell/module/servicefabric/new-servicefabricapplication?view=azureservicefabricps) command.</span></span> <span data-ttu-id="e1538-141">nombre de Hola de cada aplicación se declara en el tiempo de implementación y debe comenzar con hello **fabric:** esquema y ser únicos para cada instancia de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="e1538-141">hello name of each application is declared at deploy time and must start with hello **fabric:** scheme and be unique for each application instance.</span></span> <span data-ttu-id="e1538-142">Hello nombre de tipo de aplicación y la versión del tipo de aplicación se declaran en hello **ApplicationManifest.xml** archivo hello del paquete de aplicación.</span><span class="sxs-lookup"><span data-stu-id="e1538-142">hello application type name and application type version are declared in hello **ApplicationManifest.xml** file of hello application package.</span></span> <span data-ttu-id="e1538-143">Si los servicios predeterminados se definieron en el manifiesto de aplicación Hola del tipo de aplicación de destino de hello, las que se crean en este momento.</span><span class="sxs-lookup"><span data-stu-id="e1538-143">If any default services were defined in hello application manifest of hello target application type, then those are created at this time.</span></span>

```powershell
New-ServiceFabricApplication fabric:/WordCount WordCount 1.0.0
```

<span data-ttu-id="e1538-144">Hola [Get ServiceFabricApplication](/powershell/servicefabric/vlatest/get-servicefabricapplication) comando enumera todas las instancias de aplicación que se crearon correctamente, junto con su estado general.</span><span class="sxs-lookup"><span data-stu-id="e1538-144">hello [Get-ServiceFabricApplication](/powershell/servicefabric/vlatest/get-servicefabricapplication) command lists all application instances that were successfully created, along with their overall status.</span></span> <span data-ttu-id="e1538-145">Hola [Get ServiceFabricService](/powershell/module/servicefabric/get-servicefabricservice?view=azureservicefabricps) comando enumera todas las instancias de servicio de Hola que se crearon correctamente dentro de una instancia de aplicación determinada.</span><span class="sxs-lookup"><span data-stu-id="e1538-145">hello [Get-ServiceFabricService](/powershell/module/servicefabric/get-servicefabricservice?view=azureservicefabricps) command lists all of hello service instances that were successfully created within a given application instance.</span></span> <span data-ttu-id="e1538-146">Se enumeran los servicios predeterminados (en caso de haberlos).</span><span class="sxs-lookup"><span data-stu-id="e1538-146">Default services (if any) are listed.</span></span>

```powershell
Get-ServiceFabricApplication

Get-ServiceFabricApplication | Get-ServiceFabricService
```

## <a name="task-upgrade-a-service-fabric-application"></a><span data-ttu-id="e1538-147">Tarea: Actualizar una aplicación de Service Fabric</span><span class="sxs-lookup"><span data-stu-id="e1538-147">Task: Upgrade a Service Fabric application</span></span>
<span data-ttu-id="e1538-148">Puede actualizar una aplicación de Service Fabric ya implementada con un paquete de aplicación actualizado.</span><span class="sxs-lookup"><span data-stu-id="e1538-148">You can upgrade a previously deployed Service Fabric application with an updated application package.</span></span> <span data-ttu-id="e1538-149">Esta tarea actualiza la aplicación WordCount hello que se implementó en "tarea: implementar una aplicación de Service Fabric."</span><span class="sxs-lookup"><span data-stu-id="e1538-149">This task upgrades hello WordCount application that was deployed in "Task: Deploy a Service Fabric application."</span></span> <span data-ttu-id="e1538-150">Lea el [Tutorial de actualización de aplicación de Service Fabric](service-fabric-application-upgrade.md) para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="e1538-150">Read through [Service Fabric application upgrade](service-fabric-application-upgrade.md) for more information.</span></span>

<span data-ttu-id="e1538-151">se actualizó tookeep cosas simple para este ejemplo, el número de versión de aplicación a solo Hola Hola WordCountV2 paquete de aplicación creado en los requisitos previos de Hola.</span><span class="sxs-lookup"><span data-stu-id="e1538-151">tookeep things simple for this example, only hello application version number was updated in hello WordCountV2 application package created in hello prerequisites.</span></span> <span data-ttu-id="e1538-152">Un escenario más realista implicaría actualizar los archivos de código, la configuración o datos de servicio y, a continuación, volver a generar y empaquetar la aplicación hello con números de versión actualizada.</span><span class="sxs-lookup"><span data-stu-id="e1538-152">A more realistic scenario would involve updating your service code, configuration, or data files and then rebuilding and packaging hello application with updated version numbers.</span></span>  

### <a name="step-1-upload-hello-updated-application-package"></a><span data-ttu-id="e1538-153">Paso 1: Cargar el paquete de aplicación actualizada Hola</span><span class="sxs-lookup"><span data-stu-id="e1538-153">Step 1: Upload hello updated application package</span></span>
<span data-ttu-id="e1538-154">Hola WordCount v1 aplicación es listo toobe actualizado.</span><span class="sxs-lookup"><span data-stu-id="e1538-154">hello WordCount v1 application is ready toobe upgraded.</span></span> <span data-ttu-id="e1538-155">Si abre una ventana de PowerShell como administrador y escriba [ **Get ServiceFabricApplication**](/powershell/module/servicefabric/get-servicefabricapplication?view=azureservicefabricps), verá que se implementa esa versión 1.0.0 de hello tipo de aplicación WordCount.</span><span class="sxs-lookup"><span data-stu-id="e1538-155">If you open up a PowerShell window as administrator and type [**Get-ServiceFabricApplication**](/powershell/module/servicefabric/get-servicefabricapplication?view=azureservicefabricps), you see that version 1.0.0 of hello WordCount application type is deployed.</span></span>  

<span data-ttu-id="e1538-156">Hola copia había actualizado almacén de la imagen de Service Fabric de aplicación paquetes toohello (donde se almacenan los paquetes de aplicación Hola por Service Fabric).</span><span class="sxs-lookup"><span data-stu-id="e1538-156">Now copy hello updated application package toohello Service Fabric image store (where hello application packages are stored by Service Fabric).</span></span> <span data-ttu-id="e1538-157">Hola parámetro **ApplicationPackagePathInImageStore** informa a Service Fabric dónde puede encontrar paquete de aplicación Hola.</span><span class="sxs-lookup"><span data-stu-id="e1538-157">hello parameter **ApplicationPackagePathInImageStore** informs Service Fabric where it can find hello application package.</span></span> <span data-ttu-id="e1538-158">Hola el siguiente comando copia Hola paquete de aplicación demasiado**WordCountV2** en almacén de imágenes de hello:</span><span class="sxs-lookup"><span data-stu-id="e1538-158">hello following command copies hello application package too**WordCountV2** in hello image store:</span></span>  

```powershell
Copy-ServiceFabricApplicationPackage C:\Temp\WordCountV2\ -ImageStoreConnectionString file:C:\SfDevCluster\Data\ImageStoreShare -ApplicationPackagePathInImageStore WordCountV2

```
### <a name="step-2-register-hello-updated-application-type"></a><span data-ttu-id="e1538-159">Paso 2: Registrar Hola actualiza el tipo de aplicación</span><span class="sxs-lookup"><span data-stu-id="e1538-159">Step 2: Register hello updated application type</span></span>
<span data-ttu-id="e1538-160">paso siguiente Hello es tooregister Hola nueva versión de aplicación Hola con Service Fabric, lo que puede realizarse mediante hello [ServiceFabricApplicationType Register](/powershell/module/servicefabric/register-servicefabricapplicationtype?view=azureservicefabricps) cmdlet:</span><span class="sxs-lookup"><span data-stu-id="e1538-160">hello next step is tooregister hello new version of hello application with Service Fabric, which can be performed by using hello [Register-ServiceFabricApplicationType](/powershell/module/servicefabric/register-servicefabricapplicationtype?view=azureservicefabricps) cmdlet:</span></span>

```powershell
Register-ServiceFabricApplicationType WordCountV2
```

### <a name="step-3-start-hello-upgrade"></a><span data-ttu-id="e1538-161">Paso 3: Iniciar la actualización de Hola</span><span class="sxs-lookup"><span data-stu-id="e1538-161">Step 3: Start hello upgrade</span></span>
<span data-ttu-id="e1538-162">Varios parámetros de actualización, los tiempos de espera y criterios de estado pueden ser tooapplication aplicado actualizaciones.</span><span class="sxs-lookup"><span data-stu-id="e1538-162">Various upgrade parameters, timeouts, and health criteria can be applied tooapplication upgrades.</span></span> <span data-ttu-id="e1538-163">Lea hello [parámetros de actualización de la aplicación](service-fabric-application-upgrade-parameters.md) y [proceso de actualización](service-fabric-application-upgrade.md) documentos toolearn más.</span><span class="sxs-lookup"><span data-stu-id="e1538-163">Read through hello [application upgrade parameters](service-fabric-application-upgrade-parameters.md) and [upgrade process](service-fabric-application-upgrade.md) documents toolearn more.</span></span> <span data-ttu-id="e1538-164">Todos los servicios y las instancias deben ser *correcto* después de la actualización de Hola.</span><span class="sxs-lookup"><span data-stu-id="e1538-164">All services and instances should be *healthy* after hello upgrade.</span></span>  <span data-ttu-id="e1538-165">Conjunto hello **HealthCheckStableDuration** too60 segundos (de modo que los servicios de hello están en buenas condiciones de al menos 20 segundos antes de que realiza la actualización de hello toohello siguiente dominio de actualización).</span><span class="sxs-lookup"><span data-stu-id="e1538-165">Set hello **HealthCheckStableDuration** too60 seconds (so that hello services are healthy for at least 20 seconds before hello upgrade proceeds toohello next upgrade domain).</span></span>  <span data-ttu-id="e1538-166">También conjunto hello **UpgradeDomainTimeout** too1200 segundos y Hola **UpgradeTimeout** too3000 segundos.</span><span class="sxs-lookup"><span data-stu-id="e1538-166">Also set hello **UpgradeDomainTimeout** too1200 seconds and hello **UpgradeTimeout** too3000 seconds.</span></span> <span data-ttu-id="e1538-167">Por último, establezca hello **UpgradeFailureAction** demasiado**reversión**, que las solicitudes que Service Fabric revierte Hola versión anterior de la aplicación toohello si se producen errores durante la actualización.</span><span class="sxs-lookup"><span data-stu-id="e1538-167">Finally, set hello **UpgradeFailureAction** too**rollback**, which requests that Service Fabric rolls back hello application toohello previous version if failures are encountered during upgrade.</span></span>

<span data-ttu-id="e1538-168">Ahora puede iniciar actualización de la aplicación hello mediante hello [ServiceFabricApplicationUpgrade inicio](/powershell/module/servicefabric/start-servicefabricapplicationupgrade?view=azureservicefabricps) cmdlet:</span><span class="sxs-lookup"><span data-stu-id="e1538-168">You can now start hello application upgrade by using hello [Start-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/start-servicefabricapplicationupgrade?view=azureservicefabricps) cmdlet:</span></span>

```powershell
Start-ServiceFabricApplicationUpgrade -ApplicationName fabric:/WordCount -ApplicationTypeVersion 2.0.0 -HealthCheckStableDurationSec 60 -UpgradeDomainTimeoutSec 1200 -UpgradeTimeout 3000  -FailureAction Rollback -Monitored
```

<span data-ttu-id="e1538-169">Tenga en cuenta ese nombre de la aplicación hello es Hola igual como Hola implementado previamente el nombre de la aplicación v1.0.0 (fabric: / WordCount).</span><span class="sxs-lookup"><span data-stu-id="e1538-169">Note that hello application name is hello same as hello previously deployed v1.0.0 application name (fabric:/WordCount).</span></span> <span data-ttu-id="e1538-170">Service Fabric usa este tooidentify nombre obtener se actualiza la aplicación.</span><span class="sxs-lookup"><span data-stu-id="e1538-170">Service Fabric uses this name tooidentify which application is getting upgraded.</span></span> <span data-ttu-id="e1538-171">Si establece hello toobe de los tiempos de espera demasiado corto, podría encontrar un mensaje de error de tiempo de espera que los Estados Hola problema.</span><span class="sxs-lookup"><span data-stu-id="e1538-171">If you set hello time-outs toobe too short, you might encounter a time-out failure message that states hello problem.</span></span> <span data-ttu-id="e1538-172">Consulte demasiado[solucionar problemas de actualizaciones de la aplicación](service-fabric-application-upgrade-troubleshooting.md), o aumentar los tiempos de espera de Hola.</span><span class="sxs-lookup"><span data-stu-id="e1538-172">Refer too[Troubleshoot application upgrades](service-fabric-application-upgrade-troubleshooting.md), or increase hello time-outs.</span></span>

### <a name="step-4-check-upgrade-progress"></a><span data-ttu-id="e1538-173">Paso 4: Comprobación del progreso de la actualización</span><span class="sxs-lookup"><span data-stu-id="e1538-173">Step 4: Check upgrade progress</span></span>
<span data-ttu-id="e1538-174">Puede supervisar el progreso de actualización de la aplicación mediante [Service Fabric Explorer](service-fabric-visualizing-your-cluster.md), o mediante el uso de hello [ServiceFabricApplicationUpgrade Get](/powershell/module/servicefabric/get-servicefabricapplicationupgrade?view=azureservicefabricps) cmdlet:</span><span class="sxs-lookup"><span data-stu-id="e1538-174">You can monitor application upgrade progress by using [Service Fabric Explorer](service-fabric-visualizing-your-cluster.md), or by using hello [Get-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/get-servicefabricapplicationupgrade?view=azureservicefabricps) cmdlet:</span></span>

```powershell
Get-ServiceFabricApplicationUpgrade fabric:/WordCount
```

<span data-ttu-id="e1538-175">En unos minutos, Hola [ServiceFabricApplicationUpgrade Get](/powershell/module/servicefabric/get-servicefabricapplicationupgrade?view=azureservicefabricps) muestra que se actualizaron todos los dominios de actualización (completado).</span><span class="sxs-lookup"><span data-stu-id="e1538-175">In a few minutes, hello [Get-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/get-servicefabricapplicationupgrade?view=azureservicefabricps) cmdlet shows that all upgrade domains were upgraded (completed).</span></span>

## <a name="task-test-a-service-fabric-application"></a><span data-ttu-id="e1538-176">Tarea: Probar una aplicación de Service Fabric</span><span class="sxs-lookup"><span data-stu-id="e1538-176">Task: Test a Service Fabric application</span></span>
<span data-ttu-id="e1538-177">Servicios de alta calidad toowrite, los desarrolladores necesitan toobe tooinduce capaz de infraestructura no confiable errores tootest Hola estabilidad de sus servicios.</span><span class="sxs-lookup"><span data-stu-id="e1538-177">toowrite high-quality services, developers need toobe able tooinduce unreliable infrastructure faults tootest hello stability of their services.</span></span> <span data-ttu-id="e1538-178">Service Fabric proporciona a los programadores de acciones de error de hello capacidad tooinduce y probar servicios en presencia de Hola de errores mediante el uso de Hola escenarios de prueba de conmutación por error y caos.</span><span class="sxs-lookup"><span data-stu-id="e1538-178">Service Fabric gives developers hello ability tooinduce fault actions and test services in hello presence of failures by using hello chaos and failover test scenarios.</span></span>  <span data-ttu-id="e1538-179">Lea [Introducción toohello servicio de análisis de errores](service-fabric-testability-overview.md) para obtener información adicional.</span><span class="sxs-lookup"><span data-stu-id="e1538-179">Read through [Introduction toohello Fault Analysis Service](service-fabric-testability-overview.md) for additional information.</span></span>

### <a name="step-1-run-hello-chaos-test-scenario"></a><span data-ttu-id="e1538-180">Paso 1: Ejecutar el escenario de prueba de caos Hola</span><span class="sxs-lookup"><span data-stu-id="e1538-180">Step 1: Run hello chaos test scenario</span></span>
<span data-ttu-id="e1538-181">escenario de prueba de Hello chaos genera errores en el clúster de Service Fabric todo Hola.</span><span class="sxs-lookup"><span data-stu-id="e1538-181">hello chaos test scenario generates faults across hello entire Service Fabric cluster.</span></span> <span data-ttu-id="e1538-182">escenario de Hello comprime errores generalmente vistos durante meses o años tooa pocas horas.</span><span class="sxs-lookup"><span data-stu-id="e1538-182">hello scenario compresses faults generally seen over months or years tooa few hours.</span></span> <span data-ttu-id="e1538-183">combinación de Hola de errores intercalados con una tasa alta de error busca casos más complejos que en caso contrario, se perderán.</span><span class="sxs-lookup"><span data-stu-id="e1538-183">hello combination of interleaved faults with a high fault rate finds corner cases that would otherwise be missed.</span></span> <span data-ttu-id="e1538-184">Hello en el ejemplo siguiente se ejecuta el escenario de prueba de hello chaos durante 60 minutos.</span><span class="sxs-lookup"><span data-stu-id="e1538-184">hello following example runs hello chaos test scenario for 60 minutes.</span></span>

```powershell
$timeToRun = 60
$maxStabilizationTimeSecs = 180
$concurrentFaults = 3
$waitTimeBetweenIterationsSec = 60

Invoke-ServiceFabricChaosTestScenario -TimeToRunMinute $timeToRun -MaxClusterStabilizationTimeoutSec $maxStabilizationTimeSecs -MaxConcurrentFaults $concurrentFaults -EnableMoveReplicaFaults -WaitTimeBetweenIterationsSec $waitTimeBetweenIterationsSec
```

### <a name="step-2-run-hello-failover-test-scenario"></a><span data-ttu-id="e1538-185">Paso 2: Ejecutar el escenario de prueba de conmutación por error de Hola</span><span class="sxs-lookup"><span data-stu-id="e1538-185">Step 2: Run hello failover test scenario</span></span>
<span data-ttu-id="e1538-186">Hola conmutación por error de prueba de destinos de escenario una partición de servicio específico en lugar de clúster completo de Hola y deja otros servicios afectadas.</span><span class="sxs-lookup"><span data-stu-id="e1538-186">hello failover test scenario targets a specific service partition instead of hello entire cluster, and it leaves other services unaffected.</span></span> <span data-ttu-id="e1538-187">escenario de Hello procesa una iteración a través de una secuencia de simulada errores de validación del servicio mientras se ejecuta la lógica de negocios.</span><span class="sxs-lookup"><span data-stu-id="e1538-187">hello scenario iterates through a sequence of simulated faults in service validation while your business logic runs.</span></span> <span data-ttu-id="e1538-188">Un error en la validación de servicio indica un problema que necesita más investigación.</span><span class="sxs-lookup"><span data-stu-id="e1538-188">A failure in service validation indicates an issue that needs further investigation.</span></span> <span data-ttu-id="e1538-189">prueba de conmutación por error de Hello induce a solo error en un momento, según el escenario de prueba de caos toohello opuestos, que puede inducir a errores varios.</span><span class="sxs-lookup"><span data-stu-id="e1538-189">hello failover test induces only one fault at a time, as opposed toohello chaos test scenario, which can induce multiple faults.</span></span> <span data-ttu-id="e1538-190">Hello en el ejemplo siguiente se ejecuta pruebas de conmutación por error de Hola durante 60 minutos en el tejido de hello: / WordCount/servicio WordCountService.</span><span class="sxs-lookup"><span data-stu-id="e1538-190">hello following example runs hello failover test for 60 minutes against hello fabric:/WordCount/WordCountService service.</span></span>

```powershell
$timeToRun = 60
$maxStabilizationTimeSecs = 180
$waitTimeBetweenFaultsSec = 10
$serviceName = "fabric:/WordCount/WordCountService"

Invoke-ServiceFabricFailoverTestScenario -TimeToRunMinute $timeToRun -MaxServiceStabilizationTimeoutSec $maxStabilizationTimeSecs -WaitTimeBetweenFaultsSec $waitTimeBetweenFaultsSec -ServiceName $serviceName -PartitionKindUniformInt64 -PartitionKey 1
```

## <a name="task-remove-a-service-fabric-application"></a><span data-ttu-id="e1538-191">Tarea: Quitar una aplicación de Service Fabric</span><span class="sxs-lookup"><span data-stu-id="e1538-191">Task: Remove a Service Fabric application</span></span>
<span data-ttu-id="e1538-192">Puede eliminar una instancia de una aplicación implementada, quitar el tipo de aplicación Hola aprovisionado de clúster de Hola y quitar el paquete de aplicación Hola de hello ImageStore.</span><span class="sxs-lookup"><span data-stu-id="e1538-192">You can delete an instance of a deployed application, remove hello provisioned application type from hello cluster, and remove hello application package from hello ImageStore.</span></span>

### <a name="step-1-remove-an-application-instance"></a><span data-ttu-id="e1538-193">Paso 1: quite una instancia de aplicación</span><span class="sxs-lookup"><span data-stu-id="e1538-193">Step 1: Remove an application instance</span></span>
<span data-ttu-id="e1538-194">Cuando ya no se necesita una instancia de la aplicación, permanentemente puede quitar mediante hello [Remove-ServiceFabricApplication](/powershell/module/servicefabric/remove-servicefabricapplication?view=azureservicefabricps) cmdlet.</span><span class="sxs-lookup"><span data-stu-id="e1538-194">When an application instance is no longer needed, you can permanently remove it by using hello [Remove-ServiceFabricApplication](/powershell/module/servicefabric/remove-servicefabricapplication?view=azureservicefabricps) cmdlet.</span></span> <span data-ttu-id="e1538-195">Esto quita automáticamente todos los servicios pertenecientes toohello aplicación, eliminar permanentemente todos los Estados de servicio.</span><span class="sxs-lookup"><span data-stu-id="e1538-195">This also automatically removes all services belonging toohello application, permanently removing all service state.</span></span> <span data-ttu-id="e1538-196">No se puede deshacer esta operación y no se puede recuperar el estado de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="e1538-196">This operation cannot be reversed and application state cannot be recovered.</span></span>

```powershell
Remove-ServiceFabricApplication fabric:/WordCount
```

### <a name="step-2-unregister-hello-application-type"></a><span data-ttu-id="e1538-197">Paso 2: Anular el registro del tipo de aplicación Hola</span><span class="sxs-lookup"><span data-stu-id="e1538-197">Step 2: Unregister hello application type</span></span>
<span data-ttu-id="e1538-198">Cuando ya no necesita una versión concreta de un tipo de aplicación, anule el registro mediante el uso de hello [Unregister-ServiceFabricApplicationType](/powershell/module/servicefabric/unregister-servicefabricapplicationtype?view=azureservicefabricps) cmdlet.</span><span class="sxs-lookup"><span data-stu-id="e1538-198">When you no longer need a particular version of an application type, unregister it by using hello [Unregister-ServiceFabricApplicationType](/powershell/module/servicefabric/unregister-servicefabricapplicationtype?view=azureservicefabricps) cmdlet.</span></span> <span data-ttu-id="e1538-199">Al anular el registro tipos sin usar versiones espacio de almacenamiento utilizado por el paquete de aplicación hello en el almacén de imágenes de Hola.</span><span class="sxs-lookup"><span data-stu-id="e1538-199">Unregistering unused types releases storage space used by hello application package in hello image store.</span></span> <span data-ttu-id="e1538-200">No se puede anular el registro de un tipo de aplicación ya que no hay ninguna aplicación con instancias con él o hay actualizaciones de aplicaciones pendientes que hacen referencia a él.</span><span class="sxs-lookup"><span data-stu-id="e1538-200">An application type can be unregistered as long as there are no applications instantiated against it or pending application upgrades referencing it.</span></span>

```powershell
Unregister-ServiceFabricApplicationType WordCount 1.0.0
```

### <a name="step-3-remove-hello-application-package"></a><span data-ttu-id="e1538-201">Paso 3: Quitar el paquete de aplicación Hola</span><span class="sxs-lookup"><span data-stu-id="e1538-201">Step 3: Remove hello application package</span></span>
<span data-ttu-id="e1538-202">Después de que no está registrado el tipo de aplicación Hola, se puede quitar paquete de aplicación Hola Hola almacén de imágenes mediante hello [Remove-ServiceFabricApplicationPackage](/powershell/module/servicefabric/remove-servicefabricapplicationpackage?view=azureservicefabricps) cmdlet.</span><span class="sxs-lookup"><span data-stu-id="e1538-202">After hello application type is unregistered, hello application package can be removed from hello image store by using hello [Remove-ServiceFabricApplicationPackage](/powershell/module/servicefabric/remove-servicefabricapplicationpackage?view=azureservicefabricps) cmdlet.</span></span>

```powershell
Remove-ServiceFabricApplicationPackage -ImageStoreConnectionString file:C:\SfDevCluster\Data\ImageStoreShare -ApplicationPackagePathInImageStore WordCount
```

## <a name="next-steps"></a><span data-ttu-id="e1538-203">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="e1538-203">Next steps</span></span>
[<span data-ttu-id="e1538-204">Ciclo de vida de la aplicación de Service Fabric</span><span class="sxs-lookup"><span data-stu-id="e1538-204">Service Fabric application lifecycle</span></span>](service-fabric-application-lifecycle.md)

[<span data-ttu-id="e1538-205">Implementar una aplicación</span><span class="sxs-lookup"><span data-stu-id="e1538-205">Deploy an application</span></span>](service-fabric-deploy-remove-applications.md)

[<span data-ttu-id="e1538-206">Actualización de aplicaciones</span><span class="sxs-lookup"><span data-stu-id="e1538-206">Application upgrade</span></span>](service-fabric-application-upgrade.md)

[<span data-ttu-id="e1538-207">Cmdlets de Azure Service Fabric</span><span class="sxs-lookup"><span data-stu-id="e1538-207">Azure Service Fabric cmdlets</span></span>](/powershell/azure/overview?view=azureservicefabricps)

