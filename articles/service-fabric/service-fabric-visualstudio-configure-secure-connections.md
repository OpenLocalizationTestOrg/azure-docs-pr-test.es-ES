---
title: "aaaConfigure conexiones seguras de Azure Service Fabric clúster | Documentos de Microsoft"
description: "Obtenga información acerca de cómo toouse Visual Studio tooconfigure proteger las conexiones que son compatibles con clústeres de hello Azure Service Fabric."
services: service-fabric
documentationcenter: na
author: cawaMS
manager: paulyuk
editor: tglee
ms.assetid: 80501867-dd7a-4648-8bd6-d4f26b68402d
ms.service: multiple
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: multiple
ms.date: 8/04/2017
ms.author: cawa
ms.openlocfilehash: ed3e5043264cf026f74e24ca09b40ccc70086cf2
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="configure-secure-connections-tooa-service-fabric-cluster-from-visual-studio"></a><span data-ttu-id="0990e-103">Configurar el clúster de Service Fabric tooa de conexiones seguras de Visual Studio</span><span class="sxs-lookup"><span data-stu-id="0990e-103">Configure secure connections tooa Service Fabric cluster from Visual Studio</span></span>
<span data-ttu-id="0990e-104">Obtenga información acerca de cómo toouse Visual Studio toosecurely tener acceso a un clúster de Azure Service Fabric con las directivas de control de acceso configuradas.</span><span class="sxs-lookup"><span data-stu-id="0990e-104">Learn how toouse Visual Studio toosecurely access an Azure Service Fabric cluster with access control policies configured.</span></span>

## <a name="cluster-connection-types"></a><span data-ttu-id="0990e-105">Tipos de conexión del clúster</span><span class="sxs-lookup"><span data-stu-id="0990e-105">Cluster connection types</span></span>
<span data-ttu-id="0990e-106">Se admiten dos tipos de conexiones por clúster de hello Azure Service Fabric: **no seguras** conexiones y **x509 basada en certificados** conexiones seguras.</span><span class="sxs-lookup"><span data-stu-id="0990e-106">Two types of connections are supported by hello Azure Service Fabric cluster: **non-secure** connections and **x509 certificate-based** secure connections.</span></span> <span data-ttu-id="0990e-107">(En los clústeres de Service Fabric hospedados localmente también se admiten las autenticaciones de **Windows** y **dSTS**). Tener tipo de conexión de tooconfigure Hola clúster cuando se va a crear el clúster de Hola.</span><span class="sxs-lookup"><span data-stu-id="0990e-107">(For Service Fabric clusters hosted on-premises, **Windows** and **dSTS** authentications are also supported.) You have tooconfigure hello cluster connection type when hello cluster is being created.</span></span> <span data-ttu-id="0990e-108">Una vez creado, no se puede cambiar el tipo de conexión de Hola.</span><span class="sxs-lookup"><span data-stu-id="0990e-108">Once it's created, hello connection type can’t be changed.</span></span>

<span data-ttu-id="0990e-109">herramientas de Visual Studio Service Fabric Hola admiten todos los tipos de autenticación para conexión de tooa de clúster para la publicación.</span><span class="sxs-lookup"><span data-stu-id="0990e-109">hello Visual Studio Service Fabric tools support all authentication types for connecting tooa cluster for publishing.</span></span> <span data-ttu-id="0990e-110">Vea [configuración de un clúster de Service Fabric de hello Azure portal](service-fabric-cluster-creation-via-portal.md) para obtener instrucciones sobre cómo tooset un clúster de Service Fabric segura.</span><span class="sxs-lookup"><span data-stu-id="0990e-110">See [Setting up a Service Fabric cluster from hello Azure portal](service-fabric-cluster-creation-via-portal.md) for instructions on how tooset up a secure Service Fabric cluster.</span></span>

## <a name="configure-cluster-connections-in-publish-profiles"></a><span data-ttu-id="0990e-111">Configuración de las conexiones del clúster en perfiles de publicación</span><span class="sxs-lookup"><span data-stu-id="0990e-111">Configure cluster connections in publish profiles</span></span>
<span data-ttu-id="0990e-112">Si se publica un proyecto de Service Fabric desde Visual Studio, use hello **publicar aplicación de servicio de Fabric** toochoose del cuadro de diálogo un clúster de Azure Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="0990e-112">If you publish a Service Fabric project from Visual Studio, use hello **Publish Service Fabric Application** dialog box toochoose an Azure Service Fabric cluster.</span></span> <span data-ttu-id="0990e-113">En **Punto de conexión**, seleccione un clúster actual en su suscripción.</span><span class="sxs-lookup"><span data-stu-id="0990e-113">Under **Connection endpoint**, select an existing cluster under your subscription.</span></span>

![Hola ** el cuadro de diálogo Publicar servicio Fabric aplicación ** es tooconfigure usa una conexión de Service Fabric.][publishdialog]

<span data-ttu-id="0990e-115">Hola **publicar aplicación de servicio de Fabric** cuadro de diálogo valida automáticamente la conexión de clúster de Hola.</span><span class="sxs-lookup"><span data-stu-id="0990e-115">hello **Publish Service Fabric Application** dialog box automatically validates hello cluster connection.</span></span> <span data-ttu-id="0990e-116">Si se le solicita, inicie sesión en tooyour cuenta de Azure.</span><span class="sxs-lookup"><span data-stu-id="0990e-116">If prompted, sign in tooyour Azure account.</span></span> <span data-ttu-id="0990e-117">Si la validación es correcta, significa que el sistema tiene Hola correcto certificados instalados tooconnect toohello clúster de forma segura o el clúster es no seguras.</span><span class="sxs-lookup"><span data-stu-id="0990e-117">If validation passes, it means that your system has hello correct certificates installed tooconnect toohello cluster securely, or your cluster is non-secure.</span></span> <span data-ttu-id="0990e-118">Errores de validación pueden deberse a problemas de red o no hacer que el clúster seguros de tooa de tooconnect sistema configurado correctamente.</span><span class="sxs-lookup"><span data-stu-id="0990e-118">Validation failures can be caused by network issues or by not having your system correctly configured tooconnect tooa secure cluster.</span></span>

![Hola ** publicar servicio Fabric aplicación ** cuadro de diálogo valida una existente, correctamente configurado conexión de clúster de Service Fabric.][selectsfcluster]

### <a name="tooconnect-tooa-secure-cluster"></a><span data-ttu-id="0990e-120">clúster de tooconnect tooa segura</span><span class="sxs-lookup"><span data-stu-id="0990e-120">tooconnect tooa secure cluster</span></span>
1. <span data-ttu-id="0990e-121">Asegúrese de que puede tener acceso a uno de los certificados de cliente de Hola que Hola confianzas de clúster de destino.</span><span class="sxs-lookup"><span data-stu-id="0990e-121">Make sure you can access one of hello client certificates that hello destination cluster trusts.</span></span> <span data-ttu-id="0990e-122">certificado de Hola se comparte normalmente como un archivo de intercambio de información Personal (.pfx).</span><span class="sxs-lookup"><span data-stu-id="0990e-122">hello certificate is usually shared as a Personal Information Exchange (.pfx) file.</span></span> <span data-ttu-id="0990e-123">Vea [configuración de un clúster de Service Fabric de hello portal de Azure](service-fabric-cluster-creation-via-portal.md) sobre cómo tooconfigure Hola server toogrant tener acceso a tooa cliente.</span><span class="sxs-lookup"><span data-stu-id="0990e-123">See [Setting up a Service Fabric cluster from hello Azure portal](service-fabric-cluster-creation-via-portal.md) for how tooconfigure hello server toogrant access tooa client.</span></span>
2. <span data-ttu-id="0990e-124">Instale el certificado de confianza de Hola.</span><span class="sxs-lookup"><span data-stu-id="0990e-124">Install hello trusted certificate.</span></span> <span data-ttu-id="0990e-125">toodo, haga doble clic en el archivo .pfx de Hola o usar Hola PowerShell script Import-PfxCertificate tooimport Hola certificados.</span><span class="sxs-lookup"><span data-stu-id="0990e-125">toodo this, double-click hello .pfx file, or use hello PowerShell script Import-PfxCertificate tooimport hello certificates.</span></span> <span data-ttu-id="0990e-126">Instalar certificado de hello demasiado**Cert: \LocalMachine\My**.</span><span class="sxs-lookup"><span data-stu-id="0990e-126">Install hello certificate too**Cert:\LocalMachine\My**.</span></span> <span data-ttu-id="0990e-127">Es tooaccept Aceptar todos los valores predeterminados durante la importación de certificados de Hola.</span><span class="sxs-lookup"><span data-stu-id="0990e-127">It's OK tooaccept all default settings while importing hello certificate.</span></span>
3. <span data-ttu-id="0990e-128">Elija hello **publicar...**  comando menú contextual de Hola Hola de hello proyecto tooopen **publicar aplicación de Azure** cuadro de diálogo y el clúster de destino, a continuación, seleccione Hola.</span><span class="sxs-lookup"><span data-stu-id="0990e-128">Choose hello **Publish...** command on hello shortcut menu of hello project tooopen hello **Publish Azure Application** dialog box and then select hello target cluster.</span></span> <span data-ttu-id="0990e-129">herramienta de Hello resuelve conexión hello y guarda la conexión segura Hola parámetros Hola publicación perfil automáticamente.</span><span class="sxs-lookup"><span data-stu-id="0990e-129">hello tool automatically resolves hello connection and saves hello secure connection parameters in hello publish profile.</span></span>
4. <span data-ttu-id="0990e-130">Opcional: Puede editar Hola publicar perfil toospecify una conexión de clúster segura.</span><span class="sxs-lookup"><span data-stu-id="0990e-130">Optional: You can edit hello publish profile toospecify a secure cluster connection.</span></span>
   
   <span data-ttu-id="0990e-131">Puesto que puede editar manualmente la información del certificado Hola XML del perfil de publicación archivo toospecify Hola, estar seguro de nombre de almacén de certificados de hello toonote, almacenar la ubicación y la huella digital del certificado.</span><span class="sxs-lookup"><span data-stu-id="0990e-131">Since you're manually editing hello Publish Profile XML file toospecify hello certificate information, be sure toonote hello certificate store name, store location, and certificate thumbprint.</span></span> <span data-ttu-id="0990e-132">Necesitará tooprovide estos valores para el almacén de certificados de hello nombre y ubicación del almacén.</span><span class="sxs-lookup"><span data-stu-id="0990e-132">You'll need tooprovide these values for hello certificate's store name and store location.</span></span> <span data-ttu-id="0990e-133">Vea [Cómo: recuperar Hola huella digital de un certificado](https://msdn.microsoft.com/library/ms734695\(v=vs.110\).aspx) para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="0990e-133">See [How to: Retrieve hello Thumbprint of a Certificate](https://msdn.microsoft.com/library/ms734695\(v=vs.110\).aspx) for more information.</span></span>
   
   <span data-ttu-id="0990e-134">Puede usar hello *ClusterConnectionParameters* parámetros toospecify Hola PowerShell parámetros toouse cuando se conecta el clúster de Service Fabric toohello.</span><span class="sxs-lookup"><span data-stu-id="0990e-134">You can use hello *ClusterConnectionParameters* parameters toospecify hello PowerShell parameters toouse when connecting toohello Service Fabric cluster.</span></span> <span data-ttu-id="0990e-135">Los parámetros válidos son los que se aceptan mediante el cmdlet Connect-ServiceFabricCluster Hola.</span><span class="sxs-lookup"><span data-stu-id="0990e-135">Valid parameters are any that are accepted by hello Connect-ServiceFabricCluster cmdlet.</span></span> <span data-ttu-id="0990e-136">Consulte [Conexión de ServiceFabricCluster](https://msdn.microsoft.com/library/mt125938.aspx) para obtener una lista de parámetros disponibles.</span><span class="sxs-lookup"><span data-stu-id="0990e-136">See [Connect-ServiceFabricCluster](https://msdn.microsoft.com/library/mt125938.aspx) for a list of available parameters.</span></span>
   
   <span data-ttu-id="0990e-137">Si va a publicar tooa de clúster remoto, necesita parámetros adecuados de toospecify Hola para ese clúster concreto.</span><span class="sxs-lookup"><span data-stu-id="0990e-137">If you’re publishing tooa remote cluster, you need toospecify hello appropriate parameters for that specific cluster.</span></span> <span data-ttu-id="0990e-138">Hola te mostramos un ejemplo de clúster no seguras de conexión tooa:</span><span class="sxs-lookup"><span data-stu-id="0990e-138">hello following is an example of connecting tooa non-secure cluster:</span></span>
   
   `<ClusterConnectionParameters ConnectionEndpoint="mycluster.westus.cloudapp.azure.com:19000" />`
   
   <span data-ttu-id="0990e-139">Este es un ejemplo de tooan x509 conexión basada en certificados clúster segura:</span><span class="sxs-lookup"><span data-stu-id="0990e-139">Here’s an example for connecting tooan x509 certificate-based secure cluster:</span></span>
   
   ```xml
   <ClusterConnectionParameters
   ConnectionEndpoint="mycluster.westus.cloudapp.azure.com:19000"
   X509Credential="true"
   ServerCertThumbprint="0123456789012345678901234567890123456789"
   FindType="FindByThumbprint"
   FindValue="9876543210987654321098765432109876543210"
   StoreLocation="CurrentUser"
   StoreName="My" />
   ```
5. <span data-ttu-id="0990e-140">Modificar otras configuraciones necesarias, como parámetros de actualización y la ubicación del archivo de parámetro de la aplicación y, a continuación, publicar la aplicación de hello **publicar aplicación de servicio de Fabric** cuadro de diálogo de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="0990e-140">Edit any other necessary settings, such as upgrade parameters and Application Parameter file location, and then publish your application from hello **Publish Service Fabric Application** dialog box in Visual Studio.</span></span>

## <a name="next-steps"></a><span data-ttu-id="0990e-141">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="0990e-141">Next steps</span></span>
<span data-ttu-id="0990e-142">Para obtener más información sobre el acceso a los clústeres de Service Fabric, consulte [Visualización del clúster mediante el Explorador de Service Fabric](service-fabric-visualizing-your-cluster.md).</span><span class="sxs-lookup"><span data-stu-id="0990e-142">For more information about accessing Service Fabric clusters, see [Visualizing your cluster by using Service Fabric Explorer](service-fabric-visualizing-your-cluster.md).</span></span>

<!--Image references-->
[publishdialog]:./media/service-fabric-visualstudio-configure-secure-connections/publishdialog.png
[selectsfcluster]:./media/service-fabric-visualstudio-configure-secure-connections/selectsfcluster.png
