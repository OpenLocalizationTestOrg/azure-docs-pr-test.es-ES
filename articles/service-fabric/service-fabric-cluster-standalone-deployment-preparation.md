---
title: "Preparación de la implementación de clúster de Service Fabric independientes aaaAzure | Documentos de Microsoft"
description: "Documentación relacionada con el entorno de hello toopreparing y crear configuración de clúster de hello, toobe considera toodeploying anterior un clúster diseñado para controlar una carga de trabajo de producción."
services: service-fabric
documentationcenter: .net
author: maburlik
manager: timlt
editor: 
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 1/17/2017
ms.author: maburlik;chackdan
ms.openlocfilehash: e503c61a64b408af3f22bd75ab02f1c34ac9f380
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
<a id="preparemachines"></a>

## <a name="plan-and-prepare-your-service-fabric-standalone-cluster-deployment"></a><span data-ttu-id="6e444-103">Planeamiento y preparación del desarrollo de un clúster independiente de Service Fabric</span><span class="sxs-lookup"><span data-stu-id="6e444-103">Plan and prepare your Service Fabric standalone cluster deployment</span></span>
<span data-ttu-id="6e444-104">Realizar Hola siguiendo los pasos antes de crear el clúster.</span><span class="sxs-lookup"><span data-stu-id="6e444-104">Perform hello following steps before you create your cluster.</span></span>

### <a name="step-1-plan-your-cluster-infrastructure"></a><span data-ttu-id="6e444-105">Paso 1: Planear la infraestructura de clúster</span><span class="sxs-lookup"><span data-stu-id="6e444-105">Step 1: Plan your cluster infrastructure</span></span>
<span data-ttu-id="6e444-106">Está a punto toocreate un clúster de Service Fabric en los equipos que usted es el propietario, por lo que puede decidir qué tipos de errores que desee Hola toosurvive de clúster.</span><span class="sxs-lookup"><span data-stu-id="6e444-106">You are about toocreate a Service Fabric cluster on machines you own, so you can decide what kinds of failures you want hello cluster toosurvive.</span></span> <span data-ttu-id="6e444-107">Por ejemplo, ¿necesita líneas de alimentación independientes o si las conexiones a Internet suministrado máquinas toothese?</span><span class="sxs-lookup"><span data-stu-id="6e444-107">For example, do you need separate power lines or Internet connections supplied toothese machines?</span></span> <span data-ttu-id="6e444-108">Además, considere la posibilidad de seguridad física de Hola de estas máquinas.</span><span class="sxs-lookup"><span data-stu-id="6e444-108">In addition, consider hello physical security of these machines.</span></span> <span data-ttu-id="6e444-109">¿Donde se encuentran las máquinas de Hola y quién debe toothem de acceso?</span><span class="sxs-lookup"><span data-stu-id="6e444-109">Where are hello machines located and who needs access toothem?</span></span> <span data-ttu-id="6e444-110">Después de tomar estas decisiones, lógicamente puede asignar Hola máquinas toohello distintos dominios de error (consulte el paso 4).</span><span class="sxs-lookup"><span data-stu-id="6e444-110">After you make these decisions, you can logically map hello machines toohello various fault domains (see Step 4).</span></span> <span data-ttu-id="6e444-111">planeación para clústeres de producción de la infraestructura de Hello es más complicada que para los clústeres de prueba.</span><span class="sxs-lookup"><span data-stu-id="6e444-111">hello infrastructure planning for production clusters is more involved than for test clusters.</span></span>

### <a name="step-2-prepare-hello-machines-toomeet-hello-prerequisites"></a><span data-ttu-id="6e444-112">Paso 2: Preparar Hola máquinas toomeet requisitos previos de Hola</span><span class="sxs-lookup"><span data-stu-id="6e444-112">Step 2: Prepare hello machines toomeet hello prerequisites</span></span>
<span data-ttu-id="6e444-113">Requisitos previos para cada equipo que desea tooadd toohello clúster:</span><span class="sxs-lookup"><span data-stu-id="6e444-113">Prerequisites for each machine that you want tooadd toohello cluster:</span></span>

* <span data-ttu-id="6e444-114">Se recomiendan como mínimo 16 GB de RAM.</span><span class="sxs-lookup"><span data-stu-id="6e444-114">A minimum of 16 GB of RAM is recommended.</span></span>
* <span data-ttu-id="6e444-115">Se recomiendan 40 GB de espacio disponible en disco como mínimo.</span><span class="sxs-lookup"><span data-stu-id="6e444-115">A minimum of 40 of GB available disk space is recommended.</span></span>
* <span data-ttu-id="6e444-116">Se recomienda una CPU de cuatro núcleos o más.</span><span class="sxs-lookup"><span data-stu-id="6e444-116">A 4 core or greater CPU is recommended.</span></span>
* <span data-ttu-id="6e444-117">Red segura de conectividad tooa o redes para todas las máquinas.</span><span class="sxs-lookup"><span data-stu-id="6e444-117">Connectivity tooa secure network or networks for all machines.</span></span>
* <span data-ttu-id="6e444-118">Windows Server 2012 R2 o Windows Server 2016.</span><span class="sxs-lookup"><span data-stu-id="6e444-118">Windows Server 2012 R2 or Windows Server 2016.</span></span> 
* <span data-ttu-id="6e444-119">[.NET Framework 4.5.1 o posterior](https://www.microsoft.com/download/details.aspx?id=40773)(instalación completa).</span><span class="sxs-lookup"><span data-stu-id="6e444-119">[.NET Framework 4.5.1 or higher](https://www.microsoft.com/download/details.aspx?id=40773), full install.</span></span>
* <span data-ttu-id="6e444-120">[Windows PowerShell 3.0](https://msdn.microsoft.com/powershell/scripting/setup/installing-windows-powershell).</span><span class="sxs-lookup"><span data-stu-id="6e444-120">[Windows PowerShell 3.0](https://msdn.microsoft.com/powershell/scripting/setup/installing-windows-powershell).</span></span>
* <span data-ttu-id="6e444-121">Hola [RemoteRegistry servicio](https://technet.microsoft.com/library/cc754820) debe ejecutarse en todas las máquinas de Hola.</span><span class="sxs-lookup"><span data-stu-id="6e444-121">hello [RemoteRegistry service](https://technet.microsoft.com/library/cc754820) should be running on all hello machines.</span></span>

<span data-ttu-id="6e444-122">Hello implementar y configurar el clúster de hello el Administrador de clústeres debe tener [privilegios de administrador](https://social.technet.microsoft.com/wiki/contents/articles/13436.windows-server-2012-how-to-add-an-account-to-a-local-administrator-group.aspx) en cada uno de los equipos de Hola.</span><span class="sxs-lookup"><span data-stu-id="6e444-122">hello cluster administrator deploying and configuring hello cluster must have [administrator privileges](https://social.technet.microsoft.com/wiki/contents/articles/13436.windows-server-2012-how-to-add-an-account-to-a-local-administrator-group.aspx) on each of hello machines.</span></span> <span data-ttu-id="6e444-123">No se puede instalar Service Fabric en un controlador de dominio.</span><span class="sxs-lookup"><span data-stu-id="6e444-123">You cannot install Service Fabric on a domain controller.</span></span>

### <a name="step-3-determine-hello-initial-cluster-size"></a><span data-ttu-id="6e444-124">Paso 3: Determinar el tamaño inicial del clúster de Hola</span><span class="sxs-lookup"><span data-stu-id="6e444-124">Step 3: Determine hello initial cluster size</span></span>
<span data-ttu-id="6e444-125">Cada nodo de un clúster de Service Fabric independiente tiene Hola Service Fabric en tiempo de ejecución implementa y es un miembro de clúster de Hola.</span><span class="sxs-lookup"><span data-stu-id="6e444-125">Each node in a standalone Service Fabric cluster has hello Service Fabric runtime deployed and is a member of hello cluster.</span></span> <span data-ttu-id="6e444-126">En una implementación típica de producción, hay un nodo por cada instancia de sistema operativo (física o virtual).</span><span class="sxs-lookup"><span data-stu-id="6e444-126">In a typical production deployment, there is one node per OS instance (physical or virtual).</span></span> <span data-ttu-id="6e444-127">tamaño de clúster de Hello viene determinado por sus necesidades empresariales.</span><span class="sxs-lookup"><span data-stu-id="6e444-127">hello cluster size is determined by your business needs.</span></span> <span data-ttu-id="6e444-128">Sin embargo, debe tener un tamaño mínimo de clúster de tres nodos (máquinas o máquinas virtuales).</span><span class="sxs-lookup"><span data-stu-id="6e444-128">However, you must have a minimum cluster size of three nodes (machines or virtual machines).</span></span>
<span data-ttu-id="6e444-129">Con fines de desarrollo, puede tener más de un nodo en una máquina determinada.</span><span class="sxs-lookup"><span data-stu-id="6e444-129">For development purposes, you can have more than one node on a given machine.</span></span> <span data-ttu-id="6e444-130">En un entorno de producción, Service Fabric solo admite un nodo por máquina virtual o física.</span><span class="sxs-lookup"><span data-stu-id="6e444-130">In a production environment, Service Fabric supports only one node per physical or virtual machine.</span></span>

### <a name="step-4-determine-hello-number-of-fault-domains-and-upgrade-domains"></a><span data-ttu-id="6e444-131">Paso 4: Determinar el número de Hola de dominios de error y dominios de actualización</span><span class="sxs-lookup"><span data-stu-id="6e444-131">Step 4: Determine hello number of fault domains and upgrade domains</span></span>
<span data-ttu-id="6e444-132">A *dominio de error* (FD) es una unidad física de error y es toohello directamente relacionados con la infraestructura física hello en centros de datos.</span><span class="sxs-lookup"><span data-stu-id="6e444-132">A *fault domain* (FD) is a physical unit of failure and is directly related toohello physical infrastructure in hello data centers.</span></span> <span data-ttu-id="6e444-133">Un dominio de error consta de componentes de hardware (equipos, conmutadores, redes, etc.) que comparten un único punto de error.</span><span class="sxs-lookup"><span data-stu-id="6e444-133">A fault domain consists of hardware components (computers, switches, networks, and more) that share a single point of failure.</span></span> <span data-ttu-id="6e444-134">Aunque no hay ninguna asignación 1:1 entre dominios de error y racks, en términos generales, cada bastidor puede considerarse un dominio de error.</span><span class="sxs-lookup"><span data-stu-id="6e444-134">Although there is no 1:1 mapping between fault domains and racks, loosely speaking, each rack can be considered a fault domain.</span></span> <span data-ttu-id="6e444-135">Al considerar nodos hello en el clúster, se recomienda encarecidamente que los nodos de Hola se distribuya entre al menos tres dominios de error.</span><span class="sxs-lookup"><span data-stu-id="6e444-135">When considering hello nodes in your cluster, we strongly recommend that hello nodes be distributed among at least three fault domains.</span></span>

<span data-ttu-id="6e444-136">Cuando se especifica FD en ClusterConfig.json, puede elegir nombre de Hola para cada FD.</span><span class="sxs-lookup"><span data-stu-id="6e444-136">When you specify FDs in ClusterConfig.json, you can choose hello name for each FD.</span></span> <span data-ttu-id="6e444-137">Service Fabric admite FD jerárquicos, así que puede reflejar la topología de infraestructura en ellos.</span><span class="sxs-lookup"><span data-stu-id="6e444-137">Service Fabric supports hierarchical FDs, so you can reflect your infrastructure topology in them.</span></span>  <span data-ttu-id="6e444-138">Por ejemplo, hello después FD es válida:</span><span class="sxs-lookup"><span data-stu-id="6e444-138">For example, hello following FDs are valid:</span></span>

* <span data-ttu-id="6e444-139">"faultDomain": "fd:/Room1/Rack1/Machine1"</span><span class="sxs-lookup"><span data-stu-id="6e444-139">"faultDomain": "fd:/Room1/Rack1/Machine1"</span></span>
* <span data-ttu-id="6e444-140">"faultDomain": "fd:/FD1"</span><span class="sxs-lookup"><span data-stu-id="6e444-140">"faultDomain": "fd:/FD1"</span></span>
* <span data-ttu-id="6e444-141">"faultDomain": "fd:/Room1/Rack1/PDU1/M1"</span><span class="sxs-lookup"><span data-stu-id="6e444-141">"faultDomain": "fd:/Room1/Rack1/PDU1/M1"</span></span>

<span data-ttu-id="6e444-142">Un *dominio de actualización* (UD) es una unidad lógica de nodos.</span><span class="sxs-lookup"><span data-stu-id="6e444-142">An *upgrade domain* (UD) is a logical unit of nodes.</span></span> <span data-ttu-id="6e444-143">Durante las actualizaciones de Service Fabric organiza (actualización de una aplicación o una actualización de clúster), todos los nodos de un UD se bajan actualización de hello tooperform mientras los nodos en otros ud permanecen disponibles tooserve solicitudes.</span><span class="sxs-lookup"><span data-stu-id="6e444-143">During Service Fabric orchestrated upgrades (either an application upgrade or a cluster upgrade), all nodes in a UD are taken down tooperform hello upgrade while nodes in other UDs remain available tooserve requests.</span></span> <span data-ttu-id="6e444-144">Hello las actualizaciones de firmware realizan en los equipos no respetan ud, por lo que debe realizarlas uno equipos a la vez.</span><span class="sxs-lookup"><span data-stu-id="6e444-144">hello firmware upgrades you perform on your machines do not honor UDs, so you must do them one machine at a time.</span></span>

<span data-ttu-id="6e444-145">toothink de manera más sencilla de Hello acerca de estos conceptos es tooconsider FD como unidad de Hola de error no planeada y ud como unidad de Hola de mantenimiento planeado.</span><span class="sxs-lookup"><span data-stu-id="6e444-145">hello simplest way toothink about these concepts is tooconsider FDs as hello unit of unplanned failure and UDs as hello unit of planned maintenance.</span></span>

<span data-ttu-id="6e444-146">Cuando se especifica ud en ClusterConfig.json, puede elegir nombre de Hola para cada UD.</span><span class="sxs-lookup"><span data-stu-id="6e444-146">When you specify UDs in ClusterConfig.json, you can choose hello name for each UD.</span></span> <span data-ttu-id="6e444-147">Por ejemplo, hello siguiendo los nombres es válido:</span><span class="sxs-lookup"><span data-stu-id="6e444-147">For example, hello following names are valid:</span></span>

* <span data-ttu-id="6e444-148">"upgradeDomain": "UD0"</span><span class="sxs-lookup"><span data-stu-id="6e444-148">"upgradeDomain": "UD0"</span></span>
* <span data-ttu-id="6e444-149">"upgradeDomain": "UD1A"</span><span class="sxs-lookup"><span data-stu-id="6e444-149">"upgradeDomain": "UD1A"</span></span>
* <span data-ttu-id="6e444-150">"upgradeDomain": "DomainRed"</span><span class="sxs-lookup"><span data-stu-id="6e444-150">"upgradeDomain": "DomainRed"</span></span>
* <span data-ttu-id="6e444-151">"upgradeDomain": "Blue"</span><span class="sxs-lookup"><span data-stu-id="6e444-151">"upgradeDomain": "Blue"</span></span>

<span data-ttu-id="6e444-152">Para más información sobre los dominios de actualización y los dominios de error, vea [Descripción de un clúster de Service Fabric](service-fabric-cluster-resource-manager-cluster-description.md).</span><span class="sxs-lookup"><span data-stu-id="6e444-152">For more detailed information on upgrade domains and fault domains, see [Describing a Service Fabric cluster](service-fabric-cluster-resource-manager-cluster-description.md).</span></span>

### <a name="step-5-download-hello-service-fabric-standalone-package-for-windows-server"></a><span data-ttu-id="6e444-153">Paso 5: Descargar el paquete independiente de Service Fabric de Hola para Windows Server</span><span class="sxs-lookup"><span data-stu-id="6e444-153">Step 5: Download hello Service Fabric standalone package for Windows Server</span></span>
<span data-ttu-id="6e444-154">[Descargar vínculo - paquete de independiente de Service Fabric - Windows Server](http://go.microsoft.com/fwlink/?LinkId=730690) y descomprima el paquete de hello, cualquier implementación tooa de máquina que es no forma parte del clúster de Hola o tooone de máquinas de Hola que vayan a formar parte del clúster.</span><span class="sxs-lookup"><span data-stu-id="6e444-154">[Download Link - Service Fabric Standalone Package - Windows Server](http://go.microsoft.com/fwlink/?LinkId=730690) and unzip hello package, either tooa deployment machine that is not part of hello cluster, or tooone of hello machines that will be a part of your cluster.</span></span>

### <a name="step-6-modify-cluster-configuration"></a><span data-ttu-id="6e444-155">Paso 6: Modificación de la configuración del clúster</span><span class="sxs-lookup"><span data-stu-id="6e444-155">Step 6: Modify cluster configuration</span></span>
<span data-ttu-id="6e444-156">toocreate un clúster independiente tiene toocreate independiente clúster ClusterConfig.json archivo de configuración, que describe la especificación de Hola de clúster de Hola.</span><span class="sxs-lookup"><span data-stu-id="6e444-156">toocreate a standalone cluster you have toocreate a standalone cluster configuration ClusterConfig.json file, which describes hello specification of hello cluster.</span></span> <span data-ttu-id="6e444-157">Puede basar el archivo de configuración de hello en plantillas de hello encontradas en hello siguiente vínculo.</span><span class="sxs-lookup"><span data-stu-id="6e444-157">You can base hello configuration file on hello templates found at hello below link.</span></span> <br><span data-ttu-id="6e444-158">
[Configuraciones de clúster independiente](https://github.com/Azure-Samples/service-fabric-dotnet-standalone-cluster-configuration/tree/master/Samples)</span><span class="sxs-lookup"><span data-stu-id="6e444-158">
[Standalone Cluster Configurations](https://github.com/Azure-Samples/service-fabric-dotnet-standalone-cluster-configuration/tree/master/Samples)</span></span>

<span data-ttu-id="6e444-159">Para obtener más información en las secciones de hello en este archivo, consulte [valores de configuración de clúster de Windows independiente](service-fabric-cluster-manifest.md).</span><span class="sxs-lookup"><span data-stu-id="6e444-159">For details on hello sections in this file, see [Configuration settings for standalone Windows cluster](service-fabric-cluster-manifest.md).</span></span>

<span data-ttu-id="6e444-160">Abrir uno de hello ClusterConfig.json archivos de paquete de hello descargado y modificar Hola después de la configuración:</span><span class="sxs-lookup"><span data-stu-id="6e444-160">Open one of hello ClusterConfig.json files from hello package you downloaded and modify hello following settings:</span></span>
| <span data-ttu-id="6e444-161">**Opciones de configuración.**</span><span class="sxs-lookup"><span data-stu-id="6e444-161">**Configuration Setting**</span></span> | <span data-ttu-id="6e444-162">**Descripción**</span><span class="sxs-lookup"><span data-stu-id="6e444-162">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="6e444-163">**NodeTypes**</span><span class="sxs-lookup"><span data-stu-id="6e444-163">**NodeTypes**</span></span> |<span data-ttu-id="6e444-164">Tipos de nodos le permiten tooseparate los nodos del clúster en grupos distintos.</span><span class="sxs-lookup"><span data-stu-id="6e444-164">Node types allow you tooseparate your cluster nodes into various groups.</span></span> <span data-ttu-id="6e444-165">Un clúster debe tener al menos un tipo NodeType.</span><span class="sxs-lookup"><span data-stu-id="6e444-165">A cluster must have at least one NodeType.</span></span> <span data-ttu-id="6e444-166">Todos los nodos de un grupo tienen Hola después características comunes:</span><span class="sxs-lookup"><span data-stu-id="6e444-166">All nodes in a group have hello following common characteristics:</span></span> <br> <span data-ttu-id="6e444-167">**Nombre de** -éste es el nombre del tipo de nodo de Hola.</span><span class="sxs-lookup"><span data-stu-id="6e444-167">**Name** - This is hello node type name.</span></span> <br><span data-ttu-id="6e444-168">**Endpoint Ports** : diversos puntos de conexión (puertos) con nombre asociados a este tipo de nodo.</span><span class="sxs-lookup"><span data-stu-id="6e444-168">**Endpoint Ports** - These are various named end points (ports) that are associated with this node type.</span></span> <span data-ttu-id="6e444-169">Puede usar cualquier número de puerto que desea, siempre y cuando no están en conflicto con cualquier otra cosa en este manifiesto y ya no están en uso por cualquier otra aplicación que se ejecuta en la máquina de Hola/máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="6e444-169">You can use any port number that you wish, as long as they do not conflict with anything else in this manifest and are not already in use by any other application running on hello machine/VM.</span></span> <br> <span data-ttu-id="6e444-170">**Las propiedades de ubicación** -se describen las propiedades para este tipo de nodo que se usa como las restricciones de posición para los servicios del sistema Hola o los servicios.</span><span class="sxs-lookup"><span data-stu-id="6e444-170">**Placement Properties** - These describe properties for this node type that you use as placement constraints for hello system services or your services.</span></span> <span data-ttu-id="6e444-171">Estas propiedades son pares de clave y valor definidos por el usuario que proporcionan metadatos adicionales para un nodo determinado.</span><span class="sxs-lookup"><span data-stu-id="6e444-171">These properties are user-defined key/value pairs that provide extra meta data for a given node.</span></span> <span data-ttu-id="6e444-172">Ejemplos de propiedades de nodo sería si el nodo de hello tiene una unidad de disco duro o tarjeta gráfica, número de Hola de ejes en su unidad de disco duro, núcleos y otras propiedades físicas.</span><span class="sxs-lookup"><span data-stu-id="6e444-172">Examples of node properties would be whether hello node has a hard drive or graphics card, hello number of spindles in its hard drive, cores, and other physical properties.</span></span> <br> <span data-ttu-id="6e444-173">**Capacidades** -capacidades de nodo definen nombre de Hola y la cantidad de un recurso concreto que un nodo concreto tiene disponibles para su consumo.</span><span class="sxs-lookup"><span data-stu-id="6e444-173">**Capacities** - Node capacities define hello name and amount of a particular resource that a particular node has available for consumption.</span></span> <span data-ttu-id="6e444-174">Por ejemplo, un nodo puede definir que tenga capacidad para una métrica llamada "MemoryInMb" y 2048 MB de memoria disponible de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="6e444-174">For example, a node may define that it has capacity for a metric called “MemoryInMb” and that it has 2048 MB available by default.</span></span> <span data-ttu-id="6e444-175">Estas capacidades se usan en tooensure en tiempo de ejecución que los servicios que requieren una cantidad determinada de recursos se colocan en nodos de Hola que hayan necesarios dichos recursos disponibles en hello cantidades.</span><span class="sxs-lookup"><span data-stu-id="6e444-175">These capacities are used at runtime tooensure that services that require particular amounts of resources are placed on hello nodes that have those resources available in hello required amounts.</span></span><br><span data-ttu-id="6e444-176">**IsPrimary** : si tiene más de uno NodeType definido Compruebe que sólo uno es tooprimary con el valor de Hola *true*, que es donde hello sistema de servicios de ejecución.</span><span class="sxs-lookup"><span data-stu-id="6e444-176">**IsPrimary** - If you have more than one NodeType defined ensure that only one is set tooprimary with hello value *true*, which is where hello system services run.</span></span> <span data-ttu-id="6e444-177">Todos los demás tipos de nodo se deben establecer el valor de toohello *false*</span><span class="sxs-lookup"><span data-stu-id="6e444-177">All other node types should be set toohello value *false*</span></span> |
| <span data-ttu-id="6e444-178">**Nodos**</span><span class="sxs-lookup"><span data-stu-id="6e444-178">**Nodes**</span></span> |<span data-ttu-id="6e444-179">Estos son los detalles de Hola para cada uno de los nodos de Hola que forman parte del clúster de hello (tipo de nodo, nombre de nodo, dirección IP, dominio de error y dominio de actualización del nodo de hello).</span><span class="sxs-lookup"><span data-stu-id="6e444-179">These are hello details for each of hello nodes that are part of hello cluster (node type, node name, IP address, fault domain, and upgrade domain of hello node).</span></span> <span data-ttu-id="6e444-180">máquinas de Hello desea hello toobe de clúster creado en toobe necesidad que se muestran con sus direcciones IP.</span><span class="sxs-lookup"><span data-stu-id="6e444-180">hello machines you want hello cluster toobe created on need toobe listed here with their IP addresses.</span></span> <br> <span data-ttu-id="6e444-181">Si usas hello se crea la misma dirección IP para todos los nodos de hello, a continuación, en un clúster de un solo cuadro, que puede utilizar para realizar pruebas.</span><span class="sxs-lookup"><span data-stu-id="6e444-181">If you use hello same IP address for all hello nodes, then a one-box cluster is created, which you can use for testing purposes.</span></span> <span data-ttu-id="6e444-182">No use clústeres one-box para implementar cargas de trabajo de producción.</span><span class="sxs-lookup"><span data-stu-id="6e444-182">Do not use One-box clusters for deploying production workloads.</span></span> |

<span data-ttu-id="6e444-183">Después de configuración de clúster de hello ha tenido todas las opciones configuradas toohello entorno, se puede probar en el entorno de clúster de hello (paso 7).</span><span class="sxs-lookup"><span data-stu-id="6e444-183">After hello cluster configuration has had all settings configured toohello environment, it can be tested against hello cluster environment (step 7).</span></span>

<a id="environmentsetup"></a>

### <a name="step-7-environment-setup"></a><span data-ttu-id="6e444-184">Paso 7.</span><span class="sxs-lookup"><span data-stu-id="6e444-184">Step 7.</span></span> <span data-ttu-id="6e444-185">Configuración del entorno</span><span class="sxs-lookup"><span data-stu-id="6e444-185">Environment setup</span></span>

<span data-ttu-id="6e444-186">Cuando un administrador de clústeres configura un clúster de Service Fabric independiente, el entorno de hello es necesidades toobe prepararle Hola siguiendo criterios:</span><span class="sxs-lookup"><span data-stu-id="6e444-186">When a cluster administrator configures a Service Fabric standalone cluster, hello environment is needs toobe set up with hello following criteria:</span></span> <br>
1. <span data-ttu-id="6e444-187">usuario de Hello crear clúster Hola debe tener las máquinas de tooall de privilegios de seguridad de nivel de administrador que se muestran como nodos en el archivo de configuración del clúster de Hola.</span><span class="sxs-lookup"><span data-stu-id="6e444-187">hello user creating hello cluster should have administrator-level security privileges tooall machines that are listed as nodes in hello cluster configuration file.</span></span>
2. <span data-ttu-id="6e444-188">Máquina de qué Hola se crea el clúster, así como los equipos cada nodo del clúster deben:</span><span class="sxs-lookup"><span data-stu-id="6e444-188">Machine from which hello cluster is created, as well as each cluster node machine must:</span></span>
* <span data-ttu-id="6e444-189">Tener desinstalado el SDK de Service Fabric</span><span class="sxs-lookup"><span data-stu-id="6e444-189">Have Service Fabric SDK uninstalled</span></span>
* <span data-ttu-id="6e444-190">tener desinstalado el entorno de tiempo de ejecución de Service Fabric</span><span class="sxs-lookup"><span data-stu-id="6e444-190">Have Service Fabric runtime uninstalled</span></span> 
* <span data-ttu-id="6e444-191">Ha hello servicio Firewall de Windows (mpssvc) habilitado</span><span class="sxs-lookup"><span data-stu-id="6e444-191">Have hello Windows Firewall service (mpssvc) enabled</span></span>
* <span data-ttu-id="6e444-192">Ha habilitado el servicio de registro remoto (remoteregistry) Hola</span><span class="sxs-lookup"><span data-stu-id="6e444-192">Have hello Remote Registry Service (remoteregistry) enabled</span></span>
* <span data-ttu-id="6e444-193">Tener habilitado el uso compartido de archivos (SMB)</span><span class="sxs-lookup"><span data-stu-id="6e444-193">Have file sharing (SMB) enabled</span></span>
* <span data-ttu-id="6e444-194">Tener abiertos los puertos necesarios, según los puertos de configuración del clúster</span><span class="sxs-lookup"><span data-stu-id="6e444-194">Have necessary ports opened, based on cluster configuration ports</span></span>
* <span data-ttu-id="6e444-195">Tener abiertos los puertos necesarios para Windows SMB y el servicio Registro remoto: 135, 137, 138, 139 y 445</span><span class="sxs-lookup"><span data-stu-id="6e444-195">Have necessary ports opened for Windows SMB and Remote Registry service: 135, 137, 138, 139, and 445</span></span>
* <span data-ttu-id="6e444-196">Tiene tooone de conectividad de red otro</span><span class="sxs-lookup"><span data-stu-id="6e444-196">Have network connectivity tooone another</span></span>
3. <span data-ttu-id="6e444-197">Ninguna de las máquinas de nodo de clúster de hello debe ser un controlador de dominio.</span><span class="sxs-lookup"><span data-stu-id="6e444-197">None of hello cluster node machines should be a Domain Controller.</span></span>
4. <span data-ttu-id="6e444-198">Si Hola clúster toobe implementado es un clúster segura, validar requisitos previos están en colocar y están configurados correctamente en la configuración de Hola de seguridad necesarios Hola.</span><span class="sxs-lookup"><span data-stu-id="6e444-198">If hello cluster toobe deployed is a secure cluster, validate hello necessary security prerequisites are in place, and are configured correctly against hello configuration.</span></span>
5. <span data-ttu-id="6e444-199">Si las máquinas del clúster hello no son accesibles desde internet, conjunto siguiente de Hola Hola clúster configuración:</span><span class="sxs-lookup"><span data-stu-id="6e444-199">If hello cluster machines are not internet-accessible, set hello following in hello cluster configuration:</span></span>
* <span data-ttu-id="6e444-200">Deshabilite la telemetría: en *Propiedades*, establezca *"enableTelemetry" en false*</span><span class="sxs-lookup"><span data-stu-id="6e444-200">Disable telemetry:   Under *properties* set   *"enableTelemetry": false*</span></span>
* <span data-ttu-id="6e444-201">Deshabilitar automática de descarga de la versión de Fabric & notificaciones de esa versión de clúster actual de hello está llegando al final del soporte técnico: en *propiedades* establecer *"fabricClusterAutoupgradeEnabled": false*</span><span class="sxs-lookup"><span data-stu-id="6e444-201">Disable automatic Fabric version downloading & notifications that hello current cluster version is nearing end of support:   Under *properties* set   *"fabricClusterAutoupgradeEnabled": false*</span></span>
* <span data-ttu-id="6e444-202">O bien si el acceso a internet de red es limitados dominios enumerados toowhite, dominios Hola siguiente son necesarios para la actualización automática: download.microsoft.com go.microsoft.com</span><span class="sxs-lookup"><span data-stu-id="6e444-202">Alternatively if network internet access is limited toowhite-listed domains, hello domains below are required for automatic upgrade:   go.microsoft.com   download.microsoft.com</span></span>

6. <span data-ttu-id="6e444-203">Establezca las exclusiones adecuadas del antivirus de Service Fabric:</span><span class="sxs-lookup"><span data-stu-id="6e444-203">Set appropriate Service Fabric antivirus exclusions:</span></span>

| <span data-ttu-id="6e444-204">**Directorios excluidos del antivirus**</span><span class="sxs-lookup"><span data-stu-id="6e444-204">**Antivirus Excluded directories**</span></span> |
| --- |
| <span data-ttu-id="6e444-205">Archivos de programa\Microsoft Service Fabric</span><span class="sxs-lookup"><span data-stu-id="6e444-205">Program Files\Microsoft Service Fabric</span></span> |
| <span data-ttu-id="6e444-206">FabricDataRoot (de la configuración del clúster)</span><span class="sxs-lookup"><span data-stu-id="6e444-206">FabricDataRoot (from cluster configuration)</span></span> |
| <span data-ttu-id="6e444-207">FabricLogRoot (de la configuración del clúster)</span><span class="sxs-lookup"><span data-stu-id="6e444-207">FabricLogRoot (from cluster configuration)</span></span> |

| <span data-ttu-id="6e444-208">**Procesos excluidos del antivirus**</span><span class="sxs-lookup"><span data-stu-id="6e444-208">**Antivirus Excluded processes**</span></span> |
| --- |
| <span data-ttu-id="6e444-209">Fabric.exe</span><span class="sxs-lookup"><span data-stu-id="6e444-209">Fabric.exe</span></span> |
| <span data-ttu-id="6e444-210">FabricHost.exe</span><span class="sxs-lookup"><span data-stu-id="6e444-210">FabricHost.exe</span></span> |
| <span data-ttu-id="6e444-211">FabricInstallerService.exe</span><span class="sxs-lookup"><span data-stu-id="6e444-211">FabricInstallerService.exe</span></span> |
| <span data-ttu-id="6e444-212">FabricSetup.exe</span><span class="sxs-lookup"><span data-stu-id="6e444-212">FabricSetup.exe</span></span> |
| <span data-ttu-id="6e444-213">FabricDeployer.exe</span><span class="sxs-lookup"><span data-stu-id="6e444-213">FabricDeployer.exe</span></span> |
| <span data-ttu-id="6e444-214">ImageBuilder.exe</span><span class="sxs-lookup"><span data-stu-id="6e444-214">ImageBuilder.exe</span></span> |
| <span data-ttu-id="6e444-215">FabricGateway.exe</span><span class="sxs-lookup"><span data-stu-id="6e444-215">FabricGateway.exe</span></span> |
| <span data-ttu-id="6e444-216">FabricDCA.exe</span><span class="sxs-lookup"><span data-stu-id="6e444-216">FabricDCA.exe</span></span> |
| <span data-ttu-id="6e444-217">FabricFAS.exe</span><span class="sxs-lookup"><span data-stu-id="6e444-217">FabricFAS.exe</span></span> |
| <span data-ttu-id="6e444-218">FabricUOS.exe</span><span class="sxs-lookup"><span data-stu-id="6e444-218">FabricUOS.exe</span></span> |
| <span data-ttu-id="6e444-219">FabricRM.exe</span><span class="sxs-lookup"><span data-stu-id="6e444-219">FabricRM.exe</span></span> |
| <span data-ttu-id="6e444-220">FileStoreService.exe</span><span class="sxs-lookup"><span data-stu-id="6e444-220">FileStoreService.exe</span></span> |

### <a name="step-8-validate-environment-using-testconfiguration-script"></a><span data-ttu-id="6e444-221">Paso 8.</span><span class="sxs-lookup"><span data-stu-id="6e444-221">Step 8.</span></span> <span data-ttu-id="6e444-222">Validación del entorno mediante el script TestConfiguration</span><span class="sxs-lookup"><span data-stu-id="6e444-222">Validate environment using TestConfiguration script</span></span>
<span data-ttu-id="6e444-223">Hola TestConfiguration.ps1 script puede encontrarse en el paquete independiente de Hola.</span><span class="sxs-lookup"><span data-stu-id="6e444-223">hello TestConfiguration.ps1 script can be found in hello standalone package.</span></span> <span data-ttu-id="6e444-224">Es utiliza como un toovalidate de Best Practices Analyzer algunos de los criterios de hello anteriores y se deben usar como un toovalidate de comprobación de integridad si un clúster puede implementarse en un entorno determinado.</span><span class="sxs-lookup"><span data-stu-id="6e444-224">It is used as a Best Practices Analyzer toovalidate some of hello criteria above and should be used as a sanity check toovalidate whether a cluster can be deployed on a given environment.</span></span> <span data-ttu-id="6e444-225">Si se produce cualquier error, consulte la lista de toohello en [configuración del entorno](service-fabric-cluster-standalone-deployment-preparation.md) para solucionar el problema.</span><span class="sxs-lookup"><span data-stu-id="6e444-225">If there is any failure, refer toohello list under [Environment Setup](service-fabric-cluster-standalone-deployment-preparation.md) for troubleshooting.</span></span> 

<span data-ttu-id="6e444-226">Este script se puede ejecutar en cualquier equipo que tenga equipos Hola de tooall de acceso de administrador que se muestran como nodos en el archivo de configuración del clúster de Hola.</span><span class="sxs-lookup"><span data-stu-id="6e444-226">This script can be run on any machine that has administrator access tooall hello machines that are listed as nodes in hello cluster configuration file.</span></span> <span data-ttu-id="6e444-227">máquina de Hola que este script se ejecuta en no tiene toobe parte del clúster de Hola.</span><span class="sxs-lookup"><span data-stu-id="6e444-227">hello machine that this script is run on does not have toobe part of hello cluster.</span></span>

```powershell
PS C:\temp\Microsoft.Azure.ServiceFabric.WindowsServer> .\TestConfiguration.ps1 -ClusterConfigFilePath .\ClusterConfig.Unsecure.DevCluster.json
Trace folder already exists. Traces will be written tooexisting trace folder: C:\temp\Microsoft.Azure.ServiceFabric.WindowsServer\DeploymentTraces
Running Best Practices Analyzer...
Best Practices Analyzer completed successfully.


LocalAdminPrivilege        : True
IsJsonValid                : True
IsCabValid                 : True
RequiredPortsOpen          : True
RemoteRegistryAvailable    : True
FirewallAvailable          : True
RpcCheckPassed             : True
NoConflictingInstallations : True
FabricInstallable          : True
Passed                     : True
```

<span data-ttu-id="6e444-228">Actualmente este módulo de configuración de pruebas no valida la configuración de seguridad de Hola por lo que esto tiene toobe realiza de forma independiente.</span><span class="sxs-lookup"><span data-stu-id="6e444-228">Currently this configuration testing module does not validate hello security configuration so this has toobe done independently.</span></span>  

> [!NOTE]
> <span data-ttu-id="6e444-229">Estamos continuamente realizando mejoras toomake este módulo más sólido, por lo que si hay algún problema o falta el caso que cree no está asociada actualmente por TestConfiguration, háganoslo saber a través de nuestro [admiten canales](https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-support).</span><span class="sxs-lookup"><span data-stu-id="6e444-229">We are continually making improvements toomake this module more robust, so if there is a faulty or missing case which you believe isn't currently caught by TestConfiguration, please let us know through our [support channels](https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-support).</span></span>   
> 
> 

## <a name="next-steps"></a><span data-ttu-id="6e444-230">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="6e444-230">Next steps</span></span>
* [<span data-ttu-id="6e444-231">Creación de un clúster independiente con Windows Server</span><span class="sxs-lookup"><span data-stu-id="6e444-231">Create a standalone cluster running on Windows Server</span></span>](service-fabric-cluster-creation-for-windows-server.md)
