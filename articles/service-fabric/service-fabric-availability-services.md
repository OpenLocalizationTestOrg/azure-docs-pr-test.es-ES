---
title: Disponibilidad de los servicios de Service Fabric | Microsoft Docs
description: "Describe la detección de errores, la conmutación por error y la recuperación para los servicios"
services: service-fabric
documentationcenter: .net
author: masnider
manager: timlt
editor: 
ms.assetid: 279ba4a4-f2ef-4e4e-b164-daefd10582e4
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 08/18/2017
ms.author: masnider
ms.openlocfilehash: 41ff2c3129facb0eea9d896ce75d7343ae2a018e
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/18/2017
---
# <a name="availability-of-service-fabric-services"></a><span data-ttu-id="f6111-103">Disponibilidad de los servicios de Service Fabric</span><span class="sxs-lookup"><span data-stu-id="f6111-103">Availability of Service Fabric services</span></span>
<span data-ttu-id="f6111-104">En este artículo se ofrece una visión general de cómo Service Fabric mantiene la disponibilidad de un servicio.</span><span class="sxs-lookup"><span data-stu-id="f6111-104">This article gives an overview of how Service Fabric maintains availability of a service.</span></span>

## <a name="availability-of-service-fabric-stateless-services"></a><span data-ttu-id="f6111-105">Disponibilidad de los servicios sin estado de Service Fabric</span><span class="sxs-lookup"><span data-stu-id="f6111-105">Availability of Service Fabric stateless services</span></span>
<span data-ttu-id="f6111-106">Los servicios de Service Fabric de Azure pueden ser con o sin estado.</span><span class="sxs-lookup"><span data-stu-id="f6111-106">Azure Service Fabric services can be either stateful or stateless.</span></span> <span data-ttu-id="f6111-107">Un servicio sin estado es un servicio de aplicación que no tiene un [estado local](service-fabric-concepts-state.md), es decir, no tiene que tener una alta disponibilidad o confiabilidad.</span><span class="sxs-lookup"><span data-stu-id="f6111-107">A stateless service is an application service that does not have any [local state](service-fabric-concepts-state.md) that needs to be highly available or reliable.</span></span>

<span data-ttu-id="f6111-108">Para crear un servicio sin estado, es necesario definir `InstanceCount`.</span><span class="sxs-lookup"><span data-stu-id="f6111-108">Creating a stateless service requires defining an `InstanceCount`.</span></span> <span data-ttu-id="f6111-109">El recuento de instancias define el número de instancias de la lógica de la aplicación del servicio sin estado que debe estar ejecutándose en el clúster.</span><span class="sxs-lookup"><span data-stu-id="f6111-109">The instance count defines the number of instances of the stateless service's application logic that should be running in the cluster.</span></span> <span data-ttu-id="f6111-110">El aumento del número de instancias es la manera recomendada de escalar horizontalmente un servicio sin estado.</span><span class="sxs-lookup"><span data-stu-id="f6111-110">Increasing the number of instances is the recommended way of scaling out a stateless service.</span></span>

<span data-ttu-id="f6111-111">Cuando una instancia de un servicio con nombre sin estado produce un error, se crea una nueva instancia en algún nodo válido del clúster.</span><span class="sxs-lookup"><span data-stu-id="f6111-111">When an instance of a stateless named service fails, a new instance is created on some eligible node in the cluster.</span></span> <span data-ttu-id="f6111-112">Por ejemplo, una instancia de servicio sin estado podría producir error en el Nodo1 y crearse de nuevo en el Nodo5.</span><span class="sxs-lookup"><span data-stu-id="f6111-112">For example, a stateless service instance might fail on Node1 and be recreated on Node5.</span></span>

## <a name="availability-of-service-fabric-stateful-services"></a><span data-ttu-id="f6111-113">Disponibilidad de los servicios con estado de Service Fabric</span><span class="sxs-lookup"><span data-stu-id="f6111-113">Availability of Service Fabric stateful services</span></span>
<span data-ttu-id="f6111-114">Un servicio con estado tiene algún estado asociado a él.</span><span class="sxs-lookup"><span data-stu-id="f6111-114">A stateful service has some state associated with it.</span></span> <span data-ttu-id="f6111-115">En Service Fabric, un servicio con estado se modela como un conjunto de réplicas.</span><span class="sxs-lookup"><span data-stu-id="f6111-115">In Service Fabric, a stateful service is modeled as a set of replicas.</span></span> <span data-ttu-id="f6111-116">Cada réplica es una instancia en ejecución del código del servicio que también tiene una copia del estado de ese servicio.</span><span class="sxs-lookup"><span data-stu-id="f6111-116">Each replica is a running instance of the code of the service that also has a copy of the state for that service.</span></span> <span data-ttu-id="f6111-117">Las operaciones de lectura y escritura se realizan en una réplica (denominada principal).</span><span class="sxs-lookup"><span data-stu-id="f6111-117">Read and write operations are performed at one replica (called the Primary).</span></span> <span data-ttu-id="f6111-118">Los cambios en el estado de operaciones de escritura se *replican* en otras réplicas del conjunto de réplicas (llamadas secundarias activas) y se aplican.</span><span class="sxs-lookup"><span data-stu-id="f6111-118">Changes to state from write operations are *replicated* to the other replicas in the replica set (called Active Secondaries) and applied.</span></span> 

<span data-ttu-id="f6111-119">Solo puede haber una réplica principal, pero puede haber varias réplicas secundarias activas.</span><span class="sxs-lookup"><span data-stu-id="f6111-119">There can be only one Primary replica, but there can be multiple Active Secondary replicas.</span></span> <span data-ttu-id="f6111-120">El número de réplicas secundarias activas es configurable y un mayor número de réplicas puede tolerar un mayor número de errores de hardware y software simultáneos.</span><span class="sxs-lookup"><span data-stu-id="f6111-120">The number of Active Secondary replicas is configurable, and a higher number of replicas can tolerate a greater number of concurrent software and hardware failures.</span></span>

<span data-ttu-id="f6111-121">Si la réplica principal deja de funcionar, Service Fabric convierte una de las réplicas secundarias activas en la nueva réplica principal.</span><span class="sxs-lookup"><span data-stu-id="f6111-121">If the Primary replica goes down, Service Fabric makes one of the Active Secondary replicas the new Primary replica.</span></span> <span data-ttu-id="f6111-122">Esta réplica secundaria activa ya tiene la versión actualizada del estado (a través de la *replicación*) y puede continuar procesando más operaciones de lectura y escritura.</span><span class="sxs-lookup"><span data-stu-id="f6111-122">This Active Secondary replica already has the updated version of the state (via *replication*), and it can continue processing further read and write operations.</span></span>

<span data-ttu-id="f6111-123">Este concepto de una réplica como secundaria activa o principal se conoce como el rol de réplica.</span><span class="sxs-lookup"><span data-stu-id="f6111-123">This concept, of a replica being either a Primary or Active Secondary, is known as the Replica Role.</span></span>

### <a name="replica-roles"></a><span data-ttu-id="f6111-124">Roles de réplica</span><span class="sxs-lookup"><span data-stu-id="f6111-124">Replica roles</span></span>
<span data-ttu-id="f6111-125">El rol de una réplica se usa para administrar el ciclo de vida del estado que se está administrando por esa réplica.</span><span class="sxs-lookup"><span data-stu-id="f6111-125">The role of a replica is used to manage the life cycle of the state being managed by that replica.</span></span> <span data-ttu-id="f6111-126">Una réplica cuyo rol sea solicitudes de lectura de servicios principales.</span><span class="sxs-lookup"><span data-stu-id="f6111-126">A replica whose role is Primary services read requests.</span></span> <span data-ttu-id="f6111-127">El servidor principal también controla todas las solicitudes de escritura mediante la actualización de su estado y la replicación de los cambios.</span><span class="sxs-lookup"><span data-stu-id="f6111-127">The Primary also handles all write requests by updating its state and replicating the changes.</span></span> <span data-ttu-id="f6111-128">Estos cambios se aplican a las secundarias activas del conjunto de réplicas.</span><span class="sxs-lookup"><span data-stu-id="f6111-128">These changes are applied to the Active Secondaries in the replica set.</span></span> <span data-ttu-id="f6111-129">El trabajo de una secundaria activa es recibir cambios de estado que la réplica principal ha replicado y actualizar su vista del estado.</span><span class="sxs-lookup"><span data-stu-id="f6111-129">The job of an Active Secondary is to receive state changes that the Primary replica has replicated and update its view of the state.</span></span>

> [!NOTE]
> <span data-ttu-id="f6111-130">Los modelos de programación de nivel superior, como [Reliable Actors](service-fabric-reliable-actors-introduction.md) y [Reliable Services](service-fabric-reliable-services-introduction.md) ocultan el concepto de rol de réplica del desarrollador.</span><span class="sxs-lookup"><span data-stu-id="f6111-130">Higher-level programming models such as [Reliable Actors](service-fabric-reliable-actors-introduction.md) and [Reliable Services](service-fabric-reliable-services-introduction.md) hide the concept of replica role from the developer.</span></span> <span data-ttu-id="f6111-131">En Actors, la noción de rol es innecesaria, mientras que en Services se simplifica enormemente en la mayoría de los escenarios.</span><span class="sxs-lookup"><span data-stu-id="f6111-131">In Actors, the notion of role is unnecessary, while in Services it is largely simplified for most scenarios.</span></span>
>

## <a name="next-steps"></a><span data-ttu-id="f6111-132">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="f6111-132">Next steps</span></span>
<span data-ttu-id="f6111-133">Para más información sobre los conceptos de Service Fabric, consulte los siguientes artículos:</span><span class="sxs-lookup"><span data-stu-id="f6111-133">For more information on Service Fabric concepts, see the following articles:</span></span>

- [<span data-ttu-id="f6111-134">Escalado de aplicaciones de Service Fabric</span><span class="sxs-lookup"><span data-stu-id="f6111-134">Scaling Service Fabric services</span></span>](service-fabric-concepts-scalability.md)
- [<span data-ttu-id="f6111-135">Creación de particiones de los servicios de Service Fabric</span><span class="sxs-lookup"><span data-stu-id="f6111-135">Partitioning Service Fabric services</span></span>](service-fabric-concepts-partitioning.md)
- [<span data-ttu-id="f6111-136">Definición y administración del estado</span><span class="sxs-lookup"><span data-stu-id="f6111-136">Defining and managing state</span></span>](service-fabric-concepts-state.md)
- [<span data-ttu-id="f6111-137">Reliable Services</span><span class="sxs-lookup"><span data-stu-id="f6111-137">Reliable Services</span></span>](service-fabric-reliable-services-introduction.md)
