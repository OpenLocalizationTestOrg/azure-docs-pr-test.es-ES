---
title: 'Tutorial: procesamiento de facturas de EDIFACT mediante Azure BizTalk Services | Microsoft Docs'
description: "¿Cómo toocreate y configurar la aplicación de conector de la caja o API de hello y utilizarlo en una aplicación de lógica en el servicio de aplicación de Azure"
services: biztalk-services
documentationcenter: .net,nodejs,java
author: msftman
manager: erikre
editor: 
ms.assetid: 7e0b93fa-3e2b-4a9c-89ef-abf1d3aa8fa9
ms.service: biztalk-services
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: integration
ms.date: 05/31/2016
ms.author: deonhe
ms.openlocfilehash: 4ca021c9084b9b6540c93ef15fc3d44be0966970
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="tutorial-process-edifact-invoices-using-azure-biztalk-services"></a><span data-ttu-id="585ff-103">Tutorial: procesamiento de facturas de EDIFACT mediante los Servicios de BizTalk de Azure</span><span class="sxs-lookup"><span data-stu-id="585ff-103">Tutorial: Process EDIFACT invoices using Azure BizTalk Services</span></span>

> [!INCLUDE [BizTalk Services is being retired, and replaced with Azure Logic Apps](../../includes/biztalk-services-retirement.md)]

<span data-ttu-id="585ff-104">Puede usar Hola BizTalk Services Portal tooconfigure e implementar contratos X12 y EDIFACT.</span><span class="sxs-lookup"><span data-stu-id="585ff-104">You can use hello BizTalk Services Portal tooconfigure and deploy X12 and EDIFACT agreements.</span></span> <span data-ttu-id="585ff-105">En este tutorial, veremos cómo toocreate un acuerdo de EDIFACT para intercambiar facturas entre socios comerciales.</span><span class="sxs-lookup"><span data-stu-id="585ff-105">In this tutorial, we look at how toocreate an EDIFACT agreement for exchanging invoices between trading partners.</span></span> <span data-ttu-id="585ff-106">Este tutorial se centra en una solución empresarial integral que involucra a dos socios comerciales, Northwind y Contoso, que intercambian mensajes EDIFACT.</span><span class="sxs-lookup"><span data-stu-id="585ff-106">This tutorial is written around an end-to-end business solution involving two trading partners, Northwind and Contoso that exchange EDIFACT messages.</span></span>  

## <a name="sample-based-on-this-tutorial"></a><span data-ttu-id="585ff-107">Ejemplo basado en este tutorial</span><span class="sxs-lookup"><span data-stu-id="585ff-107">Sample based on this tutorial</span></span>
<span data-ttu-id="585ff-108">Este tutorial se centra en un ejemplo, **enviar facturas de EDIFACT mediante servicios de BizTalk**, que es toodownload disponible de hello [MSDN Code Gallery](http://go.microsoft.com/fwlink/?LinkId=401005).</span><span class="sxs-lookup"><span data-stu-id="585ff-108">This tutorial is written around a sample, **Sending EDIFACT Invoices Using BizTalk Services**, which is available toodownload from hello [MSDN Code Gallery](http://go.microsoft.com/fwlink/?LinkId=401005).</span></span> <span data-ttu-id="585ff-109">Podría utilizar el ejemplo de Hola y seguir este tutorial toounderstand cómo se creó el ejemplo de Hola.</span><span class="sxs-lookup"><span data-stu-id="585ff-109">You could use hello sample and go through this tutorial toounderstand how hello sample was built.</span></span> <span data-ttu-id="585ff-110">O bien, puede usar este tutorial toocreate su propia solución desde cero.</span><span class="sxs-lookup"><span data-stu-id="585ff-110">Or, you could use this tutorial toocreate your own solution ground-up.</span></span> <span data-ttu-id="585ff-111">Este tutorial está destinado a segundo enfoque de Hola que comprender cómo se compiló esta solución.</span><span class="sxs-lookup"><span data-stu-id="585ff-111">This tutorial is targeted towards hello second approach so that you understand how this solution was built.</span></span> <span data-ttu-id="585ff-112">Además, tanto como sea posible, tutorial Hola es coherente con el ejemplo hello y utiliza Hola mismos nombres para los artefactos (por ejemplo, esquemas, transformaciones) que se usan en el ejemplo de Hola.</span><span class="sxs-lookup"><span data-stu-id="585ff-112">Also, as much as possible, hello tutorial is consistent with hello sample and uses hello same names for artifacts (for example, schemas, transforms) as used in hello sample.</span></span>  

> [!NOTE]
> <span data-ttu-id="585ff-113">Dado que esta solución implica enviar un mensaje de un puente EDI de tooan de puente EAI, reutiliza hello [BizTalk Services Bridge encadenamiento ejemplo](http://code.msdn.microsoft.com/BizTalk-Bridge-chaining-2246b104) ejemplo.</span><span class="sxs-lookup"><span data-stu-id="585ff-113">Because this solution involves sending a message from an EAI bridge tooan EDI bridge, it reuses hello [BizTalk Services Bridge chaining sample](http://code.msdn.microsoft.com/BizTalk-Bridge-chaining-2246b104) sample.</span></span>  
> 
> 

## <a name="what-does-hello-solution-do"></a><span data-ttu-id="585ff-114">¿Cómo funciona esta solución Hola?</span><span class="sxs-lookup"><span data-stu-id="585ff-114">What does hello solution do?</span></span>
<span data-ttu-id="585ff-115">En esta solución, Northwind recibe facturas EDIFACT de Contoso.</span><span class="sxs-lookup"><span data-stu-id="585ff-115">In this solution, Northwind receives EDIFACT invoices from Contoso.</span></span> <span data-ttu-id="585ff-116">Estas facturas no están en un formato EDI estándar.</span><span class="sxs-lookup"><span data-stu-id="585ff-116">These invoices are not in a standard EDI format.</span></span> <span data-ttu-id="585ff-117">Por lo tanto, antes de enviar Hola factura tooNorthwind, debe ser documento de factura (también llamada INVOIC) de EDIFACT tooan transformado.</span><span class="sxs-lookup"><span data-stu-id="585ff-117">So, before sending hello invoice tooNorthwind, it must be transformed tooan EDIFACT invoice (also called INVOIC) document.</span></span> <span data-ttu-id="585ff-118">Al recibirla, Northwind debe procesar facturas EDIFACT de Hola y devolver un tooContoso de mensaje (también llamado CONTRL) del control.</span><span class="sxs-lookup"><span data-stu-id="585ff-118">On receipt, Northwind must process hello EDIFACT invoice, and return a control message (also called CONTRL) tooContoso.</span></span>

![][1]  

<span data-ttu-id="585ff-119">tooachieve este escenario empresarial, Contoso usa características de hello proporcionados con los servicios de BizTalk de Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="585ff-119">tooachieve this business scenario, Contoso uses hello features provided with Microsoft Azure BizTalk Services.</span></span>

* <span data-ttu-id="585ff-120">Contoso usa EAI puentes tootransform Hola original factura tooEDIFACT INVOIC.</span><span class="sxs-lookup"><span data-stu-id="585ff-120">Contoso uses EAI bridges tootransform hello original invoice tooEDIFACT INVOIC.</span></span>
* <span data-ttu-id="585ff-121">puente EAI de Hello, a continuación, envía tooan de mensaje de Hola envío de EDI puente implementado como parte de un acuerdo configurado en hello Portal de servicios de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="585ff-121">hello EAI bridge then sends hello message tooan EDI send bridge deployed as part of an agreement configured in hello BizTalk Services Portal.</span></span>
* <span data-ttu-id="585ff-122">puente de envío EDI de Hello procesa hello INVOIC EDIFACT y lo enruta tooNorthwind.</span><span class="sxs-lookup"><span data-stu-id="585ff-122">hello EDI send bridge processes hello EDIFACT INVOIC and routes it tooNorthwind.</span></span>
* <span data-ttu-id="585ff-123">Después de recibir la factura de hello, Northwind devuelve un toohello de mensaje CONTRL implementado como parte del acuerdo de Hola de puente de recepción EDI.</span><span class="sxs-lookup"><span data-stu-id="585ff-123">After receiving hello invoice, Northwind returns a CONTRL message toohello EDI receive bridge deployed as part of hello agreement.</span></span>  

> [!NOTE]
> <span data-ttu-id="585ff-124">Si lo desea, esta solución también demuestra cómo toouse procesamiento por lotes toosend Hola facturas en lotes, en lugar de enviar cada factura por separado.</span><span class="sxs-lookup"><span data-stu-id="585ff-124">Optionally, this solution also demonstrates how toouse batching toosend hello invoices in batches, instead of sending each invoice separately.</span></span>  
> 
> 

<span data-ttu-id="585ff-125">escenario de hello toocomplete, usamos colas de Service Bus toosend factura de Contoso tooNorthwind o recibir la confirmación de Northwind.</span><span class="sxs-lookup"><span data-stu-id="585ff-125">toocomplete hello scenario, we use Service Bus queues toosend invoice from Contoso tooNorthwind or receive acknowledgement from Northwind.</span></span> <span data-ttu-id="585ff-126">Estas colas se pueden crear mediante una aplicación de cliente, que está disponible como una descarga y se incluye en el paquete de ejemplo de Hola que está disponible como parte de este tutorial.</span><span class="sxs-lookup"><span data-stu-id="585ff-126">These queues can be created using a client application, which is available as a download and is included in hello sample package that is available as part of this tutorial.</span></span>  

## <a name="prerequisites"></a><span data-ttu-id="585ff-127">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="585ff-127">Prerequisites</span></span>
* <span data-ttu-id="585ff-128">Debe tener un espacio de nombres de Bus de servicio.</span><span class="sxs-lookup"><span data-stu-id="585ff-128">You must have a Service Bus namespace.</span></span> <span data-ttu-id="585ff-129">Para instrucciones sobre cómo crear un espacio de nombres, consulte [How To: Create or Modify a Service Bus Service Namespace](https://msdn.microsoft.com/library/azure/hh674478.aspx).</span><span class="sxs-lookup"><span data-stu-id="585ff-129">For instructions on creating a namespace, see [How To: Create or Modify a Service Bus Service Namespace](https://msdn.microsoft.com/library/azure/hh674478.aspx).</span></span> <span data-ttu-id="585ff-130">Supongamos que ya tiene un espacio de nombres del Bus de servicio aprovisionado, llamado **edifactbts**.</span><span class="sxs-lookup"><span data-stu-id="585ff-130">Let us assume that you already have a Service Bus namespace provisioned, called **edifactbts**.</span></span>
* <span data-ttu-id="585ff-131">Debe tener una suscripción a Servicios de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="585ff-131">You must have a BizTalk Services subscription.</span></span> <span data-ttu-id="585ff-132">Para instrucciones, consulte [Creación de Servicios de BizTalk mediante el Portal de Azure clásico](http://go.microsoft.com/fwlink/?LinkID=302280).</span><span class="sxs-lookup"><span data-stu-id="585ff-132">For instructions, see [Create a BizTalk Service using Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=302280).</span></span> <span data-ttu-id="585ff-133">En este tutorial, supongamos que tiene una suscripción a Servicios de BizTalk, llamada **contosowabs**.</span><span class="sxs-lookup"><span data-stu-id="585ff-133">For this tutorial, let us assume you have a BizTalk Services subscription, called **contosowabs**.</span></span>
* <span data-ttu-id="585ff-134">Registre su suscripción de servicios de BizTalk en hello Portal de servicios de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="585ff-134">Register your BizTalk Services subscription on hello BizTalk Services Portal.</span></span> <span data-ttu-id="585ff-135">Para obtener instrucciones, consulte [registrar una implementación de servicio de BizTalk en hello Portal de servicios de BizTalk](https://msdn.microsoft.com/library/hh689837.aspx)</span><span class="sxs-lookup"><span data-stu-id="585ff-135">For instructions, see [Registering a BizTalk Service Deployment on hello BizTalk Services Portal](https://msdn.microsoft.com/library/hh689837.aspx)</span></span>
* <span data-ttu-id="585ff-136">Debe tener instalado Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="585ff-136">You must have Visual Studio installed.</span></span>
* <span data-ttu-id="585ff-137">Debe tener instalado el SDK de Servicios de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="585ff-137">You must have BizTalk Services SDK installed.</span></span> <span data-ttu-id="585ff-138">Puede descargar Hola SDK de [http://go.microsoft.com/fwlink/?LinkId=235057](http://go.microsoft.com/fwlink/?LinkId=235057)</span><span class="sxs-lookup"><span data-stu-id="585ff-138">You can download hello SDK from [http://go.microsoft.com/fwlink/?LinkId=235057](http://go.microsoft.com/fwlink/?LinkId=235057)</span></span>  

## <a name="step-1-create-hello-service-bus-queues"></a><span data-ttu-id="585ff-139">Paso 1: Crear hello las colas de Bus de servicio</span><span class="sxs-lookup"><span data-stu-id="585ff-139">Step 1: Create hello Service Bus queues</span></span>
<span data-ttu-id="585ff-140">Esta solución usa mensajes de tooexchange de colas de Bus de servicio entre socios comerciales.</span><span class="sxs-lookup"><span data-stu-id="585ff-140">This solution uses Service Bus queues tooexchange messages between trading partners.</span></span> <span data-ttu-id="585ff-141">Contoso y Northwind envían mensajes toohello colas desde donde los puentes EAI o EDI Hola consumen.</span><span class="sxs-lookup"><span data-stu-id="585ff-141">Contoso and Northwind send messages toohello queues from where hello EAI and/or EDI bridges consume them.</span></span> <span data-ttu-id="585ff-142">Para esta solución, necesita tres colas de Bus de servicio:</span><span class="sxs-lookup"><span data-stu-id="585ff-142">For this solution, you need three Service Bus queues:</span></span>

* <span data-ttu-id="585ff-143">**northwindreceive** : Northwind recibe facturas Hola de Contoso por esta cola.</span><span class="sxs-lookup"><span data-stu-id="585ff-143">**northwindreceive** – Northwind receives hello invoice from Contoso over this queue.</span></span>
* <span data-ttu-id="585ff-144">**contosoreceive** : Contoso recibe confirmación de Hola de Northwind por esta cola.</span><span class="sxs-lookup"><span data-stu-id="585ff-144">**contosoreceive** – Contoso receives hello acknowledgement from Northwind over this queue.</span></span>
* <span data-ttu-id="585ff-145">**suspende** : todos los mensajes suspendidos son toothis enrutado cola.</span><span class="sxs-lookup"><span data-stu-id="585ff-145">**suspended** – All suspended messages are routed toothis queue.</span></span> <span data-ttu-id="585ff-146">Los mensajes se suspenden si tienen un error durante el procesamiento.</span><span class="sxs-lookup"><span data-stu-id="585ff-146">Messages are suspended if they fail during processing.</span></span>

<span data-ttu-id="585ff-147">Puede crear estas colas de Bus de servicio mediante una aplicación cliente incluida en el paquete de ejemplo de Hola.</span><span class="sxs-lookup"><span data-stu-id="585ff-147">You can create these Service Bus queues by using a client application included in hello sample package.</span></span>  

1. <span data-ttu-id="585ff-148">En la ubicación de Hola donde descargó el ejemplo hello, abra **Tutorial enviar facturas utilizando BizTalk Services EDI Bridges.sln**.</span><span class="sxs-lookup"><span data-stu-id="585ff-148">From hello location where you downloaded hello sample, open **Tutorial Sending Invoices Using BizTalk Services EDI Bridges.sln**.</span></span>
2. <span data-ttu-id="585ff-149">Presione **F5** toobuild e inicie hello **Tutorial Client** aplicación.</span><span class="sxs-lookup"><span data-stu-id="585ff-149">Press **F5** toobuild and start hello **Tutorial Client** application.</span></span>
3. <span data-ttu-id="585ff-150">En la pantalla de bienvenida, escriba el espacio de nombres de hello ACS de Bus de servicio, nombre del emisor y clave del emisor.</span><span class="sxs-lookup"><span data-stu-id="585ff-150">In hello screen, enter hello Service Bus ACS namespace, issuer name, and issuer key.</span></span>
   
   ![][2]  
4. <span data-ttu-id="585ff-151">Aparece un mensaje que indica que se crearán las tres colas en el espacio de nombres del Bus de servicio.</span><span class="sxs-lookup"><span data-stu-id="585ff-151">A message box prompts that three queues will be created in your Service Bus namespace.</span></span> <span data-ttu-id="585ff-152">Haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="585ff-152">Click **OK**.</span></span>
5. <span data-ttu-id="585ff-153">Deje Hola Tutorial Client se está ejecutando.</span><span class="sxs-lookup"><span data-stu-id="585ff-153">Leave hello Tutorial Client running.</span></span> <span data-ttu-id="585ff-154">Abra hello, haga clic en **Service Bus** > ***el espacio de nombres de Bus de servicio*** > **colas**y compruebe que se crean las colas de hello tres.</span><span class="sxs-lookup"><span data-stu-id="585ff-154">Open hello , click **Service Bus** > ***your Service Bus namespace*** > **Queues**, and verify that hello three queues are created.</span></span>  

## <a name="step-2-create-and-deploy-trading-partner-agreement"></a><span data-ttu-id="585ff-155">Paso 2: Creación e implementación del contrato entre socios comerciales</span><span class="sxs-lookup"><span data-stu-id="585ff-155">Step 2: Create and deploy trading partner agreement</span></span>
<span data-ttu-id="585ff-156">Cree un contrato entre los socios comerciales Contoso y Northwind.</span><span class="sxs-lookup"><span data-stu-id="585ff-156">Create a trading partner agreement between Contoso and Northwind.</span></span> <span data-ttu-id="585ff-157">Un acuerdo entre socios comerciales define un contrato comerciales entre socios comerciales de hello dos, por ejemplo, qué toouse de esquema de mensaje, que mensajería toouse de protocolo, etcetera. Un acuerdo entre socios comerciales incluye dos puentes EDI, uno toosend mensajes tootrading asociados (llamado hello **puente de envío EDI**) y los mensajes de uno tooreceive de los socios comerciales (llamado hello **depuentederecepciónEDI**).</span><span class="sxs-lookup"><span data-stu-id="585ff-157">A trading partner agreement defines a trade contract between hello two business partners, such as which message schema toouse, which messaging protocol toouse, etc. A trading partner agreement includes two EDI bridges, one toosend messages tootrading partners (called hello **EDI Send bridge**) and one tooreceive messages from trading partners (called hello **EDI Receive bridge**).</span></span>

<span data-ttu-id="585ff-158">En el contexto de Hola de esta solución, puente de envío EDI de Hola corresponde toohello envíos del acuerdo de Hola y es usado toosend Hola EDIFACT factura de Contoso tooNorthwind.</span><span class="sxs-lookup"><span data-stu-id="585ff-158">In hello context of this solution, hello EDI send bridge corresponds toohello send-side of hello agreement and is used toosend hello EDIFACT invoice from Contoso tooNorthwind.</span></span> <span data-ttu-id="585ff-159">De igual forma, el puente de recepción EDI Hola corresponde toohello lado de recepción del acuerdo de Hola y es utilizado tooreceive las confirmaciones de Northwind.</span><span class="sxs-lookup"><span data-stu-id="585ff-159">Similarly, hello EDI receive bridge corresponds toohello receive-side of hello agreement and is used tooreceive acknowledgements from Northwind.</span></span>  

### <a name="create-hello-trading-partners"></a><span data-ttu-id="585ff-160">Crear hello los socios comerciales</span><span class="sxs-lookup"><span data-stu-id="585ff-160">Create hello trading partners</span></span>
<span data-ttu-id="585ff-161">toostart, crear socios comerciales para Contoso y Northwind.</span><span class="sxs-lookup"><span data-stu-id="585ff-161">toostart with, create trading partners for Contoso and Northwind.</span></span>  

1. <span data-ttu-id="585ff-162">Hola Portal de servicios de BizTalk, en hello **socios** , haga clic en **agregar**.</span><span class="sxs-lookup"><span data-stu-id="585ff-162">In hello BizTalk Services Portal, on hello **Partners** tab, click **Add**.</span></span>
2. <span data-ttu-id="585ff-163">En la página nuevo socio comercial de hello, escriba **Contoso** como nombre del asociado y, a continuación, haga clic en **guardar**.</span><span class="sxs-lookup"><span data-stu-id="585ff-163">In hello New partner page, enter **Contoso** as a partner name, and then click **Save**.</span></span>
3. <span data-ttu-id="585ff-164">Hola repita paso toocreate Hola segundo socio comercial, **Northwind**.</span><span class="sxs-lookup"><span data-stu-id="585ff-164">Repeat hello step toocreate hello second partner, **Northwind**.</span></span>  

### <a name="create-hello-agreement"></a><span data-ttu-id="585ff-165">Crear acuerdo Hola</span><span class="sxs-lookup"><span data-stu-id="585ff-165">Create hello agreement</span></span>
<span data-ttu-id="585ff-166">Los contratos entre socios comerciales se crean entre perfiles de negocio de socios comerciales.</span><span class="sxs-lookup"><span data-stu-id="585ff-166">Trading partner agreements are created between business profiles of trading partners.</span></span> <span data-ttu-id="585ff-167">Esta solución utiliza perfiles de socios comerciales de hello predeterminado que se crean automáticamente cuando se crean los socios de Hola.</span><span class="sxs-lookup"><span data-stu-id="585ff-167">This solution uses hello default partner profiles that are automatically created when we created hello partners.</span></span>  

1. <span data-ttu-id="585ff-168">Hola Portal de servicios de BizTalk, haga clic en **contratos** > **agregar**.</span><span class="sxs-lookup"><span data-stu-id="585ff-168">In hello BizTalk Services Portal, click **Agreements** > **Add**.</span></span>
2. <span data-ttu-id="585ff-169">Del nuevo acuerdo de hello **configuración General** página, especifique los valores de hello tal y como se muestra en la imagen de hello siguiente y, a continuación, haga clic en **continuar**.</span><span class="sxs-lookup"><span data-stu-id="585ff-169">In hello new agreement’s **General Settings** page, specify hello values as shown in hello image below, and then click **Continue**.</span></span>
   
   ![][3]  
   
   <span data-ttu-id="585ff-170">Después de hacer clic en **Continuar**, dos pestañas, **Configuración de recepción** y **Configuración de envío** se vuelven disponibles.</span><span class="sxs-lookup"><span data-stu-id="585ff-170">After you click **Continue**, two tabs, **Receive Settings** and **Send Settings** become available.</span></span>
3. <span data-ttu-id="585ff-171">Crear acuerdo de envío de hello entre Contoso y Northwind.</span><span class="sxs-lookup"><span data-stu-id="585ff-171">Create hello send agreement between Contoso and Northwind.</span></span> <span data-ttu-id="585ff-172">Este acuerdo rige la forma en que Contoso envía Hola EDIFACT factura tooNorthwind.</span><span class="sxs-lookup"><span data-stu-id="585ff-172">This agreement governs how Contoso sends hello EDIFACT invoice tooNorthwind.</span></span>
   
   1. <span data-ttu-id="585ff-173">Haga clic en **Configuración de envío**.</span><span class="sxs-lookup"><span data-stu-id="585ff-173">Click **Send Settings**.</span></span>
   2. <span data-ttu-id="585ff-174">Conservar los valores predeterminados de hello en hello **dirección URL de entrada**, **transformar**, y **procesamiento por lotes** pestañas.</span><span class="sxs-lookup"><span data-stu-id="585ff-174">Retain hello default values on hello **Inbound URL**, **Transform**, and **Batching** tabs.</span></span>
   3. <span data-ttu-id="585ff-175">En hello **protocolo** ficha, en hello **esquemas** sección, cargue hello **EFACT_D93A_INVOIC.xsd** esquema.</span><span class="sxs-lookup"><span data-stu-id="585ff-175">On hello **Protocol** tab, under hello **Schemas** section, upload hello **EFACT_D93A_INVOIC.xsd** schema.</span></span> <span data-ttu-id="585ff-176">Este esquema está disponible con el paquete de ejemplo de Hola.</span><span class="sxs-lookup"><span data-stu-id="585ff-176">This schema is available with hello sample package.</span></span>
      
      ![][4]  
   4. <span data-ttu-id="585ff-177">En hello **transporte** pestaña, especifique los detalles de Hola para colas de Service Bus Hola.</span><span class="sxs-lookup"><span data-stu-id="585ff-177">On hello **Transport** tab, specify hello details for hello Service Bus queues.</span></span> <span data-ttu-id="585ff-178">Para hello acuerdo de envío, usamos hello **northwindreceive** toosend Hola EDIFACT factura tooNorthwind de cola y Hola **suspendido** tooroute en cola los mensajes que se producirá un error durante el procesamiento y son suspendido.</span><span class="sxs-lookup"><span data-stu-id="585ff-178">For hello send-side agreement, we use hello **northwindreceive** queue toosend hello EDIFACT invoice tooNorthwind, and hello **suspended** queue tooroute any messages that fail during processing and are suspended.</span></span> <span data-ttu-id="585ff-179">Crear estas colas en **paso 1: crear colas de Bus de servicio de hello** (en este tema).</span><span class="sxs-lookup"><span data-stu-id="585ff-179">You created these queues in **Step 1: Create hello Service Bus queues** (in this topic).</span></span>
      
      ![][5]  
      
      <span data-ttu-id="585ff-180">En **configuración de transporte > tipo de transporte** y **configuración de suspensión de mensaje > tipo de transporte**, seleccione Service Bus de Azure y proporcionar los valores de hello tal y como se muestra en la imagen de Hola.</span><span class="sxs-lookup"><span data-stu-id="585ff-180">Under **Transport Settings > Transport type** and **Message Suspension Settings > Transport type**, select Azure Service Bus and provide hello values as shown in hello image.</span></span>
4. <span data-ttu-id="585ff-181">Crear Hola recibir acuerdo entre Contoso y Northwind.</span><span class="sxs-lookup"><span data-stu-id="585ff-181">Create hello receive agreement between Contoso and Northwind.</span></span> <span data-ttu-id="585ff-182">Este acuerdo rige cómo Contoso recibe confirmación de Hola de Northwind.</span><span class="sxs-lookup"><span data-stu-id="585ff-182">This agreement governs how Contoso receives hello acknowledgement from Northwind.</span></span>
   
   1. <span data-ttu-id="585ff-183">Haga clic en **Configuración de recepción**.</span><span class="sxs-lookup"><span data-stu-id="585ff-183">Click **Receive Settings**.</span></span>
   2. <span data-ttu-id="585ff-184">Conservar los valores predeterminados de hello en hello **transporte** y **transformar** pestañas.</span><span class="sxs-lookup"><span data-stu-id="585ff-184">Retain hello default values on hello **Transport** and **Transform** tabs.</span></span>
   3. <span data-ttu-id="585ff-185">En hello **protocolo** ficha, en hello **esquemas** sección, cargue hello **EFACT_4.1_CONTRL.xsd** esquema.</span><span class="sxs-lookup"><span data-stu-id="585ff-185">On hello **Protocol** tab, under hello **Schemas** section, upload hello **EFACT_4.1_CONTRL.xsd** schema.</span></span> <span data-ttu-id="585ff-186">Este esquema está disponible con el paquete de ejemplo de Hola.</span><span class="sxs-lookup"><span data-stu-id="585ff-186">This schema is available with hello sample package.</span></span>
   4. <span data-ttu-id="585ff-187">En hello **ruta** ficha, cree un tooensure de filtro que solo las confirmaciones de Northwind se tooContoso enrutado.</span><span class="sxs-lookup"><span data-stu-id="585ff-187">On hello **Route** tab, create a filter tooensure that only acknowledgements from Northwind are routed tooContoso.</span></span> <span data-ttu-id="585ff-188">En **configuración de ruta**, haga clic en **agregar** toocreate Hola filtro del enrutamiento.</span><span class="sxs-lookup"><span data-stu-id="585ff-188">Under **Route Settings**, click **Add** toocreate hello routing filter.</span></span>
      
      ![][6]  
      
      1. <span data-ttu-id="585ff-189">Proporcione los valores de **nombre de la regla**, **regla de ruta**, y **destino de ruta** tal y como se muestra en la imagen de Hola.</span><span class="sxs-lookup"><span data-stu-id="585ff-189">Provide values for **Rule Name**, **Route rule**, and **Route destination** as shown in hello image.</span></span>
      2. <span data-ttu-id="585ff-190">Haga clic en **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="585ff-190">Click **Save**.</span></span>
   5. <span data-ttu-id="585ff-191">En hello **ruta** pestaña nuevo, especifique dónde se enrutan las confirmaciones suspendidas (confirmaciones con error durante el procesamiento).</span><span class="sxs-lookup"><span data-stu-id="585ff-191">On hello **Route** tab again, specify where suspended acknowledgements (acknowledgements that fail during processing) are routed to.</span></span> <span data-ttu-id="585ff-192">Establecer tooAzure de tipo de transporte de hello Bus de servicio, tipo de destino de ruta demasiado**cola**, tipo de autenticación demasiado**firma de acceso compartido** (SAS), proporcione la cadena de conexión de SAS de Hola para hello Bus de servicio espacio de nombres y, a continuación, escriba el nombre de la cola de hello como **suspendido**.</span><span class="sxs-lookup"><span data-stu-id="585ff-192">Set hello transport type tooAzure Service Bus, route destination type too**Queue**, authentication type too**Shared Access Signature** (SAS), provide hello SAS connection string for hello Service Bus namespace, and then enter hello queue name as **suspended**.</span></span>
5. <span data-ttu-id="585ff-193">Por último, haga clic en **implementar** acuerdo de hello toodeploy.</span><span class="sxs-lookup"><span data-stu-id="585ff-193">Finally, click **Deploy** toodeploy hello agreement.</span></span> <span data-ttu-id="585ff-194">Puntos de conexión de nota Hola donde hello enviar y recibir los acuerdos se implementan.</span><span class="sxs-lookup"><span data-stu-id="585ff-194">Note hello endpoints where hello send and receive agreements get deployed.</span></span>
   
   * <span data-ttu-id="585ff-195">En hello **configuración de envío** ficha **dirección URL de entrada**, tenga en cuenta el punto de conexión de Hola.</span><span class="sxs-lookup"><span data-stu-id="585ff-195">On hello **Send Settings** tab, under **Inbound URL**, note hello endpoint.</span></span> <span data-ttu-id="585ff-196">toosend un mensaje de tooNorthwind de Contoso con hello puente de envío de EDI, debe enviar un punto de conexión de toothis de mensajes.</span><span class="sxs-lookup"><span data-stu-id="585ff-196">toosend a message from Contoso tooNorthwind using hello EDI send bridge, you must send a message toothis endpoint.</span></span>
   * <span data-ttu-id="585ff-197">En hello **configuración de recepción** ficha **transporte**, tenga en cuenta el punto de conexión de Hola.</span><span class="sxs-lookup"><span data-stu-id="585ff-197">On hello **Receive Settings** tab, under **Transport**, note hello endpoint.</span></span> <span data-ttu-id="585ff-198">puente de recepción de toosend un mensaje de tooContoso Northwind mediante Hola EDI, debe enviar un punto de conexión de toothis de mensajes.</span><span class="sxs-lookup"><span data-stu-id="585ff-198">toosend a message from Northwind tooContoso using hello EDI receive bridge, you must send a message toothis endpoint.</span></span>  

## <a name="step-3-create-and-deploy-hello-biztalk-services-project"></a><span data-ttu-id="585ff-199">Paso 3: Crear e implementar el proyecto de servicios de BizTalk de Hola</span><span class="sxs-lookup"><span data-stu-id="585ff-199">Step 3: Create and deploy hello BizTalk Services project</span></span>
<span data-ttu-id="585ff-200">En el paso anterior de hello, implementó Hola EDI de envío y recepción contratos tooprocess facturas y confirmaciones EDIFACT.</span><span class="sxs-lookup"><span data-stu-id="585ff-200">In hello previous step, you deployed hello EDI send and receive agreements tooprocess EDIFACT invoices and acknowledgements.</span></span> <span data-ttu-id="585ff-201">Estos acuerdos solo pueden procesar mensajes que cumplen el esquema de mensaje toohello estándar EDIFACT.</span><span class="sxs-lookup"><span data-stu-id="585ff-201">These agreements can only process messages that conform toohello standard EDIFACT message schema.</span></span> <span data-ttu-id="585ff-202">Sin embargo, cada escenario de Hola para esta solución, Contoso envía una tooNorthwind de factura en un esquema interno propio.</span><span class="sxs-lookup"><span data-stu-id="585ff-202">However, per hello scenario for this solution, Contoso sends an invoice tooNorthwind in an in-house proprietary schema.</span></span> <span data-ttu-id="585ff-203">Por lo tanto, antes de envían mensajes de bienvenida toohello puente de envío de EDI, se debe transformar del esquema de facturas de hello esquema interno toohello estándar EDIFACT.</span><span class="sxs-lookup"><span data-stu-id="585ff-203">So, before hello message is sent toohello EDI send bridge, it must be transformed from hello in-house schema toohello standard EDIFACT invoice schema.</span></span> <span data-ttu-id="585ff-204">proyecto de BizTalk Services EAI Hola hace eso.</span><span class="sxs-lookup"><span data-stu-id="585ff-204">hello BizTalk Services EAI project does that.</span></span>

<span data-ttu-id="585ff-205">proyecto de servicios de BizTalk de Hello, **InvoiceProcessingBridge**, que transformaciones Hola mensaje también se incluye como parte del ejemplo de Hola que descargó.</span><span class="sxs-lookup"><span data-stu-id="585ff-205">hello BizTalk Services project, **InvoiceProcessingBridge**, that transforms hello message is also included as part of hello sample you downloaded.</span></span> <span data-ttu-id="585ff-206">proyecto de Hello incluye Hola siguientes artefactos:</span><span class="sxs-lookup"><span data-stu-id="585ff-206">hello project includes hello following artifacts:</span></span>

* <span data-ttu-id="585ff-207">**INHOUSEINVOICE. XSD** : esquema de factura interna Hola que se envía tooNorthwind.</span><span class="sxs-lookup"><span data-stu-id="585ff-207">**INHOUSEINVOICE.XSD** – Schema of hello in-house invoice that is sent tooNorthwind.</span></span>
* <span data-ttu-id="585ff-208">**EFACT_D93A_INVOIC. XSD** : esquema de factura EDIFACT estándar de Hola.</span><span class="sxs-lookup"><span data-stu-id="585ff-208">**EFACT_D93A_INVOIC.XSD** – Schema of hello standard EDIFACT invoice.</span></span>
* <span data-ttu-id="585ff-209">**EFACT_4.1_CONTRL. XSD** : esquema de confirmación de saludo EDIFACT que Northwind envía tooContoso.</span><span class="sxs-lookup"><span data-stu-id="585ff-209">**EFACT_4.1_CONTRL.XSD** – Schema of hello EDIFACT acknowledgement that Northwind sends tooContoso.</span></span>
* <span data-ttu-id="585ff-210">**INHOUSEINVOICE_to_D93AINVOIC. TRFM** : Hola transformación que asigna el esquema de facturas de hello factura interna esquema toohello estándar EDIFACT.</span><span class="sxs-lookup"><span data-stu-id="585ff-210">**INHOUSEINVOICE_to_D93AINVOIC.TRFM** – hello transform that maps hello in-house invoice schema toohello standard EDIFACT invoice schema.</span></span>  

### <a name="create-hello-biztalk-services-project"></a><span data-ttu-id="585ff-211">Crear proyecto de servicios de BizTalk de Hola</span><span class="sxs-lookup"><span data-stu-id="585ff-211">Create hello BizTalk Services project</span></span>
1. <span data-ttu-id="585ff-212">En hello solución de Visual Studio, expanda el proyecto InvoiceProcessingBridge de hello y, a continuación, abra hello **MessageFlowItinerary.bcs** archivo.</span><span class="sxs-lookup"><span data-stu-id="585ff-212">In hello Visual Studio solution, expand hello InvoiceProcessingBridge project, and then open hello **MessageFlowItinerary.bcs** file.</span></span>
2. <span data-ttu-id="585ff-213">Haga clic en cualquier lugar en el lienzo de Hola y establezca hello **dirección URL del servicio de BizTalk** en Hola toospecify del cuadro de propiedad, el nombre de la suscripción de servicios de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="585ff-213">Click anywhere on hello canvas and set hello **BizTalk Service URL** in hello property box toospecify your BizTalk Services subscription name.</span></span> <span data-ttu-id="585ff-214">Por ejemplo: `https://contosowabs.biztalk.windows.net`.</span><span class="sxs-lookup"><span data-stu-id="585ff-214">For example, `https://contosowabs.biztalk.windows.net`.</span></span>
   
   ![][7]  
3. <span data-ttu-id="585ff-215">En el cuadro de herramientas de hello, arrastre un **puente unidireccional Xml** toohello lienzo.</span><span class="sxs-lookup"><span data-stu-id="585ff-215">From hello toolbox, drag an **Xml One-Way Bridge** toohello canvas.</span></span> <span data-ttu-id="585ff-216">Conjunto hello **nombre de la entidad** y **dirección relativa** propiedades de hello cubrir demasiado**ProcessInvoiceBridge**.</span><span class="sxs-lookup"><span data-stu-id="585ff-216">Set hello **Entity Name** and **Relative Address** properties of hello bridge too**ProcessInvoiceBridge**.</span></span> <span data-ttu-id="585ff-217">Haga doble clic en **ProcessInvoiceBridge** superficie de configuración del puente tooopen Hola.</span><span class="sxs-lookup"><span data-stu-id="585ff-217">Double-click **ProcessInvoiceBridge** tooopen hello bridge configuration surface.</span></span>
4. <span data-ttu-id="585ff-218">Dentro de hello **tipos de mensaje** cuadro, haga clic en Hola signo más (**+**) esquema de hello toospecify de botón de mensaje de Hola entrantes.</span><span class="sxs-lookup"><span data-stu-id="585ff-218">Within hello **Message Types** box, click hello plus (**+**) button toospecify hello schema of hello incoming message.</span></span> <span data-ttu-id="585ff-219">Como mensaje entrante de Hola para hello puente EAI es siempre factura interna de hello, establezca esta opción demasiado**INHOUSEINVOICE**.</span><span class="sxs-lookup"><span data-stu-id="585ff-219">Because hello incoming message for hello EAI bridge is always hello in-house invoice, set this too**INHOUSEINVOICE**.</span></span>
   
   ![][8]  
5. <span data-ttu-id="585ff-220">Haga clic en hello **transformación Xml** forma y en hello cuadro de propiedades, hello **mapas** propiedad, haga clic en el botón de puntos suspensivos hello (**...** ) botón.</span><span class="sxs-lookup"><span data-stu-id="585ff-220">Click hello **Xml Transform** shape, and in hello property box, for hello **Maps** property, click hello ellipsis (**...**) button.</span></span> <span data-ttu-id="585ff-221">Hola **selección de mapas** cuadro de diálogo, seleccione hello **INHOUSEINVOICE_to_D93AINVOIC** transformar el archivo y, a continuación, haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="585ff-221">In hello **Maps Selection** dialog box, select hello **INHOUSEINVOICE_to_D93AINVOIC** transform file, and then click **OK**.</span></span>
   
   ![][9]  
6. <span data-ttu-id="585ff-222">Vuelva demasiado**MessageFlowItinerary.bcs**y en el cuadro de herramientas de hello, arrastre un **extremo de servicio externo bidireccional** toohello derecha de hello **ProcessInvoiceBridge**.</span><span class="sxs-lookup"><span data-stu-id="585ff-222">Go back too**MessageFlowItinerary.bcs**, and from hello toolbox, drag a **Two-Way External Service Endpoint** toohello right of hello **ProcessInvoiceBridge**.</span></span> <span data-ttu-id="585ff-223">Establecer su **nombre de la entidad** propiedad demasiado**EDIBridge**.</span><span class="sxs-lookup"><span data-stu-id="585ff-223">Set its **Entity Name** property too**EDIBridge**.</span></span>
7. <span data-ttu-id="585ff-224">Hola el Explorador de soluciones, expanda hello **MessageFlowItinerary.bcs** y haga doble clic en hello **EDIBridge.config** archivo.</span><span class="sxs-lookup"><span data-stu-id="585ff-224">In hello Solution Explorer, expand hello **MessageFlowItinerary.bcs** and double-click hello **EDIBridge.config** file.</span></span> <span data-ttu-id="585ff-225">Reemplazar el contenido de Hola de hello **EDIBridge.config** con siguiente Hola.</span><span class="sxs-lookup"><span data-stu-id="585ff-225">Replace hello content of hello **EDIBridge.config** with hello following.</span></span>
   
   > [!NOTE]
   > <span data-ttu-id="585ff-226">¿Por qué necesito el archivo .config de tooedit Hola? extremo de servicio externo de Hola que agregamos lienzo del diseñador toohello puente representa los puentes de hello EDI que implementamos antes.</span><span class="sxs-lookup"><span data-stu-id="585ff-226">Why do I need tooedit hello .config file? hello external service endpoint that we added toohello bridge designer canvas represents hello EDI bridges that we deployed earlier.</span></span> <span data-ttu-id="585ff-227">Los puentes EDI son puentes bidireccionales, con un lado de envío y otro de recepción.</span><span class="sxs-lookup"><span data-stu-id="585ff-227">EDI bridges are two-way bridges, with a send and receive side.</span></span> <span data-ttu-id="585ff-228">Sin embargo, hello puente EAI que agregamos toohello diseñador es un puente unidireccional.</span><span class="sxs-lookup"><span data-stu-id="585ff-228">However, hello EAI bridge that we added toohello bridge designer is a one-way bridge.</span></span> <span data-ttu-id="585ff-229">Por lo tanto, patrones de intercambio de toohandle Hola mensaje diferente de los dos puentes de hello, utilizamos un comportamiento de puente personalizado e incluimos su configuración en el archivo .config de Hola.</span><span class="sxs-lookup"><span data-stu-id="585ff-229">So, toohandle hello different message exchange patterns of hello two bridges, we use a custom bridge behavior by including its configuration in hello .config file.</span></span> <span data-ttu-id="585ff-230">Además, comportamiento personalizado de hello también controla el extremo del puente de envío de hello autenticación toohello EDI. Este comportamiento personalizado está disponible como muestra independiente en [puente de servicios de BizTalk encadenamiento ejemplo - EAI tooEDI](http://code.msdn.microsoft.com/BizTalk-Bridge-chaining-2246b104).</span><span class="sxs-lookup"><span data-stu-id="585ff-230">Additionally, hello custom behavior also handles hello authentication toohello EDI send bridge endpoint.This custom behavior is available as a separate sample at [BizTalk Services Bridge chaining sample - EAI tooEDI](http://code.msdn.microsoft.com/BizTalk-Bridge-chaining-2246b104).</span></span> <span data-ttu-id="585ff-231">Esta solución reutiliza el ejemplo hello.</span><span class="sxs-lookup"><span data-stu-id="585ff-231">This solution reuses hello sample.</span></span>  
   > 
   > 
   
   ```
   <?xml version="1.0" encoding="utf-8"?>
   <configuration>
     <system.serviceModel>
       <extensions>
         <behaviorExtensions>
           <add name="BridgeAuthentication" 
                 type="Microsoft.BizTalk.Bridge.Behaviour.BridgeBehaviorElement, Microsoft.BizTalk.Bridge.Behaviour, Version=1.0.0.0, Culture=neutral, PublicKeyToken=ae58f69b69495c05" />
         </behaviorExtensions>
       </extensions>
       <behaviors>
         <endpointBehaviors>
           <behavior name="BridgeAuthenticationConfiguration">
             <!-- Enter hello ACS namespace, issuer name and issuer secret of hello BizTalk Services deployment -->
             <BridgeAuthentication acsnamespace="[YOUR ACS NAMESPACE]" 
                                   issuername="owner" 
                                   issuersecret="[YOUR ACS SECRET]" />
             <webHttp />
           </behavior>
         </endpointBehaviors>
       </behaviors>
       <bindings>
         <webHttpBinding>
           <binding name="BridgeBindingConfiguration">
             <security mode="Transport" />
           </binding>
         </webHttpBinding>
       </bindings>
       <client>
         <clear />
         <!--
           Go BizTalk Portal > Agreement > Send Settings > Inbound URL
           Copy hello Endpoint URL and paste it in hello below address field
         -->
         <endpoint name="TwoWayExternalServiceEndpointReference1" 
                   address="[YOUR EDI BRIDGE SEND URI]" 
                   behaviorConfiguration="BridgeAuthenticationConfiguration" 
                   binding="webHttpBinding" 
                   bindingConfiguration="BridgeBindingConfiguration" 
                   contract="System.ServiceModel.Routing.IRequestReplyRouter" />
       </client>
     </system.serviceModel>
   </configuration>
   
   ```
8. <span data-ttu-id="585ff-232">Actualizar detalles de configuración de hello EDIBridge.config archivo tooinclude</span><span class="sxs-lookup"><span data-stu-id="585ff-232">Update hello EDIBridge.config file tooinclude configuration details</span></span>
   
   * <span data-ttu-id="585ff-233">En  *<behaviors>* , proporcionar Hola espacio de nombres ACS y clave asociados a Hola suscripción a los servicios de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="585ff-233">Under *<behaviors>*, provide hello ACS namespace and key associated with hello BizTalk Services subscription.</span></span>
   * <span data-ttu-id="585ff-234">En  *<client>* , proporcionar extremo Hola donde se implementa Hola acuerdo de envío de EDI.</span><span class="sxs-lookup"><span data-stu-id="585ff-234">Under *<client>*, provide hello endpoint where hello EDI send agreement is deployed.</span></span>
   
   <span data-ttu-id="585ff-235">Guardar los cambios y cierre el archivo de configuración de Hola.</span><span class="sxs-lookup"><span data-stu-id="585ff-235">Save changes and close hello configuration file.</span></span>
9. <span data-ttu-id="585ff-236">En hello cuadro de herramientas, haga clic en hello **conector** combinación hello y **ProcessInvoiceBridge** y **EDIBridge** componentes.</span><span class="sxs-lookup"><span data-stu-id="585ff-236">From hello Toolbox, click hello **Connector** and join hello **ProcessInvoiceBridge** and **EDIBridge** components.</span></span> <span data-ttu-id="585ff-237">Seleccione el conector de hello y, en el cuadro de propiedades, establezca **condición de filtro** demasiado**coincide con todo**.</span><span class="sxs-lookup"><span data-stu-id="585ff-237">Select hello connector, and in Properties box, set **Filter Condition** too**Match All**.</span></span> <span data-ttu-id="585ff-238">Esto asegura que todos los mensajes procesados por hello puente EAI se enrutan toohello puente EDI.</span><span class="sxs-lookup"><span data-stu-id="585ff-238">This ensures that all messages processed by hello EAI bridge are routed toohello EDI bridge.</span></span>
   
   ![][10]  
10. <span data-ttu-id="585ff-239">Guarde los cambios toohello solución.</span><span class="sxs-lookup"><span data-stu-id="585ff-239">Save changes toohello solution.</span></span>  

### <a name="deploy-hello-project"></a><span data-ttu-id="585ff-240">Implementar proyecto de Hola</span><span class="sxs-lookup"><span data-stu-id="585ff-240">Deploy hello project</span></span>
1. <span data-ttu-id="585ff-241">En el equipo de Hola donde creó el proyecto de servicios de BizTalk de hello, descargue e instale el certificado SSL de hello para la suscripción de servicios de BizTalk.</span><span class="sxs-lookup"><span data-stu-id="585ff-241">On hello computer where you created hello BizTalk Services project, download and install hello SSL certificate for your BizTalk Services subscription.</span></span> <span data-ttu-id="585ff-242">En BizTalk Services, haga clic en **Panel** y luego haga clic en **Descargar certificado SSL**.</span><span class="sxs-lookup"><span data-stu-id="585ff-242">From , under BizTalk Services, click **Dashboard**, and then click **Download SSL Certificate**.</span></span> <span data-ttu-id="585ff-243">Haga doble clic en el certificado de Hola y siga hello toocomplete prompt Hola instalación.</span><span class="sxs-lookup"><span data-stu-id="585ff-243">Double-click hello certificate and follow hello prompt toocomplete hello installation.</span></span> <span data-ttu-id="585ff-244">Asegúrese de instalar el certificado de hello en **entidades de certificación raíz de confianza** almacén de certificados.</span><span class="sxs-lookup"><span data-stu-id="585ff-244">Make sure you install hello certificate under **Trusted Root Certification Authorities** certificate store.</span></span>
2. <span data-ttu-id="585ff-245">En Visual Studio Solution Explorer, haga clic en hello **InvoiceProcessingBridge** del proyecto y, a continuación, haga clic en **implementar**.</span><span class="sxs-lookup"><span data-stu-id="585ff-245">In Visual Studio Solution Explorer, right-click hello **InvoiceProcessingBridge** project, and then click **Deploy**.</span></span>
3. <span data-ttu-id="585ff-246">Proporcione los valores de hello tal y como se muestra en la imagen de hello y, a continuación, haga clic en **implementar**.</span><span class="sxs-lookup"><span data-stu-id="585ff-246">Provide hello values as shown in hello image, and then click **Deploy**.</span></span> <span data-ttu-id="585ff-247">Puede obtener credenciales de hello ACS para los servicios de BizTalk, haga clic en **información de conexión** desde el panel de servicios de BizTalk de Hola.</span><span class="sxs-lookup"><span data-stu-id="585ff-247">You can get hello ACS credentials for BizTalk Services by clicking **Connection Information** from hello BizTalk Services dashboard.</span></span>
   
   ![][11]  
   
   <span data-ttu-id="585ff-248">En panel de salida de hello, copie el extremo de Hola donde se implementa Hola puente EAI, por ejemplo, `https://contosowabs.biztalk.windows.net/default/ProcessInvoiceBridge`.</span><span class="sxs-lookup"><span data-stu-id="585ff-248">From hello output pane, copy hello endpoint where hello EAI bridge is deployed, for example, `https://contosowabs.biztalk.windows.net/default/ProcessInvoiceBridge`.</span></span> <span data-ttu-id="585ff-249">Necesitará esta dirección URL del punto de conexión más adelante.</span><span class="sxs-lookup"><span data-stu-id="585ff-249">You will need this endpoint URL later.</span></span>  

## <a name="step-4-test-hello-solution"></a><span data-ttu-id="585ff-250">Paso 4: Probar la solución de Hola</span><span class="sxs-lookup"><span data-stu-id="585ff-250">Step 4: Test hello solution</span></span>
<span data-ttu-id="585ff-251">En este tema, veremos cómo tootest Hola soluciones mediante el uso de hello **Tutorial Client** aplicación proporcionada como parte del ejemplo de Hola.</span><span class="sxs-lookup"><span data-stu-id="585ff-251">In this topic, we look at how tootest hello solution by using hello **Tutorial Client** application provided as part of hello sample.</span></span>  

1. <span data-ttu-id="585ff-252">En Visual Studio, presione F5 toostart hello **Tutorial Client**.</span><span class="sxs-lookup"><span data-stu-id="585ff-252">In Visual Studio, press F5 toostart hello **Tutorial Client**.</span></span>
2. <span data-ttu-id="585ff-253">pantalla de bienvenida debe tener valores de hello completados del paso de Hola donde creamos hello las colas de Bus de servicio.</span><span class="sxs-lookup"><span data-stu-id="585ff-253">hello screen must have hello values prepopulated from hello step where we created hello Service Bus queues.</span></span> <span data-ttu-id="585ff-254">Haga clic en **Siguiente**.</span><span class="sxs-lookup"><span data-stu-id="585ff-254">Click **Next**.</span></span>
3. <span data-ttu-id="585ff-255">En la siguiente ventana de hello, proporcione las credenciales de ACS para la suscripción a los servicios de BizTalk y Hola extremos donde EAI y EDI (recepción) han implementado los puentes.</span><span class="sxs-lookup"><span data-stu-id="585ff-255">In hello next window, provide ACS credentials for BizTalk Services subscription, and hello endpoints where EAI and EDI (receive) bridges are deployed.</span></span>
   
   <span data-ttu-id="585ff-256">Extremo del puente EAI Hola ya copió en el paso anterior de Hola.</span><span class="sxs-lookup"><span data-stu-id="585ff-256">You had copied hello EAI bridge endpoint in hello previous step.</span></span> <span data-ttu-id="585ff-257">Para punto de conexión de puente de recepción de EDI en hello Portal de servicios de BizTalk, consulte toohello acuerdo > configuración de recepción > transporte > extremo.</span><span class="sxs-lookup"><span data-stu-id="585ff-257">For EDI receive bridge endpoint, in hello BizTalk Services Portal, go toohello agreement > Receive Settings > Transport > Endpoint.</span></span>
   
   ![][12]  
4. <span data-ttu-id="585ff-258">En la ventana siguiente hello, Contoso, haga clic en hello **Enviar factura interna** botón.</span><span class="sxs-lookup"><span data-stu-id="585ff-258">In hello next window, under Contoso, click hello **Send In-house Invoice** button.</span></span> <span data-ttu-id="585ff-259">Hola archivo abrir el cuadro de diálogo, abra el archivo INHOUSEINVOICE.txt de Hola.</span><span class="sxs-lookup"><span data-stu-id="585ff-259">In hello File open dialog box, open hello INHOUSEINVOICE.txt file.</span></span> <span data-ttu-id="585ff-260">Examinar contenido Hola de archivo hello y, a continuación, haga clic en **Aceptar** factura de hello toosend.</span><span class="sxs-lookup"><span data-stu-id="585ff-260">Examine hello content of hello file and then click **OK** toosend hello invoice.</span></span>
   
   ![][13]  
5. <span data-ttu-id="585ff-261">Hola de unos segundos, recibe la factura en Northwind.</span><span class="sxs-lookup"><span data-stu-id="585ff-261">In a few seconds hello invoice is received at Northwind.</span></span> <span data-ttu-id="585ff-262">Haga clic en hello **Ver mensaje** factura de vínculo toosee Hola recibida por Northwind.</span><span class="sxs-lookup"><span data-stu-id="585ff-262">Click hello **View Message** link toosee hello invoice received by Northwind.</span></span> <span data-ttu-id="585ff-263">Observe cómo factura Hola recibida por Northwind es un esquema EDIFACT estándar al Hola uno enviado por Contoso estaba en formato interno.</span><span class="sxs-lookup"><span data-stu-id="585ff-263">Notice how hello invoice received by Northwind is in standard EDIFACT schema while hello one sent by Contoso was an in-house schema.</span></span>
   
   ![][14]  
6. <span data-ttu-id="585ff-264">Seleccione la factura de hello y, a continuación, haga clic en **Enviar confirmación**.</span><span class="sxs-lookup"><span data-stu-id="585ff-264">Select hello invoice and then click **Send Acknowledgement**.</span></span> <span data-ttu-id="585ff-265">En el cuadro de diálogo de Hola que aparece, observe dicho intercambio Hola A que ID es el mismo en hello recibido hello y factura enviada la confirmación de que se va.</span><span class="sxs-lookup"><span data-stu-id="585ff-265">In hello dialog box that pops up, notice that hello interchange ID is same in hello received invoice and hello acknowledgement being sent.</span></span> <span data-ttu-id="585ff-266">Haga clic en Aceptar en hello **Enviar confirmación** cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="585ff-266">Click OK in hello **Send Acknowledgement** dialog box.</span></span>
   
   ![][15]  
7. <span data-ttu-id="585ff-267">En unos segundos, la confirmación de Hola se recibe correctamente en Contoso.</span><span class="sxs-lookup"><span data-stu-id="585ff-267">In a few seconds, hello acknowledgement is successfully received at Contoso.</span></span>
   
   ![][16]  

## <a name="step-5-optional-send-edifact-invoice-in-batches"></a><span data-ttu-id="585ff-268">Paso 5 (opcional): Envío de facturas EDIFACT en lotes</span><span class="sxs-lookup"><span data-stu-id="585ff-268">Step 5 (optional): Send EDIFACT invoice in batches</span></span>
<span data-ttu-id="585ff-269">Los puentes EDI de Servicios de BizTalk también admiten el procesamiento en lotes de los mensajes salientes.</span><span class="sxs-lookup"><span data-stu-id="585ff-269">BizTalk Services EDI bridges also supports batching of outgoing messages.</span></span> <span data-ttu-id="585ff-270">Esta característica es útil para socios receptores que prefieren tooreceive un lote de mensajes (que cumpla ciertos criterios) en lugar de los mensajes individuales.</span><span class="sxs-lookup"><span data-stu-id="585ff-270">This feature is useful for receiving partners that prefer tooreceive a batch of messages (meeting certain criterion) instead of individual messages.</span></span>

<span data-ttu-id="585ff-271">aspecto más importante de Hello cuando se trabaja con lotes es lanzamiento del lote de hello, también denominado criterios de lanzamiento de Hola Hola.</span><span class="sxs-lookup"><span data-stu-id="585ff-271">hello most important aspect when working with batches is hello actual release of hello batch, also called hello release criteria.</span></span> <span data-ttu-id="585ff-272">criterios de lanzamiento de Hello pueden basarse en cómo socio receptor Hola desea tooreceive mensajes.</span><span class="sxs-lookup"><span data-stu-id="585ff-272">hello release criteria can be based on how hello receiving partner wants tooreceive messages.</span></span> <span data-ttu-id="585ff-273">Si está habilitado el procesamiento por lotes, Hola puente EDI no envía toohello Hola de mensaje saliente recibir a asociado hasta que hello criterios de lanzamiento se cumple.</span><span class="sxs-lookup"><span data-stu-id="585ff-273">If batching is enabled, hello EDI bridge does not send hello outgoing message toohello receiving partner until hello release criteria is fulfilled.</span></span> <span data-ttu-id="585ff-274">Por ejemplo, un criterio de procesamiento en lotes basado en el tamaño del mensaje libera un lote una vez que se procesan "n" mensajes en el lote.</span><span class="sxs-lookup"><span data-stu-id="585ff-274">For example, a batching criteria based on message size dispatches a batch only when ‘n’ messages are batched.</span></span> <span data-ttu-id="585ff-275">Un criterio de procesamiento por lotes también se puede basar en la hora, de modo que se envíe un lote a una hora fijada todos los días.</span><span class="sxs-lookup"><span data-stu-id="585ff-275">A batch criteria can also be time-based, such that a batch is sent at a fixed time every day.</span></span> <span data-ttu-id="585ff-276">En esta solución, intentamos Hola criterios basados en el tamaño del mensaje.</span><span class="sxs-lookup"><span data-stu-id="585ff-276">In this solution, we try hello message-size based criteria.</span></span>

1. <span data-ttu-id="585ff-277">Hola Portal de servicios de BizTalk, haga clic en acuerdo de Hola que creó anteriormente.</span><span class="sxs-lookup"><span data-stu-id="585ff-277">In hello BizTalk Services Portal, click hello agreement you created earlier.</span></span> <span data-ttu-id="585ff-278">Haga clic en Configuración de envío > Procesamiento por lotes > Agregar lote.</span><span class="sxs-lookup"><span data-stu-id="585ff-278">Click Send Settings > Batching > Add Batch.</span></span>
2. <span data-ttu-id="585ff-279">Para el nombre del lote, escriba **InvoiceBatch**, proporcione una descripción y luego haga clic en **Siguiente**.</span><span class="sxs-lookup"><span data-stu-id="585ff-279">For batch name, enter **InvoiceBatch**, provide a description, and then click **Next**.</span></span>
3. <span data-ttu-id="585ff-280">Especifique un criterio de procesamiento por lotes, que defina qué mensajes se deben procesar por lotes.</span><span class="sxs-lookup"><span data-stu-id="585ff-280">Specify a batch criteria, that defines which messages must be batched.</span></span> <span data-ttu-id="585ff-281">En esta solución, procesamos por lote todos los mensajes.</span><span class="sxs-lookup"><span data-stu-id="585ff-281">In this solution, we batch all messages.</span></span> <span data-ttu-id="585ff-282">Por lo tanto, seleccione la opción usar definiciones avanzadas de Hola y escriba **1 = 1**.</span><span class="sxs-lookup"><span data-stu-id="585ff-282">So, select hello Use advanced definitions option, and enter **1 = 1**.</span></span> <span data-ttu-id="585ff-283">Esta es una condición que siempre será verdadera y, por eso, todos los mensajes se procesarán por lotes.</span><span class="sxs-lookup"><span data-stu-id="585ff-283">This is a condition which will always be true, and hence all messages will be batched.</span></span> <span data-ttu-id="585ff-284">Haga clic en **Siguiente**.</span><span class="sxs-lookup"><span data-stu-id="585ff-284">Click **Next**.</span></span>
   
   ![][17]  
4. <span data-ttu-id="585ff-285">Especifique un criterio de liberación por lotes.</span><span class="sxs-lookup"><span data-stu-id="585ff-285">Specify a batch release criteria.</span></span> <span data-ttu-id="585ff-286">En el cuadro desplegable hello, seleccione **MessageCountBased**y para **recuento**, especifique **3**.</span><span class="sxs-lookup"><span data-stu-id="585ff-286">From hello drop-box, select **MessageCountBased**, and for **Count**, specify **3**.</span></span> <span data-ttu-id="585ff-287">Esto significa que se enviará un lote de tres mensajes tooNorthwind.</span><span class="sxs-lookup"><span data-stu-id="585ff-287">This means that a batch of three messages will be sent tooNorthwind.</span></span> <span data-ttu-id="585ff-288">Haga clic en **Siguiente**.</span><span class="sxs-lookup"><span data-stu-id="585ff-288">Click **Next**.</span></span>
   
   ![][18]  
5. <span data-ttu-id="585ff-289">Revise el resumen de hello y, a continuación, haga clic en **guardar**.</span><span class="sxs-lookup"><span data-stu-id="585ff-289">Review hello summary and then click **Save**.</span></span> <span data-ttu-id="585ff-290">Haga clic en **implementar** acuerdo de hello tooredeploy.</span><span class="sxs-lookup"><span data-stu-id="585ff-290">Click **Deploy** tooredeploy hello agreement.</span></span>
6. <span data-ttu-id="585ff-291">Volver atrás toohello **Tutorial Client**, haga clic en **Enviar factura interna**y siga Hola indicaciones toosend Hola factura.</span><span class="sxs-lookup"><span data-stu-id="585ff-291">Go back toohello **Tutorial Client**, click **Send In-house Invoice**, and follow hello prompts toosend hello invoice.</span></span> <span data-ttu-id="585ff-292">Observará que no recibe ninguna factura en Northwind porque no se cumple el tamaño de lote de Hola.</span><span class="sxs-lookup"><span data-stu-id="585ff-292">You will notice that no invoice is received at Northwind because hello batch size is not met.</span></span> <span data-ttu-id="585ff-293">Repita este paso dos veces más, para que tenga tres mensajes de factura enviados tooNorthwind.</span><span class="sxs-lookup"><span data-stu-id="585ff-293">Repeat this step two more times, so that you have three invoice messages sent tooNorthwind.</span></span> <span data-ttu-id="585ff-294">Esto cumple los criterios de lanzamiento de lote de 3 mensajes de Hola y ahora debería ver una factura en Northwind.</span><span class="sxs-lookup"><span data-stu-id="585ff-294">This satisfies hello batch release criteria of 3 messages and you should now see an invoice at Northwind.</span></span>

<!--Image references-->
[1]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-1.PNG  
[2]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-2.PNG  
[3]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-3.PNG
[4]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-4.PNG  
[5]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-5.PNG  
[6]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-6.PNG  
[7]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-7.PNG  
[8]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-8.PNG
[9]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-9.PNG  
[10]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-10.PNG  
[11]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-11.PNG  
[12]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-12.PNG  
[13]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-13.PNG
[14]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-14.PNG  
[15]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-15.PNG  
[16]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-16.PNG  
[17]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-17.PNG  
[18]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-18.PNG

