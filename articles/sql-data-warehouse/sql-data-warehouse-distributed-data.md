---
title: "aaaHow distribuidas funciona de datos en el almacén de datos de SQL de Azure | Documentos de Microsoft"
description: "Obtenga información acerca de cómo se distribuyen los datos para opciones de hello y masivo paralelas de procesamiento (MPP) para la distribución de tablas de almacenamiento de datos de SQL Azure y almacenamiento de datos paralelos."
services: sql-data-warehouse
documentationcenter: NA
author: jrowlandjones
manager: jhubbard
editor: 
ms.assetid: bae494a6-7ac5-4c38-8ca3-ab2696c63a9f
ms.service: sql-data-warehouse
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: data-services
ms.custom: tables
ms.date: 07/12/2017
ms.author: jrj;barbkess
ms.openlocfilehash: 9a712d8d5251e4391ede245105918283aaa4b193
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="distributed-data-and-distributed-tables-for-massively-parallel-processing-mpp"></a><span data-ttu-id="07384-103">Datos distribuidos y tablas distribuidas para el procesamiento paralelo masivo (MPP)</span><span class="sxs-lookup"><span data-stu-id="07384-103">Distributed data and distributed tables for Massively Parallel Processing (MPP)</span></span>
<span data-ttu-id="07384-104">Obtenga información sobre cómo se distribuyen los datos de usuario en SQL Data Warehouse y Almacenamiento de datos paralelos de Azure, que son sistemas de procesamiento paralelo masivo (MPP) de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="07384-104">Learn how user data is distributed in Azure SQL Data Warehouse and Parallel Data Warehouse, which are Microsoft's Massively Parallel Processing (MPP) systems.</span></span> <span data-ttu-id="07384-105">Diseñar la toouse de almacenamiento de datos datos distribuidos eficazmente le ayuda a tooachieve Hola de procesamiento de consultas ventajas de hello arquitectura MPP.</span><span class="sxs-lookup"><span data-stu-id="07384-105">Designing your data warehouse toouse distributed data effectively helps you tooachieve hello query processing benefits of hello MPP architecture.</span></span> <span data-ttu-id="07384-106">Algunas opciones de diseño de bases de datos pueden mejorar de manera significativa el rendimiento de las consultas.</span><span class="sxs-lookup"><span data-stu-id="07384-106">A few database design choices can have a significant impact on improving query performance.</span></span>  

> [!NOTE]
> <span data-ttu-id="07384-107">Almacenamiento de datos de SQL Azure y Hola de uso de almacenamiento de datos paralelos de diseño un procesamiento paralelo masivo mismo (MPP), pero tienen algunas diferencias debido a Hola subyacente de la plataforma.</span><span class="sxs-lookup"><span data-stu-id="07384-107">Azure SQL Data Warehouse and Parallel Data Warehouse use hello same Massively Parallel Processing (MPP) design, but they have a few differences because of hello underlying platform.</span></span> <span data-ttu-id="07384-108">SQL Data Warehouse es una plataforma como servicio (PaaS) que se ejecuta en Azure.</span><span class="sxs-lookup"><span data-stu-id="07384-108">SQL Data Warehouse is a Platform as a Service (PaaS) that runs on Azure.</span></span> <span data-ttu-id="07384-109">Almacenamiento de datos paralelos se ejecuta en Analytics Platform System (APS), que es una aplicación local que se ejecuta en Windows Server.</span><span class="sxs-lookup"><span data-stu-id="07384-109">Parallel Data Warehouse runs on Analytics Platform System (APS) which is an on-premises appliance that runs on Windows Server.</span></span>
> 
> 

## <a name="what-is-distributed-data"></a><span data-ttu-id="07384-110">¿Qué son los datos distribuidos?</span><span class="sxs-lookup"><span data-stu-id="07384-110">What is distributed data?</span></span>
<span data-ttu-id="07384-111">En almacenamiento de datos SQL y almacenamiento de datos paralelos, datos distribuidos hace referencia a datos de toouser que están almacenados en varias ubicaciones en hello sistema MPP.</span><span class="sxs-lookup"><span data-stu-id="07384-111">In SQL Data Warehouse and Parallel Data Warehouse, distributed data refers toouser data that is stored in multiple locations across hello MPP system.</span></span> <span data-ttu-id="07384-112">Cada una de esas ubicaciones funciona como una unidad de procesamiento que se ejecuta consultas en la parte de datos de Hola y de almacenamiento independiente.</span><span class="sxs-lookup"><span data-stu-id="07384-112">Each of those locations functions as an independent storage and processing unit that runs queries on its portion of hello data.</span></span> <span data-ttu-id="07384-113">Datos distribuido están fundamental toorunning consultas en el rendimiento de las consultas alta tooachieve paralelas.</span><span class="sxs-lookup"><span data-stu-id="07384-113">Distributed data is fundamental toorunning queries in parallel tooachieve high query performance.</span></span>

<span data-ttu-id="07384-114">datos de toodistribute, almacenamiento de datos de hello asigna cada fila de una ubicación de tooone distribuida de la tabla de usuario.</span><span class="sxs-lookup"><span data-stu-id="07384-114">toodistribute data, hello data warehouse assigns each row of a user table tooone distributed location.</span></span>  <span data-ttu-id="07384-115">También pueden distribuirse las tablas con un método de distribución basado en una función hash o con un método round robin.</span><span class="sxs-lookup"><span data-stu-id="07384-115">You can distribute tables with a hash-distribution method or a round-robin method.</span></span> <span data-ttu-id="07384-116">Especifica el método de distribución de Hola Hola instrucción CREATE TABLE.</span><span class="sxs-lookup"><span data-stu-id="07384-116">hello distribution method is specified in hello CREATE TABLE statement.</span></span> 

## <a name="hash-distributed-tables"></a><span data-ttu-id="07384-117">Tablas distribuidas mediante una función hash</span><span class="sxs-lookup"><span data-stu-id="07384-117">Hash-distributed tables</span></span>
<span data-ttu-id="07384-118">Hola siguiente diagrama ilustra cómo una completa (tabla no distribuido) se almacena como una tabla hash está distribuido.</span><span class="sxs-lookup"><span data-stu-id="07384-118">hello following diagram illustrates how a full (non-distributed table) gets stored as a hash-distributed table.</span></span> <span data-ttu-id="07384-119">Una función determinista asigna cada distribución de tooone toobelong de fila.</span><span class="sxs-lookup"><span data-stu-id="07384-119">A deterministic function assigns each row toobelong tooone distribution.</span></span> <span data-ttu-id="07384-120">En la definición de la tabla de hello, una de las columnas de Hola se designa como columna de distribución de Hola.</span><span class="sxs-lookup"><span data-stu-id="07384-120">In hello table definition, one of hello columns is designated as hello distribution column.</span></span> <span data-ttu-id="07384-121">función de hash de Hello usa valor hello en hello distribución columna tooassign cada distribución de tooa de fila.</span><span class="sxs-lookup"><span data-stu-id="07384-121">hello hash function uses hello value in hello distribution column tooassign each row tooa distribution.</span></span>

<span data-ttu-id="07384-122">Existen consideraciones de rendimiento para la selección de Hola de una columna de distribución, como diferenciación y sesgo de datos, tipos de Hola de consultas ejecutadas en el sistema de Hola.</span><span class="sxs-lookup"><span data-stu-id="07384-122">There are performance considerations for hello selection of a distribution column, such as distinctness, data skew, and hello types of queries run on hello system.</span></span>

<span data-ttu-id="07384-123">![Tabla distribuida](media/sql-data-warehouse-distributed-data/hash-distributed-table.png "Tabla distribuida")</span><span class="sxs-lookup"><span data-stu-id="07384-123">![Distributed table](media/sql-data-warehouse-distributed-data/hash-distributed-table.png "Distributed table")</span></span>  

* <span data-ttu-id="07384-124">Cada fila pertenece tooone distribución.</span><span class="sxs-lookup"><span data-stu-id="07384-124">Each row belongs tooone distribution.</span></span>  
* <span data-ttu-id="07384-125">Un algoritmo hash determinista asigna cada distribución tooone de fila.</span><span class="sxs-lookup"><span data-stu-id="07384-125">A deterministic hash algorithm assigns each row tooone distribution.</span></span>  
* <span data-ttu-id="07384-126">número de Hola de filas de la tabla por distribución varía como se muestra en distintos tamaños de Hola de tablas.</span><span class="sxs-lookup"><span data-stu-id="07384-126">hello number of table rows per distribution varies as shown by hello different sizes of tables.</span></span>

## <a name="round-robin-distributed-tables"></a><span data-ttu-id="07384-127">Tablas distribuidas con el método round robin</span><span class="sxs-lookup"><span data-stu-id="07384-127">Round-robin distributed tables</span></span>
<span data-ttu-id="07384-128">Una tabla distribuida round robin distribuye filas hello mediante la asignación de cada distribución de tooa de filas de forma secuencial.</span><span class="sxs-lookup"><span data-stu-id="07384-128">A round-robin distributed table distributes hello rows by assigning each row tooa distribution in a sequential manner.</span></span> <span data-ttu-id="07384-129">Está formado por datos en una tabla de round robin tooload rápido, pero el rendimiento de las consultas puede ser más lento.</span><span class="sxs-lookup"><span data-stu-id="07384-129">It is quick tooload data into a round-robin table, but query performance might be slower.</span></span>  <span data-ttu-id="07384-130">Combinar una tabla de round robin normalmente requiere reconstruyen Hola filas tooenable Hola consulta tooproduce un resultado exacto, lo que lleva tiempo.</span><span class="sxs-lookup"><span data-stu-id="07384-130">Joining a round-robin table usually requires reshuffling hello rows tooenable hello query tooproduce an accurate result, which takes time.</span></span>

## <a name="distributed-storage-locations-are-called-distributions"></a><span data-ttu-id="07384-131">Las ubicaciones de almacenamiento distribuidas se denominan distribuciones</span><span class="sxs-lookup"><span data-stu-id="07384-131">Distributed storage locations are called distributions</span></span>
<span data-ttu-id="07384-132">Cada ubicación distribuida se denomina distribución.</span><span class="sxs-lookup"><span data-stu-id="07384-132">Each distributed location is called a distribution.</span></span> <span data-ttu-id="07384-133">Cuando se ejecuta una consulta en paralelo, cada distribución realiza una consulta SQL en la parte de datos de Hola.</span><span class="sxs-lookup"><span data-stu-id="07384-133">When a query runs in parallel, each distribution performs a SQL query on its portion of hello data.</span></span> <span data-ttu-id="07384-134">Almacenamiento de datos de SQL usa la consulta de base de datos SQL toorun Hola.</span><span class="sxs-lookup"><span data-stu-id="07384-134">SQL Data Warehouse uses SQL Database toorun hello query.</span></span> <span data-ttu-id="07384-135">Almacenamiento de datos paralelos utiliza la consulta de SQL Server toorun Hola.</span><span class="sxs-lookup"><span data-stu-id="07384-135">Parallel Data Warehouse uses SQL Server toorun hello query.</span></span> <span data-ttu-id="07384-136">Este diseño de arquitectura compartir nada es fundamental tooachieving escalabilidad informática en paralelo.</span><span class="sxs-lookup"><span data-stu-id="07384-136">This shared-nothing architecture design is fundamental tooachieving scale-out parallel computing.</span></span>

### <a name="can-i-view-hello-distributions"></a><span data-ttu-id="07384-137">¿Puedo ver las distribuciones de hello?</span><span class="sxs-lookup"><span data-stu-id="07384-137">Can I view hello distributions?</span></span>
<span data-ttu-id="07384-138">Cada distribución tiene un Id. de distribución y es visible en vistas del sistema que pertenecen tooSQL almacenamiento de datos y almacenamiento de datos paralelos.</span><span class="sxs-lookup"><span data-stu-id="07384-138">Each distribution has a distribution ID and is visible in system views that pertain tooSQL Data Warehouse and Parallel Data Warehouse.</span></span> <span data-ttu-id="07384-139">Puede usar el rendimiento de la consulta de tootroubleshoot de identificador hello distribución y otros problemas.</span><span class="sxs-lookup"><span data-stu-id="07384-139">You can use hello distribution ID tootroubleshoot query performance and other problems.</span></span> <span data-ttu-id="07384-140">Para obtener una lista de vistas del sistema hello, vea hello [vista del sistema MPP](sql-data-warehouse-reference-tsql-statements.md).</span><span class="sxs-lookup"><span data-stu-id="07384-140">For a list of hello system views, see hello [MPP system view](sql-data-warehouse-reference-tsql-statements.md).</span></span>

## <a name="difference-between-a-distribution-and-a-compute-node"></a><span data-ttu-id="07384-141">Diferencia entre una distribución y un nodo de ejecución</span><span class="sxs-lookup"><span data-stu-id="07384-141">Difference between a distribution and a Compute node</span></span>
<span data-ttu-id="07384-142">Una distribución es la unidad básica de Hola para almacenar datos distribuidos y procesar las consultas en paralelo.</span><span class="sxs-lookup"><span data-stu-id="07384-142">A distribution is hello basic unit for storing distributed data and processing parallel queries.</span></span> <span data-ttu-id="07384-143">Las distribuciones se agrupan en nodos de ejecución.</span><span class="sxs-lookup"><span data-stu-id="07384-143">Distributions are grouped into Compute nodes.</span></span> <span data-ttu-id="07384-144">Cada nodo de ejecución realiza el seguimiento de una o varias distribuciones.</span><span class="sxs-lookup"><span data-stu-id="07384-144">Each Compute node tracks one or more distributions.</span></span>  

* <span data-ttu-id="07384-145">Sistema de la plataforma de análisis utiliza nodos de proceso como un componente central de hello arquitectura y escalabilidad horizontal las capacidades de hardware.</span><span class="sxs-lookup"><span data-stu-id="07384-145">Analytics Platform System uses Compute nodes as a central component of hello hardware architecture and scale-out capabilities.</span></span> <span data-ttu-id="07384-146">Siempre utiliza ocho distribuciones por nodo de proceso, como se muestra en el diagrama de Hola para las tablas hash distribuido.</span><span class="sxs-lookup"><span data-stu-id="07384-146">It always uses eight distributions per Compute node, as shown in hello diagram for hash-distributed tables.</span></span> <span data-ttu-id="07384-147">Hola número de nodos de proceso y Hola, por tanto, el número de distribuciones, viene determinado por el número de Hola de nodos de proceso que adquiere de dispositivo de Hola.</span><span class="sxs-lookup"><span data-stu-id="07384-147">hello number of Compute nodes, and therefore hello number of distributions, is determined by hello number of Compute nodes you purchase for hello appliance.</span></span> <span data-ttu-id="07384-148">Por ejemplo, si adquiere ocho nodos de ejecución, obtendrá 64 distribuciones (8 nodos de ejecución x 8 distribuciones/nodo).</span><span class="sxs-lookup"><span data-stu-id="07384-148">For example, if you purchase eight Compute nodes, you get 64 distributions (8 Compute nodes x 8 distributions/node).</span></span> 
* <span data-ttu-id="07384-149">SQL Data Warehouse tiene una cantidad de distribuciones (60) y un número flexible de nodos de ejecución.</span><span class="sxs-lookup"><span data-stu-id="07384-149">SQL Data Warehouse has a fixed number of 60 distributions and a flexible number of Compute nodes.</span></span> <span data-ttu-id="07384-150">nodos de proceso de Hola se implementan con recursos de proceso y almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="07384-150">hello Compute nodes are implemented with Azure computing and storage resources.</span></span> <span data-ttu-id="07384-151">número de Hola de nodos de proceso puede cambiar cargas de trabajo del servicio de back-end toohello correspondiente y capacidad informática de hello (a Dwu) que especifique para el almacenamiento de datos de Hola.</span><span class="sxs-lookup"><span data-stu-id="07384-151">hello number of Compute nodes can change according toohello backend service workload and hello computing capacity (DWUs) you specify for hello data warehouse.</span></span> <span data-ttu-id="07384-152">Cuando se cambia el número de Hola de nodos de proceso, número de Hola de distribuciones por nodo de proceso también cambia.</span><span class="sxs-lookup"><span data-stu-id="07384-152">When hello number of Compute nodes changes, hello number of distributions per Compute node also changes.</span></span> 

### <a name="can-i-view-hello-compute-nodes"></a><span data-ttu-id="07384-153">¿Puedo ver los nodos de proceso de hello?</span><span class="sxs-lookup"><span data-stu-id="07384-153">Can I view hello Compute nodes?</span></span>
<span data-ttu-id="07384-154">Cada nodo de cálculo tiene un identificador de nodo y es visible en vistas del sistema que pertenecen tooSQL almacenamiento de datos y almacenamiento de datos paralelos.</span><span class="sxs-lookup"><span data-stu-id="07384-154">Each Compute node has a node ID and is visible in system views that pertain tooSQL Data Warehouse and Parallel Data Warehouse.</span></span>  <span data-ttu-id="07384-155">Puede ver el nodo de proceso de hello buscando columna node_id de hello en las vistas de sistema cuyos nombres comienzan por sys.pdw_nodes.</span><span class="sxs-lookup"><span data-stu-id="07384-155">You can see hello Compute node by looking for hello node_id column in system views whose names begin with sys.pdw_nodes.</span></span> <span data-ttu-id="07384-156">Para obtener una lista de vistas del sistema hello, vea hello [vista del sistema MPP](sql-data-warehouse-reference-tsql-statements.md).</span><span class="sxs-lookup"><span data-stu-id="07384-156">For a list of hello system views, see hello [MPP system view](sql-data-warehouse-reference-tsql-statements.md).</span></span>

## <span data-ttu-id="07384-157"><a name="Replicated"></a>Tablas replicadas</span><span class="sxs-lookup"><span data-stu-id="07384-157"><a name="Replicated"></a>Replicated Tables</span></span>
<span data-ttu-id="07384-158">Tiene una tabla que se replica una totalmente almacena la copia de la tabla de hello en cada nodo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="07384-158">A table that is replicated has a fully copy of hello table stored on each Compute node.</span></span> <span data-ttu-id="07384-159">Replicación de una tabla quita los datos de tootransfer de necesidad de hello entre los nodos de proceso antes de una combinación o una agregación.</span><span class="sxs-lookup"><span data-stu-id="07384-159">Replicating a table removes hello need tootransfer data among Compute nodes before a join or aggregation.</span></span> <span data-ttu-id="07384-160">Las tablas replicadas sólo son viables con tablas pequeñas debido a Hola tabla completa Hola de almacenamiento adicional toostore necesarios en cada nodo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="07384-160">Replicated tables are only feasible with small tables because of hello extra storage required toostore hello full table on each compute node.</span></span>  

<span data-ttu-id="07384-161">Hello siguiente diagrama muestra una tabla replicada se almacena en cada nodo de proceso.</span><span class="sxs-lookup"><span data-stu-id="07384-161">hello following diagram shows a replicated table that is stored on each Compute node.</span></span> <span data-ttu-id="07384-162">Para almacenamiento de datos de SQL, tabla replicada hello es tooa copiado totalmente la base de datos de distribución en cada nodo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="07384-162">For SQL Data Warehouse, hello replicated table is fully copied tooa distribution database on each Compute node.</span></span> <span data-ttu-id="07384-163">Para almacenamiento de datos paralelos, tabla replicada Hola se almacena en todos los discos asignados toohello de nodos de proceso.</span><span class="sxs-lookup"><span data-stu-id="07384-163">For Parallel Data Warehouse, hello replicated table is stored across all disks assigned toohello Compute node.</span></span>  <span data-ttu-id="07384-164">Esta estrategia de disco se implementa mediante el uso de grupos de archivos de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="07384-164">This disk strategy is implemented by using SQL Server filegroups.</span></span>  

<span data-ttu-id="07384-165">![Tabla replicada](media/sql-data-warehouse-distributed-data/replicated-table.png "Tabla replicada")</span><span class="sxs-lookup"><span data-stu-id="07384-165">![Replicated table](media/sql-data-warehouse-distributed-data/replicated-table.png "Replicated table")</span></span> 

## <a name="next-steps"></a><span data-ttu-id="07384-166">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="07384-166">Next steps</span></span>
<span data-ttu-id="07384-167">tablas toouse distribuida de forma eficaz, consulte [distribuir tablas en el almacén de datos de SQL](sql-data-warehouse-tables-distribute.md)</span><span class="sxs-lookup"><span data-stu-id="07384-167">toouse distributed tables effectively, see [Distributing tables in SQL Data Warehouse](sql-data-warehouse-tables-distribute.md)</span></span>  

