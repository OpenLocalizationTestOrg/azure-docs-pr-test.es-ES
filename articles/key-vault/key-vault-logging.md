---
title: "aaaAzure registro de almacén de claves | Documentos de Microsoft"
description: "Use este tutorial toohelp empezar a trabajar con el almacén de claves de Azure registro."
services: key-vault
documentationcenter: 
author: cabailey
manager: mbaldwin
tags: azure-resource-manager
ms.assetid: 43f96a2b-3af8-4adc-9344-bc6041fface8
ms.service: key-vault
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: hero-article
ms.date: 07/19/2017
ms.author: cabailey
ms.openlocfilehash: 38a173297948748bef45e3d857c06b50b3e21e74
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="azure-key-vault-logging"></a><span data-ttu-id="372cf-103">Registro del Almacén de claves de Azure</span><span class="sxs-lookup"><span data-stu-id="372cf-103">Azure Key Vault Logging</span></span>
<span data-ttu-id="372cf-104">Almacén de claves de Azure está disponible en la mayoría de las regiones.</span><span class="sxs-lookup"><span data-stu-id="372cf-104">Azure Key Vault is available in most regions.</span></span> <span data-ttu-id="372cf-105">Para obtener más información, vea hello [almacén de claves de página de precios](https://azure.microsoft.com/pricing/details/key-vault/).</span><span class="sxs-lookup"><span data-stu-id="372cf-105">For more information, see hello [Key Vault pricing page](https://azure.microsoft.com/pricing/details/key-vault/).</span></span>

## <a name="introduction"></a><span data-ttu-id="372cf-106">Introducción</span><span class="sxs-lookup"><span data-stu-id="372cf-106">Introduction</span></span>
<span data-ttu-id="372cf-107">Después de haber creado uno o varios almacenes de claves, probablemente le interesará toomonitor cómo y cuándo la clave de los almacenes de credenciales son acceder y por quién.</span><span class="sxs-lookup"><span data-stu-id="372cf-107">After you have created one or more key vaults, you will likely want toomonitor how and when your key vaults are accessed, and by whom.</span></span> <span data-ttu-id="372cf-108">Puede hacerlo al habilitar el registro del Almacén de claves, que guarda la información en una cuenta de almacenamiento de Azure proporcionada por el usuario.</span><span class="sxs-lookup"><span data-stu-id="372cf-108">You can do this by enabling logging for Key Vault, which saves information in an Azure storage account that you provide.</span></span> <span data-ttu-id="372cf-109">Un nuevo contenedor llamado **insights-logs-auditevent** se crea automáticamente para su cuenta de almacenamiento especificada, y puede utilizar esta misma cuenta para recopilar registros de varios almacenes de claves.</span><span class="sxs-lookup"><span data-stu-id="372cf-109">A new container named **insights-logs-auditevent** is automatically created for your specified storage account, and you can use this same storage account for collecting logs for multiple key vaults.</span></span>

<span data-ttu-id="372cf-110">Puede tener acceso a la información de registro a lo sumo, la operación del almacén de 10 minutos después de la clave de Hola.</span><span class="sxs-lookup"><span data-stu-id="372cf-110">You can access your logging information at most, 10 minutes after hello key vault operation.</span></span> <span data-ttu-id="372cf-111">En la mayoría de los casos, será más rápido que esto.</span><span class="sxs-lookup"><span data-stu-id="372cf-111">In most cases, it will be quicker than this.</span></span>  <span data-ttu-id="372cf-112">Es una tooyou toomanage los registros en la cuenta de almacenamiento:</span><span class="sxs-lookup"><span data-stu-id="372cf-112">It's up tooyou toomanage your logs in your storage account:</span></span>

* <span data-ttu-id="372cf-113">Utilice toosecure de métodos de control de acceso de Azure estándar los registros mediante la restricción de quién puede tener acceso a ellos.</span><span class="sxs-lookup"><span data-stu-id="372cf-113">Use standard Azure access control methods toosecure your logs by restricting who can access them.</span></span>
* <span data-ttu-id="372cf-114">Eliminar los registros que ya no desea tookeep en su cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="372cf-114">Delete logs that you no longer want tookeep in your storage account.</span></span>

<span data-ttu-id="372cf-115">Use este tutorial toohelp empezar a trabajar con el almacén de claves de Azure, el registro toocreate su cuenta de almacenamiento, habilitar el registro e interpretar la información de registro de hello recopilada.</span><span class="sxs-lookup"><span data-stu-id="372cf-115">Use this tutorial toohelp you get started with Azure Key Vault logging, toocreate your storage account, enable logging, and interpret hello logging information collected.</span></span>  

> [!NOTE]
> <span data-ttu-id="372cf-116">Este tutorial no incluye instrucciones de cómo toocreate clave almacenes, claves o secretos.</span><span class="sxs-lookup"><span data-stu-id="372cf-116">This tutorial does not include instructions for how toocreate key vaults, keys, or secrets.</span></span> <span data-ttu-id="372cf-117">Para obtener información, consulte [Introducción al Almacén de claves de Azure](key-vault-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="372cf-117">For this information, see [Get started with Azure Key Vault](key-vault-get-started.md).</span></span> <span data-ttu-id="372cf-118">O bien, para obtener instrucciones de la interfaz de la línea de comandos entre plataformas, consulte [este tutorial equivalente](key-vault-manage-with-cli2.md).</span><span class="sxs-lookup"><span data-stu-id="372cf-118">Or, for Cross-Platform Command-Line Interface instructions, see [this equivalent tutorial](key-vault-manage-with-cli2.md).</span></span>
>
> <span data-ttu-id="372cf-119">Actualmente, no se puede configurar el almacén de claves de Azure en hello portal de Azure.</span><span class="sxs-lookup"><span data-stu-id="372cf-119">Currently, you cannot configure Azure Key Vault in hello Azure portal.</span></span> <span data-ttu-id="372cf-120">En su lugar, siga estas instrucciones de Azure PowerShell.</span><span class="sxs-lookup"><span data-stu-id="372cf-120">Instead, use these Azure PowerShell instructions.</span></span>
>
>

<span data-ttu-id="372cf-121">Para obtener información general sobre el Almacén de claves de Azure, consulte [¿Qué es el Almacén de clave de Azure?](key-vault-whatis.md)</span><span class="sxs-lookup"><span data-stu-id="372cf-121">For overview information about Azure Key Vault, see [What is Azure Key Vault?](key-vault-whatis.md)</span></span>

## <a name="prerequisites"></a><span data-ttu-id="372cf-122">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="372cf-122">Prerequisites</span></span>
<span data-ttu-id="372cf-123">toocomplete este tutorial, debe tener Hola siguientes:</span><span class="sxs-lookup"><span data-stu-id="372cf-123">toocomplete this tutorial, you must have hello following:</span></span>

* <span data-ttu-id="372cf-124">Un Almacén de claves existente que ha utilizado.</span><span class="sxs-lookup"><span data-stu-id="372cf-124">An existing key vault that you have been using.</span></span>  
* <span data-ttu-id="372cf-125">Azure PowerShell, **versión mínima: 1.0.1**.</span><span class="sxs-lookup"><span data-stu-id="372cf-125">Azure PowerShell, **minimum version of 1.0.1**.</span></span> <span data-ttu-id="372cf-126">tooinstall PowerShell de Azure y asociarlo con su suscripción de Azure, consulte [cómo tooinstall y configurar Azure PowerShell](/powershell/azure/overview).</span><span class="sxs-lookup"><span data-stu-id="372cf-126">tooinstall Azure PowerShell and associate it with your Azure subscription, see [How tooinstall and configure Azure PowerShell](/powershell/azure/overview).</span></span> <span data-ttu-id="372cf-127">Si ya ha instalado Azure PowerShell y no conoce la versión de hello, desde la consola de PowerShell de Azure de hello, escriba `(Get-Module azure -ListAvailable).Version`.</span><span class="sxs-lookup"><span data-stu-id="372cf-127">If you have already installed Azure PowerShell and do not know hello version, from hello Azure PowerShell console, type `(Get-Module azure -ListAvailable).Version`.</span></span>  
* <span data-ttu-id="372cf-128">Suficiente almacenamiento en Azure para sus registros del Almacén de claves.</span><span class="sxs-lookup"><span data-stu-id="372cf-128">Sufficient storage on Azure for your Key Vault logs.</span></span>

## <span data-ttu-id="372cf-129"><a id="connect"></a>Conectar tooyour suscripciones</span><span class="sxs-lookup"><span data-stu-id="372cf-129"><a id="connect"></a>Connect tooyour subscriptions</span></span>
<span data-ttu-id="372cf-130">Inicie una sesión de PowerShell de Azure e inicie sesión en tooyour cuenta de Azure con hello siguiente comando:</span><span class="sxs-lookup"><span data-stu-id="372cf-130">Start an Azure PowerShell session and sign in tooyour Azure account with hello following command:</span></span>  

    Login-AzureRmAccount

<span data-ttu-id="372cf-131">En la ventana emergente del explorador de hello, escriba el nombre de usuario de cuenta de Azure y la contraseña.</span><span class="sxs-lookup"><span data-stu-id="372cf-131">In hello pop-up browser window, enter your Azure account user name and password.</span></span> <span data-ttu-id="372cf-132">Azure PowerShell obtendrá todas las suscripciones de Hola que están asociadas a esta cuenta y de forma predeterminada, usa Hola primero.</span><span class="sxs-lookup"><span data-stu-id="372cf-132">Azure PowerShell will get all hello subscriptions that are associated with this account and by default, uses hello first one.</span></span>

<span data-ttu-id="372cf-133">Si tiene varias suscripciones, es posible que tenga toospecify una en concreto que estaba toocreate usa su almacén de claves de Azure.</span><span class="sxs-lookup"><span data-stu-id="372cf-133">If you have multiple subscriptions, you might have toospecify a specific one that was used toocreate your Azure Key Vault.</span></span> <span data-ttu-id="372cf-134">Escriba Hola siguiendo las suscripciones de hello toosee para su cuenta:</span><span class="sxs-lookup"><span data-stu-id="372cf-134">Type hello following toosee hello subscriptions for your account:</span></span>

    Get-AzureRmSubscription

<span data-ttu-id="372cf-135">A continuación, toospecify Hola suscripción que está asociado con el almacén de claves que iniciará sesión, tipo:</span><span class="sxs-lookup"><span data-stu-id="372cf-135">Then, toospecify hello subscription that's associated with your key vault you will be logging, type:</span></span>

    Set-AzureRmContext -SubscriptionId <subscription ID>

> [!NOTE]
> <span data-ttu-id="372cf-136">Este es un paso importante y especialmente útil si tiene varias suscripciones asociadas a su cuenta.</span><span class="sxs-lookup"><span data-stu-id="372cf-136">This is an important step and especially helpful if you have multiple subscriptions associated with your account.</span></span> <span data-ttu-id="372cf-137">Puede recibir un tooregister de error Microsoft.Insights si se omite este paso.</span><span class="sxs-lookup"><span data-stu-id="372cf-137">You may receive an error tooregister Microsoft.Insights if this step is skipped.</span></span>
>   
>

<span data-ttu-id="372cf-138">Para obtener más información acerca de cómo configurar Azure PowerShell, consulte [cómo tooinstall y configurar Azure PowerShell](/powershell/azure/overview).</span><span class="sxs-lookup"><span data-stu-id="372cf-138">For more information about configuring Azure PowerShell, see  [How tooinstall and configure Azure PowerShell](/powershell/azure/overview).</span></span>

## <span data-ttu-id="372cf-139"><a id="storage"></a>Creación de una cuenta de almacenamiento nueva para los registros</span><span class="sxs-lookup"><span data-stu-id="372cf-139"><a id="storage"></a>Create a new storage account for your logs</span></span>
<span data-ttu-id="372cf-140">Aunque puede usar una cuenta de almacenamiento existente para sus registros, vamos a crear una nueva cuenta de almacenamiento que estará dedicado tooKey almacén registros.</span><span class="sxs-lookup"><span data-stu-id="372cf-140">Although you can use an existing storage account for your logs, we'll create a new storage account that will be dedicated tooKey Vault logs.</span></span> <span data-ttu-id="372cf-141">Por comodidad para cuando se tiene toospecify esto más adelante, se podrá almacenar detalles de hello en una variable denominada **sa**.</span><span class="sxs-lookup"><span data-stu-id="372cf-141">For convenience for when we have toospecify this later, we'll store hello details into a variable named **sa**.</span></span>

<span data-ttu-id="372cf-142">Para mayor facilidad de administración, vamos a usar Hola el mismo grupo de recursos como Hola uno que contiene el almacén de claves.</span><span class="sxs-lookup"><span data-stu-id="372cf-142">For additional ease of management, we'll also use hello same resource group as hello one that contains our key vault.</span></span> <span data-ttu-id="372cf-143">De hello [tutorial de introducción](key-vault-get-started.md), este grupo de recursos se denomina **ContosoResourceGroup** y seguiremos ubicación de Asia oriental toouse Hola.</span><span class="sxs-lookup"><span data-stu-id="372cf-143">From hello [getting started tutorial](key-vault-get-started.md), this resource group is named **ContosoResourceGroup** and we'll continue toouse hello East Asia location.</span></span> <span data-ttu-id="372cf-144">Sustituya estos valores para los suyos propios, según corresponda:</span><span class="sxs-lookup"><span data-stu-id="372cf-144">Substitute these values for your own, as applicable:</span></span>

    $sa = New-AzureRmStorageAccount -ResourceGroupName ContosoResourceGroup -Name contosokeyvaultlogs -Type Standard_LRS -Location 'East Asia'


> [!NOTE]
> <span data-ttu-id="372cf-145">Si decide toouse una cuenta de almacenamiento existente, debe usar Hola misma suscripción como el almacén de claves y deben utilizar modelo de implementación del Administrador de recursos de hello, en lugar de modelo de implementación de hello clásico.</span><span class="sxs-lookup"><span data-stu-id="372cf-145">If you decide toouse an existing storage account, it must use hello same subscription as your key vault and it must use hello Resource Manager deployment model, rather than hello Classic deployment model.</span></span>
>
>

## <span data-ttu-id="372cf-146"><a id="identify"></a>Identificar el almacén de claves de Hola para sus registros de</span><span class="sxs-lookup"><span data-stu-id="372cf-146"><a id="identify"></a>Identify hello key vault for your logs</span></span>
<span data-ttu-id="372cf-147">En nuestro Ver tutorial introductorio, era el nombre de almacén de claves **ContosoKeyVault**, por lo que vamos a seguir toouse que asigne un nombre y almacenar los detalles de hello en una variable denominada **kv**:</span><span class="sxs-lookup"><span data-stu-id="372cf-147">In our getting started tutorial, our key vault name was **ContosoKeyVault**, so we'll continue toouse that name and store hello details into a variable named **kv**:</span></span>

    $kv = Get-AzureRmKeyVault -VaultName 'ContosoKeyVault'


## <span data-ttu-id="372cf-148"><a id="enable"></a>Habilitación del registro</span><span class="sxs-lookup"><span data-stu-id="372cf-148"><a id="enable"></a>Enable logging</span></span>
<span data-ttu-id="372cf-149">tooenable registro para el almacén de claves, vamos a usar el cmdlet de hello AzureRmDiagnosticSetting conjunto, junto con las variables de hello creado para la nueva cuenta de almacenamiento y el almacén de claves.</span><span class="sxs-lookup"><span data-stu-id="372cf-149">tooenable logging for Key Vault, we'll use hello Set-AzureRmDiagnosticSetting cmdlet, together with hello variables we created for our new storage account and our key vault.</span></span> <span data-ttu-id="372cf-150">También programaremos hello **-habilitado** marca demasiado**$true** y establezca Hola categoría tooAuditEvent (Hola única categoría para el registro de almacén de claves),:</span><span class="sxs-lookup"><span data-stu-id="372cf-150">We'll also set hello **-Enabled** flag too**$true** and set hello category tooAuditEvent (hello only category for Key Vault logging), :</span></span>

    Set-AzureRmDiagnosticSetting -ResourceId $kv.ResourceId -StorageAccountId $sa.Id -Enabled $true -Categories AuditEvent

<span data-ttu-id="372cf-151">salida de Hello para esto incluye:</span><span class="sxs-lookup"><span data-stu-id="372cf-151">hello output for this includes:</span></span>

    StorageAccountId   : /subscriptions/<subscription-GUID>/resourceGroups/ContosoResourceGroup/providers/Microsoft.Storage/storageAccounts/ContosoKeyVaultLogs
    ServiceBusRuleId   :
    StorageAccountName :
        Logs
        Enabled           : True
        Category          : AuditEvent
        RetentionPolicy
        Enabled : False
        Days    : 0


<span data-ttu-id="372cf-152">Esto confirma que ahora está habilitado el registro para el almacén de claves, guardar la cuenta de almacenamiento de información tooyour.</span><span class="sxs-lookup"><span data-stu-id="372cf-152">This confirms that logging is now enabled for your key vault, saving information tooyour storage account.</span></span>

<span data-ttu-id="372cf-153">Opcionalmente también se puede establecer una directiva de retención para los registros, de forma que los registros más antiguos se eliminen automáticamente.</span><span class="sxs-lookup"><span data-stu-id="372cf-153">Optionally you can also set retention policy for your logs such that older logs will be automatically deleted.</span></span> <span data-ttu-id="372cf-154">Por ejemplo, establecer la directiva de retención con **- RetentionEnabled** marca demasiado**$true** y establecer **- RetentionInDays** parámetro demasiado**90** para que los registros de más de 90 días se eliminarán automáticamente.</span><span class="sxs-lookup"><span data-stu-id="372cf-154">For example, set retention policy using **-RetentionEnabled** flag too**$true** and set **-RetentionInDays** parameter too**90** so that logs older than 90 days will be automatically deleted.</span></span>

    Set-AzureRmDiagnosticSetting -ResourceId $kv.ResourceId -StorageAccountId $sa.Id -Enabled $true -Categories AuditEvent -RetentionEnabled $true -RetentionInDays 90

<span data-ttu-id="372cf-155">Qué se registra:</span><span class="sxs-lookup"><span data-stu-id="372cf-155">What's logged:</span></span>

* <span data-ttu-id="372cf-156">Se registran todas las solicitudes de API de REST autenticadas, incluidas las solicitudes con error debido a permisos de acceso, errores del sistema o solicitudes incorrectas.</span><span class="sxs-lookup"><span data-stu-id="372cf-156">All authenticated REST API requests are logged, which includes failed requests as a result of access permissions, system errors or bad requests.</span></span>
* <span data-ttu-id="372cf-157">Operaciones de clave de hello del almacén de sí mismo, que incluye la creación, eliminación, directivas de acceso del almacén de claves de configuración, y actualizar los atributos del almacén de claves como etiquetas.</span><span class="sxs-lookup"><span data-stu-id="372cf-157">Operations on hello key vault itself, which includes creation, deletion, setting key vault access policies, and updating key vault attributes such as tags.</span></span>
* <span data-ttu-id="372cf-158">Operaciones en claves y secretos en el almacén de claves de hello, que incluye crear, modificar o eliminar estas claves o secretos; operaciones como inicio de sesión, compruebe, cifrar, descifrar, ajustar y unwrap claves, obtener secretos, enumeración de claves y secretos y sus versiones.</span><span class="sxs-lookup"><span data-stu-id="372cf-158">Operations on keys and secrets in hello key vault, which includes creating, modifying, or deleting these keys or secrets; operations such as sign, verify, encrypt, decrypt, wrap and unwrap keys, get secrets, list keys and secrets and their versions.</span></span>
* <span data-ttu-id="372cf-159">Solicitudes no autenticadas que dan como resultado una respuesta 401.</span><span class="sxs-lookup"><span data-stu-id="372cf-159">Unauthenticated requests that result in a 401 response.</span></span> <span data-ttu-id="372cf-160">Por ejemplo, las solicitudes que no tienen un token de portador, cuyo formato es incorrecto o está caducado o tienen un token no válido.</span><span class="sxs-lookup"><span data-stu-id="372cf-160">For example, requests that do not have a bearer token, or are malformed or expired, or have an invalid token.</span></span>  

## <span data-ttu-id="372cf-161"><a id="access"></a>Acceso a los registros</span><span class="sxs-lookup"><span data-stu-id="372cf-161"><a id="access"></a>Access your logs</span></span>
<span data-ttu-id="372cf-162">Registros de almacén de claves se almacenan en hello **auditevent de registros de visión** contenedor en la cuenta de almacenamiento de hello proporcionada.</span><span class="sxs-lookup"><span data-stu-id="372cf-162">Key vault logs are stored in hello **insights-logs-auditevent** container in hello storage account you provided.</span></span> <span data-ttu-id="372cf-163">toolist todos los blobs de hello en este contenedor, escriba:</span><span class="sxs-lookup"><span data-stu-id="372cf-163">toolist all hello blobs in this container, type:</span></span>

<span data-ttu-id="372cf-164">En primer lugar, cree una variable de nombre de contenedor de Hola.</span><span class="sxs-lookup"><span data-stu-id="372cf-164">First, create a variable for hello container name.</span></span> <span data-ttu-id="372cf-165">Esto se usará en resto Hola de hello recorra.</span><span class="sxs-lookup"><span data-stu-id="372cf-165">This will be used throughout hello rest of hello walk through.</span></span>

    $container = 'insights-logs-auditevent'

<span data-ttu-id="372cf-166">toolist todos los blobs de hello en este contenedor, escriba:</span><span class="sxs-lookup"><span data-stu-id="372cf-166">toolist all hello blobs in this container, type:</span></span>

    Get-AzureStorageBlob -Container $container -Context $sa.Context
<span data-ttu-id="372cf-167">salida de Hello será toothis algo similar:</span><span class="sxs-lookup"><span data-stu-id="372cf-167">hello output will look something similar toothis:</span></span>

<span data-ttu-id="372cf-168">**Identificador URI de contenedor: https://contosokeyvaultlogs.blob.core.windows.net/insights-logs-auditevent**</span><span class="sxs-lookup"><span data-stu-id="372cf-168">**Container Uri: https://contosokeyvaultlogs.blob.core.windows.net/insights-logs-auditevent**</span></span>

<span data-ttu-id="372cf-169">**Name**</span><span class="sxs-lookup"><span data-stu-id="372cf-169">**Name**</span></span>

- - -
<span data-ttu-id="372cf-170">**resourceId=/SUBSCRIPTIONS/361DA5D4-A47A-4C79-AFDD-XXXXXXXXXXXX/RESOURCEGROUPS/CONTOSORESOURCEGROUP/PROVIDERS/MICROSOFT.KEYVAULT/VAULTS/CONTOSOKEYVAULT/y=2016/m=01/d=05/h=01/m=00/PT1H.json**</span><span class="sxs-lookup"><span data-stu-id="372cf-170">**resourceId=/SUBSCRIPTIONS/361DA5D4-A47A-4C79-AFDD-XXXXXXXXXXXX/RESOURCEGROUPS/CONTOSORESOURCEGROUP/PROVIDERS/MICROSOFT.KEYVAULT/VAULTS/CONTOSOKEYVAULT/y=2016/m=01/d=05/h=01/m=00/PT1H.json**</span></span>

<span data-ttu-id="372cf-171">**resourceId=/SUBSCRIPTIONS/361DA5D4-A47A-4C79-AFDD-XXXXXXXXXXXX/RESOURCEGROUPS/CONTOSORESOURCEGROUP/PROVIDERS/MICROSOFT.KEYVAULT/VAULTS/CONTOSOKEYVAULT/y=2016/m=01/d=04/h=02/m=00/PT1H.json**</span><span class="sxs-lookup"><span data-stu-id="372cf-171">**resourceId=/SUBSCRIPTIONS/361DA5D4-A47A-4C79-AFDD-XXXXXXXXXXXX/RESOURCEGROUPS/CONTOSORESOURCEGROUP/PROVIDERS/MICROSOFT.KEYVAULT/VAULTS/CONTOSOKEYVAULT/y=2016/m=01/d=04/h=02/m=00/PT1H.json**</span></span>

<span data-ttu-id="372cf-172">**resourceId=/SUBSCRIPTIONS/361DA5D4-A47A-4C79-AFDD-XXXXXXXXXXXX/RESOURCEGROUPS/CONTOSORESOURCEGROUP/PROVIDERS/MICROSOFT.KEYVAULT/VAULTS/CONTOSOKEYVAULT/y=2016/m=01/d=04/h=18/m=00/PT1H.json****</span><span class="sxs-lookup"><span data-stu-id="372cf-172">**resourceId=/SUBSCRIPTIONS/361DA5D4-A47A-4C79-AFDD-XXXXXXXXXXXX/RESOURCEGROUPS/CONTOSORESOURCEGROUP/PROVIDERS/MICROSOFT.KEYVAULT/VAULTS/CONTOSOKEYVAULT/y=2016/m=01/d=04/h=18/m=00/PT1H.json****</span></span>

<span data-ttu-id="372cf-173">Como puede ver este resultado, blobs Hola siguen una convención de nomenclatura: **resourceId =<ARM resource ID>/y =<year>/m =<month>/d =<day of month>/h =<hour>/m =<minute>/filename.json**</span><span class="sxs-lookup"><span data-stu-id="372cf-173">As you can see from this output, hello blobs follow a naming convention: **resourceId=<ARM resource ID>/y=<year>/m=<month>/d=<day of month>/h=<hour>/m=<minute>/filename.json**</span></span>

<span data-ttu-id="372cf-174">los valores de fecha y hora de Hello usan UTC.</span><span class="sxs-lookup"><span data-stu-id="372cf-174">hello date and time values use UTC.</span></span>

<span data-ttu-id="372cf-175">Dado que hello misma cuenta de almacenamiento puede ser registros toocollect usado para varios recursos, hello Id. de recurso completo en nombre de blob de hello es tooaccess muy útil o blobs de hello solo descarga que necesita.</span><span class="sxs-lookup"><span data-stu-id="372cf-175">Because hello same storage account can be used toocollect logs for multiple resources, hello full resource ID in hello blob name is very useful tooaccess or download just hello blobs that you need.</span></span> <span data-ttu-id="372cf-176">Pero antes de hacerlo, primero lo veremos cómo toodownload Hola a todos los blobs.</span><span class="sxs-lookup"><span data-stu-id="372cf-176">But before we do that, we'll first cover how toodownload all hello blobs.</span></span>

<span data-ttu-id="372cf-177">En primer lugar, cree un Hola de toodownload carpeta blobs.</span><span class="sxs-lookup"><span data-stu-id="372cf-177">First, create a folder toodownload hello blobs.</span></span> <span data-ttu-id="372cf-178">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="372cf-178">For example:</span></span>

    New-Item -Path 'C:\Users\username\ContosoKeyVaultLogs' -ItemType Directory -Force

<span data-ttu-id="372cf-179">A continuación, obtenga una lista de todos los blobs:</span><span class="sxs-lookup"><span data-stu-id="372cf-179">Then get a list of all blobs:</span></span>  

    $blobs = Get-AzureStorageBlob -Container $container -Context $sa.Context

<span data-ttu-id="372cf-180">Canalice esta lista a través de blobs de hello toodownload 'Get-AzureStorageBlobContent' en la carpeta de destino:</span><span class="sxs-lookup"><span data-stu-id="372cf-180">Pipe this list through 'Get-AzureStorageBlobContent' toodownload hello blobs into our destination folder:</span></span>

    $blobs | Get-AzureStorageBlobContent -Destination 'C:\Users\username\ContosoKeyVaultLogs'

<span data-ttu-id="372cf-181">Al ejecutar este comando segundo, Hola ** / ** delimitador en nombres de blob de hello creará una estructura de carpeta completa en la carpeta de destino de hello, y esta estructura de blobs de hello toodownload y almacén usados como archivos.</span><span class="sxs-lookup"><span data-stu-id="372cf-181">When you run this second command, hello **/** delimiter in hello blob names create a full folder structure under hello destination folder, and this structure will be used toodownload and store hello blobs as files.</span></span>

<span data-ttu-id="372cf-182">tooselectively descargar blobs, usar caracteres comodín.</span><span class="sxs-lookup"><span data-stu-id="372cf-182">tooselectively download blobs, use wildcards.</span></span> <span data-ttu-id="372cf-183">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="372cf-183">For example:</span></span>

* <span data-ttu-id="372cf-184">Si tiene varios almacenes de claves y desea que los registros de toodownload para un solo almacén de claves, denominado CONTOSOKEYVAULT3:</span><span class="sxs-lookup"><span data-stu-id="372cf-184">If you have multiple key vaults and want toodownload logs for just one key vault, named CONTOSOKEYVAULT3:</span></span>

        Get-AzureStorageBlob -Container $container -Context $sa.Context -Blob '*/VAULTS/CONTOSOKEYVAULT3
* <span data-ttu-id="372cf-185">Si tiene varios grupos de recursos y desea registros toodownload para un solo grupo de recursos, use `-Blob '*/RESOURCEGROUPS/<resource group name>/*'`:</span><span class="sxs-lookup"><span data-stu-id="372cf-185">If you have multiple resource groups and want toodownload logs for just one resource group, use `-Blob '*/RESOURCEGROUPS/<resource group name>/*'`:</span></span>

        Get-AzureStorageBlob -Container $container -Context $sa.Context -Blob '*/RESOURCEGROUPS/CONTOSORESOURCEGROUP3/*'
* <span data-ttu-id="372cf-186">Si desea toodownload todos los registros de hello mes de Hola de enero de 2016, use `-Blob '*/year=2016/m=01/*'`:</span><span class="sxs-lookup"><span data-stu-id="372cf-186">If you want toodownload all hello logs for hello month of January 2016, use `-Blob '*/year=2016/m=01/*'`:</span></span>

        Get-AzureStorageBlob -Container $container -Context $sa.Context -Blob '*/year=2016/m=01/*'

<span data-ttu-id="372cf-187">Está ahora listo toostart examinando Novedades en hello registra.</span><span class="sxs-lookup"><span data-stu-id="372cf-187">You're now ready toostart looking at what's in hello logs.</span></span> <span data-ttu-id="372cf-188">Pero antes de pasar al que, dos más parámetros de Get-AzureRmDiagnosticSetting, que puede ser necesario tooknow:</span><span class="sxs-lookup"><span data-stu-id="372cf-188">But before moving onto that, two more parameters for Get-AzureRmDiagnosticSetting that you might need tooknow:</span></span>

* <span data-ttu-id="372cf-189">estado de hello tooquery de configuración de diagnóstico para el recurso de almacén de claves:`Get-AzureRmDiagnosticSetting -ResourceId $kv.ResourceId`</span><span class="sxs-lookup"><span data-stu-id="372cf-189">tooquery hello  status of diagnostic settings for your key vault resource: `Get-AzureRmDiagnosticSetting -ResourceId $kv.ResourceId`</span></span>
* <span data-ttu-id="372cf-190">registro de toodisable para el recurso de almacén de claves:`Set-AzureRmDiagnosticSetting -ResourceId $kv.ResourceId -StorageAccountId $sa.Id -Enabled $false -Categories AuditEvent`</span><span class="sxs-lookup"><span data-stu-id="372cf-190">toodisable logging for your key vault resource: `Set-AzureRmDiagnosticSetting -ResourceId $kv.ResourceId -StorageAccountId $sa.Id -Enabled $false -Categories AuditEvent`</span></span>

## <span data-ttu-id="372cf-191"><a id="interpret"></a>Interpretación de los registros de Key Vault</span><span class="sxs-lookup"><span data-stu-id="372cf-191"><a id="interpret"></a>Interpret your Key Vault logs</span></span>
<span data-ttu-id="372cf-192">Los blobs individuales se almacenan como texto, con formato de blob JSON.</span><span class="sxs-lookup"><span data-stu-id="372cf-192">Individual blobs are stored as text, formatted as a JSON blob.</span></span> <span data-ttu-id="372cf-193">A continuación se muestra una entrada del registro de ejemplo cuando se ejecuta `Get-AzureRmKeyVault -VaultName 'contosokeyvault'`:</span><span class="sxs-lookup"><span data-stu-id="372cf-193">This is an example log entry from running `Get-AzureRmKeyVault -VaultName 'contosokeyvault'`:</span></span>

    {
        "records":
        [
            {
                "time": "2016-01-05T01:32:01.2691226Z",
                "resourceId": "/SUBSCRIPTIONS/361DA5D4-A47A-4C79-AFDD-XXXXXXXXXXXX/RESOURCEGROUPS/CONTOSOGROUP/PROVIDERS/MICROSOFT.KEYVAULT/VAULTS/CONTOSOKEYVAULT",
                "operationName": "VaultGet",
                "operationVersion": "2015-06-01",
                "category": "AuditEvent",
                "resultType": "Success",
                "resultSignature": "OK",
                "resultDescription": "",
                "durationMs": "78",
                "callerIpAddress": "104.40.82.76",
                "correlationId": "",
                "identity": {"claim":{"http://schemas.microsoft.com/identity/claims/objectidentifier":"d9da5048-2737-4770-bd64-XXXXXXXXXXXX","http://schemas.xmlsoap.org/ws/2005/05/identity/claims/upn":"live.com#username@outlook.com","appid":"1950a258-227b-4e31-a9cf-XXXXXXXXXXXX"}},
                "properties": {"clientInfo":"azure-resource-manager/2.0","requestUri":"https://control-prod-wus.vaultcore.azure.net/subscriptions/361da5d4-a47a-4c79-afdd-XXXXXXXXXXXX/resourcegroups/contosoresourcegroup/providers/Microsoft.KeyVault/vaults/contosokeyvault?api-version=2015-06-01","id":"https://contosokeyvault.vault.azure.net/","httpStatusCode":200}
            }
        ]
    }


<span data-ttu-id="372cf-194">Hello tabla siguiente enumeran los nombres de campo de Hola y descripciones.</span><span class="sxs-lookup"><span data-stu-id="372cf-194">hello following table lists hello field names and descriptions.</span></span>

| <span data-ttu-id="372cf-195">Nombre del campo</span><span class="sxs-lookup"><span data-stu-id="372cf-195">Field name</span></span> | <span data-ttu-id="372cf-196">Description</span><span class="sxs-lookup"><span data-stu-id="372cf-196">Description</span></span> |
| --- | --- |
| <span data-ttu-id="372cf-197">Twitter en tiempo</span><span class="sxs-lookup"><span data-stu-id="372cf-197">time</span></span> |<span data-ttu-id="372cf-198">Fecha y hora (UTC).</span><span class="sxs-lookup"><span data-stu-id="372cf-198">Date and time (UTC).</span></span> |
| <span data-ttu-id="372cf-199">resourceId</span><span class="sxs-lookup"><span data-stu-id="372cf-199">resourceId</span></span> |<span data-ttu-id="372cf-200">Identificador de recursos del Administrador de recursos de Azure</span><span class="sxs-lookup"><span data-stu-id="372cf-200">Azure Resource Manager Resource ID.</span></span> <span data-ttu-id="372cf-201">Para los registros de almacén de claves, siempre es identificador de recurso de almacén de claves de Hola.</span><span class="sxs-lookup"><span data-stu-id="372cf-201">For Key Vault logs, this is always hello  Key Vault resource ID.</span></span> |
| <span data-ttu-id="372cf-202">operationName</span><span class="sxs-lookup"><span data-stu-id="372cf-202">operationName</span></span> |<span data-ttu-id="372cf-203">Nombre de operación de hello, tal como se describe en la tabla siguiente Hola.</span><span class="sxs-lookup"><span data-stu-id="372cf-203">Name of hello operation, as documented in hello next table.</span></span> |
| <span data-ttu-id="372cf-204">operationVersion</span><span class="sxs-lookup"><span data-stu-id="372cf-204">operationVersion</span></span> |<span data-ttu-id="372cf-205">Se trata de una versión de API de REST de hello solicitada por el cliente de Hola.</span><span class="sxs-lookup"><span data-stu-id="372cf-205">This is hello REST API version requested by hello client.</span></span> |
| <span data-ttu-id="372cf-206">categoría</span><span class="sxs-lookup"><span data-stu-id="372cf-206">category</span></span> |<span data-ttu-id="372cf-207">Para los registros de almacén de claves, AuditEvent es valor único, que está disponible de Hola.</span><span class="sxs-lookup"><span data-stu-id="372cf-207">For Key Vault logs, AuditEvent is hello single, available value.</span></span> |
| <span data-ttu-id="372cf-208">resultType</span><span class="sxs-lookup"><span data-stu-id="372cf-208">resultType</span></span> |<span data-ttu-id="372cf-209">Resultado de la solicitud de API de REST.</span><span class="sxs-lookup"><span data-stu-id="372cf-209">Result of REST API request.</span></span> |
| <span data-ttu-id="372cf-210">resultSignature</span><span class="sxs-lookup"><span data-stu-id="372cf-210">resultSignature</span></span> |<span data-ttu-id="372cf-211">Estado de HTTP</span><span class="sxs-lookup"><span data-stu-id="372cf-211">HTTP status.</span></span> |
| <span data-ttu-id="372cf-212">resultDescription</span><span class="sxs-lookup"><span data-stu-id="372cf-212">resultDescription</span></span> |<span data-ttu-id="372cf-213">Descripción adicional sobre el resultado de hello, cuando esté disponible.</span><span class="sxs-lookup"><span data-stu-id="372cf-213">Additional description about hello result, when available.</span></span> |
| <span data-ttu-id="372cf-214">durationMs</span><span class="sxs-lookup"><span data-stu-id="372cf-214">durationMs</span></span> |<span data-ttu-id="372cf-215">Duración de la solicitud de API de REST de tooservice hello, en milisegundos.</span><span class="sxs-lookup"><span data-stu-id="372cf-215">Time it took tooservice hello REST API request, in milliseconds.</span></span> <span data-ttu-id="372cf-216">Esto no incluye latencia de red de hello, para tiempo Hola que medir en el lado del cliente de hello podría no coincidir con este momento.</span><span class="sxs-lookup"><span data-stu-id="372cf-216">This does not include hello network latency, so hello time you measure on hello client side might not match this time.</span></span> |
| <span data-ttu-id="372cf-217">callerIpAddress</span><span class="sxs-lookup"><span data-stu-id="372cf-217">callerIpAddress</span></span> |<span data-ttu-id="372cf-218">Dirección IP del cliente de Hola que realizó la solicitud de saludo.</span><span class="sxs-lookup"><span data-stu-id="372cf-218">IP address of hello client who made hello request.</span></span> |
| <span data-ttu-id="372cf-219">correlationId</span><span class="sxs-lookup"><span data-stu-id="372cf-219">correlationId</span></span> |<span data-ttu-id="372cf-220">Un GUID opcional que Hola cliente puede pasar toocorrelate registros de cliente con los registros del lado del servicio (el almacén de claves).</span><span class="sxs-lookup"><span data-stu-id="372cf-220">An optional GUID that hello client can pass toocorrelate client-side logs with service-side (Key Vault) logs.</span></span> |
| <span data-ttu-id="372cf-221">identidad</span><span class="sxs-lookup"><span data-stu-id="372cf-221">identity</span></span> |<span data-ttu-id="372cf-222">Identidad del token de Hola que se presenta al realizar la solicitud de API de REST de Hola.</span><span class="sxs-lookup"><span data-stu-id="372cf-222">Identity from hello token that was presented when making hello REST API request.</span></span> <span data-ttu-id="372cf-223">Suele ser un "usuario", una "entidad de servicio" o una combinación de "usuario + appId" como en el caso de una solicitud procedente de un cmdlet de Azure PowerShell.</span><span class="sxs-lookup"><span data-stu-id="372cf-223">This is usually a "user", a "service principal" or a combination "user+appId" as in case of a request resulting from a Azure PowerShell cmdlet.</span></span> |
| <span data-ttu-id="372cf-224">propiedades</span><span class="sxs-lookup"><span data-stu-id="372cf-224">properties</span></span> |<span data-ttu-id="372cf-225">Este campo contendrá información diferente en función de operación de hello (operationName).</span><span class="sxs-lookup"><span data-stu-id="372cf-225">This field will contain different information based on hello operation (operationName).</span></span> <span data-ttu-id="372cf-226">En la mayoría de los casos, contiene información del cliente (Hola useragent cadena pasado por cliente hello), Hola exacta URI de solicitud de API de REST y código de estado HTTP.</span><span class="sxs-lookup"><span data-stu-id="372cf-226">In most cases, contains client information (hello useragent string passed by hello client), hello exact REST API request URI, and HTTP status code.</span></span> <span data-ttu-id="372cf-227">Además, cuando un objeto se devuelve como resultado de una solicitud (por ejemplo, KeyCreate o VaultGet) también contendrá Hola URI de clave (como "id"), el URI de almacén o el URI de secreto.</span><span class="sxs-lookup"><span data-stu-id="372cf-227">In addition, when an object is returned as a result of a request (for example, KeyCreate or VaultGet) it will also contain hello Key URI (as "id"), Vault URI, or Secret URI.</span></span> |

<span data-ttu-id="372cf-228">Hola **operationName** valores de campo están en formato de ObjectVerb.</span><span class="sxs-lookup"><span data-stu-id="372cf-228">hello **operationName** field values are in ObjectVerb format.</span></span> <span data-ttu-id="372cf-229">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="372cf-229">For example:</span></span>

* <span data-ttu-id="372cf-230">Todas las operaciones de almacén de claves tienen hello ' almacén`<action>`' dar formato, como `VaultGet` y `VaultCreate`.</span><span class="sxs-lookup"><span data-stu-id="372cf-230">All key vault operations have hello 'Vault`<action>`' format, such as `VaultGet` and `VaultCreate`.</span></span>
* <span data-ttu-id="372cf-231">Todas las operaciones de clave tienen hello ' clave`<action>`' dar formato, como `KeySign` y `KeyList`.</span><span class="sxs-lookup"><span data-stu-id="372cf-231">All  key operations have hello 'Key`<action>`' format, such as `KeySign` and `KeyList`.</span></span>
* <span data-ttu-id="372cf-232">Todas las operaciones de secreto tener hello ' secreto`<action>`' dar formato, como `SecretGet` y `SecretListVersions`.</span><span class="sxs-lookup"><span data-stu-id="372cf-232">All secret operations have hello 'Secret`<action>`' format, such as `SecretGet` and `SecretListVersions`.</span></span>

<span data-ttu-id="372cf-233">Hello en la tabla siguiente enumera operationName Hola y el comando de API de REST correspondiente.</span><span class="sxs-lookup"><span data-stu-id="372cf-233">hello following table lists hello operationName and corresponding REST API command.</span></span>

| <span data-ttu-id="372cf-234">operationName</span><span class="sxs-lookup"><span data-stu-id="372cf-234">operationName</span></span> | <span data-ttu-id="372cf-235">Comando de API de REST</span><span class="sxs-lookup"><span data-stu-id="372cf-235">REST API Command</span></span> |
| --- | --- |
| <span data-ttu-id="372cf-236">Autenticación</span><span class="sxs-lookup"><span data-stu-id="372cf-236">Authentication</span></span> |<span data-ttu-id="372cf-237">Mediante un punto de conexión de Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="372cf-237">Via Azure Active Directory endpoint</span></span> |
| <span data-ttu-id="372cf-238">VaultGet</span><span class="sxs-lookup"><span data-stu-id="372cf-238">VaultGet</span></span> |[<span data-ttu-id="372cf-239">Obtener información acerca de un almacén de claves</span><span class="sxs-lookup"><span data-stu-id="372cf-239">Get information about a key vault</span></span>](https://msdn.microsoft.com/en-us/library/azure/mt620026.aspx) |
| <span data-ttu-id="372cf-240">VaultPut</span><span class="sxs-lookup"><span data-stu-id="372cf-240">VaultPut</span></span> |[<span data-ttu-id="372cf-241">Crear o actualizar un almacén de claves</span><span class="sxs-lookup"><span data-stu-id="372cf-241">Create or update a key vault</span></span>](https://msdn.microsoft.com/en-us/library/azure/mt620025.aspx) |
| <span data-ttu-id="372cf-242">VaultDelete</span><span class="sxs-lookup"><span data-stu-id="372cf-242">VaultDelete</span></span> |[<span data-ttu-id="372cf-243">Eliminar un almacén de claves</span><span class="sxs-lookup"><span data-stu-id="372cf-243">Delete a key vault</span></span>](https://msdn.microsoft.com/en-us/library/azure/mt620022.aspx) |
| <span data-ttu-id="372cf-244">VaultPatch</span><span class="sxs-lookup"><span data-stu-id="372cf-244">VaultPatch</span></span> |[<span data-ttu-id="372cf-245">Crear o actualizar un almacén de claves</span><span class="sxs-lookup"><span data-stu-id="372cf-245">Update a key vault</span></span>](https://msdn.microsoft.com/library/azure/mt620025.aspx) |
| <span data-ttu-id="372cf-246">VaultList</span><span class="sxs-lookup"><span data-stu-id="372cf-246">VaultList</span></span> |[<span data-ttu-id="372cf-247">Lista de todos los almacenes de claves en un grupo de recursos</span><span class="sxs-lookup"><span data-stu-id="372cf-247">List all key vaults in a resource group</span></span>](https://msdn.microsoft.com/en-us/library/azure/mt620027.aspx) |
| <span data-ttu-id="372cf-248">KeyCreate</span><span class="sxs-lookup"><span data-stu-id="372cf-248">KeyCreate</span></span> |[<span data-ttu-id="372cf-249">Crear una clave</span><span class="sxs-lookup"><span data-stu-id="372cf-249">Create a key</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn903634.aspx) |
| <span data-ttu-id="372cf-250">KeyGet</span><span class="sxs-lookup"><span data-stu-id="372cf-250">KeyGet</span></span> |[<span data-ttu-id="372cf-251">Obtener información sobre una clave</span><span class="sxs-lookup"><span data-stu-id="372cf-251">Get information about a key</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn878080.aspx) |
| <span data-ttu-id="372cf-252">KeyImport</span><span class="sxs-lookup"><span data-stu-id="372cf-252">KeyImport</span></span> |[<span data-ttu-id="372cf-253">Importar una clave a un almacén</span><span class="sxs-lookup"><span data-stu-id="372cf-253">Import a key into a vault</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn903626.aspx) |
| <span data-ttu-id="372cf-254">KeyBackup</span><span class="sxs-lookup"><span data-stu-id="372cf-254">KeyBackup</span></span> |<span data-ttu-id="372cf-255">[Realizar una copia de seguridad de una clave](https://msdn.microsoft.com/en-us/library/azure/dn878058.aspx).</span><span class="sxs-lookup"><span data-stu-id="372cf-255">[Backup a key](https://msdn.microsoft.com/en-us/library/azure/dn878058.aspx).</span></span> |
| <span data-ttu-id="372cf-256">KeyDelete</span><span class="sxs-lookup"><span data-stu-id="372cf-256">KeyDelete</span></span> |[<span data-ttu-id="372cf-257">Eliminar una clave</span><span class="sxs-lookup"><span data-stu-id="372cf-257">Delete a key</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn903611.aspx) |
| <span data-ttu-id="372cf-258">KeyRestore</span><span class="sxs-lookup"><span data-stu-id="372cf-258">KeyRestore</span></span> |[<span data-ttu-id="372cf-259">Restaurar una clave</span><span class="sxs-lookup"><span data-stu-id="372cf-259">Restore a key</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn878106.aspx) |
| <span data-ttu-id="372cf-260">KeySign</span><span class="sxs-lookup"><span data-stu-id="372cf-260">KeySign</span></span> |[<span data-ttu-id="372cf-261">Firmar con una clave</span><span class="sxs-lookup"><span data-stu-id="372cf-261">Sign with a key</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn878096.aspx) |
| <span data-ttu-id="372cf-262">KeyVerify</span><span class="sxs-lookup"><span data-stu-id="372cf-262">KeyVerify</span></span> |[<span data-ttu-id="372cf-263">Comprobar con una clave</span><span class="sxs-lookup"><span data-stu-id="372cf-263">Verify with a key</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn878082.aspx) |
| <span data-ttu-id="372cf-264">KeyWrap</span><span class="sxs-lookup"><span data-stu-id="372cf-264">KeyWrap</span></span> |[<span data-ttu-id="372cf-265">Encapsular una clave</span><span class="sxs-lookup"><span data-stu-id="372cf-265">Wrap a key</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn878066.aspx) |
| <span data-ttu-id="372cf-266">KeyUnwrap</span><span class="sxs-lookup"><span data-stu-id="372cf-266">KeyUnwrap</span></span> |[<span data-ttu-id="372cf-267">Desencapsular una clave</span><span class="sxs-lookup"><span data-stu-id="372cf-267">Unwrap a key</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn878079.aspx) |
| <span data-ttu-id="372cf-268">KeyEncrypt</span><span class="sxs-lookup"><span data-stu-id="372cf-268">KeyEncrypt</span></span> |[<span data-ttu-id="372cf-269">Cifrar con una clave</span><span class="sxs-lookup"><span data-stu-id="372cf-269">Encrypt with a key</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn878060.aspx) |
| <span data-ttu-id="372cf-270">KeyDecrypt</span><span class="sxs-lookup"><span data-stu-id="372cf-270">KeyDecrypt</span></span> |[<span data-ttu-id="372cf-271">Descifrar con una clave</span><span class="sxs-lookup"><span data-stu-id="372cf-271">Decrypt with a key</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn878097.aspx) |
| <span data-ttu-id="372cf-272">KeyUpdate</span><span class="sxs-lookup"><span data-stu-id="372cf-272">KeyUpdate</span></span> |[<span data-ttu-id="372cf-273">Actualizar una clave</span><span class="sxs-lookup"><span data-stu-id="372cf-273">Update a key</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn903616.aspx) |
| <span data-ttu-id="372cf-274">KeyList</span><span class="sxs-lookup"><span data-stu-id="372cf-274">KeyList</span></span> |[<span data-ttu-id="372cf-275">Enumeración de claves de hello en un almacén.</span><span class="sxs-lookup"><span data-stu-id="372cf-275">List hello keys in a vault</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn903629.aspx) |
| <span data-ttu-id="372cf-276">KeyListVersions</span><span class="sxs-lookup"><span data-stu-id="372cf-276">KeyListVersions</span></span> |[<span data-ttu-id="372cf-277">Lista de versiones de Hola de una clave</span><span class="sxs-lookup"><span data-stu-id="372cf-277">List hello versions of a key</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn986822.aspx) |
| <span data-ttu-id="372cf-278">SecretSet</span><span class="sxs-lookup"><span data-stu-id="372cf-278">SecretSet</span></span> |[<span data-ttu-id="372cf-279">Crear un secreto</span><span class="sxs-lookup"><span data-stu-id="372cf-279">Create a secret</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn903618.aspx) |
| <span data-ttu-id="372cf-280">SecretGet</span><span class="sxs-lookup"><span data-stu-id="372cf-280">SecretGet</span></span> |[<span data-ttu-id="372cf-281">Obtener un secreto</span><span class="sxs-lookup"><span data-stu-id="372cf-281">Get secret</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn903633.aspx) |
| <span data-ttu-id="372cf-282">SecretUpdate</span><span class="sxs-lookup"><span data-stu-id="372cf-282">SecretUpdate</span></span> |[<span data-ttu-id="372cf-283">Actualizar un secreto</span><span class="sxs-lookup"><span data-stu-id="372cf-283">Update a secret</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn986818.aspx) |
| <span data-ttu-id="372cf-284">SecretDelete</span><span class="sxs-lookup"><span data-stu-id="372cf-284">SecretDelete</span></span> |[<span data-ttu-id="372cf-285">Eliminar un secreto</span><span class="sxs-lookup"><span data-stu-id="372cf-285">Delete a secret</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn903613.aspx) |
| <span data-ttu-id="372cf-286">SecretList</span><span class="sxs-lookup"><span data-stu-id="372cf-286">SecretList</span></span> |[<span data-ttu-id="372cf-287">Enumerar secretos en un almacén</span><span class="sxs-lookup"><span data-stu-id="372cf-287">List secrets in a vault</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn903614.aspx) |
| <span data-ttu-id="372cf-288">SecretListVersions</span><span class="sxs-lookup"><span data-stu-id="372cf-288">SecretListVersions</span></span> |[<span data-ttu-id="372cf-289">Enumerar versiones de un secreto</span><span class="sxs-lookup"><span data-stu-id="372cf-289">List versions of a secret</span></span>](https://msdn.microsoft.com/en-us/library/azure/dn986824.aspx) |

## <span data-ttu-id="372cf-290"><a id="loganalytics"></a>Uso de Log Analytics</span><span class="sxs-lookup"><span data-stu-id="372cf-290"><a id="loganalytics"></a>Use Log Analytics</span></span>

<span data-ttu-id="372cf-291">Puede usar soluciones de almacén de claves de Azure de hello en tooreview de análisis de registros que registra AuditEvent de almacén de claves de Azure.</span><span class="sxs-lookup"><span data-stu-id="372cf-291">You can use hello Azure Key Vault solution in Log Analytics tooreview Azure Key Vault AuditEvent logs.</span></span> <span data-ttu-id="372cf-292">Para obtener más información, incluido cómo tooset este proceso, consulte [solución de almacén de claves de Azure en análisis de registros](../log-analytics/log-analytics-azure-key-vault.md).</span><span class="sxs-lookup"><span data-stu-id="372cf-292">For more information, including how tooset this up, see [Azure Key Vault solution in Log Analytics](../log-analytics/log-analytics-azure-key-vault.md).</span></span> <span data-ttu-id="372cf-293">En este artículo también contiene instrucciones si necesita toomigrate desde la antigua solución de almacén de claves de Hola que se proporcionó durante la vista previa del análisis de registros de hello, donde los enrutan su tooan registros cuenta de almacenamiento de Azure en primer lugar y se configura tooread de análisis de registros a partir de ahí.</span><span class="sxs-lookup"><span data-stu-id="372cf-293">This article also contains instructions if you need toomigrate from hello old Key Vault solution that was offered during hello Log Analytics preview, where you first routed your logs tooan Azure Storage account and configured Log Analytics tooread from there.</span></span>

## <span data-ttu-id="372cf-294"><a id="next"></a>Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="372cf-294"><a id="next"></a>Next steps</span></span>
<span data-ttu-id="372cf-295">Para ver un tutorial que use Azure Key Vault en una aplicación web, consulte [Uso de Azure Key Vault desde una aplicación web](key-vault-use-from-web-application.md).</span><span class="sxs-lookup"><span data-stu-id="372cf-295">For a tutorial that uses Azure Key Vault in a web application, see [Use Azure Key Vault from a Web Application](key-vault-use-from-web-application.md).</span></span>

<span data-ttu-id="372cf-296">Para las referencias de programación, vea [Hola Guía del desarrollador de almacén de claves de Azure](key-vault-developers-guide.md).</span><span class="sxs-lookup"><span data-stu-id="372cf-296">For programming references, see [hello Azure Key Vault developer's guide](key-vault-developers-guide.md).</span></span>

<span data-ttu-id="372cf-297">Para obtener una lista de los cmdlets de Azure PowerShell 1.0 para Azure Key Vault, consulte [Azure Key Vault Cmdlets](/powershell/module/azurerm.keyvault/#key_vault)(Cmdlets de Azure Key Vault).</span><span class="sxs-lookup"><span data-stu-id="372cf-297">For a list of Azure PowerShell 1.0 cmdlets for Azure Key Vault, see [Azure Key Vault Cmdlets](/powershell/module/azurerm.keyvault/#key_vault).</span></span>

<span data-ttu-id="372cf-298">Para obtener un tutorial sobre la rotación de clave y el registro de auditoría al almacén de claves de Azure, consulte [cómo toosetup el almacén de claves con tooend final clave rotación y auditoría](key-vault-key-rotation-log-monitoring.md).</span><span class="sxs-lookup"><span data-stu-id="372cf-298">For a tutorial on key rotation and log auditing with Azure Key Vault, see [How toosetup Key Vault with end tooend key rotation and auditing](key-vault-key-rotation-log-monitoring.md).</span></span>
