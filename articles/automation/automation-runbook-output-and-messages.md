---
title: Salidas de runbook y mensajes en Azure Automation | Microsoft Docs
description: "Describe cómo crear y recuperar los mensajes de salida y error de los runbooks en Automatización de Azure."
services: automation
documentationcenter: 
author: mgoedtel
manager: jwhit
editor: tysonn
ms.assetid: 13a414f5-0e2c-4be2-9558-a3e3ec84b6b2
ms.service: automation
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 11/11/2016
ms.author: magoedte;bwren
ms.openlocfilehash: 6f01f97e38aa271034741c8a5e2f8057ab61fcd7
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 07/11/2017
---
# <a name="runbook-output-and-messages-in-azure-automation"></a><span data-ttu-id="32568-103">Salidas de runbook y mensajes en la Automatización de Azure</span><span class="sxs-lookup"><span data-stu-id="32568-103">Runbook output and messages in Azure Automation</span></span>
<span data-ttu-id="32568-104">La mayoría de los runbooks de Automatización de Azure generan alguna forma de salida, como el mensaje de error que verá el usuario o un objeto complejo que será consumido por otro flujo de trabajo.</span><span class="sxs-lookup"><span data-stu-id="32568-104">Most Azure Automation runbooks will have some form of output such as an error message to the user or a complex object intended to be consumed by another workflow.</span></span> <span data-ttu-id="32568-105">Windows PowerShell le ofrece [varios flujos](http://blogs.technet.com/heyscriptingguy/archive/2014/03/30/understanding-streams-redirection-and-write-host-in-powershell.aspx) para enviar la salida desde un script o flujo de trabajo.</span><span class="sxs-lookup"><span data-stu-id="32568-105">Windows PowerShell provides [multiple streams](http://blogs.technet.com/heyscriptingguy/archive/2014/03/30/understanding-streams-redirection-and-write-host-in-powershell.aspx) to send output from a script or workflow.</span></span> <span data-ttu-id="32568-106">Automatización de Azure funciona con cada uno de estos flujos de forma diferente, y es aconsejable que siga los procedimientos recomendados sobre cómo usar cada uno de ellos cuando cree un runbook.</span><span class="sxs-lookup"><span data-stu-id="32568-106">Azure Automation works with each of these streams differently, and you should follow best practices for how to use each when you are creating a runbook.</span></span>

<span data-ttu-id="32568-107">En la siguiente tabla verá una breve descripción de cada uno de los flujos y su comportamiento en el Portal de administración de Azure, cuando se ejecuta un runbook publicado y cuando se [prueba un runbook](automation-testing-runbook.md).</span><span class="sxs-lookup"><span data-stu-id="32568-107">The following table provides a brief description of each of the streams and their behavior in the Azure Management Portal both when running a published runbook and when [testing a runbook](automation-testing-runbook.md).</span></span> <span data-ttu-id="32568-108">Asimismo, en las siguientes secciones se proporciona más información sobre cada flujo.</span><span class="sxs-lookup"><span data-stu-id="32568-108">Further details on each stream are provided in subsequent sections.</span></span>

| <span data-ttu-id="32568-109">Stream</span><span class="sxs-lookup"><span data-stu-id="32568-109">Stream</span></span> | <span data-ttu-id="32568-110">Description</span><span class="sxs-lookup"><span data-stu-id="32568-110">Description</span></span> | <span data-ttu-id="32568-111">Publicado</span><span class="sxs-lookup"><span data-stu-id="32568-111">Published</span></span> | <span data-ttu-id="32568-112">Prueba</span><span class="sxs-lookup"><span data-stu-id="32568-112">Test</span></span> |
|:--- |:--- |:--- |:--- |
| <span data-ttu-id="32568-113">Salida</span><span class="sxs-lookup"><span data-stu-id="32568-113">Output</span></span> |<span data-ttu-id="32568-114">Objetos destinados a ser consumidos por otros runbooks.</span><span class="sxs-lookup"><span data-stu-id="32568-114">Objects intended to be consumed by other runbooks.</span></span> |<span data-ttu-id="32568-115">Se escribe en el historial de trabajos.</span><span class="sxs-lookup"><span data-stu-id="32568-115">Written to the job history.</span></span> |<span data-ttu-id="32568-116">Se muestra en el panel de salida de la prueba.</span><span class="sxs-lookup"><span data-stu-id="32568-116">Displayed in the Test Output Pane.</span></span> |
| <span data-ttu-id="32568-117">Warning (Advertencia)</span><span class="sxs-lookup"><span data-stu-id="32568-117">Warning</span></span> |<span data-ttu-id="32568-118">Mensaje de advertencia destinado al usuario.</span><span class="sxs-lookup"><span data-stu-id="32568-118">Warning message intended for the user.</span></span> |<span data-ttu-id="32568-119">Se escribe en el historial de trabajos.</span><span class="sxs-lookup"><span data-stu-id="32568-119">Written to the job history.</span></span> |<span data-ttu-id="32568-120">Se muestra en el panel de salida de la prueba.</span><span class="sxs-lookup"><span data-stu-id="32568-120">Displayed in the Test Output Pane.</span></span> |
| <span data-ttu-id="32568-121">Error</span><span class="sxs-lookup"><span data-stu-id="32568-121">Error</span></span> |<span data-ttu-id="32568-122">Mensaje de error destinado al usuario.</span><span class="sxs-lookup"><span data-stu-id="32568-122">Error message intended for the user.</span></span> <span data-ttu-id="32568-123">A diferencia de lo que sucede con las excepciones, el runbook continúa después de un mensaje de error de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="32568-123">Unlike an exception, the runbook continues after an error message by default.</span></span> |<span data-ttu-id="32568-124">Se escribe en el historial de trabajos.</span><span class="sxs-lookup"><span data-stu-id="32568-124">Written to the job history.</span></span> |<span data-ttu-id="32568-125">Se muestra en el panel de salida de la prueba.</span><span class="sxs-lookup"><span data-stu-id="32568-125">Displayed in the Test Output Pane.</span></span> |
| <span data-ttu-id="32568-126">Detallado</span><span class="sxs-lookup"><span data-stu-id="32568-126">Verbose</span></span> |<span data-ttu-id="32568-127">Mensajes que proporcionan información general o de depuración.</span><span class="sxs-lookup"><span data-stu-id="32568-127">Messages providing general or debugging information.</span></span> |<span data-ttu-id="32568-128">Solo se escribe en el historial de trabajos si el registro detallado del runbook está activado.</span><span class="sxs-lookup"><span data-stu-id="32568-128">Written to job history only if verbose logging is turned on for the runbook.</span></span> |<span data-ttu-id="32568-129">Solo se muestra en el panel de salida de la prueba si el elemento $VerbosePreference está establecido como “Continue” en el runbook.</span><span class="sxs-lookup"><span data-stu-id="32568-129">Displayed in the Test Output pane only if $VerbosePreference is set to Continue in the runbook.</span></span> |
| <span data-ttu-id="32568-130">Progreso</span><span class="sxs-lookup"><span data-stu-id="32568-130">Progress</span></span> |<span data-ttu-id="32568-131">Registros que se generan automáticamente antes y después de cada actividad del runbook.</span><span class="sxs-lookup"><span data-stu-id="32568-131">Records automatically generated before and after each activity in the runbook.</span></span> <span data-ttu-id="32568-132">El runbook no debe intentar crear sus propios registros de progreso, ya que están dirigidos a un usuario interactivo.</span><span class="sxs-lookup"><span data-stu-id="32568-132">The runbook should not attempt to create its own progress records since they are intended for an interactive user.</span></span> |<span data-ttu-id="32568-133">Solo se escribe en el historial de trabajos si el registro del progreso del runbook está activado.</span><span class="sxs-lookup"><span data-stu-id="32568-133">Written to job history only if progress logging is turned on for the runbook.</span></span> |<span data-ttu-id="32568-134">No se muestra en el panel de salida de la prueba.</span><span class="sxs-lookup"><span data-stu-id="32568-134">Not displayed in the Test Output Pane.</span></span> |
| <span data-ttu-id="32568-135">Depurar</span><span class="sxs-lookup"><span data-stu-id="32568-135">Debug</span></span> |<span data-ttu-id="32568-136">Mensajes dirigidos a un usuario interactivo.</span><span class="sxs-lookup"><span data-stu-id="32568-136">Messages intended for an interactive user.</span></span> <span data-ttu-id="32568-137">No debe usarse en runbooks.</span><span class="sxs-lookup"><span data-stu-id="32568-137">Should not be used in runbooks.</span></span> |<span data-ttu-id="32568-138">No se escribe en el historial de trabajos.</span><span class="sxs-lookup"><span data-stu-id="32568-138">Not written to job history.</span></span> |<span data-ttu-id="32568-139">No se escribe en el panel de salida de la prueba.</span><span class="sxs-lookup"><span data-stu-id="32568-139">Not written to Test Output Pane.</span></span> |

## <a name="output-stream"></a><span data-ttu-id="32568-140">Flujo de salida</span><span class="sxs-lookup"><span data-stu-id="32568-140">Output stream</span></span>
<span data-ttu-id="32568-141">El flujo de salida está diseñado para la salida de los objetos creados por un script o flujo de trabajo, cuando se ejecuta correctamente.</span><span class="sxs-lookup"><span data-stu-id="32568-141">The Output stream is intended for output of objects created by a script or workflow when it runs correctly.</span></span> <span data-ttu-id="32568-142">En Automatización de Azure, este flujo se usa principalmente para objetos destinados a ser consumidos por [runbooks primarios que llaman al runbook actual](automation-child-runbooks.md).</span><span class="sxs-lookup"><span data-stu-id="32568-142">In Azure Automation, this stream is primarily used for objects intended to be consumed by [parent runbooks that call the current runbook](automation-child-runbooks.md).</span></span> <span data-ttu-id="32568-143">Cuando [llama a un runbook en línea](automation-child-runbooks.md#invoking-a-child-runbook-using-inline-execution) desde un runbook primario, este devuelve los datos del flujo de salida al runbook primario.</span><span class="sxs-lookup"><span data-stu-id="32568-143">When you [call a runbook inline](automation-child-runbooks.md#invoking-a-child-runbook-using-inline-execution) from a parent runbook, it returns data from the output stream to the parent.</span></span> <span data-ttu-id="32568-144">Solo debe usar el flujo de salida para comunicar información general al usuario si sabe que ningún otro runbook nunca llamará a ese runbook.</span><span class="sxs-lookup"><span data-stu-id="32568-144">You should only use the output stream to communicate general information back to the user if you know the runbook will never be called by another runbook.</span></span> <span data-ttu-id="32568-145">Le aconsejamos, como procedimiento recomendado, que use la opción de [Flujo detallado](#Verbose) para comunicar información general al usuario.</span><span class="sxs-lookup"><span data-stu-id="32568-145">As a best practice, however, you should typically use the [Verbose Stream](#Verbose) to communicate general information to the user.</span></span>

<span data-ttu-id="32568-146">Puede escribir datos en el flujo de salida mediante [Write-Output](http://technet.microsoft.com/library/hh849921.aspx) o colocando el objeto en su propia línea en el runbook.</span><span class="sxs-lookup"><span data-stu-id="32568-146">You can write data to the output stream using [Write-Output](http://technet.microsoft.com/library/hh849921.aspx) or by putting the object on its own line in the runbook.</span></span>

    #The following lines both write an object to the output stream.
    Write-Output –InputObject $object
    $object

### <a name="output-from-a-function"></a><span data-ttu-id="32568-147">Salida de una función</span><span class="sxs-lookup"><span data-stu-id="32568-147">Output from a function</span></span>
<span data-ttu-id="32568-148">Cuando escribe en el flujo de salida de una función que está incluida en su runbook, la salida se devuelve al runbook.</span><span class="sxs-lookup"><span data-stu-id="32568-148">When you write to the output stream in a function that is included in your runbook, the output is passed back to the runbook.</span></span> <span data-ttu-id="32568-149">Si el runbook asigna esa salida a una variable, no se escribe en el flujo de salida.</span><span class="sxs-lookup"><span data-stu-id="32568-149">If the runbook assigns that output to a variable, then it is not written to the output stream.</span></span> <span data-ttu-id="32568-150">Asimismo, si se escribe en cualquier otro flujo desde la función, se escribirá en el flujo correspondiente del runbook.</span><span class="sxs-lookup"><span data-stu-id="32568-150">Writing to any other streams from within the function will write to the corresponding stream for the runbook.</span></span>

<span data-ttu-id="32568-151">Échele un vistazo al siguiente runbook de ejemplo.</span><span class="sxs-lookup"><span data-stu-id="32568-151">Consider the following sample runbook.</span></span>

    Workflow Test-Runbook
    {
        Write-Verbose "Verbose outside of function" -Verbose
        Write-Output "Output outside of function"
        $functionOutput = Test-Function
        $functionOutput

    Function Test-Function
     {
        Write-Verbose "Verbose inside of function" -Verbose
        Write-Output "Output inside of function"
      }
    }


<span data-ttu-id="32568-152">El flujo de salida del trabajo del runbook sería:</span><span class="sxs-lookup"><span data-stu-id="32568-152">The output stream for the runbook job would be:</span></span>

    Output inside of function
    Output outside of function

<span data-ttu-id="32568-153">El flujo detallado del trabajo del runbook sería:</span><span class="sxs-lookup"><span data-stu-id="32568-153">The verbose stream for the runbook job would be:</span></span>

    Verbose outside of function
    Verbose inside of function

<span data-ttu-id="32568-154">Una vez que haya publicado el Runbook y antes de iniciarlo, debe activar también el registro detallado en la configuración del Runbook para obtener la salida de flujo detallada.</span><span class="sxs-lookup"><span data-stu-id="32568-154">Once you have published the runbook and before you start it, you must also turn on Verbose logging in the runbook settings in order to get the Verbose stream output.</span></span>

### <a name="declaring-output-data-type"></a><span data-ttu-id="32568-155">Declarar los tipos de datos de salida</span><span class="sxs-lookup"><span data-stu-id="32568-155">Declaring output data type</span></span>
<span data-ttu-id="32568-156">Un flujo de trabajo puede especificar el tipo de datos de su salida mediante el [atributo OutputType](http://technet.microsoft.com/library/hh847785.aspx).</span><span class="sxs-lookup"><span data-stu-id="32568-156">A workflow can specify the data type of its output using the [OutputType attribute](http://technet.microsoft.com/library/hh847785.aspx).</span></span> <span data-ttu-id="32568-157">Este atributo no tiene ningún efecto durante el tiempo de ejecución, pero proporciona al autor del runbook una indicación de la salida esperada en tiempo de diseño.</span><span class="sxs-lookup"><span data-stu-id="32568-157">This attribute has no effect during runtime, but it provides an indication to the runbook author at design time of the expected output of the runbook.</span></span> <span data-ttu-id="32568-158">A medida que el conjunto de herramientas de los runbooks evoluciona, aumenta la importancia de la declaración de tipos de datos de salida en tiempo de diseño.</span><span class="sxs-lookup"><span data-stu-id="32568-158">As the toolset for runbooks continues to evolve, the importance of declaring output data types at design time will increase in importance.</span></span> <span data-ttu-id="32568-159">Como resultado, es recomendable incluir esta declaración en cualquier runbook que cree.</span><span class="sxs-lookup"><span data-stu-id="32568-159">As a result, it is a best practice to include this declaration in any runbooks that you create.</span></span>

<span data-ttu-id="32568-160">Esta es una lista de tipos de salidas de ejemplo:</span><span class="sxs-lookup"><span data-stu-id="32568-160">Here is a list of example output types:</span></span>

* <span data-ttu-id="32568-161">System.String</span><span class="sxs-lookup"><span data-stu-id="32568-161">System.String</span></span>
* <span data-ttu-id="32568-162">System.Int32</span><span class="sxs-lookup"><span data-stu-id="32568-162">System.Int32</span></span>
* <span data-ttu-id="32568-163">System.Collections.Hashtable</span><span class="sxs-lookup"><span data-stu-id="32568-163">System.Collections.Hashtable</span></span>
* <span data-ttu-id="32568-164">Microsoft.Azure.Commands.Compute.Models.PSVirtualMachine</span><span class="sxs-lookup"><span data-stu-id="32568-164">Microsoft.Azure.Commands.Compute.Models.PSVirtualMachine</span></span>

<span data-ttu-id="32568-165">El siguiente runbook de ejemplo genera un objeto de cadena e incluye una declaración de su tipo de salida.</span><span class="sxs-lookup"><span data-stu-id="32568-165">The following sample runbook outputs a string object and includes a declaration of its output type.</span></span> <span data-ttu-id="32568-166">Si su runbook genera una matriz de un tipo determinado, deberá especificar el tipo en lugar de una matriz de ese tipo.</span><span class="sxs-lookup"><span data-stu-id="32568-166">If your runbook outputs an array of a certain type, then you should still specify the type as opposed to an array of the type.</span></span>

    Workflow Test-Runbook
    {
       [OutputType([string])]

       $output = "This is some string output."
       Write-Output $output
    }

<span data-ttu-id="32568-167">Para declarar un tipo de salida en Runbooks gráficos o de flujo de trabajo gráfico de PowerShell, puede seleccionar la opción de menú **Entrada y salida** y escribir el nombre del tipo de salida.</span><span class="sxs-lookup"><span data-stu-id="32568-167">To declare an output type in Grapical or Graphical PowerShell Workflow runbooks, you can select the **Input and Output** menu option and type in the name of the output type.</span></span>  <span data-ttu-id="32568-168">Se recomienda que utilice el nombre completo de clase .NET para identificarlo fácilmente cuando haga referencia a él desde un Runbook primario.</span><span class="sxs-lookup"><span data-stu-id="32568-168">We recommend you use the full .NET class name to make it easily identifiable when referencing it from a parent runbook.</span></span>  <span data-ttu-id="32568-169">Esto permite exponer todas las propiedades de esa clase en el bus de datos del Runbook y proporciona mucha flexibilidad cuando se usan para la lógica condicional, el registro y la referencia como valores de otras actividades del Runbook.</span><span class="sxs-lookup"><span data-stu-id="32568-169">This exposes all the properties of that class to the data bus in the runbook and provides a lot of flexibility when using them for conditional logic, logging, and referencing as values for other activities in the runbook.</span></span><br> <span data-ttu-id="32568-170">![Opción de entrada y salida de Runbook](media/automation-runbook-output-and-messages/runbook-menu-input-and-output-option.png)</span><span class="sxs-lookup"><span data-stu-id="32568-170">![Runbook Input and Output option](media/automation-runbook-output-and-messages/runbook-menu-input-and-output-option.png)</span></span>

<span data-ttu-id="32568-171">En el siguiente ejemplo, tenemos dos Runbooks gráficos para demostrar esta característica.</span><span class="sxs-lookup"><span data-stu-id="32568-171">In the following example, we have two graphical runbooks to demonstrate this feature.</span></span>  <span data-ttu-id="32568-172">Si se aplica el modelo de diseño modular de Runbook, tendremos un Runbook que actúa como *plantilla de Runbook de autenticación* que administra la autenticación con Azure mediante la cuenta de ejecución.</span><span class="sxs-lookup"><span data-stu-id="32568-172">If we apply the modular runbook design model, we have one runbook which serves as the *Authentication Runbook template* managing authentication with Azure using the Run As account.</span></span>  <span data-ttu-id="32568-173">El segundo Runbook, que normalmente realizaría la lógica básica para automatizar un escenario determinado, en este caso va a ejecutar la *plantilla de Runbook de autenticación* y a mostrar los resultados en el panel de salida **Prueba** .</span><span class="sxs-lookup"><span data-stu-id="32568-173">Our second runbook, which would normally perform the core logic to automate a given scenario, in this case is going to execute the *Authentication Runbook template* and display the results to your **Test** output pane.</span></span>  <span data-ttu-id="32568-174">En circunstancias normales, haríamos que este Runbook hiciera algo en un recurso que está aprovechando la salida del Runbook secundario.</span><span class="sxs-lookup"><span data-stu-id="32568-174">Under normal circumstances, we would have this runbook do something against a resource leveraging the output from the child runbook.</span></span>    

<span data-ttu-id="32568-175">Esta es la lógica básica del runbook **AuthenticateTo-Azure**.</span><span class="sxs-lookup"><span data-stu-id="32568-175">Here is the basic logic of the **AuthenticateTo-Azure** runbook.</span></span><br> <span data-ttu-id="32568-176">![Autenticar ejemplo de plantilla de Runbook](media/automation-runbook-output-and-messages/runbook-authentication-template.png).</span><span class="sxs-lookup"><span data-stu-id="32568-176">![Authenticate Runbook Template Example](media/automation-runbook-output-and-messages/runbook-authentication-template.png).</span></span>  

<span data-ttu-id="32568-177">Incluye el tipo de salida *Microsoft.Azure.Commands.Profile.Models.PSAzureContext*, que devolverá las propiedades del perfil de autenticación.</span><span class="sxs-lookup"><span data-stu-id="32568-177">It includes the output type *Microsoft.Azure.Commands.Profile.Models.PSAzureContext*, which will return the authentication profile properties.</span></span><br> <span data-ttu-id="32568-178">![Ejemplo de tipo de salida de Runbooks](media/automation-runbook-output-and-messages/runbook-input-and-output-add-blade.png)</span><span class="sxs-lookup"><span data-stu-id="32568-178">![Runbook Output Type Example](media/automation-runbook-output-and-messages/runbook-input-and-output-add-blade.png)</span></span> 

<span data-ttu-id="32568-179">Aunque este Runbook es muy simple, hay un elemento de configuración al que se debe llamar aquí.</span><span class="sxs-lookup"><span data-stu-id="32568-179">While this runbook is very straight forward, there is one configuration item to call out here.</span></span>  <span data-ttu-id="32568-180">La última actividad está ejecutando el cmdlet **Write-Output** y escribe los datos de perfil en una variable $_ mediante una expresión de PowerShell para el parámetro **Inputobject** necesario para ese cmdlet.</span><span class="sxs-lookup"><span data-stu-id="32568-180">The last activity is executing the **Write-Output** cmdlet and writes the profile data to a $_ variable using a PowerShell expression for the **Inputobject** parameter, which is required for that cmdlet.</span></span>  

<span data-ttu-id="32568-181">Para el segundo runbook de este ejemplo, denominado *Test-ChildOutputType*, solo tenemos dos actividades.</span><span class="sxs-lookup"><span data-stu-id="32568-181">For the second runbook in this example, named *Test-ChildOutputType*, we simply have two activities.</span></span><br> <span data-ttu-id="32568-182">![Runbook de tipo de salida secundario de ejemplo](media/automation-runbook-output-and-messages/runbook-display-authentication-results-example.png)</span><span class="sxs-lookup"><span data-stu-id="32568-182">![Example Child Output Type Runbook](media/automation-runbook-output-and-messages/runbook-display-authentication-results-example.png)</span></span> 

<span data-ttu-id="32568-183">La primera actividad llama al runbook **AuthenticateTo-Azure** y la segunda actividad está ejecutando el cmdlet **Write-Verbose** con el **origen de datos** de **Resultado de la actividad** y el valor de **Ruta de acceso de campo** es **Context.Subscription.SubscriptionName**, que especifica la salida de contexto del runbook **AuthenticateTo-Azure**.</span><span class="sxs-lookup"><span data-stu-id="32568-183">The first activity calls the **AuthenticateTo-Azure** runbook and the second activity is running the **Write-Verbose** cmdlet with the **Data source** of **Activity output** and the value for **Field path** is **Context.Subscription.SubscriptionName**, which is specifying the context output from the **AuthenticateTo-Azure** runbook.</span></span><br> <span data-ttu-id="32568-184">![Origen de datos de parámetro del cmdlet Write-Verbose](media/automation-runbook-output-and-messages/runbook-write-verbose-parameters-config.png)</span><span class="sxs-lookup"><span data-stu-id="32568-184">![Write-Verbose cmdlet Parameter Data Source](media/automation-runbook-output-and-messages/runbook-write-verbose-parameters-config.png)</span></span>    

<span data-ttu-id="32568-185">La salida resultante es el nombre de la suscripción.</span><span class="sxs-lookup"><span data-stu-id="32568-185">The resulting output is the name of the subscription.</span></span><br> ![Resultados de Runbook de Test-ChildOutputType](media/automation-runbook-output-and-messages/runbook-test-childoutputtype-results.png)

<span data-ttu-id="32568-187">Una nota acerca del comportamiento del control del tipo de salida.</span><span class="sxs-lookup"><span data-stu-id="32568-187">One note about the behavior of the Output Type control.</span></span>  <span data-ttu-id="32568-188">Cuando escribe un valor en el campo Tipo de salida en la hoja de propiedades Entrada y salida, tiene que hacer clic fuera del control después de escribirlo para que el control reconozca la entrada.</span><span class="sxs-lookup"><span data-stu-id="32568-188">When you type a value in the Output Type field on the Input and Output properties blade, you have to click outside of the control  after you type it, in order for your entry to be recognized by the control.</span></span>  

## <a name="message-streams"></a><span data-ttu-id="32568-189">Flujos de mensajes</span><span class="sxs-lookup"><span data-stu-id="32568-189">Message streams</span></span>
<span data-ttu-id="32568-190">A diferencia del flujo de salida, los flujos de mensajes están diseñados para comunicar información al usuario.</span><span class="sxs-lookup"><span data-stu-id="32568-190">Unlike the output stream, message streams are intended to communicate information to the user.</span></span> <span data-ttu-id="32568-191">Hay varios flujos de mensajes para los diferentes tipos de información, y Automatización de Azure controla cada uno de ellos de forma diferente.</span><span class="sxs-lookup"><span data-stu-id="32568-191">There are multiple message streams for different kinds of information, and each is handled differently by Azure Automation.</span></span>

### <a name="warning-and-error-streams"></a><span data-ttu-id="32568-192">Flujos de error y de advertencia</span><span class="sxs-lookup"><span data-stu-id="32568-192">Warning and error streams</span></span>
<span data-ttu-id="32568-193">Los flujos de error y de advertencia están diseñados para registrar los problemas que se producen en un runbook.</span><span class="sxs-lookup"><span data-stu-id="32568-193">The Warning and Error streams are intended to log problems that occur in a runbook.</span></span> <span data-ttu-id="32568-194">Se escriben en el historial de trabajos cuando se ejecuta un runbook y se incluyen en el panel de salida de la prueba del Portal de administración de Azure cuando se prueba un runbook.</span><span class="sxs-lookup"><span data-stu-id="32568-194">They are written to the job history when a runbook is executed, and are included in the Test Output Pane in the Azure Management Portal when a runbook is tested.</span></span> <span data-ttu-id="32568-195">De forma predeterminada, el runbook continuará ejecutándose después de un error o advertencia.</span><span class="sxs-lookup"><span data-stu-id="32568-195">By default, the runbook will continue executing after a warning or error.</span></span> <span data-ttu-id="32568-196">Para especificar que el runbook debe suspenderse en caso de advertencia o error, puede establecer una [variable de preferencia](#PreferenceVariables) en el runbook antes de crear el mensaje.</span><span class="sxs-lookup"><span data-stu-id="32568-196">You can specify that the runbook should be suspended on a warning or error by setting a [preference variable](#PreferenceVariables) in the runbook before creating the message.</span></span> <span data-ttu-id="32568-197">Por ejemplo, para hacer que un runbook se suspenda en caso de error, tal y como haría una excepción, establezca **$ErrorActionPreference** en Stop.</span><span class="sxs-lookup"><span data-stu-id="32568-197">For example, to cause a runbook to suspend on an error as it would an exception, set **$ErrorActionPreference** to Stop.</span></span>

<span data-ttu-id="32568-198">Cree un mensaje de advertencia o de error mediante los cmdlets [Write-Warning](https://technet.microsoft.com/library/hh849931.aspx) o [Write-Error](http://technet.microsoft.com/library/hh849962.aspx).</span><span class="sxs-lookup"><span data-stu-id="32568-198">Create a warning or error message using the [Write-Warning](https://technet.microsoft.com/library/hh849931.aspx) or [Write-Error](http://technet.microsoft.com/library/hh849962.aspx) cmdlet.</span></span> <span data-ttu-id="32568-199">También se pueden escribir actividades en estos flujos.</span><span class="sxs-lookup"><span data-stu-id="32568-199">Activities may also write to these streams.</span></span>

    #The following lines create a warning message and then an error message that will suspend the runbook.

    $ErrorActionPreference = "Stop"
    Write-Warning –Message "This is a warning message."
    Write-Error –Message "This is an error message that will stop the runbook because of the preference variable."

### <a name="verbose-stream"></a><span data-ttu-id="32568-200">Flujo detallado</span><span class="sxs-lookup"><span data-stu-id="32568-200">Verbose stream</span></span>
<span data-ttu-id="32568-201">El flujo de mensajes detallados se usa para proporcionar información general acerca del funcionamiento del runbook.</span><span class="sxs-lookup"><span data-stu-id="32568-201">The Verbose message stream is for general information about the runbook operation.</span></span> <span data-ttu-id="32568-202">Como los runbooks no tienen disponible el [Flujo de depuración](#Debug) , debe usar mensajes detallados para proporcionar información referente a la depuración.</span><span class="sxs-lookup"><span data-stu-id="32568-202">Since the [Debug Stream](#Debug) is not available in a runbook, verbose messages should be used for debug information.</span></span> <span data-ttu-id="32568-203">De forma predeterminada, los mensajes detallados de los runbooks publicados no se almacenarán en el historial de trabajos.</span><span class="sxs-lookup"><span data-stu-id="32568-203">By default, verbose messages from published runbooks will not be stored in the job history.</span></span> <span data-ttu-id="32568-204">Para almacenar mensajes detallados, configure los runbooks publicados mediante la opción “Escribir registros detallados” que se encuentra en la pestaña “Configurar” del runbook, en el Portal de administración de Azure.</span><span class="sxs-lookup"><span data-stu-id="32568-204">To store verbose messages, configure published runbooks to Log Verbose Records on the Configure tab of the runbook in the Azure Management Portal.</span></span> <span data-ttu-id="32568-205">En la mayoría de los casos, deberá mantener la configuración predeterminada y no escribir los registros detallados de un runbook por motivos de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="32568-205">In most cases, you should keep the default setting of not logging verbose records for a runbook for performance reasons.</span></span> <span data-ttu-id="32568-206">Active esta opción solo para solucionar problemas o para depurar un runbook.</span><span class="sxs-lookup"><span data-stu-id="32568-206">Turn on this option only to troubleshoot or debug a runbook.</span></span>

<span data-ttu-id="32568-207">Cuando se [prueba un runbook](automation-testing-runbook.md), los mensajes detallados no se muestran aunque el runbook esté configurado para escribir registros detallados.</span><span class="sxs-lookup"><span data-stu-id="32568-207">When [testing a runbook](automation-testing-runbook.md), verbose messages are not displayed even if the runbook is configured to log verbose records.</span></span> <span data-ttu-id="32568-208">Para mostrar mensajes detallados al [probar un runbook](automation-testing-runbook.md), debe establecer la variable $VerbosePreference en “Continue”.</span><span class="sxs-lookup"><span data-stu-id="32568-208">To display verbose messages while [testing a runbook](automation-testing-runbook.md), you must set the $VerbosePreference variable to Continue.</span></span> <span data-ttu-id="32568-209">Cuando esa variable está establecida, los mensajes detallados se muestran en el panel de salida de la prueba del Portal de Azure.</span><span class="sxs-lookup"><span data-stu-id="32568-209">With that variable set, verbose messages will be displayed in the Test Output Pane of the Azure portal.</span></span>

<span data-ttu-id="32568-210">Cree un mensaje detallado mediante el cmdlet [Write-Verbose](http://technet.microsoft.com/library/hh849951.aspx) .</span><span class="sxs-lookup"><span data-stu-id="32568-210">Create a verbose message using the [Write-Verbose](http://technet.microsoft.com/library/hh849951.aspx) cmdlet.</span></span>

    #The following line creates a verbose message.

    Write-Verbose –Message "This is a verbose message."

### <a name="debug-stream"></a><span data-ttu-id="32568-211">Flujo de depuración</span><span class="sxs-lookup"><span data-stu-id="32568-211">Debug stream</span></span>
<span data-ttu-id="32568-212">El flujo de depuración está diseñado para usarse con un usuario interactivo y no debe usarse en runbooks.</span><span class="sxs-lookup"><span data-stu-id="32568-212">The Debug stream is intended for use with an interactive user and should not be used in runbooks.</span></span>

## <a name="progress-records"></a><span data-ttu-id="32568-213">Registros de progreso</span><span class="sxs-lookup"><span data-stu-id="32568-213">Progress records</span></span>
<span data-ttu-id="32568-214">Si configura un runbook para escribir registros de progreso (en la pestaña Configurar del runbook del Portal de Azure), se escribirá un registro en el historial de trabajos antes y después de la ejecución de cada actividad.</span><span class="sxs-lookup"><span data-stu-id="32568-214">If you configure a runbook to log progress records (on the Configure tab of the runbook in the Azure portal), then a record will be written to the job history before and after each activity is run.</span></span> <span data-ttu-id="32568-215">En la mayoría de los casos, deberá mantener la configuración predeterminada y no escribir los registros de progreso de un runbook para así maximizar el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="32568-215">In most cases, you should keep the default setting of not logging progress records for a runbook in order to maximize performance.</span></span> <span data-ttu-id="32568-216">Active esta opción solo para solucionar problemas o para depurar un runbook.</span><span class="sxs-lookup"><span data-stu-id="32568-216">Turn on this option only to troubleshoot or debug a runbook.</span></span> <span data-ttu-id="32568-217">Cuando se prueba un runbook, los mensajes de progreso no se muestran aunque el runbook esté configurado para escribir registros de progreso.</span><span class="sxs-lookup"><span data-stu-id="32568-217">When testing a runbook, progress messages are not displayed even if the runbook is configured to log progress records.</span></span>

<span data-ttu-id="32568-218">El cmdlet [Write-Progress](http://technet.microsoft.com/library/hh849902.aspx) no es válido en los runbooks ya que está pensado para usarse con un usuario interactivo.</span><span class="sxs-lookup"><span data-stu-id="32568-218">The [Write-Progress](http://technet.microsoft.com/library/hh849902.aspx) cmdlet is not valid in a runbook, since this is intended for use with an interactive user.</span></span>

## <a name="preference-variables"></a><span data-ttu-id="32568-219">Variables de preferencia</span><span class="sxs-lookup"><span data-stu-id="32568-219">Preference variables</span></span>
<span data-ttu-id="32568-220">Windows PowerShell usa [variables de preferencia](http://technet.microsoft.com/library/hh847796.aspx) para determinar cómo responder a los datos que se hayan enviado a diferentes flujos de salida.</span><span class="sxs-lookup"><span data-stu-id="32568-220">Windows PowerShell uses [preference variables](http://technet.microsoft.com/library/hh847796.aspx) to determine how to respond to data sent to different output streams.</span></span> <span data-ttu-id="32568-221">Puede establecer estas variables en un runbook para controlar cómo responderá a los datos que se hayan enviado a diferentes flujos.</span><span class="sxs-lookup"><span data-stu-id="32568-221">You can set these variables in a runbook to control how it will respond to data sent into different streams.</span></span>

<span data-ttu-id="32568-222">En la siguiente tabla se enumeran las variables de preferencia que pueden usarse en runbooks, junto con sus valores válidos y predeterminados.</span><span class="sxs-lookup"><span data-stu-id="32568-222">The following table lists the preference variables that can be used in runbooks with their valid and default values.</span></span> <span data-ttu-id="32568-223">Tenga en cuenta que esta tabla solo incluye los valores que son válidos en un runbook</span><span class="sxs-lookup"><span data-stu-id="32568-223">Note that this table only includes the values that are valid in a runbook.</span></span> <span data-ttu-id="32568-224">Hay otros valores adicionales que son válidos para las variables de preferencia cuando se usan en Windows PowerShell fuera de Automatización de Azure.</span><span class="sxs-lookup"><span data-stu-id="32568-224">Additional values are valid for the preference variables when used in Windows PowerShell outside of Azure Automation.</span></span>

| <span data-ttu-id="32568-225">Variable</span><span class="sxs-lookup"><span data-stu-id="32568-225">Variable</span></span> | <span data-ttu-id="32568-226">Valor predeterminado</span><span class="sxs-lookup"><span data-stu-id="32568-226">Default Value</span></span> | <span data-ttu-id="32568-227">Valores válidos</span><span class="sxs-lookup"><span data-stu-id="32568-227">Valid Values</span></span> |
|:--- |:--- |:--- |
| <span data-ttu-id="32568-228">WarningPreference</span><span class="sxs-lookup"><span data-stu-id="32568-228">WarningPreference</span></span> |<span data-ttu-id="32568-229">Continuar</span><span class="sxs-lookup"><span data-stu-id="32568-229">Continue</span></span> |<span data-ttu-id="32568-230">Stop</span><span class="sxs-lookup"><span data-stu-id="32568-230">Stop</span></span><br><span data-ttu-id="32568-231">Continuar</span><span class="sxs-lookup"><span data-stu-id="32568-231">Continue</span></span><br><span data-ttu-id="32568-232">SilentlyContinue</span><span class="sxs-lookup"><span data-stu-id="32568-232">SilentlyContinue</span></span> |
| <span data-ttu-id="32568-233">ErrorActionPreference</span><span class="sxs-lookup"><span data-stu-id="32568-233">ErrorActionPreference</span></span> |<span data-ttu-id="32568-234">Continuar</span><span class="sxs-lookup"><span data-stu-id="32568-234">Continue</span></span> |<span data-ttu-id="32568-235">Stop</span><span class="sxs-lookup"><span data-stu-id="32568-235">Stop</span></span><br><span data-ttu-id="32568-236">Continuar</span><span class="sxs-lookup"><span data-stu-id="32568-236">Continue</span></span><br><span data-ttu-id="32568-237">SilentlyContinue</span><span class="sxs-lookup"><span data-stu-id="32568-237">SilentlyContinue</span></span> |
| <span data-ttu-id="32568-238">VerbosePreference</span><span class="sxs-lookup"><span data-stu-id="32568-238">VerbosePreference</span></span> |<span data-ttu-id="32568-239">SilentlyContinue</span><span class="sxs-lookup"><span data-stu-id="32568-239">SilentlyContinue</span></span> |<span data-ttu-id="32568-240">Stop</span><span class="sxs-lookup"><span data-stu-id="32568-240">Stop</span></span><br><span data-ttu-id="32568-241">Continuar</span><span class="sxs-lookup"><span data-stu-id="32568-241">Continue</span></span><br><span data-ttu-id="32568-242">SilentlyContinue</span><span class="sxs-lookup"><span data-stu-id="32568-242">SilentlyContinue</span></span> |

<span data-ttu-id="32568-243">En la siguiente tabla se muestra el comportamiento de los valores de las variables de preferencia que son válidos en los runbooks.</span><span class="sxs-lookup"><span data-stu-id="32568-243">The following table lists the behavior for the preference variable values that are valid in runbooks.</span></span>

| <span data-ttu-id="32568-244">Valor</span><span class="sxs-lookup"><span data-stu-id="32568-244">Value</span></span> | <span data-ttu-id="32568-245">Comportamiento</span><span class="sxs-lookup"><span data-stu-id="32568-245">Behavior</span></span> |
|:--- |:--- |
| <span data-ttu-id="32568-246">Continuar</span><span class="sxs-lookup"><span data-stu-id="32568-246">Continue</span></span> |<span data-ttu-id="32568-247">Registra el mensaje y continúa ejecutando el runbook.</span><span class="sxs-lookup"><span data-stu-id="32568-247">Logs the message and continues executing the runbook.</span></span> |
| <span data-ttu-id="32568-248">SilentlyContinue</span><span class="sxs-lookup"><span data-stu-id="32568-248">SilentlyContinue</span></span> |<span data-ttu-id="32568-249">Continúa la ejecución del runbook sin registrar el mensaje.</span><span class="sxs-lookup"><span data-stu-id="32568-249">Continues executing the runbook without logging the message.</span></span> <span data-ttu-id="32568-250">Hace que el mensaje se pase por alto.</span><span class="sxs-lookup"><span data-stu-id="32568-250">This has the effect of ignoring the message.</span></span> |
| <span data-ttu-id="32568-251">Stop</span><span class="sxs-lookup"><span data-stu-id="32568-251">Stop</span></span> |<span data-ttu-id="32568-252">Registra el mensaje y suspende el runbook.</span><span class="sxs-lookup"><span data-stu-id="32568-252">Logs the message and suspends the runbook.</span></span> |

## <a name="retrieving-runbook-output-and-messages"></a><span data-ttu-id="32568-253">Recuperar salidas de runbooks y mensajes</span><span class="sxs-lookup"><span data-stu-id="32568-253">Retrieving runbook output and messages</span></span>
### <a name="azure-portal"></a><span data-ttu-id="32568-254">Portal de Azure</span><span class="sxs-lookup"><span data-stu-id="32568-254">Azure portal</span></span>
<span data-ttu-id="32568-255">Puede ver los detalles de un trabajo de runbook en el Portal de Azure de la pestaña llamada Trabajos de un runbook.</span><span class="sxs-lookup"><span data-stu-id="32568-255">You can view the details of a runbook job in the Azure portal from the Jobs tab of a runbook.</span></span> <span data-ttu-id="32568-256">La opción Resumen del trabajo le mostrará los parámetros de entrada y el [Flujo de salida](#Output) , además de información general sobre el trabajo y las excepciones que se hayan producido.</span><span class="sxs-lookup"><span data-stu-id="32568-256">The Summary of the job will display the input parameters and the [Output Stream](#Output) in addition to general information about the job and any exceptions if they occurred.</span></span> <span data-ttu-id="32568-257">En la opción Historial se incluirán los mensajes del [Flujo de salida](#Output) y los [Flujos de error y de advertencia](#WarningError), además del [Flujo detallado](#Verbose) y los [Registros de progreso](#Progress), si el runbook está configurado para escribir registros detallados y de progreso.</span><span class="sxs-lookup"><span data-stu-id="32568-257">The History will include messages from the [Output Stream](#Output) and [Warning and Error Streams](#WarningError) in addition to the [Verbose Stream](#Verbose) and [Progress Records](#Progress) if the runbook is configured to log verbose and progress records.</span></span>

### <a name="windows-powershell"></a><span data-ttu-id="32568-258">Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="32568-258">Windows PowerShell</span></span>
<span data-ttu-id="32568-259">En Windows PowerShell, puede recuperar la salida y los mensajes de un runbook con el cmdlet [Get-AzureAutomationJobOutput](https://msdn.microsoft.com/library/mt603476.aspx) .</span><span class="sxs-lookup"><span data-stu-id="32568-259">In Windows PowerShell, you can retrieve output and messages from a runbook using the [Get-AzureAutomationJobOutput](https://msdn.microsoft.com/library/mt603476.aspx) cmdlet.</span></span> <span data-ttu-id="32568-260">Este cmdlet requiere la identificación del trabajo y tiene un parámetro denominado Stream en el cual se especifica qué flujo hay que devolver.</span><span class="sxs-lookup"><span data-stu-id="32568-260">This cmdlet requires the ID of the job and has a parameter called Stream where you specify which stream to return.</span></span> <span data-ttu-id="32568-261">Puede elegir la opción “Cualquiera” para devolver todos los flujos del trabajo.</span><span class="sxs-lookup"><span data-stu-id="32568-261">You can specify Any to return all streams for the job.</span></span>

<span data-ttu-id="32568-262">En el ejemplo siguiente se inicia un runbook y, a continuación, se espera a que finalice.</span><span class="sxs-lookup"><span data-stu-id="32568-262">The following example starts a sample runbook and then waits for it to complete.</span></span> <span data-ttu-id="32568-263">Una vez completado, el flujo de salida se recopila del trabajo.</span><span class="sxs-lookup"><span data-stu-id="32568-263">Once completed, its output stream is collected from the job.</span></span>

    $job = Start-AzureRmAutomationRunbook -ResourceGroupName "ResourceGroup01" `
    –AutomationAccountName "MyAutomationAccount" –Name "Test-Runbook"

    $doLoop = $true
    While ($doLoop) {
       $job = Get-AzureRmAutomationJob -ResourceGroupName "ResourceGroup01" `
       –AutomationAccountName "MyAutomationAccount" -Id $job.JobId
       $status = $job.Status
       $doLoop = (($status -ne "Completed") -and ($status -ne "Failed") -and ($status -ne "Suspended") -and ($status -ne "Stopped")
    }

    Get-AzureRmAutomationJobOutput -ResourceGroupName "ResourceGroup01" `
    –AutomationAccountName "MyAutomationAccount" -Id $job.JobId –Stream Output

### <a name="graphical-authoring"></a><span data-ttu-id="32568-264">Creación gráfica</span><span class="sxs-lookup"><span data-stu-id="32568-264">Graphical Authoring</span></span>
<span data-ttu-id="32568-265">Para Runbooks gráficos, hay disponible un registro adicional en forma de seguimiento del nivel de actividad.</span><span class="sxs-lookup"><span data-stu-id="32568-265">For graphical runbooks, extra logging is available in the form of activity-level tracing.</span></span>  <span data-ttu-id="32568-266">Hay dos niveles de seguimiento: básico y detallado.</span><span class="sxs-lookup"><span data-stu-id="32568-266">There are two levels of tracing: Basic and Detailed.</span></span>  <span data-ttu-id="32568-267">En el seguimiento básico, puede ver la hora de inicio y de finalización de cada actividad en el Runbook, así como información relacionada con los reintentos de actividad, como el número de intentos y la hora de inicio de la actividad.</span><span class="sxs-lookup"><span data-stu-id="32568-267">In Basic tracing, you can see the start and end time of each activity in the runbook plus information related to any activity retries, such as number of attempts and start time of the activity.</span></span>  <span data-ttu-id="32568-268">En el seguimiento detallado, obtendrá un seguimiento básico y, además, datos de entrada y de salida para cada actividad.</span><span class="sxs-lookup"><span data-stu-id="32568-268">In Detailed tracing, you get Basic tracing plus input and output data for each activity.</span></span>  <span data-ttu-id="32568-269">Tenga en cuenta que actualmente los registros de seguimiento se escriben usando el flujo detallado, por lo que debe habilitar el registro detallado cuando habilite el seguimiento.</span><span class="sxs-lookup"><span data-stu-id="32568-269">Note that currently the trace records are written using the verbose stream, so you must enable Verbose logging when you enable tracing.</span></span>  <span data-ttu-id="32568-270">En el caso de los Runbooks gráficos con el seguimiento habilitado no es necesario registrar los registros de progreso, ya que el seguimiento básico tiene la misma finalidad y es más informativo.</span><span class="sxs-lookup"><span data-stu-id="32568-270">For graphical runbooks with tracing enabled there is no need to log progress records, because the Basic tracing serves the same purpose and is more informative.</span></span>

![Vista de secuencias de trabajos de creación de gráficos](media/automation-runbook-output-and-messages/job-streams-view-blade.png)

<span data-ttu-id="32568-272">Puede ver en la captura de pantalla anterior que, cuando se habilita el registro detallado y el seguimiento para los Runbooks gráficos, hay mucha más información disponible en la vista de secuencias de trabajos de producción.</span><span class="sxs-lookup"><span data-stu-id="32568-272">You can see from the above screenshot that when you enable Verbose logging and tracing for Graphical runbooks, much more information is available in the production Job Streams view.</span></span>  <span data-ttu-id="32568-273">Esta información adicional puede ser esencial para solucionar problemas de producción con un Runbook. Por lo tanto, solo debería habilitarlo con este fin, y no hacerlo como regla general.</span><span class="sxs-lookup"><span data-stu-id="32568-273">This extra information can be essential for troubleshooting production problems with a runbook, and therefore you should only enable it for that purpose and not as a general practice.</span></span>    
<span data-ttu-id="32568-274">Los registros de seguimiento pueden ser especialmente numerosos.</span><span class="sxs-lookup"><span data-stu-id="32568-274">The Trace records can be especially numerous.</span></span>  <span data-ttu-id="32568-275">Con el seguimiento de Runbooks gráficos puede obtener de dos a cuatro registros por actividad, en función de si configuró el seguimiento básico o detallado.</span><span class="sxs-lookup"><span data-stu-id="32568-275">With Graphical runbook tracing you can get two to four records per activity depending on whether you have configured Basic or Detailed tracing.</span></span>  <span data-ttu-id="32568-276">A menos que necesite esta información para realizar un seguimiento del progreso de un Runbook para solucionar problemas, le conviene mantener el seguimiento desactivado.</span><span class="sxs-lookup"><span data-stu-id="32568-276">Unless you need this information to track the progress of a runbook for troubleshooting, you might want to keep Tracing turned off.</span></span>

<span data-ttu-id="32568-277">**Para habilitar el seguimiento del nivel de actividad, siga estos pasos.**</span><span class="sxs-lookup"><span data-stu-id="32568-277">**To enable activity-level tracing, perform the following steps.**</span></span>

1. <span data-ttu-id="32568-278">En el Portal de Azure, abra su cuenta de Automatización.</span><span class="sxs-lookup"><span data-stu-id="32568-278">In the Azure Portal, open your Automation account.</span></span>
2. <span data-ttu-id="32568-279">Haga clic en el icono **Runbooks** para abrir la lista de runbooks.</span><span class="sxs-lookup"><span data-stu-id="32568-279">Click on the **Runbooks** tile to open the list of runbooks.</span></span>
3. <span data-ttu-id="32568-280">En la hoja Runbooks, haga clic para seleccionar un Runbook gráfico de la lista.</span><span class="sxs-lookup"><span data-stu-id="32568-280">On the Runbooks blade, click to select a graphical runbook from your list of runbooks.</span></span>
4. <span data-ttu-id="32568-281">En la hoja Configuración del Runbook seleccionado, haga clic en **Registro y seguimiento**.</span><span class="sxs-lookup"><span data-stu-id="32568-281">On the Settings blade for the selected runbook, click **Logging and Tracing**.</span></span>
5. <span data-ttu-id="32568-282">En la hoja Registro y seguimiento, en Registrar registros detallados, haga clic en **Activar** para habilitar el registro detallado. En Seguimiento del nivel de actividad, cambie el nivel de seguimiento a **Básico** o **Detallado**, en función del nivel de seguimiento que necesite.</span><span class="sxs-lookup"><span data-stu-id="32568-282">On the Logging and Tracing blade, under Log verbose records, click **On** to enable verbose logging and udner Activity-level tracing, change the trace level to **Basic** or **Detailed** based on the level of tracing you require.</span></span><br>
   
   ![Hoja de registro y seguimiento de creación de gráficos](media/automation-runbook-output-and-messages/logging-and-tracing-settings-blade.png)

### <a name="microsoft-operations-management-suite-oms-log-analytics"></a><span data-ttu-id="32568-284">Microsoft Operations Management Suite (OMS) Log Analytics</span><span class="sxs-lookup"><span data-stu-id="32568-284">Microsoft Operations Management Suite (OMS) Log Analytics</span></span>
<span data-ttu-id="32568-285">Automatización puede enviar el estado de un trabajo del runbook y de transmisiones de trabajos al área de trabajo devLog Analytics de Microsoft Operations Management Suite (OMS).</span><span class="sxs-lookup"><span data-stu-id="32568-285">Automation can send runbook job status and job streams to your Microsoft Operations Management Suite (OMS) Log Analytics workspace.</span></span>  <span data-ttu-id="32568-286">Con Log Analytics puede:</span><span class="sxs-lookup"><span data-stu-id="32568-286">With Log Analytics you can,</span></span>

* <span data-ttu-id="32568-287">Obtener información sobre los trabajos de Automatización</span><span class="sxs-lookup"><span data-stu-id="32568-287">Get insight on your Automation jobs</span></span> 
* <span data-ttu-id="32568-288">Desencadenar un correo electrónico o una alerta en función de en el estado de trabajo del runbook (por ejemplo, error o en suspensión)</span><span class="sxs-lookup"><span data-stu-id="32568-288">Trigger an email or alert based on your runbook job status (e.g. failed or suspended)</span></span> 
* <span data-ttu-id="32568-289">Escribir consultas avanzadas en las transmisiones de trabajos</span><span class="sxs-lookup"><span data-stu-id="32568-289">Write advanced queries across your job streams</span></span> 
* <span data-ttu-id="32568-290">Correlacionar trabajos en cuentas de Automatización</span><span class="sxs-lookup"><span data-stu-id="32568-290">Correlate jobs across Automation accounts</span></span> 
* <span data-ttu-id="32568-291">Visualizar el historial de trabajos a lo largo del tiempo</span><span class="sxs-lookup"><span data-stu-id="32568-291">Visualize your job history over time</span></span>    

<span data-ttu-id="32568-292">Para más información sobre cómo configurar la integración con Log Analytics para recopilar, poner en correlación y actuar con los datos de trabajo, vea [Reenvío del estado de un trabajo y de transmisiones de trabajos de Automation a Log Analytics (OMS)](automation-manage-send-joblogs-log-analytics.md).</span><span class="sxs-lookup"><span data-stu-id="32568-292">For more information on how to configure integration with Log Analytics to collect, correlate and act on job data, see [Forward job status and job streams from Automation to Log Analytics (OMS)](automation-manage-send-joblogs-log-analytics.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="32568-293">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="32568-293">Next steps</span></span>
* <span data-ttu-id="32568-294">Para más información acerca de la ejecución de un runbook, cómo supervisar trabajos del runbook y otros detalles técnicos, consulte [Ejecución de un runbook en Automatización de Azure](automation-runbook-execution.md)</span><span class="sxs-lookup"><span data-stu-id="32568-294">To learn more about runbook execution, how to monitor runbook jobs, and other technical details, see [Track a runbook job](automation-runbook-execution.md)</span></span>
* <span data-ttu-id="32568-295">Para comprender cómo diseñar y usar Runbooks secundarios, consulte [Runbooks secundarios en la Automatización de Azure](automation-child-runbooks.md)</span><span class="sxs-lookup"><span data-stu-id="32568-295">To understand how to design and use child runbooks, see [Child runbooks in Azure Automation](automation-child-runbooks.md)</span></span>

