---
title: "aaaCredential activos de automatización de Azure | Documentos de Microsoft"
description: "Recursos de credenciales en la automatización de Azure contienen las credenciales de seguridad que pueden ser tooresources tooauthenticate usa acceso a runbook Hola o configuración de DSC. Este artículo describe cómo toocreate activos de credenciales y usarlos en un runbook o la configuración de DSC."
services: automation
documentationcenter: 
author: mgoedtel
manager: carmonm
editor: tysonn
ms.assetid: 3209bf73-c208-425e-82b6-df49860546dd
ms.service: automation
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 04/14/2017
ms.author: bwren
ms.openlocfilehash: 46f23a8f79d5863265af9cf84f6003e30f8e7d39
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="credential-assets-in-azure-automation"></a><span data-ttu-id="50142-104">Recursos de credenciales en Automatización de Azure</span><span class="sxs-lookup"><span data-stu-id="50142-104">Credential assets in Azure Automation</span></span>
<span data-ttu-id="50142-105">Un recurso de credencial de Automation contiene un objeto [PSCredential](http://msdn.microsoft.com/library/system.management.automation.pscredential) que contiene credenciales de seguridad, como un nombre de usuario y una contraseña.</span><span class="sxs-lookup"><span data-stu-id="50142-105">An Automation credential asset holds a [PSCredential](http://msdn.microsoft.com/library/system.management.automation.pscredential)  object which contains security credentials such as a username and password.</span></span> <span data-ttu-id="50142-106">Las configuraciones de runbooks y DSC pueden usar los cmdlets que aceptan un objeto PSCredential para la autenticación, o puede extraer el nombre de usuario de hello y una contraseña de hello tooprovide toosome aplicación de PSCredential objeto o servicio que requiera autenticación.</span><span class="sxs-lookup"><span data-stu-id="50142-106">Runbooks and DSC configurations may use cmdlets that accept a PSCredential object for authentication, or they may extract hello username and password of hello PSCredential object tooprovide toosome application or service requiring authentication.</span></span> <span data-ttu-id="50142-107">propiedades de Hola para una credencial se almacenan de forma segura en automatización de Azure y puede obtenerse mediante runbook Hola o configuración de DSC con hello [Get-AutomationPSCredential](http://msdn.microsoft.com/library/system.management.automation.pscredential.aspx) actividad.</span><span class="sxs-lookup"><span data-stu-id="50142-107">hello properties for a credential are stored securely in Azure Automation and can be accessed in hello runbook or DSC configuration with hello [Get-AutomationPSCredential](http://msdn.microsoft.com/library/system.management.automation.pscredential.aspx) activity.</span></span>

> [!NOTE]
> <span data-ttu-id="50142-108">Los recursos protegidos en Automatización de Azure incluyen credenciales, certificados, conexiones y variables cifradas.</span><span class="sxs-lookup"><span data-stu-id="50142-108">Secure assets in Azure Automation include credentials, certificates, connections, and encrypted variables.</span></span> <span data-ttu-id="50142-109">Estos activos se cifran y almacenan en hello automatización de Azure mediante una clave única que se genera para cada cuenta de automatización.</span><span class="sxs-lookup"><span data-stu-id="50142-109">These assets are encrypted and stored in hello Azure Automation using a unique key that is generated for each automation account.</span></span> <span data-ttu-id="50142-110">Esta clave se cifra mediante un certificado maestro y se almacena en Automatización de Azure.</span><span class="sxs-lookup"><span data-stu-id="50142-110">This key is encrypted by a master certificate and stored in Azure Automation.</span></span> <span data-ttu-id="50142-111">Antes de almacenar un recurso seguro, clave de hello para la cuenta de automatización de Hola se descifra mediante certificado maestro hello y, a continuación, utilice activos de hello tooencrypt.</span><span class="sxs-lookup"><span data-stu-id="50142-111">Before storing a secure asset, hello key for hello automation account is decrypted using hello master certificate and then used tooencrypt hello asset.</span></span>  

## <a name="windows-powershell-cmdlets"></a><span data-ttu-id="50142-112">Cmdlets de Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="50142-112">Windows PowerShell cmdlets</span></span>
<span data-ttu-id="50142-113">cmdlets de Hello en hello en la tabla siguiente son toocreate usado y administrar recursos de la credencial de automatización con Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="50142-113">hello cmdlets in hello following table are used toocreate and manage automation credential assets with Windows PowerShell.</span></span>  <span data-ttu-id="50142-114">Se incluyen como parte del programa Hola a [módulo Azure PowerShell](/powershell/azure/overview) que está disponible para su uso en runbooks de automatización y las configuraciones de DSC.</span><span class="sxs-lookup"><span data-stu-id="50142-114">They ship as part of hello [Azure PowerShell module](/powershell/azure/overview) which is available for use in Automation runbooks and DSC configurations.</span></span>

| <span data-ttu-id="50142-115">Cmdlets</span><span class="sxs-lookup"><span data-stu-id="50142-115">Cmdlets</span></span> | <span data-ttu-id="50142-116">Descripción</span><span class="sxs-lookup"><span data-stu-id="50142-116">Description</span></span> |
|:--- |:--- |
| [<span data-ttu-id="50142-117">Get-AzureAutomationCredential</span><span class="sxs-lookup"><span data-stu-id="50142-117">Get-AzureAutomationCredential</span></span>](/powershell/module/azure/get-azureautomationcredential?view=azuresmps-3.7.0) |<span data-ttu-id="50142-118">Recupera información acerca de un recurso de credencial.</span><span class="sxs-lookup"><span data-stu-id="50142-118">Retrieves information about a credential asset.</span></span> <span data-ttu-id="50142-119">Solo se puede recuperar la credencial de Hola de **Get-AutomationPSCredential** actividad.</span><span class="sxs-lookup"><span data-stu-id="50142-119">You can only retrieve hello credential itself from **Get-AutomationPSCredential** activity.</span></span> |
| [<span data-ttu-id="50142-120">New-AzureAutomationCredential</span><span class="sxs-lookup"><span data-stu-id="50142-120">New-AzureAutomationCredential</span></span>](/powershell/module/azure/new-azureautomationcredential?view=azuresmps-3.7.0) |<span data-ttu-id="50142-121">Crea una nueva credencial de Automatización.</span><span class="sxs-lookup"><span data-stu-id="50142-121">Creates a new Automation credential.</span></span> |
| [<span data-ttu-id="50142-122">Remove- AzureAutomationCredential</span><span class="sxs-lookup"><span data-stu-id="50142-122">Remove- AzureAutomationCredential</span></span>](/powershell/module/azure/new-azureautomationcredential?view=azuresmps-3.7.0) |<span data-ttu-id="50142-123">Quita una credencial de Automatización.</span><span class="sxs-lookup"><span data-stu-id="50142-123">Removes an Automation credential.</span></span> |
| [<span data-ttu-id="50142-124">Set- AzureAutomationCredential</span><span class="sxs-lookup"><span data-stu-id="50142-124">Set- AzureAutomationCredential</span></span>](/powershell/module/azure/new-azureautomationcredential?view=azuresmps-3.7.0) |<span data-ttu-id="50142-125">Conjuntos de Hola propiedades de una credencial de automatización existente.</span><span class="sxs-lookup"><span data-stu-id="50142-125">Sets hello properties for an existing Automation credential.</span></span> |

## <a name="runbook-activities"></a><span data-ttu-id="50142-126">Actividades de runbook</span><span class="sxs-lookup"><span data-stu-id="50142-126">Runbook activities</span></span>
<span data-ttu-id="50142-127">las actividades de Hello en hello en la tabla siguiente son credenciales tooaccess usado en un runbook y las configuraciones de DSC.</span><span class="sxs-lookup"><span data-stu-id="50142-127">hello activities in hello following table are used tooaccess credentials in a runbook and DSC configurations.</span></span>

| <span data-ttu-id="50142-128">Actividades</span><span class="sxs-lookup"><span data-stu-id="50142-128">Activities</span></span> | <span data-ttu-id="50142-129">Descripción</span><span class="sxs-lookup"><span data-stu-id="50142-129">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="50142-130">Get-AutomationPSCredential</span><span class="sxs-lookup"><span data-stu-id="50142-130">Get-AutomationPSCredential</span></span> |<span data-ttu-id="50142-131">Obtiene un toouse de credencial en un runbook o la configuración de DSC.</span><span class="sxs-lookup"><span data-stu-id="50142-131">Gets a credential toouse in a runbook or DSC configuration.</span></span> <span data-ttu-id="50142-132">Devuelve un objeto [System.Management.Automation.PSCredential](http://msdn.microsoft.com/library/system.management.automation.pscredential) .</span><span class="sxs-lookup"><span data-stu-id="50142-132">Returns a [System.Management.Automation.PSCredential](http://msdn.microsoft.com/library/system.management.automation.pscredential) object.</span></span> |

> [!NOTE]
> <span data-ttu-id="50142-133">Debe evitar usar variables en Hola: parámetro Name de Get-AutomationPSCredential ya que esto puede complicar la detección de dependencias entre runbooks o configuraciones de DSC y activos de credenciales en tiempo de diseño.</span><span class="sxs-lookup"><span data-stu-id="50142-133">You should avoid using variables in hello –Name parameter of Get-AutomationPSCredential since this can complicate discovering dependencies between runbooks or DSC configurations, and credential assets at design time.</span></span>
> 
> 

## <a name="creating-a-new-credential-asset"></a><span data-ttu-id="50142-134">Creación de un nuevo recurso de credencial</span><span class="sxs-lookup"><span data-stu-id="50142-134">Creating a new credential asset</span></span>

### <a name="toocreate-a-new-credential-asset-with-hello-azure-portal"></a><span data-ttu-id="50142-135">toocreate un nuevo recurso de credencial con hello portal de Azure</span><span class="sxs-lookup"><span data-stu-id="50142-135">toocreate a new credential asset with hello Azure portal</span></span>
1. <span data-ttu-id="50142-136">En su cuenta de automatización, haga clic en hello **activos** parte tooopen hello **activos** hoja.</span><span class="sxs-lookup"><span data-stu-id="50142-136">From your automation account, click hello **Assets** part tooopen hello **Assets** blade.</span></span>
2. <span data-ttu-id="50142-137">Haga clic en hello **credenciales** parte tooopen hello **credenciales** hoja.</span><span class="sxs-lookup"><span data-stu-id="50142-137">Click hello **Credentials** part tooopen hello **Credentials** blade.</span></span>
3. <span data-ttu-id="50142-138">Haga clic en **agregar una credencial** princip Hola de hoja de Hola.</span><span class="sxs-lookup"><span data-stu-id="50142-138">Click **Add a credential** at hello top of hello blade.</span></span>
4. <span data-ttu-id="50142-139">Rellene el formulario de Hola y haga clic en **crear** toosave Hola nueva credencial.</span><span class="sxs-lookup"><span data-stu-id="50142-139">Complete hello form and click **Create** toosave hello new credential.</span></span>

### <a name="toocreate-a-new-credential-asset-with-windows-powershell"></a><span data-ttu-id="50142-140">toocreate un recurso de credencial nuevo con Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="50142-140">toocreate a new credential asset with Windows PowerShell</span></span>
<span data-ttu-id="50142-141">Hello comandos de ejemplo siguientes muestran cómo toocreate una automatización nueva credencial.</span><span class="sxs-lookup"><span data-stu-id="50142-141">hello following sample commands show how toocreate a new automation credential.</span></span> <span data-ttu-id="50142-142">Un objeto PSCredential se crea por primera vez con el nombre de Hola y la contraseña y, a continuación, usa activo de credencial de toocreate Hola.</span><span class="sxs-lookup"><span data-stu-id="50142-142">A PSCredential object is first created with hello name and password and then used toocreate hello credential asset.</span></span> <span data-ttu-id="50142-143">Como alternativa, podría utilizar hello **Get-Credential** toobe cmdlet pide tootype en un nombre y una contraseña.</span><span class="sxs-lookup"><span data-stu-id="50142-143">Alternatively, you could use hello **Get-Credential** cmdlet toobe prompted tootype in a name and password.</span></span>

    $user = "MyDomain\MyUser"
    $pw = ConvertTo-SecureString "PassWord!" -AsPlainText -Force
    $cred = New-Object –TypeName System.Management.Automation.PSCredential –ArgumentList $user, $pw
    New-AzureAutomationCredential -AutomationAccountName "MyAutomationAccount" -Name "MyCredential" -Value $cred

### <a name="toocreate-a-new-credential-asset-with-hello-azure-classic-portal"></a><span data-ttu-id="50142-144">toocreate un nuevo recurso de credencial con hello portal de Azure clásico</span><span class="sxs-lookup"><span data-stu-id="50142-144">toocreate a new credential asset with hello Azure classic portal</span></span>
1. <span data-ttu-id="50142-145">En su cuenta de automatización, haga clic en **activos** en parte superior de Hola de ventana hello.</span><span class="sxs-lookup"><span data-stu-id="50142-145">From your automation account, click **Assets** at hello top of hello window.</span></span>
2. <span data-ttu-id="50142-146">En la parte inferior de Hola de ventana hello, haga clic en **Agregar configuración**.</span><span class="sxs-lookup"><span data-stu-id="50142-146">At hello bottom of hello window, click **Add Setting**.</span></span>
3. <span data-ttu-id="50142-147">Haga clic en **Agregar credencial**.</span><span class="sxs-lookup"><span data-stu-id="50142-147">Click **Add Credential**.</span></span>
4. <span data-ttu-id="50142-148">Hola **tipo de credencial** lista desplegable, seleccione **credencial de PowerShell**.</span><span class="sxs-lookup"><span data-stu-id="50142-148">In hello **Credential Type** dropdown, select **PowerShell Credential**.</span></span>
5. <span data-ttu-id="50142-149">Complete el Asistente de Hola y haga clic en nueva credencial de hello casilla toosave Hola.</span><span class="sxs-lookup"><span data-stu-id="50142-149">Complete hello wizard and click hello checkbox toosave hello new credential.</span></span>

## <a name="using-a-powershell-credential"></a><span data-ttu-id="50142-150">Uso de una credencial de PowerShell</span><span class="sxs-lookup"><span data-stu-id="50142-150">Using a PowerShell credential</span></span>
<span data-ttu-id="50142-151">Recuperar un recurso de credencial en un runbook o la configuración de DSC con hello **Get-AutomationPSCredential** actividad.</span><span class="sxs-lookup"><span data-stu-id="50142-151">You retrieve a credential asset in a runbook or DSC configuration with hello **Get-AutomationPSCredential** activity.</span></span> <span data-ttu-id="50142-152">Esto devuelve un [objeto PSCredential](http://msdn.microsoft.com/library/system.management.automation.pscredential.aspx) que puede usar con una actividad o cmdlet que requiere un parámetro PSCredential.</span><span class="sxs-lookup"><span data-stu-id="50142-152">This returns a [PSCredential object](http://msdn.microsoft.com/library/system.management.automation.pscredential.aspx) that you can use with an activity or cmdlet that requires a PSCredential parameter.</span></span> <span data-ttu-id="50142-153">También puede recuperar propiedades de Hola de toouse de objeto de credencial de hello individualmente.</span><span class="sxs-lookup"><span data-stu-id="50142-153">You can also retrieve hello properties of hello credential object toouse individually.</span></span> <span data-ttu-id="50142-154">objeto Hello tiene una propiedad Hola nombre de usuario y una contraseña segura de hello, o puede usar hello **GetNetworkCredential** método tooreturn una [NetworkCredential](http://msdn.microsoft.com/library/system.net.networkcredential.aspx) objeto que proporcionará una no segura versión de Hola contraseña.</span><span class="sxs-lookup"><span data-stu-id="50142-154">hello object has a property for hello username and hello secure password, or you can use hello **GetNetworkCredential** method tooreturn a [NetworkCredential](http://msdn.microsoft.com/library/system.net.networkcredential.aspx) object that will provide an unsecured version of hello password.</span></span>

### <a name="textual-runbook-sample"></a><span data-ttu-id="50142-155">Ejemplo de runbook de texto</span><span class="sxs-lookup"><span data-stu-id="50142-155">Textual runbook sample</span></span>
<span data-ttu-id="50142-156">Hello comandos de ejemplo siguientes muestran cómo toouse un PowerShell de credenciales en un runbook.</span><span class="sxs-lookup"><span data-stu-id="50142-156">hello following sample commands show how toouse a PowerShell credential in a runbook.</span></span> <span data-ttu-id="50142-157">En este ejemplo, se recupera la credencial de Hola y su nombre de usuario y la contraseña asignan toovariables.</span><span class="sxs-lookup"><span data-stu-id="50142-157">In this example, hello credential is retrieved and its username and password assigned toovariables.</span></span>

    $myCredential = Get-AutomationPSCredential -Name 'MyCredential'
    $userName = $myCredential.UserName
    $securePassword = $myCredential.Password
    $password = $myCredential.GetNetworkCredential().Password


### <a name="graphical-runbook-sample"></a><span data-ttu-id="50142-158">Ejemplo de runbook gráfico</span><span class="sxs-lookup"><span data-stu-id="50142-158">Graphical runbook sample</span></span>
<span data-ttu-id="50142-159">Agrega un **Get-AutomationPSCredential** actividad tooa un runbook gráfico con el botón secundario en la credencial de hello en el panel de la biblioteca de Hola de editor gráfico de Hola y seleccionando **agregar toocanvas**.</span><span class="sxs-lookup"><span data-stu-id="50142-159">You add a **Get-AutomationPSCredential** activity tooa graphical runbook by right-clicking on hello credential in hello Library pane of hello graphical editor and selecting **Add toocanvas**.</span></span>

![Agregar credencial toocanvas](media/automation-credentials/credential-add-canvas.png)

<span data-ttu-id="50142-161">Hello siguiente imagen muestra un ejemplo del uso de una credencial en un runbook gráfico.</span><span class="sxs-lookup"><span data-stu-id="50142-161">hello following image shows an example of using a credential in a graphical runbook.</span></span>  <span data-ttu-id="50142-162">En este caso, se está autenticación tooprovide usados para los recursos de tooAzure de runbook tal como se describe en [Runbooks autenticar con la cuenta de usuario de Azure AD](automation-create-aduser-account.md).</span><span class="sxs-lookup"><span data-stu-id="50142-162">In this case, it is being used tooprovide authentication for a runbook tooAzure resources as described in [Authenticate Runbooks with Azure AD User account](automation-create-aduser-account.md).</span></span>  <span data-ttu-id="50142-163">primera actividad de Hello recupera la credencial de Hola que tiene acceso toohello suscripción de Azure.</span><span class="sxs-lookup"><span data-stu-id="50142-163">hello first activity retrieves hello credential that has access toohello Azure subscription.</span></span>  <span data-ttu-id="50142-164">Hola **Add-AzureAccount** actividad, a continuación, usa esta credencial tooprovide la autenticación para las actividades que venir después de ella.</span><span class="sxs-lookup"><span data-stu-id="50142-164">hello **Add-AzureAccount** activity then uses this credential tooprovide authentication for any activities that come after it.</span></span>  <span data-ttu-id="50142-165">Aquí se encuentra un [vínculo de canalización](automation-graphical-authoring-intro.md#links-and-workflow) , debido a que **Get-AutomationPSCredential** espera un solo objeto.</span><span class="sxs-lookup"><span data-stu-id="50142-165">A [pipeline link](automation-graphical-authoring-intro.md#links-and-workflow) is here since **Get-AutomationPSCredential** is expecting a single object.</span></span>  

![Agregar credencial toocanvas](media/automation-credentials/get-credential.png)

## <a name="using-a-powershell-credential-in-dsc"></a><span data-ttu-id="50142-167">Uso de una credencial de PowerShell en DSC</span><span class="sxs-lookup"><span data-stu-id="50142-167">Using a PowerShell credential in DSC</span></span>
<span data-ttu-id="50142-168">Mientras las configuraciones DSC en Automatización de Azure pueden hacer referencia a los activos de credenciales a través de **Get-AutomationPSCredential**, los activos de credenciales también se pueden pasar, si se desea, a través de los parámetros.</span><span class="sxs-lookup"><span data-stu-id="50142-168">While DSC configurations in Azure Automation can reference credential assets using **Get-AutomationPSCredential**, credential assets can also be passed in via parameters, if desired.</span></span> <span data-ttu-id="50142-169">Para obtener más información, consulte [Compilación de configuraciones en DSC de Automatización de Azure](automation-dsc-compile.md#credential-assets).</span><span class="sxs-lookup"><span data-stu-id="50142-169">For more information, see [Compiling configurations in Azure Automation DSC](automation-dsc-compile.md#credential-assets).</span></span>

## <a name="next-steps"></a><span data-ttu-id="50142-170">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="50142-170">Next Steps</span></span>
* <span data-ttu-id="50142-171">toolearn más información acerca de los vínculos de edición gráfica, consulte [vínculos de edición gráfica](automation-graphical-authoring-intro.md#links-and-workflow)</span><span class="sxs-lookup"><span data-stu-id="50142-171">toolearn more about links in graphical authoring, see [Links in graphical authoring](automation-graphical-authoring-intro.md#links-and-workflow)</span></span>
* <span data-ttu-id="50142-172">toounderstand Hola distintos métodos de autenticación con la automatización, vea [seguridad de automatización de Azure](automation-security-overview.md)</span><span class="sxs-lookup"><span data-stu-id="50142-172">toounderstand hello different authentication methods with Automation, see [Azure Automation Security](automation-security-overview.md)</span></span>
* <span data-ttu-id="50142-173">tooget a trabajar con runbooks gráficos, consulte [mi primer runbook gráfico](automation-first-runbook-graphical.md)</span><span class="sxs-lookup"><span data-stu-id="50142-173">tooget started with Graphical runbooks, see [My first graphical runbook](automation-first-runbook-graphical.md)</span></span>
* <span data-ttu-id="50142-174">tooget a trabajar con runbooks de flujo de trabajo de PowerShell, consulte [mi primer runbook de flujo de trabajo de PowerShell](automation-first-runbook-textual.md)</span><span class="sxs-lookup"><span data-stu-id="50142-174">tooget started with PowerShell workflow runbooks, see [My first PowerShell workflow runbook](automation-first-runbook-textual.md)</span></span> 

