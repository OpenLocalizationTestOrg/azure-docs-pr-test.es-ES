---
title: "ejecución de aaaRunbook en automatización de Azure | Documentos de Microsoft"
description: "Describe los detalles de Hola de cómo se procesa un runbook en automatización de Azure."
services: automation
documentationcenter: 
author: mgoedtel
manager: jwhit
editor: tysonn
ms.assetid: d10c8ce2-2c0b-4ea7-ba3c-d20e09b2c9ca
ms.service: automation
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 08/17/2017
ms.author: bwren
ms.openlocfilehash: bdb535675443353d44640bc7773de3f9dac5e42c
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="runbook-execution-in-azure-automation"></a><span data-ttu-id="27760-103">Ejecución de un runbook en Automatización de Azure</span><span class="sxs-lookup"><span data-stu-id="27760-103">Runbook execution in Azure Automation</span></span>
<span data-ttu-id="27760-104">Cuando se inicia un runbook en Automatización de Azure, se crea un trabajo.</span><span class="sxs-lookup"><span data-stu-id="27760-104">When you start a runbook in Azure Automation, a job is created.</span></span> <span data-ttu-id="27760-105">Un trabajo es una instancia única de ejecución de un runbook.</span><span class="sxs-lookup"><span data-stu-id="27760-105">A job is a single execution instance of a runbook.</span></span> <span data-ttu-id="27760-106">Una automatización de Azure trabajador está asignado toorun cada trabajo.</span><span class="sxs-lookup"><span data-stu-id="27760-106">An Azure Automation worker is assigned toorun each job.</span></span> <span data-ttu-id="27760-107">Aunque los trabajadores se comparten por varias cuentas de Azure, los trabajos de diferentes cuentas de Automatización están aislados entre sí.</span><span class="sxs-lookup"><span data-stu-id="27760-107">While workers are shared by multiple Azure accounts, jobs from different Automation accounts are isolated from one another.</span></span> <span data-ttu-id="27760-108">No tiene control sobre qué solicitud de hello de servicios de trabajo para su trabajo.</span><span class="sxs-lookup"><span data-stu-id="27760-108">You do not have control over which worker services hello request for your job.</span></span>  <span data-ttu-id="27760-109">Un único runbook puede tener varios trabajos que se ejecutan al mismo tiempo.</span><span class="sxs-lookup"><span data-stu-id="27760-109">A single runbook can have multiple jobs running at one time.</span></span> <span data-ttu-id="27760-110">Al ver lista de Hola de runbooks en hello portal de Azure, muestra el estado de Hola de todos los trabajos que se iniciaron para cada runbook.</span><span class="sxs-lookup"><span data-stu-id="27760-110">When you view hello list of runbooks in hello Azure portal, it lists hello status of all jobs that were started for each runbook.</span></span> <span data-ttu-id="27760-111">Puede ver lista de Hola de trabajos para cada runbook en estado de hello tootrack los pedidos de cada uno.</span><span class="sxs-lookup"><span data-stu-id="27760-111">You can view hello list of jobs for each runbook in order tootrack hello status of each.</span></span> <span data-ttu-id="27760-112">Para obtener una descripción de hello diferentes Estados de trabajo, consulte [Estados de trabajo](#job-statuses).</span><span class="sxs-lookup"><span data-stu-id="27760-112">For a description of hello different job statuses, see [Job Statuses](#job-statuses).</span></span>

<span data-ttu-id="27760-113">Hello siguiente diagrama muestra hello del ciclo de vida de un trabajo de runbook para [runbooks gráficos](automation-runbook-types.md#graphical-runbooks) y [runbooks de flujo de trabajo de PowerShell](automation-runbook-types.md#powershell-workflow-runbooks).</span><span class="sxs-lookup"><span data-stu-id="27760-113">hello following diagram shows hello lifecycle of a runbook job for [Graphical runbooks](automation-runbook-types.md#graphical-runbooks) and [PowerShell Workflow runbooks](automation-runbook-types.md#powershell-workflow-runbooks).</span></span>

![Estados de trabajo: flujo de trabajo de PowerShell](./media/automation-runbook-execution/job-statuses.png)

<span data-ttu-id="27760-115">Hello siguiente diagrama muestra hello del ciclo de vida de un trabajo de runbook para [runbooks PowerShell](automation-runbook-types.md#powershell-runbooks).</span><span class="sxs-lookup"><span data-stu-id="27760-115">hello following diagram shows hello lifecycle of a runbook job for [PowerShell runbooks](automation-runbook-types.md#powershell-runbooks).</span></span>

![Estados de trabajo: script de PowerShell](./media/automation-runbook-execution/job-statuses-script.png)

<span data-ttu-id="27760-117">Los trabajos tienen acceso tooyour Azure recursos mediante la realización de una suscripción de Azure tooyour de conexión.</span><span class="sxs-lookup"><span data-stu-id="27760-117">Your jobs have access tooyour Azure resources by making a connection tooyour Azure subscription.</span></span> <span data-ttu-id="27760-118">Solo tienen acceso tooresources en su centro de datos si esos recursos son accesibles desde la nube pública de Hola.</span><span class="sxs-lookup"><span data-stu-id="27760-118">They only have access tooresources in your data center if those resources are accessible from hello public cloud.</span></span>

## <a name="job-statuses"></a><span data-ttu-id="27760-119">Estados del trabajo</span><span class="sxs-lookup"><span data-stu-id="27760-119">Job statuses</span></span>
<span data-ttu-id="27760-120">Hello siguiente tabla describe Hola diferentes estados posibles de un trabajo.</span><span class="sxs-lookup"><span data-stu-id="27760-120">hello following table describes hello different statuses that are possible for a job.</span></span>

| <span data-ttu-id="27760-121">Estado</span><span class="sxs-lookup"><span data-stu-id="27760-121">Status</span></span> | <span data-ttu-id="27760-122">Descripción</span><span class="sxs-lookup"><span data-stu-id="27760-122">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="27760-123">Completed</span><span class="sxs-lookup"><span data-stu-id="27760-123">Completed</span></span> |<span data-ttu-id="27760-124">ha completado correctamente el trabajo de Hola.</span><span class="sxs-lookup"><span data-stu-id="27760-124">hello job completed successfully.</span></span> |
| <span data-ttu-id="27760-125">Con error</span><span class="sxs-lookup"><span data-stu-id="27760-125">Failed</span></span> |<span data-ttu-id="27760-126">Para [runbooks gráficos y flujo de trabajo de PowerShell](automation-runbook-types.md), error del runbook de hello toocompile.</span><span class="sxs-lookup"><span data-stu-id="27760-126">For [Graphical and PowerShell Workflow runbooks](automation-runbook-types.md), hello runbook failed toocompile.</span></span>  <span data-ttu-id="27760-127">Para [runbooks de Script de PowerShell](automation-runbook-types.md), error del runbook de hello toostart u Hola trabajo detecta una excepción.</span><span class="sxs-lookup"><span data-stu-id="27760-127">For [PowerShell Script runbooks](automation-runbook-types.md), hello runbook failed toostart or hello job encountered an exception.</span></span> |
| <span data-ttu-id="27760-128">Error, esperando recursos</span><span class="sxs-lookup"><span data-stu-id="27760-128">Failed, waiting for resources</span></span> |<span data-ttu-id="27760-129">Error del trabajo de Hello porque ha alcanzado hello [equilibrada](#fairshare) limitar tres veces e iniciarse desde Hola mismo punto de control o desde Hola iniciar de hello runbook cada vez.</span><span class="sxs-lookup"><span data-stu-id="27760-129">hello job failed because it reached hello [fair share](#fairshare) limit three times and started from hello same checkpoint or from hello start of hello runbook each time.</span></span> |
| <span data-ttu-id="27760-130">En cola</span><span class="sxs-lookup"><span data-stu-id="27760-130">Queued</span></span> |<span data-ttu-id="27760-131">Hola trabajo está esperando recursos en un toocome de trabajo de automatización disponible para que se puede iniciar.</span><span class="sxs-lookup"><span data-stu-id="27760-131">hello job is waiting for resources on an Automation worker toocome available so that it can be started.</span></span> |
| <span data-ttu-id="27760-132">Iniciando</span><span class="sxs-lookup"><span data-stu-id="27760-132">Starting</span></span> |<span data-ttu-id="27760-133">trabajo de Hola se ha asignado el trabajo tooa y sistema Hola está en proceso de Hola de iniciarlo.</span><span class="sxs-lookup"><span data-stu-id="27760-133">hello job has been assigned tooa worker, and hello system is in hello process of starting it.</span></span> |
| <span data-ttu-id="27760-134">Reanudando</span><span class="sxs-lookup"><span data-stu-id="27760-134">Resuming</span></span> |<span data-ttu-id="27760-135">sistema de Hello está en proceso de Hola de reanudar el trabajo de hello después de haberse suspendido.</span><span class="sxs-lookup"><span data-stu-id="27760-135">hello system is in hello process of resuming hello job after it was suspended.</span></span> |
| <span data-ttu-id="27760-136">En ejecución</span><span class="sxs-lookup"><span data-stu-id="27760-136">Running</span></span> |<span data-ttu-id="27760-137">trabajo de saludo se está ejecutando.</span><span class="sxs-lookup"><span data-stu-id="27760-137">hello job is running.</span></span> |
| <span data-ttu-id="27760-138">En ejecución, esperando recursos</span><span class="sxs-lookup"><span data-stu-id="27760-138">Running, waiting for resources</span></span> |<span data-ttu-id="27760-139">Hello trabajo se ha descargado porque ha alcanzado hello [equilibrada](#fairshare) límite.</span><span class="sxs-lookup"><span data-stu-id="27760-139">hello job has been unloaded because it reached hello [fair share](#fairshare) limit.</span></span> <span data-ttu-id="27760-140">Se reanuda en breve desde su último punto de control.</span><span class="sxs-lookup"><span data-stu-id="27760-140">It resumes shortly from its last checkpoint.</span></span> |
| <span data-ttu-id="27760-141">Stopped</span><span class="sxs-lookup"><span data-stu-id="27760-141">Stopped</span></span> |<span data-ttu-id="27760-142">se detuvo el trabajo de Hola por usuario de hello antes de completarse.</span><span class="sxs-lookup"><span data-stu-id="27760-142">hello job was stopped by hello user before it was completed.</span></span> |
| <span data-ttu-id="27760-143">Deteniéndose</span><span class="sxs-lookup"><span data-stu-id="27760-143">Stopping</span></span> |<span data-ttu-id="27760-144">sistema de Hello está en proceso de Hola de detener el trabajo de Hola.</span><span class="sxs-lookup"><span data-stu-id="27760-144">hello system is in hello process of stopping hello job.</span></span> |
| <span data-ttu-id="27760-145">Suspended</span><span class="sxs-lookup"><span data-stu-id="27760-145">Suspended</span></span> |<span data-ttu-id="27760-146">Hola trabajo se suspendió usuario hello, sistema de Hola o un comando hello runbook.</span><span class="sxs-lookup"><span data-stu-id="27760-146">hello job was suspended by hello user, by hello system, or by a command in hello runbook.</span></span> <span data-ttu-id="27760-147">Un trabajo que está suspendido se puede iniciar de nuevo y se reanudará desde su último punto de control o desde el principio de Hola de hello runbook si no tiene puntos de control.</span><span class="sxs-lookup"><span data-stu-id="27760-147">A job that is suspended can be started again and resume from its last checkpoint or from hello beginning of hello runbook if it doesn't have checkpoints.</span></span> <span data-ttu-id="27760-148">sistema de hello solo suspenderá Hola runbook cuando se produce una excepción.</span><span class="sxs-lookup"><span data-stu-id="27760-148">hello runbook will only be suspended by hello system when an exception occurs.</span></span> <span data-ttu-id="27760-149">De forma predeterminada, se establece demasiado ErrorActionPreference**continuar**, lo que significa que el trabajo de hello sigue ejecutándose en un error.</span><span class="sxs-lookup"><span data-stu-id="27760-149">By default, ErrorActionPreference is set too**Continue**, meaning that hello job keeps running on an error.</span></span> <span data-ttu-id="27760-150">Si esta variable de preferencia se establece demasiado**detener**, a continuación, se suspende el trabajo de hello en un error.</span><span class="sxs-lookup"><span data-stu-id="27760-150">If this preference variable is set too**Stop**, then hello job suspends on an error.</span></span>  <span data-ttu-id="27760-151">Se aplica demasiado[runbooks gráficos y flujo de trabajo de PowerShell](automation-runbook-types.md) solo.</span><span class="sxs-lookup"><span data-stu-id="27760-151">Applies too[Graphical and PowerShell Workflow runbooks](automation-runbook-types.md) only.</span></span> |
| <span data-ttu-id="27760-152">Suspendiendo</span><span class="sxs-lookup"><span data-stu-id="27760-152">Suspending</span></span> |<span data-ttu-id="27760-153">sistema de Hello intenta realizar trabajo de hello toosuspend a la solicitud de saludo del usuario de Hola.</span><span class="sxs-lookup"><span data-stu-id="27760-153">hello system is attempting toosuspend hello job at hello request of hello user.</span></span> <span data-ttu-id="27760-154">Hola runbook debe alcanzar el punto de control siguiente antes de que se pueda suspender.</span><span class="sxs-lookup"><span data-stu-id="27760-154">hello runbook must reach its next checkpoint before it can be suspended.</span></span> <span data-ttu-id="27760-155">Si ya ha pasado su último punto de control, se completa antes de que se pueda suspender.</span><span class="sxs-lookup"><span data-stu-id="27760-155">If it already passed its last checkpoint, then it completes before it can be suspended.</span></span>  <span data-ttu-id="27760-156">Se aplica demasiado[runbooks gráficos y flujo de trabajo de PowerShell](automation-runbook-types.md) solo.</span><span class="sxs-lookup"><span data-stu-id="27760-156">Applies too[Graphical and PowerShell Workflow runbooks](automation-runbook-types.md) only.</span></span> |

## <a name="viewing-job-status-from-hello-azure-portal"></a><span data-ttu-id="27760-157">Ver el estado del trabajo de hello portal de Azure</span><span class="sxs-lookup"><span data-stu-id="27760-157">Viewing job status from hello Azure portal</span></span>
<span data-ttu-id="27760-158">Puede ver un resumen de estado de todos los trabajos de runbook o profundizar en los detalles de un trabajo de runbook específico en hello portal de Azure o mediante la configuración de integración con el estado del trabajo de runbook de análisis de registros de Microsoft Operations Management Suite (OMS) área de trabajo tooforward y flujos de trabajo.</span><span class="sxs-lookup"><span data-stu-id="27760-158">You can view a summarized status of all runbook jobs or drill into details of a specific runbook job in hello Azure portal or by configuring integration with your Microsoft Operations Management Suite (OMS) Log Analytics workspace tooforward runbook job status and job streams.</span></span>  <span data-ttu-id="27760-159">Para obtener más información sobre la integración con análisis de registros de OMS, consulte [reenviar el estado del trabajo y flujos de trabajo de automatización tooLog Analytics (OMS)](automation-manage-send-joblogs-log-analytics.md).</span><span class="sxs-lookup"><span data-stu-id="27760-159">For more information about integrating with OMS Log Analytics, see [Forward job status and job streams from Automation tooLog Analytics (OMS)](automation-manage-send-joblogs-log-analytics.md).</span></span>  

### <a name="automation-runbook-jobs-summary"></a><span data-ttu-id="27760-160">Resumen de trabajos de runbook de Automation</span><span class="sxs-lookup"><span data-stu-id="27760-160">Automation runbook jobs summary</span></span>
<span data-ttu-id="27760-161">En hello derecha de la cuenta de automatización seleccionada, puede ver un resumen de todos los trabajos de runbook de Hola para una cuenta de automatización seleccionada en **estadísticas trabajos** icono.</span><span class="sxs-lookup"><span data-stu-id="27760-161">On hello right of your selected Automation account, you can see a summary of all of hello runbook jobs for a selected Automation account under **Job Statistics** tile.</span></span><br><br> <span data-ttu-id="27760-162">![Icono Estadísticas de trabajo](./media/automation-runbook-execution/automation-account-job-status-summary.png).</span><span class="sxs-lookup"><span data-stu-id="27760-162">![Job Statistics tile](./media/automation-runbook-execution/automation-account-job-status-summary.png).</span></span><br> <span data-ttu-id="27760-163">Este icono muestra un recuento y una representación gráfica del estado del trabajo de Hola para todos los trabajos que se ejecuta.</span><span class="sxs-lookup"><span data-stu-id="27760-163">This tile displays a count and graphical representation of hello job status for all jobs executed.</span></span>  

<span data-ttu-id="27760-164">Al hacer clic en el icono de hello presenta hello **trabajos** hoja, que incluye una lista resumida de todos los trabajos que se ejecuta, con el estado, la ejecución del trabajo y horas de inicio y finalización.</span><span class="sxs-lookup"><span data-stu-id="27760-164">Clicking on hello tile presents hello **Jobs** blade, which includes a summarized list of all jobs executed, with status, job execution, and start and completion times.</span></span><br><br> <span data-ttu-id="27760-165">![Hoja Trabajos de cuenta de Automation](./media/automation-runbook-execution/automation-account-jobs-status-blade.png)</span><span class="sxs-lookup"><span data-stu-id="27760-165">![Automation account Jobs blade](./media/automation-runbook-execution/automation-account-jobs-status-blade.png)</span></span><br><br>  <span data-ttu-id="27760-166">Puede filtrar lista Hola de trabajos seleccionando **filtre los trabajos** y filtrar en un runbook específico, el estado del trabajo o de lista desplegable de hello, Hola toosearch de intervalo de fecha y hora en.</span><span class="sxs-lookup"><span data-stu-id="27760-166">You can filter hello list of jobs by selecting **Filter jobs**  and filter on a specific runbook, job status, or from hello drop-down list, hello date/time range toosearch within.</span></span><br><br> <span data-ttu-id="27760-167">![Filtrar estado del trabajo](./media/automation-runbook-execution/automation-account-jobs-filter.png)</span><span class="sxs-lookup"><span data-stu-id="27760-167">![Filter Job status](./media/automation-runbook-execution/automation-account-jobs-filter.png)</span></span>

<span data-ttu-id="27760-168">Como alternativa, puede ver detalles de resumen de trabajo para un runbook específico seleccionando dicho runbook de hello **Runbooks** hoja en tu cuenta de automatización y, a continuación, seleccione Hola **trabajos** icono.</span><span class="sxs-lookup"><span data-stu-id="27760-168">Alternatively, you can view job summary details for a specific runbook by selecting that runbook from hello **Runbooks** blade in your Automation account, and then select hello **Jobs** tile.</span></span>  <span data-ttu-id="27760-169">Esto presenta hello **trabajos** hoja, y desde allí puede hacer clic en tooview de registro de trabajo de hello sus detalles y el resultado.</span><span class="sxs-lookup"><span data-stu-id="27760-169">This presents hello **Jobs** blade, and from there you can click on hello job record tooview its detail and output.</span></span><br><br> <span data-ttu-id="27760-170">![Hoja Trabajos de cuenta de Automation](./media/automation-runbook-execution/automation-runbook-job-summary-blade.png)</span><span class="sxs-lookup"><span data-stu-id="27760-170">![Automation account Jobs blade](./media/automation-runbook-execution/automation-runbook-job-summary-blade.png)</span></span><br> 

### <a name="job-summary"></a><span data-ttu-id="27760-171">Resumen del trabajo</span><span class="sxs-lookup"><span data-stu-id="27760-171">Job Summary</span></span>
<span data-ttu-id="27760-172">Puede ver una lista de todos los trabajos de Hola que se han creado para un runbook determinado y su estado más reciente.</span><span class="sxs-lookup"><span data-stu-id="27760-172">You can view a list of all of hello jobs that have been created for a particular runbook and their most recent status.</span></span> <span data-ttu-id="27760-173">Puede filtrar la lista por el estado del trabajo y Hola intervalo de fechas para saludo del último cambio toohello trabajo.</span><span class="sxs-lookup"><span data-stu-id="27760-173">You can filter this list by job status and hello range of dates for hello last change toohello job.</span></span> <span data-ttu-id="27760-174">tooview su información detallada y salida, haga clic en nombre de Hola de un trabajo.</span><span class="sxs-lookup"><span data-stu-id="27760-174">tooview its detailed information and output, click on hello name of a job.</span></span> <span data-ttu-id="27760-175">Hello vista detallada del trabajo de hello incluye valores de hello para parámetros de runbook de Hola que se proporcionaron toothat trabajo.</span><span class="sxs-lookup"><span data-stu-id="27760-175">hello detailed view of hello job includes hello values for hello runbook parameters that were provided toothat job.</span></span>

<span data-ttu-id="27760-176">Puede usar Hola siguiendo los pasos tooview Hola de trabajos de un runbook.</span><span class="sxs-lookup"><span data-stu-id="27760-176">You can use hello following steps tooview hello jobs for a runbook.</span></span>

1. <span data-ttu-id="27760-177">Hola portal de Azure, seleccione **automatización** y, a continuación, seleccione nombre de Hola de una cuenta de automatización.</span><span class="sxs-lookup"><span data-stu-id="27760-177">In hello Azure portal, select **Automation** and then select hello name of an Automation account.</span></span>
2. <span data-ttu-id="27760-178">Desde el concentrador de hello, seleccione **Runbooks** y, a continuación, en hello **Runbooks** hoja seleccionar un runbook de lista Hola.</span><span class="sxs-lookup"><span data-stu-id="27760-178">From hello hub, select **Runbooks** and then on hello **Runbooks** blade select a runbook from hello list.</span></span>
3. <span data-ttu-id="27760-179">En hoja Hola runbook Hola seleccionado, haga clic en hello **trabajos** icono.</span><span class="sxs-lookup"><span data-stu-id="27760-179">On hello blade for hello selected runbook, click hello **Jobs** tile.</span></span>
4. <span data-ttu-id="27760-180">Haga clic en uno de los trabajos de hello en lista de Hola y de hoja de detalles de trabajo de runbook de hello puede ver sus detalles y el resultado.</span><span class="sxs-lookup"><span data-stu-id="27760-180">Click on one of hello jobs in hello list and on hello runbook job details blade you can view its detail and output.</span></span>

## <a name="retrieving-job-status-using-windows-powershell"></a><span data-ttu-id="27760-181">Recuperación del estado del trabajo con Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="27760-181">Retrieving job status using Windows PowerShell</span></span>
<span data-ttu-id="27760-182">Puede usar hello [AzureRmAutomationJob Get](https://msdn.microsoft.com/library/mt619440.aspx) trabajos de hello tooretrieve creados para un runbook y Hola los detalles de un trabajo determinado.</span><span class="sxs-lookup"><span data-stu-id="27760-182">You can use hello [Get-AzureRmAutomationJob](https://msdn.microsoft.com/library/mt619440.aspx) tooretrieve hello jobs created for a runbook and hello details of a particular job.</span></span> <span data-ttu-id="27760-183">Si se inicia un runbook con Windows PowerShell mediante [AzureRmAutomationRunbook inicio](https://msdn.microsoft.com/library/mt603661.aspx), a continuación, devuelve el trabajo resultante Hola.</span><span class="sxs-lookup"><span data-stu-id="27760-183">If you start a runbook with Windows PowerShell using [Start-AzureRmAutomationRunbook](https://msdn.microsoft.com/library/mt603661.aspx), then it returns hello resulting job.</span></span> <span data-ttu-id="27760-184">Use [Get AzureRmAutomationJob](https://msdn.microsoft.com/library/mt619440.aspx)tooget de salida de salida de un trabajo.</span><span class="sxs-lookup"><span data-stu-id="27760-184">Use [Get-AzureRmAutomationJob](https://msdn.microsoft.com/library/mt619440.aspx)Output tooget a job’s output.</span></span>

<span data-ttu-id="27760-185">Hello comandos de ejemplo siguientes recuperar el último trabajo de un runbook de muestra de Hola y muestra su estado, los valores de hello proporcionados para los parámetros de runbook de Hola y Hola de salida de trabajo de Hola.</span><span class="sxs-lookup"><span data-stu-id="27760-185">hello following sample commands retrieve hello last job for a sample runbook and displays its status, hello values provided for hello runbook parameters, and hello output from hello job.</span></span>

    $job = (Get-AzureRmAutomationJob –AutomationAccountName "MyAutomationAccount" `
    –RunbookName "Test-Runbook" -ResourceGroupName "ResourceGroup01" | sort LastModifiedDate –desc)[0]
    $job.Status
    $job.JobParameters
    Get-AzureRmAutomationJobOutput -ResourceGroupName "ResourceGroup01" `
    –AutomationAccountName "MyAutomationAcct" -Id $job.JobId –Stream Output

## <a name="fair-share"></a><span data-ttu-id="27760-186">distribución equilibrada</span><span class="sxs-lookup"><span data-stu-id="27760-186">Fair share</span></span>
<span data-ttu-id="27760-187">En los recursos de tooshare de orden entre todos los runbooks en la nube de hello, automatización de Azure descargará temporalmente cualquier trabajo después de que se ha estado ejecutando durante tres horas.</span><span class="sxs-lookup"><span data-stu-id="27760-187">In order tooshare resources among all runbooks in hello cloud, Azure Automation will temporarily unload any job after it has been running for three hours.</span></span>  <span data-ttu-id="27760-188">Durante este tiempo, los trabajos de [runbooks basados en PowerShell](automation-runbook-types.md#powershell-runbooks) se detienen y no se reiniciarán.</span><span class="sxs-lookup"><span data-stu-id="27760-188">During this time, jobs for [PowerShell-based runbooks](automation-runbook-types.md#powershell-runbooks) are stopped and will not be restarted.</span></span>  <span data-ttu-id="27760-189">Hola muestra de estado de trabajo **detenido**.</span><span class="sxs-lookup"><span data-stu-id="27760-189">hello job status shows **Stopped**.</span></span>  <span data-ttu-id="27760-190">Este tipo de runbook siempre se reinicia desde el principio de hello, ya que no admiten los puntos de control.</span><span class="sxs-lookup"><span data-stu-id="27760-190">This type of runbook is always restarted from hello beginning since they don't support checkpoints.</span></span>  

<span data-ttu-id="27760-191">Los [runbooks basados en el flujo de trabajo de PowerShell](automation-runbook-types.md#powershell-workflow-runbooks) se reanudarán a partir de su último [punto de control](https://docs.microsoft.com/system-center/sma/overview-powershell-workflows#bk_Checkpoints).</span><span class="sxs-lookup"><span data-stu-id="27760-191">[PowerShell-Workflow-based runbooks](automation-runbook-types.md#powershell-workflow-runbooks) will be resumed from their last [checkpoint](https://docs.microsoft.com/system-center/sma/overview-powershell-workflows#bk_Checkpoints).</span></span>  <span data-ttu-id="27760-192">Después de ejecutar tres horas, se suspenderá el trabajo del runbook de Hola por el servicio de Hola y su estado se muestra **ejecutando, esperando recursos**.</span><span class="sxs-lookup"><span data-stu-id="27760-192">After running three hours, hello runbook job will be suspended by hello service and its status shows **Running, waiting for resources**.</span></span>  <span data-ttu-id="27760-193">Cuando hay disponible un espacio aislado, Hola runbook se reiniciará automáticamente por el servicio de automatización de Hola y se reanuda desde el último punto de comprobación Hola.</span><span class="sxs-lookup"><span data-stu-id="27760-193">When a sandbox becomes available, hello runbook will be automatically restarted by hello Automation service and resumes from hello last checkpoint.</span></span>  <span data-ttu-id="27760-194">Este es el comportamiento normal del flujo de trabajo de PowerShell a la hora de suspender o reiniciar.</span><span class="sxs-lookup"><span data-stu-id="27760-194">This is normal PowerShell-Workflow behavior for suspend/restart.</span></span>  <span data-ttu-id="27760-195">Si Hola runbook nuevo superior a tres horas de tiempo de ejecución, se repite el proceso de hello, toothree horas.</span><span class="sxs-lookup"><span data-stu-id="27760-195">If hello runbook again exceeds three hours of runtime, hello process repeats, up toothree times.</span></span>  <span data-ttu-id="27760-196">Después de hello reiniciarse por tercera vez, si Hola runbook todavía no se ha completado en tres horas, a continuación, es Error del trabajo de runbook de Hola y muestra el estado del trabajo de hello **error, esperando recursos**.</span><span class="sxs-lookup"><span data-stu-id="27760-196">After hello third restart, if hello runbook still has not completed in three hours, then hello runbook job is failed, and hello job status shows **Failed, waiting for resources**.</span></span>  <span data-ttu-id="27760-197">En este caso, recibirá Hola tras excepción con un error de Hola.</span><span class="sxs-lookup"><span data-stu-id="27760-197">In this case, you receive hello following exception with hello failure.</span></span>

<span data-ttu-id="27760-198">*trabajo Hola no puede continuar ejecutándose porque se expulsó repetidamente desde Hola mismo punto de control. Asegúrese de que el runbook no realiza operaciones largas sin conservar su estado.*</span><span class="sxs-lookup"><span data-stu-id="27760-198">*hello job cannot continue running because it was repeatedly evicted from hello same checkpoint. Please make sure your Runbook does not perform lengthy operations without persisting its state.*</span></span>

<span data-ttu-id="27760-199">Éste es el servicio de Hola de tooprotect de ejecución de runbooks indefinidamente sin completar, ya que no son toomake pueda lo toohello siguiente punto de control sin que se descargue de nuevo.</span><span class="sxs-lookup"><span data-stu-id="27760-199">This is tooprotect hello service from runbooks running indefinitely without completing, as they are not able toomake it toohello next checkpoint without being unloaded again.</span></span>

<span data-ttu-id="27760-200">Si runbook hello no tiene ningún punto de control o trabajo de hello no había alcanzado el primer punto de control hello antes de descargarse, reinicia desde el principio de Hola.</span><span class="sxs-lookup"><span data-stu-id="27760-200">If hello runbook has no checkpoints or hello job had not reached hello first checkpoint before being unloaded, then it restarts from hello beginning.</span></span>  

<span data-ttu-id="27760-201">Cuando se crea un runbook, debe asegurarse de que toorun de tiempo de hello las actividades entre dos puntos de control no supere los tres horas.</span><span class="sxs-lookup"><span data-stu-id="27760-201">When you create a runbook, you should ensure that hello time toorun any activities between two checkpoints does not exceed three hours.</span></span> <span data-ttu-id="27760-202">Puede que necesite tooadd puntos de comprobación tooyour runbook tooensure que no alcanza este límite de tres horas o dividir larga ejecución de las operaciones.</span><span class="sxs-lookup"><span data-stu-id="27760-202">You may need tooadd checkpoints tooyour runbook tooensure that it does not reach this three hour limit or break up long running operations.</span></span> <span data-ttu-id="27760-203">Por ejemplo, su runbook podría realizar una reindexación en una gran base de datos SQL.</span><span class="sxs-lookup"><span data-stu-id="27760-203">For example, your runbook might perform a reindex on a large SQL database.</span></span> <span data-ttu-id="27760-204">Si no lleva a cabo esta operación solo en Hola razonable límite de recurso compartido y, a continuación, el trabajo de Hola se descarga y se reinician desde el principio de Hola.</span><span class="sxs-lookup"><span data-stu-id="27760-204">If this single operation does not complete within hello fair share limit, then hello job are unloaded and restarted from hello beginning.</span></span> <span data-ttu-id="27760-205">En este caso, debe interrumpir la operación de reindización de hello en varios pasos, como reindizar una tabla a la vez y, a continuación, inserte un punto de control después de cada operación de modo que hello trabajo se pudiera reanudar después de hello última operación toocomplete.</span><span class="sxs-lookup"><span data-stu-id="27760-205">In this case, you should break up hello reindex operation into multiple steps, such as reindexing one table at a time, and then insert a checkpoint after each operation so that hello job could resume after hello last operation toocomplete.</span></span>

## <a name="next-steps"></a><span data-ttu-id="27760-206">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="27760-206">Next steps</span></span>
* <span data-ttu-id="27760-207">toolearn más información acerca de métodos diferentes de Hola que pueden ser utilizado toostart un runbook en automatización de Azure, consulte [a partir de un runbook en automatización de Azure](automation-starting-a-runbook.md)</span><span class="sxs-lookup"><span data-stu-id="27760-207">toolearn more about hello different methods that can be used toostart a runbook in Azure Automation, see [Starting a runbook in Azure Automation](automation-starting-a-runbook.md)</span></span>

