---
title: "Integración del control de código fuente en Azure Automation | Microsoft Docs"
description: "En este artículo se describe la integración del control de código fuente con GitHub en Automatización de Azure."
services: automation
documentationcenter: 
author: mgoedtel
manager: jwhit
editor: tysonn
ms.assetid: 224d7375-9887-44dd-b137-06ffe396a4b4
ms.service: automation
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 11/21/2016
ms.author: magoedte;sngun
ms.openlocfilehash: 763bf5805e3a3cb95ad63c7a354dd3d4cd531b2b
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 07/11/2017
---
# <a name="source-control-integration-in-azure-automation"></a><span data-ttu-id="fa9b9-103">Integración del control de código fuente en Automatización de Azure</span><span class="sxs-lookup"><span data-stu-id="fa9b9-103">Source control integration in Azure Automation</span></span>
<span data-ttu-id="fa9b9-104">La integración del control de código fuente permite asociar runbooks de su cuenta de Automatización a un repositorio de control de código fuente de GitHub.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-104">Source control integration allows you to associate runbooks in your Automation account to a GitHub source control repository.</span></span> <span data-ttu-id="fa9b9-105">El control de código fuente le permite colaborar fácilmente con su equipo, realizar el seguimiento de los cambios y revertir a versiones anteriores de los runbooks.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-105">Source control allows you to easily collaborate with your team, track changes, and roll back to earlier versions of your runbooks.</span></span> <span data-ttu-id="fa9b9-106">Por ejemplo, le permite sincronizar distintas ramas de control de código fuente con sus cuentas de Automatización de desarrollo, prueba o producción, lo que facilita la promoción de código que se ha probado en el entorno de desarrollo a la cuenta de Automatización de producción.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-106">For example, source control allows you to sync different branches in source control to your development, test or production Automation accounts, making it easy to promote code that has been tested in your development environment to your production Automation account.</span></span>

<span data-ttu-id="fa9b9-107">El control de código fuente le permite insertar código de Automatización de Azure en el control de código fuente o extraer sus runbooks del control de código fuente para llevarlos a Automatización de Azure.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-107">Source control allows you to push code from Azure Automation to source control or pull your runbooks from source control to Azure Automation.</span></span> <span data-ttu-id="fa9b9-108">En este artículo se describe cómo configurar el control de código fuente en su entorno de Automatización de Azure.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-108">This article describes how to set up source control in your Azure Automation environment.</span></span> <span data-ttu-id="fa9b9-109">Para comenzar, vamos a configurar Automatización de Azure para acceder a su repositorio de GitHub y a recorrer diferentes operaciones que pueden realizarse mediante la integración del control de código fuente.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-109">We will start by configuring Azure Automation to access your GitHub repository and walk through different operations that can be done using source control integration.</span></span> 

> [!NOTE]
> <span data-ttu-id="fa9b9-110">El control de código fuente admite la extracción e inserción de [runbooks del flujo de trabajo de PowerShell](automation-runbook-types.md#powershell-workflow-runbooks) y de [runbooks de PowerShell](automation-runbook-types.md#powershell-runbooks).</span><span class="sxs-lookup"><span data-stu-id="fa9b9-110">Source control supports pulling and pushing [PowerShell Workflow runbooks](automation-runbook-types.md#powershell-workflow-runbooks) as well as [PowerShell runbooks](automation-runbook-types.md#powershell-runbooks).</span></span> <span data-ttu-id="fa9b9-111">Los [runbooks gráficos](automation-runbook-types.md#graphical-runbooks) aún no se admiten.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-111">[Graphical runbooks](automation-runbook-types.md#graphical-runbooks) are not yet supported.</span></span><br><br>
> 
> 

<span data-ttu-id="fa9b9-112">Hay dos pasos sencillos necesarios para configurar el control de código fuente para su cuenta de Automatización y solo uno si ya tiene una cuenta GitHub.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-112">There are two simple steps required to configure source control for your Automation account, and only one if you already have a GitHub account.</span></span> <span data-ttu-id="fa9b9-113">Son las siguientes:</span><span class="sxs-lookup"><span data-stu-id="fa9b9-113">They are:</span></span>

## <a name="step-1--create-a-github-repository"></a><span data-ttu-id="fa9b9-114">Paso 1: Creación de un repositorio de GitHub</span><span class="sxs-lookup"><span data-stu-id="fa9b9-114">Step 1 – Create a GitHub repository</span></span>
<span data-ttu-id="fa9b9-115">Si ya tiene una cuenta de GitHub y un repositorio que desea vincular a Automatización de Azure, inicie sesión en su cuenta existente y comience desde el paso 2.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-115">If you already have a GitHub account and a repository that you want to link to Azure Automation, then login to your existing account and start from step 2 below.</span></span> <span data-ttu-id="fa9b9-116">De lo contrario, vaya a [GitHub](https://github.com/), suscríbase a una cuenta nueva y [cree un nuevo repositorio](https://help.github.com/articles/create-a-repo/).</span><span class="sxs-lookup"><span data-stu-id="fa9b9-116">Otherwise, navigate to [GitHub](https://github.com/), sign up for a new account and [create a new repository](https://help.github.com/articles/create-a-repo/).</span></span>

## <a name="step-2--set-up-source-control-in-azure-automation"></a><span data-ttu-id="fa9b9-117">Paso 2: Configuración del control de código fuente en Automatización de Azure</span><span class="sxs-lookup"><span data-stu-id="fa9b9-117">Step 2 – Set up source control in Azure Automation</span></span>
1. <span data-ttu-id="fa9b9-118">En la hoja Cuenta de Automatización del Portal de Azure, haga clic en **Configurar control de código fuente**</span><span class="sxs-lookup"><span data-stu-id="fa9b9-118">From the Automation Account blade in the Azure portal, click **Set Up Source Control.**</span></span> 
   
    ![Configuración del control de código fuente](media/automation-source-control-integration/automation_01_SetUpSourceControl.png)
2. <span data-ttu-id="fa9b9-120">Se abre la hoja **Control de código fuente** , donde puede configurar los detalles de la cuenta de GitHub.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-120">The **Source Control** blade opens, where you can configure your GitHub account details.</span></span> <span data-ttu-id="fa9b9-121">A continuación se muestra la lista de parámetros de configuración:</span><span class="sxs-lookup"><span data-stu-id="fa9b9-121">Below is the list of parameters to configure:</span></span>  
   
   | <span data-ttu-id="fa9b9-122">**Parámetro**</span><span class="sxs-lookup"><span data-stu-id="fa9b9-122">**Parameter**</span></span> | <span data-ttu-id="fa9b9-123">**Descripción**</span><span class="sxs-lookup"><span data-stu-id="fa9b9-123">**Description**</span></span> |
   |:--- |:--- |
   | <span data-ttu-id="fa9b9-124">Elegir origen</span><span class="sxs-lookup"><span data-stu-id="fa9b9-124">Choose Source</span></span> |<span data-ttu-id="fa9b9-125">Seleccione el origen.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-125">Select the source.</span></span> <span data-ttu-id="fa9b9-126">Actualmente, solo se admite **GitHub** .</span><span class="sxs-lookup"><span data-stu-id="fa9b9-126">Currently, only **GitHub** is supported.</span></span> |
   | <span data-ttu-id="fa9b9-127">Autorización</span><span class="sxs-lookup"><span data-stu-id="fa9b9-127">Authorization</span></span> |<span data-ttu-id="fa9b9-128">Haga clic en el botón **Autorizar** para conceder acceso a Automatización de Azure al repositorio de GitHub.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-128">Click the **Authorize** button to grant Azure Automation access to your GitHub repository.</span></span> <span data-ttu-id="fa9b9-129">Si ya inició sesión con su cuenta de GitHub en una ventana diferente, se usan las credenciales de dicha cuenta.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-129">If you are already logged in to your GitHub account in a different window, then the credentials of that account are used.</span></span> <span data-ttu-id="fa9b9-130">Cuando la autorización sea correcta, la hoja mostrará su nombre de usuario de GitHub en **Propiedad de autorización**.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-130">Once authorization is successful, the blade will show your GitHub username under **Authorization Property**.</span></span> |
   | <span data-ttu-id="fa9b9-131">Selección del repositorio</span><span class="sxs-lookup"><span data-stu-id="fa9b9-131">Choose repository</span></span> |<span data-ttu-id="fa9b9-132">Seleccione un repositorio de GitHub en la lista de repositorios disponibles.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-132">Select a GitHub repository from the list of available repositories.</span></span> |
   | <span data-ttu-id="fa9b9-133">Elegir rama</span><span class="sxs-lookup"><span data-stu-id="fa9b9-133">Choose branch</span></span> |<span data-ttu-id="fa9b9-134">Seleccione una rama en la lista de ramas disponibles.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-134">Select a branch from the list of available branches.</span></span> <span data-ttu-id="fa9b9-135">Solo se muestra la rama **principal** si no creó ninguna rama.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-135">Only the **master** branch is shown if you haven’t created any branches.</span></span> |
   | <span data-ttu-id="fa9b9-136">Ruta de acceso de la carpeta de runbook</span><span class="sxs-lookup"><span data-stu-id="fa9b9-136">Runbook folder path</span></span> |<span data-ttu-id="fa9b9-137">La ruta de acceso de la carpeta de runbook especifica la ruta de acceso en el repositorio de GitHub desde el que desea insertar o extraer el código.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-137">The runbook folder path specifies the path in the GitHub repository from which you want to push or pull your code.</span></span> <span data-ttu-id="fa9b9-138">Debe especificarse en formato **/nombreCarpeta/nombreDeSubcarpeta**.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-138">It must be entered in the format **/foldername/subfoldername**.</span></span> <span data-ttu-id="fa9b9-139">Solo se pueden sincronizar los runbooks de la ruta de acceso de la carpeta de runbook con la cuenta de Automatización.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-139">Only runbooks in the runbook folder path will be synced to your Automation account.</span></span> <span data-ttu-id="fa9b9-140">Los runbooks de las subcarpetas de la ruta de acceso de la carpeta de runbook **no** se sincronizarán.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-140">Runbooks in the subfolders of the runbook folder path will **NOT** be synced.</span></span> <span data-ttu-id="fa9b9-141">Use **/** para sincronizar todos los runbooks en el repositorio.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-141">Use **/** to sync all the runbooks under the repository.</span></span> |
3. <span data-ttu-id="fa9b9-142">Por ejemplo, si tiene un repositorio denominado **scriptsDePowerShell** que contiene una carpeta denominada **carpetaRaíz**, que a su vez contiene una carpeta denominada **subCarpeta**.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-142">For example, if you have a repository named **PowerShellScripts** that contains a folder named **RootFolder**, which contains a folder named **SubFolder**.</span></span> <span data-ttu-id="fa9b9-143">Puede usar las siguientes cadenas para cada nivel de la carpeta de sincronización:</span><span class="sxs-lookup"><span data-stu-id="fa9b9-143">You can use the following strings to sync each folder level:</span></span>
   
   1. <span data-ttu-id="fa9b9-144">Para sincronizar runbooks desde el **repositorio**, la ruta de acceso de la carpeta de runbook es */*</span><span class="sxs-lookup"><span data-stu-id="fa9b9-144">To sync runbooks from **repository**, runbook folder path is */*</span></span>
   2. <span data-ttu-id="fa9b9-145">Para sincronizar runbooks desde el **carpetaRaíz**, la ruta de acceso de la carpeta de runbook es */carpetaRaíz*</span><span class="sxs-lookup"><span data-stu-id="fa9b9-145">To sync runbooks from **RootFolder**, runbook folder path is */RootFolder*</span></span>
   3. <span data-ttu-id="fa9b9-146">Para sincronizar runbooks desde la **subCarpeta**, la ruta de acceso de la carpeta de runbook es */carpetaRaíz/subCarpeta*.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-146">To sync runbooks from **SubFolder**, runbook folder path is */RootFolder/SubFolder*.</span></span>
4. <span data-ttu-id="fa9b9-147">Después de configurarlos, los parámetros se muestran en la hoja **Configurar control de código fuente.**</span><span class="sxs-lookup"><span data-stu-id="fa9b9-147">After you configure the parameters, they are displayed on the **Set Up Source Control blade.**</span></span>  
   
    ![Hoja Configurar](media/automation-source-control-integration/automation_02_SourceControlConfigure.png)
5. <span data-ttu-id="fa9b9-149">Al hacer clic en Aceptar, la integración del control de código fuente estará configurada para la cuenta de Automatización y debe actualizarse con la información de GitHub.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-149">Once you click OK, source control integration is now configured for your Automation account and should be updated with your GitHub information.</span></span> <span data-ttu-id="fa9b9-150">Ahora puede hacer clic en este elemento para ver todo el historial de trabajos de sincronización del control de código fuente.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-150">You can now click on this part to view all of your source control sync job history.</span></span>  
   
    ![Valores de repositorio](media/automation-source-control-integration/automation_03_RepoValues.png)
6. <span data-ttu-id="fa9b9-152">Una vez configurado el control de código fuente, se crearán los siguientes recursos de Automatización se creará en su cuenta de Automatización:</span><span class="sxs-lookup"><span data-stu-id="fa9b9-152">After you set up source control, the following Automation resources will be created in your Automation account:</span></span>  
   <span data-ttu-id="fa9b9-153">Se crean dos [recursos de variables](automation-variables.md).</span><span class="sxs-lookup"><span data-stu-id="fa9b9-153">Two [variable assets](automation-variables.md) are created.</span></span>  
   
   * <span data-ttu-id="fa9b9-154">La variable **Microsoft.Azure.Automation.SourceControl.Connection** contiene los valores de la cadena de conexión, tal como se muestra a continuación.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-154">The variable **Microsoft.Azure.Automation.SourceControl.Connection** contains the values of the connection string, as shown below.</span></span>  
     
     | <span data-ttu-id="fa9b9-155">**Parámetro**</span><span class="sxs-lookup"><span data-stu-id="fa9b9-155">**Parameter**</span></span> | <span data-ttu-id="fa9b9-156">**Valor**</span><span class="sxs-lookup"><span data-stu-id="fa9b9-156">**Value**</span></span> |
     |:--- |:--- |
     | <span data-ttu-id="fa9b9-157">Nombre</span><span class="sxs-lookup"><span data-stu-id="fa9b9-157">Name</span></span> |<span data-ttu-id="fa9b9-158">Microsoft.Azure.Automation.SourceControl.Connection</span><span class="sxs-lookup"><span data-stu-id="fa9b9-158">Microsoft.Azure.Automation.SourceControl.Connection</span></span> |
     | <span data-ttu-id="fa9b9-159">Tipo</span><span class="sxs-lookup"><span data-stu-id="fa9b9-159">Type</span></span> |<span data-ttu-id="fa9b9-160">String</span><span class="sxs-lookup"><span data-stu-id="fa9b9-160">String</span></span> |
     | <span data-ttu-id="fa9b9-161">Valor</span><span class="sxs-lookup"><span data-stu-id="fa9b9-161">Value</span></span> |<span data-ttu-id="fa9b9-162">{"Branch":\<*nombreDeRama*>,"RunbookFolderPath":\<*rutaDeCarpetaDeRunbook*>,"ProviderType":\<*tiene un valor de 1 para GitHub*>,"Repository":\<*nombreDelRepositorio*>,"Username":\<*nombreDe UsuarioDeGitHub*>}</span><span class="sxs-lookup"><span data-stu-id="fa9b9-162">{"Branch":\<*Your branch name*>,"RunbookFolderPath":\<*Runbook folder path*>,"ProviderType":\<*has a value 1 for GitHub*>,"Repository":\<*Name of your repository*>,"Username":\<*Your GitHub user name*>}</span></span> |

    * <span data-ttu-id="fa9b9-163">La variable **Microsoft.Azure.Automation.SourceControl.OAuthToken**contiene el valor cifrado seguro de OAuthToken.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-163">The variable **Microsoft.Azure.Automation.SourceControl.OAuthToken**, contains the secure encrypted value of your OAuthToken.</span></span>  

    |<span data-ttu-id="fa9b9-164">**Parámetro**</span><span class="sxs-lookup"><span data-stu-id="fa9b9-164">**Parameter**</span></span>            |<span data-ttu-id="fa9b9-165">**Valor**</span><span class="sxs-lookup"><span data-stu-id="fa9b9-165">**Value**</span></span> |
    |:---|:---|
    | <span data-ttu-id="fa9b9-166">Nombre</span><span class="sxs-lookup"><span data-stu-id="fa9b9-166">Name</span></span>  | <span data-ttu-id="fa9b9-167">Microsoft.Azure.Automation.SourceControl.OAuthToken</span><span class="sxs-lookup"><span data-stu-id="fa9b9-167">Microsoft.Azure.Automation.SourceControl.OAuthToken</span></span> |
    | <span data-ttu-id="fa9b9-168">Tipo</span><span class="sxs-lookup"><span data-stu-id="fa9b9-168">Type</span></span> | <span data-ttu-id="fa9b9-169">Unknown(Encrypted)</span><span class="sxs-lookup"><span data-stu-id="fa9b9-169">Unknown(Encrypted)</span></span> |
    | <span data-ttu-id="fa9b9-170">Valor</span><span class="sxs-lookup"><span data-stu-id="fa9b9-170">Value</span></span> | <span data-ttu-id="fa9b9-171"><*OAuthToken cifrado*></span><span class="sxs-lookup"><span data-stu-id="fa9b9-171"><*Encrypted OAuthToken*></span></span> |  

    ![Variables](media/automation-source-control-integration/automation_04_Variables.png)  

    * <span data-ttu-id="fa9b9-173">**control de código fuente de Automatización** como una aplicación autorizada a su cuenta de GitHub.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-173">**Automation Source Control** is added as an authorized application to your GitHub account.</span></span> <span data-ttu-id="fa9b9-174">Para ver la aplicación: desde la página principal de GitHub, vaya a **perfil** > **Configuración** > **Aplicaciones**.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-174">To view the application: From your GitHub home page, navigate to your **profile** > **Settings** > **Applications**.</span></span> <span data-ttu-id="fa9b9-175">Esta aplicación permite que Automatización de Azure sincronice el repositorio de GitHub con una cuenta de Automatización.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-175">This application allows Azure Automation to sync your GitHub repository to an Automation account.</span></span>  

    ![Aplicación Git](media/automation-source-control-integration/automation_05_GitApplication.png)


## <a name="using-source-control-in-automation"></a><span data-ttu-id="fa9b9-177">Uso del control de código fuente en Automatización</span><span class="sxs-lookup"><span data-stu-id="fa9b9-177">Using Source Control in Automation</span></span>
### <a name="check-in-a-runbook-from-azure-automation-to-source-control"></a><span data-ttu-id="fa9b9-178">Protección de un runbook de Automatización de Azure en el control de código fuente</span><span class="sxs-lookup"><span data-stu-id="fa9b9-178">Check-in a runbook from Azure Automation to source control</span></span>
<span data-ttu-id="fa9b9-179">La protección de runbooks permite insertar los cambios realizados en un runbook en Automatización de Azure en el repositorio de control de código fuente.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-179">Runbook check-in allows you to push the changes you have made to a runbook in Azure Automation into your source control repository.</span></span> <span data-ttu-id="fa9b9-180">A continuación se muestran los pasos necesarios para proteger un runbook:</span><span class="sxs-lookup"><span data-stu-id="fa9b9-180">Below are the steps to check-in a runbook:</span></span>

1. <span data-ttu-id="fa9b9-181">Desde su cuenta de Automation, [cree un nuevo runbook textual](automation-first-runbook-textual.md) o [edite un runbook textual existente](automation-edit-textual-runbook.md).</span><span class="sxs-lookup"><span data-stu-id="fa9b9-181">From your Automation Account, [create a new textual runbook](automation-first-runbook-textual.md), or [edit an existing, textual runbook](automation-edit-textual-runbook.md).</span></span> <span data-ttu-id="fa9b9-182">Este runbook puede ser un flujo de trabajo de PowerShell o un runbook de scripts de PowerShell.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-182">This runbook can be either a PowerShell Workflow or a PowerShell script runbook.</span></span>  
2. <span data-ttu-id="fa9b9-183">Después de editar el runbook, guárdelo y haga clic en **Insertar en el repositorio** en la hoja **Editar**.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-183">After you edit your runbook, save it and click **check-in** from the **Edit** blade.</span></span>  
   
    ![Botón Proteger](media/automation-source-control-integration/automation_06_CheckinButton.png)

     > [!NOTE] 
     > <span data-ttu-id="fa9b9-185">La protección de la Automatización de Azure sobrescribirá el código existente en el control de código fuente.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-185">Check-in from Azure Automation will overwrite the code that currently exists in your source control.</span></span> <span data-ttu-id="fa9b9-186">La instrucción de línea de comandos de Git equivalente para la protección es **git add + git commit + git push**</span><span class="sxs-lookup"><span data-stu-id="fa9b9-186">The Git equivalent command line instruction to check-in is **git add + git commit + git push**</span></span>  

1. <span data-ttu-id="fa9b9-187">Al hacer clic en **Insertar en el repositorio**, se mostrará un mensaje de confirmación. Haga clic en Sí para continuar.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-187">When you click **check-in**, you will be prompted with a confirmation message, click yes to continue.</span></span>  
   
    ![Mensaje de protección](media/automation-source-control-integration/automation_07_CheckinMessage.png)
2. <span data-ttu-id="fa9b9-189">La protección se inicia en el runbook de control de código fuente: **Sync-MicrosoftAzureAutomationAccountToGitHubV1**.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-189">Check-in starts the source control runbook: **Sync-MicrosoftAzureAutomationAccountToGitHubV1**.</span></span> <span data-ttu-id="fa9b9-190">Este runbook se conecta a GitHub y aplica los cambios realizados de Automatización de Azure al repositorio.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-190">This runbook connects to GitHub and pushes changes from Azure Automation to your repository.</span></span> <span data-ttu-id="fa9b9-191">Para ver el historial de trabajos de protección, vuelva a la pestaña **Integración del control de código fuente** y haga clic para abrir la hoja Sincronización de repositorio.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-191">To view the check-in job history, go back to the **Source Control Integration** tab and click to open the Repository Synchronization blade.</span></span> <span data-ttu-id="fa9b9-192">Esta hoja muestra todos los trabajos de control de código fuente.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-192">This blade shows all of your source control jobs.</span></span>  <span data-ttu-id="fa9b9-193">Seleccione el trabajo que quiere ver y haga clic para ver los detalles.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-193">Select the job you want to view and click to view the details.</span></span>  
   
    ![Runbook de protección](media/automation-source-control-integration/automation_08_CheckinRunbook.png)
   
   > [!NOTE]
   > <span data-ttu-id="fa9b9-195">Los runbooks de control de código fuente son runbooks de Automatización especiales que no se pueden ver ni editar.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-195">Source control runbooks are special Automation runbooks that you cannot view or edit.</span></span> <span data-ttu-id="fa9b9-196">Aunque no se muestran en la lista de runbooks, verá que se muestran los trabajos de sincronización en la lista de trabajos.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-196">While they will not show up on your runbook list, you will see sync jobs showing up on your jobs list.</span></span>
   > 
   > 
3. <span data-ttu-id="fa9b9-197">El nombre del runbook modificado se envía como un parámetro de entrada al runbook de protección.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-197">The name of the modified runbook is sent as an input parameter to the check-in runbook.</span></span> <span data-ttu-id="fa9b9-198">También puede [ver los detalles del trabajo](automation-runbook-execution.md#viewing-job-status-from-the-azure-portal) si expande el runbook en la hoja **Sincronización de repositorio**.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-198">You can [view the job details](automation-runbook-execution.md#viewing-job-status-from-the-azure-portal) by expanding runbook in **Repository Synchronization** blade.</span></span>  
   
    ![Entrada de protección](media/automation-source-control-integration/automation_09_CheckinInput.png)
4. <span data-ttu-id="fa9b9-200">Actualice el repositorio de GitHub cuando finalice el trabajo para ver los cambios.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-200">Refresh your GitHub repository once the job completes to view the changes.</span></span>  <span data-ttu-id="fa9b9-201">Debería haber una confirmación en el repositorio con un mensaje de confirmación: **Updated *nombre de Runbook* en automatización de Azure.**</span><span class="sxs-lookup"><span data-stu-id="fa9b9-201">There should be a commit in your repository with a commit message: **Updated *Runbook Name* in Azure Automation.**</span></span>  

### <a name="sync-runbooks-from-source-control-to-azure-automation"></a><span data-ttu-id="fa9b9-202">Sincronización de runbooks de control de código fuente a la Automatización de Azure</span><span class="sxs-lookup"><span data-stu-id="fa9b9-202">Sync runbooks from source control to Azure Automation</span></span>
<span data-ttu-id="fa9b9-203">El botón de sincronización que se encuentra en la hoja Sincronización de repositorios permite extraer todos los runbooks desde la ruta de acceso de la carpeta de runbooks del repositorio y llevarlos a su cuenta de Automatización.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-203">The sync button on the Repository Synchronization blade allows you to pull all the runbooks in the runbook folder path of your repository to your Automation account.</span></span> <span data-ttu-id="fa9b9-204">El mismo repositorio puede sincronizarse con más de una cuenta de Automatización.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-204">The same repository can be synced to more than one Automation account.</span></span> <span data-ttu-id="fa9b9-205">A continuación se muestran los pasos necesarios para sincronizar un runbook:</span><span class="sxs-lookup"><span data-stu-id="fa9b9-205">Below are the steps to sync a runbook:</span></span>

1. <span data-ttu-id="fa9b9-206">En la cuenta de Automation donde se configuró el control de código fuente, abra la hoja **Integración del control de código fuente/Sincronización de repositorio** y haga clic en **Sincronizar**. En el mensaje de confirmación que se muestra, haga clic en **Sí** para continuar.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-206">From the Automation account where you set up source control, open the **Source Control Integration/Repository Synchronization blade** and click **Sync** then you will be prompted with a confirmation message, click **Yes** to continue.</span></span>  
   
    ![Botón Sincronizar](media/automation-source-control-integration/automation_10_SyncButtonwithMessage.png)
2. <span data-ttu-id="fa9b9-208">La sincronización inicia el runbook: **Sync-MicrosoftAzureAutomationAccountFromGitHubV1**.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-208">Sync starts the runbook: **Sync-MicrosoftAzureAutomationAccountFromGitHubV1**.</span></span> <span data-ttu-id="fa9b9-209">Este runbook se conecta a GitHub y aplica los cambios realizados del repositorio a Automatización de Azure.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-209">This runbook connects to GitHub and pulls the changes from your repository to Azure Automation.</span></span> <span data-ttu-id="fa9b9-210">Debería ver un nuevo trabajo en la hoja **Sincronización de repositorio** para esta acción.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-210">You should see a new job on the **Repository Synchronization** blade for this action.</span></span> <span data-ttu-id="fa9b9-211">Para ver detalles sobre el trabajo de sincronización, haga clic para abrir la hoja de detalles del trabajo.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-211">To view details about the sync job, click to open the job details blade.</span></span>  
   
    ![Runbook de sincronización](media/automation-source-control-integration/automation_11_SyncRunbook.png)

    > [!NOTE] 
    > <span data-ttu-id="fa9b9-213">Una sincronización del control de código fuente sobrescribe la versión de borrador de los runbooks que existen actualmente en la cuenta de Automatización para **TODOS** los runbooks que están actualmente en el control del código fuente.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-213">A sync from source control overwrites the draft version of the runbooks that currently exist in your Automation account for **ALL** runbooks that are currently in source control.</span></span> <span data-ttu-id="fa9b9-214">La instrucción de línea de comandos de Git equivalente para realizar la sincronización es **git pull**</span><span class="sxs-lookup"><span data-stu-id="fa9b9-214">The Git equivalent command line instruction to sync is **git pull**</span></span>


## <a name="troubleshooting-source-control-problems"></a><span data-ttu-id="fa9b9-215">Solución de problemas de control de código fuente</span><span class="sxs-lookup"><span data-stu-id="fa9b9-215">Troubleshooting source control problems</span></span>
<span data-ttu-id="fa9b9-216">Si hay errores en el trabajo de protección o de sincronización, el estado del trabajo debe suspenderse. Podrá ver más detalles sobre el error en la hoja del trabajo.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-216">If there are any errors with a check-in or sync job, the job status should be suspended and you can view more details about the error in the job blade.</span></span>  <span data-ttu-id="fa9b9-217">En la sección **Todos los registros** se mostrarán todas las transmisiones de PowerShell asociadas a ese trabajo.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-217">The **All Logs** part will show you all the PowerShell streams associated with that job.</span></span> <span data-ttu-id="fa9b9-218">De esta forma tendrá los detalles necesarios para ayudarle a solucionar los problemas con la protección o la sincronización.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-218">This will provide you with the details needed to help you fix any problems with your check-in or sync.</span></span> <span data-ttu-id="fa9b9-219">También se muestra la secuencia de acciones que se produjeron mientras se sincronizaba o insertaba en el repositorio un runbook. </span><span class="sxs-lookup"><span data-stu-id="fa9b9-219">It will also show you the sequence of actions that occurred while syncing or checking-in a runbook.</span></span>  

![Imagen de todos los registros](media/automation-source-control-integration/automation_13_AllLogs.png)

## <a name="disconnecting-source-control"></a><span data-ttu-id="fa9b9-221">Desconexión del control de código fuente</span><span class="sxs-lookup"><span data-stu-id="fa9b9-221">Disconnecting source control</span></span>
<span data-ttu-id="fa9b9-222">Para desconectarse de su cuenta de GitHub, abra la hoja Sincronización de repositorio y haga clic en **Desconectar**.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-222">To disconnect from your GitHub account, open the Repository Synchronization blade and click **Disconnect**.</span></span> <span data-ttu-id="fa9b9-223">Cuando desconecte el control de código fuente, los runbooks que se sincronizaron seguirán estando en su cuenta de Automatización, pero no se habilitará la hoja Sincronización de repositorio.</span><span class="sxs-lookup"><span data-stu-id="fa9b9-223">Once you disconnect source control, runbooks that were synced earlier will still remain in your Automation account but the Repository Synchronization blade will not be enabled.</span></span>  

  ![Botón Desconectar](media/automation-source-control-integration/automation_12_Disconnect.png)

## <a name="next-steps"></a><span data-ttu-id="fa9b9-225">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="fa9b9-225">Next steps</span></span>
<span data-ttu-id="fa9b9-226">Para obtener más información sobre la integración del control de código fuente, consulte los siguientes recursos:</span><span class="sxs-lookup"><span data-stu-id="fa9b9-226">For more information about source control integration, see the following resources:</span></span>  

* [<span data-ttu-id="fa9b9-227">Automatización de Azure: integración del control de código fuente en Automatización de Azure</span><span class="sxs-lookup"><span data-stu-id="fa9b9-227">Azure Automation: Source Control Integration in Azure Automation</span></span>](https://azure.microsoft.com/blog/azure-automation-source-control-13/)  
* [<span data-ttu-id="fa9b9-228">Vote por su sistema de control de código fuente favorito</span><span class="sxs-lookup"><span data-stu-id="fa9b9-228">Vote for your favorite source control system</span></span>](https://www.surveymonkey.com/r/?sm=2dVjdcrCPFdT0dFFI8nUdQ%3d%3d)  
* [<span data-ttu-id="fa9b9-229">Automatización de Azure: integración del control de código fuente de runbook mediante Visual Studio Team Services</span><span class="sxs-lookup"><span data-stu-id="fa9b9-229">Azure Automation: Integrating Runbook Source Control using Visual Studio Team Services</span></span>](https://azure.microsoft.com/blog/azure-automation-integrating-runbook-source-control-using-visual-studio-online/)  

