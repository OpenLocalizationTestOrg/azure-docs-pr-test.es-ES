---
title: "Administración de datos de Azure Automation | Microsoft Docs"
description: "Este artículo contiene varios temas para administrar un entorno de Automatización de Azure.  Actualmente incluye la retención de datos y la realización de copias de seguridad de la recuperación ante desastres en Automatización de Azure."
services: automation
documentationcenter: 
author: mgoedtel
manager: stevenka
editor: tysonn
ms.assetid: 2896f129-82e3-43ce-b9ee-a3860be0423a
ms.service: automation
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 06/02/201
ms.author: magoedte;bwren;sngun
ms.openlocfilehash: 92893edc4e02de148f6585e83c6861fd751401bb
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 07/11/2017
---
# <a name="managing-azure-automation-data"></a><span data-ttu-id="5f8a5-104">Administración de datos de Automatización de Azure</span><span class="sxs-lookup"><span data-stu-id="5f8a5-104">Managing Azure Automation data</span></span>
<span data-ttu-id="5f8a5-105">Este artículo contiene varios temas para administrar un entorno de Automatización de Azure.</span><span class="sxs-lookup"><span data-stu-id="5f8a5-105">This article contains multiple topics for managing an Azure Automation environment.</span></span>

## <a name="data-retention"></a><span data-ttu-id="5f8a5-106">Retención de datos</span><span class="sxs-lookup"><span data-stu-id="5f8a5-106">Data retention</span></span>
<span data-ttu-id="5f8a5-107">Cuando elimina un recurso en Automatización de Azure, se conserva durante 90 días para fines de auditoría antes de quitarlo de manera permanente.</span><span class="sxs-lookup"><span data-stu-id="5f8a5-107">When you delete a resource in Azure Automation, it is retained for 90 days for auditing purposes before being removed permanently.</span></span>  <span data-ttu-id="5f8a5-108">Durante este tiempo, no es posible ver ni usar el recurso.</span><span class="sxs-lookup"><span data-stu-id="5f8a5-108">You can’t see or use the resource during this time.</span></span>  <span data-ttu-id="5f8a5-109">Esta directiva también se aplica a recursos que pertenecen a una cuenta de automatización eliminada.</span><span class="sxs-lookup"><span data-stu-id="5f8a5-109">This policy also applies to resources that belong to an automation account that is deleted.</span></span>

<span data-ttu-id="5f8a5-110">Automatización de Azure elimina automáticamente y quita de manera permanente los trabajos que tengan más de 90 días.</span><span class="sxs-lookup"><span data-stu-id="5f8a5-110">Azure Automation automatically deletes and permanently removes jobs older than 90 days.</span></span>

<span data-ttu-id="5f8a5-111">La tabla siguiente resume la directiva de retención para distintos recursos.</span><span class="sxs-lookup"><span data-stu-id="5f8a5-111">The following table summarizes the retention policy for different resources.</span></span>

| <span data-ttu-id="5f8a5-112">Datos</span><span class="sxs-lookup"><span data-stu-id="5f8a5-112">Data</span></span> | <span data-ttu-id="5f8a5-113">Directiva</span><span class="sxs-lookup"><span data-stu-id="5f8a5-113">Policy</span></span> |
|:--- |:--- |
| <span data-ttu-id="5f8a5-114">Cuentas</span><span class="sxs-lookup"><span data-stu-id="5f8a5-114">Accounts</span></span> |<span data-ttu-id="5f8a5-115">Se quitan de manera permanente 90 días después de que un usuario elimina la cuenta.</span><span class="sxs-lookup"><span data-stu-id="5f8a5-115">Permanently removed 90 days after the account is deleted by a user.</span></span> |
| <span data-ttu-id="5f8a5-116">Recursos</span><span class="sxs-lookup"><span data-stu-id="5f8a5-116">Assets</span></span> |<span data-ttu-id="5f8a5-117">Se quitan de manera permanente 90 días después de que un usuario elimina el recurso o 90 días después de que un usuario elimina la cuenta que contiene el recurso.</span><span class="sxs-lookup"><span data-stu-id="5f8a5-117">Permanently removed 90 days after the asset is deleted by a user, or 90 days after the account that holds the asset is deleted by a user.</span></span> |
| <span data-ttu-id="5f8a5-118">Módulos</span><span class="sxs-lookup"><span data-stu-id="5f8a5-118">Modules</span></span> |<span data-ttu-id="5f8a5-119">Se quitan de manera permanente 90 días después de que un usuario elimina el módulo o 90 días después de que un usuario elimina la cuenta que contiene el módulo.</span><span class="sxs-lookup"><span data-stu-id="5f8a5-119">Permanently removed 90 days after the module is deleted by a user, or 90 days after the account that holds the module is deleted by a user.</span></span> |
| <span data-ttu-id="5f8a5-120">Runbooks</span><span class="sxs-lookup"><span data-stu-id="5f8a5-120">Runbooks</span></span> |<span data-ttu-id="5f8a5-121">Se quitan de manera permanente 90 días después de que un usuario elimina el recurso o 90 días después de que un usuario elimina la cuenta que contiene el recurso.</span><span class="sxs-lookup"><span data-stu-id="5f8a5-121">Permanently removed 90 days after the resource is deleted by a user, or 90 days after the account that holds the resource is deleted by a user.</span></span> |
| <span data-ttu-id="5f8a5-122">Trabajos</span><span class="sxs-lookup"><span data-stu-id="5f8a5-122">Jobs</span></span> |<span data-ttu-id="5f8a5-123">Se eliminan y quitan de manera permanente 90 días después de la última modificación.</span><span class="sxs-lookup"><span data-stu-id="5f8a5-123">Deleted and permanently removed 90 days after last being modified.</span></span> <span data-ttu-id="5f8a5-124">Esto puede ser después de completar, detener o suspender el trabajo.</span><span class="sxs-lookup"><span data-stu-id="5f8a5-124">This could be after the job completes, is stopped, or is suspended.</span></span> |
| <span data-ttu-id="5f8a5-125">Configuraciones de nodo y archivos MOF</span><span class="sxs-lookup"><span data-stu-id="5f8a5-125">Node Configurations/MOF Files</span></span> |<span data-ttu-id="5f8a5-126">La configuración de nodo anterior se quita de forma permanente 90 días después de que se genere una nueva configuración.</span><span class="sxs-lookup"><span data-stu-id="5f8a5-126">Old node configuration is permanently removed 90 days after a new node configuration is generated.</span></span> |
| <span data-ttu-id="5f8a5-127">Nodos de DSC</span><span class="sxs-lookup"><span data-stu-id="5f8a5-127">DSC Nodes</span></span> |<span data-ttu-id="5f8a5-128">Se quitan de forma permanente 90 días después de que se anule el registro del nodo de la cuenta de Automatización mediante el Portal de Azure o el cmdlet [Unregister-AzureRMAutomationDscNode](https://msdn.microsoft.com/library/mt603500.aspx) de Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="5f8a5-128">Permanently removed 90 days after the node is unregistered from Automation Account using Azure portal or the [Unregister-AzureRMAutomationDscNode](https://msdn.microsoft.com/library/mt603500.aspx) cmdlet in Windows PowerShell.</span></span> <span data-ttu-id="5f8a5-129">Los nodos también se quitan permanentemente 90 días después de que el usuario elimina la cuenta que contiene el nodo.</span><span class="sxs-lookup"><span data-stu-id="5f8a5-129">Nodes are also permanently removed 90 days after the account that holds the node is deleted by a user.</span></span> |
| <span data-ttu-id="5f8a5-130">Informes de nodo</span><span class="sxs-lookup"><span data-stu-id="5f8a5-130">Node Reports</span></span> |<span data-ttu-id="5f8a5-131">Se quitan de forma permanente 90 días después de que se genere un nuevo informe para ese nodo.</span><span class="sxs-lookup"><span data-stu-id="5f8a5-131">Permanently removed 90 days after a new report is generated for that node</span></span> |

<span data-ttu-id="5f8a5-132">La directiva de retención se aplica a todos los usuarios y, por el momento, no se puede personalizar.</span><span class="sxs-lookup"><span data-stu-id="5f8a5-132">The retention policy applies to all users and currently cannot be customized.</span></span>

<span data-ttu-id="5f8a5-133">Sin embargo, si tiene que conservar los datos durante un periodo de tiempo mayor, puede reenviar los registros de trabajos del runbook a Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="5f8a5-133">However, if you need to retain data for a longer period of time, you can forward runbook job logs to Log Analytics.</span></span>  <span data-ttu-id="5f8a5-134">Para más información, consulte [Reenvío de datos del trabajo de Azure Automation a Log Analytics de OMS](automation-manage-send-joblogs-log-analytics.md)</span><span class="sxs-lookup"><span data-stu-id="5f8a5-134">For further information, review [forward Azure Automation job data to OMS Log Analytics](automation-manage-send-joblogs-log-analytics.md).</span></span>   

## <a name="backing-up-azure-automation"></a><span data-ttu-id="5f8a5-135">Copia de seguridad de Automatización de Azure</span><span class="sxs-lookup"><span data-stu-id="5f8a5-135">Backing up Azure Automation</span></span>
<span data-ttu-id="5f8a5-136">Cuando se elimina una cuenta de automatización en Microsoft Azure, se eliminan todos los objetos de la cuenta, incluidos runbooks, módulos, configuraciones, trabajos y recursos.</span><span class="sxs-lookup"><span data-stu-id="5f8a5-136">When you delete an automation account in Microsoft Azure, all objects in the account are deleted including runbooks, modules, configurations, settings, jobs, and assets.</span></span> <span data-ttu-id="5f8a5-137">No es posible recuperar los objetos una vez eliminada la cuenta.</span><span class="sxs-lookup"><span data-stu-id="5f8a5-137">The objects cannot be recovered after the account is deleted.</span></span>  <span data-ttu-id="5f8a5-138">Puede usar la información siguiente para crear una copia de seguridad de los contenidos de la cuenta de automatización antes de eliminarla.</span><span class="sxs-lookup"><span data-stu-id="5f8a5-138">You can use the following information to backup the contents of your automation account before deleting it.</span></span> 

### <a name="runbooks"></a><span data-ttu-id="5f8a5-139">Runbooks</span><span class="sxs-lookup"><span data-stu-id="5f8a5-139">Runbooks</span></span>
<span data-ttu-id="5f8a5-140">Puede exportar los runbooks a archivos de script con el Portal de administración de Azure o el cmdlet [Get-AzureAutomationRunbookDefinition](https://msdn.microsoft.com/library/dn690269.aspx) en Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="5f8a5-140">You can export your runbooks to script files using either the Azure Management Portal or the [Get-AzureAutomationRunbookDefinition](https://msdn.microsoft.com/library/dn690269.aspx) cmdlet in Windows PowerShell.</span></span>  <span data-ttu-id="5f8a5-141">Es posible importar estos archivos de script a otra cuenta de automatización, tal como se describe en [Creación o importación de un runbook](https://msdn.microsoft.com/library/dn643637.aspx).</span><span class="sxs-lookup"><span data-stu-id="5f8a5-141">These script files can be imported into another automation account as discussed in [Creating or Importing a Runbook](https://msdn.microsoft.com/library/dn643637.aspx).</span></span>

### <a name="integration-modules"></a><span data-ttu-id="5f8a5-142">Módulos de integración</span><span class="sxs-lookup"><span data-stu-id="5f8a5-142">Integration modules</span></span>
<span data-ttu-id="5f8a5-143">No es posible exportar módulos de integración desde Automatización de Azure.</span><span class="sxs-lookup"><span data-stu-id="5f8a5-143">You cannot export integration modules from Azure Automation.</span></span>  <span data-ttu-id="5f8a5-144">Debe asegurarse de que se encuentren disponibles fuera de la cuenta de automatización.</span><span class="sxs-lookup"><span data-stu-id="5f8a5-144">You must ensure that they are available outside of the automation account.</span></span>

### <a name="assets"></a><span data-ttu-id="5f8a5-145">Recursos</span><span class="sxs-lookup"><span data-stu-id="5f8a5-145">Assets</span></span>
<span data-ttu-id="5f8a5-146">No es posible exportar [recursos](https://msdn.microsoft.com/library/dn939988.aspx) desde Automatización de Azure.</span><span class="sxs-lookup"><span data-stu-id="5f8a5-146">You cannot export [assets](https://msdn.microsoft.com/library/dn939988.aspx) from Azure Automation.</span></span>  <span data-ttu-id="5f8a5-147">Si utiliza el Portal de administración de Azure, debe anotar los detalles de las variables, las credenciales, los certificados, las conexiones y las programaciones.</span><span class="sxs-lookup"><span data-stu-id="5f8a5-147">Using the Azure Management Portal, you must note the details of variables, credentials, certificates, connections, and schedules.</span></span>  <span data-ttu-id="5f8a5-148">Luego debe crear manualmente todos los recursos utilizados por los runbooks que importa a otra automatización.</span><span class="sxs-lookup"><span data-stu-id="5f8a5-148">You must then manually create any assets that are used by runbooks that you import into another automation.</span></span>

<span data-ttu-id="5f8a5-149">Puede usar [cmdlets de Azure](https://msdn.microsoft.com/library/dn690262.aspx) para recuperar los detalles de recursos no cifrados y guardarlos para una referencia futura o crear recursos equivalentes en otra cuenta de automatización.</span><span class="sxs-lookup"><span data-stu-id="5f8a5-149">You can use [Azure cmdlets](https://msdn.microsoft.com/library/dn690262.aspx) to retrieve details of unencrypted assets and either save them for future reference or create equivalent assets in another automation account.</span></span>

<span data-ttu-id="5f8a5-150">No es posible recuperar el valor de variables cifradas o del campo de contraseña de las credenciales mediante el uso de cmdlets.</span><span class="sxs-lookup"><span data-stu-id="5f8a5-150">You cannot retrieve the value for encrypted variables or the password field of credentials using cmdlets.</span></span>  <span data-ttu-id="5f8a5-151">Si no conoce estos valores, puede recuperarlos de un runbook con las actividades [Get-AutomationVariable](https://msdn.microsoft.com/library/dn940012.aspx) y [Get-AutomationPSCredential](https://msdn.microsoft.com/library/dn940015.aspx).</span><span class="sxs-lookup"><span data-stu-id="5f8a5-151">If you don't know these values, then you can retrieve them from a runbook using the [Get-AutomationVariable](https://msdn.microsoft.com/library/dn940012.aspx) and [Get-AutomationPSCredential](https://msdn.microsoft.com/library/dn940015.aspx) activities.</span></span>

<span data-ttu-id="5f8a5-152">No es posible exportar certificados desde Automatización de Azure.</span><span class="sxs-lookup"><span data-stu-id="5f8a5-152">You cannot export certificates from Azure Automation.</span></span>  <span data-ttu-id="5f8a5-153">Debe asegurarse de que todos los certificados estén disponibles fuera de Azure.</span><span class="sxs-lookup"><span data-stu-id="5f8a5-153">You must ensure that any certificates are available outside of Azure.</span></span>

### <a name="dsc-configurations"></a><span data-ttu-id="5f8a5-154">Configuraciones DSC</span><span class="sxs-lookup"><span data-stu-id="5f8a5-154">DSC configurations</span></span>
<span data-ttu-id="5f8a5-155">Puede exportar las configuraciones a archivos de script con el Portal de administración de Azure o con el cmdlet [Export-AzureRmAutomationDscConfiguration](https://msdn.microsoft.com/library/mt603485.aspx) en Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="5f8a5-155">You can export your configurations to script files using either the Azure Management Portal or the [Export-AzureRmAutomationDscConfiguration](https://msdn.microsoft.com/library/mt603485.aspx) cmdlet in Windows PowerShell.</span></span> <span data-ttu-id="5f8a5-156">Estas configuraciones se pueden importar y usar en otra cuenta de automatización.</span><span class="sxs-lookup"><span data-stu-id="5f8a5-156">These configurations can be imported and used in another automation account.</span></span>

## <a name="geo-replication-in-azure-automation"></a><span data-ttu-id="5f8a5-157">Replicación geográfica en Automatización de Azure</span><span class="sxs-lookup"><span data-stu-id="5f8a5-157">Geo-replication in Azure Automation</span></span>
<span data-ttu-id="5f8a5-158">La replicación geográfica, una función estándar de las cuentas de Automatización de Azure, realiza una copia de seguridad de los datos de la cuenta en una región geográfica diferente con fines de redundancia.</span><span class="sxs-lookup"><span data-stu-id="5f8a5-158">Geo-replication, standard in Azure Automation accounts, backs up account data to a different geographical region for redundancy.</span></span> <span data-ttu-id="5f8a5-159">Puede elegir una región primaria al configurar la cuenta, y entonces se le asigna automáticamente a esta una región secundaria.</span><span class="sxs-lookup"><span data-stu-id="5f8a5-159">You can choose a primary region when setting up your account, and then a secondary region is assigned to it automatically.</span></span> <span data-ttu-id="5f8a5-160">Los datos secundarios, copiados de la región primaria, se actualizan continuamente en caso de pérdida de los datos.</span><span class="sxs-lookup"><span data-stu-id="5f8a5-160">The secondary data, copied from the primary region, is continuously updated in case of data loss.</span></span>  

<span data-ttu-id="5f8a5-161">La siguiente tabla muestra los emparejamientos de la región primaria y secundaria.</span><span class="sxs-lookup"><span data-stu-id="5f8a5-161">The following table shows the available primary and secondary region pairings.</span></span>

| <span data-ttu-id="5f8a5-162">Principal</span><span class="sxs-lookup"><span data-stu-id="5f8a5-162">Primary</span></span> | <span data-ttu-id="5f8a5-163">Secundario</span><span class="sxs-lookup"><span data-stu-id="5f8a5-163">Secondary</span></span> |
| --- | --- |
| <span data-ttu-id="5f8a5-164">Centro-Sur de EE. UU</span><span class="sxs-lookup"><span data-stu-id="5f8a5-164">South Central US</span></span> |<span data-ttu-id="5f8a5-165">Centro-Norte de EE. UU</span><span class="sxs-lookup"><span data-stu-id="5f8a5-165">North Central US</span></span> |
| <span data-ttu-id="5f8a5-166">Este de EE. UU. - 2</span><span class="sxs-lookup"><span data-stu-id="5f8a5-166">US East 2</span></span> |<span data-ttu-id="5f8a5-167">Central EE. UU.:</span><span class="sxs-lookup"><span data-stu-id="5f8a5-167">Central US</span></span> |
| <span data-ttu-id="5f8a5-168">Europa occidental</span><span class="sxs-lookup"><span data-stu-id="5f8a5-168">West Europe</span></span> |<span data-ttu-id="5f8a5-169">Europa del Norte</span><span class="sxs-lookup"><span data-stu-id="5f8a5-169">North Europe</span></span> |
| <span data-ttu-id="5f8a5-170">Sudeste de Asia</span><span class="sxs-lookup"><span data-stu-id="5f8a5-170">South East Asia</span></span> |<span data-ttu-id="5f8a5-171">Asia oriental</span><span class="sxs-lookup"><span data-stu-id="5f8a5-171">East Asia</span></span> |
| <span data-ttu-id="5f8a5-172">Este de Japón</span><span class="sxs-lookup"><span data-stu-id="5f8a5-172">Japan East</span></span> |<span data-ttu-id="5f8a5-173">Oeste de Japón</span><span class="sxs-lookup"><span data-stu-id="5f8a5-173">Japan West</span></span> |

<span data-ttu-id="5f8a5-174">En el improbable caso de que se pierdan datos de una región primaria, Microsoft intenta recuperarlos.</span><span class="sxs-lookup"><span data-stu-id="5f8a5-174">In the unlikely event that a primary region data is lost, Microsoft attempts to recover it.</span></span> <span data-ttu-id="5f8a5-175">Cuando no es posible recuperar los datos principales, se lleva a cabo la conmutación por error geográfica y se notificará a los clientes afectados al respecto a través de su suscripción.</span><span class="sxs-lookup"><span data-stu-id="5f8a5-175">If the primary data cannot be recovered, then geo-failover is performed and the affected customers will be notified about this through their subscription.</span></span>

