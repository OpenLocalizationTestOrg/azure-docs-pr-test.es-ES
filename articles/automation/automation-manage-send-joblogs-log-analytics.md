---
title: "aaaForward tooOMS de datos de trabajo de automatización de Azure Log Analytics | Documentos de Microsoft"
description: "En este artículo se muestra cómo transmite toosend estado y el runbook de trabajo administración y la visión adicional de tooMicrosoft análisis de registros de Operations Management Suite toodeliver."
services: automation
documentationcenter: 
author: MGoedtel
manager: carmonm
editor: tysonn
ms.assetid: c12724c6-01a9-4b55-80ae-d8b7b99bd436
ms.service: automation
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 06/02/2017
ms.author: magoedte
ms.openlocfilehash: e78b6c6677d6502711ce828e2d32b7a91922ae26
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="forward-job-status-and-job-streams-from-automation-toolog-analytics-oms"></a><span data-ttu-id="c8dd8-103">Reenviar el estado del trabajo y flujos de trabajo de automatización tooLog Analytics (OMS)</span><span class="sxs-lookup"><span data-stu-id="c8dd8-103">Forward job status and job streams from Automation tooLog Analytics (OMS)</span></span>
<span data-ttu-id="c8dd8-104">Automatización puede enviar runbook trabajo estado y el trabajo secuencias tooyour análisis de registros de Microsoft Operations Management Suite (OMS) área de trabajo.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-104">Automation can send runbook job status and job streams tooyour Microsoft Operations Management Suite (OMS) Log Analytics workspace.</span></span>  <span data-ttu-id="c8dd8-105">Registros de trabajo y flujos de trabajo están visibles en el portal de Azure de Hola o con PowerShell, para los trabajos individuales y esto le permiten tooperform simple investigaciones.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-105">Job logs and job streams are visible in hello Azure portal, or with PowerShell, for individual jobs and this allows you tooperform simple investigations.</span></span> <span data-ttu-id="c8dd8-106">Ahora con Log Analytics puede:</span><span class="sxs-lookup"><span data-stu-id="c8dd8-106">Now with Log Analytics you can:</span></span>

* <span data-ttu-id="c8dd8-107">Obtener información sobre los trabajos de Automatización</span><span class="sxs-lookup"><span data-stu-id="c8dd8-107">Get insight on your Automation jobs</span></span>
* <span data-ttu-id="c8dd8-108">Desencadenador de un correo electrónico o una alerta en función del estado de trabajo del runbook (por ejemplo, error o en suspensión)</span><span class="sxs-lookup"><span data-stu-id="c8dd8-108">Trigger an email or alert based on your runbook job status (for example, failed or suspended)</span></span>
* <span data-ttu-id="c8dd8-109">Escribir consultas avanzadas en las transmisiones de trabajos</span><span class="sxs-lookup"><span data-stu-id="c8dd8-109">Write advanced queries across your job streams</span></span>
* <span data-ttu-id="c8dd8-110">Correlacionar trabajos en cuentas de Automatización</span><span class="sxs-lookup"><span data-stu-id="c8dd8-110">Correlate jobs across Automation accounts</span></span>
* <span data-ttu-id="c8dd8-111">Visualizar el historial de trabajos a lo largo del tiempo</span><span class="sxs-lookup"><span data-stu-id="c8dd8-111">Visualize your job history over time</span></span>     

## <a name="prerequisites-and-deployment-considerations"></a><span data-ttu-id="c8dd8-112">Requisitos previos y consideraciones de implementación</span><span class="sxs-lookup"><span data-stu-id="c8dd8-112">Prerequisites and deployment considerations</span></span>
<span data-ttu-id="c8dd8-113">tooLog análisis de registros de toostart enviar la automatización, necesita:</span><span class="sxs-lookup"><span data-stu-id="c8dd8-113">toostart sending your Automation logs tooLog Analytics, you need:</span></span>

1. <span data-ttu-id="c8dd8-114">Hola noviembre de 2016 o posterior de la versión de [Azure PowerShell](https://docs.microsoft.com/powershell/azureps-cmdlets-docs/) (v2.3.0).</span><span class="sxs-lookup"><span data-stu-id="c8dd8-114">hello November 2016 or later release of [Azure PowerShell](https://docs.microsoft.com/powershell/azureps-cmdlets-docs/) (v2.3.0).</span></span>
2. <span data-ttu-id="c8dd8-115">Un área de trabajo de Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-115">A Log Analytics workspace.</span></span> <span data-ttu-id="c8dd8-116">Para más información, consulte [Introducción a Log Analytics](../log-analytics/log-analytics-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="c8dd8-116">For more information, see [Get started with Log Analytics](../log-analytics/log-analytics-get-started.md).</span></span> 
3. <span data-ttu-id="c8dd8-117">Hola ResourceId para su cuenta de automatización de Azure</span><span class="sxs-lookup"><span data-stu-id="c8dd8-117">hello ResourceId for your Azure Automation account</span></span>

<span data-ttu-id="c8dd8-118">toofind Hola ResourceId para la cuenta de automatización de Azure y el área de trabajo de análisis de registros, ejecute hello después de PowerShell:</span><span class="sxs-lookup"><span data-stu-id="c8dd8-118">toofind hello ResourceId for your Azure Automation account and Log Analytics workspace, run hello following PowerShell:</span></span>

```powershell
# Find hello ResourceId for hello Automation Account
Find-AzureRmResource -ResourceType "Microsoft.Automation/automationAccounts"

# Find hello ResourceId for hello Log Analytics workspace
Find-AzureRmResource -ResourceType "Microsoft.OperationalInsights/workspaces"
```

<span data-ttu-id="c8dd8-119">Si tiene varias cuentas de automatización o áreas de trabajo, en la salida de hello de hello anterior comandos, encontrar Hola *nombre* necesita tooconfigure y copie el valor de Hola para *ResourceId*.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-119">If you have multiple Automation accounts, or workspaces, in hello output of hello preceding commands, find hello *Name* you need tooconfigure and copy hello value for *ResourceId*.</span></span>

<span data-ttu-id="c8dd8-120">Si necesita hello toofind *nombre* de la cuenta de automatización en hello portal de Azure seleccione su cuenta de automatización de hello **cuenta de automatización** hoja y seleccione **todas las configuraciones**.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-120">If you need toofind hello *Name* of your Automation account, in hello Azure portal select your Automation account from hello **Automation account** blade and select **All settings**.</span></span>  <span data-ttu-id="c8dd8-121">De hello **toda la configuración de** hoja, en **configuración de la cuenta** seleccione **propiedades**.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-121">From hello **All settings** blade, under **Account Settings** select **Properties**.</span></span>  <span data-ttu-id="c8dd8-122">Hola **propiedades** hoja, se pueden tener en cuenta estos valores.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-122">In hello **Properties** blade, you can note these values.</span></span><br> <span data-ttu-id="c8dd8-123">![Propiedades de una cuenta de Automatización](media/automation-manage-send-joblogs-log-analytics/automation-account-properties.png)(Introducción a Log Analytics).</span><span class="sxs-lookup"><span data-stu-id="c8dd8-123">![Automation Account properties](media/automation-manage-send-joblogs-log-analytics/automation-account-properties.png).</span></span>

## <a name="set-up-integration-with-log-analytics"></a><span data-ttu-id="c8dd8-124">Configuración de la integración con Log Analytics</span><span class="sxs-lookup"><span data-stu-id="c8dd8-124">Set up integration with Log Analytics</span></span>
1. <span data-ttu-id="c8dd8-125">En el equipo, inicie **Windows PowerShell** de hello **iniciar** pantalla.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-125">On your computer, start **Windows PowerShell** from hello **Start** screen.</span></span>  
2. <span data-ttu-id="c8dd8-126">Copie y pegue Hola después de PowerShell y Editar valor Hola Hola `$workspaceId` y `$automationAccountId`.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-126">Copy and paste hello following PowerShell, and edit hello value for hello `$workspaceId` and `$automationAccountId`.</span></span>  <span data-ttu-id="c8dd8-127">Para hello `-Environment` parámetro, los valores válidos son *nube de Azure* o *AzureUSGovernment* según el entorno de nube de hello si está trabajando en.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-127">For hello `-Environment` parameter, valid values are *AzureCloud* or *AzureUSGovernment* depending on hello cloud environment you are working in.</span></span>     

```powershell
[cmdletBinding()]
    Param
    (
        [Parameter(Mandatory=$True)]
        [ValidateSet("AzureCloud","AzureUSGovernment")]
        [string]$Environment="AzureCloud"
    )

#Check toosee which cloud environment toosign into.
Switch ($Environment)
   {
       "AzureCloud" {Login-AzureRmAccount}
       "AzureUSGovernment" {Login-AzureRmAccount -EnvironmentName AzureUSGovernment} 
   }

# if you have one Log Analytics workspace you can use hello following command tooget hello resource id of hello workspace
$workspaceId = (Get-AzureRmOperationalInsightsWorkspace).ResourceId

$automationAccountId = "/SUBSCRIPTIONS/ec11ca60-1234-491e-5678-0ea07feae25c/RESOURCEGROUPS/DEMO/PROVIDERS/MICROSOFT.AUTOMATION/ACCOUNTS/DEMO" 

Set-AzureRmDiagnosticSetting -ResourceId $automationAccountId -WorkspaceId $workspaceId -Enabled $true

```

<span data-ttu-id="c8dd8-128">Después de ejecutar este script, verá los registros de Log Analytics a los 10 minutos de escribir los nuevos JobLogs o JobStreams.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-128">After running this script, you will see records in Log Analytics within 10 minutes of new JobLogs or JobStreams being written.</span></span>

<span data-ttu-id="c8dd8-129">registros de hello toosee, ejecute hello después de la consulta de búsqueda de registros de análisis de registros:`Type=AzureDiagnostics ResourceProvider="MICROSOFT.AUTOMATION"`</span><span class="sxs-lookup"><span data-stu-id="c8dd8-129">toosee hello logs, run hello following query in Log Analytics log search: `Type=AzureDiagnostics ResourceProvider="MICROSOFT.AUTOMATION"`</span></span>

### <a name="verify-configuration"></a><span data-ttu-id="c8dd8-130">Comprobación de la configuración</span><span class="sxs-lookup"><span data-stu-id="c8dd8-130">Verify configuration</span></span>
<span data-ttu-id="c8dd8-131">área de trabajo de análisis de registros de tooyour los registros de tooconfirm que está enviando la cuenta de automatización, compruebe que diagnósticos están establecidos correctamente en la cuenta de automatización de hello mediante Hola después de PowerShell:</span><span class="sxs-lookup"><span data-stu-id="c8dd8-131">tooconfirm that your Automation account is sending logs tooyour Log Analytics workspace, check that diagnostics are set correctly on hello Automation account using hello following PowerShell:</span></span>

```powershell
[cmdletBinding()]
    Param
    (
        [Parameter(Mandatory=$True)]
        [ValidateSet("AzureCloud","AzureUSGovernment")]
        [string]$Environment="AzureCloud"
    )

#Check toosee which cloud environment toosign into.
Switch ($Environment)
   {
       "AzureCloud" {Login-AzureRmAccount}
       "AzureUSGovernment" {Login-AzureRmAccount -EnvironmentName AzureUSGovernment} 
   }
# if you have one Log Analytics workspace you can use hello following command tooget hello resource id of hello workspace
$workspaceId = (Get-AzureRmOperationalInsightsWorkspace).ResourceId

$automationAccountId = "/SUBSCRIPTIONS/ec11ca60-1234-491e-5678-0ea07feae25c/RESOURCEGROUPS/DEMO/PROVIDERS/MICROSOFT.AUTOMATION/ACCOUNTS/DEMO" 

Get-AzureRmDiagnosticSetting -ResourceId $automationAccountId
```

<span data-ttu-id="c8dd8-132">En la salida de hello Asegúrese de que:</span><span class="sxs-lookup"><span data-stu-id="c8dd8-132">In hello output ensure that:</span></span>
+ <span data-ttu-id="c8dd8-133">En *registros*, Hola valor para *habilitado* es *True*</span><span class="sxs-lookup"><span data-stu-id="c8dd8-133">Under *Logs*, hello value for *Enabled* is *True*</span></span>
+ <span data-ttu-id="c8dd8-134">Hola valo *WorkspaceId* se establece toohello ResourceId de su área de trabajo de análisis de registros</span><span class="sxs-lookup"><span data-stu-id="c8dd8-134">hello value of *WorkspaceId* is set toohello ResourceId of your Log Analytics workspace</span></span>


## <a name="log-analytics-records"></a><span data-ttu-id="c8dd8-135">Registros de Log Analytics</span><span class="sxs-lookup"><span data-stu-id="c8dd8-135">Log Analytics records</span></span>
<span data-ttu-id="c8dd8-136">Diagnósticos de Azure Automation crea dos tipos de registros en Log Analytics y se etiquetan como **Type=AzureDiagnostics**.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-136">Diagnostics from Azure Automation creates two types of records in Log Analytics and are tagged as **Type=AzureDiagnostics**.</span></span>

### <a name="job-logs"></a><span data-ttu-id="c8dd8-137">Registros de trabajo</span><span class="sxs-lookup"><span data-stu-id="c8dd8-137">Job Logs</span></span>
| <span data-ttu-id="c8dd8-138">Propiedad</span><span class="sxs-lookup"><span data-stu-id="c8dd8-138">Property</span></span> | <span data-ttu-id="c8dd8-139">Descripción</span><span class="sxs-lookup"><span data-stu-id="c8dd8-139">Description</span></span> |
| --- | --- |
| <span data-ttu-id="c8dd8-140">TimeGenerated</span><span class="sxs-lookup"><span data-stu-id="c8dd8-140">TimeGenerated</span></span> |<span data-ttu-id="c8dd8-141">Fecha y hora cuando se ejecuta el trabajo del runbook de Hola.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-141">Date and time when hello runbook job executed.</span></span> |
| <span data-ttu-id="c8dd8-142">RunbookName_s</span><span class="sxs-lookup"><span data-stu-id="c8dd8-142">RunbookName_s</span></span> |<span data-ttu-id="c8dd8-143">nombre de Hola de runbook de Hola.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-143">hello name of hello runbook.</span></span> |
| <span data-ttu-id="c8dd8-144">Caller_s</span><span class="sxs-lookup"><span data-stu-id="c8dd8-144">Caller_s</span></span> |<span data-ttu-id="c8dd8-145">Quién inició la operación de Hola.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-145">Who initiated hello operation.</span></span>  <span data-ttu-id="c8dd8-146">Los valores posibles son una dirección de correo electrónico o el sistema para los trabajos programados.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-146">Possible values are either an email address or system for scheduled jobs.</span></span> |
| <span data-ttu-id="c8dd8-147">Tenant_g</span><span class="sxs-lookup"><span data-stu-id="c8dd8-147">Tenant_g</span></span> | <span data-ttu-id="c8dd8-148">GUID que identifica el inquilino de Hola para hello llamador.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-148">GUID that identifies hello tenant for hello Caller.</span></span> |
| <span data-ttu-id="c8dd8-149">JobId_g</span><span class="sxs-lookup"><span data-stu-id="c8dd8-149">JobId_g</span></span> |<span data-ttu-id="c8dd8-150">GUID que es el Id. de trabajo de runbook de Hola Hola.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-150">GUID that is hello Id of hello runbook job.</span></span> |
| <span data-ttu-id="c8dd8-151">ResultType</span><span class="sxs-lookup"><span data-stu-id="c8dd8-151">ResultType</span></span> |<span data-ttu-id="c8dd8-152">estado de Hola de trabajo de runbook de Hola.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-152">hello status of hello runbook job.</span></span>  <span data-ttu-id="c8dd8-153">Los valores posibles son:</span><span class="sxs-lookup"><span data-stu-id="c8dd8-153">Possible values are:</span></span><br><span data-ttu-id="c8dd8-154">Started</span><span class="sxs-lookup"><span data-stu-id="c8dd8-154">- Started</span></span><br><span data-ttu-id="c8dd8-155">Stopped</span><span class="sxs-lookup"><span data-stu-id="c8dd8-155">- Stopped</span></span><br><span data-ttu-id="c8dd8-156">Suspended</span><span class="sxs-lookup"><span data-stu-id="c8dd8-156">- Suspended</span></span><br><span data-ttu-id="c8dd8-157">Con error</span><span class="sxs-lookup"><span data-stu-id="c8dd8-157">- Failed</span></span><br><span data-ttu-id="c8dd8-158">Completado</span><span class="sxs-lookup"><span data-stu-id="c8dd8-158">- Completed</span></span> |
| <span data-ttu-id="c8dd8-159">Categoría</span><span class="sxs-lookup"><span data-stu-id="c8dd8-159">Category</span></span> | <span data-ttu-id="c8dd8-160">Clasificación de tipo hello de datos.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-160">Classification of hello type of data.</span></span>  <span data-ttu-id="c8dd8-161">Para la automatización, el valor de hello es JobLogs.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-161">For Automation, hello value is JobLogs.</span></span> |
| <span data-ttu-id="c8dd8-162">nombreOperación</span><span class="sxs-lookup"><span data-stu-id="c8dd8-162">OperationName</span></span> | <span data-ttu-id="c8dd8-163">Especifica el tipo de saludo de operación realizada en Azure.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-163">Specifies hello type of operation performed in Azure.</span></span>  <span data-ttu-id="c8dd8-164">Para la automatización, el valor de hello es trabajo.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-164">For Automation, hello value is Job.</span></span> |
| <span data-ttu-id="c8dd8-165">Recurso</span><span class="sxs-lookup"><span data-stu-id="c8dd8-165">Resource</span></span> | <span data-ttu-id="c8dd8-166">Nombre de cuenta de automatización de hello</span><span class="sxs-lookup"><span data-stu-id="c8dd8-166">Name of hello Automation account</span></span> |
| <span data-ttu-id="c8dd8-167">SourceSystem</span><span class="sxs-lookup"><span data-stu-id="c8dd8-167">SourceSystem</span></span> | <span data-ttu-id="c8dd8-168">Cómo análisis de registros recopilan los datos de Hola.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-168">How Log Analytics collected hello data.</span></span> <span data-ttu-id="c8dd8-169">Siempre *Azure* para Diagnósticos de Azure.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-169">Always *Azure* for Azure diagnostics.</span></span> |
| <span data-ttu-id="c8dd8-170">ResultDescription</span><span class="sxs-lookup"><span data-stu-id="c8dd8-170">ResultDescription</span></span> |<span data-ttu-id="c8dd8-171">Describe el estado de resultado del trabajo de runbook de Hola.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-171">Describes hello runbook job result state.</span></span>  <span data-ttu-id="c8dd8-172">Los valores posibles son:</span><span class="sxs-lookup"><span data-stu-id="c8dd8-172">Possible values are:</span></span><br><span data-ttu-id="c8dd8-173">- Se inicia el trabajo</span><span class="sxs-lookup"><span data-stu-id="c8dd8-173">- Job is started</span></span><br><span data-ttu-id="c8dd8-174">- Error del trabajo</span><span class="sxs-lookup"><span data-stu-id="c8dd8-174">- Job Failed</span></span><br><span data-ttu-id="c8dd8-175">- Trabajo completado</span><span class="sxs-lookup"><span data-stu-id="c8dd8-175">- Job Completed</span></span> |
| <span data-ttu-id="c8dd8-176">CorrelationId</span><span class="sxs-lookup"><span data-stu-id="c8dd8-176">CorrelationId</span></span> |<span data-ttu-id="c8dd8-177">GUID que es el Id. de correlación de trabajo de runbook de Hola Hola.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-177">GUID that is hello Correlation Id of hello runbook job.</span></span> |
| <span data-ttu-id="c8dd8-178">ResourceId</span><span class="sxs-lookup"><span data-stu-id="c8dd8-178">ResourceId</span></span> |<span data-ttu-id="c8dd8-179">Especifica el identificador de recurso de cuenta de automatización de Azure de Hola de runbook de Hola.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-179">Specifies hello Azure Automation account resource id of hello runbook.</span></span> |
| <span data-ttu-id="c8dd8-180">SubscriptionId</span><span class="sxs-lookup"><span data-stu-id="c8dd8-180">SubscriptionId</span></span> | <span data-ttu-id="c8dd8-181">Hola suscripción de Azure identificador (GUID) para la cuenta de automatización de Hola.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-181">hello Azure subscription Id (GUID) for hello Automation account.</span></span> |
| <span data-ttu-id="c8dd8-182">ResourceGroup</span><span class="sxs-lookup"><span data-stu-id="c8dd8-182">ResourceGroup</span></span> | <span data-ttu-id="c8dd8-183">Nombre del grupo de recursos de Hola de hello cuenta de automatización.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-183">Name of hello resource group for hello Automation account.</span></span> |
| <span data-ttu-id="c8dd8-184">ResourceProvider</span><span class="sxs-lookup"><span data-stu-id="c8dd8-184">ResourceProvider</span></span> | <span data-ttu-id="c8dd8-185">MICROSOFT.AUTOMATION</span><span class="sxs-lookup"><span data-stu-id="c8dd8-185">MICROSOFT.AUTOMATION</span></span> |
| <span data-ttu-id="c8dd8-186">ResourceType</span><span class="sxs-lookup"><span data-stu-id="c8dd8-186">ResourceType</span></span> | <span data-ttu-id="c8dd8-187">AUTOMATIONACCOUNTS</span><span class="sxs-lookup"><span data-stu-id="c8dd8-187">AUTOMATIONACCOUNTS</span></span> |


### <a name="job-streams"></a><span data-ttu-id="c8dd8-188">Flujos de trabajo</span><span class="sxs-lookup"><span data-stu-id="c8dd8-188">Job Streams</span></span>
| <span data-ttu-id="c8dd8-189">Propiedad</span><span class="sxs-lookup"><span data-stu-id="c8dd8-189">Property</span></span> | <span data-ttu-id="c8dd8-190">Descripción</span><span class="sxs-lookup"><span data-stu-id="c8dd8-190">Description</span></span> |
| --- | --- |
| <span data-ttu-id="c8dd8-191">TimeGenerated</span><span class="sxs-lookup"><span data-stu-id="c8dd8-191">TimeGenerated</span></span> |<span data-ttu-id="c8dd8-192">Fecha y hora cuando se ejecuta el trabajo del runbook de Hola.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-192">Date and time when hello runbook job executed.</span></span> |
| <span data-ttu-id="c8dd8-193">RunbookName_s</span><span class="sxs-lookup"><span data-stu-id="c8dd8-193">RunbookName_s</span></span> |<span data-ttu-id="c8dd8-194">nombre de Hola de runbook de Hola.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-194">hello name of hello runbook.</span></span> |
| <span data-ttu-id="c8dd8-195">Caller_s</span><span class="sxs-lookup"><span data-stu-id="c8dd8-195">Caller_s</span></span> |<span data-ttu-id="c8dd8-196">Quién inició la operación de Hola.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-196">Who initiated hello operation.</span></span>  <span data-ttu-id="c8dd8-197">Los valores posibles son una dirección de correo electrónico o el sistema para los trabajos programados.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-197">Possible values are either an email address or system for scheduled jobs.</span></span> |
| <span data-ttu-id="c8dd8-198">StreamType_s</span><span class="sxs-lookup"><span data-stu-id="c8dd8-198">StreamType_s</span></span> |<span data-ttu-id="c8dd8-199">tipo de Hola de flujo de trabajo.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-199">hello type of job stream.</span></span> <span data-ttu-id="c8dd8-200">Los valores posibles son:</span><span class="sxs-lookup"><span data-stu-id="c8dd8-200">Possible values are:</span></span><br><span data-ttu-id="c8dd8-201">progreso</span><span class="sxs-lookup"><span data-stu-id="c8dd8-201">-Progress</span></span><br><span data-ttu-id="c8dd8-202">- Salida</span><span class="sxs-lookup"><span data-stu-id="c8dd8-202">- Output</span></span><br><span data-ttu-id="c8dd8-203">Warning (Advertencia)</span><span class="sxs-lookup"><span data-stu-id="c8dd8-203">- Warning</span></span><br><span data-ttu-id="c8dd8-204">Error</span><span class="sxs-lookup"><span data-stu-id="c8dd8-204">- Error</span></span><br><span data-ttu-id="c8dd8-205">DEBUG</span><span class="sxs-lookup"><span data-stu-id="c8dd8-205">- Debug</span></span><br><span data-ttu-id="c8dd8-206">- Detallado</span><span class="sxs-lookup"><span data-stu-id="c8dd8-206">- Verbose</span></span> |
| <span data-ttu-id="c8dd8-207">Tenant_g</span><span class="sxs-lookup"><span data-stu-id="c8dd8-207">Tenant_g</span></span> | <span data-ttu-id="c8dd8-208">GUID que identifica el inquilino de Hola para hello llamador.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-208">GUID that identifies hello tenant for hello Caller.</span></span> |
| <span data-ttu-id="c8dd8-209">JobId_g</span><span class="sxs-lookup"><span data-stu-id="c8dd8-209">JobId_g</span></span> |<span data-ttu-id="c8dd8-210">GUID que es el Id. de trabajo de runbook de Hola Hola.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-210">GUID that is hello Id of hello runbook job.</span></span> |
| <span data-ttu-id="c8dd8-211">ResultType</span><span class="sxs-lookup"><span data-stu-id="c8dd8-211">ResultType</span></span> |<span data-ttu-id="c8dd8-212">estado de Hola de trabajo de runbook de Hola.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-212">hello status of hello runbook job.</span></span>  <span data-ttu-id="c8dd8-213">Los valores posibles son:</span><span class="sxs-lookup"><span data-stu-id="c8dd8-213">Possible values are:</span></span><br><span data-ttu-id="c8dd8-214">- In Progress</span><span class="sxs-lookup"><span data-stu-id="c8dd8-214">- In Progress</span></span> |
| <span data-ttu-id="c8dd8-215">Categoría</span><span class="sxs-lookup"><span data-stu-id="c8dd8-215">Category</span></span> | <span data-ttu-id="c8dd8-216">Clasificación de tipo hello de datos.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-216">Classification of hello type of data.</span></span>  <span data-ttu-id="c8dd8-217">Para la automatización, el valor de hello es JobStreams.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-217">For Automation, hello value is JobStreams.</span></span> |
| <span data-ttu-id="c8dd8-218">nombreOperación</span><span class="sxs-lookup"><span data-stu-id="c8dd8-218">OperationName</span></span> | <span data-ttu-id="c8dd8-219">Especifica el tipo de saludo de operación realizada en Azure.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-219">Specifies hello type of operation performed in Azure.</span></span>  <span data-ttu-id="c8dd8-220">Para la automatización, el valor de hello es trabajo.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-220">For Automation, hello value is Job.</span></span> |
| <span data-ttu-id="c8dd8-221">Recurso</span><span class="sxs-lookup"><span data-stu-id="c8dd8-221">Resource</span></span> | <span data-ttu-id="c8dd8-222">Nombre de cuenta de automatización de hello</span><span class="sxs-lookup"><span data-stu-id="c8dd8-222">Name of hello Automation account</span></span> |
| <span data-ttu-id="c8dd8-223">SourceSystem</span><span class="sxs-lookup"><span data-stu-id="c8dd8-223">SourceSystem</span></span> | <span data-ttu-id="c8dd8-224">Cómo análisis de registros recopilan los datos de Hola.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-224">How Log Analytics collected hello data.</span></span> <span data-ttu-id="c8dd8-225">Siempre *Azure* para Diagnósticos de Azure.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-225">Always *Azure* for Azure diagnostics.</span></span> |
| <span data-ttu-id="c8dd8-226">ResultDescription</span><span class="sxs-lookup"><span data-stu-id="c8dd8-226">ResultDescription</span></span> |<span data-ttu-id="c8dd8-227">Incluye el flujo de salida de hello de runbook de Hola.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-227">Includes hello output stream from hello runbook.</span></span> |
| <span data-ttu-id="c8dd8-228">CorrelationId</span><span class="sxs-lookup"><span data-stu-id="c8dd8-228">CorrelationId</span></span> |<span data-ttu-id="c8dd8-229">GUID que es el Id. de correlación de trabajo de runbook de Hola Hola.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-229">GUID that is hello Correlation Id of hello runbook job.</span></span> |
| <span data-ttu-id="c8dd8-230">ResourceId</span><span class="sxs-lookup"><span data-stu-id="c8dd8-230">ResourceId</span></span> |<span data-ttu-id="c8dd8-231">Especifica el identificador de recurso de cuenta de automatización de Azure de Hola de runbook de Hola.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-231">Specifies hello Azure Automation account resource id of hello runbook.</span></span> |
| <span data-ttu-id="c8dd8-232">SubscriptionId</span><span class="sxs-lookup"><span data-stu-id="c8dd8-232">SubscriptionId</span></span> | <span data-ttu-id="c8dd8-233">Hola suscripción de Azure identificador (GUID) para la cuenta de automatización de Hola.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-233">hello Azure subscription Id (GUID) for hello Automation account.</span></span> |
| <span data-ttu-id="c8dd8-234">ResourceGroup</span><span class="sxs-lookup"><span data-stu-id="c8dd8-234">ResourceGroup</span></span> | <span data-ttu-id="c8dd8-235">Nombre del grupo de recursos de Hola de hello cuenta de automatización.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-235">Name of hello resource group for hello Automation account.</span></span> |
| <span data-ttu-id="c8dd8-236">ResourceProvider</span><span class="sxs-lookup"><span data-stu-id="c8dd8-236">ResourceProvider</span></span> | <span data-ttu-id="c8dd8-237">MICROSOFT.AUTOMATION</span><span class="sxs-lookup"><span data-stu-id="c8dd8-237">MICROSOFT.AUTOMATION</span></span> |
| <span data-ttu-id="c8dd8-238">ResourceType</span><span class="sxs-lookup"><span data-stu-id="c8dd8-238">ResourceType</span></span> | <span data-ttu-id="c8dd8-239">AUTOMATIONACCOUNTS</span><span class="sxs-lookup"><span data-stu-id="c8dd8-239">AUTOMATIONACCOUNTS</span></span> |

## <a name="viewing-automation-logs-in-log-analytics"></a><span data-ttu-id="c8dd8-240">Visualización de registros de Automatización en Log Analytics</span><span class="sxs-lookup"><span data-stu-id="c8dd8-240">Viewing Automation Logs in Log Analytics</span></span>
<span data-ttu-id="c8dd8-241">Ahora que ha iniciado la enviar los registros de trabajo automatización tooLog análisis, veamos lo que puede hacer con estos registros de análisis de registros.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-241">Now that you have started sending your Automation job logs tooLog Analytics, let’s see what you can do with these logs inside Log Analytics.</span></span>

<span data-ttu-id="c8dd8-242">registros de hello toosee, ejecute hello después de consulta:`Type=AzureDiagnostics ResourceProvider="MICROSOFT.AUTOMATION"`</span><span class="sxs-lookup"><span data-stu-id="c8dd8-242">toosee hello logs, run hello following query: `Type=AzureDiagnostics ResourceProvider="MICROSOFT.AUTOMATION"`</span></span>

### <a name="send-an-email-when-a-runbook-job-fails-or-suspends"></a><span data-ttu-id="c8dd8-243">Envío de un correo electrónico cuando se produce un error en un trabajo del runbook o se suspende</span><span class="sxs-lookup"><span data-stu-id="c8dd8-243">Send an email when a runbook job fails or suspends</span></span>
<span data-ttu-id="c8dd8-244">Uno de nuestros clientes superior pide es para hello capacidad toosend un texto o un correo electrónico cuando algo va mal con un trabajo de runbook.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-244">One of our top customer asks is for hello ability toosend an email or a text when something goes wrong with a runbook job.</span></span>   

<span data-ttu-id="c8dd8-245">la regla toocreate una alerta, primero debe crear una búsqueda de registros de runbook de hello registros de trabajos que se deben invocar alerta Hola.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-245">toocreate an alert rule, you start by creating a log search for hello runbook job records that should invoke hello alert.</span></span>  <span data-ttu-id="c8dd8-246">Haga clic en hello **alerta** botón toocreate y configurar la regla de alerta de Hola.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-246">Click hello **Alert** button toocreate and configure hello alert rule.</span></span>

1. <span data-ttu-id="c8dd8-247">En la página de información general de análisis de registro de hello, haga clic en **búsqueda de registros**.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-247">From hello Log Analytics Overview page, click **Log Search**.</span></span>
2. <span data-ttu-id="c8dd8-248">Crear una consulta de búsqueda de registro para la alerta escribiendo Hola después de búsqueda en el campo de consulta de hello: `Type=AzureDiagnostics ResourceProvider="MICROSOFT.AUTOMATION" Category=JobLogs (ResultType=Failed OR ResultType=Suspended)` también puede agrupar por hello RunbookName mediante el uso de:`Type=AzureDiagnostics ResourceProvider="MICROSOFT.AUTOMATION" Category=JobLogs (ResultType=Failed OR ResultType=Suspended) | measure Count() by RunbookName_s`</span><span class="sxs-lookup"><span data-stu-id="c8dd8-248">Create a log search query for your alert by typing hello following search into hello query field:  `Type=AzureDiagnostics ResourceProvider="MICROSOFT.AUTOMATION" Category=JobLogs (ResultType=Failed OR ResultType=Suspended)`  You can also group by hello RunbookName by using: `Type=AzureDiagnostics ResourceProvider="MICROSOFT.AUTOMATION" Category=JobLogs (ResultType=Failed OR ResultType=Suspended) | measure Count() by RunbookName_s`</span></span>   

   <span data-ttu-id="c8dd8-249">Si ha configurado los registros de más de una automatización de la cuenta o suscripción tooyour área de trabajo, puede agrupar las alertas por suscripción y cuenta de automatización.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-249">If you have set up logs from more than one Automation account or subscription tooyour workspace, you can group your alerts by subscription and Automation account.</span></span>  <span data-ttu-id="c8dd8-250">Nombre de la cuenta de automatización se puede derivar de campo de recursos de hello en búsqueda de Hola de JobLogs.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-250">Automation account name can be derived from hello Resource field in hello search of JobLogs.</span></span>  
3. <span data-ttu-id="c8dd8-251">Hola tooopen **Agregar regla de alerta** pantalla, haga clic en **alerta** al principio de Hola de página de Hola.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-251">tooopen hello **Add Alert Rule** screen, click **Alert** at hello top of hello page.</span></span> <span data-ttu-id="c8dd8-252">Para obtener más información sobre la alerta de hello opciones tooconfigure hello, consulte [alertas en los análisis de registros](../log-analytics/log-analytics-alerts.md#alert-rules).</span><span class="sxs-lookup"><span data-stu-id="c8dd8-252">For further details on hello options tooconfigure hello alert, see [Alerts in Log Analytics](../log-analytics/log-analytics-alerts.md#alert-rules).</span></span>

### <a name="find-all-jobs-that-have-completed-with-errors"></a><span data-ttu-id="c8dd8-253">Búsqueda de todos los trabajos que se han completado con errores</span><span class="sxs-lookup"><span data-stu-id="c8dd8-253">Find all jobs that have completed with errors</span></span>
<span data-ttu-id="c8dd8-254">Además tooalerting cuando se produzcan errores, puede encontrar cuando un trabajo de runbook tiene un error de no terminación.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-254">In addition tooalerting on failures, you can find when a runbook job has a non-terminating error.</span></span> <span data-ttu-id="c8dd8-255">En estos casos PowerShell genera una secuencia de error, pero errores de no terminación de Hola no hacer su trabajo toosuspend o se producirá un error.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-255">In these cases PowerShell produces an error stream, but hello non-terminating errors do not cause your job toosuspend or fail.</span></span>    

1. <span data-ttu-id="c8dd8-256">En el área de trabajo de Log Analytics, haga clic en **Búsqueda de registros**.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-256">In your Log Analytics workspace, click **Log Search**.</span></span>
2. <span data-ttu-id="c8dd8-257">En el campo de consulta de hello, escriba `Type=AzureDiagnostics ResourceProvider="MICROSOFT.AUTOMATION" Category=JobStreams StreamType_s=Error | measure count() by JobId_g` y, a continuación, haga clic en **búsqueda**.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-257">In hello query field, type `Type=AzureDiagnostics ResourceProvider="MICROSOFT.AUTOMATION" Category=JobStreams StreamType_s=Error | measure count() by JobId_g` and then click **Search**.</span></span>

### <a name="view-job-streams-for-a-job"></a><span data-ttu-id="c8dd8-258">Visualización de las transmisiones de un trabajo</span><span class="sxs-lookup"><span data-stu-id="c8dd8-258">View job streams for a job</span></span>
<span data-ttu-id="c8dd8-259">Cuando se depura un trabajo, también puede toolook en flujos de trabajo de Hola.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-259">When you are debugging a job, you may also want toolook into hello job streams.</span></span>  <span data-ttu-id="c8dd8-260">Hello consulta siguiente muestra todos los flujos de Hola de un único trabajo con GUID de 2ebd22ea-e05e-4eb9 - 9D 76 d73cbd4356e0:</span><span class="sxs-lookup"><span data-stu-id="c8dd8-260">hello following query shows all hello streams for a single job with GUID 2ebd22ea-e05e-4eb9-9d76-d73cbd4356e0:</span></span>   

`Type=AzureDiagnostics ResourceProvider="MICROSOFT.AUTOMATION" Category=JobStreams JobId_g="2ebd22ea-e05e-4eb9-9d76-d73cbd4356e0" | sort TimeGenerated | select ResultDescription`

### <a name="view-historical-job-status"></a><span data-ttu-id="c8dd8-261">Visualización del estado del historial de trabajos</span><span class="sxs-lookup"><span data-stu-id="c8dd8-261">View historical job status</span></span>
<span data-ttu-id="c8dd8-262">Por último, puede que desee toovisualize el historial de trabajos con el tiempo.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-262">Finally, you may want toovisualize your job history over time.</span></span>  <span data-ttu-id="c8dd8-263">Puede usar este toosearch de consulta para el estado de saludo de los trabajos con el tiempo.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-263">You can use this query toosearch for hello status of your jobs over time.</span></span>

`Type=AzureDiagnostics ResourceProvider="MICROSOFT.AUTOMATION" Category=JobLogs NOT(ResultType="started") | measure Count() by ResultType interval 1hour`  
<br> <span data-ttu-id="c8dd8-264">![Gráfico del historial de trabajos de OMS](media/automation-manage-send-joblogs-log-analytics/historical-job-status-chart.png)</span><span class="sxs-lookup"><span data-stu-id="c8dd8-264">![OMS Historical Job Status Chart](media/automation-manage-send-joblogs-log-analytics/historical-job-status-chart.png)</span></span><br>

## <a name="summary"></a><span data-ttu-id="c8dd8-265">Resumen</span><span class="sxs-lookup"><span data-stu-id="c8dd8-265">Summary</span></span>
<span data-ttu-id="c8dd8-266">Mediante el envío de la automatización trabajo estado y flujo de datos tooLog análisis, puede obtener una mejor visión estado Hola de los trabajos de automatización de la forma:</span><span class="sxs-lookup"><span data-stu-id="c8dd8-266">By sending your Automation job status and stream data tooLog Analytics, you can get better insight into hello status of your Automation jobs by:</span></span>
+ <span data-ttu-id="c8dd8-267">Configurar toonotify de alertas para cuando se produce un problema</span><span class="sxs-lookup"><span data-stu-id="c8dd8-267">Setting up alerts toonotify you when there is an issue</span></span>
+ <span data-ttu-id="c8dd8-268">Mediante vistas personalizadas y toovisualize de las consultas de búsqueda los resultados de runbook, el estado del trabajo de runbook y otros relacionados con indicadores clave o las métricas.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-268">Using custom views and search queries toovisualize your runbook results, runbook job status, and other related key indicators or metrics.</span></span>  

<span data-ttu-id="c8dd8-269">Análisis de registros proporciona mayor visibilidad operativa trabajos de automatización de tooyour y pueden ayudar a incidentes de dirección más rápidas.</span><span class="sxs-lookup"><span data-stu-id="c8dd8-269">Log Analytics provides greater operational visibility tooyour Automation jobs and can help address incidents quicker.</span></span>  

## <a name="next-steps"></a><span data-ttu-id="c8dd8-270">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="c8dd8-270">Next steps</span></span>
* <span data-ttu-id="c8dd8-271">toolearn más información acerca de cómo las consultas de búsqueda diferente de tooconstruct y revisión Hola automatización trabajo registros con análisis de registros, vea [búsquedas de registro de análisis de registros](../log-analytics/log-analytics-log-searches.md)</span><span class="sxs-lookup"><span data-stu-id="c8dd8-271">toolearn more about how tooconstruct different search queries and review hello Automation job logs with Log Analytics, see [Log searches in Log Analytics](../log-analytics/log-analytics-log-searches.md)</span></span>
* <span data-ttu-id="c8dd8-272">toounderstand toocreate y recuperar mensajes de error y de salida de runbooks, vea [Runbook de salida y mensajes](automation-runbook-output-and-messages.md)</span><span class="sxs-lookup"><span data-stu-id="c8dd8-272">toounderstand how toocreate and retrieve output and error messages from runbooks, see [Runbook output and messages](automation-runbook-output-and-messages.md)</span></span>
* <span data-ttu-id="c8dd8-273">más información acerca de la ejecución de un runbook, cómo toomonitor runbook trabajos y otros detalles técnicos, consulte toolearn [realizar un seguimiento de un trabajo de runbook](automation-runbook-execution.md)</span><span class="sxs-lookup"><span data-stu-id="c8dd8-273">toolearn more about runbook execution, how toomonitor runbook jobs, and other technical details, see [Track a runbook job](automation-runbook-execution.md)</span></span>
* <span data-ttu-id="c8dd8-274">toolearn más información sobre análisis de registros de OMS y orígenes de la colección de datos, vea [datos de almacenamiento de Azure recopilar en información general de análisis de registros](../log-analytics/log-analytics-azure-storage.md)</span><span class="sxs-lookup"><span data-stu-id="c8dd8-274">toolearn more about OMS Log Analytics and data collection sources, see [Collecting Azure storage data in Log Analytics overview](../log-analytics/log-analytics-azure-storage.md)</span></span>
