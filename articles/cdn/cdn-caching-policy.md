---
title: "aaaManage directiva de caché de CDN de Azure en servicios multimedia de Azure | Documentos de Microsoft"
description: "Obtenga información acerca de cómo toomanage directiva de caché de CDN de Azure en servicios multimedia de Azure."
services: media-services,cdn
documentationcenter: .NET
author: juliako
manager: erikre
editor: 
ms.assetid: be33aecc-6dbe-43d7-a056-10ba911e0e94
ms.service: media-services
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 02/04/2017
ms.author: juliako
ms.openlocfilehash: 4c7ee2922fcbb5727e10fbe44fc6e61b79f6917c
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="manage-azure-cdn-caching-policy-in-azure-media-services"></a><span data-ttu-id="3b78e-103">Administración de la directiva de almacenamiento en caché de la red CDN de Azure en Azure Media Services</span><span class="sxs-lookup"><span data-stu-id="3b78e-103">Manage Azure CDN caching policy in Azure Media Services</span></span>
<span data-ttu-id="3b78e-104">Servicios multimedia de Azure proporciona streaming adaptable basado en HTTP y descarga progresiva.</span><span class="sxs-lookup"><span data-stu-id="3b78e-104">Azure Media Services provides HTTP based Adaptive Streaming and progressive download.</span></span> <span data-ttu-id="3b78e-105">El streaming basado en HTTP es altamente escalable con ventajas de almacenamiento en caché en proxy y capas CDN, además de almacenamiento en caché del cliente.</span><span class="sxs-lookup"><span data-stu-id="3b78e-105">HTTP based streaming is highly scalable with benefits of caching in proxy and CDN layers as well as client side caching.</span></span> <span data-ttu-id="3b78e-106">Los extremos de streaming proporcionan capacidades generales de streaming, así como configuración para encabezados de caché HTTP.</span><span class="sxs-lookup"><span data-stu-id="3b78e-106">Streaming endpoints provides general streaming capabilities and also configuration for HTTP cache headers.</span></span> <span data-ttu-id="3b78e-107">Los extremos de streaming establecen Control de caché HTTP: encabezados max-age y Expires.</span><span class="sxs-lookup"><span data-stu-id="3b78e-107">Streaming endpoints sets HTTP Cache-Control: max-age and Expires headers.</span></span> <span data-ttu-id="3b78e-108">Puede obtener más información sobre los encabezados de caché HTTP en [W3.org](http://www.w3.org/Protocols/rfc2616/rfc2616-sec13.html).</span><span class="sxs-lookup"><span data-stu-id="3b78e-108">You can get more information for HTTP cache headers from [W3.org](http://www.w3.org/Protocols/rfc2616/rfc2616-sec13.html).</span></span>

## <a name="default-caching-headers"></a><span data-ttu-id="3b78e-109">Encabezados de almacenamiento en caché predeterminados</span><span class="sxs-lookup"><span data-stu-id="3b78e-109">Default Caching headers</span></span>
<span data-ttu-id="3b78e-110">De forma predeterminada, los extremos de streaming aplican encabezados de caché de 3 días para datos de streaming a petición (fragmentos/segmentos multimedia reales) y manifest(playlist).</span><span class="sxs-lookup"><span data-stu-id="3b78e-110">By default streaming-endpoints apply 3 day cache headers for on-demand streaming data (actual media fragments/chunks) and manifest(playlist).</span></span> <span data-ttu-id="3b78e-111">Para streaming en directo, los extremos de streaming aplican encabezados de caché de 3 días para datos (fragmentos/segmentos multimedia reales) y encabezados de caché de 2 segundos para solicitudes de manifest(playlist).</span><span class="sxs-lookup"><span data-stu-id="3b78e-111">For live streaming, streaming endpoints apply 3 day cache headers for data (actual media fragments/chunks) and 2 seconds cache header for manifest(playlist) requests.</span></span> <span data-ttu-id="3b78e-112">Cuando activa el programa en vivo tooon a petición (archivo dinámico), a continuación, se aplican encabezados de caché de transmisión por secuencias a petición.</span><span class="sxs-lookup"><span data-stu-id="3b78e-112">When live program turns tooon-demand (live archive) then on-demand streaming cache headers apply.</span></span>

## <a name="azure-cdn-integration"></a><span data-ttu-id="3b78e-113">Integración de CDN de Azure</span><span class="sxs-lookup"><span data-stu-id="3b78e-113">Azure CDN integration</span></span>
<span data-ttu-id="3b78e-114">Servicios multimedia de Azure proporciona una [red CDN integrada](https://azure.microsoft.com/updates/azure-media-services-now-fully-integrated-with-azure-cdn/) para puntos de conexión de streaming.</span><span class="sxs-lookup"><span data-stu-id="3b78e-114">Azure Media Services provides [integrated CDN](https://azure.microsoft.com/updates/azure-media-services-now-fully-integrated-with-azure-cdn/) for streaming-endpoints.</span></span> <span data-ttu-id="3b78e-115">Encabezados Cache-control se aplica en hello igual manera que tooCDN de extremos de streaming habilitados los extremos de streaming.</span><span class="sxs-lookup"><span data-stu-id="3b78e-115">Cache-control headers applies in hello same way as streaming endpoints tooCDN enabled streaming endpoints.</span></span> <span data-ttu-id="3b78e-116">Azure usa CDN streaming tiempo de vida de hello toodefine valores de caché extremo configurado de hello internamente los objetos en caché y también usa esta encabezados de caché de entrega de valor tooset Hola.</span><span class="sxs-lookup"><span data-stu-id="3b78e-116">Azure CDN uses streaming endpoint configured cache values toodefine hello life time of hello internally cached objects and also uses this value tooset hello delivery cache headers.</span></span> <span data-ttu-id="3b78e-117">Cuando el uso de CDN habilitado los extremos de streaming no se recomienda tooset valores de pequeña memoria caché.</span><span class="sxs-lookup"><span data-stu-id="3b78e-117">When using CDN enabled streaming endpoints it is not recommended tooset small cache values.</span></span> <span data-ttu-id="3b78e-118">Establecer valores pequeños disminuirá el rendimiento de hello y reducir la ventaja de Hola de CDN.</span><span class="sxs-lookup"><span data-stu-id="3b78e-118">Setting small values will decrease hello performance and reduce hello benefit of CDN.</span></span> <span data-ttu-id="3b78e-119">No se permite encabezados de caché tooset menores de 600 segundos para la red CDN habilitado los extremos de streaming.</span><span class="sxs-lookup"><span data-stu-id="3b78e-119">It is not allowed tooset cache headers smaller than 600 seconds for CDN enabled streaming endpoints.</span></span>

> [!IMPORTANT]
><span data-ttu-id="3b78e-120">Azure Media Services está totalmente integrado completa con la red CDN de Azure.</span><span class="sxs-lookup"><span data-stu-id="3b78e-120">Azure Media Services has complete integration with Azure CDN.</span></span> <span data-ttu-id="3b78e-121">Con un solo clic puede integrar todos Hola disponible CDN de Azure proveedores (Akamai y Verizon) tooyour extremo incluidos los productos de CDN estándar y Premium de streaming.</span><span class="sxs-lookup"><span data-stu-id="3b78e-121">With a single click you can integrate all hello available Azure CDN providers (Akamai and Verizon) tooyour streaming endpoint including CDN Standard and Premium products.</span></span> <span data-ttu-id="3b78e-122">Para más información, consulte este [anuncio](https://azure.microsoft.com/blog/standardstreamingendpoint/).</span><span class="sxs-lookup"><span data-stu-id="3b78e-122">For more information, see this [announcement](https://azure.microsoft.com/blog/standardstreamingendpoint/).</span></span>
> 
> <span data-ttu-id="3b78e-123">Cargos de datos de transmisión por secuencias tooCDN de punto de conexión solo obtiene deshabilitados si CDN Hola está habilitado una por las API de extremo de streaming o mediante la sección punto de conexión de la transmisión por secuencias del portal de administración de Azure.</span><span class="sxs-lookup"><span data-stu-id="3b78e-123">Data charges from streaming endpoint tooCDN only gets disabled if hello CDN is enabled over streaming endpoint APIs or using Azure management portal's streaming endpoint section.</span></span> <span data-ttu-id="3b78e-124">Integración manual o crear directamente un punto de conexión de red CDN mediante las API de red CDN o sección del portal se deshabilitará cargos de datos de Hola.</span><span class="sxs-lookup"><span data-stu-id="3b78e-124">Manual integration or directly creating a CDN endpoint using CDN APIs or portal section will not disable hello data charges.</span></span>

## <a name="configuring-cache-headers-with-azure-media-services"></a><span data-ttu-id="3b78e-125">Configuración de encabezados de caché con Servicios multimedia de Azure</span><span class="sxs-lookup"><span data-stu-id="3b78e-125">Configuring cache headers with Azure Media Services</span></span>
<span data-ttu-id="3b78e-126">Puede usar el portal de administración de Azure o valores de encabezado de caché de las API de servicios de multimedia de Azure tooconfigure.</span><span class="sxs-lookup"><span data-stu-id="3b78e-126">You can use Azure Management portal or Azure Media Services APIs tooconfigure cache header values.</span></span>

1. <span data-ttu-id="3b78e-127">encabezados de la caché de tooconfigure mediante administración portal consulte demasiado[cómo extremos de Streaming de tooManage](../media-services/media-services-portal-manage-streaming-endpoints.md) hello de la sección Configurar el punto de conexión de la transmisión por secuencias.</span><span class="sxs-lookup"><span data-stu-id="3b78e-127">tooconfigure cache headers using management portal please refer too[How tooManage Streaming Endpoints](../media-services/media-services-portal-manage-streaming-endpoints.md) section Configuring hello Streaming Endpoint.</span></span>
2. <span data-ttu-id="3b78e-128">API de REST de Servicios multimedia de Azure, [StreamingEndpoint](https://msdn.microsoft.com/library/azure/dn783468.aspx#StreamingEndpointCacheControl).</span><span class="sxs-lookup"><span data-stu-id="3b78e-128">Azure Media Services REST API, [StreamingEndpoint](https://msdn.microsoft.com/library/azure/dn783468.aspx#StreamingEndpointCacheControl).</span></span>
3. <span data-ttu-id="3b78e-129">.NET SDK de Servicios multimedia de Azure, [Propiedades de StreamingEndpointCacheControl](http://go.microsoft.com/fwlink/?LinkId=615302).</span><span class="sxs-lookup"><span data-stu-id="3b78e-129">Azure Media Services .NET SDK, [StreamingEndpointCacheControl Properties](http://go.microsoft.com/fwlink/?LinkId=615302).</span></span>

## <a name="cache-configuration-precedence-order"></a><span data-ttu-id="3b78e-130">Orden de prioridad de configuración de caché</span><span class="sxs-lookup"><span data-stu-id="3b78e-130">Cache configuration precedence order</span></span>
1. <span data-ttu-id="3b78e-131">El valor de caché configurado de Servicios multimedia de Azure reemplaza el valor predeterminado.</span><span class="sxs-lookup"><span data-stu-id="3b78e-131">Azure Media Services configured cache value overrides default value.</span></span>
2. <span data-ttu-id="3b78e-132">Si no hay ninguna configuración manual, se aplican los valores predeterminados.</span><span class="sxs-lookup"><span data-stu-id="3b78e-132">If there is no manual configuration, default values applies.</span></span>
3. <span data-ttu-id="3b78e-133">De forma predeterminada 2 segundos encabezados de la caché se aplica toolive manifest(playlist) independientemente de la configuración de almacenamiento de Azure o Azure multimedia de transmisión por secuencias y el reemplazo de este valor no está disponible.</span><span class="sxs-lookup"><span data-stu-id="3b78e-133">By default 2 seconds cache headers applies toolive streaming manifest(playlist) regardless of Azure Media or Azure Storage configuration and overriding of this value is not available.</span></span>

