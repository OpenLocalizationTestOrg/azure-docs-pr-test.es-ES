---
title: aaaDiagnose y solucionar problemas | Documentos de Microsoft
description: "Este tutorial trata cómo toodiagnose y solucionar problemas en su entorno de visión de la serie de tiempo"
keywords: 
services: time-series-insights
documentationcenter: 
author: venkatgct
manager: almineev
editor: cgronlun
ms.assetid: 
ms.service: time-series-insights
ms.devlang: na
ms.topic: how-to-article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 04/24/2017
ms.author: venkatja
ms.openlocfilehash: 00893d4bec497f5f8bf7093be5b96f1844446d13
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="diagnose-and-solve-problems-in-your-time-series-insights-environment"></a><span data-ttu-id="fe93a-103">Diagnóstico y solución de problemas de su entorno Time Series Insights</span><span class="sxs-lookup"><span data-stu-id="fe93a-103">Diagnose and solve problems in your Time Series Insights environment</span></span>

## <a name="i-dont-see-my-data"></a><span data-ttu-id="fe93a-104">No veo mis datos</span><span class="sxs-lookup"><span data-stu-id="fe93a-104">I don't see my data</span></span>
<span data-ttu-id="fe93a-105">A continuación, figuran algunas causas ¿por qué no puede ver los datos en su entorno de hello [portal de Azure tiempo serie visión](https://insights.timeseries.azure.com).</span><span class="sxs-lookup"><span data-stu-id="fe93a-105">Here are some reasons why you might not see your data in your environment in hello [Azure Time Series Insights portal](https://insights.timeseries.azure.com).</span></span>

### <a name="your-event-source-doesnt-have-data-in-json-format"></a><span data-ttu-id="fe93a-106">Su origen de eventos no tiene datos en formato JSON</span><span class="sxs-lookup"><span data-stu-id="fe93a-106">Your event source doesn't have data in JSON format</span></span>
<span data-ttu-id="fe93a-107">Azure Time Series Insights solo admite actualmente datos JSON.</span><span class="sxs-lookup"><span data-stu-id="fe93a-107">Azure Time Series Insights supports only JSON data today.</span></span> <span data-ttu-id="fe93a-108">Para ver ejemplos de JSON, consulte [Formas de JSON admitidas](time-series-insights-send-events.md#supported-json-shapes).</span><span class="sxs-lookup"><span data-stu-id="fe93a-108">For JSON samples, see [Supported JSON shapes](time-series-insights-send-events.md#supported-json-shapes).</span></span>

### <a name="when-you-registered-your-event-source-you-didnt-provide-hello-key-that-has-hello-required-permission"></a><span data-ttu-id="fe93a-109">Cuando se registra el origen de eventos, no proporcionaba clave Hola que tenga permiso de hello necesario</span><span class="sxs-lookup"><span data-stu-id="fe93a-109">When you registered your event source, you didn't provide hello key that has hello required permission</span></span>
* <span data-ttu-id="fe93a-110">Para un centro de IoT, necesita clave hello tooprovide con **servicio conectar** permiso.</span><span class="sxs-lookup"><span data-stu-id="fe93a-110">For an IoT hub, you need tooprovide hello key that has **service connect** permission.</span></span>

   ![Permiso de conexión de servicio de Iot Hub](media/diagnose-and-solve-problems/iothub-serviceconnect-permissions.png)

   <span data-ttu-id="fe93a-112">Como se muestra en hello anterior imagen, cualquiera de las directivas de hello **iothubowner** y **servicio** funcionaría, porque ambos tienen **servicio conectar** permiso.</span><span class="sxs-lookup"><span data-stu-id="fe93a-112">As shown in hello preceding image, either of hello policies **iothubowner** and **service** would work, because both have **service connect** permission.</span></span>
* <span data-ttu-id="fe93a-113">Para un concentrador de eventos, necesita clave hello tooprovide con **escuchar** permiso.</span><span class="sxs-lookup"><span data-stu-id="fe93a-113">For an event hub, you need tooprovide hello key that has **Listen** permission.</span></span>

   ![Permiso de escucha de centro de eventos](media/diagnose-and-solve-problems/eventhub-listen-permissions.png)

   <span data-ttu-id="fe93a-115">Como se muestra en hello anterior imagen, cualquiera de las directivas de hello **leer** y **administrar** funcionaría, porque ambos tienen **escuchar** permiso.</span><span class="sxs-lookup"><span data-stu-id="fe93a-115">As shown in hello preceding image, either of hello policies **read** and **manage** would work, because both have **Listen** permission.</span></span>

### <a name="hello-provided-consumer-group-is-not-exclusive-tootime-series-insights"></a><span data-ttu-id="fe93a-116">Hola proporcionado grupo de consumidores no es exclusivo tooTime serie visión</span><span class="sxs-lookup"><span data-stu-id="fe93a-116">hello provided consumer group is not exclusive tooTime Series Insights</span></span>
<span data-ttu-id="fe93a-117">Para un centro de IoT o un concentrador de eventos, durante el registro te requerimos que grupo de consumidores de hello toospecify que debe usarse para leer los datos.</span><span class="sxs-lookup"><span data-stu-id="fe93a-117">For an IoT hub or an event hub, during registration we require you toospecify hello consumer group that should be used for reading your data.</span></span> <span data-ttu-id="fe93a-118">Este grupo de consumidores no debe compartirse.</span><span class="sxs-lookup"><span data-stu-id="fe93a-118">This consumer group must not be shared.</span></span> <span data-ttu-id="fe93a-119">Si se comparte, centro de eventos subyacente Hola desconecta automáticamente a uno de los lectores de hello aleatoriamente.</span><span class="sxs-lookup"><span data-stu-id="fe93a-119">If it's shared, hello underlying event hub automatically disconnects one of hello readers randomly.</span></span>

## <a name="i-see-my-data-but-theres-a-lag"></a><span data-ttu-id="fe93a-120">Veo mis datos, pero hay un retraso</span><span class="sxs-lookup"><span data-stu-id="fe93a-120">I see my data, but there's a lag</span></span>
<span data-ttu-id="fe93a-121">Éstas son las razones ¿por qué podría ver parte de los datos en su entorno de hello [portal de visión de la serie de tiempo](https://insights.timeseries.azure.com).</span><span class="sxs-lookup"><span data-stu-id="fe93a-121">Here are reasons why you might see partial data in your environment in hello [Time Series Insights portal](https://insights.timeseries.azure.com).</span></span>

### <a name="your-environment-is-getting-throttled"></a><span data-ttu-id="fe93a-122">Puede que se esté limitando el entorno</span><span class="sxs-lookup"><span data-stu-id="fe93a-122">Your environment is getting throttled</span></span>
<span data-ttu-id="fe93a-123">Hola límite se aplica en función de tipo SKU y la capacidad del entorno de Hola.</span><span class="sxs-lookup"><span data-stu-id="fe93a-123">hello throttling limit is enforced based on hello environment's SKU type and capacity.</span></span> <span data-ttu-id="fe93a-124">Todos los orígenes de eventos en el entorno de hello compartan esta capacidad.</span><span class="sxs-lookup"><span data-stu-id="fe93a-124">All event sources in hello environment share this capacity.</span></span> <span data-ttu-id="fe93a-125">Si el origen de eventos de hello para el concentrador de eventos o centro de IoT es insertar datos más allá de los límites de hello exige, verá la limitación y un retraso.</span><span class="sxs-lookup"><span data-stu-id="fe93a-125">If hello event source for your IoT hub or event hub is pushing data beyond hello enforced limits, you see throttling and a lag.</span></span>

<span data-ttu-id="fe93a-126">Hola siguiente diagrama muestra un entorno de visión de la serie de tiempo que tiene un SKU de S1 y una capacidad de 3.</span><span class="sxs-lookup"><span data-stu-id="fe93a-126">hello following diagram shows a Time Series Insights environment that has a SKU of S1 and a capacity of 3.</span></span> <span data-ttu-id="fe93a-127">Este entorno registra 3 millones de eventos al día.</span><span class="sxs-lookup"><span data-stu-id="fe93a-127">It can ingress 3 million events per day.</span></span>

![Capacidad actual de la SKU del entorno](media/diagnose-and-solve-problems/environment-sku-current-capacity.png)

<span data-ttu-id="fe93a-129">Se supone que este entorno es introducir mensajes de un concentrador de eventos con velocidad de entrada de Hola que se muestra en hello siguiente diagrama:</span><span class="sxs-lookup"><span data-stu-id="fe93a-129">Assume that this environment is ingesting messages from an event hub with hello ingress rate shown in hello following diagram:</span></span>

![Velocidad de entrada de ejemplo para una instancia de Event Hubs](media/diagnose-and-solve-problems/eventhub-ingress-rate.png)

<span data-ttu-id="fe93a-131">Como se muestra en el diagrama de hello, velocidad de entrada de diario de hello es ~ 67.000 mensajes.</span><span class="sxs-lookup"><span data-stu-id="fe93a-131">As shown in hello diagram, hello daily ingress rate is ~67,000 messages.</span></span> <span data-ttu-id="fe93a-132">Esta velocidad traduce mensajes too46 aproximadamente cada minuto.</span><span class="sxs-lookup"><span data-stu-id="fe93a-132">This rate translates roughly too46 messages every minute.</span></span> <span data-ttu-id="fe93a-133">Si cada mensaje de evento de base de datos central es tooa planas único evento de información de la serie de tiempo, este entorno no ve ninguna limitación.</span><span class="sxs-lookup"><span data-stu-id="fe93a-133">If each event hub message is flattened tooa single Time Series Insights event, this environment sees no throttling.</span></span> <span data-ttu-id="fe93a-134">Si cada mensaje de evento de base de datos central es eventos de información de la serie de tiempo de too100 plana, 4 600 eventos deben ser ingestión cada minuto.</span><span class="sxs-lookup"><span data-stu-id="fe93a-134">If each event hub message is flattened too100 Time Series Insights events, then 4,600 events should be ingested every minute.</span></span> <span data-ttu-id="fe93a-135">Un entorno de SKU S1 que tiene una capacidad de 3 solo puede admitir la entrada de 2100 eventos por minuto (1 millón de eventos por día = 700 eventos por minuto por 3 unidades = 2100 eventos por minuto).</span><span class="sxs-lookup"><span data-stu-id="fe93a-135">An S1 SKU environment that has a capacity of 3 can ingress only 2,100 events every minute (1 million events per day = 700 events per minute at 3 units = 2,100 events per minute).</span></span> <span data-ttu-id="fe93a-136">Por lo tanto, verá un retraso toothrottling due.</span><span class="sxs-lookup"><span data-stu-id="fe93a-136">Therefore you see a lag due toothrottling.</span></span> 

<span data-ttu-id="fe93a-137">Para comprender de una manera más profunda cómo funciona la lógica de aplanamiento, consulte [Formas JSON admitidas](time-series-insights-send-events.md#supported-json-shapes).</span><span class="sxs-lookup"><span data-stu-id="fe93a-137">For a high-level understanding of how flattening logic works, see [Supported JSON shapes](time-series-insights-send-events.md#supported-json-shapes).</span></span>

#### <a name="recommended-steps"></a><span data-ttu-id="fe93a-138">Pasos recomendados</span><span class="sxs-lookup"><span data-stu-id="fe93a-138">Recommended steps</span></span>
<span data-ttu-id="fe93a-139">retardo de hello toofix, Hola de aumento de capacidad SKU de su entorno.</span><span class="sxs-lookup"><span data-stu-id="fe93a-139">toofix hello lag, increase hello SKU capacity of your environment.</span></span> <span data-ttu-id="fe93a-140">Para obtener más información, consulte [cómo tooscale su entorno de visión de la serie de tiempo](time-series-insights-how-to-scale-your-environment.md).</span><span class="sxs-lookup"><span data-stu-id="fe93a-140">For more information, see [How tooscale your Time Series Insights environment](time-series-insights-how-to-scale-your-environment.md).</span></span>

### <a name="youre-pushing-historical-data-and-causing-slow-ingress"></a><span data-ttu-id="fe93a-141">Está insertando datos históricos lo cual provoca una entrada lenta</span><span class="sxs-lookup"><span data-stu-id="fe93a-141">You're pushing historical data and causing slow ingress</span></span>
<span data-ttu-id="fe93a-142">Si va a conectar un origen de eventos existente, es probable que su centro de eventos o instancia de IoT Hub ya contengan datos.</span><span class="sxs-lookup"><span data-stu-id="fe93a-142">If you are connecting an existing event source, it's likely that your IoT hub or event hub already has data in it.</span></span> <span data-ttu-id="fe93a-143">Por lo que el entorno de hello inicia extraer datos desde el principio de hello del período de retención de mensajes del origen del evento de Hola.</span><span class="sxs-lookup"><span data-stu-id="fe93a-143">So hello environment starts pulling data from hello beginning of hello event source's message retention period.</span></span> 

<span data-ttu-id="fe93a-144">Este comportamiento es el comportamiento predeterminado de hello y no se puede invalidar.</span><span class="sxs-lookup"><span data-stu-id="fe93a-144">This behavior is hello default behavior and cannot be overridden.</span></span> <span data-ttu-id="fe93a-145">Se puede ocupar la limitación y puede tardar unos instantes toocatch seguridad sobre la ingesta de datos históricos.</span><span class="sxs-lookup"><span data-stu-id="fe93a-145">You can engage throttling, and it may take a while toocatch up on ingesting historical data.</span></span>

#### <a name="recommended-steps"></a><span data-ttu-id="fe93a-146">Pasos recomendados</span><span class="sxs-lookup"><span data-stu-id="fe93a-146">Recommended steps</span></span>
<span data-ttu-id="fe93a-147">retardo de hello toofix, Hola toman pasos:</span><span class="sxs-lookup"><span data-stu-id="fe93a-147">toofix hello lag, take hello following steps:</span></span>
1. <span data-ttu-id="fe93a-148">Aumentar Hola SKU capacidad toohello valor máximo permitido (10 en este caso).</span><span class="sxs-lookup"><span data-stu-id="fe93a-148">Increase hello SKU capacity toohello maximum allowed value (10 in this case).</span></span> <span data-ttu-id="fe93a-149">Después de que es aumentar la capacidad de hello, proceso de entrada de hello inicia poniendo mucho más rápido.</span><span class="sxs-lookup"><span data-stu-id="fe93a-149">After hello capacity is increased, hello ingress process starts catching up much faster.</span></span> <span data-ttu-id="fe93a-150">Puede visualizar ¿con qué rapidez está acercando a través de gráfico de disponibilidad de Hola Hola [portal de visión de la serie de tiempo](https://insights.timeseries.azure.com).</span><span class="sxs-lookup"><span data-stu-id="fe93a-150">You can visualize how quickly you're catching up through hello availability chart in hello [Time Series Insights portal](https://insights.timeseries.azure.com).</span></span> <span data-ttu-id="fe93a-151">Se le cobra por hello mayor capacidad.</span><span class="sxs-lookup"><span data-stu-id="fe93a-151">You are charged for hello increased capacity.</span></span>
2. <span data-ttu-id="fe93a-152">Después de hello lag se pone al día, disminuir la tasa de entrada normal de hello SKU capacidad back-tooyour.</span><span class="sxs-lookup"><span data-stu-id="fe93a-152">After hello lag is caught up, decrease hello SKU capacity back tooyour normal ingress rate.</span></span>

## <a name="my-event-sources-timestamp-property-name-setting-doesnt-work"></a><span data-ttu-id="fe93a-153">Mi configuración de *nombre de propiedad timestamp* del origen de eventos no funciona</span><span class="sxs-lookup"><span data-stu-id="fe93a-153">My event source's *timestamp property name* setting doesn't work</span></span>
<span data-ttu-id="fe93a-154">Asegúrese de que el valor y el nombre de hello ajustan toohello siguiendo reglas:</span><span class="sxs-lookup"><span data-stu-id="fe93a-154">Ensure that hello name and value conform toohello following rules:</span></span>
* <span data-ttu-id="fe93a-155">nombre de propiedad de marca de tiempo de Hello es _entre mayúsculas y minúsculas_.</span><span class="sxs-lookup"><span data-stu-id="fe93a-155">hello timestamp property name is _case-sensitive_.</span></span>
* <span data-ttu-id="fe93a-156">valor de propiedad de marca de tiempo de Hola que procede de su origen de eventos, como una cadena JSON, debe tener el formato de hello _aaaa-MM-ddTHH. FFFFFFFK_.</span><span class="sxs-lookup"><span data-stu-id="fe93a-156">hello timestamp property value that's coming from your event source, as a JSON string, should have hello format _yyyy-MM-ddTHH:mm:ss.FFFFFFFK_.</span></span> <span data-ttu-id="fe93a-157">Un ejemplo de este tipo de cadena es "2008-04-12T12:53Z".</span><span class="sxs-lookup"><span data-stu-id="fe93a-157">An example of such a string is “2008-04-12T12:53Z”.</span></span>
