---
title: Consideraciones de seguridad para el movimiento de datos en Azure Data Factory | Microsoft Docs
description: "Información acerca de cómo proteger el movimiento de datos en Azure Data Factory."
services: data-factory
documentationcenter: 
author: nabhishek
manager: jhubbard
editor: monicar
ms.service: data-factory
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/27/2017
ms.author: abnarain
ms.openlocfilehash: 4c39d71a2a2f9451531f0c0082c05fd6dc54fbd5
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/29/2017
---
# <a name="azure-data-factory---security-considerations-for-data-movement"></a><span data-ttu-id="bd9c1-103">Azure Data Factory: consideraciones de seguridad para el movimiento de datos</span><span class="sxs-lookup"><span data-stu-id="bd9c1-103">Azure Data Factory - Security considerations for data movement</span></span>
## <a name="introduction"></a><span data-ttu-id="bd9c1-104">Introducción</span><span class="sxs-lookup"><span data-stu-id="bd9c1-104">Introduction</span></span>
<span data-ttu-id="bd9c1-105">En este artículo se describe la infraestructura de seguridad básica que utilizan los servicios de movimiento de datos en Azure Data Factory para proteger los datos.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-105">This article describes basic security infrastructure that data movement services in Azure Data Factory use to secure your data.</span></span> <span data-ttu-id="bd9c1-106">Los recursos de administración de Azure Data Factory están integrados en la infraestructura de seguridad de Azure y aplican todas las medidas de seguridad que ofrece Azure.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-106">Azure Data Factory management resources are built on Azure security infrastructure and use all possible security measures offered by Azure.</span></span>

<span data-ttu-id="bd9c1-107">En una solución de Data Factory, se crean una o varias [canalizaciones](data-factory-create-pipelines.md)de datos.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-107">In a Data Factory solution, you create one or more data [pipelines](data-factory-create-pipelines.md).</span></span> <span data-ttu-id="bd9c1-108">Una canalización es una agrupación lógica de actividades que realizan una tarea.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-108">A pipeline is a logical grouping of activities that together perform a task.</span></span> <span data-ttu-id="bd9c1-109">Estas canalizaciones residen en la región donde se creó la factoría de datos.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-109">These pipelines reside in the region where the data factory was created.</span></span> 

<span data-ttu-id="bd9c1-110">Aunque Data Factory solamente está disponible en las regiones **Oeste de EE. UU.**, **Este de EE.UU.** y **Europa del Norte**, el servicio de movimiento de datos está disponible [globalmente en varias regiones](data-factory-data-movement-activities.md#global).</span><span class="sxs-lookup"><span data-stu-id="bd9c1-110">Even though Data Factory is available in only **West US**, **East US**, and **North Europe** regions, the data movement service is available [globally in several regions](data-factory-data-movement-activities.md#global).</span></span> <span data-ttu-id="bd9c1-111">El servicio de Data Factory garantiza que los datos no abandonan un área geográfica o región, a menos que se indique explícitamente al servicio que utilice una región alternativa si el servicio de movimiento de datos no se ha implementado todavía en esa región.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-111">Data Factory service ensures that data does not leave a geographical area/ region unless you explicitly instruct the service to use an alternate region if the data movement service is not yet deployed to that region.</span></span> 

<span data-ttu-id="bd9c1-112">Azure Data Factory en sí no almacena datos, excepto las credenciales de servicio vinculadas de los almacenes de datos en la nube, que se cifran mediante certificados.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-112">Azure Data Factory itself does not store any data except for linked service credentials for cloud data stores, which are encrypted using certificates.</span></span> <span data-ttu-id="bd9c1-113">Permite crear flujos de trabajo controlados por datos para orquestar el movimiento de los datos entre los [almacenes de datos admitidos](data-factory-data-movement-activities.md#supported-data-stores-and-formats) y organizar el procesamiento de los datos mediante [servicios de proceso](data-factory-compute-linked-services.md) en otras regiones o en entornos locales.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-113">It lets you create data-driven workflows to orchestrate movement of data between [supported data stores](data-factory-data-movement-activities.md#supported-data-stores-and-formats) and processing of data using [compute services](data-factory-compute-linked-services.md) in other regions or in an on-premises environment.</span></span> <span data-ttu-id="bd9c1-114">También permite [supervisar y administrar flujos de trabajo](data-factory-monitor-manage-pipelines.md) mediante mecanismos de programación y la interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-114">It also allows you to [monitor and manage workflows](data-factory-monitor-manage-pipelines.md) using both programmatic and UI mechanisms.</span></span>

<span data-ttu-id="bd9c1-115">El movimiento de datos mediante Azure Data Factory tiene la **certificación**:</span><span class="sxs-lookup"><span data-stu-id="bd9c1-115">Data movement using Azure Data Factory has been **certified** for:</span></span>
-   [<span data-ttu-id="bd9c1-116">HIPAA/HITECH</span><span class="sxs-lookup"><span data-stu-id="bd9c1-116">HIPAA/HITECH</span></span>](https://www.microsoft.com/en-us/trustcenter/Compliance/HIPAA)  
-   [<span data-ttu-id="bd9c1-117">ISO/IEC 27001</span><span class="sxs-lookup"><span data-stu-id="bd9c1-117">ISO/IEC 27001</span></span>](https://www.microsoft.com/en-us/trustcenter/Compliance/ISO-IEC-27001)  
-   [<span data-ttu-id="bd9c1-118">ISO/IEC 27018</span><span class="sxs-lookup"><span data-stu-id="bd9c1-118">ISO/IEC 27018</span></span>](https://www.microsoft.com/en-us/trustcenter/Compliance/ISO-IEC-27018) 
-   [<span data-ttu-id="bd9c1-119">CSA STAR</span><span class="sxs-lookup"><span data-stu-id="bd9c1-119">CSA STAR</span></span>](https://www.microsoft.com/en-us/trustcenter/Compliance/CSA-STAR-Certification)
     
<span data-ttu-id="bd9c1-120">Si está interesado en el cumplimiento de Azure y en cómo Azure protege su propia infraestructura, visite el [Centro de confianza de Microsoft](https://www.microsoft.com/TrustCenter/default.aspx).</span><span class="sxs-lookup"><span data-stu-id="bd9c1-120">If you are interested in Azure compliance and how Azure secures its own infrastructure, visit the [Microsoft Trust Center](https://www.microsoft.com/TrustCenter/default.aspx).</span></span> 

<span data-ttu-id="bd9c1-121">En este artículo, revisamos las consideraciones de seguridad en los dos escenarios de movimiento de datos siguientes:</span><span class="sxs-lookup"><span data-stu-id="bd9c1-121">In this article, we review security considerations in the following two data movement scenarios:</span></span> 

- <span data-ttu-id="bd9c1-122">**Escenario de nube**: en este escenario, el origen y el destino son públicamente accesibles a través de Internet.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-122">**Cloud scenario**- In this scenario, both your source and destination are publicly accessible through internet.</span></span> <span data-ttu-id="bd9c1-123">Por ejemplo, los servicios de almacenamiento administrado en la nube, como Azure Storage, Azure SQL Data Warehouse, Azure SQL Database, Azure Data Lake Store, Amazon S3, Amazon Redshift, los servicios de SaaS como Salesforce y los protocolos de web, como FTP y OData.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-123">These include managed cloud storage services like Azure Storage, Azure SQL Data Warehouse, Azure SQL Database, Azure Data Lake Store, Amazon S3, Amazon Redshift, SaaS services such as Salesforce, and web protocols such as FTP and OData.</span></span> <span data-ttu-id="bd9c1-124">[Aquí](data-factory-data-movement-activities.md#supported-data-stores-and-formats) encontrará una lista integral de los orígenes de datos admitidos.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-124">You can find a complete list of supported data sources [here](data-factory-data-movement-activities.md#supported-data-stores-and-formats).</span></span>
- <span data-ttu-id="bd9c1-125">**Escenario híbrido**: en este escenario, el origen o el destino está detrás de un firewall o dentro de una red corporativa local, o el almacén de datos se encuentra en una red privada o virtual (normalmente, el origen) y no es accesible públicamente.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-125">**Hybrid scenario**- In this scenario, either your source or destination is behind a firewall or inside an on-premises corporate network or the data store is in a private network/ virtual network (most often the source) and is not publicly accessible.</span></span> <span data-ttu-id="bd9c1-126">Los servidores de base de datos hospedados en máquinas virtuales también se incluyen en este escenario.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-126">Database servers hosted on virtual machines also fall under this scenario.</span></span>

## <a name="cloud-scenarios"></a><span data-ttu-id="bd9c1-127">Escenarios de nube</span><span class="sxs-lookup"><span data-stu-id="bd9c1-127">Cloud scenarios</span></span>
###<a name="securing-data-store-credentials"></a><span data-ttu-id="bd9c1-128">Protección de las credenciales del almacén de datos</span><span class="sxs-lookup"><span data-stu-id="bd9c1-128">Securing data store credentials</span></span>
<span data-ttu-id="bd9c1-129">Azure Data Factory protege las credenciales del almacén de datos al **cifrarlos** con **certificados administrados por Microsoft**.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-129">Azure Data Factory protects your data store credentials by **encrypting** them by using **certificates managed by Microsoft**.</span></span> <span data-ttu-id="bd9c1-130">Estos certificados se alternan cada **dos años** (lo cual incluye la renovación del certificado y la migración de las credenciales).</span><span class="sxs-lookup"><span data-stu-id="bd9c1-130">These certificates are rotated every **two years** (which includes renewal of certificate and migration of credentials).</span></span> <span data-ttu-id="bd9c1-131">Estas credenciales cifradas se almacenan de forma segura en una instancia de **Azure Storage administrada por los servicios de administración de Azure Data Factory**.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-131">These encrypted credentials are securely stored in an **Azure Storage managed by Azure Data Factory management services**.</span></span> <span data-ttu-id="bd9c1-132">Para más información acerca de la seguridad de Azure Storage, consulte [Introducción a la seguridad de Azure Storage](../security/security-storage-overview.md).</span><span class="sxs-lookup"><span data-stu-id="bd9c1-132">For more information about Azure Storage security, refer [Azure Storage Security Overview](../security/security-storage-overview.md).</span></span>

### <a name="data-encryption-in-transit"></a><span data-ttu-id="bd9c1-133">Cifrado de datos en tránsito</span><span class="sxs-lookup"><span data-stu-id="bd9c1-133">Data encryption in transit</span></span>
<span data-ttu-id="bd9c1-134">Si el almacén de datos en la nube es compatible con HTTPS o TLS, todas las transferencias de datos entre los servicios de movimiento de datos de Data Factory y un almacén de datos en la nube se realizan a través del canal seguro HTTPS o TLS.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-134">If the cloud data store supports HTTPS or TLS, all data transfers between data movement services in Data Factory and a cloud data store are via secure channel HTTPS or TLS.</span></span>

> [!NOTE]
> <span data-ttu-id="bd9c1-135">Todas las conexiones a **Azure SQL Database** y **Azure SQL Data Warehouse** requieren cifrado (SSL/TLS) siempre que haya datos en tránsito hacia y desde la base de datos.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-135">All connections to **Azure SQL Database** and **Azure SQL Data Warehouse** always require encryption (SSL/TLS) while data is in transit to and from the database.</span></span> <span data-ttu-id="bd9c1-136">Al crear una canalización con un editor de JSON, agregue la propiedad **encryption** y establézcala en **true** en la **cadena de conexión**.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-136">While authoring a pipeline using a JSON editor, add the **encryption** property and set it to **true** in the **connection string**.</span></span> <span data-ttu-id="bd9c1-137">Cuando se usa el [Asistente para copia](data-factory-azure-copy-wizard.md), el asistente establece esta propiedad de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-137">When you use the [Copy Wizard](data-factory-azure-copy-wizard.md), the wizard sets this property by default.</span></span> <span data-ttu-id="bd9c1-138">Para **Azure Storage**, puede usar **HTTPS** en la cadena de conexión.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-138">For **Azure Storage**, you can use **HTTPS** in the connection string.</span></span>

### <a name="data-encryption-at-rest"></a><span data-ttu-id="bd9c1-139">Cifrado de datos en reposo</span><span class="sxs-lookup"><span data-stu-id="bd9c1-139">Data encryption at rest</span></span>
<span data-ttu-id="bd9c1-140">Algunos almacenes de datos admiten el cifrado de datos en reposo.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-140">Some data stores support encryption of data at rest.</span></span> <span data-ttu-id="bd9c1-141">Se recomienda habilitar el mecanismo de cifrado de datos para estos almacenes.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-141">We suggest that you enable data encryption mechanism for those data stores.</span></span> 

#### <a name="azure-sql-data-warehouse"></a><span data-ttu-id="bd9c1-142">Almacenamiento de datos SQL de Azure</span><span class="sxs-lookup"><span data-stu-id="bd9c1-142">Azure SQL Data Warehouse</span></span>
<span data-ttu-id="bd9c1-143">El Cifrado de datos transparente (TDE) de Azure SQL Data Warehouse ayuda a proteger frente a la amenaza de actividad malintencionada al realizar el cifrado y descifrado en tiempo real de los datos en reposo.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-143">Transparent Data Encryption (TDE) in Azure SQL Data Warehouse helps with protecting against the threat of malicious activity by performing real-time encryption and decryption of your data at rest.</span></span> <span data-ttu-id="bd9c1-144">Este comportamiento es transparente para el cliente.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-144">This behavior is transparent to the client.</span></span> <span data-ttu-id="bd9c1-145">Para más información, consulte [Proteger una base de datos en SQL Data Warehouse](../sql-data-warehouse/sql-data-warehouse-overview-manage-security.md).</span><span class="sxs-lookup"><span data-stu-id="bd9c1-145">For more information, see [Secure a database in SQL Data Warehouse](../sql-data-warehouse/sql-data-warehouse-overview-manage-security.md).</span></span>

#### <a name="azure-sql-database"></a><span data-ttu-id="bd9c1-146">Base de datos SQL de Azure</span><span class="sxs-lookup"><span data-stu-id="bd9c1-146">Azure SQL Database</span></span>
<span data-ttu-id="bd9c1-147">Azure SQL Database admite también el Cifrado de datos transparente (TDE), que ayuda a proteger frente a la amenaza de actividad malintencionada al realizar el cifrado y descifrado en tiempo real de los datos sin que haya que efectuar cambios en la aplicación.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-147">Azure SQL Database also supports transparent data encryption (TDE), which helps with protecting against the threat of malicious activity by performing real-time encryption and decryption of the data without requiring changes to the application.</span></span> <span data-ttu-id="bd9c1-148">Este comportamiento es transparente para el cliente.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-148">This behavior is transparent to the client.</span></span> <span data-ttu-id="bd9c1-149">Para más información, consulte [Transparent Data Encryption with Azure SQL Database](https://docs.microsoft.com/sql/relational-databases/security/encryption/transparent-data-encryption-with-azure-sql-database) (Cifrado de datos transparente con Azure SQL Database).</span><span class="sxs-lookup"><span data-stu-id="bd9c1-149">For more information, see [Transparent Data Encryption with Azure SQL Database](https://docs.microsoft.com/sql/relational-databases/security/encryption/transparent-data-encryption-with-azure-sql-database).</span></span> 

#### <a name="azure-data-lake-store"></a><span data-ttu-id="bd9c1-150">Almacén de Azure Data Lake</span><span class="sxs-lookup"><span data-stu-id="bd9c1-150">Azure Data Lake Store</span></span>
<span data-ttu-id="bd9c1-151">Azure Data Lake Store también ofrece el cifrado de los datos que se almacenan en la cuenta.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-151">Azure Data Lake store also provides encryption for data stored in the account.</span></span> <span data-ttu-id="bd9c1-152">Cuando se habilita, Data Lake Store cifrará automáticamente los datos antes de la persistencia y los descifrará antes de la recuperación, por lo que resulta un proceso completamente transparente para el cliente que accede a los datos.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-152">When enabled, Data Lake store automatically encrypts data before persisting and decrypts before retrieval, making it transparent to the client accessing the data.</span></span> <span data-ttu-id="bd9c1-153">Para más información, consulte [Seguridad en Azure Data Lake Store](../data-lake-store/data-lake-store-security-overview.md).</span><span class="sxs-lookup"><span data-stu-id="bd9c1-153">For more information, see [Security in Azure Data Lake Store](../data-lake-store/data-lake-store-security-overview.md).</span></span> 

#### <a name="azure-blob-storage-and-azure-table-storage"></a><span data-ttu-id="bd9c1-154">Azure Blob Storage y Azure Table Storage</span><span class="sxs-lookup"><span data-stu-id="bd9c1-154">Azure Blob Storage and Azure Table Storage</span></span>
<span data-ttu-id="bd9c1-155">Azure Blob Storage y Azure Table Storage admiten el cifrado del servicio Storage (SSE), que cifra automáticamente los datos antes de su persistencia en el almacenamiento y los descifra antes de su recuperación.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-155">Azure Blob Storage and Azure Table storage supports Storage Service Encryption (SSE), which automatically encrypts your data before persisting to storage and decrypts before retrieval.</span></span> <span data-ttu-id="bd9c1-156">Para más información, consulte [Cifrado del servicio Azure Storage para datos en reposo](../storage/common/storage-service-encryption.md).</span><span class="sxs-lookup"><span data-stu-id="bd9c1-156">For more information, see [Azure Storage Service Encryption for Data at Rest](../storage/common/storage-service-encryption.md).</span></span>

#### <a name="amazon-s3"></a><span data-ttu-id="bd9c1-157">Amazon S3</span><span class="sxs-lookup"><span data-stu-id="bd9c1-157">Amazon S3</span></span>
<span data-ttu-id="bd9c1-158">Amazon S3 admite el cifrado de cliente y servidor para datos en reposo.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-158">Amazon S3 supports both client and server encryption of data at Rest.</span></span> <span data-ttu-id="bd9c1-159">Para más información, consulte [Protección de datos del cliente mediante cifrado](http://docs.aws.amazon.com/AmazonS3/latest/dev/UsingEncryption.html).</span><span class="sxs-lookup"><span data-stu-id="bd9c1-159">For more information, see [Protecting Data Using Encryption](http://docs.aws.amazon.com/AmazonS3/latest/dev/UsingEncryption.html).</span></span> <span data-ttu-id="bd9c1-160">Actualmente, Data Factory no admite Amazon S3 en Virtual Private Cloud (VPC).</span><span class="sxs-lookup"><span data-stu-id="bd9c1-160">Currently, Data Factory does not support Amazon S3 inside a virtual private cloud (VPC).</span></span>

#### <a name="amazon-redshift"></a><span data-ttu-id="bd9c1-161">Amazon Redshift</span><span class="sxs-lookup"><span data-stu-id="bd9c1-161">Amazon Redshift</span></span>
<span data-ttu-id="bd9c1-162">Amazon Redshift admite cifrado de clúster para datos en reposo.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-162">Amazon Redshift supports cluster encryption for data at rest.</span></span> <span data-ttu-id="bd9c1-163">Para más información, consulte [Amazon Redshift Database Encryption](http://docs.aws.amazon.com/redshift/latest/mgmt/working-with-db-encryption.html) (Cifrado de base de datos de Amazon Redshift).</span><span class="sxs-lookup"><span data-stu-id="bd9c1-163">For more information, see [Amazon Redshift Database Encryption](http://docs.aws.amazon.com/redshift/latest/mgmt/working-with-db-encryption.html).</span></span> <span data-ttu-id="bd9c1-164">Actualmente, Data Factory no admite Amazon Redshift en VPC.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-164">Currently, Data Factory does not support Amazon Redshift inside a VPC.</span></span> 

#### <a name="salesforce"></a><span data-ttu-id="bd9c1-165">Salesforce</span><span class="sxs-lookup"><span data-stu-id="bd9c1-165">Salesforce</span></span>
<span data-ttu-id="bd9c1-166">Salesforce admite Shield Platform Encryption, que permite el cifrado de todos los archivos, datos adjuntos y campos personalizados.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-166">Salesforce supports Shield Platform Encryption that allows encryption of all files, attachments, custom fields.</span></span> <span data-ttu-id="bd9c1-167">Para más información, consulte [Understanding the Web Server OAuth Authentication Flow](https://developer.salesforce.com/docs/atlas.en-us.api_rest.meta/api_rest/intro_understanding_web_server_oauth_flow.htm) (Descripción del flujo de autenticación OAuth de servidor web).</span><span class="sxs-lookup"><span data-stu-id="bd9c1-167">For more information, see [Understanding the Web Server OAuth Authentication Flow](https://developer.salesforce.com/docs/atlas.en-us.api_rest.meta/api_rest/intro_understanding_web_server_oauth_flow.htm).</span></span>  

## <a name="hybrid-scenarios-using-data-management-gateway"></a><span data-ttu-id="bd9c1-168">Escenarios híbridos (con Data Management Gateway)</span><span class="sxs-lookup"><span data-stu-id="bd9c1-168">Hybrid Scenarios (using Data Management Gateway)</span></span>
<span data-ttu-id="bd9c1-169">Los escenarios híbridos necesitan Data Management Gateway instalado en una red local o virtual (Azure), o en una nube privada virtual (Amazon).</span><span class="sxs-lookup"><span data-stu-id="bd9c1-169">Hybrid scenarios require Data Management Gateway to be installed in an on-premises network or inside a virtual network (Azure) or a virtual private cloud (Amazon).</span></span> <span data-ttu-id="bd9c1-170">La puerta de enlace debe tener acceso a los almacenes de datos locales.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-170">The gateway must be able to access the local data stores.</span></span> <span data-ttu-id="bd9c1-171">Para más información sobre la puerta de enlace, consulte [Data Management Gateway](data-factory-data-management-gateway.md).</span><span class="sxs-lookup"><span data-stu-id="bd9c1-171">For more information about the gateway, see [Data Management Gateway](data-factory-data-management-gateway.md).</span></span> 

![Canales de Data Management Gateway](media/data-factory-data-movement-security-considerations/data-management-gateway-channels.png)

<span data-ttu-id="bd9c1-173">El **canal del comandos** permite la comunicación entre los servicios de movimiento de datos de Data Factory y Data Management Gateway.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-173">The **command channel** allows communication between data movement services in Data Factory and Data Management Gateway.</span></span> <span data-ttu-id="bd9c1-174">La comunicación contiene información relacionada con la actividad.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-174">The communication contains information related to the activity.</span></span> <span data-ttu-id="bd9c1-175">El canal de datos se usa para transferir datos entre los almacenes de datos locales y los almacenes de datos en la nube.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-175">The data channel is used for transferring data between on-premises data stores and cloud data stores.</span></span>    

### <a name="on-premises-data-store-credentials"></a><span data-ttu-id="bd9c1-176">Credenciales de los almacenes de datos locales</span><span class="sxs-lookup"><span data-stu-id="bd9c1-176">On-premises data store credentials</span></span>
<span data-ttu-id="bd9c1-177">Las credenciales de los almacenes de datos locales no se almacenan en la nube, sino de manera local.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-177">The credentials for your on-premises data stores are stored locally (not in the cloud).</span></span> <span data-ttu-id="bd9c1-178">Pueden establecerse de tres maneras distintas.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-178">They can be set in three different ways.</span></span> 

- <span data-ttu-id="bd9c1-179">Con **texto sin formato** (menos seguro) a través de HTTPS desde Azure Portal o el Asistente para copia.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-179">Using **plain-text** (less secure) via HTTPS from Azure Portal/ Copy Wizard.</span></span> <span data-ttu-id="bd9c1-180">Las credenciales se pasan en texto sin formato a la puerta de enlace local.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-180">The credentials are passed in plain-text to the on-premises gateway.</span></span>
- <span data-ttu-id="bd9c1-181">Con la **biblioteca de criptografía de JavaScript del Asistente para copia**.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-181">Using **JavaScript Cryptography library from Copy Wizard**.</span></span>
- <span data-ttu-id="bd9c1-182">Con la **aplicación de administración de credenciales con un clic**.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-182">Using **click-once based credentials manager app**.</span></span> <span data-ttu-id="bd9c1-183">La aplicación de un clic se ejecuta en la máquina local con acceso a la puerta de enlace y establece las credenciales para el almacén de datos.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-183">The click-once application executes on the on-premises machine that has access to the gateway and sets credentials for the data store.</span></span> <span data-ttu-id="bd9c1-184">Esta opción y la siguiente son las más seguras.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-184">This option and the next one are the most secure options.</span></span> <span data-ttu-id="bd9c1-185">La aplicación de administración de credenciales usa el puerto 8050 de la máquina con la puerta de enlace para una comunicación segura de manera predeterminada.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-185">The credential manager app, by default, uses the port 8050 on the machine with gateway for secure communication.</span></span>  
- <span data-ttu-id="bd9c1-186">Con el cmdlet [New-AzureRmDataFactoryEncryptValue](/powershell/module/azurerm.datafactories/New-AzureRmDataFactoryEncryptValue) de PowerShell para cifrar las credenciales.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-186">Use [New-AzureRmDataFactoryEncryptValue](/powershell/module/azurerm.datafactories/New-AzureRmDataFactoryEncryptValue) PowerShell cmdlet to encrypt credentials.</span></span> <span data-ttu-id="bd9c1-187">El cmdlet usa el certificado cuyo uso tiene configurado esa puerta de enlace para cifrar las credenciales.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-187">The cmdlet uses the certificate that gateway is configured to use to encrypt the credentials.</span></span> <span data-ttu-id="bd9c1-188">Puede usar las credenciales cifradas que devuelve este cmdlet y agregarlas al elemento **EncryptedCredential** de **connectionString** del archivo JSON que se utiliza con el cmdlet [AzureRmDataFactoryLinkedService New](/powershell/module/azurerm.datafactories/new-azurermdatafactorylinkedservice) o en el fragmento JSON del Editor de Data Factory en el portal.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-188">You can use the encrypted credentials returned by this cmdlet and add it to **EncryptedCredential** element of the **connectionString** in the JSON file that you use with the [New-AzureRmDataFactoryLinkedService](/powershell/module/azurerm.datafactories/new-azurermdatafactorylinkedservice) cmdlet or in the JSON snippet in the Data Factory Editor in the portal.</span></span> <span data-ttu-id="bd9c1-189">Esta opción y la aplicación de un solo clic son las más seguras.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-189">This option and the click-once application are the most secure options.</span></span> 

#### <a name="javascript-cryptography-library-based-encryption"></a><span data-ttu-id="bd9c1-190">Cifrado basado en la biblioteca de criptografía de JavaScript</span><span class="sxs-lookup"><span data-stu-id="bd9c1-190">JavaScript cryptography library-based encryption</span></span>
<span data-ttu-id="bd9c1-191">Puede cifrar las credenciales del almacén de datos con la [biblioteca de criptografía de JavaScript](https://www.microsoft.com/download/details.aspx?id=52439) del [Asistente para copia](data-factory-copy-wizard.md).</span><span class="sxs-lookup"><span data-stu-id="bd9c1-191">You can encrypt data store credentials using [JavaScript Cryptography library](https://www.microsoft.com/download/details.aspx?id=52439) from the [Copy Wizard](data-factory-copy-wizard.md).</span></span> <span data-ttu-id="bd9c1-192">Cuando se selecciona esta opción, el Asistente para copia recupera la clave pública de la puerta de enlace y la usa para cifrar las credenciales del almacén de datos.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-192">When you select this option, the Copy Wizard retrieves the public key of gateway and uses it to encrypt the data store credentials.</span></span> <span data-ttu-id="bd9c1-193">La máquina de puerta de enlace descifra las credenciales y la [DPAPI](https://msdn.microsoft.com/library/ms995355.aspx) de Windows las protege.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-193">The credentials are decrypted by the gateway machine and protected by Windows [DPAPI](https://msdn.microsoft.com/library/ms995355.aspx).</span></span>

<span data-ttu-id="bd9c1-194">**Exploradores admitidos:** IE8, IE9, IE10, IE11, Microsoft Edge y las versiones más recientes de los exploradores Firefox, Chrome, Opera y Safari.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-194">**Supported browsers:** IE8, IE9, IE10, IE11, Microsoft Edge, and latest Firefox, Chrome, Opera, Safari browsers.</span></span> 

#### <a name="click-once-credentials-manager-app"></a><span data-ttu-id="bd9c1-195">Aplicación de administración de credenciales con un clic</span><span class="sxs-lookup"><span data-stu-id="bd9c1-195">Click-once credentials manager app</span></span>
<span data-ttu-id="bd9c1-196">Puede iniciar la aplicación de administración de credenciales con un clic desde Azure Portal o el Asistente para copia al autorizar canalizaciones.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-196">You can launch the click-once based credential manager app from Azure portal/Copy Wizard when authoring pipelines.</span></span> <span data-ttu-id="bd9c1-197">Esta aplicación garantiza que las credenciales no se transfieren en texto sin formato con la conexión.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-197">This application ensures that credentials are not transferred in plain text over the wire.</span></span> <span data-ttu-id="bd9c1-198">De manera predeterminada, usa el puerto **8050** de la máquina con la puerta de enlace para una comunicación segura.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-198">By default, it uses the port **8050** on the machine with gateway for secure communication.</span></span> <span data-ttu-id="bd9c1-199">Si es necesario, se puede cambiar este puerto.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-199">If necessary, this port can be changed.</span></span>  
  
![Puerto HTTPS para la puerta de enlace](media/data-factory-data-movement-security-considerations/https-port-for-gateway.png)

<span data-ttu-id="bd9c1-201">Actualmente, Data Management Gateway utiliza un solo **certificado**.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-201">Currently, Data Management Gateway uses a single **certificate**.</span></span> <span data-ttu-id="bd9c1-202">Este certificado se crea durante la instalación de la puerta de enlace (aplicable a las versiones de Data Management Gateway creadas desde noviembre de 2016 y la versión 2.4.xxxx.x o posteriores).</span><span class="sxs-lookup"><span data-stu-id="bd9c1-202">This certificate is created during the gateway installation (applies to Data Management Gateway created after November 2016 and version 2.4.xxxx.x or later).</span></span> <span data-ttu-id="bd9c1-203">Puede reemplazar este certificado por su propio certificado SSL/TLS.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-203">You can replace this certificate with your own SSL/TLS certificate.</span></span> <span data-ttu-id="bd9c1-204">La aplicación de administración con un solo clic usa este certificado para la conexión segura a la máquina de puerta de enlace con el fin de establecer las credenciales del almacén de datos.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-204">This certificate is used by the click-once credential manager application to securely connect to the gateway machine for setting data store credentials.</span></span> <span data-ttu-id="bd9c1-205">Las credenciales del almacén de datos se almacenan localmente de manera segura gracias a la [DPAPI](https://msdn.microsoft.com/library/ms995355.aspx) de Windows de la máquina con la puerta de enlace.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-205">It stores data store credentials securely on-premises by using the Windows [DPAPI](https://msdn.microsoft.com/library/ms995355.aspx) on the machine with gateway.</span></span> 

> [!NOTE]
> <span data-ttu-id="bd9c1-206">Las puertas de enlace instaladas antes de noviembre de 2016 y la versión 2.3.xxxx.x seguirán usando las credenciales cifradas y almacenadas en la nube.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-206">Older gateways that were installed before November 2016 or of version 2.3.xxxx.x continue to use credentials encrypted and stored on cloud.</span></span> <span data-ttu-id="bd9c1-207">Aunque actualice la puerta de enlace a la versión más reciente, las credenciales no se migran a una máquina local.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-207">Even if you upgrade the gateway to the latest version, the credentials are not migrated to an on-premises machine</span></span>    
  
| <span data-ttu-id="bd9c1-208">Versión de la puerta de enlace (durante la creación)</span><span class="sxs-lookup"><span data-stu-id="bd9c1-208">Gateway version (during creation)</span></span> | <span data-ttu-id="bd9c1-209">Credenciales almacenadas</span><span class="sxs-lookup"><span data-stu-id="bd9c1-209">Credentials Stored</span></span> | <span data-ttu-id="bd9c1-210">Cifrado/seguridad de las credenciales</span><span class="sxs-lookup"><span data-stu-id="bd9c1-210">Credential encryption/ security</span></span> | 
| --------------------------------- | ------------------ | --------- |  
| <span data-ttu-id="bd9c1-211">< = 2.3.xxxx.x</span><span class="sxs-lookup"><span data-stu-id="bd9c1-211">< = 2.3.xxxx.x</span></span> | <span data-ttu-id="bd9c1-212">En la nube</span><span class="sxs-lookup"><span data-stu-id="bd9c1-212">On cloud</span></span> | <span data-ttu-id="bd9c1-213">Cifrado mediante certificado (diferente del de la aplicación de administración de credenciales)</span><span class="sxs-lookup"><span data-stu-id="bd9c1-213">Encrypted using certificate (different from the one used by Credential manager app)</span></span> | 
| <span data-ttu-id="bd9c1-214">> = 2.4.xxxx.x</span><span class="sxs-lookup"><span data-stu-id="bd9c1-214">> = 2.4.xxxx.x</span></span> | <span data-ttu-id="bd9c1-215">Local</span><span class="sxs-lookup"><span data-stu-id="bd9c1-215">On premises</span></span> | <span data-ttu-id="bd9c1-216">Protección con la DPAPI</span><span class="sxs-lookup"><span data-stu-id="bd9c1-216">Secured via DPAPI</span></span> | 
  

### <a name="encryption-in-transit"></a><span data-ttu-id="bd9c1-217">Cifrado en tránsito</span><span class="sxs-lookup"><span data-stu-id="bd9c1-217">Encryption in transit</span></span>
<span data-ttu-id="bd9c1-218">Todas las transferencias de datos se realizan a través del canal seguro **HTTPS** y **TLS sobre TCP** para evitar ataques tipo "Man in the middle" durante la comunicación con los servicios de Azure.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-218">All data transfers are via secure channel **HTTPS** and **TLS over TCP** to prevent man-in-the-middle attacks during communication with Azure services.</span></span>
 
<span data-ttu-id="bd9c1-219">También puede usar una [conexión VPN de IPSec](../vpn-gateway/vpn-gateway-about-vpn-devices.md) o [ExpressRoute](../expressroute/expressroute-introduction.md) para proteger aún más el canal de comunicación entre la red local y Azure.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-219">You can also use [IPSec VPN](../vpn-gateway/vpn-gateway-about-vpn-devices.md) or [Express Route](../expressroute/expressroute-introduction.md) to further secure the communication channel between your on-premises network and Azure.</span></span>

<span data-ttu-id="bd9c1-220">Una red virtual es una representación lógica de la red en la nube.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-220">Virtual network is a logical representation of your network in the cloud.</span></span> <span data-ttu-id="bd9c1-221">Puede conectar una red local a la red virtual de Azure (VNet) mediante la configuración de una conexión VPN de IPSec (de sitio a sitio) o ExpressRoute (Emparejamiento privado)</span><span class="sxs-lookup"><span data-stu-id="bd9c1-221">You can connect an on-premises network to your Azure virtual network (VNet) by setting up IPSec VPN (site-to-site) or Express Route (Private Peering)</span></span>     

<span data-ttu-id="bd9c1-222">En la tabla siguiente se resumen las recomendaciones de configuración de red y puerta de enlace en función de diferentes combinaciones de ubicaciones de origen y destino para el movimiento de datos híbridos.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-222">The following table summarizes the network and gateway configuration recommendations based on different combinations of source and destination locations for hybrid data movement.</span></span>

| <span data-ttu-id="bd9c1-223">Origen</span><span class="sxs-lookup"><span data-stu-id="bd9c1-223">Source</span></span> | <span data-ttu-id="bd9c1-224">Destino</span><span class="sxs-lookup"><span data-stu-id="bd9c1-224">Destination</span></span> | <span data-ttu-id="bd9c1-225">Network configuration (Configuración de red)</span><span class="sxs-lookup"><span data-stu-id="bd9c1-225">Network configuration</span></span> | <span data-ttu-id="bd9c1-226">Instalación de la puerta de enlace</span><span class="sxs-lookup"><span data-stu-id="bd9c1-226">Gateway setup</span></span> |
| ------ | ----------- | --------------------- | ------------- | 
| <span data-ttu-id="bd9c1-227">Local</span><span class="sxs-lookup"><span data-stu-id="bd9c1-227">On-premises</span></span> | <span data-ttu-id="bd9c1-228">Máquinas virtuales y servicios en la nube implementados en redes virtuales</span><span class="sxs-lookup"><span data-stu-id="bd9c1-228">Virtual machines and cloud services deployed in virtual networks</span></span> | <span data-ttu-id="bd9c1-229">VPN de IPSec (de punto a sitio o de sitio a sitio)</span><span class="sxs-lookup"><span data-stu-id="bd9c1-229">IPSec VPN (point-to-site or site-to-site)</span></span> | <span data-ttu-id="bd9c1-230">La puerta de enlace se puede instalare una máquina local o virtual de Azure (VM) en una red virtual</span><span class="sxs-lookup"><span data-stu-id="bd9c1-230">Gateway can be installed either on-premises or on an Azure virtual machine (VM) in VNet</span></span> | 
| <span data-ttu-id="bd9c1-231">Local</span><span class="sxs-lookup"><span data-stu-id="bd9c1-231">On-premises</span></span> | <span data-ttu-id="bd9c1-232">Máquinas virtuales y servicios en la nube implementados en redes virtuales</span><span class="sxs-lookup"><span data-stu-id="bd9c1-232">Virtual machines and cloud services deployed in virtual networks</span></span> | <span data-ttu-id="bd9c1-233">ExpressRoute (Emparejamiento privado)</span><span class="sxs-lookup"><span data-stu-id="bd9c1-233">ExpressRoute (Private Peering)</span></span> | <span data-ttu-id="bd9c1-234">La puerta de enlace se puede instalare una máquina local o virtual de Azure en una red virtual</span><span class="sxs-lookup"><span data-stu-id="bd9c1-234">Gateway can be installed either on-premises or on an Azure VM in VNet</span></span> | 
| <span data-ttu-id="bd9c1-235">Local</span><span class="sxs-lookup"><span data-stu-id="bd9c1-235">On-premises</span></span> | <span data-ttu-id="bd9c1-236">Servicios basados en Azure que tienen un punto de conexión público</span><span class="sxs-lookup"><span data-stu-id="bd9c1-236">Azure-based services that have a public endpoint</span></span> | <span data-ttu-id="bd9c1-237">ExpressRoute (Emparejamiento público)</span><span class="sxs-lookup"><span data-stu-id="bd9c1-237">ExpressRoute (Public Peering)</span></span> | <span data-ttu-id="bd9c1-238">La puerta de enlace debe estar instalada en la máquina local</span><span class="sxs-lookup"><span data-stu-id="bd9c1-238">Gateway must be installed on-premises</span></span> | 

<span data-ttu-id="bd9c1-239">Las siguientes imágenes muestran el uso de Data Management Gateway para mover datos entre una base de datos local y servicios de Azure mediante ExpressRoute y conexión VPN de IPSec (con Virtual Network):</span><span class="sxs-lookup"><span data-stu-id="bd9c1-239">The following images show the usage of Data Management Gateway for moving data between an on-premises database and Azure services using Express route and IPSec VPN (with Virtual Network):</span></span>

<span data-ttu-id="bd9c1-240">**ExpressRoute:**</span><span class="sxs-lookup"><span data-stu-id="bd9c1-240">**Express Route:**</span></span>
 
![Uso de ExpressRoute con la puerta de enlace](media/data-factory-data-movement-security-considerations/express-route-for-gateway.png) 

<span data-ttu-id="bd9c1-242">**Conexión VPN de IPSec:**</span><span class="sxs-lookup"><span data-stu-id="bd9c1-242">**IPSec VPN:**</span></span>

![Conexión VPN de IPSec con la puerta de enlace](media/data-factory-data-movement-security-considerations/ipsec-vpn-for-gateway.png)

### <a name="firewall-configurations-and-whitelisting-ip-address-of-gateway"></a><span data-ttu-id="bd9c1-244">Configuraciones de firewall y lista de direcciones IP que admite la puerta de enlace</span><span class="sxs-lookup"><span data-stu-id="bd9c1-244">Firewall configurations and whitelisting IP address of gateway</span></span>

#### <a name="firewall-requirements-for-on-premisesprivate-network"></a><span data-ttu-id="bd9c1-245">Requisitos de firewall para redes locales o privadas</span><span class="sxs-lookup"><span data-stu-id="bd9c1-245">Firewall requirements for on-premises/private network</span></span>  
<span data-ttu-id="bd9c1-246">En una empresa, se ejecuta un **firewall corporativo** en el enrutador central de la organización</span><span class="sxs-lookup"><span data-stu-id="bd9c1-246">In an enterprise, a **corporate firewall** runs on the central router of the organization.</span></span> <span data-ttu-id="bd9c1-247">y el **firewall de Windows** se ejecuta como demonio en la máquina local con la puerta de enlace instalada.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-247">And, **Windows firewall** runs as a daemon on the local machine on which the gateway is installed.</span></span> 

<span data-ttu-id="bd9c1-248">En la tabla siguiente se proporcionan el **puerto de salida** y los requisitos de dominio para el **firewall corporativo**.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-248">The following table provides **outbound port** and domain requirements for the **corporate firewall**.</span></span>

| <span data-ttu-id="bd9c1-249">Nombres de dominio</span><span class="sxs-lookup"><span data-stu-id="bd9c1-249">Domain names</span></span> | <span data-ttu-id="bd9c1-250">Puertos de salida</span><span class="sxs-lookup"><span data-stu-id="bd9c1-250">Outbound ports</span></span> | <span data-ttu-id="bd9c1-251">Descripción</span><span class="sxs-lookup"><span data-stu-id="bd9c1-251">Description</span></span> |
| ------------ | -------------- | ----------- | 
| `*.servicebus.windows.net` | <span data-ttu-id="bd9c1-252">443, 80</span><span class="sxs-lookup"><span data-stu-id="bd9c1-252">443, 80</span></span> | <span data-ttu-id="bd9c1-253">Lo necesita la puerta de enlace para conectarse a los servicios de movimiento de datos de Data Factory.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-253">Required by the gateway to connect to data movement services in Data Factory</span></span> |
| `*.core.windows.net` | <span data-ttu-id="bd9c1-254">443</span><span class="sxs-lookup"><span data-stu-id="bd9c1-254">443</span></span> | <span data-ttu-id="bd9c1-255">Lo usa la puerta de enlace para conectarse a la cuenta de Azure Storage cuando se usa la característica [Copia almacenada provisionalmente](data-factory-copy-activity-performance.md#staged-copy).</span><span class="sxs-lookup"><span data-stu-id="bd9c1-255">Used by the gateway to connect to Azure Storage Account when you use the [staged copy](data-factory-copy-activity-performance.md#staged-copy) feature.</span></span> | 
| `*.frontend.clouddatahub.net` | <span data-ttu-id="bd9c1-256">443</span><span class="sxs-lookup"><span data-stu-id="bd9c1-256">443</span></span> | <span data-ttu-id="bd9c1-257">Lo necesita la puerta de enlace para conectarse al servicio Azure Data Factory.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-257">Required by the gateway to connect to the Azure Data Factory service.</span></span> | 
| `*.database.windows.net` | <span data-ttu-id="bd9c1-258">1433</span><span class="sxs-lookup"><span data-stu-id="bd9c1-258">1433</span></span>   | <span data-ttu-id="bd9c1-259">(OPCIONAL) Necesario cuando el destino es Azure SQL Database o Azure SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-259">(OPTIONAL) needed when your destination is Azure SQL Database/ Azure SQL Data Warehouse.</span></span> <span data-ttu-id="bd9c1-260">Usa la característica de copia almacenada provisionalmente para copiar datos en Azure SQL Database o Azure SQL Data Warehouse sin abrir el puerto 1433.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-260">Use the staged copy feature to copy data to Azure SQL Database/Azure SQL Data Warehouse without opening the port 1433.</span></span> | 
| `*.azuredatalakestore.net` | <span data-ttu-id="bd9c1-261">443</span><span class="sxs-lookup"><span data-stu-id="bd9c1-261">443</span></span> | <span data-ttu-id="bd9c1-262">(OPCIONAL) Necesario cuando el destino es Azure Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-262">(OPTIONAL) needed when your destination is Azure Data Lake store</span></span> | 

> [!NOTE] 
> <span data-ttu-id="bd9c1-263">Puede que tenga que administrar puertos dominios de listas de admitidos a nivel del firewall corporativo, en función de cada origen de datos.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-263">You may have to manage ports/ whitelisting domains at the corporate firewall level as required by respective data sources.</span></span> <span data-ttu-id="bd9c1-264">En esta tabla, Azure SQL Database, Azure SQL Data Warehouse y Azure Data Lake Store solo se usan a modo de ejemplo.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-264">This table only uses Azure SQL Database, Azure SQL Data Warehouse, Azure Data Lake Store as examples.</span></span>   

<span data-ttu-id="bd9c1-265">En la tabla siguiente se proporcionan los requisitos del **puerto de entrada** para el **firewall de Windows**.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-265">The following table provides **inbound port** requirements for the **windows firewall**.</span></span>

| <span data-ttu-id="bd9c1-266">Puertos de entrada</span><span class="sxs-lookup"><span data-stu-id="bd9c1-266">Inbound ports</span></span> | <span data-ttu-id="bd9c1-267">Descripción</span><span class="sxs-lookup"><span data-stu-id="bd9c1-267">Description</span></span> | 
| ------------- | ----------- | 
| <span data-ttu-id="bd9c1-268">8050 (TCP)</span><span class="sxs-lookup"><span data-stu-id="bd9c1-268">8050 (TCP)</span></span> | <span data-ttu-id="bd9c1-269">Lo necesita la aplicación de administración de credenciales para establecer de forma segura las credenciales para los almacenes de datos locales en la puerta de enlace.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-269">Required by the credential manager application to securely set credentials for on-premises data stores on the gateway.</span></span> | 

![Requisitos de puerto de la puerta de enlace](media\data-factory-data-movement-security-considerations/gateway-port-requirements.png) 

#### <a name="ip-configurations-whitelisting-in-data-store"></a><span data-ttu-id="bd9c1-271">Configuraciones IP/lista de admitidos en el almacén de datos</span><span class="sxs-lookup"><span data-stu-id="bd9c1-271">IP configurations/ whitelisting in data store</span></span>
<span data-ttu-id="bd9c1-272">Algunos almacenes de datos en la nube también requieren listas de direcciones IP admitidas para que la máquina acceda a ellas.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-272">Some data stores in the cloud also require whitelisting of IP address of the machine accessing them.</span></span> <span data-ttu-id="bd9c1-273">Asegúrese de que la dirección IP de la máquina con la puerta de enlace aparece en la lista o está configurada en el firewall correctamente.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-273">Ensure that the IP address of the gateway machine is whitelisted/ configured in firewall appropriately.</span></span>

<span data-ttu-id="bd9c1-274">Los siguientes almacenes de datos en la nube necesitan una lista de direcciones IP admitidas por la máquina con la puerta de enlace.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-274">The following cloud data stores require whitelisting of IP address of the gateway machine.</span></span> <span data-ttu-id="bd9c1-275">De forma predeterminada, algunos de estos almacenes de datos no necesitan listas de direcciones IP admitidas.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-275">Some of these data stores, by default, may not require whitelisting of the IP address.</span></span> 

- [<span data-ttu-id="bd9c1-276">Azure SQL Database</span><span class="sxs-lookup"><span data-stu-id="bd9c1-276">Azure SQL Database</span></span>](../sql-database/sql-database-firewall-configure.md) 
- [<span data-ttu-id="bd9c1-277">Azure SQL Data Warehouse</span><span class="sxs-lookup"><span data-stu-id="bd9c1-277">Azure SQL Data Warehouse</span></span>](../sql-data-warehouse/sql-data-warehouse-get-started-provision.md#create-a-server-level-firewall-rule-in-the-azure-portal)
- [<span data-ttu-id="bd9c1-278">Almacén de Azure Data Lake</span><span class="sxs-lookup"><span data-stu-id="bd9c1-278">Azure Data Lake Store</span></span>](../data-lake-store/data-lake-store-secure-data.md#set-ip-address-range-for-data-access)
- [<span data-ttu-id="bd9c1-279">Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="bd9c1-279">Azure Cosmos DB</span></span>](../documentdb/documentdb-firewall-support.md)
- [<span data-ttu-id="bd9c1-280">Amazon Redshift</span><span class="sxs-lookup"><span data-stu-id="bd9c1-280">Amazon Redshift</span></span>](http://docs.aws.amazon.com/redshift/latest/gsg/rs-gsg-authorize-cluster-access.html) 

## <a name="frequently-asked-questions"></a><span data-ttu-id="bd9c1-281">Preguntas más frecuentes</span><span class="sxs-lookup"><span data-stu-id="bd9c1-281">Frequently asked questions</span></span>

<span data-ttu-id="bd9c1-282">**Pregunta:** ¿Se puede compartir la puerta de enlace entre factorías de datos diferentes?</span><span class="sxs-lookup"><span data-stu-id="bd9c1-282">**Question:** Can the Gateway be shared across different data factories?</span></span>
<span data-ttu-id="bd9c1-283">**Respuesta:** Aún no se admite esta característica.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-283">**Answer:** We do not support this feature yet.</span></span> <span data-ttu-id="bd9c1-284">Estamos trabajando en ello.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-284">We are actively working on it.</span></span>

<span data-ttu-id="bd9c1-285">**Pregunta:** ¿Cuáles son los requisitos de puerto para que funciones la puerta de enlace?</span><span class="sxs-lookup"><span data-stu-id="bd9c1-285">**Question:** What are the port requirements for the gateway to work?</span></span>
<span data-ttu-id="bd9c1-286">**Respuesta:** La puerta de enlace hace conexiones basadas en HTTP para abrir Internet.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-286">**Answer:** Gateway makes HTTP-based connections to open internet.</span></span> <span data-ttu-id="bd9c1-287">Los **puertos de salida 80 y 443** deben estar abiertos para que la puerta de enlace establezca la conexión.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-287">The **outbound ports 443 and 80** must be opened for gateway to make this connection.</span></span> <span data-ttu-id="bd9c1-288">Abra el **puerto de entrada 8050** solo en la máquina (no en el nivel del firewall corporativo) para la aplicación de administración de credenciales.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-288">Open **Inbound Port 8050** only at the machine level (not at corporate firewall level) for Credential Manager application.</span></span> <span data-ttu-id="bd9c1-289">Si se utiliza Azure SQL Database o Azure SQL Data Warehouse como origen y destino, tendrá que abrir también el puerto **1433**.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-289">If Azure SQL Database or Azure SQL Data Warehouse is used as source/ destination, then you need to open **1433** port as well.</span></span> <span data-ttu-id="bd9c1-290">Para más información, consulte la sección [Configuraciones del firewall y lista de direcciones IP admitidas](#firewall-configurations-and-whitelisting-ip-address-of gateway).</span><span class="sxs-lookup"><span data-stu-id="bd9c1-290">For more information, see [Firewall configurations and whitelisting IP addresses](#firewall-configurations-and-whitelisting-ip-address-of gateway) section.</span></span> 

<span data-ttu-id="bd9c1-291">**Pregunta:** ¿Cuáles son los certificados necesarios para la puerta de enlace?</span><span class="sxs-lookup"><span data-stu-id="bd9c1-291">**Question:** What are certificate requirements for Gateway?</span></span>
<span data-ttu-id="bd9c1-292">**Respuesta:** La puerta de enlace actual requiere un certificado que utiliza la aplicación de administración de credenciales para establecer las credenciales del almacén de datos de forma segura.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-292">**Answer:** Current gateway requires a certificate that is used by the credential manager application for securely setting data store credentials.</span></span> <span data-ttu-id="bd9c1-293">Este certificado está autofirmado y se creó y configuró durante la instalación de la puerta de enlace.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-293">This certificate is a self-signed certificate created and configured by the gateway setup.</span></span> <span data-ttu-id="bd9c1-294">En su lugar, puede usar su propio certificado TLS / SSL.</span><span class="sxs-lookup"><span data-stu-id="bd9c1-294">You can use your own TLS/ SSL certificate instead.</span></span> <span data-ttu-id="bd9c1-295">Para más información, consulte la sección sobre la [aplicación de administración de credenciales con un solo clic](#click-once-credentials-manager-app).</span><span class="sxs-lookup"><span data-stu-id="bd9c1-295">For more information, see [click-once credential manager application](#click-once-credentials-manager-app) section.</span></span> 

## <a name="next-steps"></a><span data-ttu-id="bd9c1-296">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="bd9c1-296">Next steps</span></span>
<span data-ttu-id="bd9c1-297">Para información sobre el rendimiento de la actividad de copia, consulte la [Guía de optimización y rendimiento de la actividad de copia](data-factory-copy-activity-performance.md).</span><span class="sxs-lookup"><span data-stu-id="bd9c1-297">For information about performance of copy activity, see [Copy activity performance and tuning guide](data-factory-copy-activity-performance.md).</span></span>

 
