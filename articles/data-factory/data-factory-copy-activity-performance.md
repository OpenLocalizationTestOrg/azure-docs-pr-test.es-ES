---
title: "aaaCopy actividad Guía de rendimiento y optimización | Documentos de Microsoft"
description: "Obtenga información acerca de los factores claves que afectan al rendimiento de Hola de movimiento de datos en Data Factory de Azure cuando se usa la actividad de copia."
services: data-factory
documentationcenter: 
author: linda33wj
manager: jhubbard
editor: monicar
ms.assetid: 4b9a6a4f-8cf5-4e0a-a06f-8133a2b7bc58
ms.service: data-factory
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/10/2017
ms.author: jingwang
ms.openlocfilehash: b0fb5a76c34752d07e8ddfffbb799a05fb5d6be6
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="copy-activity-performance-and-tuning-guide"></a><span data-ttu-id="c83a9-103">Guía de optimización y rendimiento de la actividad de copia</span><span class="sxs-lookup"><span data-stu-id="c83a9-103">Copy Activity performance and tuning guide</span></span>
<span data-ttu-id="c83a9-104">Copiar actividad de Azure Data Factory ofrece una solución de carga de datos de alto rendimiento fiable y segura de primera clase.</span><span class="sxs-lookup"><span data-stu-id="c83a9-104">Azure Data Factory Copy Activity delivers a first-class secure, reliable, and high-performance data loading solution.</span></span> <span data-ttu-id="c83a9-105">Permite toocopy decenas de terabytes de datos cada día en una gran variedad de nube y almacenes de datos local.</span><span class="sxs-lookup"><span data-stu-id="c83a9-105">It enables you toocopy tens of terabytes of data every day across a rich variety of cloud and on-premises data stores.</span></span> <span data-ttu-id="c83a9-106">Rendimiento de carga de datos de ultrarápido están tooensure clave que pueda centrarse en el problema de "big data" hello principal: compilar soluciones de análisis avanzados y obtener información detallada de todos los datos.</span><span class="sxs-lookup"><span data-stu-id="c83a9-106">Blazing-fast data loading performance is key tooensure you can focus on hello core “big data” problem: building advanced analytics solutions and getting deep insights from all that data.</span></span>

<span data-ttu-id="c83a9-107">Azure proporciona un conjunto de nivel empresarial soluciones de almacenamiento de datos y el almacenamiento de datos y la actividad de copia ofrece una experiencia que resulta fácil tooconfigure y configurar de carga de datos altamente optimizadas.</span><span class="sxs-lookup"><span data-stu-id="c83a9-107">Azure provides a set of enterprise-grade data storage and data warehouse solutions, and Copy Activity offers a highly optimized data loading experience that is easy tooconfigure and set up.</span></span> <span data-ttu-id="c83a9-108">Con solo una actividad de copia, puede conseguir:</span><span class="sxs-lookup"><span data-stu-id="c83a9-108">With just a single copy activity, you can achieve:</span></span>

* <span data-ttu-id="c83a9-109">Cargar datos en **Azure SQL Data Warehouse** a **1,2 GBps**.</span><span class="sxs-lookup"><span data-stu-id="c83a9-109">Loading data into **Azure SQL Data Warehouse** at **1.2 GBps**.</span></span> <span data-ttu-id="c83a9-110">Para un tutorial con un caso de uso, consulte [Load 1 TB into Azure SQL Data Warehouse under 15 minutes with Azure Data Factory](data-factory-load-sql-data-warehouse.md) (Carga de 1 TB en Azure SQL Data Warehouse en 15 minutos con Azure Data Factory).</span><span class="sxs-lookup"><span data-stu-id="c83a9-110">For a walkthrough with a use case, see [Load 1 TB into Azure SQL Data Warehouse under 15 minutes with Azure Data Factory](data-factory-load-sql-data-warehouse.md).</span></span>
* <span data-ttu-id="c83a9-111">Cargar datos en **Azure Blob Storage** a **1,0 GBps**</span><span class="sxs-lookup"><span data-stu-id="c83a9-111">Loading data into **Azure Blob storage** at **1.0 GBps**</span></span>
* <span data-ttu-id="c83a9-112">Cargar datos en **Azure Data Lake Store** a **1,0 GBps**</span><span class="sxs-lookup"><span data-stu-id="c83a9-112">Loading data into **Azure Data Lake Store** at **1.0 GBps**</span></span>

<span data-ttu-id="c83a9-113">En este artículo se describe:</span><span class="sxs-lookup"><span data-stu-id="c83a9-113">This article describes:</span></span>

* <span data-ttu-id="c83a9-114">[Los números de referencia de rendimiento](#performance-reference) compatible toohelp de almacenes de datos de origen y el receptor tiene previsto del proyecto.</span><span class="sxs-lookup"><span data-stu-id="c83a9-114">[Performance reference numbers](#performance-reference) for supported source and sink data stores toohelp you plan your project;</span></span>
* <span data-ttu-id="c83a9-115">Hola de características que pueden mejorar el rendimiento de copia en diversos escenarios, incluidos [unidades de movimiento de datos en la nube](#cloud-data-movement-units), [copia en paralelo](#parallel-copy), y [provisionalmente copia](#staged-copy);</span><span class="sxs-lookup"><span data-stu-id="c83a9-115">Features that can boost hello copy throughput in different scenarios, including [cloud data movement units](#cloud-data-movement-units), [parallel copy](#parallel-copy), and [staged Copy](#staged-copy);</span></span>
* <span data-ttu-id="c83a9-116">[Directrices de ajuste de rendimiento](#performance-tuning-steps) en cómo tootune Hola hello y rendimiento claves factores que pueden afectar a copian el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="c83a9-116">[Performance tuning guidance](#performance-tuning-steps) on how tootune hello performance and hello key factors that can impact copy performance.</span></span>

> [!NOTE]
> <span data-ttu-id="c83a9-117">Si no está familiarizado con la actividad de copia, consulte [Movimiento de datos con la actividad de copia](data-factory-data-movement-activities.md) antes de leer este artículo.</span><span class="sxs-lookup"><span data-stu-id="c83a9-117">If you are not familiar with Copy Activity in general, see [Move data by using Copy Activity](data-factory-data-movement-activities.md) before reading this article.</span></span>
>

## <a name="performance-reference"></a><span data-ttu-id="c83a9-118">Referencia de rendimiento</span><span class="sxs-lookup"><span data-stu-id="c83a9-118">Performance reference</span></span>

<span data-ttu-id="c83a9-119">Como referencia, tabla siguiente se muestra hello copia rendimiento número en MBps para hello tiene pares de origen y el receptor basados en las pruebas internas.</span><span class="sxs-lookup"><span data-stu-id="c83a9-119">As a reference, below table shows hello copy throughput number in MBps for hello given source and sink pairs based on in-house testing.</span></span> <span data-ttu-id="c83a9-120">A efectos de comparación, también muestra cómo distintos valores de [unidades de movimiento de datos de nube](#cloud-data-movement-units) o de [escalabilidad de Data Management Gateway](data-factory-data-management-gateway-high-availability-scalability.md) (varios nodos de puerta de enlace) pueden contribuir al rendimiento de copias.</span><span class="sxs-lookup"><span data-stu-id="c83a9-120">For comparison, it also demonstrates how different settings of [cloud data movement units](#cloud-data-movement-units) or [Data Management Gateway scalability](data-factory-data-management-gateway-high-availability-scalability.md) (multiple gateway nodes) can help on copy performance.</span></span>

![Matriz de rendimiento](./media/data-factory-copy-activity-performance/CopyPerfRef.png)


<span data-ttu-id="c83a9-122">**Toonote puntos:**</span><span class="sxs-lookup"><span data-stu-id="c83a9-122">**Points toonote:**</span></span>
* <span data-ttu-id="c83a9-123">El rendimiento se calcula utilizando Hola siguiente fórmula: [tamaño de los datos leídos del origen] / [duración de la ejecución de actividad de copia].</span><span class="sxs-lookup"><span data-stu-id="c83a9-123">Throughput is calculated by using hello following formula: [size of data read from source]/[Copy Activity run duration].</span></span>
* <span data-ttu-id="c83a9-124">números de referencia de rendimiento de Hello en la tabla de Hola se midieron mediante [TPC-H](http://www.tpc.org/tpch/) conjunto de datos en una actividad de copia individual en ejecución.</span><span class="sxs-lookup"><span data-stu-id="c83a9-124">hello performance reference numbers in hello table were measured using [TPC-H](http://www.tpc.org/tpch/) data set in a single copy activity run.</span></span>
* <span data-ttu-id="c83a9-125">En los almacenes de datos de Azure, origen de Hola y el receptor son Hola misma región de Azure.</span><span class="sxs-lookup"><span data-stu-id="c83a9-125">In Azure data stores, hello source and sink are in hello same Azure region.</span></span>
* <span data-ttu-id="c83a9-126">Para la copia híbrida entre local y nube almacenes de datos, cada nodo de puerta de enlace se estaba ejecutando en un equipo que estaba independiente Hola local almacén de datos con por debajo de la especificación.</span><span class="sxs-lookup"><span data-stu-id="c83a9-126">For hybrid copy between on-premises and cloud data stores, each gateway node was running on a machine that was separate from hello on-premises data store with below specification.</span></span> <span data-ttu-id="c83a9-127">Durante la ejecución de una sola actividad de puerta de enlace, operación de copia de hello consume solo una pequeña parte de la máquina de pruebas de hello CPU, memoria o ancho de banda de red.</span><span class="sxs-lookup"><span data-stu-id="c83a9-127">When a single activity was running on gateway, hello copy operation consumed only a small portion of hello test machine's CPU, memory, or network bandwidth.</span></span> <span data-ttu-id="c83a9-128">Obtenga más información en [Consideraciones sobre Data Management Gateway](#considerations-for-data-management-gateway).</span><span class="sxs-lookup"><span data-stu-id="c83a9-128">Learn more from [consideration for Data Management Gateway](#considerations-for-data-management-gateway).</span></span>
    <table>
    <tr>
        <td><span data-ttu-id="c83a9-129">CPU</span><span class="sxs-lookup"><span data-stu-id="c83a9-129">CPU</span></span></td>
        <td><span data-ttu-id="c83a9-130">Intel Xeon E5-2660 v2 de 32 núcleos a 2,20 GHz</span><span class="sxs-lookup"><span data-stu-id="c83a9-130">32 cores 2.20 GHz Intel Xeon E5-2660 v2</span></span></td>
    </tr>
    <tr>
        <td><span data-ttu-id="c83a9-131">Memoria</span><span class="sxs-lookup"><span data-stu-id="c83a9-131">Memory</span></span></td>
        <td><span data-ttu-id="c83a9-132">128 GB</span><span class="sxs-lookup"><span data-stu-id="c83a9-132">128 GB</span></span></td>
    </tr>
    <tr>
        <td><span data-ttu-id="c83a9-133">Red</span><span class="sxs-lookup"><span data-stu-id="c83a9-133">Network</span></span></td>
        <td><span data-ttu-id="c83a9-134">Interfaz de Internet: 10 Gbps; interfaz de intranet: 40 Gbps</span><span class="sxs-lookup"><span data-stu-id="c83a9-134">Internet interface: 10 Gbps; intranet interface: 40 Gbps</span></span></td>
    </tr>
    </table>


> [!TIP]
> <span data-ttu-id="c83a9-135">Puede lograr un mayor rendimiento mediante el aprovechamiento de más unidades de movimiento de datos (DMUs) que Hola predeterminado DMUs máximos, que es 32 para una actividad de copia de nube para ejecutar.</span><span class="sxs-lookup"><span data-stu-id="c83a9-135">You can achieve higher throughput by leveraging more data movement units (DMUs) than hello default maximum DMUs, which is 32 for a cloud-to-cloud copy activity run.</span></span> <span data-ttu-id="c83a9-136">Por ejemplo, con 100 DMU, puede copiar datos de Azure Blob a Azure Data Lake Store a una velocidad de **1 GBps**.</span><span class="sxs-lookup"><span data-stu-id="c83a9-136">For example, with 100 DMUs, you can achieve copying data from Azure Blob into Azure Data Lake Store at **1.0GBps**.</span></span> <span data-ttu-id="c83a9-137">Vea hello [unidades de movimiento de datos en la nube](#cloud-data-movement-units) sección para obtener más información acerca de esta característica y Hola admite el escenario.</span><span class="sxs-lookup"><span data-stu-id="c83a9-137">See hello [Cloud data movement units](#cloud-data-movement-units) section for details about this feature and hello supported scenario.</span></span> <span data-ttu-id="c83a9-138">Póngase en contacto con [soporte técnico de Azure](https://azure.microsoft.com/support/) toorequest DMUs más.</span><span class="sxs-lookup"><span data-stu-id="c83a9-138">Contact [Azure support](https://azure.microsoft.com/support/) toorequest more DMUs.</span></span>

## <a name="parallel-copy"></a><span data-ttu-id="c83a9-139">Copia en paralelo</span><span class="sxs-lookup"><span data-stu-id="c83a9-139">Parallel copy</span></span>
<span data-ttu-id="c83a9-140">Puede leer el origen de datos de Hola o escribir el destino de datos toohello **en paralelo en una ejecución de la actividad de copia**.</span><span class="sxs-lookup"><span data-stu-id="c83a9-140">You can read data from hello source or write data toohello destination **in parallel within a Copy Activity run**.</span></span> <span data-ttu-id="c83a9-141">Esta característica mejora el rendimiento de Hola de una operación de copia y reduce el tiempo de hello tarda toomove datos.</span><span class="sxs-lookup"><span data-stu-id="c83a9-141">This feature enhances hello throughput of a copy operation and reduces hello time it takes toomove data.</span></span>

<span data-ttu-id="c83a9-142">Esta configuración es diferente de hello **simultaneidad** propiedad en la definición de actividad de Hola.</span><span class="sxs-lookup"><span data-stu-id="c83a9-142">This setting is different from hello **concurrency** property in hello activity definition.</span></span> <span data-ttu-id="c83a9-143">Hola **simultaneidad** propiedad determina el número de Hola de **se ejecuta la actividad simultánea de copia** tooprocess datos desde windows actividad diferente (1 too2 A.M. AM, ESTOY 2 too3 AM, ESTOY 3 too4 AM, y así sucesivamente).</span><span class="sxs-lookup"><span data-stu-id="c83a9-143">hello **concurrency** property determines hello number of **concurrent Copy Activity runs** tooprocess data from different activity windows (1 AM too2 AM, 2 AM too3 AM, 3 AM too4 AM, and so on).</span></span> <span data-ttu-id="c83a9-144">Esta funcionalidad es útil cuando se realiza una carga histórica.</span><span class="sxs-lookup"><span data-stu-id="c83a9-144">This capability is helpful when you perform a historical load.</span></span> <span data-ttu-id="c83a9-145">capacidad de copia en paralelo de Hola aplica tooa **única de ejecución de actividad**.</span><span class="sxs-lookup"><span data-stu-id="c83a9-145">hello parallel copy capability applies tooa **single activity run**.</span></span>

<span data-ttu-id="c83a9-146">Echemos un vistazo a un escenario de ejemplo.</span><span class="sxs-lookup"><span data-stu-id="c83a9-146">Let's look at a sample scenario.</span></span> <span data-ttu-id="c83a9-147">En el siguiente ejemplo de Hola, varios sectores de hello último necesitan toobe procesado.</span><span class="sxs-lookup"><span data-stu-id="c83a9-147">In hello following example, multiple slices from hello past need toobe processed.</span></span> <span data-ttu-id="c83a9-148">Data Factory ejecuta una única instancia de actividad de copia (una ejecución de actividad) para cada segmento:</span><span class="sxs-lookup"><span data-stu-id="c83a9-148">Data Factory runs an instance of Copy Activity (an activity run) for each slice:</span></span>

* <span data-ttu-id="c83a9-149">segmento de datos de Hola desde la primera ventana de actividad hello (1 too2 AM ESTOY) == > actividad ejecuta 1</span><span class="sxs-lookup"><span data-stu-id="c83a9-149">hello data slice from hello first activity window (1 AM too2 AM) ==> Activity run 1</span></span>
* <span data-ttu-id="c83a9-150">segmento de datos de saludo de la segunda ventana de actividad hello (2 too3 AM ESTOY) == > actividad ejecuta 2</span><span class="sxs-lookup"><span data-stu-id="c83a9-150">hello data slice from hello second activity window (2 AM too3 AM) ==> Activity run 2</span></span>
* <span data-ttu-id="c83a9-151">segmento de datos de saludo de la segunda ventana de actividad hello (3 too4 AM ESTOY) == > actividad ejecuta 3</span><span class="sxs-lookup"><span data-stu-id="c83a9-151">hello data slice from hello second activity window (3 AM too4 AM) ==> Activity run 3</span></span>

<span data-ttu-id="c83a9-152">y así sucesivamente.</span><span class="sxs-lookup"><span data-stu-id="c83a9-152">And so on.</span></span>

<span data-ttu-id="c83a9-153">En este ejemplo, cuando hello **simultaneidad** se establece el valor too2, **actividad ejecuta 1** y **actividad ejecuta 2** copiar datos desde dos ventanas de la actividad **simultáneamente**  tooimprove rendimiento del movimiento de datos.</span><span class="sxs-lookup"><span data-stu-id="c83a9-153">In this example, when hello **concurrency** value is set too2, **Activity run 1** and **Activity run 2** copy data from two activity windows **concurrently** tooimprove data movement performance.</span></span> <span data-ttu-id="c83a9-154">Sin embargo, si varios archivos están asociados con la actividad de ejecución 1, servicio de movimiento de datos de hello copia archivos desde Hola origen toohello destino archivos a la vez.</span><span class="sxs-lookup"><span data-stu-id="c83a9-154">However, if multiple files are associated with Activity run 1, hello data movement service copies files from hello source toohello destination one file at a time.</span></span>

### <a name="cloud-data-movement-units"></a><span data-ttu-id="c83a9-155">Unidades de movimiento de datos de nube</span><span class="sxs-lookup"><span data-stu-id="c83a9-155">Cloud data movement units</span></span>
<span data-ttu-id="c83a9-156">A **unidad de movimiento de datos en la nube (DMU)** es una medida que representa la potencia de hello (una combinación de asignación de recursos de red, CPU y memoria) de una sola unidad de factoría de datos.</span><span class="sxs-lookup"><span data-stu-id="c83a9-156">A **cloud data movement unit (DMU)** is a measure that represents hello power (a combination of CPU, memory, and network resource allocation) of a single unit in Data Factory.</span></span> <span data-ttu-id="c83a9-157">Una DMU podría utilizarse en una operación de copia de una nube a otra, pero no en una copia híbrida.</span><span class="sxs-lookup"><span data-stu-id="c83a9-157">A DMU might be used in a cloud-to-cloud copy operation, but not in a hybrid copy.</span></span>

<span data-ttu-id="c83a9-158">De forma predeterminada, factoría de datos utiliza un tooperform DMU nube solo una única actividad de copia que se ejecute.</span><span class="sxs-lookup"><span data-stu-id="c83a9-158">By default, Data Factory uses a single cloud DMU tooperform a single Copy Activity run.</span></span> <span data-ttu-id="c83a9-159">toooverride este valor predeterminado, especifique un valor para hello **cloudDataMovementUnits** propiedad tal como se indica a continuación.</span><span class="sxs-lookup"><span data-stu-id="c83a9-159">toooverride this default, specify a value for hello **cloudDataMovementUnits** property as follows.</span></span> <span data-ttu-id="c83a9-160">Para obtener información sobre el nivel de Hola de ganancia de rendimiento podría obtener cuando se configura más unidades para un origen de copia específica y el receptor, vea hello [referencia de rendimiento](#performance-reference).</span><span class="sxs-lookup"><span data-stu-id="c83a9-160">For information about hello level of performance gain you might get when you configure more units for a specific copy source and sink, see hello [performance reference](#performance-reference).</span></span>

```json
"activities":[  
    {
        "name": "Sample copy activity",
        "description": "",
        "type": "Copy",
        "inputs": [{ "name": "InputDataset" }],
        "outputs": [{ "name": "OutputDataset" }],
        "typeProperties": {
            "source": {
                "type": "BlobSource",
            },
            "sink": {
                "type": "AzureDataLakeStoreSink"
            },
            "cloudDataMovementUnits": 32
        }
    }
]
```
<span data-ttu-id="c83a9-161">Hola **valores permitidos** para hello **cloudDataMovementUnits** propiedad son 1 (valor predeterminado), 2, 4, 8, 16, 32.</span><span class="sxs-lookup"><span data-stu-id="c83a9-161">hello **allowed values** for hello **cloudDataMovementUnits** property are 1 (default), 2, 4, 8, 16, 32.</span></span> <span data-ttu-id="c83a9-162">Hola **número real de nube DMUs** que la operación de copia de Hola se utiliza en tiempo de ejecución es igual tooor menor que valor Hola configurado, dependiendo de su modelo de datos.</span><span class="sxs-lookup"><span data-stu-id="c83a9-162">hello **actual number of cloud DMUs** that hello copy operation uses at run time is equal tooor less than hello configured value, depending on your data pattern.</span></span>

> [!NOTE]
> <span data-ttu-id="c83a9-163">Si necesita más DMU de nube para aumentar el rendimiento, póngase en contacto con el [servicio técnico de Azure](https://azure.microsoft.com/support/).</span><span class="sxs-lookup"><span data-stu-id="c83a9-163">If you need more cloud DMUs for a higher throughput, contact [Azure support](https://azure.microsoft.com/support/).</span></span> <span data-ttu-id="c83a9-164">Configuración de 8 y versiones posteriores actualmente sólo funcionan cuando se **copiar varios archivos de Blob almacenamiento/almacén de Data Lake/Amazon S3/nube FTP/nube SFTP tooBlob almacenamiento o almacén de Data Lake/SQL Azure base de datos SQL**.</span><span class="sxs-lookup"><span data-stu-id="c83a9-164">Setting of 8 and above currently works only when you **copy multiple files from Blob storage/Data Lake Store/Amazon S3/cloud FTP/cloud SFTP tooBlob storage/Data Lake Store/Azure SQL Database**.</span></span>
>

### <a name="parallelcopies"></a><span data-ttu-id="c83a9-165">parallelCopies</span><span class="sxs-lookup"><span data-stu-id="c83a9-165">parallelCopies</span></span>
<span data-ttu-id="c83a9-166">Puede usar hello **parallelCopies** paralelismo de hello tooindicate de propiedad que desea que la actividad de copia toouse.</span><span class="sxs-lookup"><span data-stu-id="c83a9-166">You can use hello **parallelCopies** property tooindicate hello parallelism that you want Copy Activity toouse.</span></span> <span data-ttu-id="c83a9-167">Esta propiedad se puede considerar como número máximo de Hola de subprocesos dentro de la actividad de copia que se puede leer desde el origen o escribir tooyour receptor los almacenes de datos en paralelo.</span><span class="sxs-lookup"><span data-stu-id="c83a9-167">You can think of this property as hello maximum number of threads within Copy Activity that can read from your source or write tooyour sink data stores in parallel.</span></span>

<span data-ttu-id="c83a9-168">Para cada ejecución de actividad de copia, factoría de datos determina el número de Hola de paralelo copia toouse toocopy datos de almacén de datos de origen de Hola y almacén de datos de destino de toohello.</span><span class="sxs-lookup"><span data-stu-id="c83a9-168">For each Copy Activity run, Data Factory determines hello number of parallel copies toouse toocopy data from hello source data store and toohello destination data store.</span></span> <span data-ttu-id="c83a9-169">número predeterminado de Hola de copias en paralelo que utiliza depende de tipo de Hola de origen y receptor que está usando.</span><span class="sxs-lookup"><span data-stu-id="c83a9-169">hello default number of parallel copies that it uses depends on hello type of source and sink that you are using.</span></span>  

| <span data-ttu-id="c83a9-170">Origen y receptor</span><span class="sxs-lookup"><span data-stu-id="c83a9-170">Source and sink</span></span> | <span data-ttu-id="c83a9-171">Recuento predeterminado de copias en paralelo determinado por servicio</span><span class="sxs-lookup"><span data-stu-id="c83a9-171">Default parallel copy count determined by service</span></span> |
| --- | --- |
| <span data-ttu-id="c83a9-172">Copia de datos entre almacenes basados en archivos (Blob Storage, Data Lake Store, Amazon S3, un sistema de archivos local, un HDFS local)</span><span class="sxs-lookup"><span data-stu-id="c83a9-172">Copy data between file-based stores (Blob storage; Data Lake Store; Amazon S3; an on-premises file system; an on-premises HDFS)</span></span> |<span data-ttu-id="c83a9-173">Entre 1 y 32.</span><span class="sxs-lookup"><span data-stu-id="c83a9-173">Between 1 and 32.</span></span> <span data-ttu-id="c83a9-174">Depende de tamaño de Hola de archivos de Hola y número de Hola de unidades de movimiento de datos en la nube (DMUs) toocopy usa datos entre dos almacenes de datos en la nube o configuración física de Hola de Hola máquina de puerta de enlace que se usa para obtener una copia híbrida (toocopy datos tooor desde un almacén de datos local ).</span><span class="sxs-lookup"><span data-stu-id="c83a9-174">Depends on hello size of hello files and hello number of cloud data movement units (DMUs) used toocopy data between two cloud data stores, or hello physical configuration of hello Gateway machine used for a hybrid copy (toocopy data tooor from an on-premises data store).</span></span> |
| <span data-ttu-id="c83a9-175">Copiar los datos de **tooAzure el almacenamiento de tabla de almacén de los datos de origen**</span><span class="sxs-lookup"><span data-stu-id="c83a9-175">Copy data from **any source data store tooAzure Table storage**</span></span> |<span data-ttu-id="c83a9-176">4</span><span class="sxs-lookup"><span data-stu-id="c83a9-176">4</span></span> |
| <span data-ttu-id="c83a9-177">Todos los demás pares de origen y receptor</span><span class="sxs-lookup"><span data-stu-id="c83a9-177">All other source and sink pairs</span></span> |<span data-ttu-id="c83a9-178">1</span><span class="sxs-lookup"><span data-stu-id="c83a9-178">1</span></span> |

<span data-ttu-id="c83a9-179">Por lo general, el comportamiento predeterminado de hello debe darle mejor rendimiento de Hola.</span><span class="sxs-lookup"><span data-stu-id="c83a9-179">Usually, hello default behavior should give you hello best throughput.</span></span> <span data-ttu-id="c83a9-180">Sin embargo, hello toocontrol cargar en equipos que hospedan los almacenes de datos o el rendimiento de la copia de tootune, puede elegir toooverride Hola valor predeterminado y especifique un valor para hello **parallelCopies** propiedad.</span><span class="sxs-lookup"><span data-stu-id="c83a9-180">However, toocontrol hello load on machines that host your data stores, or tootune copy performance, you may choose toooverride hello default value and specify a value for hello **parallelCopies** property.</span></span> <span data-ttu-id="c83a9-181">Hola valor debe ser entre 1 y 32 (ambos inclusive).</span><span class="sxs-lookup"><span data-stu-id="c83a9-181">hello value must be between 1 and 32 (both inclusive).</span></span> <span data-ttu-id="c83a9-182">En tiempo de ejecución para un rendimiento óptimo hello, actividad de copia utiliza un valor que es menor o igual valor toohello que establezca.</span><span class="sxs-lookup"><span data-stu-id="c83a9-182">At run time, for hello best performance, Copy Activity uses a value that is less than or equal toohello value that you set.</span></span>

```json
"activities":[  
    {
        "name": "Sample copy activity",
        "description": "",
        "type": "Copy",
        "inputs": [{ "name": "InputDataset" }],
        "outputs": [{ "name": "OutputDataset" }],
        "typeProperties": {
            "source": {
                "type": "BlobSource",
            },
            "sink": {
                "type": "AzureDataLakeStoreSink"
            },
            "parallelCopies": 8
        }
    }
]
```
<span data-ttu-id="c83a9-183">Toonote puntos:</span><span class="sxs-lookup"><span data-stu-id="c83a9-183">Points toonote:</span></span>

* <span data-ttu-id="c83a9-184">Para copiar datos entre almacenes basados en archivos, Hola **parallelCopies** determinar paralelismo hello en nivel de archivo Hola.</span><span class="sxs-lookup"><span data-stu-id="c83a9-184">When you copy data between file-based stores, hello **parallelCopies** determine hello parallelism at hello file level.</span></span> <span data-ttu-id="c83a9-185">Hola fragmentación dentro de un único archivo sucedería debajo de forma automática y transparente, y está diseñada toouse Hola mejor adecuado tamaño del fragmento de para un almacén de datos de origen dada escriba datos tooload en paralelo y ortogonal tooparallelCopies.</span><span class="sxs-lookup"><span data-stu-id="c83a9-185">hello chunking within a single file would happen underneath automatically and transparently, and it's designed toouse hello best suitable chunk size for a given source data store type tooload data in parallel and orthogonal tooparallelCopies.</span></span> <span data-ttu-id="c83a9-186">número real de Hola de hello datos movimiento servicio utiliza para la operación de copia de hello en tiempo de ejecución no está más de número de Hola de archivos que tiene copias en paralelo.</span><span class="sxs-lookup"><span data-stu-id="c83a9-186">hello actual number of parallel copies hello data movement service uses for hello copy operation at run time is no more than hello number of files you have.</span></span> <span data-ttu-id="c83a9-187">Si es el comportamiento de la copia de hello **mergeFile**, actividad de copia no se puede aprovechar las ventajas de paralelismo de nivel de archivo.</span><span class="sxs-lookup"><span data-stu-id="c83a9-187">If hello copy behavior is **mergeFile**, Copy Activity cannot take advantage of file-level parallelism.</span></span>
* <span data-ttu-id="c83a9-188">Cuando se especifica un valor para hello **parallelCopies** propiedad, considere la posibilidad de aumento de carga de hello en los almacenes de datos de origen y el receptor y toogateway si es una copia híbrida.</span><span class="sxs-lookup"><span data-stu-id="c83a9-188">When you specify a value for hello **parallelCopies** property, consider hello load increase on your source and sink data stores, and toogateway if it is a hybrid copy.</span></span> <span data-ttu-id="c83a9-189">Esto sucede especialmente cuando haya varias actividades o las ejecuciones simultáneas de hello mismas actividades que se ejecutan contra Hola mismo almacén de datos.</span><span class="sxs-lookup"><span data-stu-id="c83a9-189">This happens especially when you have multiple activities or concurrent runs of hello same activities that run against hello same data store.</span></span> <span data-ttu-id="c83a9-190">Si observa que el almacén de datos de Hola o puerta de enlace se desborda con carga hello, disminuir hello **parallelCopies** carga de valor toorelieve Hola.</span><span class="sxs-lookup"><span data-stu-id="c83a9-190">If you notice that either hello data store or Gateway is overwhelmed with hello load, decrease hello **parallelCopies** value toorelieve hello load.</span></span>
* <span data-ttu-id="c83a9-191">Al copiar los datos de almacenes que no están toostores basados en archivos que están basados en archivos, servicio de movimiento de datos de hello omite hello **parallelCopies** propiedad.</span><span class="sxs-lookup"><span data-stu-id="c83a9-191">When you copy data from stores that are not file-based toostores that are file-based, hello data movement service ignores hello **parallelCopies** property.</span></span> <span data-ttu-id="c83a9-192">Aunque se especifica el paralelismo, no se aplica en este caso.</span><span class="sxs-lookup"><span data-stu-id="c83a9-192">Even if parallelism is specified, it's not applied in this case.</span></span>

> [!NOTE]
> <span data-ttu-id="c83a9-193">Debe usar Hola de Data Management Gateway versión 1.11 o posterior toouse **parallelCopies** característica al hacer una copia híbrida.</span><span class="sxs-lookup"><span data-stu-id="c83a9-193">You must use Data Management Gateway version 1.11 or later toouse hello **parallelCopies** feature when you do a hybrid copy.</span></span>
>
>

<span data-ttu-id="c83a9-194">toobetter estas dos propiedades y tooenhance el rendimiento de movimiento de datos, consulte hello [casos de uso de ejemplo](#case-study-use-parallel-copy).</span><span class="sxs-lookup"><span data-stu-id="c83a9-194">toobetter use these two properties, and tooenhance your data movement throughput, see hello [sample use cases](#case-study-use-parallel-copy).</span></span> <span data-ttu-id="c83a9-195">No es necesario tooconfigure **parallelCopies** tootake aprovechar el comportamiento predeterminado de Hola.</span><span class="sxs-lookup"><span data-stu-id="c83a9-195">You don't need tooconfigure **parallelCopies** tootake advantage of hello default behavior.</span></span> <span data-ttu-id="c83a9-196">Si configura **parallelCopies** y lo hace en un valor demasiado pequeño, es posible que varias DMU de nube no se utilicen completamente.</span><span class="sxs-lookup"><span data-stu-id="c83a9-196">If you do configure and **parallelCopies** is too small, multiple cloud DMUs might not be fully utilized.</span></span>  

### <a name="billing-impact"></a><span data-ttu-id="c83a9-197">Impacto en la facturación</span><span class="sxs-lookup"><span data-stu-id="c83a9-197">Billing impact</span></span>
<span data-ttu-id="c83a9-198">Tiene **importante** tooremember que se le cobra según el tiempo total de Hola de operación de copia de Hola.</span><span class="sxs-lookup"><span data-stu-id="c83a9-198">It's **important** tooremember that you are charged based on hello total time of hello copy operation.</span></span> <span data-ttu-id="c83a9-199">Si un trabajo de copia usa una hora de tootake con una unidad de una nube y ahora se tarda 15 minutos con cuatro unidades en la nube, hello general sigue siendo de factura casi Hola igual.</span><span class="sxs-lookup"><span data-stu-id="c83a9-199">If a copy job used tootake one hour with one cloud unit and now it takes 15 minutes with four cloud units, hello overall bill remains almost hello same.</span></span> <span data-ttu-id="c83a9-200">Por ejemplo, va a utilizar cuatro unidades de nube.</span><span class="sxs-lookup"><span data-stu-id="c83a9-200">For example, you use four cloud units.</span></span> <span data-ttu-id="c83a9-201">la primera unidad de la nube de Hello invierte en 10 minutos, Hola una tercera, 5 minutos, hello una segunda, 10 minutos y Hola una cuarta, 5 minutos, todo en una ejecución de actividad de copia.</span><span class="sxs-lookup"><span data-stu-id="c83a9-201">hello first cloud unit spends 10 minutes, hello second one, 10 minutes, hello third one, 5 minutes, and hello fourth one, 5 minutes, all in one Copy Activity run.</span></span> <span data-ttu-id="c83a9-202">Se le cobra por hora de hello copia total (movimiento de datos), que es de 10 + 10 + 5 + 5 = 30 minutos.</span><span class="sxs-lookup"><span data-stu-id="c83a9-202">You are charged for hello total copy (data movement) time, which is 10 + 10 + 5 + 5 = 30 minutes.</span></span> <span data-ttu-id="c83a9-203">El uso de **parallelCopies** no afecta a la facturación.</span><span class="sxs-lookup"><span data-stu-id="c83a9-203">Using **parallelCopies** does not affect billing.</span></span>

## <a name="staged-copy"></a><span data-ttu-id="c83a9-204">copia almacenada provisionalmente</span><span class="sxs-lookup"><span data-stu-id="c83a9-204">Staged copy</span></span>
<span data-ttu-id="c83a9-205">Cuando se copian datos desde un almacén de datos de origen datos almacén tooa receptor, puede elegir el almacenamiento de blobs de toouse como una ubicación de almacenamiento provisional almacenamiento provisional.</span><span class="sxs-lookup"><span data-stu-id="c83a9-205">When you copy data from a source data store tooa sink data store, you might choose toouse Blob storage as an interim staging store.</span></span> <span data-ttu-id="c83a9-206">Almacenamiento provisional es especialmente útil en hello casos siguientes:</span><span class="sxs-lookup"><span data-stu-id="c83a9-206">Staging is especially useful in hello following cases:</span></span>

1. <span data-ttu-id="c83a9-207">**Desea que los datos de tooingest de varios almacenes de datos en almacenamiento de datos de SQL a través de PolyBase**.</span><span class="sxs-lookup"><span data-stu-id="c83a9-207">**You want tooingest data from various data stores into SQL Data Warehouse via PolyBase**.</span></span> <span data-ttu-id="c83a9-208">Almacenamiento de datos de SQL utiliza PolyBase como un tooload de mecanismo de alto rendimiento una gran cantidad de datos en almacenamiento de datos de SQL.</span><span class="sxs-lookup"><span data-stu-id="c83a9-208">SQL Data Warehouse uses PolyBase as a high-throughput mechanism tooload a large amount of data into SQL Data Warehouse.</span></span> <span data-ttu-id="c83a9-209">Sin embargo, los datos de origen de hello deben estar en el almacenamiento de blobs y debe cumplir criterios adicionales.</span><span class="sxs-lookup"><span data-stu-id="c83a9-209">However, hello source data must be in Blob storage, and it must meet additional criteria.</span></span> <span data-ttu-id="c83a9-210">Al cargar datos desde un almacén de datos distinto de Almacenamiento de blobs, puede activar la copia de datos mediante el Almacenamiento de blobs provisional.</span><span class="sxs-lookup"><span data-stu-id="c83a9-210">When you load data from a data store other than Blob storage, you can activate data copying via interim staging Blob storage.</span></span> <span data-ttu-id="c83a9-211">En ese caso, factoría de datos realiza Hola requerido datos transformaciones tooensure que cumpla los requisitos de Hola de PolyBase.</span><span class="sxs-lookup"><span data-stu-id="c83a9-211">In that case, Data Factory performs hello required data transformations tooensure that it meets hello requirements of PolyBase.</span></span> <span data-ttu-id="c83a9-212">A continuación, utiliza datos de PolyBase tooload en almacenamiento de datos de SQL.</span><span class="sxs-lookup"><span data-stu-id="c83a9-212">Then it uses PolyBase tooload data into SQL Data Warehouse.</span></span> <span data-ttu-id="c83a9-213">Para obtener más información, consulte [datos de uso PolyBase tooload en almacenamiento de datos de SQL Azure](data-factory-azure-sql-data-warehouse-connector.md#use-polybase-to-load-data-into-azure-sql-data-warehouse).</span><span class="sxs-lookup"><span data-stu-id="c83a9-213">For more details, see [Use PolyBase tooload data into Azure SQL Data Warehouse](data-factory-azure-sql-data-warehouse-connector.md#use-polybase-to-load-data-into-azure-sql-data-warehouse).</span></span> <span data-ttu-id="c83a9-214">Para un tutorial con un caso de uso, consulte [Load 1 TB into Azure SQL Data Warehouse under 15 minutes with Azure Data Factory](data-factory-load-sql-data-warehouse.md) (Carga de 1 TB en Azure SQL Data Warehouse en 15 minutos con Azure Data Factory).</span><span class="sxs-lookup"><span data-stu-id="c83a9-214">For a walkthrough with a use case, see [Load 1 TB into Azure SQL Data Warehouse under 15 minutes with Azure Data Factory](data-factory-load-sql-data-warehouse.md).</span></span>
2. <span data-ttu-id="c83a9-215">**A veces se tarda un tiempo tooperform un movimiento de datos híbridos (es decir, toocopy entre un almacén de datos local y un almacén de datos en la nube) a través de una conexión de red lenta**.</span><span class="sxs-lookup"><span data-stu-id="c83a9-215">**Sometimes it takes a while tooperform a hybrid data movement (that is, toocopy between an on-premises data store and a cloud data store) over a slow network connection**.</span></span> <span data-ttu-id="c83a9-216">tooimprove rendimiento, puede comprimir Hola datos de forma local para que se tarda menos tiempo de almacén de datos de almacenamiento provisional de toomove datos toohello en la nube de Hola.</span><span class="sxs-lookup"><span data-stu-id="c83a9-216">tooimprove performance, you can compress hello data on-premises so that it takes less time toomove data toohello staging data store in hello cloud.</span></span> <span data-ttu-id="c83a9-217">A continuación, puede descomprimir los datos de Hola Hola almacén de almacenamiento provisional antes de cargarlos en el almacén de datos de destino de Hola.</span><span class="sxs-lookup"><span data-stu-id="c83a9-217">Then you can decompress hello data in hello staging store before you load it into hello destination data store.</span></span>
3. <span data-ttu-id="c83a9-218">**No desea tooopen puertos excepto el puerto 80 y el puerto 443 en el firewall, debido a las directivas de TI corporativas**.</span><span class="sxs-lookup"><span data-stu-id="c83a9-218">**You don't want tooopen ports other than port 80 and port 443 in your firewall, because of corporate IT policies**.</span></span> <span data-ttu-id="c83a9-219">Por ejemplo, cuando se copian datos desde un receptor de base de datos de SQL Azure local tooan de almacén de datos o un receptor de almacenamiento de datos de SQL Azure, necesita tooactivate de comunicación de TCP saliente en el puerto 1433 para firewall de Windows hello y del firewall corporativo.</span><span class="sxs-lookup"><span data-stu-id="c83a9-219">For example, when you copy data from an on-premises data store tooan Azure SQL Database sink or an Azure SQL Data Warehouse sink, you need tooactivate outbound TCP communication on port 1433 for both hello Windows firewall and your corporate firewall.</span></span> <span data-ttu-id="c83a9-220">En este escenario, aprovechar las ventajas de hello puerta de enlace toofirst copia datos tooa Blob almacenamiento provisional instancia sobre HTTP o HTTPS en el puerto 443.</span><span class="sxs-lookup"><span data-stu-id="c83a9-220">In this scenario, take advantage of hello gateway toofirst copy data tooa Blob storage staging instance over HTTP or HTTPS on port 443.</span></span> <span data-ttu-id="c83a9-221">A continuación, cargar datos de hello en base de datos SQL o almacenamiento de datos SQL desde el almacenamiento provisional de almacenamiento de blobs.</span><span class="sxs-lookup"><span data-stu-id="c83a9-221">Then, load hello data into SQL Database or SQL Data Warehouse from Blob storage staging.</span></span> <span data-ttu-id="c83a9-222">En este flujo, no necesita tooenable el puerto 1433.</span><span class="sxs-lookup"><span data-stu-id="c83a9-222">In this flow, you don't need tooenable port 1433.</span></span>

### <a name="how-staged-copy-works"></a><span data-ttu-id="c83a9-223">Funcionamiento de las copias almacenadas provisionalmente</span><span class="sxs-lookup"><span data-stu-id="c83a9-223">How staged copy works</span></span>
<span data-ttu-id="c83a9-224">Al activar la característica de almacenamiento provisional de hello, primero los datos Hola se copian desde el almacén de datos de hello origen toohello almacén de datos de almacenamiento provisional (aportar su propia).</span><span class="sxs-lookup"><span data-stu-id="c83a9-224">When you activate hello staging feature, first hello data is copied from hello source data store toohello staging data store (bring your own).</span></span> <span data-ttu-id="c83a9-225">A continuación, los datos de Hola se copian desde el almacén de datos de receptor de toohello de almacén de datos de almacenamiento provisional de Hola.</span><span class="sxs-lookup"><span data-stu-id="c83a9-225">Next, hello data is copied from hello staging data store toohello sink data store.</span></span> <span data-ttu-id="c83a9-226">Factoría de datos administra automáticamente el flujo de dos fases de Hola para usted.</span><span class="sxs-lookup"><span data-stu-id="c83a9-226">Data Factory automatically manages hello two-stage flow for you.</span></span> <span data-ttu-id="c83a9-227">Factoría de datos también limpia los datos temporales de hello ensayo almacenamiento una vez completado el movimiento de datos Hola.</span><span class="sxs-lookup"><span data-stu-id="c83a9-227">Data Factory also cleans up temporary data from hello staging storage after hello data movement is complete.</span></span>

<span data-ttu-id="c83a9-228">En caso de copia de hello en la nube (origen y receptor de datos almacenes están en la nube de hello), no se utiliza la puerta de enlace.</span><span class="sxs-lookup"><span data-stu-id="c83a9-228">In hello cloud copy scenario (both source and sink data stores are in hello cloud), gateway is not used.</span></span> <span data-ttu-id="c83a9-229">Hola servicio factoría de datos realiza las operaciones de copia de Hola.</span><span class="sxs-lookup"><span data-stu-id="c83a9-229">hello Data Factory service performs hello copy operations.</span></span>

![Copias almacenadas provisionalmente: escenario de modelo en la nube](media/data-factory-copy-activity-performance/staged-copy-cloud-scenario.png)

<span data-ttu-id="c83a9-231">En escenario de copia de hello híbrido (origen es local y receptor está en la nube de hello), puerta de enlace de hello mueve tooa almacén de datos de almacenamiento provisional del almacén de datos de los datos de origen de Hola.</span><span class="sxs-lookup"><span data-stu-id="c83a9-231">In hello hybrid copy scenario (source is on-premises and sink is in hello cloud), hello gateway moves data from hello source data store tooa staging data store.</span></span> <span data-ttu-id="c83a9-232">Servicio de factoría de datos se mueve el almacén de datos del receptor de toohello del almacén de datos de almacenamiento provisional de datos de Hola.</span><span class="sxs-lookup"><span data-stu-id="c83a9-232">Data Factory service moves data from hello staging data store toohello sink data store.</span></span> <span data-ttu-id="c83a9-233">Copiar datos de un tooan de almacén de datos en la nube local de almacén de datos mediante almacenamiento provisional también es compatible con el flujo de hello invertida.</span><span class="sxs-lookup"><span data-stu-id="c83a9-233">Copying data from a cloud data store tooan on-premises data store via staging also is supported with hello reversed flow.</span></span>

![Copias almacenadas provisionalmente: escenario de modelo híbrido](media/data-factory-copy-activity-performance/staged-copy-hybrid-scenario.png)

<span data-ttu-id="c83a9-235">Al activar el movimiento de datos mediante el uso de un almacén de almacenamiento provisional, puede especificar si desea comprimir antes de mover los datos de origen de Hola y almacén de datos provisionales de tooan o almacén de datos de almacenamiento provisional, a continuación, se descomprimen antes de mover datos desde una versión preliminar de hello datos toobe o almacén de datos del receptor de toohello de almacén de datos de almacenamiento provisionales.</span><span class="sxs-lookup"><span data-stu-id="c83a9-235">When you activate data movement by using a staging store, you can specify whether you want hello data toobe compressed before moving data from hello source data store tooan interim or staging data store, and then decompressed before moving data from an interim or staging data store toohello sink data store.</span></span>

<span data-ttu-id="c83a9-236">Actualmente, no se pueden copiar datos entre dos almacenes de datos locales mediante almacenamiento provisional.</span><span class="sxs-lookup"><span data-stu-id="c83a9-236">Currently, you can't copy data between two on-premises data stores by using a staging store.</span></span> <span data-ttu-id="c83a9-237">Esperamos que este toobe opción disponible pronto.</span><span class="sxs-lookup"><span data-stu-id="c83a9-237">We expect this option toobe available soon.</span></span>

### <a name="configuration"></a><span data-ttu-id="c83a9-238">Configuración</span><span class="sxs-lookup"><span data-stu-id="c83a9-238">Configuration</span></span>
<span data-ttu-id="c83a9-239">Configurar hello **enableStaging** configuración de toospecify de actividad de copia si desea Hola datos toobe provisionalmente en almacenamiento de blobs antes de cargarlos en un almacén de datos de destino.</span><span class="sxs-lookup"><span data-stu-id="c83a9-239">Configure hello **enableStaging** setting in Copy Activity toospecify whether you want hello data toobe staged in Blob storage before you load it into a destination data store.</span></span> <span data-ttu-id="c83a9-240">Al establecer **enableStaging** tooTRUE, especificar propiedades adicionales de hello enumerados en la tabla siguiente Hola.</span><span class="sxs-lookup"><span data-stu-id="c83a9-240">When you set **enableStaging** tooTRUE, specify hello additional properties listed in hello next table.</span></span> <span data-ttu-id="c83a9-241">Si no tiene uno, también deberá toocreate un almacenamiento de Azure o almacenamiento compartido servicio vinculado de firma de acceso para el almacenamiento provisional.</span><span class="sxs-lookup"><span data-stu-id="c83a9-241">If you don’t have one, you also need toocreate an Azure Storage or Storage shared access signature-linked service for staging.</span></span>

| <span data-ttu-id="c83a9-242">Propiedad</span><span class="sxs-lookup"><span data-stu-id="c83a9-242">Property</span></span> | <span data-ttu-id="c83a9-243">Description</span><span class="sxs-lookup"><span data-stu-id="c83a9-243">Description</span></span> | <span data-ttu-id="c83a9-244">Valor predeterminado</span><span class="sxs-lookup"><span data-stu-id="c83a9-244">Default value</span></span> | <span data-ttu-id="c83a9-245">Obligatorio</span><span class="sxs-lookup"><span data-stu-id="c83a9-245">Required</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="c83a9-246">**enableStaging**</span><span class="sxs-lookup"><span data-stu-id="c83a9-246">**enableStaging**</span></span> |<span data-ttu-id="c83a9-247">Especifique si desea que toocopy datos a través de un provisional almacén de almacenamiento provisional.</span><span class="sxs-lookup"><span data-stu-id="c83a9-247">Specify whether you want toocopy data via an interim staging store.</span></span> |<span data-ttu-id="c83a9-248">False</span><span class="sxs-lookup"><span data-stu-id="c83a9-248">False</span></span> |<span data-ttu-id="c83a9-249">No</span><span class="sxs-lookup"><span data-stu-id="c83a9-249">No</span></span> |
| <span data-ttu-id="c83a9-250">**linkedServiceName**</span><span class="sxs-lookup"><span data-stu-id="c83a9-250">**linkedServiceName**</span></span> |<span data-ttu-id="c83a9-251">Especificar nombre de Hola de un [AzureStorage](data-factory-azure-blob-connector.md#azure-storage-linked-service) o [AzureStorageSas](data-factory-azure-blob-connector.md#azure-storage-sas-linked-service) servicio, que hace referencia la instancia de toohello de almacenamiento que usan como una ubicación de almacenamiento provisional ensayo vinculado.</span><span class="sxs-lookup"><span data-stu-id="c83a9-251">Specify hello name of an [AzureStorage](data-factory-azure-blob-connector.md#azure-storage-linked-service) or [AzureStorageSas](data-factory-azure-blob-connector.md#azure-storage-sas-linked-service) linked service, which refers toohello instance of Storage that you use as an interim staging store.</span></span> <br/><br/> <span data-ttu-id="c83a9-252">No se puede usar almacenamiento con un dato de tooload de firma de acceso compartido en almacenamiento de datos de SQL a través de PolyBase.</span><span class="sxs-lookup"><span data-stu-id="c83a9-252">You cannot use Storage with a shared access signature tooload data into SQL Data Warehouse via PolyBase.</span></span> <span data-ttu-id="c83a9-253">Puede usarlo en todos los demás casos.</span><span class="sxs-lookup"><span data-stu-id="c83a9-253">You can use it in all other scenarios.</span></span> |<span data-ttu-id="c83a9-254">N/D</span><span class="sxs-lookup"><span data-stu-id="c83a9-254">N/A</span></span> |<span data-ttu-id="c83a9-255">Sí, cuando **enableStaging** se establece tooTRUE</span><span class="sxs-lookup"><span data-stu-id="c83a9-255">Yes, when **enableStaging** is set tooTRUE</span></span> |
| <span data-ttu-id="c83a9-256">**path**</span><span class="sxs-lookup"><span data-stu-id="c83a9-256">**path**</span></span> |<span data-ttu-id="c83a9-257">Especifique la ruta de almacenamiento de blobs de Hola que desea que los datos de hello provisionalmente toocontain.</span><span class="sxs-lookup"><span data-stu-id="c83a9-257">Specify hello Blob storage path that you want toocontain hello staged data.</span></span> <span data-ttu-id="c83a9-258">Si no se proporciona una ruta de acceso, el servicio de hello crea un contenedor toostore los datos temporales.</span><span class="sxs-lookup"><span data-stu-id="c83a9-258">If you do not provide a path, hello service creates a container toostore temporary data.</span></span> <br/><br/> <span data-ttu-id="c83a9-259">Especifique una ruta de acceso solo si usar almacenamiento con una firma de acceso compartido, o si necesita toobe de datos temporales en una ubicación específica.</span><span class="sxs-lookup"><span data-stu-id="c83a9-259">Specify a path only if you use Storage with a shared access signature, or you require temporary data toobe in a specific location.</span></span> |<span data-ttu-id="c83a9-260">N/D</span><span class="sxs-lookup"><span data-stu-id="c83a9-260">N/A</span></span> |<span data-ttu-id="c83a9-261">No</span><span class="sxs-lookup"><span data-stu-id="c83a9-261">No</span></span> |
| <span data-ttu-id="c83a9-262">**enableCompression**</span><span class="sxs-lookup"><span data-stu-id="c83a9-262">**enableCompression**</span></span> |<span data-ttu-id="c83a9-263">Especifica si se deben comprimir los datos antes de que se copian toohello destino.</span><span class="sxs-lookup"><span data-stu-id="c83a9-263">Specifies whether data should be compressed before it is copied toohello destination.</span></span> <span data-ttu-id="c83a9-264">Esta configuración reduce el volumen de Hola de datos que se transfieren.</span><span class="sxs-lookup"><span data-stu-id="c83a9-264">This setting reduces hello volume of data being transferred.</span></span> |<span data-ttu-id="c83a9-265">False</span><span class="sxs-lookup"><span data-stu-id="c83a9-265">False</span></span> |<span data-ttu-id="c83a9-266">No</span><span class="sxs-lookup"><span data-stu-id="c83a9-266">No</span></span> |

<span data-ttu-id="c83a9-267">Aquí es una definición de ejemplo de actividad de copia con propiedades de Hola que se describen en la tabla anterior de hello:</span><span class="sxs-lookup"><span data-stu-id="c83a9-267">Here's a sample definition of Copy Activity with hello properties that are described in hello preceding table:</span></span>

```json
"activities":[  
{
    "name": "Sample copy activity",
    "type": "Copy",
    "inputs": [{ "name": "OnpremisesSQLServerInput" }],
    "outputs": [{ "name": "AzureSQLDBOutput" }],
    "typeProperties": {
        "source": {
            "type": "SqlSource",
        },
        "sink": {
            "type": "SqlSink"
        },
        "enableStaging": true,
        "stagingSettings": {
            "linkedServiceName": "MyStagingBlob",
            "path": "stagingcontainer/path",
            "enableCompression": true
        }
    }
}
]
```

### <a name="billing-impact"></a><span data-ttu-id="c83a9-268">Impacto en la facturación</span><span class="sxs-lookup"><span data-stu-id="c83a9-268">Billing impact</span></span>
<span data-ttu-id="c83a9-269">Los cargos que se le realizan se basan en dos elementos: duración de la copia y tipo de copia.</span><span class="sxs-lookup"><span data-stu-id="c83a9-269">You are charged based on two steps: copy duration and copy type.</span></span>

* <span data-ttu-id="c83a9-270">Cuando se usa durante la copia de nube (copiar datos desde un almacén de datos en la nube datos almacén tooanother en la nube), de almacenamiento provisional se cargan Hola [suma de la duración de la copia de los pasos 1 y 2] x [precio de unidad de copia de nube].</span><span class="sxs-lookup"><span data-stu-id="c83a9-270">When you use staging during a cloud copy (copying data from a cloud data store tooanother cloud data store), you are charged hello [sum of copy duration for step 1 and step 2] x [cloud copy unit price].</span></span>
* <span data-ttu-id="c83a9-271">Cuando se usa almacenamiento provisional durante la copia híbrida (copiar datos desde un almacén de datos local datos almacén tooa en la nube), se le cobra por [duración de la copia híbrida] x [precio por unidad copia híbrida] + [duración de la copia en la nube] x [precio de unidad de copia de nube].</span><span class="sxs-lookup"><span data-stu-id="c83a9-271">When you use staging during a hybrid copy (copying data from an on-premises data store tooa cloud data store), you are charged for [hybrid copy duration] x [hybrid copy unit price] + [cloud copy duration] x [cloud copy unit price].</span></span>

## <a name="performance-tuning-steps"></a><span data-ttu-id="c83a9-272">Pasos de optimización del rendimiento</span><span class="sxs-lookup"><span data-stu-id="c83a9-272">Performance tuning steps</span></span>
<span data-ttu-id="c83a9-273">Se recomienda que realice estos pasos rendimiento de hello tootune del servicio en la factoría de datos con la actividad de copia:</span><span class="sxs-lookup"><span data-stu-id="c83a9-273">We suggest that you take these steps tootune hello performance of your Data Factory service with Copy Activity:</span></span>

1. <span data-ttu-id="c83a9-274">**Establezca una línea base**.</span><span class="sxs-lookup"><span data-stu-id="c83a9-274">**Establish a baseline**.</span></span> <span data-ttu-id="c83a9-275">Durante la fase de desarrollo de hello, probar la canalización mediante el uso de actividad de copia en una muestra representativa de datos.</span><span class="sxs-lookup"><span data-stu-id="c83a9-275">During hello development phase, test your pipeline by using Copy Activity against a representative data sample.</span></span> <span data-ttu-id="c83a9-276">Puede usar hello factoría de datos [segmentación modelo](data-factory-scheduling-and-execution.md) cantidad de hello toolimit de datos, trabajar con.</span><span class="sxs-lookup"><span data-stu-id="c83a9-276">You can use hello Data Factory [slicing model](data-factory-scheduling-and-execution.md) toolimit hello amount of data you work with.</span></span>

   <span data-ttu-id="c83a9-277">Recopilar tiempo de ejecución y características de rendimiento mediante hello **supervisión y administración de aplicaciones**.</span><span class="sxs-lookup"><span data-stu-id="c83a9-277">Collect execution time and performance characteristics by using hello **Monitoring and Management App**.</span></span> <span data-ttu-id="c83a9-278">Elija **Supervisión y administración** en la página de inicio de Data Factory.</span><span class="sxs-lookup"><span data-stu-id="c83a9-278">Choose **Monitor & Manage** on your Data Factory home page.</span></span> <span data-ttu-id="c83a9-279">En la vista de árbol de hello, elija hello **conjunto de datos de salida**.</span><span class="sxs-lookup"><span data-stu-id="c83a9-279">In hello tree view, choose hello **output dataset**.</span></span> <span data-ttu-id="c83a9-280">Hola **Windows actividad** elija Hola de ejecución de la actividad de copia.</span><span class="sxs-lookup"><span data-stu-id="c83a9-280">In hello **Activity Windows** list, choose hello Copy Activity run.</span></span> <span data-ttu-id="c83a9-281">**Ventanas de la actividad** muestra la duración de la actividad de copia de Hola y el tamaño de Hola de datos de Hola que se copian.</span><span class="sxs-lookup"><span data-stu-id="c83a9-281">**Activity Windows** lists hello Copy Activity duration and hello size of hello data that's copied.</span></span> <span data-ttu-id="c83a9-282">rendimiento de Hello aparece en **Explorer de la ventana de actividad**.</span><span class="sxs-lookup"><span data-stu-id="c83a9-282">hello throughput is listed in **Activity Window Explorer**.</span></span> <span data-ttu-id="c83a9-283">toolearn más información acerca de la aplicación hello, consulte [supervisar y administrar las canalizaciones de factoría de datos de Azure mediante el uso de Hola supervisión y administración de aplicaciones](data-factory-monitor-manage-app.md).</span><span class="sxs-lookup"><span data-stu-id="c83a9-283">toolearn more about hello app, see [Monitor and manage Azure Data Factory pipelines by using hello Monitoring and Management App](data-factory-monitor-manage-app.md).</span></span>

   ![Detalles de ejecución de actividad](./media/data-factory-copy-activity-performance/mmapp-activity-run-details.png)

   <span data-ttu-id="c83a9-285">Más adelante en el artículo de hello, puede comparar el rendimiento de Hola y la configuración del su escenario tooCopy actividad [referencia de rendimiento](#performance-reference) de nuestras pruebas.</span><span class="sxs-lookup"><span data-stu-id="c83a9-285">Later in hello article, you can compare hello performance and configuration of your scenario tooCopy Activity’s [performance reference](#performance-reference) from our tests.</span></span>
2. <span data-ttu-id="c83a9-286">**Diagnostique y optimice el rendimiento**.</span><span class="sxs-lookup"><span data-stu-id="c83a9-286">**Diagnose and optimize performance**.</span></span> <span data-ttu-id="c83a9-287">Si observa de rendimiento de hello no cumple sus expectativas, deberá tooidentify cuellos de botella de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="c83a9-287">If hello performance you observe doesn't meet your expectations, you need tooidentify performance bottlenecks.</span></span> <span data-ttu-id="c83a9-288">A continuación, optimizar el rendimiento tooremove o reducir el efecto de Hola de cuellos de botella.</span><span class="sxs-lookup"><span data-stu-id="c83a9-288">Then, optimize performance tooremove or reduce hello effect of bottlenecks.</span></span> <span data-ttu-id="c83a9-289">Una descripción completa de diagnóstico de rendimiento es más allá del ámbito de Hola de este artículo, pero estas son algunas consideraciones comunes:</span><span class="sxs-lookup"><span data-stu-id="c83a9-289">A full description of performance diagnosis is beyond hello scope of this article, but here are some common considerations:</span></span>

   * <span data-ttu-id="c83a9-290">Características de rendimiento:</span><span class="sxs-lookup"><span data-stu-id="c83a9-290">Performance features:</span></span>
     * [<span data-ttu-id="c83a9-291">Copia paralela</span><span class="sxs-lookup"><span data-stu-id="c83a9-291">Parallel copy</span></span>](#parallel-copy)
     * [<span data-ttu-id="c83a9-292">Unidades de movimiento de datos de nube</span><span class="sxs-lookup"><span data-stu-id="c83a9-292">Cloud data movement units</span></span>](#cloud-data-movement-units)
     * [<span data-ttu-id="c83a9-293">Copias almacenadas provisionalmente</span><span class="sxs-lookup"><span data-stu-id="c83a9-293">Staged copy</span></span>](#staged-copy)
     * [<span data-ttu-id="c83a9-294">Escalabilidad de Data Management Gateway</span><span class="sxs-lookup"><span data-stu-id="c83a9-294">Data Management Gateway scalability</span></span>](data-factory-data-management-gateway-high-availability-scalability.md)
   * [<span data-ttu-id="c83a9-295">Data Management Gateway</span><span class="sxs-lookup"><span data-stu-id="c83a9-295">Data Management Gateway</span></span>](#considerations-for-data-management-gateway)
   * [<span data-ttu-id="c83a9-296">Origen</span><span class="sxs-lookup"><span data-stu-id="c83a9-296">Source</span></span>](#considerations-for-the-source)
   * [<span data-ttu-id="c83a9-297">Sink</span><span class="sxs-lookup"><span data-stu-id="c83a9-297">Sink</span></span>](#considerations-for-the-sink)
   * [<span data-ttu-id="c83a9-298">Serialización y deserialización</span><span class="sxs-lookup"><span data-stu-id="c83a9-298">Serialization and deserialization</span></span>](#considerations-for-serialization-and-deserialization)
   * [<span data-ttu-id="c83a9-299">Compresión</span><span class="sxs-lookup"><span data-stu-id="c83a9-299">Compression</span></span>](#considerations-for-compression)
   * [<span data-ttu-id="c83a9-300">Asignación de columnas</span><span class="sxs-lookup"><span data-stu-id="c83a9-300">Column mapping</span></span>](#considerations-for-column-mapping)
   * [<span data-ttu-id="c83a9-301">Otras consideraciones</span><span class="sxs-lookup"><span data-stu-id="c83a9-301">Other considerations</span></span>](#other-considerations)
3. <span data-ttu-id="c83a9-302">**Expanda el conjunto de datos completo de hello configuración tooyour**.</span><span class="sxs-lookup"><span data-stu-id="c83a9-302">**Expand hello configuration tooyour entire data set**.</span></span> <span data-ttu-id="c83a9-303">Cuando esté satisfecho con el rendimiento y resultados de la ejecución de hello, puede expandir la definición de Hola y toocover período activo de canalización de todo el conjunto de datos.</span><span class="sxs-lookup"><span data-stu-id="c83a9-303">When you're satisfied with hello execution results and performance, you can expand hello definition and pipeline active period toocover your entire data set.</span></span>

## <a name="considerations-for-data-management-gateway"></a><span data-ttu-id="c83a9-304">Consideraciones sobre Data Management Gateway</span><span class="sxs-lookup"><span data-stu-id="c83a9-304">Considerations for Data Management Gateway</span></span>
<span data-ttu-id="c83a9-305">**El programa de instalación de puerta de enlace**: le recomendamos que use un toohost máquina dedicada Data Management Gateway.</span><span class="sxs-lookup"><span data-stu-id="c83a9-305">**Gateway setup**: We recommend that you use a dedicated machine toohost Data Management Gateway.</span></span> <span data-ttu-id="c83a9-306">Vea [Consideraciones sobre el uso de Data Management Gateway](data-factory-data-management-gateway.md#considerations-for-using-gateway).</span><span class="sxs-lookup"><span data-stu-id="c83a9-306">See [Considerations for using Data Management Gateway](data-factory-data-management-gateway.md#considerations-for-using-gateway).</span></span>  

<span data-ttu-id="c83a9-307">**Supervisión de la puerta de enlace y la escala-vertical u horizontalmente**: una sola puerta de enlace lógica con uno o más nodos de puerta de enlace puede servir varias actividades de copia se ejecuta en hello mismo tiempo al mismo tiempo.</span><span class="sxs-lookup"><span data-stu-id="c83a9-307">**Gateway monitoring and scale-up/out**: A single logical gateway with one or more gateway nodes can serve multiple Copy Activity runs at hello same time concurrently.</span></span> <span data-ttu-id="c83a9-308">Puede ver instantánea casi en tiempo real de la utilización de recursos (CPU, memoria, network(in/out), etc.) en un equipo de puerta de enlace así como ver el número de Hola de trabajos simultáneos frente a Hola portal de Azure, el límite de [puerta de enlace de Monitor en el portal de hello](data-factory-data-management-gateway.md#monitor-gateway-in-the-portal).</span><span class="sxs-lookup"><span data-stu-id="c83a9-308">You can view near-real time snapshot of resource utilization (CPU, memory, network(in/out), etc.) on a gateway machine as well as hello number of concurrent jobs running versus limit in hello Azure portal, see [Monitor gateway in hello portal](data-factory-data-management-gateway.md#monitor-gateway-in-the-portal).</span></span> <span data-ttu-id="c83a9-309">Si tiene necesidad de mucha en movimiento de datos híbridos con gran número de ejecuciones de actividad de copia simultánea o con gran volumen de datos toocopy, considere la posibilidad de demasiado[escalar en horizontal como puerta de enlace](data-factory-data-management-gateway-high-availability-scalability.md#scale-considerations) así como toobetter utilizar el recurso o copiar de tooprovision más tooempower de recursos.</span><span class="sxs-lookup"><span data-stu-id="c83a9-309">If you have heavy need on hybrid data movement either with large number of concurrent copy activity runs or with large volume of data toocopy, consider too[scale up or scale out gateway](data-factory-data-management-gateway-high-availability-scalability.md#scale-considerations) so as toobetter utilize your resource or tooprovision more resource tooempower copy.</span></span> 

## <a name="considerations-for-hello-source"></a><span data-ttu-id="c83a9-310">Consideraciones para el origen de Hola</span><span class="sxs-lookup"><span data-stu-id="c83a9-310">Considerations for hello source</span></span>
### <a name="general"></a><span data-ttu-id="c83a9-311">General</span><span class="sxs-lookup"><span data-stu-id="c83a9-311">General</span></span>
<span data-ttu-id="c83a9-312">Asegúrese de que Hola subyacente de almacén de datos no se desborda con otras cargas de trabajo que se ejecutan en o en el mismo.</span><span class="sxs-lookup"><span data-stu-id="c83a9-312">Be sure that hello underlying data store is not overwhelmed by other workloads that are running on or against it.</span></span>

<span data-ttu-id="c83a9-313">En los almacenes de datos de Microsoft, consulte [de supervisión y optimización temas](#performance-reference) que son almacenes toodata específico y ayudará a comprender los datos almacenan las características de rendimiento, minimizar los tiempos de respuesta y maximizar el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="c83a9-313">For Microsoft data stores, see [monitoring and tuning topics](#performance-reference) that are specific toodata stores, and help you understand data store performance characteristics, minimize response times, and maximize throughput.</span></span>

<span data-ttu-id="c83a9-314">Si copia datos de almacenamiento de blobs tooSQL almacenamiento de datos, considere el uso de **PolyBase** tooboost rendimiento.</span><span class="sxs-lookup"><span data-stu-id="c83a9-314">If you copy data from Blob storage tooSQL Data Warehouse, consider using **PolyBase** tooboost performance.</span></span> <span data-ttu-id="c83a9-315">Vea [datos de uso PolyBase tooload en almacenamiento de datos de SQL Azure](data-factory-azure-sql-data-warehouse-connector.md#use-polybase-to-load-data-into-azure-sql-data-warehouse) para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="c83a9-315">See [Use PolyBase tooload data into Azure SQL Data Warehouse](data-factory-azure-sql-data-warehouse-connector.md#use-polybase-to-load-data-into-azure-sql-data-warehouse) for details.</span></span> <span data-ttu-id="c83a9-316">Para un tutorial con un caso de uso, consulte [Load 1 TB into Azure SQL Data Warehouse under 15 minutes with Azure Data Factory](data-factory-load-sql-data-warehouse.md) (Carga de 1 TB en Azure SQL Data Warehouse en 15 minutos con Azure Data Factory).</span><span class="sxs-lookup"><span data-stu-id="c83a9-316">For a walkthrough with a use case, see [Load 1 TB into Azure SQL Data Warehouse under 15 minutes with Azure Data Factory](data-factory-load-sql-data-warehouse.md).</span></span>

### <a name="file-based-data-stores"></a><span data-ttu-id="c83a9-317">Almacenes de datos basados en archivos</span><span class="sxs-lookup"><span data-stu-id="c83a9-317">File-based data stores</span></span>
<span data-ttu-id="c83a9-318">*(Incluye Blob Storage, Data Lake Store, Amazon S3, sistemas de archivos locales y HDFS local)*</span><span class="sxs-lookup"><span data-stu-id="c83a9-318">*(Includes Blob storage, Data Lake Store, Amazon S3, on-premises file systems, and on-premises HDFS)*</span></span>

* <span data-ttu-id="c83a9-319">**Tamaño de archivo medio y número de archivos**: la actividad de copia transfiere datos de archivo en archivo.</span><span class="sxs-lookup"><span data-stu-id="c83a9-319">**Average file size and file count**: Copy Activity transfers data one file at a time.</span></span> <span data-ttu-id="c83a9-320">Con hello movido de la misma cantidad de datos toobe, hello el rendimiento global es más bajo si datos Hola consisten de muchos archivos pequeños en lugar de unos pocos archivos grandes debido toohello fase de arranque para cada archivo.</span><span class="sxs-lookup"><span data-stu-id="c83a9-320">With hello same amount of data toobe moved, hello overall throughput is lower if hello data consists of many small files rather than a few large files due toohello bootstrap phase for each file.</span></span> <span data-ttu-id="c83a9-321">Por lo tanto, si es posible, combinar archivos pequeños en mayor rendimiento mayor toogain de archivos.</span><span class="sxs-lookup"><span data-stu-id="c83a9-321">Therefore, if possible, combine small files into larger files toogain higher throughput.</span></span>
* <span data-ttu-id="c83a9-322">**Formato y compresión de archivos**: para más rendimiento tooimprove de formas, vea hello [consideraciones para la serialización y deserialización](#considerations-for-serialization-and-deserialization) y [consideraciones para la compresión](#considerations-for-compression) secciones.</span><span class="sxs-lookup"><span data-stu-id="c83a9-322">**File format and compression**: For more ways tooimprove performance, see hello [Considerations for serialization and deserialization](#considerations-for-serialization-and-deserialization) and [Considerations for compression](#considerations-for-compression) sections.</span></span>
* <span data-ttu-id="c83a9-323">Para hello **sistema de archivos local** escenario en el que **Data Management Gateway** es requerido, vea hello [consideraciones para Data Management Gateway](#considerations-for-data-management-gateway) sección.</span><span class="sxs-lookup"><span data-stu-id="c83a9-323">For hello **on-premises file system** scenario, in which **Data Management Gateway** is required, see hello [Considerations for Data Management Gateway](#considerations-for-data-management-gateway) section.</span></span>

### <a name="relational-data-stores"></a><span data-ttu-id="c83a9-324">Almacenes de datos relacionales</span><span class="sxs-lookup"><span data-stu-id="c83a9-324">Relational data stores</span></span>
<span data-ttu-id="c83a9-325">*(Incluye SQL Database, SQL Data Warehouse, Amazon Redshift, bases de datos SQL Server y Oracle, MySQL, DB2, Teradata, Sybase y bases de datos PostgreSQL, etc.)*</span><span class="sxs-lookup"><span data-stu-id="c83a9-325">*(Includes SQL Database; SQL Data Warehouse; Amazon Redshift; SQL Server databases; and Oracle, MySQL, DB2, Teradata, Sybase, and PostgreSQL databases, etc.)*</span></span>

* <span data-ttu-id="c83a9-326">**Patrón de datos**: el esquema de tabla afecta al rendimiento de la copia.</span><span class="sxs-lookup"><span data-stu-id="c83a9-326">**Data pattern**: Your table schema affects copy throughput.</span></span> <span data-ttu-id="c83a9-327">Un tamaño de fila grande le ofrece un mejor rendimiento que el tamaño de fila pequeños, toocopy Hola la misma cantidad de datos.</span><span class="sxs-lookup"><span data-stu-id="c83a9-327">A large row size gives you a better performance than small row size, toocopy hello same amount of data.</span></span> <span data-ttu-id="c83a9-328">motivo de Hello es que esa base de datos de hello puede recuperar más eficazmente menos lotes de datos que contienen menos filas.</span><span class="sxs-lookup"><span data-stu-id="c83a9-328">hello reason is that hello database can more efficiently retrieve fewer batches of data that contain fewer rows.</span></span>
* <span data-ttu-id="c83a9-329">**Consulta o procedimiento almacenado**: optimizar Hola la lógica de consulta de Hola o procedimiento almacenado que especifique en los datos de toofetch de origen de actividad de copia de hello más eficazmente.</span><span class="sxs-lookup"><span data-stu-id="c83a9-329">**Query or stored procedure**: Optimize hello logic of hello query or stored procedure you specify in hello Copy Activity source toofetch data more efficiently.</span></span>
* <span data-ttu-id="c83a9-330">Para **bases de datos relacionales local**, como SQL Server y Oracle, que requieren el uso de Hola de **Data Management Gateway**, vea hello [consideraciones para Data Management Gateway](#considerations-on-data-management-gateway) sección.</span><span class="sxs-lookup"><span data-stu-id="c83a9-330">For **on-premises relational databases**, such as SQL Server and Oracle, which require hello use of **Data Management Gateway**, see hello [Considerations for Data Management Gateway](#considerations-on-data-management-gateway) section.</span></span>

## <a name="considerations-for-hello-sink"></a><span data-ttu-id="c83a9-331">Consideraciones para el receptor de Hola</span><span class="sxs-lookup"><span data-stu-id="c83a9-331">Considerations for hello sink</span></span>
### <a name="general"></a><span data-ttu-id="c83a9-332">General</span><span class="sxs-lookup"><span data-stu-id="c83a9-332">General</span></span>
<span data-ttu-id="c83a9-333">Asegúrese de que Hola subyacente de almacén de datos no se desborda con otras cargas de trabajo que se ejecutan en o en el mismo.</span><span class="sxs-lookup"><span data-stu-id="c83a9-333">Be sure that hello underlying data store is not overwhelmed by other workloads that are running on or against it.</span></span>

<span data-ttu-id="c83a9-334">En los almacenes de datos de Microsoft, consulte demasiado[de supervisión y optimización temas](#performance-reference) que son almacenes de toodata específico.</span><span class="sxs-lookup"><span data-stu-id="c83a9-334">For Microsoft data stores, refer too[monitoring and tuning topics](#performance-reference) that are specific toodata stores.</span></span> <span data-ttu-id="c83a9-335">Estos temas pueden ayudarle a entender las características de rendimiento de almacén de datos y cómo el tiempo de respuesta de toominimize y maximizar el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="c83a9-335">These topics can help you understand data store performance characteristics and how toominimize response times and maximize throughput.</span></span>

<span data-ttu-id="c83a9-336">Si va a copiar datos de **almacenamiento de blobs** demasiado**almacenamiento de datos SQL**, considere el uso de **PolyBase** tooboost rendimiento.</span><span class="sxs-lookup"><span data-stu-id="c83a9-336">If you are copying data from **Blob storage** too**SQL Data Warehouse**, consider using **PolyBase** tooboost performance.</span></span> <span data-ttu-id="c83a9-337">Vea [datos de uso PolyBase tooload en almacenamiento de datos de SQL Azure](data-factory-azure-sql-data-warehouse-connector.md#use-polybase-to-load-data-into-azure-sql-data-warehouse) para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="c83a9-337">See [Use PolyBase tooload data into Azure SQL Data Warehouse](data-factory-azure-sql-data-warehouse-connector.md#use-polybase-to-load-data-into-azure-sql-data-warehouse) for details.</span></span> <span data-ttu-id="c83a9-338">Para un tutorial con un caso de uso, consulte [Load 1 TB into Azure SQL Data Warehouse under 15 minutes with Azure Data Factory](data-factory-load-sql-data-warehouse.md) (Carga de 1 TB en Azure SQL Data Warehouse en 15 minutos con Azure Data Factory).</span><span class="sxs-lookup"><span data-stu-id="c83a9-338">For a walkthrough with a use case, see [Load 1 TB into Azure SQL Data Warehouse under 15 minutes with Azure Data Factory](data-factory-load-sql-data-warehouse.md).</span></span>

### <a name="file-based-data-stores"></a><span data-ttu-id="c83a9-339">Almacenes de datos basados en archivos</span><span class="sxs-lookup"><span data-stu-id="c83a9-339">File-based data stores</span></span>
<span data-ttu-id="c83a9-340">*(Incluye Blob Storage, Data Lake Store, Amazon S3, sistemas de archivos locales y HDFS local)*</span><span class="sxs-lookup"><span data-stu-id="c83a9-340">*(Includes Blob storage, Data Lake Store, Amazon S3, on-premises file systems, and on-premises HDFS)*</span></span>

* <span data-ttu-id="c83a9-341">**Copiar comportamiento**: si se copian datos desde un almacén de datos basados en archivos diferentes, actividad de copia tiene tres opciones a través de hello **copyBehavior** propiedad.</span><span class="sxs-lookup"><span data-stu-id="c83a9-341">**Copy behavior**: If you copy data from a different file-based data store, Copy Activity has three options via hello **copyBehavior** property.</span></span> <span data-ttu-id="c83a9-342">Conserva la jerarquía, aplana la jerarquía o combina archivos.</span><span class="sxs-lookup"><span data-stu-id="c83a9-342">It preserves hierarchy, flattens hierarchy, or merges files.</span></span> <span data-ttu-id="c83a9-343">Conservar o eliminar la estructura de jerarquía tiene poca o ninguna sobrecarga de rendimiento, pero combinar archivos hace tooincrease sobrecarga de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="c83a9-343">Either preserving or flattening hierarchy has little or no performance overhead, but merging files causes performance overhead tooincrease.</span></span>
* <span data-ttu-id="c83a9-344">**Formato y compresión de archivos**: vea hello [consideraciones para la serialización y deserialización](#considerations-for-serialization-and-deserialization) y [consideraciones para la compresión](#considerations-for-compression) secciones para más rendimiento tooimprove de formas .</span><span class="sxs-lookup"><span data-stu-id="c83a9-344">**File format and compression**: See hello [Considerations for serialization and deserialization](#considerations-for-serialization-and-deserialization) and [Considerations for compression](#considerations-for-compression) sections for more ways tooimprove performance.</span></span>
* <span data-ttu-id="c83a9-345">**Almacenamiento de blobs**: actualmente, Almacenamiento de blobs solo admite blobs en bloques para optimizar la transferencia de datos y el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="c83a9-345">**Blob storage**: Currently, Blob storage supports only block blobs for optimized data transfer and throughput.</span></span>
* <span data-ttu-id="c83a9-346">Para **sistemas de archivos local** escenarios que requieren el uso de Hola de **Data Management Gateway**, vea hello [consideraciones para Data Management Gateway](#considerations-for-data-management-gateway) sección.</span><span class="sxs-lookup"><span data-stu-id="c83a9-346">For **on-premises file systems** scenarios that require hello use of **Data Management Gateway**, see hello [Considerations for Data Management Gateway](#considerations-for-data-management-gateway) section.</span></span>

### <a name="relational-data-stores"></a><span data-ttu-id="c83a9-347">Almacenes de datos relacionales</span><span class="sxs-lookup"><span data-stu-id="c83a9-347">Relational data stores</span></span>
<span data-ttu-id="c83a9-348">*(Incluye SQL Database, SQL Data Warehouse, bases de datos SQL Server y bases de datos Oracle)*</span><span class="sxs-lookup"><span data-stu-id="c83a9-348">*(Includes SQL Database, SQL Data Warehouse, SQL Server databases, and Oracle databases)*</span></span>

* <span data-ttu-id="c83a9-349">**Copiar comportamiento**: según propiedades de Hola que ha establecido para **sqlSink**, actividad de copia escribe la base de datos de destino de toohello de datos de maneras diferentes.</span><span class="sxs-lookup"><span data-stu-id="c83a9-349">**Copy behavior**: Depending on hello properties you've set for **sqlSink**, Copy Activity writes data toohello destination database in different ways.</span></span>
  * <span data-ttu-id="c83a9-350">De forma predeterminada, Hola datos movimiento servicio usa datos de tooinsert Hola API de copia masiva en modo append, que proporciona Hola obtener el mejor rendimiento.</span><span class="sxs-lookup"><span data-stu-id="c83a9-350">By default, hello data movement service uses hello Bulk Copy API tooinsert data in append mode, which provides hello best performance.</span></span>
  * <span data-ttu-id="c83a9-351">Si configura un procedimiento almacenado en el receptor de hello, base de datos de Hola aplica a una fila de datos de Hola a la vez en lugar de como una carga masiva.</span><span class="sxs-lookup"><span data-stu-id="c83a9-351">If you configure a stored procedure in hello sink, hello database applies hello data one row at a time instead of as a bulk load.</span></span> <span data-ttu-id="c83a9-352">El rendimiento disminuye considerablemente.</span><span class="sxs-lookup"><span data-stu-id="c83a9-352">Performance drops significantly.</span></span> <span data-ttu-id="c83a9-353">Si el conjunto de datos es grande, cuando sea aplicable, considere la posibilidad de hello toousing **sqlWriterCleanupScript** propiedad.</span><span class="sxs-lookup"><span data-stu-id="c83a9-353">If your data set is large, when applicable, consider switching toousing hello **sqlWriterCleanupScript** property.</span></span>
  * <span data-ttu-id="c83a9-354">Si configura hello **sqlWriterCleanupScript** ejecutar propiedad para cada actividad de copia, los desencadenadores de servicio de Hola Hola script y, a continuación, utilizar datos de saludo API de copia masiva tooinsert Hola.</span><span class="sxs-lookup"><span data-stu-id="c83a9-354">If you configure hello **sqlWriterCleanupScript** property for each Copy Activity run, hello service triggers hello script, and then you use hello Bulk Copy API tooinsert hello data.</span></span> <span data-ttu-id="c83a9-355">Por ejemplo, toooverwrite Hola toda la tabla con datos más recientes de hello, puede especificar un script toofirst eliminar todos los registros antes de nuevos datos de carga masiva Hola de origen de Hola.</span><span class="sxs-lookup"><span data-stu-id="c83a9-355">For example, toooverwrite hello entire table with hello latest data, you can specify a script toofirst delete all records before bulk-loading hello new data from hello source.</span></span>
* <span data-ttu-id="c83a9-356">**Patrón de datos y tamaño de lote**:</span><span class="sxs-lookup"><span data-stu-id="c83a9-356">**Data pattern and batch size**:</span></span>
  * <span data-ttu-id="c83a9-357">El esquema de tabla afecta al rendimiento de la copia.</span><span class="sxs-lookup"><span data-stu-id="c83a9-357">Your table schema affects copy throughput.</span></span> <span data-ttu-id="c83a9-358">toocopy Hola la misma cantidad de datos, un tamaño de fila grande proporciona mejor rendimiento que un tamaño de fila pequeños porque la base de datos de hello más eficazmente puede confirmar menos lotes de datos.</span><span class="sxs-lookup"><span data-stu-id="c83a9-358">toocopy hello same amount of data, a large row size gives you better performance than a small row size because hello database can more efficiently commit fewer batches of data.</span></span>
  * <span data-ttu-id="c83a9-359">La actividad de copia inserta datos en una serie de lotes.</span><span class="sxs-lookup"><span data-stu-id="c83a9-359">Copy Activity inserts data in a series of batches.</span></span> <span data-ttu-id="c83a9-360">Puede establecer Hola número de filas en un lote mediante el uso de hello **valor writeBatchSize** propiedad.</span><span class="sxs-lookup"><span data-stu-id="c83a9-360">You can set hello number of rows in a batch by using hello **writeBatchSize** property.</span></span> <span data-ttu-id="c83a9-361">Si los datos tienen filas pequeño, puede establecer hello **valor writeBatchSize** propiedad con un toobenefit de valor superior de la sobrecarga de lote menor y mayor rendimiento.</span><span class="sxs-lookup"><span data-stu-id="c83a9-361">If your data has small rows, you can set hello **writeBatchSize** property with a higher value toobenefit from lower batch overhead and higher throughput.</span></span> <span data-ttu-id="c83a9-362">Si el tamaño de fila de Hola de los datos es grande, tenga cuidado al aumentar **valor writeBatchSize**.</span><span class="sxs-lookup"><span data-stu-id="c83a9-362">If hello row size of your data is large, be careful when you increase **writeBatchSize**.</span></span> <span data-ttu-id="c83a9-363">Un valor alto podría provocar el error de copia tooa mediante la sobrecarga de la base de datos de Hola.</span><span class="sxs-lookup"><span data-stu-id="c83a9-363">A high value might lead tooa copy failure caused by overloading hello database.</span></span>
* <span data-ttu-id="c83a9-364">Para **bases de datos relacionales local** , como SQL Server y Oracle, que requieren el uso de Hola de **Data Management Gateway**, vea hello [consideraciones para Data Management Gateway](#considerations-for-data-management-gateway) sección.</span><span class="sxs-lookup"><span data-stu-id="c83a9-364">For **on-premises relational databases** like SQL Server and Oracle, which require hello use of **Data Management Gateway**, see hello [Considerations for Data Management Gateway](#considerations-for-data-management-gateway) section.</span></span>

### <a name="nosql-stores"></a><span data-ttu-id="c83a9-365">Almacenes NoSQL</span><span class="sxs-lookup"><span data-stu-id="c83a9-365">NoSQL stores</span></span>
<span data-ttu-id="c83a9-366">*(Incluye Table Storage y Azure Cosmos DB)*</span><span class="sxs-lookup"><span data-stu-id="c83a9-366">*(Includes Table storage and Azure Cosmos DB )*</span></span>

* <span data-ttu-id="c83a9-367">Para **Almacenamiento de tablas**:</span><span class="sxs-lookup"><span data-stu-id="c83a9-367">For **Table storage**:</span></span>
  * <span data-ttu-id="c83a9-368">**Partición**: escribir particiones de datos toointerleaved drásticamente degrada el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="c83a9-368">**Partition**: Writing data toointerleaved partitions dramatically degrades performance.</span></span> <span data-ttu-id="c83a9-369">Ordenar los datos de origen por la clave de partición para que los datos de Hola se insertan eficazmente en una partición después de otro, o ajustar Hola lógica toowrite Hola datos tooa única partición.</span><span class="sxs-lookup"><span data-stu-id="c83a9-369">Sort your source data by partition key so that hello data is inserted efficiently into one partition after another, or adjust hello logic toowrite hello data tooa single partition.</span></span>
* <span data-ttu-id="c83a9-370">Para **Azure Cosmos DB**:</span><span class="sxs-lookup"><span data-stu-id="c83a9-370">For **Azure Cosmos DB**:</span></span>
  * <span data-ttu-id="c83a9-371">**Tamaño del lote**: Hola **valor writeBatchSize** propiedad establece el número de Hola de las solicitudes paralelas documentos de toocreate de servicio de base de datos de Azure Cosmos toohello.</span><span class="sxs-lookup"><span data-stu-id="c83a9-371">**Batch size**: hello **writeBatchSize** property sets hello number of parallel requests toohello Azure Cosmos DB service toocreate documents.</span></span> <span data-ttu-id="c83a9-372">Puede esperar un rendimiento mejor al aumentar **valor writeBatchSize** porque más de las solicitudes paralelas se envían tooAzure Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="c83a9-372">You can expect better performance when you increase **writeBatchSize** because more parallel requests are sent tooAzure Cosmos DB.</span></span> <span data-ttu-id="c83a9-373">Sin embargo, espere a que la limitación cuando se escribe tooAzure Cosmos DB (mensaje de error de hello es "Solicitud velocidad es grande").</span><span class="sxs-lookup"><span data-stu-id="c83a9-373">However, watch for throttling when you write tooAzure Cosmos DB (hello error message is "Request rate is large").</span></span> <span data-ttu-id="c83a9-374">Varios factores pueden provocar una limitación, incluido el tamaño del documento, número de Hola de términos en documentos de hello y Hola directiva de indexación de la colección de destino.</span><span class="sxs-lookup"><span data-stu-id="c83a9-374">Various factors can cause throttling, including document size, hello number of terms in hello documents, and hello target collection's indexing policy.</span></span> <span data-ttu-id="c83a9-375">tooachieve un mayor rendimiento de copia, considere el uso de una colección mejor, por ejemplo, S3.</span><span class="sxs-lookup"><span data-stu-id="c83a9-375">tooachieve higher copy throughput, consider using a better collection, for example, S3.</span></span>

## <a name="considerations-for-serialization-and-deserialization"></a><span data-ttu-id="c83a9-376">Consideraciones sobre serialización y deserialización</span><span class="sxs-lookup"><span data-stu-id="c83a9-376">Considerations for serialization and deserialization</span></span>
<span data-ttu-id="c83a9-377">La serialización y deserialización pueden tener lugar cuando el conjunto de datos de entrada o el conjunto de datos de salida es un archivo.</span><span class="sxs-lookup"><span data-stu-id="c83a9-377">Serialization and deserialization can occur when your input data set or output data set is a file.</span></span> <span data-ttu-id="c83a9-378">Consulte [Formatos de archivo y de compresión admitidos](data-factory-supported-file-and-compression-formats.md) con detalles sobre los formatos de archivo que admite la actividad de copia.</span><span class="sxs-lookup"><span data-stu-id="c83a9-378">See [Supported file and compression formats](data-factory-supported-file-and-compression-formats.md) with details on supported file formats by Copy Activity.</span></span>

<span data-ttu-id="c83a9-379">**Comportamiento de copia**:</span><span class="sxs-lookup"><span data-stu-id="c83a9-379">**Copy behavior**:</span></span>

* <span data-ttu-id="c83a9-380">Al copiar archivos entre almacenes de datos basados en archivos:</span><span class="sxs-lookup"><span data-stu-id="c83a9-380">Copying files between file-based data stores:</span></span>
  * <span data-ttu-id="c83a9-381">Cuando los conjuntos de datos de entrada y salidos tienen no Hola igual o ninguna configuración de formato de archivo, servicio de movimiento de datos de Hola ejecuta una copia binaria sin necesidad de serialización o deserialización.</span><span class="sxs-lookup"><span data-stu-id="c83a9-381">When input and output data sets both have hello same or no file format settings, hello data movement service executes a binary copy without any serialization or deserialization.</span></span> <span data-ttu-id="c83a9-382">Verá un escenario de toohello de rendimiento en comparación con mayor, en qué Hola configuración de formato de archivo de origen y el receptor es diferente entre sí.</span><span class="sxs-lookup"><span data-stu-id="c83a9-382">You see a higher throughput compared toohello scenario, in which hello source and sink file format settings are different from each other.</span></span>
  * <span data-ttu-id="c83a9-383">Cuando la entrada y conjuntos de datos de salida ambos están en formato de texto y la codificación de hello solo tipo es iguales, servicio de movimiento de datos de hello sólo realiza la conversión de codificación.</span><span class="sxs-lookup"><span data-stu-id="c83a9-383">When input and output data sets both are in text format and only hello encoding type is different, hello data movement service only does encoding conversion.</span></span> <span data-ttu-id="c83a9-384">Todavía no hace ninguna serialización y deserialización, lo que produce una sobrecarga del rendimiento en comparación con copia binaria tooa.</span><span class="sxs-lookup"><span data-stu-id="c83a9-384">It doesn't do any serialization and deserialization, which causes some performance overhead compared tooa binary copy.</span></span>
  * <span data-ttu-id="c83a9-385">Cuando la entrada y salidos conjuntos de datos ambos tienen distintos formatos de archivo o distintas configuraciones, como delimitadores, Hola servicio de movimiento de datos deserializa toostream de datos de origen, transformación y, a continuación, serializarlo en formato de salida de hello indicada.</span><span class="sxs-lookup"><span data-stu-id="c83a9-385">When input and output data sets both have different file formats or different configurations, like delimiters, hello data movement service deserializes source data toostream, transform, and then serialize it into hello output format you indicated.</span></span> <span data-ttu-id="c83a9-386">Esta operación produce una sobrecarga de rendimiento mucho más significativo en comparación con los escenarios de tooother.</span><span class="sxs-lookup"><span data-stu-id="c83a9-386">This operation results in a much more significant performance overhead compared tooother scenarios.</span></span>
* <span data-ttu-id="c83a9-387">Si copia los archivos a/desde un almacén de datos que no está basado en archivos (por ejemplo, desde un almacén relacional de almacén basado en archivo tooa), el paso de serialización o deserialización de hello es necesario.</span><span class="sxs-lookup"><span data-stu-id="c83a9-387">When you copy files to/from a data store that is not file-based (for example, from a file-based store tooa relational store), hello serialization or deserialization step is required.</span></span> <span data-ttu-id="c83a9-388">Este paso produce una sobrecarga considerable sobre el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="c83a9-388">This step results in significant performance overhead.</span></span>

<span data-ttu-id="c83a9-389">**Formato de archivo**: formato de archivo de Hola que elija puede afectar al rendimiento de la copia.</span><span class="sxs-lookup"><span data-stu-id="c83a9-389">**File format**: hello file format you choose might affect copy performance.</span></span> <span data-ttu-id="c83a9-390">Por ejemplo, Avro es un formato binario compacto que almacena metadatos con datos.</span><span class="sxs-lookup"><span data-stu-id="c83a9-390">For example, Avro is a compact binary format that stores metadata with data.</span></span> <span data-ttu-id="c83a9-391">Tiene una amplia compatibilidad con en el ecosistema de Hadoop de hello para el procesamiento y la consulta.</span><span class="sxs-lookup"><span data-stu-id="c83a9-391">It has broad support in hello Hadoop ecosystem for processing and querying.</span></span> <span data-ttu-id="c83a9-392">Sin embargo, Avro es más cara para la serialización y deserialización, los resultados de menor rendimiento de copia en comparación con formato tootext.</span><span class="sxs-lookup"><span data-stu-id="c83a9-392">However, Avro is more expensive for serialization and deserialization, which results in lower copy throughput compared tootext format.</span></span> <span data-ttu-id="c83a9-393">Realice su elección del formato de archivo a lo largo de hello flujo de procesamiento completo.</span><span class="sxs-lookup"><span data-stu-id="c83a9-393">Make your choice of file format throughout hello processing flow holistically.</span></span> <span data-ttu-id="c83a9-394">Comenzar con los datos de formulario Hola se almacenan en y del origen de almacenes de datos o toobe extraídos de sistemas externos; Hola mejor formato de almacenamiento, procesamiento analítico y consultar; y en qué formato se deben exportar datos de hello en puestos de datos para herramientas de informes y visualización.</span><span class="sxs-lookup"><span data-stu-id="c83a9-394">Start with what form hello data is stored in, source data stores or toobe extracted from external systems; hello best format for storage, analytical processing, and querying; and in what format hello data should be exported into data marts for reporting and visualization tools.</span></span> <span data-ttu-id="c83a9-395">En ocasiones, un formato de archivo que no es óptimo para leer y escribir el rendimiento podría ser una buena elección cuando considere Hola general analíticos proceso.</span><span class="sxs-lookup"><span data-stu-id="c83a9-395">Sometimes a file format that is suboptimal for read and write performance might be a good choice when you consider hello overall analytical process.</span></span>

## <a name="considerations-for-compression"></a><span data-ttu-id="c83a9-396">Consideraciones sobre la compresión</span><span class="sxs-lookup"><span data-stu-id="c83a9-396">Considerations for compression</span></span>
<span data-ttu-id="c83a9-397">Cuando el conjunto de datos de entrada o de salida es un archivo, puede establecer la actividad de copia tooperform compresión y descompresión tal y como escribe el destino de toohello de datos.</span><span class="sxs-lookup"><span data-stu-id="c83a9-397">When your input or output data set is a file, you can set Copy Activity tooperform compression or decompression as it writes data toohello destination.</span></span> <span data-ttu-id="c83a9-398">Si elige compresión, está buscando el equilibrio entre entrada/salida (E/S) y CPU.</span><span class="sxs-lookup"><span data-stu-id="c83a9-398">When you choose compression, you make a tradeoff between input/output (I/O) and CPU.</span></span> <span data-ttu-id="c83a9-399">La compresión de datos de hello supone un costo adicional en recursos de proceso.</span><span class="sxs-lookup"><span data-stu-id="c83a9-399">Compressing hello data costs extra in compute resources.</span></span> <span data-ttu-id="c83a9-400">Pero, a cambio, se reduce la E/S de red y el almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="c83a9-400">But in return, it reduces network I/O and storage.</span></span> <span data-ttu-id="c83a9-401">Según los datos, puede que observe un aumento en el rendimiento general de la actividad de copia.</span><span class="sxs-lookup"><span data-stu-id="c83a9-401">Depending on your data, you may see a boost in overall copy throughput.</span></span>

<span data-ttu-id="c83a9-402">**Códec**: la actividad de copia admite los tipos de compresión gzip, bzip2 y Deflate.</span><span class="sxs-lookup"><span data-stu-id="c83a9-402">**Codec**: Copy Activity supports gzip, bzip2, and Deflate compression types.</span></span> <span data-ttu-id="c83a9-403">HDInsight de Azure puede consumir los tres tipos de procesamiento.</span><span class="sxs-lookup"><span data-stu-id="c83a9-403">Azure HDInsight can consume all three types for processing.</span></span> <span data-ttu-id="c83a9-404">Cada códec de compresión tiene sus ventajas.</span><span class="sxs-lookup"><span data-stu-id="c83a9-404">Each compression codec has advantages.</span></span> <span data-ttu-id="c83a9-405">Por ejemplo, bzip2 tiene rendimiento de copia más bajo de hello, pero obtendrá Hola Hive consulta un rendimiento óptimo con bzip2 porque se puede dividir para su procesamiento.</span><span class="sxs-lookup"><span data-stu-id="c83a9-405">For example, bzip2 has hello lowest copy throughput, but you get hello best Hive query performance with bzip2 because you can split it for processing.</span></span> <span data-ttu-id="c83a9-406">Gzip es la opción de hello más equilibrada, y se utiliza con más frecuencia Hola.</span><span class="sxs-lookup"><span data-stu-id="c83a9-406">Gzip is hello most balanced option, and it is used hello most often.</span></span> <span data-ttu-id="c83a9-407">Elija un códec de Hola que mejor se adapte a su escenario de extremo a extremo.</span><span class="sxs-lookup"><span data-stu-id="c83a9-407">Choose hello codec that best suits your end-to-end scenario.</span></span>

<span data-ttu-id="c83a9-408">**Nivel:**para cada códec de compresión, puede elegir entre dos opciones: compresión más rápida y compresión más óptima.</span><span class="sxs-lookup"><span data-stu-id="c83a9-408">**Level**: You can choose from two options for each compression codec: fastest compressed and optimally compressed.</span></span> <span data-ttu-id="c83a9-409">Hello más rápido comprimido opción comprime datos Hola lo más rápido posible, incluso si el archivo resultante de hello no se comprime un rendimiento óptimo.</span><span class="sxs-lookup"><span data-stu-id="c83a9-409">hello fastest compressed option compresses hello data as quickly as possible, even if hello resulting file is not optimally compressed.</span></span> <span data-ttu-id="c83a9-410">Hello óptimamente comprimido opción emplea más tiempo en la compresión y da como resultado una cantidad mínima de datos.</span><span class="sxs-lookup"><span data-stu-id="c83a9-410">hello optimally compressed option spends more time on compression and yields a minimal amount of data.</span></span> <span data-ttu-id="c83a9-411">Puede probar ambas toosee de opciones que proporciona un mejor rendimiento global en su caso.</span><span class="sxs-lookup"><span data-stu-id="c83a9-411">You can test both options toosee which provides better overall performance in your case.</span></span>

<span data-ttu-id="c83a9-412">**Una consideración**: toocopy una gran cantidad de datos entre un almacén local y la nube de hello, considere el uso de almacenamiento de blobs provisional con la compresión.</span><span class="sxs-lookup"><span data-stu-id="c83a9-412">**A consideration**: toocopy a large amount of data between an on-premises store and hello cloud, consider using interim blob storage with compression.</span></span> <span data-ttu-id="c83a9-413">Uso de almacenamiento provisional es útil cuando ancho de banda de saludo de la red corporativa y los servicios de Azure es el factor de limitación de Hola y desea conjunto de datos de entrada de Hola y datos de salida establecen ambos toobe en formato sin comprimir.</span><span class="sxs-lookup"><span data-stu-id="c83a9-413">Using interim storage is helpful when hello bandwidth of your corporate network and your Azure services is hello limiting factor, and you want hello input data set and output data set both toobe in uncompressed form.</span></span> <span data-ttu-id="c83a9-414">En concreto, puede dividir una única actividad de copia en dos.</span><span class="sxs-lookup"><span data-stu-id="c83a9-414">More specifically, you can break a single copy activity into two copy activities.</span></span> <span data-ttu-id="c83a9-415">Hola copia actividad copia primero desde provisionales de tooan de origen de Hola o blob de almacenamiento provisional en un formato comprimido.</span><span class="sxs-lookup"><span data-stu-id="c83a9-415">hello first copy activity copies from hello source tooan interim or staging blob in compressed form.</span></span> <span data-ttu-id="c83a9-416">segunda actividad de copia de Hello copia datos de hello comprimido de almacenamiento provisional y, a continuación, descomprime mientras escribe toohello receptor.</span><span class="sxs-lookup"><span data-stu-id="c83a9-416">hello second copy activity copies hello compressed data from staging, and then decompresses while it writes toohello sink.</span></span>

## <a name="considerations-for-column-mapping"></a><span data-ttu-id="c83a9-417">Consideraciones sobre la asignación de columnas</span><span class="sxs-lookup"><span data-stu-id="c83a9-417">Considerations for column mapping</span></span>
<span data-ttu-id="c83a9-418">Puede establecer hello **columnMappings** propiedad en todos los toomap de actividad de copia o un subconjunto de hello columnas de salida de toohello de columnas de entrada.</span><span class="sxs-lookup"><span data-stu-id="c83a9-418">You can set hello **columnMappings** property in Copy Activity toomap all or a subset of hello input columns toohello output columns.</span></span> <span data-ttu-id="c83a9-419">Después de que el servicio de movimiento de datos de hello lee datos de Hola de origen de hello, necesita tooperform de asignación de columna en los datos de hello antes de escribir Hola datos toohello receptor.</span><span class="sxs-lookup"><span data-stu-id="c83a9-419">After hello data movement service reads hello data from hello source, it needs tooperform column mapping on hello data before it writes hello data toohello sink.</span></span> <span data-ttu-id="c83a9-420">Este procesamiento adicional reduce la capacidad de proceso de la copia.</span><span class="sxs-lookup"><span data-stu-id="c83a9-420">This extra processing reduces copy throughput.</span></span>

<span data-ttu-id="c83a9-421">Si el almacén de datos de origen es consultable, por ejemplo, si se trata de un almacén relacional como base de datos SQL o SQL Server, o si es un almacén NoSQL como almacenamiento de tabla o base de datos de Azure Cosmos, considere la posibilidad de insertar el filtrado de columnas de Hola y la reordenación de lógica toohello **consulta**  propiedad en lugar de usar la asignación de columna.</span><span class="sxs-lookup"><span data-stu-id="c83a9-421">If your source data store is queryable, for example, if it's a relational store like SQL Database or SQL Server, or if it's a NoSQL store like Table storage or Azure Cosmos DB, consider pushing hello column filtering and reordering logic toohello **query** property instead of using column mapping.</span></span> <span data-ttu-id="c83a9-422">De esta manera, proyección de Hola se produce mientras el servicio de movimiento de datos de hello lee el almacén de datos de los datos de origen de hello, donde resulta mucho más eficaz.</span><span class="sxs-lookup"><span data-stu-id="c83a9-422">This way, hello projection occurs while hello data movement service reads data from hello source data store, where it is much more efficient.</span></span>

## <a name="other-considerations"></a><span data-ttu-id="c83a9-423">Otras consideraciones</span><span class="sxs-lookup"><span data-stu-id="c83a9-423">Other considerations</span></span>
<span data-ttu-id="c83a9-424">Si hello el tamaño de datos que desee toocopy es grande, puede ajustar los datos de hello business lógica toofurther partición mediante Hola mecanismo la segmentación de factoría de datos.</span><span class="sxs-lookup"><span data-stu-id="c83a9-424">If hello size of data you want toocopy is large, you can adjust your business logic toofurther partition hello data using hello slicing mechanism in Data Factory.</span></span> <span data-ttu-id="c83a9-425">A continuación, programar la actividad de copia toorun con más frecuencia ejecutar de tamaño de los datos tooreduce Hola para cada actividad de copia.</span><span class="sxs-lookup"><span data-stu-id="c83a9-425">Then, schedule Copy Activity toorun more frequently tooreduce hello data size for each Copy Activity run.</span></span>

<span data-ttu-id="c83a9-426">Tener cuidado al número de Hola de conjuntos de datos y las actividades de copia que requieren la factoría de datos tooconnector toohello mismo almacén de datos en hello mismo tiempo.</span><span class="sxs-lookup"><span data-stu-id="c83a9-426">Be cautious about hello number of data sets and copy activities requiring Data Factory tooconnector toohello same data store at hello same time.</span></span> <span data-ttu-id="c83a9-427">Muchos de los trabajos de copia concurrente podrían limitar un almacén de datos y provocar toodegraded rendimiento, copie reintentos interno del trabajo y en algunos casos, errores de ejecución.</span><span class="sxs-lookup"><span data-stu-id="c83a9-427">Many concurrent copy jobs might throttle a data store and lead toodegraded performance, copy job internal retries, and in some cases, execution failures.</span></span>

## <a name="sample-scenario-copy-from-an-on-premises-sql-server-tooblob-storage"></a><span data-ttu-id="c83a9-428">Escenario de ejemplo: copia desde un almacenamiento de tooBlob de SQL Server local</span><span class="sxs-lookup"><span data-stu-id="c83a9-428">Sample scenario: Copy from an on-premises SQL Server tooBlob storage</span></span>
<span data-ttu-id="c83a9-429">**Escenario**: una canalización se compila toocopy datos desde un almacenamiento de tooBlob de SQL Server local en formato CSV.</span><span class="sxs-lookup"><span data-stu-id="c83a9-429">**Scenario**: A pipeline is built toocopy data from an on-premises SQL Server tooBlob storage in CSV format.</span></span> <span data-ttu-id="c83a9-430">toomake Hola trabajo de copia con mayor rapidez, se deben comprimir archivos CSV de hello en formato del bzip2.</span><span class="sxs-lookup"><span data-stu-id="c83a9-430">toomake hello copy job faster, hello CSV files should be compressed into bzip2 format.</span></span>

<span data-ttu-id="c83a9-431">**Prueba y análisis**: rendimiento de Hola de actividad de copia es inferior a 2 MBps, que es mucho más lenta que las pruebas comparativas de rendimiento de Hola.</span><span class="sxs-lookup"><span data-stu-id="c83a9-431">**Test and analysis**: hello throughput of Copy Activity is less than 2 MBps, which is much slower than hello performance benchmark.</span></span>

<span data-ttu-id="c83a9-432">**Análisis de rendimiento y optimización**: tootroubleshoot Hola problema de rendimiento, echemos un vistazo a cómo se procesa y se mueven datos Hola.</span><span class="sxs-lookup"><span data-stu-id="c83a9-432">**Performance analysis and tuning**: tootroubleshoot hello performance issue, let’s look at how hello data is processed and moved.</span></span>

1. <span data-ttu-id="c83a9-433">**Leer datos**: puerta de enlace abre un tooSQL conexión del servidor y envía Hola consulta.</span><span class="sxs-lookup"><span data-stu-id="c83a9-433">**Read data**: Gateway opens a connection tooSQL Server and sends hello query.</span></span> <span data-ttu-id="c83a9-434">SQL Server responde enviando hello tooGateway de flujo de datos a través de la intranet de Hola.</span><span class="sxs-lookup"><span data-stu-id="c83a9-434">SQL Server responds by sending hello data stream tooGateway via hello intranet.</span></span>
2. <span data-ttu-id="c83a9-435">**Serializar y comprimir los datos**: puerta de enlace serializa el formato de tooCSV de flujo de datos de Hola y comprime Hola flujo de datos tooa bzip2.</span><span class="sxs-lookup"><span data-stu-id="c83a9-435">**Serialize and compress data**: Gateway serializes hello data stream tooCSV format, and compresses hello data tooa bzip2 stream.</span></span>
3. <span data-ttu-id="c83a9-436">**Escribir datos**: puerta de enlace de carga de almacenamiento con tooBlob Hola bzip2 secuencias a través de Internet de Hola.</span><span class="sxs-lookup"><span data-stu-id="c83a9-436">**Write data**: Gateway uploads hello bzip2 stream tooBlob storage via hello Internet.</span></span>

<span data-ttu-id="c83a9-437">Como puede ver, datos de Hola se va a procesar y mover de forma secuencial streaming: SQL Server > LAN > puerta de enlace > WAN > almacenamiento de blobs.</span><span class="sxs-lookup"><span data-stu-id="c83a9-437">As you can see, hello data is being processed and moved in a streaming sequential manner: SQL Server > LAN > Gateway > WAN > Blob storage.</span></span> <span data-ttu-id="c83a9-438">**Hello el rendimiento general está determinado por rendimiento mínimo de Hola a través de la canalización de hello**.</span><span class="sxs-lookup"><span data-stu-id="c83a9-438">**hello overall performance is gated by hello minimum throughput across hello pipeline**.</span></span>

![flujo de datos](./media/data-factory-copy-activity-performance/case-study-pic-1.png)

<span data-ttu-id="c83a9-440">Uno o varios de hello siguiendo los factores que podrían provocar cuello de botella de rendimiento de Hola.</span><span class="sxs-lookup"><span data-stu-id="c83a9-440">One or more of hello following factors might cause hello performance bottleneck:</span></span>

* <span data-ttu-id="c83a9-441">**Origen:**el propio SQL Server tiene un rendimiento bajo debido a cargas intensas.</span><span class="sxs-lookup"><span data-stu-id="c83a9-441">**Source**: SQL Server itself has low throughput because of heavy loads.</span></span>
* <span data-ttu-id="c83a9-442">**Data Management Gateway**</span><span class="sxs-lookup"><span data-stu-id="c83a9-442">**Data Management Gateway**:</span></span>
  * <span data-ttu-id="c83a9-443">**LAN**: puerta de enlace está muy alejado del equipo de SQL Server de Hola y tiene una conexión de ancho de banda bajo.</span><span class="sxs-lookup"><span data-stu-id="c83a9-443">**LAN**: Gateway is located far from hello SQL Server machine and has a low-bandwidth connection.</span></span>
  * <span data-ttu-id="c83a9-444">**Puerta de enlace**: puerta de enlace ha alcanzado su Hola de tooperform de limitaciones de carga de las siguientes operaciones:</span><span class="sxs-lookup"><span data-stu-id="c83a9-444">**Gateway**: Gateway has reached its load limitations tooperform hello following operations:</span></span>
    * <span data-ttu-id="c83a9-445">**Serialización**: serializar tooCSV de flujo de datos de hello formato tiene un rendimiento lento.</span><span class="sxs-lookup"><span data-stu-id="c83a9-445">**Serialization**: Serializing hello data stream tooCSV format has slow throughput.</span></span>
    * <span data-ttu-id="c83a9-446">**Compresión**: ha elegido un códec de compresión lenta (por ejemplo, bzip2, a 2,8 MBps con Core i7).</span><span class="sxs-lookup"><span data-stu-id="c83a9-446">**Compression**: You chose a slow compression codec (for example, bzip2, which is 2.8 MBps with Core i7).</span></span>
  * <span data-ttu-id="c83a9-447">**WAN**: ancho de banda de hello entre la red corporativa de Hola y los servicios de Azure es baja (por ejemplo, T1 = 1,544 kbps. T2 = 6,312 kbps).</span><span class="sxs-lookup"><span data-stu-id="c83a9-447">**WAN**: hello bandwidth between hello corporate network and your Azure services is low (for example, T1 = 1,544 kbps; T2 = 6,312 kbps).</span></span>
* <span data-ttu-id="c83a9-448">**Receptor**: el Almacenamiento de blobs tiene un rendimiento bajo.</span><span class="sxs-lookup"><span data-stu-id="c83a9-448">**Sink**: Blob storage has low throughput.</span></span> <span data-ttu-id="c83a9-449">(Esta situación es improbable porque su SLA garantiza un mínimo de 60 MBps).</span><span class="sxs-lookup"><span data-stu-id="c83a9-449">(This scenario is unlikely because its SLA guarantees a minimum of 60 MBps.)</span></span>

<span data-ttu-id="c83a9-450">En este caso, compresión de datos del bzip2 podría ralentizar canalización todo Hola.</span><span class="sxs-lookup"><span data-stu-id="c83a9-450">In this case, bzip2 data compression might be slowing down hello entire pipeline.</span></span> <span data-ttu-id="c83a9-451">Cambiar el códec de compresión gzip tooa podría facilitar este cuello de botella.</span><span class="sxs-lookup"><span data-stu-id="c83a9-451">Switching tooa gzip compression codec might ease this bottleneck.</span></span>

## <a name="sample-scenarios-use-parallel-copy"></a><span data-ttu-id="c83a9-452">Escenarios de ejemplo: uso de la copia en paralelo</span><span class="sxs-lookup"><span data-stu-id="c83a9-452">Sample scenarios: Use parallel copy</span></span>
<span data-ttu-id="c83a9-453">**Escenario I:** copiar 1.000 archivos de 1 MB de almacenamiento de tooBlob del sistema de archivos de hello local.</span><span class="sxs-lookup"><span data-stu-id="c83a9-453">**Scenario I:** Copy 1,000 1-MB files from hello on-premises file system tooBlob storage.</span></span>

<span data-ttu-id="c83a9-454">**Análisis y ajuste del rendimiento**: por ejemplo, si ha instalado la puerta de enlace en un equipo de cuatro núcleos, factoría de datos utiliza 16 copias en paralelo toomove archivos de almacenamiento de tooBlob de sistema de archivos de hello simultáneamente.</span><span class="sxs-lookup"><span data-stu-id="c83a9-454">**Analysis and performance tuning**: For an example, if you have installed gateway on a quad core machine, Data Factory uses 16 parallel copies toomove files from hello file system tooBlob storage concurrently.</span></span> <span data-ttu-id="c83a9-455">Esta ejecución en paralelo debe tener como resultado un alto rendimiento.</span><span class="sxs-lookup"><span data-stu-id="c83a9-455">This parallel execution should result in high throughput.</span></span> <span data-ttu-id="c83a9-456">También puede especificar explícitamente Hola recuento de copias en paralelo.</span><span class="sxs-lookup"><span data-stu-id="c83a9-456">You also can explicitly specify hello parallel copies count.</span></span> <span data-ttu-id="c83a9-457">Al copiar muchos archivos pequeños, las copias en paralelo ayudan considerablemente al rendimiento al usar los recursos de forma más eficaz.</span><span class="sxs-lookup"><span data-stu-id="c83a9-457">When you copy many small files, parallel copies dramatically help throughput by using resources more effectively.</span></span>

![Escenario 1.](./media/data-factory-copy-activity-performance/scenario-1.png)

<span data-ttu-id="c83a9-459">**Escenario II**: copiar 20 blobs de 500 MB de almacenamiento de blobs tooData Lake almacén análisis y, a continuación, ajustar el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="c83a9-459">**Scenario II**: Copy 20 blobs of 500 MB each from Blob storage tooData Lake Store Analytics, and then tune performance.</span></span>

<span data-ttu-id="c83a9-460">**Análisis y ajuste del rendimiento**: en este escenario, factoría de datos copia datos de Hola de almacén de lago de tooData de almacenamiento de blobs mediante el uso de solo copia (**parallelCopies** establecer too1) y las unidades de movimiento de datos en la nube único.</span><span class="sxs-lookup"><span data-stu-id="c83a9-460">**Analysis and performance tuning**: In this scenario, Data Factory copies hello data from Blob storage tooData Lake Store by using single-copy (**parallelCopies** set too1) and single-cloud data movement units.</span></span> <span data-ttu-id="c83a9-461">Hello rendimiento observa will puede cierre toothat descrito en hello [sección de referencia de rendimiento](#performance-reference).</span><span class="sxs-lookup"><span data-stu-id="c83a9-461">hello throughput you observe will be close toothat described in hello [performance reference section](#performance-reference).</span></span>   

![Escenario 2.](./media/data-factory-copy-activity-performance/scenario-2.png)

<span data-ttu-id="c83a9-463">**Escenario III**: el tamaño de cada archivo es mayor que decenas de MB y el volumen total es grande.</span><span class="sxs-lookup"><span data-stu-id="c83a9-463">**Scenario III**: Individual file size is greater than dozens of MBs and total volume is large.</span></span>

<span data-ttu-id="c83a9-464">**Análisis y la habilitación de rendimiento**: aumentar **parallelCopies** no genera un mejor rendimiento de copia debido a limitaciones de recursos de hello de una DMU único de la nube.</span><span class="sxs-lookup"><span data-stu-id="c83a9-464">**Analysis and performance turning**: Increasing **parallelCopies** doesn't result in better copy performance because of hello resource limitations of a single-cloud DMU.</span></span> <span data-ttu-id="c83a9-465">En su lugar, debe especificar en la nube más DMUs tooget más recursos tooperform Hola el movimiento de datos.</span><span class="sxs-lookup"><span data-stu-id="c83a9-465">Instead, you should specify more cloud DMUs tooget more resources tooperform hello data movement.</span></span> <span data-ttu-id="c83a9-466">No especifica un valor para hello **parallelCopies** propiedad.</span><span class="sxs-lookup"><span data-stu-id="c83a9-466">Do not specify a value for hello **parallelCopies** property.</span></span> <span data-ttu-id="c83a9-467">Factoría de datos controla el paralelismo de Hola de.</span><span class="sxs-lookup"><span data-stu-id="c83a9-467">Data Factory handles hello parallelism for you.</span></span> <span data-ttu-id="c83a9-468">En este caso, si establece **cloudDataMovementUnits** too4, un rendimiento de aproximadamente cuatro veces ocurre.</span><span class="sxs-lookup"><span data-stu-id="c83a9-468">In this case, if you set **cloudDataMovementUnits** too4, a throughput of about four times occurs.</span></span>

![Escenario 3.](./media/data-factory-copy-activity-performance/scenario-3.png)

## <a name="reference"></a><span data-ttu-id="c83a9-470">Referencia</span><span class="sxs-lookup"><span data-stu-id="c83a9-470">Reference</span></span>
<span data-ttu-id="c83a9-471">Estos son supervisión del rendimiento y optimización de referencias para algunos de los almacenes de datos de hello admitida:</span><span class="sxs-lookup"><span data-stu-id="c83a9-471">Here are performance monitoring and tuning references for some of hello supported data stores:</span></span>

* <span data-ttu-id="c83a9-472">Azure Storage (que incluyeBlob Storage y Table Storage): [Objetivos de escalabilidad de Azure Storage](../storage/common/storage-scalability-targets.md) y [Lista de comprobación de rendimiento y escalabilidad de Azure Storage](../storage/common/storage-performance-checklist.md)</span><span class="sxs-lookup"><span data-stu-id="c83a9-472">Azure Storage (including Blob storage and Table storage): [Azure Storage scalability targets](../storage/common/storage-scalability-targets.md) and [Azure Storage performance and scalability checklist](../storage/common/storage-performance-checklist.md)</span></span>
* <span data-ttu-id="c83a9-473">Base de datos SQL Azure: Puede [supervisar el rendimiento de hello](../sql-database/sql-database-single-database-monitor.md) y comprobar el porcentaje de unidad (DTU) de transacciones de base de datos de Hola</span><span class="sxs-lookup"><span data-stu-id="c83a9-473">Azure SQL Database: You can [monitor hello performance](../sql-database/sql-database-single-database-monitor.md) and check hello database transaction unit (DTU) percentage</span></span>
* <span data-ttu-id="c83a9-474">Almacenamiento de datos SQL de Azure: su capacidad se mide en unidades de almacenamiento de datos (DWU); consulte [Administración de la potencia de proceso en Almacenamiento de datos SQL de Azure (información general)](../sql-data-warehouse/sql-data-warehouse-manage-compute-overview.md)</span><span class="sxs-lookup"><span data-stu-id="c83a9-474">Azure SQL Data Warehouse: Its capability is measured in data warehouse units (DWUs); see [Manage compute power in Azure SQL Data Warehouse (Overview)](../sql-data-warehouse/sql-data-warehouse-manage-compute-overview.md)</span></span>
* <span data-ttu-id="c83a9-475">Azure Cosmos DB: [Niveles de rendimiento de Azure Cosmos DB](../documentdb/documentdb-performance-levels.md)</span><span class="sxs-lookup"><span data-stu-id="c83a9-475">Azure Cosmos DB: [Performance levels in Azure Cosmos DB](../documentdb/documentdb-performance-levels.md)</span></span>
* <span data-ttu-id="c83a9-476">Instancia de SQL Server local: [Supervisión y optimización del rendimiento](https://msdn.microsoft.com/library/ms189081.aspx)</span><span class="sxs-lookup"><span data-stu-id="c83a9-476">On-premises SQL Server: [Monitor and tune for performance](https://msdn.microsoft.com/library/ms189081.aspx)</span></span>
* <span data-ttu-id="c83a9-477">Servidor de archivos local: [Performance Tuning for File Servers](https://msdn.microsoft.com/library/dn567661.aspx)</span><span class="sxs-lookup"><span data-stu-id="c83a9-477">On-premises file server: [Performance tuning for file servers](https://msdn.microsoft.com/library/dn567661.aspx)</span></span>
