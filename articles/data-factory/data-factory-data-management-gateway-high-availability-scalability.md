---
title: disponibilidad de aaaHigh con data management gateway en Data Factory de Azure | Documentos de Microsoft
description: "Este artículo explica cómo puede escalar horizontalmente una puerta de enlace de administración de datos mediante la adición de más nodos y escalar verticalmente aumentando el número de trabajos simultáneos que se pueden ejecutar en un nodo."
services: data-factory
documentationcenter: 
author: nabhishek
manager: jhubbard
editor: 
ms.service: data-factory
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/17/2017
ms.author: abnarain
ms.openlocfilehash: 925f63728e23596bca2655636f6535b509fce0b1
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2017
---
# <a name="data-management-gateway---high-availability-and-scalability-preview"></a><span data-ttu-id="0fd56-103">Data Management Gateway - Alta disponibilidad y escalabilidad (versión preliminar)</span><span class="sxs-lookup"><span data-stu-id="0fd56-103">Data Management Gateway - high availability and scalability (Preview)</span></span>
<span data-ttu-id="0fd56-104">Este artículo le ayuda a configurar una solución de alta disponibilidad y escalabilidad con Data Management Gateway.</span><span class="sxs-lookup"><span data-stu-id="0fd56-104">This article helps you configure high availability and scalability solution with Data Management Gateway.</span></span>    

> [!NOTE]
> <span data-ttu-id="0fd56-105">En este artículo se da por supuesto que ya está familiarizado con los conceptos básicos de Data Management Gateway.</span><span class="sxs-lookup"><span data-stu-id="0fd56-105">This article assumes that you are already familiar with basics of Data Management Gateway.</span></span> <span data-ttu-id="0fd56-106">Para más información, consulte [Data Management Gateway](data-factory-data-management-gateway.md).</span><span class="sxs-lookup"><span data-stu-id="0fd56-106">If you are not, see [Data Management Gateway](data-factory-data-management-gateway.md).</span></span>

><span data-ttu-id="0fd56-107">**La versión preliminar de esta característica es compatible oficialmente con Data Management Gateway versión 2.12.xxxx.x y superior**.</span><span class="sxs-lookup"><span data-stu-id="0fd56-107">**This preview feature is officially supported on Data Management Gateway version 2.12.xxxx.x and above**.</span></span> <span data-ttu-id="0fd56-108">Asegúrese de que está utilizando la versión 2.12.xxxx.x o superior.</span><span class="sxs-lookup"><span data-stu-id="0fd56-108">Please make sure you are using version 2.12.xxxx.x or above.</span></span> <span data-ttu-id="0fd56-109">Descargar la versión más reciente de Hola de Data Management Gateway [aquí](https://www.microsoft.com/download/details.aspx?id=39717).</span><span class="sxs-lookup"><span data-stu-id="0fd56-109">Download hello latest version of Data Management Gateway [here](https://www.microsoft.com/download/details.aspx?id=39717).</span></span>

## <a name="overview"></a><span data-ttu-id="0fd56-110">Información general</span><span class="sxs-lookup"><span data-stu-id="0fd56-110">Overview</span></span>
<span data-ttu-id="0fd56-111">Puede asociar las puertas de enlace de administración de datos que se instalan en varios equipos local con una sola puerta de enlace lógico desde el portal de Hola.</span><span class="sxs-lookup"><span data-stu-id="0fd56-111">You can associate data management gateways that are installed on multiple on-premises machines with a single logical gateway from hello portal.</span></span> <span data-ttu-id="0fd56-112">Estos equipos se llaman **nodos**.</span><span class="sxs-lookup"><span data-stu-id="0fd56-112">These machines are called **nodes**.</span></span> <span data-ttu-id="0fd56-113">Puede tener hasta demasiado**cuatro nodos** asociados con una puerta de enlace lógico.</span><span class="sxs-lookup"><span data-stu-id="0fd56-113">You can have up too**four nodes** associated with a logical gateway.</span></span> <span data-ttu-id="0fd56-114">Hola ventajas de tener varios nodos (máquinas locales con la puerta de enlace instalada) para una puerta de enlace lógico son:</span><span class="sxs-lookup"><span data-stu-id="0fd56-114">hello benefits of having multiple nodes (on-premises machines with gateway installed) for a logical gateway are:</span></span>  

- <span data-ttu-id="0fd56-115">Mejorar el rendimiento del movimiento de datos entre los equipos locales y los almacenes de datos en la nube.</span><span class="sxs-lookup"><span data-stu-id="0fd56-115">Improve performance of data movement between on-premises and cloud data stores.</span></span>  
- <span data-ttu-id="0fd56-116">Si uno de los nodos de hello deja de funcionar por algún motivo, otros nodos siguen estando disponibles para mover datos de Hola.</span><span class="sxs-lookup"><span data-stu-id="0fd56-116">If one of hello nodes goes down for some reason, other nodes are still available for moving hello data.</span></span> 
- <span data-ttu-id="0fd56-117">Si uno de los nodos de hello necesita toobe desconectado por mantenimiento, otros nodos siguen estando disponibles para mover datos de Hola.</span><span class="sxs-lookup"><span data-stu-id="0fd56-117">If one of hello nodes need toobe taken offline for maintenance, other nodes are still available for moving hello data.</span></span>

<span data-ttu-id="0fd56-118">También puede configurar el número de Hola de **trabajos de movimiento de datos simultáneas** que puede ejecutar en un tooscale nodo la capacidad de Hola de mover datos entre local y nube almacenes de datos.</span><span class="sxs-lookup"><span data-stu-id="0fd56-118">You can also configure hello number of **concurrent data movement jobs** that can run on a node tooscale up hello capability of moving data between on-premises and cloud data stores.</span></span> 

<span data-ttu-id="0fd56-119">Con hello portal de Azure, puede supervisar estado de Hola de esos nodos, que le ayudará a decidir si tooadd o quitar un nodo de puerta de enlace lógica de Hola.</span><span class="sxs-lookup"><span data-stu-id="0fd56-119">Using hello Azure portal, you can monitor hello status of these nodes, which helps you decide whether tooadd or remove a node from hello logical gateway.</span></span> 

## <a name="architecture"></a><span data-ttu-id="0fd56-120">Arquitectura</span><span class="sxs-lookup"><span data-stu-id="0fd56-120">Architecture</span></span> 
<span data-ttu-id="0fd56-121">Hello diagrama siguiente proporciona información general de la arquitectura de Hola de escalabilidad y la característica de disponibilidad de hello Data Management Gateway:</span><span class="sxs-lookup"><span data-stu-id="0fd56-121">hello following diagram provides hello architecture overview of scalability and availability feature of hello Data Management Gateway:</span></span> 

![Data Management Gateway - Alta disponibilidad y escalabilidad](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-high-availability-and-scalability.png)

<span data-ttu-id="0fd56-123">A **puerta de enlace lógico** es puerta de enlace de hello agregar factoría de datos de tooa Hola portal de Azure.</span><span class="sxs-lookup"><span data-stu-id="0fd56-123">A **logical gateway** is hello gateway you add tooa data factory in hello Azure portal.</span></span> <span data-ttu-id="0fd56-124">Anteriormente, solo era posible asociar un único equipo de Windows local con Data Management Gateway instalado con una puerta de enlace lógica.</span><span class="sxs-lookup"><span data-stu-id="0fd56-124">Earlier, you could associate only one on-premises Windows machine with Data Management Gateway installed with a logical gateway.</span></span> <span data-ttu-id="0fd56-125">Ese equipo de puerta de enlace local se llama nodo.</span><span class="sxs-lookup"><span data-stu-id="0fd56-125">This on-premises gateway machine is called a node.</span></span> <span data-ttu-id="0fd56-126">Ahora, puede asociar una demasiado**cuatro nodos físicos** con una puerta de enlace lógico.</span><span class="sxs-lookup"><span data-stu-id="0fd56-126">Now, you can associate up too**four physical nodes** with a logical gateway.</span></span> <span data-ttu-id="0fd56-127">Una puerta de enlace lógica con varios nodos se denomina **puerta de enlace multi-nodo**.</span><span class="sxs-lookup"><span data-stu-id="0fd56-127">A logical gateway with multiple nodes is called a **multi-node gateway**.</span></span>  

<span data-ttu-id="0fd56-128">Todos estos nodos están **activos**.</span><span class="sxs-lookup"><span data-stu-id="0fd56-128">All these nodes are **active**.</span></span> <span data-ttu-id="0fd56-129">Todas ellas pueden procesar datos de toomove de trabajos de movimiento de datos entre local y nube almacenes de datos.</span><span class="sxs-lookup"><span data-stu-id="0fd56-129">They all can process data movement jobs toomove data between on-premises and cloud data stores.</span></span> <span data-ttu-id="0fd56-130">Uno de los nodos de hello actúe como distribuidor y de trabajo.</span><span class="sxs-lookup"><span data-stu-id="0fd56-130">One of hello nodes act as both dispatcher and worker.</span></span> <span data-ttu-id="0fd56-131">Otros nodos de grupos de hello son nodos de trabajador.</span><span class="sxs-lookup"><span data-stu-id="0fd56-131">Other nodes in hello groups are worker nodes.</span></span> <span data-ttu-id="0fd56-132">A **distribuidor** nodo extrae datos movimiento tareas y trabajos del servicio de nube de Hola y distribuye nodos tooworker (incluido él mismo).</span><span class="sxs-lookup"><span data-stu-id="0fd56-132">A **dispatcher** node pulls data movement tasks/jobs from hello cloud service and dispatches them tooworker nodes (including itself).</span></span> <span data-ttu-id="0fd56-133">A **trabajo** nodo ejecuta datos de toomove de trabajos de movimiento de datos entre local y nube almacenes de datos.</span><span class="sxs-lookup"><span data-stu-id="0fd56-133">A **worker** node executes data movement jobs toomove data between on-premises and cloud data stores.</span></span> <span data-ttu-id="0fd56-134">Todos los nodos son de trabajo.</span><span class="sxs-lookup"><span data-stu-id="0fd56-134">All nodes are workers.</span></span> <span data-ttu-id="0fd56-135">Únicamente un nodo puede ser a la vez distribuidor y nodo de trabajo.</span><span class="sxs-lookup"><span data-stu-id="0fd56-135">Only one node can be both dispatch and worker.</span></span>    

<span data-ttu-id="0fd56-136">Normalmente, puede iniciar con un nodo y **escalar horizontalmente** tooadd más nodos como Hola nodos existentes se desborda con carga de movimiento de datos de Hola.</span><span class="sxs-lookup"><span data-stu-id="0fd56-136">You may typically start with one node and **scale out** tooadd more nodes as hello existing node(s) are overwhelmed with hello data movement load.</span></span> <span data-ttu-id="0fd56-137">También puede **escalar verticalmente** Hola capacidad de movimiento de datos de un nodo de puerta de enlace aumentando el número de Hola de trabajos simultáneos que se permiten toorun en el nodo de Hola.</span><span class="sxs-lookup"><span data-stu-id="0fd56-137">You can also **scale up** hello data movement capability of a gateway node by increasing hello number of concurrent jobs that are allowed toorun on hello node.</span></span> <span data-ttu-id="0fd56-138">Esta funcionalidad también está disponible con una puerta de enlace de un único nodo (incluso cuando no está habilitada la característica de escalabilidad y disponibilidad de hello).</span><span class="sxs-lookup"><span data-stu-id="0fd56-138">This capability is also available with a single-node gateway (even when hello scalability and availability feature is not enabled).</span></span> 

<span data-ttu-id="0fd56-139">Una puerta de enlace con varios nodos mantiene las credenciales del almacén de datos de hello sincronizados en todos los nodos.</span><span class="sxs-lookup"><span data-stu-id="0fd56-139">A gateway with multiple nodes keeps hello data store credentials in sync across all nodes.</span></span> <span data-ttu-id="0fd56-140">Si hay un problema de conectividad de nodo a nodo, las credenciales de hello pueden no estar sincronizadas. Al establecer las credenciales para un almacén de datos local que usa una puerta de enlace, guarda las credenciales en el nodo de distribuidor/trabajo Hola.</span><span class="sxs-lookup"><span data-stu-id="0fd56-140">If there is a node-to-node connectivity issue, hello credentials may be out of sync. When you set credentials for an on-premises data store that uses a gateway, it saves credentials on hello dispatcher/worker node.</span></span> <span data-ttu-id="0fd56-141">Hola distribuidor nodo se sincroniza con otros nodos de trabajador.</span><span class="sxs-lookup"><span data-stu-id="0fd56-141">hello dispatcher node syncs with other worker nodes.</span></span> <span data-ttu-id="0fd56-142">Este proceso se conoce como **credenciales sincronización**. Hola de canal de comunicación entre los nodos puede **cifrados** por un certificado público de SSL/TLS.</span><span class="sxs-lookup"><span data-stu-id="0fd56-142">This process is known as **credentials sync**. hello communication channel between nodes can be **encrypted** by a public SSL/TLS certificate.</span></span> 

## <a name="set-up-a-multi-node-gateway"></a><span data-ttu-id="0fd56-143">Configuración de una puerta de enlace de varios nodos</span><span class="sxs-lookup"><span data-stu-id="0fd56-143">Set up a multi-node gateway</span></span>
<span data-ttu-id="0fd56-144">En esta sección se da por supuesto que ha realizado a través de hello siguiendo dos artículos o que están familiarizados con conceptos en los siguientes artículos:</span><span class="sxs-lookup"><span data-stu-id="0fd56-144">This section assumes that you have gone through hello following two articles or familiar with concepts in these articles:</span></span> 

- <span data-ttu-id="0fd56-145">[Data Management Gateway](data-factory-data-management-gateway.md) -ofrece una introducción detallada de puerta de enlace de Hola.</span><span class="sxs-lookup"><span data-stu-id="0fd56-145">[Data Management Gateway](data-factory-data-management-gateway.md) - provides a detailed overview of hello gateway.</span></span>
- <span data-ttu-id="0fd56-146">[Movimiento de datos entre equipos locales y almacenes de datos en la nube](data-factory-move-data-between-onprem-and-cloud.md): contiene un tutorial con instrucciones paso a paso para usar una puerta de enlace con un único nodo.</span><span class="sxs-lookup"><span data-stu-id="0fd56-146">[Move data between on-premises and cloud data stores](data-factory-move-data-between-onprem-and-cloud.md) - contains a walkthrough with step-by-step instructions for using a gateway with a single node.</span></span>  

> [!NOTE]
> <span data-ttu-id="0fd56-147">Antes de instalar una puerta de enlace de administración de datos en un equipo de Windows local, vea Requisitos previos descritos en [artículo principal de hello](data-factory-data-management-gateway.md#prerequisites).</span><span class="sxs-lookup"><span data-stu-id="0fd56-147">Before you install a data management gateway on an on-premises Windows machine, see prerequisites listed in [hello main article](data-factory-data-management-gateway.md#prerequisites).</span></span>

1. <span data-ttu-id="0fd56-148">Hola [tutorial](data-factory-move-data-between-onprem-and-cloud.md#create-gateway), al crear una puerta de enlace lógico, habilitar hello **alta disponibilidad y escalabilidad** característica.</span><span class="sxs-lookup"><span data-stu-id="0fd56-148">In hello [walkthrough](data-factory-move-data-between-onprem-and-cloud.md#create-gateway), while creating a logical gateway, enable hello **High Availability & Scalability** feature.</span></span> 

    ![Data Management Gateway: habilitar alta disponibilidad y escalabilidad](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-enable-high-availability-scalability.png)
2. <span data-ttu-id="0fd56-150">Hola **configurar** , utilice cualquiera **el programa de instalación de Express** o **el programa de instalación Manual** vincular tooinstall una puerta de enlace en el primer nodo de hello (una máquina local de Windows).</span><span class="sxs-lookup"><span data-stu-id="0fd56-150">In hello **Configure** page, use either **Express Setup** or **Manual Setup** link tooinstall a gateway on hello first node (an on-premises Windows machine).</span></span>

    ![Data Management Gateway: instalación rápida o manual](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-express-manual-setup.png)

    > [!NOTE]
    > <span data-ttu-id="0fd56-152">Si utiliza la opción de configuración rápida de hello, comunicación de nodo a nodo Hola se realiza sin cifrado.</span><span class="sxs-lookup"><span data-stu-id="0fd56-152">If you use hello express setup option, hello node-to-node communication is done without encryption.</span></span> <span data-ttu-id="0fd56-153">nombre de nodo de Hello es igual que el nombre de la máquina de Hola.</span><span class="sxs-lookup"><span data-stu-id="0fd56-153">hello node name is same as hello machine name.</span></span> <span data-ttu-id="0fd56-154">Utilice el programa de instalación manual si comunicación de nodo a nodo Hola necesita toobe cifrado o si desea toospecify un nombre de nodo de su elección.</span><span class="sxs-lookup"><span data-stu-id="0fd56-154">Use manual setup if hello node-node communication needs toobe encrypted or you want toospecify a node name of your choice.</span></span> <span data-ttu-id="0fd56-155">Los nombres de nodo no se puede editar más adelante.</span><span class="sxs-lookup"><span data-stu-id="0fd56-155">Node names cannot be edited later.</span></span>
3. <span data-ttu-id="0fd56-156">Si elige **instalación rápida**</span><span class="sxs-lookup"><span data-stu-id="0fd56-156">If you choose **express setup**</span></span>
    1. <span data-ttu-id="0fd56-157">Vea Hola siguiente mensaje después de puerta de enlace de hello está instalado correctamente:</span><span class="sxs-lookup"><span data-stu-id="0fd56-157">You see hello following message after hello gateway is successfully installed:</span></span>

        ![Data Management Gateway: instalación rápida correcta](media/data-factory-data-management-gateway-high-availability-scalability/express-setup-success.png)
    2. <span data-ttu-id="0fd56-159">Iniciar el Administrador de configuración de administración de datos para la puerta de enlace de Hola siguiendo [estas instrucciones](data-factory-data-management-gateway.md#configuration-manager).</span><span class="sxs-lookup"><span data-stu-id="0fd56-159">Launch Data Management Configuration Manager for hello gateway by following [these instructions](data-factory-data-management-gateway.md#configuration-manager).</span></span> <span data-ttu-id="0fd56-160">Vea el nombre de la puerta de enlace de hello, nombre de nodo, estado, etcetera.</span><span class="sxs-lookup"><span data-stu-id="0fd56-160">You see hello gateway name, node name, status, etc.</span></span>

        ![Data Management Gateway: instalación correcta](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-installation-success.png)
4. <span data-ttu-id="0fd56-162">Si elige **instalación manual**:</span><span class="sxs-lookup"><span data-stu-id="0fd56-162">If you choose **manual setup**:</span></span>
    1. <span data-ttu-id="0fd56-163">Descargar paquete de instalación de Hola desde Microsoft Download Center hello, ejecute tooinstall puerta de enlace en el equipo.</span><span class="sxs-lookup"><span data-stu-id="0fd56-163">Download hello installation package from hello Microsoft Download Center, run it tooinstall gateway on your machine.</span></span>
    2. <span data-ttu-id="0fd56-164">Hola de uso **clave de autenticación** de hello **configurar** puerta de enlace de página tooregister Hola.</span><span class="sxs-lookup"><span data-stu-id="0fd56-164">Use hello **authentication key** from hello **Configure** page tooregister hello gateway.</span></span>
    
        ![Data Management Gateway: instalación correcta](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-authentication-key.png)
    3. <span data-ttu-id="0fd56-166">Hola **nuevo nodo de puerta de enlace** página, puede proporcionar un personalizado **nombre** toohello nodo de puerta de enlace.</span><span class="sxs-lookup"><span data-stu-id="0fd56-166">In hello **New gateway node** page, you can provide a custom **name** toohello gateway node.</span></span> <span data-ttu-id="0fd56-167">De forma predeterminada, el nombre de nodo es igual que el nombre de la máquina de Hola.</span><span class="sxs-lookup"><span data-stu-id="0fd56-167">By default, node name is same as hello machine name.</span></span>    

        ![Data Management Gateway: especificar nombre](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-name.png)
    4. <span data-ttu-id="0fd56-169">En la página siguiente de hello, puede elegir si demasiado**habilitar el cifrado para la comunicación de nodo a nodo**.</span><span class="sxs-lookup"><span data-stu-id="0fd56-169">In hello next page, you can choose whether too**enable encryption for node-to-node communication**.</span></span> <span data-ttu-id="0fd56-170">Haga clic en **omitir** toodisable cifrado (valor predeterminado).</span><span class="sxs-lookup"><span data-stu-id="0fd56-170">Click **Skip** toodisable encryption (default).</span></span>

        ![Data Management Gateway: habilitar cifrado](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-node-encryption.png)  
    
        > [!NOTE]
        > <span data-ttu-id="0fd56-172">Solo se admite el cambio del modo de cifrado cuando se tiene un nodo de puerta de enlace único en la puerta de enlace lógica de Hola.</span><span class="sxs-lookup"><span data-stu-id="0fd56-172">Changing of encryption mode is only supported when you have a single gateway node in hello logical gateway.</span></span> <span data-ttu-id="0fd56-173">modo de cifrado de hello toochange cuando una puerta de enlace tiene varios nodos, Hola lo siguiente: eliminar todos los nodos de hello excepto uno, cambiar el modo de cifrado de hello y, a continuación, agregar nodos de Hola de nuevo.</span><span class="sxs-lookup"><span data-stu-id="0fd56-173">toochange hello encryption mode when a gateway has multiple nodes, do hello following steps: delete all hello nodes except one node, change hello encryption mode, and then add hello nodes again.</span></span>
        > 
        > <span data-ttu-id="0fd56-174">Consulte la sección [requisitos de los certificados TLS/SSL](#tlsssl-certificate-requirements) para obtener una lista de los requisitos para utilizar un certificado TLS/SSL.</span><span class="sxs-lookup"><span data-stu-id="0fd56-174">See [TLS/SSL certificate requirements](#tlsssl-certificate-requirements) section for a list of requirements for using an TLS/SSL certificate.</span></span> 
    5. <span data-ttu-id="0fd56-175">Después de hello puerta de enlace se instala correctamente, haga clic en iniciar el Administrador de configuración:</span><span class="sxs-lookup"><span data-stu-id="0fd56-175">After hello gateway is successfully installed, click Launch Configuration Manager:</span></span>
    
        ![Instalación manual: iniciar Configuration Manager](media/data-factory-data-management-gateway-high-availability-scalability/manual-setup-launch-configuration-manager.png)   
    6. <span data-ttu-id="0fd56-177">consulte el Administrador de configuración de Data Management Gateway en el nodo hello (máquina de Windows local), que muestra el estado de conectividad, **nombre de puerta de enlace**, y **nombre de nodo**.</span><span class="sxs-lookup"><span data-stu-id="0fd56-177">you see Data Management Gateway Configuration Manager on hello node (on-premises Windows machine), which shows connectivity status, **gateway name**, and **node name**.</span></span>  

        ![Data Management Gateway: instalación correcta](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-installation-success.png)

        > [!NOTE]
        > <span data-ttu-id="0fd56-179">Si va a aprovisionar la puerta de enlace de hello en una VM de Azure, puede usar [esta plantilla de administrador de recursos de Azure en GitHub](https://github.com/xiaoyingLJ/vms-with-multiple-data-management-gateway).</span><span class="sxs-lookup"><span data-stu-id="0fd56-179">If you are provisioning hello gateway on an Azure VM, you can use [this Azure Resource Manager template on GitHub](https://github.com/xiaoyingLJ/vms-with-multiple-data-management-gateway).</span></span> <span data-ttu-id="0fd56-180">Esta secuencia de comandos crea una puerta de enlace lógico, Establece las máquinas virtuales con software de Data Management Gateway instalado y éstos registra con puerta de enlace lógica de Hola.</span><span class="sxs-lookup"><span data-stu-id="0fd56-180">This script creates a logical gateway, sets up VMs with Data Management Gateway software installed, and registers them with hello logical gateway.</span></span> 
6. <span data-ttu-id="0fd56-181">En el portal de Azure, inicie hello **puerta de enlace** página:</span><span class="sxs-lookup"><span data-stu-id="0fd56-181">In Azure portal, launch hello **Gateway** page:</span></span> 
    1. <span data-ttu-id="0fd56-182">En página de inicio del generador de datos hello en el portal de hello, haga clic en **servicios vinculados**.</span><span class="sxs-lookup"><span data-stu-id="0fd56-182">On hello data factory home page in hello portal, click **Linked Services**.</span></span>
    
        ![Página principal de Factoría de datos](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-home-page.png)
    2. <span data-ttu-id="0fd56-184">Seleccione hello **puerta de enlace** toosee hello **puerta de enlace** página:</span><span class="sxs-lookup"><span data-stu-id="0fd56-184">select hello **gateway** toosee hello **Gateway** page:</span></span>
    
        ![Página principal de Factoría de datos](media/data-factory-data-management-gateway-high-availability-scalability/linked-services-gateway.png)
    4. <span data-ttu-id="0fd56-186">Vea hello **puerta de enlace** página:</span><span class="sxs-lookup"><span data-stu-id="0fd56-186">You see hello **Gateway** page:</span></span>   

        ![Puerta de enlace con la vista de un solo nodo](media/data-factory-data-management-gateway-high-availability-scalability/gateway-first-node-portal-view.png) 
7. <span data-ttu-id="0fd56-188">Haga clic en **agregar nodo** en tooadd de barra de herramientas de hello una puerta de enlace de nodo toohello lógico.</span><span class="sxs-lookup"><span data-stu-id="0fd56-188">Click **Add Node** on hello toolbar tooadd a node toohello logical gateway.</span></span> <span data-ttu-id="0fd56-189">Si tiene previsto toouse el programa de instalación rápida, realice este paso de la máquina local de Hola que se agregará como una puerta de enlace de toohello del nodo.</span><span class="sxs-lookup"><span data-stu-id="0fd56-189">If you are planning toouse express setup, do this step from hello on-premises machine that will be added as a node toohello gateway.</span></span> 

    ![Data Management Gateway: menú agregar nodo](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-add-node-menu.png)
8. <span data-ttu-id="0fd56-191">Los pasos son similar toosetting primer nodo de Hola.</span><span class="sxs-lookup"><span data-stu-id="0fd56-191">Steps are similar toosetting up hello first node.</span></span> <span data-ttu-id="0fd56-192">Hola UI del Administrador de configuración permite establecer el nombre de nodo de hello si elige la opción de instalación manual de hello:</span><span class="sxs-lookup"><span data-stu-id="0fd56-192">hello Configuration Manager UI lets you set hello node name if you choose hello manual installation option:</span></span> 

    ![Configuration Manager: instalación de la segunda puerta de enlace](media/data-factory-data-management-gateway-high-availability-scalability/install-second-gateway.png)
9. <span data-ttu-id="0fd56-194">Después de puerta de enlace de hello está instalado correctamente en el nodo de hello, herramienta de administrador de configuración de hello muestra hello después de pantalla:</span><span class="sxs-lookup"><span data-stu-id="0fd56-194">After hello gateway is installed successfully on hello node, hello Configuration Manager tool displays hello following screen:</span></span>  

    ![Configuration Manager: instalación correcta de la segunda puerta de enlace](media/data-factory-data-management-gateway-high-availability-scalability/second-gateway-installation-successful.png)
10. <span data-ttu-id="0fd56-196">Si abre hello **puerta de enlace** página en el portal de hello, verá dos nodos de puerta de enlace ahora:</span><span class="sxs-lookup"><span data-stu-id="0fd56-196">If you open hello **Gateway** page in hello portal, you see two gateway nodes now:</span></span> 

    ![Puerta de enlace con dos nodos en el portal de Hola](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-multi-node-monitoring.png)
11. <span data-ttu-id="0fd56-198">toodelete un nodo de puerta de enlace, haga clic en **eliminar nodo** en la barra de herramientas de hello, seleccione el nodo de Hola que desee toodelete y, a continuación, haga clic en **eliminar** de barra de herramientas de Hola.</span><span class="sxs-lookup"><span data-stu-id="0fd56-198">toodelete a gateway node, click **Delete Node** on hello toolbar, select hello node you want toodelete, and then click **Delete** from hello toolbar.</span></span> <span data-ttu-id="0fd56-199">Esta acción elimina el nodo seleccionado Hola de grupo de Hola.</span><span class="sxs-lookup"><span data-stu-id="0fd56-199">This action deletes hello selected node from hello group.</span></span> <span data-ttu-id="0fd56-200">Tenga en cuenta que esta acción no desinstala el software de puerta de enlace de administración de datos de Hola de nodo hello (máquina de Windows local).</span><span class="sxs-lookup"><span data-stu-id="0fd56-200">Note that this action does not uninstall hello data management gateway software from hello node (on-premises Windows machine).</span></span> <span data-ttu-id="0fd56-201">Use **agregar o quitar programas** en el Panel de Control en puerta de enlace de hello local toouninstall Hola.</span><span class="sxs-lookup"><span data-stu-id="0fd56-201">Use **Add or remove programs** in Control Panel on hello on-premises toouninstall hello gateway.</span></span> <span data-ttu-id="0fd56-202">Cuando se desinstala la puerta de enlace de nodo de hello, se elimina automáticamente en el portal de Hola.</span><span class="sxs-lookup"><span data-stu-id="0fd56-202">When you uninstall gateway from hello node, it's automatically deleted in hello portal.</span></span>   

## <a name="upgrade-an-existing-gateway"></a><span data-ttu-id="0fd56-203">Actualización de una puerta de enlace existente</span><span class="sxs-lookup"><span data-stu-id="0fd56-203">Upgrade an existing gateway</span></span>
<span data-ttu-id="0fd56-204">Puede actualizar una existente puerta de enlace toouse Hola alta disponibilidad y la característica de escalabilidad.</span><span class="sxs-lookup"><span data-stu-id="0fd56-204">You can upgrade an existing gateway toouse hello high availability and scalability feature.</span></span> <span data-ttu-id="0fd56-205">Esta característica solo funciona con nodos que tengan la puerta de enlace de hello datos administración de versión > = 2.12.xxxx.</span><span class="sxs-lookup"><span data-stu-id="0fd56-205">This feature works only with nodes that have hello data management gateway of version >= 2.12.xxxx.</span></span> <span data-ttu-id="0fd56-206">Puede ver versión de Hola de data management gateway instalado en una máquina de hello **ayuda** ficha del programa Hola a Administrador de configuración de Data Management Gateway.</span><span class="sxs-lookup"><span data-stu-id="0fd56-206">You can see hello version of data management gateway installed on a machine in hello **Help** tab of hello Data Management Gateway Configuration Manager.</span></span> 

1. <span data-ttu-id="0fd56-207">Actualizar la puerta de enlace de Hola Hola local machine toohello versión más reciente, siga por descargar y ejecutar un paquete de instalación MSI desde hello [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=39717).</span><span class="sxs-lookup"><span data-stu-id="0fd56-207">Update hello gateway on hello on-premises machine toohello latest version by following by downloading and running an MSI setup package from hello [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=39717).</span></span> <span data-ttu-id="0fd56-208">Consulte la sección [Instalación](data-factory-data-management-gateway.md#installation) para más información.</span><span class="sxs-lookup"><span data-stu-id="0fd56-208">See [installation](data-factory-data-management-gateway.md#installation) section for details.</span></span>  
2. <span data-ttu-id="0fd56-209">Navegue toohello portal de Azure.</span><span class="sxs-lookup"><span data-stu-id="0fd56-209">Navigate toohello Azure portal.</span></span> <span data-ttu-id="0fd56-210">Iniciar hello **página de la factoría de datos** de la factoría de datos.</span><span class="sxs-lookup"><span data-stu-id="0fd56-210">Launch hello **Data Factory page** for your data factory.</span></span> <span data-ttu-id="0fd56-211">Haga clic en vinculado servicios mosaico toolaunch hello **página de servicios vinculados**.</span><span class="sxs-lookup"><span data-stu-id="0fd56-211">Click Linked services tile toolaunch hello **linked services page**.</span></span> <span data-ttu-id="0fd56-212">Seleccione Hola Hola de toolaunch de puerta de enlace **página puerta de enlace**.</span><span class="sxs-lookup"><span data-stu-id="0fd56-212">Select hello gateway toolaunch hello **gateway page**.</span></span> <span data-ttu-id="0fd56-213">Haga clic en y habilitar **característica de vista previa** tal como se muestra en hello después de imagen:</span><span class="sxs-lookup"><span data-stu-id="0fd56-213">Click and enable **Preview Feature** as shown in hello following image:</span></span> 

    ![Data Management Gateway: habilitar característica versión preliminar](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-existing-gateway-enable-high-availability.png)   
2. <span data-ttu-id="0fd56-215">Una vez habilitada la característica de vista previa de hello en el portal de hello, cierre todas las páginas.</span><span class="sxs-lookup"><span data-stu-id="0fd56-215">Once hello preview feature is enabled in hello portal, close all pages.</span></span> <span data-ttu-id="0fd56-216">Vuelva a abrir hello **página puerta de enlace** toosee Hola nueva vista previa interfaz de usuario (UI).</span><span class="sxs-lookup"><span data-stu-id="0fd56-216">Reopen hello **gateway page** toosee hello new preview user interface (UI).</span></span>
 
    ![Data Management Gateway: habilitación correcta de la característica versión preliminar](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-preview-success.png)

    ![Data Management Gateway: interfaz de usuario de la versión preliminar](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-preview.png)

    > [!NOTE]
    > <span data-ttu-id="0fd56-219">Durante la actualización de Hola, nombre del primer nodo de hello es nombre de Hola de máquina de Hola.</span><span class="sxs-lookup"><span data-stu-id="0fd56-219">During hello upgrade, name of hello first node is hello name of hello machine.</span></span> 
3. <span data-ttu-id="0fd56-220">Ahora, agregue un nodo.</span><span class="sxs-lookup"><span data-stu-id="0fd56-220">Now, add a node.</span></span> <span data-ttu-id="0fd56-221">Hola **puerta de enlace** página, haga clic en **agregar nodo**.</span><span class="sxs-lookup"><span data-stu-id="0fd56-221">In hello **Gateway** page, click **Add Node**.</span></span>  

    ![Data Management Gateway: menú agregar nodo](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-add-node-menu.png)

    <span data-ttu-id="0fd56-223">Siga las instrucciones de hello anterior sección tooset nodo Hola.</span><span class="sxs-lookup"><span data-stu-id="0fd56-223">Follow instructions from hello previous section tooset up hello node.</span></span> 

### <a name="installation-best-practices"></a><span data-ttu-id="0fd56-224">Procedimientos recomendados de instalación</span><span class="sxs-lookup"><span data-stu-id="0fd56-224">Installation best practices</span></span>

- <span data-ttu-id="0fd56-225">Configurar el plan de energía en la máquina de host de Hola para puerta de enlace de Hola para que hello máquina no hibernación.</span><span class="sxs-lookup"><span data-stu-id="0fd56-225">Configure power plan on hello host machine for hello gateway so that hello machine does not hibernate.</span></span> <span data-ttu-id="0fd56-226">Si el equipo host de hello hiberna, puerta de enlace de hello no responde toodata solicitudes.</span><span class="sxs-lookup"><span data-stu-id="0fd56-226">If hello host machine hibernates, hello gateway does not respond toodata requests.</span></span>
- <span data-ttu-id="0fd56-227">Copia de seguridad asociado a la puerta de enlace de Hola de certificado de Hola.</span><span class="sxs-lookup"><span data-stu-id="0fd56-227">Back up hello certificate associated with hello gateway.</span></span>
- <span data-ttu-id="0fd56-228">Asegúrese de que todos los nodos son de una configuración similar (recomendada) para un rendimiento ideal.</span><span class="sxs-lookup"><span data-stu-id="0fd56-228">Ensure all nodes are of similar configuration (recommended) for ideal performance.</span></span> 
- <span data-ttu-id="0fd56-229">Agregar al menos dos nodos tooensure alta disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="0fd56-229">Add at least two nodes tooensure high availability.</span></span>  

### <a name="tlsssl-certificate-requirements"></a><span data-ttu-id="0fd56-230">Requisitos del certificado TLS/SSL</span><span class="sxs-lookup"><span data-stu-id="0fd56-230">TLS/SSL certificate requirements</span></span>
<span data-ttu-id="0fd56-231">Aquí son los requisitos de Hola de certificado TLS/SSL de Hola que se usa para proteger las comunicaciones entre los nodos de la puerta de enlace:</span><span class="sxs-lookup"><span data-stu-id="0fd56-231">Here are hello requirements for hello TLS/SSL certificate that is used for securing communications between gateway nodes:</span></span>

- <span data-ttu-id="0fd56-232">certificado de Hello debe ser una confianza pública X509 certificado v3.</span><span class="sxs-lookup"><span data-stu-id="0fd56-232">hello certificate must be a publicly trusted X509 v3 certificate.</span></span>
- <span data-ttu-id="0fd56-233">Todos los nodos de la puerta de enlace deben confiar en este certificado.</span><span class="sxs-lookup"><span data-stu-id="0fd56-233">All gateway nodes must trust this certificate.</span></span> 
- <span data-ttu-id="0fd56-234">Se recomienda que utilice certificados emitidos por una entidad de certificación pública (CA).</span><span class="sxs-lookup"><span data-stu-id="0fd56-234">We recommend that you use certificates that are issued by a public (third-party) certification authority (CA).</span></span>
- <span data-ttu-id="0fd56-235">Se admite cualquier tamaño de clave compatible con Windows Server 2012 R2 para los certificados SSL.</span><span class="sxs-lookup"><span data-stu-id="0fd56-235">Supports any key size supported by Windows Server 2012 R2 for SSL certificates.</span></span>
- <span data-ttu-id="0fd56-236">No se admiten certificados que utilizan claves CNG.</span><span class="sxs-lookup"><span data-stu-id="0fd56-236">Does not support certificates that use CNG keys.</span></span>
- <span data-ttu-id="0fd56-237">Se admiten certificados comodín.</span><span class="sxs-lookup"><span data-stu-id="0fd56-237">Wild-card certificates are supported.</span></span> 


## <a name="monitor-a-multi-node-gateway"></a><span data-ttu-id="0fd56-238">Supervisión de una puerta de enlace de varios nodos</span><span class="sxs-lookup"><span data-stu-id="0fd56-238">Monitor a multi-node gateway</span></span>
### <a name="multi-node-gateway-monitoring"></a><span data-ttu-id="0fd56-239">Supervisión de una puerta de enlace de varios nodos</span><span class="sxs-lookup"><span data-stu-id="0fd56-239">Multi-node gateway monitoring</span></span>
<span data-ttu-id="0fd56-240">Hola portal de Azure, puede ver la instantánea casi en tiempo real de la utilización de recursos (CPU, memoria, network(in/out), etc.) en cada nodo junto con los Estados de los nodos de puerta de enlace.</span><span class="sxs-lookup"><span data-stu-id="0fd56-240">In hello Azure portal, you can view near-real time snapshot of resource utilization (CPU, memory, network(in/out), etc.) on each node along with statuses of gateway nodes.</span></span> 

![Data Management Gateway: supervisión de varios nodos](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-multi-node-monitoring.png)

<span data-ttu-id="0fd56-242">Puede habilitar **configuración avanzada** en hello **puerta de enlace** página toosee avanzada métricas como **red**(in/out), **rol e & stado de credencial**, que es útil para depurar problemas de puerta de enlace, y **trabajos simultáneos** (ejecutando / límite) que puede ser modificado / según corresponda cambió durante la optimización del rendimiento.</span><span class="sxs-lookup"><span data-stu-id="0fd56-242">You can enable **Advanced Settings** in hello **Gateway** page toosee advanced metrics like **Network**(in/out), **Role & Credential Status**, which is helpful in debugging gateway issues, and **Concurrent Jobs** (Running/ Limit) which can be modified/ changed accordingly during performance tuning.</span></span> <span data-ttu-id="0fd56-243">Hello siguiente tabla proporcionan descripciones de las columnas de hello **nodos de puerta de enlace** lista:</span><span class="sxs-lookup"><span data-stu-id="0fd56-243">hello following table provides descriptions of columns in hello **Gateway Nodes** list:</span></span>  

<span data-ttu-id="0fd56-244">Propiedad de supervisión</span><span class="sxs-lookup"><span data-stu-id="0fd56-244">Monitoring Property</span></span> | <span data-ttu-id="0fd56-245">Descripción</span><span class="sxs-lookup"><span data-stu-id="0fd56-245">Description</span></span>
:------------------ | :---------- 
<span data-ttu-id="0fd56-246">Nombre</span><span class="sxs-lookup"><span data-stu-id="0fd56-246">Name</span></span> | <span data-ttu-id="0fd56-247">Nombre de puerta de enlace lógica de Hola y nodos asociados a la puerta de enlace de Hola.</span><span class="sxs-lookup"><span data-stu-id="0fd56-247">Name of hello logical gateway and nodes associated with hello gateway.</span></span>  
<span data-ttu-id="0fd56-248">Estado</span><span class="sxs-lookup"><span data-stu-id="0fd56-248">Status</span></span> | <span data-ttu-id="0fd56-249">Estado de la puerta de enlace lógica de Hola y nodos de puerta de enlace de Hola.</span><span class="sxs-lookup"><span data-stu-id="0fd56-249">Status of hello logical gateway and hello gateway nodes.</span></span> <span data-ttu-id="0fd56-250">Ejemplo: En línea, Sin conexión, Limitado, etc. Para obtener información acerca de estos estados, consulte la sección [Estado de la puerta de enlace](#gateway-status).</span><span class="sxs-lookup"><span data-stu-id="0fd56-250">Example: Online/Offline/Limited/etc. For information about these statuses, See [Gateway status](#gateway-status) section.</span></span> 
<span data-ttu-id="0fd56-251">Versión</span><span class="sxs-lookup"><span data-stu-id="0fd56-251">Version</span></span> | <span data-ttu-id="0fd56-252">Muestra la versión de Hola de puerta de enlace lógica de Hola y cada nodo de puerta de enlace.</span><span class="sxs-lookup"><span data-stu-id="0fd56-252">Shows hello version of hello logical gateway and each gateway node.</span></span> <span data-ttu-id="0fd56-253">versión de Hola de puerta de enlace lógica de Hola se determina en función de la versión de la mayoría de los nodos de grupo de Hola.</span><span class="sxs-lookup"><span data-stu-id="0fd56-253">hello version of hello logical gateway is determined based on version of majority of nodes in hello group.</span></span> <span data-ttu-id="0fd56-254">Si hay nodos con versiones diferentes en el programa de instalación de puerta de enlace lógico de hello, solo los nodos de hello con Hola mismo número de versión como función de la lógica de la puerta de enlace de hello correctamente.</span><span class="sxs-lookup"><span data-stu-id="0fd56-254">If there are nodes with different versions in hello logical gateway setup, only hello nodes with hello same version number as hello logical gateway function properly.</span></span> <span data-ttu-id="0fd56-255">Otros están en modo limited hello y necesitan toobe actualizado manualmente (solo en caso de que se produce un error en la actualización automática).</span><span class="sxs-lookup"><span data-stu-id="0fd56-255">Others are in hello limited mode and need toobe manually updated (only in case auto-update fails).</span></span> 
<span data-ttu-id="0fd56-256">Memoria disponible</span><span class="sxs-lookup"><span data-stu-id="0fd56-256">Available memory</span></span> | <span data-ttu-id="0fd56-257">Memoria disponible en un nodo de la puerta de enlace.</span><span class="sxs-lookup"><span data-stu-id="0fd56-257">Available memory on a gateway node.</span></span> <span data-ttu-id="0fd56-258">Este valor es una instantánea casi en tiempo real.</span><span class="sxs-lookup"><span data-stu-id="0fd56-258">This value is a near real-time snapshot.</span></span> 
<span data-ttu-id="0fd56-259">Uso de CPU</span><span class="sxs-lookup"><span data-stu-id="0fd56-259">CPU utilization</span></span> | <span data-ttu-id="0fd56-260">Uso de CPU de un nodo de la puerta de enlace.</span><span class="sxs-lookup"><span data-stu-id="0fd56-260">CPU utilization of a gateway node.</span></span> <span data-ttu-id="0fd56-261">Este valor es una instantánea casi en tiempo real.</span><span class="sxs-lookup"><span data-stu-id="0fd56-261">This value is a near real-time snapshot.</span></span> 
<span data-ttu-id="0fd56-262">Redes (Entrada/Salida)</span><span class="sxs-lookup"><span data-stu-id="0fd56-262">Networking (In/Out)</span></span> | <span data-ttu-id="0fd56-263">Uso de red de un nodo de la puerta de enlace.</span><span class="sxs-lookup"><span data-stu-id="0fd56-263">Network utilization of a gateway node.</span></span> <span data-ttu-id="0fd56-264">Este valor es una instantánea casi en tiempo real.</span><span class="sxs-lookup"><span data-stu-id="0fd56-264">This value is a near real-time snapshot.</span></span> 
<span data-ttu-id="0fd56-265">Trabajos simultáneos (En ejecución / Límite)</span><span class="sxs-lookup"><span data-stu-id="0fd56-265">Concurrent Jobs (Running/ Limit)</span></span> | <span data-ttu-id="0fd56-266">Número de trabajos o tareas que se ejecutan en cada nodo.</span><span class="sxs-lookup"><span data-stu-id="0fd56-266">Number of jobs or tasks running on each node.</span></span> <span data-ttu-id="0fd56-267">Este valor es una instantánea casi en tiempo real.</span><span class="sxs-lookup"><span data-stu-id="0fd56-267">This value is a near real-time snapshot.</span></span> <span data-ttu-id="0fd56-268">Límite significa Hola máxima simultáneas de trabajos para cada nodo.</span><span class="sxs-lookup"><span data-stu-id="0fd56-268">Limit signifies hello maximum concurrent jobs for each node.</span></span> <span data-ttu-id="0fd56-269">Este valor se define basándose en el tamaño de la máquina de Hola.</span><span class="sxs-lookup"><span data-stu-id="0fd56-269">This value is defined based on hello machine size.</span></span> <span data-ttu-id="0fd56-270">Puede aumentar Hola límite tooscale la ejecución de trabajo simultáneas en escenarios avanzados, donde CPU / memoria / red es en exceso, pero las actividades se agote. Esta funcionalidad también está disponible con una puerta de enlace de un único nodo (incluso cuando no está habilitada la característica de escalabilidad y disponibilidad de hello).</span><span class="sxs-lookup"><span data-stu-id="0fd56-270">You can increase hello limit tooscale up concurrent job execution in advanced scenarios, where CPU/ memory/ network is under-utilized, but activities are timing out. This capability is also available with a single-node gateway (even when hello scalability and availability feature is not enabled).</span></span> <span data-ttu-id="0fd56-271">Para más información, consulte la sección [Consideraciones para el escalado](#scale-considerations).</span><span class="sxs-lookup"><span data-stu-id="0fd56-271">For more information, see [scale considerations](#scale-considerations) section.</span></span> 
<span data-ttu-id="0fd56-272">Rol</span><span class="sxs-lookup"><span data-stu-id="0fd56-272">Role</span></span> | <span data-ttu-id="0fd56-273">Hay dos tipos de roles: distribuidor y de trabajo.</span><span class="sxs-lookup"><span data-stu-id="0fd56-273">There are two types of roles – Dispatcher and worker.</span></span> <span data-ttu-id="0fd56-274">Todos los nodos son trabajadores, lo que significa que todos ellos pueden tener trabajos tooexecute usado.</span><span class="sxs-lookup"><span data-stu-id="0fd56-274">All nodes are workers, which means they can all be used tooexecute jobs.</span></span> <span data-ttu-id="0fd56-275">Hay solo un nodo de distribuidor, que es usado toopull tareas y trabajos de servicios en la nube y enviarlos toodifferent nodos de trabajador (incluido él mismo).</span><span class="sxs-lookup"><span data-stu-id="0fd56-275">There is only one dispatcher node, which is used toopull tasks/jobs from cloud services and dispatch them toodifferent worker nodes (including itself).</span></span> 

![Data Management Gateway: supervisión avanzada de varios nodos](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-multi-node-monitoring-advanced.png)

### <a name="gateway-status"></a><span data-ttu-id="0fd56-277">Estado de la puerta de enlace</span><span class="sxs-lookup"><span data-stu-id="0fd56-277">Gateway status</span></span>

<span data-ttu-id="0fd56-278">Hello tabla siguiente proporciona los Estados posibles de un **nodo de puerta de enlace**:</span><span class="sxs-lookup"><span data-stu-id="0fd56-278">hello following table provides possible statuses of a **gateway node**:</span></span> 

<span data-ttu-id="0fd56-279">Estado</span><span class="sxs-lookup"><span data-stu-id="0fd56-279">Status</span></span>  | <span data-ttu-id="0fd56-280">Comentarios/Escenarios</span><span class="sxs-lookup"><span data-stu-id="0fd56-280">Comments/Scenarios</span></span>
:------- | :------------------
<span data-ttu-id="0fd56-281">En línea</span><span class="sxs-lookup"><span data-stu-id="0fd56-281">Online</span></span> | <span data-ttu-id="0fd56-282">Conectado el nodo del servicio de factoría de tooData.</span><span class="sxs-lookup"><span data-stu-id="0fd56-282">Node connected tooData Factory service.</span></span>
<span data-ttu-id="0fd56-283">Sin conexión</span><span class="sxs-lookup"><span data-stu-id="0fd56-283">Offline</span></span> | <span data-ttu-id="0fd56-284">El nodo está sin conexión.</span><span class="sxs-lookup"><span data-stu-id="0fd56-284">Node is offline.</span></span>
<span data-ttu-id="0fd56-285">Actualizando</span><span class="sxs-lookup"><span data-stu-id="0fd56-285">Upgrading</span></span> | <span data-ttu-id="0fd56-286">nodo de Hola se va a actualizar automáticamente.</span><span class="sxs-lookup"><span data-stu-id="0fd56-286">hello node is being auto-updated.</span></span>
<span data-ttu-id="0fd56-287">Limitado</span><span class="sxs-lookup"><span data-stu-id="0fd56-287">Limited</span></span> | <span data-ttu-id="0fd56-288">Pagar tooConnectivity problema.</span><span class="sxs-lookup"><span data-stu-id="0fd56-288">Due tooConnectivity issue.</span></span> <span data-ttu-id="0fd56-289">Puede ser debido a la emisión de puerto 8050 tooHTTP, problema de conectividad del bus de servicio o problema de sincronización de credenciales.</span><span class="sxs-lookup"><span data-stu-id="0fd56-289">May be due tooHTTP port 8050 issue, service bus connectivity issue, or credential sync issue.</span></span> 
<span data-ttu-id="0fd56-290">Inactivo</span><span class="sxs-lookup"><span data-stu-id="0fd56-290">Inactive</span></span> | <span data-ttu-id="0fd56-291">Nodo se encuentra en una configuración diferente de la configuración de Hola de otros nodos de mayoría.</span><span class="sxs-lookup"><span data-stu-id="0fd56-291">Node is in a configuration different from hello configuration of other majority nodes.</span></span><br/><br/> <span data-ttu-id="0fd56-292">Un nodo puede estar inactivo cuando no puede conectarse tooother nodos.</span><span class="sxs-lookup"><span data-stu-id="0fd56-292">A node can be inactive when it cannot connect tooother nodes.</span></span> 


<span data-ttu-id="0fd56-293">Hello tabla siguiente proporciona los Estados posibles de un **puerta de enlace lógico**.</span><span class="sxs-lookup"><span data-stu-id="0fd56-293">hello following table provides possible statuses of a **logical gateway**.</span></span> <span data-ttu-id="0fd56-294">estado de la puerta de enlace de Hello depende de Estados de nodos de la puerta de enlace de Hola.</span><span class="sxs-lookup"><span data-stu-id="0fd56-294">hello gateway status depends on statuses of hello gateway nodes.</span></span> 

<span data-ttu-id="0fd56-295">Estado</span><span class="sxs-lookup"><span data-stu-id="0fd56-295">Status</span></span> | <span data-ttu-id="0fd56-296">Comentarios</span><span class="sxs-lookup"><span data-stu-id="0fd56-296">Comments</span></span>
:----- | :-------
<span data-ttu-id="0fd56-297">Debe registrarse</span><span class="sxs-lookup"><span data-stu-id="0fd56-297">Needs Registration</span></span> | <span data-ttu-id="0fd56-298">Ningún nodo aún está registrado toothis lógico puerta de enlace</span><span class="sxs-lookup"><span data-stu-id="0fd56-298">No node is yet registered toothis logical gateway</span></span>
<span data-ttu-id="0fd56-299">En línea</span><span class="sxs-lookup"><span data-stu-id="0fd56-299">Online</span></span> | <span data-ttu-id="0fd56-300">Los nodos de la puerta de enlace están en línea</span><span class="sxs-lookup"><span data-stu-id="0fd56-300">Gateway Nodes are online</span></span>
<span data-ttu-id="0fd56-301">Sin conexión</span><span class="sxs-lookup"><span data-stu-id="0fd56-301">Offline</span></span> | <span data-ttu-id="0fd56-302">Ningún nodo está en línea.</span><span class="sxs-lookup"><span data-stu-id="0fd56-302">No node in online status.</span></span>
<span data-ttu-id="0fd56-303">Limitado</span><span class="sxs-lookup"><span data-stu-id="0fd56-303">Limited</span></span> | <span data-ttu-id="0fd56-304">No todos los nodos de la puerta de enlace están en buen estado.</span><span class="sxs-lookup"><span data-stu-id="0fd56-304">Not all nodes in this gateway are in healthy state.</span></span> <span data-ttu-id="0fd56-305">Este estado es una advertencia de que alguno de los nodos podría estar inactivo.</span><span class="sxs-lookup"><span data-stu-id="0fd56-305">This status is a warning that some node might be down!</span></span> <br/><br/><span data-ttu-id="0fd56-306">Puede ser debido a toocredential problema de sincronización en el nodo de distribuidor o de trabajo.</span><span class="sxs-lookup"><span data-stu-id="0fd56-306">Could be due toocredential sync issue on dispatcher/worker node.</span></span> 

### <a name="pipeline-activities-monitoring"></a><span data-ttu-id="0fd56-307">Supervisión de canalización y actividades</span><span class="sxs-lookup"><span data-stu-id="0fd56-307">Pipeline/ activities monitoring</span></span>
<span data-ttu-id="0fd56-308">Hola portal de Azure proporciona una canalización de supervisión con detalles de nivel de nodo específico.</span><span class="sxs-lookup"><span data-stu-id="0fd56-308">hello Azure portal provides a pipeline monitoring experience with granular node level details.</span></span> <span data-ttu-id="0fd56-309">Por ejemplo, muestra las actividades que se ejecutaron en cada nodo.</span><span class="sxs-lookup"><span data-stu-id="0fd56-309">For example, it shows which activities ran on which node.</span></span> <span data-ttu-id="0fd56-310">Esta información puede ser útil para comprender los problemas de rendimiento en un nodo determinado, digamos debido a la limitación de toonetwork.</span><span class="sxs-lookup"><span data-stu-id="0fd56-310">This information can be helpful in understanding performance issues on a particular node, say due toonetwork throttling.</span></span> 

![Data Management Gateway: supervisión de varios nodos para canalizaciones](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-multi-node-monitoring-pipelines.png)

![Data Management Gateway: detalles de canalización](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-multi-node-pipeline-details.png)

## <a name="scale-considerations"></a><span data-ttu-id="0fd56-313">Consideraciones de escala</span><span class="sxs-lookup"><span data-stu-id="0fd56-313">Scale considerations</span></span>

### <a name="scale-out"></a><span data-ttu-id="0fd56-314">Escalado horizontal</span><span class="sxs-lookup"><span data-stu-id="0fd56-314">Scale out</span></span>
<span data-ttu-id="0fd56-315">Cuando Hola **memoria disponible sea baja** hello y **el uso de CPU es alto**, agregar un nuevo nodo ayuda a escalar horizontalmente la carga de hello en los equipos.</span><span class="sxs-lookup"><span data-stu-id="0fd56-315">When hello **available memory is low** and hello **CPU usage is high**, adding a new node helps scale out hello load across machines.</span></span> <span data-ttu-id="0fd56-316">Si se producen errores en las actividades de vencimiento nodo tootime horizontal o puerta de enlace está sin conexión, será útil si agrega una puerta de enlace de toohello del nodo.</span><span class="sxs-lookup"><span data-stu-id="0fd56-316">If activities are failing due tootime-out or gateway node being offline, it helps if you add a node toohello gateway.</span></span>
 
### <a name="scale-up"></a><span data-ttu-id="0fd56-317">Escalado vertical</span><span class="sxs-lookup"><span data-stu-id="0fd56-317">Scale up</span></span>
<span data-ttu-id="0fd56-318">Cuando Hola disponible memoria y CPU no se utilizan también, pero la capacidad inactiva hello es 0, se debe escalar verticalmente aumentando el número de Hola de trabajos simultáneos que se pueden ejecutar en un nodo.</span><span class="sxs-lookup"><span data-stu-id="0fd56-318">When hello available memory and CPU are not utilized well, but hello idle capacity is 0, you should scale up by increasing hello number of concurrent jobs that can run on a node.</span></span> <span data-ttu-id="0fd56-319">También puede que desee tooscale seguridad cuando las actividades se agota el tiempo porque la puerta de enlace de hello está sobrecargado.</span><span class="sxs-lookup"><span data-stu-id="0fd56-319">You may also want tooscale up when activities are timing out because hello gateway is overloaded.</span></span> <span data-ttu-id="0fd56-320">Como se muestra en hello después de la imagen, puede aumentar la capacidad máxima de Hola para un nodo.</span><span class="sxs-lookup"><span data-stu-id="0fd56-320">As shown in hello following image, you can increase hello maximum capacity for a node.</span></span> <span data-ttu-id="0fd56-321">Se recomienda duplicándolo toostart con.</span><span class="sxs-lookup"><span data-stu-id="0fd56-321">We suggest doubling it toostart with.</span></span>  

![Data Management Gateway: consideraciones de escala](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-scale-considerations.png)


## <a name="known-issuesbreaking-changes"></a><span data-ttu-id="0fd56-323">Problemas conocidos y cambios relevantes</span><span class="sxs-lookup"><span data-stu-id="0fd56-323">Known issues/breaking changes</span></span>

- <span data-ttu-id="0fd56-324">Actualmente, puede tener hasta toofour nodos de puerta de enlace física para una sola puerta de enlace lógico.</span><span class="sxs-lookup"><span data-stu-id="0fd56-324">Currently, you can have up toofour physical gateway nodes for a single logical gateway.</span></span> <span data-ttu-id="0fd56-325">Si tiene más de cuatro nodos por motivos de rendimiento, envíe un correo electrónico demasiado[DMGHelp@microsoft.com](mailto:DMGHelp@microsoft.com).</span><span class="sxs-lookup"><span data-stu-id="0fd56-325">If you need more than four nodes for performance reasons, send an email too[DMGHelp@microsoft.com](mailto:DMGHelp@microsoft.com).</span></span>
- <span data-ttu-id="0fd56-326">Volver a no se puede registrar un nodo de puerta de enlace con la clave de autenticación de Hola desde otro tooswitch de lógica de la puerta de enlace de puerta de enlace lógico Hola actual.</span><span class="sxs-lookup"><span data-stu-id="0fd56-326">You cannot re-register a gateway node with hello authentication key from another logical gateway tooswitch from hello current logical gateway.</span></span> <span data-ttu-id="0fd56-327">toore el registro, desinstale la puerta de enlace de Hola de nodo de hello, reinstalar la puerta de enlace de Hola y registrarlo con clave de autenticación de Hola para hello otra puerta de enlace lógico.</span><span class="sxs-lookup"><span data-stu-id="0fd56-327">toore-register, uninstall hello gateway from hello node, reinstall hello gateway, and register it with hello authentication key for hello other logical gateway.</span></span> 
- <span data-ttu-id="0fd56-328">Si se requiere el proxy HTTP para todos los nodos de puerta de enlace, configurar servidor proxy de hello en diahost.exe.config y diawp.exe.config y use Hola server manager toomake seguro ha Hola a todos los nodos del mismo diahost.exe.config y diawip.exe.config. Consulte la sección [configurar el proxy](data-factory-data-management-gateway.md#configure-proxy-server-settings) para más información.</span><span class="sxs-lookup"><span data-stu-id="0fd56-328">If HTTP proxy is required for all your gateway nodes, set hello proxy in diahost.exe.config and diawp.exe.config, and use hello server manager toomake sure all nodes have hello same diahost.exe.config and diawip.exe.config. See [configure proxy settings](data-factory-data-management-gateway.md#configure-proxy-server-settings) section for details.</span></span> 
- <span data-ttu-id="0fd56-329">toochange el modo de cifrado para la comunicación de nodo a nodo en el Administrador de configuración de puerta de enlace, elimine todos los nodos de hello en el portal de hello excepto uno.</span><span class="sxs-lookup"><span data-stu-id="0fd56-329">toochange encryption mode for node-to-node communication in Gateway Configuration Manager, delete all hello nodes in hello portal except one.</span></span> <span data-ttu-id="0fd56-330">A continuación, agregar nodos al cambiar el modo de cifrado de Hola.</span><span class="sxs-lookup"><span data-stu-id="0fd56-330">Then, add nodes back after changing hello encryption mode.</span></span>
- <span data-ttu-id="0fd56-331">Usar un certificado SSL oficial si opta por canal de comunicación de nodo a nodo hello tooencrypt.</span><span class="sxs-lookup"><span data-stu-id="0fd56-331">Use an official SSL certificate if you choose tooencrypt hello node-to-node communication channel.</span></span> <span data-ttu-id="0fd56-332">Certificado autofirmado puede provocar problemas de conectividad como Hola mismo certificado no puede ser de confianza en la lista de entidad de certificación en otros equipos.</span><span class="sxs-lookup"><span data-stu-id="0fd56-332">Self-signed certificate may cause connectivity issues as hello same certificate may not be trusted in certifying authority list on other machines.</span></span> 
- <span data-ttu-id="0fd56-333">No se puede registrar una puerta de enlace lógico de la tooa del nodo puerta de enlace cuando la versión del nodo hello es anterior a la versión de la lógica de la puerta de enlace de Hola.</span><span class="sxs-lookup"><span data-stu-id="0fd56-333">You cannot register a gateway node tooa logical gateway when hello node version is lower than hello logical gateway version.</span></span> <span data-ttu-id="0fd56-334">Eliminar todos los nodos de puerta de enlace lógica de Hola desde portal para que pueda registrar un node(downgrade) versión menor.</span><span class="sxs-lookup"><span data-stu-id="0fd56-334">Delete all nodes of hello logical gateway from portal so that you can register a lower version node(downgrade) it.</span></span> <span data-ttu-id="0fd56-335">Si elimina todos los nodos de una puerta de enlace lógico, instalar y registrar manualmente nuevos nodos toothat lógico puerta de enlace.</span><span class="sxs-lookup"><span data-stu-id="0fd56-335">If you delete all nodes of a logical gateway, manually install and register new nodes toothat logical gateway.</span></span> <span data-ttu-id="0fd56-336">La instalación rápida no se admite en este caso.</span><span class="sxs-lookup"><span data-stu-id="0fd56-336">Express setup is not supported in this case.</span></span>
- <span data-ttu-id="0fd56-337">No se puede usar el programa de instalación rápida tooinstall nodos tooan lógico puerta de enlace existente, que todavía se está usando credenciales de la nube.</span><span class="sxs-lookup"><span data-stu-id="0fd56-337">You cannot use express setup tooinstall nodes tooan existing logical gateway, which is still using cloud credentials.</span></span> <span data-ttu-id="0fd56-338">Puede comprobar donde se almacenan las credenciales de Hola de hello Administrador de configuración de puerta de enlace en la ficha de configuración de Hola.</span><span class="sxs-lookup"><span data-stu-id="0fd56-338">You can check where hello credentials are stored from hello Gateway Configuration Manager on hello Settings tab.</span></span>
- <span data-ttu-id="0fd56-339">No se puede usar el programa de instalación rápida tooinstall nodos tooan lógico puerta de enlace existente, que tiene habilitado el cifrado de nodo a nodo.</span><span class="sxs-lookup"><span data-stu-id="0fd56-339">You cannot use express setup tooinstall nodes tooan existing logical gateway, which has node-to-node encryption enabled.</span></span> <span data-ttu-id="0fd56-340">Como establecer el modo de cifrado de hello implica agregar manualmente los certificados, instalación de express es no hay más de una opción.</span><span class="sxs-lookup"><span data-stu-id="0fd56-340">As setting hello encryption mode involves manually adding certificates, express install is no more an option.</span></span> 
- <span data-ttu-id="0fd56-341">Para la copia de archivos desde el entorno local, no debe usar \\localhost o C:\archivos puesto que localhost o la unidad local podrían no ser accesibles en todos los nodos.</span><span class="sxs-lookup"><span data-stu-id="0fd56-341">For a file copy from on-premises environment, you should not use \\localhost or C:\files anymore since localhost or local drive might not be accessible via all nodes.</span></span> <span data-ttu-id="0fd56-342">En su lugar, use \\ubicación de los archivos ServerName\files toospecify.</span><span class="sxs-lookup"><span data-stu-id="0fd56-342">Instead, use \\ServerName\files toospecify files’ location.</span></span>


## <a name="rolling-back-from-hello-preview"></a><span data-ttu-id="0fd56-343">Reversión de vista previa de Hola</span><span class="sxs-lookup"><span data-stu-id="0fd56-343">Rolling back from hello preview</span></span> 
<span data-ttu-id="0fd56-344">tooroll de vista previa de hello, elimine todos los nodos pero un nodo.</span><span class="sxs-lookup"><span data-stu-id="0fd56-344">tooroll back from hello preview, delete all nodes but one node.</span></span> <span data-ttu-id="0fd56-345">No importa qué nodos, eliminar, pero asegúrese de que tener al menos un nodo de puerta de enlace lógica de Hola.</span><span class="sxs-lookup"><span data-stu-id="0fd56-345">It doesn’t matter which nodes you delete, but ensure you have at least one node in hello logical gateway.</span></span> <span data-ttu-id="0fd56-346">Puede eliminar un nodo mediante la desinstalación de puerta de enlace en la máquina de Hola o mediante el uso de hello portal de Azure.</span><span class="sxs-lookup"><span data-stu-id="0fd56-346">You can delete a node either by uninstalling gateway on hello machine or by using hello Azure portal.</span></span> <span data-ttu-id="0fd56-347">En el portal de Azure, en Hola Hola **factoría de datos** página, haga clic en Hola de vinculado servicios toolaunch **servicios vinculados** página.</span><span class="sxs-lookup"><span data-stu-id="0fd56-347">In hello Azure portal, in hello **Data Factory** page, click Linked services toolaunch hello **Linked services** page.</span></span> <span data-ttu-id="0fd56-348">Seleccione Hola Hola de toolaunch de puerta de enlace **puerta de enlace** página.</span><span class="sxs-lookup"><span data-stu-id="0fd56-348">Select hello gateway toolaunch hello **Gateway** page.</span></span> <span data-ttu-id="0fd56-349">En la página de la puerta de enlace de hello, puede ver nodos Hola asociados a la puerta de enlace de Hola.</span><span class="sxs-lookup"><span data-stu-id="0fd56-349">In hello Gateway page, you can see hello nodes associated with hello gateway.</span></span> <span data-ttu-id="0fd56-350">Hola página permite eliminar un nodo de puerta de enlace de Hola.</span><span class="sxs-lookup"><span data-stu-id="0fd56-350">hello page lets you delete a node from hello gateway.</span></span>
 
<span data-ttu-id="0fd56-351">Después de eliminar, haga clic en **características de vista previa** Hola la misma página de portal de Azure y deshabilitar la característica de vista previa de Hola.</span><span class="sxs-lookup"><span data-stu-id="0fd56-351">After deleting, click **preview features** in hello same Azure portal page, and disable hello preview feature.</span></span> <span data-ttu-id="0fd56-352">Restablecimiento de la puerta de enlace puerta de enlace tooone nodo GA (disponibilidad general).</span><span class="sxs-lookup"><span data-stu-id="0fd56-352">You have reset your gateway tooone node GA (general availability) gateway.</span></span>


## <a name="next-steps"></a><span data-ttu-id="0fd56-353">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="0fd56-353">Next steps</span></span>
<span data-ttu-id="0fd56-354">Revisar Hola siguientes artículos:</span><span class="sxs-lookup"><span data-stu-id="0fd56-354">Review hello following articles:</span></span>
- <span data-ttu-id="0fd56-355">[Data Management Gateway](data-factory-data-management-gateway.md) -ofrece una introducción detallada de puerta de enlace de Hola.</span><span class="sxs-lookup"><span data-stu-id="0fd56-355">[Data Management Gateway](data-factory-data-management-gateway.md) - provides a detailed overview of hello gateway.</span></span>
- <span data-ttu-id="0fd56-356">[Movimiento de datos entre equipos locales y almacenes de datos en la nube](data-factory-move-data-between-onprem-and-cloud.md): contiene un tutorial con instrucciones paso a paso para usar una puerta de enlace con un único nodo.</span><span class="sxs-lookup"><span data-stu-id="0fd56-356">[Move data between on-premises and cloud data stores](data-factory-move-data-between-onprem-and-cloud.md) - contains a walkthrough with step-by-step instructions for using a gateway with a single node.</span></span> 
